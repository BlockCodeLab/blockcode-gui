import{render as h5} from"preact";import{useEffect as n2} from"preact/hooks";import{LocalesProvider as b5,EditorProvider as y5,useLocale as p5} from"@blockcode/core";import{useState as W1} from"preact/hooks";import{useLocale as T5,useEditor as x5} from"@blockcode/core";import{classNames as g5} from"@blockcode/ui";import{useReducer as O8} from"preact/hooks";function h1(){const[$,v]=O8(C8,a);return{...$,clearLayout(){v({type:j1})},setLayout(q){v({type:T1,payload:q})},selectTab(q){v({type:x1,payload:q})},addTabs(q){v({type:g1,payload:q})}}}var j1="CLEAR_LAYOUT",T1="SET_LAYOUT",x1="SELECT_TAB",g1="ADD_TABS",a={menus:[],tabs:[],sidebars:[],pane:!1,tutorials:!1,canEditProjectName:!1,selectedTabIndex:-1},C8=($,v)=>{switch(v.type){case j1:return Object.assign({},a);case T1:return Object.assign({},a,v.payload);case x1:return{...$,selectedTabIndex:v.payload};case g1:return{...$,tabs:[...$.tabs,...v.payload]};default:return $}};import{useReducer as k8} from"preact/hooks";function y1(){const[$,v]=k8(_8,P8);return{...$,setAlert(q,f=0){if(!q.id)q.id=Date.now().toString(36);if(v({type:b1,payload:q}),f>0)setTimeout(()=>{v({type:s,payload:q.id})},f)},removeAlert(q){v({type:s,payload:q})}}}var b1="SET_ALERT",s="REMOVE_ALERT",P8={alerts:[]},_8=($,v)=>{switch(v.type){case b1:if($.alerts.find((q)=>q.id===v.payload.id))return{alerts:$.alerts.map((q)=>{if(q.id===v.payload.id)return{...q,...v.payload};return q})};return{alerts:[...$.alerts,v.payload]};case s:return{alerts:$.alerts.filter((q)=>q.id!==v.payload)};default:return $}};import{classNames as L8} from"@blockcode/ui";function M($){const v=globalThis.document,q=v.createElement("style");q.appendChild(v.createTextNode($)),v.head.append(q)}M(".Q6Ho6a_alerts-wrapper{z-index:var(--z-index-alerts);top:calc(var(--menu-bar-height) + var(--space));pointer-events:none;justify-content:center;width:100%;display:flex;position:absolute}.Q6Ho6a_alert-wrapper{pointer-events:all;border-radius:.5rem;flex-direction:row;justify-content:flex-start;min-width:200px;max-width:548px;min-height:1.5rem;margin-bottom:7px;padding:.875rem 1rem;display:flex;overflow:hidden}.Q6Ho6a_warn{background:#fff0df;border:1px solid #ff8c1a;box-shadow:0 0 0 2px #ff8c1a40}.Q6Ho6a_success{background:var(--extensions-light);border:1px solid var(--extensions-tertiary);-webkit-box-shadow:0 0 0 2px #c3efe2;box-shadow:0px 0px 0px 2px var(--extensions-light)}.Q6Ho6a_icon{min-width:1.25rem;min-height:1.25rem;padding-right:1rem;display:flex}.Q6Ho6a_message{color:#555;justify-content:flex-end;align-items:center;padding-right:.5rem;font-size:.8125rem;font-weight:700;line-height:.875rem;display:flex}.Q6Ho6a_buttons{flex-direction:row;display:flex}");var C={alertsWrapper:"Q6Ho6a_alerts-wrapper",success:"Q6Ho6a_success",message:"Q6Ho6a_message",alertWrapper:"Q6Ho6a_alert-wrapper",icon:"Q6Ho6a_icon",buttons:"Q6Ho6a_buttons",warn:"Q6Ho6a_warn"};import{jsx as m} from"preact/jsx-runtime";function t({warn:$,icon:v,message:q,onOk:f,onCancel:B,onClose:X}){const J=f||B||X;return m("div",{className:L8(C.alertWrapper,$?C.warn:C.success),children:[m("div",{className:C.icon,children:v}),m("div",{className:C.message,children:q}),J&&m("div",{className:C.buttons})]})}import{jsx as p1} from"preact/jsx-runtime";function e({items:$}){return p1("div",{className:C.alertsWrapper,children:$.map((v)=>p1(t,{mode:v.mode,icon:v.icon,message:v.message}))})}import{useLocale as t8,supportLanguages as e8} from"@blockcode/core";import{classNames as c,Menu as n1,MenuItem as l1,MenuSection as v5,ComingSoon as $5} from"@blockcode/ui";import{cloneElement as g8} from"preact";import{flatChildren as h8} from"@blockcode/core";import{Menu as b8} from"@blockcode/ui";function S($){Object.assign(u1,$),j8()}var u1={},v1=document.createElement("div"),d1=document.createElement("style");document.body.insertBefore(d1,document.body.firstChild);var S8=($)=>{return v1.style="",Object.entries($).forEach(([v,q])=>v1.style[v]=q),v1.style.cssText},j8=()=>{d1.textContent=Object.entries(u1).map(([$,v])=>`${$}{${S8(v)}}`).join("\n")};import{classNames as T8} from"@blockcode/ui";M("._5fP0_a_menu-bar{box-sizing:border-box;height:var(--menu-bar-height);font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:var(--menu-bar-standard-font-size);background-color:var(--motion-primary);color:var(--ui-white);flex-flow:row;justify-content:space-between;font-weight:700;display:flex}._5fP0_a_menu-bar-item{color:var(--ui-white);user-select:none;white-space:nowrap;height:var(--menu-bar-height);align-self:center;align-items:center;padding:0 .25rem;text-decoration:none;display:flex;position:relative}._5fP0_a_menu-bar-item._5fP0_a_growable{max-width:var(--menu-bar-item-max-width);flex:1}._5fP0_a_main-menu{flex-flow:row;flex-grow:1;justify-content:flex-start;align-items:center;display:flex}._5fP0_a_right-menu{flex-flow:row;justify-content:flex-start;align-items:center;display:flex}._5fP0_a_menu-label{padding:0 .75rem}._5fP0_a_language-label{width:var(--language-selector-width);padding:0 .5rem}input._5fP0_a_menu-label{display:none}input._5fP0_a_menu-label+._5fP0_a_menu-bar-item:hover{cursor:pointer;background:var(--ui-black-transparent)}input._5fP0_a_menu-label:checked+._5fP0_a_menu-bar-item{background:var(--ui-black-transparent)}._5fP0_a_menu{top:var(--menu-bar-height);z-index:var(--z-index-menu-bar);border-radius:0 0 var(--space)var(--space);color:var(--ui-white);background:var(--motion-primary);min-width:186px;display:none}._5fP0_a_menu-item{font-weight:700}._5fP0_a_menu-item:hover{background:var(--ui-black-transparent)}._5fP0_a_language-icon{vertical-align:middle;height:1.5rem}._5fP0_a_language-caret{margin:0 .125rem}._5fP0_a_check-icon{margin-right:calc(var(--space)/2);visibility:hidden;width:14px}._5fP0_a_check-icon._5fP0_a_checked{visibility:visible}._5fP0_a_divider{border-right:1px dashed var(--ui-black-transparent);height:34px;margin:0 .5rem}._5fP0_a_hoverable:hover{cursor:pointer;background:var(--ui-black-transparent)}._5fP0_a_tutorials-icon{margin-right:.35rem}._5fP0_a_title-field{border:1px dashed var(--ui-black-transparent);border-radius:var(--form-radius);-webkit-border-radius:var(--form-radius);-moz-border-radius:var(--form-radius);background-color:var(--ui-white-transparent);color:var(--ui-white);-webkit-background-clip:padding-box;background-clip:padding-box;height:auto;padding:.5rem;font-size:.8rem;font-weight:700}._5fP0_a_title-field::placeholder{color:var(--ui-white);font-size:.8rem;font-style:italic;font-weight:400}._5fP0_a_title-field:hover{background-color:#ffffff80}._5fP0_a_title-field:focus{border:1px solid var(--ui-transparent);-webkit-box-shadow:0 0 0 calc(var(--space)*.5)var(--ui-white-transparent);box-shadow:0 0 0 calc(var(--space)*.5)var(--ui-white-transparent);background-color:var(--ui-white);color:var(--text-primary);outline:none}._5fP0_a_home-icon,._5fP0_a_closeIcon{padding:0 .35rem}");var w={hoverable:"_5fP0_a_hoverable",languageLabel:"_5fP0_a_language-label",mainMenu:"_5fP0_a_main-menu",languageCaret:"_5fP0_a_language-caret",divider:"_5fP0_a_divider",menuBarItem:"_5fP0_a_menu-bar-item",menu:"_5fP0_a_menu",languageIcon:"_5fP0_a_language-icon",growable:"_5fP0_a_growable",menuItem:"_5fP0_a_menu-item",menuLabel:"_5fP0_a_menu-label",checkIcon:"_5fP0_a_check-icon",titleField:"_5fP0_a_title-field",rightMenu:"_5fP0_a_right-menu",tutorialsIcon:"_5fP0_a_tutorials-icon",homeIcon:"_5fP0_a_home-icon",closeIcon:"_5fP0_a_closeIcon",menuBar:"_5fP0_a_menu-bar",checked:"_5fP0_a_checked"};import{jsx as $1,Fragment as x8} from"preact/jsx-runtime";function T({id:$,className:v,checked:q,children:f,name:B}){const X=({target:z})=>{const U=()=>{z.checked=!1,document.removeEventListener("click",U)};document.addEventListener("click",U)},J=(z)=>{const U=z.getBoundingClientRect().left;S({[`#${$}-menu-${B}`]:{left:`${U}px`}})},K=({target:z})=>{if(z.classList.contains(w.menuLabel))J(z);else J(z.parentElement)};return $1(x8,{children:[$1("input",{checked:q,className:w.menuLabel,id:`${$}-label-${B}`,name:`${$}-menu`,type:"radio",value:B,onChange:X}),$1("label",{className:T8(w.menuLabel,v),for:`${$}-label-${B}`,onClick:K,children:f})]})}import{jsx as p8,Fragment as y8} from"preact/jsx-runtime";function q1({id:$,children:v}){const q=h8(v).map((f)=>f&&g8(f,{id:$}));return p8(y8,{children:[q.filter((f)=>f.type===T),q.filter((f)=>f.type===b8).map((f)=>{const B=`${$}-label-${f.props.name}`,X=`${$}-menu-${f.props.name}`;return S({[`#${B}:checked~#${X}`]:{display:"block"}}),f})]})}import{classNames as d8,Text as m8} from"@blockcode/ui";var m1="./assets/icon-tutorials-bea30e96ac6d0515.svg";import{jsx as y,Fragment as r8} from"preact/jsx-runtime";function f1(){return y(r8,{children:[y("div",{className:w.divider}),y("div",{className:d8(w.menuBarItem,w.hoverable),children:[y("img",{className:w.tutorialsIcon,src:m1}),y(m8,{id:"gui.menuBar.tutorials",defaultMessage:"Tutorials"})]})]})}import{useLocale as O0,useEditor as c8} from"@blockcode/core";import{BufferedInput as i8} from"@blockcode/ui";import{jsx as r,Fragment as o8} from"preact/jsx-runtime";function B1({placeholder:$,defaultValue:v}){const{name:q,setProjectName:f}=c8(),B=(X)=>{if(X!==q)f(X)};return r(o8,{children:[r("div",{className:w.divider}),r("div",{className:w.menuBarItem,children:r(i8,{className:w.titleField,placeholder:$,value:q||v,onSubmit:B})})]})}var r1="./assets/icon-check-31e1ebb988d531c5.svg";var c1="./assets/icon-language-09e82381f5aa1c83.svg";var i1="./assets/icon-dropdown-caret-468cbda14992445e.svg";var o1="./assets/icon-home-235b93cd14083ab2.svg";import{jsx as G,Fragment as q5} from"preact/jsx-runtime";var a1=($)=>$&&$.map((v,q)=>Array.isArray(v)?G(v5,{children:a1(v)},q):G(l1,{className:w.menuItem,hotkey:v.hotkey,disabled:v.disabled,onDisable:v.onDisable,onLabel:v.onLabel,onClick:v.onClick,children:v.label},q));function X1({className:$,menus:v,tutorials:q,showHomeButton:f,canEditProjectName:B,onRequestHome:X}){const{language:J,setLanguage:K,getText:z}=t8();return G("div",{className:c(w.menuBar,$),children:[G("div",{className:w.mainMenu,children:[G(q1,{id:w.mainMenu,children:[G(T,{className:c(w.menuBarItem,w.languageLabel),name:"language-selector",children:[G("img",{className:w.languageIcon,src:c1}),G("img",{className:w.languageCaret,src:i1})]}),G(n1,{className:w.menu,name:"language-selector",children:Array.from(e8.entries()).map(([U,V])=>G(l1,{className:w.menuItem,onClick:()=>K(U),children:[G("img",{className:c(w.checkIcon,{[w.checked]:U===J}),src:r1}),V.language]},U))}),v&&v.map(({label:U,menuItems:V},H)=>G(q5,{children:[G(T,{className:w.menuBarItem,name:H,children:U},H),V&&V.length&&G(n1,{className:w.menu,name:H,children:a1(V)},H)]}))]}),q&&G($5,{placement:"bottom",children:G(f1,{tutorials:q})}),B&&G(B1,{placeholder:z("gui.menuBar.projectTitlePlaceholder","Project title here"),defaultValue:z("gui.defaultProject.name","BlockCode Project")})]}),G("div",{className:w.rightMenu,children:f&&G("div",{className:c(w.menuBarItem,w.hoverable),onClick:X,children:G("img",{className:w.homeIcon,src:o1})})})]})}import{cloneElement as z5} from"preact";import{flatChildren as J5} from"@blockcode/core";import{classNames as Q5} from"@blockcode/ui";import{classNames as f5} from"@blockcode/ui";M("._9ZXohG_tabs-wrapper{white-space:nowrap;position:relative}._9ZXohG_tab-label{--line-height:calc(var(--tool-bar-height)*.8 - 2px);--margin-top:calc(var(--tool-bar-height)*.2 + 1px);font-weight:500;font-size:var(--standard-font-size);line-height:var(--line-height);border:1px solid var(--ui-black-transparent);background:var(--ui-tertiary);color:var(--text-primary-transparent);margin-top:var(--margin-top);white-space:nowrap;border-radius:1rem 1rem 0 0;justify-content:center;padding:0 1.25rem;display:inline-flex;position:relative}._9ZXohG_tab-label:nth-of-type(n+2){margin-left:calc(-1*var(--space))}._9ZXohG_tab-label:last-of-type{margin-right:var(--space)}._9ZXohG_tab-label:hover{cursor:pointer;background:var(--ui-primary)}._9ZXohG_tab-label img{filter:grayscale();width:1.375rem}._9ZXohG_tab{display:none}._9ZXohG_tab:checked+._9ZXohG_tab-label{--scale:var(--space)/2;line-height:calc(var(--line-height) + var(--scale));margin-top:calc(var(--margin-top) - var(--scale));color:var(--motion-primary);background:var(--ui-white)}._9ZXohG_tab:checked+._9ZXohG_tab-label img{filter:none}._9ZXohG_tab-panel{top:var(--tool-bar-height);height:calc(100% - var(--tool-bar-height));border:1px solid var(--ui-black-transparent);border-radius:0 var(--space)var(--space)var(--space);flex-direction:column;width:100%;display:none;position:absolute;bottom:0}");var O={tabPanel:"_9ZXohG_tab-panel",tabLabel:"_9ZXohG_tab-label",tab:"_9ZXohG_tab",tabsWrapper:"_9ZXohG_tabs-wrapper"};import{jsx as w1,Fragment as B5} from"preact/jsx-runtime";function p({id:$,className:v,checked:q,children:f,name:B,onSelect:X}){return w1(B5,{children:[w1("input",{checked:q,className:O.tab,id:`${$}-tab-${B}`,name:`${$}-tab`,type:"radio",value:B}),w1("label",{className:f5(O.tabLabel,v),for:`${$}-tab-${B}`,onClick:X,children:f})]})}import{classNames as X5} from"@blockcode/ui";import{jsx as w5} from"preact/jsx-runtime";function u({id:$,className:v,name:q,children:f}){return w5("div",{className:X5(O.tabPanel,v),id:`${$}-panel-${q}`,children:f})}import{jsx as D5} from"preact/jsx-runtime";function z1({id:$,className:v,children:q}){const f=J5(q).filter((B)=>B).map((B)=>z5(B,{id:$}));return S({[`.${O.tab}:checked+.${O.tabLabel}`]:{zIndex:`${f.length+1}`}}),D5("div",{className:Q5(O.tabsWrapper,v),children:[f.filter((B)=>B.type===p).map((B,X,J)=>{return S({[`.${O.tabLabel}:nth-of-type(${X+1})`]:{zIndex:`${J.length-X}`}}),B}),f.filter((B)=>B.type===u).map((B)=>{const X=`${$}-tab-${B.props.name}`,J=`${$}-panel-${B.props.name}`;return S({[`#${X}:checked~#${J}`]:{display:"flex"}}),B})]})}import{classNames as F5} from"@blockcode/ui";M("._2wx-CG_pane-wrapper{flex-direction:column;display:flex;position:relative}._2wx-CG_pane{display:none}._2wx-CG_pane-header{background:var(--ui-white);padding:calc(var(--space)/2);text-align:center;color:var(--text-primary);cursor:pointer;border:1px solid var(--ui-black-transparent);border-radius:var(--space)var(--space)0 0;flex:1;font-size:.85rem}._2wx-CG_pane-left ._2wx-CG_pane-header{border-top-left-radius:0}._2wx-CG_pane-right ._2wx-CG_pane-header{border-top-right-radius:0}._2wx-CG_pane-content{border-left:1px solid var(--ui-black-transparent);border-right:1px solid var(--ui-black-transparent);min-height:5.5rem;display:none;position:relative}._2wx-CG_pane-left ._2wx-CG_pane-content{border-left:0}._2wx-CG_pane-right ._2wx-CG_pane-content{border-right:0}._2wx-CG_pane:checked~._2wx-CG_pane-content{display:flex}");var j={pane:"_2wx-CG_pane",paneHeader:"_2wx-CG_pane-header",paneLeft:"_2wx-CG_pane-left",paneRight:"_2wx-CG_pane-right",paneWrapper:"_2wx-CG_pane-wrapper",paneContent:"_2wx-CG_pane-content"};import{jsx as i} from"preact/jsx-runtime";function J1({className:$,id:v,title:q,left:f,right:B,children:X}){return i("div",{className:F5(j.paneWrapper,$,{[j.paneLeft]:f,[j.paneRight]:B}),children:[i("input",{id:`${v}-pane`,type:"checkbox",className:j.pane}),i("label",{className:j.paneHeader,for:`${v}-pane`,children:q}),i("div",{className:j.paneContent,children:X})]})}import{useEffect as G5,useRef as U5,useState as Y5} from"preact/hooks";import{classNames as s1,Text as Q1,BufferedInput as M5,Button as t1,Modal as Z5} from"@blockcode/ui";M("._6MC08G_prompt-modal{width:360px}._6MC08G_prompt-wide-modal{width:600px}._6MC08G_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._6MC08G_label{margin:0 0 1.5rem;font-weight:500}._6MC08G_label._6MC08G_input-label{margin-bottom:.75rem}._6MC08G_content{font-size:var(--standard-font-size);color:var(--text-primary);max-height:400px;margin-bottom:1.5rem;overflow:hidden auto}._6MC08G_name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._6MC08G_button-row{text-align:right;font-weight:bolder}._6MC08G_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._6MC08G_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var W={promptModal:"_6MC08G_prompt-modal",label:"_6MC08G_label",promptContent:"_6MC08G_prompt-content",promptWideModal:"_6MC08G_prompt-wide-modal",okButton:"_6MC08G_ok-button",inputLabel:"_6MC08G_input-label",content:"_6MC08G_content",nameTextInput:"_6MC08G_name-text-input",buttonRow:"_6MC08G_button-row",button:"_6MC08G_button"};import{jsx as E} from"preact/jsx-runtime";function D1({title:$,label:v,content:q,inputMode:f,defaultValue:B,onClose:X,onSubmit:J}){const K=U5(),[z,U]=Y5(B),V=()=>{J(z)},H=(k)=>{if(k.key==="Escape")X();if(k.key==="Enter")J(K.current.base.value)};return G5(()=>{if(K.current)K.current.base.focus();return window.addEventListener("keydown",H),()=>{window.removeEventListener("keydown",H)}},[K]),E(Z5,{title:$,className:q?W.promptWideModal:W.promptModal,onClose:X,children:E("div",{className:W.promptContent,children:[v&&E("div",{className:s1(W.label,{[W.inputLabel]:f}),children:v}),f&&E(M5,{autoFocus:!0,forceFocus:!0,ref:K,className:W.nameTextInput,defaultValue:B,onSubmit:U}),q&&E("div",{className:W.content,dangerouslySetInnerHTML:{__html:q}}),E("div",{className:W.buttonRow,children:[E(t1,{className:W.button,onClick:X,children:J?E(Q1,{id:"gui.prompt.cancel",defaultMessage:"Cancel"}):E(Q1,{id:"gui.prompt.close",defaultMessage:"Close"})}),J&&E(t1,{className:s1(W.button,W.okButton),onClick:V,children:E(Q1,{id:"gui.prompt.ok",defaultMessage:"OK"})})]})]})})}import{useState as F8,useEffect as W5} from"preact/hooks";import{useLocale as R5,useEditor as E5} from"@blockcode/core";import{classNames as o,Text as d,ContextMenu as O5,LibraryItem as G8} from"@blockcode/ui";import{jsx as Cv} from"preact/jsx-runtime";import{Text as F1} from"@blockcode/ui";var e1="./assets/micropython-37858e364e56fdb3.png";import{jsx as G1} from"preact/jsx-runtime";var v8={disabled:!0,package:"micropython",image:e1,name:G1(F1,{id:"gui.workspace.micropython.name",defaultMessage:"MicroPython"}),description:G1(F1,{id:"gui.workspace.micropython.description",defaultMessage:"Write magical code that controls everything."}),collaborator:G1(F1,{id:"gui.workspace.micropython.collaborator",defaultMessage:"BlockCode Lab"}),micropythonRequired:!0};import{Text as U1} from"@blockcode/ui";var $8="./assets/blocks-2e7292fb2e03b834.png";import{jsx as Y1} from"preact/jsx-runtime";var q8={disabled:!0,package:"blocks",image:$8,name:Y1(U1,{id:"gui.workspace.blocks.name",defaultMessage:"Blocks"}),description:Y1(U1,{id:"gui.workspace.blocks.description",defaultMessage:"A wonderful world of building blocks."}),collaborator:Y1(U1,{id:"gui.workspace.blocks.collaborator",defaultMessage:"BlockCode Lab"}),blocksRequired:!0};import{Text as M1} from"@blockcode/ui";var f8="./assets/popsicle-77fd7ef38a71f59a.png";import{jsx as Z1} from"preact/jsx-runtime";var B8={disabled:!0,package:"popsicle-blocks",image:f8,name:Z1(M1,{id:"gui.workspace.popsicle.name",defaultMessage:"Popsicle (Scratch)"}),description:Z1(M1,{id:"gui.workspace.popsicle.description",defaultMessage:"The equipment can play with the real world."}),collaborator:Z1(M1,{id:"gui.workspace.popsicle.collaborator",defaultMessage:"BlockCode Lab"}),blocksRequired:!0};import{Text as H1} from"@blockcode/ui";var X8="./assets/tankwar-efb0d1092bc26a0c.png";import{jsx as K1} from"preact/jsx-runtime";var w8={package:"tankwar-blocks",image:X8,name:K1(H1,{id:"gui.workspace.tankwar.name",defaultMessage:"Tank War"}),description:K1(H1,{id:"gui.workspace.tankwar.description",defaultMessage:"Program your tank and go to battle!"}),collaborator:K1(H1,{id:"gui.workspace.tankwar.collaborator",defaultMessage:"Yeqin Gong"}),blocksRequired:!0};import{Text as N1} from"@blockcode/ui";var z8="./assets/picoed2-ac53eee4bd9964c7.png";import{jsx as I1} from"preact/jsx-runtime";var J8={disabled:!0,package:"picoed-blocks",image:z8,name:I1(N1,{id:"gui.workspace.picoed.name",defaultMessage:"ELECFREAKS Pico:ed V2"}),description:I1(N1,{id:"gui.workspace.picoed.description",defaultMessage:"Small board, endless possibilities."}),collaborator:I1(N1,{id:"gui.workspace.picoed.collaborator",defaultMessage:"Yeqin Gong"}),blocksRequired:!0};var Q8=[v8,q8,B8,w8,J8];M("._9ETYwa_workspace-wrapper{background:var(--ui-secondary);top:var(--menu-bar-height);height:calc(100% - var(--menu-bar-height));z-index:calc(var(--z-index-alerts) - 10);user-select:none;width:100%;position:absolute;overflow:hidden auto}._9ETYwa_getting-started{height:200px;margin-bottom:1.5rem}._9ETYwa_link{cursor:pointer;color:var(--motion-primary)}._9ETYwa_view-all{font-weight:400;font-size:var(--standard-font-size);margin-left:1.5rem}._9ETYwa_delete-menu-item:hover{background:var(--error-primary)}._9ETYwa_footer{color:var(--text-primary);font-size:var(--small-font-size);padding:3.5rem 0 var(--space);text-align:center}._9ETYwa_footer-item{padding:0 var(--space)}._9ETYwa_footer-item:not(:first-child){border-left:1px solid var(--ui-black-transparent)}._9ETYwa_library-scroll-grid{background:var(--ui-secondary);height:calc(100% - var(--library-header-height));flex-wrap:wrap;flex-grow:1;place-content:flex-start;align-items:flex-start;height:auto;padding:.5rem;display:flex;overflow-y:auto}._9ETYwa_library-label{color:var(--text-primary);padding:1.5rem calc(.5rem + var(--space)).5rem;font-weight:500}");var Z={workspaceWrapper:"_9ETYwa_workspace-wrapper",footer:"_9ETYwa_footer",link:"_9ETYwa_link",libraryLabel:"_9ETYwa_library-label",viewAll:"_9ETYwa_view-all",gettingStarted:"_9ETYwa_getting-started",deleteMenuItem:"_9ETYwa_delete-menu-item",libraryScrollGrid:"_9ETYwa_library-scroll-grid",footerItem:"_9ETYwa_footer-item"};var D8="0.1.0";import{jsx as D,Fragment as C5} from"preact/jsx-runtime";var U8=7;function A1({onOpenWorkspace:$,onOpenProject:v,onRequestStoreLibrary:q,onRequestPrompt:f}){const[B,X]=F8([]),[J,K]=F8(0),{getText:z}=R5(),{listProjects:U,getProject:V,renameProject:H,duplicateProject:k,deleteProject:N}=E5(),R=async()=>{const Q=await U();X(Q.sort((I,P)=>P.modifiedDate-I.modifiedDate).filter((I,P)=>P<U8).map((I)=>({key:I.key,name:I.name||`${z("gui.defaultProject.shortname","Project")} [${I.key.toUpperCase()}]`,image:I.image}))),K(Q.length)};return W5(R,[]),D("div",{className:Z.workspaceWrapper,children:[B.length>0&&D(C5,{children:[D("div",{className:Z.libraryLabel,children:[D("span",{children:D(d,{id:"gui.workspace.myprojects",defaultMessage:"My projects"})}),J>U8&&D("span",{className:o(Z.viewAll,Z.link),onClick:q,children:D(d,{id:"gui.workspace.allprojects",defaultMessage:"View all ({counts})",counts:J})})]}),D("div",{className:Z.libraryScrollGrid,children:B.map((Q,I)=>D(O5,{menuItems:[[{label:z("gui.projects.contextMenu.rename","rename"),onClick:()=>{f({title:z("gui.projects.contextMenu.rename","rename"),label:z("gui.menuBar.projectTitlePlaceholder","Project title here"),inputMode:!0,defaultValue:Q.name,onSubmit:async(P)=>{if(P)await H(Q.key,P),R()}})}},{label:z("gui.projects.contextMenu.duplicate","duplicate"),onClick:async()=>{await k(Q.key),R()}}],[{label:z("gui.projects.contextMenu.delete","delete"),className:Z.deleteMenuItem,onClick:async()=>{await N(Q.key),R()}}]],children:D(G8,{id:I,name:Q.name,image:Q.image,onSelect:async()=>v(await V(Q.key))})},I))})]}),D("div",{className:Z.libraryLabel,children:D(d,{id:"gui.workspace.newproject",defaultMessage:"Create new project"})}),D("div",{className:Z.libraryScrollGrid,children:Q8.map((Q,I)=>D(G8,{featured:!0,id:I,preview:Q.preview,disabled:Q.disabled,image:Q.image,name:Q.name,description:Q.description,collaborator:Q.collaborator,blocksRequired:Q.blocksRequired,micropythonRequired:Q.micropythonRequired,onSelect:()=>$(Q.package)},I))}),D("div",{className:Z.footer,children:[D("span",{className:o(Z.footerItem,Z.link),onClick:()=>window.open("https://github.com/BlockCodeLab","_blank"),children:"BlockCode Lab"}),D("span",{className:o(Z.footerItem,Z.link),onClick:()=>{f({title:z("gui.terms","Terms of Use"),content:z("gui.terms.content","Terms of Use")})},children:D(d,{id:"gui.terms",defaultMessage:"Terms of Use"})}),D("span",{className:o(Z.footerItem,Z.link),onClick:()=>{f({title:z("gui.privacy","Privacy"),content:z("gui.privacy.content","Privacy")})},children:D(d,{id:"gui.privacy",defaultMessage:"Privacy"})}),D("span",{className:Z.footerItem,children:["v",D8]})]})]})}import{useEffect as k5,useState as P5} from"preact/hooks";import{useLocale as _5,useEditor as L5} from"@blockcode/core";import{Library as S5} from"@blockcode/ui";M(".xCtYqW_delete-menu-item:hover{background:var(--error-primary)}");var Y8={deleteMenuItem:"xCtYqW_delete-menu-item"};import{jsx as j5} from"preact/jsx-runtime";function V1({onRequestPrompt:$,onOpenProject:v,onClose:q}){const[f,B]=P5([]),{getText:X}=_5(),{listProjects:J,getProject:K,renameProject:z,duplicateProject:U,deleteProject:V}=L5(),H=async()=>{const k=await J();B(k.sort((N,R)=>R.modifiedDate-N.modifiedDate).map((N)=>({name:N.name||`${X("gui.defaultProject.shortname","Project")} [${N.key.toUpperCase()}]`,image:N.image,onSelect:async()=>v(await K(N.key)),contextMenu:[[{label:X("gui.projects.contextMenu.rename","rename"),onClick:()=>{$({title:X("gui.projects.contextMenu.rename","rename"),label:X("gui.menuBar.projectTitlePlaceholder","Project title here"),inputMode:!0,defaultValue:N.name,onSubmit:async(R)=>{if(R)await z(N.key,R),H()}})}},{label:X("gui.projects.contextMenu.duplicate","duplicate"),onClick:async()=>{await U(N.key),H()}}],[{label:X("gui.projects.contextMenu.delete","delete"),className:Y8.deleteMenuItem,onClick:async()=>{await V(N.key),H()}}]]})))};return k5(H,[]),j5(S5,{items:f,emptyText:X("gui.projects.empty","No project!"),onClose:q})}M(".vaiNuG_gui-wrapper{height:100%}.vaiNuG_alerts-container{z-index:var(--z-index-alerts);margin-top:calc(var(--menu-bar-height) + var(--space));pointer-events:none;justify-content:center;width:100%;display:flex;position:absolute}.vaiNuG_menu-bar-position{z-index:var(--z-index-menu-bar);position:relative}.vaiNuG_body-wrapper{height:calc(100% - var(--menu-bar-height));background:var(--ui-primary)}.vaiNuG_body-wrapper *{box-sizing:border-box}.vaiNuG_workspace-wrapper{flex-direction:row;height:100%;display:flex;overflow-y:hidden}.vaiNuG_sidebar-wrapper{margin:0 var(--space);display:flex;position:relative}.vaiNuG_editor-wrapper{flex-direction:column;flex-grow:1;flex-shrink:0;display:flex;position:relative}.vaiNuG_tabs-wrapper{flex-grow:1;position:relative}.vaiNuG_tab-panel-left{border-bottom-left-radius:0}.vaiNuG_tab-panel-right{border-top-right-radius:0;border-bottom-right-radius:0}.vaiNuG_tab-panel-bottom{border-bottom-right-radius:0;border-bottom-left-radius:0}.vaiNuG_pane-wrapper{margin:var(--space)0 0 0;display:flex;position:relative}");var A={tabPanelRight:"vaiNuG_tab-panel-right",guiWrapper:"vaiNuG_gui-wrapper",sidebarWrapper:"vaiNuG_sidebar-wrapper",menuBarPosition:"vaiNuG_menu-bar-position",bodyWrapper:"vaiNuG_body-wrapper",alertsContainer:"vaiNuG_alerts-container",editorWrapper:"vaiNuG_editor-wrapper",tabsWrapper:"vaiNuG_tabs-wrapper",tabPanelBottom:"vaiNuG_tab-panel-bottom",workspaceWrapper:"vaiNuG_workspace-wrapper",tabPanelLeft:"vaiNuG_tab-panel-left",paneWrapper:"vaiNuG_pane-wrapper"};import{jsx as F,Fragment as M8} from"preact/jsx-runtime";function R1(){const[$,v]=W1(null),[q,f]=W1(!1),[B,X]=W1(!1),{menus:J,tabs:K,sidebars:z,pane:U,tutorials:V,canEditProjectName:H,selectedTabIndex:k,selectTab:N,setLayout:R,clearLayout:Q}=h1(),{alerts:I,setAlert:P,removeAlert:K8}=y1(),{addLocaleData:N8,getText:x}=T5(),{editor:g,setEditor:I8,openProject:E1,closeProject:O1,modified:C1,...d5}=x5(),k1=()=>f(!0),A8=()=>f(!1);if(!g||!g.package)k1();const P1=()=>X(!0),_1=()=>X(!1);let h,b;z.forEach((Y)=>{if(Y.expand==="right")b=Y.Content;else h=Y.Content});const l=U.Content,V8=g5({[A.tabPanelLeft]:!h,[A.tabPanelRight]:!b,[A.tabPanelBottom]:!l}),W8=(...Y)=>{$.onSubmit&&$.onSubmit(...Y),v(null)},R8=()=>{$.onClose&&$.onClose(),v(null)},L1=(Y,_=E1)=>{import(`@blockcode/workspace-${Y}`).then(({default:L})=>{L({addLocaleData:N8,getText:x,setLayout:R,openStoreLibrary:P1,closeStoreLibrary:_1,setPrompt:v,setAlert:P,removeAlert:K8,openProject:_}),N(0),I8({package:Y}),A8()})},S1=(Y)=>{const _=()=>{E1(Y),_1()};if(!g||!g.package||g.package!==Y.editor.package){O1(),L1(Y.editor.package,_);return}if(C1)v({title:x("gui.projects.notSaved","Not saved"),label:x("gui.projects.replaceProject","Replace contents of the current project?"),onSubmit:_});else _()},E8=()=>{const Y=()=>{Q(),O1(),k1()};if(C1)v({title:x("gui.projects.notSaved","Not saved"),label:x("gui.projects.closeProject","Close current project?"),onSubmit:Y});else Y()};return F(M8,{children:[F(e,{items:I}),F(X1,{className:A.menuBarPosition,menus:J,tutorials:V,showHomeButton:!q,canEditProjectName:H,onRequestHome:E8}),F("div",{className:A.bodyWrapper,children:[F("div",{className:A.workspaceWrapper,children:[h&&F("div",{className:A.sidebarWrapper,children:F(h,{})}),F("div",{className:A.editorWrapper,children:[F(z1,{id:A.tabsWrapper,className:A.tabsWrapper,children:K.map(({Content:Y,..._},L)=>F(M8,{children:[F(p,{checked:L===k,name:L,onSelect:()=>N(L),children:[F("img",{src:_.icon}),_.label]},L),F(u,{className:V8,name:L,children:F(Y,{})},L)]}))}),l&&F(J1,{id:A.paneWrapper,className:A.paneWrapper,title:U.label,right:!b,left:!h,children:F(l,{})})]}),b&&F("div",{className:A.sidebarWrapper,children:F(b,{})})]}),q&&F(A1,{onRequestPrompt:v,onRequestStoreLibrary:P1,onOpenWorkspace:L1,onOpenProject:S1})]}),B&&F(V1,{onRequestPrompt:v,onOpenProject:S1,onClose:()=>X(!1)}),$&&F(D1,{title:$.title,label:$.label,content:$.content,inputMode:$.inputMode,defaultValue:$.defaultValue,onClose:R8,onSubmit:$.onSubmit?W8:!1})]})}var Z8={"gui.comingSoon":"Coming Soon!","gui.modal.back":"Back","gui.library.comingSoon":"Coming Soon","gui.library.preview":"Preview","gui.library.requires":"Requires","gui.library.programming":"Programming","gui.library.collaboration":"Collaboration","gui.menuBar.tutorials":"Tutorials","gui.menuBar.projectTitlePlaceholder":"Project title here","gui.defaultProject.name":"BlockCode Project","gui.defaultProject.shortname":"Project","gui.projects.empty":"No project!","gui.projects.notSaved":"Not saved","gui.projects.replaceProject":"Replace contents of the current project?","gui.projects.closeProject":"Close current project?","gui.projects.contextMenu.rename":"rename","gui.projects.contextMenu.duplicate":"duplicate","gui.projects.contextMenu.delete":"delete","gui.prompt.close":"Close","gui.prompt.cancel":"Cancel","gui.prompt.ok":"OK","gui.workspace.myprojects":"My projects","gui.workspace.allprojects":"View all ({counts})","gui.workspace.newproject":"Create new project","gui.workspace.micropython.name":"MicroPython","gui.workspace.micropython.description":"Write magical code that controls everything.","gui.workspace.micropython.collaborator":"BlockCode Lab","gui.workspace.blocks.name":"Blocks","gui.workspace.blocks.description":"A wonderful world of building blocks.","gui.workspace.blocks.collaborator":"BlockCode Lab","gui.workspace.popsicle.name":"Popsicle (Scratch)","gui.workspace.popsicle.description":"The equipment can play with the real world.","gui.workspace.popsicle.collaborator":"BlockCode Lab","gui.workspace.tankwar.name":"Tank War","gui.workspace.tankwar.description":"Program your tank and go to battle!","gui.workspace.tankwar.collaborator":"Yeqin Gong","gui.workspace.picoed.name":"ELECFREAKS Pico:ed V2","gui.workspace.picoed.description":"Small board, endless possibilities.","gui.workspace.picoed.collaborator":"Yeqin Gong","gui.terms":"Terms of Use","gui.terms.content":"<b>Terms of Use</b>\n","gui.privacy":"Privacy","gui.privacy.content":"<b>Privacy</b>\n"};var H8={"gui.comingSoon":"\u656C\u8BF7\u671F\u5F85\uFF01","gui.modal.back":"\u8FD4\u56DE","gui.library.comingSoon":"\u656C\u8BF7\u671F\u5F85","gui.library.preview":"\u9884\u89C8\u7248","gui.library.requires":"\u7CFB\u7EDF\u9700\u6C42","gui.library.programming":"\u7F16\u7A0B\u8BED\u8A00","gui.library.collaboration":"\u5408\u4F5C\u8005","gui.menuBar.tutorials":"\u6559\u7A0B","gui.menuBar.projectTitlePlaceholder":"\u5728\u6B64\u586B\u5199\u4F5C\u54C1\u6807\u9898","gui.defaultProject.name":"BlockCode \u4F5C\u54C1","gui.defaultProject.shortname":"\u4F5C\u54C1","gui.projects.empty":"\u6CA1\u6709\u4F5C\u54C1\uFF01","gui.projects.notSaved":"\u672A\u4FDD\u5B58\u4F5C\u54C1","gui.projects.replaceProject":"\u8981\u521B\u5EFA\u65B0\u4F5C\u54C1\u66FF\u6362\u5F53\u524D\u4F5C\u54C1\u5417\uFF1F","gui.projects.closeProject":"\u8981\u5173\u95ED\u5F53\u524D\u4F5C\u54C1\u5417\uFF1F","gui.projects.contextMenu.rename":"\u91CD\u547D\u540D","gui.projects.contextMenu.duplicate":"\u590D\u5236","gui.projects.contextMenu.delete":"\u5220\u9664","gui.prompt.close":"\u5173\u95ED","gui.prompt.cancel":"\u53D6\u6D88","gui.prompt.ok":"\u786E\u8BA4","gui.workspace.myprojects":"\u6211\u7684\u4F5C\u54C1","gui.workspace.allprojects":"\u67E5\u770B\u5168\u90E8\uFF08{counts}\uFF09","gui.workspace.newproject":"\u5F00\u59CB\u65B0\u4F5C\u54C1","gui.workspace.micropython.name":"MicroPython","gui.workspace.micropython.description":"\u7F16\u5199\u63A7\u5236\u4E07\u7269\u7684\u795E\u5947\u4EE3\u7801\u3002","gui.workspace.micropython.collaborator":"BlockCode Lab","gui.workspace.blocks.name":"Blocks","gui.workspace.blocks.description":"\u79EF\u6728\u642D\u8D77\u7684\u5947\u5999\u7A0B\u5E8F\u4E16\u754C\u3002","gui.workspace.blocks.collaborator":"BlockCode Lab","gui.workspace.popsicle.name":"Popsicle (Scratch)","gui.workspace.popsicle.description":"\u624B\u91CC\u7684\u5C0F\u8BBE\u5907\uFF0C\u73A9\u8F6C\u771F\u5B9E\u7684\u5927\u4E16\u754C\u3002","gui.workspace.popsicle.collaborator":"BlockCode Lab","gui.workspace.tankwar.name":"\u5766\u514B\u5927\u6218","gui.workspace.tankwar.description":"\u4E3A\u4F60\u7684\u5766\u514B\u7F16\u7A0B\uFF0C\u7136\u540E\u53BB\u6218\u6597\uFF01","gui.workspace.tankwar.collaborator":"\u9F9A\u4E1A\u52E4","gui.workspace.picoed.name":"\u6069\u5B5A\u79D1\u6280 Pico:ed V2","gui.workspace.picoed.description":"\u5C0F\u5C0F\u5F00\u53D1\u677F\uFF0C\u521B\u9020\u65E0\u9650\u53EF\u80FD\u3002","gui.workspace.picoed.collaborator":"\u9F9A\u4E1A\u52E4","gui.terms":"\u4F7F\u7528\u6761\u6B3E","gui.terms.content":`<b>\u4F7F\u7528\u6761\u6B3E</b>
`,"gui.privacy":"\u9690\u79C1","gui.privacy.content":`<b>\u9690\u79C1</b>
`};var u5=function(){const{addLocaleData:$,language:v}=p5();return $({en:Z8,"zh-Hans":H8}),document.querySelector("html").lang=v,n(b5,{children:n(y5,{children:n(R1,{})})})};import{jsx as n} from"preact/jsx-runtime";h5(n(u5,{}),document.getElementById("root"));
