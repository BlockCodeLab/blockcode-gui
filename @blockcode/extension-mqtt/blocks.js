function k4(x){throw new Error("Node.js process "+x+" is not supported by JSPM core outside of Node.js")}function c9(){!I8||!T8||(I8=!1,T8.length?t1=T8.concat(t1):s8=-1,t1.length&&x2())}function x2(){if(!I8){var x=setTimeout(c9,0);I8=!0;for(var J=t1.length;J;){for(T8=t1,t1=[];++s8<J;)T8&&T8[s8].run();s8=-1,J=t1.length}T8=null,I8=!1,clearTimeout(x)}}function k2(x){var J=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)J[k-1]=arguments[k];t1.push(new Z2(x,J)),t1.length===1&&!I8&&setTimeout(x2,0)}function Z2(x,J){this.fun=x,this.array=J}function b1(){}function G2(x){k4("_linkedBinding")}function q2(x){k4("dlopen")}function J2(){return[]}function U2(){return[]}function Y2(x,J){if(!x)throw new Error(J||"assertion error")}function X2(){return!1}function z2(){return U8.now()/1000}function G6(x){var J=Math.floor((Date.now()-U8.now())*0.001),k=U8.now()*0.001,X=Math.floor(k)+J,H=Math.floor(k%1*1e9);return x&&(X=X-x[0],H=H-x[1],H<0&&(X--,H+=q6)),[X,H]}function Z8(){return Z4}function H2(x){return[]}function l9(){if(g5)return y8;g5=!0,y8.byteLength=U,y8.toByteArray=Y,y8.fromByteArray=Q;for(var x=[],J=[],k=typeof Uint8Array<"u"?Uint8Array:Array,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0,q=X.length;H<q;++H)x[H]=X[H],J[X.charCodeAt(H)]=H;J["-".charCodeAt(0)]=62,J["_".charCodeAt(0)]=63;function Z(L){var D=L.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var V=L.indexOf("=");V===-1&&(V=D);var W=V===D?0:4-V%4;return[V,W]}function U(L){var D=Z(L),V=D[0],W=D[1];return(V+W)*3/4-W}function G(L,D,V){return(D+V)*3/4-V}function Y(L){var D,V=Z(L),W=V[0],N=V[1],P=new k(G(L,W,N)),j=0,T=N>0?W-4:W,w;for(w=0;w<T;w+=4)D=J[L.charCodeAt(w)]<<18|J[L.charCodeAt(w+1)]<<12|J[L.charCodeAt(w+2)]<<6|J[L.charCodeAt(w+3)],P[j++]=D>>16&255,P[j++]=D>>8&255,P[j++]=D&255;return N===2&&(D=J[L.charCodeAt(w)]<<2|J[L.charCodeAt(w+1)]>>4,P[j++]=D&255),N===1&&(D=J[L.charCodeAt(w)]<<10|J[L.charCodeAt(w+1)]<<4|J[L.charCodeAt(w+2)]>>2,P[j++]=D>>8&255,P[j++]=D&255),P}function $(L){return x[L>>18&63]+x[L>>12&63]+x[L>>6&63]+x[L&63]}function K(L,D,V){for(var W,N=[],P=D;P<V;P+=3)W=(L[P]<<16&16711680)+(L[P+1]<<8&65280)+(L[P+2]&255),N.push($(W));return N.join("")}function Q(L){for(var D,V=L.length,W=V%3,N=[],P=16383,j=0,T=V-W;j<T;j+=P)N.push(K(L,j,j+P>T?T:j+P));return W===1?(D=L[V-1],N.push(x[D>>2]+x[D<<4&63]+"==")):W===2&&(D=(L[V-2]<<8)+L[V-1],N.push(x[D>>10]+x[D>>4&63]+x[D<<2&63]+"=")),N.join("")}return y8}function a9(){if(c5)return n8;return c5=!0,n8.read=function(x,J,k,X,H){var q,Z,U=H*8-X-1,G=(1<<U)-1,Y=G>>1,$=-7,K=k?H-1:0,Q=k?-1:1,L=x[J+K];for(K+=Q,q=L&(1<<-$)-1,L>>=-$,$+=U;$>0;q=q*256+x[J+K],K+=Q,$-=8);for(Z=q&(1<<-$)-1,q>>=-$,$+=X;$>0;Z=Z*256+x[J+K],K+=Q,$-=8);if(q===0)q=1-Y;else{if(q===G)return Z?NaN:(L?-1:1)*(1/0);Z=Z+Math.pow(2,X),q=q-Y}return(L?-1:1)*Z*Math.pow(2,q-X)},n8.write=function(x,J,k,X,H,q){var Z,U,G,Y=q*8-H-1,$=(1<<Y)-1,K=$>>1,Q=H===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=X?0:q-1,D=X?1:-1,V=J<0||J===0&&1/J<0?1:0;for(J=Math.abs(J),isNaN(J)||J===1/0?(U=isNaN(J)?1:0,Z=$):(Z=Math.floor(Math.log(J)/Math.LN2),J*(G=Math.pow(2,-Z))<1&&(Z--,G*=2),Z+K>=1?J+=Q/G:J+=Q*Math.pow(2,1-K),J*G>=2&&(Z++,G/=2),Z+K>=$?(U=0,Z=$):Z+K>=1?(U=(J*G-1)*Math.pow(2,H),Z=Z+K):(U=J*Math.pow(2,K-1)*Math.pow(2,H),Z=0));H>=8;x[k+L]=U&255,L+=D,U/=256,H-=8);for(Z=Z<<H|U,Y+=H;Y>0;x[k+L]=Z&255,L+=D,Z/=256,Y-=8);x[k+L-D]|=V*128},n8}function o9(){if(h5)return Q8;h5=!0;let x=l9(),J=a9(),k=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Q8.Buffer=Z,Q8.SlowBuffer=N,Q8.INSPECT_MAX_BYTES=50;let X=2147483647;Q8.kMaxLength=X,Z.TYPED_ARRAY_SUPPORT=H(),!Z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function H(){try{let B=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(B,z),B.foo()===42}catch{return!1}}Object.defineProperty(Z.prototype,"parent",{enumerable:!0,get:function(){if(Z.isBuffer(this))return this.buffer}}),Object.defineProperty(Z.prototype,"offset",{enumerable:!0,get:function(){if(Z.isBuffer(this))return this.byteOffset}});function q(B){if(B>X)throw new RangeError('The value "'+B+'" is invalid for option "size"');let z=new Uint8Array(B);return Object.setPrototypeOf(z,Z.prototype),z}function Z(B,z,F){if(typeof B=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return $(B)}return U(B,z,F)}Z.poolSize=8192;function U(B,z,F){if(typeof B=="string")return K(B,z);if(ArrayBuffer.isView(B))return L(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(f(B,ArrayBuffer)||B&&f(B.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(f(B,SharedArrayBuffer)||B&&f(B.buffer,SharedArrayBuffer)))return D(B,z,F);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let M=B.valueOf&&B.valueOf();if(M!=null&&M!==B)return Z.from(M,z,F);let _=V(B);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return Z.from(B[Symbol.toPrimitive]("string"),z,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}Z.from=function(B,z,F){return U(B,z,F)},Object.setPrototypeOf(Z.prototype,Uint8Array.prototype),Object.setPrototypeOf(Z,Uint8Array);function G(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function Y(B,z,F){return G(B),B<=0?q(B):z!==void 0?typeof F=="string"?q(B).fill(z,F):q(B).fill(z):q(B)}Z.alloc=function(B,z,F){return Y(B,z,F)};function $(B){return G(B),q(B<0?0:W(B)|0)}Z.allocUnsafe=function(B){return $(B)},Z.allocUnsafeSlow=function(B){return $(B)};function K(B,z){if((typeof z!="string"||z==="")&&(z="utf8"),!Z.isEncoding(z))throw new TypeError("Unknown encoding: "+z);let F=P(B,z)|0,M=q(F),_=M.write(B,z);return _!==F&&(M=M.slice(0,_)),M}function Q(B){let z=B.length<0?0:W(B.length)|0,F=q(z);for(let M=0;M<z;M+=1)F[M]=B[M]&255;return F}function L(B){if(f(B,Uint8Array)){let z=new Uint8Array(B);return D(z.buffer,z.byteOffset,z.byteLength)}return Q(B)}function D(B,z,F){if(z<0||B.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<z+(F||0))throw new RangeError('"length" is outside of buffer bounds');let M;return z===void 0&&F===void 0?M=new Uint8Array(B):F===void 0?M=new Uint8Array(B,z):M=new Uint8Array(B,z,F),Object.setPrototypeOf(M,Z.prototype),M}function V(B){if(Z.isBuffer(B)){let z=W(B.length)|0,F=q(z);return F.length===0||B.copy(F,0,0,z),F}if(B.length!==void 0)return typeof B.length!="number"||r(B.length)?q(0):Q(B);if(B.type==="Buffer"&&Array.isArray(B.data))return Q(B.data)}function W(B){if(B>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return B|0}function N(B){return+B!=B&&(B=0),Z.alloc(+B)}Z.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==Z.prototype},Z.compare=function(B,z){if(f(B,Uint8Array)&&(B=Z.from(B,B.offset,B.byteLength)),f(z,Uint8Array)&&(z=Z.from(z,z.offset,z.byteLength)),!Z.isBuffer(B)||!Z.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===z)return 0;let F=B.length,M=z.length;for(let _=0,b=Math.min(F,M);_<b;++_)if(B[_]!==z[_]){F=B[_],M=z[_];break}return F<M?-1:M<F?1:0},Z.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Z.concat=function(B,z){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return Z.alloc(0);let F;if(z===void 0)for(z=0,F=0;F<B.length;++F)z+=B[F].length;let M=Z.allocUnsafe(z),_=0;for(F=0;F<B.length;++F){let b=B[F];if(f(b,Uint8Array))_+b.length>M.length?(Z.isBuffer(b)||(b=Z.from(b)),b.copy(M,_)):Uint8Array.prototype.set.call(M,b,_);else if(Z.isBuffer(b))b.copy(M,_);else throw new TypeError('"list" argument must be an Array of Buffers');_+=b.length}return M};function P(B,z){if(Z.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||f(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);let F=B.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&F===0)return 0;let _=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return p(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return n(B).length;default:if(_)return M?-1:p(B).length;z=(""+z).toLowerCase(),_=!0}}Z.byteLength=P;function j(B,z,F){let M=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,z>>>=0,F<=z))return"";for(B||(B="utf8");;)switch(B){case"hex":return d(this,z,F);case"utf8":case"utf-8":return g(this,z,F);case"ascii":return U1(this,z,F);case"latin1":case"binary":return k1(this,z,F);case"base64":return I(this,z,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B1(this,z,F);default:if(M)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),M=!0}}Z.prototype._isBuffer=!0;function T(B,z,F){let M=B[z];B[z]=B[F],B[F]=M}Z.prototype.swap16=function(){let B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let z=0;z<B;z+=2)T(this,z,z+1);return this},Z.prototype.swap32=function(){let B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let z=0;z<B;z+=4)T(this,z,z+3),T(this,z+1,z+2);return this},Z.prototype.swap64=function(){let B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let z=0;z<B;z+=8)T(this,z,z+7),T(this,z+1,z+6),T(this,z+2,z+5),T(this,z+3,z+4);return this},Z.prototype.toString=function(){let B=this.length;return B===0?"":arguments.length===0?g(this,0,B):j.apply(this,arguments)},Z.prototype.toLocaleString=Z.prototype.toString,Z.prototype.equals=function(B){if(!Z.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:Z.compare(this,B)===0},Z.prototype.inspect=function(){let B="",z=Q8.INSPECT_MAX_BYTES;return B=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(B+=" ... "),"<Buffer "+B+">"},k&&(Z.prototype[k]=Z.prototype.inspect),Z.prototype.compare=function(B,z,F,M,_){if(f(B,Uint8Array)&&(B=Z.from(B,B.offset,B.byteLength)),!Z.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(z===void 0&&(z=0),F===void 0&&(F=B?B.length:0),M===void 0&&(M=0),_===void 0&&(_=this.length),z<0||F>B.length||M<0||_>this.length)throw new RangeError("out of range index");if(M>=_&&z>=F)return 0;if(M>=_)return-1;if(z>=F)return 1;if(z>>>=0,F>>>=0,M>>>=0,_>>>=0,this===B)return 0;let b=_-M,z1=F-z,W1=Math.min(b,z1),T1=this.slice(M,_),m1=B.slice(z,F);for(let P1=0;P1<W1;++P1)if(T1[P1]!==m1[P1]){b=T1[P1],z1=m1[P1];break}return b<z1?-1:z1<b?1:0};function w(B,z,F,M,_){if(B.length===0)return-1;if(typeof F=="string"?(M=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,r(F)&&(F=_?0:B.length-1),F<0&&(F=B.length+F),F>=B.length){if(_)return-1;F=B.length-1}else if(F<0)if(_)F=0;else return-1;if(typeof z=="string"&&(z=Z.from(z,M)),Z.isBuffer(z))return z.length===0?-1:O(B,z,F,M,_);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(B,z,F):Uint8Array.prototype.lastIndexOf.call(B,z,F):O(B,[z],F,M,_);throw new TypeError("val must be string, number or Buffer")}function O(B,z,F,M,_){let b=1,z1=B.length,W1=z.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(B.length<2||z.length<2)return-1;b=2,z1/=2,W1/=2,F/=2}function T1(P1,v1){return b===1?P1[v1]:P1.readUInt16BE(v1*b)}let m1;if(_){let P1=-1;for(m1=F;m1<z1;m1++)if(T1(B,m1)===T1(z,P1===-1?0:m1-P1)){if(P1===-1&&(P1=m1),m1-P1+1===W1)return P1*b}else P1!==-1&&(m1-=m1-P1),P1=-1}else for(F+W1>z1&&(F=z1-W1),m1=F;m1>=0;m1--){let P1=!0;for(let v1=0;v1<W1;v1++)if(T1(B,m1+v1)!==T1(z,v1)){P1=!1;break}if(P1)return m1}return-1}Z.prototype.includes=function(B,z,F){return this.indexOf(B,z,F)!==-1},Z.prototype.indexOf=function(B,z,F){return w(this,B,z,F,!0)},Z.prototype.lastIndexOf=function(B,z,F){return w(this,B,z,F,!1)};function R(B,z,F,M){F=Number(F)||0;let _=B.length-F;M?(M=Number(M),M>_&&(M=_)):M=_;let b=z.length;M>b/2&&(M=b/2);let z1;for(z1=0;z1<M;++z1){let W1=parseInt(z.substr(z1*2,2),16);if(r(W1))return z1;B[F+z1]=W1}return z1}function S(B,z,F,M){return E(p(z,B.length-F),B,F,M)}function c(B,z,F,M){return E(y(z),B,F,M)}function o(B,z,F,M){return E(n(z),B,F,M)}function i(B,z,F,M){return E(x1(z,B.length-F),B,F,M)}Z.prototype.write=function(B,z,F,M){if(z===void 0)M="utf8",F=this.length,z=0;else if(F===void 0&&typeof z=="string")M=z,F=this.length,z=0;else if(isFinite(z))z=z>>>0,isFinite(F)?(F=F>>>0,M===void 0&&(M="utf8")):(M=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let _=this.length-z;if((F===void 0||F>_)&&(F=_),B.length>0&&(F<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");M||(M="utf8");let b=!1;for(;;)switch(M){case"hex":return R(this,B,z,F);case"utf8":case"utf-8":return S(this,B,z,F);case"ascii":case"latin1":case"binary":return c(this,B,z,F);case"base64":return o(this,B,z,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i(this,B,z,F);default:if(b)throw new TypeError("Unknown encoding: "+M);M=(""+M).toLowerCase(),b=!0}},Z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(B,z,F){return z===0&&F===B.length?x.fromByteArray(B):x.fromByteArray(B.slice(z,F))}function g(B,z,F){F=Math.min(B.length,F);let M=[],_=z;for(;_<F;){let b=B[_],z1=null,W1=b>239?4:b>223?3:b>191?2:1;if(_+W1<=F){let T1,m1,P1,v1;switch(W1){case 1:b<128&&(z1=b);break;case 2:T1=B[_+1],(T1&192)===128&&(v1=(b&31)<<6|T1&63,v1>127&&(z1=v1));break;case 3:T1=B[_+1],m1=B[_+2],(T1&192)===128&&(m1&192)===128&&(v1=(b&15)<<12|(T1&63)<<6|m1&63,v1>2047&&(v1<55296||v1>57343)&&(z1=v1));break;case 4:T1=B[_+1],m1=B[_+2],P1=B[_+3],(T1&192)===128&&(m1&192)===128&&(P1&192)===128&&(v1=(b&15)<<18|(T1&63)<<12|(m1&63)<<6|P1&63,v1>65535&&v1<1114112&&(z1=v1))}}z1===null?(z1=65533,W1=1):z1>65535&&(z1-=65536,M.push(z1>>>10&1023|55296),z1=56320|z1&1023),M.push(z1),_+=W1}return h(M)}let s=4096;function h(B){let z=B.length;if(z<=s)return String.fromCharCode.apply(String,B);let F="",M=0;for(;M<z;)F+=String.fromCharCode.apply(String,B.slice(M,M+=s));return F}function U1(B,z,F){let M="";F=Math.min(B.length,F);for(let _=z;_<F;++_)M+=String.fromCharCode(B[_]&127);return M}function k1(B,z,F){let M="";F=Math.min(B.length,F);for(let _=z;_<F;++_)M+=String.fromCharCode(B[_]);return M}function d(B,z,F){let M=B.length;(!z||z<0)&&(z=0),(!F||F<0||F>M)&&(F=M);let _="";for(let b=z;b<F;++b)_+=L1[B[b]];return _}function B1(B,z,F){let M=B.slice(z,F),_="";for(let b=0;b<M.length-1;b+=2)_+=String.fromCharCode(M[b]+M[b+1]*256);return _}Z.prototype.slice=function(B,z){let F=this.length;B=~~B,z=z===void 0?F:~~z,B<0?(B+=F,B<0&&(B=0)):B>F&&(B=F),z<0?(z+=F,z<0&&(z=0)):z>F&&(z=F),z<B&&(z=B);let M=this.subarray(B,z);return Object.setPrototypeOf(M,Z.prototype),M};function e(B,z,F){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+z>F)throw new RangeError("Trying to access beyond buffer length")}Z.prototype.readUintLE=Z.prototype.readUIntLE=function(B,z,F){B=B>>>0,z=z>>>0,F||e(B,z,this.length);let M=this[B],_=1,b=0;for(;++b<z&&(_*=256);)M+=this[B+b]*_;return M},Z.prototype.readUintBE=Z.prototype.readUIntBE=function(B,z,F){B=B>>>0,z=z>>>0,F||e(B,z,this.length);let M=this[B+--z],_=1;for(;z>0&&(_*=256);)M+=this[B+--z]*_;return M},Z.prototype.readUint8=Z.prototype.readUInt8=function(B,z){return B=B>>>0,z||e(B,1,this.length),this[B]},Z.prototype.readUint16LE=Z.prototype.readUInt16LE=function(B,z){return B=B>>>0,z||e(B,2,this.length),this[B]|this[B+1]<<8},Z.prototype.readUint16BE=Z.prototype.readUInt16BE=function(B,z){return B=B>>>0,z||e(B,2,this.length),this[B]<<8|this[B+1]},Z.prototype.readUint32LE=Z.prototype.readUInt32LE=function(B,z){return B=B>>>0,z||e(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},Z.prototype.readUint32BE=Z.prototype.readUInt32BE=function(B,z){return B=B>>>0,z||e(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},Z.prototype.readBigUInt64LE=D1(function(B){B=B>>>0,u(B,"offset");let z=this[B],F=this[B+7];(z===void 0||F===void 0)&&F1(B,this.length-8);let M=z+this[++B]*256+this[++B]*65536+this[++B]*16777216,_=this[++B]+this[++B]*256+this[++B]*65536+F*16777216;return BigInt(M)+(BigInt(_)<<BigInt(32))}),Z.prototype.readBigUInt64BE=D1(function(B){B=B>>>0,u(B,"offset");let z=this[B],F=this[B+7];(z===void 0||F===void 0)&&F1(B,this.length-8);let M=z*16777216+this[++B]*65536+this[++B]*256+this[++B],_=this[++B]*16777216+this[++B]*65536+this[++B]*256+F;return(BigInt(M)<<BigInt(32))+BigInt(_)}),Z.prototype.readIntLE=function(B,z,F){B=B>>>0,z=z>>>0,F||e(B,z,this.length);let M=this[B],_=1,b=0;for(;++b<z&&(_*=256);)M+=this[B+b]*_;return _*=128,M>=_&&(M-=Math.pow(2,8*z)),M},Z.prototype.readIntBE=function(B,z,F){B=B>>>0,z=z>>>0,F||e(B,z,this.length);let M=z,_=1,b=this[B+--M];for(;M>0&&(_*=256);)b+=this[B+--M]*_;return _*=128,b>=_&&(b-=Math.pow(2,8*z)),b},Z.prototype.readInt8=function(B,z){return B=B>>>0,z||e(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},Z.prototype.readInt16LE=function(B,z){B=B>>>0,z||e(B,2,this.length);let F=this[B]|this[B+1]<<8;return F&32768?F|4294901760:F},Z.prototype.readInt16BE=function(B,z){B=B>>>0,z||e(B,2,this.length);let F=this[B+1]|this[B]<<8;return F&32768?F|4294901760:F},Z.prototype.readInt32LE=function(B,z){return B=B>>>0,z||e(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},Z.prototype.readInt32BE=function(B,z){return B=B>>>0,z||e(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},Z.prototype.readBigInt64LE=D1(function(B){B=B>>>0,u(B,"offset");let z=this[B],F=this[B+7];(z===void 0||F===void 0)&&F1(B,this.length-8);let M=this[B+4]+this[B+5]*256+this[B+6]*65536+(F<<24);return(BigInt(M)<<BigInt(32))+BigInt(z+this[++B]*256+this[++B]*65536+this[++B]*16777216)}),Z.prototype.readBigInt64BE=D1(function(B){B=B>>>0,u(B,"offset");let z=this[B],F=this[B+7];(z===void 0||F===void 0)&&F1(B,this.length-8);let M=(z<<24)+this[++B]*65536+this[++B]*256+this[++B];return(BigInt(M)<<BigInt(32))+BigInt(this[++B]*16777216+this[++B]*65536+this[++B]*256+F)}),Z.prototype.readFloatLE=function(B,z){return B=B>>>0,z||e(B,4,this.length),J.read(this,B,!0,23,4)},Z.prototype.readFloatBE=function(B,z){return B=B>>>0,z||e(B,4,this.length),J.read(this,B,!1,23,4)},Z.prototype.readDoubleLE=function(B,z){return B=B>>>0,z||e(B,8,this.length),J.read(this,B,!0,52,8)},Z.prototype.readDoubleBE=function(B,z){return B=B>>>0,z||e(B,8,this.length),J.read(this,B,!1,52,8)};function Q1(B,z,F,M,_,b){if(!Z.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>_||z<b)throw new RangeError('"value" argument is out of bounds');if(F+M>B.length)throw new RangeError("Index out of range")}Z.prototype.writeUintLE=Z.prototype.writeUIntLE=function(B,z,F,M){if(B=+B,z=z>>>0,F=F>>>0,!M){let z1=Math.pow(2,8*F)-1;Q1(this,B,z,F,z1,0)}let _=1,b=0;for(this[z]=B&255;++b<F&&(_*=256);)this[z+b]=B/_&255;return z+F},Z.prototype.writeUintBE=Z.prototype.writeUIntBE=function(B,z,F,M){if(B=+B,z=z>>>0,F=F>>>0,!M){let z1=Math.pow(2,8*F)-1;Q1(this,B,z,F,z1,0)}let _=F-1,b=1;for(this[z+_]=B&255;--_>=0&&(b*=256);)this[z+_]=B/b&255;return z+F},Z.prototype.writeUint8=Z.prototype.writeUInt8=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,1,255,0),this[z]=B&255,z+1},Z.prototype.writeUint16LE=Z.prototype.writeUInt16LE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,2,65535,0),this[z]=B&255,this[z+1]=B>>>8,z+2},Z.prototype.writeUint16BE=Z.prototype.writeUInt16BE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,2,65535,0),this[z]=B>>>8,this[z+1]=B&255,z+2},Z.prototype.writeUint32LE=Z.prototype.writeUInt32LE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,4,4294967295,0),this[z+3]=B>>>24,this[z+2]=B>>>16,this[z+1]=B>>>8,this[z]=B&255,z+4},Z.prototype.writeUint32BE=Z.prototype.writeUInt32BE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,4,4294967295,0),this[z]=B>>>24,this[z+1]=B>>>16,this[z+2]=B>>>8,this[z+3]=B&255,z+4};function m(B,z,F,M,_){t(z,M,_,B,F,7);let b=Number(z&BigInt(4294967295));B[F++]=b,b=b>>8,B[F++]=b,b=b>>8,B[F++]=b,b=b>>8,B[F++]=b;let z1=Number(z>>BigInt(32)&BigInt(4294967295));return B[F++]=z1,z1=z1>>8,B[F++]=z1,z1=z1>>8,B[F++]=z1,z1=z1>>8,B[F++]=z1,F}function a(B,z,F,M,_){t(z,M,_,B,F,7);let b=Number(z&BigInt(4294967295));B[F+7]=b,b=b>>8,B[F+6]=b,b=b>>8,B[F+5]=b,b=b>>8,B[F+4]=b;let z1=Number(z>>BigInt(32)&BigInt(4294967295));return B[F+3]=z1,z1=z1>>8,B[F+2]=z1,z1=z1>>8,B[F+1]=z1,z1=z1>>8,B[F]=z1,F+8}Z.prototype.writeBigUInt64LE=D1(function(B,z=0){return m(this,B,z,BigInt(0),BigInt("0xffffffffffffffff"))}),Z.prototype.writeBigUInt64BE=D1(function(B,z=0){return a(this,B,z,BigInt(0),BigInt("0xffffffffffffffff"))}),Z.prototype.writeIntLE=function(B,z,F,M){if(B=+B,z=z>>>0,!M){let W1=Math.pow(2,8*F-1);Q1(this,B,z,F,W1-1,-W1)}let _=0,b=1,z1=0;for(this[z]=B&255;++_<F&&(b*=256);)B<0&&z1===0&&this[z+_-1]!==0&&(z1=1),this[z+_]=(B/b>>0)-z1&255;return z+F},Z.prototype.writeIntBE=function(B,z,F,M){if(B=+B,z=z>>>0,!M){let W1=Math.pow(2,8*F-1);Q1(this,B,z,F,W1-1,-W1)}let _=F-1,b=1,z1=0;for(this[z+_]=B&255;--_>=0&&(b*=256);)B<0&&z1===0&&this[z+_+1]!==0&&(z1=1),this[z+_]=(B/b>>0)-z1&255;return z+F},Z.prototype.writeInt8=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,1,127,-128),B<0&&(B=255+B+1),this[z]=B&255,z+1},Z.prototype.writeInt16LE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,2,32767,-32768),this[z]=B&255,this[z+1]=B>>>8,z+2},Z.prototype.writeInt16BE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,2,32767,-32768),this[z]=B>>>8,this[z+1]=B&255,z+2},Z.prototype.writeInt32LE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,4,2147483647,-2147483648),this[z]=B&255,this[z+1]=B>>>8,this[z+2]=B>>>16,this[z+3]=B>>>24,z+4},Z.prototype.writeInt32BE=function(B,z,F){return B=+B,z=z>>>0,F||Q1(this,B,z,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[z]=B>>>24,this[z+1]=B>>>16,this[z+2]=B>>>8,this[z+3]=B&255,z+4},Z.prototype.writeBigInt64LE=D1(function(B,z=0){return m(this,B,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Z.prototype.writeBigInt64BE=D1(function(B,z=0){return a(this,B,z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K1(B,z,F,M,_,b){if(F+M>B.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function V1(B,z,F,M,_){return z=+z,F=F>>>0,_||K1(B,z,F,4),J.write(B,z,F,M,23,4),F+4}Z.prototype.writeFloatLE=function(B,z,F){return V1(this,B,z,!0,F)},Z.prototype.writeFloatBE=function(B,z,F){return V1(this,B,z,!1,F)};function H1(B,z,F,M,_){return z=+z,F=F>>>0,_||K1(B,z,F,8),J.write(B,z,F,M,52,8),F+8}Z.prototype.writeDoubleLE=function(B,z,F){return H1(this,B,z,!0,F)},Z.prototype.writeDoubleBE=function(B,z,F){return H1(this,B,z,!1,F)},Z.prototype.copy=function(B,z,F,M){if(!Z.isBuffer(B))throw new TypeError("argument should be a Buffer");if(F||(F=0),!M&&M!==0&&(M=this.length),z>=B.length&&(z=B.length),z||(z=0),M>0&&M<F&&(M=F),M===F||B.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),B.length-z<M-F&&(M=B.length-z+F);let _=M-F;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(z,F,M):Uint8Array.prototype.set.call(B,this.subarray(F,M),z),_},Z.prototype.fill=function(B,z,F,M){if(typeof B=="string"){if(typeof z=="string"?(M=z,z=0,F=this.length):typeof F=="string"&&(M=F,F=this.length),M!==void 0&&typeof M!="string")throw new TypeError("encoding must be a string");if(typeof M=="string"&&!Z.isEncoding(M))throw new TypeError("Unknown encoding: "+M);if(B.length===1){let b=B.charCodeAt(0);(M==="utf8"&&b<128||M==="latin1")&&(B=b)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(z<0||this.length<z||this.length<F)throw new RangeError("Out of range index");if(F<=z)return this;z=z>>>0,F=F===void 0?this.length:F>>>0,B||(B=0);let _;if(typeof B=="number")for(_=z;_<F;++_)this[_]=B;else{let b=Z.isBuffer(B)?B:Z.from(B,M),z1=b.length;if(z1===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(_=0;_<F-z;++_)this[_+z]=b[_%z1]}return this};let A={};function C(B,z,F){A[B]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(M){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:M,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}C("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(B,z){return`The "${B}" argument must be of type number. Received type ${typeof z}`},TypeError),C("ERR_OUT_OF_RANGE",function(B,z,F){let M=`The value of "${B}" is out of range.`,_=F;return Number.isInteger(F)&&Math.abs(F)>4294967296?_=l(String(F)):typeof F=="bigint"&&(_=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(_=l(_)),_+="n"),M+=` It must be ${z}. Received ${_}`,M},RangeError);function l(B){let z="",F=B.length,M=B[0]==="-"?1:0;for(;F>=M+4;F-=3)z=`_${B.slice(F-3,F)}${z}`;return`${B.slice(0,F)}${z}`}function J1(B,z,F){u(z,"offset"),(B[z]===void 0||B[z+F]===void 0)&&F1(z,B.length-(F+1))}function t(B,z,F,M,_,b){if(B>F||B<z){let z1=typeof z=="bigint"?"n":"",W1;throw b>3?z===0||z===BigInt(0)?W1=`>= 0${z1} and < 2${z1} ** ${(b+1)*8}${z1}`:W1=`>= -(2${z1} ** ${(b+1)*8-1}${z1}) and < 2 ** ${(b+1)*8-1}${z1}`:W1=`>= ${z}${z1} and <= ${F}${z1}`,new A.ERR_OUT_OF_RANGE("value",W1,B)}J1(M,_,b)}function u(B,z){if(typeof B!="number")throw new A.ERR_INVALID_ARG_TYPE(z,"number",B)}function F1(B,z,F){throw Math.floor(B)!==B?(u(B,F),new A.ERR_OUT_OF_RANGE(F||"offset","an integer",B)):z<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE(F||"offset",`>= ${F?1:0} and <= ${z}`,B)}let Y1=/[^+/0-9A-Za-z-_]/g;function v(B){if(B=B.split("=")[0],B=B.trim().replace(Y1,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function p(B,z){z=z||1/0;let F,M=B.length,_=null,b=[];for(let z1=0;z1<M;++z1){if(F=B.charCodeAt(z1),F>55295&&F<57344){if(!_){if(F>56319){(z-=3)>-1&&b.push(239,191,189);continue}else if(z1+1===M){(z-=3)>-1&&b.push(239,191,189);continue}_=F;continue}if(F<56320){(z-=3)>-1&&b.push(239,191,189),_=F;continue}F=(_-55296<<10|F-56320)+65536}else _&&(z-=3)>-1&&b.push(239,191,189);if(_=null,F<128){if((z-=1)<0)break;b.push(F)}else if(F<2048){if((z-=2)<0)break;b.push(F>>6|192,F&63|128)}else if(F<65536){if((z-=3)<0)break;b.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((z-=4)<0)break;b.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return b}function y(B){let z=[];for(let F=0;F<B.length;++F)z.push(B.charCodeAt(F)&255);return z}function x1(B,z){let F,M,_,b=[];for(let z1=0;z1<B.length&&!((z-=2)<0);++z1)F=B.charCodeAt(z1),M=F>>8,_=F%256,b.push(_),b.push(M);return b}function n(B){return x.toByteArray(v(B))}function E(B,z,F,M){let _;for(_=0;_<M&&!(_+F>=z.length||_>=B.length);++_)z[_+F]=B[_];return _}function f(B,z){return B instanceof z||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===z.name}function r(B){return B!==B}let L1=function(){let B="0123456789abcdef",z=new Array(256);for(let F=0;F<16;++F){let M=F*16;for(let _=0;_<16;++_)z[M+_]=B[F]+B[_]}return z}();function D1(B){return typeof BigInt>"u"?j1:B}function j1(){throw new Error("BigInt not supported")}return Q8}function O1(){O1.init.call(this)}function J6(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function F2(x){return x._maxListeners===void 0?O1.defaultMaxListeners:x._maxListeners}function F4(x,J,k,X){var H,q,Z,U;if(J6(k),(q=x._events)===void 0?(q=x._events=Object.create(null),x._eventsCount=0):(q.newListener!==void 0&&(x.emit("newListener",J,k.listener?k.listener:k),q=x._events),Z=q[J]),Z===void 0)Z=q[J]=k,++x._eventsCount;else if(typeof Z=="function"?Z=q[J]=X?[k,Z]:[Z,k]:X?Z.unshift(k):Z.push(k),(H=F2(x))>0&&Z.length>H&&!Z.warned){Z.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(J)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=x,G.type=J,G.count=Z.length,U=G,console&&console.warn&&console.warn(U)}return x}function u9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function K4(x,J,k){var X={fired:!1,wrapFn:void 0,target:x,type:J,listener:k},H=u9.bind(X);return H.listener=k,X.wrapFn=H,H}function Q4(x,J,k){var X=x._events;if(X===void 0)return[];var H=X[J];return H===void 0?[]:typeof H=="function"?k?[H.listener||H]:[H]:k?function(q){for(var Z=new Array(q.length),U=0;U<Z.length;++U)Z[U]=q[U].listener||q[U];return Z}(H):K2(H,H.length)}function V4(x){var J=this._events;if(J!==void 0){var k=J[x];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}function K2(x,J){for(var k=new Array(J),X=0;X<J;++X)k[X]=x[X];return k}function j4(x){var J=x.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=x.indexOf("=");return k===-1&&(k=J),[k,k===J?0:4-k%4]}function s9(x,J,k){for(var X,H,q=[],Z=J;Z<k;Z+=3)X=(x[Z]<<16&16711680)+(x[Z+1]<<8&65280)+(255&x[Z+2]),q.push(s1[(H=X)>>18&63]+s1[H>>12&63]+s1[H>>6&63]+s1[63&H]);return q.join("")}function Y8(x){if(x>2147483647)throw new RangeError('The value "'+x+'" is invalid for option "size"');var J=new Uint8Array(x);return Object.setPrototypeOf(J,X1.prototype),J}function X1(x,J,k){if(typeof x=="number"){if(typeof J=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l5(x)}return N2(x,J,k)}function N2(x,J,k){if(typeof x=="string")return function(q,Z){if(typeof Z=="string"&&Z!==""||(Z="utf8"),!X1.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var U=0|M2(q,Z),G=Y8(U),Y=G.write(q,Z);return Y!==U&&(G=G.slice(0,Y)),G}(x,J);if(ArrayBuffer.isView(x))return T6(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(X8(x,ArrayBuffer)||x&&X8(x.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X8(x,SharedArrayBuffer)||x&&X8(x.buffer,SharedArrayBuffer)))return i9(x,J,k);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=x.valueOf&&x.valueOf();if(X!=null&&X!==x)return X1.from(X,J,k);var H=function(q){if(X1.isBuffer(q)){var Z=0|U4(q.length),U=Y8(Z);return U.length===0||q.copy(U,0,0,Z),U}if(q.length!==void 0)return typeof q.length!="number"||Y4(q.length)?Y8(0):T6(q);if(q.type==="Buffer"&&Array.isArray(q.data))return T6(q.data)}(x);if(H)return H;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return X1.from(x[Symbol.toPrimitive]("string"),J,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}function P2(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function l5(x){return P2(x),Y8(x<0?0:0|U4(x))}function T6(x){for(var J=x.length<0?0:0|U4(x.length),k=Y8(J),X=0;X<J;X+=1)k[X]=255&x[X];return k}function i9(x,J,k){if(J<0||x.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<J+(k||0))throw new RangeError('"length" is outside of buffer bounds');var X;return X=J===void 0&&k===void 0?new Uint8Array(x):k===void 0?new Uint8Array(x,J):new Uint8Array(x,J,k),Object.setPrototypeOf(X,X1.prototype),X}function U4(x){if(x>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|x}function M2(x,J){if(X1.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||X8(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);var k=x.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&k===0)return 0;for(var H=!1;;)switch(J){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return a5(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return T2(x).length;default:if(H)return X?-1:a5(x).length;J=(""+J).toLowerCase(),H=!0}}function r9(x,J,k){var X=!1;if((J===void 0||J<0)&&(J=0),J>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(J>>>=0))return"";for(x||(x="utf8");;)switch(x){case"hex":return U7(this,J,k);case"utf8":case"utf-8":return m2(this,J,k);case"ascii":return q7(this,J,k);case"latin1":case"binary":return J7(this,J,k);case"base64":return G7(this,J,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y7(this,J,k);default:if(X)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),X=!0}}function j8(x,J,k){var X=x[J];x[J]=x[k],x[k]=X}function N4(x,J,k,X,H){if(x.length===0)return-1;if(typeof k=="string"?(X=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),Y4(k=+k)&&(k=H?0:x.length-1),k<0&&(k=x.length+k),k>=x.length){if(H)return-1;k=x.length-1}else if(k<0){if(!H)return-1;k=0}if(typeof J=="string"&&(J=X1.from(J,X)),X1.isBuffer(J))return J.length===0?-1:P4(x,J,k,X,H);if(typeof J=="number")return J&=255,typeof Uint8Array.prototype.indexOf=="function"?H?Uint8Array.prototype.indexOf.call(x,J,k):Uint8Array.prototype.lastIndexOf.call(x,J,k):P4(x,[J],k,X,H);throw new TypeError("val must be string, number or Buffer")}function P4(x,J,k,X,H){var q,Z=1,U=x.length,G=J.length;if(X!==void 0&&((X=String(X).toLowerCase())==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(x.length<2||J.length<2)return-1;Z=2,U/=2,G/=2,k/=2}function Y(L,D){return Z===1?L[D]:L.readUInt16BE(D*Z)}if(H){var $=-1;for(q=k;q<U;q++)if(Y(x,q)===Y(J,$===-1?0:q-$)){if($===-1&&($=q),q-$+1===G)return $*Z}else $!==-1&&(q-=q-$),$=-1}else for(k+G>U&&(k=U-G),q=k;q>=0;q--){for(var K=!0,Q=0;Q<G;Q++)if(Y(x,q+Q)!==Y(J,Q)){K=!1;break}if(K)return q}return-1}function t9(x,J,k,X){k=Number(k)||0;var H=x.length-k;X?(X=Number(X))>H&&(X=H):X=H;var q=J.length;X>q/2&&(X=q/2);for(var Z=0;Z<X;++Z){var U=parseInt(J.substr(2*Z,2),16);if(Y4(U))return Z;x[k+Z]=U}return Z}function e9(x,J,k,X){return V6(a5(J,x.length-k),x,k,X)}function O2(x,J,k,X){return V6(function(H){for(var q=[],Z=0;Z<H.length;++Z)q.push(255&H.charCodeAt(Z));return q}(J),x,k,X)}function x7(x,J,k,X){return O2(x,J,k,X)}function k7(x,J,k,X){return V6(T2(J),x,k,X)}function Z7(x,J,k,X){return V6(function(H,q){for(var Z,U,G,Y=[],$=0;$<H.length&&!((q-=2)<0);++$)Z=H.charCodeAt($),U=Z>>8,G=Z%256,Y.push(G),Y.push(U);return Y}(J,x.length-k),x,k,X)}function G7(x,J,k){return J===0&&k===x.length?H6.fromByteArray(x):H6.fromByteArray(x.slice(J,k))}function m2(x,J,k){k=Math.min(x.length,k);for(var X=[],H=J;H<k;){var q,Z,U,G,Y=x[H],$=null,K=Y>239?4:Y>223?3:Y>191?2:1;if(H+K<=k)switch(K){case 1:Y<128&&($=Y);break;case 2:(192&(q=x[H+1]))==128&&(G=(31&Y)<<6|63&q)>127&&($=G);break;case 3:q=x[H+1],Z=x[H+2],(192&q)==128&&(192&Z)==128&&(G=(15&Y)<<12|(63&q)<<6|63&Z)>2047&&(G<55296||G>57343)&&($=G);break;case 4:q=x[H+1],Z=x[H+2],U=x[H+3],(192&q)==128&&(192&Z)==128&&(192&U)==128&&(G=(15&Y)<<18|(63&q)<<12|(63&Z)<<6|63&U)>65535&&G<1114112&&($=G)}$===null?($=65533,K=1):$>65535&&($-=65536,X.push($>>>10&1023|55296),$=56320|1023&$),X.push($),H+=K}return function(Q){var L=Q.length;if(L<=4096)return String.fromCharCode.apply(String,Q);for(var D="",V=0;V<L;)D+=String.fromCharCode.apply(String,Q.slice(V,V+=4096));return D}(X)}function q7(x,J,k){var X="";k=Math.min(x.length,k);for(var H=J;H<k;++H)X+=String.fromCharCode(127&x[H]);return X}function J7(x,J,k){var X="";k=Math.min(x.length,k);for(var H=J;H<k;++H)X+=String.fromCharCode(x[H]);return X}function U7(x,J,k){var X=x.length;(!J||J<0)&&(J=0),(!k||k<0||k>X)&&(k=X);for(var H="",q=J;q<k;++q)H+=I2[x[q]];return H}function Y7(x,J,k){for(var X=x.slice(J,k),H="",q=0;q<X.length;q+=2)H+=String.fromCharCode(X[q]+256*X[q+1]);return H}function w1(x,J,k){if(x%1!=0||x<0)throw new RangeError("offset is not uint");if(x+J>k)throw new RangeError("Trying to access beyond buffer length")}function d1(x,J,k,X,H,q){if(!X1.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(J>H||J<q)throw new RangeError('"value" argument is out of bounds');if(k+X>x.length)throw new RangeError("Index out of range")}function C2(x,J,k,X,H,q){if(k+X>x.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function M4(x,J,k,X,H){return J=+J,k>>>=0,H||C2(x,0,k,4),C8.write(x,J,k,X,23,4),k+4}function O4(x,J,k,X,H){return J=+J,k>>>=0,H||C2(x,0,k,8),C8.write(x,J,k,X,52,8),k+8}function a5(x,J){var k;J=J||1/0;for(var X=x.length,H=null,q=[],Z=0;Z<X;++Z){if((k=x.charCodeAt(Z))>55295&&k<57344){if(!H){if(k>56319){(J-=3)>-1&&q.push(239,191,189);continue}if(Z+1===X){(J-=3)>-1&&q.push(239,191,189);continue}H=k;continue}if(k<56320){(J-=3)>-1&&q.push(239,191,189),H=k;continue}k=65536+(H-55296<<10|k-56320)}else H&&(J-=3)>-1&&q.push(239,191,189);if(H=null,k<128){if((J-=1)<0)break;q.push(k)}else if(k<2048){if((J-=2)<0)break;q.push(k>>6|192,63&k|128)}else if(k<65536){if((J-=3)<0)break;q.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((J-=4)<0)break;q.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return q}function T2(x){return H6.toByteArray(function(J){if((J=(J=J.split("=")[0]).trim().replace(R2,"")).length<2)return"";for(;J.length%4!=0;)J+="=";return J}(x))}function V6(x,J,k,X){for(var H=0;H<X&&!(H+k>=J.length||H>=x.length);++H)J[H+k]=x[H];return H}function X8(x,J){return x instanceof J||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===J.name}function Y4(x){return x!=x}function m4(x,J){for(var k in x)J[k]=x[k]}function N8(x,J,k){return u1(x,J,k)}function l8(x){var J;switch(this.encoding=function(k){var X=function(H){if(!H)return"utf8";for(var q;;)switch(H){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return H;default:if(q)return;H=(""+H).toLowerCase(),q=!0}}(k);if(typeof X!="string"&&($6.isEncoding===o5||!o5(k)))throw new Error("Unknown encoding: "+k);return X||k}(x),this.encoding){case"utf16le":this.text=z7,this.end=H7,J=4;break;case"utf8":this.fillLast=X7,J=4;break;case"base64":this.text=$7,this.end=B7,J=3;break;default:return this.write=F7,this.end=K7,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=$6.allocUnsafe(J)}function R6(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function X7(x){var J=this.lastTotal-this.lastNeed,k=function(X,H,q){if((192&H[0])!=128)return X.lastNeed=0,"\uFFFD";if(X.lastNeed>1&&H.length>1){if((192&H[1])!=128)return X.lastNeed=1,"\uFFFD";if(X.lastNeed>2&&H.length>2&&(192&H[2])!=128)return X.lastNeed=2,"\uFFFD"}}(this,x);return k!==void 0?k:this.lastNeed<=x.length?(x.copy(this.lastChar,J,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,J,0,x.length),this.lastNeed-=x.length,void 0)}function z7(x,J){if((x.length-J)%2==0){var k=x.toString("utf16le",J);if(k){var X=k.charCodeAt(k.length-1);if(X>=55296&&X<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",J,x.length-1)}function H7(x){var J=x&&x.length?this.write(x):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return J+this.lastChar.toString("utf16le",0,k)}return J}function $7(x,J){var k=(x.length-J)%3;return k===0?x.toString("base64",J):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",J,x.length-k))}function B7(x){var J=x&&x.length?this.write(x):"";return this.lastNeed?J+this.lastChar.toString("base64",0,3-this.lastNeed):J}function F7(x){return x.toString(this.encoding)}function K7(x){return x&&x.length?this.write(x):""}function M8(x){throw new RangeError(r2[x])}function A4(x,J){let k=x.split("@"),X="";k.length>1&&(X=k[0]+"@",x=k[1]);let H=function(q,Z){let U=[],G=q.length;for(;G--;)U[G]=Z(q[G]);return U}((x=x.replace(i2,".")).split("."),J).join(".");return X+H}function S4(x){let J=[],k=0,X=x.length;for(;k<X;){let H=x.charCodeAt(k++);if(H>=55296&&H<=56319&&k<X){let q=x.charCodeAt(k++);(64512&q)==56320?J.push(((1023&H)<<10)+(1023&q)+65536):(J.push(H),k--)}else J.push(H)}return J}function U0(x,J){return Object.prototype.hasOwnProperty.call(x,J)}function u5(){throw new Error("setTimeout has not been defined")}function n5(){throw new Error("clearTimeout has not been defined")}function t2(x){if(q8===setTimeout)return setTimeout(x,0);if((q8===u5||!q8)&&setTimeout)return q8=setTimeout,setTimeout(x,0);try{return q8(x,0)}catch{try{return q8.call(null,x,0)}catch{return q8.call(this||v8,x,0)}}}function X0(){_8&&R8&&(_8=!1,R8.length?e1=R8.concat(e1):i8=-1,e1.length&&e2())}function e2(){if(!_8){var x=t2(X0);_8=!0;for(var J=e1.length;J;){for(R8=e1,e1=[];++i8<J;)R8&&R8[i8].run();i8=-1,J=e1.length}R8=null,_8=!1,function(k){if(J8===clearTimeout)return clearTimeout(k);if((J8===n5||!J8)&&clearTimeout)return J8=clearTimeout,clearTimeout(k);try{J8(k)}catch{try{return J8.call(null,k)}catch{return J8.call(this||v8,k)}}}(x)}}function b4(x,J){(this||v8).fun=x,(this||v8).array=J}function k8(){}function H0(){if(s5)return U6;s5=!0;var x=U6={},J,k;function X(){throw new Error("setTimeout has not been defined")}function H(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?J=setTimeout:J=X}catch{J=X}try{typeof clearTimeout=="function"?k=clearTimeout:k=H}catch{k=H}})();function q(V){if(J===setTimeout)return setTimeout(V,0);if((J===X||!J)&&setTimeout)return J=setTimeout,setTimeout(V,0);try{return J(V,0)}catch{try{return J.call(null,V,0)}catch{return J.call(this||m8,V,0)}}}function Z(V){if(k===clearTimeout)return clearTimeout(V);if((k===H||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(V);try{return k(V)}catch{try{return k.call(null,V)}catch{return k.call(this||m8,V)}}}var U=[],G=!1,Y,$=-1;function K(){!G||!Y||(G=!1,Y.length?U=Y.concat(U):$=-1,U.length&&Q())}function Q(){if(!G){var V=q(K);G=!0;for(var W=U.length;W;){for(Y=U,U=[];++$<W;)Y&&Y[$].run();$=-1,W=U.length}Y=null,G=!1,Z(V)}}x.nextTick=function(V){var W=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)W[N-1]=arguments[N];U.push(new L(V,W)),U.length===1&&!G&&q(Q)};function L(V,W){(this||m8).fun=V,(this||m8).array=W}L.prototype.run=function(){(this||m8).fun.apply(null,(this||m8).array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={};function D(){}return x.on=D,x.addListener=D,x.once=D,x.off=D,x.removeListener=D,x.removeAllListeners=D,x.emit=D,x.prependListener=D,x.prependOnceListener=D,x.listeners=function(V){return[]},x.binding=function(V){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(V){throw new Error("process.chdir is not supported")},x.umask=function(){return 0},U6}function $0(){if(i5)return Y6;i5=!0;var x=R1;function J(q){if(typeof q!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(q))}function k(q,Z){for(var U="",G=0,Y=-1,$=0,K,Q=0;Q<=q.length;++Q){if(Q<q.length)K=q.charCodeAt(Q);else{if(K===47)break;K=47}if(K===47){if(!(Y===Q-1||$===1))if(Y!==Q-1&&$===2){if(U.length<2||G!==2||U.charCodeAt(U.length-1)!==46||U.charCodeAt(U.length-2)!==46){if(U.length>2){var L=U.lastIndexOf("/");if(L!==U.length-1){L===-1?(U="",G=0):(U=U.slice(0,L),G=U.length-1-U.lastIndexOf("/")),Y=Q,$=0;continue}}else if(U.length===2||U.length===1){U="",G=0,Y=Q,$=0;continue}}Z&&(U.length>0?U+="/..":U="..",G=2)}else U.length>0?U+="/"+q.slice(Y+1,Q):U=q.slice(Y+1,Q),G=Q-Y-1;Y=Q,$=0}else K===46&&$!==-1?++$:$=-1}return U}function X(q,Z){var U=Z.dir||Z.root,G=Z.base||(Z.name||"")+(Z.ext||"");return U?U===Z.root?U+G:U+q+G:G}var H={resolve:function(){for(var q="",Z=!1,U,G=arguments.length-1;G>=-1&&!Z;G--){var Y;G>=0?Y=arguments[G]:(U===void 0&&(U=x.cwd()),Y=U),J(Y),Y.length!==0&&(q=Y+"/"+q,Z=Y.charCodeAt(0)===47)}return q=k(q,!Z),Z?q.length>0?"/"+q:"/":q.length>0?q:"."},normalize:function(q){if(J(q),q.length===0)return".";var Z=q.charCodeAt(0)===47,U=q.charCodeAt(q.length-1)===47;return q=k(q,!Z),q.length===0&&!Z&&(q="."),q.length>0&&U&&(q+="/"),Z?"/"+q:q},isAbsolute:function(q){return J(q),q.length>0&&q.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var q,Z=0;Z<arguments.length;++Z){var U=arguments[Z];J(U),U.length>0&&(q===void 0?q=U:q+="/"+U)}return q===void 0?".":H.normalize(q)},relative:function(q,Z){if(J(q),J(Z),q===Z||(q=H.resolve(q),Z=H.resolve(Z),q===Z))return"";for(var U=1;U<q.length&&q.charCodeAt(U)===47;++U);for(var G=q.length,Y=G-U,$=1;$<Z.length&&Z.charCodeAt($)===47;++$);for(var K=Z.length,Q=K-$,L=Y<Q?Y:Q,D=-1,V=0;V<=L;++V){if(V===L){if(Q>L){if(Z.charCodeAt($+V)===47)return Z.slice($+V+1);if(V===0)return Z.slice($+V)}else Y>L&&(q.charCodeAt(U+V)===47?D=V:V===0&&(D=0));break}var W=q.charCodeAt(U+V),N=Z.charCodeAt($+V);if(W!==N)break;W===47&&(D=V)}var P="";for(V=U+D+1;V<=G;++V)(V===G||q.charCodeAt(V)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+Z.slice($+D):($+=D,Z.charCodeAt($)===47&&++$,Z.slice($))},_makeLong:function(q){return q},dirname:function(q){if(J(q),q.length===0)return".";for(var Z=q.charCodeAt(0),U=Z===47,G=-1,Y=!0,$=q.length-1;$>=1;--$)if(Z=q.charCodeAt($),Z===47){if(!Y){G=$;break}}else Y=!1;return G===-1?U?"/":".":U&&G===1?"//":q.slice(0,G)},basename:function(q,Z){if(Z!==void 0&&typeof Z!="string")throw new TypeError('"ext" argument must be a string');J(q);var U=0,G=-1,Y=!0,$;if(Z!==void 0&&Z.length>0&&Z.length<=q.length){if(Z.length===q.length&&Z===q)return"";var K=Z.length-1,Q=-1;for($=q.length-1;$>=0;--$){var L=q.charCodeAt($);if(L===47){if(!Y){U=$+1;break}}else Q===-1&&(Y=!1,Q=$+1),K>=0&&(L===Z.charCodeAt(K)?--K===-1&&(G=$):(K=-1,G=Q))}return U===G?G=Q:G===-1&&(G=q.length),q.slice(U,G)}else{for($=q.length-1;$>=0;--$)if(q.charCodeAt($)===47){if(!Y){U=$+1;break}}else G===-1&&(Y=!1,G=$+1);return G===-1?"":q.slice(U,G)}},extname:function(q){J(q);for(var Z=-1,U=0,G=-1,Y=!0,$=0,K=q.length-1;K>=0;--K){var Q=q.charCodeAt(K);if(Q===47){if(!Y){U=K+1;break}continue}G===-1&&(Y=!1,G=K+1),Q===46?Z===-1?Z=K:$!==1&&($=1):Z!==-1&&($=-1)}return Z===-1||G===-1||$===0||$===1&&Z===G-1&&Z===U+1?"":q.slice(Z,G)},format:function(q){if(q===null||typeof q!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof q);return X("/",q)},parse:function(q){J(q);var Z={root:"",dir:"",base:"",ext:"",name:""};if(q.length===0)return Z;var U=q.charCodeAt(0),G=U===47,Y;G?(Z.root="/",Y=1):Y=0;for(var $=-1,K=0,Q=-1,L=!0,D=q.length-1,V=0;D>=Y;--D){if(U=q.charCodeAt(D),U===47){if(!L){K=D+1;break}continue}Q===-1&&(L=!1,Q=D+1),U===46?$===-1?$=D:V!==1&&(V=1):$!==-1&&(V=-1)}return $===-1||Q===-1||V===0||V===1&&$===Q-1&&$===K+1?Q!==-1&&(K===0&&G?Z.base=Z.name=q.slice(1,Q):Z.base=Z.name=q.slice(K,Q)):(K===0&&G?(Z.name=q.slice(1,$),Z.base=q.slice(1,Q)):(Z.name=q.slice(K,$),Z.base=q.slice(K,Q)),Z.ext=q.slice($,Q)),K>0?Z.dir=q.slice(0,K-1):G&&(Z.dir="/"),Z},sep:"/",delimiter:":",win32:null,posix:null};return H.posix=H,Y6=H,Y6}function l1(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function f8(x,J,k){if(x&&n1.isObject(x)&&x instanceof l1)return x;var X=new l1;return X.parse(x,J,k),X}function F0(){if(t5)return X6;t5=!0;var x=_1;function J(q){if(typeof q!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(q))}function k(q,Z){for(var U="",G=0,Y=-1,$=0,K,Q=0;Q<=q.length;++Q){if(Q<q.length)K=q.charCodeAt(Q);else{if(K===47)break;K=47}if(K===47){if(!(Y===Q-1||$===1))if(Y!==Q-1&&$===2){if(U.length<2||G!==2||U.charCodeAt(U.length-1)!==46||U.charCodeAt(U.length-2)!==46){if(U.length>2){var L=U.lastIndexOf("/");if(L!==U.length-1){L===-1?(U="",G=0):(U=U.slice(0,L),G=U.length-1-U.lastIndexOf("/")),Y=Q,$=0;continue}}else if(U.length===2||U.length===1){U="",G=0,Y=Q,$=0;continue}}Z&&(U.length>0?U+="/..":U="..",G=2)}else U.length>0?U+="/"+q.slice(Y+1,Q):U=q.slice(Y+1,Q),G=Q-Y-1;Y=Q,$=0}else K===46&&$!==-1?++$:$=-1}return U}function X(q,Z){var U=Z.dir||Z.root,G=Z.base||(Z.name||"")+(Z.ext||"");return U?U===Z.root?U+G:U+q+G:G}var H={resolve:function(){for(var q="",Z=!1,U,G=arguments.length-1;G>=-1&&!Z;G--){var Y;G>=0?Y=arguments[G]:(U===void 0&&(U=x.cwd()),Y=U),J(Y),Y.length!==0&&(q=Y+"/"+q,Z=Y.charCodeAt(0)===47)}return q=k(q,!Z),Z?q.length>0?"/"+q:"/":q.length>0?q:"."},normalize:function(q){if(J(q),q.length===0)return".";var Z=q.charCodeAt(0)===47,U=q.charCodeAt(q.length-1)===47;return q=k(q,!Z),q.length===0&&!Z&&(q="."),q.length>0&&U&&(q+="/"),Z?"/"+q:q},isAbsolute:function(q){return J(q),q.length>0&&q.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var q,Z=0;Z<arguments.length;++Z){var U=arguments[Z];J(U),U.length>0&&(q===void 0?q=U:q+="/"+U)}return q===void 0?".":H.normalize(q)},relative:function(q,Z){if(J(q),J(Z),q===Z||(q=H.resolve(q),Z=H.resolve(Z),q===Z))return"";for(var U=1;U<q.length&&q.charCodeAt(U)===47;++U);for(var G=q.length,Y=G-U,$=1;$<Z.length&&Z.charCodeAt($)===47;++$);for(var K=Z.length,Q=K-$,L=Y<Q?Y:Q,D=-1,V=0;V<=L;++V){if(V===L){if(Q>L){if(Z.charCodeAt($+V)===47)return Z.slice($+V+1);if(V===0)return Z.slice($+V)}else Y>L&&(q.charCodeAt(U+V)===47?D=V:V===0&&(D=0));break}var W=q.charCodeAt(U+V),N=Z.charCodeAt($+V);if(W!==N)break;W===47&&(D=V)}var P="";for(V=U+D+1;V<=G;++V)(V===G||q.charCodeAt(V)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+Z.slice($+D):($+=D,Z.charCodeAt($)===47&&++$,Z.slice($))},_makeLong:function(q){return q},dirname:function(q){if(J(q),q.length===0)return".";for(var Z=q.charCodeAt(0),U=Z===47,G=-1,Y=!0,$=q.length-1;$>=1;--$)if(Z=q.charCodeAt($),Z===47){if(!Y){G=$;break}}else Y=!1;return G===-1?U?"/":".":U&&G===1?"//":q.slice(0,G)},basename:function(q,Z){if(Z!==void 0&&typeof Z!="string")throw new TypeError('"ext" argument must be a string');J(q);var U=0,G=-1,Y=!0,$;if(Z!==void 0&&Z.length>0&&Z.length<=q.length){if(Z.length===q.length&&Z===q)return"";var K=Z.length-1,Q=-1;for($=q.length-1;$>=0;--$){var L=q.charCodeAt($);if(L===47){if(!Y){U=$+1;break}}else Q===-1&&(Y=!1,Q=$+1),K>=0&&(L===Z.charCodeAt(K)?--K===-1&&(G=$):(K=-1,G=Q))}return U===G?G=Q:G===-1&&(G=q.length),q.slice(U,G)}else{for($=q.length-1;$>=0;--$)if(q.charCodeAt($)===47){if(!Y){U=$+1;break}}else G===-1&&(Y=!1,G=$+1);return G===-1?"":q.slice(U,G)}},extname:function(q){J(q);for(var Z=-1,U=0,G=-1,Y=!0,$=0,K=q.length-1;K>=0;--K){var Q=q.charCodeAt(K);if(Q===47){if(!Y){U=K+1;break}continue}G===-1&&(Y=!1,G=K+1),Q===46?Z===-1?Z=K:$!==1&&($=1):Z!==-1&&($=-1)}return Z===-1||G===-1||$===0||$===1&&Z===G-1&&Z===U+1?"":q.slice(Z,G)},format:function(q){if(q===null||typeof q!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof q);return X("/",q)},parse:function(q){J(q);var Z={root:"",dir:"",base:"",ext:"",name:""};if(q.length===0)return Z;var U=q.charCodeAt(0),G=U===47,Y;G?(Z.root="/",Y=1):Y=0;for(var $=-1,K=0,Q=-1,L=!0,D=q.length-1,V=0;D>=Y;--D){if(U=q.charCodeAt(D),U===47){if(!L){K=D+1;break}continue}Q===-1&&(L=!1,Q=D+1),U===46?$===-1?$=D:V!==1&&(V=1):$!==-1&&(V=-1)}return $===-1||Q===-1||V===0||V===1&&$===Q-1&&$===K+1?Q!==-1&&(K===0&&G?Z.base=Z.name=q.slice(1,Q):Z.base=Z.name=q.slice(K,Q)):(K===0&&G?(Z.name=q.slice(1,$),Z.base=q.slice(1,Q)):(Z.name=q.slice(K,$),Z.base=q.slice(K,Q)),Z.ext=q.slice($,Q)),K>0?Z.dir=q.slice(0,K-1):G&&(Z.dir="/"),Z},sep:"/",delimiter:":",win32:null,posix:null};return H.posix=H,X6=H,X6}function K0(x){if(typeof x=="string")x=new URL(x);else if(!(x instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(x.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return B6?Q0(x):V0(x)}function Q0(x){let{hostname:J,pathname:k}=x;for(let X=0;X<k.length;X++)if(k[X]==="%"){let H=k.codePointAt(X+2)||32;if(k[X+1]==="2"&&H===102||k[X+1]==="5"&&H===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(k=k.replace(X9,"\\"),k=decodeURIComponent(k),J!=="")return`\\\\${J}${k}`;{let X=k.codePointAt(1)|32,H=k[2];if(X<U9||X>Y9||H!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return k.slice(1)}}function V0(x){if(x.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let J=x.pathname;for(let k=0;k<J.length;k++)if(J[k]==="%"){let X=J.codePointAt(k+2)||32;if(J[k+1]==="2"&&X===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(J)}function L0(x){let J=e5.resolve(x),k=x.charCodeAt(x.length-1);(k===J9||B6&&k===q9)&&J[J.length-1]!==e5.sep&&(J+="/");let X=new URL("file://");return J.includes("%")&&(J=J.replace(z9,"%25")),!B6&&J.includes("\\")&&(J=J.replace(H9,"%5C")),J.includes(`
`)&&(J=J.replace($9,"%0A")),J.includes("\r")&&(J=J.replace(B9,"%0D")),J.includes("	")&&(J=J.replace(F9,"%09")),X.pathname=J,X}function Z9(x){if(typeof x=="string")x=new URL(x);else if(!(x instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(x.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return F6?D0(x):W0(x)}function D0(x){let{hostname:J,pathname:k}=x;for(let X=0;X<k.length;X++)if(k[X]==="%"){let H=k.codePointAt(X+2)||32;if(k[X+1]==="2"&&H===102||k[X+1]==="5"&&H===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(k=k.replace(O9,"\\"),k=decodeURIComponent(k),J!=="")return`\\\\${J}${k}`;{let X=k.codePointAt(1)|32,H=k[2];if(X<P9||X>M9||H!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return k.slice(1)}}function W0(x){if(x.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let J=x.pathname;for(let k=0;k<J.length;k++)if(J[k]==="%"){let X=J.codePointAt(k+2)||32;if(J[k+1]==="2"&&X===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(J)}function G9(x){let J=r5.resolve(x),k=x.charCodeAt(x.length-1);(k===N9||F6&&k===j9)&&J[J.length-1]!==r5.sep&&(J+="/");let X=new URL("file://");return J.includes("%")&&(J=J.replace(m9,"%25")),!F6&&J.includes("\\")&&(J=J.replace(C9,"%5C")),J.includes(`
`)&&(J=J.replace(T9,"%0A")),J.includes("\r")&&(J=J.replace(R9,"%0D")),J.includes("	")&&(J=J.replace(I9,"%09")),X.pathname=J,X}function I1(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var{defineProperty:x4,getOwnPropertyDescriptor:y9,getOwnPropertyNames:b9}=Object,d9=Object.prototype.hasOwnProperty,E1=(x,J)=>()=>(x&&(J=x(x=0)),J),$1=(x,J)=>()=>(J||x((J={exports:{}}).exports,J),J.exports),A8=(x,J)=>{for(var k in J)x4(x,k,{get:J[k],enumerable:!0})},g9=(x,J,k,X)=>{if(J&&typeof J=="object"||typeof J=="function")for(let H of b9(J))!d9.call(x,H)&&H!==k&&x4(x,H,{get:()=>J[H],enumerable:!(X=y9(J,H))||X.enumerable});return x},C1=(x)=>g9(x4({},"__esModule",{value:!0}),x),Z1=E1(()=>{}),N1={};A8(N1,{_debugEnd:()=>Q5,_debugProcess:()=>K5,_events:()=>v5,_eventsCount:()=>_5,_exiting:()=>x5,_fatalExceptions:()=>$5,_getActiveHandles:()=>U2,_getActiveRequests:()=>J2,_kill:()=>G5,_linkedBinding:()=>G2,_maxListeners:()=>I5,_preload_modules:()=>T5,_rawDebug:()=>r6,_startProfilerIdleNotifier:()=>V5,_stopProfilerIdleNotifier:()=>L5,_tickCallback:()=>F5,abort:()=>N5,addListener:()=>A5,allowedNodeEnvironmentFlags:()=>z5,arch:()=>b6,argv:()=>c6,argv0:()=>C5,assert:()=>Y2,binding:()=>f6,chdir:()=>s6,config:()=>k5,cpuUsage:()=>u8,cwd:()=>n6,debugPort:()=>m5,default:()=>Z4,dlopen:()=>q2,domain:()=>e6,emit:()=>y5,emitWarning:()=>o6,env:()=>g6,execArgv:()=>h6,execPath:()=>O5,exit:()=>Y5,features:()=>H5,hasUncaughtExceptionCaptureCallback:()=>X2,hrtime:()=>G6,kill:()=>U5,listeners:()=>H2,memoryUsage:()=>J5,moduleLoadList:()=>t6,nextTick:()=>k2,off:()=>w5,on:()=>Z8,once:()=>S5,openStdin:()=>X5,pid:()=>P5,platform:()=>d6,ppid:()=>M5,prependListener:()=>b5,prependOnceListener:()=>d5,reallyExit:()=>Z5,release:()=>i6,removeAllListeners:()=>p5,removeListener:()=>E5,resourceUsage:()=>q5,setSourceMapsEnabled:()=>R5,setUncaughtExceptionCaptureCallback:()=>B5,stderr:()=>W5,stdin:()=>j5,stdout:()=>D5,title:()=>y6,umask:()=>u6,uptime:()=>z2,version:()=>l6,versions:()=>a6});var t1,I8,T8,s8,y6,b6,d6,g6,c6,h6,l6,a6,o6,f6,u6,n6,s6,i6,r6,t6,e6,x5,k5,Z5,G5,u8,q5,J5,U5,Y5,X5,z5,H5,$5,B5,F5,K5,Q5,V5,L5,D5,W5,j5,N5,P5,M5,O5,m5,C5,T5,R5,U8,M6,q6,I5,v5,_5,A5,S5,w5,E5,p5,y5,b5,d5,Z4,h9=E1(()=>{Z1(),q1(),G1(),t1=[],I8=!1,s8=-1,Z2.prototype.run=function(){this.fun.apply(null,this.array)},y6="browser",b6="x64",d6="browser",g6={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},c6=["/usr/bin/node"],h6=[],l6="v16.8.0",a6={},o6=function(x,J){console.warn((J?J+": ":"")+x)},f6=function(x){k4("binding")},u6=function(x){return 0},n6=function(){return"/"},s6=function(x){},i6={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},r6=b1,t6=[],e6={},x5=!1,k5={},Z5=b1,G5=b1,u8=function(){return{}},q5=u8,J5=u8,U5=b1,Y5=b1,X5=b1,z5={},H5={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},$5=b1,B5=b1,F5=b1,K5=b1,Q5=b1,V5=b1,L5=b1,D5=void 0,W5=void 0,j5=void 0,N5=b1,P5=2,M5=1,O5="/bin/usr/node",m5=9229,C5="node",T5=[],R5=b1,U8={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},U8.now===void 0&&(M6=Date.now(),U8.timing&&U8.timing.navigationStart&&(M6=U8.timing.navigationStart),U8.now=()=>Date.now()-M6),q6=1e9,G6.bigint=function(x){var J=G6(x);return typeof BigInt>"u"?J[0]*q6+J[1]:BigInt(J[0]*q6)+BigInt(J[1])},I5=10,v5={},_5=0,A5=Z8,S5=Z8,w5=Z8,E5=Z8,p5=Z8,y5=b1,b5=Z8,d5=Z8,Z4={version:l6,versions:a6,arch:b6,platform:d6,release:i6,_rawDebug:r6,moduleLoadList:t6,binding:f6,_linkedBinding:G2,_events:v5,_eventsCount:_5,_maxListeners:I5,on:Z8,addListener:A5,once:S5,off:w5,removeListener:E5,removeAllListeners:p5,emit:y5,prependListener:b5,prependOnceListener:d5,listeners:H2,domain:e6,_exiting:x5,config:k5,dlopen:q2,uptime:z2,_getActiveRequests:J2,_getActiveHandles:U2,reallyExit:Z5,_kill:G5,cpuUsage:u8,resourceUsage:q5,memoryUsage:J5,kill:U5,exit:Y5,openStdin:X5,allowedNodeEnvironmentFlags:z5,assert:Y2,features:H5,_fatalExceptions:$5,setUncaughtExceptionCaptureCallback:B5,hasUncaughtExceptionCaptureCallback:X2,emitWarning:o6,nextTick:k2,_tickCallback:F5,_debugProcess:K5,_debugEnd:Q5,_startProfilerIdleNotifier:V5,_stopProfilerIdleNotifier:L5,stdout:D5,stdin:j5,stderr:W5,abort:N5,umask:u6,chdir:s6,cwd:n6,env:g6,title:y6,argv:c6,execArgv:h6,pid:P5,ppid:M5,execPath:O5,debugPort:m5,hrtime:G6,argv0:C5,_preload_modules:T5,setSourceMapsEnabled:R5}}),G1=E1(()=>{h9()}),p1={};A8(p1,{Buffer:()=>z6,INSPECT_MAX_BYTES:()=>$2,default:()=>G8,kMaxLength:()=>B2});var y8,g5,n8,c5,Q8,h5,G8,z6,$2,B2,y1=E1(()=>{Z1(),q1(),G1(),y8={},g5=!1,n8={},c5=!1,Q8={},h5=!1,G8=o9(),G8.Buffer,G8.SlowBuffer,G8.INSPECT_MAX_BYTES,G8.kMaxLength,z6=G8.Buffer,$2=G8.INSPECT_MAX_BYTES,B2=G8.kMaxLength}),q1=E1(()=>{y1()}),f9=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=class{constructor(k){this.aliasToTopic={},this.max=k}put(k,X){return X===0||X>this.max?!1:(this.aliasToTopic[X]=k,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(k){return this.aliasToTopic[k]}clear(){this.aliasToTopic={}}};x.default=J}),S1=$1((x,J)=>{Z1(),q1(),G1(),J.exports={ArrayIsArray(k){return Array.isArray(k)},ArrayPrototypeIncludes(k,X){return k.includes(X)},ArrayPrototypeIndexOf(k,X){return k.indexOf(X)},ArrayPrototypeJoin(k,X){return k.join(X)},ArrayPrototypeMap(k,X){return k.map(X)},ArrayPrototypePop(k,X){return k.pop(X)},ArrayPrototypePush(k,X){return k.push(X)},ArrayPrototypeSlice(k,X,H){return k.slice(X,H)},Error,FunctionPrototypeCall(k,X,...H){return k.call(X,...H)},FunctionPrototypeSymbolHasInstance(k,X){return Function.prototype[Symbol.hasInstance].call(k,X)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(k,X){return Object.defineProperties(k,X)},ObjectDefineProperty(k,X,H){return Object.defineProperty(k,X,H)},ObjectGetOwnPropertyDescriptor(k,X){return Object.getOwnPropertyDescriptor(k,X)},ObjectKeys(k){return Object.keys(k)},ObjectSetPrototypeOf(k,X){return Object.setPrototypeOf(k,X)},Promise,PromisePrototypeCatch(k,X){return k.catch(X)},PromisePrototypeThen(k,X,H){return k.then(X,H)},PromiseReject(k){return Promise.reject(k)},ReflectApply:Reflect.apply,RegExpPrototypeTest(k,X){return k.test(X)},SafeSet:Set,String,StringPrototypeSlice(k,X,H){return k.slice(X,H)},StringPrototypeToLowerCase(k){return k.toLowerCase()},StringPrototypeToUpperCase(k){return k.toUpperCase()},StringPrototypeTrim(k){return k.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(k,X,H){return k.set(X,H)},Uint8Array}}),z8=$1((x,J)=>{Z1(),q1(),G1();var k=(y1(),C1(p1)),X=Object.getPrototypeOf(async function(){}).constructor,H=globalThis.Blob||k.Blob,q=typeof H<"u"?function(U){return U instanceof H}:function(U){return!1},Z=class extends Error{constructor(U){if(!Array.isArray(U))throw new TypeError(`Expected input to be an Array, got ${typeof U}`);let G="";for(let Y=0;Y<U.length;Y++)G+=`    ${U[Y].stack}
`;super(G),this.name="AggregateError",this.errors=U}};J.exports={AggregateError:Z,kEmptyObject:Object.freeze({}),once(U){let G=!1;return function(...Y){G||(G=!0,U.apply(this,Y))}},createDeferredPromise:function(){let U,G;return{promise:new Promise((Y,$)=>{U=Y,G=$}),resolve:U,reject:G}},promisify(U){return new Promise((G,Y)=>{U(($,...K)=>$?Y($):G(...K))})},debuglog(){return function(){}},format(U,...G){return U.replace(/%([sdifj])/g,function(...[Y,$]){let K=G.shift();return $==="f"?K.toFixed(6):$==="j"?JSON.stringify(K):$==="s"&&typeof K=="object"?`${K.constructor!==Object?K.constructor.name:""} {}`.trim():K.toString()})},inspect(U){switch(typeof U){case"string":if(U.includes("'"))if(U.includes('"')){if(!U.includes("`")&&!U.includes("${"))return`\`${U}\``}else return`"${U}"`;return`'${U}'`;case"number":return isNaN(U)?"NaN":Object.is(U,-0)?String(U):U;case"bigint":return`${String(U)}n`;case"boolean":case"undefined":return String(U);case"object":return"{}"}},types:{isAsyncFunction(U){return U instanceof X},isArrayBufferView(U){return ArrayBuffer.isView(U)}},isBlob:q},J.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),G4=$1((x,J)=>{Z1(),q1(),G1();var{AbortController:k,AbortSignal:X}=typeof self<"u"?self:typeof window<"u"?window:void 0;J.exports=k,J.exports.AbortSignal=X,J.exports.default=k}),g1=$1((x,J)=>{Z1(),q1(),G1();var{format:k,inspect:X,AggregateError:H}=z8(),q=globalThis.AggregateError||H,Z=Symbol("kIsNodeError"),U=["string","function","number","object","Function","Object","boolean","bigint","symbol"],G=/^([A-Z][a-z0-9]*)+$/,Y="__node_internal_",$={};function K(P,j){if(!P)throw new $.ERR_INTERNAL_ASSERTION(j)}function Q(P){let j="",T=P.length,w=P[0]==="-"?1:0;for(;T>=w+4;T-=3)j=`_${P.slice(T-3,T)}${j}`;return`${P.slice(0,T)}${j}`}function L(P,j,T){if(typeof j=="function")return K(j.length<=T.length,`Code: ${P}; The provided arguments length (${T.length}) does not match the required ones (${j.length}).`),j(...T);let w=(j.match(/%[dfijoOs]/g)||[]).length;return K(w===T.length,`Code: ${P}; The provided arguments length (${T.length}) does not match the required ones (${w}).`),T.length===0?j:k(j,...T)}function D(P,j,T){T||(T=Error);class w extends T{constructor(...O){super(L(P,j,O))}toString(){return`${this.name} [${P}]: ${this.message}`}}Object.defineProperties(w.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${P}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),w.prototype.code=P,w.prototype[Z]=!0,$[P]=w}function V(P){let j=Y+P.name;return Object.defineProperty(P,"name",{value:j}),P}function W(P,j){if(P&&j&&P!==j){if(Array.isArray(j.errors))return j.errors.push(P),j;let T=new q([j,P],j.message);return T.code=j.code,T}return P||j}var N=class extends Error{constructor(P="The operation was aborted",j=void 0){if(j!==void 0&&typeof j!="object")throw new $.ERR_INVALID_ARG_TYPE("options","Object",j);super(P,j),this.code="ABORT_ERR",this.name="AbortError"}};D("ERR_ASSERTION","%s",Error),D("ERR_INVALID_ARG_TYPE",(P,j,T)=>{K(typeof P=="string","'name' must be a string"),Array.isArray(j)||(j=[j]);let w="The ";P.endsWith(" argument")?w+=`${P} `:w+=`"${P}" ${P.includes(".")?"property":"argument"} `,w+="must be ";let O=[],R=[],S=[];for(let o of j)K(typeof o=="string","All expected entries have to be of type string"),U.includes(o)?O.push(o.toLowerCase()):G.test(o)?R.push(o):(K(o!=="object",'The value "object" should be written as "Object"'),S.push(o));if(R.length>0){let o=O.indexOf("object");o!==-1&&(O.splice(O,o,1),R.push("Object"))}if(O.length>0){switch(O.length){case 1:w+=`of type ${O[0]}`;break;case 2:w+=`one of type ${O[0]} or ${O[1]}`;break;default:{let o=O.pop();w+=`one of type ${O.join(", ")}, or ${o}`}}(R.length>0||S.length>0)&&(w+=" or ")}if(R.length>0){switch(R.length){case 1:w+=`an instance of ${R[0]}`;break;case 2:w+=`an instance of ${R[0]} or ${R[1]}`;break;default:{let o=R.pop();w+=`an instance of ${R.join(", ")}, or ${o}`}}S.length>0&&(w+=" or ")}switch(S.length){case 0:break;case 1:S[0].toLowerCase()!==S[0]&&(w+="an "),w+=`${S[0]}`;break;case 2:w+=`one of ${S[0]} or ${S[1]}`;break;default:{let o=S.pop();w+=`one of ${S.join(", ")}, or ${o}`}}if(T==null)w+=`. Received ${T}`;else if(typeof T=="function"&&T.name)w+=`. Received function ${T.name}`;else if(typeof T=="object"){var c;if((c=T.constructor)!==null&&c!==void 0&&c.name)w+=`. Received an instance of ${T.constructor.name}`;else{let o=X(T,{depth:-1});w+=`. Received ${o}`}}else{let o=X(T,{colors:!1});o.length>25&&(o=`${o.slice(0,25)}...`),w+=`. Received type ${typeof T} (${o})`}return w},TypeError),D("ERR_INVALID_ARG_VALUE",(P,j,T="is invalid")=>{let w=X(j);return w.length>128&&(w=w.slice(0,128)+"..."),`The ${P.includes(".")?"property":"argument"} '${P}' ${T}. Received ${w}`},TypeError),D("ERR_INVALID_RETURN_VALUE",(P,j,T)=>{var w;let O=T!=null&&(w=T.constructor)!==null&&w!==void 0&&w.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${P} to be returned from the "${j}" function but got ${O}.`},TypeError),D("ERR_MISSING_ARGS",(...P)=>{K(P.length>0,"At least one arg needs to be specified");let j,T=P.length;switch(P=(Array.isArray(P)?P:[P]).map((w)=>`"${w}"`).join(" or "),T){case 1:j+=`The ${P[0]} argument`;break;case 2:j+=`The ${P[0]} and ${P[1]} arguments`;break;default:{let w=P.pop();j+=`The ${P.join(", ")}, and ${w} arguments`}break}return`${j} must be specified`},TypeError),D("ERR_OUT_OF_RANGE",(P,j,T)=>{K(j,'Missing "range" argument');let w;return Number.isInteger(T)&&Math.abs(T)>4294967296?w=Q(String(T)):typeof T=="bigint"?(w=String(T),(T>2n**32n||T<-(2n**32n))&&(w=Q(w)),w+="n"):w=X(T),`The value of "${P}" is out of range. It must be ${j}. Received ${w}`},RangeError),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),D("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),D("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),D("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),D("ERR_STREAM_WRITE_AFTER_END","write after end",Error),D("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),J.exports={AbortError:N,aggregateTwoErrors:V(W),hideStackFrames:V,codes:$}}),K6=$1((x,J)=>{Z1(),q1(),G1();var{ArrayIsArray:k,ArrayPrototypeIncludes:X,ArrayPrototypeJoin:H,ArrayPrototypeMap:q,NumberIsInteger:Z,NumberIsNaN:U,NumberMAX_SAFE_INTEGER:G,NumberMIN_SAFE_INTEGER:Y,NumberParseInt:$,ObjectPrototypeHasOwnProperty:K,RegExpPrototypeExec:Q,String:L,StringPrototypeToUpperCase:D,StringPrototypeTrim:V}=S1(),{hideStackFrames:W,codes:{ERR_SOCKET_BAD_PORT:N,ERR_INVALID_ARG_TYPE:P,ERR_INVALID_ARG_VALUE:j,ERR_OUT_OF_RANGE:T,ERR_UNKNOWN_SIGNAL:w}}=g1(),{normalizeEncoding:O}=z8(),{isAsyncFunction:R,isArrayBufferView:S}=z8().types,c={};function o(E){return E===(E|0)}function i(E){return E===E>>>0}var I=/^[0-7]+$/,g="must be a 32-bit unsigned integer or an octal string";function s(E,f,r){if(typeof E>"u"&&(E=r),typeof E=="string"){if(Q(I,E)===null)throw new j(f,E,g);E=$(E,8)}return k1(E,f),E}var h=W((E,f,r=Y,L1=G)=>{if(typeof E!="number")throw new P(f,"number",E);if(!Z(E))throw new T(f,"an integer",E);if(E<r||E>L1)throw new T(f,`>= ${r} && <= ${L1}`,E)}),U1=W((E,f,r=-2147483648,L1=2147483647)=>{if(typeof E!="number")throw new P(f,"number",E);if(!Z(E))throw new T(f,"an integer",E);if(E<r||E>L1)throw new T(f,`>= ${r} && <= ${L1}`,E)}),k1=W((E,f,r=!1)=>{if(typeof E!="number")throw new P(f,"number",E);if(!Z(E))throw new T(f,"an integer",E);let L1=r?1:0,D1=4294967295;if(E<L1||E>D1)throw new T(f,`>= ${L1} && <= ${D1}`,E)});function d(E,f){if(typeof E!="string")throw new P(f,"string",E)}function B1(E,f,r=void 0,L1){if(typeof E!="number")throw new P(f,"number",E);if(r!=null&&E<r||L1!=null&&E>L1||(r!=null||L1!=null)&&U(E))throw new T(f,`${r!=null?`>= ${r}`:""}${r!=null&&L1!=null?" && ":""}${L1!=null?`<= ${L1}`:""}`,E)}var e=W((E,f,r)=>{if(!X(r,E)){let L1="must be one of: "+H(q(r,(D1)=>typeof D1=="string"?`'${D1}'`:L(D1)),", ");throw new j(f,E,L1)}});function Q1(E,f){if(typeof E!="boolean")throw new P(f,"boolean",E)}function m(E,f,r){return E==null||!K(E,f)?r:E[f]}var a=W((E,f,r=null)=>{let L1=m(r,"allowArray",!1),D1=m(r,"allowFunction",!1);if(!m(r,"nullable",!1)&&E===null||!L1&&k(E)||typeof E!="object"&&(!D1||typeof E!="function"))throw new P(f,"Object",E)}),K1=W((E,f)=>{if(E!=null&&typeof E!="object"&&typeof E!="function")throw new P(f,"a dictionary",E)}),V1=W((E,f,r=0)=>{if(!k(E))throw new P(f,"Array",E);if(E.length<r){let L1=`must be longer than ${r}`;throw new j(f,E,L1)}});function H1(E,f){V1(E,f);for(let r=0;r<E.length;r++)d(E[r],`${f}[${r}]`)}function A(E,f){V1(E,f);for(let r=0;r<E.length;r++)Q1(E[r],`${f}[${r}]`)}function C(E,f="signal"){if(d(E,f),c[E]===void 0)throw c[D(E)]!==void 0?new w(E+" (signals must use all capital letters)"):new w(E)}var l=W((E,f="buffer")=>{if(!S(E))throw new P(f,["Buffer","TypedArray","DataView"],E)});function J1(E,f){let r=O(f),L1=E.length;if(r==="hex"&&L1%2!==0)throw new j("encoding",f,`is invalid for data of length ${L1}`)}function t(E,f="Port",r=!0){if(typeof E!="number"&&typeof E!="string"||typeof E=="string"&&V(E).length===0||+E!==+E>>>0||E>65535||E===0&&!r)throw new N(f,E,r);return E|0}var u=W((E,f)=>{if(E!==void 0&&(E===null||typeof E!="object"||!("aborted"in E)))throw new P(f,"AbortSignal",E)}),F1=W((E,f)=>{if(typeof E!="function")throw new P(f,"Function",E)}),Y1=W((E,f)=>{if(typeof E!="function"||R(E))throw new P(f,"Function",E)}),v=W((E,f)=>{if(E!==void 0)throw new P(f,"undefined",E)});function p(E,f,r){if(!X(r,E))throw new P(f,`('${H(r,"|")}')`,E)}var y=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function x1(E,f){if(typeof E>"u"||!Q(y,E))throw new j(f,E,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function n(E){if(typeof E=="string")return x1(E,"hints"),E;if(k(E)){let f=E.length,r="";if(f===0)return r;for(let L1=0;L1<f;L1++){let D1=E[L1];x1(D1,"hints"),r+=D1,L1!==f-1&&(r+=", ")}return r}throw new j("hints",E,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}J.exports={isInt32:o,isUint32:i,parseFileMode:s,validateArray:V1,validateStringArray:H1,validateBooleanArray:A,validateBoolean:Q1,validateBuffer:l,validateDictionary:K1,validateEncoding:J1,validateFunction:F1,validateInt32:U1,validateInteger:h,validateNumber:B1,validateObject:a,validateOneOf:e,validatePlainFunction:Y1,validatePort:t,validateSignalName:C,validateString:d,validateUint32:k1,validateUndefined:v,validateUnion:p,validateAbortSignal:u,validateLinkHeaderValue:n}}),S8=$1((x,J)=>{Z1(),q1(),G1();var k=J.exports={},X,H;function q(){throw new Error("setTimeout has not been defined")}function Z(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?X=setTimeout:X=q}catch{X=q}try{typeof clearTimeout=="function"?H=clearTimeout:H=Z}catch{H=Z}})();function U(N){if(X===setTimeout)return setTimeout(N,0);if((X===q||!X)&&setTimeout)return X=setTimeout,setTimeout(N,0);try{return X(N,0)}catch{try{return X.call(null,N,0)}catch{return X.call(this,N,0)}}}function G(N){if(H===clearTimeout)return clearTimeout(N);if((H===Z||!H)&&clearTimeout)return H=clearTimeout,clearTimeout(N);try{return H(N)}catch{try{return H.call(null,N)}catch{return H.call(this,N)}}}var Y=[],$=!1,K,Q=-1;function L(){!$||!K||($=!1,K.length?Y=K.concat(Y):Q=-1,Y.length&&D())}function D(){if(!$){var N=U(L);$=!0;for(var P=Y.length;P;){for(K=Y,Y=[];++Q<P;)K&&K[Q].run();Q=-1,P=Y.length}K=null,$=!1,G(N)}}k.nextTick=function(N){var P=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)P[j-1]=arguments[j];Y.push(new V(N,P)),Y.length===1&&!$&&U(D)};function V(N,P){this.fun=N,this.array=P}V.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={};function W(){}k.on=W,k.addListener=W,k.once=W,k.off=W,k.removeListener=W,k.removeAllListeners=W,k.emit=W,k.prependListener=W,k.prependOnceListener=W,k.listeners=function(N){return[]},k.binding=function(N){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(N){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}}),B8=$1((x,J)=>{Z1(),q1(),G1();var{Symbol:k,SymbolAsyncIterator:X,SymbolIterator:H,SymbolFor:q}=S1(),Z=k("kDestroyed"),U=k("kIsErrored"),G=k("kIsReadable"),Y=k("kIsDisturbed"),$=q("nodejs.webstream.isClosedPromise"),K=q("nodejs.webstream.controllerErrorFunction");function Q(m,a=!1){var K1;return!!(m&&typeof m.pipe=="function"&&typeof m.on=="function"&&(!a||typeof m.pause=="function"&&typeof m.resume=="function")&&(!m._writableState||((K1=m._readableState)===null||K1===void 0?void 0:K1.readable)!==!1)&&(!m._writableState||m._readableState))}function L(m){var a;return!!(m&&typeof m.write=="function"&&typeof m.on=="function"&&(!m._readableState||((a=m._writableState)===null||a===void 0?void 0:a.writable)!==!1))}function D(m){return!!(m&&typeof m.pipe=="function"&&m._readableState&&typeof m.on=="function"&&typeof m.write=="function")}function V(m){return m&&(m._readableState||m._writableState||typeof m.write=="function"&&typeof m.on=="function"||typeof m.pipe=="function"&&typeof m.on=="function")}function W(m){return!!(m&&!V(m)&&typeof m.pipeThrough=="function"&&typeof m.getReader=="function"&&typeof m.cancel=="function")}function N(m){return!!(m&&!V(m)&&typeof m.getWriter=="function"&&typeof m.abort=="function")}function P(m){return!!(m&&!V(m)&&typeof m.readable=="object"&&typeof m.writable=="object")}function j(m){return W(m)||N(m)||P(m)}function T(m,a){return m==null?!1:a===!0?typeof m[X]=="function":a===!1?typeof m[H]=="function":typeof m[X]=="function"||typeof m[H]=="function"}function w(m){if(!V(m))return null;let{_writableState:a,_readableState:K1}=m,V1=a||K1;return!!(m.destroyed||m[Z]||V1!=null&&V1.destroyed)}function O(m){if(!L(m))return null;if(m.writableEnded===!0)return!0;let a=m._writableState;return a!=null&&a.errored?!1:typeof a?.ended!="boolean"?null:a.ended}function R(m,a){if(!L(m))return null;if(m.writableFinished===!0)return!0;let K1=m._writableState;return K1!=null&&K1.errored?!1:typeof K1?.finished!="boolean"?null:!!(K1.finished||a===!1&&K1.ended===!0&&K1.length===0)}function S(m){if(!Q(m))return null;if(m.readableEnded===!0)return!0;let a=m._readableState;return!a||a.errored?!1:typeof a?.ended!="boolean"?null:a.ended}function c(m,a){if(!Q(m))return null;let K1=m._readableState;return K1!=null&&K1.errored?!1:typeof K1?.endEmitted!="boolean"?null:!!(K1.endEmitted||a===!1&&K1.ended===!0&&K1.length===0)}function o(m){return m&&m[G]!=null?m[G]:typeof m?.readable!="boolean"?null:w(m)?!1:Q(m)&&m.readable&&!c(m)}function i(m){return typeof m?.writable!="boolean"?null:w(m)?!1:L(m)&&m.writable&&!O(m)}function I(m,a){return V(m)?w(m)?!0:!(a?.readable!==!1&&o(m)||a?.writable!==!1&&i(m)):null}function g(m){var a,K1;return V(m)?m.writableErrored?m.writableErrored:(a=(K1=m._writableState)===null||K1===void 0?void 0:K1.errored)!==null&&a!==void 0?a:null:null}function s(m){var a,K1;return V(m)?m.readableErrored?m.readableErrored:(a=(K1=m._readableState)===null||K1===void 0?void 0:K1.errored)!==null&&a!==void 0?a:null:null}function h(m){if(!V(m))return null;if(typeof m.closed=="boolean")return m.closed;let{_writableState:a,_readableState:K1}=m;return typeof a?.closed=="boolean"||typeof K1?.closed=="boolean"?a?.closed||K1?.closed:typeof m._closed=="boolean"&&U1(m)?m._closed:null}function U1(m){return typeof m._closed=="boolean"&&typeof m._defaultKeepAlive=="boolean"&&typeof m._removedConnection=="boolean"&&typeof m._removedContLen=="boolean"}function k1(m){return typeof m._sent100=="boolean"&&U1(m)}function d(m){var a;return typeof m._consuming=="boolean"&&typeof m._dumped=="boolean"&&((a=m.req)===null||a===void 0?void 0:a.upgradeOrConnect)===void 0}function B1(m){if(!V(m))return null;let{_writableState:a,_readableState:K1}=m,V1=a||K1;return!V1&&k1(m)||!!(V1&&V1.autoDestroy&&V1.emitClose&&V1.closed===!1)}function e(m){var a;return!!(m&&((a=m[Y])!==null&&a!==void 0?a:m.readableDidRead||m.readableAborted))}function Q1(m){var a,K1,V1,H1,A,C,l,J1,t,u;return!!(m&&((a=(K1=(V1=(H1=(A=(C=m[U])!==null&&C!==void 0?C:m.readableErrored)!==null&&A!==void 0?A:m.writableErrored)!==null&&H1!==void 0?H1:(l=m._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&V1!==void 0?V1:(J1=m._writableState)===null||J1===void 0?void 0:J1.errorEmitted)!==null&&K1!==void 0?K1:(t=m._readableState)===null||t===void 0?void 0:t.errored)!==null&&a!==void 0?a:!((u=m._writableState)===null||u===void 0)&&u.errored))}J.exports={kDestroyed:Z,isDisturbed:e,kIsDisturbed:Y,isErrored:Q1,kIsErrored:U,isReadable:o,kIsReadable:G,kIsClosedPromise:$,kControllerErrorFunction:K,isClosed:h,isDestroyed:w,isDuplexNodeStream:D,isFinished:I,isIterable:T,isReadableNodeStream:Q,isReadableStream:W,isReadableEnded:S,isReadableFinished:c,isReadableErrored:s,isNodeStream:V,isWebStream:j,isWritable:i,isWritableNodeStream:L,isWritableStream:N,isWritableEnded:O,isWritableFinished:R,isWritableErrored:g,isServerRequest:d,isServerResponse:k1,willEmitClose:B1,isTransformStream:P}}),L8=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{AbortError:X,codes:H}=g1(),{ERR_INVALID_ARG_TYPE:q,ERR_STREAM_PREMATURE_CLOSE:Z}=H,{kEmptyObject:U,once:G}=z8(),{validateAbortSignal:Y,validateFunction:$,validateObject:K,validateBoolean:Q}=K6(),{Promise:L,PromisePrototypeThen:D}=S1(),{isClosed:V,isReadable:W,isReadableNodeStream:N,isReadableStream:P,isReadableFinished:j,isReadableErrored:T,isWritable:w,isWritableNodeStream:O,isWritableStream:R,isWritableFinished:S,isWritableErrored:c,isNodeStream:o,willEmitClose:i,kIsClosedPromise:I}=B8();function g(d){return d.setHeader&&typeof d.abort=="function"}var s=()=>{};function h(d,B1,e){var Q1,m;if(arguments.length===2?(e=B1,B1=U):B1==null?B1=U:K(B1,"options"),$(e,"callback"),Y(B1.signal,"options.signal"),e=G(e),P(d)||R(d))return U1(d,B1,e);if(!o(d))throw new q("stream",["ReadableStream","WritableStream","Stream"],d);let a=(Q1=B1.readable)!==null&&Q1!==void 0?Q1:N(d),K1=(m=B1.writable)!==null&&m!==void 0?m:O(d),V1=d._writableState,H1=d._readableState,A=()=>{d.writable||J1()},C=i(d)&&N(d)===a&&O(d)===K1,l=S(d,!1),J1=()=>{l=!0,d.destroyed&&(C=!1),!(C&&(!d.readable||a))&&(!a||t)&&e.call(d)},t=j(d,!1),u=()=>{t=!0,d.destroyed&&(C=!1),!(C&&(!d.writable||K1))&&(!K1||l)&&e.call(d)},F1=(n)=>{e.call(d,n)},Y1=V(d),v=()=>{Y1=!0;let n=c(d)||T(d);if(n&&typeof n!="boolean")return e.call(d,n);if(a&&!t&&N(d,!0)&&!j(d,!1))return e.call(d,new Z);if(K1&&!l&&!S(d,!1))return e.call(d,new Z);e.call(d)},p=()=>{Y1=!0;let n=c(d)||T(d);if(n&&typeof n!="boolean")return e.call(d,n);e.call(d)},y=()=>{d.req.on("finish",J1)};g(d)?(d.on("complete",J1),C||d.on("abort",v),d.req?y():d.on("request",y)):K1&&!V1&&(d.on("end",A),d.on("close",A)),!C&&typeof d.aborted=="boolean"&&d.on("aborted",v),d.on("end",u),d.on("finish",J1),B1.error!==!1&&d.on("error",F1),d.on("close",v),Y1?k.nextTick(v):V1!=null&&V1.errorEmitted||H1!=null&&H1.errorEmitted?C||k.nextTick(p):(!a&&(!C||W(d))&&(l||w(d)===!1)||!K1&&(!C||w(d))&&(t||W(d)===!1)||H1&&d.req&&d.aborted)&&k.nextTick(p);let x1=()=>{e=s,d.removeListener("aborted",v),d.removeListener("complete",J1),d.removeListener("abort",v),d.removeListener("request",y),d.req&&d.req.removeListener("finish",J1),d.removeListener("end",A),d.removeListener("close",A),d.removeListener("finish",J1),d.removeListener("end",u),d.removeListener("error",F1),d.removeListener("close",v)};if(B1.signal&&!Y1){let n=()=>{let E=e;x1(),E.call(d,new X(void 0,{cause:B1.signal.reason}))};if(B1.signal.aborted)k.nextTick(n);else{let E=e;e=G((...f)=>{B1.signal.removeEventListener("abort",n),E.apply(d,f)}),B1.signal.addEventListener("abort",n)}}return x1}function U1(d,B1,e){let Q1=!1,m=s;if(B1.signal)if(m=()=>{Q1=!0,e.call(d,new X(void 0,{cause:B1.signal.reason}))},B1.signal.aborted)k.nextTick(m);else{let K1=e;e=G((...V1)=>{B1.signal.removeEventListener("abort",m),K1.apply(d,V1)}),B1.signal.addEventListener("abort",m)}let a=(...K1)=>{Q1||k.nextTick(()=>e.apply(d,K1))};return D(d[I].promise,a,a),s}function k1(d,B1){var e;let Q1=!1;return B1===null&&(B1=U),(e=B1)!==null&&e!==void 0&&e.cleanup&&(Q(B1.cleanup,"cleanup"),Q1=B1.cleanup),new L((m,a)=>{let K1=h(d,B1,(V1)=>{Q1&&K1(),V1?a(V1):m()})})}J.exports=h,J.exports.finished=k1}),d8=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{aggregateTwoErrors:X,codes:{ERR_MULTIPLE_CALLBACK:H},AbortError:q}=g1(),{Symbol:Z}=S1(),{kDestroyed:U,isDestroyed:G,isFinished:Y,isServerRequest:$}=B8(),K=Z("kDestroy"),Q=Z("kConstruct");function L(I,g,s){I&&(I.stack,g&&!g.errored&&(g.errored=I),s&&!s.errored&&(s.errored=I))}function D(I,g){let s=this._readableState,h=this._writableState,U1=h||s;return h!=null&&h.destroyed||s!=null&&s.destroyed?(typeof g=="function"&&g(),this):(L(I,h,s),h&&(h.destroyed=!0),s&&(s.destroyed=!0),U1.constructed?V(this,I,g):this.once(K,function(k1){V(this,X(k1,I),g)}),this)}function V(I,g,s){let h=!1;function U1(k1){if(h)return;h=!0;let{_readableState:d,_writableState:B1}=I;L(k1,B1,d),B1&&(B1.closed=!0),d&&(d.closed=!0),typeof s=="function"&&s(k1),k1?k.nextTick(W,I,k1):k.nextTick(N,I)}try{I._destroy(g||null,U1)}catch(k1){U1(k1)}}function W(I,g){P(I,g),N(I)}function N(I){let{_readableState:g,_writableState:s}=I;s&&(s.closeEmitted=!0),g&&(g.closeEmitted=!0),(s!=null&&s.emitClose||g!=null&&g.emitClose)&&I.emit("close")}function P(I,g){let{_readableState:s,_writableState:h}=I;h!=null&&h.errorEmitted||s!=null&&s.errorEmitted||(h&&(h.errorEmitted=!0),s&&(s.errorEmitted=!0),I.emit("error",g))}function j(){let I=this._readableState,g=this._writableState;I&&(I.constructed=!0,I.closed=!1,I.closeEmitted=!1,I.destroyed=!1,I.errored=null,I.errorEmitted=!1,I.reading=!1,I.ended=I.readable===!1,I.endEmitted=I.readable===!1),g&&(g.constructed=!0,g.destroyed=!1,g.closed=!1,g.closeEmitted=!1,g.errored=null,g.errorEmitted=!1,g.finalCalled=!1,g.prefinished=!1,g.ended=g.writable===!1,g.ending=g.writable===!1,g.finished=g.writable===!1)}function T(I,g,s){let{_readableState:h,_writableState:U1}=I;if(U1!=null&&U1.destroyed||h!=null&&h.destroyed)return this;h!=null&&h.autoDestroy||U1!=null&&U1.autoDestroy?I.destroy(g):g&&(g.stack,U1&&!U1.errored&&(U1.errored=g),h&&!h.errored&&(h.errored=g),s?k.nextTick(P,I,g):P(I,g))}function w(I,g){if(typeof I._construct!="function")return;let{_readableState:s,_writableState:h}=I;s&&(s.constructed=!1),h&&(h.constructed=!1),I.once(Q,g),!(I.listenerCount(Q)>1)&&k.nextTick(O,I)}function O(I){let g=!1;function s(h){if(g){T(I,h??new H);return}g=!0;let{_readableState:U1,_writableState:k1}=I,d=k1||U1;U1&&(U1.constructed=!0),k1&&(k1.constructed=!0),d.destroyed?I.emit(K,h):h?T(I,h,!0):k.nextTick(R,I)}try{I._construct((h)=>{k.nextTick(s,h)})}catch(h){k.nextTick(s,h)}}function R(I){I.emit(Q)}function S(I){return I?.setHeader&&typeof I.abort=="function"}function c(I){I.emit("close")}function o(I,g){I.emit("error",g),k.nextTick(c,I)}function i(I,g){!I||G(I)||(!g&&!Y(I)&&(g=new q),$(I)?(I.socket=null,I.destroy(g)):S(I)?I.abort():S(I.req)?I.req.abort():typeof I.destroy=="function"?I.destroy(g):typeof I.close=="function"?I.close():g?k.nextTick(o,I,g):k.nextTick(c,I),I.destroyed||(I[U]=!0))}J.exports={construct:w,destroyer:i,destroy:D,undestroy:j,errorOrDestroy:T}}),L4,D4,W8,O6,m6,C6,h1,W4=E1(()=>{Z1(),q1(),G1(),W8=typeof Reflect=="object"?Reflect:null,O6=W8&&typeof W8.apply=="function"?W8.apply:function(x,J,k){return Function.prototype.apply.call(x,J,k)},D4=W8&&typeof W8.ownKeys=="function"?W8.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)},m6=Number.isNaN||function(x){return x!=x},L4=O1,O1.EventEmitter=O1,O1.prototype._events=void 0,O1.prototype._eventsCount=0,O1.prototype._maxListeners=void 0,C6=10,Object.defineProperty(O1,"defaultMaxListeners",{enumerable:!0,get:function(){return C6},set:function(x){if(typeof x!="number"||x<0||m6(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");C6=x}}),O1.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O1.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||m6(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},O1.prototype.getMaxListeners=function(){return F2(this)},O1.prototype.emit=function(x){for(var J=[],k=1;k<arguments.length;k++)J.push(arguments[k]);var X=x==="error",H=this._events;if(H!==void 0)X=X&&H.error===void 0;else if(!X)return!1;if(X){var q;if(J.length>0&&(q=J[0]),q instanceof Error)throw q;var Z=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw Z.context=q,Z}var U=H[x];if(U===void 0)return!1;if(typeof U=="function")O6(U,this,J);else{var G=U.length,Y=K2(U,G);for(k=0;k<G;++k)O6(Y[k],this,J)}return!0},O1.prototype.addListener=function(x,J){return F4(this,x,J,!1)},O1.prototype.on=O1.prototype.addListener,O1.prototype.prependListener=function(x,J){return F4(this,x,J,!0)},O1.prototype.once=function(x,J){return J6(J),this.on(x,K4(this,x,J)),this},O1.prototype.prependOnceListener=function(x,J){return J6(J),this.prependListener(x,K4(this,x,J)),this},O1.prototype.removeListener=function(x,J){var k,X,H,q,Z;if(J6(J),(X=this._events)===void 0)return this;if((k=X[x])===void 0)return this;if(k===J||k.listener===J)--this._eventsCount==0?this._events=Object.create(null):(delete X[x],X.removeListener&&this.emit("removeListener",x,k.listener||J));else if(typeof k!="function"){for(H=-1,q=k.length-1;q>=0;q--)if(k[q]===J||k[q].listener===J){Z=k[q].listener,H=q;break}if(H<0)return this;H===0?k.shift():function(U,G){for(;G+1<U.length;G++)U[G]=U[G+1];U.pop()}(k,H),k.length===1&&(X[x]=k[0]),X.removeListener!==void 0&&this.emit("removeListener",x,Z||J)}return this},O1.prototype.off=O1.prototype.removeListener,O1.prototype.removeAllListeners=function(x){var J,k,X;if((k=this._events)===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete k[x]),this;if(arguments.length===0){var H,q=Object.keys(k);for(X=0;X<q.length;++X)(H=q[X])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(J=k[x])=="function")this.removeListener(x,J);else if(J!==void 0)for(X=J.length-1;X>=0;X--)this.removeListener(x,J[X]);return this},O1.prototype.listeners=function(x){return Q4(this,x,!0)},O1.prototype.rawListeners=function(x){return Q4(this,x,!1)},O1.listenerCount=function(x,J){return typeof x.listenerCount=="function"?x.listenerCount(J):V4.call(x,J)},O1.prototype.listenerCount=V4,O1.prototype.eventNames=function(){return this._eventsCount>0?D4(this._events):[]},h1=L4,h1.EventEmitter,h1.defaultMaxListeners,h1.init,h1.listenerCount,h1.EventEmitter,h1.defaultMaxListeners,h1.init,h1.listenerCount}),w8={};A8(w8,{EventEmitter:()=>Q2,default:()=>h1,defaultMaxListeners:()=>V2,init:()=>L2,listenerCount:()=>D2,on:()=>W2,once:()=>j2});var Q2,V2,L2,D2,W2,j2,g8=E1(()=>{Z1(),q1(),G1(),W4(),W4(),h1.once=function(x,J){return new Promise((k,X)=>{function H(...Z){q!==void 0&&x.removeListener("error",q),k(Z)}let q;J!=="error"&&(q=(Z)=>{x.removeListener(name,H),X(Z)},x.once("error",q)),x.once(J,H)})},h1.on=function(x,J){let k=[],X=[],H=null,q=!1,Z={async next(){let Y=k.shift();if(Y)return createIterResult(Y,!1);if(H){let $=Promise.reject(H);return H=null,$}return q?createIterResult(void 0,!0):new Promise(($,K)=>X.push({resolve:$,reject:K}))},async return(){x.removeListener(J,U),x.removeListener("error",G),q=!0;for(let Y of X)Y.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(Y){H=Y,x.removeListener(J,U),x.removeListener("error",G)},[Symbol.asyncIterator](){return this}};return x.on(J,U),x.on("error",G),Z;function U(...Y){let $=X.shift();$?$.resolve(createIterResult(Y,!1)):k.push(Y)}function G(Y){q=!0;let $=X.shift();$?$.reject(Y):H=Y,Z.return()}},{EventEmitter:Q2,defaultMaxListeners:V2,init:L2,listenerCount:D2,on:W2,once:j2}=h1}),q4=$1((x,J)=>{Z1(),q1(),G1();var{ArrayIsArray:k,ObjectSetPrototypeOf:X}=S1(),{EventEmitter:H}=(g8(),C1(w8));function q(U){H.call(this,U)}X(q.prototype,H.prototype),X(q,H),q.prototype.pipe=function(U,G){let Y=this;function $(N){U.writable&&U.write(N)===!1&&Y.pause&&Y.pause()}Y.on("data",$);function K(){Y.readable&&Y.resume&&Y.resume()}U.on("drain",K),!U._isStdio&&(!G||G.end!==!1)&&(Y.on("end",L),Y.on("close",D));let Q=!1;function L(){Q||(Q=!0,U.end())}function D(){Q||(Q=!0,typeof U.destroy=="function"&&U.destroy())}function V(N){W(),H.listenerCount(this,"error")===0&&this.emit("error",N)}Z(Y,"error",V),Z(U,"error",V);function W(){Y.removeListener("data",$),U.removeListener("drain",K),Y.removeListener("end",L),Y.removeListener("close",D),Y.removeListener("error",V),U.removeListener("error",V),Y.removeListener("end",W),Y.removeListener("close",W),U.removeListener("close",W)}return Y.on("end",W),Y.on("close",W),U.on("close",W),U.emit("pipe",Y),U};function Z(U,G,Y){if(typeof U.prependListener=="function")return U.prependListener(G,Y);!U._events||!U._events[G]?U.on(G,Y):k(U._events[G])?U._events[G].unshift(Y):U._events[G]=[Y,U._events[G]]}J.exports={Stream:q,prependListener:Z}}),Q6=$1((x,J)=>{Z1(),q1(),G1();var{AbortError:k,codes:X}=g1(),{isNodeStream:H,isWebStream:q,kControllerErrorFunction:Z}=B8(),U=L8(),{ERR_INVALID_ARG_TYPE:G}=X,Y=($,K)=>{if(typeof $!="object"||!("aborted"in $))throw new G(K,"AbortSignal",$)};J.exports.addAbortSignal=function($,K){if(Y($,"signal"),!H(K)&&!q(K))throw new G("stream",["ReadableStream","WritableStream","Stream"],K);return J.exports.addAbortSignalNoValidate($,K)},J.exports.addAbortSignalNoValidate=function($,K){if(typeof $!="object"||!("aborted"in $))return K;let Q=H(K)?()=>{K.destroy(new k(void 0,{cause:$.reason}))}:()=>{K[Z](new k(void 0,{cause:$.reason}))};return $.aborted?Q():($.addEventListener("abort",Q),U(K,()=>$.removeEventListener("abort",Q))),K}}),n9=$1((x,J)=>{Z1(),q1(),G1();var{StringPrototypeSlice:k,SymbolIterator:X,TypedArrayPrototypeSet:H,Uint8Array:q}=S1(),{Buffer:Z}=(y1(),C1(p1)),{inspect:U}=z8();J.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(G){let Y={data:G,next:null};this.length>0?this.tail.next=Y:this.head=Y,this.tail=Y,++this.length}unshift(G){let Y={data:G,next:this.head};this.length===0&&(this.tail=Y),this.head=Y,++this.length}shift(){if(this.length===0)return;let G=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,G}clear(){this.head=this.tail=null,this.length=0}join(G){if(this.length===0)return"";let Y=this.head,$=""+Y.data;for(;(Y=Y.next)!==null;)$+=G+Y.data;return $}concat(G){if(this.length===0)return Z.alloc(0);let Y=Z.allocUnsafe(G>>>0),$=this.head,K=0;for(;$;)H(Y,$.data,K),K+=$.data.length,$=$.next;return Y}consume(G,Y){let $=this.head.data;if(G<$.length){let K=$.slice(0,G);return this.head.data=$.slice(G),K}return G===$.length?this.shift():Y?this._getString(G):this._getBuffer(G)}first(){return this.head.data}*[X](){for(let G=this.head;G;G=G.next)yield G.data}_getString(G){let Y="",$=this.head,K=0;do{let Q=$.data;if(G>Q.length)Y+=Q,G-=Q.length;else{G===Q.length?(Y+=Q,++K,$.next?this.head=$.next:this.head=this.tail=null):(Y+=k(Q,0,G),this.head=$,$.data=k(Q,G));break}++K}while(($=$.next)!==null);return this.length-=K,Y}_getBuffer(G){let Y=Z.allocUnsafe(G),$=G,K=this.head,Q=0;do{let L=K.data;if(G>L.length)H(Y,L,$-G),G-=L.length;else{G===L.length?(H(Y,L,$-G),++Q,K.next?this.head=K.next:this.head=this.tail=null):(H(Y,new q(L.buffer,L.byteOffset,G),$-G),this.head=K,K.data=L.slice(G));break}++Q}while((K=K.next)!==null);return this.length-=Q,Y}[Symbol.for("nodejs.util.inspect.custom")](G,Y){return U(this,{...Y,depth:0,customInspect:!1})}}}),J4=$1((x,J)=>{Z1(),q1(),G1();var{MathFloor:k,NumberIsInteger:X}=S1(),{ERR_INVALID_ARG_VALUE:H}=g1().codes;function q(G,Y,$){return G.highWaterMark!=null?G.highWaterMark:Y?G[$]:null}function Z(G){return G?16:16384}function U(G,Y,$,K){let Q=q(Y,K,$);if(Q!=null){if(!X(Q)||Q<0){let L=K?`options.${$}`:"options.highWaterMark";throw new H(L,Q)}return k(Q)}return Z(G.objectMode)}J.exports={getHighWaterMark:U,getDefaultHighWaterMark:Z}}),C4,s1,c1,T4,r8,P8,R4,I4,i1,H6,C8,I6,R2,I2,a8,o8,u1,v4,b8,$6,o5,_4=E1(()=>{Z1(),q1(),G1();for(C4={byteLength:function(x){var J=j4(x),k=J[0],X=J[1];return 3*(k+X)/4-X},toByteArray:function(x){var J,k,X=j4(x),H=X[0],q=X[1],Z=new T4(function(Y,$,K){return 3*($+K)/4-K}(0,H,q)),U=0,G=q>0?H-4:H;for(k=0;k<G;k+=4)J=c1[x.charCodeAt(k)]<<18|c1[x.charCodeAt(k+1)]<<12|c1[x.charCodeAt(k+2)]<<6|c1[x.charCodeAt(k+3)],Z[U++]=J>>16&255,Z[U++]=J>>8&255,Z[U++]=255&J;return q===2&&(J=c1[x.charCodeAt(k)]<<2|c1[x.charCodeAt(k+1)]>>4,Z[U++]=255&J),q===1&&(J=c1[x.charCodeAt(k)]<<10|c1[x.charCodeAt(k+1)]<<4|c1[x.charCodeAt(k+2)]>>2,Z[U++]=J>>8&255,Z[U++]=255&J),Z},fromByteArray:function(x){for(var J,k=x.length,X=k%3,H=[],q=0,Z=k-X;q<Z;q+=16383)H.push(s9(x,q,q+16383>Z?Z:q+16383));return X===1?(J=x[k-1],H.push(s1[J>>2]+s1[J<<4&63]+"==")):X===2&&(J=(x[k-2]<<8)+x[k-1],H.push(s1[J>>10]+s1[J>>4&63]+s1[J<<2&63]+"=")),H.join("")}},s1=[],c1=[],T4=typeof Uint8Array<"u"?Uint8Array:Array,r8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P8=0,R4=r8.length;P8<R4;++P8)s1[P8]=r8[P8],c1[r8.charCodeAt(P8)]=P8;c1["-".charCodeAt(0)]=62,c1["_".charCodeAt(0)]=63,I4={read:function(x,J,k,X,H){var q,Z,U=8*H-X-1,G=(1<<U)-1,Y=G>>1,$=-7,K=k?H-1:0,Q=k?-1:1,L=x[J+K];for(K+=Q,q=L&(1<<-$)-1,L>>=-$,$+=U;$>0;q=256*q+x[J+K],K+=Q,$-=8);for(Z=q&(1<<-$)-1,q>>=-$,$+=X;$>0;Z=256*Z+x[J+K],K+=Q,$-=8);if(q===0)q=1-Y;else{if(q===G)return Z?NaN:1/0*(L?-1:1);Z+=Math.pow(2,X),q-=Y}return(L?-1:1)*Z*Math.pow(2,q-X)},write:function(x,J,k,X,H,q){var Z,U,G,Y=8*q-H-1,$=(1<<Y)-1,K=$>>1,Q=H===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=X?0:q-1,D=X?1:-1,V=J<0||J===0&&1/J<0?1:0;for(J=Math.abs(J),isNaN(J)||J===1/0?(U=isNaN(J)?1:0,Z=$):(Z=Math.floor(Math.log(J)/Math.LN2),J*(G=Math.pow(2,-Z))<1&&(Z--,G*=2),(J+=Z+K>=1?Q/G:Q*Math.pow(2,1-K))*G>=2&&(Z++,G/=2),Z+K>=$?(U=0,Z=$):Z+K>=1?(U=(J*G-1)*Math.pow(2,H),Z+=K):(U=J*Math.pow(2,K-1)*Math.pow(2,H),Z=0));H>=8;x[k+L]=255&U,L+=D,U/=256,H-=8);for(Z=Z<<H|U,Y+=H;Y>0;x[k+L]=255&Z,L+=D,Z/=256,Y-=8);x[k+L-D]|=128*V}},i1={},H6=C4,C8=I4,I6=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,i1.Buffer=X1,i1.SlowBuffer=function(x){return+x!=x&&(x=0),X1.alloc(+x)},i1.INSPECT_MAX_BYTES=50,i1.kMaxLength=2147483647,X1.TYPED_ARRAY_SUPPORT=function(){try{var x=new Uint8Array(1),J={foo:function(){return 42}};return Object.setPrototypeOf(J,Uint8Array.prototype),Object.setPrototypeOf(x,J),x.foo()===42}catch{return!1}}(),X1.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(X1.prototype,"parent",{enumerable:!0,get:function(){if(X1.isBuffer(this))return this.buffer}}),Object.defineProperty(X1.prototype,"offset",{enumerable:!0,get:function(){if(X1.isBuffer(this))return this.byteOffset}}),X1.poolSize=8192,X1.from=function(x,J,k){return N2(x,J,k)},Object.setPrototypeOf(X1.prototype,Uint8Array.prototype),Object.setPrototypeOf(X1,Uint8Array),X1.alloc=function(x,J,k){return function(X,H,q){return P2(X),X<=0?Y8(X):H!==void 0?typeof q=="string"?Y8(X).fill(H,q):Y8(X).fill(H):Y8(X)}(x,J,k)},X1.allocUnsafe=function(x){return l5(x)},X1.allocUnsafeSlow=function(x){return l5(x)},X1.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==X1.prototype},X1.compare=function(x,J){if(X8(x,Uint8Array)&&(x=X1.from(x,x.offset,x.byteLength)),X8(J,Uint8Array)&&(J=X1.from(J,J.offset,J.byteLength)),!X1.isBuffer(x)||!X1.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===J)return 0;for(var k=x.length,X=J.length,H=0,q=Math.min(k,X);H<q;++H)if(x[H]!==J[H]){k=x[H],X=J[H];break}return k<X?-1:X<k?1:0},X1.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},X1.concat=function(x,J){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return X1.alloc(0);var k;if(J===void 0)for(J=0,k=0;k<x.length;++k)J+=x[k].length;var X=X1.allocUnsafe(J),H=0;for(k=0;k<x.length;++k){var q=x[k];if(X8(q,Uint8Array)&&(q=X1.from(q)),!X1.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(X,H),H+=q.length}return X},X1.byteLength=M2,X1.prototype._isBuffer=!0,X1.prototype.swap16=function(){var x=this.length;if(x%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<x;J+=2)j8(this,J,J+1);return this},X1.prototype.swap32=function(){var x=this.length;if(x%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<x;J+=4)j8(this,J,J+3),j8(this,J+1,J+2);return this},X1.prototype.swap64=function(){var x=this.length;if(x%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<x;J+=8)j8(this,J,J+7),j8(this,J+1,J+6),j8(this,J+2,J+5),j8(this,J+3,J+4);return this},X1.prototype.toString=function(){var x=this.length;return x===0?"":arguments.length===0?m2(this,0,x):r9.apply(this,arguments)},X1.prototype.toLocaleString=X1.prototype.toString,X1.prototype.equals=function(x){if(!X1.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x||X1.compare(this,x)===0},X1.prototype.inspect=function(){var x="",J=i1.INSPECT_MAX_BYTES;return x=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(x+=" ... "),"<Buffer "+x+">"},I6&&(X1.prototype[I6]=X1.prototype.inspect),X1.prototype.compare=function(x,J,k,X,H){if(X8(x,Uint8Array)&&(x=X1.from(x,x.offset,x.byteLength)),!X1.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(J===void 0&&(J=0),k===void 0&&(k=x?x.length:0),X===void 0&&(X=0),H===void 0&&(H=this.length),J<0||k>x.length||X<0||H>this.length)throw new RangeError("out of range index");if(X>=H&&J>=k)return 0;if(X>=H)return-1;if(J>=k)return 1;if(this===x)return 0;for(var q=(H>>>=0)-(X>>>=0),Z=(k>>>=0)-(J>>>=0),U=Math.min(q,Z),G=this.slice(X,H),Y=x.slice(J,k),$=0;$<U;++$)if(G[$]!==Y[$]){q=G[$],Z=Y[$];break}return q<Z?-1:Z<q?1:0},X1.prototype.includes=function(x,J,k){return this.indexOf(x,J,k)!==-1},X1.prototype.indexOf=function(x,J,k){return N4(this,x,J,k,!0)},X1.prototype.lastIndexOf=function(x,J,k){return N4(this,x,J,k,!1)},X1.prototype.write=function(x,J,k,X){if(J===void 0)X="utf8",k=this.length,J=0;else if(k===void 0&&typeof J=="string")X=J,k=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J>>>=0,isFinite(k)?(k>>>=0,X===void 0&&(X="utf8")):(X=k,k=void 0)}var H=this.length-J;if((k===void 0||k>H)&&(k=H),x.length>0&&(k<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");for(var q=!1;;)switch(X){case"hex":return t9(this,x,J,k);case"utf8":case"utf-8":return e9(this,x,J,k);case"ascii":return O2(this,x,J,k);case"latin1":case"binary":return x7(this,x,J,k);case"base64":return k7(this,x,J,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z7(this,x,J,k);default:if(q)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),q=!0}},X1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},X1.prototype.slice=function(x,J){var k=this.length;(x=~~x)<0?(x+=k)<0&&(x=0):x>k&&(x=k),(J=J===void 0?k:~~J)<0?(J+=k)<0&&(J=0):J>k&&(J=k),J<x&&(J=x);var X=this.subarray(x,J);return Object.setPrototypeOf(X,X1.prototype),X},X1.prototype.readUIntLE=function(x,J,k){x>>>=0,J>>>=0,k||w1(x,J,this.length);for(var X=this[x],H=1,q=0;++q<J&&(H*=256);)X+=this[x+q]*H;return X},X1.prototype.readUIntBE=function(x,J,k){x>>>=0,J>>>=0,k||w1(x,J,this.length);for(var X=this[x+--J],H=1;J>0&&(H*=256);)X+=this[x+--J]*H;return X},X1.prototype.readUInt8=function(x,J){return x>>>=0,J||w1(x,1,this.length),this[x]},X1.prototype.readUInt16LE=function(x,J){return x>>>=0,J||w1(x,2,this.length),this[x]|this[x+1]<<8},X1.prototype.readUInt16BE=function(x,J){return x>>>=0,J||w1(x,2,this.length),this[x]<<8|this[x+1]},X1.prototype.readUInt32LE=function(x,J){return x>>>=0,J||w1(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+16777216*this[x+3]},X1.prototype.readUInt32BE=function(x,J){return x>>>=0,J||w1(x,4,this.length),16777216*this[x]+(this[x+1]<<16|this[x+2]<<8|this[x+3])},X1.prototype.readIntLE=function(x,J,k){x>>>=0,J>>>=0,k||w1(x,J,this.length);for(var X=this[x],H=1,q=0;++q<J&&(H*=256);)X+=this[x+q]*H;return X>=(H*=128)&&(X-=Math.pow(2,8*J)),X},X1.prototype.readIntBE=function(x,J,k){x>>>=0,J>>>=0,k||w1(x,J,this.length);for(var X=J,H=1,q=this[x+--X];X>0&&(H*=256);)q+=this[x+--X]*H;return q>=(H*=128)&&(q-=Math.pow(2,8*J)),q},X1.prototype.readInt8=function(x,J){return x>>>=0,J||w1(x,1,this.length),128&this[x]?-1*(255-this[x]+1):this[x]},X1.prototype.readInt16LE=function(x,J){x>>>=0,J||w1(x,2,this.length);var k=this[x]|this[x+1]<<8;return 32768&k?4294901760|k:k},X1.prototype.readInt16BE=function(x,J){x>>>=0,J||w1(x,2,this.length);var k=this[x+1]|this[x]<<8;return 32768&k?4294901760|k:k},X1.prototype.readInt32LE=function(x,J){return x>>>=0,J||w1(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},X1.prototype.readInt32BE=function(x,J){return x>>>=0,J||w1(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},X1.prototype.readFloatLE=function(x,J){return x>>>=0,J||w1(x,4,this.length),C8.read(this,x,!0,23,4)},X1.prototype.readFloatBE=function(x,J){return x>>>=0,J||w1(x,4,this.length),C8.read(this,x,!1,23,4)},X1.prototype.readDoubleLE=function(x,J){return x>>>=0,J||w1(x,8,this.length),C8.read(this,x,!0,52,8)},X1.prototype.readDoubleBE=function(x,J){return x>>>=0,J||w1(x,8,this.length),C8.read(this,x,!1,52,8)},X1.prototype.writeUIntLE=function(x,J,k,X){x=+x,J>>>=0,k>>>=0,X||d1(this,x,J,k,Math.pow(2,8*k)-1,0);var H=1,q=0;for(this[J]=255&x;++q<k&&(H*=256);)this[J+q]=x/H&255;return J+k},X1.prototype.writeUIntBE=function(x,J,k,X){x=+x,J>>>=0,k>>>=0,X||d1(this,x,J,k,Math.pow(2,8*k)-1,0);var H=k-1,q=1;for(this[J+H]=255&x;--H>=0&&(q*=256);)this[J+H]=x/q&255;return J+k},X1.prototype.writeUInt8=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,1,255,0),this[J]=255&x,J+1},X1.prototype.writeUInt16LE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,2,65535,0),this[J]=255&x,this[J+1]=x>>>8,J+2},X1.prototype.writeUInt16BE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,2,65535,0),this[J]=x>>>8,this[J+1]=255&x,J+2},X1.prototype.writeUInt32LE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,4,4294967295,0),this[J+3]=x>>>24,this[J+2]=x>>>16,this[J+1]=x>>>8,this[J]=255&x,J+4},X1.prototype.writeUInt32BE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,4,4294967295,0),this[J]=x>>>24,this[J+1]=x>>>16,this[J+2]=x>>>8,this[J+3]=255&x,J+4},X1.prototype.writeIntLE=function(x,J,k,X){if(x=+x,J>>>=0,!X){var H=Math.pow(2,8*k-1);d1(this,x,J,k,H-1,-H)}var q=0,Z=1,U=0;for(this[J]=255&x;++q<k&&(Z*=256);)x<0&&U===0&&this[J+q-1]!==0&&(U=1),this[J+q]=(x/Z>>0)-U&255;return J+k},X1.prototype.writeIntBE=function(x,J,k,X){if(x=+x,J>>>=0,!X){var H=Math.pow(2,8*k-1);d1(this,x,J,k,H-1,-H)}var q=k-1,Z=1,U=0;for(this[J+q]=255&x;--q>=0&&(Z*=256);)x<0&&U===0&&this[J+q+1]!==0&&(U=1),this[J+q]=(x/Z>>0)-U&255;return J+k},X1.prototype.writeInt8=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,1,127,-128),x<0&&(x=255+x+1),this[J]=255&x,J+1},X1.prototype.writeInt16LE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,2,32767,-32768),this[J]=255&x,this[J+1]=x>>>8,J+2},X1.prototype.writeInt16BE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,2,32767,-32768),this[J]=x>>>8,this[J+1]=255&x,J+2},X1.prototype.writeInt32LE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,4,2147483647,-2147483648),this[J]=255&x,this[J+1]=x>>>8,this[J+2]=x>>>16,this[J+3]=x>>>24,J+4},X1.prototype.writeInt32BE=function(x,J,k){return x=+x,J>>>=0,k||d1(this,x,J,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[J]=x>>>24,this[J+1]=x>>>16,this[J+2]=x>>>8,this[J+3]=255&x,J+4},X1.prototype.writeFloatLE=function(x,J,k){return M4(this,x,J,!0,k)},X1.prototype.writeFloatBE=function(x,J,k){return M4(this,x,J,!1,k)},X1.prototype.writeDoubleLE=function(x,J,k){return O4(this,x,J,!0,k)},X1.prototype.writeDoubleBE=function(x,J,k){return O4(this,x,J,!1,k)},X1.prototype.copy=function(x,J,k,X){if(!X1.isBuffer(x))throw new TypeError("argument should be a Buffer");if(k||(k=0),X||X===0||(X=this.length),J>=x.length&&(J=x.length),J||(J=0),X>0&&X<k&&(X=k),X===k||x.length===0||this.length===0)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),x.length-J<X-k&&(X=x.length-J+k);var H=X-k;if(this===x&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(J,k,X);else if(this===x&&k<J&&J<X)for(var q=H-1;q>=0;--q)x[q+J]=this[q+k];else Uint8Array.prototype.set.call(x,this.subarray(k,X),J);return H},X1.prototype.fill=function(x,J,k,X){if(typeof x=="string"){if(typeof J=="string"?(X=J,J=0,k=this.length):typeof k=="string"&&(X=k,k=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!X1.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(x.length===1){var H=x.charCodeAt(0);(X==="utf8"&&H<128||X==="latin1")&&(x=H)}}else typeof x=="number"?x&=255:typeof x=="boolean"&&(x=Number(x));if(J<0||this.length<J||this.length<k)throw new RangeError("Out of range index");if(k<=J)return this;var q;if(J>>>=0,k=k===void 0?this.length:k>>>0,x||(x=0),typeof x=="number")for(q=J;q<k;++q)this[q]=x;else{var Z=X1.isBuffer(x)?x:X1.from(x,X),U=Z.length;if(U===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(q=0;q<k-J;++q)this[q+J]=Z[q%U]}return this},R2=/[^+/0-9A-Za-z-_]/g,I2=function(){for(var x=new Array(256),J=0;J<16;++J)for(var k=16*J,X=0;X<16;++X)x[k+X]="0123456789abcdef"[J]+"0123456789abcdef"[X];return x}(),i1.Buffer,i1.INSPECT_MAX_BYTES,i1.kMaxLength,a8={},o8=i1,u1=o8.Buffer,u1.from&&u1.alloc&&u1.allocUnsafe&&u1.allocUnsafeSlow?a8=o8:(m4(o8,a8),a8.Buffer=N8),N8.prototype=Object.create(u1.prototype),m4(u1,N8),N8.from=function(x,J,k){if(typeof x=="number")throw new TypeError("Argument must not be a number");return u1(x,J,k)},N8.alloc=function(x,J,k){if(typeof x!="number")throw new TypeError("Argument must be a number");var X=u1(x);return J!==void 0?typeof k=="string"?X.fill(J,k):X.fill(J):X.fill(0),X},N8.allocUnsafe=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return u1(x)},N8.allocUnsafeSlow=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return o8.SlowBuffer(x)},v4=a8,b8={},$6=v4.Buffer,o5=$6.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},b8.StringDecoder=l8,l8.prototype.write=function(x){if(x.length===0)return"";var J,k;if(this.lastNeed){if((J=this.fillLast(x))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<x.length?J?J+this.text(x,k):this.text(x,k):J||""},l8.prototype.end=function(x){var J=x&&x.length?this.write(x):"";return this.lastNeed?J+"\uFFFD":J},l8.prototype.text=function(x,J){var k=function(H,q,Z){var U=q.length-1;if(U<Z)return 0;var G=R6(q[U]);return G>=0?(G>0&&(H.lastNeed=G-1),G):--U<Z||G===-2?0:(G=R6(q[U]))>=0?(G>0&&(H.lastNeed=G-2),G):--U<Z||G===-2?0:(G=R6(q[U]))>=0?(G>0&&(G===2?G=0:H.lastNeed=G-3),G):0}(this,x,J);if(!this.lastNeed)return x.toString("utf8",J);this.lastTotal=k;var X=x.length-(k-this.lastNeed);return x.copy(this.lastChar,0,X),x.toString("utf8",J,X)},l8.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length},b8.StringDecoder,b8.StringDecoder}),v2={};A8(v2,{StringDecoder:()=>_2,default:()=>b8});var _2,Q7=E1(()=>{Z1(),q1(),G1(),_4(),_4(),_2=b8.StringDecoder}),A2=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{PromisePrototypeThen:X,SymbolAsyncIterator:H,SymbolIterator:q}=S1(),{Buffer:Z}=(y1(),C1(p1)),{ERR_INVALID_ARG_TYPE:U,ERR_STREAM_NULL_VALUES:G}=g1().codes;function Y($,K,Q){let L;if(typeof K=="string"||K instanceof Z)return new $({objectMode:!0,...Q,read(){this.push(K),this.push(null)}});let D;if(K&&K[H])D=!0,L=K[H]();else if(K&&K[q])D=!1,L=K[q]();else throw new U("iterable",["Iterable"],K);let V=new $({objectMode:!0,highWaterMark:1,...Q}),W=!1;V._read=function(){W||(W=!0,P())},V._destroy=function(j,T){X(N(j),()=>k.nextTick(T,j),(w)=>k.nextTick(T,w||j))};async function N(j){let T=j!=null,w=typeof L.throw=="function";if(T&&w){let{value:O,done:R}=await L.throw(j);if(await O,R)return}if(typeof L.return=="function"){let{value:O}=await L.return();await O}}async function P(){for(;;){try{let{value:j,done:T}=D?await L.next():L.next();if(T)V.push(null);else{let w=j&&typeof j.then=="function"?await j:j;if(w===null)throw W=!1,new G;if(V.push(w))continue;W=!1}}catch(j){V.destroy(j)}break}}return V}J.exports=Y}),L6=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{ArrayPrototypeIndexOf:X,NumberIsInteger:H,NumberIsNaN:q,NumberParseInt:Z,ObjectDefineProperties:U,ObjectKeys:G,ObjectSetPrototypeOf:Y,Promise:$,SafeSet:K,SymbolAsyncIterator:Q,Symbol:L}=S1();J.exports=m,m.ReadableState=Q1;var{EventEmitter:D}=(g8(),C1(w8)),{Stream:V,prependListener:W}=q4(),{Buffer:N}=(y1(),C1(p1)),{addAbortSignal:P}=Q6(),j=L8(),T=z8().debuglog("stream",(z)=>{T=z}),w=n9(),O=d8(),{getHighWaterMark:R,getDefaultHighWaterMark:S}=J4(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:o,ERR_METHOD_NOT_IMPLEMENTED:i,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:s}}=g1(),{validateObject:h}=K6(),U1=L("kPaused"),{StringDecoder:k1}=(Q7(),C1(v2)),d=A2();Y(m.prototype,V.prototype),Y(m,V);var B1=()=>{},{errorOrDestroy:e}=O;function Q1(z,F,M){typeof M!="boolean"&&(M=F instanceof H8()),this.objectMode=!!(z&&z.objectMode),M&&(this.objectMode=this.objectMode||!!(z&&z.readableObjectMode)),this.highWaterMark=z?R(this,z,"readableHighWaterMark",M):S(!1),this.buffer=new w,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[U1]=null,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,z&&z.encoding&&(this.decoder=new k1(z.encoding),this.encoding=z.encoding)}function m(z){if(!(this instanceof m))return new m(z);let F=this instanceof H8();this._readableState=new Q1(z,this,F),z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.construct=="function"&&(this._construct=z.construct),z.signal&&!F&&P(z.signal,this)),V.call(this,z),O.construct(this,()=>{this._readableState.needReadable&&t(this,this._readableState)})}m.prototype.destroy=O.destroy,m.prototype._undestroy=O.undestroy,m.prototype._destroy=function(z,F){F(z)},m.prototype[D.captureRejectionSymbol]=function(z){this.destroy(z)},m.prototype.push=function(z,F){return a(this,z,F,!1)},m.prototype.unshift=function(z,F){return a(this,z,F,!0)};function a(z,F,M,_){T("readableAddChunk",F);let b=z._readableState,z1;if(b.objectMode||(typeof F=="string"?(M=M||b.defaultEncoding,b.encoding!==M&&(_&&b.encoding?F=N.from(F,M).toString(b.encoding):(F=N.from(F,M),M=""))):F instanceof N?M="":V._isUint8Array(F)?(F=V._uint8ArrayToBuffer(F),M=""):F!=null&&(z1=new o("chunk",["string","Buffer","Uint8Array"],F))),z1)e(z,z1);else if(F===null)b.reading=!1,C(z,b);else if(b.objectMode||F&&F.length>0)if(_)if(b.endEmitted)e(z,new s);else{if(b.destroyed||b.errored)return!1;K1(z,b,F,!0)}else if(b.ended)e(z,new g);else{if(b.destroyed||b.errored)return!1;b.reading=!1,b.decoder&&!M?(F=b.decoder.write(F),b.objectMode||F.length!==0?K1(z,b,F,!1):t(z,b)):K1(z,b,F,!1)}else _||(b.reading=!1,t(z,b));return!b.ended&&(b.length<b.highWaterMark||b.length===0)}function K1(z,F,M,_){F.flowing&&F.length===0&&!F.sync&&z.listenerCount("data")>0?(F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,z.emit("data",M)):(F.length+=F.objectMode?1:M.length,_?F.buffer.unshift(M):F.buffer.push(M),F.needReadable&&l(z)),t(z,F)}m.prototype.isPaused=function(){let z=this._readableState;return z[U1]===!0||z.flowing===!1},m.prototype.setEncoding=function(z){let F=new k1(z);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;let M=this._readableState.buffer,_="";for(let b of M)_+=F.write(b);return M.clear(),_!==""&&M.push(_),this._readableState.length=_.length,this};var V1=1073741824;function H1(z){if(z>V1)throw new I("size","<= 1GiB",z);return z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++,z}function A(z,F){return z<=0||F.length===0&&F.ended?0:F.objectMode?1:q(z)?F.flowing&&F.length?F.buffer.first().length:F.length:z<=F.length?z:F.ended?F.length:0}m.prototype.read=function(z){T("read",z),z===void 0?z=NaN:H(z)||(z=Z(z,10));let F=this._readableState,M=z;if(z>F.highWaterMark&&(F.highWaterMark=H1(z)),z!==0&&(F.emittedReadable=!1),z===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return T("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?r(this):l(this),null;if(z=A(z,F),z===0&&F.ended)return F.length===0&&r(this),null;let _=F.needReadable;if(T("need readable",_),(F.length===0||F.length-z<F.highWaterMark)&&(_=!0,T("length less than watermark",_)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)_=!1,T("reading, ended or constructing",_);else if(_){T("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0);try{this._read(F.highWaterMark)}catch(z1){e(this,z1)}F.sync=!1,F.reading||(z=A(M,F))}let b;return z>0?b=f(z,F):b=null,b===null?(F.needReadable=F.length<=F.highWaterMark,z=0):(F.length-=z,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),F.length===0&&(F.ended||(F.needReadable=!0),M!==z&&F.ended&&r(this)),b!==null&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",b)),b};function C(z,F){if(T("onEofChunk"),!F.ended){if(F.decoder){let M=F.decoder.end();M&&M.length&&(F.buffer.push(M),F.length+=F.objectMode?1:M.length)}F.ended=!0,F.sync?l(z):(F.needReadable=!1,F.emittedReadable=!0,J1(z))}}function l(z){let F=z._readableState;T("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(T("emitReadable",F.flowing),F.emittedReadable=!0,k.nextTick(J1,z))}function J1(z){let F=z._readableState;T("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(z.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,x1(z)}function t(z,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,k.nextTick(u,z,F))}function u(z,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){let M=F.length;if(T("maybeReadMore read 0"),z.read(0),M===F.length)break}F.readingMore=!1}m.prototype._read=function(z){throw new i("_read()")},m.prototype.pipe=function(z,F){let M=this,_=this._readableState;_.pipes.length===1&&(_.multiAwaitDrain||(_.multiAwaitDrain=!0,_.awaitDrainWriters=new K(_.awaitDrainWriters?[_.awaitDrainWriters]:[]))),_.pipes.push(z),T("pipe count=%d opts=%j",_.pipes.length,F);let b=(!F||F.end!==!1)&&z!==k.stdout&&z!==k.stderr?W1:h8;_.endEmitted?k.nextTick(b):M.once("end",b),z.on("unpipe",z1);function z1(D8,x8){T("onunpipe"),D8===M&&x8&&x8.hasUnpiped===!1&&(x8.hasUnpiped=!0,P1())}function W1(){T("onend"),z.end()}let T1,m1=!1;function P1(){T("cleanup"),z.removeListener("close",N6),z.removeListener("finish",P6),T1&&z.removeListener("drain",T1),z.removeListener("error",j6),z.removeListener("unpipe",z1),M.removeListener("end",W1),M.removeListener("end",h8),M.removeListener("data",B4),m1=!0,T1&&_.awaitDrainWriters&&(!z._writableState||z._writableState.needDrain)&&T1()}function v1(){m1||(_.pipes.length===1&&_.pipes[0]===z?(T("false write response, pause",0),_.awaitDrainWriters=z,_.multiAwaitDrain=!1):_.pipes.length>1&&_.pipes.includes(z)&&(T("false write response, pause",_.awaitDrainWriters.size),_.awaitDrainWriters.add(z)),M.pause()),T1||(T1=F1(M,z),z.on("drain",T1))}M.on("data",B4);function B4(D8){T("ondata");let x8=z.write(D8);T("dest.write",x8),x8===!1&&v1()}function j6(D8){if(T("onerror",D8),h8(),z.removeListener("error",j6),z.listenerCount("error")===0){let x8=z._writableState||z._readableState;x8&&!x8.errorEmitted?e(z,D8):z.emit("error",D8)}}W(z,"error",j6);function N6(){z.removeListener("finish",P6),h8()}z.once("close",N6);function P6(){T("onfinish"),z.removeListener("close",N6),h8()}z.once("finish",P6);function h8(){T("unpipe"),M.unpipe(z)}return z.emit("pipe",M),z.writableNeedDrain===!0?_.flowing&&v1():_.flowing||(T("pipe resume"),M.resume()),z};function F1(z,F){return function(){let M=z._readableState;M.awaitDrainWriters===F?(T("pipeOnDrain",1),M.awaitDrainWriters=null):M.multiAwaitDrain&&(T("pipeOnDrain",M.awaitDrainWriters.size),M.awaitDrainWriters.delete(F)),(!M.awaitDrainWriters||M.awaitDrainWriters.size===0)&&z.listenerCount("data")&&z.resume()}}m.prototype.unpipe=function(z){let F=this._readableState,M={hasUnpiped:!1};if(F.pipes.length===0)return this;if(!z){let b=F.pipes;F.pipes=[],this.pause();for(let z1=0;z1<b.length;z1++)b[z1].emit("unpipe",this,{hasUnpiped:!1});return this}let _=X(F.pipes,z);return _===-1?this:(F.pipes.splice(_,1),F.pipes.length===0&&this.pause(),z.emit("unpipe",this,M),this)},m.prototype.on=function(z,F){let M=V.prototype.on.call(this,z,F),_=this._readableState;return z==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):z==="readable"&&!_.endEmitted&&!_.readableListening&&(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,T("on readable",_.length,_.reading),_.length?l(this):_.reading||k.nextTick(v,this)),M},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(z,F){let M=V.prototype.removeListener.call(this,z,F);return z==="readable"&&k.nextTick(Y1,this),M},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(z){let F=V.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&k.nextTick(Y1,this),F};function Y1(z){let F=z._readableState;F.readableListening=z.listenerCount("readable")>0,F.resumeScheduled&&F[U1]===!1?F.flowing=!0:z.listenerCount("data")>0?z.resume():F.readableListening||(F.flowing=null)}function v(z){T("readable nexttick read 0"),z.read(0)}m.prototype.resume=function(){let z=this._readableState;return z.flowing||(T("resume"),z.flowing=!z.readableListening,p(this,z)),z[U1]=!1,this};function p(z,F){F.resumeScheduled||(F.resumeScheduled=!0,k.nextTick(y,z,F))}function y(z,F){T("resume",F.reading),F.reading||z.read(0),F.resumeScheduled=!1,z.emit("resume"),x1(z),F.flowing&&!F.reading&&z.read(0)}m.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[U1]=!0,this};function x1(z){let F=z._readableState;for(T("flow",F.flowing);F.flowing&&z.read()!==null;);}m.prototype.wrap=function(z){let F=!1;z.on("data",(_)=>{!this.push(_)&&z.pause&&(F=!0,z.pause())}),z.on("end",()=>{this.push(null)}),z.on("error",(_)=>{e(this,_)}),z.on("close",()=>{this.destroy()}),z.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&z.resume&&(F=!1,z.resume())};let M=G(z);for(let _=1;_<M.length;_++){let b=M[_];this[b]===void 0&&typeof z[b]=="function"&&(this[b]=z[b].bind(z))}return this},m.prototype[Q]=function(){return n(this)},m.prototype.iterator=function(z){return z!==void 0&&h(z,"options"),n(this,z)};function n(z,F){typeof z.read!="function"&&(z=m.wrap(z,{objectMode:!0}));let M=E(z,F);return M.stream=z,M}async function*E(z,F){let M=B1;function _(W1){this===z?(M(),M=B1):M=W1}z.on("readable",_);let b,z1=j(z,{writable:!1},(W1)=>{b=W1?c(b,W1):null,M(),M=B1});try{for(;;){let W1=z.destroyed?null:z.read();if(W1!==null)yield W1;else{if(b)throw b;if(b===null)return;await new $(_)}}}catch(W1){throw b=c(b,W1),b}finally{(b||F?.destroyOnReturn!==!1)&&(b===void 0||z._readableState.autoDestroy)?O.destroyer(z,null):(z.off("readable",_),z1())}}U(m.prototype,{readable:{__proto__:null,get(){let z=this._readableState;return!!z&&z.readable!==!1&&!z.destroyed&&!z.errorEmitted&&!z.endEmitted},set(z){this._readableState&&(this._readableState.readable=!!z)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(z){this._readableState&&(this._readableState.destroyed=z)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),U(Q1.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[U1]!==!1},set(z){this[U1]=!!z}}}),m._fromList=f;function f(z,F){if(F.length===0)return null;let M;return F.objectMode?M=F.buffer.shift():!z||z>=F.length?(F.decoder?M=F.buffer.join(""):F.buffer.length===1?M=F.buffer.first():M=F.buffer.concat(F.length),F.buffer.clear()):M=F.buffer.consume(z,F.decoder),M}function r(z){let F=z._readableState;T("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,k.nextTick(L1,F,z))}function L1(z,F){if(T("endReadableNT",z.endEmitted,z.length),!z.errored&&!z.closeEmitted&&!z.endEmitted&&z.length===0){if(z.endEmitted=!0,F.emit("end"),F.writable&&F.allowHalfOpen===!1)k.nextTick(D1,F);else if(z.autoDestroy){let M=F._writableState;(!M||M.autoDestroy&&(M.finished||M.writable===!1))&&F.destroy()}}}function D1(z){z.writable&&!z.writableEnded&&!z.destroyed&&z.end()}m.from=function(z,F){return d(m,z,F)};var j1;function B(){return j1===void 0&&(j1={}),j1}m.fromWeb=function(z,F){return B().newStreamReadableFromReadableStream(z,F)},m.toWeb=function(z,F){return B().newReadableStreamFromStreamReadable(z,F)},m.wrap=function(z,F){var M,_;return new m({objectMode:(M=(_=z.readableObjectMode)!==null&&_!==void 0?_:z.objectMode)!==null&&M!==void 0?M:!0,...F,destroy(b,z1){O.destroyer(z,b),z1(b)}}).wrap(z)}}),S2=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{ArrayPrototypeSlice:X,Error:H,FunctionPrototypeSymbolHasInstance:q,ObjectDefineProperty:Z,ObjectDefineProperties:U,ObjectSetPrototypeOf:G,StringPrototypeToLowerCase:Y,Symbol:$,SymbolHasInstance:K}=S1();J.exports=k1,k1.WritableState=h;var{EventEmitter:Q}=(g8(),C1(w8)),L=q4().Stream,{Buffer:D}=(y1(),C1(p1)),V=d8(),{addAbortSignal:W}=Q6(),{getHighWaterMark:N,getDefaultHighWaterMark:P}=J4(),{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:O,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:S,ERR_STREAM_NULL_VALUES:c,ERR_STREAM_WRITE_AFTER_END:o,ERR_UNKNOWN_ENCODING:i}=g1().codes,{errorOrDestroy:I}=V;G(k1.prototype,L.prototype),G(k1,L);function g(){}var s=$("kOnFinished");function h(v,p,y){typeof y!="boolean"&&(y=p instanceof H8()),this.objectMode=!!(v&&v.objectMode),y&&(this.objectMode=this.objectMode||!!(v&&v.writableObjectMode)),this.highWaterMark=v?N(this,v,"writableHighWaterMark",y):P(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let x1=!!(v&&v.decodeStrings===!1);this.decodeStrings=!x1,this.defaultEncoding=v&&v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=m.bind(void 0,p),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,U1(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!v||v.emitClose!==!1,this.autoDestroy=!v||v.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[s]=[]}function U1(v){v.buffered=[],v.bufferedIndex=0,v.allBuffers=!0,v.allNoop=!0}h.prototype.getBuffer=function(){return X(this.buffered,this.bufferedIndex)},Z(h.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function k1(v){let p=this instanceof H8();if(!p&&!q(k1,this))return new k1(v);this._writableState=new h(v,this,p),v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final),typeof v.construct=="function"&&(this._construct=v.construct),v.signal&&W(v.signal,this)),L.call(this,v),V.construct(this,()=>{let y=this._writableState;y.writing||H1(this,y),J1(this,y)})}Z(k1,K,{__proto__:null,value:function(v){return q(this,v)?!0:this!==k1?!1:v&&v._writableState instanceof h}}),k1.prototype.pipe=function(){I(this,new O)};function d(v,p,y,x1){let n=v._writableState;if(typeof y=="function")x1=y,y=n.defaultEncoding;else{if(!y)y=n.defaultEncoding;else if(y!=="buffer"&&!D.isEncoding(y))throw new i(y);typeof x1!="function"&&(x1=g)}if(p===null)throw new c;if(!n.objectMode)if(typeof p=="string")n.decodeStrings!==!1&&(p=D.from(p,y),y="buffer");else if(p instanceof D)y="buffer";else if(L._isUint8Array(p))p=L._uint8ArrayToBuffer(p),y="buffer";else throw new j("chunk",["string","Buffer","Uint8Array"],p);let E;return n.ending?E=new o:n.destroyed&&(E=new R("write")),E?(k.nextTick(x1,E),I(v,E,!0),E):(n.pendingcb++,B1(v,n,p,y,x1))}k1.prototype.write=function(v,p,y){return d(this,v,p,y)===!0},k1.prototype.cork=function(){this._writableState.corked++},k1.prototype.uncork=function(){let v=this._writableState;v.corked&&(v.corked--,v.writing||H1(this,v))},k1.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=Y(v)),!D.isEncoding(v))throw new i(v);return this._writableState.defaultEncoding=v,this};function B1(v,p,y,x1,n){let E=p.objectMode?1:y.length;p.length+=E;let f=p.length<p.highWaterMark;return f||(p.needDrain=!0),p.writing||p.corked||p.errored||!p.constructed?(p.buffered.push({chunk:y,encoding:x1,callback:n}),p.allBuffers&&x1!=="buffer"&&(p.allBuffers=!1),p.allNoop&&n!==g&&(p.allNoop=!1)):(p.writelen=E,p.writecb=n,p.writing=!0,p.sync=!0,v._write(y,x1,p.onwrite),p.sync=!1),f&&!p.errored&&!p.destroyed}function e(v,p,y,x1,n,E,f){p.writelen=x1,p.writecb=f,p.writing=!0,p.sync=!0,p.destroyed?p.onwrite(new R("write")):y?v._writev(n,p.onwrite):v._write(n,E,p.onwrite),p.sync=!1}function Q1(v,p,y,x1){--p.pendingcb,x1(y),V1(p),I(v,y)}function m(v,p){let y=v._writableState,x1=y.sync,n=y.writecb;if(typeof n!="function"){I(v,new w);return}y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0,p?(p.stack,y.errored||(y.errored=p),v._readableState&&!v._readableState.errored&&(v._readableState.errored=p),x1?k.nextTick(Q1,v,y,p,n):Q1(v,y,p,n)):(y.buffered.length>y.bufferedIndex&&H1(v,y),x1?y.afterWriteTickInfo!==null&&y.afterWriteTickInfo.cb===n?y.afterWriteTickInfo.count++:(y.afterWriteTickInfo={count:1,cb:n,stream:v,state:y},k.nextTick(a,y.afterWriteTickInfo)):K1(v,y,1,n))}function a({stream:v,state:p,count:y,cb:x1}){return p.afterWriteTickInfo=null,K1(v,p,y,x1)}function K1(v,p,y,x1){for(!p.ending&&!v.destroyed&&p.length===0&&p.needDrain&&(p.needDrain=!1,v.emit("drain"));y-- >0;)p.pendingcb--,x1();p.destroyed&&V1(p),J1(v,p)}function V1(v){if(v.writing)return;for(let n=v.bufferedIndex;n<v.buffered.length;++n){var p;let{chunk:E,callback:f}=v.buffered[n],r=v.objectMode?1:E.length;v.length-=r,f((p=v.errored)!==null&&p!==void 0?p:new R("write"))}let y=v[s].splice(0);for(let n=0;n<y.length;n++){var x1;y[n]((x1=v.errored)!==null&&x1!==void 0?x1:new R("end"))}U1(v)}function H1(v,p){if(p.corked||p.bufferProcessing||p.destroyed||!p.constructed)return;let{buffered:y,bufferedIndex:x1,objectMode:n}=p,E=y.length-x1;if(!E)return;let f=x1;if(p.bufferProcessing=!0,E>1&&v._writev){p.pendingcb-=E-1;let r=p.allNoop?g:(D1)=>{for(let j1=f;j1<y.length;++j1)y[j1].callback(D1)},L1=p.allNoop&&f===0?y:X(y,f);L1.allBuffers=p.allBuffers,e(v,p,!0,p.length,L1,"",r),U1(p)}else{do{let{chunk:r,encoding:L1,callback:D1}=y[f];y[f++]=null;let j1=n?1:r.length;e(v,p,!1,j1,r,L1,D1)}while(f<y.length&&!p.writing);f===y.length?U1(p):f>256?(y.splice(0,f),p.bufferedIndex=0):p.bufferedIndex=f}p.bufferProcessing=!1}k1.prototype._write=function(v,p,y){if(this._writev)this._writev([{chunk:v,encoding:p}],y);else throw new T("_write()")},k1.prototype._writev=null,k1.prototype.end=function(v,p,y){let x1=this._writableState;typeof v=="function"?(y=v,v=null,p=null):typeof p=="function"&&(y=p,p=null);let n;if(v!=null){let E=d(this,v,p);E instanceof H&&(n=E)}return x1.corked&&(x1.corked=1,this.uncork()),n||(!x1.errored&&!x1.ending?(x1.ending=!0,J1(this,x1,!0),x1.ended=!0):x1.finished?n=new S("end"):x1.destroyed&&(n=new R("end"))),typeof y=="function"&&(n||x1.finished?k.nextTick(y,n):x1[s].push(y)),this};function A(v){return v.ending&&!v.destroyed&&v.constructed&&v.length===0&&!v.errored&&v.buffered.length===0&&!v.finished&&!v.writing&&!v.errorEmitted&&!v.closeEmitted}function C(v,p){let y=!1;function x1(n){if(y){I(v,n??w());return}if(y=!0,p.pendingcb--,n){let E=p[s].splice(0);for(let f=0;f<E.length;f++)E[f](n);I(v,n,p.sync)}else A(p)&&(p.prefinished=!0,v.emit("prefinish"),p.pendingcb++,k.nextTick(t,v,p))}p.sync=!0,p.pendingcb++;try{v._final(x1)}catch(n){x1(n)}p.sync=!1}function l(v,p){!p.prefinished&&!p.finalCalled&&(typeof v._final=="function"&&!p.destroyed?(p.finalCalled=!0,C(v,p)):(p.prefinished=!0,v.emit("prefinish")))}function J1(v,p,y){A(p)&&(l(v,p),p.pendingcb===0&&(y?(p.pendingcb++,k.nextTick((x1,n)=>{A(n)?t(x1,n):n.pendingcb--},v,p)):A(p)&&(p.pendingcb++,t(v,p))))}function t(v,p){p.pendingcb--,p.finished=!0;let y=p[s].splice(0);for(let x1=0;x1<y.length;x1++)y[x1]();if(v.emit("finish"),p.autoDestroy){let x1=v._readableState;(!x1||x1.autoDestroy&&(x1.endEmitted||x1.readable===!1))&&v.destroy()}}U(k1.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(v){this._writableState&&(this._writableState.destroyed=v)}},writable:{__proto__:null,get(){let v=this._writableState;return!!v&&v.writable!==!1&&!v.destroyed&&!v.errored&&!v.ending&&!v.ended},set(v){this._writableState&&(this._writableState.writable=!!v)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let v=this._writableState;return v?!v.destroyed&&!v.ending&&v.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var u=V.destroy;k1.prototype.destroy=function(v,p){let y=this._writableState;return!y.destroyed&&(y.bufferedIndex<y.buffered.length||y[s].length)&&k.nextTick(V1,y),u.call(this,v,p),this},k1.prototype._undestroy=V.undestroy,k1.prototype._destroy=function(v,p){p(v)},k1.prototype[Q.captureRejectionSymbol]=function(v){this.destroy(v)};var F1;function Y1(){return F1===void 0&&(F1={}),F1}k1.fromWeb=function(v,p){return Y1().newStreamWritableFromWritableStream(v,p)},k1.toWeb=function(v){return Y1().newWritableStreamFromStreamWritable(v)}}),V7=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),X=(y1(),C1(p1)),{isReadable:H,isWritable:q,isIterable:Z,isNodeStream:U,isReadableNodeStream:G,isWritableNodeStream:Y,isDuplexNodeStream:$}=B8(),K=L8(),{AbortError:Q,codes:{ERR_INVALID_ARG_TYPE:L,ERR_INVALID_RETURN_VALUE:D}}=g1(),{destroyer:V}=d8(),W=H8(),N=L6(),{createDeferredPromise:P}=z8(),j=A2(),T=globalThis.Blob||X.Blob,w=typeof T<"u"?function(i){return i instanceof T}:function(i){return!1},O=globalThis.AbortController||G4().AbortController,{FunctionPrototypeCall:R}=S1(),S=class extends W{constructor(i){super(i),i?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),i?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};J.exports=function i(I,g){if($(I))return I;if(G(I))return o({readable:I});if(Y(I))return o({writable:I});if(U(I))return o({writable:!1,readable:!1});if(typeof I=="function"){let{value:h,write:U1,final:k1,destroy:d}=c(I);if(Z(h))return j(S,h,{objectMode:!0,write:U1,final:k1,destroy:d});let B1=h?.then;if(typeof B1=="function"){let e,Q1=R(B1,h,(m)=>{if(m!=null)throw new D("nully","body",m)},(m)=>{V(e,m)});return e=new S({objectMode:!0,readable:!1,write:U1,final(m){k1(async()=>{try{await Q1,k.nextTick(m,null)}catch(a){k.nextTick(m,a)}})},destroy:d})}throw new D("Iterable, AsyncIterable or AsyncFunction",g,h)}if(w(I))return i(I.arrayBuffer());if(Z(I))return j(S,I,{objectMode:!0,writable:!1});if(typeof I?.writable=="object"||typeof I?.readable=="object"){let h=I!=null&&I.readable?G(I?.readable)?I?.readable:i(I.readable):void 0,U1=I!=null&&I.writable?Y(I?.writable)?I?.writable:i(I.writable):void 0;return o({readable:h,writable:U1})}let s=I?.then;if(typeof s=="function"){let h;return R(s,I,(U1)=>{U1!=null&&h.push(U1),h.push(null)},(U1)=>{V(h,U1)}),h=new S({objectMode:!0,writable:!1,read(){}})}throw new L(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],I)};function c(i){let{promise:I,resolve:g}=P(),s=new O,h=s.signal;return{value:i(async function*(){for(;;){let U1=I;I=null;let{chunk:k1,done:d,cb:B1}=await U1;if(k.nextTick(B1),d)return;if(h.aborted)throw new Q(void 0,{cause:h.reason});({promise:I,resolve:g}=P()),yield k1}}(),{signal:h}),write(U1,k1,d){let B1=g;g=null,B1({chunk:U1,done:!1,cb:d})},final(U1){let k1=g;g=null,k1({done:!0,cb:U1})},destroy(U1,k1){s.abort(),k1(U1)}}}function o(i){let I=i.readable&&typeof i.readable.read!="function"?N.wrap(i.readable):i.readable,g=i.writable,s=!!H(I),h=!!q(g),U1,k1,d,B1,e;function Q1(m){let a=B1;B1=null,a?a(m):m&&e.destroy(m)}return e=new S({readableObjectMode:!!(I!=null&&I.readableObjectMode),writableObjectMode:!!(g!=null&&g.writableObjectMode),readable:s,writable:h}),h&&(K(g,(m)=>{h=!1,m&&V(I,m),Q1(m)}),e._write=function(m,a,K1){g.write(m,a)?K1():U1=K1},e._final=function(m){g.end(),k1=m},g.on("drain",function(){if(U1){let m=U1;U1=null,m()}}),g.on("finish",function(){if(k1){let m=k1;k1=null,m()}})),s&&(K(I,(m)=>{s=!1,m&&V(I,m),Q1(m)}),I.on("readable",function(){if(d){let m=d;d=null,m()}}),I.on("end",function(){e.push(null)}),e._read=function(){for(;;){let m=I.read();if(m===null){d=e._read;return}if(!e.push(m))return}}),e._destroy=function(m,a){!m&&B1!==null&&(m=new Q),d=null,U1=null,k1=null,B1===null?a(m):(B1=a,V(g,m),V(I,m))},e}}),H8=$1((x,J)=>{Z1(),q1(),G1();var{ObjectDefineProperties:k,ObjectGetOwnPropertyDescriptor:X,ObjectKeys:H,ObjectSetPrototypeOf:q}=S1();J.exports=G;var Z=L6(),U=S2();q(G.prototype,Z.prototype),q(G,Z);{let Q=H(U.prototype);for(let L=0;L<Q.length;L++){let D=Q[L];G.prototype[D]||(G.prototype[D]=U.prototype[D])}}function G(Q){if(!(this instanceof G))return new G(Q);Z.call(this,Q),U.call(this,Q),Q?(this.allowHalfOpen=Q.allowHalfOpen!==!1,Q.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Q.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}k(G.prototype,{writable:{__proto__:null,...X(U.prototype,"writable")},writableHighWaterMark:{__proto__:null,...X(U.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...X(U.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...X(U.prototype,"writableBuffer")},writableLength:{__proto__:null,...X(U.prototype,"writableLength")},writableFinished:{__proto__:null,...X(U.prototype,"writableFinished")},writableCorked:{__proto__:null,...X(U.prototype,"writableCorked")},writableEnded:{__proto__:null,...X(U.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...X(U.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(Q){this._readableState&&this._writableState&&(this._readableState.destroyed=Q,this._writableState.destroyed=Q)}}});var Y;function $(){return Y===void 0&&(Y={}),Y}G.fromWeb=function(Q,L){return $().newStreamDuplexFromReadableWritablePair(Q,L)},G.toWeb=function(Q){return $().newReadableWritablePairFromDuplex(Q)};var K;G.from=function(Q){return K||(K=V7()),K(Q,"body")}}),w2=$1((x,J)=>{Z1(),q1(),G1();var{ObjectSetPrototypeOf:k,Symbol:X}=S1();J.exports=G;var{ERR_METHOD_NOT_IMPLEMENTED:H}=g1().codes,q=H8(),{getHighWaterMark:Z}=J4();k(G.prototype,q.prototype),k(G,q);var U=X("kCallback");function G(K){if(!(this instanceof G))return new G(K);let Q=K?Z(this,K,"readableHighWaterMark",!0):null;Q===0&&(K={...K,highWaterMark:null,readableHighWaterMark:Q,writableHighWaterMark:K.writableHighWaterMark||0}),q.call(this,K),this._readableState.sync=!1,this[U]=null,K&&(typeof K.transform=="function"&&(this._transform=K.transform),typeof K.flush=="function"&&(this._flush=K.flush)),this.on("prefinish",$)}function Y(K){typeof this._flush=="function"&&!this.destroyed?this._flush((Q,L)=>{if(Q){K?K(Q):this.destroy(Q);return}L!=null&&this.push(L),this.push(null),K&&K()}):(this.push(null),K&&K())}function $(){this._final!==Y&&Y.call(this)}G.prototype._final=Y,G.prototype._transform=function(K,Q,L){throw new H("_transform()")},G.prototype._write=function(K,Q,L){let D=this._readableState,V=this._writableState,W=D.length;this._transform(K,Q,(N,P)=>{if(N){L(N);return}P!=null&&this.push(P),V.ended||W===D.length||D.length<D.highWaterMark?L():this[U]=L})},G.prototype._read=function(){if(this[U]){let K=this[U];this[U]=null,K()}}}),E2=$1((x,J)=>{Z1(),q1(),G1();var{ObjectSetPrototypeOf:k}=S1();J.exports=H;var X=w2();k(H.prototype,X.prototype),k(H,X);function H(q){if(!(this instanceof H))return new H(q);X.call(this,q)}H.prototype._transform=function(q,Z,U){U(null,q)}}),X4=$1((x,J)=>{Z1(),q1(),G1();var k=S8(),{ArrayIsArray:X,Promise:H,SymbolAsyncIterator:q}=S1(),Z=L8(),{once:U}=z8(),G=d8(),Y=H8(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:K,ERR_INVALID_RETURN_VALUE:Q,ERR_MISSING_ARGS:L,ERR_STREAM_DESTROYED:D,ERR_STREAM_PREMATURE_CLOSE:V},AbortError:W}=g1(),{validateFunction:N,validateAbortSignal:P}=K6(),{isIterable:j,isReadable:T,isReadableNodeStream:w,isNodeStream:O,isTransformStream:R,isWebStream:S,isReadableStream:c,isReadableEnded:o}=B8(),i=globalThis.AbortController||G4().AbortController,I,g;function s(a,K1,V1){let H1=!1;a.on("close",()=>{H1=!0});let A=Z(a,{readable:K1,writable:V1},(C)=>{H1=!C});return{destroy:(C)=>{H1||(H1=!0,G.destroyer(a,C||new D("pipe")))},cleanup:A}}function h(a){return N(a[a.length-1],"streams[stream.length - 1]"),a.pop()}function U1(a){if(j(a))return a;if(w(a))return k1(a);throw new K("val",["Readable","Iterable","AsyncIterable"],a)}async function*k1(a){g||(g=L6()),yield*g.prototype[q].call(a)}async function d(a,K1,V1,{end:H1}){let A,C=null,l=(u)=>{if(u&&(A=u),C){let F1=C;C=null,F1()}},J1=()=>new H((u,F1)=>{A?F1(A):C=()=>{A?F1(A):u()}});K1.on("drain",l);let t=Z(K1,{readable:!1},l);try{K1.writableNeedDrain&&await J1();for await(let u of a)K1.write(u)||await J1();H1&&K1.end(),await J1(),V1()}catch(u){V1(A!==u?$(A,u):u)}finally{t(),K1.off("drain",l)}}async function B1(a,K1,V1,{end:H1}){R(K1)&&(K1=K1.writable);let A=K1.getWriter();try{for await(let C of a)await A.ready,A.write(C).catch(()=>{});await A.ready,H1&&await A.close(),V1()}catch(C){try{await A.abort(C),V1(C)}catch(l){V1(l)}}}function e(...a){return Q1(a,U(h(a)))}function Q1(a,K1,V1){if(a.length===1&&X(a[0])&&(a=a[0]),a.length<2)throw new L("streams");let H1=new i,A=H1.signal,C=V1?.signal,l=[];P(C,"options.signal");function J1(){p(new W)}C?.addEventListener("abort",J1);let t,u,F1=[],Y1=0;function v(f){p(f,--Y1===0)}function p(f,r){if(f&&(!t||t.code==="ERR_STREAM_PREMATURE_CLOSE")&&(t=f),!(!t&&!r)){for(;F1.length;)F1.shift()(t);C?.removeEventListener("abort",J1),H1.abort(),r&&(t||l.forEach((L1)=>L1()),k.nextTick(K1,t,u))}}let y;for(let f=0;f<a.length;f++){let r=a[f],L1=f<a.length-1,D1=f>0,j1=L1||V1?.end!==!1,B=f===a.length-1;if(O(r)){let z=function(F){F&&F.name!=="AbortError"&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"&&v(F)};var x1=z;if(j1){let{destroy:F,cleanup:M}=s(r,L1,D1);F1.push(F),T(r)&&B&&l.push(M)}r.on("error",z),T(r)&&B&&l.push(()=>{r.removeListener("error",z)})}if(f===0)if(typeof r=="function"){if(y=r({signal:A}),!j(y))throw new Q("Iterable, AsyncIterable or Stream","source",y)}else j(r)||w(r)||R(r)?y=r:y=Y.from(r);else if(typeof r=="function"){if(R(y)){var n;y=U1((n=y)===null||n===void 0?void 0:n.readable)}else y=U1(y);if(y=r(y,{signal:A}),L1){if(!j(y,!0))throw new Q("AsyncIterable",`transform[${f-1}]`,y)}else{var E;I||(I=E2());let z=new I({objectMode:!0}),F=(E=y)===null||E===void 0?void 0:E.then;if(typeof F=="function")Y1++,F.call(y,(b)=>{u=b,b!=null&&z.write(b),j1&&z.end(),k.nextTick(v)},(b)=>{z.destroy(b),k.nextTick(v,b)});else if(j(y,!0))Y1++,d(y,z,v,{end:j1});else if(c(y)||R(y)){let b=y.readable||y;Y1++,d(b,z,v,{end:j1})}else throw new Q("AsyncIterable or Promise","destination",y);y=z;let{destroy:M,cleanup:_}=s(y,!1,!0);F1.push(M),B&&l.push(_)}}else if(O(r)){if(w(y)){Y1+=2;let z=m(y,r,v,{end:j1});T(r)&&B&&l.push(z)}else if(R(y)||c(y)){let z=y.readable||y;Y1++,d(z,r,v,{end:j1})}else if(j(y))Y1++,d(y,r,v,{end:j1});else throw new K("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=r}else if(S(r)){if(w(y))Y1++,B1(U1(y),r,v,{end:j1});else if(c(y)||j(y))Y1++,B1(y,r,v,{end:j1});else if(R(y))Y1++,B1(y.readable,r,v,{end:j1});else throw new K("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=r}else y=Y.from(r)}return(A!=null&&A.aborted||C!=null&&C.aborted)&&k.nextTick(J1),y}function m(a,K1,V1,{end:H1}){let A=!1;if(K1.on("close",()=>{A||V1(new V)}),a.pipe(K1,{end:!1}),H1){let l=function(){A=!0,K1.end()};var C=l;o(a)?k.nextTick(l):a.once("end",l)}else V1();return Z(a,{readable:!0,writable:!1},(l)=>{let J1=a._readableState;l&&l.code==="ERR_STREAM_PREMATURE_CLOSE"&&J1&&J1.ended&&!J1.errored&&!J1.errorEmitted?a.once("end",V1).once("error",V1):V1(l)}),Z(K1,{readable:!1,writable:!0},V1)}J.exports={pipelineImpl:Q1,pipeline:e}}),p2=$1((x,J)=>{Z1(),q1(),G1();var{pipeline:k}=X4(),X=H8(),{destroyer:H}=d8(),{isNodeStream:q,isReadable:Z,isWritable:U,isWebStream:G,isTransformStream:Y,isWritableStream:$,isReadableStream:K}=B8(),{AbortError:Q,codes:{ERR_INVALID_ARG_VALUE:L,ERR_MISSING_ARGS:D}}=g1(),V=L8();J.exports=function(...W){if(W.length===0)throw new D("streams");if(W.length===1)return X.from(W[0]);let N=[...W];if(typeof W[0]=="function"&&(W[0]=X.from(W[0])),typeof W[W.length-1]=="function"){let I=W.length-1;W[I]=X.from(W[I])}for(let I=0;I<W.length;++I)if(!(!q(W[I])&&!G(W[I]))){if(I<W.length-1&&!(Z(W[I])||K(W[I])||Y(W[I])))throw new L(`streams[${I}]`,N[I],"must be readable");if(I>0&&!(U(W[I])||$(W[I])||Y(W[I])))throw new L(`streams[${I}]`,N[I],"must be writable")}let P,j,T,w,O;function R(I){let g=w;w=null,g?g(I):I?O.destroy(I):!i&&!o&&O.destroy()}let S=W[0],c=k(W,R),o=!!(U(S)||$(S)||Y(S)),i=!!(Z(c)||K(c)||Y(c));if(O=new X({writableObjectMode:!!(S!=null&&S.writableObjectMode),readableObjectMode:!!(c!=null&&c.writableObjectMode),writable:o,readable:i}),o){if(q(S))O._write=function(g,s,h){S.write(g,s)?h():P=h},O._final=function(g){S.end(),j=g},S.on("drain",function(){if(P){let g=P;P=null,g()}});else if(G(S)){let g=(Y(S)?S.writable:S).getWriter();O._write=async function(s,h,U1){try{await g.ready,g.write(s).catch(()=>{}),U1()}catch(k1){U1(k1)}},O._final=async function(s){try{await g.ready,g.close().catch(()=>{}),j=s}catch(h){s(h)}}}let I=Y(c)?c.readable:c;V(I,()=>{if(j){let g=j;j=null,g()}})}if(i){if(q(c))c.on("readable",function(){if(T){let I=T;T=null,I()}}),c.on("end",function(){O.push(null)}),O._read=function(){for(;;){let I=c.read();if(I===null){T=O._read;return}if(!O.push(I))return}};else if(G(c)){let I=(Y(c)?c.readable:c).getReader();O._read=async function(){for(;;)try{let{value:g,done:s}=await I.read();if(!O.push(g))return;if(s){O.push(null);return}}catch{return}}}}return O._destroy=function(I,g){!I&&w!==null&&(I=new Q),T=null,P=null,j=null,w===null?g(I):(w=g,q(c)&&H(c,I))},O}}),L7=$1((x,J)=>{Z1(),q1(),G1();var k=globalThis.AbortController||G4().AbortController,{codes:{ERR_INVALID_ARG_VALUE:X,ERR_INVALID_ARG_TYPE:H,ERR_MISSING_ARGS:q,ERR_OUT_OF_RANGE:Z},AbortError:U}=g1(),{validateAbortSignal:G,validateInteger:Y,validateObject:$}=K6(),K=S1().Symbol("kWeak"),{finished:Q}=L8(),L=p2(),{addAbortSignalNoValidate:D}=Q6(),{isWritable:V,isNodeStream:W}=B8(),{ArrayPrototypePush:N,MathFloor:P,Number:j,NumberIsNaN:T,Promise:w,PromiseReject:O,PromisePrototypeThen:R,Symbol:S}=S1(),c=S("kEmpty"),o=S("kEof");function i(H1,A){if(A!=null&&$(A,"options"),A?.signal!=null&&G(A.signal,"options.signal"),W(H1)&&!V(H1))throw new X("stream",H1,"must be writable");let C=L(this,H1);return A!=null&&A.signal&&D(A.signal,C),C}function I(H1,A){if(typeof H1!="function")throw new H("fn",["Function","AsyncFunction"],H1);A!=null&&$(A,"options"),A?.signal!=null&&G(A.signal,"options.signal");let C=1;return A?.concurrency!=null&&(C=P(A.concurrency)),Y(C,"concurrency",1),async function*(){var l,J1;let t=new k,u=this,F1=[],Y1=t.signal,v={signal:Y1},p=()=>t.abort();A!=null&&(l=A.signal)!==null&&l!==void 0&&l.aborted&&p(),A==null||(J1=A.signal)===null||J1===void 0||J1.addEventListener("abort",p);let y,x1,n=!1;function E(){n=!0}async function f(){try{for await(let D1 of u){var r;if(n)return;if(Y1.aborted)throw new U;try{D1=H1(D1,v)}catch(j1){D1=O(j1)}D1!==c&&(typeof((r=D1)===null||r===void 0?void 0:r.catch)=="function"&&D1.catch(E),F1.push(D1),y&&(y(),y=null),!n&&F1.length&&F1.length>=C&&await new w((j1)=>{x1=j1}))}F1.push(o)}catch(D1){let j1=O(D1);R(j1,void 0,E),F1.push(j1)}finally{var L1;n=!0,y&&(y(),y=null),A==null||(L1=A.signal)===null||L1===void 0||L1.removeEventListener("abort",p)}}f();try{for(;;){for(;F1.length>0;){let r=await F1[0];if(r===o)return;if(Y1.aborted)throw new U;r!==c&&(yield r),F1.shift(),x1&&(x1(),x1=null)}await new w((r)=>{y=r})}}finally{t.abort(),n=!0,x1&&(x1(),x1=null)}}.call(this)}function g(H1=void 0){return H1!=null&&$(H1,"options"),H1?.signal!=null&&G(H1.signal,"options.signal"),async function*(){let A=0;for await(let l of this){var C;if(H1!=null&&(C=H1.signal)!==null&&C!==void 0&&C.aborted)throw new U({cause:H1.signal.reason});yield[A++,l]}}.call(this)}async function s(H1,A=void 0){for await(let C of d.call(this,H1,A))return!0;return!1}async function h(H1,A=void 0){if(typeof H1!="function")throw new H("fn",["Function","AsyncFunction"],H1);return!await s.call(this,async(...C)=>!await H1(...C),A)}async function U1(H1,A){for await(let C of d.call(this,H1,A))return C}async function k1(H1,A){if(typeof H1!="function")throw new H("fn",["Function","AsyncFunction"],H1);async function C(l,J1){return await H1(l,J1),c}for await(let l of I.call(this,C,A));}function d(H1,A){if(typeof H1!="function")throw new H("fn",["Function","AsyncFunction"],H1);async function C(l,J1){return await H1(l,J1)?l:c}return I.call(this,C,A)}var B1=class extends q{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function e(H1,A,C){var l;if(typeof H1!="function")throw new H("reducer",["Function","AsyncFunction"],H1);C!=null&&$(C,"options"),C?.signal!=null&&G(C.signal,"options.signal");let J1=arguments.length>1;if(C!=null&&(l=C.signal)!==null&&l!==void 0&&l.aborted){let v=new U(void 0,{cause:C.signal.reason});throw this.once("error",()=>{}),await Q(this.destroy(v)),v}let t=new k,u=t.signal;if(C!=null&&C.signal){let v={once:!0,[K]:this};C.signal.addEventListener("abort",()=>t.abort(),v)}let F1=!1;try{for await(let v of this){var Y1;if(F1=!0,C!=null&&(Y1=C.signal)!==null&&Y1!==void 0&&Y1.aborted)throw new U;J1?A=await H1(A,v,{signal:u}):(A=v,J1=!0)}if(!F1&&!J1)throw new B1}finally{t.abort()}return A}async function Q1(H1){H1!=null&&$(H1,"options"),H1?.signal!=null&&G(H1.signal,"options.signal");let A=[];for await(let l of this){var C;if(H1!=null&&(C=H1.signal)!==null&&C!==void 0&&C.aborted)throw new U(void 0,{cause:H1.signal.reason});N(A,l)}return A}function m(H1,A){let C=I.call(this,H1,A);return async function*(){for await(let l of C)yield*l}.call(this)}function a(H1){if(H1=j(H1),T(H1))return 0;if(H1<0)throw new Z("number",">= 0",H1);return H1}function K1(H1,A=void 0){return A!=null&&$(A,"options"),A?.signal!=null&&G(A.signal,"options.signal"),H1=a(H1),async function*(){var C;if(A!=null&&(C=A.signal)!==null&&C!==void 0&&C.aborted)throw new U;for await(let J1 of this){var l;if(A!=null&&(l=A.signal)!==null&&l!==void 0&&l.aborted)throw new U;H1--<=0&&(yield J1)}}.call(this)}function V1(H1,A=void 0){return A!=null&&$(A,"options"),A?.signal!=null&&G(A.signal,"options.signal"),H1=a(H1),async function*(){var C;if(A!=null&&(C=A.signal)!==null&&C!==void 0&&C.aborted)throw new U;for await(let J1 of this){var l;if(A!=null&&(l=A.signal)!==null&&l!==void 0&&l.aborted)throw new U;if(H1-- >0)yield J1;else return}}.call(this)}J.exports.streamReturningOperators={asIndexedPairs:g,drop:K1,filter:d,flatMap:m,map:I,take:V1,compose:i},J.exports.promiseReturningOperators={every:h,forEach:k1,reduce:e,toArray:Q1,some:s,find:U1}}),y2=$1((x,J)=>{Z1(),q1(),G1();var{ArrayPrototypePop:k,Promise:X}=S1(),{isIterable:H,isNodeStream:q,isWebStream:Z}=B8(),{pipelineImpl:U}=X4(),{finished:G}=L8();b2();function Y(...$){return new X((K,Q)=>{let L,D,V=$[$.length-1];if(V&&typeof V=="object"&&!q(V)&&!H(V)&&!Z(V)){let W=k($);L=W.signal,D=W.end}U($,(W,N)=>{W?Q(W):K(N)},{signal:L,end:D})})}J.exports={finished:G,pipeline:Y}}),b2=$1((x,J)=>{Z1(),q1(),G1();var{Buffer:k}=(y1(),C1(p1)),{ObjectDefineProperty:X,ObjectKeys:H,ReflectApply:q}=S1(),{promisify:{custom:Z}}=z8(),{streamReturningOperators:U,promiseReturningOperators:G}=L7(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Y}}=g1(),$=p2(),{pipeline:K}=X4(),{destroyer:Q}=d8(),L=L8(),D=y2(),V=B8(),W=J.exports=q4().Stream;W.isDisturbed=V.isDisturbed,W.isErrored=V.isErrored,W.isReadable=V.isReadable,W.Readable=L6();for(let j of H(U)){let T=function(...O){if(new.target)throw Y();return W.Readable.from(q(w,this,O))};N=T;let w=U[j];X(T,"name",{__proto__:null,value:w.name}),X(T,"length",{__proto__:null,value:w.length}),X(W.Readable.prototype,j,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}var N;for(let j of H(G)){let T=function(...O){if(new.target)throw Y();return q(w,this,O)};N=T;let w=G[j];X(T,"name",{__proto__:null,value:w.name}),X(T,"length",{__proto__:null,value:w.length}),X(W.Readable.prototype,j,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}var N;W.Writable=S2(),W.Duplex=H8(),W.Transform=w2(),W.PassThrough=E2(),W.pipeline=K;var{addAbortSignal:P}=Q6();W.addAbortSignal=P,W.finished=L,W.destroy=Q,W.compose=$,X(W,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return D}}),X(K,Z,{__proto__:null,enumerable:!0,get(){return D.pipeline}}),X(L,Z,{__proto__:null,enumerable:!0,get(){return D.finished}}),W.Stream=W,W._isUint8Array=function(j){return j instanceof Uint8Array},W._uint8ArrayToBuffer=function(j){return k.from(j.buffer,j.byteOffset,j.byteLength)}}),E8=$1((x,J)=>{Z1(),q1(),G1();var k=b2(),X=y2(),H=k.Readable.destroy;J.exports=k.Readable,J.exports._uint8ArrayToBuffer=k._uint8ArrayToBuffer,J.exports._isUint8Array=k._isUint8Array,J.exports.isDisturbed=k.isDisturbed,J.exports.isErrored=k.isErrored,J.exports.isReadable=k.isReadable,J.exports.Readable=k.Readable,J.exports.Writable=k.Writable,J.exports.Duplex=k.Duplex,J.exports.Transform=k.Transform,J.exports.PassThrough=k.PassThrough,J.exports.addAbortSignal=k.addAbortSignal,J.exports.finished=k.finished,J.exports.destroy=k.destroy,J.exports.destroy=H,J.exports.pipeline=k.pipeline,J.exports.compose=k.compose,Object.defineProperty(k,"promises",{configurable:!0,enumerable:!0,get(){return X}}),J.exports.Stream=k.Stream,J.exports.default=J.exports}),D7=$1((x,J)=>{Z1(),q1(),G1(),typeof Object.create=="function"?J.exports=function(k,X){X&&(k.super_=X,k.prototype=Object.create(X.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}))}:J.exports=function(k,X){if(X){k.super_=X;var H=function(){};H.prototype=X.prototype,k.prototype=new H,k.prototype.constructor=k}}}),W7=$1((x,J)=>{Z1(),q1(),G1();var{Buffer:k}=(y1(),C1(p1)),X=Symbol.for("BufferList");function H(q){if(!(this instanceof H))return new H(q);H._init.call(this,q)}H._init=function(q){Object.defineProperty(this,X,{value:!0}),this._bufs=[],this.length=0,q&&this.append(q)},H.prototype._new=function(q){return new H(q)},H.prototype._offset=function(q){if(q===0)return[0,0];let Z=0;for(let U=0;U<this._bufs.length;U++){let G=Z+this._bufs[U].length;if(q<G||U===this._bufs.length-1)return[U,q-Z];Z=G}},H.prototype._reverseOffset=function(q){let Z=q[0],U=q[1];for(let G=0;G<Z;G++)U+=this._bufs[G].length;return U},H.prototype.get=function(q){if(q>this.length||q<0)return;let Z=this._offset(q);return this._bufs[Z[0]][Z[1]]},H.prototype.slice=function(q,Z){return typeof q=="number"&&q<0&&(q+=this.length),typeof Z=="number"&&Z<0&&(Z+=this.length),this.copy(null,0,q,Z)},H.prototype.copy=function(q,Z,U,G){if((typeof U!="number"||U<0)&&(U=0),(typeof G!="number"||G>this.length)&&(G=this.length),U>=this.length||G<=0)return q||k.alloc(0);let Y=!!q,$=this._offset(U),K=G-U,Q=K,L=Y&&Z||0,D=$[1];if(U===0&&G===this.length){if(!Y)return this._bufs.length===1?this._bufs[0]:k.concat(this._bufs,this.length);for(let V=0;V<this._bufs.length;V++)this._bufs[V].copy(q,L),L+=this._bufs[V].length;return q}if(Q<=this._bufs[$[0]].length-D)return Y?this._bufs[$[0]].copy(q,Z,D,D+Q):this._bufs[$[0]].slice(D,D+Q);Y||(q=k.allocUnsafe(K));for(let V=$[0];V<this._bufs.length;V++){let W=this._bufs[V].length-D;if(Q>W)this._bufs[V].copy(q,L,D),L+=W;else{this._bufs[V].copy(q,L,D,D+Q),L+=W;break}Q-=W,D&&(D=0)}return q.length>L?q.slice(0,L):q},H.prototype.shallowSlice=function(q,Z){if(q=q||0,Z=typeof Z!="number"?this.length:Z,q<0&&(q+=this.length),Z<0&&(Z+=this.length),q===Z)return this._new();let U=this._offset(q),G=this._offset(Z),Y=this._bufs.slice(U[0],G[0]+1);return G[1]===0?Y.pop():Y[Y.length-1]=Y[Y.length-1].slice(0,G[1]),U[1]!==0&&(Y[0]=Y[0].slice(U[1])),this._new(Y)},H.prototype.toString=function(q,Z,U){return this.slice(Z,U).toString(q)},H.prototype.consume=function(q){if(q=Math.trunc(q),Number.isNaN(q)||q<=0)return this;for(;this._bufs.length;)if(q>=this._bufs[0].length)q-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(q),this.length-=q;break}return this},H.prototype.duplicate=function(){let q=this._new();for(let Z=0;Z<this._bufs.length;Z++)q.append(this._bufs[Z]);return q},H.prototype.append=function(q){if(q==null)return this;if(q.buffer)this._appendBuffer(k.from(q.buffer,q.byteOffset,q.byteLength));else if(Array.isArray(q))for(let Z=0;Z<q.length;Z++)this.append(q[Z]);else if(this._isBufferList(q))for(let Z=0;Z<q._bufs.length;Z++)this.append(q._bufs[Z]);else typeof q=="number"&&(q=q.toString()),this._appendBuffer(k.from(q));return this},H.prototype._appendBuffer=function(q){this._bufs.push(q),this.length+=q.length},H.prototype.indexOf=function(q,Z,U){if(U===void 0&&typeof Z=="string"&&(U=Z,Z=void 0),typeof q=="function"||Array.isArray(q))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof q=="number"?q=k.from([q]):typeof q=="string"?q=k.from(q,U):this._isBufferList(q)?q=q.slice():Array.isArray(q.buffer)?q=k.from(q.buffer,q.byteOffset,q.byteLength):k.isBuffer(q)||(q=k.from(q)),Z=Number(Z||0),isNaN(Z)&&(Z=0),Z<0&&(Z=this.length+Z),Z<0&&(Z=0),q.length===0)return Z>this.length?this.length:Z;let G=this._offset(Z),Y=G[0],$=G[1];for(;Y<this._bufs.length;Y++){let K=this._bufs[Y];for(;$<K.length;)if(K.length-$>=q.length){let Q=K.indexOf(q,$);if(Q!==-1)return this._reverseOffset([Y,Q]);$=K.length-q.length+1}else{let Q=this._reverseOffset([Y,$]);if(this._match(Q,q))return Q;$++}$=0}return-1},H.prototype._match=function(q,Z){if(this.length-q<Z.length)return!1;for(let U=0;U<Z.length;U++)if(this.get(q+U)!==Z[U])return!1;return!0},function(){let q={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let Z in q)(function(U){q[U]===null?H.prototype[U]=function(G,Y){return this.slice(G,G+Y)[U](0,Y)}:H.prototype[U]=function(G=0){return this.slice(G,G+q[U])[U](0)}})(Z)}(),H.prototype._isBufferList=function(q){return q instanceof H||H.isBufferList(q)},H.isBufferList=function(q){return q!=null&&q[X]},J.exports=H}),j7=$1((x,J)=>{Z1(),q1(),G1();var k=E8().Duplex,X=D7(),H=W7();function q(Z){if(!(this instanceof q))return new q(Z);if(typeof Z=="function"){this._callback=Z;let U=function(G){this._callback&&(this._callback(G),this._callback=null)}.bind(this);this.on("pipe",function(G){G.on("error",U)}),this.on("unpipe",function(G){G.removeListener("error",U)}),Z=null}H._init.call(this,Z),k.call(this)}X(q,k),Object.assign(q.prototype,H.prototype),q.prototype._new=function(Z){return new q(Z)},q.prototype._write=function(Z,U,G){this._appendBuffer(Z),typeof G=="function"&&G()},q.prototype._read=function(Z){if(!this.length)return this.push(null);Z=Math.min(Z,this.length),this.push(this.slice(0,Z)),this.consume(Z)},q.prototype.end=function(Z){k.prototype.end.call(this,Z),this._callback&&(this._callback(null,this.slice()),this._callback=null)},q.prototype._destroy=function(Z,U){this._bufs.length=0,this.length=0,U(Z)},q.prototype._isBufferList=function(Z){return Z instanceof q||Z instanceof H||q.isBufferList(Z)},q.isBufferList=H.isBufferList,J.exports=q,J.exports.BufferListStream=q,J.exports.BufferList=H}),N7=$1((x,J)=>{Z1(),q1(),G1();var k=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};J.exports=k}),d2=$1((x,J)=>{Z1(),q1(),G1();var k=J.exports,{Buffer:X}=(y1(),C1(p1));k.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},k.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},k.requiredHeaderFlagsErrors={};for(let q in k.requiredHeaderFlags){let Z=k.requiredHeaderFlags[q];k.requiredHeaderFlagsErrors[q]="Invalid header flag bits, must be 0x"+Z.toString(16)+" for "+k.types[q]+" packet"}k.codes={};for(let q in k.types){let Z=k.types[q];k.codes[Z]=q}k.CMD_SHIFT=4,k.CMD_MASK=240,k.DUP_MASK=8,k.QOS_MASK=3,k.QOS_SHIFT=1,k.RETAIN_MASK=1,k.VARBYTEINT_MASK=127,k.VARBYTEINT_FIN_MASK=128,k.VARBYTEINT_MAX=268435455,k.SESSIONPRESENT_MASK=1,k.SESSIONPRESENT_HEADER=X.from([k.SESSIONPRESENT_MASK]),k.CONNACK_HEADER=X.from([k.codes.connack<<k.CMD_SHIFT]),k.USERNAME_MASK=128,k.PASSWORD_MASK=64,k.WILL_RETAIN_MASK=32,k.WILL_QOS_MASK=24,k.WILL_QOS_SHIFT=3,k.WILL_FLAG_MASK=4,k.CLEAN_SESSION_MASK=2,k.CONNECT_HEADER=X.from([k.codes.connect<<k.CMD_SHIFT]),k.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},k.propertiesCodes={};for(let q in k.properties){let Z=k.properties[q];k.propertiesCodes[Z]=q}k.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function H(q){return[0,1,2].map((Z)=>[0,1].map((U)=>[0,1].map((G)=>{let Y=X.alloc(1);return Y.writeUInt8(k.codes[q]<<k.CMD_SHIFT|(U?k.DUP_MASK:0)|Z<<k.QOS_SHIFT|G,0,!0),Y})))}k.PUBLISH_HEADER=H("publish"),k.SUBSCRIBE_HEADER=H("subscribe"),k.SUBSCRIBE_OPTIONS_QOS_MASK=3,k.SUBSCRIBE_OPTIONS_NL_MASK=1,k.SUBSCRIBE_OPTIONS_NL_SHIFT=2,k.SUBSCRIBE_OPTIONS_RAP_MASK=1,k.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,k.SUBSCRIBE_OPTIONS_RH_MASK=3,k.SUBSCRIBE_OPTIONS_RH_SHIFT=4,k.SUBSCRIBE_OPTIONS_RH=[0,16,32],k.SUBSCRIBE_OPTIONS_NL=4,k.SUBSCRIBE_OPTIONS_RAP=8,k.SUBSCRIBE_OPTIONS_QOS=[0,1,2],k.UNSUBSCRIBE_HEADER=H("unsubscribe"),k.ACKS={unsuback:H("unsuback"),puback:H("puback"),pubcomp:H("pubcomp"),pubrel:H("pubrel"),pubrec:H("pubrec")},k.SUBACK_HEADER=X.from([k.codes.suback<<k.CMD_SHIFT]),k.VERSION3=X.from([3]),k.VERSION4=X.from([4]),k.VERSION5=X.from([5]),k.VERSION131=X.from([131]),k.VERSION132=X.from([132]),k.QOS=[0,1,2].map((q)=>X.from([q])),k.EMPTY={pingreq:X.from([k.codes.pingreq<<4,0]),pingresp:X.from([k.codes.pingresp<<4,0]),disconnect:X.from([k.codes.disconnect<<4,0])},k.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},k.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},k.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},k.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},k.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},k.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),P7=$1((x,J)=>{Z1(),q1(),G1();var k=1000,X=k*60,H=X*60,q=H*24,Z=q*7,U=q*365.25;J.exports=function(Q,L){L=L||{};var D=typeof Q;if(D==="string"&&Q.length>0)return G(Q);if(D==="number"&&isFinite(Q))return L.long?$(Q):Y(Q);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Q))};function G(Q){if(Q=String(Q),!(Q.length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Q);if(L){var D=parseFloat(L[1]),V=(L[2]||"ms").toLowerCase();switch(V){case"years":case"year":case"yrs":case"yr":case"y":return D*U;case"weeks":case"week":case"w":return D*Z;case"days":case"day":case"d":return D*q;case"hours":case"hour":case"hrs":case"hr":case"h":return D*H;case"minutes":case"minute":case"mins":case"min":case"m":return D*X;case"seconds":case"second":case"secs":case"sec":case"s":return D*k;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}function Y(Q){var L=Math.abs(Q);return L>=q?Math.round(Q/q)+"d":L>=H?Math.round(Q/H)+"h":L>=X?Math.round(Q/X)+"m":L>=k?Math.round(Q/k)+"s":Q+"ms"}function $(Q){var L=Math.abs(Q);return L>=q?K(Q,L,q,"day"):L>=H?K(Q,L,H,"hour"):L>=X?K(Q,L,X,"minute"):L>=k?K(Q,L,k,"second"):Q+" ms"}function K(Q,L,D,V){var W=L>=D*1.5;return Math.round(Q/D)+" "+V+(W?"s":"")}}),M7=$1((x,J)=>{Z1(),q1(),G1();function k(X){q.debug=q,q.default=q,q.coerce=K,q.disable=G,q.enable=U,q.enabled=Y,q.humanize=P7(),q.destroy=Q,Object.keys(X).forEach((L)=>{q[L]=X[L]}),q.names=[],q.skips=[],q.formatters={};function H(L){let D=0;for(let V=0;V<L.length;V++)D=(D<<5)-D+L.charCodeAt(V),D|=0;return q.colors[Math.abs(D)%q.colors.length]}q.selectColor=H;function q(L){let D,V=null,W,N;function P(...j){if(!P.enabled)return;let T=P,w=Number(new Date),O=w-(D||w);T.diff=O,T.prev=D,T.curr=w,D=w,j[0]=q.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let R=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(S,c)=>{if(S==="%%")return"%";R++;let o=q.formatters[c];if(typeof o=="function"){let i=j[R];S=o.call(T,i),j.splice(R,1),R--}return S}),q.formatArgs.call(T,j),(T.log||q.log).apply(T,j)}return P.namespace=L,P.useColors=q.useColors(),P.color=q.selectColor(L),P.extend=Z,P.destroy=q.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>V!==null?V:(W!==q.namespaces&&(W=q.namespaces,N=q.enabled(L)),N),set:(j)=>{V=j}}),typeof q.init=="function"&&q.init(P),P}function Z(L,D){let V=q(this.namespace+(typeof D>"u"?":":D)+L);return V.log=this.log,V}function U(L){q.save(L),q.namespaces=L,q.names=[],q.skips=[];let D,V=(typeof L=="string"?L:"").split(/[\s,]+/),W=V.length;for(D=0;D<W;D++)V[D]&&(L=V[D].replace(/\*/g,".*?"),L[0]==="-"?q.skips.push(new RegExp("^"+L.slice(1)+"$")):q.names.push(new RegExp("^"+L+"$")))}function G(){let L=[...q.names.map($),...q.skips.map($).map((D)=>"-"+D)].join(",");return q.enable(""),L}function Y(L){if(L[L.length-1]==="*")return!0;let D,V;for(D=0,V=q.skips.length;D<V;D++)if(q.skips[D].test(L))return!1;for(D=0,V=q.names.length;D<V;D++)if(q.names[D].test(L))return!0;return!1}function $(L){return L.toString().substring(2,L.toString().length-2).replace(/\.\*\?$/,"*")}function K(L){return L instanceof Error?L.stack||L.message:L}function Q(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return q.enable(q.load()),q}J.exports=k}),$8=$1((x,J)=>{Z1(),q1(),G1(),x.formatArgs=X,x.save=H,x.load=q,x.useColors=k,x.storage=Z(),x.destroy=(()=>{let G=!1;return()=>{G||(G=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),x.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function k(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function X(G){if(G[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+G[0]+(this.useColors?"%c ":" ")+"+"+J.exports.humanize(this.diff),!this.useColors)return;let Y="color: "+this.color;G.splice(1,0,Y,"color: inherit");let $=0,K=0;G[0].replace(/%[a-zA-Z%]/g,(Q)=>{Q!=="%%"&&($++,Q==="%c"&&(K=$))}),G.splice(K,0,Y)}x.log=console.debug||console.log||(()=>{});function H(G){try{G?x.storage.setItem("debug",G):x.storage.removeItem("debug")}catch{}}function q(){let G;try{G=x.storage.getItem("debug")}catch{}return!G&&typeof N1<"u"&&"env"in N1&&(G=N1.env.DEBUG),G}function Z(){try{return localStorage}catch{}}J.exports=M7()(x);var{formatters:U}=J.exports;U.j=function(G){try{return JSON.stringify(G)}catch(Y){return"[UnexpectedJSONParseError]: "+Y.message}}}),O7=$1((x,J)=>{Z1(),q1(),G1();var k=j7(),{EventEmitter:X}=(g8(),C1(w8)),H=N7(),q=d2(),Z=$8()("mqtt-packet:parser"),U=class G extends X{constructor(){super(),this.parser=this.constructor.parser}static parser(Y){return this instanceof G?(this.settings=Y||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new G().parser(Y)}_resetState(){Z("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new H,this.error=null,this._list=k(),this._stateCounter=0}parse(Y){for(this.error&&this._resetState(),this._list.append(Y),Z("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,Z("parse: state complete. _stateCounter is now: %d",this._stateCounter),Z("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return Z("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let Y=this._list.readUInt8(0),$=Y>>q.CMD_SHIFT;this.packet.cmd=q.types[$];let K=Y&15,Q=q.requiredHeaderFlags[$];return Q!=null&&K!==Q?this._emitError(new Error(q.requiredHeaderFlagsErrors[$])):(this.packet.retain=(Y&q.RETAIN_MASK)!==0,this.packet.qos=Y>>q.QOS_SHIFT&q.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(Y&q.DUP_MASK)!==0,Z("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let Y=this._parseVarByteNum(!0);return Y&&(this.packet.length=Y.value,this._list.consume(Y.bytes)),Z("_parseLength %d",Y.value),!!Y}_parsePayload(){Z("_parsePayload: payload %O",this._list);let Y=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}Y=!0}return Z("_parsePayload complete result: %s",Y),Y}_parseConnect(){Z("_parseConnect");let Y,$,K,Q,L={},D=this.packet,V=this._parseString();if(V===null)return this._emitError(new Error("Cannot parse protocolId"));if(V!=="MQTT"&&V!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(D.protocolId=V,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(D.protocolVersion=this._list.readUInt8(this._pos),D.protocolVersion>=128&&(D.bridgeMode=!0,D.protocolVersion=D.protocolVersion-128),D.protocolVersion!==3&&D.protocolVersion!==4&&D.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));L.username=this._list.readUInt8(this._pos)&q.USERNAME_MASK,L.password=this._list.readUInt8(this._pos)&q.PASSWORD_MASK,L.will=this._list.readUInt8(this._pos)&q.WILL_FLAG_MASK;let W=!!(this._list.readUInt8(this._pos)&q.WILL_RETAIN_MASK),N=(this._list.readUInt8(this._pos)&q.WILL_QOS_MASK)>>q.WILL_QOS_SHIFT;if(L.will)D.will={},D.will.retain=W,D.will.qos=N;else{if(W)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(N)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(D.clean=(this._list.readUInt8(this._pos)&q.CLEAN_SESSION_MASK)!==0,this._pos++,D.keepalive=this._parseNum(),D.keepalive===-1)return this._emitError(new Error("Packet too short"));if(D.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(D.properties=j)}let P=this._parseString();if(P===null)return this._emitError(new Error("Packet too short"));if(D.clientId=P,Z("_parseConnect: packet.clientId: %s",D.clientId),L.will){if(D.protocolVersion===5){let j=this._parseProperties();Object.getOwnPropertyNames(j).length&&(D.will.properties=j)}if(Y=this._parseString(),Y===null)return this._emitError(new Error("Cannot parse will topic"));if(D.will.topic=Y,Z("_parseConnect: packet.will.topic: %s",D.will.topic),$=this._parseBuffer(),$===null)return this._emitError(new Error("Cannot parse will payload"));D.will.payload=$,Z("_parseConnect: packet.will.paylaod: %s",D.will.payload)}if(L.username){if(Q=this._parseString(),Q===null)return this._emitError(new Error("Cannot parse username"));D.username=Q,Z("_parseConnect: packet.username: %s",D.username)}if(L.password){if(K=this._parseBuffer(),K===null)return this._emitError(new Error("Cannot parse password"));D.password=K}return this.settings=D,Z("_parseConnect: complete"),D}_parseConnack(){Z("_parseConnack");let Y=this.packet;if(this._list.length<1)return null;let $=this._list.readUInt8(this._pos++);if($>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(Y.sessionPresent=!!($&q.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?Y.reasonCode=this._list.readUInt8(this._pos++):Y.reasonCode=0;else{if(this._list.length<2)return null;Y.returnCode=this._list.readUInt8(this._pos++)}if(Y.returnCode===-1||Y.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let K=this._parseProperties();Object.getOwnPropertyNames(K).length&&(Y.properties=K)}Z("_parseConnack: complete")}_parsePublish(){Z("_parsePublish");let Y=this.packet;if(Y.topic=this._parseString(),Y.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(Y.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(Y.properties=$)}Y.payload=this._list.slice(this._pos,Y.length),Z("_parsePublish: payload from buffer list: %o",Y.payload)}}_parseSubscribe(){Z("_parseSubscribe");let Y=this.packet,$,K,Q,L,D,V,W;if(Y.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let N=this._parseProperties();Object.getOwnPropertyNames(N).length&&(Y.properties=N)}if(Y.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<Y.length;){if($=this._parseString(),$===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=Y.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(K=this._parseByte(),this.settings.protocolVersion===5){if(K&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(K&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(Q=K&q.SUBSCRIBE_OPTIONS_QOS_MASK,Q>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(V=(K>>q.SUBSCRIBE_OPTIONS_NL_SHIFT&q.SUBSCRIBE_OPTIONS_NL_MASK)!==0,D=(K>>q.SUBSCRIBE_OPTIONS_RAP_SHIFT&q.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,L=K>>q.SUBSCRIBE_OPTIONS_RH_SHIFT&q.SUBSCRIBE_OPTIONS_RH_MASK,L>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));W={topic:$,qos:Q},this.settings.protocolVersion===5?(W.nl=V,W.rap=D,W.rh=L):this.settings.bridgeMode&&(W.rh=0,W.rap=!0,W.nl=!0),Z("_parseSubscribe: push subscription `%s` to subscription",W),Y.subscriptions.push(W)}}}_parseSuback(){Z("_parseSuback");let Y=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(Y.properties=$)}if(Y.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let $=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!q.MQTT5_SUBACK_CODES[$])return this._emitError(new Error("Invalid suback code"))}else if($>2&&$!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push($)}}}_parseUnsubscribe(){Z("_parseUnsubscribe");let Y=this.packet;if(Y.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(Y.properties=$)}if(Y.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<Y.length;){let $=this._parseString();if($===null)return this._emitError(new Error("Cannot parse topic"));Z("_parseUnsubscribe: push topic `%s` to unsubscriptions",$),Y.unsubscriptions.push($)}}}_parseUnsuback(){Z("_parseUnsuback");let Y=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&Y.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(Y.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let $=this._parseProperties();for(Object.getOwnPropertyNames($).length&&(Y.properties=$),Y.granted=[];this._pos<this.packet.length;){let K=this._list.readUInt8(this._pos++);if(!q.MQTT5_UNSUBACK_CODES[K])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(K)}}}_parseConfirmation(){Z("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let Y=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(Y.length>2){switch(Y.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!q.MQTT5_PUBACK_PUBREC_CODES[Y.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!q.MQTT5_PUBREL_PUBCOMP_CODES[Y.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}Z("_parseConfirmation: packet.reasonCode `%d`",Y.reasonCode)}else Y.reasonCode=0;if(Y.length>3){let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(Y.properties=$)}}return!0}_parseDisconnect(){let Y=this.packet;if(Z("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(Y.reasonCode=this._parseByte(),q.MQTT5_DISCONNECT_CODES[Y.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):Y.reasonCode=0;let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(Y.properties=$)}return Z("_parseDisconnect result: true"),!0}_parseAuth(){Z("_parseAuth");let Y=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(Y.reasonCode=this._parseByte(),!q.MQTT5_AUTH_CODES[Y.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let $=this._parseProperties();return Object.getOwnPropertyNames($).length&&(Y.properties=$),Z("_parseAuth: result: true"),!0}_parseMessageId(){let Y=this.packet;return Y.messageId=this._parseNum(),Y.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(Z("_parseMessageId: packet.messageId %d",Y.messageId),!0)}_parseString(Y){let $=this._parseNum(),K=$+this._pos;if($===-1||K>this._list.length||K>this.packet.length)return null;let Q=this._list.toString("utf8",this._pos,K);return this._pos+=$,Z("_parseString: result: %s",Q),Q}_parseStringPair(){return Z("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let Y=this._parseNum(),$=Y+this._pos;if(Y===-1||$>this._list.length||$>this.packet.length)return null;let K=this._list.slice(this._pos,$);return this._pos+=Y,Z("_parseBuffer: result: %o",K),K}_parseNum(){if(this._list.length-this._pos<2)return-1;let Y=this._list.readUInt16BE(this._pos);return this._pos+=2,Z("_parseNum: result: %s",Y),Y}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let Y=this._list.readUInt32BE(this._pos);return this._pos+=4,Z("_parse4ByteNum: result: %s",Y),Y}_parseVarByteNum(Y){Z("_parseVarByteNum");let $=4,K=0,Q=1,L=0,D=!1,V,W=this._pos?this._pos:0;for(;K<$&&W+K<this._list.length;){if(V=this._list.readUInt8(W+K++),L+=Q*(V&q.VARBYTEINT_MASK),Q*=128,!(V&q.VARBYTEINT_FIN_MASK)){D=!0;break}if(this._list.length<=K)break}return!D&&K===$&&this._list.length>=K&&this._emitError(new Error("Invalid variable byte integer")),W&&(this._pos+=K),D?Y?D={bytes:K,value:L}:D=L:D=!1,Z("_parseVarByteNum: result: %o",D),D}_parseByte(){let Y;return this._pos<this._list.length&&(Y=this._list.readUInt8(this._pos),this._pos++),Z("_parseByte: result: %o",Y),Y}_parseByType(Y){switch(Z("_parseByType: type: %s",Y),Y){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){Z("_parseProperties");let Y=this._parseVarByteNum(),$=this._pos+Y,K={};for(;this._pos<$;){let Q=this._parseByte();if(!Q)return this._emitError(new Error("Cannot parse property code type")),!1;let L=q.propertiesCodes[Q];if(!L)return this._emitError(new Error("Unknown property")),!1;if(L==="userProperties"){K[L]||(K[L]=Object.create(null));let D=this._parseByType(q.propertiesTypes[L]);if(K[L][D.name])if(Array.isArray(K[L][D.name]))K[L][D.name].push(D.value);else{let V=K[L][D.name];K[L][D.name]=[V],K[L][D.name].push(D.value)}else K[L][D.name]=D.value;continue}K[L]?Array.isArray(K[L])?K[L].push(this._parseByType(q.propertiesTypes[L])):(K[L]=[K[L]],K[L].push(this._parseByType(q.propertiesTypes[L]))):K[L]=this._parseByType(q.propertiesTypes[L])}return K}_newPacket(){return Z("_newPacket"),this.packet&&(this._list.consume(this.packet.length),Z("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),Z("_newPacket: new packet"),this.packet=new H,this._pos=0,!0}_emitError(Y){Z("_emitError",Y),this.error=Y,this.emit("error",Y)}};J.exports=U}),m7=$1((x,J)=>{Z1(),q1(),G1();var{Buffer:k}=(y1(),C1(p1)),X=65536,H={},q=k.isBuffer(k.from([1,2]).subarray(0,1));function Z($){let K=k.allocUnsafe(2);return K.writeUInt8($>>8,0),K.writeUInt8($&255,1),K}function U(){for(let $=0;$<X;$++)H[$]=Z($)}function G($){let K=0,Q=0,L=k.allocUnsafe(4);do K=$%128|0,$=$/128|0,$>0&&(K=K|128),L.writeUInt8(K,Q++);while($>0&&Q<4);return $>0&&(Q=0),q?L.subarray(0,Q):L.slice(0,Q)}function Y($){let K=k.allocUnsafe(4);return K.writeUInt32BE($,0),K}J.exports={cache:H,generateCache:U,generateNumber:Z,genBufVariableByteInt:G,generate4ByteBuffer:Y}}),C7=$1((x,J)=>{Z1(),q1(),G1(),typeof N1>"u"||!N1.version||N1.version.indexOf("v0.")===0||N1.version.indexOf("v1.")===0&&N1.version.indexOf("v1.8.")!==0?J.exports={nextTick:k}:J.exports=N1;function k(X,H,q,Z){if(typeof X!="function")throw new TypeError('"callback" argument must be a function');var U=arguments.length,G,Y;switch(U){case 0:case 1:return N1.nextTick(X);case 2:return N1.nextTick(function(){X.call(null,H)});case 3:return N1.nextTick(function(){X.call(null,H,q)});case 4:return N1.nextTick(function(){X.call(null,H,q,Z)});default:for(G=new Array(U-1),Y=0;Y<G.length;)G[Y++]=arguments[Y];return N1.nextTick(function(){X.apply(null,G)})}}}),g2=$1((x,J)=>{Z1(),q1(),G1();var k=d2(),{Buffer:X}=(y1(),C1(p1)),H=X.allocUnsafe(0),q=X.from([0]),Z=m7(),U=C7().nextTick,G=$8()("mqtt-packet:writeToStream"),Y=Z.cache,$=Z.generateNumber,K=Z.generateCache,Q=Z.genBufVariableByteInt,L=Z.generate4ByteBuffer,D=k1,V=!0;function W(A,C,l){switch(G("generate called"),C.cork&&(C.cork(),U(N,C)),V&&(V=!1,K()),G("generate: packet.cmd: %s",A.cmd),A.cmd){case"connect":return P(A,C,l);case"connack":return j(A,C,l);case"publish":return T(A,C,l);case"puback":case"pubrec":case"pubrel":case"pubcomp":return w(A,C,l);case"subscribe":return O(A,C,l);case"suback":return R(A,C,l);case"unsubscribe":return S(A,C,l);case"unsuback":return c(A,C,l);case"pingreq":case"pingresp":return o(A,C,l);case"disconnect":return i(A,C,l);case"auth":return I(A,C,l);default:return C.destroy(new Error("Unknown command")),!1}}Object.defineProperty(W,"cacheNumbers",{get(){return D===k1},set(A){A?((!Y||Object.keys(Y).length===0)&&(V=!0),D=k1):(V=!1,D=d)}});function N(A){A.uncork()}function P(A,C,l){let J1=A||{},t=J1.protocolId||"MQTT",u=J1.protocolVersion||4,F1=J1.will,Y1=J1.clean,v=J1.keepalive||0,p=J1.clientId||"",y=J1.username,x1=J1.password,n=J1.properties;Y1===void 0&&(Y1=!0);let E=0;if(!t||typeof t!="string"&&!X.isBuffer(t))return C.destroy(new Error("Invalid protocolId")),!1;if(E+=t.length+2,u!==3&&u!==4&&u!==5)return C.destroy(new Error("Invalid protocol version")),!1;if(E+=1,(typeof p=="string"||X.isBuffer(p))&&(p||u>=4)&&(p||Y1))E+=X.byteLength(p)+2;else{if(u<4)return C.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Y1*1===0)return C.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof v!="number"||v<0||v>65535||v%1!==0)return C.destroy(new Error("Invalid keepalive")),!1;E+=2,E+=1;let f,r;if(u===5){if(f=Q1(C,n),!f)return!1;E+=f.length}if(F1){if(typeof F1!="object")return C.destroy(new Error("Invalid will")),!1;if(!F1.topic||typeof F1.topic!="string")return C.destroy(new Error("Invalid will topic")),!1;if(E+=X.byteLength(F1.topic)+2,E+=2,F1.payload)if(F1.payload.length>=0)typeof F1.payload=="string"?E+=X.byteLength(F1.payload):E+=F1.payload.length;else return C.destroy(new Error("Invalid will payload")),!1;if(r={},u===5){if(r=Q1(C,F1.properties),!r)return!1;E+=r.length}}let L1=!1;if(y!=null)if(H1(y))L1=!0,E+=X.byteLength(y)+2;else return C.destroy(new Error("Invalid username")),!1;if(x1!=null){if(!L1)return C.destroy(new Error("Username is required to use password")),!1;if(H1(x1))E+=V1(x1)+2;else return C.destroy(new Error("Invalid password")),!1}C.write(k.CONNECT_HEADER),s(C,E),e(C,t),J1.bridgeMode&&(u+=128),C.write(u===131?k.VERSION131:u===132?k.VERSION132:u===4?k.VERSION4:u===5?k.VERSION5:k.VERSION3);let D1=0;return D1|=y!=null?k.USERNAME_MASK:0,D1|=x1!=null?k.PASSWORD_MASK:0,D1|=F1&&F1.retain?k.WILL_RETAIN_MASK:0,D1|=F1&&F1.qos?F1.qos<<k.WILL_QOS_SHIFT:0,D1|=F1?k.WILL_FLAG_MASK:0,D1|=Y1?k.CLEAN_SESSION_MASK:0,C.write(X.from([D1])),D(C,v),u===5&&f.write(),e(C,p),F1&&(u===5&&r.write(),h(C,F1.topic),e(C,F1.payload)),y!=null&&e(C,y),x1!=null&&e(C,x1),!0}function j(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=J1===5?t.reasonCode:t.returnCode,F1=t.properties,Y1=2;if(typeof u!="number")return C.destroy(new Error("Invalid return code")),!1;let v=null;if(J1===5){if(v=Q1(C,F1),!v)return!1;Y1+=v.length}return C.write(k.CONNACK_HEADER),s(C,Y1),C.write(t.sessionPresent?k.SESSIONPRESENT_HEADER:q),C.write(X.from([u])),v?.write(),!0}function T(A,C,l){G("publish: packet: %o",A);let J1=l?l.protocolVersion:4,t=A||{},u=t.qos||0,F1=t.retain?k.RETAIN_MASK:0,Y1=t.topic,v=t.payload||H,p=t.messageId,y=t.properties,x1=0;if(typeof Y1=="string")x1+=X.byteLength(Y1)+2;else if(X.isBuffer(Y1))x1+=Y1.length+2;else return C.destroy(new Error("Invalid topic")),!1;if(X.isBuffer(v)?x1+=v.length:x1+=X.byteLength(v),u&&typeof p!="number")return C.destroy(new Error("Invalid messageId")),!1;u&&(x1+=2);let n=null;if(J1===5){if(n=Q1(C,y),!n)return!1;x1+=n.length}return C.write(k.PUBLISH_HEADER[u][t.dup?1:0][F1?1:0]),s(C,x1),D(C,V1(Y1)),C.write(Y1),u>0&&D(C,p),n?.write(),G("publish: payload: %o",v),C.write(v)}function w(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.cmd||"puback",F1=t.messageId,Y1=t.dup&&u==="pubrel"?k.DUP_MASK:0,v=0,p=t.reasonCode,y=t.properties,x1=J1===5?3:2;if(u==="pubrel"&&(v=1),typeof F1!="number")return C.destroy(new Error("Invalid messageId")),!1;let n=null;if(J1===5&&typeof y=="object"){if(n=m(C,y,l,x1),!n)return!1;x1+=n.length}return C.write(k.ACKS[u][v][Y1][0]),x1===3&&(x1+=p!==0?1:-1),s(C,x1),D(C,F1),J1===5&&x1!==2&&C.write(X.from([p])),n!==null?n.write():x1===4&&C.write(X.from([0])),!0}function O(A,C,l){G("subscribe: packet: ");let J1=l?l.protocolVersion:4,t=A||{},u=t.dup?k.DUP_MASK:0,F1=t.messageId,Y1=t.subscriptions,v=t.properties,p=0;if(typeof F1!="number")return C.destroy(new Error("Invalid messageId")),!1;p+=2;let y=null;if(J1===5){if(y=Q1(C,v),!y)return!1;p+=y.length}if(typeof Y1=="object"&&Y1.length)for(let n=0;n<Y1.length;n+=1){let E=Y1[n].topic,f=Y1[n].qos;if(typeof E!="string")return C.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof f!="number")return C.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(J1===5){if(typeof(Y1[n].nl||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Y1[n].rap||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let r=Y1[n].rh||0;if(typeof r!="number"||r>2)return C.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}p+=X.byteLength(E)+2+1}else return C.destroy(new Error("Invalid subscriptions")),!1;G("subscribe: writing to stream: %o",k.SUBSCRIBE_HEADER),C.write(k.SUBSCRIBE_HEADER[1][u?1:0][0]),s(C,p),D(C,F1),y!==null&&y.write();let x1=!0;for(let n of Y1){let{topic:E,qos:f}=n,r=+n.nl,L1=+n.rap,D1=n.rh,j1;h(C,E),j1=k.SUBSCRIBE_OPTIONS_QOS[f],J1===5&&(j1|=r?k.SUBSCRIBE_OPTIONS_NL:0,j1|=L1?k.SUBSCRIBE_OPTIONS_RAP:0,j1|=D1?k.SUBSCRIBE_OPTIONS_RH[D1]:0),x1=C.write(X.from([j1]))}return x1}function R(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.messageId,F1=t.granted,Y1=t.properties,v=0;if(typeof u!="number")return C.destroy(new Error("Invalid messageId")),!1;if(v+=2,typeof F1=="object"&&F1.length)for(let y=0;y<F1.length;y+=1){if(typeof F1[y]!="number")return C.destroy(new Error("Invalid qos vector")),!1;v+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let p=null;if(J1===5){if(p=m(C,Y1,l,v),!p)return!1;v+=p.length}return C.write(k.SUBACK_HEADER),s(C,v),D(C,u),p!==null&&p.write(),C.write(X.from(F1))}function S(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.messageId,F1=t.dup?k.DUP_MASK:0,Y1=t.unsubscriptions,v=t.properties,p=0;if(typeof u!="number")return C.destroy(new Error("Invalid messageId")),!1;if(p+=2,typeof Y1=="object"&&Y1.length)for(let n=0;n<Y1.length;n+=1){if(typeof Y1[n]!="string")return C.destroy(new Error("Invalid unsubscriptions")),!1;p+=X.byteLength(Y1[n])+2}else return C.destroy(new Error("Invalid unsubscriptions")),!1;let y=null;if(J1===5){if(y=Q1(C,v),!y)return!1;p+=y.length}C.write(k.UNSUBSCRIBE_HEADER[1][F1?1:0][0]),s(C,p),D(C,u),y!==null&&y.write();let x1=!0;for(let n=0;n<Y1.length;n++)x1=h(C,Y1[n]);return x1}function c(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.messageId,F1=t.dup?k.DUP_MASK:0,Y1=t.granted,v=t.properties,p=t.cmd,y=0,x1=2;if(typeof u!="number")return C.destroy(new Error("Invalid messageId")),!1;if(J1===5)if(typeof Y1=="object"&&Y1.length)for(let E=0;E<Y1.length;E+=1){if(typeof Y1[E]!="number")return C.destroy(new Error("Invalid qos vector")),!1;x1+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let n=null;if(J1===5){if(n=m(C,v,l,x1),!n)return!1;x1+=n.length}return C.write(k.ACKS[p][y][F1][0]),s(C,x1),D(C,u),n!==null&&n.write(),J1===5&&C.write(X.from(Y1)),!0}function o(A,C,l){return C.write(k.EMPTY[A.cmd])}function i(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.reasonCode,F1=t.properties,Y1=J1===5?1:0,v=null;if(J1===5){if(v=m(C,F1,l,Y1),!v)return!1;Y1+=v.length}return C.write(X.from([k.codes.disconnect<<4])),s(C,Y1),J1===5&&C.write(X.from([u])),v!==null&&v.write(),!0}function I(A,C,l){let J1=l?l.protocolVersion:4,t=A||{},u=t.reasonCode,F1=t.properties,Y1=J1===5?1:0;J1!==5&&C.destroy(new Error("Invalid mqtt version for auth packet"));let v=m(C,F1,l,Y1);return v?(Y1+=v.length,C.write(X.from([k.codes.auth<<4])),s(C,Y1),C.write(X.from([u])),v!==null&&v.write(),!0):!1}var g={};function s(A,C){if(C>k.VARBYTEINT_MAX)return A.destroy(new Error(`Invalid variable byte integer: ${C}`)),!1;let l=g[C];return l||(l=Q(C),C<16384&&(g[C]=l)),G("writeVarByteInt: writing to stream: %o",l),A.write(l)}function h(A,C){let l=X.byteLength(C);return D(A,l),G("writeString: %s",C),A.write(C,"utf8")}function U1(A,C,l){h(A,C),h(A,l)}function k1(A,C){return G("writeNumberCached: number: %d",C),G("writeNumberCached: %o",Y[C]),A.write(Y[C])}function d(A,C){let l=$(C);return G("writeNumberGenerated: %o",l),A.write(l)}function B1(A,C){let l=L(C);return G("write4ByteNumber: %o",l),A.write(l)}function e(A,C){typeof C=="string"?h(A,C):C?(D(A,C.length),A.write(C)):D(A,0)}function Q1(A,C){if(typeof C!="object"||C.length!=null)return{length:1,write(){K1(A,{},0)}};let l=0;function J1(t,u){let F1=k.propertiesTypes[t],Y1=0;switch(F1){case"byte":{if(typeof u!="boolean")return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=2;break}case"int8":{if(typeof u!="number"||u<0||u>255)return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=2;break}case"binary":{if(u&&u===null)return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=1+X.byteLength(u)+2;break}case"int16":{if(typeof u!="number"||u<0||u>65535)return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=3;break}case"int32":{if(typeof u!="number"||u<0||u>4294967295)return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=5;break}case"var":{if(typeof u!="number"||u<0||u>268435455)return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=1+X.byteLength(Q(u));break}case"string":{if(typeof u!="string")return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=3+X.byteLength(u.toString());break}case"pair":{if(typeof u!="object")return A.destroy(new Error(`Invalid ${t}: ${u}`)),!1;Y1+=Object.getOwnPropertyNames(u).reduce((v,p)=>{let y=u[p];return Array.isArray(y)?v+=y.reduce((x1,n)=>(x1+=3+X.byteLength(p.toString())+2+X.byteLength(n.toString()),x1),0):v+=3+X.byteLength(p.toString())+2+X.byteLength(u[p].toString()),v},0);break}default:return A.destroy(new Error(`Invalid property ${t}: ${u}`)),!1}return Y1}if(C)for(let t in C){let u=0,F1=0,Y1=C[t];if(Array.isArray(Y1))for(let v=0;v<Y1.length;v++){if(F1=J1(t,Y1[v]),!F1)return!1;u+=F1}else{if(F1=J1(t,Y1),!F1)return!1;u=F1}if(!u)return!1;l+=u}return{length:X.byteLength(Q(l))+l,write(){K1(A,C,l)}}}function m(A,C,l,J1){let t=["reasonString","userProperties"],u=l&&l.properties&&l.properties.maximumPacketSize?l.properties.maximumPacketSize:0,F1=Q1(A,C);if(u)for(;J1+F1.length>u;){let Y1=t.shift();if(Y1&&C[Y1])delete C[Y1],F1=Q1(A,C);else return!1}return F1}function a(A,C,l){switch(k.propertiesTypes[C]){case"byte":{A.write(X.from([k.properties[C]])),A.write(X.from([+l]));break}case"int8":{A.write(X.from([k.properties[C]])),A.write(X.from([l]));break}case"binary":{A.write(X.from([k.properties[C]])),e(A,l);break}case"int16":{A.write(X.from([k.properties[C]])),D(A,l);break}case"int32":{A.write(X.from([k.properties[C]])),B1(A,l);break}case"var":{A.write(X.from([k.properties[C]])),s(A,l);break}case"string":{A.write(X.from([k.properties[C]])),h(A,l);break}case"pair":{Object.getOwnPropertyNames(l).forEach((J1)=>{let t=l[J1];Array.isArray(t)?t.forEach((u)=>{A.write(X.from([k.properties[C]])),U1(A,J1.toString(),u.toString())}):(A.write(X.from([k.properties[C]])),U1(A,J1.toString(),t.toString()))});break}default:return A.destroy(new Error(`Invalid property ${C} value: ${l}`)),!1}}function K1(A,C,l){s(A,l);for(let J1 in C)if(Object.prototype.hasOwnProperty.call(C,J1)&&C[J1]!==null){let t=C[J1];if(Array.isArray(t))for(let u=0;u<t.length;u++)a(A,J1,t[u]);else a(A,J1,t)}}function V1(A){return A?A instanceof X?A.length:X.byteLength(A):0}function H1(A){return typeof A=="string"||A instanceof X}J.exports=W}),T7=$1((x,J)=>{Z1(),q1(),G1();var k=g2(),{EventEmitter:X}=(g8(),C1(w8)),{Buffer:H}=(y1(),C1(p1));function q(U,G){let Y=new Z;return k(U,Y,G),Y.concat()}var Z=class extends X{constructor(){super(),this._array=new Array(20),this._i=0}write(U){return this._array[this._i++]=U,!0}concat(){let U=0,G=new Array(this._array.length),Y=this._array,$=0,K;for(K=0;K<Y.length&&Y[K]!==void 0;K++)typeof Y[K]!="string"?G[K]=Y[K].length:G[K]=H.byteLength(Y[K]),U+=G[K];let Q=H.allocUnsafe(U);for(K=0;K<Y.length&&Y[K]!==void 0;K++)typeof Y[K]!="string"?(Y[K].copy(Q,$),$+=G[K]):(Q.write(Y[K],$),$+=G[K]);return Q}destroy(U){U&&this.emit("error",U)}};J.exports=q}),R7=$1((x)=>{Z1(),q1(),G1(),x.parser=O7().parser,x.generate=T7(),x.writeToStream=g2()}),c2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let k=this.nextId++;return this.nextId===65536&&(this.nextId=1),k}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(k){return!0}deallocate(k){}clear(){}};x.default=J}),I7=$1((x,J)=>{Z1(),q1(),G1(),J.exports=X;function k(q){return q instanceof z6?z6.from(q):new q.constructor(q.buffer.slice(),q.byteOffset,q.length)}function X(q){if(q=q||{},q.circles)return H(q);return q.proto?G:U;function Z(Y,$){for(var K=Object.keys(Y),Q=new Array(K.length),L=0;L<K.length;L++){var D=K[L],V=Y[D];typeof V!="object"||V===null?Q[D]=V:V instanceof Date?Q[D]=new Date(V):ArrayBuffer.isView(V)?Q[D]=k(V):Q[D]=$(V)}return Q}function U(Y){if(typeof Y!="object"||Y===null)return Y;if(Y instanceof Date)return new Date(Y);if(Array.isArray(Y))return Z(Y,U);if(Y instanceof Map)return new Map(Z(Array.from(Y),U));if(Y instanceof Set)return new Set(Z(Array.from(Y),U));var $={};for(var K in Y)if(Object.hasOwnProperty.call(Y,K)!==!1){var Q=Y[K];typeof Q!="object"||Q===null?$[K]=Q:Q instanceof Date?$[K]=new Date(Q):Q instanceof Map?$[K]=new Map(Z(Array.from(Q),U)):Q instanceof Set?$[K]=new Set(Z(Array.from(Q),U)):ArrayBuffer.isView(Q)?$[K]=k(Q):$[K]=U(Q)}return $}function G(Y){if(typeof Y!="object"||Y===null)return Y;if(Y instanceof Date)return new Date(Y);if(Array.isArray(Y))return Z(Y,G);if(Y instanceof Map)return new Map(Z(Array.from(Y),G));if(Y instanceof Set)return new Set(Z(Array.from(Y),G));var $={};for(var K in Y){var Q=Y[K];typeof Q!="object"||Q===null?$[K]=Q:Q instanceof Date?$[K]=new Date(Q):Q instanceof Map?$[K]=new Map(Z(Array.from(Q),G)):Q instanceof Set?$[K]=new Set(Z(Array.from(Q),G)):ArrayBuffer.isView(Q)?$[K]=k(Q):$[K]=G(Q)}return $}}function H(q){var Z=[],U=[];return q.proto?$:Y;function G(K,Q){for(var L=Object.keys(K),D=new Array(L.length),V=0;V<L.length;V++){var W=L[V],N=K[W];if(typeof N!="object"||N===null)D[W]=N;else if(N instanceof Date)D[W]=new Date(N);else if(ArrayBuffer.isView(N))D[W]=k(N);else{var P=Z.indexOf(N);P!==-1?D[W]=U[P]:D[W]=Q(N)}}return D}function Y(K){if(typeof K!="object"||K===null)return K;if(K instanceof Date)return new Date(K);if(Array.isArray(K))return G(K,Y);if(K instanceof Map)return new Map(G(Array.from(K),Y));if(K instanceof Set)return new Set(G(Array.from(K),Y));var Q={};Z.push(K),U.push(Q);for(var L in K)if(Object.hasOwnProperty.call(K,L)!==!1){var D=K[L];if(typeof D!="object"||D===null)Q[L]=D;else if(D instanceof Date)Q[L]=new Date(D);else if(D instanceof Map)Q[L]=new Map(G(Array.from(D),Y));else if(D instanceof Set)Q[L]=new Set(G(Array.from(D),Y));else if(ArrayBuffer.isView(D))Q[L]=k(D);else{var V=Z.indexOf(D);V!==-1?Q[L]=U[V]:Q[L]=Y(D)}}return Z.pop(),U.pop(),Q}function $(K){if(typeof K!="object"||K===null)return K;if(K instanceof Date)return new Date(K);if(Array.isArray(K))return G(K,$);if(K instanceof Map)return new Map(G(Array.from(K),$));if(K instanceof Set)return new Set(G(Array.from(K),$));var Q={};Z.push(K),U.push(Q);for(var L in K){var D=K[L];if(typeof D!="object"||D===null)Q[L]=D;else if(D instanceof Date)Q[L]=new Date(D);else if(D instanceof Map)Q[L]=new Map(G(Array.from(D),$));else if(D instanceof Set)Q[L]=new Set(G(Array.from(D),$));else if(ArrayBuffer.isView(D))Q[L]=k(D);else{var V=Z.indexOf(D);V!==-1?Q[L]=U[V]:Q[L]=$(D)}}return Z.pop(),U.pop(),Q}}}),v7=$1((x,J)=>{Z1(),q1(),G1(),J.exports=I7()()}),_7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.validateTopics=x.validateTopic=void 0;function J(X){let H=X.split("/");for(let q=0;q<H.length;q++)if(H[q]!=="+"){if(H[q]==="#")return q===H.length-1;if(H[q].indexOf("+")!==-1||H[q].indexOf("#")!==-1)return!1}return!0}x.validateTopic=J;function k(X){if(X.length===0)return"empty_topic_list";for(let H=0;H<X.length;H++)if(!J(X[H]))return X[H];return null}x.validateTopics=k}),h2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=E8(),k={objectMode:!0},X={clean:!0},H=class{constructor(q){this.options=q||{},this.options=Object.assign(Object.assign({},X),q),this._inflights=new Map}put(q,Z){return this._inflights.set(q.messageId,q),Z&&Z(),this}createStream(){let q=new J.Readable(k),Z=[],U=!1,G=0;return this._inflights.forEach((Y,$)=>{Z.push(Y)}),q._read=()=>{!U&&G<Z.length?q.push(Z[G++]):q.push(null)},q.destroy=(Y)=>{if(!U)return U=!0,setTimeout(()=>{q.emit("close")},0),q},q}del(q,Z){let U=this._inflights.get(q.messageId);return U?(this._inflights.delete(q.messageId),Z(null,U)):Z&&Z(new Error("missing packet")),this}get(q,Z){let U=this._inflights.get(q.messageId);return U?Z(null,U):Z&&Z(new Error("missing packet")),this}close(q){this.options.clean&&(this._inflights=null),q&&q()}};x.default=H}),A7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=[0,16,128,131,135,144,145,151,153],k=(X,H,q)=>{X.log("handlePublish: packet %o",H),q=typeof q<"u"?q:X.noop;let Z=H.topic.toString(),U=H.payload,{qos:G}=H,{messageId:Y}=H,{options:$}=X;if(X.options.protocolVersion===5){let K;if(H.properties&&(K=H.properties.topicAlias),typeof K<"u")if(Z.length===0)if(K>0&&K<=65535){let Q=X.topicAliasRecv.getTopicByAlias(K);if(Q)Z=Q,X.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",Z,K);else{X.log("handlePublish :: unregistered topic alias. alias: %d",K),X.emit("error",new Error("Received unregistered Topic Alias"));return}}else{X.log("handlePublish :: topic alias out of range. alias: %d",K),X.emit("error",new Error("Received Topic Alias is out of range"));return}else if(X.topicAliasRecv.put(Z,K))X.log("handlePublish :: registered topic: %s - alias: %d",Z,K);else{X.log("handlePublish :: topic alias out of range. alias: %d",K),X.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(X.log("handlePublish: qos %d",G),G){case 2:{$.customHandleAcks(Z,U,H,(K,Q)=>{if(typeof K=="number"&&(Q=K,K=null),K)return X.emit("error",K);if(J.indexOf(Q)===-1)return X.emit("error",new Error("Wrong reason code for pubrec"));Q?X._sendPacket({cmd:"pubrec",messageId:Y,reasonCode:Q},q):X.incomingStore.put(H,()=>{X._sendPacket({cmd:"pubrec",messageId:Y},q)})});break}case 1:{$.customHandleAcks(Z,U,H,(K,Q)=>{if(typeof K=="number"&&(Q=K,K=null),K)return X.emit("error",K);if(J.indexOf(Q)===-1)return X.emit("error",new Error("Wrong reason code for puback"));Q||X.emit("message",Z,U,H),X.handleMessage(H,(L)=>{if(L)return q&&q(L);X._sendPacket({cmd:"puback",messageId:Y,reasonCode:Q},q)})});break}case 0:X.emit("message",Z,U,H),X.handleMessage(H,q);break;default:X.log("handlePublish: unknown QoS. Doing nothing.");break}};x.default=k}),S7=$1((x,J)=>{J.exports={version:"5.10.1"}}),c8=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.MQTTJS_VERSION=x.nextTick=x.applyMixin=x.ErrorWithReasonCode=void 0;var J=class X extends Error{constructor(H,q){super(H),this.code=q,Object.setPrototypeOf(this,X.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};x.ErrorWithReasonCode=J;function k(X,H,q=!1){var Z;let U=[H];for(;;){let G=U[0],Y=Object.getPrototypeOf(G);if(Y?.prototype)U.unshift(Y);else break}for(let G of U)for(let Y of Object.getOwnPropertyNames(G.prototype))(q||Y!=="constructor")&&Object.defineProperty(X.prototype,Y,(Z=Object.getOwnPropertyDescriptor(G.prototype,Y))!==null&&Z!==void 0?Z:Object.create(null))}x.applyMixin=k,x.nextTick=typeof(N1===null||N1===void 0?void 0:N1.nextTick)=="function"?N1.nextTick:(X)=>{setTimeout(X,0)},x.MQTTJS_VERSION=S7().version}),D6=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.ReasonCodes=void 0;var J=c8();x.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var k=(X,H)=>{let{messageId:q}=H,Z=H.cmd,U=null,G=X.outgoing[q]?X.outgoing[q].cb:null,Y=null;if(!G){X.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(X.log("_handleAck :: packet type",Z),Z){case"pubcomp":case"puback":{let $=H.reasonCode;$&&$>0&&$!==16?(Y=new J.ErrorWithReasonCode(`Publish error: ${x.ReasonCodes[$]}`,$),X._removeOutgoingAndStoreMessage(q,()=>{G(Y,H)})):X._removeOutgoingAndStoreMessage(q,G);break}case"pubrec":{U={cmd:"pubrel",qos:2,messageId:q};let $=H.reasonCode;$&&$>0&&$!==16?(Y=new J.ErrorWithReasonCode(`Publish error: ${x.ReasonCodes[$]}`,$),X._removeOutgoingAndStoreMessage(q,()=>{G(Y,H)})):X._sendPacket(U);break}case"suback":{delete X.outgoing[q],X.messageIdProvider.deallocate(q);let $=H.granted;for(let K=0;K<$.length;K++){let Q=$[K];if(Q&128){Y=new Error(`Subscribe error: ${x.ReasonCodes[Q]}`),Y.code=Q;let L=X.messageIdToTopic[q];L&&L.forEach((D)=>{delete X._resubscribeTopics[D]})}}delete X.messageIdToTopic[q],X._invokeStoreProcessingQueue(),G(Y,H);break}case"unsuback":{delete X.outgoing[q],X.messageIdProvider.deallocate(q),X._invokeStoreProcessingQueue(),G(null,H);break}default:X.emit("error",new Error("unrecognized packet type"))}X.disconnecting&&Object.keys(X.outgoing).length===0&&X.emit("outgoingEmpty")};x.default=k}),w7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=c8(),k=D6(),X=(H,q)=>{let{options:Z}=H,U=Z.protocolVersion,G=U===5?q.reasonCode:q.returnCode;if(U!==5){let Y=new J.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${U}`,G);H.emit("error",Y);return}H.handleAuth(q,(Y,$)=>{if(Y){H.emit("error",Y);return}if(G===24)H.reconnecting=!1,H._sendPacket($);else{let K=new J.ErrorWithReasonCode(`Connection refused: ${k.ReasonCodes[G]}`,G);H.emit("error",K)}})};x.default=X}),E7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.LRUCache=void 0;var J=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,k=new Set,X=typeof N1=="object"&&N1?N1:{},H=(D,V,W,N)=>{typeof X.emitWarning=="function"?X.emitWarning(D,V,W,N):console.error(`[${W}] ${V}: ${D}`)},q=globalThis.AbortController,Z=globalThis.AbortSignal;if(typeof q>"u"){Z=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(W,N){this._onabort.push(N)}},q=class{constructor(){V()}signal=new Z;abort(W){if(!this.signal.aborted){this.signal.reason=W,this.signal.aborted=!0;for(let N of this.signal._onabort)N(W);this.signal.onabort?.(W)}}};let D=X.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",V=()=>{D&&(D=!1,H("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",V))}}var U=(D)=>!k.has(D),G=Symbol("type"),Y=(D)=>D&&D===Math.floor(D)&&D>0&&isFinite(D),$=(D)=>Y(D)?D<=Math.pow(2,8)?Uint8Array:D<=Math.pow(2,16)?Uint16Array:D<=Math.pow(2,32)?Uint32Array:D<=Number.MAX_SAFE_INTEGER?K:null:null,K=class extends Array{constructor(D){super(D),this.fill(0)}},Q=class D{heap;length;static#X=!1;static create(V){let W=$(V);if(!W)return[];D.#X=!0;let N=new D(V,W);return D.#X=!1,N}constructor(V,W){if(!D.#X)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new W(V),this.length=0}push(V){this.heap[this.length++]=V}pop(){return this.heap[--this.length]}},L=class D{#X;#$;#K;#Q;#I;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#G;#V;#q;#Z;#x;#z;#B;#Y;#J;#L;#U;#P;#M;#D;#W;#m;#H;static unsafeExposeInternals(V){return{starts:V.#M,ttls:V.#D,sizes:V.#P,keyMap:V.#q,keyList:V.#Z,valList:V.#x,next:V.#z,prev:V.#B,get head(){return V.#Y},get tail(){return V.#J},free:V.#L,isBackgroundFetch:(W)=>V.#k(W),backgroundFetch:(W,N,P,j)=>V.#A(W,N,P,j),moveToTail:(W)=>V.#R(W),indexes:(W)=>V.#j(W),rindexes:(W)=>V.#N(W),isStale:(W)=>V.#F(W)}}get max(){return this.#X}get maxSize(){return this.#$}get calculatedSize(){return this.#V}get size(){return this.#G}get fetchMethod(){return this.#I}get dispose(){return this.#K}get disposeAfter(){return this.#Q}constructor(V){let{max:W=0,ttl:N,ttlResolution:P=1,ttlAutopurge:j,updateAgeOnGet:T,updateAgeOnHas:w,allowStale:O,dispose:R,disposeAfter:S,noDisposeOnSet:c,noUpdateTTL:o,maxSize:i=0,maxEntrySize:I=0,sizeCalculation:g,fetchMethod:s,noDeleteOnFetchRejection:h,noDeleteOnStaleGet:U1,allowStaleOnFetchRejection:k1,allowStaleOnFetchAbort:d,ignoreFetchAbort:B1}=V;if(W!==0&&!Y(W))throw new TypeError("max option must be a nonnegative integer");let e=W?$(W):Array;if(!e)throw new Error("invalid max value: "+W);if(this.#X=W,this.#$=i,this.maxEntrySize=I||this.#$,this.sizeCalculation=g,this.sizeCalculation){if(!this.#$&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(s!==void 0&&typeof s!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#I=s,this.#m=!!s,this.#q=new Map,this.#Z=new Array(W).fill(void 0),this.#x=new Array(W).fill(void 0),this.#z=new e(W),this.#B=new e(W),this.#Y=0,this.#J=0,this.#L=Q.create(W),this.#G=0,this.#V=0,typeof R=="function"&&(this.#K=R),typeof S=="function"?(this.#Q=S,this.#U=[]):(this.#Q=void 0,this.#U=void 0),this.#W=!!this.#K,this.#H=!!this.#Q,this.noDisposeOnSet=!!c,this.noUpdateTTL=!!o,this.noDeleteOnFetchRejection=!!h,this.allowStaleOnFetchRejection=!!k1,this.allowStaleOnFetchAbort=!!d,this.ignoreFetchAbort=!!B1,this.maxEntrySize!==0){if(this.#$!==0&&!Y(this.#$))throw new TypeError("maxSize must be a positive integer if specified");if(!Y(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#b()}if(this.allowStale=!!O,this.noDeleteOnStaleGet=!!U1,this.updateAgeOnGet=!!T,this.updateAgeOnHas=!!w,this.ttlResolution=Y(P)||P===0?P:1,this.ttlAutopurge=!!j,this.ttl=N||0,this.ttl){if(!Y(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#S()}if(this.#X===0&&this.ttl===0&&this.#$===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#X&&!this.#$){let Q1="LRU_CACHE_UNBOUNDED";U(Q1)&&(k.add(Q1),H("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Q1,D))}}getRemainingTTL(V){return this.#q.has(V)?1/0:0}#S(){let V=new K(this.#X),W=new K(this.#X);this.#D=V,this.#M=W,this.#w=(j,T,w=J.now())=>{if(W[j]=T!==0?w:0,V[j]=T,T!==0&&this.ttlAutopurge){let O=setTimeout(()=>{this.#F(j)&&this.delete(this.#Z[j])},T+1);O.unref&&O.unref()}},this.#C=(j)=>{W[j]=V[j]!==0?J.now():0},this.#O=(j,T)=>{if(V[T]){let w=V[T],O=W[T];j.ttl=w,j.start=O,j.now=N||P();let R=j.now-O;j.remainingTTL=w-R}};let N=0,P=()=>{let j=J.now();if(this.ttlResolution>0){N=j;let T=setTimeout(()=>N=0,this.ttlResolution);T.unref&&T.unref()}return j};this.getRemainingTTL=(j)=>{let T=this.#q.get(j);if(T===void 0)return 0;let w=V[T],O=W[T];if(w===0||O===0)return 1/0;let R=(N||P())-O;return w-R},this.#F=(j)=>V[j]!==0&&W[j]!==0&&(N||P())-W[j]>V[j]}#C=()=>{};#O=()=>{};#w=()=>{};#F=()=>!1;#b(){let V=new K(this.#X);this.#V=0,this.#P=V,this.#T=(W)=>{this.#V-=V[W],V[W]=0},this.#E=(W,N,P,j)=>{if(this.#k(N))return 0;if(!Y(P))if(j){if(typeof j!="function")throw new TypeError("sizeCalculation must be a function");if(P=j(N,W),!Y(P))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return P},this.#v=(W,N,P)=>{if(V[W]=N,this.#$){let j=this.#$-V[W];for(;this.#V>j;)this.#_(!0)}this.#V+=V[W],P&&(P.entrySize=N,P.totalCalculatedSize=this.#V)}}#T=(V)=>{};#v=(V,W,N)=>{};#E=(V,W,N,P)=>{if(N||P)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#j({allowStale:V=this.allowStale}={}){if(this.#G)for(let W=this.#J;!(!this.#p(W)||((V||!this.#F(W))&&(yield W),W===this.#Y));)W=this.#B[W]}*#N({allowStale:V=this.allowStale}={}){if(this.#G)for(let W=this.#Y;!(!this.#p(W)||((V||!this.#F(W))&&(yield W),W===this.#J));)W=this.#z[W]}#p(V){return V!==void 0&&this.#q.get(this.#Z[V])===V}*entries(){for(let V of this.#j())this.#x[V]!==void 0&&this.#Z[V]!==void 0&&!this.#k(this.#x[V])&&(yield[this.#Z[V],this.#x[V]])}*rentries(){for(let V of this.#N())this.#x[V]!==void 0&&this.#Z[V]!==void 0&&!this.#k(this.#x[V])&&(yield[this.#Z[V],this.#x[V]])}*keys(){for(let V of this.#j()){let W=this.#Z[V];W!==void 0&&!this.#k(this.#x[V])&&(yield W)}}*rkeys(){for(let V of this.#N()){let W=this.#Z[V];W!==void 0&&!this.#k(this.#x[V])&&(yield W)}}*values(){for(let V of this.#j())this.#x[V]!==void 0&&!this.#k(this.#x[V])&&(yield this.#x[V])}*rvalues(){for(let V of this.#N())this.#x[V]!==void 0&&!this.#k(this.#x[V])&&(yield this.#x[V])}[Symbol.iterator](){return this.entries()}find(V,W={}){for(let N of this.#j()){let P=this.#x[N],j=this.#k(P)?P.__staleWhileFetching:P;if(j!==void 0&&V(j,this.#Z[N],this))return this.get(this.#Z[N],W)}}forEach(V,W=this){for(let N of this.#j()){let P=this.#x[N],j=this.#k(P)?P.__staleWhileFetching:P;j!==void 0&&V.call(W,j,this.#Z[N],this)}}rforEach(V,W=this){for(let N of this.#N()){let P=this.#x[N],j=this.#k(P)?P.__staleWhileFetching:P;j!==void 0&&V.call(W,j,this.#Z[N],this)}}purgeStale(){let V=!1;for(let W of this.#N({allowStale:!0}))this.#F(W)&&(this.delete(this.#Z[W]),V=!0);return V}dump(){let V=[];for(let W of this.#j({allowStale:!0})){let N=this.#Z[W],P=this.#x[W],j=this.#k(P)?P.__staleWhileFetching:P;if(j===void 0||N===void 0)continue;let T={value:j};if(this.#D&&this.#M){T.ttl=this.#D[W];let w=J.now()-this.#M[W];T.start=Math.floor(Date.now()-w)}this.#P&&(T.size=this.#P[W]),V.unshift([N,T])}return V}load(V){this.clear();for(let[W,N]of V){if(N.start){let P=Date.now()-N.start;N.start=J.now()-P}this.set(W,N.value,N)}}set(V,W,N={}){if(W===void 0)return this.delete(V),this;let{ttl:P=this.ttl,start:j,noDisposeOnSet:T=this.noDisposeOnSet,sizeCalculation:w=this.sizeCalculation,status:O}=N,{noUpdateTTL:R=this.noUpdateTTL}=N,S=this.#E(V,W,N.size||0,w);if(this.maxEntrySize&&S>this.maxEntrySize)return O&&(O.set="miss",O.maxEntrySizeExceeded=!0),this.delete(V),this;let c=this.#G===0?void 0:this.#q.get(V);if(c===void 0)c=this.#G===0?this.#J:this.#L.length!==0?this.#L.pop():this.#G===this.#X?this.#_(!1):this.#G,this.#Z[c]=V,this.#x[c]=W,this.#q.set(V,c),this.#z[this.#J]=c,this.#B[c]=this.#J,this.#J=c,this.#G++,this.#v(c,S,O),O&&(O.set="add"),R=!1;else{this.#R(c);let o=this.#x[c];if(W!==o){if(this.#m&&this.#k(o)){o.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:i}=o;i!==void 0&&!T&&(this.#W&&this.#K?.(i,V,"set"),this.#H&&this.#U?.push([i,V,"set"]))}else T||(this.#W&&this.#K?.(o,V,"set"),this.#H&&this.#U?.push([o,V,"set"]));if(this.#T(c),this.#v(c,S,O),this.#x[c]=W,O){O.set="replace";let i=o&&this.#k(o)?o.__staleWhileFetching:o;i!==void 0&&(O.oldValue=i)}}else O&&(O.set="update")}if(P!==0&&!this.#D&&this.#S(),this.#D&&(R||this.#w(c,P,j),O&&this.#O(O,c)),!T&&this.#H&&this.#U){let o=this.#U,i;for(;i=o?.shift();)this.#Q?.(...i)}return this}pop(){try{for(;this.#G;){let V=this.#x[this.#Y];if(this.#_(!0),this.#k(V)){if(V.__staleWhileFetching)return V.__staleWhileFetching}else if(V!==void 0)return V}}finally{if(this.#H&&this.#U){let V=this.#U,W;for(;W=V?.shift();)this.#Q?.(...W)}}}#_(V){let W=this.#Y,N=this.#Z[W],P=this.#x[W];return this.#m&&this.#k(P)?P.__abortController.abort(new Error("evicted")):(this.#W||this.#H)&&(this.#W&&this.#K?.(P,N,"evict"),this.#H&&this.#U?.push([P,N,"evict"])),this.#T(W),V&&(this.#Z[W]=void 0,this.#x[W]=void 0,this.#L.push(W)),this.#G===1?(this.#Y=this.#J=0,this.#L.length=0):this.#Y=this.#z[W],this.#q.delete(N),this.#G--,W}has(V,W={}){let{updateAgeOnHas:N=this.updateAgeOnHas,status:P}=W,j=this.#q.get(V);if(j!==void 0){let T=this.#x[j];if(this.#k(T)&&T.__staleWhileFetching===void 0)return!1;if(this.#F(j))P&&(P.has="stale",this.#O(P,j));else return N&&this.#C(j),P&&(P.has="hit",this.#O(P,j)),!0}else P&&(P.has="miss");return!1}peek(V,W={}){let{allowStale:N=this.allowStale}=W,P=this.#q.get(V);if(P!==void 0&&(N||!this.#F(P))){let j=this.#x[P];return this.#k(j)?j.__staleWhileFetching:j}}#A(V,W,N,P){let j=W===void 0?void 0:this.#x[W];if(this.#k(j))return j;let T=new q,{signal:w}=N;w?.addEventListener("abort",()=>T.abort(w.reason),{signal:T.signal});let O={signal:T.signal,options:N,context:P},R=(g,s=!1)=>{let{aborted:h}=T.signal,U1=N.ignoreFetchAbort&&g!==void 0;if(N.status&&(h&&!s?(N.status.fetchAborted=!0,N.status.fetchError=T.signal.reason,U1&&(N.status.fetchAbortIgnored=!0)):N.status.fetchResolved=!0),h&&!U1&&!s)return c(T.signal.reason);let k1=i;return this.#x[W]===i&&(g===void 0?k1.__staleWhileFetching?this.#x[W]=k1.__staleWhileFetching:this.delete(V):(N.status&&(N.status.fetchUpdated=!0),this.set(V,g,O.options))),g},S=(g)=>(N.status&&(N.status.fetchRejected=!0,N.status.fetchError=g),c(g)),c=(g)=>{let{aborted:s}=T.signal,h=s&&N.allowStaleOnFetchAbort,U1=h||N.allowStaleOnFetchRejection,k1=U1||N.noDeleteOnFetchRejection,d=i;if(this.#x[W]===i&&(!k1||d.__staleWhileFetching===void 0?this.delete(V):h||(this.#x[W]=d.__staleWhileFetching)),U1)return N.status&&d.__staleWhileFetching!==void 0&&(N.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw g},o=(g,s)=>{let h=this.#I?.(V,j,O);h&&h instanceof Promise&&h.then((U1)=>g(U1===void 0?void 0:U1),s),T.signal.addEventListener("abort",()=>{(!N.ignoreFetchAbort||N.allowStaleOnFetchAbort)&&(g(void 0),N.allowStaleOnFetchAbort&&(g=(U1)=>R(U1,!0)))})};N.status&&(N.status.fetchDispatched=!0);let i=new Promise(o).then(R,S),I=Object.assign(i,{__abortController:T,__staleWhileFetching:j,__returned:void 0});return W===void 0?(this.set(V,I,{...O.options,status:void 0}),W=this.#q.get(V)):this.#x[W]=I,I}#k(V){if(!this.#m)return!1;let W=V;return!!W&&W instanceof Promise&&W.hasOwnProperty("__staleWhileFetching")&&W.__abortController instanceof q}async fetch(V,W={}){let{allowStale:N=this.allowStale,updateAgeOnGet:P=this.updateAgeOnGet,noDeleteOnStaleGet:j=this.noDeleteOnStaleGet,ttl:T=this.ttl,noDisposeOnSet:w=this.noDisposeOnSet,size:O=0,sizeCalculation:R=this.sizeCalculation,noUpdateTTL:S=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:o=this.allowStaleOnFetchRejection,ignoreFetchAbort:i=this.ignoreFetchAbort,allowStaleOnFetchAbort:I=this.allowStaleOnFetchAbort,context:g,forceRefresh:s=!1,status:h,signal:U1}=W;if(!this.#m)return h&&(h.fetch="get"),this.get(V,{allowStale:N,updateAgeOnGet:P,noDeleteOnStaleGet:j,status:h});let k1={allowStale:N,updateAgeOnGet:P,noDeleteOnStaleGet:j,ttl:T,noDisposeOnSet:w,size:O,sizeCalculation:R,noUpdateTTL:S,noDeleteOnFetchRejection:c,allowStaleOnFetchRejection:o,allowStaleOnFetchAbort:I,ignoreFetchAbort:i,status:h,signal:U1},d=this.#q.get(V);if(d===void 0){h&&(h.fetch="miss");let B1=this.#A(V,d,k1,g);return B1.__returned=B1}else{let B1=this.#x[d];if(this.#k(B1)){let a=N&&B1.__staleWhileFetching!==void 0;return h&&(h.fetch="inflight",a&&(h.returnedStale=!0)),a?B1.__staleWhileFetching:B1.__returned=B1}let e=this.#F(d);if(!s&&!e)return h&&(h.fetch="hit"),this.#R(d),P&&this.#C(d),h&&this.#O(h,d),B1;let Q1=this.#A(V,d,k1,g),m=Q1.__staleWhileFetching!==void 0&&N;return h&&(h.fetch=e?"stale":"refresh",m&&e&&(h.returnedStale=!0)),m?Q1.__staleWhileFetching:Q1.__returned=Q1}}get(V,W={}){let{allowStale:N=this.allowStale,updateAgeOnGet:P=this.updateAgeOnGet,noDeleteOnStaleGet:j=this.noDeleteOnStaleGet,status:T}=W,w=this.#q.get(V);if(w!==void 0){let O=this.#x[w],R=this.#k(O);return T&&this.#O(T,w),this.#F(w)?(T&&(T.get="stale"),R?(T&&N&&O.__staleWhileFetching!==void 0&&(T.returnedStale=!0),N?O.__staleWhileFetching:void 0):(j||this.delete(V),T&&N&&(T.returnedStale=!0),N?O:void 0)):(T&&(T.get="hit"),R?O.__staleWhileFetching:(this.#R(w),P&&this.#C(w),O))}else T&&(T.get="miss")}#y(V,W){this.#B[W]=V,this.#z[V]=W}#R(V){V!==this.#J&&(V===this.#Y?this.#Y=this.#z[V]:this.#y(this.#B[V],this.#z[V]),this.#y(this.#J,V),this.#J=V)}delete(V){let W=!1;if(this.#G!==0){let N=this.#q.get(V);if(N!==void 0)if(W=!0,this.#G===1)this.clear();else{this.#T(N);let P=this.#x[N];this.#k(P)?P.__abortController.abort(new Error("deleted")):(this.#W||this.#H)&&(this.#W&&this.#K?.(P,V,"delete"),this.#H&&this.#U?.push([P,V,"delete"])),this.#q.delete(V),this.#Z[N]=void 0,this.#x[N]=void 0,N===this.#J?this.#J=this.#B[N]:N===this.#Y?this.#Y=this.#z[N]:(this.#z[this.#B[N]]=this.#z[N],this.#B[this.#z[N]]=this.#B[N]),this.#G--,this.#L.push(N)}}if(this.#H&&this.#U?.length){let N=this.#U,P;for(;P=N?.shift();)this.#Q?.(...P)}return W}clear(){for(let V of this.#N({allowStale:!0})){let W=this.#x[V];if(this.#k(W))W.__abortController.abort(new Error("deleted"));else{let N=this.#Z[V];this.#W&&this.#K?.(W,N,"delete"),this.#H&&this.#U?.push([W,N,"delete"])}}if(this.#q.clear(),this.#x.fill(void 0),this.#Z.fill(void 0),this.#D&&this.#M&&(this.#D.fill(0),this.#M.fill(0)),this.#P&&this.#P.fill(0),this.#Y=0,this.#J=0,this.#L.length=0,this.#V=0,this.#G=0,this.#H&&this.#U){let V=this.#U,W;for(;W=V?.shift();)this.#Q?.(...W)}}};x.LRUCache=L}),F8=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.ContainerIterator=x.Container=x.Base=void 0;var J=class{constructor(H=0){this.iteratorType=H}equals(H){return this.o===H.o}};x.ContainerIterator=J;var k=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};x.Base=k;var X=class extends k{};x.Container=X}),p7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=F8(),k=class extends J.Base{constructor(H=[]){super(),this.S=[];let q=this;H.forEach(function(Z){q.push(Z)})}clear(){this.i=0,this.S=[]}push(H){return this.S.push(H),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},X=k;x.default=X}),y7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=F8(),k=class extends J.Base{constructor(H=[]){super(),this.j=0,this.q=[];let q=this;H.forEach(function(Z){q.push(Z)})}clear(){this.q=[],this.i=this.j=0}push(H){let q=this.q.length;if(this.j/q>0.5&&this.j+this.i>=q&&q>4096){let Z=this.i;for(let U=0;U<Z;++U)this.q[U]=this.q[this.j+U];this.j=0,this.q[this.i]=H}else this.q[this.j+this.i]=H;return++this.i}pop(){if(this.i===0)return;let H=this.q[this.j++];return this.i-=1,H}front(){if(this.i!==0)return this.q[this.j]}},X=k;x.default=X}),b7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=F8(),k=class extends J.Base{constructor(H=[],q=function(U,G){return U>G?-1:U<G?1:0},Z=!0){if(super(),this.v=q,Array.isArray(H))this.C=Z?[...H]:H;else{this.C=[];let G=this;H.forEach(function(Y){G.C.push(Y)})}this.i=this.C.length;let U=this.i>>1;for(let G=this.i-1>>1;G>=0;--G)this.k(G,U)}m(H){let q=this.C[H];for(;H>0;){let Z=H-1>>1,U=this.C[Z];if(this.v(U,q)<=0)break;this.C[H]=U,H=Z}this.C[H]=q}k(H,q){let Z=this.C[H];for(;H<q;){let U=H<<1|1,G=U+1,Y=this.C[U];if(G<this.i&&this.v(Y,this.C[G])>0&&(U=G,Y=this.C[G]),this.v(Y,Z)>=0)break;this.C[H]=Y,H=U}this.C[H]=Z}clear(){this.i=0,this.C.length=0}push(H){this.C.push(H),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let H=this.C[0],q=this.C.pop();return this.i-=1,this.i&&(this.C[0]=q,this.k(0,this.i>>1)),H}top(){return this.C[0]}find(H){return this.C.indexOf(H)>=0}remove(H){let q=this.C.indexOf(H);return q<0?!1:(q===0?this.pop():q===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(q,1,this.C.pop()),this.i-=1,this.m(q),this.k(q,this.i>>1)),!0)}updateItem(H){let q=this.C.indexOf(H);return q<0?!1:(this.m(q),this.k(q,this.i>>1),!0)}toArray(){return[...this.C]}},X=k;x.default=X}),z4=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=F8(),k=class extends J.Container{},X=k;x.default=X}),K8=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.throwIteratorAccessError=J;function J(){throw new RangeError("Iterator access denied!")}}),l2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.RandomIterator=void 0;var J=F8(),k=K8(),X=class extends J.ContainerIterator{constructor(H,q){super(q),this.o=H,this.iteratorType===0?(this.pre=function(){return this.o===0&&k.throwIteratorAccessError(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&k.throwIteratorAccessError(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&k.throwIteratorAccessError(),this.o+=1,this},this.next=function(){return this.o===-1&&k.throwIteratorAccessError(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(H){this.container.setElementByPos(this.o,H)}};x.RandomIterator=X}),d7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=X(z4()),k=l2();function X(U){return U&&U.t?U:{default:U}}var H=class U extends k.RandomIterator{constructor(G,Y,$){super(G,$),this.container=Y}copy(){return new U(this.o,this.container,this.iteratorType)}},q=class extends J.default{constructor(U=[],G=!0){if(super(),Array.isArray(U))this.J=G?[...U]:U,this.i=U.length;else{this.J=[];let Y=this;U.forEach(function($){Y.pushBack($)})}}clear(){this.i=0,this.J.length=0}begin(){return new H(0,this)}end(){return new H(this.i,this)}rBegin(){return new H(this.i-1,this,1)}rEnd(){return new H(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(U){if(U<0||U>this.i-1)throw new RangeError;return this.J[U]}eraseElementByPos(U){if(U<0||U>this.i-1)throw new RangeError;return this.J.splice(U,1),this.i-=1,this.i}eraseElementByValue(U){let G=0;for(let Y=0;Y<this.i;++Y)this.J[Y]!==U&&(this.J[G++]=this.J[Y]);return this.i=this.J.length=G,this.i}eraseElementByIterator(U){let G=U.o;return U=U.next(),this.eraseElementByPos(G),U}pushBack(U){return this.J.push(U),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(U,G){if(U<0||U>this.i-1)throw new RangeError;this.J[U]=G}insert(U,G,Y=1){if(U<0||U>this.i)throw new RangeError;return this.J.splice(U,0,...new Array(Y).fill(G)),this.i+=Y,this.i}find(U){for(let G=0;G<this.i;++G)if(this.J[G]===U)return new H(G,this);return this.end()}reverse(){this.J.reverse()}unique(){let U=1;for(let G=1;G<this.i;++G)this.J[G]!==this.J[G-1]&&(this.J[U++]=this.J[G]);return this.i=this.J.length=U,this.i}sort(U){this.J.sort(U)}forEach(U){for(let G=0;G<this.i;++G)U(this.J[G],G,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},Z=q;x.default=Z}),g7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=H(z4()),k=F8(),X=K8();function H(G){return G&&G.t?G:{default:G}}var q=class G extends k.ContainerIterator{constructor(Y,$,K,Q){super(Q),this.o=Y,this.h=$,this.container=K,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&X.throwIteratorAccessError(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&X.throwIteratorAccessError(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&X.throwIteratorAccessError(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&X.throwIteratorAccessError(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&X.throwIteratorAccessError(),this.o.l}set pointer(Y){this.o===this.h&&X.throwIteratorAccessError(),this.o.l=Y}copy(){return new G(this.o,this.h,this.container,this.iteratorType)}},Z=class extends J.default{constructor(G=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let Y=this;G.forEach(function($){Y.pushBack($)})}V(G){let{L:Y,B:$}=G;Y.B=$,$.L=Y,G===this.p&&(this.p=$),G===this._&&(this._=Y),this.i-=1}G(G,Y){let $=Y.B,K={l:G,L:Y,B:$};Y.B=K,$.L=K,Y===this.h&&(this.p=K),$===this.h&&(this._=K),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new q(this.p,this.h,this)}end(){return new q(this.h,this.h,this)}rBegin(){return new q(this._,this.h,this,1)}rEnd(){return new q(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(G){if(G<0||G>this.i-1)throw new RangeError;let Y=this.p;for(;G--;)Y=Y.B;return Y.l}eraseElementByPos(G){if(G<0||G>this.i-1)throw new RangeError;let Y=this.p;for(;G--;)Y=Y.B;return this.V(Y),this.i}eraseElementByValue(G){let Y=this.p;for(;Y!==this.h;)Y.l===G&&this.V(Y),Y=Y.B;return this.i}eraseElementByIterator(G){let Y=G.o;return Y===this.h&&X.throwIteratorAccessError(),G=G.next(),this.V(Y),G}pushBack(G){return this.G(G,this._),this.i}popBack(){if(this.i===0)return;let G=this._.l;return this.V(this._),G}pushFront(G){return this.G(G,this.h),this.i}popFront(){if(this.i===0)return;let G=this.p.l;return this.V(this.p),G}setElementByPos(G,Y){if(G<0||G>this.i-1)throw new RangeError;let $=this.p;for(;G--;)$=$.B;$.l=Y}insert(G,Y,$=1){if(G<0||G>this.i)throw new RangeError;if($<=0)return this.i;if(G===0)for(;$--;)this.pushFront(Y);else if(G===this.i)for(;$--;)this.pushBack(Y);else{let K=this.p;for(let L=1;L<G;++L)K=K.B;let Q=K.B;for(this.i+=$;$--;)K.B={l:Y,L:K},K.B.L=K,K=K.B;K.B=Q,Q.L=K}return this.i}find(G){let Y=this.p;for(;Y!==this.h;){if(Y.l===G)return new q(Y,this.h,this);Y=Y.B}return this.end()}reverse(){if(this.i<=1)return;let G=this.p,Y=this._,$=0;for(;$<<1<this.i;){let K=G.l;G.l=Y.l,Y.l=K,G=G.B,Y=Y.L,$+=1}}unique(){if(this.i<=1)return this.i;let G=this.p;for(;G!==this.h;){let Y=G;for(;Y.B!==this.h&&Y.l===Y.B.l;)Y=Y.B,this.i-=1;G.B=Y.B,G.B.L=G,G=G.B}return this.i}sort(G){if(this.i<=1)return;let Y=[];this.forEach(function(K){Y.push(K)}),Y.sort(G);let $=this.p;Y.forEach(function(K){$.l=K,$=$.B})}merge(G){let Y=this;if(this.i===0)G.forEach(function($){Y.pushBack($)});else{let $=this.p;G.forEach(function(K){for(;$!==Y.h&&$.l<=K;)$=$.B;Y.G(K,$.L)})}return this.i}forEach(G){let Y=this.p,$=0;for(;Y!==this.h;)G(Y.l,$++,this),Y=Y.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let G=this.p;for(;G!==this.h;)yield G.l,G=G.B}.bind(this)()}},U=Z;x.default=U}),c7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=X(z4()),k=l2();function X(U){return U&&U.t?U:{default:U}}var H=class U extends k.RandomIterator{constructor(G,Y,$){super(G,$),this.container=Y}copy(){return new U(this.o,this.container,this.iteratorType)}},q=class extends J.default{constructor(U=[],G=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let Y=(()=>{if(typeof U.length=="number")return U.length;if(typeof U.size=="number")return U.size;if(typeof U.size=="function")return U.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=G,this.P=Math.max(Math.ceil(Y/this.F),1);for(let Q=0;Q<this.P;++Q)this.A.push(new Array(this.F));let $=Math.ceil(Y/this.F);this.j=this.R=(this.P>>1)-($>>1),this.D=this.N=this.F-Y%this.F>>1;let K=this;U.forEach(function(Q){K.pushBack(Q)})}T(){let U=[],G=Math.max(this.P>>1,1);for(let Y=0;Y<G;++Y)U[Y]=new Array(this.F);for(let Y=this.j;Y<this.P;++Y)U[U.length]=this.A[Y];for(let Y=0;Y<this.R;++Y)U[U.length]=this.A[Y];U[U.length]=[...this.A[this.R]],this.j=G,this.R=U.length-1;for(let Y=0;Y<G;++Y)U[U.length]=new Array(this.F);this.A=U,this.P=U.length}O(U){let G=this.D+U+1,Y=G%this.F,$=Y-1,K=this.j+(G-Y)/this.F;return Y===0&&(K-=1),K%=this.P,$<0&&($+=this.F),{curNodeBucketIndex:K,curNodePointerIndex:$}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new H(0,this)}end(){return new H(this.i,this)}rBegin(){return new H(this.i-1,this,1)}rEnd(){return new H(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(U){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=U,this.i}popBack(){if(this.i===0)return;let U=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,U}pushFront(U){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=U,this.i}popFront(){if(this.i===0)return;let U=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,U}getElementByPos(U){if(U<0||U>this.i-1)throw new RangeError;let{curNodeBucketIndex:G,curNodePointerIndex:Y}=this.O(U);return this.A[G][Y]}setElementByPos(U,G){if(U<0||U>this.i-1)throw new RangeError;let{curNodeBucketIndex:Y,curNodePointerIndex:$}=this.O(U);this.A[Y][$]=G}insert(U,G,Y=1){if(U<0||U>this.i)throw new RangeError;if(U===0)for(;Y--;)this.pushFront(G);else if(U===this.i)for(;Y--;)this.pushBack(G);else{let $=[];for(let K=U;K<this.i;++K)$.push(this.getElementByPos(K));this.cut(U-1);for(let K=0;K<Y;++K)this.pushBack(G);for(let K=0;K<$.length;++K)this.pushBack($[K])}return this.i}cut(U){if(U<0)return this.clear(),0;let{curNodeBucketIndex:G,curNodePointerIndex:Y}=this.O(U);return this.R=G,this.N=Y,this.i=U+1,this.i}eraseElementByPos(U){if(U<0||U>this.i-1)throw new RangeError;if(U===0)this.popFront();else if(U===this.i-1)this.popBack();else{let G=[];for(let $=U+1;$<this.i;++$)G.push(this.getElementByPos($));this.cut(U),this.popBack();let Y=this;G.forEach(function($){Y.pushBack($)})}return this.i}eraseElementByValue(U){if(this.i===0)return 0;let G=[];for(let $=0;$<this.i;++$){let K=this.getElementByPos($);K!==U&&G.push(K)}let Y=G.length;for(let $=0;$<Y;++$)this.setElementByPos($,G[$]);return this.cut(Y-1)}eraseElementByIterator(U){let G=U.o;return this.eraseElementByPos(G),U=U.next(),U}find(U){for(let G=0;G<this.i;++G)if(this.getElementByPos(G)===U)return new H(G,this);return this.end()}reverse(){let U=0,G=this.i-1;for(;U<G;){let Y=this.getElementByPos(U);this.setElementByPos(U,this.getElementByPos(G)),this.setElementByPos(G,Y),U+=1,G-=1}}unique(){if(this.i<=1)return this.i;let U=1,G=this.getElementByPos(0);for(let Y=1;Y<this.i;++Y){let $=this.getElementByPos(Y);$!==G&&(G=$,this.setElementByPos(U++,$))}for(;this.i>U;)this.popBack();return this.i}sort(U){let G=[];for(let Y=0;Y<this.i;++Y)G.push(this.getElementByPos(Y));G.sort(U);for(let Y=0;Y<this.i;++Y)this.setElementByPos(Y,G[Y])}shrinkToFit(){if(this.i===0)return;let U=[];this.forEach(function(G){U.push(G)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let G=0;G<this.P;++G)this.A.push(new Array(this.F));for(let G=0;G<U.length;++G)this.pushBack(U[G])}forEach(U){for(let G=0;G<this.i;++G)U(this.getElementByPos(G),G,this)}[Symbol.iterator](){return function*(){for(let U=0;U<this.i;++U)yield this.getElementByPos(U)}.bind(this)()}},Z=q;x.default=Z}),h7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.TreeNodeEnableIndex=x.TreeNode=void 0;var J=class{constructor(X,H){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=X,this.l=H}L(){let X=this;if(X.ee===1&&X.tt.tt===X)X=X.W;else if(X.U)for(X=X.U;X.W;)X=X.W;else{let H=X.tt;for(;H.U===X;)X=H,H=X.tt;X=H}return X}B(){let X=this;if(X.W){for(X=X.W;X.U;)X=X.U;return X}else{let H=X.tt;for(;H.W===X;)X=H,H=X.tt;return X.W!==H?H:X}}te(){let X=this.tt,H=this.W,q=H.U;return X.tt===this?X.tt=H:X.U===this?X.U=H:X.W=H,H.tt=X,H.U=this,this.tt=H,this.W=q,q&&(q.tt=this),H}se(){let X=this.tt,H=this.U,q=H.W;return X.tt===this?X.tt=H:X.U===this?X.U=H:X.W=H,H.tt=X,H.W=this,this.tt=H,this.U=q,q&&(q.tt=this),H}};x.TreeNode=J;var k=class extends J{constructor(){super(...arguments),this.rt=1}te(){let X=super.te();return this.ie(),X.ie(),X}se(){let X=super.se();return this.ie(),X.ie(),X}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};x.TreeNodeEnableIndex=k}),a2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=h7(),k=F8(),X=K8(),H=class extends k.Container{constructor(Z=function(G,Y){return G<Y?-1:G>Y?1:0},U=!1){super(),this.Y=void 0,this.v=Z,U?(this.re=J.TreeNodeEnableIndex,this.M=function(G,Y,$){let K=this.ne(G,Y,$);if(K){let Q=K.tt;for(;Q!==this.h;)Q.rt+=1,Q=Q.tt;let L=this.he(K);if(L){let{parentNode:D,grandParent:V,curNode:W}=L;D.ie(),V.ie(),W.ie()}}return this.i},this.V=function(G){let Y=this.fe(G);for(;Y!==this.h;)Y.rt-=1,Y=Y.tt}):(this.re=J.TreeNode,this.M=function(G,Y,$){let K=this.ne(G,Y,$);return K&&this.he(K),this.i},this.V=this.fe),this.h=new this.re}X(Z,U){let G=this.h;for(;Z;){let Y=this.v(Z.u,U);if(Y<0)Z=Z.W;else if(Y>0)G=Z,Z=Z.U;else return Z}return G}Z(Z,U){let G=this.h;for(;Z;)this.v(Z.u,U)<=0?Z=Z.W:(G=Z,Z=Z.U);return G}$(Z,U){let G=this.h;for(;Z;){let Y=this.v(Z.u,U);if(Y<0)G=Z,Z=Z.W;else if(Y>0)Z=Z.U;else return Z}return G}rr(Z,U){let G=this.h;for(;Z;)this.v(Z.u,U)<0?(G=Z,Z=Z.W):Z=Z.U;return G}ue(Z){for(;;){let U=Z.tt;if(U===this.h)return;if(Z.ee===1){Z.ee=0;return}if(Z===U.U){let G=U.W;if(G.ee===1)G.ee=0,U.ee=1,U===this.Y?this.Y=U.te():U.te();else if(G.W&&G.W.ee===1){G.ee=U.ee,U.ee=0,G.W.ee=0,U===this.Y?this.Y=U.te():U.te();return}else G.U&&G.U.ee===1?(G.ee=1,G.U.ee=0,G.se()):(G.ee=1,Z=U)}else{let G=U.U;if(G.ee===1)G.ee=0,U.ee=1,U===this.Y?this.Y=U.se():U.se();else if(G.U&&G.U.ee===1){G.ee=U.ee,U.ee=0,G.U.ee=0,U===this.Y?this.Y=U.se():U.se();return}else G.W&&G.W.ee===1?(G.ee=1,G.W.ee=0,G.te()):(G.ee=1,Z=U)}}}fe(Z){if(this.i===1)return this.clear(),this.h;let U=Z;for(;U.U||U.W;){if(U.W)for(U=U.W;U.U;)U=U.U;else U=U.U;[Z.u,U.u]=[U.u,Z.u],[Z.l,U.l]=[U.l,Z.l],Z=U}this.h.U===U?this.h.U=U.tt:this.h.W===U&&(this.h.W=U.tt),this.ue(U);let G=U.tt;return U===G.U?G.U=void 0:G.W=void 0,this.i-=1,this.Y.ee=0,G}oe(Z,U){return Z===void 0?!1:this.oe(Z.U,U)||U(Z)?!0:this.oe(Z.W,U)}he(Z){for(;;){let U=Z.tt;if(U.ee===0)return;let G=U.tt;if(U===G.U){let Y=G.W;if(Y&&Y.ee===1){if(Y.ee=U.ee=0,G===this.Y)return;G.ee=1,Z=G;continue}else if(Z===U.W){if(Z.ee=0,Z.U&&(Z.U.tt=U),Z.W&&(Z.W.tt=G),U.W=Z.U,G.U=Z.W,Z.U=U,Z.W=G,G===this.Y)this.Y=Z,this.h.tt=Z;else{let $=G.tt;$.U===G?$.U=Z:$.W=Z}return Z.tt=G.tt,U.tt=Z,G.tt=Z,G.ee=1,{parentNode:U,grandParent:G,curNode:Z}}else U.ee=0,G===this.Y?this.Y=G.se():G.se(),G.ee=1}else{let Y=G.U;if(Y&&Y.ee===1){if(Y.ee=U.ee=0,G===this.Y)return;G.ee=1,Z=G;continue}else if(Z===U.U){if(Z.ee=0,Z.U&&(Z.U.tt=G),Z.W&&(Z.W.tt=U),G.W=Z.U,U.U=Z.W,Z.U=G,Z.W=U,G===this.Y)this.Y=Z,this.h.tt=Z;else{let $=G.tt;$.U===G?$.U=Z:$.W=Z}return Z.tt=G.tt,U.tt=Z,G.tt=Z,G.ee=1,{parentNode:U,grandParent:G,curNode:Z}}else U.ee=0,G===this.Y?this.Y=G.te():G.te(),G.ee=1}return}}ne(Z,U,G){if(this.Y===void 0){this.i+=1,this.Y=new this.re(Z,U),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let Y,$=this.h.U,K=this.v($.u,Z);if(K===0){$.l=U;return}else if(K>0)$.U=new this.re(Z,U),$.U.tt=$,Y=$.U,this.h.U=Y;else{let Q=this.h.W,L=this.v(Q.u,Z);if(L===0){Q.l=U;return}else if(L<0)Q.W=new this.re(Z,U),Q.W.tt=Q,Y=Q.W,this.h.W=Y;else{if(G!==void 0){let D=G.o;if(D!==this.h){let V=this.v(D.u,Z);if(V===0){D.l=U;return}else if(V>0){let W=D.L(),N=this.v(W.u,Z);if(N===0){W.l=U;return}else N<0&&(Y=new this.re(Z,U),W.W===void 0?(W.W=Y,Y.tt=W):(D.U=Y,Y.tt=D))}}}if(Y===void 0)for(Y=this.Y;;){let D=this.v(Y.u,Z);if(D>0){if(Y.U===void 0){Y.U=new this.re(Z,U),Y.U.tt=Y,Y=Y.U;break}Y=Y.U}else if(D<0){if(Y.W===void 0){Y.W=new this.re(Z,U),Y.W.tt=Y,Y=Y.W;break}Y=Y.W}else{Y.l=U;return}}}}return this.i+=1,Y}I(Z,U){for(;Z;){let G=this.v(Z.u,U);if(G<0)Z=Z.W;else if(G>0)Z=Z.U;else return Z}return Z||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(Z,U){let G=Z.o;if(G===this.h&&X.throwIteratorAccessError(),this.i===1)return G.u=U,!0;if(G===this.h.U)return this.v(G.B().u,U)>0?(G.u=U,!0):!1;if(G===this.h.W)return this.v(G.L().u,U)<0?(G.u=U,!0):!1;let Y=G.L().u;if(this.v(Y,U)>=0)return!1;let $=G.B().u;return this.v($,U)<=0?!1:(G.u=U,!0)}eraseElementByPos(Z){if(Z<0||Z>this.i-1)throw new RangeError;let U=0,G=this;return this.oe(this.Y,function(Y){return Z===U?(G.V(Y),!0):(U+=1,!1)}),this.i}eraseElementByKey(Z){if(this.i===0)return!1;let U=this.I(this.Y,Z);return U===this.h?!1:(this.V(U),!0)}eraseElementByIterator(Z){let U=Z.o;U===this.h&&X.throwIteratorAccessError();let G=U.W===void 0;return Z.iteratorType===0?G&&Z.next():(!G||U.U===void 0)&&Z.next(),this.V(U),Z}forEach(Z){let U=0;for(let G of this)Z(G,U++,this)}getElementByPos(Z){if(Z<0||Z>this.i-1)throw new RangeError;let U,G=0;for(let Y of this){if(G===Z){U=Y;break}G+=1}return U}getHeight(){if(this.i===0)return 0;let Z=function(U){return U?Math.max(Z(U.U),Z(U.W))+1:0};return Z(this.Y)}},q=H;x.default=q}),o2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=F8(),k=K8(),X=class extends J.ContainerIterator{constructor(q,Z,U){super(U),this.o=q,this.h=Z,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&k.throwIteratorAccessError(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&k.throwIteratorAccessError(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&k.throwIteratorAccessError(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&k.throwIteratorAccessError(),this.o=this.o.L(),this})}get index(){let q=this.o,Z=this.h.tt;if(q===this.h)return Z?Z.rt-1:0;let U=0;for(q.U&&(U+=q.U.rt);q!==Z;){let G=q.tt;q===G.W&&(U+=1,G.U&&(U+=G.U.rt)),q=G}return U}},H=X;x.default=H}),l7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=H(a2()),k=H(o2()),X=K8();function H(G){return G&&G.t?G:{default:G}}var q=class G extends k.default{constructor(Y,$,K,Q){super(Y,$,Q),this.container=K}get pointer(){return this.o===this.h&&X.throwIteratorAccessError(),this.o.u}copy(){return new G(this.o,this.h,this.container,this.iteratorType)}},Z=class extends J.default{constructor(G=[],Y,$){super(Y,$);let K=this;G.forEach(function(Q){K.insert(Q)})}*K(G){G!==void 0&&(yield*this.K(G.U),yield G.u,yield*this.K(G.W))}begin(){return new q(this.h.U||this.h,this.h,this)}end(){return new q(this.h,this.h,this)}rBegin(){return new q(this.h.W||this.h,this.h,this,1)}rEnd(){return new q(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(G,Y){return this.M(G,void 0,Y)}find(G){let Y=this.I(this.Y,G);return new q(Y,this.h,this)}lowerBound(G){let Y=this.X(this.Y,G);return new q(Y,this.h,this)}upperBound(G){let Y=this.Z(this.Y,G);return new q(Y,this.h,this)}reverseLowerBound(G){let Y=this.$(this.Y,G);return new q(Y,this.h,this)}reverseUpperBound(G){let Y=this.rr(this.Y,G);return new q(Y,this.h,this)}union(G){let Y=this;return G.forEach(function($){Y.insert($)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},U=Z;x.default=U}),a7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=H(a2()),k=H(o2()),X=K8();function H(G){return G&&G.t?G:{default:G}}var q=class G extends k.default{constructor(Y,$,K,Q){super(Y,$,Q),this.container=K}get pointer(){this.o===this.h&&X.throwIteratorAccessError();let Y=this;return new Proxy([],{get($,K){if(K==="0")return Y.o.u;if(K==="1")return Y.o.l},set($,K,Q){if(K!=="1")throw new TypeError("props must be 1");return Y.o.l=Q,!0}})}copy(){return new G(this.o,this.h,this.container,this.iteratorType)}},Z=class extends J.default{constructor(G=[],Y,$){super(Y,$);let K=this;G.forEach(function(Q){K.setElement(Q[0],Q[1])})}*K(G){G!==void 0&&(yield*this.K(G.U),yield[G.u,G.l],yield*this.K(G.W))}begin(){return new q(this.h.U||this.h,this.h,this)}end(){return new q(this.h,this.h,this)}rBegin(){return new q(this.h.W||this.h,this.h,this,1)}rEnd(){return new q(this.h,this.h,this,1)}front(){if(this.i===0)return;let G=this.h.U;return[G.u,G.l]}back(){if(this.i===0)return;let G=this.h.W;return[G.u,G.l]}lowerBound(G){let Y=this.X(this.Y,G);return new q(Y,this.h,this)}upperBound(G){let Y=this.Z(this.Y,G);return new q(Y,this.h,this)}reverseLowerBound(G){let Y=this.$(this.Y,G);return new q(Y,this.h,this)}reverseUpperBound(G){let Y=this.rr(this.Y,G);return new q(Y,this.h,this)}setElement(G,Y,$){return this.M(G,Y,$)}find(G){let Y=this.I(this.Y,G);return new q(Y,this.h,this)}getElementByKey(G){return this.I(this.Y,G).l}union(G){let Y=this;return G.forEach(function($){Y.setElement($[0],$[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},U=Z;x.default=U}),f2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=J;function J(k){let X=typeof k;return X==="object"&&k!==null||X==="function"}}),u2=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.HashContainerIterator=x.HashContainer=void 0;var J=F8(),k=H(f2()),X=K8();function H(U){return U&&U.t?U:{default:U}}var q=class extends J.ContainerIterator{constructor(U,G,Y){super(Y),this.o=U,this.h=G,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&X.throwIteratorAccessError(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&X.throwIteratorAccessError(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&X.throwIteratorAccessError(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&X.throwIteratorAccessError(),this.o=this.o.L,this})}};x.HashContainerIterator=q;var Z=class extends J.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(U){let{L:G,B:Y}=U;G.B=Y,Y.L=G,U===this.p&&(this.p=Y),U===this._&&(this._=G),this.i-=1}M(U,G,Y){Y===void 0&&(Y=k.default(U));let $;if(Y){let K=U[this.HASH_TAG];if(K!==void 0)return this.H[K].l=G,this.i;Object.defineProperty(U,this.HASH_TAG,{value:this.H.length,configurable:!0}),$={u:U,l:G,L:this._,B:this.h},this.H.push($)}else{let K=this.g[U];if(K)return K.l=G,this.i;$={u:U,l:G,L:this._,B:this.h},this.g[U]=$}return this.i===0?(this.p=$,this.h.B=$):this._.B=$,this._=$,this.h.L=$,++this.i}I(U,G){if(G===void 0&&(G=k.default(U)),G){let Y=U[this.HASH_TAG];return Y===void 0?this.h:this.H[Y]}else return this.g[U]||this.h}clear(){let U=this.HASH_TAG;this.H.forEach(function(G){delete G.u[U]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(U,G){let Y;if(G===void 0&&(G=k.default(U)),G){let $=U[this.HASH_TAG];if($===void 0)return!1;delete U[this.HASH_TAG],Y=this.H[$],delete this.H[$]}else{if(Y=this.g[U],Y===void 0)return!1;delete this.g[U]}return this.V(Y),!0}eraseElementByIterator(U){let G=U.o;return G===this.h&&X.throwIteratorAccessError(),this.V(G),U.next()}eraseElementByPos(U){if(U<0||U>this.i-1)throw new RangeError;let G=this.p;for(;U--;)G=G.B;return this.V(G),this.i}};x.HashContainer=Z}),o7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=u2(),k=K8(),X=class Z extends J.HashContainerIterator{constructor(U,G,Y,$){super(U,G,$),this.container=Y}get pointer(){return this.o===this.h&&k.throwIteratorAccessError(),this.o.u}copy(){return new Z(this.o,this.h,this.container,this.iteratorType)}},H=class extends J.HashContainer{constructor(Z=[]){super();let U=this;Z.forEach(function(G){U.insert(G)})}begin(){return new X(this.p,this.h,this)}end(){return new X(this.h,this.h,this)}rBegin(){return new X(this._,this.h,this,1)}rEnd(){return new X(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(Z,U){return this.M(Z,void 0,U)}getElementByPos(Z){if(Z<0||Z>this.i-1)throw new RangeError;let U=this.p;for(;Z--;)U=U.B;return U.u}find(Z,U){let G=this.I(Z,U);return new X(G,this.h,this)}forEach(Z){let U=0,G=this.p;for(;G!==this.h;)Z(G.u,U++,this),G=G.B}[Symbol.iterator](){return function*(){let Z=this.p;for(;Z!==this.h;)yield Z.u,Z=Z.B}.bind(this)()}},q=H;x.default=q}),f7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),x.default=void 0;var J=u2(),k=H(f2()),X=K8();function H(G){return G&&G.t?G:{default:G}}var q=class G extends J.HashContainerIterator{constructor(Y,$,K,Q){super(Y,$,Q),this.container=K}get pointer(){this.o===this.h&&X.throwIteratorAccessError();let Y=this;return new Proxy([],{get($,K){if(K==="0")return Y.o.u;if(K==="1")return Y.o.l},set($,K,Q){if(K!=="1")throw new TypeError("props must be 1");return Y.o.l=Q,!0}})}copy(){return new G(this.o,this.h,this.container,this.iteratorType)}},Z=class extends J.HashContainer{constructor(G=[]){super();let Y=this;G.forEach(function($){Y.setElement($[0],$[1])})}begin(){return new q(this.p,this.h,this)}end(){return new q(this.h,this.h,this)}rBegin(){return new q(this._,this.h,this,1)}rEnd(){return new q(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(G,Y,$){return this.M(G,Y,$)}getElementByKey(G,Y){if(Y===void 0&&(Y=k.default(G)),Y){let K=G[this.HASH_TAG];return K!==void 0?this.H[K].l:void 0}let $=this.g[G];return $?$.l:void 0}getElementByPos(G){if(G<0||G>this.i-1)throw new RangeError;let Y=this.p;for(;G--;)Y=Y.B;return[Y.u,Y.l]}find(G,Y){let $=this.I(G,Y);return new q($,this.h,this)}forEach(G){let Y=0,$=this.p;for(;$!==this.h;)G([$.u,$.l],Y++,this),$=$.B}[Symbol.iterator](){return function*(){let G=this.p;for(;G!==this.h;)yield[G.u,G.l],G=G.B}.bind(this)()}},U=Z;x.default=U}),u7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"t",{value:!0}),Object.defineProperty(x,"Deque",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(x,"HashMap",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(x,"HashSet",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(x,"LinkList",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(x,"OrderedMap",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(x,"OrderedSet",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(x,"PriorityQueue",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(x,"Queue",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(x,"Stack",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(x,"Vector",{enumerable:!0,get:function(){return H.default}});var J=K(p7()),k=K(y7()),X=K(b7()),H=K(d7()),q=K(g7()),Z=K(c7()),U=K(l7()),G=K(a7()),Y=K(o7()),$=K(f7());function K(Q){return Q&&Q.t?Q:{default:Q}}}),n7=$1((x,J)=>{Z1(),q1(),G1();var k=u7().OrderedSet,X=$8()("number-allocator:trace"),H=$8()("number-allocator:error");function q(U,G){this.low=U,this.high=G}q.prototype.equals=function(U){return this.low===U.low&&this.high===U.high},q.prototype.compare=function(U){return this.low<U.low&&this.high<U.low?-1:U.low<this.low&&U.high<this.low?1:0};function Z(U,G){if(!(this instanceof Z))return new Z(U,G);this.min=U,this.max=G,this.ss=new k([],(Y,$)=>Y.compare($)),X("Create"),this.clear()}Z.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},Z.prototype.alloc=function(){if(this.ss.size()===0)return X("alloc():empty"),null;let U=this.ss.begin(),G=U.pointer.low,Y=U.pointer.high,$=G;return $+1<=Y?this.ss.updateKeyByIterator(U,new q(G+1,Y)):this.ss.eraseElementByPos(0),X("alloc():"+$),$},Z.prototype.use=function(U){let G=new q(U,U),Y=this.ss.lowerBound(G);if(!Y.equals(this.ss.end())){let $=Y.pointer.low,K=Y.pointer.high;return Y.pointer.equals(G)?(this.ss.eraseElementByIterator(Y),X("use():"+U),!0):$>U?!1:$===U?(this.ss.updateKeyByIterator(Y,new q($+1,K)),X("use():"+U),!0):K===U?(this.ss.updateKeyByIterator(Y,new q($,K-1)),X("use():"+U),!0):(this.ss.updateKeyByIterator(Y,new q(U+1,K)),this.ss.insert(new q($,U-1)),X("use():"+U),!0)}return X("use():failed"),!1},Z.prototype.free=function(U){if(U<this.min||U>this.max){H("free():"+U+" is out of range");return}let G=new q(U,U),Y=this.ss.upperBound(G);if(Y.equals(this.ss.end())){if(Y.equals(this.ss.begin())){this.ss.insert(G);return}Y.pre();let $=Y.pointer.high;Y.pointer.high+1===U?this.ss.updateKeyByIterator(Y,new q($,U)):this.ss.insert(G)}else if(Y.equals(this.ss.begin()))if(U+1===Y.pointer.low){let $=Y.pointer.high;this.ss.updateKeyByIterator(Y,new q(U,$))}else this.ss.insert(G);else{let $=Y.pointer.low,K=Y.pointer.high;Y.pre();let Q=Y.pointer.low;Y.pointer.high+1===U?U+1===$?(this.ss.eraseElementByIterator(Y),this.ss.updateKeyByIterator(Y,new q(Q,K))):this.ss.updateKeyByIterator(Y,new q(Q,U)):U+1===$?(this.ss.eraseElementByIterator(Y.next()),this.ss.insert(new q(U,K))):this.ss.insert(G)}X("free():"+U)},Z.prototype.clear=function(){X("clear()"),this.ss.clear(),this.ss.insert(new q(this.min,this.max))},Z.prototype.intervalCount=function(){return this.ss.size()},Z.prototype.dump=function(){console.log("length:"+this.ss.size());for(let U of this.ss)console.log(U)},J.exports=Z}),n2=$1((x,J)=>{Z1(),q1(),G1();var k=n7();J.exports.NumberAllocator=k}),s7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=E7(),k=n2(),X=class{constructor(H){H>0&&(this.aliasToTopic=new J.LRUCache({max:H}),this.topicToAlias={},this.numberAllocator=new k.NumberAllocator(1,H),this.max=H,this.length=0)}put(H,q){if(q===0||q>this.max)return!1;let Z=this.aliasToTopic.get(q);return Z&&delete this.topicToAlias[Z],this.aliasToTopic.set(q,H),this.topicToAlias[H]=q,this.numberAllocator.use(q),this.length=this.aliasToTopic.size,!0}getTopicByAlias(H){return this.aliasToTopic.get(H)}getAliasByTopic(H){let q=this.topicToAlias[H];return typeof q<"u"&&this.aliasToTopic.get(q),q}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};x.default=X}),i7=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(x,"__esModule",{value:!0});var k=D6(),X=J(s7()),H=c8(),q=(Z,U)=>{Z.log("_handleConnack");let{options:G}=Z,Y=G.protocolVersion===5?U.reasonCode:U.returnCode;if(clearTimeout(Z.connackTimer),delete Z.topicAliasSend,U.properties){if(U.properties.topicAliasMaximum){if(U.properties.topicAliasMaximum>65535){Z.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}U.properties.topicAliasMaximum>0&&(Z.topicAliasSend=new X.default(U.properties.topicAliasMaximum))}U.properties.serverKeepAlive&&G.keepalive&&(G.keepalive=U.properties.serverKeepAlive),U.properties.maximumPacketSize&&(G.properties||(G.properties={}),G.properties.maximumPacketSize=U.properties.maximumPacketSize)}if(Y===0)Z.reconnecting=!1,Z._onConnect(U);else if(Y>0){let $=new H.ErrorWithReasonCode(`Connection refused: ${k.ReasonCodes[Y]}`,Y);Z.emit("error",$)}};x.default=q}),r7=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=(k,X,H)=>{k.log("handling pubrel packet");let q=typeof H<"u"?H:k.noop,{messageId:Z}=X,U={cmd:"pubcomp",messageId:Z};k.incomingStore.get(X,(G,Y)=>{G?k._sendPacket(U,q):(k.emit("message",Y.topic,Y.payload,Y),k.handleMessage(Y,($)=>{if($)return q($);k.incomingStore.del(Y,k.noop),k._sendPacket(U,q)}))})};x.default=J}),t7=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(x,"__esModule",{value:!0});var k=J(A7()),X=J(w7()),H=J(i7()),q=J(D6()),Z=J(r7()),U=(G,Y,$)=>{let{options:K}=G;if(K.protocolVersion===5&&K.properties&&K.properties.maximumPacketSize&&K.properties.maximumPacketSize<Y.length)return G.emit("error",new Error(`exceeding packets size ${Y.cmd}`)),G.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),G;switch(G.log("_handlePacket :: emitting packetreceive"),G.emit("packetreceive",Y),Y.cmd){case"publish":k.default(G,Y,$);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":G.reschedulePing(),q.default(G,Y),$();break;case"pubrel":G.reschedulePing(),Z.default(G,Y,$);break;case"connack":H.default(G,Y),$();break;case"auth":G.reschedulePing(),X.default(G,Y),$();break;case"pingresp":G.log("_handlePacket :: received pingresp"),G.reschedulePing(!0),$();break;case"disconnect":G.emit("disconnect",Y),$();break;default:G.log("_handlePacket :: unknown command"),$();break}};x.default=U}),e7=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(x,"__esModule",{value:!0}),x.TypedEventEmitter=void 0;var k=J((g8(),C1(w8))),X=c8(),H=class{};x.TypedEventEmitter=H,X.applyMixin(H,k.default)}),W6=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.isReactNativeBrowser=x.isWebWorker=void 0;var J=()=>{var q;return typeof window<"u"?typeof navigator<"u"&&((q=navigator.userAgent)===null||q===void 0?void 0:q.toLowerCase().indexOf(" electron/"))>-1&&(!(N1===null||N1===void 0)&&N1.versions)?!Object.prototype.hasOwnProperty.call(N1.versions,"electron"):typeof window.document<"u":!1},k=()=>{var q,Z;return!!(typeof self=="object"&&(!((Z=(q=self?.constructor)===null||q===void 0?void 0:q.name)===null||Z===void 0)&&Z.includes("WorkerGlobalScope")))},X=()=>typeof navigator<"u"&&navigator.product==="ReactNative",H=J()||k()||X();x.isWebWorker=k(),x.isReactNativeBrowser=X(),x.default=H}),x0=$1((x,J)=>{Z1(),q1(),G1(),function(k,X){typeof x=="object"&&typeof J<"u"?X(x):typeof define=="function"&&define.amd?define(["exports"],X):(k=typeof globalThis<"u"?globalThis:k||self,X(k.fastUniqueNumbers={}))}(x,function(k){var X=function(L){return function(D){var V=L(D);return D.add(V),V}},H=function(L){return function(D,V){return L.set(D,V),V}},q=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,Z=536870912,U=Z*2,G=function(L,D){return function(V){var W=D.get(V),N=W===void 0?V.size:W<U?W+1:0;if(!V.has(N))return L(V,N);if(V.size<Z){for(;V.has(N);)N=Math.floor(Math.random()*U);return L(V,N)}if(V.size>q)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(N);)N=Math.floor(Math.random()*q);return L(V,N)}},Y=new WeakMap,$=H(Y),K=G($,Y),Q=X(K);k.addUniqueNumber=Q,k.generateUniqueNumber=K})}),k0=$1((x,J)=>{Z1(),q1(),G1(),function(k,X){typeof x=="object"&&typeof J<"u"?X(x,x0()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],X):(k=typeof globalThis<"u"?globalThis:k||self,X(k.workerTimersBroker={},k.fastUniqueNumbers))}(x,function(k,X){var H=function(U){return U.method!==void 0&&U.method==="call"},q=function(U){return U.error===null&&typeof U.id=="number"},Z=function(U){var G=new Map([[0,function(){}]]),Y=new Map([[0,function(){}]]),$=new Map,K=new Worker(U);K.addEventListener("message",function(W){var N=W.data;if(H(N)){var P=N.params,j=P.timerId,T=P.timerType;if(T==="interval"){var w=G.get(j);if(typeof w=="number"){var O=$.get(w);if(O===void 0||O.timerId!==j||O.timerType!==T)throw new Error("The timer is in an undefined state.")}else if(typeof w<"u")w();else throw new Error("The timer is in an undefined state.")}else if(T==="timeout"){var R=Y.get(j);if(typeof R=="number"){var S=$.get(R);if(S===void 0||S.timerId!==j||S.timerType!==T)throw new Error("The timer is in an undefined state.")}else if(typeof R<"u")R(),Y.delete(j);else throw new Error("The timer is in an undefined state.")}}else if(q(N)){var c=N.id,o=$.get(c);if(o===void 0)throw new Error("The timer is in an undefined state.");var{timerId:i,timerType:I}=o;$.delete(c),I==="interval"?G.delete(i):Y.delete(i)}else{var g=N.error.message;throw new Error(g)}});var Q=function(W){var N=X.generateUniqueNumber($);$.set(N,{timerId:W,timerType:"interval"}),G.set(W,N),K.postMessage({id:N,method:"clear",params:{timerId:W,timerType:"interval"}})},L=function(W){var N=X.generateUniqueNumber($);$.set(N,{timerId:W,timerType:"timeout"}),Y.set(W,N),K.postMessage({id:N,method:"clear",params:{timerId:W,timerType:"timeout"}})},D=function(W){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=X.generateUniqueNumber(G);return G.set(P,function(){W(),typeof G.get(P)=="function"&&K.postMessage({id:null,method:"set",params:{delay:N,now:performance.now(),timerId:P,timerType:"interval"}})}),K.postMessage({id:null,method:"set",params:{delay:N,now:performance.now(),timerId:P,timerType:"interval"}}),P},V=function(W){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=X.generateUniqueNumber(Y);return Y.set(P,W),K.postMessage({id:null,method:"set",params:{delay:N,now:performance.now(),timerId:P,timerType:"timeout"}}),P};return{clearInterval:Q,clearTimeout:L,setInterval:D,setTimeout:V}};k.load=Z})}),Z0=$1((x,J)=>{Z1(),q1(),G1(),function(k,X){typeof x=="object"&&typeof J<"u"?X(x,k0()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],X):(k=typeof globalThis<"u"?globalThis:k||self,X(k.workerTimers={},k.workerTimersBroker))}(x,function(k,X){var H=function(K,Q){var L=null;return function(){if(L!==null)return L;var D=new Blob([Q],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(D);return L=K(V),setTimeout(function(){return URL.revokeObjectURL(V)}),L}},q=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,Z=H(X.load,q),U=function(K){return Z().clearInterval(K)},G=function(K){return Z().clearTimeout(K)},Y=function(){var K;return(K=Z()).setInterval.apply(K,arguments)},$=function(){var K;return(K=Z()).setTimeout.apply(K,arguments)};k.clearInterval=U,k.clearTimeout=G,k.setInterval=Y,k.setTimeout=$})}),G0=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__createBinding||(Object.create?function(Y,$,K,Q){Q===void 0&&(Q=K);var L=Object.getOwnPropertyDescriptor($,K);(!L||("get"in L?!$.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return $[K]}}),Object.defineProperty(Y,Q,L)}:function(Y,$,K,Q){Q===void 0&&(Q=K),Y[Q]=$[K]}),k=x&&x.__setModuleDefault||(Object.create?function(Y,$){Object.defineProperty(Y,"default",{enumerable:!0,value:$})}:function(Y,$){Y.default=$}),X=x&&x.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var $={};if(Y!=null)for(var K in Y)K!=="default"&&Object.prototype.hasOwnProperty.call(Y,K)&&J($,Y,K);return k($,Y),$};Object.defineProperty(x,"__esModule",{value:!0});var H=X(W6()),q=Z0(),Z={set:q.setInterval,clear:q.clearInterval},U={set:(Y,$)=>setInterval(Y,$),clear:(Y)=>clearInterval(Y)},G=(Y)=>{switch(Y){case"native":return U;case"worker":return Z;case"auto":default:return H.default&&!H.isWebWorker&&!H.isReactNativeBrowser?Z:U}};x.default=G}),s2=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(x,"__esModule",{value:!0});var k=J(G0()),X=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(H,q){this.destroyed=!1,this.client=H,this.timer=typeof q=="object"&&"set"in q&&"clear"in q?q:k.default(q),this.setKeepalive(H.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(H){if(H*=1000,isNaN(H)||H<=0||H>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${H}`);this._keepalive=H,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${H}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let H=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+H,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};x.default=X}),f5=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__createBinding||(Object.create?function(w,O,R,S){S===void 0&&(S=R);var c=Object.getOwnPropertyDescriptor(O,R);(!c||("get"in c?!O.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return O[R]}}),Object.defineProperty(w,S,c)}:function(w,O,R,S){S===void 0&&(S=R),w[S]=O[R]}),k=x&&x.__setModuleDefault||(Object.create?function(w,O){Object.defineProperty(w,"default",{enumerable:!0,value:O})}:function(w,O){w.default=O}),X=x&&x.__importStar||function(w){if(w&&w.__esModule)return w;var O={};if(w!=null)for(var R in w)R!=="default"&&Object.prototype.hasOwnProperty.call(w,R)&&J(O,w,R);return k(O,w),O},H=x&&x.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(x,"__esModule",{value:!0});var q=H(f9()),Z=H(R7()),U=H(c2()),G=E8(),Y=H(v7()),$=X(_7()),K=H($8()),Q=H(h2()),L=H(t7()),D=c8(),V=e7(),W=H(s2()),N=X(W6()),P=globalThis.setImmediate||((...w)=>{let O=w.shift();D.nextTick(()=>{O(...w)})}),j={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1000,connectTimeout:30000,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},T=class w extends V.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(O,R){super(),this.options=R||{};for(let S in j)typeof this.options[S]>"u"?this.options[S]=j[S]:this.options[S]=R[S];this.log=this.options.log||K.default("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",w.VERSION),N.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",N.default?"browser":"node"),this.log("MqttClient :: options.protocol",R.protocol),this.log("MqttClient :: options.protocolVersion",R.protocolVersion),this.log("MqttClient :: options.username",R.username),this.log("MqttClient :: options.keepalive",R.keepalive),this.log("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",R.properties?R.properties.topicAliasMaximum:void 0),this.options.clientId=typeof R.clientId=="string"?R.clientId:w.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:(...S)=>{S[3](null,0)},this.options.writeCache||(Z.default.writeToStream.cacheNumbers=!1),this.streamBuilder=O,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new U.default:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new Q.default,this.incomingStore=R.incomingStore||new Q.default,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.properties&&R.properties.topicAliasMaximum>0&&(R.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new q.default(R.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:S}=this,c=()=>{let o=S.shift();this.log("deliver :: entry %o",o);let i=null;if(!o){this._resubscribe();return}i=o.packet,this.log("deliver :: call _sendPacket for %o",i);let I=!0;i.messageId&&i.messageId!==0&&(this.messageIdProvider.register(i.messageId)||(I=!1)),I?this._sendPacket(i,(g)=>{o.cb&&o.cb(g),c()}):(this.log("messageId: %d has already used. The message is skipped and removed.",i.messageId),c())};this.log("connect :: sending queued packets"),c()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(O,R){R()}handleMessage(O,R){R()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var O;let R=new G.Writable,S=Z.default.parser(this.options),c=null,o=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new Q.default,this.outgoingStore=this.options.outgoingStore||new Q.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),S.on("packet",(h)=>{this.log("parser :: on packet push to packets array."),o.push(h)});let i=()=>{this.log("work :: getting next packet in queue");let h=o.shift();if(h)this.log("work :: packet pulled from queue"),L.default(this,h,I);else{this.log("work :: no packets in queue");let U1=c;c=null,this.log("work :: done flag is %s",!!U1),U1&&U1()}},I=()=>{if(o.length)D.nextTick(i);else{let h=c;c=null,h()}};R._write=(h,U1,k1)=>{c=k1,this.log("writable stream :: parsing buffer"),S.parse(h),i()};let g=(h)=>{this.log("streamErrorHandler :: error",h.message),h.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",h)):this.noop(h)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(R),this.stream.on("error",g),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let s={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(s.will=Object.assign(Object.assign({},this.options.will),{payload:(O=this.options.will)===null||O===void 0?void 0:O.payload})),this.topicAliasRecv&&(s.properties||(s.properties={}),this.topicAliasRecv&&(s.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(s),S.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let h=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(h)}}return this.stream.setMaxListeners(1000),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(O,R,S,c){this.log("publish :: message `%s` to topic `%s`",R,O);let{options:o}=this;typeof S=="function"&&(c=S,S=null),S=S||{},S=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),S);let{qos:i,retain:I,dup:g,properties:s,cbStorePut:h}=S;if(this._checkDisconnecting(c))return this;let U1=()=>{let k1=0;if((i===1||i===2)&&(k1=this._nextId(),k1===null))return this.log("No messageId left"),!1;let d={cmd:"publish",topic:O,payload:R,qos:i,retain:I,messageId:k1,dup:g};switch(o.protocolVersion===5&&(d.properties=s),this.log("publish :: qos",i),i){case 1:case 2:this.outgoing[d.messageId]={volatile:!1,cb:c||this.noop},this.log("MqttClient:publish: packet cmd: %s",d.cmd),this._sendPacket(d,void 0,h);break;default:this.log("MqttClient:publish: packet cmd: %s",d.cmd),this._sendPacket(d,c,h);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!U1())&&this._storeProcessingQueue.push({invoke:U1,cbStorePut:S.cbStorePut,callback:c}),this}publishAsync(O,R,S){return new Promise((c,o)=>{this.publish(O,R,S,(i,I)=>{i?o(i):c(I)})})}subscribe(O,R,S){let c=this.options.protocolVersion;typeof R=="function"&&(S=R),S=S||this.noop;let o=!1,i=[];typeof O=="string"?(O=[O],i=O):Array.isArray(O)?i=O:typeof O=="object"&&(o=O.resubscribe,delete O.resubscribe,i=Object.keys(O));let I=$.validateTopics(i);if(I!==null)return P(S,new Error(`Invalid topic ${I}`)),this;if(this._checkDisconnecting(S))return this.log("subscribe: discconecting true"),this;let g={qos:0};c===5&&(g.nl=!1,g.rap=!1,g.rh=0),R=Object.assign(Object.assign({},g),R);let s=R.properties,h=[],U1=(d,B1)=>{if(B1=B1||R,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,d)||this._resubscribeTopics[d].qos<B1.qos||o){let e={topic:d,qos:B1.qos};c===5&&(e.nl=B1.nl,e.rap=B1.rap,e.rh=B1.rh,e.properties=s),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",e.topic,e.qos),h.push(e)}};if(Array.isArray(O)?O.forEach((d)=>{this.log("subscribe: array topic %s",d),U1(d)}):Object.keys(O).forEach((d)=>{this.log("subscribe: object topic %s, %o",d,O[d]),U1(d,O[d])}),!h.length)return S(null,[]),this;let k1=()=>{let d=this._nextId();if(d===null)return this.log("No messageId left"),!1;let B1={cmd:"subscribe",subscriptions:h,messageId:d};if(s&&(B1.properties=s),this.options.resubscribe){this.log("subscribe :: resubscribe true");let e=[];h.forEach((Q1)=>{if(this.options.reconnectPeriod>0){let m={qos:Q1.qos};c===5&&(m.nl=Q1.nl||!1,m.rap=Q1.rap||!1,m.rh=Q1.rh||0,m.properties=Q1.properties),this._resubscribeTopics[Q1.topic]=m,e.push(Q1.topic)}}),this.messageIdToTopic[B1.messageId]=e}return this.outgoing[B1.messageId]={volatile:!0,cb(e,Q1){if(!e){let{granted:m}=Q1;for(let a=0;a<m.length;a+=1)h[a].qos=m[a]}S(e,h,Q1)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(B1),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!k1())&&this._storeProcessingQueue.push({invoke:k1,callback:S}),this}subscribeAsync(O,R){return new Promise((S,c)=>{this.subscribe(O,R,(o,i)=>{o?c(o):S(i)})})}unsubscribe(O,R,S){typeof O=="string"&&(O=[O]),typeof R=="function"&&(S=R),S=S||this.noop;let c=$.validateTopics(O);if(c!==null)return P(S,new Error(`Invalid topic ${c}`)),this;if(this._checkDisconnecting(S))return this;let o=()=>{let i=this._nextId();if(i===null)return this.log("No messageId left"),!1;let I={cmd:"unsubscribe",messageId:i,unsubscriptions:[]};return typeof O=="string"?I.unsubscriptions=[O]:Array.isArray(O)&&(I.unsubscriptions=O),this.options.resubscribe&&I.unsubscriptions.forEach((g)=>{delete this._resubscribeTopics[g]}),typeof R=="object"&&R.properties&&(I.properties=R.properties),this.outgoing[I.messageId]={volatile:!0,cb:S},this.log("unsubscribe: call _sendPacket"),this._sendPacket(I),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!o())&&this._storeProcessingQueue.push({invoke:o,callback:S}),this}unsubscribeAsync(O,R){return new Promise((S,c)=>{this.unsubscribe(O,R,(o,i)=>{o?c(o):S(i)})})}end(O,R,S){this.log("end :: (%s)",this.options.clientId),(O==null||typeof O!="boolean")&&(S=S||R,R=O,O=!1),typeof R!="object"&&(S=S||R,R=null),this.log("end :: cb? %s",!!S),(!S||typeof S!="function")&&(S=this.noop);let c=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close((i)=>{this.outgoingStore.close((I)=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),S){let g=i||I;this.log("end :: closeStores: invoking callback with args"),S(g)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},o=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,O),this._cleanUp(O,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),D.nextTick(c)},R)};return this.disconnecting?(S(),this):(this._clearReconnect(),this.disconnecting=!0,!O&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,o,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),o()),this)}endAsync(O,R){return new Promise((S,c)=>{this.end(O,R,(o)=>{o?c(o):S()})})}removeOutgoingMessage(O){if(this.outgoing[O]){let{cb:R}=this.outgoing[O];this._removeOutgoingAndStoreMessage(O,()=>{R(new Error("Message removed"))})}return this}reconnect(O){this.log("client reconnect");let R=()=>{O?(this.options.incomingStore=O.incomingStore,this.options.outgoingStore=O.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new Q.default,this.outgoingStore=this.options.outgoingStore||new Q.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=R:R(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach((O)=>{this.outgoing[O].volatile&&typeof this.outgoing[O].cb=="function"&&(this.outgoing[O].cb(new Error("Connection closed")),delete this.outgoing[O])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach((O)=>{typeof this.outgoing[O].cb=="function"&&(this.outgoing[O].cb(new Error("Connection closed")),delete this.outgoing[O])}))}_removeTopicAliasAndRecoverTopicName(O){let R;O.properties&&(R=O.properties.topicAlias);let S=O.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",R,S),S.length===0){if(typeof R>"u")return new Error("Unregistered Topic Alias");if(S=this.topicAliasSend.getTopicByAlias(R),typeof S>"u")return new Error("Unregistered Topic Alias");O.topic=S}R&&delete O.properties.topicAlias}_checkDisconnecting(O){return this.disconnecting&&(O&&O!==this.noop?O(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(O,R,S={}){if(R&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),this.log("_cleanUp :: forced? %s",O),O)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let c=Object.assign({cmd:"disconnect"},S);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(c,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),P(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),R&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())}_storeAndSend(O,R,S){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",O.cmd);let c=O,o;if(c.cmd==="publish"&&(c=Y.default(O),o=this._removeTopicAliasAndRecoverTopicName(c),o))return R&&R(o);this.outgoingStore.put(c,(i)=>{if(i)return R&&R(i);S(),this._writePacket(O,R)})}_applyTopicAlias(O){if(this.options.protocolVersion===5&&O.cmd==="publish"){let R;O.properties&&(R=O.properties.topicAlias);let S=O.topic.toString();if(this.topicAliasSend)if(R){if(S.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",S,R),!this.topicAliasSend.put(S,R)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",S,R),new Error("Sending Topic Alias out of range")}else S.length!==0&&(this.options.autoAssignTopicAlias?(R=this.topicAliasSend.getAliasByTopic(S),R?(O.topic="",O.properties=Object.assign(Object.assign({},O.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",S,R)):(R=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(S,R),O.properties=Object.assign(Object.assign({},O.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",S,R))):this.options.autoUseTopicAlias&&(R=this.topicAliasSend.getAliasByTopic(S),R&&(O.topic="",O.properties=Object.assign(Object.assign({},O.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",S,R))));else if(R)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",S,R),new Error("Sending Topic Alias out of range")}}_noop(O){this.log("noop ::",O)}_writePacket(O,R){this.log("_writePacket :: packet: %O",O),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",O),this.log("_writePacket :: writing to stream");let S=Z.default.writeToStream(O,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",S),!S&&R&&R!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",R)):R&&(this.log("_writePacket :: invoking cb"),R())}_sendPacket(O,R,S,c){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),S=S||this.noop,R=R||this.noop;let o=this._applyTopicAlias(O);if(o){R(o);return}if(!this.connected){if(O.cmd==="auth"){this._writePacket(O,R);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(O,R,S);return}if(c){this._writePacket(O,R);return}switch(O.cmd){case"publish":break;case"pubrel":this._storeAndSend(O,R,S);return;default:this._writePacket(O,R);return}switch(O.qos){case 2:case 1:this._storeAndSend(O,R,S);break;case 0:default:this._writePacket(O,R);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(O,R,S){this.log("_storePacket :: packet: %o",O),this.log("_storePacket :: cb? %s",!!R),S=S||this.noop;let c=O;if(c.cmd==="publish"){c=Y.default(O);let i=this._removeTopicAliasAndRecoverTopicName(c);if(i)return R&&R(i)}let o=c.qos||0;o===0&&this.queueQoSZero||c.cmd!=="publish"?this.queue.push({packet:c,cb:R}):o>0?(R=this.outgoing[c.messageId]?this.outgoing[c.messageId].cb:null,this.outgoingStore.put(c,(i)=>{if(i)return R&&R(i);S()})):R&&R(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new W.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(O=!1){this.keepaliveManager&&this.options.keepalive&&(O||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let O=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&O.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let R=0;R<O.length;R++){let S={};S[O[R]]=this._resubscribeTopics[O[R]],S.resubscribe=!0,this.subscribe(S,{properties:S[O[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(O){if(this.disconnected){this.emit("connect",O);return}this.connackPacket=O,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let R=()=>{let S=this.outgoingStore.createStream(),c=()=>{S.destroy(),S=null,this._flushStoreProcessingQueue(),o()},o=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",c),S.on("error",(I)=>{o(),this._flushStoreProcessingQueue(),this.removeListener("close",c),this.emit("error",I)});let i=()=>{if(!S)return;let I=S.read(1),g;if(!I){S.once("readable",i);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[I.messageId]){i();return}!this.disconnecting&&!this.reconnectTimer?(g=this.outgoing[I.messageId]?this.outgoing[I.messageId].cb:null,this.outgoing[I.messageId]={volatile:!1,cb(s,h){g&&g(s,h),i()}},this._packetIdsDuringStoreProcessing[I.messageId]=!0,this.messageIdProvider.register(I.messageId)?this._sendPacket(I,void 0,void 0,!0):this.log("messageId: %d has already used.",I.messageId)):S.destroy&&S.destroy()};S.on("end",()=>{let I=!0;for(let g in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[g]){I=!1;break}this.removeListener("close",c),I?(o(),this._invokeAllStoreProcessingQueue(),this.emit("connect",O)):R()}),i()};R()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let O=this._storeProcessingQueue[0];if(O&&O.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let O of this._storeProcessingQueue)O.cbStorePut&&O.cbStorePut(new Error("Connection closed")),O.callback&&O.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(O,R){delete this.outgoing[O],this.outgoingStore.del({messageId:O},(S,c)=>{R(S,c),this.messageIdProvider.deallocate(O),this._invokeStoreProcessingQueue()})}};T.VERSION=D.MQTTJS_VERSION,x.default=T}),q0=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=n2(),k=class{constructor(){this.numberAllocator=new J.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(X){return this.numberAllocator.use(X)}deallocate(X){this.numberAllocator.free(X)}clear(){this.numberAllocator.clear()}};x.default=k}),w4,E4,i2,r2,f1,t8,v6,_6,A6,S6,V8,J0=E1(()=>{Z1(),q1(),G1(),w4=/^xn--/,E4=/[^\0-\x7E]/,i2=/[\x2E\u3002\uFF0E\uFF61]/g,r2={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f1=Math.floor,t8=String.fromCharCode,v6=function(x,J){return x+22+75*(x<26)-((J!=0)<<5)},_6=function(x,J,k){let X=0;for(x=k?f1(x/700):x>>1,x+=f1(x/J);x>455;X+=36)x=f1(x/35);return f1(X+36*x/(x+38))},A6=function(x){let J=[],k=x.length,X=0,H=128,q=72,Z=x.lastIndexOf("-");Z<0&&(Z=0);for(let G=0;G<Z;++G)x.charCodeAt(G)>=128&&M8("not-basic"),J.push(x.charCodeAt(G));for(let G=Z>0?Z+1:0;G<k;){let Y=X;for(let K=1,Q=36;;Q+=36){G>=k&&M8("invalid-input");let L=(U=x.charCodeAt(G++))-48<10?U-22:U-65<26?U-65:U-97<26?U-97:36;(L>=36||L>f1((2147483647-X)/K))&&M8("overflow"),X+=L*K;let D=Q<=q?1:Q>=q+26?26:Q-q;if(L<D)break;let V=36-D;K>f1(2147483647/V)&&M8("overflow"),K*=V}let $=J.length+1;q=_6(X-Y,$,Y==0),f1(X/$)>2147483647-H&&M8("overflow"),H+=f1(X/$),X%=$,J.splice(X++,0,H)}var U;return String.fromCodePoint(...J)},S6=function(x){let J=[],k=(x=S4(x)).length,X=128,H=0,q=72;for(let G of x)G<128&&J.push(t8(G));let Z=J.length,U=Z;for(Z&&J.push("-");U<k;){let G=2147483647;for(let $ of x)$>=X&&$<G&&(G=$);let Y=U+1;G-X>f1((2147483647-H)/Y)&&M8("overflow"),H+=(G-X)*Y,X=G;for(let $ of x)if($<X&&++H>2147483647&&M8("overflow"),$==X){let K=H;for(let Q=36;;Q+=36){let L=Q<=q?1:Q>=q+26?26:Q-q;if(K<L)break;let D=K-L,V=36-L;J.push(t8(v6(L+D%V,0))),K=f1(D/V)}J.push(t8(v6(K,0))),q=_6(H,Y,U==Z),H=0,++U}++H,++X}return J.join("")},V8={version:"2.1.0",ucs2:{decode:S4,encode:(x)=>String.fromCodePoint(...x)},decode:A6,encode:S6,toASCII:function(x){return A4(x,function(J){return E4.test(J)?"xn--"+S6(J):J})},toUnicode:function(x){return A4(x,function(J){return w4.test(J)?A6(J.slice(4).toLowerCase()):J})}},V8.decode,V8.encode,V8.toASCII,V8.toUnicode,V8.ucs2,V8.version}),p4,p8,y4,r1,Y0=E1(()=>{Z1(),q1(),G1(),p4=function(x,J,k,X){J=J||"&",k=k||"=";var H={};if(typeof x!="string"||x.length===0)return H;var q=/\+/g;x=x.split(J);var Z=1000;X&&typeof X.maxKeys=="number"&&(Z=X.maxKeys);var U=x.length;Z>0&&U>Z&&(U=Z);for(var G=0;G<U;++G){var Y,$,K,Q,L=x[G].replace(q,"%20"),D=L.indexOf(k);D>=0?(Y=L.substr(0,D),$=L.substr(D+1)):(Y=L,$=""),K=decodeURIComponent(Y),Q=decodeURIComponent($),U0(H,K)?Array.isArray(H[K])?H[K].push(Q):H[K]=[H[K],Q]:H[K]=Q}return H},p8=function(x){switch(typeof x){case"string":return x;case"boolean":return x?"true":"false";case"number":return isFinite(x)?x:"";default:return""}},y4=function(x,J,k,X){return J=J||"&",k=k||"=",x===null&&(x=void 0),typeof x=="object"?Object.keys(x).map(function(H){var q=encodeURIComponent(p8(H))+k;return Array.isArray(x[H])?x[H].map(function(Z){return q+encodeURIComponent(p8(Z))}).join(J):q+encodeURIComponent(p8(x[H]))}).join(J):X?encodeURIComponent(p8(X))+k+encodeURIComponent(p8(x)):""},r1={},r1.decode=r1.parse=p4,r1.encode=r1.stringify=y4,r1.decode,r1.encode,r1.parse,r1.stringify}),d4,q8,J8,v8,A1,R8,e1,_8,i8,_1,z0=E1(()=>{Z1(),q1(),G1(),v8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,A1=d4={},function(){try{q8=typeof setTimeout=="function"?setTimeout:u5}catch{q8=u5}try{J8=typeof clearTimeout=="function"?clearTimeout:n5}catch{J8=n5}}(),e1=[],_8=!1,i8=-1,A1.nextTick=function(x){var J=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)J[k-1]=arguments[k];e1.push(new b4(x,J)),e1.length!==1||_8||t2(e2)},b4.prototype.run=function(){(this||v8).fun.apply(null,(this||v8).array)},A1.title="browser",A1.browser=!0,A1.env={},A1.argv=[],A1.version="",A1.versions={},A1.on=k8,A1.addListener=k8,A1.once=k8,A1.off=k8,A1.removeListener=k8,A1.removeAllListeners=k8,A1.emit=k8,A1.prependListener=k8,A1.prependOnceListener=k8,A1.listeners=function(x){return[]},A1.binding=function(x){throw new Error("process.binding is not supported")},A1.cwd=function(){return"/"},A1.chdir=function(x){throw new Error("process.chdir is not supported")},A1.umask=function(){return 0},_1=d4,_1.addListener,_1.argv,_1.binding,_1.browser,_1.chdir,_1.cwd,_1.emit,_1.env,_1.listeners,_1.nextTick,_1.off,_1.on,_1.once,_1.prependListener,_1.prependOnceListener,_1.removeAllListeners,_1.removeListener,_1.title,_1.umask,_1.version,_1.versions}),U6,s5,m8,R1,x9=E1(()=>{Z1(),q1(),G1(),U6={},s5=!1,m8=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,R1=H0(),R1.platform="browser",R1.addListener,R1.argv,R1.binding,R1.browser,R1.chdir,R1.cwd,R1.emit,R1.env,R1.listeners,R1.nextTick,R1.off,R1.on,R1.once,R1.prependListener,R1.prependOnceListener,R1.removeAllListeners,R1.removeListener,R1.title,R1.umask,R1.version,R1.versions}),Y6,i5,r5,B0=E1(()=>{Z1(),q1(),G1(),x9(),Y6={},i5=!1,r5=$0()}),k9={};A8(k9,{URL:()=>W9,Url:()=>K9,default:()=>M1,fileURLToPath:()=>Z9,format:()=>Q9,parse:()=>D9,pathToFileURL:()=>G9,resolve:()=>V9,resolveObject:()=>L9});var M1,g4,n1,c4,h4,l4,a4,e8,w6,E6,p6,o4,f4,x6,O8,k6,X6,t5,e5,u4,q9,J9,U9,Y9,B6,X9,z9,H9,$9,B9,F9,n4,K9,Q9,V9,L9,D9,W9,j9,N9,P9,M9,F6,O9,m9,C9,T9,R9,I9,j0=E1(()=>{Z1(),q1(),G1(),J0(),Y0(),z0(),B0(),x9(),M1={},g4=V8,n1={isString:function(x){return typeof x=="string"},isObject:function(x){return typeof x=="object"&&x!==null},isNull:function(x){return x===null},isNullOrUndefined:function(x){return x==null}},M1.parse=f8,M1.resolve=function(x,J){return f8(x,!1,!0).resolve(J)},M1.resolveObject=function(x,J){return x?f8(x,!1,!0).resolveObject(J):J},M1.format=function(x){return n1.isString(x)&&(x=f8(x)),x instanceof l1?x.format():l1.prototype.format.call(x)},M1.Url=l1,c4=/^([a-z0-9.+-]+:)/i,h4=/:[0-9]*$/,l4=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a4=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),e8=["'"].concat(a4),w6=["%","/","?",";","#"].concat(e8),E6=["/","?","#"],p6=/^[+a-z0-9A-Z_-]{0,63}$/,o4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f4={javascript:!0,"javascript:":!0},x6={javascript:!0,"javascript:":!0},O8={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k6=r1,l1.prototype.parse=function(x,J,k){if(!n1.isString(x))throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var X=x.indexOf("?"),H=X!==-1&&X<x.indexOf("#")?"?":"#",q=x.split(H);q[0]=q[0].replace(/\\/g,"/");var Z=x=q.join(H);if(Z=Z.trim(),!k&&x.split("#").length===1){var U=l4.exec(Z);if(U)return this.path=Z,this.href=Z,this.pathname=U[1],U[2]?(this.search=U[2],this.query=J?k6.parse(this.search.substr(1)):this.search.substr(1)):J&&(this.search="",this.query={}),this}var G=c4.exec(Z);if(G){var Y=(G=G[0]).toLowerCase();this.protocol=Y,Z=Z.substr(G.length)}if(k||G||Z.match(/^\/\/[^@\/]+@[^@\/]+/)){var $=Z.substr(0,2)==="//";!$||G&&x6[G]||(Z=Z.substr(2),this.slashes=!0)}if(!x6[G]&&($||G&&!O8[G])){for(var K,Q,L=-1,D=0;D<E6.length;D++)(V=Z.indexOf(E6[D]))!==-1&&(L===-1||V<L)&&(L=V);for((Q=L===-1?Z.lastIndexOf("@"):Z.lastIndexOf("@",L))!==-1&&(K=Z.slice(0,Q),Z=Z.slice(Q+1),this.auth=decodeURIComponent(K)),L=-1,D=0;D<w6.length;D++){var V;(V=Z.indexOf(w6[D]))!==-1&&(L===-1||V<L)&&(L=V)}L===-1&&(L=Z.length),this.host=Z.slice(0,L),Z=Z.slice(L),this.parseHost(),this.hostname=this.hostname||"";var W=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!W)for(var N=this.hostname.split(/\./),P=(D=0,N.length);D<P;D++){var j=N[D];if(j&&!j.match(p6)){for(var T="",w=0,O=j.length;w<O;w++)j.charCodeAt(w)>127?T+="x":T+=j[w];if(!T.match(p6)){var R=N.slice(0,D),S=N.slice(D+1),c=j.match(o4);c&&(R.push(c[1]),S.unshift(c[2])),S.length&&(Z="/"+S.join(".")+Z),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),W||(this.hostname=g4.toASCII(this.hostname));var o=this.port?":"+this.port:"",i=this.hostname||"";this.host=i+o,this.href+=this.host,W&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Z[0]!=="/"&&(Z="/"+Z))}if(!f4[Y])for(D=0,P=e8.length;D<P;D++){var I=e8[D];if(Z.indexOf(I)!==-1){var g=encodeURIComponent(I);g===I&&(g=escape(I)),Z=Z.split(I).join(g)}}var s=Z.indexOf("#");s!==-1&&(this.hash=Z.substr(s),Z=Z.slice(0,s));var h=Z.indexOf("?");if(h!==-1?(this.search=Z.substr(h),this.query=Z.substr(h+1),J&&(this.query=k6.parse(this.query)),Z=Z.slice(0,h)):J&&(this.search="",this.query={}),Z&&(this.pathname=Z),O8[Y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){o=this.pathname||"";var U1=this.search||"";this.path=o+U1}return this.href=this.format(),this},l1.prototype.format=function(){var x=this.auth||"";x&&(x=(x=encodeURIComponent(x)).replace(/%3A/i,":"),x+="@");var J=this.protocol||"",k=this.pathname||"",X=this.hash||"",H=!1,q="";this.host?H=x+this.host:this.hostname&&(H=x+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&n1.isObject(this.query)&&Object.keys(this.query).length&&(q=k6.stringify(this.query));var Z=this.search||q&&"?"+q||"";return J&&J.substr(-1)!==":"&&(J+=":"),this.slashes||(!J||O8[J])&&H!==!1?(H="//"+(H||""),k&&k.charAt(0)!=="/"&&(k="/"+k)):H||(H=""),X&&X.charAt(0)!=="#"&&(X="#"+X),Z&&Z.charAt(0)!=="?"&&(Z="?"+Z),J+H+(k=k.replace(/[?#]/g,function(U){return encodeURIComponent(U)}))+(Z=Z.replace("#","%23"))+X},l1.prototype.resolve=function(x){return this.resolveObject(f8(x,!1,!0)).format()},l1.prototype.resolveObject=function(x){if(n1.isString(x)){var J=new l1;J.parse(x,!1,!0),x=J}for(var k=new l1,X=Object.keys(this),H=0;H<X.length;H++){var q=X[H];k[q]=this[q]}if(k.hash=x.hash,x.href==="")return k.href=k.format(),k;if(x.slashes&&!x.protocol){for(var Z=Object.keys(x),U=0;U<Z.length;U++){var G=Z[U];G!=="protocol"&&(k[G]=x[G])}return O8[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/"),k.href=k.format(),k}if(x.protocol&&x.protocol!==k.protocol){if(!O8[x.protocol]){for(var Y=Object.keys(x),$=0;$<Y.length;$++){var K=Y[$];k[K]=x[K]}return k.href=k.format(),k}if(k.protocol=x.protocol,x.host||x6[x.protocol])k.pathname=x.pathname;else{for(var Q=(x.pathname||"").split("/");Q.length&&!(x.host=Q.shift()););x.host||(x.host=""),x.hostname||(x.hostname=""),Q[0]!==""&&Q.unshift(""),Q.length<2&&Q.unshift(""),k.pathname=Q.join("/")}if(k.search=x.search,k.query=x.query,k.host=x.host||"",k.auth=x.auth,k.hostname=x.hostname||x.host,k.port=x.port,k.pathname||k.search){var L=k.pathname||"",D=k.search||"";k.path=L+D}return k.slashes=k.slashes||x.slashes,k.href=k.format(),k}var V=k.pathname&&k.pathname.charAt(0)==="/",W=x.host||x.pathname&&x.pathname.charAt(0)==="/",N=W||V||k.host&&x.pathname,P=N,j=k.pathname&&k.pathname.split("/")||[],T=(Q=x.pathname&&x.pathname.split("/")||[],k.protocol&&!O8[k.protocol]);if(T&&(k.hostname="",k.port=null,k.host&&(j[0]===""?j[0]=k.host:j.unshift(k.host)),k.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(Q[0]===""?Q[0]=x.host:Q.unshift(x.host)),x.host=null),N=N&&(Q[0]===""||j[0]==="")),W)k.host=x.host||x.host===""?x.host:k.host,k.hostname=x.hostname||x.hostname===""?x.hostname:k.hostname,k.search=x.search,k.query=x.query,j=Q;else if(Q.length)j||(j=[]),j.pop(),j=j.concat(Q),k.search=x.search,k.query=x.query;else if(!n1.isNullOrUndefined(x.search))return T&&(k.hostname=k.host=j.shift(),(c=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=c.shift(),k.host=k.hostname=c.shift())),k.search=x.search,k.query=x.query,n1.isNull(k.pathname)&&n1.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!j.length)return k.pathname=null,k.search?k.path="/"+k.search:k.path=null,k.href=k.format(),k;for(var w=j.slice(-1)[0],O=(k.host||x.host||j.length>1)&&(w==="."||w==="..")||w==="",R=0,S=j.length;S>=0;S--)(w=j[S])==="."?j.splice(S,1):w===".."?(j.splice(S,1),R++):R&&(j.splice(S,1),R--);if(!N&&!P)for(;R--;R)j.unshift("..");!N||j[0]===""||j[0]&&j[0].charAt(0)==="/"||j.unshift(""),O&&j.join("/").substr(-1)!=="/"&&j.push("");var c,o=j[0]===""||j[0]&&j[0].charAt(0)==="/";return T&&(k.hostname=k.host=o?"":j.length?j.shift():"",(c=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=c.shift(),k.host=k.hostname=c.shift())),(N=N||k.host&&j.length)&&!o&&j.unshift(""),j.length?k.pathname=j.join("/"):(k.pathname=null,k.path=null),n1.isNull(k.pathname)&&n1.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.auth=x.auth||k.auth,k.slashes=k.slashes||x.slashes,k.href=k.format(),k},l1.prototype.parseHost=function(){var x=this.host,J=h4.exec(x);J&&((J=J[0])!==":"&&(this.port=J.substr(1)),x=x.substr(0,x.length-J.length)),x&&(this.hostname=x)},M1.Url,M1.format,M1.resolve,M1.resolveObject,X6={},t5=!1,e5=F0(),u4=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,M1.URL=typeof URL<"u"?URL:null,M1.pathToFileURL=L0,M1.fileURLToPath=K0,M1.Url,M1.format,M1.resolve,M1.resolveObject,M1.URL,q9=92,J9=47,U9=97,Y9=122,B6=u4==="win32",X9=/\//g,z9=/%/g,H9=/\\/g,$9=/\n/g,B9=/\r/g,F9=/\t/g,n4=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,M1.URL=typeof URL<"u"?URL:null,M1.pathToFileURL=G9,M1.fileURLToPath=Z9,K9=M1.Url,Q9=M1.format,V9=M1.resolve,L9=M1.resolveObject,D9=M1.parse,W9=M1.URL,j9=92,N9=47,P9=97,M9=122,F6=n4==="win32",O9=/\//g,m9=/%/g,C9=/\\/g,T9=/\n/g,R9=/\r/g,I9=/\t/g}),N0=$1((x,J)=>{Z1(),q1(),G1(),J.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),H4=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0}),x.BufferedDuplex=x.writev=void 0;var J=E8(),k=(y1(),C1(p1));function X(q,Z){let U=new Array(q.length);for(let G=0;G<q.length;G++)typeof q[G].chunk=="string"?U[G]=k.Buffer.from(q[G].chunk,"utf8"):U[G]=q[G].chunk;this._write(k.Buffer.concat(U),"binary",Z)}x.writev=X;var H=class extends J.Duplex{constructor(q,Z,U){super({objectMode:!0}),this.proxy=Z,this.socket=U,this.writeQueue=[],q.objectMode||(this._writev=X.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",(G)=>{this.destroyed||this.push(G)})}_read(q){this.proxy.read(q)}_write(q,Z,U){this.isSocketOpen?this.writeToProxy(q,Z,U):this.writeQueue.push({chunk:q,encoding:Z,cb:U})}_final(q){this.writeQueue=[],this.proxy.end(q)}_destroy(q,Z){this.writeQueue=[],this.proxy.destroy(),Z(q)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(q,Z,U){this.proxy.write(q,Z)===!1?this.proxy.once("drain",U):U()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:q,encoding:Z,cb:U}=this.writeQueue.shift();this.writeToProxy(q,Z,U)}}};x.BufferedDuplex=H}),Z6=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(x,"__esModule",{value:!0}),x.streamBuilder=x.browserStreamBuilder=void 0;var k=(y1(),C1(p1)),X=J(N0()),H=J($8()),q=E8(),Z=J(W6()),U=H4(),G=H.default("mqttjs:ws"),Y=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function $(N,P){let j=`${N.protocol}://${N.hostname}:${N.port}${N.path}`;return typeof N.transformWsUrl=="function"&&(j=N.transformWsUrl(j,N,P)),j}function K(N){let P=N;return N.port||(N.protocol==="wss"?P.port=443:P.port=80),N.path||(P.path="/"),N.wsOptions||(P.wsOptions={}),!Z.default&&!N.forceNativeWebSocket&&N.protocol==="wss"&&Y.forEach((j)=>{Object.prototype.hasOwnProperty.call(N,j)&&!Object.prototype.hasOwnProperty.call(N.wsOptions,j)&&(P.wsOptions[j]=N[j])}),P}function Q(N){let P=K(N);if(P.hostname||(P.hostname=P.host),!P.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let j=new URL(document.URL);P.hostname=j.hostname,P.port||(P.port=Number(j.port))}return P.objectMode===void 0&&(P.objectMode=!(P.binary===!0||P.binary===void 0)),P}function L(N,P,j){G("createWebSocket"),G(`protocol: ${j.protocolId} ${j.protocolVersion}`);let T=j.protocolId==="MQIsdp"&&j.protocolVersion===3?"mqttv3.1":"mqtt";G(`creating new Websocket for url: ${P} and protocol: ${T}`);let w;return j.createWebsocket?w=j.createWebsocket(P,[T],j):w=new X.default(P,[T],j.wsOptions),w}function D(N,P){let j=P.protocolId==="MQIsdp"&&P.protocolVersion===3?"mqttv3.1":"mqtt",T=$(P,N),w;return P.createWebsocket?w=P.createWebsocket(T,[j],P):w=new WebSocket(T,[j]),w.binaryType="arraybuffer",w}var V=(N,P)=>{G("streamBuilder");let j=K(P);j.hostname=j.hostname||j.host||"localhost";let T=$(j,N),w=L(N,T,j),O=X.default.createWebSocketStream(w,j.wsOptions);return O.url=T,w.on("close",()=>{O.destroy()}),O};x.streamBuilder=V;var W=(N,P)=>{G("browserStreamBuilder");let j,T=Q(P).browserBufferSize||524288,w=P.browserBufferTimeout||1000,O=!P.objectMode,R=D(N,P),S=o(P,h,U1);P.objectMode||(S._writev=U.writev.bind(S)),S.on("close",()=>{R.close()});let c=typeof R.addEventListener<"u";R.readyState===R.OPEN?(j=S,j.socket=R):(j=new U.BufferedDuplex(P,S,R),c?R.addEventListener("open",i):R.onopen=i),c?(R.addEventListener("close",I),R.addEventListener("error",g),R.addEventListener("message",s)):(R.onclose=I,R.onerror=g,R.onmessage=s);function o(k1,d,B1){let e=new q.Transform({objectMode:k1.objectMode});return e._write=d,e._flush=B1,e}function i(){G("WebSocket onOpen"),j instanceof U.BufferedDuplex&&j.socketReady()}function I(k1){G("WebSocket onClose",k1),j.end(),j.destroy()}function g(k1){G("WebSocket onError",k1);let d=new Error("WebSocket error");d.event=k1,j.destroy(d)}async function s(k1){let{data:d}=k1;d instanceof ArrayBuffer?d=k.Buffer.from(d):d instanceof Blob?d=k.Buffer.from(await new Response(d).arrayBuffer()):d=k.Buffer.from(d,"utf8"),S&&!S.destroyed&&S.push(d)}function h(k1,d,B1){if(R.bufferedAmount>T){setTimeout(h,w,k1,d,B1);return}O&&typeof k1=="string"&&(k1=k.Buffer.from(k1,"utf8"));try{R.send(k1)}catch(e){return B1(e)}B1()}function U1(k1){R.close(),k1()}return j};x.browserStreamBuilder=W}),$4={};A8($4,{Server:()=>I1,Socket:()=>I1,Stream:()=>I1,_createServerHandle:()=>I1,_normalizeArgs:()=>I1,_setSimultaneousAccepts:()=>I1,connect:()=>I1,createConnection:()=>I1,createServer:()=>I1,default:()=>v9,isIP:()=>I1,isIPv4:()=>I1,isIPv6:()=>I1});var v9,_9=E1(()=>{Z1(),q1(),G1(),v9={_createServerHandle:I1,_normalizeArgs:I1,_setSimultaneousAccepts:I1,connect:I1,createConnection:I1,createServer:I1,isIP:I1,isIPv4:I1,isIPv6:I1,Server:I1,Socket:I1,Stream:I1}}),s4=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(x,"__esModule",{value:!0});var k=J((_9(),C1($4))),X=J($8()),H=X.default("mqttjs:tcp"),q=(Z,U)=>{U.port=U.port||1883,U.hostname=U.hostname||U.host||"localhost";let{port:G,path:Y}=U,$=U.hostname;return H("port %d and host %s",G,$),k.default.createConnection({port:G,host:$,path:Y})};x.default=q}),A9={};A8(A9,{default:()=>S9});var S9,P0=E1(()=>{Z1(),q1(),G1(),S9={}}),i4=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(x,"__esModule",{value:!0});var k=J((P0(),C1(A9))),X=J((_9(),C1($4))),H=J($8()),q=H.default("mqttjs:tls"),Z=(U,G)=>{G.port=G.port||8883,G.host=G.hostname||G.host||"localhost",X.default.isIP(G.host)===0&&(G.servername=G.host),G.rejectUnauthorized=G.rejectUnauthorized!==!1,delete G.path,q("port %d host %s rejectUnauthorized %b",G.port,G.host,G.rejectUnauthorized);let Y=k.default.connect(G);Y.on("secureConnect",()=>{G.rejectUnauthorized&&!Y.authorized?Y.emit("error",new Error("TLS not authorized")):Y.removeListener("error",$)});function $(K){G.rejectUnauthorized&&U.emit("error",K),Y.end()}return Y.on("error",$),Y};x.default=Z}),r4=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=(y1(),C1(p1)),k=E8(),X=H4(),H,q,Z;function U(){let Q=new k.Transform;return Q._write=(L,D,V)=>{H.send({data:L.buffer,success(){V()},fail(W){V(new Error(W))}})},Q._flush=(L)=>{H.close({success(){L()}})},Q}function G(Q){Q.hostname||(Q.hostname="localhost"),Q.path||(Q.path="/"),Q.wsOptions||(Q.wsOptions={})}function Y(Q,L){let D=Q.protocol==="wxs"?"wss":"ws",V=`${D}://${Q.hostname}${Q.path}`;return Q.port&&Q.port!==80&&Q.port!==443&&(V=`${D}://${Q.hostname}:${Q.port}${Q.path}`),typeof Q.transformWsUrl=="function"&&(V=Q.transformWsUrl(V,Q,L)),V}function $(){H.onOpen(()=>{Z.socketReady()}),H.onMessage((Q)=>{let{data:L}=Q;L instanceof ArrayBuffer?L=J.Buffer.from(L):L=J.Buffer.from(L,"utf8"),q.push(L)}),H.onClose(()=>{Z.emit("close"),Z.end(),Z.destroy()}),H.onError((Q)=>{let L=new Error(Q.errMsg);Z.destroy(L)})}var K=(Q,L)=>{if(L.hostname=L.hostname||L.host,!L.hostname)throw new Error("Could not determine host. Specify host manually.");let D=L.protocolId==="MQIsdp"&&L.protocolVersion===3?"mqttv3.1":"mqtt";G(L);let V=Y(L,Q);H=wx.connectSocket({url:V,protocols:[D]}),q=U(),Z=new X.BufferedDuplex(L,q,H),Z._destroy=(N,P)=>{H.close({success(){P&&P(N)}})};let W=Z.destroy;return Z.destroy=(N,P)=>(Z.destroy=W,setTimeout(()=>{H.close({fail(){Z._destroy(N,P)}})},0),Z),$(),Z};x.default=K}),t4=$1((x)=>{Z1(),q1(),G1(),Object.defineProperty(x,"__esModule",{value:!0});var J=(y1(),C1(p1)),k=E8(),X=H4(),H,q,Z,U=!1;function G(){let L=new k.Transform;return L._write=(D,V,W)=>{H.sendSocketMessage({data:D.buffer,success(){W()},fail(){W(new Error)}})},L._flush=(D)=>{H.closeSocket({success(){D()}})},L}function Y(L){L.hostname||(L.hostname="localhost"),L.path||(L.path="/"),L.wsOptions||(L.wsOptions={})}function $(L,D){let V=L.protocol==="alis"?"wss":"ws",W=`${V}://${L.hostname}${L.path}`;return L.port&&L.port!==80&&L.port!==443&&(W=`${V}://${L.hostname}:${L.port}${L.path}`),typeof L.transformWsUrl=="function"&&(W=L.transformWsUrl(W,L,D)),W}function K(){U||(U=!0,H.onSocketOpen(()=>{Z.socketReady()}),H.onSocketMessage((L)=>{if(typeof L.data=="string"){let D=J.Buffer.from(L.data,"base64");q.push(D)}else{let D=new FileReader;D.addEventListener("load",()=>{let V=D.result;V instanceof ArrayBuffer?V=J.Buffer.from(V):V=J.Buffer.from(V,"utf8"),q.push(V)}),D.readAsArrayBuffer(L.data)}}),H.onSocketClose(()=>{Z.end(),Z.destroy()}),H.onSocketError((L)=>{Z.destroy(L)}))}var Q=(L,D)=>{if(D.hostname=D.hostname||D.host,!D.hostname)throw new Error("Could not determine host. Specify host manually.");let V=D.protocolId==="MQIsdp"&&D.protocolVersion===3?"mqttv3.1":"mqtt";Y(D);let W=$(D,L);return H=D.my,H.connectSocket({url:W,protocols:V}),q=G(),Z=new X.BufferedDuplex(D,q,H),K(),Z};x.default=Q}),M0=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(x,"__esModule",{value:!0}),x.connectAsync=void 0;var k=J($8()),X=J((j0(),C1(k9))),H=J(f5()),q=J(W6());typeof(N1===null||N1===void 0?void 0:N1.nextTick)!="function"&&(N1.nextTick=setImmediate);var Z=k.default("mqttjs"),U=null;function G(K){let Q;K.auth&&(Q=K.auth.match(/^(.+):(.+)$/),Q?(K.username=Q[1],K.password=Q[2]):K.username=K.auth)}function Y(K,Q){var L,D,V,W;if(Z("connecting to an MQTT broker..."),typeof K=="object"&&!Q&&(Q=K,K=""),Q=Q||{},K&&typeof K=="string"){let j=X.default.parse(K,!0),T={};if(j.port!=null&&(T.port=Number(j.port)),T.host=j.hostname,T.query=j.query,T.auth=j.auth,T.protocol=j.protocol,T.path=j.path,T.protocol=(L=T.protocol)===null||L===void 0?void 0:L.replace(/:$/,""),Q=Object.assign(Object.assign({},T),Q),!Q.protocol)throw new Error("Missing protocol")}if(Q.unixSocket=Q.unixSocket||((D=Q.protocol)===null||D===void 0?void 0:D.includes("+unix")),Q.unixSocket?Q.protocol=Q.protocol.replace("+unix",""):!(!((V=Q.protocol)===null||V===void 0)&&V.startsWith("ws"))&&!(!((W=Q.protocol)===null||W===void 0)&&W.startsWith("wx"))&&delete Q.path,G(Q),Q.query&&typeof Q.query.clientId=="string"&&(Q.clientId=Q.query.clientId),Q.cert&&Q.key)if(Q.protocol){if(["mqtts","wss","wxs","alis"].indexOf(Q.protocol)===-1)switch(Q.protocol){case"mqtt":Q.protocol="mqtts";break;case"ws":Q.protocol="wss";break;case"wx":Q.protocol="wxs";break;case"ali":Q.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${Q.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(U||(U={},!q.default&&!Q.forceNativeWebSocket?(U.ws=Z6().streamBuilder,U.wss=Z6().streamBuilder,U.mqtt=s4().default,U.tcp=s4().default,U.ssl=i4().default,U.tls=U.ssl,U.mqtts=i4().default):(U.ws=Z6().browserStreamBuilder,U.wss=Z6().browserStreamBuilder,U.wx=r4().default,U.wxs=r4().default,U.ali=t4().default,U.alis=t4().default)),!U[Q.protocol]){let j=["mqtts","wss"].indexOf(Q.protocol)!==-1;Q.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((T,w)=>j&&w%2===0?!1:typeof U[T]=="function")[0]}if(Q.clean===!1&&!Q.clientId)throw new Error("Missing clientId for unclean clients");Q.protocol&&(Q.defaultProtocol=Q.protocol);function N(j){return Q.servers&&((!j._reconnectCount||j._reconnectCount===Q.servers.length)&&(j._reconnectCount=0),Q.host=Q.servers[j._reconnectCount].host,Q.port=Q.servers[j._reconnectCount].port,Q.protocol=Q.servers[j._reconnectCount].protocol?Q.servers[j._reconnectCount].protocol:Q.defaultProtocol,Q.hostname=Q.host,j._reconnectCount++),Z("calling streambuilder for",Q.protocol),U[Q.protocol](j,Q)}let P=new H.default(N,Q);return P.on("error",()=>{}),P}function $(K,Q,L=!0){return new Promise((D,V)=>{let W=Y(K,Q),N={connect:(j)=>{P(),D(W)},end:()=>{P(),D(W)},error:(j)=>{P(),W.end(),V(j)}};L===!1&&(N.close=()=>{N.error(new Error("Couldn't connect to server"))});function P(){Object.keys(N).forEach((j)=>{W.off(j,N[j])})}Object.keys(N).forEach((j)=>{W.on(j,N[j])})})}x.connectAsync=$,x.default=Y}),e4=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__createBinding||(Object.create?function(L,D,V,W){W===void 0&&(W=V);var N=Object.getOwnPropertyDescriptor(D,V);(!N||("get"in N?!D.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return D[V]}}),Object.defineProperty(L,W,N)}:function(L,D,V,W){W===void 0&&(W=V),L[W]=D[V]}),k=x&&x.__setModuleDefault||(Object.create?function(L,D){Object.defineProperty(L,"default",{enumerable:!0,value:D})}:function(L,D){L.default=D}),X=x&&x.__importStar||function(L){if(L&&L.__esModule)return L;var D={};if(L!=null)for(var V in L)V!=="default"&&Object.prototype.hasOwnProperty.call(L,V)&&J(D,L,V);return k(D,L),D},H=x&&x.__exportStar||function(L,D){for(var V in L)V!=="default"&&!Object.prototype.hasOwnProperty.call(D,V)&&J(D,L,V)},q=x&&x.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(x,"__esModule",{value:!0}),x.ReasonCodes=x.KeepaliveManager=x.UniqueMessageIdProvider=x.DefaultMessageIdProvider=x.Store=x.MqttClient=x.connectAsync=x.connect=x.Client=void 0;var Z=q(f5());x.MqttClient=Z.default;var U=q(c2());x.DefaultMessageIdProvider=U.default;var G=q(q0());x.UniqueMessageIdProvider=G.default;var Y=q(h2());x.Store=Y.default;var $=X(M0());x.connect=$.default,Object.defineProperty(x,"connectAsync",{enumerable:!0,get:function(){return $.connectAsync}});var K=q(s2());x.KeepaliveManager=K.default,x.Client=Z.default,H(f5(),x),H(c8(),x);var Q=D6();Object.defineProperty(x,"ReasonCodes",{enumerable:!0,get:function(){return Q.ReasonCodes}})}),O0=$1((x)=>{Z1(),q1(),G1();var J=x&&x.__createBinding||(Object.create?function(Z,U,G,Y){Y===void 0&&(Y=G);var $=Object.getOwnPropertyDescriptor(U,G);(!$||("get"in $?!U.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return U[G]}}),Object.defineProperty(Z,Y,$)}:function(Z,U,G,Y){Y===void 0&&(Y=G),Z[Y]=U[G]}),k=x&&x.__setModuleDefault||(Object.create?function(Z,U){Object.defineProperty(Z,"default",{enumerable:!0,value:U})}:function(Z,U){Z.default=U}),X=x&&x.__importStar||function(Z){if(Z&&Z.__esModule)return Z;var U={};if(Z!=null)for(var G in Z)G!=="default"&&Object.prototype.hasOwnProperty.call(Z,G)&&J(U,Z,G);return k(U,Z),U},H=x&&x.__exportStar||function(Z,U){for(var G in Z)G!=="default"&&!Object.prototype.hasOwnProperty.call(U,G)&&J(U,Z,G)};Object.defineProperty(x,"__esModule",{value:!0});var q=X(e4());x.default=q,H(e4(),x)}),m0=O0();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/import{Text as a1}from"@blockcode/ui";var w9={en:{"extension.mqtt.name":"MQTT","extension.mqtt.connect":"connect to MQTT broker [URL]","extension.mqtt.whenConnected":"when connected to MQTT broker","extension.mqtt.isConnected":"connected to MQTT broker?","extension.mqtt.whenReceived":"when I receive from [TOPIC] topic","extension.mqtt.message":"last message from [TOPIC] topic","extension.mqtt.publish":"publish message [MESSAGE] to [TOPIC] topic","extension.mqtt.message.topic":"topic","extension.mqtt.message.content":"content","extension.mqtt.end":"disconnect"},"zh-Hans":{"extension.mqtt.name":"MQTT \u534F\u8BAE","extension.mqtt.connect":"\u8FDE\u63A5\u5230 MQTT \u670D\u52A1\u5668 [URL]","extension.mqtt.whenConnected":"\u5F53\u8FDE\u63A5\u5230 MQTT \u670D\u52A1\u5668","extension.mqtt.isConnected":"\u8FDE\u63A5\u5230 MQTT \u670D\u52A1\u5668\uFF1F","extension.mqtt.whenReceived":"\u5F53\u63A5\u6536\u5230\u6765\u81EA\u4E3B\u9898 [TOPIC] \u7684\u6D88\u606F","extension.mqtt.message":"\u4E3B\u9898 [TOPIC] \u6700\u540E\u7684\u6D88\u606F","extension.mqtt.publish":"\u5411\u4E3B\u9898 [TOPIC] \u53D1\u9001\u6D88\u606F [MESSAGE]","extension.mqtt.message.topic":"\u6807\u9898","extension.mqtt.message.content":"\u5185\u5BB9","extension.mqtt.end":"\u7ED3\u675F\u8FDE\u63A5"}};var E9="./assets/icon-7vdfrk6d.svg";var p9="./assets/mqtt-rhqm0jz8.py";import{jsx as o1}from"preact/jsx-runtime";var M3={iconURI:E9,name:o1(a1,{id:"extension.mqtt.name",defaultMessage:"MQTT"}),files:[{name:"mqtt",type:"text/x-python",uri:p9}],blocks:[{id:"connect",text:o1(a1,{id:"extension.mqtt.connect",defaultMessage:"connect to MQTT broker: [URL]"}),inputs:{URL:{type:"string",default:"ws://test.mosquitto.org:8081"}}},{id:"publish",text:o1(a1,{id:"extension.mqtt.publish",defaultMessage:"publish [MESSAGE] to [TOPIC]"}),inputs:{MESSAGE:{type:"string",default:o1(a1,{id:"extension.mqtt.message.content",defaultMessage:"message"})},TOPIC:{type:"string",default:o1(a1,{id:"extension.mqtt.message.topic",defaultMessage:"topic"})}}},{id:"whenReceived",hat:!0,text:o1(a1,{id:"extension.mqtt.whenReceived",defaultMessage:"when I receive [TOPIC]"}),inputs:{TOPIC:{type:"string",default:o1(a1,{id:"extension.mqtt.message.topic",defaultMessage:"topic"})}}},{id:"message",text:o1(a1,{id:"extension.mqtt.message",defaultMessage:"last message from [TOPIC]"}),inputs:{TOPIC:{type:"string",default:o1(a1,{id:"extension.mqtt.message.topic",defaultMessage:"topic"})}},output:"string"},"---",{id:"whenConnected",hat:!0,text:o1(a1,{id:"extension.mqtt.whenConnected",defaultMessage:"when connected to MQTT broker"})},{id:"isConnected",text:o1(a1,{id:"extension.mqtt.isConnected",defaultMessage:"connected to MQTT broker?"}),output:"boolean"},{id:"end",text:o1(a1,{id:"extension.mqtt.end",defaultMessage:"disconnect"})}],translations:w9};export{M3 as default};
