var J6=Object.defineProperty;var K6=(l,p)=>{for(var r in p)J6(l,r,{get:p[r],enumerable:!0,configurable:!0,set:(v)=>p[r]=()=>v})};var Wl=((l)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(l,{get:(p,r)=>(typeof require!=="undefined"?require:p)[r]}):l)(function(l){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+l+'" is not supported')});import{Text as P1}from"@blockcode/ui";import{Text as Oi}from"@blockcode/ui";import{Keys as Ze,useLayout as C9,useEditor as B9}from"@blockcode/core";import{Text as rn,MenuSection as O1,MenuItem as ys}from"@blockcode/ui";import{ScratchBlocks as A9}from"@blockcode/blocks-editor";import{jsx as Aa,jsxs as Ui,Fragment as o5}from"preact/jsx-runtime";function a5({itemClassName:l,onNew:p,onOpen:r,onSave:v,children:b}){const{createPrompt:x,setStoreLibrary:u}=C9(),{modified:k,saveNow:L,saveToComputer:y,openFromComputer:R}=B9(),Z=(M)=>{if(v)return v(M);return M},T=async()=>{let M,$;const q=A9.getMainWorkspace();if(q){const g=q.getCanvas();if(g)M=await Q9.svgAsDataUri(g,{})}return(g)=>{let w=new Set;const I={thumb:M,editor:{},...g,...Z(g)};if(I.assetList)I.assetList=I.assetList.filter((W)=>!W.id.startsWith("extensions/"));if(I.fileList)I.fileList=I.fileList.map(({content:W,script:E,extensions:D,...C})=>{return w=w.union(new Set(D)),C});return I.editor.extensions=Array.from(w),I}};return Ui(o5,{children:[Ui(O1,{children:[Aa(ys,{className:l,label:Aa(rn,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[Xi?Ze.COMMAND:Ze.CONTROL,Ze.N],onClick:()=>{if(k)x({title:Aa(rn,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:Aa(rn,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:p});else p()}}),Aa(ys,{className:l,label:Aa(rn,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[Xi?Ze.COMMAND:Ze.CONTROL,Ze.O],onClick:()=>u(!0)}),Aa(ys,{className:l,label:Aa(rn,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[Xi?Ze.COMMAND:Ze.CONTROL,Ze.S],onClick:async()=>L(await T())})]}),Ui(O1,{children:[Aa(ys,{className:l,label:Aa(rn,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>R(r)}),Aa(ys,{className:l,label:Aa(rn,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:async()=>y(await T())})]}),b]})}import{useEffect as e5,useState as gi}from"preact/hooks";import{Keys as je}from"@blockcode/core";import{Text as U1,MenuSection as n5,MenuItem as X1}from"@blockcode/ui";import{ScratchBlocks as s5}from"@blockcode/blocks-editor";import{jsx as $l,jsxs as g1,Fragment as l5}from"preact/jsx-runtime";function r5({itemClassName:l,children:p}){const[r,v]=gi(!0),[b,x]=gi(!0),[u,k]=gi(null),L=s5.getMainWorkspace();if(L){if(u?.id!==L.id)k(L)}return e5(()=>{if(u)u.addChangeListener(()=>{v(u.undoStack_.length===0),x(u.redoStack_.length===0)}),v(u.undoStack_.length===0),x(u.redoStack_.length===0)},[u]),g1(l5,{children:[g1(n5,{children:[$l(X1,{disabled:r,className:l,label:$l(U1,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[S1?je.COMMAND:je.CONTROL,je.Z],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!1)}}),$l(X1,{disabled:b,className:l,label:$l(U1,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:S1?[je.SHIFT,je.COMMAND,je.Z]:[je.CONTROL,je.Y],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!0)}})]}),p]})}import{useLayout as i5,useEditor as c5}from"@blockcode/core";import{Text as cn,Spinner as u5,MenuSection as m5,MenuItem as t5}from"@blockcode/ui";function ci(){return U0}import{Serial as y8,sleep as Er}from"@blockcode/core";function Wu(l){return l.replaceAll("\r\n","\n")}function ju(l){return l.slice(2,-3)}function q8(l,p){const r=`data:${l};base64,${p}`;return fetch(r).then((v)=>v.arrayBuffer())}function wn(l){let p=l.length;while(--p>=0)l[p]=0}function Yr(l,p,r,v,b){this.static_tree=l,this.extra_bits=p,this.extra_base=r,this.elems=v,this.max_length=b,this.has_stree=l&&l.length}function Dr(l,p){this.dyn_tree=l,this.max_code=0,this.stat_desc=p}function ue(l,p,r,v,b){this.good_length=l,this.max_lazy=p,this.nice_length=r,this.max_chain=v,this.func=b}function $8(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(y4*2),this.dyn_dtree=new Uint16Array((2*v4+1)*2),this.bl_tree=new Uint16Array((2*Z4+1)*2),Oe(this.dyn_ltree),Oe(this.dyn_dtree),Oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(R4+1),this.heap=new Uint16Array(2*fi+1),Oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*fi+1),Oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function xi(l){this.options=xl.assign({level:n9,method:l9,chunkSize:16384,windowBits:15,memLevel:8,strategy:s9},l||{});let p=this.options;if(p.raw&&p.windowBits>0)p.windowBits=-p.windowBits;else if(p.gzip&&p.windowBits>0&&p.windowBits<16)p.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _1,this.strm.avail_out=0;let r=is.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(r!==hl)throw new Error(fs[r]);if(p.header)is.deflateSetHeader(this.strm,p.header);if(p.dictionary){let v;if(typeof p.dictionary==="string")v=ks.string2buf(p.dictionary);else if(k1.call(p.dictionary)==="[object ArrayBuffer]")v=new Uint8Array(p.dictionary);else v=p.dictionary;if(r=is.deflateSetDictionary(this.strm,v),r!==hl)throw new Error(fs[r]);this._dict_set=!0}}function V8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function qi(l){this.options=xl.assign({chunkSize:65536,windowBits:15,to:""},l||{});const p=this.options;if(p.raw&&p.windowBits>=0&&p.windowBits<16){if(p.windowBits=-p.windowBits,p.windowBits===0)p.windowBits=-15}if(p.windowBits>=0&&p.windowBits<16&&!(l&&l.windowBits))p.windowBits+=32;if(p.windowBits>15&&p.windowBits<48){if((p.windowBits&15)===0)p.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _1,this.strm.avail_out=0;let r=ve.inflateInit2(this.strm,p.windowBits);if(r!==hs)throw new Error(fs[r]);if(this.header=new w9,ve.inflateGetHeader(this.strm,this.header),p.dictionary){if(typeof p.dictionary==="string")p.dictionary=ks.string2buf(p.dictionary);else if(M1.call(p.dictionary)==="[object ArrayBuffer]")p.dictionary=new Uint8Array(p.dictionary);if(p.raw){if(r=ve.inflateSetDictionary(this.strm,p.dictionary),r!==hs)throw new Error(fs[r])}}}var E6=Object.create,{getPrototypeOf:P6,defineProperty:us,getOwnPropertyNames:x0,getOwnPropertyDescriptor:H6}=Object,q0=Object.prototype.hasOwnProperty,Zi=(l,p,r)=>{r=l!=null?E6(P6(l)):{};const v=p||!l||!l.__esModule?us(r,"default",{value:l,enumerable:!0}):r;for(let b of x0(l))if(!q0.call(v,b))us(v,b,{get:()=>l[b],enumerable:!0});return v},nc=new WeakMap,G6=(l)=>{var p=nc.get(l),r;if(p)return p;if(p=us({},"__esModule",{value:!0}),l&&typeof l==="object"||typeof l==="function")x0(l).map((v)=>!q0.call(p,v)&&us(p,v,{get:()=>l[v],enumerable:!(r=H6(l,v))||r.enumerable}));return nc.set(l,p),p},vl=(l,p)=>()=>(p||l((p={exports:{}}).exports,p),p.exports),Ba=(l,p)=>{for(var r in p)us(l,r,{get:p[r],enumerable:!0,configurable:!0,set:(v)=>p[r]=()=>v})},xa=(l,p)=>()=>(l&&(p=l(l=0)),p),$0={};Ba($0,{webcrypto:()=>bl,timingSafeEqual:()=>Rn,scryptSync:()=>es,scrypt:()=>ns,randomUUID:()=>mi,getRandomValues:()=>ui,getCurves:()=>ci,default:()=>ti,DEFAULT_ENCODING:()=>yn});var T0,Ns,V0,M0,L0,O0,jl=(l,p)=>()=>(l&&(p=l(l=0)),p),Fo=(l,p)=>()=>(p||l((p={exports:{}}).exports,p),p.exports),Ws=(l,p)=>{for(var r in p)Ns(l,r,{get:p[r],enumerable:!0})},_l=(l,p,r,v)=>{if(p&&typeof p=="object"||typeof p=="function")for(let b of M0(p))!O0.call(l,b)&&b!==r&&Ns(l,b,{get:()=>p[b],enumerable:!(v=V0(p,b))||v.enumerable});return l},wl=(l,p,r)=>(_l(l,p,"default"),r&&_l(r,p,"default")),He=(l,p,r)=>(r=l!=null?T0(L0(l)):{},_l(p||!l||!l.__esModule?Ns(r,"default",{value:l,enumerable:!0}):r,l)),Da=(l)=>_l(Ns({},"__esModule",{value:!0}),l),sc,lc,Xa,ka,Ge,pa,$e,Fl,Gn,rc,Il,Ye,zl,Jl,Kl,De,js,fn,El,Yn,ws,ic,cc,Pl,Hl,uc,mc,tc,Gl,Fs,Is,Qe,dc,pc,Yl,bc,Dl,fc,zs,Ma,le,Js,ja,Dn,Ql,re,_c,Te,Ve,Me,kc,Ce,Ks,Es,hc,Ps,Cl,Qn,Bl,Nc,ie,Al,or,Hs,vc,ar,Zc,er,Gs,yc,Rc,ke,_n,xc,nr,sr,lr,qc,rr,ir,cr,ur,$c,mr,tr,Ea,Ys,dr,Tc,Vc,Mc,Lc,Oc,kn,Uc,Xc,gc,Sc,Wc,pr,br,fr,Ds,Cn,jc,_r,kr,Bn,wc,Fc,Qs,Ic,zc,Le,hr,Jc,Kc,Cs,Nr,vr,Ec,Pc,Hc,Zr,Gc,yr,Be,Rr,xr,Ae,Bs,Yc,Dc,qr,$r,Qc,Cc,Bc,As,ol,Ac,ce,Tr,Pa,An,ou,au,eu,Vr,ne,hn,Mr,nu,Lr,su,Or,lu,ru,iu,cu,al,uu,el,mu,tu,du,pu,bu,fu,_u,nl,Ur,sl,ll,Nn,rl,il,Xr,ku,gr,Sr,hu,Wr,Nu,vu,Zu,jr,yu,Ru,xu,qu,os,wr,$u,Tu,Vu,Mu,Lu,Fr,Ir,cl,zr,Ou,Uu,Xu,gu,Jr,Kr,Su,yn="buffer",ui=(l)=>crypto.getRandomValues(l),mi=()=>crypto.randomUUID(),U0,Rn,es,ns,bl,ti,Y6=xa(()=>{T0=Object.create,Ns=Object.defineProperty,V0=Object.getOwnPropertyDescriptor,M0=Object.getOwnPropertyNames,L0=Object.getPrototypeOf,O0=Object.prototype.hasOwnProperty,sc=Fo((l)=>{l.byteLength=L,l.toByteArray=R,l.fromByteArray=M;var p=[],r=[],v=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(x=0,u=b.length;x<u;++x)p[x]=b[x],r[b.charCodeAt(x)]=x;var x,u;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function k($){var q=$.length;if(q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=$.indexOf("=");g===-1&&(g=q);var w=g===q?0:4-g%4;return[g,w]}function L($){var q=k($),g=q[0],w=q[1];return(g+w)*3/4-w}function y($,q,g){return(q+g)*3/4-g}function R($){var q,g=k($),w=g[0],I=g[1],W=new v(y($,w,I)),E=0,D=I>0?w-4:w,C;for(C=0;C<D;C+=4)q=r[$.charCodeAt(C)]<<18|r[$.charCodeAt(C+1)]<<12|r[$.charCodeAt(C+2)]<<6|r[$.charCodeAt(C+3)],W[E++]=q>>16&255,W[E++]=q>>8&255,W[E++]=q&255;return I===2&&(q=r[$.charCodeAt(C)]<<2|r[$.charCodeAt(C+1)]>>4,W[E++]=q&255),I===1&&(q=r[$.charCodeAt(C)]<<10|r[$.charCodeAt(C+1)]<<4|r[$.charCodeAt(C+2)]>>2,W[E++]=q>>8&255,W[E++]=q&255),W}function Z($){return p[$>>18&63]+p[$>>12&63]+p[$>>6&63]+p[$&63]}function T($,q,g){for(var w,I=[],W=q;W<g;W+=3)w=($[W]<<16&16711680)+($[W+1]<<8&65280)+($[W+2]&255),I.push(Z(w));return I.join("")}function M($){for(var q,g=$.length,w=g%3,I=[],W=16383,E=0,D=g-w;E<D;E+=W)I.push(T($,E,E+W>D?D:E+W));return w===1?(q=$[g-1],I.push(p[q>>2]+p[q<<4&63]+"==")):w===2&&(q=($[g-2]<<8)+$[g-1],I.push(p[q>>10]+p[q>>4&63]+p[q<<2&63]+"=")),I.join("")}}),lc=Fo((l)=>{l.read=function(p,r,v,b,x){var u,k,L=x*8-b-1,y=(1<<L)-1,R=y>>1,Z=-7,T=v?x-1:0,M=v?-1:1,$=p[r+T];for(T+=M,u=$&(1<<-Z)-1,$>>=-Z,Z+=L;Z>0;u=u*256+p[r+T],T+=M,Z-=8);for(k=u&(1<<-Z)-1,u>>=-Z,Z+=b;Z>0;k=k*256+p[r+T],T+=M,Z-=8);if(u===0)u=1-R;else{if(u===y)return k?NaN:($?-1:1)*(1/0);k=k+Math.pow(2,b),u=u-R}return($?-1:1)*k*Math.pow(2,u-b)},l.write=function(p,r,v,b,x,u){var k,L,y,R=u*8-x-1,Z=(1<<R)-1,T=Z>>1,M=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=b?0:u-1,q=b?1:-1,g=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(L=isNaN(r)?1:0,k=Z):(k=Math.floor(Math.log(r)/Math.LN2),r*(y=Math.pow(2,-k))<1&&(k--,y*=2),k+T>=1?r+=M/y:r+=M*Math.pow(2,1-T),r*y>=2&&(k++,y/=2),k+T>=Z?(L=0,k=Z):k+T>=1?(L=(r*y-1)*Math.pow(2,x),k=k+T):(L=r*Math.pow(2,T-1)*Math.pow(2,x),k=0));x>=8;p[v+$]=L&255,$+=q,L/=256,x-=8);for(k=k<<x|L,R+=x;R>0;p[v+$]=k&255,$+=q,k/=256,R-=8);p[v+$-q]|=g*128}}),Xa=Fo((l)=>{var p=sc(),r=lc(),v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=k,l.SlowBuffer=I,l.INSPECT_MAX_BYTES=50;var b=2147483647;l.kMaxLength=b,k.TYPED_ARRAY_SUPPORT=x(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{let O=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(O,e),O.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function u(O){if(O>b)throw new RangeError('The value "'+O+'" is invalid for option "size"');let e=new Uint8Array(O);return Object.setPrototypeOf(e,k.prototype),e}function k(O,e,i){if(typeof O=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(O)}return L(O,e,i)}k.poolSize=8192;function L(O,e,i){if(typeof O=="string")return T(O,e);if(ArrayBuffer.isView(O))return $(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(zo(O,ArrayBuffer)||O&&zo(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(zo(O,SharedArrayBuffer)||O&&zo(O.buffer,SharedArrayBuffer)))return q(O,e,i);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let f=O.valueOf&&O.valueOf();if(f!=null&&f!==O)return k.from(f,e,i);let N=g(O);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return k.from(O[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}k.from=function(O,e,i){return L(O,e,i)},Object.setPrototypeOf(k.prototype,Uint8Array.prototype),Object.setPrototypeOf(k,Uint8Array);function y(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function R(O,e,i){return y(O),O<=0?u(O):e!==void 0?typeof i=="string"?u(O).fill(e,i):u(O).fill(e):u(O)}k.alloc=function(O,e,i){return R(O,e,i)};function Z(O){return y(O),u(O<0?0:w(O)|0)}k.allocUnsafe=function(O){return Z(O)},k.allocUnsafeSlow=function(O){return Z(O)};function T(O,e){if((typeof e!="string"||e==="")&&(e="utf8"),!k.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let i=W(O,e)|0,f=u(i),N=f.write(O,e);return N!==i&&(f=f.slice(0,N)),f}function M(O){let e=O.length<0?0:w(O.length)|0,i=u(e);for(let f=0;f<e;f+=1)i[f]=O[f]&255;return i}function $(O){if(zo(O,Uint8Array)){let e=new Uint8Array(O);return q(e.buffer,e.byteOffset,e.byteLength)}return M(O)}function q(O,e,i){if(e<0||O.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let f;return e===void 0&&i===void 0?f=new Uint8Array(O):i===void 0?f=new Uint8Array(O,e):f=new Uint8Array(O,e,i),Object.setPrototypeOf(f,k.prototype),f}function g(O){if(k.isBuffer(O)){let e=w(O.length)|0,i=u(e);return i.length===0||O.copy(i,0,0,e),i}if(O.length!==void 0)return typeof O.length!="number"||Bo(O.length)?u(0):M(O);if(O.type==="Buffer"&&Array.isArray(O.data))return M(O.data)}function w(O){if(O>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return O|0}function I(O){return+O!=O&&(O=0),k.alloc(+O)}k.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==k.prototype},k.compare=function(O,e){if(zo(O,Uint8Array)&&(O=k.from(O,O.offset,O.byteLength)),zo(e,Uint8Array)&&(e=k.from(e,e.offset,e.byteLength)),!k.isBuffer(O)||!k.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===e)return 0;let i=O.length,f=e.length;for(let N=0,V=Math.min(i,f);N<V;++N)if(O[N]!==e[N]){i=O[N],f=e[N];break}return i<f?-1:f<i?1:0},k.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(O,e){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return k.alloc(0);let i;if(e===void 0)for(e=0,i=0;i<O.length;++i)e+=O[i].length;let f=k.allocUnsafe(e),N=0;for(i=0;i<O.length;++i){let V=O[i];if(zo(V,Uint8Array))N+V.length>f.length?(k.isBuffer(V)||(V=k.from(V)),V.copy(f,N)):Uint8Array.prototype.set.call(f,V,N);else if(k.isBuffer(V))V.copy(f,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=V.length}return f};function W(O,e){if(k.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||zo(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);let i=O.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;let N=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $o(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Ho(O).length;default:if(N)return f?-1:$o(O).length;e=(""+e).toLowerCase(),N=!0}}k.byteLength=W;function E(O,e,i){let f=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(O||(O="utf8");;)switch(O){case"hex":return d(this,e,i);case"utf8":case"utf-8":return c(this,e,i);case"ascii":return _(this,e,i);case"latin1":case"binary":return h(this,e,i);case"base64":return n(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,e,i);default:if(f)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),f=!0}}k.prototype._isBuffer=!0;function D(O,e,i){let f=O[e];O[e]=O[i],O[i]=f}k.prototype.swap16=function(){let O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<O;e+=2)D(this,e,e+1);return this},k.prototype.swap32=function(){let O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<O;e+=4)D(this,e,e+3),D(this,e+1,e+2);return this},k.prototype.swap64=function(){let O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<O;e+=8)D(this,e,e+7),D(this,e+1,e+6),D(this,e+2,e+5),D(this,e+3,e+4);return this},k.prototype.toString=function(){let O=this.length;return O===0?"":arguments.length===0?c(this,0,O):E.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(O){if(!k.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:k.compare(this,O)===0},k.prototype.inspect=function(){let O="",e=l.INSPECT_MAX_BYTES;return O=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(O+=" ... "),"<Buffer "+O+">"},v&&(k.prototype[v]=k.prototype.inspect),k.prototype.compare=function(O,e,i,f,N){if(zo(O,Uint8Array)&&(O=k.from(O,O.offset,O.byteLength)),!k.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(e===void 0&&(e=0),i===void 0&&(i=O?O.length:0),f===void 0&&(f=0),N===void 0&&(N=this.length),e<0||i>O.length||f<0||N>this.length)throw new RangeError("out of range index");if(f>=N&&e>=i)return 0;if(f>=N)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,f>>>=0,N>>>=0,this===O)return 0;let V=N-f,X=i-e,F=Math.min(V,X),K=this.slice(f,N),z=O.slice(e,i);for(let J=0;J<F;++J)if(K[J]!==z[J]){V=K[J],X=z[J];break}return V<X?-1:X<V?1:0};function C(O,e,i,f,N){if(O.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Bo(i)&&(i=N?0:O.length-1),i<0&&(i=O.length+i),i>=O.length){if(N)return-1;i=O.length-1}else if(i<0)if(N)i=0;else return-1;if(typeof e=="string"&&(e=k.from(e,f)),k.isBuffer(e))return e.length===0?-1:uo(O,e,i,f,N);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(O,e,i):Uint8Array.prototype.lastIndexOf.call(O,e,i):uo(O,[e],i,f,N);throw new TypeError("val must be string, number or Buffer")}function uo(O,e,i,f,N){let V=1,X=O.length,F=e.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(O.length<2||e.length<2)return-1;V=2,X/=2,F/=2,i/=2}function K(J,ao){return V===1?J[ao]:J.readUInt16BE(ao*V)}let z;if(N){let J=-1;for(z=i;z<X;z++)if(K(O,z)===K(e,J===-1?0:z-J)){if(J===-1&&(J=z),z-J+1===F)return J*V}else J!==-1&&(z-=z-J),J=-1}else for(i+F>X&&(i=X-F),z=i;z>=0;z--){let J=!0;for(let ao=0;ao<F;ao++)if(K(O,z+ao)!==K(e,ao)){J=!1;break}if(J)return z}return-1}k.prototype.includes=function(O,e,i){return this.indexOf(O,e,i)!==-1},k.prototype.indexOf=function(O,e,i){return C(this,O,e,i,!0)},k.prototype.lastIndexOf=function(O,e,i){return C(this,O,e,i,!1)};function po(O,e,i,f){i=Number(i)||0;let N=O.length-i;f?(f=Number(f),f>N&&(f=N)):f=N;let V=e.length;f>V/2&&(f=V/2);let X;for(X=0;X<f;++X){let F=parseInt(e.substr(X*2,2),16);if(Bo(F))return X;O[i+X]=F}return X}function To(O,e,i,f){return jo($o(e,O.length-i),O,i,f)}function co(O,e,i,f){return jo(Uo(e),O,i,f)}function Lo(O,e,i,f){return jo(Ho(e),O,i,f)}function o(O,e,i,f){return jo(Vo(e,O.length-i),O,i,f)}k.prototype.write=function(O,e,i,f){if(e===void 0)f="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")f=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,f===void 0&&(f="utf8")):(f=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-e;if((i===void 0||i>N)&&(i=N),O.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let V=!1;for(;;)switch(f){case"hex":return po(this,O,e,i);case"utf8":case"utf-8":return To(this,O,e,i);case"ascii":case"latin1":case"binary":return co(this,O,e,i);case"base64":return Lo(this,O,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,O,e,i);default:if(V)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),V=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function n(O,e,i){return e===0&&i===O.length?p.fromByteArray(O):p.fromByteArray(O.slice(e,i))}function c(O,e,i){i=Math.min(O.length,i);let f=[],N=e;for(;N<i;){let V=O[N],X=null,F=V>239?4:V>223?3:V>191?2:1;if(N+F<=i){let K,z,J,ao;switch(F){case 1:V<128&&(X=V);break;case 2:K=O[N+1],(K&192)===128&&(ao=(V&31)<<6|K&63,ao>127&&(X=ao));break;case 3:K=O[N+1],z=O[N+2],(K&192)===128&&(z&192)===128&&(ao=(V&15)<<12|(K&63)<<6|z&63,ao>2047&&(ao<55296||ao>57343)&&(X=ao));break;case 4:K=O[N+1],z=O[N+2],J=O[N+3],(K&192)===128&&(z&192)===128&&(J&192)===128&&(ao=(V&15)<<18|(K&63)<<12|(z&63)<<6|J&63,ao>65535&&ao<1114112&&(X=ao))}}X===null?(X=65533,F=1):X>65535&&(X-=65536,f.push(X>>>10&1023|55296),X=56320|X&1023),f.push(X),N+=F}return m(f)}var s=4096;function m(O){let e=O.length;if(e<=s)return String.fromCharCode.apply(String,O);let i="",f=0;for(;f<e;)i+=String.fromCharCode.apply(String,O.slice(f,f+=s));return i}function _(O,e,i){let f="";i=Math.min(O.length,i);for(let N=e;N<i;++N)f+=String.fromCharCode(O[N]&127);return f}function h(O,e,i){let f="";i=Math.min(O.length,i);for(let N=e;N<i;++N)f+=String.fromCharCode(O[N]);return f}function d(O,e,i){let f=O.length;(!e||e<0)&&(e=0),(!i||i<0||i>f)&&(i=f);let N="";for(let V=e;V<i;++V)N+=Jo[O[V]];return N}function a(O,e,i){let f=O.slice(e,i),N="";for(let V=0;V<f.length-1;V+=2)N+=String.fromCharCode(f[V]+f[V+1]*256);return N}k.prototype.slice=function(O,e){let i=this.length;O=~~O,e=e===void 0?i:~~e,O<0?(O+=i,O<0&&(O=0)):O>i&&(O=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<O&&(e=O);let f=this.subarray(O,e);return Object.setPrototypeOf(f,k.prototype),f};function t(O,e,i){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+e>i)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(O,e,i){O=O>>>0,e=e>>>0,i||t(O,e,this.length);let f=this[O],N=1,V=0;for(;++V<e&&(N*=256);)f+=this[O+V]*N;return f},k.prototype.readUintBE=k.prototype.readUIntBE=function(O,e,i){O=O>>>0,e=e>>>0,i||t(O,e,this.length);let f=this[O+--e],N=1;for(;e>0&&(N*=256);)f+=this[O+--e]*N;return f},k.prototype.readUint8=k.prototype.readUInt8=function(O,e){return O=O>>>0,e||t(O,1,this.length),this[O]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(O,e){return O=O>>>0,e||t(O,2,this.length),this[O]|this[O+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(O,e){return O=O>>>0,e||t(O,2,this.length),this[O]<<8|this[O+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(O,e){return O=O>>>0,e||t(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(O,e){return O=O>>>0,e||t(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},k.prototype.readBigUInt64LE=Wo(function(O){O=O>>>0,Oo(O,"offset");let e=this[O],i=this[O+7];(e===void 0||i===void 0)&&H(O,this.length-8);let f=e+this[++O]*256+this[++O]*65536+this[++O]*16777216,N=this[++O]+this[++O]*256+this[++O]*65536+i*16777216;return BigInt(f)+(BigInt(N)<<BigInt(32))}),k.prototype.readBigUInt64BE=Wo(function(O){O=O>>>0,Oo(O,"offset");let e=this[O],i=this[O+7];(e===void 0||i===void 0)&&H(O,this.length-8);let f=e*16777216+this[++O]*65536+this[++O]*256+this[++O],N=this[++O]*16777216+this[++O]*65536+this[++O]*256+i;return(BigInt(f)<<BigInt(32))+BigInt(N)}),k.prototype.readIntLE=function(O,e,i){O=O>>>0,e=e>>>0,i||t(O,e,this.length);let f=this[O],N=1,V=0;for(;++V<e&&(N*=256);)f+=this[O+V]*N;return N*=128,f>=N&&(f-=Math.pow(2,8*e)),f},k.prototype.readIntBE=function(O,e,i){O=O>>>0,e=e>>>0,i||t(O,e,this.length);let f=e,N=1,V=this[O+--f];for(;f>0&&(N*=256);)V+=this[O+--f]*N;return N*=128,V>=N&&(V-=Math.pow(2,8*e)),V},k.prototype.readInt8=function(O,e){return O=O>>>0,e||t(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},k.prototype.readInt16LE=function(O,e){O=O>>>0,e||t(O,2,this.length);let i=this[O]|this[O+1]<<8;return i&32768?i|4294901760:i},k.prototype.readInt16BE=function(O,e){O=O>>>0,e||t(O,2,this.length);let i=this[O+1]|this[O]<<8;return i&32768?i|4294901760:i},k.prototype.readInt32LE=function(O,e){return O=O>>>0,e||t(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},k.prototype.readInt32BE=function(O,e){return O=O>>>0,e||t(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},k.prototype.readBigInt64LE=Wo(function(O){O=O>>>0,Oo(O,"offset");let e=this[O],i=this[O+7];(e===void 0||i===void 0)&&H(O,this.length-8);let f=this[O+4]+this[O+5]*256+this[O+6]*65536+(i<<24);return(BigInt(f)<<BigInt(32))+BigInt(e+this[++O]*256+this[++O]*65536+this[++O]*16777216)}),k.prototype.readBigInt64BE=Wo(function(O){O=O>>>0,Oo(O,"offset");let e=this[O],i=this[O+7];(e===void 0||i===void 0)&&H(O,this.length-8);let f=(e<<24)+this[++O]*65536+this[++O]*256+this[++O];return(BigInt(f)<<BigInt(32))+BigInt(this[++O]*16777216+this[++O]*65536+this[++O]*256+i)}),k.prototype.readFloatLE=function(O,e){return O=O>>>0,e||t(O,4,this.length),r.read(this,O,!0,23,4)},k.prototype.readFloatBE=function(O,e){return O=O>>>0,e||t(O,4,this.length),r.read(this,O,!1,23,4)},k.prototype.readDoubleLE=function(O,e){return O=O>>>0,e||t(O,8,this.length),r.read(this,O,!0,52,8)},k.prototype.readDoubleBE=function(O,e){return O=O>>>0,e||t(O,8,this.length),r.read(this,O,!1,52,8)};function S(O,e,i,f,N,V){if(!k.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>N||e<V)throw new RangeError('"value" argument is out of bounds');if(i+f>O.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(O,e,i,f){if(O=+O,e=e>>>0,i=i>>>0,!f){let X=Math.pow(2,8*i)-1;S(this,O,e,i,X,0)}let N=1,V=0;for(this[e]=O&255;++V<i&&(N*=256);)this[e+V]=O/N&255;return e+i},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(O,e,i,f){if(O=+O,e=e>>>0,i=i>>>0,!f){let X=Math.pow(2,8*i)-1;S(this,O,e,i,X,0)}let N=i-1,V=1;for(this[e+N]=O&255;--N>=0&&(V*=256);)this[e+N]=O/V&255;return e+i},k.prototype.writeUint8=k.prototype.writeUInt8=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,1,255,0),this[e]=O&255,e+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,2,65535,0),this[e]=O&255,this[e+1]=O>>>8,e+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,2,65535,0),this[e]=O>>>8,this[e+1]=O&255,e+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,4,4294967295,0),this[e+3]=O>>>24,this[e+2]=O>>>16,this[e+1]=O>>>8,this[e]=O&255,e+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,4,4294967295,0),this[e]=O>>>24,this[e+1]=O>>>16,this[e+2]=O>>>8,this[e+3]=O&255,e+4};function U(O,e,i,f,N){qo(e,f,N,O,i,7);let V=Number(e&BigInt(4294967295));O[i++]=V,V=V>>8,O[i++]=V,V=V>>8,O[i++]=V,V=V>>8,O[i++]=V;let X=Number(e>>BigInt(32)&BigInt(4294967295));return O[i++]=X,X=X>>8,O[i++]=X,X=X>>8,O[i++]=X,X=X>>8,O[i++]=X,i}function P(O,e,i,f,N){qo(e,f,N,O,i,7);let V=Number(e&BigInt(4294967295));O[i+7]=V,V=V>>8,O[i+6]=V,V=V>>8,O[i+5]=V,V=V>>8,O[i+4]=V;let X=Number(e>>BigInt(32)&BigInt(4294967295));return O[i+3]=X,X=X>>8,O[i+2]=X,X=X>>8,O[i+1]=X,X=X>>8,O[i]=X,i+8}k.prototype.writeBigUInt64LE=Wo(function(O,e=0){return U(this,O,e,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=Wo(function(O,e=0){return P(this,O,e,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(O,e,i,f){if(O=+O,e=e>>>0,!f){let F=Math.pow(2,8*i-1);S(this,O,e,i,F-1,-F)}let N=0,V=1,X=0;for(this[e]=O&255;++N<i&&(V*=256);)O<0&&X===0&&this[e+N-1]!==0&&(X=1),this[e+N]=(O/V>>0)-X&255;return e+i},k.prototype.writeIntBE=function(O,e,i,f){if(O=+O,e=e>>>0,!f){let F=Math.pow(2,8*i-1);S(this,O,e,i,F-1,-F)}let N=i-1,V=1,X=0;for(this[e+N]=O&255;--N>=0&&(V*=256);)O<0&&X===0&&this[e+N+1]!==0&&(X=1),this[e+N]=(O/V>>0)-X&255;return e+i},k.prototype.writeInt8=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,1,127,-128),O<0&&(O=255+O+1),this[e]=O&255,e+1},k.prototype.writeInt16LE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,2,32767,-32768),this[e]=O&255,this[e+1]=O>>>8,e+2},k.prototype.writeInt16BE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,2,32767,-32768),this[e]=O>>>8,this[e+1]=O&255,e+2},k.prototype.writeInt32LE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,4,2147483647,-2147483648),this[e]=O&255,this[e+1]=O>>>8,this[e+2]=O>>>16,this[e+3]=O>>>24,e+4},k.prototype.writeInt32BE=function(O,e,i){return O=+O,e=e>>>0,i||S(this,O,e,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[e]=O>>>24,this[e+1]=O>>>16,this[e+2]=O>>>8,this[e+3]=O&255,e+4},k.prototype.writeBigInt64LE=Wo(function(O,e=0){return U(this,O,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=Wo(function(O,e=0){return P(this,O,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fo(O,e,i,f,N,V){if(i+f>O.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function vo(O,e,i,f,N){return e=+e,i=i>>>0,N||fo(O,e,i,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),r.write(O,e,i,f,23,4),i+4}k.prototype.writeFloatLE=function(O,e,i){return vo(this,O,e,!0,i)},k.prototype.writeFloatBE=function(O,e,i){return vo(this,O,e,!1,i)};function xo(O,e,i,f,N){return e=+e,i=i>>>0,N||fo(O,e,i,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),r.write(O,e,i,f,52,8),i+8}k.prototype.writeDoubleLE=function(O,e,i){return xo(this,O,e,!0,i)},k.prototype.writeDoubleBE=function(O,e,i){return xo(this,O,e,!1,i)},k.prototype.copy=function(O,e,i,f){if(!k.isBuffer(O))throw new TypeError("argument should be a Buffer");if(i||(i=0),!f&&f!==0&&(f=this.length),e>=O.length&&(e=O.length),e||(e=0),f>0&&f<i&&(f=i),f===i||O.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),O.length-e<f-i&&(f=O.length-e+i);let N=f-i;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,f):Uint8Array.prototype.set.call(O,this.subarray(i,f),e),N},k.prototype.fill=function(O,e,i,f){if(typeof O=="string"){if(typeof e=="string"?(f=e,e=0,i=this.length):typeof i=="string"&&(f=i,i=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!k.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(O.length===1){let V=O.charCodeAt(0);(f==="utf8"&&V<128||f==="latin1")&&(O=V)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,O||(O=0);let N;if(typeof O=="number")for(N=e;N<i;++N)this[N]=O;else{let V=k.isBuffer(O)?O:k.from(O,f),X=V.length;if(X===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(N=0;N<i-e;++N)this[N+e]=V[N%X]}return this};var mo={};function io(O,e,i){mo[O]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}io("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),io("ERR_INVALID_ARG_TYPE",function(O,e){return`The "${O}" argument must be of type number. Received type ${typeof e}`},TypeError),io("ERR_OUT_OF_RANGE",function(O,e,i){let f=`The value of "${O}" is out of range.`,N=i;return Number.isInteger(i)&&Math.abs(i)>4294967296?N=ko(String(i)):typeof i=="bigint"&&(N=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(N=ko(N)),N+="n"),f+=` It must be ${e}. Received ${N}`,f},RangeError);function ko(O){let e="",i=O.length,f=O[0]==="-"?1:0;for(;i>=f+4;i-=3)e=`_${O.slice(i-3,i)}${e}`;return`${O.slice(0,i)}${e}`}function Io(O,e,i){Oo(e,"offset"),(O[e]===void 0||O[e+i]===void 0)&&H(e,O.length-(i+1))}function qo(O,e,i,f,N,V){if(O>i||O<e){let X=typeof e=="bigint"?"n":"",F;throw V>3?e===0||e===BigInt(0)?F=`>= 0${X} and < 2${X} ** ${(V+1)*8}${X}`:F=`>= -(2${X} ** ${(V+1)*8-1}${X}) and < 2 ** ${(V+1)*8-1}${X}`:F=`>= ${e}${X} and <= ${i}${X}`,new mo.ERR_OUT_OF_RANGE("value",F,O)}Io(f,N,V)}function Oo(O,e){if(typeof O!="number")throw new mo.ERR_INVALID_ARG_TYPE(e,"number",O)}function H(O,e,i){throw Math.floor(O)!==O?(Oo(O,i),new mo.ERR_OUT_OF_RANGE(i||"offset","an integer",O)):e<0?new mo.ERR_BUFFER_OUT_OF_BOUNDS:new mo.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${e}`,O)}var j=/[^+/0-9A-Za-z-_]/g;function B(O){if(O=O.split("=")[0],O=O.trim().replace(j,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function $o(O,e){e=e||1/0;let i,f=O.length,N=null,V=[];for(let X=0;X<f;++X){if(i=O.charCodeAt(X),i>55295&&i<57344){if(!N){if(i>56319){(e-=3)>-1&&V.push(239,191,189);continue}else if(X+1===f){(e-=3)>-1&&V.push(239,191,189);continue}N=i;continue}if(i<56320){(e-=3)>-1&&V.push(239,191,189),N=i;continue}i=(N-55296<<10|i-56320)+65536}else N&&(e-=3)>-1&&V.push(239,191,189);if(N=null,i<128){if((e-=1)<0)break;V.push(i)}else if(i<2048){if((e-=2)<0)break;V.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;V.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;V.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return V}function Uo(O){let e=[];for(let i=0;i<O.length;++i)e.push(O.charCodeAt(i)&255);return e}function Vo(O,e){let i,f,N,V=[];for(let X=0;X<O.length&&!((e-=2)<0);++X)i=O.charCodeAt(X),f=i>>8,N=i%256,V.push(N),V.push(f);return V}function Ho(O){return p.toByteArray(B(O))}function jo(O,e,i,f){let N;for(N=0;N<f&&!(N+i>=e.length||N>=O.length);++N)e[N+i]=O[N];return N}function zo(O,e){return O instanceof e||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===e.name}function Bo(O){return O!==O}var Jo=function(){let O="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){let f=i*16;for(let N=0;N<16;++N)e[f+N]=O[i]+O[N]}return e}();function Wo(O){return typeof BigInt>"u"?ba:O}function ba(){throw new Error("BigInt not supported")}}),ka=Fo((l,p)=>{var r=Xa(),v=r.Buffer;function b(u,k){for(var L in u)k[L]=u[L]}v.from&&v.alloc&&v.allocUnsafe&&v.allocUnsafeSlow?p.exports=r:(b(r,l),l.Buffer=x);function x(u,k,L){return v(u,k,L)}x.prototype=Object.create(v.prototype),b(v,x),x.from=function(u,k,L){if(typeof u=="number")throw new TypeError("Argument must not be a number");return v(u,k,L)},x.alloc=function(u,k,L){if(typeof u!="number")throw new TypeError("Argument must be a number");var y=v(u);return k!==void 0?typeof L=="string"?y.fill(k,L):y.fill(k):y.fill(0),y},x.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return v(u)},x.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}}),Ge=Fo((l,p)=>{var r=65536,v=4294967295;function b(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var x=ka().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?p.exports=k:p.exports=b;function k(L,y){if(L>v)throw new RangeError("requested too many random bytes");var R=x.allocUnsafe(L);if(L>0)if(L>r)for(var Z=0;Z<L;Z+=r)u.getRandomValues(R.slice(Z,Z+r));else u.getRandomValues(R);return typeof y=="function"?process.nextTick(function(){y(null,R)}):R}}),pa=Fo((l,p)=>{typeof Object.create=="function"?p.exports=function(r,v){v&&(r.super_=v,r.prototype=Object.create(v.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:p.exports=function(r,v){if(v){r.super_=v;var b=function(){};b.prototype=v.prototype,r.prototype=new b,r.prototype.constructor=r}}}),$e=Fo((l,p)=>{var r=typeof Reflect=="object"?Reflect:null,v=r&&typeof r.apply=="function"?r.apply:function(C,uo,po){return Function.prototype.apply.call(C,uo,po)},b;r&&typeof r.ownKeys=="function"?b=r.ownKeys:Object.getOwnPropertySymbols?b=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:b=function(C){return Object.getOwnPropertyNames(C)};function x(C){console&&console.warn&&console.warn(C)}var u=Number.isNaN||function(C){return C!==C};function k(){k.init.call(this)}p.exports=k,p.exports.once=W,k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var L=10;function y(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(k,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");L=C}}),k.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function R(C){return C._maxListeners===void 0?k.defaultMaxListeners:C._maxListeners}k.prototype.getMaxListeners=function(){return R(this)},k.prototype.emit=function(C){for(var uo=[],po=1;po<arguments.length;po++)uo.push(arguments[po]);var To=C==="error",co=this._events;if(co!==void 0)To=To&&co.error===void 0;else if(!To)return!1;if(To){var Lo;if(uo.length>0&&(Lo=uo[0]),Lo instanceof Error)throw Lo;var o=new Error("Unhandled error."+(Lo?" ("+Lo.message+")":""));throw o.context=Lo,o}var n=co[C];if(n===void 0)return!1;if(typeof n=="function")v(n,this,uo);else for(var c=n.length,s=g(n,c),po=0;po<c;++po)v(s[po],this,uo);return!0};function Z(C,uo,po,To){var co,Lo,o;if(y(po),Lo=C._events,Lo===void 0?(Lo=C._events=Object.create(null),C._eventsCount=0):(Lo.newListener!==void 0&&(C.emit("newListener",uo,po.listener?po.listener:po),Lo=C._events),o=Lo[uo]),o===void 0)o=Lo[uo]=po,++C._eventsCount;else if(typeof o=="function"?o=Lo[uo]=To?[po,o]:[o,po]:To?o.unshift(po):o.push(po),co=R(C),co>0&&o.length>co&&!o.warned){o.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(uo)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=C,n.type=uo,n.count=o.length,x(n)}return C}k.prototype.addListener=function(C,uo){return Z(this,C,uo,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(C,uo){return Z(this,C,uo,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(C,uo,po){var To={fired:!1,wrapFn:void 0,target:C,type:uo,listener:po},co=T.bind(To);return co.listener=po,To.wrapFn=co,co}k.prototype.once=function(C,uo){return y(uo),this.on(C,M(this,C,uo)),this},k.prototype.prependOnceListener=function(C,uo){return y(uo),this.prependListener(C,M(this,C,uo)),this},k.prototype.removeListener=function(C,uo){var po,To,co,Lo,o;if(y(uo),To=this._events,To===void 0)return this;if(po=To[C],po===void 0)return this;if(po===uo||po.listener===uo)--this._eventsCount===0?this._events=Object.create(null):(delete To[C],To.removeListener&&this.emit("removeListener",C,po.listener||uo));else if(typeof po!="function"){for(co=-1,Lo=po.length-1;Lo>=0;Lo--)if(po[Lo]===uo||po[Lo].listener===uo){o=po[Lo].listener,co=Lo;break}if(co<0)return this;co===0?po.shift():w(po,co),po.length===1&&(To[C]=po[0]),To.removeListener!==void 0&&this.emit("removeListener",C,o||uo)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(C){var uo,po,To;if(po=this._events,po===void 0)return this;if(po.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):po[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete po[C]),this;if(arguments.length===0){var co=Object.keys(po),Lo;for(To=0;To<co.length;++To)Lo=co[To],Lo!=="removeListener"&&this.removeAllListeners(Lo);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(uo=po[C],typeof uo=="function")this.removeListener(C,uo);else if(uo!==void 0)for(To=uo.length-1;To>=0;To--)this.removeListener(C,uo[To]);return this};function $(C,uo,po){var To=C._events;if(To===void 0)return[];var co=To[uo];return co===void 0?[]:typeof co=="function"?po?[co.listener||co]:[co]:po?I(co):g(co,co.length)}k.prototype.listeners=function(C){return $(this,C,!0)},k.prototype.rawListeners=function(C){return $(this,C,!1)},k.listenerCount=function(C,uo){return typeof C.listenerCount=="function"?C.listenerCount(uo):q.call(C,uo)},k.prototype.listenerCount=q;function q(C){var uo=this._events;if(uo!==void 0){var po=uo[C];if(typeof po=="function")return 1;if(po!==void 0)return po.length}return 0}k.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]};function g(C,uo){for(var po=new Array(uo),To=0;To<uo;++To)po[To]=C[To];return po}function w(C,uo){for(;uo+1<C.length;uo++)C[uo]=C[uo+1];C.pop()}function I(C){for(var uo=new Array(C.length),po=0;po<uo.length;++po)uo[po]=C[po].listener||C[po];return uo}function W(C,uo){return new Promise(function(po,To){function co(o){C.removeListener(uo,Lo),To(o)}function Lo(){typeof C.removeListener=="function"&&C.removeListener("error",co),po([].slice.call(arguments))}D(C,uo,Lo,{once:!0}),uo!=="error"&&E(C,co,{once:!0})})}function E(C,uo,po){typeof C.on=="function"&&D(C,"error",uo,po)}function D(C,uo,po,To){if(typeof C.on=="function")To.once?C.once(uo,po):C.on(uo,po);else if(typeof C.addEventListener=="function")C.addEventListener(uo,function co(Lo){To.once&&C.removeEventListener(uo,co),po(Lo)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}}),Fl=Fo((l,p)=>{p.exports=$e().EventEmitter}),Gn=Fo(()=>{}),rc=Fo((l,p)=>{function r($,q){var g=Object.keys($);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols($);q&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor($,I).enumerable})),g.push.apply(g,w)}return g}function v($){for(var q=1;q<arguments.length;q++){var g=arguments[q]!=null?arguments[q]:{};q%2?r(Object(g),!0).forEach(function(w){b($,w,g[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(w){Object.defineProperty($,w,Object.getOwnPropertyDescriptor(g,w))})}return $}function b($,q,g){return q in $?Object.defineProperty($,q,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[q]=g,$}function x($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}function u($,q){for(var g=0;g<q.length;g++){var w=q[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty($,w.key,w)}}function k($,q,g){return q&&u($.prototype,q),g&&u($,g),$}var L=Xa(),y=L.Buffer,R=Gn(),Z=R.inspect,T=Z&&Z.custom||"inspect";function M($,q,g){y.prototype.copy.call($,q,g)}p.exports=function(){function $(){x(this,$),this.head=null,this.tail=null,this.length=0}return k($,[{key:"push",value:function(q){var g={data:q,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(q){var g={data:q,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=q+g.data;return w}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var g=y.allocUnsafe(q>>>0),w=this.head,I=0;w;)M(w.data,g,I),I+=w.data.length,w=w.next;return g}},{key:"consume",value:function(q,g){var w;return q<this.head.data.length?(w=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?w=this.shift():w=g?this._getString(q):this._getBuffer(q),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var g=this.head,w=1,I=g.data;for(q-=I.length;g=g.next;){var W=g.data,E=q>W.length?W.length:q;if(E===W.length?I+=W:I+=W.slice(0,q),q-=E,q===0){E===W.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=W.slice(E));break}++w}return this.length-=w,I}},{key:"_getBuffer",value:function(q){var g=y.allocUnsafe(q),w=this.head,I=1;for(w.data.copy(g),q-=w.data.length;w=w.next;){var W=w.data,E=q>W.length?W.length:q;if(W.copy(g,g.length-q,0,E),q-=E,q===0){E===W.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=W.slice(E));break}++I}return this.length-=I,g}},{key:T,value:function(q,g){return Z(this,v({},g,{depth:0,customInspect:!1}))}}]),$}()}),Il=Fo((l,p)=>{function r(L,y){var R=this,Z=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return Z||T?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(M){!y&&M?R._writableState?R._writableState.errorEmitted?process.nextTick(b,R):(R._writableState.errorEmitted=!0,process.nextTick(v,R,M)):process.nextTick(v,R,M):y?(process.nextTick(b,R),y(M)):process.nextTick(b,R)}),this)}function v(L,y){u(L,y),b(L)}function b(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function k(L,y){var{_readableState:R,_writableState:Z}=L;R&&R.autoDestroy||Z&&Z.autoDestroy?L.destroy(y):L.emit("error",y)}p.exports={destroy:r,undestroy:x,errorOrDestroy:k}}),Ye=Fo((l,p)=>{function r(y,R){y.prototype=Object.create(R.prototype),y.prototype.constructor=y,y.__proto__=R}var v={};function b(y,R,Z){Z||(Z=Error);function T($,q,g){return typeof R=="string"?R:R($,q,g)}var M=function($){r(q,$);function q(g,w,I){return $.call(this,T(g,w,I))||this}return q}(Z);M.prototype.name=Z.name,M.prototype.code=y,v[y]=M}function x(y,R){if(Array.isArray(y)){var Z=y.length;return y=y.map(function(T){return String(T)}),Z>2?"one of ".concat(R," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(R," ").concat(y[0]," or ").concat(y[1]):"of ".concat(R," ").concat(y[0])}else return"of ".concat(R," ").concat(String(y))}function u(y,R,Z){return y.substr(!Z||Z<0?0:+Z,R.length)===R}function k(y,R,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-R.length,Z)===R}function L(y,R,Z){return typeof Z!="number"&&(Z=0),Z+R.length>y.length?!1:y.indexOf(R,Z)!==-1}b("ERR_INVALID_OPT_VALUE",function(y,R){return'The value "'+R+'" is invalid for option "'+y+'"'},TypeError),b("ERR_INVALID_ARG_TYPE",function(y,R,Z){var T;typeof R=="string"&&u(R,"not ")?(T="must not be",R=R.replace(/^not /,"")):T="must be";var M;if(k(y," argument"))M="The ".concat(y," ").concat(T," ").concat(x(R,"type"));else{var $=L(y,".")?"property":"argument";M='The "'.concat(y,'" ').concat($," ").concat(T," ").concat(x(R,"type"))}return M+=". Received type ".concat(typeof Z),M},TypeError),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),b("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),b("ERR_STREAM_PREMATURE_CLOSE","Premature close"),b("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),b("ERR_STREAM_WRITE_AFTER_END","write after end"),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),p.exports.codes=v}),zl=Fo((l,p)=>{var r=Ye().codes.ERR_INVALID_OPT_VALUE;function v(x,u,k){return x.highWaterMark!=null?x.highWaterMark:u?x[k]:null}function b(x,u,k,L){var y=v(u,L,k);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var R=L?k:"highWaterMark";throw new r(R,y)}return Math.floor(y)}return x.objectMode?16:16384}p.exports={getHighWaterMark:b}}),Jl=Fo((l,p)=>{p.exports=r;function r(b,x){if(v("noDeprecation"))return b;var u=!1;function k(){if(!u){if(v("throwDeprecation"))throw new Error(x);v("traceDeprecation")?console.trace(x):console.warn(x),u=!0}return b.apply(this,arguments)}return k}function v(b){try{if(!global.localStorage)return!1}catch{return!1}var x=global.localStorage[b];return x==null?!1:String(x).toLowerCase()==="true"}}),Kl=Fo((l,p)=>{p.exports=co;function r(mo){var io=this;this.next=null,this.entry=null,this.finish=function(){xo(io,mo)}}var v;co.WritableState=po;var b={deprecate:Jl()},x=Fl(),u=Xa().Buffer,k=global.Uint8Array||function(){};function L(mo){return u.from(mo)}function y(mo){return u.isBuffer(mo)||mo instanceof k}var R=Il(),Z=zl(),T=Z.getHighWaterMark,M=Ye().codes,$=M.ERR_INVALID_ARG_TYPE,q=M.ERR_METHOD_NOT_IMPLEMENTED,g=M.ERR_MULTIPLE_CALLBACK,w=M.ERR_STREAM_CANNOT_PIPE,I=M.ERR_STREAM_DESTROYED,W=M.ERR_STREAM_NULL_VALUES,E=M.ERR_STREAM_WRITE_AFTER_END,D=M.ERR_UNKNOWN_ENCODING,C=R.errorOrDestroy;pa()(co,x);function uo(){}function po(mo,io,ko){v=v||De(),mo=mo||{},typeof ko!="boolean"&&(ko=io instanceof v),this.objectMode=!!mo.objectMode,ko&&(this.objectMode=this.objectMode||!!mo.writableObjectMode),this.highWaterMark=T(this,mo,"writableHighWaterMark",ko),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Io=mo.decodeStrings===!1;this.decodeStrings=!Io,this.defaultEncoding=mo.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(qo){h(io,qo)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=mo.emitClose!==!1,this.autoDestroy=!!mo.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}po.prototype.getBuffer=function(){for(var mo=this.bufferedRequest,io=[];mo;)io.push(mo),mo=mo.next;return io},function(){try{Object.defineProperty(po.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var To;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(To=Function.prototype[Symbol.hasInstance],Object.defineProperty(co,Symbol.hasInstance,{value:function(mo){return To.call(this,mo)?!0:this!==co?!1:mo&&mo._writableState instanceof po}})):To=function(mo){return mo instanceof this};function co(mo){v=v||De();var io=this instanceof v;if(!io&&!To.call(co,this))return new co(mo);this._writableState=new po(mo,this,io),this.writable=!0,mo&&(typeof mo.write=="function"&&(this._write=mo.write),typeof mo.writev=="function"&&(this._writev=mo.writev),typeof mo.destroy=="function"&&(this._destroy=mo.destroy),typeof mo.final=="function"&&(this._final=mo.final)),x.call(this)}co.prototype.pipe=function(){C(this,new w)};function Lo(mo,io){var ko=new E;C(mo,ko),process.nextTick(io,ko)}function o(mo,io,ko,Io){var qo;return ko===null?qo=new W:typeof ko!="string"&&!io.objectMode&&(qo=new $("chunk",["string","Buffer"],ko)),qo?(C(mo,qo),process.nextTick(Io,qo),!1):!0}co.prototype.write=function(mo,io,ko){var Io=this._writableState,qo=!1,Oo=!Io.objectMode&&y(mo);return Oo&&!u.isBuffer(mo)&&(mo=L(mo)),typeof io=="function"&&(ko=io,io=null),Oo?io="buffer":io||(io=Io.defaultEncoding),typeof ko!="function"&&(ko=uo),Io.ending?Lo(this,ko):(Oo||o(this,Io,mo,ko))&&(Io.pendingcb++,qo=c(this,Io,Oo,mo,io,ko)),qo},co.prototype.cork=function(){this._writableState.corked++},co.prototype.uncork=function(){var mo=this._writableState;mo.corked&&(mo.corked--,!mo.writing&&!mo.corked&&!mo.bufferProcessing&&mo.bufferedRequest&&t(this,mo))},co.prototype.setDefaultEncoding=function(mo){if(typeof mo=="string"&&(mo=mo.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((mo+"").toLowerCase())>-1))throw new D(mo);return this._writableState.defaultEncoding=mo,this},Object.defineProperty(co.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(mo,io,ko){return!mo.objectMode&&mo.decodeStrings!==!1&&typeof io=="string"&&(io=u.from(io,ko)),io}Object.defineProperty(co.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(mo,io,ko,Io,qo,Oo){if(!ko){var H=n(io,Io,qo);Io!==H&&(ko=!0,qo="buffer",Io=H)}var j=io.objectMode?1:Io.length;io.length+=j;var B=io.length<io.highWaterMark;if(B||(io.needDrain=!0),io.writing||io.corked){var $o=io.lastBufferedRequest;io.lastBufferedRequest={chunk:Io,encoding:qo,isBuf:ko,callback:Oo,next:null},$o?$o.next=io.lastBufferedRequest:io.bufferedRequest=io.lastBufferedRequest,io.bufferedRequestCount+=1}else s(mo,io,!1,j,Io,qo,Oo);return B}function s(mo,io,ko,Io,qo,Oo,H){io.writelen=Io,io.writecb=H,io.writing=!0,io.sync=!0,io.destroyed?io.onwrite(new I("write")):ko?mo._writev(qo,io.onwrite):mo._write(qo,Oo,io.onwrite),io.sync=!1}function m(mo,io,ko,Io,qo){--io.pendingcb,ko?(process.nextTick(qo,Io),process.nextTick(fo,mo,io),mo._writableState.errorEmitted=!0,C(mo,Io)):(qo(Io),mo._writableState.errorEmitted=!0,C(mo,Io),fo(mo,io))}function _(mo){mo.writing=!1,mo.writecb=null,mo.length-=mo.writelen,mo.writelen=0}function h(mo,io){var ko=mo._writableState,Io=ko.sync,qo=ko.writecb;if(typeof qo!="function")throw new g;if(_(ko),io)m(mo,ko,Io,io,qo);else{var Oo=S(ko)||mo.destroyed;!Oo&&!ko.corked&&!ko.bufferProcessing&&ko.bufferedRequest&&t(mo,ko),Io?process.nextTick(d,mo,ko,Oo,qo):d(mo,ko,Oo,qo)}}function d(mo,io,ko,Io){ko||a(mo,io),io.pendingcb--,Io(),fo(mo,io)}function a(mo,io){io.length===0&&io.needDrain&&(io.needDrain=!1,mo.emit("drain"))}function t(mo,io){io.bufferProcessing=!0;var ko=io.bufferedRequest;if(mo._writev&&ko&&ko.next){var Io=io.bufferedRequestCount,qo=new Array(Io),Oo=io.corkedRequestsFree;Oo.entry=ko;for(var H=0,j=!0;ko;)qo[H]=ko,ko.isBuf||(j=!1),ko=ko.next,H+=1;qo.allBuffers=j,s(mo,io,!0,io.length,qo,"",Oo.finish),io.pendingcb++,io.lastBufferedRequest=null,Oo.next?(io.corkedRequestsFree=Oo.next,Oo.next=null):io.corkedRequestsFree=new r(io),io.bufferedRequestCount=0}else{for(;ko;){var{chunk:B,encoding:$o,callback:Uo}=ko,Vo=io.objectMode?1:B.length;if(s(mo,io,!1,Vo,B,$o,Uo),ko=ko.next,io.bufferedRequestCount--,io.writing)break}ko===null&&(io.lastBufferedRequest=null)}io.bufferedRequest=ko,io.bufferProcessing=!1}co.prototype._write=function(mo,io,ko){ko(new q("_write()"))},co.prototype._writev=null,co.prototype.end=function(mo,io,ko){var Io=this._writableState;return typeof mo=="function"?(ko=mo,mo=null,io=null):typeof io=="function"&&(ko=io,io=null),mo!=null&&this.write(mo,io),Io.corked&&(Io.corked=1,this.uncork()),Io.ending||vo(this,Io,ko),this},Object.defineProperty(co.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(mo){return mo.ending&&mo.length===0&&mo.bufferedRequest===null&&!mo.finished&&!mo.writing}function U(mo,io){mo._final(function(ko){io.pendingcb--,ko&&C(mo,ko),io.prefinished=!0,mo.emit("prefinish"),fo(mo,io)})}function P(mo,io){!io.prefinished&&!io.finalCalled&&(typeof mo._final=="function"&&!io.destroyed?(io.pendingcb++,io.finalCalled=!0,process.nextTick(U,mo,io)):(io.prefinished=!0,mo.emit("prefinish")))}function fo(mo,io){var ko=S(io);if(ko&&(P(mo,io),io.pendingcb===0&&(io.finished=!0,mo.emit("finish"),io.autoDestroy))){var Io=mo._readableState;(!Io||Io.autoDestroy&&Io.endEmitted)&&mo.destroy()}return ko}function vo(mo,io,ko){io.ending=!0,fo(mo,io),ko&&(io.finished?process.nextTick(ko):mo.once("finish",ko)),io.ended=!0,mo.writable=!1}function xo(mo,io,ko){var Io=mo.entry;for(mo.entry=null;Io;){var qo=Io.callback;io.pendingcb--,qo(ko),Io=Io.next}io.corkedRequestsFree.next=mo}Object.defineProperty(co.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(mo){!this._writableState||(this._writableState.destroyed=mo)}}),co.prototype.destroy=R.destroy,co.prototype._undestroy=R.undestroy,co.prototype._destroy=function(mo,io){io(mo)}}),De=Fo((l,p)=>{var r=Object.keys||function(Z){var T=[];for(var M in Z)T.push(M);return T};p.exports=L;var v=Pl(),b=Kl();pa()(L,v);for(x=r(b.prototype),k=0;k<x.length;k++)u=x[k],L.prototype[u]||(L.prototype[u]=b.prototype[u]);var x,u,k;function L(Z){if(!(this instanceof L))return new L(Z);v.call(this,Z),b.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(R,this)}function R(Z){Z.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),js=Fo((l)=>{var p=ka().Buffer,r=p.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function v(I){if(!I)return"utf8";for(var W;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(W)return;I=(""+I).toLowerCase(),W=!0}}function b(I){var W=v(I);if(typeof W!="string"&&(p.isEncoding===r||!r(I)))throw new Error("Unknown encoding: "+I);return W||I}l.StringDecoder=x;function x(I){this.encoding=b(I);var W;switch(this.encoding){case"utf16le":this.text=T,this.end=M,W=4;break;case"utf8":this.fillLast=y,W=4;break;case"base64":this.text=$,this.end=q,W=3;break;default:this.write=g,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(W)}x.prototype.write=function(I){if(I.length===0)return"";var W,E;if(this.lastNeed){if(W=this.fillLast(I),W===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<I.length?W?W+this.text(I,E):this.text(I,E):W||""},x.prototype.end=Z,x.prototype.text=R,x.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function u(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function k(I,W,E){var D=W.length-1;if(D<E)return 0;var C=u(W[D]);return C>=0?(C>0&&(I.lastNeed=C-1),C):--D<E||C===-2?0:(C=u(W[D]),C>=0?(C>0&&(I.lastNeed=C-2),C):--D<E||C===-2?0:(C=u(W[D]),C>=0?(C>0&&(C===2?C=0:I.lastNeed=C-3),C):0))}function L(I,W,E){if((W[0]&192)!==128)return I.lastNeed=0,"\uFFFD";if(I.lastNeed>1&&W.length>1){if((W[1]&192)!==128)return I.lastNeed=1,"\uFFFD";if(I.lastNeed>2&&W.length>2&&(W[2]&192)!==128)return I.lastNeed=2,"\uFFFD"}}function y(I){var W=this.lastTotal-this.lastNeed,E=L(this,I,W);if(E!==void 0)return E;if(this.lastNeed<=I.length)return I.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,W,0,I.length),this.lastNeed-=I.length}function R(I,W){var E=k(this,I,W);if(!this.lastNeed)return I.toString("utf8",W);this.lastTotal=E;var D=I.length-(E-this.lastNeed);return I.copy(this.lastChar,0,D),I.toString("utf8",W,D)}function Z(I){var W=I&&I.length?this.write(I):"";return this.lastNeed?W+"\uFFFD":W}function T(I,W){if((I.length-W)%2===0){var E=I.toString("utf16le",W);if(E){var D=E.charCodeAt(E.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",W,I.length-1)}function M(I){var W=I&&I.length?this.write(I):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return W+this.lastChar.toString("utf16le",0,E)}return W}function $(I,W){var E=(I.length-W)%3;return E===0?I.toString("base64",W):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",W,I.length-E))}function q(I){var W=I&&I.length?this.write(I):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function g(I){return I.toString(this.encoding)}function w(I){return I&&I.length?this.write(I):""}}),fn={},Ws(fn,{StringDecoder:()=>El.StringDecoder,default:()=>El.StringDecoder}),Yn=jl(()=>{El=He(js())}),ws=Fo((l,p)=>{var r=Ye().codes.ERR_STREAM_PREMATURE_CLOSE;function v(k){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,R=new Array(y),Z=0;Z<y;Z++)R[Z]=arguments[Z];k.apply(this,R)}}}function b(){}function x(k){return k.setHeader&&typeof k.abort=="function"}function u(k,L,y){if(typeof L=="function")return u(k,null,L);L||(L={}),y=v(y||b);var R=L.readable||L.readable!==!1&&k.readable,Z=L.writable||L.writable!==!1&&k.writable,T=function(){k.writable||$()},M=k._writableState&&k._writableState.finished,$=function(){Z=!1,M=!0,R||y.call(k)},q=k._readableState&&k._readableState.endEmitted,g=function(){R=!1,q=!0,Z||y.call(k)},w=function(E){y.call(k,E)},I=function(){var E;if(R&&!q)return(!k._readableState||!k._readableState.ended)&&(E=new r),y.call(k,E);if(Z&&!M)return(!k._writableState||!k._writableState.ended)&&(E=new r),y.call(k,E)},W=function(){k.req.on("finish",$)};return x(k)?(k.on("complete",$),k.on("abort",I),k.req?W():k.on("request",W)):Z&&!k._writableState&&(k.on("end",T),k.on("close",T)),k.on("end",g),k.on("finish",$),L.error!==!1&&k.on("error",w),k.on("close",I),function(){k.removeListener("complete",$),k.removeListener("abort",I),k.removeListener("request",W),k.req&&k.req.removeListener("finish",$),k.removeListener("end",T),k.removeListener("close",T),k.removeListener("finish",$),k.removeListener("end",g),k.removeListener("error",w),k.removeListener("close",I)}}p.exports=u}),ic=Fo((l,p)=>{var r;function v(W,E,D){return E in W?Object.defineProperty(W,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):W[E]=D,W}var b=ws(),x=Symbol("lastResolve"),u=Symbol("lastReject"),k=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),R=Symbol("handlePromise"),Z=Symbol("stream");function T(W,E){return{value:W,done:E}}function M(W){var E=W[x];if(E!==null){var D=W[Z].read();D!==null&&(W[y]=null,W[x]=null,W[u]=null,E(T(D,!1)))}}function $(W){process.nextTick(M,W)}function q(W,E){return function(D,C){W.then(function(){if(E[L]){D(T(void 0,!0));return}E[R](D,C)},C)}}var g=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((r={get stream(){return this[Z]},next:function(){var W=this,E=this[k];if(E!==null)return Promise.reject(E);if(this[L])return Promise.resolve(T(void 0,!0));if(this[Z].destroyed)return new Promise(function(po,To){process.nextTick(function(){W[k]?To(W[k]):po(T(void 0,!0))})});var D=this[y],C;if(D)C=new Promise(q(D,this));else{var uo=this[Z].read();if(uo!==null)return Promise.resolve(T(uo,!1));C=new Promise(this[R])}return this[y]=C,C}},v(r,Symbol.asyncIterator,function(){return this}),v(r,"return",function(){var W=this;return new Promise(function(E,D){W[Z].destroy(null,function(C){if(C){D(C);return}E(T(void 0,!0))})})}),r),g),I=function(W){var E,D=Object.create(w,(E={},v(E,Z,{value:W,writable:!0}),v(E,x,{value:null,writable:!0}),v(E,u,{value:null,writable:!0}),v(E,k,{value:null,writable:!0}),v(E,L,{value:W._readableState.endEmitted,writable:!0}),v(E,R,{value:function(C,uo){var po=D[Z].read();po?(D[y]=null,D[x]=null,D[u]=null,C(T(po,!1))):(D[x]=C,D[u]=uo)},writable:!0}),E));return D[y]=null,b(W,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var uo=D[u];uo!==null&&(D[y]=null,D[x]=null,D[u]=null,uo(C)),D[k]=C;return}var po=D[x];po!==null&&(D[y]=null,D[x]=null,D[u]=null,po(T(void 0,!0))),D[L]=!0}),W.on("readable",$.bind(null,D)),D};p.exports=I}),cc=Fo((l,p)=>{p.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Pl=Fo((l,p)=>{p.exports=o;var r;o.ReadableState=Lo;var v=$e().EventEmitter,b=function(H,j){return H.listeners(j).length},x=Fl(),u=Xa().Buffer,k=global.Uint8Array||function(){};function L(H){return u.from(H)}function y(H){return u.isBuffer(H)||H instanceof k}var R=Gn(),Z;R&&R.debuglog?Z=R.debuglog("stream"):Z=function(){};var T=rc(),M=Il(),$=zl(),q=$.getHighWaterMark,g=Ye().codes,w=g.ERR_INVALID_ARG_TYPE,I=g.ERR_STREAM_PUSH_AFTER_EOF,W=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,C,uo;pa()(o,x);var po=M.errorOrDestroy,To=["error","close","destroy","pause","resume"];function co(H,j,B){if(typeof H.prependListener=="function")return H.prependListener(j,B);!H._events||!H._events[j]?H.on(j,B):Array.isArray(H._events[j])?H._events[j].unshift(B):H._events[j]=[B,H._events[j]]}function Lo(H,j,B){r=r||De(),H=H||{},typeof B!="boolean"&&(B=j instanceof r),this.objectMode=!!H.objectMode,B&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=q(this,H,"readableHighWaterMark",B),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(D||(D=(Yn(),Da(fn)).StringDecoder),this.decoder=new D(H.encoding),this.encoding=H.encoding)}function o(H){if(r=r||De(),!(this instanceof o))return new o(H);var j=this instanceof r;this._readableState=new Lo(H,this,j),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),x.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){!this._readableState||(this._readableState.destroyed=H)}}),o.prototype.destroy=M.destroy,o.prototype._undestroy=M.undestroy,o.prototype._destroy=function(H,j){j(H)},o.prototype.push=function(H,j){var B=this._readableState,$o;return B.objectMode?$o=!0:typeof H=="string"&&(j=j||B.defaultEncoding,j!==B.encoding&&(H=u.from(H,j),j=""),$o=!0),n(this,H,j,!1,$o)},o.prototype.unshift=function(H){return n(this,H,null,!0,!1)};function n(H,j,B,$o,Uo){Z("readableAddChunk",j);var Vo=H._readableState;if(j===null)Vo.reading=!1,d(H,Vo);else{var Ho;if(Uo||(Ho=s(Vo,j)),Ho)po(H,Ho);else if(Vo.objectMode||j&&j.length>0)if(typeof j!="string"&&!Vo.objectMode&&Object.getPrototypeOf(j)!==u.prototype&&(j=L(j)),$o)Vo.endEmitted?po(H,new E):c(H,Vo,j,!0);else if(Vo.ended)po(H,new I);else{if(Vo.destroyed)return!1;Vo.reading=!1,Vo.decoder&&!B?(j=Vo.decoder.write(j),Vo.objectMode||j.length!==0?c(H,Vo,j,!1):S(H,Vo)):c(H,Vo,j,!1)}else $o||(Vo.reading=!1,S(H,Vo))}return!Vo.ended&&(Vo.length<Vo.highWaterMark||Vo.length===0)}function c(H,j,B,$o){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,H.emit("data",B)):(j.length+=j.objectMode?1:B.length,$o?j.buffer.unshift(B):j.buffer.push(B),j.needReadable&&a(H)),S(H,j)}function s(H,j){var B;return!y(j)&&typeof j!="string"&&j!==void 0&&!H.objectMode&&(B=new w("chunk",["string","Buffer","Uint8Array"],j)),B}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(H){D||(D=(Yn(),Da(fn)).StringDecoder);var j=new D(H);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,$o="";B!==null;)$o+=j.write(B.data),B=B.next;return this._readableState.buffer.clear(),$o!==""&&this._readableState.buffer.push($o),this._readableState.length=$o.length,this};var m=1073741824;function _(H){return H>=m?H=m:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function h(H,j){return H<=0||j.length===0&&j.ended?0:j.objectMode?1:H!==H?j.flowing&&j.length?j.buffer.head.data.length:j.length:(H>j.highWaterMark&&(j.highWaterMark=_(H)),H<=j.length?H:j.ended?j.length:(j.needReadable=!0,0))}o.prototype.read=function(H){Z("read",H),H=parseInt(H,10);var j=this._readableState,B=H;if(H!==0&&(j.emittedReadable=!1),H===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return Z("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Io(this):a(this),null;if(H=h(H,j),H===0&&j.ended)return j.length===0&&Io(this),null;var $o=j.needReadable;Z("need readable",$o),(j.length===0||j.length-H<j.highWaterMark)&&($o=!0,Z("length less than watermark",$o)),j.ended||j.reading?($o=!1,Z("reading or ended",$o)):$o&&(Z("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(H=h(B,j)));var Uo;return H>0?Uo=ko(H,j):Uo=null,Uo===null?(j.needReadable=j.length<=j.highWaterMark,H=0):(j.length-=H,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),B!==H&&j.ended&&Io(this)),Uo!==null&&this.emit("data",Uo),Uo};function d(H,j){if(Z("onEofChunk"),!j.ended){if(j.decoder){var B=j.decoder.end();B&&B.length&&(j.buffer.push(B),j.length+=j.objectMode?1:B.length)}j.ended=!0,j.sync?a(H):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,t(H)))}}function a(H){var j=H._readableState;Z("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(Z("emitReadable",j.flowing),j.emittedReadable=!0,process.nextTick(t,H))}function t(H){var j=H._readableState;Z("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(H.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,io(H)}function S(H,j){j.readingMore||(j.readingMore=!0,process.nextTick(U,H,j))}function U(H,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var B=j.length;if(Z("maybeReadMore read 0"),H.read(0),B===j.length)break}j.readingMore=!1}o.prototype._read=function(H){po(this,new W("_read()"))},o.prototype.pipe=function(H,j){var B=this,$o=this._readableState;switch($o.pipesCount){case 0:$o.pipes=H;break;case 1:$o.pipes=[$o.pipes,H];break;default:$o.pipes.push(H);break}$o.pipesCount+=1,Z("pipe count=%d opts=%j",$o.pipesCount,j);var Uo=(!j||j.end!==!1)&&H!==process.stdout&&H!==process.stderr,Vo=Uo?jo:i;$o.endEmitted?process.nextTick(Vo):B.once("end",Vo),H.on("unpipe",Ho);function Ho(f,N){Z("onunpipe"),f===B&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,Jo())}function jo(){Z("onend"),H.end()}var zo=P(B);H.on("drain",zo);var Bo=!1;function Jo(){Z("cleanup"),H.removeListener("close",O),H.removeListener("finish",e),H.removeListener("drain",zo),H.removeListener("error",ba),H.removeListener("unpipe",Ho),B.removeListener("end",jo),B.removeListener("end",i),B.removeListener("data",Wo),Bo=!0,$o.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&zo()}B.on("data",Wo);function Wo(f){Z("ondata");var N=H.write(f);Z("dest.write",N),N===!1&&(($o.pipesCount===1&&$o.pipes===H||$o.pipesCount>1&&Oo($o.pipes,H)!==-1)&&!Bo&&(Z("false write response, pause",$o.awaitDrain),$o.awaitDrain++),B.pause())}function ba(f){Z("onerror",f),i(),H.removeListener("error",ba),b(H,"error")===0&&po(H,f)}co(H,"error",ba);function O(){H.removeListener("finish",e),i()}H.once("close",O);function e(){Z("onfinish"),H.removeListener("close",O),i()}H.once("finish",e);function i(){Z("unpipe"),B.unpipe(H)}return H.emit("pipe",B),$o.flowing||(Z("pipe resume"),B.resume()),H};function P(H){return function(){var j=H._readableState;Z("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&b(H,"data")&&(j.flowing=!0,io(H))}}o.prototype.unpipe=function(H){var j=this._readableState,B={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return H&&H!==j.pipes?this:(H||(H=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,H&&H.emit("unpipe",this,B),this);if(!H){var{pipes:$o,pipesCount:Uo}=j;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var Vo=0;Vo<Uo;Vo++)$o[Vo].emit("unpipe",this,{hasUnpiped:!1});return this}var Ho=Oo(j.pipes,H);return Ho===-1?this:(j.pipes.splice(Ho,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),H.emit("unpipe",this,B),this)},o.prototype.on=function(H,j){var B=x.prototype.on.call(this,H,j),$o=this._readableState;return H==="data"?($o.readableListening=this.listenerCount("readable")>0,$o.flowing!==!1&&this.resume()):H==="readable"&&!$o.endEmitted&&!$o.readableListening&&($o.readableListening=$o.needReadable=!0,$o.flowing=!1,$o.emittedReadable=!1,Z("on readable",$o.length,$o.reading),$o.length?a(this):$o.reading||process.nextTick(vo,this)),B},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(H,j){var B=x.prototype.removeListener.call(this,H,j);return H==="readable"&&process.nextTick(fo,this),B},o.prototype.removeAllListeners=function(H){var j=x.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&process.nextTick(fo,this),j};function fo(H){var j=H._readableState;j.readableListening=H.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:H.listenerCount("data")>0&&H.resume()}function vo(H){Z("readable nexttick read 0"),H.read(0)}o.prototype.resume=function(){var H=this._readableState;return H.flowing||(Z("resume"),H.flowing=!H.readableListening,xo(this,H)),H.paused=!1,this};function xo(H,j){j.resumeScheduled||(j.resumeScheduled=!0,process.nextTick(mo,H,j))}function mo(H,j){Z("resume",j.reading),j.reading||H.read(0),j.resumeScheduled=!1,H.emit("resume"),io(H),j.flowing&&!j.reading&&H.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function io(H){var j=H._readableState;for(Z("flow",j.flowing);j.flowing&&H.read()!==null;);}o.prototype.wrap=function(H){var j=this,B=this._readableState,$o=!1;H.on("end",function(){if(Z("wrapped end"),B.decoder&&!B.ended){var Ho=B.decoder.end();Ho&&Ho.length&&j.push(Ho)}j.push(null)}),H.on("data",function(Ho){if(Z("wrapped data"),B.decoder&&(Ho=B.decoder.write(Ho)),!(B.objectMode&&Ho==null)&&!(!B.objectMode&&(!Ho||!Ho.length))){var jo=j.push(Ho);jo||($o=!0,H.pause())}});for(var Uo in H)this[Uo]===void 0&&typeof H[Uo]=="function"&&(this[Uo]=function(Ho){return function(){return H[Ho].apply(H,arguments)}}(Uo));for(var Vo=0;Vo<To.length;Vo++)H.on(To[Vo],this.emit.bind(this,To[Vo]));return this._read=function(Ho){Z("wrapped _read",Ho),$o&&($o=!1,H.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=ic()),C(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),o._fromList=ko,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ko(H,j){if(j.length===0)return null;var B;return j.objectMode?B=j.buffer.shift():!H||H>=j.length?(j.decoder?B=j.buffer.join(""):j.buffer.length===1?B=j.buffer.first():B=j.buffer.concat(j.length),j.buffer.clear()):B=j.buffer.consume(H,j.decoder),B}function Io(H){var j=H._readableState;Z("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process.nextTick(qo,j,H))}function qo(H,j){if(Z("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,j.readable=!1,j.emit("end"),H.autoDestroy)){var B=j._writableState;(!B||B.autoDestroy&&B.finished)&&j.destroy()}}typeof Symbol=="function"&&(o.from=function(H,j){return uo===void 0&&(uo=cc()),uo(o,H,j)});function Oo(H,j){for(var B=0,$o=H.length;B<$o;B++)if(H[B]===j)return B;return-1}}),Hl=Fo((l,p)=>{p.exports=y;var r=Ye().codes,v=r.ERR_METHOD_NOT_IMPLEMENTED,b=r.ERR_MULTIPLE_CALLBACK,x=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,k=De();pa()(y,k);function L(T,M){var $=this._transformState;$.transforming=!1;var q=$.writecb;if(q===null)return this.emit("error",new b);$.writechunk=null,$.writecb=null,M!=null&&this.push(M),q(T);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function y(T){if(!(this instanceof y))return new y(T);k.call(this,T),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",R)}function R(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,$){Z(T,M,$)}):Z(this,null,null)}y.prototype.push=function(T,M){return this._transformState.needTransform=!1,k.prototype.push.call(this,T,M)},y.prototype._transform=function(T,M,$){$(new v("_transform()"))},y.prototype._write=function(T,M,$){var q=this._transformState;if(q.writecb=$,q.writechunk=T,q.writeencoding=M,!q.transforming){var g=this._readableState;(q.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},y.prototype._read=function(T){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},y.prototype._destroy=function(T,M){k.prototype._destroy.call(this,T,function($){M($)})};function Z(T,M,$){if(M)return T.emit("error",M);if($!=null&&T.push($),T._writableState.length)throw new u;if(T._transformState.transforming)throw new x;return T.push(null)}}),uc=Fo((l,p)=>{p.exports=v;var r=Hl();pa()(v,r);function v(b){if(!(this instanceof v))return new v(b);r.call(this,b)}v.prototype._transform=function(b,x,u){u(null,b)}}),mc=Fo((l,p)=>{var r;function v($){var q=!1;return function(){q||(q=!0,$.apply(void 0,arguments))}}var b=Ye().codes,x=b.ERR_MISSING_ARGS,u=b.ERR_STREAM_DESTROYED;function k($){if($)throw $}function L($){return $.setHeader&&typeof $.abort=="function"}function y($,q,g,w){w=v(w);var I=!1;$.on("close",function(){I=!0}),r===void 0&&(r=ws()),r($,{readable:q,writable:g},function(E){if(E)return w(E);I=!0,w()});var W=!1;return function(E){if(!I&&!W){if(W=!0,L($))return $.abort();if(typeof $.destroy=="function")return $.destroy();w(E||new u("pipe"))}}}function R($){$()}function Z($,q){return $.pipe(q)}function T($){return!$.length||typeof $[$.length-1]!="function"?k:$.pop()}function M(){for(var $=arguments.length,q=new Array($),g=0;g<$;g++)q[g]=arguments[g];var w=T(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new x("streams");var I,W=q.map(function(E,D){var C=D<q.length-1,uo=D>0;return y(E,C,uo,function(po){I||(I=po),po&&W.forEach(R),!C&&(W.forEach(R),w(I))})});return q.reduce(Z)}p.exports=M}),tc=Fo((l,p)=>{l=p.exports=Pl(),l.Stream=l,l.Readable=l,l.Writable=Kl(),l.Duplex=De(),l.Transform=Hl(),l.PassThrough=uc(),l.finished=ws(),l.pipeline=mc()}),Gl=Fo((l,p)=>{var r=ka().Buffer,v=tc().Transform,b=pa();function x(k,L){if(!r.isBuffer(k)&&typeof k!="string")throw new TypeError(L+" must be a string or a buffer")}function u(k){v.call(this),this._block=r.allocUnsafe(k),this._blockSize=k,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}b(u,v),u.prototype._transform=function(k,L,y){var R=null;try{this.update(k,L)}catch(Z){R=Z}y(R)},u.prototype._flush=function(k){var L=null;try{this.push(this.digest())}catch(y){L=y}k(L)},u.prototype.update=function(k,L){if(x(k,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(k)||(k=r.from(k,L));for(var y=this._block,R=0;this._blockOffset+k.length-R>=this._blockSize;){for(var Z=this._blockOffset;Z<this._blockSize;)y[Z++]=k[R++];this._update(),this._blockOffset=0}for(;R<k.length;)y[this._blockOffset++]=k[R++];for(var T=0,M=k.length*8;M>0;++T)this._length[T]+=M,M=this._length[T]/4294967296|0,M>0&&(this._length[T]-=4294967296*M);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(k){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var L=this._digest();k!==void 0&&(L=L.toString(k)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return L},u.prototype._digest=function(){throw new Error("_digest is not implemented")},p.exports=u}),Fs=Fo((l,p)=>{var r=pa(),v=Gl(),b=ka().Buffer,x=new Array(16);function u(){v.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(u,v),u.prototype._update=function(){for(var T=x,M=0;M<16;++M)T[M]=this._block.readInt32LE(M*4);var $=this._a,q=this._b,g=this._c,w=this._d;$=L($,q,g,w,T[0],3614090360,7),w=L(w,$,q,g,T[1],3905402710,12),g=L(g,w,$,q,T[2],606105819,17),q=L(q,g,w,$,T[3],3250441966,22),$=L($,q,g,w,T[4],4118548399,7),w=L(w,$,q,g,T[5],1200080426,12),g=L(g,w,$,q,T[6],2821735955,17),q=L(q,g,w,$,T[7],4249261313,22),$=L($,q,g,w,T[8],1770035416,7),w=L(w,$,q,g,T[9],2336552879,12),g=L(g,w,$,q,T[10],4294925233,17),q=L(q,g,w,$,T[11],2304563134,22),$=L($,q,g,w,T[12],1804603682,7),w=L(w,$,q,g,T[13],4254626195,12),g=L(g,w,$,q,T[14],2792965006,17),q=L(q,g,w,$,T[15],1236535329,22),$=y($,q,g,w,T[1],4129170786,5),w=y(w,$,q,g,T[6],3225465664,9),g=y(g,w,$,q,T[11],643717713,14),q=y(q,g,w,$,T[0],3921069994,20),$=y($,q,g,w,T[5],3593408605,5),w=y(w,$,q,g,T[10],38016083,9),g=y(g,w,$,q,T[15],3634488961,14),q=y(q,g,w,$,T[4],3889429448,20),$=y($,q,g,w,T[9],568446438,5),w=y(w,$,q,g,T[14],3275163606,9),g=y(g,w,$,q,T[3],4107603335,14),q=y(q,g,w,$,T[8],1163531501,20),$=y($,q,g,w,T[13],2850285829,5),w=y(w,$,q,g,T[2],4243563512,9),g=y(g,w,$,q,T[7],1735328473,14),q=y(q,g,w,$,T[12],2368359562,20),$=R($,q,g,w,T[5],4294588738,4),w=R(w,$,q,g,T[8],2272392833,11),g=R(g,w,$,q,T[11],1839030562,16),q=R(q,g,w,$,T[14],4259657740,23),$=R($,q,g,w,T[1],2763975236,4),w=R(w,$,q,g,T[4],1272893353,11),g=R(g,w,$,q,T[7],4139469664,16),q=R(q,g,w,$,T[10],3200236656,23),$=R($,q,g,w,T[13],681279174,4),w=R(w,$,q,g,T[0],3936430074,11),g=R(g,w,$,q,T[3],3572445317,16),q=R(q,g,w,$,T[6],76029189,23),$=R($,q,g,w,T[9],3654602809,4),w=R(w,$,q,g,T[12],3873151461,11),g=R(g,w,$,q,T[15],530742520,16),q=R(q,g,w,$,T[2],3299628645,23),$=Z($,q,g,w,T[0],4096336452,6),w=Z(w,$,q,g,T[7],1126891415,10),g=Z(g,w,$,q,T[14],2878612391,15),q=Z(q,g,w,$,T[5],4237533241,21),$=Z($,q,g,w,T[12],1700485571,6),w=Z(w,$,q,g,T[3],2399980690,10),g=Z(g,w,$,q,T[10],4293915773,15),q=Z(q,g,w,$,T[1],2240044497,21),$=Z($,q,g,w,T[8],1873313359,6),w=Z(w,$,q,g,T[15],4264355552,10),g=Z(g,w,$,q,T[6],2734768916,15),q=Z(q,g,w,$,T[13],1309151649,21),$=Z($,q,g,w,T[4],4149444226,6),w=Z(w,$,q,g,T[11],3174756917,10),g=Z(g,w,$,q,T[2],718787259,15),q=Z(q,g,w,$,T[9],3951481745,21),this._a=this._a+$|0,this._b=this._b+q|0,this._c=this._c+g|0,this._d=this._d+w|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=b.allocUnsafe(16);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T};function k(T,M){return T<<M|T>>>32-M}function L(T,M,$,q,g,w,I){return k(T+(M&$|~M&q)+g+w|0,I)+M|0}function y(T,M,$,q,g,w,I){return k(T+(M&q|$&~q)+g+w|0,I)+M|0}function R(T,M,$,q,g,w,I){return k(T+(M^$^q)+g+w|0,I)+M|0}function Z(T,M,$,q,g,w,I){return k(T+($^(M|~q))+g+w|0,I)+M|0}p.exports=u}),Is=Fo((l,p)=>{var r=Xa().Buffer,v=pa(),b=Gl(),x=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],L=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],R=[0,1518500249,1859775393,2400959708,2840853838],Z=[1352829926,1548603684,1836072691,2053994217,0];function T(){b.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}v(T,b),T.prototype._update=function(){for(var W=x,E=0;E<16;++E)W[E]=this._block.readInt32LE(E*4);for(var D=this._a|0,C=this._b|0,uo=this._c|0,po=this._d|0,To=this._e|0,co=this._a|0,Lo=this._b|0,o=this._c|0,n=this._d|0,c=this._e|0,s=0;s<80;s+=1){var m,_;s<16?(m=$(D,C,uo,po,To,W[u[s]],R[0],L[s]),_=I(co,Lo,o,n,c,W[k[s]],Z[0],y[s])):s<32?(m=q(D,C,uo,po,To,W[u[s]],R[1],L[s]),_=w(co,Lo,o,n,c,W[k[s]],Z[1],y[s])):s<48?(m=g(D,C,uo,po,To,W[u[s]],R[2],L[s]),_=g(co,Lo,o,n,c,W[k[s]],Z[2],y[s])):s<64?(m=w(D,C,uo,po,To,W[u[s]],R[3],L[s]),_=q(co,Lo,o,n,c,W[k[s]],Z[3],y[s])):(m=I(D,C,uo,po,To,W[u[s]],R[4],L[s]),_=$(co,Lo,o,n,c,W[k[s]],Z[4],y[s])),D=To,To=po,po=M(uo,10),uo=C,C=m,co=c,c=n,n=M(o,10),o=Lo,Lo=_}var h=this._b+uo+n|0;this._b=this._c+po+c|0,this._c=this._d+To+co|0,this._d=this._e+D+Lo|0,this._e=this._a+C+o|0,this._a=h},T.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var W=r.alloc?r.alloc(20):new r(20);return W.writeInt32LE(this._a,0),W.writeInt32LE(this._b,4),W.writeInt32LE(this._c,8),W.writeInt32LE(this._d,12),W.writeInt32LE(this._e,16),W};function M(W,E){return W<<E|W>>>32-E}function $(W,E,D,C,uo,po,To,co){return M(W+(E^D^C)+po+To|0,co)+uo|0}function q(W,E,D,C,uo,po,To,co){return M(W+(E&D|~E&C)+po+To|0,co)+uo|0}function g(W,E,D,C,uo,po,To,co){return M(W+((E|~D)^C)+po+To|0,co)+uo|0}function w(W,E,D,C,uo,po,To,co){return M(W+(E&C|D&~C)+po+To|0,co)+uo|0}function I(W,E,D,C,uo,po,To,co){return M(W+(E^(D|~C))+po+To|0,co)+uo|0}p.exports=T}),Qe=Fo((l,p)=>{var r=ka().Buffer;function v(b,x){this._block=r.alloc(b),this._finalSize=x,this._blockSize=b,this._len=0}v.prototype.update=function(b,x){typeof b=="string"&&(x=x||"utf8",b=r.from(b,x));for(var u=this._block,k=this._blockSize,L=b.length,y=this._len,R=0;R<L;){for(var Z=y%k,T=Math.min(L-R,k-Z),M=0;M<T;M++)u[Z+M]=b[R+M];y+=T,R+=T,y%k===0&&this._update(u)}return this._len+=L,this},v.prototype.digest=function(b){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var k=(u&4294967295)>>>0,L=(u-k)/4294967296;this._block.writeUInt32BE(L,this._blockSize-8),this._block.writeUInt32BE(k,this._blockSize-4)}this._update(this._block);var y=this._hash();return b?y.toString(b):y},v.prototype._update=function(){throw new Error("_update must be implemented by subclass")},p.exports=v}),dc=Fo((l,p)=>{var r=pa(),v=Qe(),b=ka().Buffer,x=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function k(){this.init(),this._w=u,v.call(this,64,56)}r(k,v),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L(Z){return Z<<5|Z>>>27}function y(Z){return Z<<30|Z>>>2}function R(Z,T,M,$){return Z===0?T&M|~T&$:Z===2?T&M|T&$|M&$:T^M^$}k.prototype._update=function(Z){for(var T=this._w,M=this._a|0,$=this._b|0,q=this._c|0,g=this._d|0,w=this._e|0,I=0;I<16;++I)T[I]=Z.readInt32BE(I*4);for(;I<80;++I)T[I]=T[I-3]^T[I-8]^T[I-14]^T[I-16];for(var W=0;W<80;++W){var E=~~(W/20),D=L(M)+R(E,$,q,g)+w+T[W]+x[E]|0;w=g,g=q,q=y($),$=M,M=D}this._a=M+this._a|0,this._b=$+this._b|0,this._c=q+this._c|0,this._d=g+this._d|0,this._e=w+this._e|0},k.prototype._hash=function(){var Z=b.allocUnsafe(20);return Z.writeInt32BE(this._a|0,0),Z.writeInt32BE(this._b|0,4),Z.writeInt32BE(this._c|0,8),Z.writeInt32BE(this._d|0,12),Z.writeInt32BE(this._e|0,16),Z},p.exports=k}),pc=Fo((l,p)=>{var r=pa(),v=Qe(),b=ka().Buffer,x=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function k(){this.init(),this._w=u,v.call(this,64,56)}r(k,v),k.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L(T){return T<<1|T>>>31}function y(T){return T<<5|T>>>27}function R(T){return T<<30|T>>>2}function Z(T,M,$,q){return T===0?M&$|~M&q:T===2?M&$|M&q|$&q:M^$^q}k.prototype._update=function(T){for(var M=this._w,$=this._a|0,q=this._b|0,g=this._c|0,w=this._d|0,I=this._e|0,W=0;W<16;++W)M[W]=T.readInt32BE(W*4);for(;W<80;++W)M[W]=L(M[W-3]^M[W-8]^M[W-14]^M[W-16]);for(var E=0;E<80;++E){var D=~~(E/20),C=y($)+Z(D,q,g,w)+I+M[E]+x[D]|0;I=w,w=g,g=R(q),q=$,$=C}this._a=$+this._a|0,this._b=q+this._b|0,this._c=g+this._c|0,this._d=w+this._d|0,this._e=I+this._e|0},k.prototype._hash=function(){var T=b.allocUnsafe(20);return T.writeInt32BE(this._a|0,0),T.writeInt32BE(this._b|0,4),T.writeInt32BE(this._c|0,8),T.writeInt32BE(this._d|0,12),T.writeInt32BE(this._e|0,16),T},p.exports=k}),Yl=Fo((l,p)=>{var r=pa(),v=Qe(),b=ka().Buffer,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function k(){this.init(),this._w=u,v.call(this,64,56)}r(k,v),k.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function L($,q,g){return g^$&(q^g)}function y($,q,g){return $&q|g&($|q)}function R($){return($>>>2|$<<30)^($>>>13|$<<19)^($>>>22|$<<10)}function Z($){return($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7)}function T($){return($>>>7|$<<25)^($>>>18|$<<14)^$>>>3}function M($){return($>>>17|$<<15)^($>>>19|$<<13)^$>>>10}k.prototype._update=function($){for(var q=this._w,g=this._a|0,w=this._b|0,I=this._c|0,W=this._d|0,E=this._e|0,D=this._f|0,C=this._g|0,uo=this._h|0,po=0;po<16;++po)q[po]=$.readInt32BE(po*4);for(;po<64;++po)q[po]=M(q[po-2])+q[po-7]+T(q[po-15])+q[po-16]|0;for(var To=0;To<64;++To){var co=uo+Z(E)+L(E,D,C)+x[To]+q[To]|0,Lo=R(g)+y(g,w,I)|0;uo=C,C=D,D=E,E=W+co|0,W=I,I=w,w=g,g=co+Lo|0}this._a=g+this._a|0,this._b=w+this._b|0,this._c=I+this._c|0,this._d=W+this._d|0,this._e=E+this._e|0,this._f=D+this._f|0,this._g=C+this._g|0,this._h=uo+this._h|0},k.prototype._hash=function(){var $=b.allocUnsafe(32);return $.writeInt32BE(this._a,0),$.writeInt32BE(this._b,4),$.writeInt32BE(this._c,8),$.writeInt32BE(this._d,12),$.writeInt32BE(this._e,16),$.writeInt32BE(this._f,20),$.writeInt32BE(this._g,24),$.writeInt32BE(this._h,28),$},p.exports=k}),bc=Fo((l,p)=>{var r=pa(),v=Yl(),b=Qe(),x=ka().Buffer,u=new Array(64);function k(){this.init(),this._w=u,b.call(this,64,56)}r(k,v),k.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},k.prototype._hash=function(){var L=x.allocUnsafe(28);return L.writeInt32BE(this._a,0),L.writeInt32BE(this._b,4),L.writeInt32BE(this._c,8),L.writeInt32BE(this._d,12),L.writeInt32BE(this._e,16),L.writeInt32BE(this._f,20),L.writeInt32BE(this._g,24),L},p.exports=k}),Dl=Fo((l,p)=>{var r=pa(),v=Qe(),b=ka().Buffer,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function k(){this.init(),this._w=u,v.call(this,128,112)}r(k,v),k.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function L(w,I,W){return W^w&(I^W)}function y(w,I,W){return w&I|W&(w|I)}function R(w,I){return(w>>>28|I<<4)^(I>>>2|w<<30)^(I>>>7|w<<25)}function Z(w,I){return(w>>>14|I<<18)^(w>>>18|I<<14)^(I>>>9|w<<23)}function T(w,I){return(w>>>1|I<<31)^(w>>>8|I<<24)^w>>>7}function M(w,I){return(w>>>1|I<<31)^(w>>>8|I<<24)^(w>>>7|I<<25)}function $(w,I){return(w>>>19|I<<13)^(I>>>29|w<<3)^w>>>6}function q(w,I){return(w>>>19|I<<13)^(I>>>29|w<<3)^(w>>>6|I<<26)}function g(w,I){return w>>>0<I>>>0?1:0}k.prototype._update=function(w){for(var I=this._w,W=this._ah|0,E=this._bh|0,D=this._ch|0,C=this._dh|0,uo=this._eh|0,po=this._fh|0,To=this._gh|0,co=this._hh|0,Lo=this._al|0,o=this._bl|0,n=this._cl|0,c=this._dl|0,s=this._el|0,m=this._fl|0,_=this._gl|0,h=this._hl|0,d=0;d<32;d+=2)I[d]=w.readInt32BE(d*4),I[d+1]=w.readInt32BE(d*4+4);for(;d<160;d+=2){var a=I[d-30],t=I[d-30+1],S=T(a,t),U=M(t,a);a=I[d-4],t=I[d-4+1];var P=$(a,t),fo=q(t,a),vo=I[d-14],xo=I[d-14+1],mo=I[d-32],io=I[d-32+1],ko=U+xo|0,Io=S+vo+g(ko,U)|0;ko=ko+fo|0,Io=Io+P+g(ko,fo)|0,ko=ko+io|0,Io=Io+mo+g(ko,io)|0,I[d]=Io,I[d+1]=ko}for(var qo=0;qo<160;qo+=2){Io=I[qo],ko=I[qo+1];var Oo=y(W,E,D),H=y(Lo,o,n),j=R(W,Lo),B=R(Lo,W),$o=Z(uo,s),Uo=Z(s,uo),Vo=x[qo],Ho=x[qo+1],jo=L(uo,po,To),zo=L(s,m,_),Bo=h+Uo|0,Jo=co+$o+g(Bo,h)|0;Bo=Bo+zo|0,Jo=Jo+jo+g(Bo,zo)|0,Bo=Bo+Ho|0,Jo=Jo+Vo+g(Bo,Ho)|0,Bo=Bo+ko|0,Jo=Jo+Io+g(Bo,ko)|0;var Wo=B+H|0,ba=j+Oo+g(Wo,B)|0;co=To,h=_,To=po,_=m,po=uo,m=s,s=c+Bo|0,uo=C+Jo+g(s,c)|0,C=D,c=n,D=E,n=o,E=W,o=Lo,Lo=Bo+Wo|0,W=Jo+ba+g(Lo,Bo)|0}this._al=this._al+Lo|0,this._bl=this._bl+o|0,this._cl=this._cl+n|0,this._dl=this._dl+c|0,this._el=this._el+s|0,this._fl=this._fl+m|0,this._gl=this._gl+_|0,this._hl=this._hl+h|0,this._ah=this._ah+W+g(this._al,Lo)|0,this._bh=this._bh+E+g(this._bl,o)|0,this._ch=this._ch+D+g(this._cl,n)|0,this._dh=this._dh+C+g(this._dl,c)|0,this._eh=this._eh+uo+g(this._el,s)|0,this._fh=this._fh+po+g(this._fl,m)|0,this._gh=this._gh+To+g(this._gl,_)|0,this._hh=this._hh+co+g(this._hl,h)|0},k.prototype._hash=function(){var w=b.allocUnsafe(64);function I(W,E,D){w.writeInt32BE(W,D),w.writeInt32BE(E,D+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),w},p.exports=k}),fc=Fo((l,p)=>{var r=pa(),v=Dl(),b=Qe(),x=ka().Buffer,u=new Array(160);function k(){this.init(),this._w=u,b.call(this,128,112)}r(k,v),k.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},k.prototype._hash=function(){var L=x.allocUnsafe(48);function y(R,Z,T){L.writeInt32BE(R,T),L.writeInt32BE(Z,T+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),L},p.exports=k}),zs=Fo((r,p)=>{var r=p.exports=function(v){v=v.toLowerCase();var b=r[v];if(!b)throw new Error(v+" is not supported (we accept pull requests)");return new b};r.sha=dc(),r.sha1=pc(),r.sha224=bc(),r.sha256=Yl(),r.sha384=fc(),r.sha512=Dl()}),Ma=Fo((l,p)=>{p.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,v){return r.includes(v)},ArrayPrototypeIndexOf(r,v){return r.indexOf(v)},ArrayPrototypeJoin(r,v){return r.join(v)},ArrayPrototypeMap(r,v){return r.map(v)},ArrayPrototypePop(r,v){return r.pop(v)},ArrayPrototypePush(r,v){return r.push(v)},ArrayPrototypeSlice(r,v,b){return r.slice(v,b)},Error,FunctionPrototypeCall(r,v,...b){return r.call(v,...b)},FunctionPrototypeSymbolHasInstance(r,v){return Function.prototype[Symbol.hasInstance].call(r,v)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,v){return Object.defineProperties(r,v)},ObjectDefineProperty(r,v,b){return Object.defineProperty(r,v,b)},ObjectGetOwnPropertyDescriptor(r,v){return Object.getOwnPropertyDescriptor(r,v)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,v){return Object.setPrototypeOf(r,v)},Promise,PromisePrototypeCatch(r,v){return r.catch(v)},PromisePrototypeThen(r,v,b){return r.then(v,b)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,v){return r.test(v)},SafeSet:Set,String,StringPrototypeSlice(r,v,b){return r.slice(v,b)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,v,b){return r.set(v,b)},Uint8Array}}),le=Fo((l,p)=>{var r=Xa(),v=Object.getPrototypeOf(async function(){}).constructor,b=globalThis.Blob||r.Blob,x=typeof b<"u"?function(k){return k instanceof b}:function(k){return!1},u=class extends Error{constructor(k){if(!Array.isArray(k))throw new TypeError(`Expected input to be an Array, got ${typeof k}`);let L="";for(let y=0;y<k.length;y++)L+=`    ${k[y].stack}
`;super(L),this.name="AggregateError",this.errors=k}};p.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(k){let L=!1;return function(...y){L||(L=!0,k.apply(this,y))}},createDeferredPromise:function(){let k,L;return{promise:new Promise((y,R)=>{k=y,L=R}),resolve:k,reject:L}},promisify(k){return new Promise((L,y)=>{k((R,...Z)=>R?y(R):L(...Z))})},debuglog(){return function(){}},format(k,...L){return k.replace(/%([sdifj])/g,function(...[y,R]){let Z=L.shift();return R==="f"?Z.toFixed(6):R==="j"?JSON.stringify(Z):R==="s"&&typeof Z=="object"?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()})},inspect(k){switch(typeof k){case"string":if(k.includes("'"))if(k.includes('"')){if(!k.includes("`")&&!k.includes("${"))return`\`${k}\``}else return`"${k}"`;return`'${k}'`;case"number":return isNaN(k)?"NaN":Object.is(k,-0)?String(k):k;case"bigint":return`${String(k)}n`;case"boolean":case"undefined":return String(k);case"object":return"{}"}},types:{isAsyncFunction(k){return k instanceof v},isArrayBufferView(k){return ArrayBuffer.isView(k)}},isBlob:x},p.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Js=Fo((l,p)=>{var{AbortController:r,AbortSignal:v}=typeof self<"u"?self:typeof window<"u"?window:void 0;p.exports=r,p.exports.AbortSignal=v,p.exports.default=r}),ja=Fo((l,p)=>{var{format:r,inspect:v,AggregateError:b}=le(),x=globalThis.AggregateError||b,u=Symbol("kIsNodeError"),k=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",R={};function Z(I,W){if(!I)throw new R.ERR_INTERNAL_ASSERTION(W)}function T(I){let W="",E=I.length,D=I[0]==="-"?1:0;for(;E>=D+4;E-=3)W=`_${I.slice(E-3,E)}${W}`;return`${I.slice(0,E)}${W}`}function M(I,W,E){if(typeof W=="function")return Z(W.length<=E.length,`Code: ${I}; The provided arguments length (${E.length}) does not match the required ones (${W.length}).`),W(...E);let D=(W.match(/%[dfijoOs]/g)||[]).length;return Z(D===E.length,`Code: ${I}; The provided arguments length (${E.length}) does not match the required ones (${D}).`),E.length===0?W:r(W,...E)}function $(I,W,E){E||(E=Error);class D extends E{constructor(...C){super(M(I,W,C))}toString(){return`${this.name} [${I}]: ${this.message}`}}Object.defineProperties(D.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${I}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),D.prototype.code=I,D.prototype[u]=!0,R[I]=D}function q(I){let W=y+I.name;return Object.defineProperty(I,"name",{value:W}),I}function g(I,W){if(I&&W&&I!==W){if(Array.isArray(W.errors))return W.errors.push(I),W;let E=new x([W,I],W.message);return E.code=W.code,E}return I||W}var w=class extends Error{constructor(I="The operation was aborted",W=void 0){if(W!==void 0&&typeof W!="object")throw new R.ERR_INVALID_ARG_TYPE("options","Object",W);super(I,W),this.code="ABORT_ERR",this.name="AbortError"}};$("ERR_ASSERTION","%s",Error),$("ERR_INVALID_ARG_TYPE",(I,W,E)=>{Z(typeof I=="string","'name' must be a string"),Array.isArray(W)||(W=[W]);let D="The ";I.endsWith(" argument")?D+=`${I} `:D+=`"${I}" ${I.includes(".")?"property":"argument"} `,D+="must be ";let C=[],uo=[],po=[];for(let co of W)Z(typeof co=="string","All expected entries have to be of type string"),k.includes(co)?C.push(co.toLowerCase()):L.test(co)?uo.push(co):(Z(co!=="object",'The value "object" should be written as "Object"'),po.push(co));if(uo.length>0){let co=C.indexOf("object");co!==-1&&(C.splice(C,co,1),uo.push("Object"))}if(C.length>0){switch(C.length){case 1:D+=`of type ${C[0]}`;break;case 2:D+=`one of type ${C[0]} or ${C[1]}`;break;default:{let co=C.pop();D+=`one of type ${C.join(", ")}, or ${co}`}}(uo.length>0||po.length>0)&&(D+=" or ")}if(uo.length>0){switch(uo.length){case 1:D+=`an instance of ${uo[0]}`;break;case 2:D+=`an instance of ${uo[0]} or ${uo[1]}`;break;default:{let co=uo.pop();D+=`an instance of ${uo.join(", ")}, or ${co}`}}po.length>0&&(D+=" or ")}switch(po.length){case 0:break;case 1:po[0].toLowerCase()!==po[0]&&(D+="an "),D+=`${po[0]}`;break;case 2:D+=`one of ${po[0]} or ${po[1]}`;break;default:{let co=po.pop();D+=`one of ${po.join(", ")}, or ${co}`}}if(E==null)D+=`. Received ${E}`;else if(typeof E=="function"&&E.name)D+=`. Received function ${E.name}`;else if(typeof E=="object"){var To;(To=E.constructor)!==null&&To!==void 0&&To.name?D+=`. Received an instance of ${E.constructor.name}`:D+=`. Received ${v(E,{depth:-1})}`}else{let co=v(E,{colors:!1});co.length>25&&(co=`${co.slice(0,25)}...`),D+=`. Received type ${typeof E} (${co})`}return D},TypeError),$("ERR_INVALID_ARG_VALUE",(I,W,E="is invalid")=>{let D=v(W);return D.length>128&&(D=D.slice(0,128)+"..."),`The ${I.includes(".")?"property":"argument"} '${I}' ${E}. Received ${D}`},TypeError),$("ERR_INVALID_RETURN_VALUE",(I,W,E)=>{var D;let C=E!=null&&(D=E.constructor)!==null&&D!==void 0&&D.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${I} to be returned from the "${W}" function but got ${C}.`},TypeError),$("ERR_MISSING_ARGS",(...I)=>{Z(I.length>0,"At least one arg needs to be specified");let W,E=I.length;switch(I=(Array.isArray(I)?I:[I]).map((D)=>`"${D}"`).join(" or "),E){case 1:W+=`The ${I[0]} argument`;break;case 2:W+=`The ${I[0]} and ${I[1]} arguments`;break;default:{let D=I.pop();W+=`The ${I.join(", ")}, and ${D} arguments`}break}return`${W} must be specified`},TypeError),$("ERR_OUT_OF_RANGE",(I,W,E)=>{Z(W,'Missing "range" argument');let D;return Number.isInteger(E)&&Math.abs(E)>4294967296?D=T(String(E)):typeof E=="bigint"?(D=String(E),(E>2n**32n||E<-(2n**32n))&&(D=T(D)),D+="n"):D=v(E),`The value of "${I}" is out of range. It must be ${W}. Received ${D}`},RangeError),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),$("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),$("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),$("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),$("ERR_STREAM_WRITE_AFTER_END","write after end",Error),$("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),p.exports={AbortError:w,aggregateTwoErrors:q(g),hideStackFrames:q,codes:R}}),Dn=Fo((l,p)=>{var{ArrayIsArray:r,ArrayPrototypeIncludes:v,ArrayPrototypeJoin:b,ArrayPrototypeMap:x,NumberIsInteger:u,NumberIsNaN:k,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:y,NumberParseInt:R,ObjectPrototypeHasOwnProperty:Z,RegExpPrototypeExec:T,String:M,StringPrototypeToUpperCase:$,StringPrototypeTrim:q}=Ma(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:D}}=ja(),{normalizeEncoding:C}=le(),{isAsyncFunction:uo,isArrayBufferView:po}=le().types,To={};function co(H){return H===(H|0)}function Lo(H){return H===H>>>0}var o=/^[0-7]+$/,n="must be a 32-bit unsigned integer or an octal string";function c(H,j,B){if(typeof H>"u"&&(H=B),typeof H=="string"){if(T(o,H)===null)throw new W(j,H,n);H=R(H,8)}return _(H,j),H}var s=g((H,j,B=y,$o=L)=>{if(typeof H!="number")throw new I(j,"number",H);if(!u(H))throw new E(j,"an integer",H);if(H<B||H>$o)throw new E(j,`>= ${B} && <= ${$o}`,H)}),m=g((H,j,B=-2147483648,$o=2147483647)=>{if(typeof H!="number")throw new I(j,"number",H);if(!u(H))throw new E(j,"an integer",H);if(H<B||H>$o)throw new E(j,`>= ${B} && <= ${$o}`,H)}),_=g((H,j,B=!1)=>{if(typeof H!="number")throw new I(j,"number",H);if(!u(H))throw new E(j,"an integer",H);let $o=B?1:0,Uo=4294967295;if(H<$o||H>Uo)throw new E(j,`>= ${$o} && <= ${Uo}`,H)});function h(H,j){if(typeof H!="string")throw new I(j,"string",H)}function d(H,j,B=void 0,$o){if(typeof H!="number")throw new I(j,"number",H);if(B!=null&&H<B||$o!=null&&H>$o||(B!=null||$o!=null)&&k(H))throw new E(j,`${B!=null?`>= ${B}`:""}${B!=null&&$o!=null?" && ":""}${$o!=null?`<= ${$o}`:""}`,H)}var a=g((H,j,B)=>{if(!v(B,H)){let $o=b(x(B,(Vo)=>typeof Vo=="string"?`'${Vo}'`:M(Vo)),", "),Uo="must be one of: "+$o;throw new W(j,H,Uo)}});function t(H,j){if(typeof H!="boolean")throw new I(j,"boolean",H)}function S(H,j,B){return H==null||!Z(H,j)?B:H[j]}var U=g((H,j,B=null)=>{let $o=S(B,"allowArray",!1),Uo=S(B,"allowFunction",!1);if(!S(B,"nullable",!1)&&H===null||!$o&&r(H)||typeof H!="object"&&(!Uo||typeof H!="function"))throw new I(j,"Object",H)}),P=g((H,j,B=0)=>{if(!r(H))throw new I(j,"Array",H);if(H.length<B){let $o=`must be longer than ${B}`;throw new W(j,H,$o)}});function fo(H,j="signal"){if(h(H,j),To[H]===void 0)throw To[$(H)]!==void 0?new D(H+" (signals must use all capital letters)"):new D(H)}var vo=g((H,j="buffer")=>{if(!po(H))throw new I(j,["Buffer","TypedArray","DataView"],H)});function xo(H,j){let B=C(j),$o=H.length;if(B==="hex"&&$o%2!==0)throw new W("encoding",j,`is invalid for data of length ${$o}`)}function mo(H,j="Port",B=!0){if(typeof H!="number"&&typeof H!="string"||typeof H=="string"&&q(H).length===0||+H!==+H>>>0||H>65535||H===0&&!B)throw new w(j,H,B);return H|0}var io=g((H,j)=>{if(H!==void 0&&(H===null||typeof H!="object"||!("aborted"in H)))throw new I(j,"AbortSignal",H)}),ko=g((H,j)=>{if(typeof H!="function")throw new I(j,"Function",H)}),Io=g((H,j)=>{if(typeof H!="function"||uo(H))throw new I(j,"Function",H)}),qo=g((H,j)=>{if(H!==void 0)throw new I(j,"undefined",H)});function Oo(H,j,B){if(!v(B,H))throw new I(j,`('${b(B,"|")}')`,H)}p.exports={isInt32:co,isUint32:Lo,parseFileMode:c,validateArray:P,validateBoolean:t,validateBuffer:vo,validateEncoding:xo,validateFunction:ko,validateInt32:m,validateInteger:s,validateNumber:d,validateObject:U,validateOneOf:a,validatePlainFunction:Io,validatePort:mo,validateSignalName:fo,validateString:h,validateUint32:_,validateUndefined:qo,validateUnion:Oo,validateAbortSignal:io}}),Ql=Fo((l,p)=>{var r=p.exports={},v,b;function x(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?v=setTimeout:v=x}catch{v=x}try{typeof clearTimeout=="function"?b=clearTimeout:b=u}catch{b=u}})();function k(w){if(v===setTimeout)return setTimeout(w,0);if((v===x||!v)&&setTimeout)return v=setTimeout,setTimeout(w,0);try{return v(w,0)}catch{try{return v.call(null,w,0)}catch{return v.call(this,w,0)}}}function L(w){if(b===clearTimeout)return clearTimeout(w);if((b===u||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(w);try{return b(w)}catch{try{return b.call(null,w)}catch{return b.call(this,w)}}}var y=[],R=!1,Z,T=-1;function M(){!R||!Z||(R=!1,Z.length?y=Z.concat(y):T=-1,y.length&&$())}function $(){if(!R){var w=k(M);R=!0;for(var I=y.length;I;){for(Z=y,y=[];++T<I;)Z&&Z[T].run();T=-1,I=y.length}Z=null,R=!1,L(w)}}r.nextTick=function(w){var I=new Array(arguments.length-1);if(arguments.length>1)for(var W=1;W<arguments.length;W++)I[W-1]=arguments[W];y.push(new q(w,I)),y.length===1&&!R&&k($)};function q(w,I){this.fun=w,this.array=I}q.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function g(){}r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(w){return[]},r.binding=function(w){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(w){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),re={},Ws(re,{default:()=>_c}),Te=jl(()=>{wl(re,He(Ql())),_c=He(Ql())}),Ve=Fo((l,p)=>{var{Symbol:r,SymbolAsyncIterator:v,SymbolIterator:b}=Ma(),x=r("kDestroyed"),u=r("kIsErrored"),k=r("kIsReadable"),L=r("kIsDisturbed");function y(s,m=!1){var _;return!!(s&&typeof s.pipe=="function"&&typeof s.on=="function"&&(!m||typeof s.pause=="function"&&typeof s.resume=="function")&&(!s._writableState||((_=s._readableState)===null||_===void 0?void 0:_.readable)!==!1)&&(!s._writableState||s._readableState))}function R(s){var m;return!!(s&&typeof s.write=="function"&&typeof s.on=="function"&&(!s._readableState||((m=s._writableState)===null||m===void 0?void 0:m.writable)!==!1))}function Z(s){return!!(s&&typeof s.pipe=="function"&&s._readableState&&typeof s.on=="function"&&typeof s.write=="function")}function T(s){return s&&(s._readableState||s._writableState||typeof s.write=="function"&&typeof s.on=="function"||typeof s.pipe=="function"&&typeof s.on=="function")}function M(s,m){return s==null?!1:m===!0?typeof s[v]=="function":m===!1?typeof s[b]=="function":typeof s[v]=="function"||typeof s[b]=="function"}function $(s){if(!T(s))return null;let{_writableState:m,_readableState:_}=s,h=m||_;return!!(s.destroyed||s[x]||h!=null&&h.destroyed)}function q(s){if(!R(s))return null;if(s.writableEnded===!0)return!0;let m=s._writableState;return m!=null&&m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function g(s,m){if(!R(s))return null;if(s.writableFinished===!0)return!0;let _=s._writableState;return _!=null&&_.errored?!1:typeof _?.finished!="boolean"?null:!!(_.finished||m===!1&&_.ended===!0&&_.length===0)}function w(s){if(!y(s))return null;if(s.readableEnded===!0)return!0;let m=s._readableState;return!m||m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function I(s,m){if(!y(s))return null;let _=s._readableState;return _!=null&&_.errored?!1:typeof _?.endEmitted!="boolean"?null:!!(_.endEmitted||m===!1&&_.ended===!0&&_.length===0)}function W(s){return s&&s[k]!=null?s[k]:typeof s?.readable!="boolean"?null:$(s)?!1:y(s)&&s.readable&&!I(s)}function E(s){return typeof s?.writable!="boolean"?null:$(s)?!1:R(s)&&s.writable&&!q(s)}function D(s,m){return T(s)?$(s)?!0:!(m?.readable!==!1&&W(s)||m?.writable!==!1&&E(s)):null}function C(s){var m,_;return T(s)?s.writableErrored?s.writableErrored:(m=(_=s._writableState)===null||_===void 0?void 0:_.errored)!==null&&m!==void 0?m:null:null}function uo(s){var m,_;return T(s)?s.readableErrored?s.readableErrored:(m=(_=s._readableState)===null||_===void 0?void 0:_.errored)!==null&&m!==void 0?m:null:null}function po(s){if(!T(s))return null;if(typeof s.closed=="boolean")return s.closed;let{_writableState:m,_readableState:_}=s;return typeof m?.closed=="boolean"||typeof _?.closed=="boolean"?m?.closed||_?.closed:typeof s._closed=="boolean"&&To(s)?s._closed:null}function To(s){return typeof s._closed=="boolean"&&typeof s._defaultKeepAlive=="boolean"&&typeof s._removedConnection=="boolean"&&typeof s._removedContLen=="boolean"}function co(s){return typeof s._sent100=="boolean"&&To(s)}function Lo(s){var m;return typeof s._consuming=="boolean"&&typeof s._dumped=="boolean"&&((m=s.req)===null||m===void 0?void 0:m.upgradeOrConnect)===void 0}function o(s){if(!T(s))return null;let{_writableState:m,_readableState:_}=s,h=m||_;return!h&&co(s)||!!(h&&h.autoDestroy&&h.emitClose&&h.closed===!1)}function n(s){var m;return!!(s&&((m=s[L])!==null&&m!==void 0?m:s.readableDidRead||s.readableAborted))}function c(s){var m,_,h,d,a,t,S,U,P,fo;return!!(s&&((m=(_=(h=(d=(a=(t=s[u])!==null&&t!==void 0?t:s.readableErrored)!==null&&a!==void 0?a:s.writableErrored)!==null&&d!==void 0?d:(S=s._readableState)===null||S===void 0?void 0:S.errorEmitted)!==null&&h!==void 0?h:(U=s._writableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&_!==void 0?_:(P=s._readableState)===null||P===void 0?void 0:P.errored)!==null&&m!==void 0?m:(fo=s._writableState)===null||fo===void 0?void 0:fo.errored))}p.exports={kDestroyed:x,isDisturbed:n,kIsDisturbed:L,isErrored:c,kIsErrored:u,isReadable:W,kIsReadable:k,isClosed:po,isDestroyed:$,isDuplexNodeStream:Z,isFinished:D,isIterable:M,isReadableNodeStream:y,isReadableEnded:w,isReadableFinished:I,isReadableErrored:uo,isNodeStream:T,isWritable:E,isWritableNodeStream:R,isWritableEnded:q,isWritableFinished:g,isWritableErrored:C,isServerRequest:Lo,isServerResponse:co,willEmitClose:o}}),Me=Fo((l,p)=>{var r=(Te(),Da(re)),{AbortError:v,codes:b}=ja(),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_PREMATURE_CLOSE:u}=b,{kEmptyObject:k,once:L}=le(),{validateAbortSignal:y,validateFunction:R,validateObject:Z}=Dn(),{Promise:T}=Ma(),{isClosed:M,isReadable:$,isReadableNodeStream:q,isReadableFinished:g,isReadableErrored:w,isWritable:I,isWritableNodeStream:W,isWritableFinished:E,isWritableErrored:D,isNodeStream:C,willEmitClose:uo}=Ve();function po(o){return o.setHeader&&typeof o.abort=="function"}var To=()=>{};function co(o,n,c){var s,m;arguments.length===2?(c=n,n=k):n==null?n=k:Z(n,"options"),R(c,"callback"),y(n.signal,"options.signal"),c=L(c);let _=(s=n.readable)!==null&&s!==void 0?s:q(o),h=(m=n.writable)!==null&&m!==void 0?m:W(o);if(!C(o))throw new x("stream","Stream",o);let{_writableState:d,_readableState:a}=o,t=()=>{o.writable||P()},S=uo(o)&&q(o)===_&&W(o)===h,U=E(o,!1),P=()=>{U=!0,o.destroyed&&(S=!1),!(S&&(!o.readable||_))&&(!_||fo)&&c.call(o)},fo=g(o,!1),vo=()=>{fo=!0,o.destroyed&&(S=!1),!(S&&(!o.writable||h))&&(!h||U)&&c.call(o)},xo=(qo)=>{c.call(o,qo)},mo=M(o),io=()=>{mo=!0;let qo=D(o)||w(o);if(qo&&typeof qo!="boolean")return c.call(o,qo);if(_&&!fo&&q(o,!0)&&!g(o,!1))return c.call(o,new u);if(h&&!U&&!E(o,!1))return c.call(o,new u);c.call(o)},ko=()=>{o.req.on("finish",P)};po(o)?(o.on("complete",P),S||o.on("abort",io),o.req?ko():o.on("request",ko)):h&&!d&&(o.on("end",t),o.on("close",t)),!S&&typeof o.aborted=="boolean"&&o.on("aborted",io),o.on("end",vo),o.on("finish",P),n.error!==!1&&o.on("error",xo),o.on("close",io),mo?r.nextTick(io):d!=null&&d.errorEmitted||a!=null&&a.errorEmitted?S||r.nextTick(io):(!_&&(!S||$(o))&&(U||I(o)===!1)||!h&&(!S||I(o))&&(fo||$(o)===!1)||a&&o.req&&o.aborted)&&r.nextTick(io);let Io=()=>{c=To,o.removeListener("aborted",io),o.removeListener("complete",P),o.removeListener("abort",io),o.removeListener("request",ko),o.req&&o.req.removeListener("finish",P),o.removeListener("end",t),o.removeListener("close",t),o.removeListener("finish",P),o.removeListener("end",vo),o.removeListener("error",xo),o.removeListener("close",io)};if(n.signal&&!mo){let qo=()=>{let Oo=c;Io(),Oo.call(o,new v(void 0,{cause:n.signal.reason}))};if(n.signal.aborted)r.nextTick(qo);else{let Oo=c;c=L((...H)=>{n.signal.removeEventListener("abort",qo),Oo.apply(o,H)}),n.signal.addEventListener("abort",qo)}}return Io}function Lo(o,n){return new T((c,s)=>{co(o,n,(m)=>{m?s(m):c()})})}p.exports=co,p.exports.finished=Lo}),kc=Fo((l,p)=>{var r=globalThis.AbortController||Js().AbortController,{codes:{ERR_INVALID_ARG_TYPE:v,ERR_MISSING_ARGS:b,ERR_OUT_OF_RANGE:x},AbortError:u}=ja(),{validateAbortSignal:k,validateInteger:L,validateObject:y}=Dn(),R=Ma().Symbol("kWeak"),{finished:Z}=Me(),{ArrayPrototypePush:T,MathFloor:M,Number:$,NumberIsNaN:q,Promise:g,PromiseReject:w,PromisePrototypeThen:I,Symbol:W}=Ma(),E=W("kEmpty"),D=W("kEof");function C(a,t){if(typeof a!="function")throw new v("fn",["Function","AsyncFunction"],a);t!=null&&y(t,"options"),t?.signal!=null&&k(t.signal,"options.signal");let S=1;return t?.concurrency!=null&&(S=M(t.concurrency)),L(S,"concurrency",1),async function*(){var U,P;let fo=new r,vo=this,xo=[],mo=fo.signal,io={signal:mo},ko=()=>fo.abort();t!=null&&(U=t.signal)!==null&&U!==void 0&&U.aborted&&ko(),t==null||(P=t.signal)===null||P===void 0||P.addEventListener("abort",ko);let Io,qo,Oo=!1;function H(){Oo=!0}async function j(){try{for await(let Uo of vo){var B;if(Oo)return;if(mo.aborted)throw new u;try{Uo=a(Uo,io)}catch(Vo){Uo=w(Vo)}Uo!==E&&(typeof((B=Uo)===null||B===void 0?void 0:B.catch)=="function"&&Uo.catch(H),xo.push(Uo),Io&&(Io(),Io=null),!Oo&&xo.length&&xo.length>=S&&await new g((Vo)=>{qo=Vo}))}xo.push(D)}catch(Uo){let Vo=w(Uo);I(Vo,void 0,H),xo.push(Vo)}finally{var $o;Oo=!0,Io&&(Io(),Io=null),t==null||($o=t.signal)===null||$o===void 0||$o.removeEventListener("abort",ko)}}j();try{for(;;){for(;xo.length>0;){let B=await xo[0];if(B===D)return;if(mo.aborted)throw new u;B!==E&&(yield B),xo.shift(),qo&&(qo(),qo=null)}await new g((B)=>{Io=B})}}finally{fo.abort(),Oo=!0,qo&&(qo(),qo=null)}}.call(this)}function uo(a=void 0){return a!=null&&y(a,"options"),a?.signal!=null&&k(a.signal,"options.signal"),async function*(){let t=0;for await(let U of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u({cause:a.signal.reason});yield[t++,U]}}.call(this)}async function po(a,t=void 0){for await(let S of o.call(this,a,t))return!0;return!1}async function To(a,t=void 0){if(typeof a!="function")throw new v("fn",["Function","AsyncFunction"],a);return!await po.call(this,async(...S)=>!await a(...S),t)}async function co(a,t){for await(let S of o.call(this,a,t))return S}async function Lo(a,t){if(typeof a!="function")throw new v("fn",["Function","AsyncFunction"],a);async function S(U,P){return await a(U,P),E}for await(let U of C.call(this,S,t));}function o(a,t){if(typeof a!="function")throw new v("fn",["Function","AsyncFunction"],a);async function S(U,P){return await a(U,P)?U:E}return C.call(this,S,t)}var n=class extends b{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function c(a,t,S){var U;if(typeof a!="function")throw new v("reducer",["Function","AsyncFunction"],a);S!=null&&y(S,"options"),S?.signal!=null&&k(S.signal,"options.signal");let P=arguments.length>1;if(S!=null&&(U=S.signal)!==null&&U!==void 0&&U.aborted){let io=new u(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await Z(this.destroy(io)),io}let fo=new r,vo=fo.signal;if(S!=null&&S.signal){let io={once:!0,[R]:this};S.signal.addEventListener("abort",()=>fo.abort(),io)}let xo=!1;try{for await(let io of this){var mo;if(xo=!0,S!=null&&(mo=S.signal)!==null&&mo!==void 0&&mo.aborted)throw new u;P?t=await a(t,io,{signal:vo}):(t=io,P=!0)}if(!xo&&!P)throw new n}finally{fo.abort()}return t}async function s(a){a!=null&&y(a,"options"),a?.signal!=null&&k(a.signal,"options.signal");let t=[];for await(let U of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u(void 0,{cause:a.signal.reason});T(t,U)}return t}function m(a,t){let S=C.call(this,a,t);return async function*(){for await(let U of S)yield*U}.call(this)}function _(a){if(a=$(a),q(a))return 0;if(a<0)throw new x("number",">= 0",a);return a}function h(a,t=void 0){return t!=null&&y(t,"options"),t?.signal!=null&&k(t.signal,"options.signal"),a=_(a),async function*(){var S;if(t!=null&&(S=t.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let P of this){var U;if(t!=null&&(U=t.signal)!==null&&U!==void 0&&U.aborted)throw new u;a--<=0&&(yield P)}}.call(this)}function d(a,t=void 0){return t!=null&&y(t,"options"),t?.signal!=null&&k(t.signal,"options.signal"),a=_(a),async function*(){var S;if(t!=null&&(S=t.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let P of this){var U;if(t!=null&&(U=t.signal)!==null&&U!==void 0&&U.aborted)throw new u;if(a-- >0)yield P;else return}}.call(this)}p.exports.streamReturningOperators={asIndexedPairs:uo,drop:h,filter:o,flatMap:m,map:C,take:d},p.exports.promiseReturningOperators={every:To,forEach:Lo,reduce:c,toArray:s,some:po,find:co}}),Ce=Fo((l,p)=>{var r=(Te(),Da(re)),{aggregateTwoErrors:v,codes:{ERR_MULTIPLE_CALLBACK:b},AbortError:x}=ja(),{Symbol:u}=Ma(),{kDestroyed:k,isDestroyed:L,isFinished:y,isServerRequest:R}=Ve(),Z=u("kDestroy"),T=u("kConstruct");function M(o,n,c){o&&(o.stack,n&&!n.errored&&(n.errored=o),c&&!c.errored&&(c.errored=o))}function $(o,n){let c=this._readableState,s=this._writableState,m=s||c;return s&&s.destroyed||c&&c.destroyed?(typeof n=="function"&&n(),this):(M(o,s,c),s&&(s.destroyed=!0),c&&(c.destroyed=!0),m.constructed?q(this,o,n):this.once(Z,function(_){q(this,v(_,o),n)}),this)}function q(o,n,c){let s=!1;function m(_){if(s)return;s=!0;let{_readableState:h,_writableState:d}=o;M(_,d,h),d&&(d.closed=!0),h&&(h.closed=!0),typeof c=="function"&&c(_),_?r.nextTick(g,o,_):r.nextTick(w,o)}try{o._destroy(n||null,m)}catch(_){m(_)}}function g(o,n){I(o,n),w(o)}function w(o){let{_readableState:n,_writableState:c}=o;c&&(c.closeEmitted=!0),n&&(n.closeEmitted=!0),(c&&c.emitClose||n&&n.emitClose)&&o.emit("close")}function I(o,n){let{_readableState:c,_writableState:s}=o;s&&s.errorEmitted||c&&c.errorEmitted||(s&&(s.errorEmitted=!0),c&&(c.errorEmitted=!0),o.emit("error",n))}function W(){let o=this._readableState,n=this._writableState;o&&(o.constructed=!0,o.closed=!1,o.closeEmitted=!1,o.destroyed=!1,o.errored=null,o.errorEmitted=!1,o.reading=!1,o.ended=o.readable===!1,o.endEmitted=o.readable===!1),n&&(n.constructed=!0,n.destroyed=!1,n.closed=!1,n.closeEmitted=!1,n.errored=null,n.errorEmitted=!1,n.finalCalled=!1,n.prefinished=!1,n.ended=n.writable===!1,n.ending=n.writable===!1,n.finished=n.writable===!1)}function E(o,n,c){let{_readableState:s,_writableState:m}=o;if(m&&m.destroyed||s&&s.destroyed)return this;s&&s.autoDestroy||m&&m.autoDestroy?o.destroy(n):n&&(n.stack,m&&!m.errored&&(m.errored=n),s&&!s.errored&&(s.errored=n),c?r.nextTick(I,o,n):I(o,n))}function D(o,n){if(typeof o._construct!="function")return;let{_readableState:c,_writableState:s}=o;c&&(c.constructed=!1),s&&(s.constructed=!1),o.once(T,n),!(o.listenerCount(T)>1)&&r.nextTick(C,o)}function C(o){let n=!1;function c(s){if(n){E(o,s??new b);return}n=!0;let{_readableState:m,_writableState:_}=o,h=_||m;m&&(m.constructed=!0),_&&(_.constructed=!0),h.destroyed?o.emit(Z,s):s?E(o,s,!0):r.nextTick(uo,o)}try{o._construct(c)}catch(s){c(s)}}function uo(o){o.emit(T)}function po(o){return o&&o.setHeader&&typeof o.abort=="function"}function To(o){o.emit("close")}function co(o,n){o.emit("error",n),r.nextTick(To,o)}function Lo(o,n){!o||L(o)||(!n&&!y(o)&&(n=new x),R(o)?(o.socket=null,o.destroy(n)):po(o)?o.abort():po(o.req)?o.req.abort():typeof o.destroy=="function"?o.destroy(n):typeof o.close=="function"?o.close():n?r.nextTick(co,o,n):r.nextTick(To,o),o.destroyed||(o[k]=!0))}p.exports={construct:D,destroyer:Lo,destroy:$,undestroy:W,errorOrDestroy:E}}),Ks=Fo((l,p)=>{var{ArrayIsArray:r,ObjectSetPrototypeOf:v}=Ma(),{EventEmitter:b}=$e();function x(k){b.call(this,k)}v(x.prototype,b.prototype),v(x,b),x.prototype.pipe=function(k,L){let y=this;function R(w){k.writable&&k.write(w)===!1&&y.pause&&y.pause()}y.on("data",R);function Z(){y.readable&&y.resume&&y.resume()}k.on("drain",Z),!k._isStdio&&(!L||L.end!==!1)&&(y.on("end",M),y.on("close",$));let T=!1;function M(){T||(T=!0,k.end())}function $(){T||(T=!0,typeof k.destroy=="function"&&k.destroy())}function q(w){g(),b.listenerCount(this,"error")===0&&this.emit("error",w)}u(y,"error",q),u(k,"error",q);function g(){y.removeListener("data",R),k.removeListener("drain",Z),y.removeListener("end",M),y.removeListener("close",$),y.removeListener("error",q),k.removeListener("error",q),y.removeListener("end",g),y.removeListener("close",g),k.removeListener("close",g)}return y.on("end",g),y.on("close",g),k.on("close",g),k.emit("pipe",y),k};function u(k,L,y){if(typeof k.prependListener=="function")return k.prependListener(L,y);!k._events||!k._events[L]?k.on(L,y):r(k._events[L])?k._events[L].unshift(y):k._events[L]=[y,k._events[L]]}p.exports={Stream:x,prependListener:u}}),Es=Fo((l,p)=>{var{AbortError:r,codes:v}=ja(),b=Me(),{ERR_INVALID_ARG_TYPE:x}=v,u=(L,y)=>{if(typeof L!="object"||!("aborted"in L))throw new x(y,"AbortSignal",L)};function k(L){return!!(L&&typeof L.pipe=="function")}p.exports.addAbortSignal=function(L,y){if(u(L,"signal"),!k(y))throw new x("stream","stream.Stream",y);return p.exports.addAbortSignalNoValidate(L,y)},p.exports.addAbortSignalNoValidate=function(L,y){if(typeof L!="object"||!("aborted"in L))return y;let R=()=>{y.destroy(new r(void 0,{cause:L.reason}))};return L.aborted?R():(L.addEventListener("abort",R),b(y,()=>L.removeEventListener("abort",R))),y}}),hc=Fo((l,p)=>{var{StringPrototypeSlice:r,SymbolIterator:v,TypedArrayPrototypeSet:b,Uint8Array:x}=Ma(),{Buffer:u}=Xa(),{inspect:k}=le();p.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(L){let y={data:L,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(L){let y={data:L,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;let L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}clear(){this.head=this.tail=null,this.length=0}join(L){if(this.length===0)return"";let y=this.head,R=""+y.data;for(;(y=y.next)!==null;)R+=L+y.data;return R}concat(L){if(this.length===0)return u.alloc(0);let y=u.allocUnsafe(L>>>0),R=this.head,Z=0;for(;R;)b(y,R.data,Z),Z+=R.data.length,R=R.next;return y}consume(L,y){let R=this.head.data;if(L<R.length){let Z=R.slice(0,L);return this.head.data=R.slice(L),Z}return L===R.length?this.shift():y?this._getString(L):this._getBuffer(L)}first(){return this.head.data}*[v](){for(let L=this.head;L;L=L.next)yield L.data}_getString(L){let y="",R=this.head,Z=0;do{let T=R.data;if(L>T.length)y+=T,L-=T.length;else{L===T.length?(y+=T,++Z,R.next?this.head=R.next:this.head=this.tail=null):(y+=r(T,0,L),this.head=R,R.data=r(T,L));break}++Z}while((R=R.next)!==null);return this.length-=Z,y}_getBuffer(L){let y=u.allocUnsafe(L),R=L,Z=this.head,T=0;do{let M=Z.data;if(L>M.length)b(y,M,R-L),L-=M.length;else{L===M.length?(b(y,M,R-L),++T,Z.next?this.head=Z.next:this.head=this.tail=null):(b(y,new x(M.buffer,M.byteOffset,L),R-L),this.head=Z,Z.data=M.slice(L));break}++T}while((Z=Z.next)!==null);return this.length-=T,y}[Symbol.for("nodejs.util.inspect.custom")](L,y){return k(this,{...y,depth:0,customInspect:!1})}}}),Ps=Fo((l,p)=>{var{MathFloor:r,NumberIsInteger:v}=Ma(),{ERR_INVALID_ARG_VALUE:b}=ja().codes;function x(L,y,R){return L.highWaterMark!=null?L.highWaterMark:y?L[R]:null}function u(L){return L?16:16384}function k(L,y,R,Z){let T=x(y,Z,R);if(T!=null){if(!v(T)||T<0){let M=Z?`options.${R}`:"options.highWaterMark";throw new b(M,T)}return r(T)}return u(L.objectMode)}p.exports={getHighWaterMark:k,getDefaultHighWaterMark:u}}),Cl=Fo((l,p)=>{var r=(Te(),Da(re)),{PromisePrototypeThen:v,SymbolAsyncIterator:b,SymbolIterator:x}=Ma(),{Buffer:u}=Xa(),{ERR_INVALID_ARG_TYPE:k,ERR_STREAM_NULL_VALUES:L}=ja().codes;function y(R,Z,T){let M;if(typeof Z=="string"||Z instanceof u)return new R({objectMode:!0,...T,read(){this.push(Z),this.push(null)}});let $;if(Z&&Z[b])$=!0,M=Z[b]();else if(Z&&Z[x])$=!1,M=Z[x]();else throw new k("iterable",["Iterable"],Z);let q=new R({objectMode:!0,highWaterMark:1,...T}),g=!1;q._read=function(){g||(g=!0,I())},q._destroy=function(W,E){v(w(W),()=>r.nextTick(E,W),(D)=>r.nextTick(E,D||W))};async function w(W){let E=W!=null,D=typeof M.throw=="function";if(E&&D){let{value:C,done:uo}=await M.throw(W);if(await C,uo)return}if(typeof M.return=="function"){let{value:C}=await M.return();await C}}async function I(){for(;;){try{let{value:W,done:E}=$?await M.next():M.next();if(E)q.push(null);else{let D=W&&typeof W.then=="function"?await W:W;if(D===null)throw g=!1,new L;if(q.push(D))continue;g=!1}}catch(W){q.destroy(W)}break}}return q}p.exports=y}),Qn=Fo((l,p)=>{var r=(Te(),Da(re)),{ArrayPrototypeIndexOf:v,NumberIsInteger:b,NumberIsNaN:x,NumberParseInt:u,ObjectDefineProperties:k,ObjectKeys:L,ObjectSetPrototypeOf:y,Promise:R,SafeSet:Z,SymbolAsyncIterator:T,Symbol:M}=Ma();p.exports=S,S.ReadableState=t;var{EventEmitter:$}=$e(),{Stream:q,prependListener:g}=Ks(),{Buffer:w}=Xa(),{addAbortSignal:I}=Es(),W=Me(),E=le().debuglog("stream",(O)=>{E=O}),D=hc(),C=Ce(),{getHighWaterMark:uo,getDefaultHighWaterMark:po}=Ps(),{aggregateTwoErrors:To,codes:{ERR_INVALID_ARG_TYPE:co,ERR_METHOD_NOT_IMPLEMENTED:Lo,ERR_OUT_OF_RANGE:o,ERR_STREAM_PUSH_AFTER_EOF:n,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:c}}=ja(),{validateObject:s}=Dn(),m=M("kPaused"),{StringDecoder:_}=js(),h=Cl();y(S.prototype,q.prototype),y(S,q);var d=()=>{},{errorOrDestroy:a}=C;function t(O,e,i){typeof i!="boolean"&&(i=e instanceof ie()),this.objectMode=!!(O&&O.objectMode),i&&(this.objectMode=this.objectMode||!!(O&&O.readableObjectMode)),this.highWaterMark=O?uo(this,O,"readableHighWaterMark",i):po(!1),this.buffer=new D,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[m]=null,this.errorEmitted=!1,this.emitClose=!O||O.emitClose!==!1,this.autoDestroy=!O||O.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,O&&O.encoding&&(this.decoder=new _(O.encoding),this.encoding=O.encoding)}function S(O){if(!(this instanceof S))return new S(O);let e=this instanceof ie();this._readableState=new t(O,this,e),O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&!e&&I(O.signal,this)),q.call(this,O),C.construct(this,()=>{this._readableState.needReadable&&Io(this,this._readableState)})}S.prototype.destroy=C.destroy,S.prototype._undestroy=C.undestroy,S.prototype._destroy=function(O,e){e(O)},S.prototype[$.captureRejectionSymbol]=function(O){this.destroy(O)},S.prototype.push=function(O,e){return U(this,O,e,!1)},S.prototype.unshift=function(O,e){return U(this,O,e,!0)};function U(O,e,i,f){E("readableAddChunk",e);let N=O._readableState,V;if(N.objectMode||(typeof e=="string"?(i=i||N.defaultEncoding,N.encoding!==i&&(f&&N.encoding?e=w.from(e,i).toString(N.encoding):(e=w.from(e,i),i=""))):e instanceof w?i="":q._isUint8Array(e)?(e=q._uint8ArrayToBuffer(e),i=""):e!=null&&(V=new co("chunk",["string","Buffer","Uint8Array"],e))),V)a(O,V);else if(e===null)N.reading=!1,mo(O,N);else if(N.objectMode||e&&e.length>0)if(f)if(N.endEmitted)a(O,new c);else{if(N.destroyed||N.errored)return!1;P(O,N,e,!0)}else if(N.ended)a(O,new n);else{if(N.destroyed||N.errored)return!1;N.reading=!1,N.decoder&&!i?(e=N.decoder.write(e),N.objectMode||e.length!==0?P(O,N,e,!1):Io(O,N)):P(O,N,e,!1)}else f||(N.reading=!1,Io(O,N));return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function P(O,e,i,f){e.flowing&&e.length===0&&!e.sync&&O.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,O.emit("data",i)):(e.length+=e.objectMode?1:i.length,f?e.buffer.unshift(i):e.buffer.push(i),e.needReadable&&io(O)),Io(O,e)}S.prototype.isPaused=function(){let O=this._readableState;return O[m]===!0||O.flowing===!1},S.prototype.setEncoding=function(O){let e=new _(O);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,f="";for(let N of i)f+=e.write(N);return i.clear(),f!==""&&i.push(f),this._readableState.length=f.length,this};var fo=1073741824;function vo(O){if(O>fo)throw new o("size","<= 1GiB",O);return O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++,O}function xo(O,e){return O<=0||e.length===0&&e.ended?0:e.objectMode?1:x(O)?e.flowing&&e.length?e.buffer.first().length:e.length:O<=e.length?O:e.ended?e.length:0}S.prototype.read=function(O){E("read",O),O===void 0?O=NaN:b(O)||(O=u(O,10));let e=this._readableState,i=O;if(O>e.highWaterMark&&(e.highWaterMark=vo(O)),O!==0&&(e.emittedReadable=!1),O===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return E("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?zo(this):io(this),null;if(O=xo(O,e),O===0&&e.ended)return e.length===0&&zo(this),null;let f=e.needReadable;if(E("need readable",f),(e.length===0||e.length-O<e.highWaterMark)&&(f=!0,E("length less than watermark",f)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)f=!1,E("reading, ended or constructing",f);else if(f){E("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(V){a(this,V)}e.sync=!1,e.reading||(O=xo(i,e))}let N;return O>0?N=jo(O,e):N=null,N===null?(e.needReadable=e.length<=e.highWaterMark,O=0):(e.length-=O,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),i!==O&&e.ended&&zo(this)),N!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",N)),N};function mo(O,e){if(E("onEofChunk"),!e.ended){if(e.decoder){let i=e.decoder.end();i&&i.length&&(e.buffer.push(i),e.length+=e.objectMode?1:i.length)}e.ended=!0,e.sync?io(O):(e.needReadable=!1,e.emittedReadable=!0,ko(O))}}function io(O){let e=O._readableState;E("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(E("emitReadable",e.flowing),e.emittedReadable=!0,r.nextTick(ko,O))}function ko(O){let e=O._readableState;E("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(O.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Uo(O)}function Io(O,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,r.nextTick(qo,O,e))}function qo(O,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let i=e.length;if(E("maybeReadMore read 0"),O.read(0),i===e.length)break}e.readingMore=!1}S.prototype._read=function(O){throw new Lo("_read()")},S.prototype.pipe=function(O,e){let i=this,f=this._readableState;f.pipes.length===1&&(f.multiAwaitDrain||(f.multiAwaitDrain=!0,f.awaitDrainWriters=new Z(f.awaitDrainWriters?[f.awaitDrainWriters]:[]))),f.pipes.push(O),E("pipe count=%d opts=%j",f.pipes.length,e);let N=(!e||e.end!==!1)&&O!==r.stdout&&O!==r.stderr?X:A;f.endEmitted?r.nextTick(N):i.once("end",N),O.on("unpipe",V);function V(ro,No){E("onunpipe"),ro===i&&No&&No.hasUnpiped===!1&&(No.hasUnpiped=!0,z())}function X(){E("onend"),O.end()}let F,K=!1;function z(){E("cleanup"),O.removeListener("close",G),O.removeListener("finish",no),F&&O.removeListener("drain",F),O.removeListener("error",Y),O.removeListener("unpipe",V),i.removeListener("end",X),i.removeListener("end",A),i.removeListener("data",ao),K=!0,F&&f.awaitDrainWriters&&(!O._writableState||O._writableState.needDrain)&&F()}function J(){K||(f.pipes.length===1&&f.pipes[0]===O?(E("false write response, pause",0),f.awaitDrainWriters=O,f.multiAwaitDrain=!1):f.pipes.length>1&&f.pipes.includes(O)&&(E("false write response, pause",f.awaitDrainWriters.size),f.awaitDrainWriters.add(O)),i.pause()),F||(F=Oo(i,O),O.on("drain",F))}i.on("data",ao);function ao(ro){E("ondata");let No=O.write(ro);E("dest.write",No),No===!1&&J()}function Y(ro){if(E("onerror",ro),A(),O.removeListener("error",Y),O.listenerCount("error")===0){let No=O._writableState||O._readableState;No&&!No.errorEmitted?a(O,ro):O.emit("error",ro)}}g(O,"error",Y);function G(){O.removeListener("finish",no),A()}O.once("close",G);function no(){E("onfinish"),O.removeListener("close",G),A()}O.once("finish",no);function A(){E("unpipe"),i.unpipe(O)}return O.emit("pipe",i),O.writableNeedDrain===!0?f.flowing&&J():f.flowing||(E("pipe resume"),i.resume()),O};function Oo(O,e){return function(){let i=O._readableState;i.awaitDrainWriters===e?(E("pipeOnDrain",1),i.awaitDrainWriters=null):i.multiAwaitDrain&&(E("pipeOnDrain",i.awaitDrainWriters.size),i.awaitDrainWriters.delete(e)),(!i.awaitDrainWriters||i.awaitDrainWriters.size===0)&&O.listenerCount("data")&&O.resume()}}S.prototype.unpipe=function(O){let e=this._readableState,i={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!O){let N=e.pipes;e.pipes=[],this.pause();for(let V=0;V<N.length;V++)N[V].emit("unpipe",this,{hasUnpiped:!1});return this}let f=v(e.pipes,O);return f===-1?this:(e.pipes.splice(f,1),e.pipes.length===0&&this.pause(),O.emit("unpipe",this,i),this)},S.prototype.on=function(O,e){let i=q.prototype.on.call(this,O,e),f=this._readableState;return O==="data"?(f.readableListening=this.listenerCount("readable")>0,f.flowing!==!1&&this.resume()):O==="readable"&&!f.endEmitted&&!f.readableListening&&(f.readableListening=f.needReadable=!0,f.flowing=!1,f.emittedReadable=!1,E("on readable",f.length,f.reading),f.length?io(this):f.reading||r.nextTick(j,this)),i},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(O,e){let i=q.prototype.removeListener.call(this,O,e);return O==="readable"&&r.nextTick(H,this),i},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(O){let e=q.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&r.nextTick(H,this),e};function H(O){let e=O._readableState;e.readableListening=O.listenerCount("readable")>0,e.resumeScheduled&&e[m]===!1?e.flowing=!0:O.listenerCount("data")>0?O.resume():e.readableListening||(e.flowing=null)}function j(O){E("readable nexttick read 0"),O.read(0)}S.prototype.resume=function(){let O=this._readableState;return O.flowing||(E("resume"),O.flowing=!O.readableListening,B(this,O)),O[m]=!1,this};function B(O,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick($o,O,e))}function $o(O,e){E("resume",e.reading),e.reading||O.read(0),e.resumeScheduled=!1,O.emit("resume"),Uo(O),e.flowing&&!e.reading&&O.read(0)}S.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[m]=!0,this};function Uo(O){let e=O._readableState;for(E("flow",e.flowing);e.flowing&&O.read()!==null;);}S.prototype.wrap=function(O){let e=!1;O.on("data",(f)=>{!this.push(f)&&O.pause&&(e=!0,O.pause())}),O.on("end",()=>{this.push(null)}),O.on("error",(f)=>{a(this,f)}),O.on("close",()=>{this.destroy()}),O.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&O.resume&&(e=!1,O.resume())};let i=L(O);for(let f=1;f<i.length;f++){let N=i[f];this[N]===void 0&&typeof O[N]=="function"&&(this[N]=O[N].bind(O))}return this},S.prototype[T]=function(){return Vo(this)},S.prototype.iterator=function(O){return O!==void 0&&s(O,"options"),Vo(this,O)};function Vo(O,e){typeof O.read!="function"&&(O=S.wrap(O,{objectMode:!0}));let i=Ho(O,e);return i.stream=O,i}async function*Ho(O,e){let i=d;function f(X){this===O?(i(),i=d):i=X}O.on("readable",f);let N,V=W(O,{writable:!1},(X)=>{N=X?To(N,X):null,i(),i=d});try{for(;;){let X=O.destroyed?null:O.read();if(X!==null)yield X;else{if(N)throw N;if(N===null)return;await new R(f)}}}catch(X){throw N=To(N,X),N}finally{(N||e?.destroyOnReturn!==!1)&&(N===void 0||O._readableState.autoDestroy)?C.destroyer(O,null):(O.off("readable",f),V())}}k(S.prototype,{readable:{__proto__:null,get(){let O=this._readableState;return!!O&&O.readable!==!1&&!O.destroyed&&!O.errorEmitted&&!O.endEmitted},set(O){this._readableState&&(this._readableState.readable=!!O)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(O){!this._readableState||(this._readableState.destroyed=O)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),k(t.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[m]!==!1},set(O){this[m]=!!O}}}),S._fromList=jo;function jo(O,e){if(e.length===0)return null;let i;return e.objectMode?i=e.buffer.shift():!O||O>=e.length?(e.decoder?i=e.buffer.join(""):e.buffer.length===1?i=e.buffer.first():i=e.buffer.concat(e.length),e.buffer.clear()):i=e.buffer.consume(O,e.decoder),i}function zo(O){let e=O._readableState;E("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,r.nextTick(Bo,e,O))}function Bo(O,e){if(E("endReadableNT",O.endEmitted,O.length),!O.errored&&!O.closeEmitted&&!O.endEmitted&&O.length===0){if(O.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)r.nextTick(Jo,e);else if(O.autoDestroy){let i=e._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&e.destroy()}}}function Jo(O){O.writable&&!O.writableEnded&&!O.destroyed&&O.end()}S.from=function(O,e){return h(S,O,e)};var Wo;function ba(){return Wo===void 0&&(Wo={}),Wo}S.fromWeb=function(O,e){return ba().newStreamReadableFromReadableStream(O,e)},S.toWeb=function(O,e){return ba().newReadableStreamFromStreamReadable(O,e)},S.wrap=function(O,e){var i,f;return new S({objectMode:(i=(f=O.readableObjectMode)!==null&&f!==void 0?f:O.objectMode)!==null&&i!==void 0?i:!0,...e,destroy(N,V){C.destroyer(O,N),V(N)}}).wrap(O)}}),Bl=Fo((l,p)=>{var r=(Te(),Da(re)),{ArrayPrototypeSlice:v,Error:b,FunctionPrototypeSymbolHasInstance:x,ObjectDefineProperty:u,ObjectDefineProperties:k,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:y,Symbol:R,SymbolHasInstance:Z}=Ma();p.exports=_,_.WritableState=s;var{EventEmitter:T}=$e(),M=Ks().Stream,{Buffer:$}=Xa(),q=Ce(),{addAbortSignal:g}=Es(),{getHighWaterMark:w,getDefaultHighWaterMark:I}=Ps(),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:D,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:uo,ERR_STREAM_ALREADY_FINISHED:po,ERR_STREAM_NULL_VALUES:To,ERR_STREAM_WRITE_AFTER_END:co,ERR_UNKNOWN_ENCODING:Lo}=ja().codes,{errorOrDestroy:o}=q;L(_.prototype,M.prototype),L(_,M);function n(){}var c=R("kOnFinished");function s(j,B,$o){typeof $o!="boolean"&&($o=B instanceof ie()),this.objectMode=!!(j&&j.objectMode),$o&&(this.objectMode=this.objectMode||!!(j&&j.writableObjectMode)),this.highWaterMark=j?w(this,j,"writableHighWaterMark",$o):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let Uo=!!(j&&j.decodeStrings===!1);this.decodeStrings=!Uo,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,B),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,m(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!j||j.emitClose!==!1,this.autoDestroy=!j||j.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[c]=[]}function m(j){j.buffered=[],j.bufferedIndex=0,j.allBuffers=!0,j.allNoop=!0}s.prototype.getBuffer=function(){return v(this.buffered,this.bufferedIndex)},u(s.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _(j){let B=this instanceof ie();if(!B&&!x(_,this))return new _(j);this._writableState=new s(j,this,B),j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&g(j.signal,this)),M.call(this,j),q.construct(this,()=>{let $o=this._writableState;$o.writing||vo(this,$o),ko(this,$o)})}u(_,Z,{__proto__:null,value:function(j){return x(this,j)?!0:this!==_?!1:j&&j._writableState instanceof s}}),_.prototype.pipe=function(){o(this,new C)};function h(j,B,$o,Uo){let Vo=j._writableState;if(typeof $o=="function")Uo=$o,$o=Vo.defaultEncoding;else{if(!$o)$o=Vo.defaultEncoding;else if($o!=="buffer"&&!$.isEncoding($o))throw new Lo($o);typeof Uo!="function"&&(Uo=n)}if(B===null)throw new To;if(!Vo.objectMode)if(typeof B=="string")Vo.decodeStrings!==!1&&(B=$.from(B,$o),$o="buffer");else if(B instanceof $)$o="buffer";else if(M._isUint8Array(B))B=M._uint8ArrayToBuffer(B),$o="buffer";else throw new W("chunk",["string","Buffer","Uint8Array"],B);let Ho;return Vo.ending?Ho=new co:Vo.destroyed&&(Ho=new uo("write")),Ho?(r.nextTick(Uo,Ho),o(j,Ho,!0),Ho):(Vo.pendingcb++,d(j,Vo,B,$o,Uo))}_.prototype.write=function(j,B,$o){return h(this,j,B,$o)===!0},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){let j=this._writableState;j.corked&&(j.corked--,j.writing||vo(this,j))},_.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=y(j)),!$.isEncoding(j))throw new Lo(j);return this._writableState.defaultEncoding=j,this};function d(j,B,$o,Uo,Vo){let Ho=B.objectMode?1:$o.length;B.length+=Ho;let jo=B.length<B.highWaterMark;return jo||(B.needDrain=!0),B.writing||B.corked||B.errored||!B.constructed?(B.buffered.push({chunk:$o,encoding:Uo,callback:Vo}),B.allBuffers&&Uo!=="buffer"&&(B.allBuffers=!1),B.allNoop&&Vo!==n&&(B.allNoop=!1)):(B.writelen=Ho,B.writecb=Vo,B.writing=!0,B.sync=!0,j._write($o,Uo,B.onwrite),B.sync=!1),jo&&!B.errored&&!B.destroyed}function a(j,B,$o,Uo,Vo,Ho,jo){B.writelen=Uo,B.writecb=jo,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new uo("write")):$o?j._writev(Vo,B.onwrite):j._write(Vo,Ho,B.onwrite),B.sync=!1}function t(j,B,$o,Uo){--B.pendingcb,Uo($o),fo(B),o(j,$o)}function S(j,B){let $o=j._writableState,Uo=$o.sync,Vo=$o.writecb;if(typeof Vo!="function"){o(j,new D);return}$o.writing=!1,$o.writecb=null,$o.length-=$o.writelen,$o.writelen=0,B?(B.stack,$o.errored||($o.errored=B),j._readableState&&!j._readableState.errored&&(j._readableState.errored=B),Uo?r.nextTick(t,j,$o,B,Vo):t(j,$o,B,Vo)):($o.buffered.length>$o.bufferedIndex&&vo(j,$o),Uo?$o.afterWriteTickInfo!==null&&$o.afterWriteTickInfo.cb===Vo?$o.afterWriteTickInfo.count++:($o.afterWriteTickInfo={count:1,cb:Vo,stream:j,state:$o},r.nextTick(U,$o.afterWriteTickInfo)):P(j,$o,1,Vo))}function U({stream:j,state:B,count:$o,cb:Uo}){return B.afterWriteTickInfo=null,P(j,B,$o,Uo)}function P(j,B,$o,Uo){for(!B.ending&&!j.destroyed&&B.length===0&&B.needDrain&&(B.needDrain=!1,j.emit("drain"));$o-- >0;)B.pendingcb--,Uo();B.destroyed&&fo(B),ko(j,B)}function fo(j){if(j.writing)return;for(let Vo=j.bufferedIndex;Vo<j.buffered.length;++Vo){var B;let{chunk:Ho,callback:jo}=j.buffered[Vo],zo=j.objectMode?1:Ho.length;j.length-=zo,jo((B=j.errored)!==null&&B!==void 0?B:new uo("write"))}let $o=j[c].splice(0);for(let Vo=0;Vo<$o.length;Vo++){var Uo;$o[Vo]((Uo=j.errored)!==null&&Uo!==void 0?Uo:new uo("end"))}m(j)}function vo(j,B){if(B.corked||B.bufferProcessing||B.destroyed||!B.constructed)return;let{buffered:$o,bufferedIndex:Uo,objectMode:Vo}=B,Ho=$o.length-Uo;if(!Ho)return;let jo=Uo;if(B.bufferProcessing=!0,Ho>1&&j._writev){B.pendingcb-=Ho-1;let zo=B.allNoop?n:(Jo)=>{for(let Wo=jo;Wo<$o.length;++Wo)$o[Wo].callback(Jo)},Bo=B.allNoop&&jo===0?$o:v($o,jo);Bo.allBuffers=B.allBuffers,a(j,B,!0,B.length,Bo,"",zo),m(B)}else{do{let{chunk:zo,encoding:Bo,callback:Jo}=$o[jo];$o[jo++]=null;let Wo=Vo?1:zo.length;a(j,B,!1,Wo,zo,Bo,Jo)}while(jo<$o.length&&!B.writing);jo===$o.length?m(B):jo>256?($o.splice(0,jo),B.bufferedIndex=0):B.bufferedIndex=jo}B.bufferProcessing=!1}_.prototype._write=function(j,B,$o){if(this._writev)this._writev([{chunk:j,encoding:B}],$o);else throw new E("_write()")},_.prototype._writev=null,_.prototype.end=function(j,B,$o){let Uo=this._writableState;typeof j=="function"?($o=j,j=null,B=null):typeof B=="function"&&($o=B,B=null);let Vo;if(j!=null){let Ho=h(this,j,B);Ho instanceof b&&(Vo=Ho)}return Uo.corked&&(Uo.corked=1,this.uncork()),Vo||(!Uo.errored&&!Uo.ending?(Uo.ending=!0,ko(this,Uo,!0),Uo.ended=!0):Uo.finished?Vo=new po("end"):Uo.destroyed&&(Vo=new uo("end"))),typeof $o=="function"&&(Vo||Uo.finished?r.nextTick($o,Vo):Uo[c].push($o)),this};function xo(j){return j.ending&&!j.destroyed&&j.constructed&&j.length===0&&!j.errored&&j.buffered.length===0&&!j.finished&&!j.writing&&!j.errorEmitted&&!j.closeEmitted}function mo(j,B){let $o=!1;function Uo(Vo){if($o){o(j,Vo??D());return}if($o=!0,B.pendingcb--,Vo){let Ho=B[c].splice(0);for(let jo=0;jo<Ho.length;jo++)Ho[jo](Vo);o(j,Vo,B.sync)}else xo(B)&&(B.prefinished=!0,j.emit("prefinish"),B.pendingcb++,r.nextTick(Io,j,B))}B.sync=!0,B.pendingcb++;try{j._final(Uo)}catch(Vo){Uo(Vo)}B.sync=!1}function io(j,B){!B.prefinished&&!B.finalCalled&&(typeof j._final=="function"&&!B.destroyed?(B.finalCalled=!0,mo(j,B)):(B.prefinished=!0,j.emit("prefinish")))}function ko(j,B,$o){xo(B)&&(io(j,B),B.pendingcb===0&&($o?(B.pendingcb++,r.nextTick((Uo,Vo)=>{xo(Vo)?Io(Uo,Vo):Vo.pendingcb--},j,B)):xo(B)&&(B.pendingcb++,Io(j,B))))}function Io(j,B){B.pendingcb--,B.finished=!0;let $o=B[c].splice(0);for(let Uo=0;Uo<$o.length;Uo++)$o[Uo]();if(j.emit("finish"),B.autoDestroy){let Uo=j._readableState;(!Uo||Uo.autoDestroy&&(Uo.endEmitted||Uo.readable===!1))&&j.destroy()}}k(_.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(j){this._writableState&&(this._writableState.destroyed=j)}},writable:{__proto__:null,get(){let j=this._writableState;return!!j&&j.writable!==!1&&!j.destroyed&&!j.errored&&!j.ending&&!j.ended},set(j){this._writableState&&(this._writableState.writable=!!j)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let j=this._writableState;return j?!j.destroyed&&!j.ending&&j.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var qo=q.destroy;_.prototype.destroy=function(j,B){let $o=this._writableState;return!$o.destroyed&&($o.bufferedIndex<$o.buffered.length||$o[c].length)&&r.nextTick(fo,$o),qo.call(this,j,B),this},_.prototype._undestroy=q.undestroy,_.prototype._destroy=function(j,B){B(j)},_.prototype[T.captureRejectionSymbol]=function(j){this.destroy(j)};var Oo;function H(){return Oo===void 0&&(Oo={}),Oo}_.fromWeb=function(j,B){return H().newStreamWritableFromWritableStream(j,B)},_.toWeb=function(j){return H().newWritableStreamFromStreamWritable(j)}}),Nc=Fo((l,p)=>{var r=(Te(),Da(re)),v=Xa(),{isReadable:b,isWritable:x,isIterable:u,isNodeStream:k,isReadableNodeStream:L,isWritableNodeStream:y,isDuplexNodeStream:R}=Ve(),Z=Me(),{AbortError:T,codes:{ERR_INVALID_ARG_TYPE:M,ERR_INVALID_RETURN_VALUE:$}}=ja(),{destroyer:q}=Ce(),g=ie(),w=Qn(),{createDeferredPromise:I}=le(),W=Cl(),E=globalThis.Blob||v.Blob,D=typeof E<"u"?function(Lo){return Lo instanceof E}:function(Lo){return!1},C=globalThis.AbortController||Js().AbortController,{FunctionPrototypeCall:uo}=Ma(),po=class extends g{constructor(Lo){super(Lo),Lo?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Lo?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};p.exports=function Lo(o,n){if(R(o))return o;if(L(o))return co({readable:o});if(y(o))return co({writable:o});if(k(o))return co({writable:!1,readable:!1});if(typeof o=="function"){let{value:s,write:m,final:_,destroy:h}=To(o);if(u(s))return W(po,s,{objectMode:!0,write:m,final:_,destroy:h});let d=s?.then;if(typeof d=="function"){let a,t=uo(d,s,(S)=>{if(S!=null)throw new $("nully","body",S)},(S)=>{q(a,S)});return a=new po({objectMode:!0,readable:!1,write:m,final(S){_(async()=>{try{await t,r.nextTick(S,null)}catch(U){r.nextTick(S,U)}})},destroy:h})}throw new $("Iterable, AsyncIterable or AsyncFunction",n,s)}if(D(o))return Lo(o.arrayBuffer());if(u(o))return W(po,o,{objectMode:!0,writable:!1});if(typeof o?.writable=="object"||typeof o?.readable=="object"){let s=o!=null&&o.readable?L(o?.readable)?o?.readable:Lo(o.readable):void 0,m=o!=null&&o.writable?y(o?.writable)?o?.writable:Lo(o.writable):void 0;return co({readable:s,writable:m})}let c=o?.then;if(typeof c=="function"){let s;return uo(c,o,(m)=>{m!=null&&s.push(m),s.push(null)},(m)=>{q(s,m)}),s=new po({objectMode:!0,writable:!1,read(){}})}throw new M(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],o)};function To(Lo){let{promise:o,resolve:n}=I(),c=new C,s=c.signal;return{value:Lo(async function*(){for(;;){let m=o;o=null;let{chunk:_,done:h,cb:d}=await m;if(r.nextTick(d),h)return;if(s.aborted)throw new T(void 0,{cause:s.reason});({promise:o,resolve:n}=I()),yield _}}(),{signal:s}),write(m,_,h){let d=n;n=null,d({chunk:m,done:!1,cb:h})},final(m){let _=n;n=null,_({done:!0,cb:m})},destroy(m,_){c.abort(),_(m)}}}function co(Lo){let o=Lo.readable&&typeof Lo.readable.read!="function"?w.wrap(Lo.readable):Lo.readable,n=Lo.writable,c=!!b(o),s=!!x(n),m,_,h,d,a;function t(S){let U=d;d=null,U?U(S):S?a.destroy(S):!c&&!s&&a.destroy()}return a=new po({readableObjectMode:!!(o!=null&&o.readableObjectMode),writableObjectMode:!!(n!=null&&n.writableObjectMode),readable:c,writable:s}),s&&(Z(n,(S)=>{s=!1,S&&q(o,S),t(S)}),a._write=function(S,U,P){n.write(S,U)?P():m=P},a._final=function(S){n.end(),_=S},n.on("drain",function(){if(m){let S=m;m=null,S()}}),n.on("finish",function(){if(_){let S=_;_=null,S()}})),c&&(Z(o,(S)=>{c=!1,S&&q(o,S),t(S)}),o.on("readable",function(){if(h){let S=h;h=null,S()}}),o.on("end",function(){a.push(null)}),a._read=function(){for(;;){let S=o.read();if(S===null){h=a._read;return}if(!a.push(S))return}}),a._destroy=function(S,U){!S&&d!==null&&(S=new T),h=null,m=null,_=null,d===null?U(S):(d=U,q(n,S),q(o,S))},a}}),ie=Fo((l,p)=>{var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:v,ObjectKeys:b,ObjectSetPrototypeOf:x}=Ma();p.exports=L;var u=Qn(),k=Bl();x(L.prototype,u.prototype),x(L,u);{let T=b(k.prototype);for(let M=0;M<T.length;M++){let $=T[M];L.prototype[$]||(L.prototype[$]=k.prototype[$])}}function L(T){if(!(this instanceof L))return new L(T);u.call(this,T),k.call(this,T),T?(this.allowHalfOpen=T.allowHalfOpen!==!1,T.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),T.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(L.prototype,{writable:{__proto__:null,...v(k.prototype,"writable")},writableHighWaterMark:{__proto__:null,...v(k.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...v(k.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...v(k.prototype,"writableBuffer")},writableLength:{__proto__:null,...v(k.prototype,"writableLength")},writableFinished:{__proto__:null,...v(k.prototype,"writableFinished")},writableCorked:{__proto__:null,...v(k.prototype,"writableCorked")},writableEnded:{__proto__:null,...v(k.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...v(k.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(T){this._readableState&&this._writableState&&(this._readableState.destroyed=T,this._writableState.destroyed=T)}}});var y;function R(){return y===void 0&&(y={}),y}L.fromWeb=function(T,M){return R().newStreamDuplexFromReadableWritablePair(T,M)},L.toWeb=function(T){return R().newReadableWritablePairFromDuplex(T)};var Z;L.from=function(T){return Z||(Z=Nc()),Z(T,"body")}}),Al=Fo((l,p)=>{var{ObjectSetPrototypeOf:r,Symbol:v}=Ma();p.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:b}=ja().codes,x=ie(),{getHighWaterMark:u}=Ps();r(L.prototype,x.prototype),r(L,x);var k=v("kCallback");function L(Z){if(!(this instanceof L))return new L(Z);let T=Z?u(this,Z,"readableHighWaterMark",!0):null;T===0&&(Z={...Z,highWaterMark:null,readableHighWaterMark:T,writableHighWaterMark:Z.writableHighWaterMark||0}),x.call(this,Z),this._readableState.sync=!1,this[k]=null,Z&&(typeof Z.transform=="function"&&(this._transform=Z.transform),typeof Z.flush=="function"&&(this._flush=Z.flush)),this.on("prefinish",R)}function y(Z){typeof this._flush=="function"&&!this.destroyed?this._flush((T,M)=>{if(T){Z?Z(T):this.destroy(T);return}M!=null&&this.push(M),this.push(null),Z&&Z()}):(this.push(null),Z&&Z())}function R(){this._final!==y&&y.call(this)}L.prototype._final=y,L.prototype._transform=function(Z,T,M){throw new b("_transform()")},L.prototype._write=function(Z,T,M){let $=this._readableState,q=this._writableState,g=$.length;this._transform(Z,T,(w,I)=>{if(w){M(w);return}I!=null&&this.push(I),q.ended||g===$.length||$.length<$.highWaterMark?M():this[k]=M})},L.prototype._read=function(){if(this[k]){let Z=this[k];this[k]=null,Z()}}}),or=Fo((l,p)=>{var{ObjectSetPrototypeOf:r}=Ma();p.exports=b;var v=Al();r(b.prototype,v.prototype),r(b,v);function b(x){if(!(this instanceof b))return new b(x);v.call(this,x)}b.prototype._transform=function(x,u,k){k(null,x)}}),Hs=Fo((l,p)=>{var r=(Te(),Da(re)),{ArrayIsArray:v,Promise:b,SymbolAsyncIterator:x}=Ma(),u=Me(),{once:k}=le(),L=Ce(),y=ie(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:T,ERR_MISSING_ARGS:M,ERR_STREAM_DESTROYED:$,ERR_STREAM_PREMATURE_CLOSE:q},AbortError:g}=ja(),{validateFunction:w,validateAbortSignal:I}=Dn(),{isIterable:W,isReadable:E,isReadableNodeStream:D,isNodeStream:C}=Ve(),uo=globalThis.AbortController||Js().AbortController,po,To;function co(h,d,a){let t=!1;h.on("close",()=>{t=!0});let S=u(h,{readable:d,writable:a},(U)=>{t=!U});return{destroy:(U)=>{t||(t=!0,L.destroyer(h,U||new $("pipe")))},cleanup:S}}function Lo(h){return w(h[h.length-1],"streams[stream.length - 1]"),h.pop()}function o(h){if(W(h))return h;if(D(h))return n(h);throw new Z("val",["Readable","Iterable","AsyncIterable"],h)}async function*n(h){To||(To=Qn()),yield*To.prototype[x].call(h)}async function c(h,d,a,{end:t}){let S,U=null,P=(xo)=>{if(xo&&(S=xo),U){let mo=U;U=null,mo()}},fo=()=>new b((xo,mo)=>{S?mo(S):U=()=>{S?mo(S):xo()}});d.on("drain",P);let vo=u(d,{readable:!1},P);try{d.writableNeedDrain&&await fo();for await(let xo of h)d.write(xo)||await fo();t&&d.end(),await fo(),a()}catch(xo){a(S!==xo?R(S,xo):xo)}finally{vo(),d.off("drain",P)}}function s(...h){return m(h,k(Lo(h)))}function m(h,d,a){if(h.length===1&&v(h[0])&&(h=h[0]),h.length<2)throw new M("streams");let t=new uo,S=t.signal,U=a?.signal,P=[];I(U,"options.signal");function fo(){Io(new g)}U?.addEventListener("abort",fo);let vo,xo,mo=[],io=0;function ko(j){Io(j,--io===0)}function Io(j,B){if(j&&(!vo||vo.code==="ERR_STREAM_PREMATURE_CLOSE")&&(vo=j),!(!vo&&!B)){for(;mo.length;)mo.shift()(vo);U?.removeEventListener("abort",fo),t.abort(),B&&(vo||P.forEach(($o)=>$o()),r.nextTick(d,vo,xo))}}let qo;for(let j=0;j<h.length;j++){let B=h[j],$o=j<h.length-1,Uo=j>0,Vo=$o||a?.end!==!1,Ho=j===h.length-1;if(C(B)){let jo=function(zo){zo&&zo.name!=="AbortError"&&zo.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ko(zo)};var Oo=jo;if(Vo){let{destroy:zo,cleanup:Bo}=co(B,$o,Uo);mo.push(zo),E(B)&&Ho&&P.push(Bo)}B.on("error",jo),E(B)&&Ho&&P.push(()=>{B.removeListener("error",jo)})}if(j===0)if(typeof B=="function"){if(qo=B({signal:S}),!W(qo))throw new T("Iterable, AsyncIterable or Stream","source",qo)}else W(B)||D(B)?qo=B:qo=y.from(B);else if(typeof B=="function")if(qo=o(qo),qo=B(qo,{signal:S}),$o){if(!W(qo,!0))throw new T("AsyncIterable",`transform[${j-1}]`,qo)}else{var H;po||(po=or());let jo=new po({objectMode:!0}),zo=(H=qo)===null||H===void 0?void 0:H.then;if(typeof zo=="function")io++,zo.call(qo,(Wo)=>{xo=Wo,Wo!=null&&jo.write(Wo),Vo&&jo.end(),r.nextTick(ko)},(Wo)=>{jo.destroy(Wo),r.nextTick(ko,Wo)});else if(W(qo,!0))io++,c(qo,jo,ko,{end:Vo});else throw new T("AsyncIterable or Promise","destination",qo);qo=jo;let{destroy:Bo,cleanup:Jo}=co(qo,!1,!0);mo.push(Bo),Ho&&P.push(Jo)}else if(C(B)){if(D(qo)){io+=2;let jo=_(qo,B,ko,{end:Vo});E(B)&&Ho&&P.push(jo)}else if(W(qo))io++,c(qo,B,ko,{end:Vo});else throw new Z("val",["Readable","Iterable","AsyncIterable"],qo);qo=B}else qo=y.from(B)}return(S!=null&&S.aborted||U!=null&&U.aborted)&&r.nextTick(fo),qo}function _(h,d,a,{end:t}){let S=!1;return d.on("close",()=>{S||a(new q)}),h.pipe(d,{end:t}),t?h.once("end",()=>{S=!0,d.end()}):a(),u(h,{readable:!0,writable:!1},(U)=>{let P=h._readableState;U&&U.code==="ERR_STREAM_PREMATURE_CLOSE"&&P&&P.ended&&!P.errored&&!P.errorEmitted?h.once("end",a).once("error",a):a(U)}),u(d,{readable:!1,writable:!0},a)}p.exports={pipelineImpl:m,pipeline:s}}),vc=Fo((l,p)=>{var{pipeline:r}=Hs(),v=ie(),{destroyer:b}=Ce(),{isNodeStream:x,isReadable:u,isWritable:k}=Ve(),{AbortError:L,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:R}}=ja();p.exports=function(...Z){if(Z.length===0)throw new R("streams");if(Z.length===1)return v.from(Z[0]);let T=[...Z];if(typeof Z[0]=="function"&&(Z[0]=v.from(Z[0])),typeof Z[Z.length-1]=="function"){let uo=Z.length-1;Z[uo]=v.from(Z[uo])}for(let uo=0;uo<Z.length;++uo)if(x(Z[uo])){if(uo<Z.length-1&&!u(Z[uo]))throw new y(`streams[${uo}]`,T[uo],"must be readable");if(uo>0&&!k(Z[uo]))throw new y(`streams[${uo}]`,T[uo],"must be writable")}let M,$,q,g,w;function I(uo){let po=g;g=null,po?po(uo):uo?w.destroy(uo):!C&&!D&&w.destroy()}let W=Z[0],E=r(Z,I),D=!!k(W),C=!!u(E);return w=new v({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!(E!=null&&E.writableObjectMode),writable:D,readable:C}),D&&(w._write=function(uo,po,To){W.write(uo,po)?To():M=To},w._final=function(uo){W.end(),$=uo},W.on("drain",function(){if(M){let uo=M;M=null,uo()}}),E.on("finish",function(){if($){let uo=$;$=null,uo()}})),C&&(E.on("readable",function(){if(q){let uo=q;q=null,uo()}}),E.on("end",function(){w.push(null)}),w._read=function(){for(;;){let uo=E.read();if(uo===null){q=w._read;return}if(!w.push(uo))return}}),w._destroy=function(uo,po){!uo&&g!==null&&(uo=new L),q=null,M=null,$=null,g===null?po(uo):(g=po,b(E,uo))},w}}),ar=Fo((l,p)=>{var{ArrayPrototypePop:r,Promise:v}=Ma(),{isIterable:b,isNodeStream:x}=Ve(),{pipelineImpl:u}=Hs(),{finished:k}=Me();function L(...y){return new v((R,Z)=>{let T,M,$=y[y.length-1];if($&&typeof $=="object"&&!x($)&&!b($)){let q=r(y);T=q.signal,M=q.end}u(y,(q,g)=>{q?Z(q):R(g)},{signal:T,end:M})})}p.exports={finished:k,pipeline:L}}),Zc=Fo((l,p)=>{var{Buffer:r}=Xa(),{ObjectDefineProperty:v,ObjectKeys:b,ReflectApply:x}=Ma(),{promisify:{custom:u}}=le(),{streamReturningOperators:k,promiseReturningOperators:L}=kc(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=ja(),R=vc(),{pipeline:Z}=Hs(),{destroyer:T}=Ce(),M=Me(),$=ar(),q=Ve(),g=p.exports=Ks().Stream;g.isDisturbed=q.isDisturbed,g.isErrored=q.isErrored,g.isReadable=q.isReadable,g.Readable=Qn();for(let W of b(k)){let E=function(...C){if(new.target)throw y();return g.Readable.from(x(D,this,C))};w=E;let D=k[W];v(E,"name",{__proto__:null,value:D.name}),v(E,"length",{__proto__:null,value:D.length}),v(g.Readable.prototype,W,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}var w;for(let W of b(L)){let E=function(...C){if(new.target)throw y();return x(D,this,C)};w=E;let D=L[W];v(E,"name",{__proto__:null,value:D.name}),v(E,"length",{__proto__:null,value:D.length}),v(g.Readable.prototype,W,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}var w;g.Writable=Bl(),g.Duplex=ie(),g.Transform=Al(),g.PassThrough=or(),g.pipeline=Z;var{addAbortSignal:I}=Es();g.addAbortSignal=I,g.finished=M,g.destroy=T,g.compose=R,v(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return $}}),v(Z,u,{__proto__:null,enumerable:!0,get(){return $.pipeline}}),v(M,u,{__proto__:null,enumerable:!0,get(){return $.finished}}),g.Stream=g,g._isUint8Array=function(W){return W instanceof Uint8Array},g._uint8ArrayToBuffer=function(W){return r.from(W.buffer,W.byteOffset,W.byteLength)}}),er=Fo((l,p)=>{var r=Zc(),v=ar(),b=r.Readable.destroy;p.exports=r.Readable,p.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,p.exports._isUint8Array=r._isUint8Array,p.exports.isDisturbed=r.isDisturbed,p.exports.isErrored=r.isErrored,p.exports.isReadable=r.isReadable,p.exports.Readable=r.Readable,p.exports.Writable=r.Writable,p.exports.Duplex=r.Duplex,p.exports.Transform=r.Transform,p.exports.PassThrough=r.PassThrough,p.exports.addAbortSignal=r.addAbortSignal,p.exports.finished=r.finished,p.exports.destroy=r.destroy,p.exports.destroy=b,p.exports.pipeline=r.pipeline,p.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return v}}),p.exports.Stream=r.Stream,p.exports.default=p.exports}),Gs={},Ws(Gs,{default:()=>yc}),Rc=jl(()=>{wl(Gs,He(er())),yc=He(er())}),ke=Fo((l,p)=>{var r=ka().Buffer,v=(Rc(),Da(Gs)).Transform,b=js().StringDecoder,x=pa();function u(k){v.call(this),this.hashMode=typeof k=="string",this.hashMode?this[k]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}x(u,v),u.prototype.update=function(k,L,y){typeof k=="string"&&(k=r.from(k,L));var R=this._update(k);return this.hashMode?this:(y&&(R=this._toString(R,y)),R)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(k,L,y){var R;try{this.hashMode?this._update(k):this.push(this._update(k))}catch(Z){R=Z}finally{y(R)}},u.prototype._flush=function(k){var L;try{this.push(this.__final())}catch(y){L=y}k(L)},u.prototype._finalOrDigest=function(k){var L=this.__final()||r.alloc(0);return k&&(L=this._toString(L,k,!0)),L},u.prototype._toString=function(k,L,y){if(this._decoder||(this._decoder=new b(L),this._encoding=L),this._encoding!==L)throw new Error("can't switch encodings");var R=this._decoder.write(k);return y&&(R+=this._decoder.end()),R},p.exports=u}),_n=Fo((l,p)=>{var r=pa(),v=Fs(),b=Is(),x=zs(),u=ke();function k(L){u.call(this,"digest"),this._hash=L}r(k,u),k.prototype._update=function(L){this._hash.update(L)},k.prototype._final=function(){return this._hash.digest()},p.exports=function(L){return L=L.toLowerCase(),L==="md5"?new v:L==="rmd160"||L==="ripemd160"?new b:new k(x(L))}}),xc=Fo((l,p)=>{var r=pa(),v=ka().Buffer,b=ke(),x=v.alloc(128),u=64;function k(L,y){b.call(this,"digest"),typeof y=="string"&&(y=v.from(y)),this._alg=L,this._key=y,y.length>u?y=L(y):y.length<u&&(y=v.concat([y,x],u));for(var R=this._ipad=v.allocUnsafe(u),Z=this._opad=v.allocUnsafe(u),T=0;T<u;T++)R[T]=y[T]^54,Z[T]=y[T]^92;this._hash=[R]}r(k,b),k.prototype._update=function(L){this._hash.push(L)},k.prototype._final=function(){var L=this._alg(v.concat(this._hash));return this._alg(v.concat([this._opad,L]))},p.exports=k}),nr=Fo((l,p)=>{var r=Fs();p.exports=function(v){return new r().update(v).digest()}}),sr=Fo((l,p)=>{var r=pa(),v=xc(),b=ke(),x=ka().Buffer,u=nr(),k=Is(),L=zs(),y=x.alloc(128);function R(Z,T){b.call(this,"digest"),typeof T=="string"&&(T=x.from(T));var M=Z==="sha512"||Z==="sha384"?128:64;if(this._alg=Z,this._key=T,T.length>M){var $=Z==="rmd160"?new k:L(Z);T=$.update(T).digest()}else T.length<M&&(T=x.concat([T,y],M));for(var q=this._ipad=x.allocUnsafe(M),g=this._opad=x.allocUnsafe(M),w=0;w<M;w++)q[w]=T[w]^54,g[w]=T[w]^92;this._hash=Z==="rmd160"?new k:L(Z),this._hash.update(q)}r(R,b),R.prototype._update=function(Z){this._hash.update(Z)},R.prototype._final=function(){var Z=this._hash.digest(),T=this._alg==="rmd160"?new k:L(this._alg);return T.update(this._opad).update(Z).digest()},p.exports=function(Z,T){return Z=Z.toLowerCase(),Z==="rmd160"||Z==="ripemd160"?new R("rmd160",T):Z==="md5"?new v(u,T):new R(Z,T)}}),lr=Fo((l,p)=>{p.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),qc=Fo((l,p)=>{p.exports=lr()}),rr=Fo((l,p)=>{var r=Math.pow(2,30)-1;p.exports=function(v,b){if(typeof v!="number")throw new TypeError("Iterations not a number");if(v<0)throw new TypeError("Bad iterations");if(typeof b!="number")throw new TypeError("Key length not a number");if(b<0||b>r||b!==b)throw new TypeError("Bad key length")}}),ir=Fo((l,p)=>{var r;global.process&&global.process.browser?r="utf-8":global.process&&global.process.version?(v=parseInt(process.version.split(".")[0].slice(1),10),r=v>=6?"utf-8":"binary"):r="utf-8";var v;p.exports=r}),cr=Fo((l,p)=>{var r=ka().Buffer;p.exports=function(v,b,x){if(r.isBuffer(v))return v;if(typeof v=="string")return r.from(v,b);if(ArrayBuffer.isView(v))return r.from(v.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}}),ur=Fo((l,p)=>{var r=nr(),v=Is(),b=zs(),x=ka().Buffer,u=rr(),k=ir(),L=cr(),y=x.alloc(128),R={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Z($,q,g){var w=T($),I=$==="sha512"||$==="sha384"?128:64;q.length>I?q=w(q):q.length<I&&(q=x.concat([q,y],I));for(var W=x.allocUnsafe(I+R[$]),E=x.allocUnsafe(I+R[$]),D=0;D<I;D++)W[D]=q[D]^54,E[D]=q[D]^92;var C=x.allocUnsafe(I+g+4);W.copy(C,0,0,I),this.ipad1=C,this.ipad2=W,this.opad=E,this.alg=$,this.blocksize=I,this.hash=w,this.size=R[$]}Z.prototype.run=function($,q){$.copy(q,this.blocksize);var g=this.hash(q);return g.copy(this.opad,this.blocksize),this.hash(this.opad)};function T($){function q(w){return b($).update(w).digest()}function g(w){return new v().update(w).digest()}return $==="rmd160"||$==="ripemd160"?g:$==="md5"?r:q}function M($,q,g,w,I){u(g,w),$=L($,k,"Password"),q=L(q,k,"Salt"),I=I||"sha1";var W=new Z(I,$,q.length),E=x.allocUnsafe(w),D=x.allocUnsafe(q.length+4);q.copy(D,0,0,q.length);for(var C=0,uo=R[I],po=Math.ceil(w/uo),To=1;To<=po;To++){D.writeUInt32BE(To,q.length);for(var co=W.run(D,W.ipad1),Lo=co,o=1;o<g;o++){Lo=W.run(Lo,W.ipad2);for(var n=0;n<uo;n++)co[n]^=Lo[n]}co.copy(E,C),C+=uo}return E}p.exports=M}),$c=Fo((l,p)=>{var r=ka().Buffer,v=rr(),b=ir(),x=ur(),u=cr(),k,L=global.crypto&&global.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},R=[];function Z(g){if(global.process&&!global.process.browser||!L||!L.importKey||!L.deriveBits)return Promise.resolve(!1);if(R[g]!==void 0)return R[g];k=k||r.alloc(8);var w=$(k,k,10,128,g).then(function(){return!0}).catch(function(){return!1});return R[g]=w,w}var T;function M(){return T||(global.process&&global.process.nextTick?T=global.process.nextTick:global.queueMicrotask?T=global.queueMicrotask:global.setImmediate?T=global.setImmediate:T=global.setTimeout,T)}function $(g,w,I,W,E){return L.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return L.deriveBits({name:"PBKDF2",salt:w,iterations:I,hash:{name:E}},D,W<<3)}).then(function(D){return r.from(D)})}function q(g,w){g.then(function(I){M()(function(){w(null,I)})},function(I){M()(function(){w(I)})})}p.exports=function(g,w,I,W,E,D){typeof E=="function"&&(D=E,E=void 0),E=E||"sha1";var C=y[E.toLowerCase()];if(!C||typeof global.Promise!="function"){M()(function(){var uo;try{uo=x(g,w,I,W,E)}catch(po){return D(po)}D(null,uo)});return}if(v(I,W),g=u(g,b,"Password"),w=u(w,b,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");q(Z(C).then(function(uo){return uo?$(g,w,I,W,C):x(g,w,I,W,E)}),D)}}),mr=Fo((l)=>{l.pbkdf2=$c(),l.pbkdf2Sync=ur()}),tr=Fo((l)=>{l.readUInt32BE=function(b,x){var u=b[0+x]<<24|b[1+x]<<16|b[2+x]<<8|b[3+x];return u>>>0},l.writeUInt32BE=function(b,x,u){b[0+u]=x>>>24,b[1+u]=x>>>16&255,b[2+u]=x>>>8&255,b[3+u]=x&255},l.ip=function(b,x,u,k){for(var L=0,y=0,R=6;R>=0;R-=2){for(var Z=0;Z<=24;Z+=8)L<<=1,L|=x>>>Z+R&1;for(var Z=0;Z<=24;Z+=8)L<<=1,L|=b>>>Z+R&1}for(var R=6;R>=0;R-=2){for(var Z=1;Z<=25;Z+=8)y<<=1,y|=x>>>Z+R&1;for(var Z=1;Z<=25;Z+=8)y<<=1,y|=b>>>Z+R&1}u[k+0]=L>>>0,u[k+1]=y>>>0},l.rip=function(b,x,u,k){for(var L=0,y=0,R=0;R<4;R++)for(var Z=24;Z>=0;Z-=8)L<<=1,L|=x>>>Z+R&1,L<<=1,L|=b>>>Z+R&1;for(var R=4;R<8;R++)for(var Z=24;Z>=0;Z-=8)y<<=1,y|=x>>>Z+R&1,y<<=1,y|=b>>>Z+R&1;u[k+0]=L>>>0,u[k+1]=y>>>0},l.pc1=function(b,x,u,k){for(var L=0,y=0,R=7;R>=5;R--){for(var Z=0;Z<=24;Z+=8)L<<=1,L|=x>>Z+R&1;for(var Z=0;Z<=24;Z+=8)L<<=1,L|=b>>Z+R&1}for(var Z=0;Z<=24;Z+=8)L<<=1,L|=x>>Z+R&1;for(var R=1;R<=3;R++){for(var Z=0;Z<=24;Z+=8)y<<=1,y|=x>>Z+R&1;for(var Z=0;Z<=24;Z+=8)y<<=1,y|=b>>Z+R&1}for(var Z=0;Z<=24;Z+=8)y<<=1,y|=b>>Z+R&1;u[k+0]=L>>>0,u[k+1]=y>>>0},l.r28shl=function(b,x){return b<<x&268435455|b>>>28-x};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(b,x,u,k){for(var L=0,y=0,R=p.length>>>1,Z=0;Z<R;Z++)L<<=1,L|=b>>>p[Z]&1;for(var Z=R;Z<p.length;Z++)y<<=1,y|=x>>>p[Z]&1;u[k+0]=L>>>0,u[k+1]=y>>>0},l.expand=function(b,x,u){var k=0,L=0;k=(b&1)<<5|b>>>27;for(var y=23;y>=15;y-=4)k<<=6,k|=b>>>y&63;for(var y=11;y>=3;y-=4)L|=b>>>y&63,L<<=6;L|=(b&31)<<1|b>>>31,x[u+0]=k>>>0,x[u+1]=L>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(b,x){for(var u=0,k=0;k<4;k++){var L=b>>>18-k*6&63,y=r[k*64+L];u<<=4,u|=y}for(var k=0;k<4;k++){var L=x>>>18-k*6&63,y=r[256+k*64+L];u<<=4,u|=y}return u>>>0};var v=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(b){for(var x=0,u=0;u<v.length;u++)x<<=1,x|=b>>>v[u]&1;return x>>>0},l.padSplit=function(b,x,u){for(var k=b.toString(2);k.length<x;)k="0"+k;for(var L=[],y=0;y<x;y+=u)L.push(k.slice(y,y+u));return L.join(" ")}}),Ea=Fo((l,p)=>{p.exports=r;function r(v,b){if(!v)throw new Error(b||"Assertion failed")}r.equal=function(v,b,x){if(v!=b)throw new Error(x||"Assertion failed: "+v+" != "+b)}}),Ys=Fo((l,p)=>{var r=Ea();function v(b){this.options=b,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}p.exports=v,v.prototype._init=function(){},v.prototype.update=function(b){return b.length===0?[]:this.type==="decrypt"?this._updateDecrypt(b):this._updateEncrypt(b)},v.prototype._buffer=function(b,x){for(var u=Math.min(this.buffer.length-this.bufferOff,b.length-x),k=0;k<u;k++)this.buffer[this.bufferOff+k]=b[x+k];return this.bufferOff+=u,u},v.prototype._flushBuffer=function(b,x){return this._update(this.buffer,0,b,x),this.bufferOff=0,this.blockSize},v.prototype._updateEncrypt=function(b){var x=0,u=0,k=(this.bufferOff+b.length)/this.blockSize|0,L=new Array(k*this.blockSize);this.bufferOff!==0&&(x+=this._buffer(b,x),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(L,u)));for(var y=b.length-(b.length-x)%this.blockSize;x<y;x+=this.blockSize)this._update(b,x,L,u),u+=this.blockSize;for(;x<b.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=b[x];return L},v.prototype._updateDecrypt=function(b){for(var x=0,u=0,k=Math.ceil((this.bufferOff+b.length)/this.blockSize)-1,L=new Array(k*this.blockSize);k>0;k--)x+=this._buffer(b,x),u+=this._flushBuffer(L,u);return x+=this._buffer(b,x),L},v.prototype.final=function(b){var x;b&&(x=this.update(b));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),x?x.concat(u):u},v.prototype._pad=function(b,x){if(x===0)return!1;for(;x<b.length;)b[x++]=0;return!0},v.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var b=new Array(this.blockSize);return this._update(this.buffer,0,b,0),b},v.prototype._unpad=function(b){return b},v.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var b=new Array(this.blockSize);return this._flushBuffer(b,0),this._unpad(b)}}),dr=Fo((l,p)=>{var r=Ea(),v=pa(),b=tr(),x=Ys();function u(){this.tmp=new Array(2),this.keys=null}function k(y){x.call(this,y);var R=new u;this._desState=R,this.deriveKeys(R,y.key)}v(k,x),p.exports=k,k.create=function(y){return new k(y)};var L=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];k.prototype.deriveKeys=function(y,R){y.keys=new Array(32),r.equal(R.length,this.blockSize,"Invalid key length");var Z=b.readUInt32BE(R,0),T=b.readUInt32BE(R,4);b.pc1(Z,T,y.tmp,0),Z=y.tmp[0],T=y.tmp[1];for(var M=0;M<y.keys.length;M+=2){var $=L[M>>>1];Z=b.r28shl(Z,$),T=b.r28shl(T,$),b.pc2(Z,T,y.keys,M)}},k.prototype._update=function(y,R,Z,T){var M=this._desState,$=b.readUInt32BE(y,R),q=b.readUInt32BE(y,R+4);b.ip($,q,M.tmp,0),$=M.tmp[0],q=M.tmp[1],this.type==="encrypt"?this._encrypt(M,$,q,M.tmp,0):this._decrypt(M,$,q,M.tmp,0),$=M.tmp[0],q=M.tmp[1],b.writeUInt32BE(Z,$,T),b.writeUInt32BE(Z,q,T+4)},k.prototype._pad=function(y,R){for(var Z=y.length-R,T=R;T<y.length;T++)y[T]=Z;return!0},k.prototype._unpad=function(y){for(var R=y[y.length-1],Z=y.length-R;Z<y.length;Z++)r.equal(y[Z],R);return y.slice(0,y.length-R)},k.prototype._encrypt=function(y,R,Z,T,M){for(var $=R,q=Z,g=0;g<y.keys.length;g+=2){var w=y.keys[g],I=y.keys[g+1];b.expand(q,y.tmp,0),w^=y.tmp[0],I^=y.tmp[1];var W=b.substitute(w,I),E=b.permute(W),D=q;q=($^E)>>>0,$=D}b.rip(q,$,T,M)},k.prototype._decrypt=function(y,R,Z,T,M){for(var $=Z,q=R,g=y.keys.length-2;g>=0;g-=2){var w=y.keys[g],I=y.keys[g+1];b.expand($,y.tmp,0),w^=y.tmp[0],I^=y.tmp[1];var W=b.substitute(w,I),E=b.permute(W),D=$;$=(q^E)>>>0,q=D}b.rip($,q,T,M)}}),Tc=Fo((l)=>{var p=Ea(),r=pa(),v={};function b(u){p.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var k=0;k<this.iv.length;k++)this.iv[k]=u[k]}function x(u){function k(Z){u.call(this,Z),this._cbcInit()}r(k,u);for(var L=Object.keys(v),y=0;y<L.length;y++){var R=L[y];k.prototype[R]=v[R]}return k.create=function(Z){return new k(Z)},k}l.instantiate=x,v._cbcInit=function(){var u=new b(this.options.iv);this._cbcState=u},v._update=function(u,k,L,y){var R=this._cbcState,Z=this.constructor.super_.prototype,T=R.iv;if(this.type==="encrypt"){for(var M=0;M<this.blockSize;M++)T[M]^=u[k+M];Z._update.call(this,T,0,L,y);for(var M=0;M<this.blockSize;M++)T[M]=L[y+M]}else{Z._update.call(this,u,k,L,y);for(var M=0;M<this.blockSize;M++)L[y+M]^=T[M];for(var M=0;M<this.blockSize;M++)T[M]=u[k+M]}}}),Vc=Fo((l,p)=>{var r=Ea(),v=pa(),b=Ys(),x=dr();function u(L,y){r.equal(y.length,24,"Invalid key length");var R=y.slice(0,8),Z=y.slice(8,16),T=y.slice(16,24);L==="encrypt"?this.ciphers=[x.create({type:"encrypt",key:R}),x.create({type:"decrypt",key:Z}),x.create({type:"encrypt",key:T})]:this.ciphers=[x.create({type:"decrypt",key:T}),x.create({type:"encrypt",key:Z}),x.create({type:"decrypt",key:R})]}function k(L){b.call(this,L);var y=new u(this.type,this.options.key);this._edeState=y}v(k,b),p.exports=k,k.create=function(L){return new k(L)},k.prototype._update=function(L,y,R,Z){var T=this._edeState;T.ciphers[0]._update(L,y,R,Z),T.ciphers[1]._update(R,Z,R,Z),T.ciphers[2]._update(R,Z,R,Z)},k.prototype._pad=x.prototype._pad,k.prototype._unpad=x.prototype._unpad}),Mc=Fo((l)=>{l.utils=tr(),l.Cipher=Ys(),l.DES=dr(),l.CBC=Tc(),l.EDE=Vc()}),Lc=Fo((l,p)=>{var r=ke(),v=Mc(),b=pa(),x=ka().Buffer,u={"des-ede3-cbc":v.CBC.instantiate(v.EDE),"des-ede3":v.EDE,"des-ede-cbc":v.CBC.instantiate(v.EDE),"des-ede":v.EDE,"des-cbc":v.CBC.instantiate(v.DES),"des-ecb":v.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],p.exports=k,b(k,r);function k(L){r.call(this);var y=L.mode.toLowerCase(),R=u[y],Z;L.decrypt?Z="decrypt":Z="encrypt";var T=L.key;x.isBuffer(T)||(T=x.from(T)),(y==="des-ede"||y==="des-ede-cbc")&&(T=x.concat([T,T.slice(0,8)]));var M=L.iv;x.isBuffer(M)||(M=x.from(M)),this._des=R.create({key:T,iv:M,type:Z})}k.prototype._update=function(L){return x.from(this._des.update(L))},k.prototype._final=function(){return x.from(this._des.final())}}),Oc=Fo((l)=>{l.encrypt=function(p,r){return p._cipher.encryptBlock(r)},l.decrypt=function(p,r){return p._cipher.decryptBlock(r)}}),kn=Fo((l,p)=>{p.exports=function(r,v){for(var b=Math.min(r.length,v.length),x=new Buffer(b),u=0;u<b;++u)x[u]=r[u]^v[u];return x}}),Uc=Fo((l)=>{var p=kn();l.encrypt=function(r,v){var b=p(v,r._prev);return r._prev=r._cipher.encryptBlock(b),r._prev},l.decrypt=function(r,v){var b=r._prev;r._prev=v;var x=r._cipher.decryptBlock(v);return p(x,b)}}),Xc=Fo((l)=>{var p=ka().Buffer,r=kn();function v(b,x,u){var k=x.length,L=r(x,b._cache);return b._cache=b._cache.slice(k),b._prev=p.concat([b._prev,u?x:L]),L}l.encrypt=function(b,x,u){for(var k=p.allocUnsafe(0),L;x.length;)if(b._cache.length===0&&(b._cache=b._cipher.encryptBlock(b._prev),b._prev=p.allocUnsafe(0)),b._cache.length<=x.length)L=b._cache.length,k=p.concat([k,v(b,x.slice(0,L),u)]),x=x.slice(L);else{k=p.concat([k,v(b,x,u)]);break}return k}}),gc=Fo((l)=>{var p=ka().Buffer;function r(v,b,x){var u=v._cipher.encryptBlock(v._prev),k=u[0]^b;return v._prev=p.concat([v._prev.slice(1),p.from([x?b:k])]),k}l.encrypt=function(v,b,x){for(var u=b.length,k=p.allocUnsafe(u),L=-1;++L<u;)k[L]=r(v,b[L],x);return k}}),Sc=Fo((l)=>{var p=ka().Buffer;function r(b,x,u){for(var k,L=-1,y=8,R=0,Z,T;++L<y;)k=b._cipher.encryptBlock(b._prev),Z=x&1<<7-L?128:0,T=k[0]^Z,R+=(T&128)>>L%8,b._prev=v(b._prev,u?Z:T);return R}function v(b,x){var u=b.length,k=-1,L=p.allocUnsafe(b.length);for(b=p.concat([b,p.from([x])]);++k<u;)L[k]=b[k]<<1|b[k+1]>>7;return L}l.encrypt=function(b,x,u){for(var k=x.length,L=p.allocUnsafe(k),y=-1;++y<k;)L[y]=r(b,x[y],u);return L}}),Wc=Fo((l)=>{var p=kn();function r(v){return v._prev=v._cipher.encryptBlock(v._prev),v._prev}l.encrypt=function(v,b){for(;v._cache.length<b.length;)v._cache=Buffer.concat([v._cache,r(v)]);var x=v._cache.slice(0,b.length);return v._cache=v._cache.slice(b.length),p(b,x)}}),pr=Fo((l,p)=>{function r(v){for(var b=v.length,x;b--;)if(x=v.readUInt8(b),x===255)v.writeUInt8(0,b);else{x++,v.writeUInt8(x,b);break}}p.exports=r}),br=Fo((l)=>{var p=kn(),r=ka().Buffer,v=pr();function b(u){var k=u._cipher.encryptBlockRaw(u._prev);return v(u._prev),k}var x=16;l.encrypt=function(u,k){var L=Math.ceil(k.length/x),y=u._cache.length;u._cache=r.concat([u._cache,r.allocUnsafe(L*x)]);for(var R=0;R<L;R++){var Z=b(u),T=y+R*x;u._cache.writeUInt32BE(Z[0],T+0),u._cache.writeUInt32BE(Z[1],T+4),u._cache.writeUInt32BE(Z[2],T+8),u._cache.writeUInt32BE(Z[3],T+12)}var M=u._cache.slice(0,k.length);return u._cache=u._cache.slice(k.length),p(k,M)}}),fr=Fo((l,p)=>{p.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Ds=Fo((l,p)=>{var r={ECB:Oc(),CBC:Uc(),CFB:Xc(),CFB8:gc(),CFB1:Sc(),OFB:Wc(),CTR:br(),GCM:br()},v=fr();for(b in v)v[b].module=r[v[b].mode];var b;p.exports=v}),Cn=Fo((l,p)=>{var r=ka().Buffer;function v(y){r.isBuffer(y)||(y=r.from(y));for(var R=y.length/4|0,Z=new Array(R),T=0;T<R;T++)Z[T]=y.readUInt32BE(T*4);return Z}function b(y){for(var R=0;R<y.length;y++)y[R]=0}function x(y,R,Z,T,M){for(var $=Z[0],q=Z[1],g=Z[2],w=Z[3],I=y[0]^R[0],W=y[1]^R[1],E=y[2]^R[2],D=y[3]^R[3],C,uo,po,To,co=4,Lo=1;Lo<M;Lo++)C=$[I>>>24]^q[W>>>16&255]^g[E>>>8&255]^w[D&255]^R[co++],uo=$[W>>>24]^q[E>>>16&255]^g[D>>>8&255]^w[I&255]^R[co++],po=$[E>>>24]^q[D>>>16&255]^g[I>>>8&255]^w[W&255]^R[co++],To=$[D>>>24]^q[I>>>16&255]^g[W>>>8&255]^w[E&255]^R[co++],I=C,W=uo,E=po,D=To;return C=(T[I>>>24]<<24|T[W>>>16&255]<<16|T[E>>>8&255]<<8|T[D&255])^R[co++],uo=(T[W>>>24]<<24|T[E>>>16&255]<<16|T[D>>>8&255]<<8|T[I&255])^R[co++],po=(T[E>>>24]<<24|T[D>>>16&255]<<16|T[I>>>8&255]<<8|T[W&255])^R[co++],To=(T[D>>>24]<<24|T[I>>>16&255]<<16|T[W>>>8&255]<<8|T[E&255])^R[co++],C=C>>>0,uo=uo>>>0,po=po>>>0,To=To>>>0,[C,uo,po,To]}var u=[0,1,2,4,8,16,32,64,128,27,54],k=function(){for(var y=new Array(256),R=0;R<256;R++)R<128?y[R]=R<<1:y[R]=R<<1^283;for(var Z=[],T=[],M=[[],[],[],[]],$=[[],[],[],[]],q=0,g=0,w=0;w<256;++w){var I=g^g<<1^g<<2^g<<3^g<<4;I=I>>>8^I&255^99,Z[q]=I,T[I]=q;var W=y[q],E=y[W],D=y[E],C=y[I]*257^I*16843008;M[0][q]=C<<24|C>>>8,M[1][q]=C<<16|C>>>16,M[2][q]=C<<8|C>>>24,M[3][q]=C,C=D*16843009^E*65537^W*257^q*16843008,$[0][I]=C<<24|C>>>8,$[1][I]=C<<16|C>>>16,$[2][I]=C<<8|C>>>24,$[3][I]=C,q===0?q=g=1:(q=W^y[y[y[D^W]]],g^=y[y[g]])}return{SBOX:Z,INV_SBOX:T,SUB_MIX:M,INV_SUB_MIX:$}}();function L(y){this._key=v(y),this._reset()}L.blockSize=16,L.keySize=32,L.prototype.blockSize=L.blockSize,L.prototype.keySize=L.keySize,L.prototype._reset=function(){for(var y=this._key,R=y.length,Z=R+6,T=(Z+1)*4,M=[],$=0;$<R;$++)M[$]=y[$];for($=R;$<T;$++){var q=M[$-1];$%R===0?(q=q<<8|q>>>24,q=k.SBOX[q>>>24]<<24|k.SBOX[q>>>16&255]<<16|k.SBOX[q>>>8&255]<<8|k.SBOX[q&255],q^=u[$/R|0]<<24):R>6&&$%R===4&&(q=k.SBOX[q>>>24]<<24|k.SBOX[q>>>16&255]<<16|k.SBOX[q>>>8&255]<<8|k.SBOX[q&255]),M[$]=M[$-R]^q}for(var g=[],w=0;w<T;w++){var I=T-w,W=M[I-(w%4?0:4)];w<4||I<=4?g[w]=W:g[w]=k.INV_SUB_MIX[0][k.SBOX[W>>>24]]^k.INV_SUB_MIX[1][k.SBOX[W>>>16&255]]^k.INV_SUB_MIX[2][k.SBOX[W>>>8&255]]^k.INV_SUB_MIX[3][k.SBOX[W&255]]}this._nRounds=Z,this._keySchedule=M,this._invKeySchedule=g},L.prototype.encryptBlockRaw=function(y){return y=v(y),x(y,this._keySchedule,k.SUB_MIX,k.SBOX,this._nRounds)},L.prototype.encryptBlock=function(y){var R=this.encryptBlockRaw(y),Z=r.allocUnsafe(16);return Z.writeUInt32BE(R[0],0),Z.writeUInt32BE(R[1],4),Z.writeUInt32BE(R[2],8),Z.writeUInt32BE(R[3],12),Z},L.prototype.decryptBlock=function(y){y=v(y);var R=y[1];y[1]=y[3],y[3]=R;var Z=x(y,this._invKeySchedule,k.INV_SUB_MIX,k.INV_SBOX,this._nRounds),T=r.allocUnsafe(16);return T.writeUInt32BE(Z[0],0),T.writeUInt32BE(Z[3],4),T.writeUInt32BE(Z[2],8),T.writeUInt32BE(Z[1],12),T},L.prototype.scrub=function(){b(this._keySchedule),b(this._invKeySchedule),b(this._key)},p.exports.AES=L}),jc=Fo((l,p)=>{var r=ka().Buffer,v=r.alloc(16,0);function b(k){return[k.readUInt32BE(0),k.readUInt32BE(4),k.readUInt32BE(8),k.readUInt32BE(12)]}function x(k){var L=r.allocUnsafe(16);return L.writeUInt32BE(k[0]>>>0,0),L.writeUInt32BE(k[1]>>>0,4),L.writeUInt32BE(k[2]>>>0,8),L.writeUInt32BE(k[3]>>>0,12),L}function u(k){this.h=k,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}u.prototype.ghash=function(k){for(var L=-1;++L<k.length;)this.state[L]^=k[L];this._multiply()},u.prototype._multiply=function(){for(var k=b(this.h),L=[0,0,0,0],y,R,Z,T=-1;++T<128;){for(R=(this.state[~~(T/8)]&1<<7-T%8)!==0,R&&(L[0]^=k[0],L[1]^=k[1],L[2]^=k[2],L[3]^=k[3]),Z=(k[3]&1)!==0,y=3;y>0;y--)k[y]=k[y]>>>1|(k[y-1]&1)<<31;k[0]=k[0]>>>1,Z&&(k[0]=k[0]^-520093696)}this.state=x(L)},u.prototype.update=function(k){this.cache=r.concat([this.cache,k]);for(var L;this.cache.length>=16;)L=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(L)},u.prototype.final=function(k,L){return this.cache.length&&this.ghash(r.concat([this.cache,v],16)),this.ghash(x([0,k,0,L])),this.state},p.exports=u}),_r=Fo((l,p)=>{var r=Cn(),v=ka().Buffer,b=ke(),x=pa(),u=jc(),k=kn(),L=pr();function y(T,M){var $=0;T.length!==M.length&&$++;for(var q=Math.min(T.length,M.length),g=0;g<q;++g)$+=T[g]^M[g];return $}function R(T,M,$){if(M.length===12)return T._finID=v.concat([M,v.from([0,0,0,1])]),v.concat([M,v.from([0,0,0,2])]);var q=new u($),g=M.length,w=g%16;q.update(M),w&&(w=16-w,q.update(v.alloc(w,0))),q.update(v.alloc(8,0));var I=g*8,W=v.alloc(8);W.writeUIntBE(I,0,8),q.update(W),T._finID=q.state;var E=v.from(T._finID);return L(E),E}function Z(T,M,$,q){b.call(this);var g=v.alloc(4,0);this._cipher=new r.AES(M);var w=this._cipher.encryptBlock(g);this._ghash=new u(w),$=R(this,$,w),this._prev=v.from($),this._cache=v.allocUnsafe(0),this._secCache=v.allocUnsafe(0),this._decrypt=q,this._alen=0,this._len=0,this._mode=T,this._authTag=null,this._called=!1}x(Z,b),Z.prototype._update=function(T){if(!this._called&&this._alen){var M=16-this._alen%16;M<16&&(M=v.alloc(M,0),this._ghash.update(M))}this._called=!0;var $=this._mode.encrypt(this,T);return this._decrypt?this._ghash.update(T):this._ghash.update($),this._len+=T.length,$},Z.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var T=k(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y(T,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=T,this._cipher.scrub()},Z.prototype.getAuthTag=function(){if(this._decrypt||!v.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Z.prototype.setAuthTag=function(T){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=T},Z.prototype.setAAD=function(T){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(T),this._alen+=T.length},p.exports=Z}),kr=Fo((l,p)=>{var r=Cn(),v=ka().Buffer,b=ke(),x=pa();function u(k,L,y,R){b.call(this),this._cipher=new r.AES(L),this._prev=v.from(y),this._cache=v.allocUnsafe(0),this._secCache=v.allocUnsafe(0),this._decrypt=R,this._mode=k}x(u,b),u.prototype._update=function(k){return this._mode.encrypt(this,k,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},p.exports=u}),Bn=Fo((l,p)=>{var r=ka().Buffer,v=Fs();function b(x,u,k,L){if(r.isBuffer(x)||(x=r.from(x,"binary")),u&&(r.isBuffer(u)||(u=r.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=k/8,R=r.alloc(y),Z=r.alloc(L||0),T=r.alloc(0);y>0||L>0;){var M=new v;M.update(T),M.update(x),u&&M.update(u),T=M.digest();var $=0;if(y>0){var q=R.length-y;$=Math.min(y,T.length),T.copy(R,q,0,$),y-=$}if($<T.length&&L>0){var g=Z.length-L,w=Math.min(L,T.length-$);T.copy(Z,g,$,$+w),L-=w}}return T.fill(0),{key:R,iv:Z}}p.exports=b}),wc=Fo((l)=>{var p=Ds(),r=_r(),v=ka().Buffer,b=kr(),x=ke(),u=Cn(),k=Bn(),L=pa();function y($,q,g){x.call(this),this._cache=new Z,this._cipher=new u.AES(q),this._prev=v.from(g),this._mode=$,this._autopadding=!0}L(y,x),y.prototype._update=function($){this._cache.add($);for(var q,g,w=[];q=this._cache.get();)g=this._mode.encrypt(this,q),w.push(g);return v.concat(w)};var R=v.alloc(16,16);y.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return $=this._mode.encrypt(this,$),this._cipher.scrub(),$;if(!$.equals(R))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function($){return this._autopadding=!!$,this};function Z(){this.cache=v.allocUnsafe(0)}Z.prototype.add=function($){this.cache=v.concat([this.cache,$])},Z.prototype.get=function(){if(this.cache.length>15){var $=this.cache.slice(0,16);return this.cache=this.cache.slice(16),$}return null},Z.prototype.flush=function(){for(var $=16-this.cache.length,q=v.allocUnsafe($),g=-1;++g<$;)q.writeUInt8($,g);return v.concat([this.cache,q])};function T($,q,g){var w=p[$.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof q=="string"&&(q=v.from(q)),q.length!==w.key/8)throw new TypeError("invalid key length "+q.length);if(typeof g=="string"&&(g=v.from(g)),w.mode!=="GCM"&&g.length!==w.iv)throw new TypeError("invalid iv length "+g.length);return w.type==="stream"?new b(w.module,q,g):w.type==="auth"?new r(w.module,q,g):new y(w.module,q,g)}function M($,q){var g=p[$.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var w=k(q,!1,g.key,g.iv);return T($,w.key,w.iv)}l.createCipheriv=T,l.createCipher=M}),Fc=Fo((l)=>{var p=_r(),r=ka().Buffer,v=Ds(),b=kr(),x=ke(),u=Cn(),k=Bn(),L=pa();function y($,q,g){x.call(this),this._cache=new R,this._last=void 0,this._cipher=new u.AES(q),this._prev=r.from(g),this._mode=$,this._autopadding=!0}L(y,x),y.prototype._update=function($){this._cache.add($);for(var q,g,w=[];q=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,q),w.push(g);return r.concat(w)},y.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return Z(this._mode.decrypt(this,$));if($)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function($){return this._autopadding=!!$,this};function R(){this.cache=r.allocUnsafe(0)}R.prototype.add=function($){this.cache=r.concat([this.cache,$])},R.prototype.get=function($){var q;if($){if(this.cache.length>16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q}else if(this.cache.length>=16)return q=this.cache.slice(0,16),this.cache=this.cache.slice(16),q;return null},R.prototype.flush=function(){if(this.cache.length)return this.cache};function Z($){var q=$[15];if(q<1||q>16)throw new Error("unable to decrypt data");for(var g=-1;++g<q;)if($[g+(16-q)]!==q)throw new Error("unable to decrypt data");if(q!==16)return $.slice(0,16-q)}function T($,q,g){var w=v[$.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=r.from(g)),w.mode!=="GCM"&&g.length!==w.iv)throw new TypeError("invalid iv length "+g.length);if(typeof q=="string"&&(q=r.from(q)),q.length!==w.key/8)throw new TypeError("invalid key length "+q.length);return w.type==="stream"?new b(w.module,q,g,!0):w.type==="auth"?new p(w.module,q,g,!0):new y(w.module,q,g)}function M($,q){var g=v[$.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var w=k(q,!1,g.key,g.iv);return T($,w.key,w.iv)}l.createDecipher=M,l.createDecipheriv=T}),Qs=Fo((l)=>{var p=wc(),r=Fc(),v=fr();function b(){return Object.keys(v)}l.createCipher=l.Cipher=p.createCipher,l.createCipheriv=l.Cipheriv=p.createCipheriv,l.createDecipher=l.Decipher=r.createDecipher,l.createDecipheriv=l.Decipheriv=r.createDecipheriv,l.listCiphers=l.getCiphers=b}),Ic=Fo((l)=>{l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}}),zc=Fo((l)=>{var p=Lc(),r=Qs(),v=Ds(),b=Ic(),x=Bn();function u(Z,T){Z=Z.toLowerCase();var M,$;if(v[Z])M=v[Z].key,$=v[Z].iv;else if(b[Z])M=b[Z].key*8,$=b[Z].iv;else throw new TypeError("invalid suite type");var q=x(T,!1,M,$);return L(Z,q.key,q.iv)}function k(Z,T){Z=Z.toLowerCase();var M,$;if(v[Z])M=v[Z].key,$=v[Z].iv;else if(b[Z])M=b[Z].key*8,$=b[Z].iv;else throw new TypeError("invalid suite type");var q=x(T,!1,M,$);return y(Z,q.key,q.iv)}function L(Z,T,M){if(Z=Z.toLowerCase(),v[Z])return r.createCipheriv(Z,T,M);if(b[Z])return new p({key:T,iv:M,mode:Z});throw new TypeError("invalid suite type")}function y(Z,T,M){if(Z=Z.toLowerCase(),v[Z])return r.createDecipheriv(Z,T,M);if(b[Z])return new p({key:T,iv:M,mode:Z,decrypt:!0});throw new TypeError("invalid suite type")}function R(){return Object.keys(b).concat(r.getCiphers())}l.createCipher=l.Cipher=u,l.createCipheriv=l.Cipheriv=L,l.createDecipher=l.Decipher=k,l.createDecipheriv=l.Decipheriv=y,l.listCiphers=l.getCiphers=R}),Le=Fo(()=>{}),hr=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),Jc=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),Kc=Fo(()=>{}),Cs=Fo((l,p)=>{var r;p.exports=function(x){return r||(r=new v(null)),r.generate(x)};function v(x){this.rand=x}if(p.exports.Rand=v,v.prototype.generate=function(x){return this._rand(x)},v.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var u=new Uint8Array(x),k=0;k<u.length;k++)u[k]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?v.prototype._rand=function(x){var u=new Uint8Array(x);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?v.prototype._rand=function(x){var u=new Uint8Array(x);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(v.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(b=Kc(),typeof b.randomBytes!="function")throw new Error("Not supported");v.prototype._rand=function(x){return b.randomBytes(x)}}catch{}var b}),Nr=Fo((l,p)=>{var r=Jc(),v=Cs();function b(x){this.rand=x||new v.Rand}p.exports=b,b.create=function(x){return new b(x)},b.prototype._randbelow=function(x){var u=x.bitLength(),k=Math.ceil(u/8);do var L=new r(this.rand.generate(k));while(L.cmp(x)>=0);return L},b.prototype._randrange=function(x,u){var k=u.sub(x);return x.add(this._randbelow(k))},b.prototype.test=function(x,u,k){var L=x.bitLength(),y=r.mont(x),R=new r(1).toRed(y);u||(u=Math.max(1,L/48|0));for(var Z=x.subn(1),T=0;!Z.testn(T);T++);for(var M=x.shrn(T),$=Z.toRed(y),q=!0;u>0;u--){var g=this._randrange(new r(2),Z);k&&k(g);var w=g.toRed(y).redPow(M);if(!(w.cmp(R)===0||w.cmp($)===0)){for(var I=1;I<T;I++){if(w=w.redSqr(),w.cmp(R)===0)return!1;if(w.cmp($)===0)break}if(I===T)return!1}}return q},b.prototype.getDivisor=function(x,u){var k=x.bitLength(),L=r.mont(x),y=new r(1).toRed(L);u||(u=Math.max(1,k/48|0));for(var R=x.subn(1),Z=0;!R.testn(Z);Z++);for(var T=x.shrn(Z),M=R.toRed(L);u>0;u--){var $=this._randrange(new r(2),R),q=x.gcd($);if(q.cmpn(1)!==0)return q;var g=$.toRed(L).redPow(T);if(!(g.cmp(y)===0||g.cmp(M)===0)){for(var w=1;w<Z;w++){if(g=g.redSqr(),g.cmp(y)===0)return g.fromRed().subn(1).gcd(x);if(g.cmp(M)===0)break}if(w===Z)return g=g.redSqr(),g.fromRed().subn(1).gcd(x)}}return!1}}),vr=Fo((l,p)=>{var r=Ge();p.exports=C,C.simpleSieve=E,C.fermatTest=D;var v=hr(),b=new v(24),x=Nr(),u=new x,k=new v(1),L=new v(2),y=new v(5),R=new v(16),Z=new v(8),T=new v(10),M=new v(3),$=new v(7),q=new v(11),g=new v(4),w=new v(12),I=null;function W(){if(I!==null)return I;var uo=1048576,po=[];po[0]=2;for(var To=1,co=3;co<uo;co+=2){for(var Lo=Math.ceil(Math.sqrt(co)),o=0;o<To&&po[o]<=Lo&&co%po[o]!==0;o++);To!==o&&po[o]<=Lo||(po[To++]=co)}return I=po,po}function E(uo){for(var po=W(),To=0;To<po.length;To++)if(uo.modn(po[To])===0)return uo.cmpn(po[To])===0;return!0}function D(uo){var po=v.mont(uo);return L.toRed(po).redPow(uo.subn(1)).fromRed().cmpn(1)===0}function C(uo,po){if(uo<16)return po===2||po===5?new v([140,123]):new v([140,39]);po=new v(po);for(var To,co;;){for(To=new v(r(Math.ceil(uo/8)));To.bitLength()>uo;)To.ishrn(1);if(To.isEven()&&To.iadd(k),To.testn(1)||To.iadd(L),po.cmp(L)){if(!po.cmp(y))for(;To.mod(T).cmp(M);)To.iadd(g)}else for(;To.mod(b).cmp(q);)To.iadd(g);if(co=To.shrn(1),E(co)&&E(To)&&D(co)&&D(To)&&u.test(co)&&u.test(To))return To}}}),Ec=Fo((l,p)=>{p.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),Pc=Fo((l,p)=>{var r=hr(),v=Nr(),b=new v,x=new r(24),u=new r(11),k=new r(10),L=new r(3),y=new r(7),R=vr(),Z=Ge();p.exports=g;function T(I,W){return W=W||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,W)),this._pub=new r(I),this}function M(I,W){return W=W||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,W)),this._priv=new r(I),this}var $={};function q(I,W){var E=W.toString("hex"),D=[E,I.toString(16)].join("_");if(D in $)return $[D];var C=0;if(I.isEven()||!R.simpleSieve||!R.fermatTest(I)||!b.test(I))return C+=1,E==="02"||E==="05"?C+=8:C+=4,$[D]=C,C;b.test(I.shrn(1))||(C+=2);var uo;switch(E){case"02":I.mod(x).cmp(u)&&(C+=8);break;case"05":uo=I.mod(k),uo.cmp(L)&&uo.cmp(y)&&(C+=8);break;default:C+=4}return $[D]=C,C}function g(I,W,E){this.setGenerator(W),this.__prime=new r(I),this._prime=r.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,E?(this.setPublicKey=T,this.setPrivateKey=M):this._primeCode=8}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=q(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new r(Z(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(I){I=new r(I),I=I.toRed(this._prime);var W=I.redPow(this._priv).fromRed(),E=new Buffer(W.toArray()),D=this.getPrime();if(E.length<D.length){var C=new Buffer(D.length-E.length);C.fill(0),E=Buffer.concat([C,E])}return E},g.prototype.getPublicKey=function(I){return w(this._pub,I)},g.prototype.getPrivateKey=function(I){return w(this._priv,I)},g.prototype.getPrime=function(I){return w(this.__prime,I)},g.prototype.getGenerator=function(I){return w(this._gen,I)},g.prototype.setGenerator=function(I,W){return W=W||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,W)),this.__gen=I,this._gen=new r(I),this};function w(I,W){var E=new Buffer(I.toArray());return W?E.toString(W):E}}),Hc=Fo((l)=>{var p=vr(),r=Ec(),v=Pc();function b(k){var L=new Buffer(r[k].prime,"hex"),y=new Buffer(r[k].gen,"hex");return new v(L,y)}var x={binary:!0,hex:!0,base64:!0};function u(k,L,y,R){return Buffer.isBuffer(L)||x[L]===void 0?u(k,"binary",L,y):(L=L||"binary",R=R||"binary",y=y||new Buffer([2]),Buffer.isBuffer(y)||(y=new Buffer(y,R)),typeof k=="number"?new v(p(k,y),y,!0):(Buffer.isBuffer(k)||(k=new Buffer(k,L)),new v(k,y,!0)))}l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=b,l.createDiffieHellman=l.DiffieHellman=u}),Zr=Fo((l,p)=>{p.exports=$e().EventEmitter}),Gc=Fo((l,p)=>{function r($,q){var g=Object.keys($);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols($);q&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor($,I).enumerable})),g.push.apply(g,w)}return g}function v($){for(var q=1;q<arguments.length;q++){var g=arguments[q]!=null?arguments[q]:{};q%2?r(Object(g),!0).forEach(function(w){b($,w,g[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(w){Object.defineProperty($,w,Object.getOwnPropertyDescriptor(g,w))})}return $}function b($,q,g){return q in $?Object.defineProperty($,q,{value:g,enumerable:!0,configurable:!0,writable:!0}):$[q]=g,$}function x($,q){if(!($ instanceof q))throw new TypeError("Cannot call a class as a function")}function u($,q){for(var g=0;g<q.length;g++){var w=q[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty($,w.key,w)}}function k($,q,g){return q&&u($.prototype,q),g&&u($,g),$}var L=Xa(),y=L.Buffer,R=Gn(),Z=R.inspect,T=Z&&Z.custom||"inspect";function M($,q,g){y.prototype.copy.call($,q,g)}p.exports=function(){function $(){x(this,$),this.head=null,this.tail=null,this.length=0}return k($,[{key:"push",value:function(q){var g={data:q,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(q){var g={data:q,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var q=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=q+g.data;return w}},{key:"concat",value:function(q){if(this.length===0)return y.alloc(0);for(var g=y.allocUnsafe(q>>>0),w=this.head,I=0;w;)M(w.data,g,I),I+=w.data.length,w=w.next;return g}},{key:"consume",value:function(q,g){var w;return q<this.head.data.length?(w=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):q===this.head.data.length?w=this.shift():w=g?this._getString(q):this._getBuffer(q),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var g=this.head,w=1,I=g.data;for(q-=I.length;g=g.next;){var W=g.data,E=q>W.length?W.length:q;if(E===W.length?I+=W:I+=W.slice(0,q),q-=E,q===0){E===W.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=W.slice(E));break}++w}return this.length-=w,I}},{key:"_getBuffer",value:function(q){var g=y.allocUnsafe(q),w=this.head,I=1;for(w.data.copy(g),q-=w.data.length;w=w.next;){var W=w.data,E=q>W.length?W.length:q;if(W.copy(g,g.length-q,0,E),q-=E,q===0){E===W.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=W.slice(E));break}++I}return this.length-=I,g}},{key:T,value:function(q,g){return Z(this,v({},g,{depth:0,customInspect:!1}))}}]),$}()}),yr=Fo((l,p)=>{function r(L,y){var R=this,Z=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return Z||T?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(M){!y&&M?R._writableState?R._writableState.errorEmitted?process.nextTick(b,R):(R._writableState.errorEmitted=!0,process.nextTick(v,R,M)):process.nextTick(v,R,M):y?(process.nextTick(b,R),y(M)):process.nextTick(b,R)}),this)}function v(L,y){u(L,y),b(L)}function b(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function k(L,y){var{_readableState:R,_writableState:Z}=L;R&&R.autoDestroy||Z&&Z.autoDestroy?L.destroy(y):L.emit("error",y)}p.exports={destroy:r,undestroy:x,errorOrDestroy:k}}),Be=Fo((l,p)=>{function r(y,R){y.prototype=Object.create(R.prototype),y.prototype.constructor=y,y.__proto__=R}var v={};function b(y,R,Z){Z||(Z=Error);function T($,q,g){return typeof R=="string"?R:R($,q,g)}var M=function($){r(q,$);function q(g,w,I){return $.call(this,T(g,w,I))||this}return q}(Z);M.prototype.name=Z.name,M.prototype.code=y,v[y]=M}function x(y,R){if(Array.isArray(y)){var Z=y.length;return y=y.map(function(T){return String(T)}),Z>2?"one of ".concat(R," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(R," ").concat(y[0]," or ").concat(y[1]):"of ".concat(R," ").concat(y[0])}else return"of ".concat(R," ").concat(String(y))}function u(y,R,Z){return y.substr(!Z||Z<0?0:+Z,R.length)===R}function k(y,R,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-R.length,Z)===R}function L(y,R,Z){return typeof Z!="number"&&(Z=0),Z+R.length>y.length?!1:y.indexOf(R,Z)!==-1}b("ERR_INVALID_OPT_VALUE",function(y,R){return'The value "'+R+'" is invalid for option "'+y+'"'},TypeError),b("ERR_INVALID_ARG_TYPE",function(y,R,Z){var T;typeof R=="string"&&u(R,"not ")?(T="must not be",R=R.replace(/^not /,"")):T="must be";var M;if(k(y," argument"))M="The ".concat(y," ").concat(T," ").concat(x(R,"type"));else{var $=L(y,".")?"property":"argument";M='The "'.concat(y,'" ').concat($," ").concat(T," ").concat(x(R,"type"))}return M+=". Received type ".concat(typeof Z),M},TypeError),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),b("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),b("ERR_STREAM_PREMATURE_CLOSE","Premature close"),b("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),b("ERR_STREAM_WRITE_AFTER_END","write after end"),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),p.exports.codes=v}),Rr=Fo((l,p)=>{var r=Be().codes.ERR_INVALID_OPT_VALUE;function v(x,u,k){return x.highWaterMark!=null?x.highWaterMark:u?x[k]:null}function b(x,u,k,L){var y=v(u,L,k);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var R=L?k:"highWaterMark";throw new r(R,y)}return Math.floor(y)}return x.objectMode?16:16384}p.exports={getHighWaterMark:b}}),xr=Fo((l,p)=>{p.exports=co;function r(mo){var io=this;this.next=null,this.entry=null,this.finish=function(){xo(io,mo)}}var v;co.WritableState=po;var b={deprecate:Jl()},x=Zr(),u=Xa().Buffer,k=global.Uint8Array||function(){};function L(mo){return u.from(mo)}function y(mo){return u.isBuffer(mo)||mo instanceof k}var R=yr(),Z=Rr(),T=Z.getHighWaterMark,M=Be().codes,$=M.ERR_INVALID_ARG_TYPE,q=M.ERR_METHOD_NOT_IMPLEMENTED,g=M.ERR_MULTIPLE_CALLBACK,w=M.ERR_STREAM_CANNOT_PIPE,I=M.ERR_STREAM_DESTROYED,W=M.ERR_STREAM_NULL_VALUES,E=M.ERR_STREAM_WRITE_AFTER_END,D=M.ERR_UNKNOWN_ENCODING,C=R.errorOrDestroy;pa()(co,x);function uo(){}function po(mo,io,ko){v=v||Ae(),mo=mo||{},typeof ko!="boolean"&&(ko=io instanceof v),this.objectMode=!!mo.objectMode,ko&&(this.objectMode=this.objectMode||!!mo.writableObjectMode),this.highWaterMark=T(this,mo,"writableHighWaterMark",ko),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Io=mo.decodeStrings===!1;this.decodeStrings=!Io,this.defaultEncoding=mo.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(qo){h(io,qo)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=mo.emitClose!==!1,this.autoDestroy=!!mo.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}po.prototype.getBuffer=function(){for(var mo=this.bufferedRequest,io=[];mo;)io.push(mo),mo=mo.next;return io},function(){try{Object.defineProperty(po.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var To;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(To=Function.prototype[Symbol.hasInstance],Object.defineProperty(co,Symbol.hasInstance,{value:function(mo){return To.call(this,mo)?!0:this!==co?!1:mo&&mo._writableState instanceof po}})):To=function(mo){return mo instanceof this};function co(mo){v=v||Ae();var io=this instanceof v;if(!io&&!To.call(co,this))return new co(mo);this._writableState=new po(mo,this,io),this.writable=!0,mo&&(typeof mo.write=="function"&&(this._write=mo.write),typeof mo.writev=="function"&&(this._writev=mo.writev),typeof mo.destroy=="function"&&(this._destroy=mo.destroy),typeof mo.final=="function"&&(this._final=mo.final)),x.call(this)}co.prototype.pipe=function(){C(this,new w)};function Lo(mo,io){var ko=new E;C(mo,ko),process.nextTick(io,ko)}function o(mo,io,ko,Io){var qo;return ko===null?qo=new W:typeof ko!="string"&&!io.objectMode&&(qo=new $("chunk",["string","Buffer"],ko)),qo?(C(mo,qo),process.nextTick(Io,qo),!1):!0}co.prototype.write=function(mo,io,ko){var Io=this._writableState,qo=!1,Oo=!Io.objectMode&&y(mo);return Oo&&!u.isBuffer(mo)&&(mo=L(mo)),typeof io=="function"&&(ko=io,io=null),Oo?io="buffer":io||(io=Io.defaultEncoding),typeof ko!="function"&&(ko=uo),Io.ending?Lo(this,ko):(Oo||o(this,Io,mo,ko))&&(Io.pendingcb++,qo=c(this,Io,Oo,mo,io,ko)),qo},co.prototype.cork=function(){this._writableState.corked++},co.prototype.uncork=function(){var mo=this._writableState;mo.corked&&(mo.corked--,!mo.writing&&!mo.corked&&!mo.bufferProcessing&&mo.bufferedRequest&&t(this,mo))},co.prototype.setDefaultEncoding=function(mo){if(typeof mo=="string"&&(mo=mo.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((mo+"").toLowerCase())>-1))throw new D(mo);return this._writableState.defaultEncoding=mo,this},Object.defineProperty(co.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function n(mo,io,ko){return!mo.objectMode&&mo.decodeStrings!==!1&&typeof io=="string"&&(io=u.from(io,ko)),io}Object.defineProperty(co.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(mo,io,ko,Io,qo,Oo){if(!ko){var H=n(io,Io,qo);Io!==H&&(ko=!0,qo="buffer",Io=H)}var j=io.objectMode?1:Io.length;io.length+=j;var B=io.length<io.highWaterMark;if(B||(io.needDrain=!0),io.writing||io.corked){var $o=io.lastBufferedRequest;io.lastBufferedRequest={chunk:Io,encoding:qo,isBuf:ko,callback:Oo,next:null},$o?$o.next=io.lastBufferedRequest:io.bufferedRequest=io.lastBufferedRequest,io.bufferedRequestCount+=1}else s(mo,io,!1,j,Io,qo,Oo);return B}function s(mo,io,ko,Io,qo,Oo,H){io.writelen=Io,io.writecb=H,io.writing=!0,io.sync=!0,io.destroyed?io.onwrite(new I("write")):ko?mo._writev(qo,io.onwrite):mo._write(qo,Oo,io.onwrite),io.sync=!1}function m(mo,io,ko,Io,qo){--io.pendingcb,ko?(process.nextTick(qo,Io),process.nextTick(fo,mo,io),mo._writableState.errorEmitted=!0,C(mo,Io)):(qo(Io),mo._writableState.errorEmitted=!0,C(mo,Io),fo(mo,io))}function _(mo){mo.writing=!1,mo.writecb=null,mo.length-=mo.writelen,mo.writelen=0}function h(mo,io){var ko=mo._writableState,Io=ko.sync,qo=ko.writecb;if(typeof qo!="function")throw new g;if(_(ko),io)m(mo,ko,Io,io,qo);else{var Oo=S(ko)||mo.destroyed;!Oo&&!ko.corked&&!ko.bufferProcessing&&ko.bufferedRequest&&t(mo,ko),Io?process.nextTick(d,mo,ko,Oo,qo):d(mo,ko,Oo,qo)}}function d(mo,io,ko,Io){ko||a(mo,io),io.pendingcb--,Io(),fo(mo,io)}function a(mo,io){io.length===0&&io.needDrain&&(io.needDrain=!1,mo.emit("drain"))}function t(mo,io){io.bufferProcessing=!0;var ko=io.bufferedRequest;if(mo._writev&&ko&&ko.next){var Io=io.bufferedRequestCount,qo=new Array(Io),Oo=io.corkedRequestsFree;Oo.entry=ko;for(var H=0,j=!0;ko;)qo[H]=ko,ko.isBuf||(j=!1),ko=ko.next,H+=1;qo.allBuffers=j,s(mo,io,!0,io.length,qo,"",Oo.finish),io.pendingcb++,io.lastBufferedRequest=null,Oo.next?(io.corkedRequestsFree=Oo.next,Oo.next=null):io.corkedRequestsFree=new r(io),io.bufferedRequestCount=0}else{for(;ko;){var{chunk:B,encoding:$o,callback:Uo}=ko,Vo=io.objectMode?1:B.length;if(s(mo,io,!1,Vo,B,$o,Uo),ko=ko.next,io.bufferedRequestCount--,io.writing)break}ko===null&&(io.lastBufferedRequest=null)}io.bufferedRequest=ko,io.bufferProcessing=!1}co.prototype._write=function(mo,io,ko){ko(new q("_write()"))},co.prototype._writev=null,co.prototype.end=function(mo,io,ko){var Io=this._writableState;return typeof mo=="function"?(ko=mo,mo=null,io=null):typeof io=="function"&&(ko=io,io=null),mo!=null&&this.write(mo,io),Io.corked&&(Io.corked=1,this.uncork()),Io.ending||vo(this,Io,ko),this},Object.defineProperty(co.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(mo){return mo.ending&&mo.length===0&&mo.bufferedRequest===null&&!mo.finished&&!mo.writing}function U(mo,io){mo._final(function(ko){io.pendingcb--,ko&&C(mo,ko),io.prefinished=!0,mo.emit("prefinish"),fo(mo,io)})}function P(mo,io){!io.prefinished&&!io.finalCalled&&(typeof mo._final=="function"&&!io.destroyed?(io.pendingcb++,io.finalCalled=!0,process.nextTick(U,mo,io)):(io.prefinished=!0,mo.emit("prefinish")))}function fo(mo,io){var ko=S(io);if(ko&&(P(mo,io),io.pendingcb===0&&(io.finished=!0,mo.emit("finish"),io.autoDestroy))){var Io=mo._readableState;(!Io||Io.autoDestroy&&Io.endEmitted)&&mo.destroy()}return ko}function vo(mo,io,ko){io.ending=!0,fo(mo,io),ko&&(io.finished?process.nextTick(ko):mo.once("finish",ko)),io.ended=!0,mo.writable=!1}function xo(mo,io,ko){var Io=mo.entry;for(mo.entry=null;Io;){var qo=Io.callback;io.pendingcb--,qo(ko),Io=Io.next}io.corkedRequestsFree.next=mo}Object.defineProperty(co.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(mo){!this._writableState||(this._writableState.destroyed=mo)}}),co.prototype.destroy=R.destroy,co.prototype._undestroy=R.undestroy,co.prototype._destroy=function(mo,io){io(mo)}}),Ae=Fo((l,p)=>{var r=Object.keys||function(Z){var T=[];for(var M in Z)T.push(M);return T};p.exports=L;var v=qr(),b=xr();pa()(L,v);for(x=r(b.prototype),k=0;k<x.length;k++)u=x[k],L.prototype[u]||(L.prototype[u]=b.prototype[u]);var x,u,k;function L(Z){if(!(this instanceof L))return new L(Z);v.call(this,Z),b.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(R,this)}function R(Z){Z.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Bs=Fo((l,p)=>{var r=Be().codes.ERR_STREAM_PREMATURE_CLOSE;function v(k){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,R=new Array(y),Z=0;Z<y;Z++)R[Z]=arguments[Z];k.apply(this,R)}}}function b(){}function x(k){return k.setHeader&&typeof k.abort=="function"}function u(k,L,y){if(typeof L=="function")return u(k,null,L);L||(L={}),y=v(y||b);var R=L.readable||L.readable!==!1&&k.readable,Z=L.writable||L.writable!==!1&&k.writable,T=function(){k.writable||$()},M=k._writableState&&k._writableState.finished,$=function(){Z=!1,M=!0,R||y.call(k)},q=k._readableState&&k._readableState.endEmitted,g=function(){R=!1,q=!0,Z||y.call(k)},w=function(E){y.call(k,E)},I=function(){var E;if(R&&!q)return(!k._readableState||!k._readableState.ended)&&(E=new r),y.call(k,E);if(Z&&!M)return(!k._writableState||!k._writableState.ended)&&(E=new r),y.call(k,E)},W=function(){k.req.on("finish",$)};return x(k)?(k.on("complete",$),k.on("abort",I),k.req?W():k.on("request",W)):Z&&!k._writableState&&(k.on("end",T),k.on("close",T)),k.on("end",g),k.on("finish",$),L.error!==!1&&k.on("error",w),k.on("close",I),function(){k.removeListener("complete",$),k.removeListener("abort",I),k.removeListener("request",W),k.req&&k.req.removeListener("finish",$),k.removeListener("end",T),k.removeListener("close",T),k.removeListener("finish",$),k.removeListener("end",g),k.removeListener("error",w),k.removeListener("close",I)}}p.exports=u}),Yc=Fo((l,p)=>{var r;function v(W,E,D){return E in W?Object.defineProperty(W,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):W[E]=D,W}var b=Bs(),x=Symbol("lastResolve"),u=Symbol("lastReject"),k=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),R=Symbol("handlePromise"),Z=Symbol("stream");function T(W,E){return{value:W,done:E}}function M(W){var E=W[x];if(E!==null){var D=W[Z].read();D!==null&&(W[y]=null,W[x]=null,W[u]=null,E(T(D,!1)))}}function $(W){process.nextTick(M,W)}function q(W,E){return function(D,C){W.then(function(){if(E[L]){D(T(void 0,!0));return}E[R](D,C)},C)}}var g=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((r={get stream(){return this[Z]},next:function(){var W=this,E=this[k];if(E!==null)return Promise.reject(E);if(this[L])return Promise.resolve(T(void 0,!0));if(this[Z].destroyed)return new Promise(function(po,To){process.nextTick(function(){W[k]?To(W[k]):po(T(void 0,!0))})});var D=this[y],C;if(D)C=new Promise(q(D,this));else{var uo=this[Z].read();if(uo!==null)return Promise.resolve(T(uo,!1));C=new Promise(this[R])}return this[y]=C,C}},v(r,Symbol.asyncIterator,function(){return this}),v(r,"return",function(){var W=this;return new Promise(function(E,D){W[Z].destroy(null,function(C){if(C){D(C);return}E(T(void 0,!0))})})}),r),g),I=function(W){var E,D=Object.create(w,(E={},v(E,Z,{value:W,writable:!0}),v(E,x,{value:null,writable:!0}),v(E,u,{value:null,writable:!0}),v(E,k,{value:null,writable:!0}),v(E,L,{value:W._readableState.endEmitted,writable:!0}),v(E,R,{value:function(C,uo){var po=D[Z].read();po?(D[y]=null,D[x]=null,D[u]=null,C(T(po,!1))):(D[x]=C,D[u]=uo)},writable:!0}),E));return D[y]=null,b(W,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var uo=D[u];uo!==null&&(D[y]=null,D[x]=null,D[u]=null,uo(C)),D[k]=C;return}var po=D[x];po!==null&&(D[y]=null,D[x]=null,D[u]=null,po(T(void 0,!0))),D[L]=!0}),W.on("readable",$.bind(null,D)),D};p.exports=I}),Dc=Fo((l,p)=>{p.exports=function(){throw new Error("Readable.from is not available in the browser")}}),qr=Fo((l,p)=>{p.exports=o;var r;o.ReadableState=Lo;var v=$e().EventEmitter,b=function(H,j){return H.listeners(j).length},x=Zr(),u=Xa().Buffer,k=global.Uint8Array||function(){};function L(H){return u.from(H)}function y(H){return u.isBuffer(H)||H instanceof k}var R=Gn(),Z;R&&R.debuglog?Z=R.debuglog("stream"):Z=function(){};var T=Gc(),M=yr(),$=Rr(),q=$.getHighWaterMark,g=Be().codes,w=g.ERR_INVALID_ARG_TYPE,I=g.ERR_STREAM_PUSH_AFTER_EOF,W=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,D,C,uo;pa()(o,x);var po=M.errorOrDestroy,To=["error","close","destroy","pause","resume"];function co(H,j,B){if(typeof H.prependListener=="function")return H.prependListener(j,B);!H._events||!H._events[j]?H.on(j,B):Array.isArray(H._events[j])?H._events[j].unshift(B):H._events[j]=[B,H._events[j]]}function Lo(H,j,B){r=r||Ae(),H=H||{},typeof B!="boolean"&&(B=j instanceof r),this.objectMode=!!H.objectMode,B&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=q(this,H,"readableHighWaterMark",B),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(D||(D=(Yn(),Da(fn)).StringDecoder),this.decoder=new D(H.encoding),this.encoding=H.encoding)}function o(H){if(r=r||Ae(),!(this instanceof o))return new o(H);var j=this instanceof r;this._readableState=new Lo(H,this,j),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),x.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){!this._readableState||(this._readableState.destroyed=H)}}),o.prototype.destroy=M.destroy,o.prototype._undestroy=M.undestroy,o.prototype._destroy=function(H,j){j(H)},o.prototype.push=function(H,j){var B=this._readableState,$o;return B.objectMode?$o=!0:typeof H=="string"&&(j=j||B.defaultEncoding,j!==B.encoding&&(H=u.from(H,j),j=""),$o=!0),n(this,H,j,!1,$o)},o.prototype.unshift=function(H){return n(this,H,null,!0,!1)};function n(H,j,B,$o,Uo){Z("readableAddChunk",j);var Vo=H._readableState;if(j===null)Vo.reading=!1,d(H,Vo);else{var Ho;if(Uo||(Ho=s(Vo,j)),Ho)po(H,Ho);else if(Vo.objectMode||j&&j.length>0)if(typeof j!="string"&&!Vo.objectMode&&Object.getPrototypeOf(j)!==u.prototype&&(j=L(j)),$o)Vo.endEmitted?po(H,new E):c(H,Vo,j,!0);else if(Vo.ended)po(H,new I);else{if(Vo.destroyed)return!1;Vo.reading=!1,Vo.decoder&&!B?(j=Vo.decoder.write(j),Vo.objectMode||j.length!==0?c(H,Vo,j,!1):S(H,Vo)):c(H,Vo,j,!1)}else $o||(Vo.reading=!1,S(H,Vo))}return!Vo.ended&&(Vo.length<Vo.highWaterMark||Vo.length===0)}function c(H,j,B,$o){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,H.emit("data",B)):(j.length+=j.objectMode?1:B.length,$o?j.buffer.unshift(B):j.buffer.push(B),j.needReadable&&a(H)),S(H,j)}function s(H,j){var B;return!y(j)&&typeof j!="string"&&j!==void 0&&!H.objectMode&&(B=new w("chunk",["string","Buffer","Uint8Array"],j)),B}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(H){D||(D=(Yn(),Da(fn)).StringDecoder);var j=new D(H);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,$o="";B!==null;)$o+=j.write(B.data),B=B.next;return this._readableState.buffer.clear(),$o!==""&&this._readableState.buffer.push($o),this._readableState.length=$o.length,this};var m=1073741824;function _(H){return H>=m?H=m:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function h(H,j){return H<=0||j.length===0&&j.ended?0:j.objectMode?1:H!==H?j.flowing&&j.length?j.buffer.head.data.length:j.length:(H>j.highWaterMark&&(j.highWaterMark=_(H)),H<=j.length?H:j.ended?j.length:(j.needReadable=!0,0))}o.prototype.read=function(H){Z("read",H),H=parseInt(H,10);var j=this._readableState,B=H;if(H!==0&&(j.emittedReadable=!1),H===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return Z("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Io(this):a(this),null;if(H=h(H,j),H===0&&j.ended)return j.length===0&&Io(this),null;var $o=j.needReadable;Z("need readable",$o),(j.length===0||j.length-H<j.highWaterMark)&&($o=!0,Z("length less than watermark",$o)),j.ended||j.reading?($o=!1,Z("reading or ended",$o)):$o&&(Z("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(H=h(B,j)));var Uo;return H>0?Uo=ko(H,j):Uo=null,Uo===null?(j.needReadable=j.length<=j.highWaterMark,H=0):(j.length-=H,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),B!==H&&j.ended&&Io(this)),Uo!==null&&this.emit("data",Uo),Uo};function d(H,j){if(Z("onEofChunk"),!j.ended){if(j.decoder){var B=j.decoder.end();B&&B.length&&(j.buffer.push(B),j.length+=j.objectMode?1:B.length)}j.ended=!0,j.sync?a(H):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,t(H)))}}function a(H){var j=H._readableState;Z("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(Z("emitReadable",j.flowing),j.emittedReadable=!0,process.nextTick(t,H))}function t(H){var j=H._readableState;Z("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(H.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,io(H)}function S(H,j){j.readingMore||(j.readingMore=!0,process.nextTick(U,H,j))}function U(H,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var B=j.length;if(Z("maybeReadMore read 0"),H.read(0),B===j.length)break}j.readingMore=!1}o.prototype._read=function(H){po(this,new W("_read()"))},o.prototype.pipe=function(H,j){var B=this,$o=this._readableState;switch($o.pipesCount){case 0:$o.pipes=H;break;case 1:$o.pipes=[$o.pipes,H];break;default:$o.pipes.push(H);break}$o.pipesCount+=1,Z("pipe count=%d opts=%j",$o.pipesCount,j);var Uo=(!j||j.end!==!1)&&H!==process.stdout&&H!==process.stderr,Vo=Uo?jo:i;$o.endEmitted?process.nextTick(Vo):B.once("end",Vo),H.on("unpipe",Ho);function Ho(f,N){Z("onunpipe"),f===B&&N&&N.hasUnpiped===!1&&(N.hasUnpiped=!0,Jo())}function jo(){Z("onend"),H.end()}var zo=P(B);H.on("drain",zo);var Bo=!1;function Jo(){Z("cleanup"),H.removeListener("close",O),H.removeListener("finish",e),H.removeListener("drain",zo),H.removeListener("error",ba),H.removeListener("unpipe",Ho),B.removeListener("end",jo),B.removeListener("end",i),B.removeListener("data",Wo),Bo=!0,$o.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&zo()}B.on("data",Wo);function Wo(f){Z("ondata");var N=H.write(f);Z("dest.write",N),N===!1&&(($o.pipesCount===1&&$o.pipes===H||$o.pipesCount>1&&Oo($o.pipes,H)!==-1)&&!Bo&&(Z("false write response, pause",$o.awaitDrain),$o.awaitDrain++),B.pause())}function ba(f){Z("onerror",f),i(),H.removeListener("error",ba),b(H,"error")===0&&po(H,f)}co(H,"error",ba);function O(){H.removeListener("finish",e),i()}H.once("close",O);function e(){Z("onfinish"),H.removeListener("close",O),i()}H.once("finish",e);function i(){Z("unpipe"),B.unpipe(H)}return H.emit("pipe",B),$o.flowing||(Z("pipe resume"),B.resume()),H};function P(H){return function(){var j=H._readableState;Z("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&b(H,"data")&&(j.flowing=!0,io(H))}}o.prototype.unpipe=function(H){var j=this._readableState,B={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return H&&H!==j.pipes?this:(H||(H=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,H&&H.emit("unpipe",this,B),this);if(!H){var{pipes:$o,pipesCount:Uo}=j;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var Vo=0;Vo<Uo;Vo++)$o[Vo].emit("unpipe",this,{hasUnpiped:!1});return this}var Ho=Oo(j.pipes,H);return Ho===-1?this:(j.pipes.splice(Ho,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),H.emit("unpipe",this,B),this)},o.prototype.on=function(H,j){var B=x.prototype.on.call(this,H,j),$o=this._readableState;return H==="data"?($o.readableListening=this.listenerCount("readable")>0,$o.flowing!==!1&&this.resume()):H==="readable"&&!$o.endEmitted&&!$o.readableListening&&($o.readableListening=$o.needReadable=!0,$o.flowing=!1,$o.emittedReadable=!1,Z("on readable",$o.length,$o.reading),$o.length?a(this):$o.reading||process.nextTick(vo,this)),B},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(H,j){var B=x.prototype.removeListener.call(this,H,j);return H==="readable"&&process.nextTick(fo,this),B},o.prototype.removeAllListeners=function(H){var j=x.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&process.nextTick(fo,this),j};function fo(H){var j=H._readableState;j.readableListening=H.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:H.listenerCount("data")>0&&H.resume()}function vo(H){Z("readable nexttick read 0"),H.read(0)}o.prototype.resume=function(){var H=this._readableState;return H.flowing||(Z("resume"),H.flowing=!H.readableListening,xo(this,H)),H.paused=!1,this};function xo(H,j){j.resumeScheduled||(j.resumeScheduled=!0,process.nextTick(mo,H,j))}function mo(H,j){Z("resume",j.reading),j.reading||H.read(0),j.resumeScheduled=!1,H.emit("resume"),io(H),j.flowing&&!j.reading&&H.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function io(H){var j=H._readableState;for(Z("flow",j.flowing);j.flowing&&H.read()!==null;);}o.prototype.wrap=function(H){var j=this,B=this._readableState,$o=!1;H.on("end",function(){if(Z("wrapped end"),B.decoder&&!B.ended){var Ho=B.decoder.end();Ho&&Ho.length&&j.push(Ho)}j.push(null)}),H.on("data",function(Ho){if(Z("wrapped data"),B.decoder&&(Ho=B.decoder.write(Ho)),!(B.objectMode&&Ho==null)&&!(!B.objectMode&&(!Ho||!Ho.length))){var jo=j.push(Ho);jo||($o=!0,H.pause())}});for(var Uo in H)this[Uo]===void 0&&typeof H[Uo]=="function"&&(this[Uo]=function(Ho){return function(){return H[Ho].apply(H,arguments)}}(Uo));for(var Vo=0;Vo<To.length;Vo++)H.on(To[Vo],this.emit.bind(this,To[Vo]));return this._read=function(Ho){Z("wrapped _read",Ho),$o&&($o=!1,H.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=Yc()),C(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),o._fromList=ko,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ko(H,j){if(j.length===0)return null;var B;return j.objectMode?B=j.buffer.shift():!H||H>=j.length?(j.decoder?B=j.buffer.join(""):j.buffer.length===1?B=j.buffer.first():B=j.buffer.concat(j.length),j.buffer.clear()):B=j.buffer.consume(H,j.decoder),B}function Io(H){var j=H._readableState;Z("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process.nextTick(qo,j,H))}function qo(H,j){if(Z("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,j.readable=!1,j.emit("end"),H.autoDestroy)){var B=j._writableState;(!B||B.autoDestroy&&B.finished)&&j.destroy()}}typeof Symbol=="function"&&(o.from=function(H,j){return uo===void 0&&(uo=Dc()),uo(o,H,j)});function Oo(H,j){for(var B=0,$o=H.length;B<$o;B++)if(H[B]===j)return B;return-1}}),$r=Fo((l,p)=>{p.exports=y;var r=Be().codes,v=r.ERR_METHOD_NOT_IMPLEMENTED,b=r.ERR_MULTIPLE_CALLBACK,x=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,k=Ae();pa()(y,k);function L(T,M){var $=this._transformState;$.transforming=!1;var q=$.writecb;if(q===null)return this.emit("error",new b);$.writechunk=null,$.writecb=null,M!=null&&this.push(M),q(T);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function y(T){if(!(this instanceof y))return new y(T);k.call(this,T),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",R)}function R(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(M,$){Z(T,M,$)}):Z(this,null,null)}y.prototype.push=function(T,M){return this._transformState.needTransform=!1,k.prototype.push.call(this,T,M)},y.prototype._transform=function(T,M,$){$(new v("_transform()"))},y.prototype._write=function(T,M,$){var q=this._transformState;if(q.writecb=$,q.writechunk=T,q.writeencoding=M,!q.transforming){var g=this._readableState;(q.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},y.prototype._read=function(T){var M=this._transformState;M.writechunk!==null&&!M.transforming?(M.transforming=!0,this._transform(M.writechunk,M.writeencoding,M.afterTransform)):M.needTransform=!0},y.prototype._destroy=function(T,M){k.prototype._destroy.call(this,T,function($){M($)})};function Z(T,M,$){if(M)return T.emit("error",M);if($!=null&&T.push($),T._writableState.length)throw new u;if(T._transformState.transforming)throw new x;return T.push(null)}}),Qc=Fo((l,p)=>{p.exports=v;var r=$r();pa()(v,r);function v(b){if(!(this instanceof v))return new v(b);r.call(this,b)}v.prototype._transform=function(b,x,u){u(null,b)}}),Cc=Fo((l,p)=>{var r;function v($){var q=!1;return function(){q||(q=!0,$.apply(void 0,arguments))}}var b=Be().codes,x=b.ERR_MISSING_ARGS,u=b.ERR_STREAM_DESTROYED;function k($){if($)throw $}function L($){return $.setHeader&&typeof $.abort=="function"}function y($,q,g,w){w=v(w);var I=!1;$.on("close",function(){I=!0}),r===void 0&&(r=Bs()),r($,{readable:q,writable:g},function(E){if(E)return w(E);I=!0,w()});var W=!1;return function(E){if(!I&&!W){if(W=!0,L($))return $.abort();if(typeof $.destroy=="function")return $.destroy();w(E||new u("pipe"))}}}function R($){$()}function Z($,q){return $.pipe(q)}function T($){return!$.length||typeof $[$.length-1]!="function"?k:$.pop()}function M(){for(var $=arguments.length,q=new Array($),g=0;g<$;g++)q[g]=arguments[g];var w=T(q);if(Array.isArray(q[0])&&(q=q[0]),q.length<2)throw new x("streams");var I,W=q.map(function(E,D){var C=D<q.length-1,uo=D>0;return y(E,C,uo,function(po){I||(I=po),po&&W.forEach(R),!C&&(W.forEach(R),w(I))})});return q.reduce(Z)}p.exports=M}),Bc=Fo((l,p)=>{l=p.exports=qr(),l.Stream=l,l.Readable=l,l.Writable=xr(),l.Duplex=Ae(),l.Transform=$r(),l.PassThrough=Qc(),l.finished=Bs(),l.pipeline=Cc()}),As=Fo((l,p)=>{(function(r,v){function b(s,m){if(!s)throw new Error(m||"Assertion failed")}function x(s,m){s.super_=m;var _=function(){};_.prototype=m.prototype,s.prototype=new _,s.prototype.constructor=s}function u(s,m,_){if(u.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((m==="le"||m==="be")&&(_=m,m=10),this._init(s||0,m||10,_||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(s){return s instanceof u?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===u.wordSize&&Array.isArray(s.words)},u.max=function(s,m){return s.cmp(m)>0?s:m},u.min=function(s,m){return s.cmp(m)<0?s:m},u.prototype._init=function(s,m,_){if(typeof s=="number")return this._initNumber(s,m,_);if(typeof s=="object")return this._initArray(s,m,_);m==="hex"&&(m=16),b(m===(m|0)&&m>=2&&m<=36),s=s.toString().replace(/\s+/g,"");var h=0;s[0]==="-"&&(h++,this.negative=1),h<s.length&&(m===16?this._parseHex(s,h,_):(this._parseBase(s,m,h),_==="le"&&this._initArray(this.toArray(),m,_)))},u.prototype._initNumber=function(s,m,_){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(b(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),m,_)},u.prototype._initArray=function(s,m,_){if(b(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d,a,t=0;if(_==="be")for(h=s.length-1,d=0;h>=0;h-=3)a=s[h]|s[h-1]<<8|s[h-2]<<16,this.words[d]|=a<<t&67108863,this.words[d+1]=a>>>26-t&67108863,t+=24,t>=26&&(t-=26,d++);else if(_==="le")for(h=0,d=0;h<s.length;h+=3)a=s[h]|s[h+1]<<8|s[h+2]<<16,this.words[d]|=a<<t&67108863,this.words[d+1]=a>>>26-t&67108863,t+=24,t>=26&&(t-=26,d++);return this._strip()};function L(s,m){var _=s.charCodeAt(m);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;b(!1,"Invalid character in "+s)}function y(s,m,_){var h=L(s,_);return _-1>=m&&(h|=L(s,_-1)<<4),h}u.prototype._parseHex=function(s,m,_){this.length=Math.ceil((s.length-m)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var d=0,a=0,t;if(_==="be")for(h=s.length-1;h>=m;h-=2)t=y(s,m,h)<<d,this.words[a]|=t&67108863,d>=18?(d-=18,a+=1,this.words[a]|=t>>>26):d+=8;else{var S=s.length-m;for(h=S%2===0?m+1:m;h<s.length;h+=2)t=y(s,m,h)<<d,this.words[a]|=t&67108863,d>=18?(d-=18,a+=1,this.words[a]|=t>>>26):d+=8}this._strip()};function R(s,m,_,h){for(var d=0,a=0,t=Math.min(s.length,_),S=m;S<t;S++){var U=s.charCodeAt(S)-48;d*=h,U>=49?a=U-49+10:U>=17?a=U-17+10:a=U,b(U>=0&&a<h,"Invalid character"),d+=a}return d}u.prototype._parseBase=function(s,m,_){this.words=[0],this.length=1;for(var h=0,d=1;d<=67108863;d*=m)h++;h--,d=d/m|0;for(var a=s.length-_,t=a%h,S=Math.min(a,a-t)+_,U=0,P=_;P<S;P+=h)U=R(s,P,P+h,m),this.imuln(d),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(t!==0){var fo=1;for(U=R(s,P,s.length,m),P=0;P<t;P++)fo*=m;this.imuln(fo),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},u.prototype.copy=function(s){s.words=new Array(this.length);for(var m=0;m<this.length;m++)s.words[m]=this.words[m];s.length=this.length,s.negative=this.negative,s.red=this.red};function Z(s,m){s.words=m.words,s.length=m.length,s.negative=m.negative,s.red=m.red}if(u.prototype._move=function(s){Z(s,this)},u.prototype.clone=function(){var s=new u(null);return this.copy(s),s},u.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{u.prototype.inspect=T}else u.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(s,m){s=s||10,m=m|0||1;var _;if(s===16||s==="hex"){_="";for(var h=0,d=0,a=0;a<this.length;a++){var t=this.words[a],S=((t<<h|d)&16777215).toString(16);d=t>>>24-h&16777215,h+=2,h>=26&&(h-=26,a--),d!==0||a!==this.length-1?_=M[6-S.length]+S+_:_=S+_}for(d!==0&&(_=d.toString(16)+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(s===(s|0)&&s>=2&&s<=36){var U=$[s],P=q[s];_="";var fo=this.clone();for(fo.negative=0;!fo.isZero();){var vo=fo.modrn(P).toString(s);fo=fo.idivn(P),fo.isZero()?_=vo+_:_=M[U-vo.length]+vo+_}for(this.isZero()&&(_="0"+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},u.prototype.toJSON=function(){return this.toString(16,2)},k&&(u.prototype.toBuffer=function(s,m){return this.toArrayLike(k,s,m)}),u.prototype.toArray=function(s,m){return this.toArrayLike(Array,s,m)};var g=function(s,m){return s.allocUnsafe?s.allocUnsafe(m):new s(m)};u.prototype.toArrayLike=function(s,m,_){this._strip();var h=this.byteLength(),d=_||Math.max(1,h);b(h<=d,"byte array longer than desired length"),b(d>0,"Requested array length <= 0");var a=g(s,d),t=m==="le"?"LE":"BE";return this["_toArrayLike"+t](a,h),a},u.prototype._toArrayLikeLE=function(s,m){for(var _=0,h=0,d=0,a=0;d<this.length;d++){var t=this.words[d]<<a|h;s[_++]=t&255,_<s.length&&(s[_++]=t>>8&255),_<s.length&&(s[_++]=t>>16&255),a===6?(_<s.length&&(s[_++]=t>>24&255),h=0,a=0):(h=t>>>24,a+=2)}if(_<s.length)for(s[_++]=h;_<s.length;)s[_++]=0},u.prototype._toArrayLikeBE=function(s,m){for(var _=s.length-1,h=0,d=0,a=0;d<this.length;d++){var t=this.words[d]<<a|h;s[_--]=t&255,_>=0&&(s[_--]=t>>8&255),_>=0&&(s[_--]=t>>16&255),a===6?(_>=0&&(s[_--]=t>>24&255),h=0,a=0):(h=t>>>24,a+=2)}if(_>=0)for(s[_--]=h;_>=0;)s[_--]=0},Math.clz32?u.prototype._countBits=function(s){return 32-Math.clz32(s)}:u.prototype._countBits=function(s){var m=s,_=0;return m>=4096&&(_+=13,m>>>=13),m>=64&&(_+=7,m>>>=7),m>=8&&(_+=4,m>>>=4),m>=2&&(_+=2,m>>>=2),_+m},u.prototype._zeroBits=function(s){if(s===0)return 26;var m=s,_=0;return(m&8191)===0&&(_+=13,m>>>=13),(m&127)===0&&(_+=7,m>>>=7),(m&15)===0&&(_+=4,m>>>=4),(m&3)===0&&(_+=2,m>>>=2),(m&1)===0&&_++,_},u.prototype.bitLength=function(){var s=this.words[this.length-1],m=this._countBits(s);return(this.length-1)*26+m};function w(s){for(var m=new Array(s.bitLength()),_=0;_<m.length;_++){var h=_/26|0,d=_%26;m[_]=s.words[h]>>>d&1}return m}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,m=0;m<this.length;m++){var _=this._zeroBits(this.words[m]);if(s+=_,_!==26)break}return s},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},u.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var m=0;m<s.length;m++)this.words[m]=this.words[m]|s.words[m];return this._strip()},u.prototype.ior=function(s){return b((this.negative|s.negative)===0),this.iuor(s)},u.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},u.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},u.prototype.iuand=function(s){var m;this.length>s.length?m=s:m=this;for(var _=0;_<m.length;_++)this.words[_]=this.words[_]&s.words[_];return this.length=m.length,this._strip()},u.prototype.iand=function(s){return b((this.negative|s.negative)===0),this.iuand(s)},u.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},u.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},u.prototype.iuxor=function(s){var m,_;this.length>s.length?(m=this,_=s):(m=s,_=this);for(var h=0;h<_.length;h++)this.words[h]=m.words[h]^_.words[h];if(this!==m)for(;h<m.length;h++)this.words[h]=m.words[h];return this.length=m.length,this._strip()},u.prototype.ixor=function(s){return b((this.negative|s.negative)===0),this.iuxor(s)},u.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},u.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},u.prototype.inotn=function(s){b(typeof s=="number"&&s>=0);var m=Math.ceil(s/26)|0,_=s%26;this._expand(m),_>0&&m--;for(var h=0;h<m;h++)this.words[h]=~this.words[h]&67108863;return _>0&&(this.words[h]=~this.words[h]&67108863>>26-_),this._strip()},u.prototype.notn=function(s){return this.clone().inotn(s)},u.prototype.setn=function(s,m){b(typeof s=="number"&&s>=0);var _=s/26|0,h=s%26;return this._expand(_+1),m?this.words[_]=this.words[_]|1<<h:this.words[_]=this.words[_]&~(1<<h),this._strip()},u.prototype.iadd=function(s){var m;if(this.negative!==0&&s.negative===0)return this.negative=0,m=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,m=this.isub(s),s.negative=1,m._normSign();var _,h;this.length>s.length?(_=this,h=s):(_=s,h=this);for(var d=0,a=0;a<h.length;a++)m=(_.words[a]|0)+(h.words[a]|0)+d,this.words[a]=m&67108863,d=m>>>26;for(;d!==0&&a<_.length;a++)m=(_.words[a]|0)+d,this.words[a]=m&67108863,d=m>>>26;if(this.length=_.length,d!==0)this.words[this.length]=d,this.length++;else if(_!==this)for(;a<_.length;a++)this.words[a]=_.words[a];return this},u.prototype.add=function(s){var m;return s.negative!==0&&this.negative===0?(s.negative=0,m=this.sub(s),s.negative^=1,m):s.negative===0&&this.negative!==0?(this.negative=0,m=s.sub(this),this.negative=1,m):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},u.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var m=this.iadd(s);return s.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var _=this.cmp(s);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,d;_>0?(h=this,d=s):(h=s,d=this);for(var a=0,t=0;t<d.length;t++)m=(h.words[t]|0)-(d.words[t]|0)+a,a=m>>26,this.words[t]=m&67108863;for(;a!==0&&t<h.length;t++)m=(h.words[t]|0)+a,a=m>>26,this.words[t]=m&67108863;if(a===0&&t<h.length&&h!==this)for(;t<h.length;t++)this.words[t]=h.words[t];return this.length=Math.max(this.length,t),h!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(s){return this.clone().isub(s)};function I(s,m,_){_.negative=m.negative^s.negative;var h=s.length+m.length|0;_.length=h,h=h-1|0;var d=s.words[0]|0,a=m.words[0]|0,t=d*a,S=t&67108863,U=t/67108864|0;_.words[0]=S;for(var P=1;P<h;P++){for(var fo=U>>>26,vo=U&67108863,xo=Math.min(P,m.length-1),mo=Math.max(0,P-s.length+1);mo<=xo;mo++){var io=P-mo|0;d=s.words[io]|0,a=m.words[mo]|0,t=d*a+vo,fo+=t/67108864|0,vo=t&67108863}_.words[P]=vo|0,U=fo|0}return U!==0?_.words[P]=U|0:_.length--,_._strip()}var W=function(s,m,_){var h=s.words,d=m.words,a=_.words,t=0,S,U,P,fo=h[0]|0,vo=fo&8191,xo=fo>>>13,mo=h[1]|0,io=mo&8191,ko=mo>>>13,Io=h[2]|0,qo=Io&8191,Oo=Io>>>13,H=h[3]|0,j=H&8191,B=H>>>13,$o=h[4]|0,Uo=$o&8191,Vo=$o>>>13,Ho=h[5]|0,jo=Ho&8191,zo=Ho>>>13,Bo=h[6]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=h[7]|0,O=ba&8191,e=ba>>>13,i=h[8]|0,f=i&8191,N=i>>>13,V=h[9]|0,X=V&8191,F=V>>>13,K=d[0]|0,z=K&8191,J=K>>>13,ao=d[1]|0,Y=ao&8191,G=ao>>>13,no=d[2]|0,A=no&8191,ro=no>>>13,No=d[3]|0,oo=No&8191,eo=No>>>13,so=d[4]|0,Q=so&8191,lo=so>>>13,_o=d[5]|0,to=_o&8191,bo=_o>>>13,go=d[6]|0,ho=go&8191,yo=go>>>13,So=d[7]|0,Ro=So&8191,Zo=So>>>13,wo=d[8]|0,Mo=wo&8191,Xo=wo>>>13,Eo=d[9]|0,Ko=Eo&8191,Po=Eo>>>13;_.negative=s.negative^m.negative,_.length=19,S=Math.imul(vo,z),U=Math.imul(vo,J),U=U+Math.imul(xo,z)|0,P=Math.imul(xo,J);var Co=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Co>>>26)|0,Co&=67108863,S=Math.imul(io,z),U=Math.imul(io,J),U=U+Math.imul(ko,z)|0,P=Math.imul(ko,J),S=S+Math.imul(vo,Y)|0,U=U+Math.imul(vo,G)|0,U=U+Math.imul(xo,Y)|0,P=P+Math.imul(xo,G)|0;var Yo=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,S=Math.imul(qo,z),U=Math.imul(qo,J),U=U+Math.imul(Oo,z)|0,P=Math.imul(Oo,J),S=S+Math.imul(io,Y)|0,U=U+Math.imul(io,G)|0,U=U+Math.imul(ko,Y)|0,P=P+Math.imul(ko,G)|0,S=S+Math.imul(vo,A)|0,U=U+Math.imul(vo,ro)|0,U=U+Math.imul(xo,A)|0,P=P+Math.imul(xo,ro)|0;var Ao=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,S=Math.imul(j,z),U=Math.imul(j,J),U=U+Math.imul(B,z)|0,P=Math.imul(B,J),S=S+Math.imul(qo,Y)|0,U=U+Math.imul(qo,G)|0,U=U+Math.imul(Oo,Y)|0,P=P+Math.imul(Oo,G)|0,S=S+Math.imul(io,A)|0,U=U+Math.imul(io,ro)|0,U=U+Math.imul(ko,A)|0,P=P+Math.imul(ko,ro)|0,S=S+Math.imul(vo,oo)|0,U=U+Math.imul(vo,eo)|0,U=U+Math.imul(xo,oo)|0,P=P+Math.imul(xo,eo)|0;var Go=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Go>>>26)|0,Go&=67108863,S=Math.imul(Uo,z),U=Math.imul(Uo,J),U=U+Math.imul(Vo,z)|0,P=Math.imul(Vo,J),S=S+Math.imul(j,Y)|0,U=U+Math.imul(j,G)|0,U=U+Math.imul(B,Y)|0,P=P+Math.imul(B,G)|0,S=S+Math.imul(qo,A)|0,U=U+Math.imul(qo,ro)|0,U=U+Math.imul(Oo,A)|0,P=P+Math.imul(Oo,ro)|0,S=S+Math.imul(io,oo)|0,U=U+Math.imul(io,eo)|0,U=U+Math.imul(ko,oo)|0,P=P+Math.imul(ko,eo)|0,S=S+Math.imul(vo,Q)|0,U=U+Math.imul(vo,lo)|0,U=U+Math.imul(xo,Q)|0,P=P+Math.imul(xo,lo)|0;var oa=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(oa>>>26)|0,oa&=67108863,S=Math.imul(jo,z),U=Math.imul(jo,J),U=U+Math.imul(zo,z)|0,P=Math.imul(zo,J),S=S+Math.imul(Uo,Y)|0,U=U+Math.imul(Uo,G)|0,U=U+Math.imul(Vo,Y)|0,P=P+Math.imul(Vo,G)|0,S=S+Math.imul(j,A)|0,U=U+Math.imul(j,ro)|0,U=U+Math.imul(B,A)|0,P=P+Math.imul(B,ro)|0,S=S+Math.imul(qo,oo)|0,U=U+Math.imul(qo,eo)|0,U=U+Math.imul(Oo,oo)|0,P=P+Math.imul(Oo,eo)|0,S=S+Math.imul(io,Q)|0,U=U+Math.imul(io,lo)|0,U=U+Math.imul(ko,Q)|0,P=P+Math.imul(ko,lo)|0,S=S+Math.imul(vo,to)|0,U=U+Math.imul(vo,bo)|0,U=U+Math.imul(xo,to)|0,P=P+Math.imul(xo,bo)|0;var Qo=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,S=Math.imul(Jo,z),U=Math.imul(Jo,J),U=U+Math.imul(Wo,z)|0,P=Math.imul(Wo,J),S=S+Math.imul(jo,Y)|0,U=U+Math.imul(jo,G)|0,U=U+Math.imul(zo,Y)|0,P=P+Math.imul(zo,G)|0,S=S+Math.imul(Uo,A)|0,U=U+Math.imul(Uo,ro)|0,U=U+Math.imul(Vo,A)|0,P=P+Math.imul(Vo,ro)|0,S=S+Math.imul(j,oo)|0,U=U+Math.imul(j,eo)|0,U=U+Math.imul(B,oo)|0,P=P+Math.imul(B,eo)|0,S=S+Math.imul(qo,Q)|0,U=U+Math.imul(qo,lo)|0,U=U+Math.imul(Oo,Q)|0,P=P+Math.imul(Oo,lo)|0,S=S+Math.imul(io,to)|0,U=U+Math.imul(io,bo)|0,U=U+Math.imul(ko,to)|0,P=P+Math.imul(ko,bo)|0,S=S+Math.imul(vo,ho)|0,U=U+Math.imul(vo,yo)|0,U=U+Math.imul(xo,ho)|0,P=P+Math.imul(xo,yo)|0;var ra=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(ra>>>26)|0,ra&=67108863,S=Math.imul(O,z),U=Math.imul(O,J),U=U+Math.imul(e,z)|0,P=Math.imul(e,J),S=S+Math.imul(Jo,Y)|0,U=U+Math.imul(Jo,G)|0,U=U+Math.imul(Wo,Y)|0,P=P+Math.imul(Wo,G)|0,S=S+Math.imul(jo,A)|0,U=U+Math.imul(jo,ro)|0,U=U+Math.imul(zo,A)|0,P=P+Math.imul(zo,ro)|0,S=S+Math.imul(Uo,oo)|0,U=U+Math.imul(Uo,eo)|0,U=U+Math.imul(Vo,oo)|0,P=P+Math.imul(Vo,eo)|0,S=S+Math.imul(j,Q)|0,U=U+Math.imul(j,lo)|0,U=U+Math.imul(B,Q)|0,P=P+Math.imul(B,lo)|0,S=S+Math.imul(qo,to)|0,U=U+Math.imul(qo,bo)|0,U=U+Math.imul(Oo,to)|0,P=P+Math.imul(Oo,bo)|0,S=S+Math.imul(io,ho)|0,U=U+Math.imul(io,yo)|0,U=U+Math.imul(ko,ho)|0,P=P+Math.imul(ko,yo)|0,S=S+Math.imul(vo,Ro)|0,U=U+Math.imul(vo,Zo)|0,U=U+Math.imul(xo,Ro)|0,P=P+Math.imul(xo,Zo)|0;var aa=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(aa>>>26)|0,aa&=67108863,S=Math.imul(f,z),U=Math.imul(f,J),U=U+Math.imul(N,z)|0,P=Math.imul(N,J),S=S+Math.imul(O,Y)|0,U=U+Math.imul(O,G)|0,U=U+Math.imul(e,Y)|0,P=P+Math.imul(e,G)|0,S=S+Math.imul(Jo,A)|0,U=U+Math.imul(Jo,ro)|0,U=U+Math.imul(Wo,A)|0,P=P+Math.imul(Wo,ro)|0,S=S+Math.imul(jo,oo)|0,U=U+Math.imul(jo,eo)|0,U=U+Math.imul(zo,oo)|0,P=P+Math.imul(zo,eo)|0,S=S+Math.imul(Uo,Q)|0,U=U+Math.imul(Uo,lo)|0,U=U+Math.imul(Vo,Q)|0,P=P+Math.imul(Vo,lo)|0,S=S+Math.imul(j,to)|0,U=U+Math.imul(j,bo)|0,U=U+Math.imul(B,to)|0,P=P+Math.imul(B,bo)|0,S=S+Math.imul(qo,ho)|0,U=U+Math.imul(qo,yo)|0,U=U+Math.imul(Oo,ho)|0,P=P+Math.imul(Oo,yo)|0,S=S+Math.imul(io,Ro)|0,U=U+Math.imul(io,Zo)|0,U=U+Math.imul(ko,Ro)|0,P=P+Math.imul(ko,Zo)|0,S=S+Math.imul(vo,Mo)|0,U=U+Math.imul(vo,Xo)|0,U=U+Math.imul(xo,Mo)|0,P=P+Math.imul(xo,Xo)|0;var sa=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(sa>>>26)|0,sa&=67108863,S=Math.imul(X,z),U=Math.imul(X,J),U=U+Math.imul(F,z)|0,P=Math.imul(F,J),S=S+Math.imul(f,Y)|0,U=U+Math.imul(f,G)|0,U=U+Math.imul(N,Y)|0,P=P+Math.imul(N,G)|0,S=S+Math.imul(O,A)|0,U=U+Math.imul(O,ro)|0,U=U+Math.imul(e,A)|0,P=P+Math.imul(e,ro)|0,S=S+Math.imul(Jo,oo)|0,U=U+Math.imul(Jo,eo)|0,U=U+Math.imul(Wo,oo)|0,P=P+Math.imul(Wo,eo)|0,S=S+Math.imul(jo,Q)|0,U=U+Math.imul(jo,lo)|0,U=U+Math.imul(zo,Q)|0,P=P+Math.imul(zo,lo)|0,S=S+Math.imul(Uo,to)|0,U=U+Math.imul(Uo,bo)|0,U=U+Math.imul(Vo,to)|0,P=P+Math.imul(Vo,bo)|0,S=S+Math.imul(j,ho)|0,U=U+Math.imul(j,yo)|0,U=U+Math.imul(B,ho)|0,P=P+Math.imul(B,yo)|0,S=S+Math.imul(qo,Ro)|0,U=U+Math.imul(qo,Zo)|0,U=U+Math.imul(Oo,Ro)|0,P=P+Math.imul(Oo,Zo)|0,S=S+Math.imul(io,Mo)|0,U=U+Math.imul(io,Xo)|0,U=U+Math.imul(ko,Mo)|0,P=P+Math.imul(ko,Xo)|0,S=S+Math.imul(vo,Ko)|0,U=U+Math.imul(vo,Po)|0,U=U+Math.imul(xo,Ko)|0,P=P+Math.imul(xo,Po)|0;var la=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(la>>>26)|0,la&=67108863,S=Math.imul(X,Y),U=Math.imul(X,G),U=U+Math.imul(F,Y)|0,P=Math.imul(F,G),S=S+Math.imul(f,A)|0,U=U+Math.imul(f,ro)|0,U=U+Math.imul(N,A)|0,P=P+Math.imul(N,ro)|0,S=S+Math.imul(O,oo)|0,U=U+Math.imul(O,eo)|0,U=U+Math.imul(e,oo)|0,P=P+Math.imul(e,eo)|0,S=S+Math.imul(Jo,Q)|0,U=U+Math.imul(Jo,lo)|0,U=U+Math.imul(Wo,Q)|0,P=P+Math.imul(Wo,lo)|0,S=S+Math.imul(jo,to)|0,U=U+Math.imul(jo,bo)|0,U=U+Math.imul(zo,to)|0,P=P+Math.imul(zo,bo)|0,S=S+Math.imul(Uo,ho)|0,U=U+Math.imul(Uo,yo)|0,U=U+Math.imul(Vo,ho)|0,P=P+Math.imul(Vo,yo)|0,S=S+Math.imul(j,Ro)|0,U=U+Math.imul(j,Zo)|0,U=U+Math.imul(B,Ro)|0,P=P+Math.imul(B,Zo)|0,S=S+Math.imul(qo,Mo)|0,U=U+Math.imul(qo,Xo)|0,U=U+Math.imul(Oo,Mo)|0,P=P+Math.imul(Oo,Xo)|0,S=S+Math.imul(io,Ko)|0,U=U+Math.imul(io,Po)|0,U=U+Math.imul(ko,Ko)|0,P=P+Math.imul(ko,Po)|0;var na=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(na>>>26)|0,na&=67108863,S=Math.imul(X,A),U=Math.imul(X,ro),U=U+Math.imul(F,A)|0,P=Math.imul(F,ro),S=S+Math.imul(f,oo)|0,U=U+Math.imul(f,eo)|0,U=U+Math.imul(N,oo)|0,P=P+Math.imul(N,eo)|0,S=S+Math.imul(O,Q)|0,U=U+Math.imul(O,lo)|0,U=U+Math.imul(e,Q)|0,P=P+Math.imul(e,lo)|0,S=S+Math.imul(Jo,to)|0,U=U+Math.imul(Jo,bo)|0,U=U+Math.imul(Wo,to)|0,P=P+Math.imul(Wo,bo)|0,S=S+Math.imul(jo,ho)|0,U=U+Math.imul(jo,yo)|0,U=U+Math.imul(zo,ho)|0,P=P+Math.imul(zo,yo)|0,S=S+Math.imul(Uo,Ro)|0,U=U+Math.imul(Uo,Zo)|0,U=U+Math.imul(Vo,Ro)|0,P=P+Math.imul(Vo,Zo)|0,S=S+Math.imul(j,Mo)|0,U=U+Math.imul(j,Xo)|0,U=U+Math.imul(B,Mo)|0,P=P+Math.imul(B,Xo)|0,S=S+Math.imul(qo,Ko)|0,U=U+Math.imul(qo,Po)|0,U=U+Math.imul(Oo,Ko)|0,P=P+Math.imul(Oo,Po)|0;var ta=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(ta>>>26)|0,ta&=67108863,S=Math.imul(X,oo),U=Math.imul(X,eo),U=U+Math.imul(F,oo)|0,P=Math.imul(F,eo),S=S+Math.imul(f,Q)|0,U=U+Math.imul(f,lo)|0,U=U+Math.imul(N,Q)|0,P=P+Math.imul(N,lo)|0,S=S+Math.imul(O,to)|0,U=U+Math.imul(O,bo)|0,U=U+Math.imul(e,to)|0,P=P+Math.imul(e,bo)|0,S=S+Math.imul(Jo,ho)|0,U=U+Math.imul(Jo,yo)|0,U=U+Math.imul(Wo,ho)|0,P=P+Math.imul(Wo,yo)|0,S=S+Math.imul(jo,Ro)|0,U=U+Math.imul(jo,Zo)|0,U=U+Math.imul(zo,Ro)|0,P=P+Math.imul(zo,Zo)|0,S=S+Math.imul(Uo,Mo)|0,U=U+Math.imul(Uo,Xo)|0,U=U+Math.imul(Vo,Mo)|0,P=P+Math.imul(Vo,Xo)|0,S=S+Math.imul(j,Ko)|0,U=U+Math.imul(j,Po)|0,U=U+Math.imul(B,Ko)|0,P=P+Math.imul(B,Po)|0;var da=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(da>>>26)|0,da&=67108863,S=Math.imul(X,Q),U=Math.imul(X,lo),U=U+Math.imul(F,Q)|0,P=Math.imul(F,lo),S=S+Math.imul(f,to)|0,U=U+Math.imul(f,bo)|0,U=U+Math.imul(N,to)|0,P=P+Math.imul(N,bo)|0,S=S+Math.imul(O,ho)|0,U=U+Math.imul(O,yo)|0,U=U+Math.imul(e,ho)|0,P=P+Math.imul(e,yo)|0,S=S+Math.imul(Jo,Ro)|0,U=U+Math.imul(Jo,Zo)|0,U=U+Math.imul(Wo,Ro)|0,P=P+Math.imul(Wo,Zo)|0,S=S+Math.imul(jo,Mo)|0,U=U+Math.imul(jo,Xo)|0,U=U+Math.imul(zo,Mo)|0,P=P+Math.imul(zo,Xo)|0,S=S+Math.imul(Uo,Ko)|0,U=U+Math.imul(Uo,Po)|0,U=U+Math.imul(Vo,Ko)|0,P=P+Math.imul(Vo,Po)|0;var _a=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(_a>>>26)|0,_a&=67108863,S=Math.imul(X,to),U=Math.imul(X,bo),U=U+Math.imul(F,to)|0,P=Math.imul(F,bo),S=S+Math.imul(f,ho)|0,U=U+Math.imul(f,yo)|0,U=U+Math.imul(N,ho)|0,P=P+Math.imul(N,yo)|0,S=S+Math.imul(O,Ro)|0,U=U+Math.imul(O,Zo)|0,U=U+Math.imul(e,Ro)|0,P=P+Math.imul(e,Zo)|0,S=S+Math.imul(Jo,Mo)|0,U=U+Math.imul(Jo,Xo)|0,U=U+Math.imul(Wo,Mo)|0,P=P+Math.imul(Wo,Xo)|0,S=S+Math.imul(jo,Ko)|0,U=U+Math.imul(jo,Po)|0,U=U+Math.imul(zo,Ko)|0,P=P+Math.imul(zo,Po)|0;var ua=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(ua>>>26)|0,ua&=67108863,S=Math.imul(X,ho),U=Math.imul(X,yo),U=U+Math.imul(F,ho)|0,P=Math.imul(F,yo),S=S+Math.imul(f,Ro)|0,U=U+Math.imul(f,Zo)|0,U=U+Math.imul(N,Ro)|0,P=P+Math.imul(N,Zo)|0,S=S+Math.imul(O,Mo)|0,U=U+Math.imul(O,Xo)|0,U=U+Math.imul(e,Mo)|0,P=P+Math.imul(e,Xo)|0,S=S+Math.imul(Jo,Ko)|0,U=U+Math.imul(Jo,Po)|0,U=U+Math.imul(Wo,Ko)|0,P=P+Math.imul(Wo,Po)|0;var ca=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(ca>>>26)|0,ca&=67108863,S=Math.imul(X,Ro),U=Math.imul(X,Zo),U=U+Math.imul(F,Ro)|0,P=Math.imul(F,Zo),S=S+Math.imul(f,Mo)|0,U=U+Math.imul(f,Xo)|0,U=U+Math.imul(N,Mo)|0,P=P+Math.imul(N,Xo)|0,S=S+Math.imul(O,Ko)|0,U=U+Math.imul(O,Po)|0,U=U+Math.imul(e,Ko)|0,P=P+Math.imul(e,Po)|0;var Ta=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,S=Math.imul(X,Mo),U=Math.imul(X,Xo),U=U+Math.imul(F,Mo)|0,P=Math.imul(F,Xo),S=S+Math.imul(f,Ko)|0,U=U+Math.imul(f,Po)|0,U=U+Math.imul(N,Ko)|0,P=P+Math.imul(N,Po)|0;var Wa=(t+S|0)+((U&8191)<<13)|0;t=(P+(U>>>13)|0)+(Wa>>>26)|0,Wa&=67108863,S=Math.imul(X,Ko),U=Math.imul(X,Po),U=U+Math.imul(F,Ko)|0,P=Math.imul(F,Po);var Va=(t+S|0)+((U&8191)<<13)|0;return t=(P+(U>>>13)|0)+(Va>>>26)|0,Va&=67108863,a[0]=Co,a[1]=Yo,a[2]=Ao,a[3]=Go,a[4]=oa,a[5]=Qo,a[6]=ra,a[7]=aa,a[8]=sa,a[9]=la,a[10]=na,a[11]=ta,a[12]=da,a[13]=_a,a[14]=ua,a[15]=ca,a[16]=Ta,a[17]=Wa,a[18]=Va,t!==0&&(a[19]=t,_.length++),_};Math.imul||(W=I);function E(s,m,_){_.negative=m.negative^s.negative,_.length=s.length+m.length;for(var h=0,d=0,a=0;a<_.length-1;a++){var t=d;d=0;for(var S=h&67108863,U=Math.min(a,m.length-1),P=Math.max(0,a-s.length+1);P<=U;P++){var fo=a-P,vo=s.words[fo]|0,xo=m.words[P]|0,mo=vo*xo,io=mo&67108863;t=t+(mo/67108864|0)|0,io=io+S|0,S=io&67108863,t=t+(io>>>26)|0,d+=t>>>26,t&=67108863}_.words[a]=S,h=t,t=d}return h!==0?_.words[a]=h:_.length--,_._strip()}function D(s,m,_){return E(s,m,_)}u.prototype.mulTo=function(s,m){var _,h=this.length+s.length;return this.length===10&&s.length===10?_=W(this,s,m):h<63?_=I(this,s,m):h<1024?_=E(this,s,m):_=D(this,s,m),_};function C(s,m){this.x=s,this.y=m}C.prototype.makeRBT=function(s){for(var m=new Array(s),_=u.prototype._countBits(s)-1,h=0;h<s;h++)m[h]=this.revBin(h,_,s);return m},C.prototype.revBin=function(s,m,_){if(s===0||s===_-1)return s;for(var h=0,d=0;d<m;d++)h|=(s&1)<<m-d-1,s>>=1;return h},C.prototype.permute=function(s,m,_,h,d,a){for(var t=0;t<a;t++)h[t]=m[s[t]],d[t]=_[s[t]]},C.prototype.transform=function(s,m,_,h,d,a){this.permute(a,s,m,_,h,d);for(var t=1;t<d;t<<=1)for(var S=t<<1,U=Math.cos(2*Math.PI/S),P=Math.sin(2*Math.PI/S),fo=0;fo<d;fo+=S)for(var vo=U,xo=P,mo=0;mo<t;mo++){var io=_[fo+mo],ko=h[fo+mo],Io=_[fo+mo+t],qo=h[fo+mo+t],Oo=vo*Io-xo*qo;qo=vo*qo+xo*Io,Io=Oo,_[fo+mo]=io+Io,h[fo+mo]=ko+qo,_[fo+mo+t]=io-Io,h[fo+mo+t]=ko-qo,mo!==S&&(Oo=U*vo-P*xo,xo=U*xo+P*vo,vo=Oo)}},C.prototype.guessLen13b=function(s,m){var _=Math.max(m,s)|1,h=_&1,d=0;for(_=_/2|0;_;_=_>>>1)d++;return 1<<d+1+h},C.prototype.conjugate=function(s,m,_){if(!(_<=1))for(var h=0;h<_/2;h++){var d=s[h];s[h]=s[_-h-1],s[_-h-1]=d,d=m[h],m[h]=-m[_-h-1],m[_-h-1]=-d}},C.prototype.normalize13b=function(s,m){for(var _=0,h=0;h<m/2;h++){var d=Math.round(s[2*h+1]/m)*8192+Math.round(s[2*h]/m)+_;s[h]=d&67108863,d<67108864?_=0:_=d/67108864|0}return s},C.prototype.convert13b=function(s,m,_,h){for(var d=0,a=0;a<m;a++)d=d+(s[a]|0),_[2*a]=d&8191,d=d>>>13,_[2*a+1]=d&8191,d=d>>>13;for(a=2*m;a<h;++a)_[a]=0;b(d===0),b((d&-8192)===0)},C.prototype.stub=function(s){for(var m=new Array(s),_=0;_<s;_++)m[_]=0;return m},C.prototype.mulp=function(s,m,_){var h=2*this.guessLen13b(s.length,m.length),d=this.makeRBT(h),a=this.stub(h),t=new Array(h),S=new Array(h),U=new Array(h),P=new Array(h),fo=new Array(h),vo=new Array(h),xo=_.words;xo.length=h,this.convert13b(s.words,s.length,t,h),this.convert13b(m.words,m.length,P,h),this.transform(t,a,S,U,h,d),this.transform(P,a,fo,vo,h,d);for(var mo=0;mo<h;mo++){var io=S[mo]*fo[mo]-U[mo]*vo[mo];U[mo]=S[mo]*vo[mo]+U[mo]*fo[mo],S[mo]=io}return this.conjugate(S,U,h),this.transform(S,U,xo,a,h,d),this.conjugate(xo,a,h),this.normalize13b(xo,h),_.negative=s.negative^m.negative,_.length=s.length+m.length,_._strip()},u.prototype.mul=function(s){var m=new u(null);return m.words=new Array(this.length+s.length),this.mulTo(s,m)},u.prototype.mulf=function(s){var m=new u(null);return m.words=new Array(this.length+s.length),D(this,s,m)},u.prototype.imul=function(s){return this.clone().mulTo(s,this)},u.prototype.imuln=function(s){var m=s<0;m&&(s=-s),b(typeof s=="number"),b(s<67108864);for(var _=0,h=0;h<this.length;h++){var d=(this.words[h]|0)*s,a=(d&67108863)+(_&67108863);_>>=26,_+=d/67108864|0,_+=a>>>26,this.words[h]=a&67108863}return _!==0&&(this.words[h]=_,this.length++),m?this.ineg():this},u.prototype.muln=function(s){return this.clone().imuln(s)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(s){var m=w(s);if(m.length===0)return new u(1);for(var _=this,h=0;h<m.length&&m[h]===0;h++,_=_.sqr());if(++h<m.length)for(var d=_.sqr();h<m.length;h++,d=d.sqr())m[h]!==0&&(_=_.mul(d));return _},u.prototype.iushln=function(s){b(typeof s=="number"&&s>=0);var m=s%26,_=(s-m)/26,h=67108863>>>26-m<<26-m,d;if(m!==0){var a=0;for(d=0;d<this.length;d++){var t=this.words[d]&h,S=(this.words[d]|0)-t<<m;this.words[d]=S|a,a=t>>>26-m}a&&(this.words[d]=a,this.length++)}if(_!==0){for(d=this.length-1;d>=0;d--)this.words[d+_]=this.words[d];for(d=0;d<_;d++)this.words[d]=0;this.length+=_}return this._strip()},u.prototype.ishln=function(s){return b(this.negative===0),this.iushln(s)},u.prototype.iushrn=function(s,m,_){b(typeof s=="number"&&s>=0);var h;m?h=(m-m%26)/26:h=0;var d=s%26,a=Math.min((s-d)/26,this.length),t=67108863^67108863>>>d<<d,S=_;if(h-=a,h=Math.max(0,h),S){for(var U=0;U<a;U++)S.words[U]=this.words[U];S.length=a}if(a!==0)if(this.length>a)for(this.length-=a,U=0;U<this.length;U++)this.words[U]=this.words[U+a];else this.words[0]=0,this.length=1;var P=0;for(U=this.length-1;U>=0&&(P!==0||U>=h);U--){var fo=this.words[U]|0;this.words[U]=P<<26-d|fo>>>d,P=fo&t}return S&&P!==0&&(S.words[S.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(s,m,_){return b(this.negative===0),this.iushrn(s,m,_)},u.prototype.shln=function(s){return this.clone().ishln(s)},u.prototype.ushln=function(s){return this.clone().iushln(s)},u.prototype.shrn=function(s){return this.clone().ishrn(s)},u.prototype.ushrn=function(s){return this.clone().iushrn(s)},u.prototype.testn=function(s){b(typeof s=="number"&&s>=0);var m=s%26,_=(s-m)/26,h=1<<m;if(this.length<=_)return!1;var d=this.words[_];return!!(d&h)},u.prototype.imaskn=function(s){b(typeof s=="number"&&s>=0);var m=s%26,_=(s-m)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(m!==0&&_++,this.length=Math.min(_,this.length),m!==0){var h=67108863^67108863>>>m<<m;this.words[this.length-1]&=h}return this._strip()},u.prototype.maskn=function(s){return this.clone().imaskn(s)},u.prototype.iaddn=function(s){return b(typeof s=="number"),b(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},u.prototype._iaddn=function(s){this.words[0]+=s;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},u.prototype.isubn=function(s){if(b(typeof s=="number"),b(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},u.prototype.addn=function(s){return this.clone().iaddn(s)},u.prototype.subn=function(s){return this.clone().isubn(s)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(s,m,_){var h=s.length+_,d;this._expand(h);var a,t=0;for(d=0;d<s.length;d++){a=(this.words[d+_]|0)+t;var S=(s.words[d]|0)*m;a-=S&67108863,t=(a>>26)-(S/67108864|0),this.words[d+_]=a&67108863}for(;d<this.length-_;d++)a=(this.words[d+_]|0)+t,t=a>>26,this.words[d+_]=a&67108863;if(t===0)return this._strip();for(b(t===-1),t=0,d=0;d<this.length;d++)a=-(this.words[d]|0)+t,t=a>>26,this.words[d]=a&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(s,m){var _=this.length-s.length,h=this.clone(),d=s,a=d.words[d.length-1]|0,t=this._countBits(a);_=26-t,_!==0&&(d=d.ushln(_),h.iushln(_),a=d.words[d.length-1]|0);var S=h.length-d.length,U;if(m!=="mod"){U=new u(null),U.length=S+1,U.words=new Array(U.length);for(var P=0;P<U.length;P++)U.words[P]=0}var fo=h.clone()._ishlnsubmul(d,1,S);fo.negative===0&&(h=fo,U&&(U.words[S]=1));for(var vo=S-1;vo>=0;vo--){var xo=(h.words[d.length+vo]|0)*67108864+(h.words[d.length+vo-1]|0);for(xo=Math.min(xo/a|0,67108863),h._ishlnsubmul(d,xo,vo);h.negative!==0;)xo--,h.negative=0,h._ishlnsubmul(d,1,vo),h.isZero()||(h.negative^=1);U&&(U.words[vo]=xo)}return U&&U._strip(),h._strip(),m!=="div"&&_!==0&&h.iushrn(_),{div:U||null,mod:h}},u.prototype.divmod=function(s,m,_){if(b(!s.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var h,d,a;return this.negative!==0&&s.negative===0?(a=this.neg().divmod(s,m),m!=="mod"&&(h=a.div.neg()),m!=="div"&&(d=a.mod.neg(),_&&d.negative!==0&&d.iadd(s)),{div:h,mod:d}):this.negative===0&&s.negative!==0?(a=this.divmod(s.neg(),m),m!=="mod"&&(h=a.div.neg()),{div:h,mod:a.mod}):(this.negative&s.negative)!==0?(a=this.neg().divmod(s.neg(),m),m!=="div"&&(d=a.mod.neg(),_&&d.negative!==0&&d.isub(s)),{div:a.div,mod:d}):s.length>this.length||this.cmp(s)<0?{div:new u(0),mod:this}:s.length===1?m==="div"?{div:this.divn(s.words[0]),mod:null}:m==="mod"?{div:null,mod:new u(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new u(this.modrn(s.words[0]))}:this._wordDiv(s,m)},u.prototype.div=function(s){return this.divmod(s,"div",!1).div},u.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},u.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},u.prototype.divRound=function(s){var m=this.divmod(s);if(m.mod.isZero())return m.div;var _=m.div.negative!==0?m.mod.isub(s):m.mod,h=s.ushrn(1),d=s.andln(1),a=_.cmp(h);return a<0||d===1&&a===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},u.prototype.modrn=function(s){var m=s<0;m&&(s=-s),b(s<=67108863);for(var _=67108864%s,h=0,d=this.length-1;d>=0;d--)h=(_*h+(this.words[d]|0))%s;return m?-h:h},u.prototype.modn=function(s){return this.modrn(s)},u.prototype.idivn=function(s){var m=s<0;m&&(s=-s),b(s<=67108863);for(var _=0,h=this.length-1;h>=0;h--){var d=(this.words[h]|0)+_*67108864;this.words[h]=d/s|0,_=d%s}return this._strip(),m?this.ineg():this},u.prototype.divn=function(s){return this.clone().idivn(s)},u.prototype.egcd=function(s){b(s.negative===0),b(!s.isZero());var m=this,_=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var h=new u(1),d=new u(0),a=new u(0),t=new u(1),S=0;m.isEven()&&_.isEven();)m.iushrn(1),_.iushrn(1),++S;for(var U=_.clone(),P=m.clone();!m.isZero();){for(var fo=0,vo=1;(m.words[0]&vo)===0&&fo<26;++fo,vo<<=1);if(fo>0)for(m.iushrn(fo);fo-- >0;)(h.isOdd()||d.isOdd())&&(h.iadd(U),d.isub(P)),h.iushrn(1),d.iushrn(1);for(var xo=0,mo=1;(_.words[0]&mo)===0&&xo<26;++xo,mo<<=1);if(xo>0)for(_.iushrn(xo);xo-- >0;)(a.isOdd()||t.isOdd())&&(a.iadd(U),t.isub(P)),a.iushrn(1),t.iushrn(1);m.cmp(_)>=0?(m.isub(_),h.isub(a),d.isub(t)):(_.isub(m),a.isub(h),t.isub(d))}return{a,b:t,gcd:_.iushln(S)}},u.prototype._invmp=function(s){b(s.negative===0),b(!s.isZero());var m=this,_=s.clone();m.negative!==0?m=m.umod(s):m=m.clone();for(var h=new u(1),d=new u(0),a=_.clone();m.cmpn(1)>0&&_.cmpn(1)>0;){for(var t=0,S=1;(m.words[0]&S)===0&&t<26;++t,S<<=1);if(t>0)for(m.iushrn(t);t-- >0;)h.isOdd()&&h.iadd(a),h.iushrn(1);for(var U=0,P=1;(_.words[0]&P)===0&&U<26;++U,P<<=1);if(U>0)for(_.iushrn(U);U-- >0;)d.isOdd()&&d.iadd(a),d.iushrn(1);m.cmp(_)>=0?(m.isub(_),h.isub(d)):(_.isub(m),d.isub(h))}var fo;return m.cmpn(1)===0?fo=h:fo=d,fo.cmpn(0)<0&&fo.iadd(s),fo},u.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var m=this.clone(),_=s.clone();m.negative=0,_.negative=0;for(var h=0;m.isEven()&&_.isEven();h++)m.iushrn(1),_.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;_.isEven();)_.iushrn(1);var d=m.cmp(_);if(d<0){var a=m;m=_,_=a}else if(d===0||_.cmpn(1)===0)break;m.isub(_)}while(!0);return _.iushln(h)},u.prototype.invm=function(s){return this.egcd(s).a.umod(s)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(s){return this.words[0]&s},u.prototype.bincn=function(s){b(typeof s=="number");var m=s%26,_=(s-m)/26,h=1<<m;if(this.length<=_)return this._expand(_+1),this.words[_]|=h,this;for(var d=h,a=_;d!==0&&a<this.length;a++){var t=this.words[a]|0;t+=d,d=t>>>26,t&=67108863,this.words[a]=t}return d!==0&&(this.words[a]=d,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(s){var m=s<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var _;if(this.length>1)_=1;else{m&&(s=-s),b(s<=67108863,"Number is too big");var h=this.words[0]|0;_=h===s?0:h<s?-1:1}return this.negative!==0?-_|0:_},u.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var m=this.ucmp(s);return this.negative!==0?-m|0:m},u.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var m=0,_=this.length-1;_>=0;_--){var h=this.words[_]|0,d=s.words[_]|0;if(h!==d){h<d?m=-1:h>d&&(m=1);break}}return m},u.prototype.gtn=function(s){return this.cmpn(s)===1},u.prototype.gt=function(s){return this.cmp(s)===1},u.prototype.gten=function(s){return this.cmpn(s)>=0},u.prototype.gte=function(s){return this.cmp(s)>=0},u.prototype.ltn=function(s){return this.cmpn(s)===-1},u.prototype.lt=function(s){return this.cmp(s)===-1},u.prototype.lten=function(s){return this.cmpn(s)<=0},u.prototype.lte=function(s){return this.cmp(s)<=0},u.prototype.eqn=function(s){return this.cmpn(s)===0},u.prototype.eq=function(s){return this.cmp(s)===0},u.red=function(s){return new n(s)},u.prototype.toRed=function(s){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(s){return this.red=s,this},u.prototype.forceRed=function(s){return b(!this.red,"Already a number in reduction context"),this._forceRed(s)},u.prototype.redAdd=function(s){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},u.prototype.redIAdd=function(s){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},u.prototype.redSub=function(s){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},u.prototype.redISub=function(s){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},u.prototype.redShl=function(s){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},u.prototype.redMul=function(s){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},u.prototype.redIMul=function(s){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(s){return b(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var uo={k256:null,p224:null,p192:null,p25519:null};function po(s,m){this.name=s,this.p=new u(m,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}po.prototype._tmp=function(){var s=new u(null);return s.words=new Array(Math.ceil(this.n/13)),s},po.prototype.ireduce=function(s){var m=s,_;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),_=m.bitLength();while(_>this.n);var h=_<this.n?-1:m.ucmp(this.p);return h===0?(m.words[0]=0,m.length=1):h>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},po.prototype.split=function(s,m){s.iushrn(this.n,0,m)},po.prototype.imulK=function(s){return s.imul(this.k)};function To(){po.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(To,po),To.prototype.split=function(s,m){for(var _=4194303,h=Math.min(s.length,9),d=0;d<h;d++)m.words[d]=s.words[d];if(m.length=h,s.length<=9){s.words[0]=0,s.length=1;return}var a=s.words[9];for(m.words[m.length++]=a&_,d=10;d<s.length;d++){var t=s.words[d]|0;s.words[d-10]=(t&_)<<4|a>>>22,a=t}a>>>=22,s.words[d-10]=a,a===0&&s.length>10?s.length-=10:s.length-=9},To.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var m=0,_=0;_<s.length;_++){var h=s.words[_]|0;m+=h*977,s.words[_]=m&67108863,m=h*64+(m/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function co(){po.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(co,po);function Lo(){po.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(Lo,po);function o(){po.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(o,po),o.prototype.imulK=function(s){for(var m=0,_=0;_<s.length;_++){var h=(s.words[_]|0)*19+m,d=h&67108863;h>>>=26,s.words[_]=d,m=h}return m!==0&&(s.words[s.length++]=m),s},u._prime=function(s){if(uo[s])return uo[s];var m;if(s==="k256")m=new To;else if(s==="p224")m=new co;else if(s==="p192")m=new Lo;else if(s==="p25519")m=new o;else throw new Error("Unknown prime "+s);return uo[s]=m,m};function n(s){if(typeof s=="string"){var m=u._prime(s);this.m=m.p,this.prime=m}else b(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}n.prototype._verify1=function(s){b(s.negative===0,"red works only with positives"),b(s.red,"red works only with red numbers")},n.prototype._verify2=function(s,m){b((s.negative|m.negative)===0,"red works only with positives"),b(s.red&&s.red===m.red,"red works only with red numbers")},n.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(Z(s,s.umod(this.m)._forceRed(this)),s)},n.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},n.prototype.add=function(s,m){this._verify2(s,m);var _=s.add(m);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},n.prototype.iadd=function(s,m){this._verify2(s,m);var _=s.iadd(m);return _.cmp(this.m)>=0&&_.isub(this.m),_},n.prototype.sub=function(s,m){this._verify2(s,m);var _=s.sub(m);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},n.prototype.isub=function(s,m){this._verify2(s,m);var _=s.isub(m);return _.cmpn(0)<0&&_.iadd(this.m),_},n.prototype.shl=function(s,m){return this._verify1(s),this.imod(s.ushln(m))},n.prototype.imul=function(s,m){return this._verify2(s,m),this.imod(s.imul(m))},n.prototype.mul=function(s,m){return this._verify2(s,m),this.imod(s.mul(m))},n.prototype.isqr=function(s){return this.imul(s,s.clone())},n.prototype.sqr=function(s){return this.mul(s,s)},n.prototype.sqrt=function(s){if(s.isZero())return s.clone();var m=this.m.andln(3);if(b(m%2===1),m===3){var _=this.m.add(new u(1)).iushrn(2);return this.pow(s,_)}for(var h=this.m.subn(1),d=0;!h.isZero()&&h.andln(1)===0;)d++,h.iushrn(1);b(!h.isZero());var a=new u(1).toRed(this),t=a.redNeg(),S=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new u(2*U*U).toRed(this);this.pow(U,S).cmp(t)!==0;)U.redIAdd(t);for(var P=this.pow(U,h),fo=this.pow(s,h.addn(1).iushrn(1)),vo=this.pow(s,h),xo=d;vo.cmp(a)!==0;){for(var mo=vo,io=0;mo.cmp(a)!==0;io++)mo=mo.redSqr();b(io<xo);var ko=this.pow(P,new u(1).iushln(xo-io-1));fo=fo.redMul(ko),P=ko.redSqr(),vo=vo.redMul(P),xo=io}return fo},n.prototype.invm=function(s){var m=s._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},n.prototype.pow=function(s,m){if(m.isZero())return new u(1).toRed(this);if(m.cmpn(1)===0)return s.clone();var _=4,h=new Array(1<<_);h[0]=new u(1).toRed(this),h[1]=s;for(var d=2;d<h.length;d++)h[d]=this.mul(h[d-1],s);var a=h[0],t=0,S=0,U=m.bitLength()%26;for(U===0&&(U=26),d=m.length-1;d>=0;d--){for(var P=m.words[d],fo=U-1;fo>=0;fo--){var vo=P>>fo&1;if(a!==h[0]&&(a=this.sqr(a)),vo===0&&t===0){S=0;continue}t<<=1,t|=vo,S++,!(S!==_&&(d!==0||fo!==0))&&(a=this.mul(a,h[t]),S=0,t=0)}U=26}return a},n.prototype.convertTo=function(s){var m=s.umod(this.m);return m===s?m.clone():m},n.prototype.convertFrom=function(s){var m=s.clone();return m.red=null,m},u.mont=function(s){return new c(s)};function c(s){n.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(c,n),c.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},c.prototype.convertFrom=function(s){var m=this.imod(s.mul(this.rinv));return m.red=null,m},c.prototype.imul=function(s,m){if(s.isZero()||m.isZero())return s.words[0]=0,s.length=1,s;var _=s.imul(m),h=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=_.isub(h).iushrn(this.shift),a=d;return d.cmp(this.m)>=0?a=d.isub(this.m):d.cmpn(0)<0&&(a=d.iadd(this.m)),a._forceRed(this)},c.prototype.mul=function(s,m){if(s.isZero()||m.isZero())return new u(0)._forceRed(this);var _=s.mul(m),h=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=_.isub(h).iushrn(this.shift),a=d;return d.cmp(this.m)>=0?a=d.isub(this.m):d.cmpn(0)<0&&(a=d.iadd(this.m)),a._forceRed(this)},c.prototype.invm=function(s){var m=this.imod(s._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(typeof p>"u"||p,l)}),ol=Fo((l,p)=>{var r=As(),v=Ge();function b(k){var L=x(k),y=L.toRed(r.mont(k.modulus)).redPow(new r(k.publicExponent)).fromRed();return{blinder:y,unblinder:L.invm(k.modulus)}}function x(k){var L=k.modulus.byteLength(),y;do y=new r(v(L));while(y.cmp(k.modulus)>=0||!y.umod(k.prime1)||!y.umod(k.prime2));return y}function u(k,L){var y=b(L),R=L.modulus.byteLength(),Z=new r(k).mul(y.blinder).umod(L.modulus),T=Z.toRed(r.mont(L.prime1)),M=Z.toRed(r.mont(L.prime2)),$=L.coefficient,q=L.prime1,g=L.prime2,w=T.redPow(L.exponent1).fromRed(),I=M.redPow(L.exponent2).fromRed(),W=w.isub(I).imul($).umod(q).imul(g);return I.iadd(W).imul(y.unblinder).umod(L.modulus).toArrayLike(Buffer,"be",R)}u.getr=x,p.exports=u}),Ac=Fo((l,p)=>{p.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),ce=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),Tr=Fo((l)=>{var p=l;function r(x,u){if(Array.isArray(x))return x.slice();if(!x)return[];var k=[];if(typeof x!="string"){for(var L=0;L<x.length;L++)k[L]=x[L]|0;return k}if(u==="hex"){x=x.replace(/[^a-z0-9]+/ig,""),x.length%2!==0&&(x="0"+x);for(var L=0;L<x.length;L+=2)k.push(parseInt(x[L]+x[L+1],16))}else for(var L=0;L<x.length;L++){var y=x.charCodeAt(L),R=y>>8,Z=y&255;R?k.push(R,Z):k.push(Z)}return k}p.toArray=r;function v(x){return x.length===1?"0"+x:x}p.zero2=v;function b(x){for(var u="",k=0;k<x.length;k++)u+=v(x[k].toString(16));return u}p.toHex=b,p.encode=function(x,u){return u==="hex"?b(x):x}}),Pa=Fo((l)=>{var p=l,r=ce(),v=Ea(),b=Tr();p.assert=v,p.toArray=b.toArray,p.zero2=b.zero2,p.toHex=b.toHex,p.encode=b.encode;function x(R,Z,T){var M=new Array(Math.max(R.bitLength(),T)+1);M.fill(0);for(var $=1<<Z+1,q=R.clone(),g=0;g<M.length;g++){var w,I=q.andln($-1);q.isOdd()?(I>($>>1)-1?w=($>>1)-I:w=I,q.isubn(w)):w=0,M[g]=w,q.iushrn(1)}return M}p.getNAF=x;function u(R,Z){var T=[[],[]];R=R.clone(),Z=Z.clone();for(var M=0,$=0,q;R.cmpn(-M)>0||Z.cmpn(-$)>0;){var g=R.andln(3)+M&3,w=Z.andln(3)+$&3;g===3&&(g=-1),w===3&&(w=-1);var I;(g&1)===0?I=0:(q=R.andln(7)+M&7,(q===3||q===5)&&w===2?I=-g:I=g),T[0].push(I);var W;(w&1)===0?W=0:(q=Z.andln(7)+$&7,(q===3||q===5)&&g===2?W=-w:W=w),T[1].push(W),2*M===I+1&&(M=1-M),2*$===W+1&&($=1-$),R.iushrn(1),Z.iushrn(1)}return T}p.getJSF=u;function k(R,Z,T){var M="_"+Z;R.prototype[Z]=function(){return this[M]!==void 0?this[M]:this[M]=T.call(this)}}p.cachedProperty=k;function L(R){return typeof R=="string"?p.toArray(R,"hex"):R}p.parseBytes=L;function y(R){return new r(R,"hex","le")}p.intFromLE=y}),An=Fo((l,p)=>{var r=ce(),v=Pa(),b=v.getNAF,x=v.getJSF,u=v.assert;function k(y,R){this.type=y,this.p=new r(R.p,16),this.red=R.prime?r.red(R.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=R.n&&new r(R.n,16),this.g=R.g&&this.pointFromJSON(R.g,R.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Z=this.n&&this.p.div(this.n);!Z||Z.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}p.exports=k,k.prototype.point=function(){throw new Error("Not implemented")},k.prototype.validate=function(){throw new Error("Not implemented")},k.prototype._fixedNafMul=function(y,R){u(y.precomputed);var Z=y._getDoubles(),T=b(R,1,this._bitLength),M=(1<<Z.step+1)-(Z.step%2===0?2:1);M/=3;var $=[],q,g;for(q=0;q<T.length;q+=Z.step){g=0;for(var w=q+Z.step-1;w>=q;w--)g=(g<<1)+T[w];$.push(g)}for(var I=this.jpoint(null,null,null),W=this.jpoint(null,null,null),E=M;E>0;E--){for(q=0;q<$.length;q++)g=$[q],g===E?W=W.mixedAdd(Z.points[q]):g===-E&&(W=W.mixedAdd(Z.points[q].neg()));I=I.add(W)}return I.toP()},k.prototype._wnafMul=function(y,R){var Z=4,T=y._getNAFPoints(Z);Z=T.wnd;for(var M=T.points,$=b(R,Z,this._bitLength),q=this.jpoint(null,null,null),g=$.length-1;g>=0;g--){for(var w=0;g>=0&&$[g]===0;g--)w++;if(g>=0&&w++,q=q.dblp(w),g<0)break;var I=$[g];u(I!==0),y.type==="affine"?I>0?q=q.mixedAdd(M[I-1>>1]):q=q.mixedAdd(M[-I-1>>1].neg()):I>0?q=q.add(M[I-1>>1]):q=q.add(M[-I-1>>1].neg())}return y.type==="affine"?q.toP():q},k.prototype._wnafMulAdd=function(y,R,Z,T,M){var $=this._wnafT1,q=this._wnafT2,g=this._wnafT3,w=0,I,W,E;for(I=0;I<T;I++){E=R[I];var D=E._getNAFPoints(y);$[I]=D.wnd,q[I]=D.points}for(I=T-1;I>=1;I-=2){var C=I-1,uo=I;if($[C]!==1||$[uo]!==1){g[C]=b(Z[C],$[C],this._bitLength),g[uo]=b(Z[uo],$[uo],this._bitLength),w=Math.max(g[C].length,w),w=Math.max(g[uo].length,w);continue}var po=[R[C],null,null,R[uo]];R[C].y.cmp(R[uo].y)===0?(po[1]=R[C].add(R[uo]),po[2]=R[C].toJ().mixedAdd(R[uo].neg())):R[C].y.cmp(R[uo].y.redNeg())===0?(po[1]=R[C].toJ().mixedAdd(R[uo]),po[2]=R[C].add(R[uo].neg())):(po[1]=R[C].toJ().mixedAdd(R[uo]),po[2]=R[C].toJ().mixedAdd(R[uo].neg()));var To=[-3,-1,-5,-7,0,7,5,1,3],co=x(Z[C],Z[uo]);for(w=Math.max(co[0].length,w),g[C]=new Array(w),g[uo]=new Array(w),W=0;W<w;W++){var Lo=co[0][W]|0,o=co[1][W]|0;g[C][W]=To[(Lo+1)*3+(o+1)],g[uo][W]=0,q[C]=po}}var n=this.jpoint(null,null,null),c=this._wnafT4;for(I=w;I>=0;I--){for(var s=0;I>=0;){var m=!0;for(W=0;W<T;W++)c[W]=g[W][I]|0,c[W]!==0&&(m=!1);if(!m)break;s++,I--}if(I>=0&&s++,n=n.dblp(s),I<0)break;for(W=0;W<T;W++){var _=c[W];_!==0&&(_>0?E=q[W][_-1>>1]:_<0&&(E=q[W][-_-1>>1].neg()),E.type==="affine"?n=n.mixedAdd(E):n=n.add(E))}}for(I=0;I<T;I++)q[I]=null;return M?n:n.toP()};function L(y,R){this.curve=y,this.type=R,this.precomputed=null}k.BasePoint=L,L.prototype.eq=function(){throw new Error("Not implemented")},L.prototype.validate=function(){return this.curve.validate(this)},k.prototype.decodePoint=function(y,R){y=v.toArray(y,R);var Z=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*Z){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var T=this.point(y.slice(1,1+Z),y.slice(1+Z,1+2*Z));return T}else if((y[0]===2||y[0]===3)&&y.length-1===Z)return this.pointFromX(y.slice(1,1+Z),y[0]===3);throw new Error("Unknown point format")},L.prototype.encodeCompressed=function(y){return this.encode(y,!0)},L.prototype._encode=function(y){var R=this.curve.p.byteLength(),Z=this.getX().toArray("be",R);return y?[this.getY().isEven()?2:3].concat(Z):[4].concat(Z,this.getY().toArray("be",R))},L.prototype.encode=function(y,R){return v.encode(this._encode(R),y)},L.prototype.precompute=function(y){if(this.precomputed)return this;var R={doubles:null,naf:null,beta:null};return R.naf=this._getNAFPoints(8),R.doubles=this._getDoubles(4,y),R.beta=this._getBeta(),this.precomputed=R,this},L.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var R=this.precomputed.doubles;return R?R.points.length>=Math.ceil((y.bitLength()+1)/R.step):!1},L.prototype._getDoubles=function(y,R){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Z=[this],T=this,M=0;M<R;M+=y){for(var $=0;$<y;$++)T=T.dbl();Z.push(T)}return{step:y,points:Z}},L.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var R=[this],Z=(1<<y)-1,T=Z===1?null:this.dbl(),M=1;M<Z;M++)R[M]=R[M-1].add(T);return{wnd:y,points:R}},L.prototype._getBeta=function(){return null},L.prototype.dblp=function(y){for(var R=this,Z=0;Z<y;Z++)R=R.dbl();return R}}),ou=Fo((l,p)=>{var r=Pa(),v=ce(),b=pa(),x=An(),u=r.assert;function k(R){x.call(this,"short",R),this.a=new v(R.a,16).toRed(this.red),this.b=new v(R.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(R),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}b(k,x),p.exports=k,k.prototype._getEndomorphism=function(R){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Z,T;if(R.beta)Z=new v(R.beta,16).toRed(this.red);else{var M=this._getEndoRoots(this.p);Z=M[0].cmp(M[1])<0?M[0]:M[1],Z=Z.toRed(this.red)}if(R.lambda)T=new v(R.lambda,16);else{var $=this._getEndoRoots(this.n);this.g.mul($[0]).x.cmp(this.g.x.redMul(Z))===0?T=$[0]:(T=$[1],u(this.g.mul(T).x.cmp(this.g.x.redMul(Z))===0))}var q;return R.basis?q=R.basis.map(function(g){return{a:new v(g.a,16),b:new v(g.b,16)}}):q=this._getEndoBasis(T),{beta:Z,lambda:T,basis:q}}},k.prototype._getEndoRoots=function(R){var Z=R===this.p?this.red:v.mont(R),T=new v(2).toRed(Z).redInvm(),M=T.redNeg(),$=new v(3).toRed(Z).redNeg().redSqrt().redMul(T),q=M.redAdd($).fromRed(),g=M.redSub($).fromRed();return[q,g]},k.prototype._getEndoBasis=function(R){for(var Z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=R,M=this.n.clone(),$=new v(1),q=new v(0),g=new v(0),w=new v(1),I,W,E,D,C,uo,po,To=0,co,Lo;T.cmpn(0)!==0;){var o=M.div(T);co=M.sub(o.mul(T)),Lo=g.sub(o.mul($));var n=w.sub(o.mul(q));if(!E&&co.cmp(Z)<0)I=po.neg(),W=$,E=co.neg(),D=Lo;else if(E&&++To===2)break;po=co,M=T,T=co,g=$,$=Lo,w=q,q=n}C=co.neg(),uo=Lo;var c=E.sqr().add(D.sqr()),s=C.sqr().add(uo.sqr());return s.cmp(c)>=0&&(C=I,uo=W),E.negative&&(E=E.neg(),D=D.neg()),C.negative&&(C=C.neg(),uo=uo.neg()),[{a:E,b:D},{a:C,b:uo}]},k.prototype._endoSplit=function(R){var Z=this.endo.basis,T=Z[0],M=Z[1],$=M.b.mul(R).divRound(this.n),q=T.b.neg().mul(R).divRound(this.n),g=$.mul(T.a),w=q.mul(M.a),I=$.mul(T.b),W=q.mul(M.b),E=R.sub(g).sub(w),D=I.add(W).neg();return{k1:E,k2:D}},k.prototype.pointFromX=function(R,Z){R=new v(R,16),R.red||(R=R.toRed(this.red));var T=R.redSqr().redMul(R).redIAdd(R.redMul(this.a)).redIAdd(this.b),M=T.redSqrt();if(M.redSqr().redSub(T).cmp(this.zero)!==0)throw new Error("invalid point");var $=M.fromRed().isOdd();return(Z&&!$||!Z&&$)&&(M=M.redNeg()),this.point(R,M)},k.prototype.validate=function(R){if(R.inf)return!0;var{x:Z,y:T}=R,M=this.a.redMul(Z),$=Z.redSqr().redMul(Z).redIAdd(M).redIAdd(this.b);return T.redSqr().redISub($).cmpn(0)===0},k.prototype._endoWnafMulAdd=function(R,Z,T){for(var M=this._endoWnafT1,$=this._endoWnafT2,q=0;q<R.length;q++){var g=this._endoSplit(Z[q]),w=R[q],I=w._getBeta();g.k1.negative&&(g.k1.ineg(),w=w.neg(!0)),g.k2.negative&&(g.k2.ineg(),I=I.neg(!0)),M[q*2]=w,M[q*2+1]=I,$[q*2]=g.k1,$[q*2+1]=g.k2}for(var W=this._wnafMulAdd(1,M,$,q*2,T),E=0;E<q*2;E++)M[E]=null,$[E]=null;return W};function L(R,Z,T,M){x.BasePoint.call(this,R,"affine"),Z===null&&T===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new v(Z,16),this.y=new v(T,16),M&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}b(L,x.BasePoint),k.prototype.point=function(R,Z,T){return new L(this,R,Z,T)},k.prototype.pointFromJSON=function(R,Z){return L.fromJSON(this,R,Z)},L.prototype._getBeta=function(){if(this.curve.endo){var R=this.precomputed;if(R&&R.beta)return R.beta;var Z=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(R){var T=this.curve,M=function($){return T.point($.x.redMul(T.endo.beta),$.y)};R.beta=Z,Z.precomputed={beta:null,naf:R.naf&&{wnd:R.naf.wnd,points:R.naf.points.map(M)},doubles:R.doubles&&{step:R.doubles.step,points:R.doubles.points.map(M)}}}return Z}},L.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},L.fromJSON=function(R,Z,T){typeof Z=="string"&&(Z=JSON.parse(Z));var M=R.point(Z[0],Z[1],T);if(!Z[2])return M;function $(g){return R.point(g[0],g[1],T)}var q=Z[2];return M.precomputed={beta:null,doubles:q.doubles&&{step:q.doubles.step,points:[M].concat(q.doubles.points.map($))},naf:q.naf&&{wnd:q.naf.wnd,points:[M].concat(q.naf.points.map($))}},M},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.inf},L.prototype.add=function(R){if(this.inf)return R;if(R.inf)return this;if(this.eq(R))return this.dbl();if(this.neg().eq(R))return this.curve.point(null,null);if(this.x.cmp(R.x)===0)return this.curve.point(null,null);var Z=this.y.redSub(R.y);Z.cmpn(0)!==0&&(Z=Z.redMul(this.x.redSub(R.x).redInvm()));var T=Z.redSqr().redISub(this.x).redISub(R.x),M=Z.redMul(this.x.redSub(T)).redISub(this.y);return this.curve.point(T,M)},L.prototype.dbl=function(){if(this.inf)return this;var R=this.y.redAdd(this.y);if(R.cmpn(0)===0)return this.curve.point(null,null);var Z=this.curve.a,T=this.x.redSqr(),M=R.redInvm(),$=T.redAdd(T).redIAdd(T).redIAdd(Z).redMul(M),q=$.redSqr().redISub(this.x.redAdd(this.x)),g=$.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,g)},L.prototype.getX=function(){return this.x.fromRed()},L.prototype.getY=function(){return this.y.fromRed()},L.prototype.mul=function(R){return R=new v(R,16),this.isInfinity()?this:this._hasDoubles(R)?this.curve._fixedNafMul(this,R):this.curve.endo?this.curve._endoWnafMulAdd([this],[R]):this.curve._wnafMul(this,R)},L.prototype.mulAdd=function(R,Z,T){var M=[this,Z],$=[R,T];return this.curve.endo?this.curve._endoWnafMulAdd(M,$):this.curve._wnafMulAdd(1,M,$,2)},L.prototype.jmulAdd=function(R,Z,T){var M=[this,Z],$=[R,T];return this.curve.endo?this.curve._endoWnafMulAdd(M,$,!0):this.curve._wnafMulAdd(1,M,$,2,!0)},L.prototype.eq=function(R){return this===R||this.inf===R.inf&&(this.inf||this.x.cmp(R.x)===0&&this.y.cmp(R.y)===0)},L.prototype.neg=function(R){if(this.inf)return this;var Z=this.curve.point(this.x,this.y.redNeg());if(R&&this.precomputed){var T=this.precomputed,M=function($){return $.neg()};Z.precomputed={naf:T.naf&&{wnd:T.naf.wnd,points:T.naf.points.map(M)},doubles:T.doubles&&{step:T.doubles.step,points:T.doubles.points.map(M)}}}return Z},L.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var R=this.curve.jpoint(this.x,this.y,this.curve.one);return R};function y(R,Z,T,M){x.BasePoint.call(this,R,"jacobian"),Z===null&&T===null&&M===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new v(0)):(this.x=new v(Z,16),this.y=new v(T,16),this.z=new v(M,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}b(y,x.BasePoint),k.prototype.jpoint=function(R,Z,T){return new y(this,R,Z,T)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var R=this.z.redInvm(),Z=R.redSqr(),T=this.x.redMul(Z),M=this.y.redMul(Z).redMul(R);return this.curve.point(T,M)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(R){if(this.isInfinity())return R;if(R.isInfinity())return this;var Z=R.z.redSqr(),T=this.z.redSqr(),M=this.x.redMul(Z),$=R.x.redMul(T),q=this.y.redMul(Z.redMul(R.z)),g=R.y.redMul(T.redMul(this.z)),w=M.redSub($),I=q.redSub(g);if(w.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var W=w.redSqr(),E=W.redMul(w),D=M.redMul(W),C=I.redSqr().redIAdd(E).redISub(D).redISub(D),uo=I.redMul(D.redISub(C)).redISub(q.redMul(E)),po=this.z.redMul(R.z).redMul(w);return this.curve.jpoint(C,uo,po)},y.prototype.mixedAdd=function(R){if(this.isInfinity())return R.toJ();if(R.isInfinity())return this;var Z=this.z.redSqr(),T=this.x,M=R.x.redMul(Z),$=this.y,q=R.y.redMul(Z).redMul(this.z),g=T.redSub(M),w=$.redSub(q);if(g.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=g.redSqr(),W=I.redMul(g),E=T.redMul(I),D=w.redSqr().redIAdd(W).redISub(E).redISub(E),C=w.redMul(E.redISub(D)).redISub($.redMul(W)),uo=this.z.redMul(g);return this.curve.jpoint(D,C,uo)},y.prototype.dblp=function(R){if(R===0)return this;if(this.isInfinity())return this;if(!R)return this.dbl();var Z;if(this.curve.zeroA||this.curve.threeA){var T=this;for(Z=0;Z<R;Z++)T=T.dbl();return T}var M=this.curve.a,$=this.curve.tinv,q=this.x,g=this.y,w=this.z,I=w.redSqr().redSqr(),W=g.redAdd(g);for(Z=0;Z<R;Z++){var E=q.redSqr(),D=W.redSqr(),C=D.redSqr(),uo=E.redAdd(E).redIAdd(E).redIAdd(M.redMul(I)),po=q.redMul(D),To=uo.redSqr().redISub(po.redAdd(po)),co=po.redISub(To),Lo=uo.redMul(co);Lo=Lo.redIAdd(Lo).redISub(C);var o=W.redMul(w);Z+1<R&&(I=I.redMul(C)),q=To,w=o,W=Lo}return this.curve.jpoint(q,W.redMul($),w)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var R,Z,T;if(this.zOne){var M=this.x.redSqr(),$=this.y.redSqr(),q=$.redSqr(),g=this.x.redAdd($).redSqr().redISub(M).redISub(q);g=g.redIAdd(g);var w=M.redAdd(M).redIAdd(M),I=w.redSqr().redISub(g).redISub(g),W=q.redIAdd(q);W=W.redIAdd(W),W=W.redIAdd(W),R=I,Z=w.redMul(g.redISub(I)).redISub(W),T=this.y.redAdd(this.y)}else{var E=this.x.redSqr(),D=this.y.redSqr(),C=D.redSqr(),uo=this.x.redAdd(D).redSqr().redISub(E).redISub(C);uo=uo.redIAdd(uo);var po=E.redAdd(E).redIAdd(E),To=po.redSqr(),co=C.redIAdd(C);co=co.redIAdd(co),co=co.redIAdd(co),R=To.redISub(uo).redISub(uo),Z=po.redMul(uo.redISub(R)).redISub(co),T=this.y.redMul(this.z),T=T.redIAdd(T)}return this.curve.jpoint(R,Z,T)},y.prototype._threeDbl=function(){var R,Z,T;if(this.zOne){var M=this.x.redSqr(),$=this.y.redSqr(),q=$.redSqr(),g=this.x.redAdd($).redSqr().redISub(M).redISub(q);g=g.redIAdd(g);var w=M.redAdd(M).redIAdd(M).redIAdd(this.curve.a),I=w.redSqr().redISub(g).redISub(g);R=I;var W=q.redIAdd(q);W=W.redIAdd(W),W=W.redIAdd(W),Z=w.redMul(g.redISub(I)).redISub(W),T=this.y.redAdd(this.y)}else{var E=this.z.redSqr(),D=this.y.redSqr(),C=this.x.redMul(D),uo=this.x.redSub(E).redMul(this.x.redAdd(E));uo=uo.redAdd(uo).redIAdd(uo);var po=C.redIAdd(C);po=po.redIAdd(po);var To=po.redAdd(po);R=uo.redSqr().redISub(To),T=this.y.redAdd(this.z).redSqr().redISub(D).redISub(E);var co=D.redSqr();co=co.redIAdd(co),co=co.redIAdd(co),co=co.redIAdd(co),Z=uo.redMul(po.redISub(R)).redISub(co)}return this.curve.jpoint(R,Z,T)},y.prototype._dbl=function(){var R=this.curve.a,Z=this.x,T=this.y,M=this.z,$=M.redSqr().redSqr(),q=Z.redSqr(),g=T.redSqr(),w=q.redAdd(q).redIAdd(q).redIAdd(R.redMul($)),I=Z.redAdd(Z);I=I.redIAdd(I);var W=I.redMul(g),E=w.redSqr().redISub(W.redAdd(W)),D=W.redISub(E),C=g.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var uo=w.redMul(D).redISub(C),po=T.redAdd(T).redMul(M);return this.curve.jpoint(E,uo,po)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var R=this.x.redSqr(),Z=this.y.redSqr(),T=this.z.redSqr(),M=Z.redSqr(),$=R.redAdd(R).redIAdd(R),q=$.redSqr(),g=this.x.redAdd(Z).redSqr().redISub(R).redISub(M);g=g.redIAdd(g),g=g.redAdd(g).redIAdd(g),g=g.redISub(q);var w=g.redSqr(),I=M.redIAdd(M);I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var W=$.redIAdd(g).redSqr().redISub(q).redISub(w).redISub(I),E=Z.redMul(W);E=E.redIAdd(E),E=E.redIAdd(E);var D=this.x.redMul(w).redISub(E);D=D.redIAdd(D),D=D.redIAdd(D);var C=this.y.redMul(W.redMul(I.redISub(W)).redISub(g.redMul(w)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var uo=this.z.redAdd(g).redSqr().redISub(T).redISub(w);return this.curve.jpoint(D,C,uo)},y.prototype.mul=function(R,Z){return R=new v(R,Z),this.curve._wnafMul(this,R)},y.prototype.eq=function(R){if(R.type==="affine")return this.eq(R.toJ());if(this===R)return!0;var Z=this.z.redSqr(),T=R.z.redSqr();if(this.x.redMul(T).redISub(R.x.redMul(Z)).cmpn(0)!==0)return!1;var M=Z.redMul(this.z),$=T.redMul(R.z);return this.y.redMul($).redISub(R.y.redMul(M)).cmpn(0)===0},y.prototype.eqXToP=function(R){var Z=this.z.redSqr(),T=R.toRed(this.curve.red).redMul(Z);if(this.x.cmp(T)===0)return!0;for(var M=R.clone(),$=this.curve.redN.redMul(Z);;){if(M.iadd(this.curve.n),M.cmp(this.curve.p)>=0)return!1;if(T.redIAdd($),this.x.cmp(T)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),au=Fo((l,p)=>{var r=ce(),v=pa(),b=An(),x=Pa();function u(L){b.call(this,"mont",L),this.a=new r(L.a,16).toRed(this.red),this.b=new r(L.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}v(u,b),p.exports=u,u.prototype.validate=function(L){var y=L.normalize().x,R=y.redSqr(),Z=R.redMul(y).redAdd(R.redMul(this.a)).redAdd(y),T=Z.redSqrt();return T.redSqr().cmp(Z)===0};function k(L,y,R){b.BasePoint.call(this,L,"projective"),y===null&&R===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(y,16),this.z=new r(R,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}v(k,b.BasePoint),u.prototype.decodePoint=function(L,y){return this.point(x.toArray(L,y),1)},u.prototype.point=function(L,y){return new k(this,L,y)},u.prototype.pointFromJSON=function(L){return k.fromJSON(this,L)},k.prototype.precompute=function(){},k.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},k.fromJSON=function(L,y){return new k(L,y[0],y[1]||L.one)},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return this.z.cmpn(0)===0},k.prototype.dbl=function(){var L=this.x.redAdd(this.z),y=L.redSqr(),R=this.x.redSub(this.z),Z=R.redSqr(),T=y.redSub(Z),M=y.redMul(Z),$=T.redMul(Z.redAdd(this.curve.a24.redMul(T)));return this.curve.point(M,$)},k.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.diffAdd=function(L,y){var R=this.x.redAdd(this.z),Z=this.x.redSub(this.z),T=L.x.redAdd(L.z),M=L.x.redSub(L.z),$=M.redMul(R),q=T.redMul(Z),g=y.z.redMul($.redAdd(q).redSqr()),w=y.x.redMul($.redISub(q).redSqr());return this.curve.point(g,w)},k.prototype.mul=function(L){for(var y=L.clone(),R=this,Z=this.curve.point(null,null),T=this,M=[];y.cmpn(0)!==0;y.iushrn(1))M.push(y.andln(1));for(var $=M.length-1;$>=0;$--)M[$]===0?(R=R.diffAdd(Z,T),Z=Z.dbl()):(Z=R.diffAdd(Z,T),R=R.dbl());return Z},k.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},k.prototype.eq=function(L){return this.getX().cmp(L.getX())===0},k.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},k.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),eu=Fo((l,p)=>{var r=Pa(),v=ce(),b=pa(),x=An(),u=r.assert;function k(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,x.call(this,"edwards",y),this.a=new v(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new v(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new v(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}b(k,x),p.exports=k,k.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},k.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},k.prototype.jpoint=function(y,R,Z,T){return this.point(y,R,Z,T)},k.prototype.pointFromX=function(y,R){y=new v(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),T=this.c2.redSub(this.a.redMul(Z)),M=this.one.redSub(this.c2.redMul(this.d).redMul(Z)),$=T.redMul(M.redInvm()),q=$.redSqrt();if(q.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");var g=q.fromRed().isOdd();return(R&&!g||!R&&g)&&(q=q.redNeg()),this.point(y,q)},k.prototype.pointFromY=function(y,R){y=new v(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),T=Z.redSub(this.c2),M=Z.redMul(this.d).redMul(this.c2).redSub(this.a),$=T.redMul(M.redInvm());if($.cmp(this.zero)===0){if(R)throw new Error("invalid point");return this.point(this.zero,y)}var q=$.redSqrt();if(q.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");return q.fromRed().isOdd()!==R&&(q=q.redNeg()),this.point(q,y)},k.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var R=y.x.redSqr(),Z=y.y.redSqr(),T=R.redMul(this.a).redAdd(Z),M=this.c2.redMul(this.one.redAdd(this.d.redMul(R).redMul(Z)));return T.cmp(M)===0};function L(y,R,Z,T,M){x.BasePoint.call(this,y,"projective"),R===null&&Z===null&&T===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new v(R,16),this.y=new v(Z,16),this.z=T?new v(T,16):this.curve.one,this.t=M&&new v(M,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}b(L,x.BasePoint),k.prototype.pointFromJSON=function(y){return L.fromJSON(this,y)},k.prototype.point=function(y,R,Z,T){return new L(this,y,R,Z,T)},L.fromJSON=function(y,R){return new L(y,R[0],R[1],R[2])},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},L.prototype._extDbl=function(){var y=this.x.redSqr(),R=this.y.redSqr(),Z=this.z.redSqr();Z=Z.redIAdd(Z);var T=this.curve._mulA(y),M=this.x.redAdd(this.y).redSqr().redISub(y).redISub(R),$=T.redAdd(R),q=$.redSub(Z),g=T.redSub(R),w=M.redMul(q),I=$.redMul(g),W=M.redMul(g),E=q.redMul($);return this.curve.point(w,I,E,W)},L.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),R=this.x.redSqr(),Z=this.y.redSqr(),T,M,$,q,g,w;if(this.curve.twisted){q=this.curve._mulA(R);var I=q.redAdd(Z);this.zOne?(T=y.redSub(R).redSub(Z).redMul(I.redSub(this.curve.two)),M=I.redMul(q.redSub(Z)),$=I.redSqr().redSub(I).redSub(I)):(g=this.z.redSqr(),w=I.redSub(g).redISub(g),T=y.redSub(R).redISub(Z).redMul(w),M=I.redMul(q.redSub(Z)),$=I.redMul(w))}else q=R.redAdd(Z),g=this.curve._mulC(this.z).redSqr(),w=q.redSub(g).redSub(g),T=this.curve._mulC(y.redISub(q)).redMul(w),M=this.curve._mulC(q).redMul(R.redISub(Z)),$=q.redMul(w);return this.curve.point(T,M,$)},L.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},L.prototype._extAdd=function(y){var R=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),Z=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),T=this.t.redMul(this.curve.dd).redMul(y.t),M=this.z.redMul(y.z.redAdd(y.z)),$=Z.redSub(R),q=M.redSub(T),g=M.redAdd(T),w=Z.redAdd(R),I=$.redMul(q),W=g.redMul(w),E=$.redMul(w),D=q.redMul(g);return this.curve.point(I,W,D,E)},L.prototype._projAdd=function(y){var R=this.z.redMul(y.z),Z=R.redSqr(),T=this.x.redMul(y.x),M=this.y.redMul(y.y),$=this.curve.d.redMul(T).redMul(M),q=Z.redSub($),g=Z.redAdd($),w=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub(T).redISub(M),I=R.redMul(q).redMul(w),W,E;return this.curve.twisted?(W=R.redMul(g).redMul(M.redSub(this.curve._mulA(T))),E=q.redMul(g)):(W=R.redMul(g).redMul(M.redSub(T)),E=this.curve._mulC(q).redMul(g)),this.curve.point(I,W,E)},L.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},L.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},L.prototype.mulAdd=function(y,R,Z){return this.curve._wnafMulAdd(1,[this,R],[y,Z],2,!1)},L.prototype.jmulAdd=function(y,R,Z){return this.curve._wnafMulAdd(1,[this,R],[y,Z],2,!0)},L.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},L.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},L.prototype.getX=function(){return this.normalize(),this.x.fromRed()},L.prototype.getY=function(){return this.normalize(),this.y.fromRed()},L.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},L.prototype.eqXToP=function(y){var R=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(R)===0)return!0;for(var Z=y.clone(),T=this.curve.redN.redMul(this.z);;){if(Z.iadd(this.curve.n),Z.cmp(this.curve.p)>=0)return!1;if(R.redIAdd(T),this.x.cmp(R)===0)return!0}},L.prototype.toP=L.prototype.normalize,L.prototype.mixedAdd=L.prototype.add}),Vr=Fo((l)=>{var p=l;p.base=An(),p.short=ou(),p.mont=au(),p.edwards=eu()}),ne=Fo((l)=>{var p=Ea(),r=pa();l.inherits=r;function v(n,c){return(n.charCodeAt(c)&64512)!==55296||c<0||c+1>=n.length?!1:(n.charCodeAt(c+1)&64512)===56320}function b(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var s=[];if(typeof n=="string")if(c){if(c==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),_=0;_<n.length;_+=2)s.push(parseInt(n[_]+n[_+1],16))}else for(var m=0,_=0;_<n.length;_++){var h=n.charCodeAt(_);h<128?s[m++]=h:h<2048?(s[m++]=h>>6|192,s[m++]=h&63|128):v(n,_)?(h=65536+((h&1023)<<10)+(n.charCodeAt(++_)&1023),s[m++]=h>>18|240,s[m++]=h>>12&63|128,s[m++]=h>>6&63|128,s[m++]=h&63|128):(s[m++]=h>>12|224,s[m++]=h>>6&63|128,s[m++]=h&63|128)}else for(_=0;_<n.length;_++)s[_]=n[_]|0;return s}l.toArray=b;function x(n){for(var c="",s=0;s<n.length;s++)c+=L(n[s].toString(16));return c}l.toHex=x;function u(n){var c=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return c>>>0}l.htonl=u;function k(n,c){for(var s="",m=0;m<n.length;m++){var _=n[m];c==="little"&&(_=u(_)),s+=y(_.toString(16))}return s}l.toHex32=k;function L(n){return n.length===1?"0"+n:n}l.zero2=L;function y(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}l.zero8=y;function R(n,c,s,m){var _=s-c;p(_%4===0);for(var h=new Array(_/4),d=0,a=c;d<h.length;d++,a+=4){var t;m==="big"?t=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]:t=n[a+3]<<24|n[a+2]<<16|n[a+1]<<8|n[a],h[d]=t>>>0}return h}l.join32=R;function Z(n,c){for(var s=new Array(n.length*4),m=0,_=0;m<n.length;m++,_+=4){var h=n[m];c==="big"?(s[_]=h>>>24,s[_+1]=h>>>16&255,s[_+2]=h>>>8&255,s[_+3]=h&255):(s[_+3]=h>>>24,s[_+2]=h>>>16&255,s[_+1]=h>>>8&255,s[_]=h&255)}return s}l.split32=Z;function T(n,c){return n>>>c|n<<32-c}l.rotr32=T;function M(n,c){return n<<c|n>>>32-c}l.rotl32=M;function $(n,c){return n+c>>>0}l.sum32=$;function q(n,c,s){return n+c+s>>>0}l.sum32_3=q;function g(n,c,s,m){return n+c+s+m>>>0}l.sum32_4=g;function w(n,c,s,m,_){return n+c+s+m+_>>>0}l.sum32_5=w;function I(n,c,s,m){var _=n[c],h=n[c+1],d=m+h>>>0,a=(d<m?1:0)+s+_;n[c]=a>>>0,n[c+1]=d}l.sum64=I;function W(n,c,s,m){var _=c+m>>>0,h=(_<c?1:0)+n+s;return h>>>0}l.sum64_hi=W;function E(n,c,s,m){var _=c+m;return _>>>0}l.sum64_lo=E;function D(n,c,s,m,_,h,d,a){var t=0,S=c;S=S+m>>>0,t+=S<c?1:0,S=S+h>>>0,t+=S<h?1:0,S=S+a>>>0,t+=S<a?1:0;var U=n+s+_+d+t;return U>>>0}l.sum64_4_hi=D;function C(n,c,s,m,_,h,d,a){var t=c+m+h+a;return t>>>0}l.sum64_4_lo=C;function uo(n,c,s,m,_,h,d,a,t,S){var U=0,P=c;P=P+m>>>0,U+=P<c?1:0,P=P+h>>>0,U+=P<h?1:0,P=P+a>>>0,U+=P<a?1:0,P=P+S>>>0,U+=P<S?1:0;var fo=n+s+_+d+t+U;return fo>>>0}l.sum64_5_hi=uo;function po(n,c,s,m,_,h,d,a,t,S){var U=c+m+h+a+S;return U>>>0}l.sum64_5_lo=po;function To(n,c,s){var m=c<<32-s|n>>>s;return m>>>0}l.rotr64_hi=To;function co(n,c,s){var m=n<<32-s|c>>>s;return m>>>0}l.rotr64_lo=co;function Lo(n,c,s){return n>>>s}l.shr64_hi=Lo;function o(n,c,s){var m=n<<32-s|c>>>s;return m>>>0}l.shr64_lo=o}),hn=Fo((l)=>{var p=ne(),r=Ea();function v(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=v,v.prototype.update=function(b,x){if(b=p.toArray(b,x),this.pending?this.pending=this.pending.concat(b):this.pending=b,this.pendingTotal+=b.length,this.pending.length>=this._delta8){b=this.pending;var u=b.length%this._delta8;this.pending=b.slice(b.length-u,b.length),this.pending.length===0&&(this.pending=null),b=p.join32(b,0,b.length-u,this.endian);for(var k=0;k<b.length;k+=this._delta32)this._update(b,k,k+this._delta32)}return this},v.prototype.digest=function(b){return this.update(this._pad()),r(this.pending===null),this._digest(b)},v.prototype._pad=function(){var b=this.pendingTotal,x=this._delta8,u=x-(b+this.padLength)%x,k=new Array(u+this.padLength);k[0]=128;for(var L=1;L<u;L++)k[L]=0;if(b<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)k[L++]=0;k[L++]=0,k[L++]=0,k[L++]=0,k[L++]=0,k[L++]=b>>>24&255,k[L++]=b>>>16&255,k[L++]=b>>>8&255,k[L++]=b&255}else for(k[L++]=b&255,k[L++]=b>>>8&255,k[L++]=b>>>16&255,k[L++]=b>>>24&255,k[L++]=0,k[L++]=0,k[L++]=0,k[L++]=0,y=8;y<this.padLength;y++)k[L++]=0;return k}}),Mr=Fo((l)=>{var p=ne(),r=p.rotr32;function v(Z,T,M,$){if(Z===0)return b(T,M,$);if(Z===1||Z===3)return u(T,M,$);if(Z===2)return x(T,M,$)}l.ft_1=v;function b(Z,T,M){return Z&T^~Z&M}l.ch32=b;function x(Z,T,M){return Z&T^Z&M^T&M}l.maj32=x;function u(Z,T,M){return Z^T^M}l.p32=u;function k(Z){return r(Z,2)^r(Z,13)^r(Z,22)}l.s0_256=k;function L(Z){return r(Z,6)^r(Z,11)^r(Z,25)}l.s1_256=L;function y(Z){return r(Z,7)^r(Z,18)^Z>>>3}l.g0_256=y;function R(Z){return r(Z,17)^r(Z,19)^Z>>>10}l.g1_256=R}),nu=Fo((l,p)=>{var r=ne(),v=hn(),b=Mr(),x=r.rotl32,u=r.sum32,k=r.sum32_5,L=b.ft_1,y=v.BlockHash,R=[1518500249,1859775393,2400959708,3395469782];function Z(){if(!(this instanceof Z))return new Z;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(Z,y),p.exports=Z,Z.blockSize=512,Z.outSize=160,Z.hmacStrength=80,Z.padLength=64,Z.prototype._update=function(T,M){for(var $=this.W,q=0;q<16;q++)$[q]=T[M+q];for(;q<$.length;q++)$[q]=x($[q-3]^$[q-8]^$[q-14]^$[q-16],1);var g=this.h[0],w=this.h[1],I=this.h[2],W=this.h[3],E=this.h[4];for(q=0;q<$.length;q++){var D=~~(q/20),C=k(x(g,5),L(D,w,I,W),E,$[q],R[D]);E=W,W=I,I=x(w,30),w=g,g=C}this.h[0]=u(this.h[0],g),this.h[1]=u(this.h[1],w),this.h[2]=u(this.h[2],I),this.h[3]=u(this.h[3],W),this.h[4]=u(this.h[4],E)},Z.prototype._digest=function(T){return T==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),Lr=Fo((l,p)=>{var r=ne(),v=hn(),b=Mr(),x=Ea(),u=r.sum32,k=r.sum32_4,L=r.sum32_5,y=b.ch32,R=b.maj32,Z=b.s0_256,T=b.s1_256,M=b.g0_256,$=b.g1_256,q=v.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(w,q),p.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(I,W){for(var E=this.W,D=0;D<16;D++)E[D]=I[W+D];for(;D<E.length;D++)E[D]=k($(E[D-2]),E[D-7],M(E[D-15]),E[D-16]);var C=this.h[0],uo=this.h[1],po=this.h[2],To=this.h[3],co=this.h[4],Lo=this.h[5],o=this.h[6],n=this.h[7];for(x(this.k.length===E.length),D=0;D<E.length;D++){var c=L(n,T(co),y(co,Lo,o),this.k[D],E[D]),s=u(Z(C),R(C,uo,po));n=o,o=Lo,Lo=co,co=u(To,c),To=po,po=uo,uo=C,C=u(c,s)}this.h[0]=u(this.h[0],C),this.h[1]=u(this.h[1],uo),this.h[2]=u(this.h[2],po),this.h[3]=u(this.h[3],To),this.h[4]=u(this.h[4],co),this.h[5]=u(this.h[5],Lo),this.h[6]=u(this.h[6],o),this.h[7]=u(this.h[7],n)},w.prototype._digest=function(I){return I==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}}),su=Fo((l,p)=>{var r=ne(),v=Lr();function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(b,v),p.exports=b,b.blockSize=512,b.outSize=224,b.hmacStrength=192,b.padLength=64,b.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}}),Or=Fo((l,p)=>{var r=ne(),v=hn(),b=Ea(),x=r.rotr64_hi,u=r.rotr64_lo,k=r.shr64_hi,L=r.shr64_lo,y=r.sum64,R=r.sum64_hi,Z=r.sum64_lo,T=r.sum64_4_hi,M=r.sum64_4_lo,$=r.sum64_5_hi,q=r.sum64_5_lo,g=v.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}r.inherits(I,g),p.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(s,m){for(var _=this.W,h=0;h<32;h++)_[h]=s[m+h];for(;h<_.length;h+=2){var d=n(_[h-4],_[h-3]),a=c(_[h-4],_[h-3]),t=_[h-14],S=_[h-13],U=Lo(_[h-30],_[h-29]),P=o(_[h-30],_[h-29]),fo=_[h-32],vo=_[h-31];_[h]=T(d,a,t,S,U,P,fo,vo),_[h+1]=M(d,a,t,S,U,P,fo,vo)}},I.prototype._update=function(s,m){this._prepareBlock(s,m);var _=this.W,h=this.h[0],d=this.h[1],a=this.h[2],t=this.h[3],S=this.h[4],U=this.h[5],P=this.h[6],fo=this.h[7],vo=this.h[8],xo=this.h[9],mo=this.h[10],io=this.h[11],ko=this.h[12],Io=this.h[13],qo=this.h[14],Oo=this.h[15];b(this.k.length===_.length);for(var H=0;H<_.length;H+=2){var j=qo,B=Oo,$o=To(vo,xo),Uo=co(vo,xo),Vo=W(vo,xo,mo,io,ko,Io),Ho=E(vo,xo,mo,io,ko,Io),jo=this.k[H],zo=this.k[H+1],Bo=_[H],Jo=_[H+1],Wo=$(j,B,$o,Uo,Vo,Ho,jo,zo,Bo,Jo),ba=q(j,B,$o,Uo,Vo,Ho,jo,zo,Bo,Jo);j=uo(h,d),B=po(h,d),$o=D(h,d,a,t,S,U),Uo=C(h,d,a,t,S,U);var O=R(j,B,$o,Uo),e=Z(j,B,$o,Uo);qo=ko,Oo=Io,ko=mo,Io=io,mo=vo,io=xo,vo=R(P,fo,Wo,ba),xo=Z(fo,fo,Wo,ba),P=S,fo=U,S=a,U=t,a=h,t=d,h=R(Wo,ba,O,e),d=Z(Wo,ba,O,e)}y(this.h,0,h,d),y(this.h,2,a,t),y(this.h,4,S,U),y(this.h,6,P,fo),y(this.h,8,vo,xo),y(this.h,10,mo,io),y(this.h,12,ko,Io),y(this.h,14,qo,Oo)},I.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function W(s,m,_,h,d){var a=s&_^~s&d;return a<0&&(a+=4294967296),a}function E(s,m,_,h,d,a){var t=m&h^~m&a;return t<0&&(t+=4294967296),t}function D(s,m,_,h,d){var a=s&_^s&d^_&d;return a<0&&(a+=4294967296),a}function C(s,m,_,h,d,a){var t=m&h^m&a^h&a;return t<0&&(t+=4294967296),t}function uo(s,m){var _=x(s,m,28),h=x(m,s,2),d=x(m,s,7),a=_^h^d;return a<0&&(a+=4294967296),a}function po(s,m){var _=u(s,m,28),h=u(m,s,2),d=u(m,s,7),a=_^h^d;return a<0&&(a+=4294967296),a}function To(s,m){var _=x(s,m,14),h=x(s,m,18),d=x(m,s,9),a=_^h^d;return a<0&&(a+=4294967296),a}function co(s,m){var _=u(s,m,14),h=u(s,m,18),d=u(m,s,9),a=_^h^d;return a<0&&(a+=4294967296),a}function Lo(s,m){var _=x(s,m,1),h=x(s,m,8),d=k(s,m,7),a=_^h^d;return a<0&&(a+=4294967296),a}function o(s,m){var _=u(s,m,1),h=u(s,m,8),d=L(s,m,7),a=_^h^d;return a<0&&(a+=4294967296),a}function n(s,m){var _=x(s,m,19),h=x(m,s,29),d=k(s,m,6),a=_^h^d;return a<0&&(a+=4294967296),a}function c(s,m){var _=u(s,m,19),h=u(m,s,29),d=L(s,m,6),a=_^h^d;return a<0&&(a+=4294967296),a}}),lu=Fo((l,p)=>{var r=ne(),v=Or();function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(b,v),p.exports=b,b.blockSize=1024,b.outSize=384,b.hmacStrength=192,b.padLength=128,b.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}}),ru=Fo((l)=>{l.sha1=nu(),l.sha224=su(),l.sha256=Lr(),l.sha384=lu(),l.sha512=Or()}),iu=Fo((l)=>{var p=ne(),r=hn(),v=p.rotl32,b=p.sum32,x=p.sum32_3,u=p.sum32_4,k=r.BlockHash;function L(){if(!(this instanceof L))return new L;k.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}p.inherits(L,k),l.ripemd160=L,L.blockSize=512,L.outSize=160,L.hmacStrength=192,L.padLength=64,L.prototype._update=function(g,w){for(var I=this.h[0],W=this.h[1],E=this.h[2],D=this.h[3],C=this.h[4],uo=I,po=W,To=E,co=D,Lo=C,o=0;o<80;o++){var n=b(v(u(I,y(o,W,E,D),g[T[o]+w],R(o)),$[o]),C);I=C,C=D,D=v(E,10),E=W,W=n,n=b(v(u(uo,y(79-o,po,To,co),g[M[o]+w],Z(o)),q[o]),Lo),uo=Lo,Lo=co,co=v(To,10),To=po,po=n}n=x(this.h[1],E,co),this.h[1]=x(this.h[2],D,Lo),this.h[2]=x(this.h[3],C,uo),this.h[3]=x(this.h[4],I,po),this.h[4]=x(this.h[0],W,To),this.h[0]=n},L.prototype._digest=function(g){return g==="hex"?p.toHex32(this.h,"little"):p.split32(this.h,"little")};function y(g,w,I,W){return g<=15?w^I^W:g<=31?w&I|~w&W:g<=47?(w|~I)^W:g<=63?w&W|I&~W:w^(I|~W)}function R(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function Z(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var T=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],M=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),cu=Fo((l,p)=>{var r=ne(),v=Ea();function b(x,u,k){if(!(this instanceof b))return new b(x,u,k);this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(u,k))}p.exports=b,b.prototype._init=function(x){x.length>this.blockSize&&(x=new this.Hash().update(x).digest()),v(x.length<=this.blockSize);for(var u=x.length;u<this.blockSize;u++)x.push(0);for(u=0;u<x.length;u++)x[u]^=54;for(this.inner=new this.Hash().update(x),u=0;u<x.length;u++)x[u]^=106;this.outer=new this.Hash().update(x)},b.prototype.update=function(x,u){return this.inner.update(x,u),this},b.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}}),al=Fo((l)=>{var p=l;p.utils=ne(),p.common=hn(),p.sha=ru(),p.ripemd=iu(),p.hmac=cu(),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160}),uu=Fo((l,p)=>{p.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),el=Fo((l)=>{var p=l,r=al(),v=Vr(),b=Pa(),x=b.assert;function u(y){y.type==="short"?this.curve=new v.short(y):y.type==="edwards"?this.curve=new v.edwards(y):this.curve=new v.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}p.PresetCurve=u;function k(y,R){Object.defineProperty(p,y,{configurable:!0,enumerable:!0,get:function(){var Z=new u(R);return Object.defineProperty(p,y,{configurable:!0,enumerable:!0,value:Z}),Z}})}k("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),k("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),k("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),k("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),k("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),k("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),k("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var L;try{L=uu()}catch{L=void 0}k("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",L]})}),mu=Fo((l,p)=>{var r=al(),v=Tr(),b=Ea();function x(u){if(!(this instanceof x))return new x(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var k=v.toArray(u.entropy,u.entropyEnc||"hex"),L=v.toArray(u.nonce,u.nonceEnc||"hex"),y=v.toArray(u.pers,u.persEnc||"hex");b(k.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(k,L,y)}p.exports=x,x.prototype._init=function(u,k,L){var y=u.concat(k).concat(L);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var R=0;R<this.V.length;R++)this.K[R]=0,this.V[R]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},x.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},x.prototype._update=function(u){var k=this._hmac().update(this.V).update([0]);u&&(k=k.update(u)),this.K=k.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},x.prototype.reseed=function(u,k,L,y){typeof k!="string"&&(y=L,L=k,k=null),u=v.toArray(u,k),L=v.toArray(L,y),b(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(L||[])),this._reseed=1},x.prototype.generate=function(u,k,L,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof k!="string"&&(y=L,L=k,k=null),L&&(L=v.toArray(L,y||"hex"),this._update(L));for(var R=[];R.length<u;)this.V=this._hmac().update(this.V).digest(),R=R.concat(this.V);var Z=R.slice(0,u);return this._update(L),this._reseed++,v.encode(Z,k)}}),tu=Fo((l,p)=>{var r=ce(),v=Pa(),b=v.assert;function x(u,k){this.ec=u,this.priv=null,this.pub=null,k.priv&&this._importPrivate(k.priv,k.privEnc),k.pub&&this._importPublic(k.pub,k.pubEnc)}p.exports=x,x.fromPublic=function(u,k,L){return k instanceof x?k:new x(u,{pub:k,pubEnc:L})},x.fromPrivate=function(u,k,L){return k instanceof x?k:new x(u,{priv:k,privEnc:L})},x.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},x.prototype.getPublic=function(u,k){return typeof u=="string"&&(k=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),k?this.pub.encode(k,u):this.pub},x.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},x.prototype._importPrivate=function(u,k){this.priv=new r(u,k||16),this.priv=this.priv.umod(this.ec.curve.n)},x.prototype._importPublic=function(u,k){if(u.x||u.y){this.ec.curve.type==="mont"?b(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&b(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,k)},x.prototype.derive=function(u){return u.validate()||b(u.validate(),"public point not validated"),u.mul(this.priv).getX()},x.prototype.sign=function(u,k,L){return this.ec.sign(u,this,k,L)},x.prototype.verify=function(u,k){return this.ec.verify(u,k,this)},x.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),du=Fo((l,p)=>{var r=ce(),v=Pa(),b=v.assert;function x(R,Z){if(R instanceof x)return R;this._importDER(R,Z)||(b(R.r&&R.s,"Signature without r or s"),this.r=new r(R.r,16),this.s=new r(R.s,16),R.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=R.recoveryParam)}p.exports=x;function u(){this.place=0}function k(R,Z){var T=R[Z.place++];if(!(T&128))return T;var M=T&15;if(M===0||M>4)return!1;for(var $=0,q=0,g=Z.place;q<M;q++,g++)$<<=8,$|=R[g],$>>>=0;return $<=127?!1:(Z.place=g,$)}function L(R){for(var Z=0,T=R.length-1;!R[Z]&&!(R[Z+1]&128)&&Z<T;)Z++;return Z===0?R:R.slice(Z)}x.prototype._importDER=function(R,Z){R=v.toArray(R,Z);var T=new u;if(R[T.place++]!==48)return!1;var M=k(R,T);if(M===!1||M+T.place!==R.length||R[T.place++]!==2)return!1;var $=k(R,T);if($===!1)return!1;var q=R.slice(T.place,$+T.place);if(T.place+=$,R[T.place++]!==2)return!1;var g=k(R,T);if(g===!1||R.length!==g+T.place)return!1;var w=R.slice(T.place,g+T.place);if(q[0]===0)if(q[1]&128)q=q.slice(1);else return!1;if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;return this.r=new r(q),this.s=new r(w),this.recoveryParam=null,!0};function y(R,Z){if(Z<128){R.push(Z);return}var T=1+(Math.log(Z)/Math.LN2>>>3);for(R.push(T|128);--T;)R.push(Z>>>(T<<3)&255);R.push(Z)}x.prototype.toDER=function(R){var Z=this.r.toArray(),T=this.s.toArray();for(Z[0]&128&&(Z=[0].concat(Z)),T[0]&128&&(T=[0].concat(T)),Z=L(Z),T=L(T);!T[0]&&!(T[1]&128);)T=T.slice(1);var M=[2];y(M,Z.length),M=M.concat(Z),M.push(2),y(M,T.length);var $=M.concat(T),q=[48];return y(q,$.length),q=q.concat($),v.encode(q,R)}}),pu=Fo((l,p)=>{var r=ce(),v=mu(),b=Pa(),x=el(),u=Cs(),k=b.assert,L=tu(),y=du();function R(Z){if(!(this instanceof R))return new R(Z);typeof Z=="string"&&(k(Object.prototype.hasOwnProperty.call(x,Z),"Unknown curve "+Z),Z=x[Z]),Z instanceof x.PresetCurve&&(Z={curve:Z}),this.curve=Z.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Z.curve.g,this.g.precompute(Z.curve.n.bitLength()+1),this.hash=Z.hash||Z.curve.hash}p.exports=R,R.prototype.keyPair=function(Z){return new L(this,Z)},R.prototype.keyFromPrivate=function(Z,T){return L.fromPrivate(this,Z,T)},R.prototype.keyFromPublic=function(Z,T){return L.fromPublic(this,Z,T)},R.prototype.genKeyPair=function(Z){Z||(Z={});for(var T=new v({hash:this.hash,pers:Z.pers,persEnc:Z.persEnc||"utf8",entropy:Z.entropy||u(this.hash.hmacStrength),entropyEnc:Z.entropy&&Z.entropyEnc||"utf8",nonce:this.n.toArray()}),M=this.n.byteLength(),$=this.n.sub(new r(2));;){var q=new r(T.generate(M));if(!(q.cmp($)>0))return q.iaddn(1),this.keyFromPrivate(q)}},R.prototype._truncateToN=function(Z,T){var M=Z.byteLength()*8-this.n.bitLength();return M>0&&(Z=Z.ushrn(M)),!T&&Z.cmp(this.n)>=0?Z.sub(this.n):Z},R.prototype.sign=function(Z,T,M,$){typeof M=="object"&&($=M,M=null),$||($={}),T=this.keyFromPrivate(T,M),Z=this._truncateToN(new r(Z,16));for(var q=this.n.byteLength(),g=T.getPrivate().toArray("be",q),w=Z.toArray("be",q),I=new v({hash:this.hash,entropy:g,nonce:w,pers:$.pers,persEnc:$.persEnc||"utf8"}),W=this.n.sub(new r(1)),E=0;;E++){var D=$.k?$.k(E):new r(I.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(W)>=0)){var C=this.g.mul(D);if(!C.isInfinity()){var uo=C.getX(),po=uo.umod(this.n);if(po.cmpn(0)!==0){var To=D.invm(this.n).mul(po.mul(T.getPrivate()).iadd(Z));if(To=To.umod(this.n),To.cmpn(0)!==0){var co=(C.getY().isOdd()?1:0)|(uo.cmp(po)!==0?2:0);return $.canonical&&To.cmp(this.nh)>0&&(To=this.n.sub(To),co^=1),new y({r:po,s:To,recoveryParam:co})}}}}}},R.prototype.verify=function(Z,T,M,$){Z=this._truncateToN(new r(Z,16)),M=this.keyFromPublic(M,$),T=new y(T,"hex");var{r:q,s:g}=T;if(q.cmpn(1)<0||q.cmp(this.n)>=0||g.cmpn(1)<0||g.cmp(this.n)>=0)return!1;var w=g.invm(this.n),I=w.mul(Z).umod(this.n),W=w.mul(q).umod(this.n),E;return this.curve._maxwellTrick?(E=this.g.jmulAdd(I,M.getPublic(),W),E.isInfinity()?!1:E.eqXToP(q)):(E=this.g.mulAdd(I,M.getPublic(),W),E.isInfinity()?!1:E.getX().umod(this.n).cmp(q)===0)},R.prototype.recoverPubKey=function(Z,T,M,$){k((3&M)===M,"The recovery param is more than two bits"),T=new y(T,$);var q=this.n,g=new r(Z),w=T.r,I=T.s,W=M&1,E=M>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&E)throw new Error("Unable to find sencond key candinate");E?w=this.curve.pointFromX(w.add(this.curve.n),W):w=this.curve.pointFromX(w,W);var D=T.r.invm(q),C=q.sub(g).mul(D).umod(q),uo=I.mul(D).umod(q);return this.g.mulAdd(C,w,uo)},R.prototype.getKeyRecoveryParam=function(Z,T,M,$){if(T=new y(T,$),T.recoveryParam!==null)return T.recoveryParam;for(var q=0;q<4;q++){var g;try{g=this.recoverPubKey(Z,T,q)}catch{continue}if(g.eq(M))return q}throw new Error("Unable to find valid recovery factor")}}),bu=Fo((l,p)=>{var r=Pa(),v=r.assert,b=r.parseBytes,x=r.cachedProperty;function u(k,L){this.eddsa=k,this._secret=b(L.secret),k.isPoint(L.pub)?this._pub=L.pub:this._pubBytes=b(L.pub)}u.fromPublic=function(k,L){return L instanceof u?L:new u(k,{pub:L})},u.fromSecret=function(k,L){return L instanceof u?L:new u(k,{secret:L})},u.prototype.secret=function(){return this._secret},x(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),x(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),x(u,"privBytes",function(){var k=this.eddsa,L=this.hash(),y=k.encodingLength-1,R=L.slice(0,k.encodingLength);return R[0]&=248,R[y]&=127,R[y]|=64,R}),x(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),x(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),x(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(k){return v(this._secret,"KeyPair can only verify"),this.eddsa.sign(k,this)},u.prototype.verify=function(k,L){return this.eddsa.verify(k,L,this)},u.prototype.getSecret=function(k){return v(this._secret,"KeyPair is public only"),r.encode(this.secret(),k)},u.prototype.getPublic=function(k){return r.encode(this.pubBytes(),k)},p.exports=u}),fu=Fo((l,p)=>{var r=ce(),v=Pa(),b=v.assert,x=v.cachedProperty,u=v.parseBytes;function k(L,y){this.eddsa=L,typeof y!="object"&&(y=u(y)),Array.isArray(y)&&(y={R:y.slice(0,L.encodingLength),S:y.slice(L.encodingLength)}),b(y.R&&y.S,"Signature without R or S"),L.isPoint(y.R)&&(this._R=y.R),y.S instanceof r&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}x(k,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),x(k,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),x(k,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),x(k,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),k.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},k.prototype.toHex=function(){return v.encode(this.toBytes(),"hex").toUpperCase()},p.exports=k}),_u=Fo((l,p)=>{var r=al(),v=el(),b=Pa(),x=b.assert,u=b.parseBytes,k=bu(),L=fu();function y(R){if(x(R==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(R);R=v[R].curve,this.curve=R,this.g=R.g,this.g.precompute(R.n.bitLength()+1),this.pointClass=R.point().constructor,this.encodingLength=Math.ceil(R.n.bitLength()/8),this.hash=r.sha512}p.exports=y,y.prototype.sign=function(R,Z){R=u(R);var T=this.keyFromSecret(Z),M=this.hashInt(T.messagePrefix(),R),$=this.g.mul(M),q=this.encodePoint($),g=this.hashInt(q,T.pubBytes(),R).mul(T.priv()),w=M.add(g).umod(this.curve.n);return this.makeSignature({R:$,S:w,Rencoded:q})},y.prototype.verify=function(R,Z,T){R=u(R),Z=this.makeSignature(Z);var M=this.keyFromPublic(T),$=this.hashInt(Z.Rencoded(),M.pubBytes(),R),q=this.g.mul(Z.S()),g=Z.R().add(M.pub().mul($));return g.eq(q)},y.prototype.hashInt=function(){for(var R=this.hash(),Z=0;Z<arguments.length;Z++)R.update(arguments[Z]);return b.intFromLE(R.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(R){return k.fromPublic(this,R)},y.prototype.keyFromSecret=function(R){return k.fromSecret(this,R)},y.prototype.makeSignature=function(R){return R instanceof L?R:new L(this,R)},y.prototype.encodePoint=function(R){var Z=R.getY().toArray("le",this.encodingLength);return Z[this.encodingLength-1]|=R.getX().isOdd()?128:0,Z},y.prototype.decodePoint=function(R){R=b.parseBytes(R);var Z=R.length-1,T=R.slice(0,Z).concat(R[Z]&-129),M=(R[Z]&128)!==0,$=b.intFromLE(T);return this.curve.pointFromY($,M)},y.prototype.encodeInt=function(R){return R.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(R){return b.intFromLE(R)},y.prototype.isPoint=function(R){return R instanceof this.pointClass}}),nl=Fo((l)=>{var p=l;p.version=Ac().version,p.utils=Pa(),p.rand=Cs(),p.curve=Vr(),p.curves=el(),p.ec=pu(),p.eddsa=_u()}),Ur=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),sl=Fo((l,p)=>{var r=Xa(),v=r.Buffer,b={},x;for(x in r)!r.hasOwnProperty(x)||x==="SlowBuffer"||x==="Buffer"||(b[x]=r[x]);var u=b.Buffer={};for(x in v)!v.hasOwnProperty(x)||x==="allocUnsafe"||x==="allocUnsafeSlow"||(u[x]=v[x]);if(b.Buffer.prototype=v.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(k,L,y){if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof k);if(k&&typeof k.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);return v(k,L,y)}),u.alloc||(u.alloc=function(k,L,y){if(typeof k!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof k);if(k<0||k>=2147483648)throw new RangeError('The value "'+k+'" is invalid for option "size"');var R=v(k);return!L||L.length===0?R.fill(0):typeof y=="string"?R.fill(L,y):R.fill(L),R}),!b.kStringMaxLength)try{b.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}b.constants||(b.constants={MAX_LENGTH:b.kMaxLength},b.kStringMaxLength&&(b.constants.MAX_STRING_LENGTH=b.kStringMaxLength)),p.exports=b}),ll=Fo((l)=>{var p=pa();function r(b){this._reporterState={obj:null,path:[],options:b||{},errors:[]}}l.Reporter=r,r.prototype.isError=function(b){return b instanceof v},r.prototype.save=function(){let b=this._reporterState;return{obj:b.obj,pathLen:b.path.length}},r.prototype.restore=function(b){let x=this._reporterState;x.obj=b.obj,x.path=x.path.slice(0,b.pathLen)},r.prototype.enterKey=function(b){return this._reporterState.path.push(b)},r.prototype.exitKey=function(b){let x=this._reporterState;x.path=x.path.slice(0,b-1)},r.prototype.leaveKey=function(b,x,u){let k=this._reporterState;this.exitKey(b),k.obj!==null&&(k.obj[x]=u)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){let b=this._reporterState,x=b.obj;return b.obj={},x},r.prototype.leaveObject=function(b){let x=this._reporterState,u=x.obj;return x.obj=b,u},r.prototype.error=function(b){let x,u=this._reporterState,k=b instanceof v;if(k?x=b:x=new v(u.path.map(function(L){return"["+JSON.stringify(L)+"]"}).join(""),b.message||b,b.stack),!u.options.partial)throw x;return k||u.errors.push(x),x},r.prototype.wrapResult=function(b){let x=this._reporterState;return x.options.partial?{result:this.isError(b)?null:b,errors:x.errors}:b};function v(b,x){this.path=b,this.rethrow(x)}p(v,Error),v.prototype.rethrow=function(b){if(this.message=b+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,v),!this.stack)try{throw new Error(this.message)}catch(x){this.stack=x.stack}return this}}),Nn=Fo((l)=>{var p=pa(),r=ll().Reporter,v=sl().Buffer;function b(u,k){if(r.call(this,k),!v.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}p(b,r),l.DecoderBuffer=b,b.isDecoderBuffer=function(u){return u instanceof b?!0:typeof u=="object"&&v.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},b.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},b.prototype.restore=function(u){let k=new b(this.base);return k.offset=u.offset,k.length=this.offset,this.offset=u.offset,r.prototype.restore.call(this,u.reporter),k},b.prototype.isEmpty=function(){return this.offset===this.length},b.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},b.prototype.skip=function(u,k){if(!(this.offset+u<=this.length))return this.error(k||"DecoderBuffer overrun");let L=new b(this.base);return L._reporterState=this._reporterState,L.offset=this.offset,L.length=this.offset+u,this.offset+=u,L},b.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function x(u,k){if(Array.isArray(u))this.length=0,this.value=u.map(function(L){return x.isEncoderBuffer(L)||(L=new x(L,k)),this.length+=L.length,L},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return k.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=v.byteLength(u);else if(v.isBuffer(u))this.value=u,this.length=u.length;else return k.error("Unsupported type: "+typeof u)}l.EncoderBuffer=x,x.isEncoderBuffer=function(u){return u instanceof x?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},x.prototype.join=function(u,k){return u||(u=v.alloc(this.length)),k||(k=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(L){L.join(u,k),k+=L.length}):(typeof this.value=="number"?u[k]=this.value:typeof this.value=="string"?u.write(this.value,k):v.isBuffer(this.value)&&this.value.copy(u,k),k+=this.length)),u}}),rl=Fo((l,p)=>{var r=ll().Reporter,v=Nn().EncoderBuffer,b=Nn().DecoderBuffer,x=Ea(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],k=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),L=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(Z,T,M){let $={};this._baseState=$,$.name=M,$.enc=Z,$.parent=T||null,$.children=null,$.tag=null,$.args=null,$.reverseArgs=null,$.choice=null,$.optional=!1,$.any=!1,$.obj=!1,$.use=null,$.useDecoder=null,$.key=null,$.default=null,$.explicit=null,$.implicit=null,$.contains=null,$.parent||($.children=[],this._wrap())}p.exports=y;var R=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];y.prototype.clone=function(){let Z=this._baseState,T={};R.forEach(function($){T[$]=Z[$]});let M=new this.constructor(T.parent);return M._baseState=T,M},y.prototype._wrap=function(){let Z=this._baseState;k.forEach(function(T){this[T]=function(){let M=new this.constructor(this);return Z.children.push(M),M[T].apply(M,arguments)}},this)},y.prototype._init=function(Z){let T=this._baseState;x(T.parent===null),Z.call(this),T.children=T.children.filter(function(M){return M._baseState.parent===this},this),x.equal(T.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(Z){let T=this._baseState,M=Z.filter(function($){return $ instanceof this.constructor},this);Z=Z.filter(function($){return!($ instanceof this.constructor)},this),M.length!==0&&(x(T.children===null),T.children=M,M.forEach(function($){$._baseState.parent=this},this)),Z.length!==0&&(x(T.args===null),T.args=Z,T.reverseArgs=Z.map(function($){if(typeof $!="object"||$.constructor!==Object)return $;let q={};return Object.keys($).forEach(function(g){g==(g|0)&&(g|=0);let w=$[g];q[w]=g}),q}))},L.forEach(function(Z){y.prototype[Z]=function(){let T=this._baseState;throw new Error(Z+" not implemented for encoding: "+T.enc)}}),u.forEach(function(Z){y.prototype[Z]=function(){let T=this._baseState,M=Array.prototype.slice.call(arguments);return x(T.tag===null),T.tag=Z,this._useArgs(M),this}}),y.prototype.use=function(Z){x(Z);let T=this._baseState;return x(T.use===null),T.use=Z,this},y.prototype.optional=function(){let Z=this._baseState;return Z.optional=!0,this},y.prototype.def=function(Z){let T=this._baseState;return x(T.default===null),T.default=Z,T.optional=!0,this},y.prototype.explicit=function(Z){let T=this._baseState;return x(T.explicit===null&&T.implicit===null),T.explicit=Z,this},y.prototype.implicit=function(Z){let T=this._baseState;return x(T.explicit===null&&T.implicit===null),T.implicit=Z,this},y.prototype.obj=function(){let Z=this._baseState,T=Array.prototype.slice.call(arguments);return Z.obj=!0,T.length!==0&&this._useArgs(T),this},y.prototype.key=function(Z){let T=this._baseState;return x(T.key===null),T.key=Z,this},y.prototype.any=function(){let Z=this._baseState;return Z.any=!0,this},y.prototype.choice=function(Z){let T=this._baseState;return x(T.choice===null),T.choice=Z,this._useArgs(Object.keys(Z).map(function(M){return Z[M]})),this},y.prototype.contains=function(Z){let T=this._baseState;return x(T.use===null),T.contains=Z,this},y.prototype._decode=function(Z,T){let M=this._baseState;if(M.parent===null)return Z.wrapResult(M.children[0]._decode(Z,T));let $=M.default,q=!0,g=null;if(M.key!==null&&(g=Z.enterKey(M.key)),M.optional){let I=null;if(M.explicit!==null?I=M.explicit:M.implicit!==null?I=M.implicit:M.tag!==null&&(I=M.tag),I===null&&!M.any){let W=Z.save();try{M.choice===null?this._decodeGeneric(M.tag,Z,T):this._decodeChoice(Z,T),q=!0}catch{q=!1}Z.restore(W)}else if(q=this._peekTag(Z,I,M.any),Z.isError(q))return q}let w;if(M.obj&&q&&(w=Z.enterObject()),q){if(M.explicit!==null){let W=this._decodeTag(Z,M.explicit);if(Z.isError(W))return W;Z=W}let I=Z.offset;if(M.use===null&&M.choice===null){let W;M.any&&(W=Z.save());let E=this._decodeTag(Z,M.implicit!==null?M.implicit:M.tag,M.any);if(Z.isError(E))return E;M.any?$=Z.raw(W):Z=E}if(T&&T.track&&M.tag!==null&&T.track(Z.path(),I,Z.length,"tagged"),T&&T.track&&M.tag!==null&&T.track(Z.path(),Z.offset,Z.length,"content"),M.any||(M.choice===null?$=this._decodeGeneric(M.tag,Z,T):$=this._decodeChoice(Z,T)),Z.isError($))return $;if(!M.any&&M.choice===null&&M.children!==null&&M.children.forEach(function(W){W._decode(Z,T)}),M.contains&&(M.tag==="octstr"||M.tag==="bitstr")){let W=new b($);$=this._getUse(M.contains,Z._reporterState.obj)._decode(W,T)}}return M.obj&&q&&($=Z.leaveObject(w)),M.key!==null&&($!==null||q===!0)?Z.leaveKey(g,M.key,$):g!==null&&Z.exitKey(g),$},y.prototype._decodeGeneric=function(Z,T,M){let $=this._baseState;return Z==="seq"||Z==="set"?null:Z==="seqof"||Z==="setof"?this._decodeList(T,Z,$.args[0],M):/str$/.test(Z)?this._decodeStr(T,Z,M):Z==="objid"&&$.args?this._decodeObjid(T,$.args[0],$.args[1],M):Z==="objid"?this._decodeObjid(T,null,null,M):Z==="gentime"||Z==="utctime"?this._decodeTime(T,Z,M):Z==="null_"?this._decodeNull(T,M):Z==="bool"?this._decodeBool(T,M):Z==="objDesc"?this._decodeStr(T,Z,M):Z==="int"||Z==="enum"?this._decodeInt(T,$.args&&$.args[0],M):$.use!==null?this._getUse($.use,T._reporterState.obj)._decode(T,M):T.error("unknown tag: "+Z)},y.prototype._getUse=function(Z,T){let M=this._baseState;return M.useDecoder=this._use(Z,T),x(M.useDecoder._baseState.parent===null),M.useDecoder=M.useDecoder._baseState.children[0],M.implicit!==M.useDecoder._baseState.implicit&&(M.useDecoder=M.useDecoder.clone(),M.useDecoder._baseState.implicit=M.implicit),M.useDecoder},y.prototype._decodeChoice=function(Z,T){let M=this._baseState,$=null,q=!1;return Object.keys(M.choice).some(function(g){let w=Z.save(),I=M.choice[g];try{let W=I._decode(Z,T);if(Z.isError(W))return!1;$={type:g,value:W},q=!0}catch{return Z.restore(w),!1}return!0},this),q?$:Z.error("Choice not matched")},y.prototype._createEncoderBuffer=function(Z){return new v(Z,this.reporter)},y.prototype._encode=function(Z,T,M){let $=this._baseState;if($.default!==null&&$.default===Z)return;let q=this._encodeValue(Z,T,M);if(q!==void 0&&!this._skipDefault(q,T,M))return q},y.prototype._encodeValue=function(Z,T,M){let $=this._baseState;if($.parent===null)return $.children[0]._encode(Z,T||new r);let q=null;if(this.reporter=T,$.optional&&Z===void 0)if($.default!==null)Z=$.default;else return;let g=null,w=!1;if($.any)q=this._createEncoderBuffer(Z);else if($.choice)q=this._encodeChoice(Z,T);else if($.contains)g=this._getUse($.contains,M)._encode(Z,T),w=!0;else if($.children)g=$.children.map(function(I){if(I._baseState.tag==="null_")return I._encode(null,T,Z);if(I._baseState.key===null)return T.error("Child should have a key");let W=T.enterKey(I._baseState.key);if(typeof Z!="object")return T.error("Child expected, but input is not object");let E=I._encode(Z[I._baseState.key],T,Z);return T.leaveKey(W),E},this).filter(function(I){return I}),g=this._createEncoderBuffer(g);else if($.tag==="seqof"||$.tag==="setof"){if(!($.args&&$.args.length===1))return T.error("Too many args for : "+$.tag);if(!Array.isArray(Z))return T.error("seqof/setof, but data is not Array");let I=this.clone();I._baseState.implicit=null,g=this._createEncoderBuffer(Z.map(function(W){let E=this._baseState;return this._getUse(E.args[0],Z)._encode(W,T)},I))}else $.use!==null?q=this._getUse($.use,M)._encode(Z,T):(g=this._encodePrimitive($.tag,Z),w=!0);if(!$.any&&$.choice===null){let I=$.implicit!==null?$.implicit:$.tag,W=$.implicit===null?"universal":"context";I===null?$.use===null&&T.error("Tag could be omitted only for .use()"):$.use===null&&(q=this._encodeComposite(I,w,W,g))}return $.explicit!==null&&(q=this._encodeComposite($.explicit,!1,"context",q)),q},y.prototype._encodeChoice=function(Z,T){let M=this._baseState,$=M.choice[Z.type];return $||x(!1,Z.type+" not found in "+JSON.stringify(Object.keys(M.choice))),$._encode(Z.value,T)},y.prototype._encodePrimitive=function(Z,T){let M=this._baseState;if(/str$/.test(Z))return this._encodeStr(T,Z);if(Z==="objid"&&M.args)return this._encodeObjid(T,M.reverseArgs[0],M.args[1]);if(Z==="objid")return this._encodeObjid(T,null,null);if(Z==="gentime"||Z==="utctime")return this._encodeTime(T,Z);if(Z==="null_")return this._encodeNull();if(Z==="int"||Z==="enum")return this._encodeInt(T,M.args&&M.reverseArgs[0]);if(Z==="bool")return this._encodeBool(T);if(Z==="objDesc")return this._encodeStr(T,Z);throw new Error("Unsupported tag: "+Z)},y.prototype._isNumstr=function(Z){return/^[0-9 ]*$/.test(Z)},y.prototype._isPrintstr=function(Z){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(Z)}}),il=Fo((l)=>{function p(r){let v={};return Object.keys(r).forEach(function(b){(b|0)==b&&(b=b|0);let x=r[b];v[x]=b}),v}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=p(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=p(l.tag)}),Xr=Fo((l,p)=>{var r=pa(),v=sl().Buffer,b=rl(),x=il();function u(R){this.enc="der",this.name=R.name,this.entity=R,this.tree=new k,this.tree._init(R.body)}p.exports=u,u.prototype.encode=function(R,Z){return this.tree._encode(R,Z).join()};function k(R){b.call(this,"der",R)}r(k,b),k.prototype._encodeComposite=function(R,Z,T,M){let $=y(R,Z,T,this.reporter);if(M.length<128){let w=v.alloc(2);return w[0]=$,w[1]=M.length,this._createEncoderBuffer([w,M])}let q=1;for(let w=M.length;w>=256;w>>=8)q++;let g=v.alloc(2+q);g[0]=$,g[1]=128|q;for(let w=1+q,I=M.length;I>0;w--,I>>=8)g[w]=I&255;return this._createEncoderBuffer([g,M])},k.prototype._encodeStr=function(R,Z){if(Z==="bitstr")return this._createEncoderBuffer([R.unused|0,R.data]);if(Z==="bmpstr"){let T=v.alloc(R.length*2);for(let M=0;M<R.length;M++)T.writeUInt16BE(R.charCodeAt(M),M*2);return this._createEncoderBuffer(T)}else return Z==="numstr"?this._isNumstr(R)?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Z==="printstr"?this._isPrintstr(R)?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Z)?this._createEncoderBuffer(R):Z==="objDesc"?this._createEncoderBuffer(R):this.reporter.error("Encoding of string type: "+Z+" unsupported")},k.prototype._encodeObjid=function(R,Z,T){if(typeof R=="string"){if(!Z)return this.reporter.error("string objid given, but no values map found");if(!Z.hasOwnProperty(R))return this.reporter.error("objid not found in values map");R=Z[R].split(/[\s.]+/g);for(let g=0;g<R.length;g++)R[g]|=0}else if(Array.isArray(R)){R=R.slice();for(let g=0;g<R.length;g++)R[g]|=0}if(!Array.isArray(R))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(R));if(!T){if(R[1]>=40)return this.reporter.error("Second objid identifier OOB");R.splice(0,2,R[0]*40+R[1])}let M=0;for(let g=0;g<R.length;g++){let w=R[g];for(M++;w>=128;w>>=7)M++}let $=v.alloc(M),q=$.length-1;for(let g=R.length-1;g>=0;g--){let w=R[g];for($[q--]=w&127;(w>>=7)>0;)$[q--]=128|w&127}return this._createEncoderBuffer($)};function L(R){return R<10?"0"+R:R}k.prototype._encodeTime=function(R,Z){let T,M=new Date(R);return Z==="gentime"?T=[L(M.getUTCFullYear()),L(M.getUTCMonth()+1),L(M.getUTCDate()),L(M.getUTCHours()),L(M.getUTCMinutes()),L(M.getUTCSeconds()),"Z"].join(""):Z==="utctime"?T=[L(M.getUTCFullYear()%100),L(M.getUTCMonth()+1),L(M.getUTCDate()),L(M.getUTCHours()),L(M.getUTCMinutes()),L(M.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Z+" time is not supported yet"),this._encodeStr(T,"octstr")},k.prototype._encodeNull=function(){return this._createEncoderBuffer("")},k.prototype._encodeInt=function(R,Z){if(typeof R=="string"){if(!Z)return this.reporter.error("String int or enum given, but no values map");if(!Z.hasOwnProperty(R))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(R));R=Z[R]}if(typeof R!="number"&&!v.isBuffer(R)){let $=R.toArray();!R.sign&&$[0]&128&&$.unshift(0),R=v.from($)}if(v.isBuffer(R)){let $=R.length;R.length===0&&$++;let q=v.alloc($);return R.copy(q),R.length===0&&(q[0]=0),this._createEncoderBuffer(q)}if(R<128)return this._createEncoderBuffer(R);if(R<256)return this._createEncoderBuffer([0,R]);let T=1;for(let $=R;$>=256;$>>=8)T++;let M=new Array(T);for(let $=M.length-1;$>=0;$--)M[$]=R&255,R>>=8;return M[0]&128&&M.unshift(0),this._createEncoderBuffer(v.from(M))},k.prototype._encodeBool=function(R){return this._createEncoderBuffer(R?255:0)},k.prototype._use=function(R,Z){return typeof R=="function"&&(R=R(Z)),R._getEncoder("der").tree},k.prototype._skipDefault=function(R,Z,T){let M=this._baseState,$;if(M.default===null)return!1;let q=R.join();if(M.defaultBuffer===void 0&&(M.defaultBuffer=this._encodeValue(M.default,Z,T).join()),q.length!==M.defaultBuffer.length)return!1;for($=0;$<q.length;$++)if(q[$]!==M.defaultBuffer[$])return!1;return!0};function y(R,Z,T,M){let $;if(R==="seqof"?R="seq":R==="setof"&&(R="set"),x.tagByName.hasOwnProperty(R))$=x.tagByName[R];else if(typeof R=="number"&&(R|0)===R)$=R;else return M.error("Unknown tag: "+R);return $>=31?M.error("Multi-octet tag encoding unsupported"):(Z||($|=32),$|=x.tagClassByName[T||"universal"]<<6,$)}}),ku=Fo((l,p)=>{var r=pa(),v=Xr();function b(x){v.call(this,x),this.enc="pem"}r(b,v),p.exports=b,b.prototype.encode=function(x,u){let k=v.prototype.encode.call(this,x).toString("base64"),L=["-----BEGIN "+u.label+"-----"];for(let y=0;y<k.length;y+=64)L.push(k.slice(y,y+64));return L.push("-----END "+u.label+"-----"),L.join(`
`)}}),gr=Fo((l)=>{var p=l;p.der=Xr(),p.pem=ku()}),Sr=Fo((l,p)=>{var r=pa(),v=Ur(),b=Nn().DecoderBuffer,x=rl(),u=il();function k(Z){this.enc="der",this.name=Z.name,this.entity=Z,this.tree=new L,this.tree._init(Z.body)}p.exports=k,k.prototype.decode=function(Z,T){return b.isDecoderBuffer(Z)||(Z=new b(Z,T)),this.tree._decode(Z,T)};function L(Z){x.call(this,"der",Z)}r(L,x),L.prototype._peekTag=function(Z,T,M){if(Z.isEmpty())return!1;let $=Z.save(),q=y(Z,'Failed to peek tag: "'+T+'"');return Z.isError(q)?q:(Z.restore($),q.tag===T||q.tagStr===T||q.tagStr+"of"===T||M)},L.prototype._decodeTag=function(Z,T,M){let $=y(Z,'Failed to decode tag of "'+T+'"');if(Z.isError($))return $;let q=R(Z,$.primitive,'Failed to get length of "'+T+'"');if(Z.isError(q))return q;if(!M&&$.tag!==T&&$.tagStr!==T&&$.tagStr+"of"!==T)return Z.error('Failed to match tag: "'+T+'"');if($.primitive||q!==null)return Z.skip(q,'Failed to match body of: "'+T+'"');let g=Z.save(),w=this._skipUntilEnd(Z,'Failed to skip indefinite length body: "'+this.tag+'"');return Z.isError(w)?w:(q=Z.offset-g.offset,Z.restore(g),Z.skip(q,'Failed to match body of: "'+T+'"'))},L.prototype._skipUntilEnd=function(Z,T){for(;;){let M=y(Z,T);if(Z.isError(M))return M;let $=R(Z,M.primitive,T);if(Z.isError($))return $;let q;if(M.primitive||$!==null?q=Z.skip($):q=this._skipUntilEnd(Z,T),Z.isError(q))return q;if(M.tagStr==="end")break}},L.prototype._decodeList=function(Z,T,M,$){let q=[];for(;!Z.isEmpty();){let g=this._peekTag(Z,"end");if(Z.isError(g))return g;let w=M.decode(Z,"der",$);if(Z.isError(w)&&g)break;q.push(w)}return q},L.prototype._decodeStr=function(Z,T){if(T==="bitstr"){let M=Z.readUInt8();return Z.isError(M)?M:{unused:M,data:Z.raw()}}else if(T==="bmpstr"){let M=Z.raw();if(M.length%2===1)return Z.error("Decoding of string type: bmpstr length mismatch");let $="";for(let q=0;q<M.length/2;q++)$+=String.fromCharCode(M.readUInt16BE(q*2));return $}else if(T==="numstr"){let M=Z.raw().toString("ascii");return this._isNumstr(M)?M:Z.error("Decoding of string type: numstr unsupported characters")}else{if(T==="octstr")return Z.raw();if(T==="objDesc")return Z.raw();if(T==="printstr"){let M=Z.raw().toString("ascii");return this._isPrintstr(M)?M:Z.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(T)?Z.raw().toString():Z.error("Decoding of string type: "+T+" unsupported")}},L.prototype._decodeObjid=function(Z,T,M){let $,q=[],g=0,w=0;for(;!Z.isEmpty();)w=Z.readUInt8(),g<<=7,g|=w&127,(w&128)===0&&(q.push(g),g=0);w&128&&q.push(g);let I=q[0]/40|0,W=q[0]%40;if(M?$=q:$=[I,W].concat(q.slice(1)),T){let E=T[$.join(" ")];E===void 0&&(E=T[$.join(".")]),E!==void 0&&($=E)}return $},L.prototype._decodeTime=function(Z,T){let M=Z.raw().toString(),$,q,g,w,I,W;if(T==="gentime")$=M.slice(0,4)|0,q=M.slice(4,6)|0,g=M.slice(6,8)|0,w=M.slice(8,10)|0,I=M.slice(10,12)|0,W=M.slice(12,14)|0;else if(T==="utctime")$=M.slice(0,2)|0,q=M.slice(2,4)|0,g=M.slice(4,6)|0,w=M.slice(6,8)|0,I=M.slice(8,10)|0,W=M.slice(10,12)|0,$<70?$=2000+$:$=1900+$;else return Z.error("Decoding "+T+" time is not supported yet");return Date.UTC($,q-1,g,w,I,W,0)},L.prototype._decodeNull=function(){return null},L.prototype._decodeBool=function(Z){let T=Z.readUInt8();return Z.isError(T)?T:T!==0},L.prototype._decodeInt=function(Z,T){let M=Z.raw(),$=new v(M);return T&&($=T[$.toString(10)]||$),$},L.prototype._use=function(Z,T){return typeof Z=="function"&&(Z=Z(T)),Z._getDecoder("der").tree};function y(Z,T){let M=Z.readUInt8(T);if(Z.isError(M))return M;let $=u.tagClass[M>>6],q=(M&32)===0;if((M&31)===31){let w=M;for(M=0;(w&128)===128;){if(w=Z.readUInt8(T),Z.isError(w))return w;M<<=7,M|=w&127}}else M&=31;let g=u.tag[M];return{cls:$,primitive:q,tag:M,tagStr:g}}function R(Z,T,M){let $=Z.readUInt8(M);if(Z.isError($))return $;if(!T&&$===128)return null;if(($&128)===0)return $;let q=$&127;if(q>4)return Z.error("length octect is too long");$=0;for(let g=0;g<q;g++){$<<=8;let w=Z.readUInt8(M);if(Z.isError(w))return w;$|=w}return $}}),hu=Fo((l,p)=>{var r=pa(),v=sl().Buffer,b=Sr();function x(u){b.call(this,u),this.enc="pem"}r(x,b),p.exports=x,x.prototype.decode=function(u,k){let L=u.toString().split(/[\r\n]+/g),y=k.label.toUpperCase(),R=/^-----(BEGIN|END) ([^-]+)-----$/,Z=-1,T=-1;for(let q=0;q<L.length;q++){let g=L[q].match(R);if(g!==null&&g[2]===y)if(Z===-1){if(g[1]!=="BEGIN")break;Z=q}else{if(g[1]!=="END")break;T=q;break}}if(Z===-1||T===-1)throw new Error("PEM section not found for: "+y);let M=L.slice(Z+1,T).join("");M.replace(/[^a-z0-9+/=]+/gi,"");let $=v.from(M,"base64");return b.prototype.decode.call(this,$,k)}}),Wr=Fo((l)=>{var p=l;p.der=Sr(),p.pem=hu()}),Nu=Fo((l)=>{var p=gr(),r=Wr(),v=pa(),b=l;b.define=function(u,k){return new x(u,k)};function x(u,k){this.name=u,this.body=k,this.decoders={},this.encoders={}}x.prototype._createNamed=function(u){let k=this.name;function L(y){this._initNamed(y,k)}return v(L,u),L.prototype._initNamed=function(y,R){u.call(this,y,R)},new L(this)},x.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(r[u])),this.decoders[u]},x.prototype.decode=function(u,k,L){return this._getDecoder(k).decode(u,L)},x.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(p[u])),this.encoders[u]},x.prototype.encode=function(u,k,L){return this._getEncoder(k).encode(u,L)}}),vu=Fo((l)=>{var p=l;p.Reporter=ll().Reporter,p.DecoderBuffer=Nn().DecoderBuffer,p.EncoderBuffer=Nn().EncoderBuffer,p.Node=rl()}),Zu=Fo((l)=>{var p=l;p._reverse=function(r){let v={};return Object.keys(r).forEach(function(b){(b|0)==b&&(b=b|0);let x=r[b];v[x]=b}),v},p.der=il()}),jr=Fo((l)=>{var p=l;p.bignum=Ur(),p.define=Nu().define,p.base=vu(),p.constants=Zu(),p.decoders=Wr(),p.encoders=gr()}),yu=Fo((l,p)=>{var r=jr(),v=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),b=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),k=r.define("RelativeDistinguishedName",function(){this.setof(b)}),L=r.define("RDNSequence",function(){this.seqof(k)}),y=r.define("Name",function(){this.choice({rdnSequence:this.use(L)})}),R=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(v),this.key("notAfter").use(v))}),Z=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),T=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(y),this.key("validity").use(R),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Z).optional())}),M=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(T),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});p.exports=M}),Ru=Fo((l)=>{var p=jr();l.certificate=yu();var r=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=r;var v=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=v;var b=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())});l.PublicKey=b;var x=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(x),this.key("subjectPrivateKey").octstr())});l.PrivateKey=u;var k=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=k;var L=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=L,l.DSAparam=p.define("DSAparam",function(){this.int()});var y=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(R),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=y;var R=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),xu=Fo((l,p)=>{p.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),qu=Fo((l,p)=>{var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,v=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,b=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,x=Bn(),u=Qs(),k=ka().Buffer;p.exports=function(L,y){var R=L.toString(),Z=R.match(r),T;if(Z){var M="aes"+Z[1],$=k.from(Z[2],"hex"),q=k.from(Z[3].replace(/[\r\n]/g,""),"base64"),g=x(y,$.slice(0,8),parseInt(Z[1],10)).key,w=[],I=u.createDecipheriv(M,g,$);w.push(I.update(q)),w.push(I.final()),T=k.concat(w)}else{var W=R.match(b);T=k.from(W[2].replace(/[\r\n]/g,""),"base64")}var E=R.match(v)[1];return{tag:E,data:T}}}),os=Fo((l,p)=>{var r=Ru(),v=xu(),b=qu(),x=Qs(),u=mr(),k=ka().Buffer;p.exports=L;function L(R){var Z;typeof R=="object"&&!k.isBuffer(R)&&(Z=R.passphrase,R=R.key),typeof R=="string"&&(R=k.from(R));var T=b(R,Z),M=T.tag,$=T.data,q,g;switch(M){case"CERTIFICATE":g=r.certificate.decode($,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=r.PublicKey.decode($,"der")),q=g.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=r.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+q)}case"ENCRYPTED PRIVATE KEY":$=r.EncryptedPrivateKey.decode($,"der"),$=y($,Z);case"PRIVATE KEY":switch(g=r.PrivateKey.decode($,"der"),q=g.algorithm.algorithm.join("."),q){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:r.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=r.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+q)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode($,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode($,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode($,"der")};case"EC PRIVATE KEY":return $=r.ECPrivateKey.decode($,"der"),{curve:$.parameters.value,privateKey:$.privateKey};default:throw new Error("unknown key type "+M)}}L.signature=r.signature;function y(R,Z){var T=R.algorithm.decrypt.kde.kdeparams.salt,M=parseInt(R.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=v[R.algorithm.decrypt.cipher.algo.join(".")],q=R.algorithm.decrypt.cipher.iv,g=R.subjectPrivateKey,w=parseInt($.split("-")[1],10)/8,I=u.pbkdf2Sync(Z,T,M,w,"sha1"),W=x.createDecipheriv($,I,q),E=[];return E.push(W.update(g)),E.push(W.final()),k.concat(E)}}),wr=Fo((l,p)=>{p.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),$u=Fo((l,p)=>{var r=ka().Buffer,v=sr(),b=ol(),x=nl().ec,u=As(),k=os(),L=wr();function y(I,W,E,D,C){var uo=k(W);if(uo.curve){if(D!=="ecdsa"&&D!=="ecdsa/rsa")throw new Error("wrong private key type");return R(I,uo)}else if(uo.type==="dsa"){if(D!=="dsa")throw new Error("wrong private key type");return Z(I,uo,E)}else if(D!=="rsa"&&D!=="ecdsa/rsa")throw new Error("wrong private key type");I=r.concat([C,I]);for(var po=uo.modulus.byteLength(),To=[0,1];I.length+To.length+1<po;)To.push(255);To.push(0);for(var co=-1;++co<I.length;)To.push(I[co]);var Lo=b(To,uo);return Lo}function R(I,W){var E=L[W.curve.join(".")];if(!E)throw new Error("unknown curve "+W.curve.join("."));var D=new x(E),C=D.keyFromPrivate(W.privateKey),uo=C.sign(I);return r.from(uo.toDER())}function Z(I,W,E){for(var D=W.params.priv_key,C=W.params.p,uo=W.params.q,po=W.params.g,To=new u(0),co,Lo=$(I,uo).mod(uo),o=!1,n=M(D,uo,I,E);o===!1;)co=g(uo,n,E),To=w(po,co,C,uo),o=co.invm(uo).imul(Lo.add(D.mul(To))).mod(uo),o.cmpn(0)===0&&(o=!1,To=new u(0));return T(To,o)}function T(I,W){I=I.toArray(),W=W.toArray(),I[0]&128&&(I=[0].concat(I)),W[0]&128&&(W=[0].concat(W));var E=I.length+W.length+4,D=[48,E,2,I.length];return D=D.concat(I,[2,W.length],W),r.from(D)}function M(I,W,E,D){if(I=r.from(I.toArray()),I.length<W.byteLength()){var C=r.alloc(W.byteLength()-I.length);I=r.concat([C,I])}var uo=E.length,po=q(E,W),To=r.alloc(uo);To.fill(1);var co=r.alloc(uo);return co=v(D,co).update(To).update(r.from([0])).update(I).update(po).digest(),To=v(D,co).update(To).digest(),co=v(D,co).update(To).update(r.from([1])).update(I).update(po).digest(),To=v(D,co).update(To).digest(),{k:co,v:To}}function $(I,W){var E=new u(I),D=(I.length<<3)-W.bitLength();return D>0&&E.ishrn(D),E}function q(I,W){I=$(I,W),I=I.mod(W);var E=r.from(I.toArray());if(E.length<W.byteLength()){var D=r.alloc(W.byteLength()-E.length);E=r.concat([D,E])}return E}function g(I,W,E){var D,C;do{for(D=r.alloc(0);D.length*8<I.bitLength();)W.v=v(E,W.k).update(W.v).digest(),D=r.concat([D,W.v]);C=$(D,I),W.k=v(E,W.k).update(W.v).update(r.from([0])).digest(),W.v=v(E,W.k).update(W.v).digest()}while(C.cmp(I)!==-1);return C}function w(I,W,E,D){return I.toRed(u.mont(E)).redPow(W).fromRed().mod(D)}p.exports=y,p.exports.getKey=M,p.exports.makeKey=g}),Tu=Fo((l,p)=>{var r=ka().Buffer,v=As(),b=nl().ec,x=os(),u=wr();function k(Z,T,M,$,q){var g=x(M);if(g.type==="ec"){if($!=="ecdsa"&&$!=="ecdsa/rsa")throw new Error("wrong public key type");return L(Z,T,g)}else if(g.type==="dsa"){if($!=="dsa")throw new Error("wrong public key type");return y(Z,T,g)}else if($!=="rsa"&&$!=="ecdsa/rsa")throw new Error("wrong public key type");T=r.concat([q,T]);for(var w=g.modulus.byteLength(),I=[1],W=0;T.length+I.length+2<w;)I.push(255),W++;I.push(0);for(var E=-1;++E<T.length;)I.push(T[E]);I=r.from(I);var D=v.mont(g.modulus);Z=new v(Z).toRed(D),Z=Z.redPow(new v(g.publicExponent)),Z=r.from(Z.fromRed().toArray());var C=W<8?1:0;for(w=Math.min(Z.length,I.length),Z.length!==I.length&&(C=1),E=-1;++E<w;)C|=Z[E]^I[E];return C===0}function L(Z,T,M){var $=u[M.data.algorithm.curve.join(".")];if(!$)throw new Error("unknown curve "+M.data.algorithm.curve.join("."));var q=new b($),g=M.data.subjectPrivateKey.data;return q.verify(T,Z,g)}function y(Z,T,M){var $=M.data.p,q=M.data.q,g=M.data.g,w=M.data.pub_key,I=x.signature.decode(Z,"der"),W=I.s,E=I.r;R(W,q),R(E,q);var D=v.mont($),C=W.invm(q),uo=g.toRed(D).redPow(new v(T).mul(C).mod(q)).fromRed().mul(w.toRed(D).redPow(E.mul(C).mod(q)).fromRed()).mod($).mod(q);return uo.cmp(E)===0}function R(Z,T){if(Z.cmpn(0)<=0)throw new Error("invalid sig");if(Z.cmp(T)>=T)throw new Error("invalid sig")}p.exports=k}),Vu=Fo((l,p)=>{var r=ka().Buffer,v=_n(),b=Bc(),x=pa(),u=$u(),k=Tu(),L=lr();Object.keys(L).forEach(function(M){L[M].id=r.from(L[M].id,"hex"),L[M.toLowerCase()]=L[M]});function y(M){b.Writable.call(this);var $=L[M];if(!$)throw new Error("Unknown message digest");this._hashType=$.hash,this._hash=v($.hash),this._tag=$.id,this._signType=$.sign}x(y,b.Writable),y.prototype._write=function(M,$,q){this._hash.update(M),q()},y.prototype.update=function(M,$){return typeof M=="string"&&(M=r.from(M,$)),this._hash.update(M),this},y.prototype.sign=function(M,$){this.end();var q=this._hash.digest(),g=u(q,M,this._hashType,this._signType,this._tag);return $?g.toString($):g};function R(M){b.Writable.call(this);var $=L[M];if(!$)throw new Error("Unknown message digest");this._hash=v($.hash),this._tag=$.id,this._signType=$.sign}x(R,b.Writable),R.prototype._write=function(M,$,q){this._hash.update(M),q()},R.prototype.update=function(M,$){return typeof M=="string"&&(M=r.from(M,$)),this._hash.update(M),this},R.prototype.verify=function(M,$,q){typeof $=="string"&&($=r.from($,q)),this.end();var g=this._hash.digest();return k($,g,M,this._signType,this._tag)};function Z(M){return new y(M)}function T(M){return new R(M)}p.exports={Sign:Z,Verify:T,createSign:Z,createVerify:T}}),Mu=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),Lu=Fo((l,p)=>{var r=nl(),v=Mu();p.exports=function(k){return new x(k)};var b={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};b.p224=b.secp224r1,b.p256=b.secp256r1=b.prime256v1,b.p192=b.secp192r1=b.prime192v1,b.p384=b.secp384r1,b.p521=b.secp521r1;function x(k){this.curveType=b[k],this.curveType||(this.curveType={name:k}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}x.prototype.generateKeys=function(k,L){return this.keys=this.curve.genKeyPair(),this.getPublicKey(k,L)},x.prototype.computeSecret=function(k,L,y){L=L||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,L));var R=this.curve.keyFromPublic(k).getPublic(),Z=R.mul(this.keys.getPrivate()).getX();return u(Z,y,this.curveType.byteLength)},x.prototype.getPublicKey=function(k,L){var y=this.keys.getPublic(L==="compressed",!0);return L==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),u(y,k)},x.prototype.getPrivateKey=function(k){return u(this.keys.getPrivate(),k)},x.prototype.setPublicKey=function(k,L){return L=L||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,L)),this.keys._importPublic(k),this},x.prototype.setPrivateKey=function(k,L){L=L||"utf8",Buffer.isBuffer(k)||(k=new Buffer(k,L));var y=new v(k);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function u(k,L,y){Array.isArray(k)||(k=k.toArray());var R=new Buffer(k);if(y&&R.length<y){var Z=new Buffer(y-R.length);Z.fill(0),R=Buffer.concat([Z,R])}return L?R.toString(L):R}}),Fr=Fo((l,p)=>{var r=_n(),v=ka().Buffer;p.exports=function(x,u){for(var k=v.alloc(0),L=0,y;k.length<u;)y=b(L++),k=v.concat([k,r("sha1").update(x).update(y).digest()]);return k.slice(0,u)};function b(x){var u=v.allocUnsafe(4);return u.writeUInt32BE(x,0),u}}),Ir=Fo((l,p)=>{p.exports=function(r,v){for(var b=r.length,x=-1;++x<b;)r[x]^=v[x];return r}}),cl=Fo((l,p)=>{(function(r,v){function b(o,n){if(!o)throw new Error(n||"Assertion failed")}function x(o,n){o.super_=n;var c=function(){};c.prototype=n.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,n,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((n==="le"||n==="be")&&(c=n,n=10),this._init(o||0,n||10,c||"be"))}typeof r=="object"?r.exports=u:v.BN=u,u.BN=u,u.wordSize=26;var k;try{typeof window<"u"&&typeof window.Buffer<"u"?k=window.Buffer:k=Le().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,n){return o.cmp(n)>0?o:n},u.min=function(o,n){return o.cmp(n)<0?o:n},u.prototype._init=function(o,n,c){if(typeof o=="number")return this._initNumber(o,n,c);if(typeof o=="object")return this._initArray(o,n,c);n==="hex"&&(n=16),b(n===(n|0)&&n>=2&&n<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(n===16?this._parseHex(o,s,c):(this._parseBase(o,n,s),c==="le"&&this._initArray(this.toArray(),n,c)))},u.prototype._initNumber=function(o,n,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(b(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),n,c)},u.prototype._initArray=function(o,n,c){if(b(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m,_,h=0;if(c==="be")for(s=o.length-1,m=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);else if(c==="le")for(s=0,m=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[m]|=_<<h&67108863,this.words[m+1]=_>>>26-h&67108863,h+=24,h>=26&&(h-=26,m++);return this.strip()};function L(o,n){var c=o.charCodeAt(n);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,n,c){var s=L(o,c);return c-1>=n&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,n,c){this.length=Math.ceil((o.length-n)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var m=0,_=0,h;if(c==="be")for(s=o.length-1;s>=n;s-=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8;else{var d=o.length-n;for(s=d%2===0?n+1:n;s<o.length;s+=2)h=y(o,n,s)<<m,this.words[_]|=h&67108863,m>=18?(m-=18,_+=1,this.words[_]|=h>>>26):m+=8}this.strip()};function R(o,n,c,s){for(var m=0,_=Math.min(o.length,c),h=n;h<_;h++){var d=o.charCodeAt(h)-48;m*=s,d>=49?m+=d-49+10:d>=17?m+=d-17+10:m+=d}return m}u.prototype._parseBase=function(o,n,c){this.words=[0],this.length=1;for(var s=0,m=1;m<=67108863;m*=n)s++;s--,m=m/n|0;for(var _=o.length-c,h=_%s,d=Math.min(_,_-h)+c,a=0,t=c;t<d;t+=s)a=R(o,t,t+s,n),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(h!==0){var S=1;for(a=R(o,t,o.length,n),t=0;t<h;t++)S*=n;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var n=0;n<this.length;n++)o.words[n]=this.words[n];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,n){o=o||10,n=n|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,m=0,_=0;_<this.length;_++){var h=this.words[_],d=((h<<s|m)&16777215).toString(16);m=h>>>24-s&16777215,m!==0||_!==this.length-1?c=Z[6-d.length]+d+c:c=d+c,s+=2,s>=26&&(s-=26,_--)}for(m!==0&&(c=m.toString(16)+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],t=M[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var U=S.modn(t).toString(o);S=S.idivn(t),S.isZero()?c=U+c:c=Z[a-U.length]+U+c}for(this.isZero()&&(c="0"+c);c.length%n!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}b(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&b(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,n){return b(typeof k<"u"),this.toArrayLike(k,o,n)},u.prototype.toArray=function(o,n){return this.toArrayLike(Array,o,n)},u.prototype.toArrayLike=function(o,n,c){var s=this.byteLength(),m=c||Math.max(1,s);b(s<=m,"byte array longer than desired length"),b(m>0,"Requested array length <= 0"),this.strip();var _=n==="le",h=new o(m),d,a,t=this.clone();if(_){for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[a]=d;for(;a<m;a++)h[a]=0}else{for(a=0;a<m-s;a++)h[a]=0;for(a=0;!t.isZero();a++)d=t.andln(255),t.iushrn(8),h[m-a-1]=d}return h},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var n=o,c=0;return n>=4096&&(c+=13,n>>>=13),n>=64&&(c+=7,n>>>=7),n>=8&&(c+=4,n>>>=4),n>=2&&(c+=2,n>>>=2),c+n},u.prototype._zeroBits=function(o){if(o===0)return 26;var n=o,c=0;return(n&8191)===0&&(c+=13,n>>>=13),(n&127)===0&&(c+=7,n>>>=7),(n&15)===0&&(c+=4,n>>>=4),(n&3)===0&&(c+=2,n>>>=2),(n&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],n=this._countBits(o);return(this.length-1)*26+n};function $(o){for(var n=new Array(o.bitLength()),c=0;c<n.length;c++){var s=c/26|0,m=c%26;n[c]=(o.words[s]&1<<m)>>>m}return n}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,n=0;n<this.length;n++){var c=this._zeroBits(this.words[n]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var n=0;n<o.length;n++)this.words[n]=this.words[n]|o.words[n];return this.strip()},u.prototype.ior=function(o){return b((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var n;this.length>o.length?n=o:n=this;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=n.length,this.strip()},u.prototype.iand=function(o){return b((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var n,c;this.length>o.length?(n=this,c=o):(n=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=n.words[s]^c.words[s];if(this!==n)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=n.length,this.strip()},u.prototype.ixor=function(o){return b((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){b(typeof o=="number"&&o>=0);var n=Math.ceil(o/26)|0,c=o%26;this._expand(n),c>0&&n--;for(var s=0;s<n;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,n){b(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),n?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var n;if(this.negative!==0&&o.negative===0)return this.negative=0,n=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,n=this.isub(o),o.negative=1,n._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var m=0,_=0;_<s.length;_++)n=(c.words[_]|0)+(s.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;for(;m!==0&&_<c.length;_++)n=(c.words[_]|0)+m,this.words[_]=n&67108863,m=n>>>26;if(this.length=c.length,m!==0)this.words[this.length]=m,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var n;return o.negative!==0&&this.negative===0?(o.negative=0,n=this.sub(o),o.negative^=1,n):o.negative===0&&this.negative!==0?(this.negative=0,n=o.sub(this),this.negative=1,n):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var n=this.iadd(o);return o.negative=1,n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,m;c>0?(s=this,m=o):(s=o,m=this);for(var _=0,h=0;h<m.length;h++)n=(s.words[h]|0)-(m.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;for(;_!==0&&h<s.length;h++)n=(s.words[h]|0)+_,_=n>>26,this.words[h]=n&67108863;if(_===0&&h<s.length&&s!==this)for(;h<s.length;h++)this.words[h]=s.words[h];return this.length=Math.max(this.length,h),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function q(o,n,c){c.negative=n.negative^o.negative;var s=o.length+n.length|0;c.length=s,s=s-1|0;var m=o.words[0]|0,_=n.words[0]|0,h=m*_,d=h&67108863,a=h/67108864|0;c.words[0]=d;for(var t=1;t<s;t++){for(var S=a>>>26,U=a&67108863,P=Math.min(t,n.length-1),fo=Math.max(0,t-o.length+1);fo<=P;fo++){var vo=t-fo|0;m=o.words[vo]|0,_=n.words[fo]|0,h=m*_+U,S+=h/67108864|0,U=h&67108863}c.words[t]=U|0,a=S|0}return a!==0?c.words[t]=a|0:c.length--,c.strip()}var g=function(o,n,c){var s=o.words,m=n.words,_=c.words,h=0,d,a,t,S=s[0]|0,U=S&8191,P=S>>>13,fo=s[1]|0,vo=fo&8191,xo=fo>>>13,mo=s[2]|0,io=mo&8191,ko=mo>>>13,Io=s[3]|0,qo=Io&8191,Oo=Io>>>13,H=s[4]|0,j=H&8191,B=H>>>13,$o=s[5]|0,Uo=$o&8191,Vo=$o>>>13,Ho=s[6]|0,jo=Ho&8191,zo=Ho>>>13,Bo=s[7]|0,Jo=Bo&8191,Wo=Bo>>>13,ba=s[8]|0,O=ba&8191,e=ba>>>13,i=s[9]|0,f=i&8191,N=i>>>13,V=m[0]|0,X=V&8191,F=V>>>13,K=m[1]|0,z=K&8191,J=K>>>13,ao=m[2]|0,Y=ao&8191,G=ao>>>13,no=m[3]|0,A=no&8191,ro=no>>>13,No=m[4]|0,oo=No&8191,eo=No>>>13,so=m[5]|0,Q=so&8191,lo=so>>>13,_o=m[6]|0,to=_o&8191,bo=_o>>>13,go=m[7]|0,ho=go&8191,yo=go>>>13,So=m[8]|0,Ro=So&8191,Zo=So>>>13,wo=m[9]|0,Mo=wo&8191,Xo=wo>>>13;c.negative=o.negative^n.negative,c.length=19,d=Math.imul(U,X),a=Math.imul(U,F),a=a+Math.imul(P,X)|0,t=Math.imul(P,F);var Eo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,d=Math.imul(vo,X),a=Math.imul(vo,F),a=a+Math.imul(xo,X)|0,t=Math.imul(xo,F),d=d+Math.imul(U,z)|0,a=a+Math.imul(U,J)|0,a=a+Math.imul(P,z)|0,t=t+Math.imul(P,J)|0;var Ko=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,d=Math.imul(io,X),a=Math.imul(io,F),a=a+Math.imul(ko,X)|0,t=Math.imul(ko,F),d=d+Math.imul(vo,z)|0,a=a+Math.imul(vo,J)|0,a=a+Math.imul(xo,z)|0,t=t+Math.imul(xo,J)|0,d=d+Math.imul(U,Y)|0,a=a+Math.imul(U,G)|0,a=a+Math.imul(P,Y)|0,t=t+Math.imul(P,G)|0;var Po=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,d=Math.imul(qo,X),a=Math.imul(qo,F),a=a+Math.imul(Oo,X)|0,t=Math.imul(Oo,F),d=d+Math.imul(io,z)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ko,z)|0,t=t+Math.imul(ko,J)|0,d=d+Math.imul(vo,Y)|0,a=a+Math.imul(vo,G)|0,a=a+Math.imul(xo,Y)|0,t=t+Math.imul(xo,G)|0,d=d+Math.imul(U,A)|0,a=a+Math.imul(U,ro)|0,a=a+Math.imul(P,A)|0,t=t+Math.imul(P,ro)|0;var Co=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Co>>>26)|0,Co&=67108863,d=Math.imul(j,X),a=Math.imul(j,F),a=a+Math.imul(B,X)|0,t=Math.imul(B,F),d=d+Math.imul(qo,z)|0,a=a+Math.imul(qo,J)|0,a=a+Math.imul(Oo,z)|0,t=t+Math.imul(Oo,J)|0,d=d+Math.imul(io,Y)|0,a=a+Math.imul(io,G)|0,a=a+Math.imul(ko,Y)|0,t=t+Math.imul(ko,G)|0,d=d+Math.imul(vo,A)|0,a=a+Math.imul(vo,ro)|0,a=a+Math.imul(xo,A)|0,t=t+Math.imul(xo,ro)|0,d=d+Math.imul(U,oo)|0,a=a+Math.imul(U,eo)|0,a=a+Math.imul(P,oo)|0,t=t+Math.imul(P,eo)|0;var Yo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,d=Math.imul(Uo,X),a=Math.imul(Uo,F),a=a+Math.imul(Vo,X)|0,t=Math.imul(Vo,F),d=d+Math.imul(j,z)|0,a=a+Math.imul(j,J)|0,a=a+Math.imul(B,z)|0,t=t+Math.imul(B,J)|0,d=d+Math.imul(qo,Y)|0,a=a+Math.imul(qo,G)|0,a=a+Math.imul(Oo,Y)|0,t=t+Math.imul(Oo,G)|0,d=d+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ko,A)|0,t=t+Math.imul(ko,ro)|0,d=d+Math.imul(vo,oo)|0,a=a+Math.imul(vo,eo)|0,a=a+Math.imul(xo,oo)|0,t=t+Math.imul(xo,eo)|0,d=d+Math.imul(U,Q)|0,a=a+Math.imul(U,lo)|0,a=a+Math.imul(P,Q)|0,t=t+Math.imul(P,lo)|0;var Ao=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,d=Math.imul(jo,X),a=Math.imul(jo,F),a=a+Math.imul(zo,X)|0,t=Math.imul(zo,F),d=d+Math.imul(Uo,z)|0,a=a+Math.imul(Uo,J)|0,a=a+Math.imul(Vo,z)|0,t=t+Math.imul(Vo,J)|0,d=d+Math.imul(j,Y)|0,a=a+Math.imul(j,G)|0,a=a+Math.imul(B,Y)|0,t=t+Math.imul(B,G)|0,d=d+Math.imul(qo,A)|0,a=a+Math.imul(qo,ro)|0,a=a+Math.imul(Oo,A)|0,t=t+Math.imul(Oo,ro)|0,d=d+Math.imul(io,oo)|0,a=a+Math.imul(io,eo)|0,a=a+Math.imul(ko,oo)|0,t=t+Math.imul(ko,eo)|0,d=d+Math.imul(vo,Q)|0,a=a+Math.imul(vo,lo)|0,a=a+Math.imul(xo,Q)|0,t=t+Math.imul(xo,lo)|0,d=d+Math.imul(U,to)|0,a=a+Math.imul(U,bo)|0,a=a+Math.imul(P,to)|0,t=t+Math.imul(P,bo)|0;var Go=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Go>>>26)|0,Go&=67108863,d=Math.imul(Jo,X),a=Math.imul(Jo,F),a=a+Math.imul(Wo,X)|0,t=Math.imul(Wo,F),d=d+Math.imul(jo,z)|0,a=a+Math.imul(jo,J)|0,a=a+Math.imul(zo,z)|0,t=t+Math.imul(zo,J)|0,d=d+Math.imul(Uo,Y)|0,a=a+Math.imul(Uo,G)|0,a=a+Math.imul(Vo,Y)|0,t=t+Math.imul(Vo,G)|0,d=d+Math.imul(j,A)|0,a=a+Math.imul(j,ro)|0,a=a+Math.imul(B,A)|0,t=t+Math.imul(B,ro)|0,d=d+Math.imul(qo,oo)|0,a=a+Math.imul(qo,eo)|0,a=a+Math.imul(Oo,oo)|0,t=t+Math.imul(Oo,eo)|0,d=d+Math.imul(io,Q)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ko,Q)|0,t=t+Math.imul(ko,lo)|0,d=d+Math.imul(vo,to)|0,a=a+Math.imul(vo,bo)|0,a=a+Math.imul(xo,to)|0,t=t+Math.imul(xo,bo)|0,d=d+Math.imul(U,ho)|0,a=a+Math.imul(U,yo)|0,a=a+Math.imul(P,ho)|0,t=t+Math.imul(P,yo)|0;var oa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,d=Math.imul(O,X),a=Math.imul(O,F),a=a+Math.imul(e,X)|0,t=Math.imul(e,F),d=d+Math.imul(Jo,z)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(Wo,z)|0,t=t+Math.imul(Wo,J)|0,d=d+Math.imul(jo,Y)|0,a=a+Math.imul(jo,G)|0,a=a+Math.imul(zo,Y)|0,t=t+Math.imul(zo,G)|0,d=d+Math.imul(Uo,A)|0,a=a+Math.imul(Uo,ro)|0,a=a+Math.imul(Vo,A)|0,t=t+Math.imul(Vo,ro)|0,d=d+Math.imul(j,oo)|0,a=a+Math.imul(j,eo)|0,a=a+Math.imul(B,oo)|0,t=t+Math.imul(B,eo)|0,d=d+Math.imul(qo,Q)|0,a=a+Math.imul(qo,lo)|0,a=a+Math.imul(Oo,Q)|0,t=t+Math.imul(Oo,lo)|0,d=d+Math.imul(io,to)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ko,to)|0,t=t+Math.imul(ko,bo)|0,d=d+Math.imul(vo,ho)|0,a=a+Math.imul(vo,yo)|0,a=a+Math.imul(xo,ho)|0,t=t+Math.imul(xo,yo)|0,d=d+Math.imul(U,Ro)|0,a=a+Math.imul(U,Zo)|0,a=a+Math.imul(P,Ro)|0,t=t+Math.imul(P,Zo)|0;var Qo=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,d=Math.imul(f,X),a=Math.imul(f,F),a=a+Math.imul(N,X)|0,t=Math.imul(N,F),d=d+Math.imul(O,z)|0,a=a+Math.imul(O,J)|0,a=a+Math.imul(e,z)|0,t=t+Math.imul(e,J)|0,d=d+Math.imul(Jo,Y)|0,a=a+Math.imul(Jo,G)|0,a=a+Math.imul(Wo,Y)|0,t=t+Math.imul(Wo,G)|0,d=d+Math.imul(jo,A)|0,a=a+Math.imul(jo,ro)|0,a=a+Math.imul(zo,A)|0,t=t+Math.imul(zo,ro)|0,d=d+Math.imul(Uo,oo)|0,a=a+Math.imul(Uo,eo)|0,a=a+Math.imul(Vo,oo)|0,t=t+Math.imul(Vo,eo)|0,d=d+Math.imul(j,Q)|0,a=a+Math.imul(j,lo)|0,a=a+Math.imul(B,Q)|0,t=t+Math.imul(B,lo)|0,d=d+Math.imul(qo,to)|0,a=a+Math.imul(qo,bo)|0,a=a+Math.imul(Oo,to)|0,t=t+Math.imul(Oo,bo)|0,d=d+Math.imul(io,ho)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ko,ho)|0,t=t+Math.imul(ko,yo)|0,d=d+Math.imul(vo,Ro)|0,a=a+Math.imul(vo,Zo)|0,a=a+Math.imul(xo,Ro)|0,t=t+Math.imul(xo,Zo)|0,d=d+Math.imul(U,Mo)|0,a=a+Math.imul(U,Xo)|0,a=a+Math.imul(P,Mo)|0,t=t+Math.imul(P,Xo)|0;var ra=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(f,z),a=Math.imul(f,J),a=a+Math.imul(N,z)|0,t=Math.imul(N,J),d=d+Math.imul(O,Y)|0,a=a+Math.imul(O,G)|0,a=a+Math.imul(e,Y)|0,t=t+Math.imul(e,G)|0,d=d+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(Wo,A)|0,t=t+Math.imul(Wo,ro)|0,d=d+Math.imul(jo,oo)|0,a=a+Math.imul(jo,eo)|0,a=a+Math.imul(zo,oo)|0,t=t+Math.imul(zo,eo)|0,d=d+Math.imul(Uo,Q)|0,a=a+Math.imul(Uo,lo)|0,a=a+Math.imul(Vo,Q)|0,t=t+Math.imul(Vo,lo)|0,d=d+Math.imul(j,to)|0,a=a+Math.imul(j,bo)|0,a=a+Math.imul(B,to)|0,t=t+Math.imul(B,bo)|0,d=d+Math.imul(qo,ho)|0,a=a+Math.imul(qo,yo)|0,a=a+Math.imul(Oo,ho)|0,t=t+Math.imul(Oo,yo)|0,d=d+Math.imul(io,Ro)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ko,Ro)|0,t=t+Math.imul(ko,Zo)|0,d=d+Math.imul(vo,Mo)|0,a=a+Math.imul(vo,Xo)|0,a=a+Math.imul(xo,Mo)|0,t=t+Math.imul(xo,Xo)|0;var aa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,d=Math.imul(f,Y),a=Math.imul(f,G),a=a+Math.imul(N,Y)|0,t=Math.imul(N,G),d=d+Math.imul(O,A)|0,a=a+Math.imul(O,ro)|0,a=a+Math.imul(e,A)|0,t=t+Math.imul(e,ro)|0,d=d+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,eo)|0,a=a+Math.imul(Wo,oo)|0,t=t+Math.imul(Wo,eo)|0,d=d+Math.imul(jo,Q)|0,a=a+Math.imul(jo,lo)|0,a=a+Math.imul(zo,Q)|0,t=t+Math.imul(zo,lo)|0,d=d+Math.imul(Uo,to)|0,a=a+Math.imul(Uo,bo)|0,a=a+Math.imul(Vo,to)|0,t=t+Math.imul(Vo,bo)|0,d=d+Math.imul(j,ho)|0,a=a+Math.imul(j,yo)|0,a=a+Math.imul(B,ho)|0,t=t+Math.imul(B,yo)|0,d=d+Math.imul(qo,Ro)|0,a=a+Math.imul(qo,Zo)|0,a=a+Math.imul(Oo,Ro)|0,t=t+Math.imul(Oo,Zo)|0,d=d+Math.imul(io,Mo)|0,a=a+Math.imul(io,Xo)|0,a=a+Math.imul(ko,Mo)|0,t=t+Math.imul(ko,Xo)|0;var sa=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(f,A),a=Math.imul(f,ro),a=a+Math.imul(N,A)|0,t=Math.imul(N,ro),d=d+Math.imul(O,oo)|0,a=a+Math.imul(O,eo)|0,a=a+Math.imul(e,oo)|0,t=t+Math.imul(e,eo)|0,d=d+Math.imul(Jo,Q)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(Wo,Q)|0,t=t+Math.imul(Wo,lo)|0,d=d+Math.imul(jo,to)|0,a=a+Math.imul(jo,bo)|0,a=a+Math.imul(zo,to)|0,t=t+Math.imul(zo,bo)|0,d=d+Math.imul(Uo,ho)|0,a=a+Math.imul(Uo,yo)|0,a=a+Math.imul(Vo,ho)|0,t=t+Math.imul(Vo,yo)|0,d=d+Math.imul(j,Ro)|0,a=a+Math.imul(j,Zo)|0,a=a+Math.imul(B,Ro)|0,t=t+Math.imul(B,Zo)|0,d=d+Math.imul(qo,Mo)|0,a=a+Math.imul(qo,Xo)|0,a=a+Math.imul(Oo,Mo)|0,t=t+Math.imul(Oo,Xo)|0;var la=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(la>>>26)|0,la&=67108863,d=Math.imul(f,oo),a=Math.imul(f,eo),a=a+Math.imul(N,oo)|0,t=Math.imul(N,eo),d=d+Math.imul(O,Q)|0,a=a+Math.imul(O,lo)|0,a=a+Math.imul(e,Q)|0,t=t+Math.imul(e,lo)|0,d=d+Math.imul(Jo,to)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(Wo,to)|0,t=t+Math.imul(Wo,bo)|0,d=d+Math.imul(jo,ho)|0,a=a+Math.imul(jo,yo)|0,a=a+Math.imul(zo,ho)|0,t=t+Math.imul(zo,yo)|0,d=d+Math.imul(Uo,Ro)|0,a=a+Math.imul(Uo,Zo)|0,a=a+Math.imul(Vo,Ro)|0,t=t+Math.imul(Vo,Zo)|0,d=d+Math.imul(j,Mo)|0,a=a+Math.imul(j,Xo)|0,a=a+Math.imul(B,Mo)|0,t=t+Math.imul(B,Xo)|0;var na=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(na>>>26)|0,na&=67108863,d=Math.imul(f,Q),a=Math.imul(f,lo),a=a+Math.imul(N,Q)|0,t=Math.imul(N,lo),d=d+Math.imul(O,to)|0,a=a+Math.imul(O,bo)|0,a=a+Math.imul(e,to)|0,t=t+Math.imul(e,bo)|0,d=d+Math.imul(Jo,ho)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(Wo,ho)|0,t=t+Math.imul(Wo,yo)|0,d=d+Math.imul(jo,Ro)|0,a=a+Math.imul(jo,Zo)|0,a=a+Math.imul(zo,Ro)|0,t=t+Math.imul(zo,Zo)|0,d=d+Math.imul(Uo,Mo)|0,a=a+Math.imul(Uo,Xo)|0,a=a+Math.imul(Vo,Mo)|0,t=t+Math.imul(Vo,Xo)|0;var ta=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(f,to),a=Math.imul(f,bo),a=a+Math.imul(N,to)|0,t=Math.imul(N,bo),d=d+Math.imul(O,ho)|0,a=a+Math.imul(O,yo)|0,a=a+Math.imul(e,ho)|0,t=t+Math.imul(e,yo)|0,d=d+Math.imul(Jo,Ro)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(Wo,Ro)|0,t=t+Math.imul(Wo,Zo)|0,d=d+Math.imul(jo,Mo)|0,a=a+Math.imul(jo,Xo)|0,a=a+Math.imul(zo,Mo)|0,t=t+Math.imul(zo,Xo)|0;var da=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(da>>>26)|0,da&=67108863,d=Math.imul(f,ho),a=Math.imul(f,yo),a=a+Math.imul(N,ho)|0,t=Math.imul(N,yo),d=d+Math.imul(O,Ro)|0,a=a+Math.imul(O,Zo)|0,a=a+Math.imul(e,Ro)|0,t=t+Math.imul(e,Zo)|0,d=d+Math.imul(Jo,Mo)|0,a=a+Math.imul(Jo,Xo)|0,a=a+Math.imul(Wo,Mo)|0,t=t+Math.imul(Wo,Xo)|0;var _a=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,d=Math.imul(f,Ro),a=Math.imul(f,Zo),a=a+Math.imul(N,Ro)|0,t=Math.imul(N,Zo),d=d+Math.imul(O,Mo)|0,a=a+Math.imul(O,Xo)|0,a=a+Math.imul(e,Mo)|0,t=t+Math.imul(e,Xo)|0;var ua=(h+d|0)+((a&8191)<<13)|0;h=(t+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(f,Mo),a=Math.imul(f,Xo),a=a+Math.imul(N,Mo)|0,t=Math.imul(N,Xo);var ca=(h+d|0)+((a&8191)<<13)|0;return h=(t+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Eo,_[1]=Ko,_[2]=Po,_[3]=Co,_[4]=Yo,_[5]=Ao,_[6]=Go,_[7]=oa,_[8]=Qo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=na,_[14]=ta,_[15]=da,_[16]=_a,_[17]=ua,_[18]=ca,h!==0&&(_[19]=h,c.length++),c};Math.imul||(g=q);function w(o,n,c){c.negative=n.negative^o.negative,c.length=o.length+n.length;for(var s=0,m=0,_=0;_<c.length-1;_++){var h=m;m=0;for(var d=s&67108863,a=Math.min(_,n.length-1),t=Math.max(0,_-o.length+1);t<=a;t++){var S=_-t,U=o.words[S]|0,P=n.words[t]|0,fo=U*P,vo=fo&67108863;h=h+(fo/67108864|0)|0,vo=vo+d|0,d=vo&67108863,h=h+(vo>>>26)|0,m+=h>>>26,h&=67108863}c.words[_]=d,s=h,h=m}return s!==0?c.words[_]=s:c.length--,c.strip()}function I(o,n,c){var s=new W;return s.mulp(o,n,c)}u.prototype.mulTo=function(o,n){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=g(this,o,n):s<63?c=q(this,o,n):s<1024?c=w(this,o,n):c=I(this,o,n),c};function W(o,n){this.x=o,this.y=n}W.prototype.makeRBT=function(o){for(var n=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)n[s]=this.revBin(s,c,o);return n},W.prototype.revBin=function(o,n,c){if(o===0||o===c-1)return o;for(var s=0,m=0;m<n;m++)s|=(o&1)<<n-m-1,o>>=1;return s},W.prototype.permute=function(o,n,c,s,m,_){for(var h=0;h<_;h++)s[h]=n[o[h]],m[h]=c[o[h]]},W.prototype.transform=function(o,n,c,s,m,_){this.permute(_,o,n,c,s,m);for(var h=1;h<m;h<<=1)for(var d=h<<1,a=Math.cos(2*Math.PI/d),t=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var U=a,P=t,fo=0;fo<h;fo++){var vo=c[S+fo],xo=s[S+fo],mo=c[S+fo+h],io=s[S+fo+h],ko=U*mo-P*io;io=U*io+P*mo,mo=ko,c[S+fo]=vo+mo,s[S+fo]=xo+io,c[S+fo+h]=vo-mo,s[S+fo+h]=xo-io,fo!==d&&(ko=a*U-t*P,P=a*P+t*U,U=ko)}},W.prototype.guessLen13b=function(o,n){var c=Math.max(n,o)|1,s=c&1,m=0;for(c=c/2|0;c;c=c>>>1)m++;return 1<<m+1+s},W.prototype.conjugate=function(o,n,c){if(!(c<=1))for(var s=0;s<c/2;s++){var m=o[s];o[s]=o[c-s-1],o[c-s-1]=m,m=n[s],n[s]=-n[c-s-1],n[c-s-1]=-m}},W.prototype.normalize13b=function(o,n){for(var c=0,s=0;s<n/2;s++){var m=Math.round(o[2*s+1]/n)*8192+Math.round(o[2*s]/n)+c;o[s]=m&67108863,m<67108864?c=0:c=m/67108864|0}return o},W.prototype.convert13b=function(o,n,c,s){for(var m=0,_=0;_<n;_++)m=m+(o[_]|0),c[2*_]=m&8191,m=m>>>13,c[2*_+1]=m&8191,m=m>>>13;for(_=2*n;_<s;++_)c[_]=0;b(m===0),b((m&-8192)===0)},W.prototype.stub=function(o){for(var n=new Array(o),c=0;c<o;c++)n[c]=0;return n},W.prototype.mulp=function(o,n,c){var s=2*this.guessLen13b(o.length,n.length),m=this.makeRBT(s),_=this.stub(s),h=new Array(s),d=new Array(s),a=new Array(s),t=new Array(s),S=new Array(s),U=new Array(s),P=c.words;P.length=s,this.convert13b(o.words,o.length,h,s),this.convert13b(n.words,n.length,t,s),this.transform(h,_,d,a,s,m),this.transform(t,_,S,U,s,m);for(var fo=0;fo<s;fo++){var vo=d[fo]*S[fo]-a[fo]*U[fo];a[fo]=d[fo]*U[fo]+a[fo]*S[fo],d[fo]=vo}return this.conjugate(d,a,s),this.transform(d,a,P,_,s,m),this.conjugate(P,_,s),this.normalize13b(P,s),c.negative=o.negative^n.negative,c.length=o.length+n.length,c.strip()},u.prototype.mul=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),this.mulTo(o,n)},u.prototype.mulf=function(o){var n=new u(null);return n.words=new Array(this.length+o.length),I(this,o,n)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){b(typeof o=="number"),b(o<67108864);for(var n=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,m=(s&67108863)+(n&67108863);n>>=26,n+=s/67108864|0,n+=m>>>26,this.words[c]=m&67108863}return n!==0&&(this.words[c]=n,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var n=$(o);if(n.length===0)return new u(1);for(var c=this,s=0;s<n.length&&n[s]===0;s++,c=c.sqr());if(++s<n.length)for(var m=c.sqr();s<n.length;s++,m=m.sqr())n[s]!==0&&(c=c.mul(m));return c},u.prototype.iushln=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=67108863>>>26-n<<26-n,m;if(n!==0){var _=0;for(m=0;m<this.length;m++){var h=this.words[m]&s,d=(this.words[m]|0)-h<<n;this.words[m]=d|_,_=h>>>26-n}_&&(this.words[m]=_,this.length++)}if(c!==0){for(m=this.length-1;m>=0;m--)this.words[m+c]=this.words[m];for(m=0;m<c;m++)this.words[m]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return b(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,n,c){b(typeof o=="number"&&o>=0);var s;n?s=(n-n%26)/26:s=0;var m=o%26,_=Math.min((o-m)/26,this.length),h=67108863^67108863>>>m<<m,d=c;if(s-=_,s=Math.max(0,s),d){for(var a=0;a<_;a++)d.words[a]=this.words[a];d.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var t=0;for(a=this.length-1;a>=0&&(t!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=t<<26-m|S>>>m,t=S&h}return d&&t!==0&&(d.words[d.length++]=t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,n,c){return b(this.negative===0),this.iushrn(o,n,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return!1;var m=this.words[c];return!!(m&s)},u.prototype.imaskn=function(o){b(typeof o=="number"&&o>=0);var n=o%26,c=(o-n)/26;if(b(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(n!==0&&c++,this.length=Math.min(c,this.length),n!==0){var s=67108863^67108863>>>n<<n;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return b(typeof o=="number"),b(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var n=0;n<this.length&&this.words[n]>=67108864;n++)this.words[n]-=67108864,n===this.length-1?this.words[n+1]=1:this.words[n+1]++;return this.length=Math.max(this.length,n+1),this},u.prototype.isubn=function(o){if(b(typeof o=="number"),b(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var n=0;n<this.length&&this.words[n]<0;n++)this.words[n]+=67108864,this.words[n+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,n,c){var s=o.length+c,m;this._expand(s);var _,h=0;for(m=0;m<o.length;m++){_=(this.words[m+c]|0)+h;var d=(o.words[m]|0)*n;_-=d&67108863,h=(_>>26)-(d/67108864|0),this.words[m+c]=_&67108863}for(;m<this.length-c;m++)_=(this.words[m+c]|0)+h,h=_>>26,this.words[m+c]=_&67108863;if(h===0)return this.strip();for(b(h===-1),h=0,m=0;m<this.length;m++)_=-(this.words[m]|0)+h,h=_>>26,this.words[m]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,n){var c=this.length-o.length,s=this.clone(),m=o,_=m.words[m.length-1]|0,h=this._countBits(_);c=26-h,c!==0&&(m=m.ushln(c),s.iushln(c),_=m.words[m.length-1]|0);var d=s.length-m.length,a;if(n!=="mod"){a=new u(null),a.length=d+1,a.words=new Array(a.length);for(var t=0;t<a.length;t++)a.words[t]=0}var S=s.clone()._ishlnsubmul(m,1,d);S.negative===0&&(s=S,a&&(a.words[d]=1));for(var U=d-1;U>=0;U--){var P=(s.words[m.length+U]|0)*67108864+(s.words[m.length+U-1]|0);for(P=Math.min(P/_|0,67108863),s._ishlnsubmul(m,P,U);s.negative!==0;)P--,s.negative=0,s._ishlnsubmul(m,1,U),s.isZero()||(s.negative^=1);a&&(a.words[U]=P)}return a&&a.strip(),s.strip(),n!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,n,c){if(b(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,m,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,n),n!=="mod"&&(s=_.div.neg()),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.iadd(o)),{div:s,mod:m}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),n),n!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),n),n!=="div"&&(m=_.mod.neg(),c&&m.negative!==0&&m.isub(o)),{div:_.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?n==="div"?{div:this.divn(o.words[0]),mod:null}:n==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,n)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var n=this.divmod(o);if(n.mod.isZero())return n.div;var c=n.div.negative!==0?n.mod.isub(o):n.mod,s=o.ushrn(1),m=o.andln(1),_=c.cmp(s);return _<0||m===1&&_===0?n.div:n.div.negative!==0?n.div.isubn(1):n.div.iaddn(1)},u.prototype.modn=function(o){b(o<=67108863);for(var n=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(n*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){b(o<=67108863);for(var n=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+n*67108864;this.words[c]=s/o|0,n=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=new u(0),h=new u(1),d=0;n.isEven()&&c.isEven();)n.iushrn(1),c.iushrn(1),++d;for(var a=c.clone(),t=n.clone();!n.isZero();){for(var S=0,U=1;(n.words[0]&U)===0&&S<26;++S,U<<=1);if(S>0)for(n.iushrn(S);S-- >0;)(s.isOdd()||m.isOdd())&&(s.iadd(a),m.isub(t)),s.iushrn(1),m.iushrn(1);for(var P=0,fo=1;(c.words[0]&fo)===0&&P<26;++P,fo<<=1);if(P>0)for(c.iushrn(P);P-- >0;)(_.isOdd()||h.isOdd())&&(_.iadd(a),h.isub(t)),_.iushrn(1),h.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(_),m.isub(h)):(c.isub(n),_.isub(s),h.isub(m))}return{a:_,b:h,gcd:c.iushln(d)}},u.prototype._invmp=function(o){b(o.negative===0),b(!o.isZero());var n=this,c=o.clone();n.negative!==0?n=n.umod(o):n=n.clone();for(var s=new u(1),m=new u(0),_=c.clone();n.cmpn(1)>0&&c.cmpn(1)>0;){for(var h=0,d=1;(n.words[0]&d)===0&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,t=1;(c.words[0]&t)===0&&a<26;++a,t<<=1);if(a>0)for(c.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(_),m.iushrn(1);n.cmp(c)>=0?(n.isub(c),s.isub(m)):(c.isub(n),m.isub(s))}var S;return n.cmpn(1)===0?S=s:S=m,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var n=this.clone(),c=o.clone();n.negative=0,c.negative=0;for(var s=0;n.isEven()&&c.isEven();s++)n.iushrn(1),c.iushrn(1);do{for(;n.isEven();)n.iushrn(1);for(;c.isEven();)c.iushrn(1);var m=n.cmp(c);if(m<0){var _=n;n=c,c=_}else if(m===0||c.cmpn(1)===0)break;n.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){b(typeof o=="number");var n=o%26,c=(o-n)/26,s=1<<n;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var m=s,_=c;m!==0&&_<this.length;_++){var h=this.words[_]|0;h+=m,m=h>>>26,h&=67108863,this.words[_]=h}return m!==0&&(this.words[_]=m,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var n=o<0;if(this.negative!==0&&!n)return-1;if(this.negative===0&&n)return 1;this.strip();var c;if(this.length>1)c=1;else{n&&(o=-o),b(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var n=this.ucmp(o);return this.negative!==0?-n|0:n},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var n=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,m=o.words[c]|0;if(s!==m){s<m?n=-1:s>m&&(n=1);break}}return n},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return b(!this.red,"Already a number in reduction context"),b(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return b(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return b(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var E={k256:null,p224:null,p192:null,p25519:null};function D(o,n){this.name=o,this.p=new u(n,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},D.prototype.ireduce=function(o){var n=o,c;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),c=n.bitLength();while(c>this.n);var s=c<this.n?-1:n.ucmp(this.p);return s===0?(n.words[0]=0,n.length=1):s>0?n.isub(this.p):n.strip!==void 0?n.strip():n._strip(),n},D.prototype.split=function(o,n){o.iushrn(this.n,0,n)},D.prototype.imulK=function(o){return o.imul(this.k)};function C(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}x(C,D),C.prototype.split=function(o,n){for(var c=4194303,s=Math.min(o.length,9),m=0;m<s;m++)n.words[m]=o.words[m];if(n.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(n.words[n.length++]=_&c,m=10;m<o.length;m++){var h=o.words[m]|0;o.words[m-10]=(h&c)<<4|_>>>22,_=h}_>>>=22,o.words[m-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},C.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var n=0,c=0;c<o.length;c++){var s=o.words[c]|0;n+=s*977,o.words[c]=n&67108863,n=s*64+(n/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}x(uo,D);function po(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}x(po,D);function To(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}x(To,D),To.prototype.imulK=function(o){for(var n=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+n,m=s&67108863;s>>>=26,o.words[c]=m,n=s}return n!==0&&(o.words[o.length++]=n),o},u._prime=function(o){if(E[o])return E[o];var n;if(o==="k256")n=new C;else if(o==="p224")n=new uo;else if(o==="p192")n=new po;else if(o==="p25519")n=new To;else throw new Error("Unknown prime "+o);return E[o]=n,n};function co(o){if(typeof o=="string"){var n=u._prime(o);this.m=n.p,this.prime=n}else b(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){b(o.negative===0,"red works only with positives"),b(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,n){b((o.negative|n.negative)===0,"red works only with positives"),b(o.red&&o.red===n.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,n){this._verify2(o,n);var c=o.add(n);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,n){this._verify2(o,n);var c=o.iadd(n);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,n){this._verify2(o,n);var c=o.sub(n);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,n){this._verify2(o,n);var c=o.isub(n);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,n){return this._verify1(o),this.imod(o.ushln(n))},co.prototype.imul=function(o,n){return this._verify2(o,n),this.imod(o.imul(n))},co.prototype.mul=function(o,n){return this._verify2(o,n),this.imod(o.mul(n))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var n=this.m.andln(3);if(b(n%2===1),n===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),m=0;!s.isZero()&&s.andln(1)===0;)m++,s.iushrn(1);b(!s.isZero());var _=new u(1).toRed(this),h=_.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,d).cmp(h)!==0;)a.redIAdd(h);for(var t=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),U=this.pow(o,s),P=m;U.cmp(_)!==0;){for(var fo=U,vo=0;fo.cmp(_)!==0;vo++)fo=fo.redSqr();b(vo<P);var xo=this.pow(t,new u(1).iushln(P-vo-1));S=S.redMul(xo),t=xo.redSqr(),U=U.redMul(t),P=vo}return S},co.prototype.invm=function(o){var n=o._invmp(this.m);return n.negative!==0?(n.negative=0,this.imod(n).redNeg()):this.imod(n)},co.prototype.pow=function(o,n){if(n.isZero())return new u(1).toRed(this);if(n.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var m=2;m<s.length;m++)s[m]=this.mul(s[m-1],o);var _=s[0],h=0,d=0,a=n.bitLength()%26;for(a===0&&(a=26),m=n.length-1;m>=0;m--){for(var t=n.words[m],S=a-1;S>=0;S--){var U=t>>S&1;if(_!==s[0]&&(_=this.sqr(_)),U===0&&h===0){d=0;continue}h<<=1,h|=U,d++,!(d!==c&&(m!==0||S!==0))&&(_=this.mul(_,s[h]),d=0,h=0)}a=26}return _},co.prototype.convertTo=function(o){var n=o.umod(this.m);return n===o?n.clone():n},co.prototype.convertFrom=function(o){var n=o.clone();return n.red=null,n},u.mont=function(o){return new Lo(o)};function Lo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x(Lo,co),Lo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Lo.prototype.convertFrom=function(o){var n=this.imod(o.mul(this.rinv));return n.red=null,n},Lo.prototype.imul=function(o,n){if(o.isZero()||n.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.mul=function(o,n){if(o.isZero()||n.isZero())return new u(0)._forceRed(this);var c=o.mul(n),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=c.isub(s).iushrn(this.shift),_=m;return m.cmp(this.m)>=0?_=m.isub(this.m):m.cmpn(0)<0&&(_=m.iadd(this.m)),_._forceRed(this)},Lo.prototype.invm=function(o){var n=this.imod(o._invmp(this.m).mul(this.r2));return n._forceRed(this)}})(typeof p>"u"||p,l)}),zr=Fo((l,p)=>{var r=cl(),v=ka().Buffer;function b(x,u){return v.from(x.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed().toArray())}p.exports=b}),Ou=Fo((l,p)=>{var r=os(),v=Ge(),b=_n(),x=Fr(),u=Ir(),k=cl(),L=zr(),y=ol(),R=ka().Buffer;p.exports=function($,q,g){var w;$.padding?w=$.padding:g?w=1:w=4;var I=r($),W;if(w===4)W=Z(I,q);else if(w===1)W=T(I,q,g);else if(w===3){if(W=new k(q),W.cmp(I.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return g?y(W,I):L(W,I)};function Z($,q){var g=$.modulus.byteLength(),w=q.length,I=b("sha1").update(R.alloc(0)).digest(),W=I.length,E=2*W;if(w>g-E-2)throw new Error("message too long");var D=R.alloc(g-w-E-2),C=g-W-1,uo=v(W),po=u(R.concat([I,D,R.alloc(1,1),q],C),x(uo,C)),To=u(uo,x(po,W));return new k(R.concat([R.alloc(1),To,po],g))}function T($,q,g){var w=q.length,I=$.modulus.byteLength();if(w>I-11)throw new Error("message too long");var W;return g?W=R.alloc(I-w-3,255):W=M(I-w-3),new k(R.concat([R.from([0,g?1:2]),W,R.alloc(1),q],I))}function M($){for(var q=R.allocUnsafe($),g=0,w=v($*2),I=0,W;g<$;)I===w.length&&(w=v($*2),I=0),W=w[I++],W&&(q[g++]=W);return q}}),Uu=Fo((l,p)=>{var r=os(),v=Fr(),b=Ir(),x=cl(),u=ol(),k=_n(),L=zr(),y=ka().Buffer;p.exports=function(M,$,q){var g;M.padding?g=M.padding:q?g=1:g=4;var w=r(M),I=w.modulus.byteLength();if($.length>I||new x($).cmp(w.modulus)>=0)throw new Error("decryption error");var W;q?W=L(new x($),w):W=u($,w);var E=y.alloc(I-W.length);if(W=y.concat([E,W],I),g===4)return R(w,W);if(g===1)return Z(w,W,q);if(g===3)return W;throw new Error("unknown padding")};function R(M,$){var q=M.modulus.byteLength(),g=k("sha1").update(y.alloc(0)).digest(),w=g.length;if($[0]!==0)throw new Error("decryption error");var I=$.slice(1,w+1),W=$.slice(w+1),E=b(I,v(W,w)),D=b(W,v(E,q-w-1));if(T(g,D.slice(0,w)))throw new Error("decryption error");for(var C=w;D[C]===0;)C++;if(D[C++]!==1)throw new Error("decryption error");return D.slice(C)}function Z(M,$,q){for(var g=$.slice(0,2),w=2,I=0;$[w++]!==0;)if(w>=$.length){I++;break}var W=$.slice(2,w-1);if((g.toString("hex")!=="0002"&&!q||g.toString("hex")!=="0001"&&q)&&I++,W.length<8&&I++,I)throw new Error("decryption error");return $.slice(w)}function T(M,$){M=y.from(M),$=y.from($);var q=0,g=M.length;M.length!==$.length&&(q++,g=Math.min(M.length,$.length));for(var w=-1;++w<g;)q+=M[w]^$[w];return q}}),Xu=Fo((l)=>{l.publicEncrypt=Ou(),l.privateDecrypt=Uu(),l.privateEncrypt=function(p,r){return l.publicEncrypt(p,r,!0)},l.publicDecrypt=function(p,r){return l.privateDecrypt(p,r,!0)}}),gu=Fo((l)=>{function p(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var r=ka(),v=Ge(),b=r.Buffer,x=r.kMaxLength,u=global.crypto||global.msCrypto,k=Math.pow(2,32)-1;function L(M,$){if(typeof M!="number"||M!==M)throw new TypeError("offset must be a number");if(M>k||M<0)throw new TypeError("offset must be a uint32");if(M>x||M>$)throw new RangeError("offset out of range")}function y(M,$,q){if(typeof M!="number"||M!==M)throw new TypeError("size must be a number");if(M>k||M<0)throw new TypeError("size must be a uint32");if(M+$>q||M>x)throw new RangeError("buffer too small")}u&&u.getRandomValues?(l.randomFill=R,l.randomFillSync=T):(l.randomFill=p,l.randomFillSync=p);function R(M,$,q,g){if(!b.isBuffer(M)&&!(M instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof $=="function")g=$,$=0,q=M.length;else if(typeof q=="function")g=q,q=M.length-$;else if(typeof g!="function")throw new TypeError('"cb" argument must be a function');return L($,M.length),y(q,$,M.length),Z(M,$,q,g)}function Z(M,$,q,g){var w=M.buffer,I=new Uint8Array(w,$,q);if(u.getRandomValues(I),g){process.nextTick(function(){g(null,M)});return}return M;var W}function T(M,$,q){if(typeof $>"u"&&($=0),!b.isBuffer(M)&&!(M instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return L($,M.length),q===void 0&&(q=M.length-$),y(q,$,M.length),Z(M,$,q)}}),Jr=Fo((l)=>{l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=Ge(),l.createHash=l.Hash=_n(),l.createHmac=l.Hmac=sr();var p=qc(),r=Object.keys(p),v=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);l.getHashes=function(){return v};var b=mr();l.pbkdf2=b.pbkdf2,l.pbkdf2Sync=b.pbkdf2Sync;var x=zc();l.Cipher=x.Cipher,l.createCipher=x.createCipher,l.Cipheriv=x.Cipheriv,l.createCipheriv=x.createCipheriv,l.Decipher=x.Decipher,l.createDecipher=x.createDecipher,l.Decipheriv=x.Decipheriv,l.createDecipheriv=x.createDecipheriv,l.getCiphers=x.getCiphers,l.listCiphers=x.listCiphers;var u=Hc();l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var k=Vu();l.createSign=k.createSign,l.Sign=k.Sign,l.createVerify=k.createVerify,l.Verify=k.Verify,l.createECDH=Lu();var L=Xu();l.publicEncrypt=L.publicEncrypt,l.privateEncrypt=L.privateEncrypt,l.publicDecrypt=L.publicDecrypt,l.privateDecrypt=L.privateDecrypt;var y=gu();l.randomFill=y.randomFill,l.randomFillSync=y.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),Kr={},Ws(Kr,{DEFAULT_ENCODING:()=>yn,default:()=>ti,getCurves:()=>ci,getRandomValues:()=>ui,randomUUID:()=>mi,scrypt:()=>ns,scryptSync:()=>es,timingSafeEqual:()=>Rn,webcrypto:()=>bl}),wl(Kr,He(Jr())),Su=He(Jr()),U0=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],Rn="timingSafeEqual"in crypto?(l,p)=>{let{byteLength:r}=l,{byteLength:v}=p;if(typeof r!="number"||typeof v!="number")throw new TypeError("Input must be an array buffer view");if(r!==v)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(l,p)}:void 0,es="scryptSync"in crypto?(l,p,r,v)=>{let b=crypto.scryptSync(l,p,r,v);return yn!=="buffer"?new Buffer(b).toString(yn):new Buffer(b)}:void 0,ns="scryptSync"in crypto?function(l,p,r,v,b){if(typeof v=="function"&&(b=v,v=void 0),typeof b!="function"){var x=new TypeError("callback must be a function");throw x.code="ERR_INVALID_CALLBACK",x}try{let u=crypto.scryptSync(l,p,r,v);process.nextTick(b,null,yn!=="buffer"?new Buffer(u).toString(yn):new Buffer(u))}catch(u){throw u}}:void 0,Rn&&(Object.defineProperty(Rn,"name",{value:"::bunternal::"}),Object.defineProperty(ns,"name",{value:"::bunternal::"}),Object.defineProperty(es,"name",{value:"::bunternal::"})),bl=crypto,ti={...Su,getRandomValues:ui,randomUUID:mi,timingSafeEqual:Rn,scryptSync:es,scrypt:ns,webcrypto:bl,getCurves:ci};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),X0=vl((l,p)=>{(function(r,v){if(typeof l==="object")p.exports=l=v();else if(typeof define==="function"&&define.amd)define([],v);else r.CryptoJS=v()})(l,function(){var r=r||function(v,b){var x;if(typeof window!=="undefined"&&window.crypto)x=window.crypto;if(typeof self!=="undefined"&&self.crypto)x=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)x=globalThis.crypto;if(!x&&typeof window!=="undefined"&&window.msCrypto)x=window.msCrypto;if(!x&&typeof global!=="undefined"&&global.crypto)x=global.crypto;if(!x)try{x=(Y6(),G6($0))}catch(W){}var u=function(){if(x){if(typeof x.getRandomValues==="function")try{return x.getRandomValues(new Uint32Array(1))[0]}catch(W){}if(typeof x.randomBytes==="function")try{return x.randomBytes(4).readInt32LE()}catch(W){}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function W(){}return function(E){var D;return W.prototype=E,D=new W,W.prototype=null,D}}(),L={},y=L.lib={},R=y.Base=function(){return{extend:function(W){var E=k(this);if(W)E.mixIn(W);if(!E.hasOwnProperty("init")||this.init===E.init)E.init=function(){E.$super.init.apply(this,arguments)};return E.init.prototype=E,E.$super=this,E},create:function(){var W=this.extend();return W.init.apply(W,arguments),W},init:function(){},mixIn:function(W){for(var E in W)if(W.hasOwnProperty(E))this[E]=W[E];if(W.hasOwnProperty("toString"))this.toString=W.toString},clone:function(){return this.init.prototype.extend(this)}}}(),Z=y.WordArray=R.extend({init:function(W,E){if(W=this.words=W||[],E!=b)this.sigBytes=E;else this.sigBytes=W.length*4},toString:function(W){return(W||M).stringify(this)},concat:function(W){var E=this.words,D=W.words,C=this.sigBytes,uo=W.sigBytes;if(this.clamp(),C%4)for(var po=0;po<uo;po++){var To=D[po>>>2]>>>24-po%4*8&255;E[C+po>>>2]|=To<<24-(C+po)%4*8}else for(var co=0;co<uo;co+=4)E[C+co>>>2]=D[co>>>2];return this.sigBytes+=uo,this},clamp:function(){var W=this.words,E=this.sigBytes;W[E>>>2]&=4294967295<<32-E%4*8,W.length=v.ceil(E/4)},clone:function(){var W=R.clone.call(this);return W.words=this.words.slice(0),W},random:function(W){var E=[];for(var D=0;D<W;D+=4)E.push(u());return new Z.init(E,W)}}),T=L.enc={},M=T.Hex={stringify:function(W){var{words:E,sigBytes:D}=W,C=[];for(var uo=0;uo<D;uo++){var po=E[uo>>>2]>>>24-uo%4*8&255;C.push((po>>>4).toString(16)),C.push((po&15).toString(16))}return C.join("")},parse:function(W){var E=W.length,D=[];for(var C=0;C<E;C+=2)D[C>>>3]|=parseInt(W.substr(C,2),16)<<24-C%8*4;return new Z.init(D,E/2)}},$=T.Latin1={stringify:function(W){var{words:E,sigBytes:D}=W,C=[];for(var uo=0;uo<D;uo++){var po=E[uo>>>2]>>>24-uo%4*8&255;C.push(String.fromCharCode(po))}return C.join("")},parse:function(W){var E=W.length,D=[];for(var C=0;C<E;C++)D[C>>>2]|=(W.charCodeAt(C)&255)<<24-C%4*8;return new Z.init(D,E)}},q=T.Utf8={stringify:function(W){try{return decodeURIComponent(escape($.stringify(W)))}catch(E){throw new Error("Malformed UTF-8 data")}},parse:function(W){return $.parse(unescape(encodeURIComponent(W)))}},g=y.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new Z.init,this._nDataBytes=0},_append:function(W){if(typeof W=="string")W=q.parse(W);this._data.concat(W),this._nDataBytes+=W.sigBytes},_process:function(W){var E,D=this._data,C=D.words,uo=D.sigBytes,po=this.blockSize,To=po*4,co=uo/To;if(W)co=v.ceil(co);else co=v.max((co|0)-this._minBufferSize,0);var Lo=co*po,o=v.min(Lo*4,uo);if(Lo){for(var n=0;n<Lo;n+=po)this._doProcessBlock(C,n);E=C.splice(0,Lo),D.sigBytes-=o}return new Z.init(E,o)},clone:function(){var W=R.clone.call(this);return W._data=this._data.clone(),W},_minBufferSize:0}),w=y.Hasher=g.extend({cfg:R.extend(),init:function(W){this.cfg=this.cfg.extend(W),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(W){return this._append(W),this._process(),this},finalize:function(W){if(W)this._append(W);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(W){return function(E,D){return new W.init(D).finalize(E)}},_createHmacHelper:function(W){return function(E,D){return new I.HMAC.init(W,D).finalize(E)}}}),I=L.algo={};return L}(Math);return r})}),D6=vl((l,p)=>{(function(r,v){if(typeof l==="object")p.exports=l=v(X0());else if(typeof define==="function"&&define.amd)define(["./core"],v);else v(r.CryptoJS)})(l,function(r){return function(v){var b=r,x=b.lib,u=x.WordArray,k=x.Hasher,L=b.algo,y=[];(function(){for(var q=0;q<64;q++)y[q]=v.abs(v.sin(q+1))*4294967296|0})();var R=L.MD5=k.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(q,g){for(var w=0;w<16;w++){var I=g+w,W=q[I];q[I]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}var E=this._hash.words,D=q[g+0],C=q[g+1],uo=q[g+2],po=q[g+3],To=q[g+4],co=q[g+5],Lo=q[g+6],o=q[g+7],n=q[g+8],c=q[g+9],s=q[g+10],m=q[g+11],_=q[g+12],h=q[g+13],d=q[g+14],a=q[g+15],t=E[0],S=E[1],U=E[2],P=E[3];t=Z(t,S,U,P,D,7,y[0]),P=Z(P,t,S,U,C,12,y[1]),U=Z(U,P,t,S,uo,17,y[2]),S=Z(S,U,P,t,po,22,y[3]),t=Z(t,S,U,P,To,7,y[4]),P=Z(P,t,S,U,co,12,y[5]),U=Z(U,P,t,S,Lo,17,y[6]),S=Z(S,U,P,t,o,22,y[7]),t=Z(t,S,U,P,n,7,y[8]),P=Z(P,t,S,U,c,12,y[9]),U=Z(U,P,t,S,s,17,y[10]),S=Z(S,U,P,t,m,22,y[11]),t=Z(t,S,U,P,_,7,y[12]),P=Z(P,t,S,U,h,12,y[13]),U=Z(U,P,t,S,d,17,y[14]),S=Z(S,U,P,t,a,22,y[15]),t=T(t,S,U,P,C,5,y[16]),P=T(P,t,S,U,Lo,9,y[17]),U=T(U,P,t,S,m,14,y[18]),S=T(S,U,P,t,D,20,y[19]),t=T(t,S,U,P,co,5,y[20]),P=T(P,t,S,U,s,9,y[21]),U=T(U,P,t,S,a,14,y[22]),S=T(S,U,P,t,To,20,y[23]),t=T(t,S,U,P,c,5,y[24]),P=T(P,t,S,U,d,9,y[25]),U=T(U,P,t,S,po,14,y[26]),S=T(S,U,P,t,n,20,y[27]),t=T(t,S,U,P,h,5,y[28]),P=T(P,t,S,U,uo,9,y[29]),U=T(U,P,t,S,o,14,y[30]),S=T(S,U,P,t,_,20,y[31]),t=M(t,S,U,P,co,4,y[32]),P=M(P,t,S,U,n,11,y[33]),U=M(U,P,t,S,m,16,y[34]),S=M(S,U,P,t,d,23,y[35]),t=M(t,S,U,P,C,4,y[36]),P=M(P,t,S,U,To,11,y[37]),U=M(U,P,t,S,o,16,y[38]),S=M(S,U,P,t,s,23,y[39]),t=M(t,S,U,P,h,4,y[40]),P=M(P,t,S,U,D,11,y[41]),U=M(U,P,t,S,po,16,y[42]),S=M(S,U,P,t,Lo,23,y[43]),t=M(t,S,U,P,c,4,y[44]),P=M(P,t,S,U,_,11,y[45]),U=M(U,P,t,S,a,16,y[46]),S=M(S,U,P,t,uo,23,y[47]),t=$(t,S,U,P,D,6,y[48]),P=$(P,t,S,U,o,10,y[49]),U=$(U,P,t,S,d,15,y[50]),S=$(S,U,P,t,co,21,y[51]),t=$(t,S,U,P,_,6,y[52]),P=$(P,t,S,U,po,10,y[53]),U=$(U,P,t,S,s,15,y[54]),S=$(S,U,P,t,C,21,y[55]),t=$(t,S,U,P,n,6,y[56]),P=$(P,t,S,U,a,10,y[57]),U=$(U,P,t,S,Lo,15,y[58]),S=$(S,U,P,t,h,21,y[59]),t=$(t,S,U,P,To,6,y[60]),P=$(P,t,S,U,m,10,y[61]),U=$(U,P,t,S,uo,15,y[62]),S=$(S,U,P,t,c,21,y[63]),E[0]=E[0]+t|0,E[1]=E[1]+S|0,E[2]=E[2]+U|0,E[3]=E[3]+P|0},_doFinalize:function(){var q=this._data,g=q.words,w=this._nDataBytes*8,I=q.sigBytes*8;g[I>>>5]|=128<<24-I%32;var W=v.floor(w/4294967296),E=w;g[(I+64>>>9<<4)+15]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,g[(I+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,q.sigBytes=(g.length+1)*4,this._process();var D=this._hash,C=D.words;for(var uo=0;uo<4;uo++){var po=C[uo];C[uo]=(po<<8|po>>>24)&16711935|(po<<24|po>>>8)&4278255360}return D},clone:function(){var q=k.clone.call(this);return q._hash=this._hash.clone(),q}});function Z(q,g,w,I,W,E,D){var C=q+(g&w|~g&I)+W+D;return(C<<E|C>>>32-E)+g}function T(q,g,w,I,W,E,D){var C=q+(g&I|w&~I)+W+D;return(C<<E|C>>>32-E)+g}function M(q,g,w,I,W,E,D){var C=q+(g^w^I)+W+D;return(C<<E|C>>>32-E)+g}function $(q,g,w,I,W,E,D){var C=q+(w^(g|~I))+W+D;return(C<<E|C>>>32-E)+g}b.MD5=k._createHelper(R),b.HmacMD5=k._createHmacHelper(R)}(Math),r.MD5})}),Q6=vl((l,p)=>{(function(r,v){if(typeof l==="object")p.exports=l=v(X0());else if(typeof define==="function"&&define.amd)define(["./core"],v);else v(r.CryptoJS)})(l,function(r){return r.enc.Latin1})}),C6=vl((l,p)=>{p.exports=function r(v){return atob(v)}});class We{getEraseSize(l,p){return p}}var xn,B6=xa(()=>{xn={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),A6={};Ba(A6,{ESP32ROM:()=>yi});var yi,o8=xa(()=>{B6(),yi=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=xn.text_start,this.ENTRY=xn.entry,this.DATA_START=xn.data_start,this.ROM_DATA=xn.data,this.ROM_TEXT=xn.text}async readEfuse(p,r){const v=this.EFUSE_RD_REG_BASE+4*r;return p.debug("Read efuse "+v),await p.readReg(v)}async getPkgVersion(p){const r=await this.readEfuse(p,3);let v=r>>9&7;return v+=(r>>2&1)<<3,v}async getChipRevision(p){const r=await this.readEfuse(p,3),v=await this.readEfuse(p,5),b=await p.readReg(this.DR_REG_SYSCON_BASE+124),x=r>>15&1,u=v>>20&1,k=b>>31&1;if(x!=0)if(u!=0)if(k!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(p){const r=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let v="";const b=await this.getPkgVersion(p),x=await this.getChipRevision(p),u=x==3;if((await this.readEfuse(p,3)&1)!=0)r[0]="ESP32-S0WDQ6",r[1]="ESP32-S0WD";if(u)r[5]="ESP32-PICO-V3";if(b>=0&&b<=6)v=r[b];else v="Unknown ESP32";if(u&&(b===0||b===1))v+="-V3";return v+" (revision "+x+")"}async getChipFeatures(p){const r=["Wi-Fi"],v=await this.readEfuse(p,3);if((v&2)===0)r.push(" BT");if((v&1)!==0)r.push(" Single Core");else r.push(" Dual Core");if((v&8192)!==0)if((v&4096)!==0)r.push(" 160MHz");else r.push(" 240MHz");const b=await this.getPkgVersion(p);if([2,4,5,6].indexOf(b)!==-1)r.push(" Embedded Flash");if(b===6)r.push(" Embedded PSRAM");if((await this.readEfuse(p,4)>>8&31)!==0)r.push(" VRef calibration in efuse");if((v>>14&1)!==0)r.push(" BLK3 partially reserved");const x=await this.readEfuse(p,6)&3,u=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return r.push(" Coding Scheme "+u[x]),r}async getCrystalFreq(p){const r=await p.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,v=p.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER;let b;if(v>33)b=40;else b=26;if(Math.abs(b-v)>1)p.info("WARNING: Unsupported crystal in use");return b}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await this.readEfuse(p,1);r=r>>>0;let v=await this.readEfuse(p,2);v=v>>>0;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}}}),qn,a8=xa(()=>{qn={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),e8={};Ba(e8,{ESP32C3ROM:()=>Ri});var Ri,n8=xa(()=>{a8(),Ri=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=qn.text_start,this.ENTRY=qn.entry,this.DATA_START=qn.data_start,this.ROM_DATA=qn.data,this.ROM_TEXT=qn.text}async getPkgVersion(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>21&7}async getChipRevision(p){const r=this.EFUSE_BASE+68+12;return(await p.readReg(r)&1835008)>>18}async getChipDescription(p){let r;if(await this.getPkgVersion(p)===0)r="ESP32-C3";else r="unknown ESP32-C3";const v=await this.getChipRevision(p);return r+=" (revision "+v+")",r}async getFlashCap(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>27&7}async getFlashVendor(p){const r=this.EFUSE_BASE+68+16,v=await p.readReg(r)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"ZBIT"}[v]||""}async getChipFeatures(p){const r=["Wi-Fi","BLE"],v={0:null,1:"Embedded Flash 4MB",2:"Embedded Flash 2MB",3:"Embedded Flash 1MB",4:"Embedded Flash 8MB"},b=await this.getFlashCap(p),x=await this.getFlashVendor(p),u=v[b],k=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)r.push(`${k} (${x})`);return r}async getCrystalFreq(p){return 40}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),$n,s8=xa(()=>{$n={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),l8={};Ba(l8,{ESP32C2ROM:()=>g0});var g0,vt=xa(()=>{n8(),s8(),g0=class l extends Ri{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=$n.text_start,this.ENTRY=$n.entry,this.DATA_START=$n.data_start,this.ROM_DATA=$n.data,this.ROM_TEXT=$n.text}async getPkgVersion(p){const r=this.EFUSE_BASE+64+4;return await p.readReg(r)>>22&7}async getChipRevision(p){const r=this.EFUSE_BASE+64+4;return(await p.readReg(r)&3145728)>>20}async getChipDescription(p){let r;const v=await this.getPkgVersion(p);if(v===0||v===1)r="ESP32-C2";else r="unknown ESP32-C2";const b=await this.getChipRevision(p);return r+=" (revision "+b+")",r}async getChipFeatures(p){return["Wi-Fi","BLE"]}async getCrystalFreq(p){const r=await p.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,v=p.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER;let b;if(v>33)b=40;else b=26;if(Math.abs(b-v)>1)p.info("WARNING: Unsupported crystal in use");return b}async changeBaudRate(p){if(await this.getCrystalFreq(p)===26)p.changeBaud()}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),Tn,r8=xa(()=>{Tn={entry:1082132112,text:"QREixCbCBsa39wBgEUc3BIRA2Mu39ABgEwQEANxAkYuR57JAIkSSREEBgoCIQBxAE3X1D4KX3bcBEbcHAGBOxoOphwBKyDcJhEAmylLEBs4izLcEAGB9WhMJCQDATBN09A8N4PJAYkQjqDQBQknSRLJJIkoFYYKAiECDJwkAE3X1D4KXfRTjGUT/yb8TBwAMlEGqh2MY5QCFR4XGI6AFAHlVgoAFR2OH5gAJRmONxgB9VYKAQgUTB7ANQYVjlecCiUecwfW3kwbADWMW1QCYwRMFAAyCgJMG0A19VWOV1wCYwRMFsA2CgLc1hUBBEZOFRboGxmE/Y0UFBrc3hUCTh8exA6cHCAPWRwgTdfUPkwYWAMIGwYIjktcIMpcjAKcAA9dHCJFnk4cHBGMe9wI3t4RAEwfHsaFnupcDpgcIt/aEQLc3hUCTh8exk4bGtWMf5gAjpscII6DXCCOSBwghoPlX4wb1/LJAQQGCgCOm1wgjoOcI3bc3NwBgfEudi/X/NycAYHxLnYv1/4KAQREGxt03tzcAYCOmBwI3BwAImMOYQ33/yFeyQBNF9f8FiUEBgoBBEQbG2T993TcHAEC3NwBgmMM3NwBgHEP9/7JAQQGCgEERIsQ3BIRAkwcEAUrAA6kHAQbGJsJjCgkERTc5xb1HEwQEAYFEY9YnAQREvYiTtBQAfTeFPxxENwaAABOXxwCZ4DcGAAG39v8AdY+3NgBg2MKQwphCff9BR5HgBUczCelAupcjKCQBHMSyQCJEkkQCSUEBgoABEQbOIswlNzcEzj9sABMFRP+XAID/54Cg8qqHBUWV57JHk/cHID7GiTc3NwBgHEe3BkAAEwVE/9WPHMeyRZcAgP/ngCDwMzWgAPJAYkQFYYKAQRG3B4RABsaThwcBBUcjgOcAE9fFAJjHBWd9F8zDyMf5jTqVqpWxgYzLI6oHAEE3GcETBVAMskBBAYKAAREizDcEhECTBwQBJsrER07GBs5KyKqJEwQEAWPzlQCuhKnAAylEACaZE1nJABxIY1XwABxEY175ArU9fd1IQCaGzoWXAID/54Ag4xN19Q8BxZMHQAxcyFxAppdcwFxEhY9cxPJAYkTSREJJskkFYYKAaTVtv0ERBsaXAID/54BA1gNFhQGyQHUVEzUVAEEBgoBBEQbGxTcNxbcHhECThwcA1EOZzjdnCWATBwcRHEM3Bv3/fRbxjzcGAwDxjtWPHMOyQEEBgoBBEQbGbTcRwQ1FskBBARcDgP9nAIPMQREGxpcAgP/ngEDKcTcBxbJAQQHZv7JAQQGCgEERBsYTBwAMYxrlABMFsA3RPxMFwA2yQEEB6bcTB7AN4xvl/sE3EwXQDfW3QREixCbCBsYqhLMEtQBjF5QAskAiRJJEQQGCgANFBAAFBE0/7bc1cSbLTsf9coVp/XQizUrJUsVWwwbPk4SE+haRk4cJB6aXGAizhOcAKokmhS6ElwCA/+eAwC+ThwkHGAgFarqXs4pHQTHkBWd9dZMFhfqTBwcHEwWF+RQIqpczhdcAkwcHB66Xs4XXACrGlwCA/+eAgCwyRcFFlTcBRYViFpH6QGpE2kRKSbpJKkqaSg1hgoCiiWNzigCFaU6G1oVKhZcAgP/ngADJE3X1DwHtTobWhSaFlwCA/+eAwCdOmTMENEFRtxMFMAZVvxMFAAzZtTFx/XIFZ07XUtVW017PBt8i3SbbStla0WLNZstqyW7H/XcWkRMHBwc+lxwIupc+xiOqB/iqiS6Ksoq2iwU1kwcAAhnBtwcCAD6FlwCA/+eAYCCFZ2PlVxMFZH15EwmJ+pMHBAfKlxgIM4nnAEqFlwCA/+eA4B59exMMO/mTDIv5EwcEB5MHBAcUCGKX5peBRDMM1wCzjNcAUk1jfE0JY/GkA0GomT+ihQgBjTW5NyKGDAFKhZcAgP/ngMAaopmilGP1RAOzh6RBY/F3AzMEmkBj84oAVoQihgwBToWXAID/54BAuBN19Q9V3QLMAUR5XY1NowkBAGKFlwCA/+eAgKd9+QNFMQHmhVE8Y08FAOPijf6FZ5OHBweilxgIupfalyOKp/gFBPG34xWl/ZFH4wX09gVnfXWTBwcHkwWF+hMFhfkUCKqXM4XXAJMHBweul7OF1wAqxpcAgP/ngOAQcT0yRcFFZTNRPdU5twcCABnhkwcAAj6FlwCA/+eA4A2FYhaR+lBqVNpUSlm6WSpamloKW/pLakzaTEpNuk0pYYKAt1dBSRlxk4f3hAFFht6i3KbaytjO1tLU1tLa0N7O4szmyurI7sY+zpcAgP/ngMCgcTENwTdnCWATBwcRHEO3BoRAI6L2ALcG/f/9FvWPwWbVjxzDpTEFzbcnC2A3R9hQk4aHwRMHF6qYwhOGB8AjIAYAI6AGAJOGB8KYwpOHx8GYQzcGBABRj5jDI6AGALcHhEA3N4VAk4cHABMHx7ohoCOgBwCRB+Pt5/5FO5FFaAh1OWUzt7eEQJOHx7EhZz6XIyD3CLcHgEA3CYRAk4eHDiMg+QC3OYVA1TYTCQkAk4nJsWMHBRC3BwFgRUcjoOcMhUVFRZcAgP/ngED5twWAQAFGk4UFAEVFlwCA/+eAQPo39wBgHEs3BQIAk+dHABzLlwCA/+eAQPm3FwlgiF+BRbcEhEBxiWEVEzUVAJcAgP/ngAChwWf9FxMHABCFZkFmtwUAAQFFk4QEAQ1qtzqEQJcAgP/ngACXJpoTi8qxg6fJCPXfg6vJCIVHI6YJCCMC8QKDxxsACUcjE+ECowLxAgLUTUdjgecIUUdjj+cGKUdjn+cAg8c7AAPHKwCiB9mPEUdjlucAg6eLAJxDPtRxOaFFSBBlNoPHOwADxysAogfZjxFnQQdjdPcEEwWwDZk2EwXADYE2EwXgDi0+vTFBt7cFgEABRpOFhQMVRZcAgP/ngADrNwcAYFxHEwUAApPnFxBcxzG3yUcjE/ECTbcDxxsA0UZj5+YChUZj5uYAAUwTBPAPhah5FxN39w/JRuPo5v63NoVACgeThga7NpcYQwKHkwYHA5P29g8RRuNp1vwTB/cCE3f3D41GY+vmCLc2hUAKB5OGxr82lxhDAocTB0ACY5jnEALUHUQBRWE8AUVFPOE22TahRUgQfRTBPHX0AUwBRBN19A9hPBN1/A9JPG024x4E6oPHGwBJR2Nj9y4JR+N29+r1F5P39w89R+Ng9+o3N4VAigcTB8fAupecQ4KHBUSd63AQgUUBRZfwf//ngAB0HeHRRWgQjTwBRDGoBUSB75fwf//ngAB5MzSgACmgIUdjhecABUQBTGG3A6yLAAOkywCzZ4wA0gf19+/wv4h98cFsIpz9HH19MwWMQFXcs3eVAZXjwWwzBYxAY+aMAv18MwWMQFXQMYGX8H//54CAdVX5ZpT1tzGBl/B//+eAgHRV8WqU0bdBgZfwf//ngMBzUfkzBJRBwbchR+OJ5/ABTBMEAAwxt0FHzb9BRwVE45zn9oOlywADpYsA1TKxv0FHBUTjkuf2A6cLAZFnY+XnHIOlSwEDpYsA7/D/gzW/QUcFROOS5/SDpwsBEWdjZfcaA6fLAIOlSwEDpYsAM4TnAu/wf4EjrAQAIySKsDG3A8cEAGMOBxADp4sAwRcTBAAMYxP3AMBIAUeTBvAOY0b3AoPHWwADx0sAAUyiB9mPA8drAEIHXY+Dx3sA4gfZj+OB9uYTBBAMqb0zhusAA0aGAQUHsY7ht4PHBADxw9xEY5gHEsBII4AEAH21YUdjlucCg6fLAQOniwGDpksBA6YLAYOlywADpYsAl/B//+eAQGQqjDM0oAAptQFMBUQRtRFHBUTjmufmA6WLAIFFl/B//+eAwGmRtRP39wDjGgfsk9xHABOEiwABTH1d43mc3UhEl/B//+eAwE0YRFRAEED5jmMHpwEcQhNH9/99j9mOFMIFDEEE2b8RR0m9QUcFROOc5+CDp4sAA6dLASMm+QAjJOkA3bODJYkAwReR5YnPAUwTBGAMtbsDJ8kAY2b3BhP3NwDjHgfkAyjJAAFGAUczBehAs4blAGNp9wDjCQbUIyapACMk2QCZszOG6wAQThEHkMIFRum/IUcFROOW59oDJMkAGcATBIAMIyYJACMkCQAzNIAASbsBTBMEIAwRuwFMEwSADDGzAUwTBJAMEbMTByANY4PnDBMHQA3jkOe8A8Q7AIPHKwAiBF2Ml/B//+eA4EwDrMQAQRRjc4QBIozjDgy4wEBilDGAnEhjVfAAnERjW/QK7/BP0XXdyEBihpOFiwGX8H//54DgSAHFkwdADNzI3EDil9zA3ESzh4dB3MSX8H//54DAR4m+CWUTBQVxA6zLAAOkiwCX8H//54BAOLcHAGDYS7cGAAHBFpNXRwESB3WPvYvZj7OHhwMBRbPVhwKX8H//54BgORMFgD6X8H//54DgNBG2g6ZLAQOmCwGDpcsAA6WLAO/wT/79tIPFOwCDxysAE4WLAaIF3Y3BFe/wL9vZvO/wj8o9v4PHOwADxysAE4yLAaIH2Y8TjQf/BUS3O4VA3ERjBQ0AmcNjTIAAY1AEChMHcAzYyOOfB6iTB5AMYaiTh8u6mEO3t4RAk4fHsZmPPtaDJ4qwtzyEQGrQk4wMAZONy7oFSGNz/QANSELGOsTv8I/DIkcySDcFhEDihXwQk4bKsRAQEwWFApfwf//ngEA0glcDp4ywg6UNADMN/UAdjz6cslcjpOywKoS+lSOgvQCTh8qxnY0BxaFn45L19lqF7/CvziOgbQGZvy3044MHoJMHgAzcyPW6g6eLAOObB57v8C/ZCWUTBQVxl/B//+eAoCLv8K/Ul/B//+eA4CbRugOkywDjBwSc7/Cv1hMFgD6X8H//54BAIO/wT9IClFW67/DP0fZQZlTWVEZZtlkmWpZaBlv2S2ZM1kxGTbZNCWGCgAAA",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),i8={};Ba(i8,{ESP32C6ROM:()=>Zl});var Zl,S0=xa(()=>{r8(),Zl=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=Tn.text_start,this.ENTRY=Tn.entry,this.DATA_START=Tn.data_start,this.ROM_DATA=Tn.data,this.ROM_TEXT=Tn.text}async getPkgVersion(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>21&7}async getChipRevision(p){const r=this.EFUSE_BASE+68+12;return(await p.readReg(r)&1835008)>>18}async getChipDescription(p){let r;if(await this.getPkgVersion(p)===0)r="ESP32-C6";else r="unknown ESP32-C6";const v=await this.getChipRevision(p);return r+=" (revision "+v+")",r}async getChipFeatures(p){return["Wi-Fi 6","BT 5","IEEE802.15.4"]}async getCrystalFreq(p){return 40}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),Vn,c8=xa(()=>{Vn={entry:1082132164,text:"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",text_start:1082130432,data:"FECAQHQKgEDECoBAHAuAQOoLgEBWDIBABAyAQEAJgECmC4BA5guAQDALgEDwCIBAZAuAQPAIgEBOCoBAlAqAQMQKgEAcC4BAYAqAQKQJgEDUCYBAXAqAQK4OgEDECoBAbg2AQGYOgEAwCIBAjg6AQDAIgEAwCIBAMAiAQDAIgEAwCIBAMAiAQDAIgEAwCIBACg2AQDAIgECMDYBAZg6AQA==",data_start:1082223536,bss_start:1082146816}}),u8={};Ba(u8,{ESP32C61ROM:()=>W0});var W0,Zt=xa(()=>{S0(),c8(),W0=class l extends Zl{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C61",this.IMAGE_CHIP_ID=20,this.CHIP_DETECT_MAGIC_VALUE=[871374959,606167151],this.TEXT_START=Vn.text_start,this.ENTRY=Vn.entry,this.DATA_START=Vn.data_start,this.ROM_DATA=Vn.data,this.ROM_TEXT=Vn.text,this.UART_DATE_REG_ADDR=1610612860,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=0,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=4,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY2_SHIFT=8,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY3_SHIFT=12,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY4_SHIFT=16,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY5_SHIFT=20,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+48,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=58720256,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+52,this.EFUSE_SECURE_BOOT_EN_MASK=67108864,this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1098907648,1107296256,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1074048000,1074069504,"DROM_MASK"],[1073741824,1074048000,"IROM_MASK"],[1090519040,1098907648,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=2010665156,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY",13:"XTS_AES_256_KEY_1_PSRAM",14:"XTS_AES_256_KEY_2_PSRAM",15:"XTS_AES_128_KEY_PSRAM"}}async getPkgVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(p){const r=await this.getPkgVersion(p);let v;if(r===0)v="ESP32-C61";else v="unknown ESP32-C61";const b=await this.getMajorChipVersion(p),x=await this.getMinorChipVersion(p);return`${v} (revision v${b}.${x})`}async getChipFeatures(p){return["WiFi 6","BT 5"]}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}}}),Mn,m8=xa(()=>{Mn={entry:1082132164,text:"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",text_start:1082130432,data:"FACEQG4KgEC+CoBAFguAQOQLgEBQDIBA/guAQDoJgECgC4BA4AuAQCoLgEDqCIBAXguAQOoIgEBICoBAjgqAQL4KgEAWC4BAWgqAQJ4JgEDOCYBAVgqAQKgOgEC+CoBAaA2AQGAOgEAqCIBAiA6AQCoIgEAqCIBAKgiAQCoIgEAqCIBAKgiAQCoIgEAqCIBABA2AQCoIgECGDYBAYA6AQA==",data_start:1082469296,bss_start:1082392576}}),t8={};Ba(t8,{ESP32C5ROM:()=>j0});var j0,yt=xa(()=>{S0(),m8(),j0=class l extends Zl{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C5",this.IMAGE_CHIP_ID=23,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.TEXT_START=Mn.text_start,this.ENTRY=Mn.entry,this.DATA_START=Mn.data_start,this.ROM_DATA=Mn.data,this.ROM_TEXT=Mn.text,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.IROM_MAP_START=1107296256,this.IROM_MAP_END=1115684864,this.DROM_MAP_START=1115684864,this.DROM_MAP_END=1124073472,this.PCR_SYSCLK_CONF_REG=1611227408,this.PCR_SYSCLK_XTAL_FREQ_V=2130706432,this.PCR_SYSCLK_XTAL_FREQ_S=24,this.XTAL_CLK_DIVIDER=1,this.UARTDEV_BUF_NO=1082520860,this.CHIP_DETECT_MAGIC_VALUE=[285294703],this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1115684864,1124073472,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1073979392,1074003968,"DROM_MASK"],[1073741824,1073979392,"IROM_MASK"],[1107296256,1115684864,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=4145808195,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"}}async getPkgVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(p){return await p.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(p){const r=await this.getPkgVersion(p);let v;if(r===0)v="ESP32-C5";else v="unknown ESP32-C5";const b=await this.getMajorChipVersion(p),x=await this.getMinorChipVersion(p);return`${v} (revision v${b}.${x})`}async getCrystalFreq(p){const r=await p.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,v=p.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER;let b;if(v>45)b=48;else if(v>33)b=40;else b=26;if(Math.abs(b-v)>1)p.info("WARNING: Unsupported crystal in use");return b}async getCrystalFreqRomExpect(p){return(await p.readReg(this.PCR_SYSCLK_CONF_REG)&this.PCR_SYSCLK_XTAL_FREQ_V)>>this.PCR_SYSCLK_XTAL_FREQ_S}}}),Ln,d8=xa(()=>{Ln={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),p8={};Ba(p8,{ESP32H2ROM:()=>w0});var w0,Rt=xa(()=>{d8(),w0=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Ln.text_start,this.ENTRY=Ln.entry,this.DATA_START=Ln.data_start,this.ROM_DATA=Ln.data,this.ROM_TEXT=Ln.text}async getChipDescription(p){return this.CHIP_NAME}async getChipFeatures(p){return["BLE","IEEE802.15.4"]}async getCrystalFreq(p){return 32}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async postConnect(p){const r=await p.readReg(this.UARTDEV_BUF_NO)&255;if(p.debug("In _post_connect "+r),r==this.UARTDEV_BUF_NO_USB)p.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),On,b8=xa(()=>{On={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),f8={};Ba(f8,{ESP32S3ROM:()=>F0});var F0,xt=xa(()=>{b8(),F0=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=On.text_start,this.ENTRY=On.entry,this.DATA_START=On.data_start,this.ROM_DATA=On.data,this.ROM_TEXT=On.text}async getChipDescription(p){return"ESP32-S3"}async getFlashCap(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>27&7}async getFlashVendor(p){const r=this.EFUSE_BASE+68+16,v=await p.readReg(r)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"BY"}[v]||""}async getPsramCap(p){const r=this.EFUSE_BASE+68+16;return await p.readReg(r)>>3&3}async getPsramVendor(p){const r=this.EFUSE_BASE+68+16,v=await p.readReg(r)>>7&3;return{1:"AP_3v3",2:"AP_1v8"}[v]||""}async getChipFeatures(p){const r=["Wi-Fi","BLE"],v={0:null,1:"Embedded Flash 8MB",2:"Embedded Flash 4MB"},b=await this.getFlashCap(p),x=await this.getFlashVendor(p),u=v[b],k=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)r.push(`${k} (${x})`);const L={0:null,1:"Embedded PSRAM 8MB",2:"Embedded PSRAM 2MB"},y=await this.getPsramCap(p),R=await this.getPsramVendor(p),Z=L[y],T=Z!==void 0?Z:"Unknown Embedded PSRAM";if(Z!==null)r.push(`${T} (${R})`);return r}async getCrystalFreq(p){return 40}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async postConnect(p){const r=await p.readReg(this.UARTDEV_BUF_NO)&255;if(p.debug("In _post_connect "+r),r==this.UARTDEV_BUF_NO_USB)p.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),Un,_8=xa(()=>{Un={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),k8={};Ba(k8,{ESP32S2ROM:()=>I0});var I0,qt=xa(()=>{_8(),I0=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=Un.text_start,this.ENTRY=Un.entry,this.DATA_START=Un.data_start,this.ROM_DATA=Un.data,this.ROM_TEXT=Un.text}async getPkgVersion(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>21&15}async getChipDescription(p){const r=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],v=await this.getPkgVersion(p);if(v>=0&&v<=2)return r[v];else return"unknown ESP32-S2"}async getFlashCap(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>21&15}async getPsramCap(p){const r=this.EFUSE_BASE+68+12;return await p.readReg(r)>>28&15}async getBlock2Version(p){const r=this.EFUSE_BASE+92+16;return await p.readReg(r)>>4&7}async getChipFeatures(p){const r=["Wi-Fi"],v={0:"No Embedded Flash",1:"Embedded Flash 2MB",2:"Embedded Flash 4MB"},b=await this.getFlashCap(p),x=v[b]||"Unknown Embedded Flash";r.push(x);const u={0:"No Embedded Flash",1:"Embedded PSRAM 2MB",2:"Embedded PSRAM 4MB"},k=await this.getPsramCap(p),L=u[k]||"Unknown Embedded PSRAM";r.push(L);const y={0:"No calibration in BLK2 of efuse",1:"ADC and temperature sensor calibration in BLK2 of efuse V1",2:"ADC and temperature sensor calibration in BLK2 of efuse V2"},R=await this.getBlock2Version(p),Z=y[R]||"Unknown Calibration in BLK2";return r.push(Z),r}async getCrystalFreq(p){return 40}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(p,r){return r}}}),Xn,h8=xa(()=>{Xn={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),N8={};Ba(N8,{ESP8266ROM:()=>z0});var z0,$t=xa(()=>{h8(),z0=class l extends We{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=Xn.text_start,this.ENTRY=Xn.entry,this.DATA_START=Xn.data_start,this.ROM_DATA=Xn.data,this.ROM_TEXT=Xn.text,this.getChipFeatures=async(p)=>{const r=["WiFi"];if(await this.getChipDescription(p)=="ESP8285")r.push("Embedded Flash");return r}}async readEfuse(p,r){const v=this.EFUSE_RD_REG_BASE+4*r;return p.debug("Read efuse "+v),await p.readReg(v)}async getChipDescription(p){const r=await this.readEfuse(p,2);return(await this.readEfuse(p,0)&16|r&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(p){const r=await p.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,v=p.transport.baudrate*r/1e6/this.XTAL_CLK_DIVIDER;let b;if(v>33)b=40;else b=26;if(Math.abs(b-v)>1)p.info("WARNING: Detected crystal freq "+v+"MHz is quite different to normalized freq "+b+"MHz. Unsupported crystal in use?");return b}_d2h(p){const r=(+p).toString(16);return r.length===1?"0"+r:r}async readMac(p){let r=await this.readEfuse(p,0);r=r>>>0;let v=await this.readEfuse(p,1);v=v>>>0;let b=await this.readEfuse(p,3);b=b>>>0;const x=new Uint8Array(6);if(b!=0)x[0]=b>>16&255,x[1]=b>>8&255,x[2]=b&255;else if((v>>16&255)==0)x[0]=24,x[1]=254,x[2]=52;else if((v>>16&255)==1)x[0]=172,x[1]=208,x[2]=116;else p.error("Unknown OUI");return x[3]=v>>8&255,x[4]=v&255,x[5]=r>>24&255,this._d2h(x[0])+":"+this._d2h(x[1])+":"+this._d2h(x[2])+":"+this._d2h(x[3])+":"+this._d2h(x[4])+":"+this._d2h(x[5])}getEraseSize(p,r){return r}}}),gn,v8=xa(()=>{gn={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),Z8={};Ba(Z8,{ESP32P4ROM:()=>J0});var J0,Tt=xa(()=>{o8(),v8(),J0=class l extends yi{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=gn.text_start,this.ENTRY=gn.entry,this.DATA_START=gn.data_start,this.ROM_DATA=gn.data,this.ROM_TEXT=gn.text}async getPkgVersion(p){const r=this.EFUSE_BLOCK1_ADDR+8;return await p.readReg(r)>>27&7}async getMinorChipVersion(p){const r=this.EFUSE_BLOCK1_ADDR+8;return await p.readReg(r)>>0&15}async getMajorChipVersion(p){const r=this.EFUSE_BLOCK1_ADDR+8;return await p.readReg(r)>>4&3}async getChipDescription(p){const r=await this.getPkgVersion(p)===0?"ESP32-P4":"unknown ESP32-P4",v=await this.getMajorChipVersion(p),b=await this.getMinorChipVersion(p);return`${r} (revision v${v}.${b})`}async getChipFeatures(p){return["High-Performance MCU"]}async getCrystalFreq(p){return 40}async getFlashVoltage(p){return}async overrideVddsdio(p){p.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(p){let r=await p.readReg(this.MAC_EFUSE_REG);r=r>>>0;let v=await p.readReg(this.MAC_EFUSE_REG+4);v=v>>>0&65535;const b=new Uint8Array(6);return b[0]=v>>8&255,b[1]=v&255,b[2]=r>>24&255,b[3]=r>>16&255,b[4]=r>>8&255,b[5]=r&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}async getFlashCryptConfig(p){return}async getSecureBootEnabled(p){return await p.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(p,r){if(r<0||r>this.EFUSE_MAX_KEY){p.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const v=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[b,x]=v[r];return await p.readReg(b)>>x&15}async isFlashEncryptionKeyValid(p){const r=[];for(let x=0;x<=this.EFUSE_MAX_KEY;x++){const u=await this.getKeyBlockPurpose(p,x);r.push(u)}if(typeof r.find((x)=>x===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const v=r.find((x)=>x===this.PURPOSE_VAL_XTS_AES256_KEY_1),b=r.find((x)=>x===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof v!==void 0&&typeof b!==void 0)return!0;return!1}}}),R8="\x01",wu="\x02",Pr="\x03",Hr="\x04",Fu=512,Gr=80,x8=1152000;class K0{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(l=[]){return navigator.serial.requestPort({filters:l}).then((p)=>{if(p._serial){this.serial=p._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new y8(p),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(l={}){return new Promise((p,r)=>{if(this.serial)this.serial.open({baudRate:x8,...l}).then(()=>p()).catch((v)=>{if(v.name==="InvalidStateError")this._connected=!0,p();r(v)});else r(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(l,p){return new Promise((r)=>{let v="";const b=async(x)=>{if(x){if(v+=this._decoder.decode(x),p)p(x)}if(v.indexOf(l)!==-1)this.serial.off("data",b),r(v)};this.serial.on("data",b)})}writeAndReadUntil(l,p,r){return new Promise(async(v)=>{if(p)this.readUntil(p,r).then(v);for(let b=0;b<l.length;b+=Fu)await this.serial.write(l.slice(b,b+Fu)),await Er(10);if(!p)v()})}async getPrompt(){return await Er(150),await this.stop(),await Er(150),await this.writeAndReadUntil(`\r${Pr}${wu}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(R8,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(wu,"\r\n>>>")}async execRaw(l,p){return await this.writeAndReadUntil(l),await this.writeAndReadUntil(Hr,`${Hr}>`,p)}async execFile(l,p){if(p=p||function(){},l){await this.enterRawRepl();const r=await this.execRaw(l,p);return await this.exitRawRepl(),r}return Promise.reject()}async run(l,p){return p=p||function(){},new Promise(async(r,v)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=v;try{await this.enterRawRepl();const b=await this.execRaw(l||"#",p);return await this.exitRawRepl(),r(b)}catch(b){v(b),this.rejectRun=null}})}async eval(l){await this.serial.write(l)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(Pr)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(Pr),await this.serial.write(Hr)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(l){l=l||"";let p="";p+="try:\n",p+=`  f = open('${l}', 'r')\n`,p+="  print(1)\n",p+="except OSError:\n",p+="  print(0)\n",await this.enterRawRepl();const r=await this.execRaw(p);return await this.exitRawRepl(),r[2]=="1"}async listdir(l){l=l||"";let p="";p+="import os\n",p+="try:\n",p+=`  print(os.listdir('${l}'))\n`,p+="except OSError:\n",p+="  print([])\n",await this.enterRawRepl();let r=await this.execRaw(p);return await this.exitRawRepl(),r=ju(r),r=r.replace(/'/g,'"'),JSON.parse(r)}async mkdir(l){if(l){await this.enterRawRepl();const p=await this.execRaw(`import os\nos.mkdir('${l}')`);return await this.exitRawRepl(),p}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(l){if(l){let p="";p+="import os\n",p+="try:\n",p+=`  os.rmdir("${l}")\n`,p+="except OSError:\n",p+="  print(0)\n",await this.enterRawRepl();const r=await this.execRaw(p);return await this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async remove(l){if(l){let p="";p+="import os\n",p+="try:\n",p+=`  os.remove("${l}")\n`,p+="except OSError:\n",p+="  print(0)\n",await this.enterRawRepl();const r=await this.execRaw(p);return this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async rename(l,p){if(l&&p){await this.enterRawRepl();const r=await this.execRaw(`import os\nos.rename('${l}', '${p}')`);return this.exitRawRepl(),r}return Promise.reject(new Error("Path to file was not specified"))}async cat(l){if(l){await this.enterRawRepl();let p=await this.execRaw(`with open('${l}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),p=ju(p),Wu(p)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(l,p){if(l){let r="";r+="import os\n",r+="import hashlib\n",r+="import binascii\n",r+="hash = hashlib.sha256()\n",r+=`with open('${l}', 'rb') as f:\n`,r+="  while True:\n",r+=`    c = f.read(${Gr})\n`,r+="    if not c: break\n",r+="    hash.update(c)\n",r+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let v=await this.execRaw(r);return await this.exitRawRepl(),v=v.slice(2,v.indexOf("\n")-1),p===v}return Promise.reject(new Error("Path to file was not specified"))}async put(l,p,r){if(!p){Promise.reject(new Error("Must specify content and destination path"));return}let v;if(typeof l==="string")v=this._encoder.encode(Wu(l));else if(l instanceof ArrayBuffer)v=new Uint8Array(l);else if(l instanceof Uint8Array)v=l;else Promise.reject(new Error(`${l} must string, Uint8Array or ArrayBuffer`));if(r=r||function(){},await this.exists(p)){const k=await crypto.subtle.digest("SHA-256",v),L=Array.from(new Uint8Array(k)).map((y)=>y.toString(16).padStart(2,"0")).join("");if(await this.checkHash(p,L)){r(100);return}}const b=Array.from(v).map((k)=>k.toString(16).padStart(2,"0"));let x="";x+=await this.enterRawRepl();let u=p.split("/");if(u.pop(),u.length>0){x+=await this.execRaw("import os");const k=[];u.reduce((L,y)=>{if(y===""||L!==""&&L.at(-1)!=="/")L+="/";if(L+=y,L!=="/")k.push(L);return L},"");for(let L of k)x+=await this.execRaw(`os.mkdir('${L}')`)}x+=await this.execRaw(`f=open('${p}','w')\nw=f.write`);for(let k=0;k<b.length;k+=Gr){const L=b.slice(k,k+Gr).map((y)=>`\\x${y}`);x+=await this.execRaw(`w(b"${L.join("")}")`),r(parseInt(k/b.length*100))}return x+=await this.execRaw("f.close()"),x+=await this.exitRawRepl(),r(100),x}}var E0=async(l)=>{const p=new K0;return await p.requestPort(l),await p.connect(),p};var P0=(l,p=1000)=>{let r;const v=new Promise((b,x)=>{r=b;const u=()=>{setTimeout(()=>{if(l.connected)u();else x("disconnected")},p)};u()});return{cancel(){return r()},catch(...b){return v.catch(...b),this},then(...b){return v.then(...b),this},finally(...b){return v.finally(...b),this}}},H0=async(l,p)=>{await l.stop(),await l.enterRawRepl();let r="import device.config as config\n";for(let[v,b]of Object.entries(p))if(typeof b==="number"&&b%1===0)r+=`config.set_int("${v}", ${b})\n`;else if(typeof b==="boolean")r+=`config.set_bool("${v}", ${b?"True":"False"})\n`;else r+=`config.set_str("${v}", "${b}")\n`;r+="config.save()\n",await l.execRaw(r),await l.exitRawRepl()},G0=async(l,p)=>{await l.stop();let r=0;for(let x of p)r+=x.content?.length??x.data?.length??0;await l.enterRawRepl();let v="from device.flash import check_flash_free\n";v+=`print(check_flash_free(${r}))\n`;const b=await l.execRaw(v);return await l.exitRawRepl(),b.slice(2,-3).trim()==="True"};var Y0=async(l,p,r)=>{await l.stop(),await l.enterRawRepl(),await l.execRaw("import download_screen\n"),await l.exitRawRepl();const v=p.length;let b=0;const x=(u)=>{r(((b+1/v*(u/100))*100).toFixed(1))};for(let u of p){let{id:k,content:L}=u;if(u.type){if(u.type==="text/x-python"&&!k.endsWith(".py"))k+=".py";else if(u.type.startsWith("image/")&&!L)L=await q8(u.type,u.data)}await l.put(L||"",k,x),b+=1/v}r(100)},Mt=Zi(D6(),1),Lt=Zi(Q6(),1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var L8=0,D0=1,O8=2,U8=3,X8=258,$i=29,vs=256,ms=vs+1+$i,Sn=30,Ti=19,Q0=2*ms+1,on=15,Qr=16,g8=7,Vi=256,C0=16,B0=17,A0=18,di=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fl=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),S8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W8=512,Ne=new Array((ms+2)*2);wn(Ne);var rs=new Array(Sn*2);wn(rs);var ts=new Array(W8);wn(ts);var ds=new Array(X8-U8+1);wn(ds);var Mi=new Array($i);wn(Mi);var kl=new Array(Sn);wn(kl);var a1,e1,n1,s1=(l)=>{return l<256?ts[l]:ts[256+(l>>>7)]},ps=(l,p)=>{l.pending_buf[l.pending++]=p&255,l.pending_buf[l.pending++]=p>>>8&255},za=(l,p,r)=>{if(l.bi_valid>Qr-r)l.bi_buf|=p<<l.bi_valid&65535,ps(l,l.bi_buf),l.bi_buf=p>>Qr-l.bi_valid,l.bi_valid+=r-Qr;else l.bi_buf|=p<<l.bi_valid&65535,l.bi_valid+=r},me=(l,p,r)=>{za(l,r[p*2],r[p*2+1])},l1=(l,p)=>{let r=0;do r|=l&1,l>>>=1,r<<=1;while(--p>0);return r>>>1},j8=(l)=>{if(l.bi_valid===16)ps(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0;else if(l.bi_valid>=8)l.pending_buf[l.pending++]=l.bi_buf&255,l.bi_buf>>=8,l.bi_valid-=8},w8=(l,p)=>{const{dyn_tree:r,max_code:v}=p,b=p.stat_desc.static_tree,x=p.stat_desc.has_stree,u=p.stat_desc.extra_bits,k=p.stat_desc.extra_base,L=p.stat_desc.max_length;let y,R,Z,T,M,$,q=0;for(T=0;T<=on;T++)l.bl_count[T]=0;r[l.heap[l.heap_max]*2+1]=0;for(y=l.heap_max+1;y<Q0;y++){if(R=l.heap[y],T=r[r[R*2+1]*2+1]+1,T>L)T=L,q++;if(r[R*2+1]=T,R>v)continue;if(l.bl_count[T]++,M=0,R>=k)M=u[R-k];if($=r[R*2],l.opt_len+=$*(T+M),x)l.static_len+=$*(b[R*2+1]+M)}if(q===0)return;do{T=L-1;while(l.bl_count[T]===0)T--;l.bl_count[T]--,l.bl_count[T+1]+=2,l.bl_count[L]--,q-=2}while(q>0);for(T=L;T!==0;T--){R=l.bl_count[T];while(R!==0){if(Z=l.heap[--y],Z>v)continue;if(r[Z*2+1]!==T)l.opt_len+=(T-r[Z*2+1])*r[Z*2],r[Z*2+1]=T;R--}}},r1=(l,p,r)=>{const v=new Array(on+1);let b=0,x,u;for(x=1;x<=on;x++)b=b+r[x-1]<<1,v[x]=b;for(u=0;u<=p;u++){let k=l[u*2+1];if(k===0)continue;l[u*2]=l1(v[k]++,k)}},F8=()=>{let l,p,r,v,b;const x=new Array(on+1);r=0;for(v=0;v<$i-1;v++){Mi[v]=r;for(l=0;l<1<<di[v];l++)ds[r++]=v}ds[r-1]=v,b=0;for(v=0;v<16;v++){kl[v]=b;for(l=0;l<1<<fl[v];l++)ts[b++]=v}b>>=7;for(;v<Sn;v++){kl[v]=b<<7;for(l=0;l<1<<fl[v]-7;l++)ts[256+b++]=v}for(p=0;p<=on;p++)x[p]=0;l=0;while(l<=143)Ne[l*2+1]=8,l++,x[8]++;while(l<=255)Ne[l*2+1]=9,l++,x[9]++;while(l<=279)Ne[l*2+1]=7,l++,x[7]++;while(l<=287)Ne[l*2+1]=8,l++,x[8]++;r1(Ne,ms+1,x);for(l=0;l<Sn;l++)rs[l*2+1]=5,rs[l*2]=l1(l,5);a1=new Yr(Ne,di,vs+1,ms,on),e1=new Yr(rs,fl,0,Sn,on),n1=new Yr(new Array(0),S8,0,Ti,g8)},i1=(l)=>{let p;for(p=0;p<ms;p++)l.dyn_ltree[p*2]=0;for(p=0;p<Sn;p++)l.dyn_dtree[p*2]=0;for(p=0;p<Ti;p++)l.bl_tree[p*2]=0;l.dyn_ltree[Vi*2]=1,l.opt_len=l.static_len=0,l.sym_next=l.matches=0},c1=(l)=>{if(l.bi_valid>8)ps(l,l.bi_buf);else if(l.bi_valid>0)l.pending_buf[l.pending++]=l.bi_buf;l.bi_buf=0,l.bi_valid=0},Iu=(l,p,r,v)=>{const b=p*2,x=r*2;return l[b]<l[x]||l[b]===l[x]&&v[p]<=v[r]},Cr=(l,p,r)=>{const v=l.heap[r];let b=r<<1;while(b<=l.heap_len){if(b<l.heap_len&&Iu(p,l.heap[b+1],l.heap[b],l.depth))b++;if(Iu(p,v,l.heap[b],l.depth))break;l.heap[r]=l.heap[b],r=b,b<<=1}l.heap[r]=v},zu=(l,p,r)=>{let v,b,x=0,u,k;if(l.sym_next!==0)do if(v=l.pending_buf[l.sym_buf+x++]&255,v+=(l.pending_buf[l.sym_buf+x++]&255)<<8,b=l.pending_buf[l.sym_buf+x++],v===0)me(l,b,p);else{if(u=ds[b],me(l,u+vs+1,p),k=di[u],k!==0)b-=Mi[u],za(l,b,k);if(v--,u=s1(v),me(l,u,r),k=fl[u],k!==0)v-=kl[u],za(l,v,k)}while(x<l.sym_next);me(l,Vi,p)},pi=(l,p)=>{const r=p.dyn_tree,v=p.stat_desc.static_tree,b=p.stat_desc.has_stree,x=p.stat_desc.elems;let u,k,L=-1,y;l.heap_len=0,l.heap_max=Q0;for(u=0;u<x;u++)if(r[u*2]!==0)l.heap[++l.heap_len]=L=u,l.depth[u]=0;else r[u*2+1]=0;while(l.heap_len<2)if(y=l.heap[++l.heap_len]=L<2?++L:0,r[y*2]=1,l.depth[y]=0,l.opt_len--,b)l.static_len-=v[y*2+1];p.max_code=L;for(u=l.heap_len>>1;u>=1;u--)Cr(l,r,u);y=x;do u=l.heap[1],l.heap[1]=l.heap[l.heap_len--],Cr(l,r,1),k=l.heap[1],l.heap[--l.heap_max]=u,l.heap[--l.heap_max]=k,r[y*2]=r[u*2]+r[k*2],l.depth[y]=(l.depth[u]>=l.depth[k]?l.depth[u]:l.depth[k])+1,r[u*2+1]=r[k*2+1]=y,l.heap[1]=y++,Cr(l,r,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],w8(l,p),r1(r,L,l.bl_count)},Ju=(l,p,r)=>{let v,b=-1,x,u=p[1],k=0,L=7,y=4;if(u===0)L=138,y=3;p[(r+1)*2+1]=65535;for(v=0;v<=r;v++){if(x=u,u=p[(v+1)*2+1],++k<L&&x===u)continue;else if(k<y)l.bl_tree[x*2]+=k;else if(x!==0){if(x!==b)l.bl_tree[x*2]++;l.bl_tree[C0*2]++}else if(k<=10)l.bl_tree[B0*2]++;else l.bl_tree[A0*2]++;if(k=0,b=x,u===0)L=138,y=3;else if(x===u)L=6,y=3;else L=7,y=4}},Ku=(l,p,r)=>{let v,b=-1,x,u=p[1],k=0,L=7,y=4;if(u===0)L=138,y=3;for(v=0;v<=r;v++){if(x=u,u=p[(v+1)*2+1],++k<L&&x===u)continue;else if(k<y)do me(l,x,l.bl_tree);while(--k!==0);else if(x!==0){if(x!==b)me(l,x,l.bl_tree),k--;me(l,C0,l.bl_tree),za(l,k-3,2)}else if(k<=10)me(l,B0,l.bl_tree),za(l,k-3,3);else me(l,A0,l.bl_tree),za(l,k-11,7);if(k=0,b=x,u===0)L=138,y=3;else if(x===u)L=6,y=3;else L=7,y=4}},I8=(l)=>{let p;Ju(l,l.dyn_ltree,l.l_desc.max_code),Ju(l,l.dyn_dtree,l.d_desc.max_code),pi(l,l.bl_desc);for(p=Ti-1;p>=3;p--)if(l.bl_tree[o1[p]*2+1]!==0)break;return l.opt_len+=3*(p+1)+5+5+4,p},z8=(l,p,r,v)=>{let b;za(l,p-257,5),za(l,r-1,5),za(l,v-4,4);for(b=0;b<v;b++)za(l,l.bl_tree[o1[b]*2+1],3);Ku(l,l.dyn_ltree,p-1),Ku(l,l.dyn_dtree,r-1)},J8=(l)=>{let p=4093624447,r;for(r=0;r<=31;r++,p>>>=1)if(p&1&&l.dyn_ltree[r*2]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(r=32;r<vs;r++)if(l.dyn_ltree[r*2]!==0)return 1;return 0},Eu=!1,K8=(l)=>{if(!Eu)F8(),Eu=!0;l.l_desc=new Dr(l.dyn_ltree,a1),l.d_desc=new Dr(l.dyn_dtree,e1),l.bl_desc=new Dr(l.bl_tree,n1),l.bi_buf=0,l.bi_valid=0,i1(l)},u1=(l,p,r,v)=>{if(za(l,(L8<<1)+(v?1:0),3),c1(l),ps(l,r),ps(l,~r),r)l.pending_buf.set(l.window.subarray(p,p+r),l.pending);l.pending+=r},E8=(l)=>{za(l,D0<<1,3),me(l,Vi,Ne),j8(l)},P8=(l,p,r,v)=>{let b,x,u=0;if(l.level>0){if(l.strm.data_type===2)l.strm.data_type=J8(l);if(pi(l,l.l_desc),pi(l,l.d_desc),u=I8(l),b=l.opt_len+3+7>>>3,x=l.static_len+3+7>>>3,x<=b)b=x}else b=x=r+5;if(r+4<=b&&p!==-1)u1(l,p,r,v);else if(l.strategy===4||x===b)za(l,(D0<<1)+(v?1:0),3),zu(l,Ne,rs);else za(l,(O8<<1)+(v?1:0),3),z8(l,l.l_desc.max_code+1,l.d_desc.max_code+1,u+1),zu(l,l.dyn_ltree,l.dyn_dtree);if(i1(l),v)c1(l)},H8=(l,p,r)=>{if(l.pending_buf[l.sym_buf+l.sym_next++]=p,l.pending_buf[l.sym_buf+l.sym_next++]=p>>8,l.pending_buf[l.sym_buf+l.sym_next++]=r,p===0)l.dyn_ltree[r*2]++;else l.matches++,p--,l.dyn_ltree[(ds[r]+vs+1)*2]++,l.dyn_dtree[s1(p)*2]++;return l.sym_next===l.sym_end},G8=K8,Y8=u1,D8=P8,Q8=H8,C8=E8,B8={_tr_init:G8,_tr_stored_block:Y8,_tr_flush_block:D8,_tr_tally:Q8,_tr_align:C8},A8=(l,p,r,v)=>{let b=l&65535|0,x=l>>>16&65535|0,u=0;while(r!==0){u=r>2000?2000:r,r-=u;do b=b+p[v++]|0,x=x+b|0;while(--u);b%=65521,x%=65521}return b|x<<16|0},bs=A8,o4=()=>{let l,p=[];for(var r=0;r<256;r++){l=r;for(var v=0;v<8;v++)l=l&1?3988292384^l>>>1:l>>>1;p[r]=l}return p},a4=new Uint32Array(o4()),e4=(l,p,r,v)=>{const b=a4,x=v+r;l^=-1;for(let u=v;u<x;u++)l=l>>>8^b[(l^p[u])&255];return l^-1},Ua=e4,fs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:n4,_tr_stored_block:bi,_tr_flush_block:s4,_tr_tally:Xe,_tr_align:l4}=B8,{Z_NO_FLUSH:ge,Z_PARTIAL_FLUSH:r4,Z_FULL_FLUSH:i4,Z_FINISH:Qa,Z_BLOCK:Pu,Z_OK:ga,Z_STREAM_END:Hu,Z_STREAM_ERROR:te,Z_DATA_ERROR:c4,Z_BUF_ERROR:Br,Z_DEFAULT_COMPRESSION:u4,Z_FILTERED:m4,Z_HUFFMAN_ONLY:ul,Z_RLE:t4,Z_FIXED:d4,Z_DEFAULT_STRATEGY:p4,Z_UNKNOWN:b4,Z_DEFLATED:Rl}=yl,f4=9,_4=15,k4=8,h4=29,N4=256,fi=N4+1+h4,v4=30,Z4=19,y4=2*fi+1,R4=15,ha=3,Ue=258,de=Ue+ha+1,x4=32,Wn=42,Li=57,_i=69,ki=73,hi=91,Ni=103,an=113,ss=666,wa=1,Fn=2,nn=3,In=4,q4=3,en=(l,p)=>{return l.msg=fs[p],p},Gu=(l)=>{return l*2-(l>4?9:0)},Oe=(l)=>{let p=l.length;while(--p>=0)l[p]=0},$4=(l)=>{let p,r,v,b=l.w_size;p=l.hash_size,v=p;do r=l.head[--v],l.head[v]=r>=b?r-b:0;while(--p);p=b,v=p;do r=l.prev[--v],l.prev[v]=r>=b?r-b:0;while(--p)},T4=(l,p,r)=>(p<<l.hash_shift^r)&l.hash_mask,Se=T4,Ha=(l)=>{const p=l.state;let r=p.pending;if(r>l.avail_out)r=l.avail_out;if(r===0)return;if(l.output.set(p.pending_buf.subarray(p.pending_out,p.pending_out+r),l.next_out),l.next_out+=r,p.pending_out+=r,l.total_out+=r,l.avail_out-=r,p.pending-=r,p.pending===0)p.pending_out=0},Ga=(l,p)=>{s4(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,p),l.block_start=l.strstart,Ha(l.strm)},Na=(l,p)=>{l.pending_buf[l.pending++]=p},as=(l,p)=>{l.pending_buf[l.pending++]=p>>>8&255,l.pending_buf[l.pending++]=p&255},vi=(l,p,r,v)=>{let b=l.avail_in;if(b>v)b=v;if(b===0)return 0;if(l.avail_in-=b,p.set(l.input.subarray(l.next_in,l.next_in+b),r),l.state.wrap===1)l.adler=bs(l.adler,p,b,r);else if(l.state.wrap===2)l.adler=Ua(l.adler,p,b,r);return l.next_in+=b,l.total_in+=b,b},m1=(l,p)=>{let{max_chain_length:r,strstart:v}=l,b,x,u=l.prev_length,k=l.nice_match;const L=l.strstart>l.w_size-de?l.strstart-(l.w_size-de):0,y=l.window,R=l.w_mask,Z=l.prev,T=l.strstart+Ue;let M=y[v+u-1],$=y[v+u];if(l.prev_length>=l.good_match)r>>=2;if(k>l.lookahead)k=l.lookahead;do{if(b=p,y[b+u]!==$||y[b+u-1]!==M||y[b]!==y[v]||y[++b]!==y[v+1])continue;v+=2,b++;do;while(y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&y[++v]===y[++b]&&v<T);if(x=Ue-(T-v),v=T-Ue,x>u){if(l.match_start=p,u=x,x>=k)break;M=y[v+u-1],$=y[v+u]}}while((p=Z[p&R])>L&&--r!==0);if(u<=l.lookahead)return u;return l.lookahead},jn=(l)=>{const p=l.w_size;let r,v,b;do{if(v=l.window_size-l.lookahead-l.strstart,l.strstart>=p+(p-de)){if(l.window.set(l.window.subarray(p,p+p-v),0),l.match_start-=p,l.strstart-=p,l.block_start-=p,l.insert>l.strstart)l.insert=l.strstart;$4(l),v+=p}if(l.strm.avail_in===0)break;if(r=vi(l.strm,l.window,l.strstart+l.lookahead,v),l.lookahead+=r,l.lookahead+l.insert>=ha){b=l.strstart-l.insert,l.ins_h=l.window[b],l.ins_h=Se(l,l.ins_h,l.window[b+1]);while(l.insert)if(l.ins_h=Se(l,l.ins_h,l.window[b+ha-1]),l.prev[b&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=b,b++,l.insert--,l.lookahead+l.insert<ha)break}}while(l.lookahead<de&&l.strm.avail_in!==0)},t1=(l,p)=>{let r=l.pending_buf_size-5>l.w_size?l.w_size:l.pending_buf_size-5,v,b,x,u=0,k=l.strm.avail_in;do{if(v=65535,x=l.bi_valid+42>>3,l.strm.avail_out<x)break;if(x=l.strm.avail_out-x,b=l.strstart-l.block_start,v>b+l.strm.avail_in)v=b+l.strm.avail_in;if(v>x)v=x;if(v<r&&(v===0&&p!==Qa||p===ge||v!==b+l.strm.avail_in))break;if(u=p===Qa&&v===b+l.strm.avail_in?1:0,bi(l,0,0,u),l.pending_buf[l.pending-4]=v,l.pending_buf[l.pending-3]=v>>8,l.pending_buf[l.pending-2]=~v,l.pending_buf[l.pending-1]=~v>>8,Ha(l.strm),b){if(b>v)b=v;l.strm.output.set(l.window.subarray(l.block_start,l.block_start+b),l.strm.next_out),l.strm.next_out+=b,l.strm.avail_out-=b,l.strm.total_out+=b,l.block_start+=b,v-=b}if(v)vi(l.strm,l.strm.output,l.strm.next_out,v),l.strm.next_out+=v,l.strm.avail_out-=v,l.strm.total_out+=v}while(u===0);if(k-=l.strm.avail_in,k){if(k>=l.w_size)l.matches=2,l.window.set(l.strm.input.subarray(l.strm.next_in-l.w_size,l.strm.next_in),0),l.strstart=l.w_size,l.insert=l.strstart;else{if(l.window_size-l.strstart<=k){if(l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(l.insert>l.strstart)l.insert=l.strstart}l.window.set(l.strm.input.subarray(l.strm.next_in-k,l.strm.next_in),l.strstart),l.strstart+=k,l.insert+=k>l.w_size-l.insert?l.w_size-l.insert:k}l.block_start=l.strstart}if(l.high_water<l.strstart)l.high_water=l.strstart;if(u)return In;if(p!==ge&&p!==Qa&&l.strm.avail_in===0&&l.strstart===l.block_start)return Fn;if(x=l.window_size-l.strstart,l.strm.avail_in>x&&l.block_start>=l.w_size){if(l.block_start-=l.w_size,l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(x+=l.w_size,l.insert>l.strstart)l.insert=l.strstart}if(x>l.strm.avail_in)x=l.strm.avail_in;if(x)vi(l.strm,l.window,l.strstart,x),l.strstart+=x,l.insert+=x>l.w_size-l.insert?l.w_size-l.insert:x;if(l.high_water<l.strstart)l.high_water=l.strstart;if(x=l.bi_valid+42>>3,x=l.pending_buf_size-x>65535?65535:l.pending_buf_size-x,r=x>l.w_size?l.w_size:x,b=l.strstart-l.block_start,b>=r||(b||p===Qa)&&p!==ge&&l.strm.avail_in===0&&b<=x)v=b>x?x:b,u=p===Qa&&l.strm.avail_in===0&&v===b?1:0,bi(l,l.block_start,v,u),l.block_start+=v,Ha(l.strm);return u?nn:wa},Ar=(l,p)=>{let r,v;for(;;){if(l.lookahead<de){if(jn(l),l.lookahead<de&&p===ge)return wa;if(l.lookahead===0)break}if(r=0,l.lookahead>=ha)l.ins_h=Se(l,l.ins_h,l.window[l.strstart+ha-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(r!==0&&l.strstart-r<=l.w_size-de)l.match_length=m1(l,r);if(l.match_length>=ha)if(v=Xe(l,l.strstart-l.match_start,l.match_length-ha),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=ha){l.match_length--;do l.strstart++,l.ins_h=Se(l,l.ins_h,l.window[l.strstart+ha-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=Se(l,l.ins_h,l.window[l.strstart+1]);else v=Xe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(v){if(Ga(l,!1),l.strm.avail_out===0)return wa}}if(l.insert=l.strstart<ha-1?l.strstart:ha-1,p===Qa){if(Ga(l,!0),l.strm.avail_out===0)return nn;return In}if(l.sym_next){if(Ga(l,!1),l.strm.avail_out===0)return wa}return Fn},vn=(l,p)=>{let r,v,b;for(;;){if(l.lookahead<de){if(jn(l),l.lookahead<de&&p===ge)return wa;if(l.lookahead===0)break}if(r=0,l.lookahead>=ha)l.ins_h=Se(l,l.ins_h,l.window[l.strstart+ha-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=ha-1,r!==0&&l.prev_length<l.max_lazy_match&&l.strstart-r<=l.w_size-de){if(l.match_length=m1(l,r),l.match_length<=5&&(l.strategy===m4||l.match_length===ha&&l.strstart-l.match_start>4096))l.match_length=ha-1}if(l.prev_length>=ha&&l.match_length<=l.prev_length){b=l.strstart+l.lookahead-ha,v=Xe(l,l.strstart-1-l.prev_match,l.prev_length-ha),l.lookahead-=l.prev_length-1,l.prev_length-=2;do if(++l.strstart<=b)l.ins_h=Se(l,l.ins_h,l.window[l.strstart+ha-1]),r=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.prev_length!==0);if(l.match_available=0,l.match_length=ha-1,l.strstart++,v){if(Ga(l,!1),l.strm.avail_out===0)return wa}}else if(l.match_available){if(v=Xe(l,0,l.window[l.strstart-1]),v)Ga(l,!1);if(l.strstart++,l.lookahead--,l.strm.avail_out===0)return wa}else l.match_available=1,l.strstart++,l.lookahead--}if(l.match_available)v=Xe(l,0,l.window[l.strstart-1]),l.match_available=0;if(l.insert=l.strstart<ha-1?l.strstart:ha-1,p===Qa){if(Ga(l,!0),l.strm.avail_out===0)return nn;return In}if(l.sym_next){if(Ga(l,!1),l.strm.avail_out===0)return wa}return Fn},V4=(l,p)=>{let r,v,b,x;const u=l.window;for(;;){if(l.lookahead<=Ue){if(jn(l),l.lookahead<=Ue&&p===ge)return wa;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=ha&&l.strstart>0){if(b=l.strstart-1,v=u[b],v===u[++b]&&v===u[++b]&&v===u[++b]){x=l.strstart+Ue;do;while(v===u[++b]&&v===u[++b]&&v===u[++b]&&v===u[++b]&&v===u[++b]&&v===u[++b]&&v===u[++b]&&v===u[++b]&&b<x);if(l.match_length=Ue-(x-b),l.match_length>l.lookahead)l.match_length=l.lookahead}}if(l.match_length>=ha)r=Xe(l,1,l.match_length-ha),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0;else r=Xe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(r){if(Ga(l,!1),l.strm.avail_out===0)return wa}}if(l.insert=0,p===Qa){if(Ga(l,!0),l.strm.avail_out===0)return nn;return In}if(l.sym_next){if(Ga(l,!1),l.strm.avail_out===0)return wa}return Fn},M4=(l,p)=>{let r;for(;;){if(l.lookahead===0){if(jn(l),l.lookahead===0){if(p===ge)return wa;break}}if(l.match_length=0,r=Xe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,r){if(Ga(l,!1),l.strm.avail_out===0)return wa}}if(l.insert=0,p===Qa){if(Ga(l,!0),l.strm.avail_out===0)return nn;return In}if(l.sym_next){if(Ga(l,!1),l.strm.avail_out===0)return wa}return Fn},ls=[new ue(0,0,0,0,t1),new ue(4,4,8,4,Ar),new ue(4,5,16,8,Ar),new ue(4,6,32,32,Ar),new ue(4,4,16,16,vn),new ue(8,16,32,32,vn),new ue(8,16,128,128,vn),new ue(8,32,128,256,vn),new ue(32,128,258,1024,vn),new ue(32,258,258,4096,vn)],L4=(l)=>{l.window_size=2*l.w_size,Oe(l.head),l.max_lazy_match=ls[l.level].max_lazy,l.good_match=ls[l.level].good_length,l.nice_match=ls[l.level].nice_length,l.max_chain_length=ls[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=ha-1,l.match_available=0,l.ins_h=0},Zs=(l)=>{if(!l)return 1;const p=l.state;if(!p||p.strm!==l||p.status!==Wn&&p.status!==Li&&p.status!==_i&&p.status!==ki&&p.status!==hi&&p.status!==Ni&&p.status!==an&&p.status!==ss)return 1;return 0},d1=(l)=>{if(Zs(l))return en(l,te);l.total_in=l.total_out=0,l.data_type=b4;const p=l.state;if(p.pending=0,p.pending_out=0,p.wrap<0)p.wrap=-p.wrap;return p.status=p.wrap===2?Li:p.wrap?Wn:an,l.adler=p.wrap===2?0:1,p.last_flush=-2,n4(p),ga},p1=(l)=>{const p=d1(l);if(p===ga)L4(l.state);return p},O4=(l,p)=>{if(Zs(l)||l.state.wrap!==2)return te;return l.state.gzhead=p,ga},b1=(l,p,r,v,b,x)=>{if(!l)return te;let u=1;if(p===u4)p=6;if(v<0)u=0,v=-v;else if(v>15)u=2,v-=16;if(b<1||b>f4||r!==Rl||v<8||v>15||p<0||p>9||x<0||x>d4||v===8&&u!==1)return en(l,te);if(v===8)v=9;const k=new $8;return l.state=k,k.strm=l,k.status=Wn,k.wrap=u,k.gzhead=null,k.w_bits=v,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=b+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+ha-1)/ha),k.window=new Uint8Array(k.w_size*2),k.head=new Uint16Array(k.hash_size),k.prev=new Uint16Array(k.w_size),k.lit_bufsize=1<<b+6,k.pending_buf_size=k.lit_bufsize*4,k.pending_buf=new Uint8Array(k.pending_buf_size),k.sym_buf=k.lit_bufsize,k.sym_end=(k.lit_bufsize-1)*3,k.level=p,k.strategy=x,k.method=r,p1(l)},U4=(l,p)=>{return b1(l,p,Rl,_4,k4,p4)},X4=(l,p)=>{if(Zs(l)||p>Pu||p<0)return l?en(l,te):te;const r=l.state;if(!l.output||l.avail_in!==0&&!l.input||r.status===ss&&p!==Qa)return en(l,l.avail_out===0?Br:te);const v=r.last_flush;if(r.last_flush=p,r.pending!==0){if(Ha(l),l.avail_out===0)return r.last_flush=-1,ga}else if(l.avail_in===0&&Gu(p)<=Gu(v)&&p!==Qa)return en(l,Br);if(r.status===ss&&l.avail_in!==0)return en(l,Br);if(r.status===Wn&&r.wrap===0)r.status=an;if(r.status===Wn){let b=Rl+(r.w_bits-8<<4)<<8,x=-1;if(r.strategy>=ul||r.level<2)x=0;else if(r.level<6)x=1;else if(r.level===6)x=2;else x=3;if(b|=x<<6,r.strstart!==0)b|=x4;if(b+=31-b%31,as(r,b),r.strstart!==0)as(r,l.adler>>>16),as(r,l.adler&65535);if(l.adler=1,r.status=an,Ha(l),r.pending!==0)return r.last_flush=-1,ga}if(r.status===Li)if(l.adler=0,Na(r,31),Na(r,139),Na(r,8),!r.gzhead){if(Na(r,0),Na(r,0),Na(r,0),Na(r,0),Na(r,0),Na(r,r.level===9?2:r.strategy>=ul||r.level<2?4:0),Na(r,q4),r.status=an,Ha(l),r.pending!==0)return r.last_flush=-1,ga}else{if(Na(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(!r.gzhead.extra?0:4)+(!r.gzhead.name?0:8)+(!r.gzhead.comment?0:16)),Na(r,r.gzhead.time&255),Na(r,r.gzhead.time>>8&255),Na(r,r.gzhead.time>>16&255),Na(r,r.gzhead.time>>24&255),Na(r,r.level===9?2:r.strategy>=ul||r.level<2?4:0),Na(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length)Na(r,r.gzhead.extra.length&255),Na(r,r.gzhead.extra.length>>8&255);if(r.gzhead.hcrc)l.adler=Ua(l.adler,r.pending_buf,r.pending,0);r.gzindex=0,r.status=_i}if(r.status===_i){if(r.gzhead.extra){let b=r.pending,x=(r.gzhead.extra.length&65535)-r.gzindex;while(r.pending+x>r.pending_buf_size){let k=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+k),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b);if(r.gzindex+=k,Ha(l),r.pending!==0)return r.last_flush=-1,ga;b=0,x-=k}let u=new Uint8Array(r.gzhead.extra);if(r.pending_buf.set(u.subarray(r.gzindex,r.gzindex+x),r.pending),r.pending+=x,r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b);r.gzindex=0}r.status=ki}if(r.status===ki){if(r.gzhead.name){let b=r.pending,x;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b);if(Ha(l),r.pending!==0)return r.last_flush=-1,ga;b=0}if(r.gzindex<r.gzhead.name.length)x=r.gzhead.name.charCodeAt(r.gzindex++)&255;else x=0;Na(r,x)}while(x!==0);if(r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b);r.gzindex=0}r.status=hi}if(r.status===hi){if(r.gzhead.comment){let b=r.pending,x;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b);if(Ha(l),r.pending!==0)return r.last_flush=-1,ga;b=0}if(r.gzindex<r.gzhead.comment.length)x=r.gzhead.comment.charCodeAt(r.gzindex++)&255;else x=0;Na(r,x)}while(x!==0);if(r.gzhead.hcrc&&r.pending>b)l.adler=Ua(l.adler,r.pending_buf,r.pending-b,b)}r.status=Ni}if(r.status===Ni){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size){if(Ha(l),r.pending!==0)return r.last_flush=-1,ga}Na(r,l.adler&255),Na(r,l.adler>>8&255),l.adler=0}if(r.status=an,Ha(l),r.pending!==0)return r.last_flush=-1,ga}if(l.avail_in!==0||r.lookahead!==0||p!==ge&&r.status!==ss){let b=r.level===0?t1(r,p):r.strategy===ul?M4(r,p):r.strategy===t4?V4(r,p):ls[r.level].func(r,p);if(b===nn||b===In)r.status=ss;if(b===wa||b===nn){if(l.avail_out===0)r.last_flush=-1;return ga}if(b===Fn){if(p===r4)l4(r);else if(p!==Pu){if(bi(r,0,0,!1),p===i4){if(Oe(r.head),r.lookahead===0)r.strstart=0,r.block_start=0,r.insert=0}}if(Ha(l),l.avail_out===0)return r.last_flush=-1,ga}}if(p!==Qa)return ga;if(r.wrap<=0)return Hu;if(r.wrap===2)Na(r,l.adler&255),Na(r,l.adler>>8&255),Na(r,l.adler>>16&255),Na(r,l.adler>>24&255),Na(r,l.total_in&255),Na(r,l.total_in>>8&255),Na(r,l.total_in>>16&255),Na(r,l.total_in>>24&255);else as(r,l.adler>>>16),as(r,l.adler&65535);if(Ha(l),r.wrap>0)r.wrap=-r.wrap;return r.pending!==0?ga:Hu},g4=(l)=>{if(Zs(l))return te;const p=l.state.status;return l.state=null,p===an?en(l,c4):ga},S4=(l,p)=>{let r=p.length;if(Zs(l))return te;const v=l.state,b=v.wrap;if(b===2||b===1&&v.status!==Wn||v.lookahead)return te;if(b===1)l.adler=bs(l.adler,p,r,0);if(v.wrap=0,r>=v.w_size){if(b===0)Oe(v.head),v.strstart=0,v.block_start=0,v.insert=0;let L=new Uint8Array(v.w_size);L.set(p.subarray(r-v.w_size,r),0),p=L,r=v.w_size}const{avail_in:x,next_in:u,input:k}=l;l.avail_in=r,l.next_in=0,l.input=p,jn(v);while(v.lookahead>=ha){let L=v.strstart,y=v.lookahead-(ha-1);do v.ins_h=Se(v,v.ins_h,v.window[L+ha-1]),v.prev[L&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=L,L++;while(--y);v.strstart=L,v.lookahead=ha-1,jn(v)}return v.strstart+=v.lookahead,v.block_start=v.strstart,v.insert=v.lookahead,v.lookahead=0,v.match_length=v.prev_length=ha-1,v.match_available=0,l.next_in=u,l.input=k,l.avail_in=x,v.wrap=b,ga},W4=U4,j4=b1,w4=p1,F4=d1,I4=O4,z4=X4,J4=g4,K4=S4,E4="pako deflate (from Nodeca project)",is={deflateInit:W4,deflateInit2:j4,deflateReset:w4,deflateResetKeep:F4,deflateSetHeader:I4,deflate:z4,deflateEnd:J4,deflateSetDictionary:K4,deflateInfo:E4},P4=(l,p)=>{return Object.prototype.hasOwnProperty.call(l,p)},H4=function(l){const p=Array.prototype.slice.call(arguments,1);while(p.length){const r=p.shift();if(!r)continue;if(typeof r!=="object")throw new TypeError(r+"must be non-object");for(let v in r)if(P4(r,v))l[v]=r[v]}return l},G4=(l)=>{let p=0;for(let v=0,b=l.length;v<b;v++)p+=l[v].length;const r=new Uint8Array(p);for(let v=0,b=0,x=l.length;v<x;v++){let u=l[v];r.set(u,b),b+=u.length}return r},xl={assign:H4,flattenChunks:G4},f1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){f1=!1}var _s=new Uint8Array(256);for(let l=0;l<256;l++)_s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;_s[254]=_s[254]=1;var Y4=(l)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let p,r,v,b,x,u=l.length,k=0;for(b=0;b<u;b++){if(r=l.charCodeAt(b),(r&64512)===55296&&b+1<u){if(v=l.charCodeAt(b+1),(v&64512)===56320)r=65536+(r-55296<<10)+(v-56320),b++}k+=r<128?1:r<2048?2:r<65536?3:4}p=new Uint8Array(k);for(x=0,b=0;x<k;b++){if(r=l.charCodeAt(b),(r&64512)===55296&&b+1<u){if(v=l.charCodeAt(b+1),(v&64512)===56320)r=65536+(r-55296<<10)+(v-56320),b++}if(r<128)p[x++]=r;else if(r<2048)p[x++]=192|r>>>6,p[x++]=128|r&63;else if(r<65536)p[x++]=224|r>>>12,p[x++]=128|r>>>6&63,p[x++]=128|r&63;else p[x++]=240|r>>>18,p[x++]=128|r>>>12&63,p[x++]=128|r>>>6&63,p[x++]=128|r&63}return p},D4=(l,p)=>{if(p<65534){if(l.subarray&&f1)return String.fromCharCode.apply(null,l.length===p?l:l.subarray(0,p))}let r="";for(let v=0;v<p;v++)r+=String.fromCharCode(l[v]);return r},Q4=(l,p)=>{const r=p||l.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,p));let v,b;const x=new Array(r*2);for(b=0,v=0;v<r;){let u=l[v++];if(u<128){x[b++]=u;continue}let k=_s[u];if(k>4){x[b++]=65533,v+=k-1;continue}u&=k===2?31:k===3?15:7;while(k>1&&v<r)u=u<<6|l[v++]&63,k--;if(k>1){x[b++]=65533;continue}if(u<65536)x[b++]=u;else u-=65536,x[b++]=55296|u>>10&1023,x[b++]=56320|u&1023}return D4(x,b)},C4=(l,p)=>{if(p=p||l.length,p>l.length)p=l.length;let r=p-1;while(r>=0&&(l[r]&192)===128)r--;if(r<0)return p;if(r===0)return p;return r+_s[l[r]]>p?r:p},ks={string2buf:Y4,buf2string:Q4,utf8border:C4},_1=T8,k1=Object.prototype.toString,{Z_NO_FLUSH:B4,Z_SYNC_FLUSH:A4,Z_FULL_FLUSH:o9,Z_FINISH:a9,Z_OK:hl,Z_STREAM_END:e9,Z_DEFAULT_COMPRESSION:n9,Z_DEFAULT_STRATEGY:s9,Z_DEFLATED:l9}=yl;xi.prototype.push=function(l,p){const r=this.strm,v=this.options.chunkSize;let b,x;if(this.ended)return!1;if(p===~~p)x=p;else x=p===!0?a9:B4;if(typeof l==="string")r.input=ks.string2buf(l);else if(k1.call(l)==="[object ArrayBuffer]")r.input=new Uint8Array(l);else r.input=l;r.next_in=0,r.avail_in=r.input.length;for(;;){if(r.avail_out===0)r.output=new Uint8Array(v),r.next_out=0,r.avail_out=v;if((x===A4||x===o9)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(b=is.deflate(r,x),b===e9){if(r.next_out>0)this.onData(r.output.subarray(0,r.next_out));return b=is.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===hl}if(r.avail_out===0){this.onData(r.output);continue}if(x>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};xi.prototype.onData=function(l){this.chunks.push(l)};xi.prototype.onEnd=function(l){if(l===hl)this.result=xl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var ml=16209,r9=16191,i9=function l(p,r){let v,b,x,u,k,L,y,R,Z,T,M,$,q,g,w,I,W,E,D,C,uo,po,To,co;const Lo=p.state;v=p.next_in,To=p.input,b=v+(p.avail_in-5),x=p.next_out,co=p.output,u=x-(r-p.avail_out),k=x+(p.avail_out-257),L=Lo.dmax,y=Lo.wsize,R=Lo.whave,Z=Lo.wnext,T=Lo.window,M=Lo.hold,$=Lo.bits,q=Lo.lencode,g=Lo.distcode,w=(1<<Lo.lenbits)-1,I=(1<<Lo.distbits)-1;o:do{if($<15)M+=To[v++]<<$,$+=8,M+=To[v++]<<$,$+=8;W=q[M&w];a:for(;;){if(E=W>>>24,M>>>=E,$-=E,E=W>>>16&255,E===0)co[x++]=W&65535;else if(E&16){if(D=W&65535,E&=15,E){if($<E)M+=To[v++]<<$,$+=8;D+=M&(1<<E)-1,M>>>=E,$-=E}if($<15)M+=To[v++]<<$,$+=8,M+=To[v++]<<$,$+=8;W=g[M&I];e:for(;;){if(E=W>>>24,M>>>=E,$-=E,E=W>>>16&255,E&16){if(C=W&65535,E&=15,$<E){if(M+=To[v++]<<$,$+=8,$<E)M+=To[v++]<<$,$+=8}if(C+=M&(1<<E)-1,C>L){p.msg="invalid distance too far back",Lo.mode=ml;break o}if(M>>>=E,$-=E,E=x-u,C>E){if(E=C-E,E>R){if(Lo.sane){p.msg="invalid distance too far back",Lo.mode=ml;break o}}if(uo=0,po=T,Z===0){if(uo+=y-E,E<D){D-=E;do co[x++]=T[uo++];while(--E);uo=x-C,po=co}}else if(Z<E){if(uo+=y+Z-E,E-=Z,E<D){D-=E;do co[x++]=T[uo++];while(--E);if(uo=0,Z<D){E=Z,D-=E;do co[x++]=T[uo++];while(--E);uo=x-C,po=co}}}else if(uo+=Z-E,E<D){D-=E;do co[x++]=T[uo++];while(--E);uo=x-C,po=co}while(D>2)co[x++]=po[uo++],co[x++]=po[uo++],co[x++]=po[uo++],D-=3;if(D){if(co[x++]=po[uo++],D>1)co[x++]=po[uo++]}}else{uo=x-C;do co[x++]=co[uo++],co[x++]=co[uo++],co[x++]=co[uo++],D-=3;while(D>2);if(D){if(co[x++]=co[uo++],D>1)co[x++]=co[uo++]}}}else if((E&64)===0){W=g[(W&65535)+(M&(1<<E)-1)];continue e}else{p.msg="invalid distance code",Lo.mode=ml;break o}break}}else if((E&64)===0){W=q[(W&65535)+(M&(1<<E)-1)];continue a}else if(E&32){Lo.mode=r9;break o}else{p.msg="invalid literal/length code",Lo.mode=ml;break o}break}}while(v<b&&x<k);D=$>>3,v-=D,$-=D<<3,M&=(1<<$)-1,p.next_in=v,p.next_out=x,p.avail_in=v<b?5+(b-v):5-(v-b),p.avail_out=x<k?257+(k-x):257-(x-k),Lo.hold=M,Lo.bits=$;return},Zn=15,Yu=852,Du=592,Qu=0,oi=1,Cu=2,c9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),u9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),m9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),t9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),d9=(l,p,r,v,b,x,u,k)=>{const L=k.bits;let y=0,R=0,Z=0,T=0,M=0,$=0,q=0,g=0,w=0,I=0,W,E,D,C,uo,po=null,To;const co=new Uint16Array(Zn+1),Lo=new Uint16Array(Zn+1);let o=null,n,c,s;for(y=0;y<=Zn;y++)co[y]=0;for(R=0;R<v;R++)co[p[r+R]]++;M=L;for(T=Zn;T>=1;T--)if(co[T]!==0)break;if(M>T)M=T;if(T===0)return b[x++]=20971520,b[x++]=20971520,k.bits=1,0;for(Z=1;Z<T;Z++)if(co[Z]!==0)break;if(M<Z)M=Z;g=1;for(y=1;y<=Zn;y++)if(g<<=1,g-=co[y],g<0)return-1;if(g>0&&(l===Qu||T!==1))return-1;Lo[1]=0;for(y=1;y<Zn;y++)Lo[y+1]=Lo[y]+co[y];for(R=0;R<v;R++)if(p[r+R]!==0)u[Lo[p[r+R]]++]=R;if(l===Qu)po=o=u,To=20;else if(l===oi)po=c9,o=u9,To=257;else po=m9,o=t9,To=0;if(I=0,R=0,y=Z,uo=x,$=M,q=0,D=-1,w=1<<M,C=w-1,l===oi&&w>Yu||l===Cu&&w>Du)return 1;for(;;){if(n=y-q,u[R]+1<To)c=0,s=u[R];else if(u[R]>=To)c=o[u[R]-To],s=po[u[R]-To];else c=96,s=0;W=1<<y-q,E=1<<$,Z=E;do E-=W,b[uo+(I>>q)+E]=n<<24|c<<16|s|0;while(E!==0);W=1<<y-1;while(I&W)W>>=1;if(W!==0)I&=W-1,I+=W;else I=0;if(R++,--co[y]===0){if(y===T)break;y=p[r+u[R]]}if(y>M&&(I&C)!==D){if(q===0)q=M;uo+=Z,$=y-q,g=1<<$;while($+q<T){if(g-=co[$+q],g<=0)break;$++,g<<=1}if(w+=1<<$,l===oi&&w>Yu||l===Cu&&w>Du)return 1;D=I&C,b[D]=M<<24|$<<16|uo-x|0}}if(I!==0)b[uo+I]=y-q<<24|4194304|0;return k.bits=M,0},cs=d9,p9=0,h1=1,N1=2,{Z_FINISH:Bu,Z_BLOCK:b9,Z_TREES:tl,Z_OK:sn,Z_STREAM_END:f9,Z_NEED_DICT:_9,Z_STREAM_ERROR:Ca,Z_DATA_ERROR:v1,Z_MEM_ERROR:Z1,Z_BUF_ERROR:k9,Z_DEFLATED:Au}=yl,ql=16180,o0=16181,a0=16182,e0=16183,n0=16184,s0=16185,l0=16186,r0=16187,i0=16188,c0=16189,Nl=16190,he=16191,ai=16192,u0=16193,ei=16194,m0=16195,t0=16196,d0=16197,p0=16198,dl=16199,pl=16200,b0=16201,f0=16202,_0=16203,k0=16204,h0=16205,ni=16206,N0=16207,v0=16208,Ra=16209,y1=16210,R1=16211,h9=852,N9=592,v9=15,Z9=v9,Z0=(l)=>{return(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24)},ln=(l)=>{if(!l)return 1;const p=l.state;if(!p||p.strm!==l||p.mode<ql||p.mode>R1)return 1;return 0},x1=(l)=>{if(ln(l))return Ca;const p=l.state;if(l.total_in=l.total_out=p.total=0,l.msg="",p.wrap)l.adler=p.wrap&1;return p.mode=ql,p.last=0,p.havedict=0,p.flags=-1,p.dmax=32768,p.head=null,p.hold=0,p.bits=0,p.lencode=p.lendyn=new Int32Array(h9),p.distcode=p.distdyn=new Int32Array(N9),p.sane=1,p.back=-1,sn},q1=(l)=>{if(ln(l))return Ca;const p=l.state;return p.wsize=0,p.whave=0,p.wnext=0,x1(l)},$1=(l,p)=>{let r;if(ln(l))return Ca;const v=l.state;if(p<0)r=0,p=-p;else if(r=(p>>4)+5,p<48)p&=15;if(p&&(p<8||p>15))return Ca;if(v.window!==null&&v.wbits!==p)v.window=null;return v.wrap=r,v.wbits=p,q1(l)},T1=(l,p)=>{if(!l)return Ca;const r=new V8;l.state=r,r.strm=l,r.window=null,r.mode=ql;const v=$1(l,p);if(v!==sn)l.state=null;return v},y9=(l)=>{return T1(l,Z9)},y0=!0,si,li,R9=(l)=>{if(y0){si=new Int32Array(512),li=new Int32Array(32);let p=0;while(p<144)l.lens[p++]=8;while(p<256)l.lens[p++]=9;while(p<280)l.lens[p++]=7;while(p<288)l.lens[p++]=8;cs(h1,l.lens,0,288,si,0,l.work,{bits:9}),p=0;while(p<32)l.lens[p++]=5;cs(N1,l.lens,0,32,li,0,l.work,{bits:5}),y0=!1}l.lencode=si,l.lenbits=9,l.distcode=li,l.distbits=5},V1=(l,p,r,v)=>{let b;const x=l.state;if(x.window===null)x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new Uint8Array(x.wsize);if(v>=x.wsize)x.window.set(p.subarray(r-x.wsize,r),0),x.wnext=0,x.whave=x.wsize;else{if(b=x.wsize-x.wnext,b>v)b=v;if(x.window.set(p.subarray(r-v,r-v+b),x.wnext),v-=b,v)x.window.set(p.subarray(r-v,r),0),x.wnext=v,x.whave=x.wsize;else{if(x.wnext+=b,x.wnext===x.wsize)x.wnext=0;if(x.whave<x.wsize)x.whave+=b}}return 0},x9=(l,p)=>{let r,v,b,x,u,k,L,y,R,Z,T,M,$,q,g=0,w,I,W,E,D,C,uo,po;const To=new Uint8Array(4);let co,Lo;const o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ln(l)||!l.output||!l.input&&l.avail_in!==0)return Ca;if(r=l.state,r.mode===he)r.mode=ai;u=l.next_out,b=l.output,L=l.avail_out,x=l.next_in,v=l.input,k=l.avail_in,y=r.hold,R=r.bits,Z=k,T=L,po=sn;o:for(;;)switch(r.mode){case ql:if(r.wrap===0){r.mode=ai;break}while(R<16){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.wrap&2&&y===35615){if(r.wbits===0)r.wbits=15;r.check=0,To[0]=y&255,To[1]=y>>>8&255,r.check=Ua(r.check,To,2,0),y=0,R=0,r.mode=o0;break}if(r.head)r.head.done=!1;if(!(r.wrap&1)||(((y&255)<<8)+(y>>8))%31){l.msg="incorrect header check",r.mode=Ra;break}if((y&15)!==Au){l.msg="unknown compression method",r.mode=Ra;break}if(y>>>=4,R-=4,uo=(y&15)+8,r.wbits===0)r.wbits=uo;if(uo>15||uo>r.wbits){l.msg="invalid window size",r.mode=Ra;break}r.dmax=1<<r.wbits,r.flags=0,l.adler=r.check=1,r.mode=y&512?c0:he,y=0,R=0;break;case o0:while(R<16){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.flags=y,(r.flags&255)!==Au){l.msg="unknown compression method",r.mode=Ra;break}if(r.flags&57344){l.msg="unknown header flags set",r.mode=Ra;break}if(r.head)r.head.text=y>>8&1;if(r.flags&512&&r.wrap&4)To[0]=y&255,To[1]=y>>>8&255,r.check=Ua(r.check,To,2,0);y=0,R=0,r.mode=a0;case a0:while(R<32){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.head)r.head.time=y;if(r.flags&512&&r.wrap&4)To[0]=y&255,To[1]=y>>>8&255,To[2]=y>>>16&255,To[3]=y>>>24&255,r.check=Ua(r.check,To,4,0);y=0,R=0,r.mode=e0;case e0:while(R<16){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.head)r.head.xflags=y&255,r.head.os=y>>8;if(r.flags&512&&r.wrap&4)To[0]=y&255,To[1]=y>>>8&255,r.check=Ua(r.check,To,2,0);y=0,R=0,r.mode=n0;case n0:if(r.flags&1024){while(R<16){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.length=y,r.head)r.head.extra_len=y;if(r.flags&512&&r.wrap&4)To[0]=y&255,To[1]=y>>>8&255,r.check=Ua(r.check,To,2,0);y=0,R=0}else if(r.head)r.head.extra=null;r.mode=s0;case s0:if(r.flags&1024){if(M=r.length,M>k)M=k;if(M){if(r.head){if(uo=r.head.extra_len-r.length,!r.head.extra)r.head.extra=new Uint8Array(r.head.extra_len);r.head.extra.set(v.subarray(x,x+M),uo)}if(r.flags&512&&r.wrap&4)r.check=Ua(r.check,v,M,x);k-=M,x+=M,r.length-=M}if(r.length)break o}r.length=0,r.mode=l0;case l0:if(r.flags&2048){if(k===0)break o;M=0;do if(uo=v[x+M++],r.head&&uo&&r.length<65536)r.head.name+=String.fromCharCode(uo);while(uo&&M<k);if(r.flags&512&&r.wrap&4)r.check=Ua(r.check,v,M,x);if(k-=M,x+=M,uo)break o}else if(r.head)r.head.name=null;r.length=0,r.mode=r0;case r0:if(r.flags&4096){if(k===0)break o;M=0;do if(uo=v[x+M++],r.head&&uo&&r.length<65536)r.head.comment+=String.fromCharCode(uo);while(uo&&M<k);if(r.flags&512&&r.wrap&4)r.check=Ua(r.check,v,M,x);if(k-=M,x+=M,uo)break o}else if(r.head)r.head.comment=null;r.mode=i0;case i0:if(r.flags&512){while(R<16){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.wrap&4&&y!==(r.check&65535)){l.msg="header crc mismatch",r.mode=Ra;break}y=0,R=0}if(r.head)r.head.hcrc=r.flags>>9&1,r.head.done=!0;l.adler=r.check=0,r.mode=he;break;case c0:while(R<32){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}l.adler=r.check=Z0(y),y=0,R=0,r.mode=Nl;case Nl:if(r.havedict===0)return l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=k,r.hold=y,r.bits=R,_9;l.adler=r.check=1,r.mode=he;case he:if(p===b9||p===tl)break o;case ai:if(r.last){y>>>=R&7,R-=R&7,r.mode=ni;break}while(R<3){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}switch(r.last=y&1,y>>>=1,R-=1,y&3){case 0:r.mode=u0;break;case 1:if(R9(r),r.mode=dl,p===tl){y>>>=2,R-=2;break o}break;case 2:r.mode=t0;break;case 3:l.msg="invalid block type",r.mode=Ra}y>>>=2,R-=2;break;case u0:y>>>=R&7,R-=R&7;while(R<32){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if((y&65535)!==(y>>>16^65535)){l.msg="invalid stored block lengths",r.mode=Ra;break}if(r.length=y&65535,y=0,R=0,r.mode=ei,p===tl)break o;case ei:r.mode=m0;case m0:if(M=r.length,M){if(M>k)M=k;if(M>L)M=L;if(M===0)break o;b.set(v.subarray(x,x+M),u),k-=M,x+=M,L-=M,u+=M,r.length-=M;break}r.mode=he;break;case t0:while(R<14){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.nlen=(y&31)+257,y>>>=5,R-=5,r.ndist=(y&31)+1,y>>>=5,R-=5,r.ncode=(y&15)+4,y>>>=4,R-=4,r.nlen>286||r.ndist>30){l.msg="too many length or distance symbols",r.mode=Ra;break}r.have=0,r.mode=d0;case d0:while(r.have<r.ncode){while(R<3){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}r.lens[o[r.have++]]=y&7,y>>>=3,R-=3}while(r.have<19)r.lens[o[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,co={bits:r.lenbits},po=cs(p9,r.lens,0,19,r.lencode,0,r.work,co),r.lenbits=co.bits,po){l.msg="invalid code lengths set",r.mode=Ra;break}r.have=0,r.mode=p0;case p0:while(r.have<r.nlen+r.ndist){for(;;){if(g=r.lencode[y&(1<<r.lenbits)-1],w=g>>>24,I=g>>>16&255,W=g&65535,w<=R)break;if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(W<16)y>>>=w,R-=w,r.lens[r.have++]=W;else{if(W===16){Lo=w+2;while(R<Lo){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(y>>>=w,R-=w,r.have===0){l.msg="invalid bit length repeat",r.mode=Ra;break}uo=r.lens[r.have-1],M=3+(y&3),y>>>=2,R-=2}else if(W===17){Lo=w+3;while(R<Lo){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}y>>>=w,R-=w,uo=0,M=3+(y&7),y>>>=3,R-=3}else{Lo=w+7;while(R<Lo){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}y>>>=w,R-=w,uo=0,M=11+(y&127),y>>>=7,R-=7}if(r.have+M>r.nlen+r.ndist){l.msg="invalid bit length repeat",r.mode=Ra;break}while(M--)r.lens[r.have++]=uo}}if(r.mode===Ra)break;if(r.lens[256]===0){l.msg="invalid code -- missing end-of-block",r.mode=Ra;break}if(r.lenbits=9,co={bits:r.lenbits},po=cs(h1,r.lens,0,r.nlen,r.lencode,0,r.work,co),r.lenbits=co.bits,po){l.msg="invalid literal/lengths set",r.mode=Ra;break}if(r.distbits=6,r.distcode=r.distdyn,co={bits:r.distbits},po=cs(N1,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,co),r.distbits=co.bits,po){l.msg="invalid distances set",r.mode=Ra;break}if(r.mode=dl,p===tl)break o;case dl:r.mode=pl;case pl:if(k>=6&&L>=258){if(l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=k,r.hold=y,r.bits=R,i9(l,T),u=l.next_out,b=l.output,L=l.avail_out,x=l.next_in,v=l.input,k=l.avail_in,y=r.hold,R=r.bits,r.mode===he)r.back=-1;break}r.back=0;for(;;){if(g=r.lencode[y&(1<<r.lenbits)-1],w=g>>>24,I=g>>>16&255,W=g&65535,w<=R)break;if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(I&&(I&240)===0){E=w,D=I,C=W;for(;;){if(g=r.lencode[C+((y&(1<<E+D)-1)>>E)],w=g>>>24,I=g>>>16&255,W=g&65535,E+w<=R)break;if(k===0)break o;k--,y+=v[x++]<<R,R+=8}y>>>=E,R-=E,r.back+=E}if(y>>>=w,R-=w,r.back+=w,r.length=W,I===0){r.mode=h0;break}if(I&32){r.back=-1,r.mode=he;break}if(I&64){l.msg="invalid literal/length code",r.mode=Ra;break}r.extra=I&15,r.mode=b0;case b0:if(r.extra){Lo=r.extra;while(R<Lo){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,R-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=f0;case f0:for(;;){if(g=r.distcode[y&(1<<r.distbits)-1],w=g>>>24,I=g>>>16&255,W=g&65535,w<=R)break;if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if((I&240)===0){E=w,D=I,C=W;for(;;){if(g=r.distcode[C+((y&(1<<E+D)-1)>>E)],w=g>>>24,I=g>>>16&255,W=g&65535,E+w<=R)break;if(k===0)break o;k--,y+=v[x++]<<R,R+=8}y>>>=E,R-=E,r.back+=E}if(y>>>=w,R-=w,r.back+=w,I&64){l.msg="invalid distance code",r.mode=Ra;break}r.offset=W,r.extra=I&15,r.mode=_0;case _0:if(r.extra){Lo=r.extra;while(R<Lo){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,R-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){l.msg="invalid distance too far back",r.mode=Ra;break}r.mode=k0;case k0:if(L===0)break o;if(M=T-L,r.offset>M){if(M=r.offset-M,M>r.whave){if(r.sane){l.msg="invalid distance too far back",r.mode=Ra;break}}if(M>r.wnext)M-=r.wnext,$=r.wsize-M;else $=r.wnext-M;if(M>r.length)M=r.length;q=r.window}else q=b,$=u-r.offset,M=r.length;if(M>L)M=L;L-=M,r.length-=M;do b[u++]=q[$++];while(--M);if(r.length===0)r.mode=pl;break;case h0:if(L===0)break o;b[u++]=r.length,L--,r.mode=pl;break;case ni:if(r.wrap){while(R<32){if(k===0)break o;k--,y|=v[x++]<<R,R+=8}if(T-=L,l.total_out+=T,r.total+=T,r.wrap&4&&T)l.adler=r.check=r.flags?Ua(r.check,b,T,u-T):bs(r.check,b,T,u-T);if(T=L,r.wrap&4&&(r.flags?y:Z0(y))!==r.check){l.msg="incorrect data check",r.mode=Ra;break}y=0,R=0}r.mode=N0;case N0:if(r.wrap&&r.flags){while(R<32){if(k===0)break o;k--,y+=v[x++]<<R,R+=8}if(r.wrap&4&&y!==(r.total&4294967295)){l.msg="incorrect length check",r.mode=Ra;break}y=0,R=0}r.mode=v0;case v0:po=f9;break o;case Ra:po=v1;break o;case y1:return Z1;case R1:default:return Ca}if(l.next_out=u,l.avail_out=L,l.next_in=x,l.avail_in=k,r.hold=y,r.bits=R,r.wsize||T!==l.avail_out&&r.mode<Ra&&(r.mode<ni||p!==Bu)){if(V1(l,l.output,l.next_out,T-l.avail_out));}if(Z-=l.avail_in,T-=l.avail_out,l.total_in+=Z,l.total_out+=T,r.total+=T,r.wrap&4&&T)l.adler=r.check=r.flags?Ua(r.check,b,T,l.next_out-T):bs(r.check,b,T,l.next_out-T);if(l.data_type=r.bits+(r.last?64:0)+(r.mode===he?128:0)+(r.mode===dl||r.mode===ei?256:0),(Z===0&&T===0||p===Bu)&&po===sn)po=k9;return po},q9=(l)=>{if(ln(l))return Ca;let p=l.state;if(p.window)p.window=null;return l.state=null,sn},$9=(l,p)=>{if(ln(l))return Ca;const r=l.state;if((r.wrap&2)===0)return Ca;return r.head=p,p.done=!1,sn},T9=(l,p)=>{const r=p.length;let v,b,x;if(ln(l))return Ca;if(v=l.state,v.wrap!==0&&v.mode!==Nl)return Ca;if(v.mode===Nl){if(b=1,b=bs(b,p,r,0),b!==v.check)return v1}if(x=V1(l,p,r,r),x)return v.mode=y1,Z1;return v.havedict=1,sn},V9=q1,M9=$1,L9=x1,O9=y9,U9=T1,X9=x9,g9=q9,S9=$9,W9=T9,j9="pako inflate (from Nodeca project)",ve={inflateReset:V9,inflateReset2:M9,inflateResetKeep:L9,inflateInit:O9,inflateInit2:U9,inflate:X9,inflateEnd:g9,inflateGetHeader:S9,inflateSetDictionary:W9,inflateInfo:j9},w9=M8,M1=Object.prototype.toString,{Z_NO_FLUSH:F9,Z_FINISH:I9,Z_OK:hs,Z_STREAM_END:ri,Z_NEED_DICT:ii,Z_STREAM_ERROR:z9,Z_DATA_ERROR:R0,Z_MEM_ERROR:J9}=yl;qi.prototype.push=function(l,p){const r=this.strm,v=this.options.chunkSize,b=this.options.dictionary;let x,u,k;if(this.ended)return!1;if(p===~~p)u=p;else u=p===!0?I9:F9;if(M1.call(l)==="[object ArrayBuffer]")r.input=new Uint8Array(l);else r.input=l;r.next_in=0,r.avail_in=r.input.length;for(;;){if(r.avail_out===0)r.output=new Uint8Array(v),r.next_out=0,r.avail_out=v;if(x=ve.inflate(r,u),x===ii&&b){if(x=ve.inflateSetDictionary(r,b),x===hs)x=ve.inflate(r,u);else if(x===R0)x=ii}while(r.avail_in>0&&x===ri&&r.state.wrap>0&&l[r.next_in]!==0)ve.inflateReset(r),x=ve.inflate(r,u);switch(x){case z9:case R0:case ii:case J9:return this.onEnd(x),this.ended=!0,!1}if(k=r.avail_out,r.next_out){if(r.avail_out===0||x===ri)if(this.options.to==="string"){let L=ks.utf8border(r.output,r.next_out),y=r.next_out-L,R=ks.buf2string(r.output,L);if(r.next_out=y,r.avail_out=v-y,y)r.output.set(r.output.subarray(L,L+y),0);this.onData(R)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out))}if(x===hs&&k===0)continue;if(x===ri)return x=ve.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,!0;if(r.avail_in===0)break}return!0};qi.prototype.onData=function(l){this.chunks.push(l)};qi.prototype.onEnd=function(l){if(l===hs)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=xl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var Ot=Zi(C6(),1);import{jsx as pe,jsxs as p5,Fragment as b5}from"preact/jsx-runtime";function f5({itemClassName:l,deviceName:p,deviceFilters:r,onBeforeDownload:v,children:b}){const{createAlert:x,removeAlert:u,createPrompt:k}=i5(),{key:L,name:y,fileList:R,assetList:Z}=c5(),T=(q)=>{if(!we)we=`download.${Date.now()}`;if(q<100)x({id:we,icon:pe(u5,{level:"success"}),message:pe(cn,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:q})});else x({id:we,icon:null,message:pe(cn,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(M,2000)},M=()=>{u(we),we=null},$=(q)=>{if(q==="NotFoundError")return;x({message:q==="NotFoundError"?pe(cn,{id:"blocks.alert.connectionCancel",defaultMessage:"Connection cancel."}):pe(cn,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};return p5(b5,{children:[pe(m5,{children:pe(t5,{disabled:we,className:l,label:pe(cn,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(we)return;let q;try{q=await E0(r||d5)}catch(I){$(I.name)}if(!q)return;const g=P0(q).catch(()=>{$(),M()});let w=v?v(y,R,Z):[].concat(R,Z);w=w.map((I)=>({...I,id:I.id.startsWith("extensions/")?I.id:`proj${L}/${I.id}`})),T(0);try{if(await G0(q,w))await Y0(q,w,T),await H0(q,{"latest-project":L}),q.hardReset();else k({title:p||pe(cn,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:pe(cn,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),M()}catch(I){$(I.name),M()}finally{g.cancel()}}})}),b]})}import{jsx as zn}from"preact/jsx-runtime";function H1({deviceName:l,deviceFilters:p,createProject:r,openProject:v,saveProject:b,beforeDownload:x}){return[{icon:_5,label:zn(Oi,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:u,children:k})=>zn(a5,{itemClassName:u,onNew:r,onOpen:v,onSave:b,children:k})},{icon:k5,label:zn(Oi,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:u,children:k})=>zn(r5,{itemClassName:u,children:k})},{icon:h5,label:zn(Oi,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:u,children:k})=>zn(f5,{deviceName:l,itemClassName:u,deviceFilters:p,onBeforeDownload:x,children:k})}]}import{ScratchBlocks as Ja}from"@blockcode/blocks-editor";import{ScratchBlocks as qa}from"@blockcode/blocks-editor";import{ScratchBlocks as G1}from"@blockcode/blocks-editor";import{ScratchBlocks as qs}from"@blockcode/blocks-editor";import{useEffect as Z5,useState as Rs}from"preact/hooks";import{useLocale as y5,useLayout as R5,useEditor as W1}from"@blockcode/core";import{classNames as x5}from"@blockcode/ui";import{BlocksEditor as q5,ScratchBlocks as Sa,makeToolboxXML as $5}from"@blockcode/blocks-editor";import{ScratchBlocks as Si,blockSeparator as T5}from"@blockcode/blocks-editor";function O5(l,p,r,v,b){const{id:x}=p,u=v(p.name);let k=`<category name="${be(u)}" id="${be(x)}"`;if(k+=` colour="${be(p.themeColor||Wi)}"`,k+=` secondaryColour="${be(p.inputColor||ji)}"`,p.connectionConfig)k+=' showStatusButton="true"';if(p.iconURI)k+=` iconURI="${be(p.iconURI)}"`;return k+=">",p.menus=p.menus||{},p.blocks.filter((L)=>!L.hidden).forEach((L)=>{if(L==="---"){k+=`${T5}`;return}if(L.button){k+=`<button text="${v(L.text)}" callbackKey="${L.button}"></button>`;const M=Si.getMainWorkspace();if(M){const $=M.getFlyout();if($){const q=$.getWorkspace();if(q)q.registerButtonCallback(L.button,b(L.onClick))}}return}if(r&&L.useStage===!1)return;if(!r&&L.useSprite===!1)return;const y=`${x}_${L.id}`,R={message0:v(L.text),category:x,outputShape:L5,colour:p.themeColor||Wi,colourSecondary:p.inputColor||ji,colourTertiary:p.otherColor||j1};let Z=1;if(p.iconURI)R.message0=`%1 %2 ${R.message0}`,R.args0=[{type:"field_image",src:p.iconURI,width:40,height:40},{type:"field_vertical_separator"}],R.extensions=["scratch_extension"],Z+=2;if(L.hat)R.nextStatement=null;else if(L.output){if(L.output==="boolean")R.output="Boolean",R.outputShape=V5;else R.output="String",R.outputShape=M5;R.checkboxInFlyout=L.monitoring!==!1}else R.previousStatement=null,R.nextStatement=null;let T=`<block type="${be(y)}">`;if(L.inputs)R.checkboxInFlyout=!1,R.args0=[].concat(R.args0||[],Object.entries(L.inputs).map(([M,$])=>{const q={name:M,type:"input_value"};if($.menu){let g=$.menu,w=$.name||M,I=$.inputMode||!1,W=$.type||"string",E=$.default||"";if(typeof $.menu==="string")w=$.menu,g=p.menus[w];if(!Array.isArray(g))I=g.inputMode||I,W=g.type||W,E=g.default||E,g=g.items;if(I){if(!p.menus[w])p.menus[w]={inputMode:I,type:W,items:g};if(T+=`<value name="${be(M)}">`,T+=`<shadow type="${x}_menu_${w}">`,E)T+=`<field name="${w}">${be(v(E))}</field>`;T+="</shadow></value>"}else if(g)q.type="field_dropdown",q.options=g.map((D)=>{if(Array.isArray(D)){const[C,uo]=D;return[v(C),uo]}return D=`${D}`,[D,D]})}else if($.type==="boolean")q.check="Boolean";else{if(T+=`<value name="${be(M)}">`,w1[$.type]){if(T+=`<shadow type="${w1[$.type]}">`,$.default&&F1[$.type])T+=`<field name="${F1[$.type]}">${be(v($.default))}</field>`;T+="</shadow>"}T+="</value>"}return R.message0=R.message0.replace(`[${M}]`,`%${Z++}`),q}));Si.Blocks[y]={init(){this.jsonInit(R)}};for(let M of l){const $=M.name_.toLowerCase();if(L[$])M[y]=L[$].bind(M);else M[y]=()=>""}T+="</block>",k+=T}),Object.entries(p.menus).forEach(([L,y])=>{if(!y.inputMode)return;const R=`${x}_menu_${L}`,Z=y.type==="number"?"output_number":"output_string",T={message0:"%1",args0:[{type:"field_dropdown",name:L,options:y.items.map((M)=>{if(Array.isArray(M)){const[$,q]=M;return[v($),q]}return M=`${M}`,[M,M]})}],category:x,colour:p.themeColor||Wi,colourSecondary:p.inputColor||ji,colourTertiary:p.otherColor||j1,extensions:[Z]};Si.Blocks[R]={init(){this.jsonInit(T)}};for(let M of l)M[R]=($)=>{return[$.getFieldValue(L),M.ORDER_ATOMIC]}}),k+="</category>",k}import{useRef as U5,useEffect as X5,useState as I1}from"preact/hooks";import{classNames as g5,Text as Jn,Button as z1,Modal as S5,BufferedInput as W5}from"@blockcode/ui";function Fi(l){const p=globalThis.document,r=p.createElement("style");r.appendChild(p.createTextNode(l)),p.head.append(r)}import{jsx as Fa,jsxs as xs}from"preact/jsx-runtime";function j5({title:l,label:p,defaultValue:r,enableLocalVariable:v,showListMessage:b,showVariableOptions:x,showCloudOption:u,onClose:k,onSubmit:L}){const y=U5(null),[R,Z]=I1(r),[T,M]=I1({scope:"global",isCloud:!1}),$=()=>{L(R,T)},q=(g)=>{if(g.key==="Escape")k();if(g.key==="Enter")L(y.current.base.value,T)};return X5(()=>{if(y.current)y.current.base.focus(),window.addEventListener("keydown",q);return()=>{window.removeEventListener("keydown",q)}},[y]),Fa(S5,{title:l,className:fe.promptModal,onClose:k,children:xs("div",{className:fe.promptContent,children:[Fa("div",{className:fe.label,children:p}),Fa(W5,{autoFocus:!0,forceFocus:!0,ref:y,className:fe.variableNameTextInput,defaultValue:R,onSubmit:Z}),x&&Fa("div",{children:v?xs("div",{className:fe.options,children:[xs("label",{children:[Fa("input",{checked:T.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>M({...T,scope:"global"})}),Fa(Jn,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),xs("label",{children:[Fa("input",{checked:T.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>M({...T,scope:"local"})}),Fa(Jn,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):Fa("div",{className:fe.infoMessage,children:b?Fa(Jn,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):Fa(Jn,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),xs("div",{className:fe.buttonRow,children:[Fa(z1,{className:fe.button,onClick:k,children:Fa(Jn,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),Fa(z1,{className:g5(fe.button,fe.okButton),onClick:$,children:Fa(Jn,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})})}import{useRef as w5,useEffect as F5,useState as I5}from"preact/hooks";import{classNames as z5,Text as Fe,Button as J1,Modal as J5}from"@blockcode/ui";import{ScratchBlocks as Tl}from"@blockcode/blocks-editor";import{jsx as Oa,jsxs as un}from"preact/jsx-runtime";function G5({mutator:l,onClose:p,onSubmit:r}){const v=w5(null),[b,x]=I5("command"),u=()=>{},k=()=>{if(v.mutationRoot)v.mutationRoot.addLabelExternal()},L=()=>{if(v.mutationRoot)v.mutationRoot.addBooleanExternal()},y=()=>{if(v.mutationRoot)v.mutationRoot.addStringNumberExternal()},R=()=>{r(v.mutationRoot?.mutationToDom(!0))};return F5(()=>{if(v.current){const Z=Tl.Blocks.defaultToolbox;Tl.Blocks.defaultToolbox=null,v.workspace=Tl.inject(v.current,Object.assign({},H5,{media:"./assets/blocks-media/"})),Tl.Blocks.defaultToolbox=Z,v.mutationRoot=v.workspace.newBlock("procedures_declaration"),v.mutationRoot.setMovable(!1),v.mutationRoot.setDeletable(!1),v.mutationRoot.contextMenu=!1,v.workspace.addChangeListener(()=>{v.mutationRoot.onChangeFn();const T=v.workspace.getMetrics(),{x:M,y:$}=v.mutationRoot.getRelativeToSurfaceXY(),q=T.viewHeight/2-v.mutationRoot.height/2-$;let g=T.viewWidth/2-v.mutationRoot.width/2-M;if(v.mutationRoot.width>T.viewWidth)g=T.viewWidth-v.mutationRoot.width-M;v.mutationRoot.moveBy(g,q)}),v.mutationRoot.domToMutation(l),v.mutationRoot.initSvg(),v.mutationRoot.render(),setTimeout(()=>{v.mutationRoot.focusLastEditor_()})}return()=>{if(v.workspace)v.workspace.dispose()}},[v]),un(J5,{title:Oa(Fe,{id:"blocks.myBlockPrompt.title",defaultMessage:"Make a Block"}),className:La.promptModal,onClose:p,children:[Oa("div",{ref:v,className:La.workspace}),un("div",{className:La.body,children:[un("div",{className:La.optionsRow,children:[un("div",{role:"button",className:La.optionCard,onClick:y,children:[Oa("img",{className:La.optionIcon,src:E5}),Oa("div",{className:La.optionTitle,children:Oa(Fe,{id:"blocks.myBlockPrompt.addAnInputNumberText",defaultMessage:"Add an input"})}),Oa("div",{className:La.optionDescription,children:Oa(Fe,{id:"blocks.myBlockPrompt.numberTextType",defaultMessage:"number or text"})})]}),un("div",{role:"button",className:La.optionCard,onClick:L,children:[Oa("img",{className:La.optionIcon,src:K5}),Oa("div",{className:La.optionTitle,children:Oa(Fe,{id:"blocks.myBlockPrompt.addAnInputBoolean",defaultMessage:"Add an input"})}),Oa("div",{className:La.optionDescription,children:Oa(Fe,{id:"blocks.myBlockPrompt.booleanType",defaultMessage:"boolean"})})]}),un("div",{role:"button",className:La.optionCard,onClick:k,children:[Oa("img",{className:La.optionIcon,src:P5}),Oa("div",{className:La.optionTitle,children:Oa(Fe,{id:"blocks.myBlockPrompt.addALabel",defaultMessage:"Add a label"})})]})]}),un("div",{className:La.buttonRow,children:[Oa(J1,{className:La.button,onClick:p,children:Oa(Fe,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),Oa(J1,{className:z5(La.button,La.okButton),onClick:R,children:Oa(Fe,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})]})}import{useEffect as Y5,useState as K1}from"preact/hooks";import{useLocale as D5,useLayout as Q5,useEditor as C5}from"@blockcode/core";import{Library as B5}from"@blockcode/ui";import{jsx as om}from"preact/jsx-runtime";function em({deviceId:l,onSelect:p,onClose:r,onFilter:v}){const[b,x]=K1([]),[u,k]=K1(!1),{language:L,getText:y}=D5(),{createAlert:R,removeAlert:Z}=Q5(),{addAsset:T}=C5(),M=($)=>{const q=$.tags||[];let g=["blocks"];if(v)g=v(q);if(Array.isArray(g))return g.some((w)=>{if(Array.isArray(w))return w.every((I)=>I[0]==="!"?!q.includes(I.slice(1)):q.includes(I));return q.includes(w)});return g};return Y5(()=>{am.then(($)=>{x($.filter(M).map((q)=>Object.assign({...q,featured:!0,disabled:q.disabled||q.preview,onSelect:()=>{p(q.id),r()}},q.translations&&q.translations[L]?{name:q.translations[L].name||q.name,description:q.translations[L].description||q.description,collaborator:q.translations[L].collaborator||q.collaborator}:{}))),k(!1)})},[]),om(B5,{filterable:!0,loading:u,items:b,filterPlaceholder:y("gui.library.search","Search"),title:y("blocks.extensions.addExtension","Add Extension"),emptyText:y("blocks.extensions.empty","No extension!"),onClose:r})}import{jsx as mn,jsxs as E1,Fragment as sm}from"preact/jsx-runtime";function rm({toolbox:l,messages:p,generators:r,enableMultiTargets:v,enableLocalVariable:b,disableGenerator:x,disableExtension:u,deviceId:k,onChange:L,onExtensionsFilter:y,onLoadExtension:R}){const{addLocaleData:Z,getText:T,maybeLocaleText:M}=y5(),{splash:$,createPrompt:q,createAlert:g,removeAlert:w,setSplash:I}=R5(),{editor:W,fileList:E,selectedFileId:D,openFile:C,modifyFile:uo,addAsset:po,setModified:To}=W1(),[co,Lo]=Rs(),[o,n]=Rs(!1),[c,s]=Rs(!1),[m,_]=Rs(!1),[h,d]=Rs(!1);p={EVENT_WHENPROGRAMSTART:T("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:T("blocks.control.stopOther","other scripts"),PROCEDURES_ADD_LABEL:T("blocks.myblock.addLabel"," label text"),PROCEDURES_ADD_BOOLEAN:T("blocks.myblock.addBoolean","boolean"),PROCEDURES_ADD_STRING_NUMBER:T("blocks.myblock.addNumbetText","number or text"),...p||[]},Z5(()=>{Sa.prompt=(Oo,H,j,B,$o)=>{const Uo={callback:j,message:Oo,defaultValue:H};Uo.title=B?B:Sa.Msg.VARIABLE_MODAL_TITLE,Uo.varType=typeof $o==="string"?$o:Sa.SCALAR_VARIABLE_TYPE,Uo.showVariableOptions=v&&$o!==Sa.BROADCAST_MESSAGE_VARIABLE_TYPE&&Uo.title!==Sa.Msg.RENAME_VARIABLE_MODAL_TITLE&&Uo.title!==Sa.Msg.RENAME_LIST_MODAL_TITLE,Uo.showCloudOption=$o===Sa.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,n(Uo)},Sa.FlyoutExtensionCategoryHeader.getExtensionState=(Oo)=>{if(oe.has(Oo)){const H=oe.get(Oo);if(H.connectionConfig?.items.every((j)=>localStorage.getItem(`${H.id}.connection.${j.id}`)))return Sa.StatusButtonState.READY}return Sa.StatusButtonState.NOT_READY},Sa.statusButtonCallback=(Oo)=>{if(!oe.has(Oo))return;const H=oe.get(Oo),{connectionConfig:j}=H;if(!j)return;q({title:H.name,label:j.title,inputMode:j.items.map((B)=>({name:B.id,placeholder:B.text,defaultValue:localStorage.getItem(`${H.id}.connection.${B.id}`)})),body:j.description,onSubmit:(B)=>{if(Object.entries(B).forEach(([$o,Uo])=>{localStorage.setItem(`${H.id}.connection.${$o}`,`${Uo}`)}),co)Sa.refreshStatusButtons(co)}})},Sa.Procedures.externalProcedureDefCallback=(Oo,H)=>{s({mutator:Oo,defCallback:H})}},[co]);let a;if(co)a=co.getAllVariables().filter((Oo)=>{if(Oo.isLocal)return!1;if(Oo.type===Sa.BROADCAST_MESSAGE_VARIABLE_TYPE){if(Oo.name===Sa.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;const H=Oo.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),j=new RegExp(`<field name="BROADCAST_OPTION" id="${H}"[^>]+>[^<]+</field>`,"g");for(let B of E)if(j.test(B.xml))return!0;return!1}return!0});let t=l||$5();const S=D===E[0].id,U=(Oo)=>Oo.bind(null,{context:W1(),createPrompt:q,createAlert:g,removeAlert:w});oe.forEach((Oo)=>{t+=O5(r,Oo,S,M,U)});const P=(Oo)=>{let H="\n";if(!x)H=r[0].workspaceToCode(Oo);const j=Array.from(new Set(Object.values(Oo.blockDB_).filter((B)=>oe.has(B.category_)).map((B)=>B.category_)));return{content:H,extensions:j}},fo=(Oo,H)=>{const{content:j,extensions:B}=P(H);if(uo({xml:Oo,content:j,extensions:B}),L)L(Oo,H)},vo=(Oo,H)=>{o.callback(Oo,[],H),n(!1)},xo=(Oo)=>{if(Oo&&co&&c)c.defCallback(Oo),co.refreshToolboxSelection_(),co.toolbox_.scrollToCategoryById("myBlocks");s(!1)},mo=()=>{n(!1),s(!1)},io=()=>_(!0),ko=()=>_(!1),Io=async(Oo)=>{if(!oe.has(Oo)){g("importing",{id:Oo});let{default:H}=await import(`@blockcode/extension-${Oo}/blocks`);if(typeof H==="function")H=H(k);if(H.id=Oo,H.files)for(let j of H.files){const B=`extensions/${Oo.replace(/[^a-z\d]/gi,"_")}/${j.name}`,$o=await fetch(j.uri).then((Uo)=>Uo.text());po({...j,id:B,content:$o})}if(Z(H.translations),R)R({...H,blocks:H.blocks.filter(Y1)});oe.set(H.id,H),w(Oo)}setTimeout(()=>{co.toolbox_.setSelectedCategoryById(Oo)},50)};if($){if($===!0&&h===!1)oe.clear(),d(lm(k,W.extensions,Z,po,R).then(()=>{setTimeout(()=>d(!0),50)}));if(h===!0){const Oo=$;if(E.length===1||Oo===D)I(!1),d(!1),setTimeout(()=>To(!1),50);else{const H=E.findIndex((j)=>j.id===D)||0;if(E[H].content){const j=E.at(H-1).id;setTimeout(()=>{if($===!0)I(D);C(j)})}}}}let qo=!0;if(W.extensions)qo=W.extensions.every((Oo)=>oe.has(Oo));return E1(sm,{children:[E1("div",{className:wi.editorWrapper,children:[mn(q5,{toolbox:t,messages:p,extensionsLoaded:qo,globalVariables:a,onWorkspaceCreated:Lo,onChange:fo}),u?null:mn("div",{className:x5("scratchCategoryMenu",wi.extensionButton),children:mn("button",{className:wi.addButton,title:T("blocks.extensions.addExtension","Add Extension"),onClick:io,children:mn("img",{src:nm,title:"Add Extension"})})}),o&&mn(j5,{title:o.title,label:o.message,defaultValue:o.defaultValue,enableLocalVariable:b,showListMessage:o.varType===Sa.LIST_VARIABLE_TYPE,showVariableOptions:o.showVariableOptions,showCloudOption:o.showCloudOption,onClose:mo,onSubmit:vo}),c&&mn(G5,{mutator:c.mutator,onClose:mo,onSubmit:xo}),m&&mn(em,{deviceId:k,onFilter:y,onSelect:Io,onClose:ko})]}),!1]})}import{jsx as Q1}from"preact/jsx-runtime";var K9=Object.create,{getPrototypeOf:E9,defineProperty:L1,getOwnPropertyNames:P9}=Object,H9=Object.prototype.hasOwnProperty,G9=(l,p,r)=>{r=l!=null?K9(E9(l)):{};const v=p||!l||!l.__esModule?L1(r,"default",{value:l,enumerable:!0}):r;for(let b of P9(l))if(!H9.call(v,b))L1(v,b,{get:()=>l[b],enumerable:!0});return v},Y9=(l,p)=>()=>(p||l((p={exports:{}}).exports,p),p.exports),D9=Y9((l)=>{(function(){var p=typeof l!="undefined"&&l||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return p});p.default=p;var r="http://www.w3.org/2000/xmlns/",v="http://www.w3.org/1999/xhtml",b="http://www.w3.org/2000/svg",x='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,k={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},L=function Lo(o){return o instanceof HTMLElement||o instanceof SVGElement},y=function Lo(o){if(!L(o))throw new Error("an HTMLElement or SVGElement is required; got "+o)},R=function Lo(o){return new Promise(function(n,c){if(L(o))n(o);else c(new Error("an HTMLElement or SVGElement is required; got "+o))})},Z=function Lo(o){return o&&o.lastIndexOf("http",0)===0&&o.lastIndexOf(window.location.host)===-1},T=function Lo(o){var n=Object.keys(k).filter(function(c){return o.indexOf("."+c)>0}).map(function(c){return k[c]});if(n)return n[0];return console.error("Unknown font format for "+o+". Fonts may not be working correctly."),"application/octet-stream"},M=function Lo(o){var n="",c=new Uint8Array(o);for(var s=0;s<c.byteLength;s++)n+=String.fromCharCode(c[s]);return window.btoa(n)},$=function Lo(o,n,c){var s=o.viewBox&&o.viewBox.baseVal&&o.viewBox.baseVal[c]||n.getAttribute(c)!==null&&!n.getAttribute(c).match(/%$/)&&parseInt(n.getAttribute(c))||o.getBoundingClientRect()[c]||parseInt(n.style[c])||parseInt(window.getComputedStyle(o).getPropertyValue(c));return typeof s==="undefined"||s===null||isNaN(parseFloat(s))?0:s},q=function Lo(o,n,c,s){if(o.tagName==="svg")return{width:c||$(o,n,"width"),height:s||$(o,n,"height")};else if(o.getBBox){var m=o.getBBox(),_=m.x,h=m.y,d=m.width,a=m.height;return{width:_+d,height:h+a}}},g=function Lo(o){return decodeURIComponent(encodeURIComponent(o).replace(/%([0-9A-F]{2})/g,function(n,c){var s=String.fromCharCode("0x"+c);return s==="%"?"%25":s}))},w=function Lo(o){var n=window.atob(o.split(",")[1]),c=o.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(n.length),m=new Uint8Array(s);for(var _=0;_<n.length;_++)m[_]=n.charCodeAt(_);return new Blob([s],{type:c})},I=function Lo(o,n){if(!n)return;try{return o.querySelector(n)||o.parentNode&&o.parentNode.querySelector(n)}catch(c){console.warn('Invalid CSS selector "'+n+'"',c)}},W=function Lo(o,n){var c=o.cssText.match(u),s=c&&c[1]||"";if(!s||s.match(/^data:/)||s==="about:blank")return;var m=s.startsWith("../")?n+"/../"+s:s.startsWith("./")?n+"/."+s:s;return{text:o.cssText,format:T(m),url:m}},E=function Lo(o){return Promise.all(Array.from(o.querySelectorAll("image")).map(function(n){var c=n.getAttributeNS("http://www.w3.org/1999/xlink","href")||n.getAttribute("href");if(!c)return Promise.resolve(null);if(Z(c))c+=(c.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf();return new Promise(function(s,m){var _=document.createElement("canvas"),h=new Image;h.crossOrigin="anonymous",h.src=c,h.onerror=function(){return m(new Error("Could not load "+c))},h.onload=function(){_.width=h.width,_.height=h.height,_.getContext("2d").drawImage(h,0,0),n.setAttributeNS("http://www.w3.org/1999/xlink","href",_.toDataURL("image/png")),s(!0)}})}))},D={},C=function Lo(o){return Promise.all(o.map(function(n){return new Promise(function(c,s){if(D[n.url])return c(D[n.url]);var m=new XMLHttpRequest;m.addEventListener("load",function(){var _=M(m.response),h=n.text.replace(u,'url("data:'+n.format+";base64,"+_+'")')+"\n";D[n.url]=h,c(h)}),m.addEventListener("error",function(_){console.warn("Failed to load font from: "+n.url,_),D[n.url]=null,c(null)}),m.addEventListener("abort",function(_){console.warn("Aborted loading font from: "+n.url,_),c(null)}),m.open("GET",n.url),m.responseType="arraybuffer",m.send()})})).then(function(n){return n.filter(function(c){return c}).join("")})},uo=null,po=function Lo(){if(uo)return uo;return uo=Array.from(document.styleSheets).map(function(o){try{return{rules:o.cssRules,href:o.href}}catch(n){return console.warn("Stylesheet could not be loaded: "+o.href,n),{}}})},To=function Lo(o,n){var c=n||{},s=c.selectorRemap,m=c.modifyStyle,_=c.modifyCss,h=c.fonts,d=c.excludeUnusedCss,a=_||function(P,fo){var vo=s?s(P):P,xo=m?m(fo):fo;return vo+"{"+xo+"}\n"},t=[],S=typeof h==="undefined",U=h||[];return po().forEach(function(P){var{rules:fo,href:vo}=P;if(!fo)return;Array.from(fo).forEach(function(xo){if(typeof xo.style!="undefined"){if(I(o,xo.selectorText))t.push(a(xo.selectorText,xo.style.cssText));else if(S&&xo.cssText.match(/^@font-face/)){var mo=W(xo,vo);if(mo)U.push(mo)}else if(!d)t.push(xo.cssText)}})}),C(U).then(function(P){return t.join("\n")+P})},co=function Lo(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};p.prepareSvg=function(Lo,o,n){y(Lo);var c=o||{},s=c.left,m=s===void 0?0:s,_=c.top,h=_===void 0?0:_,d=c.width,a=c.height,t=c.scale,S=t===void 0?1:t,U=c.responsive,P=U===void 0?!1:U,fo=c.excludeCss,vo=fo===void 0?!1:fo;return E(Lo).then(function(){var xo=Lo.cloneNode(!0);xo.style.backgroundColor=(o||{}).backgroundColor||Lo.style.backgroundColor;var mo=q(Lo,xo,d,a),io=mo.width,ko=mo.height;if(Lo.tagName!=="svg")if(Lo.getBBox){if(xo.getAttribute("transform")!=null)xo.setAttribute("transform",xo.getAttribute("transform").replace(/translate\(.*?\)/,""));var Io=document.createElementNS("http://www.w3.org/2000/svg","svg");Io.appendChild(xo),xo=Io}else{console.error("Attempted to render non-SVG element",Lo);return}if(xo.setAttribute("version","1.1"),xo.setAttribute("viewBox",[m,h,io,ko].join(" ")),!xo.getAttribute("xmlns"))xo.setAttributeNS(r,"xmlns",b);if(!xo.getAttribute("xmlns:xlink"))xo.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink");if(P)xo.removeAttribute("width"),xo.removeAttribute("height"),xo.setAttribute("preserveAspectRatio","xMinYMin meet");else xo.setAttribute("width",io*S),xo.setAttribute("height",ko*S);if(Array.from(xo.querySelectorAll("foreignObject > *")).forEach(function(H){H.setAttributeNS(r,"xmlns",H.tagName==="svg"?b:v)}),vo){var qo=document.createElement("div");qo.appendChild(xo);var Oo=qo.innerHTML;if(typeof n==="function")n(Oo,io,ko);else return{src:Oo,width:io,height:ko}}else return To(Lo,o).then(function(H){var j=document.createElement("style");j.setAttribute("type","text/css"),j.innerHTML="<![CDATA[\n"+H+"\n]]>";var B=document.createElement("defs");B.appendChild(j),xo.insertBefore(B,xo.firstChild);var $o=document.createElement("div");$o.appendChild(xo);var Uo=$o.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof n==="function")n(Uo,io,ko);else return{src:Uo,width:io,height:ko}})})},p.svgAsDataUri=function(Lo,o,n){return y(Lo),p.prepareSvg(Lo,o).then(function(c){var{src:s,width:m,height:_}=c,h="data:image/svg+xml;base64,"+window.btoa(g(x+s));if(typeof n==="function")n(h,m,_);return h})},p.svgAsPngUri=function(Lo,o,n){y(Lo);var c=o||{},s=c.encoderType,m=s===void 0?"image/png":s,_=c.encoderOptions,h=_===void 0?0.8:_,d=c.canvg,a=function t(S){var{src:U,width:P,height:fo}=S,vo=document.createElement("canvas"),xo=vo.getContext("2d"),mo=window.devicePixelRatio||1;if(vo.width=P*mo,vo.height=fo*mo,vo.style.width=vo.width+"px",vo.style.height=vo.height+"px",xo.setTransform(mo,0,0,mo,0,0),d)d(vo,U);else xo.drawImage(U,0,0);var io=void 0;try{io=vo.toDataURL(m,h)}catch(ko){if(typeof SecurityError!=="undefined"&&ko instanceof SecurityError||ko.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw ko}if(typeof n==="function")n(io,vo.width,vo.height);return Promise.resolve(io)};if(d)return p.prepareSvg(Lo,o).then(a);else return p.svgAsDataUri(Lo,o).then(function(t){return new Promise(function(S,U){var P=new Image;P.onload=function(){return S(a({src:P,width:P.width,height:P.height}))},P.onerror=function(){U("There was an error loading the data URI as an image on the following SVG\n"+window.atob(t.slice(26))+"Open the following link to see browser\'s diagnosis\n"+t)},P.src=t})})},p.download=function(Lo,o,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(w(o),Lo);else{var c=document.createElement("a");if("download"in c){c.download=Lo,c.style.display="none",document.body.appendChild(c);try{var s=w(o),m=URL.createObjectURL(s);c.href=m,c.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(m)})}}catch(_){console.error(_),console.warn("Error while getting object URL. Falling back to string URL."),c.href=o}c.click(),document.body.removeChild(c)}else if(n&&n.popup)n.popup.document.title=Lo,n.popup.location.replace(o)}},p.saveSvg=function(Lo,o,n){var c=co();return R(Lo).then(function(s){return p.svgAsDataUri(s,n||{})}).then(function(s){return p.download(o,s,c)})},p.saveSvgAsPng=function(Lo,o,n){var c=co();return R(Lo).then(function(s){return p.svgAsPngUri(s,n||{})}).then(function(s){return p.download(o,s,c)})}})()}),Q9=G9(D9(),1),Xi=/Mac/i.test(navigator.platform||navigator.userAgent),S1=/Mac/i.test(navigator.platform||navigator.userAgent),d5=[{usbVendorId:12346},{usbVendorId:11914}],we=null,_5="./assets/icon-file-egaz1kfx.svg",k5="./assets/icon-edit-jejnm7yb.svg",h5="./assets/icon-device-3gcajtt2.svg",N5=`code_${Date.now().toString(36)}`,a2=`
from blocks import *
import ${N5}
start()
`;class Kn extends Ja.Generator{ORDER_ATOMIC=0;ORDER_COLLECTION=1;ORDER_STRING_CONVERSION=1;ORDER_MEMBER=2.1;ORDER_FUNCTION_CALL=2.2;ORDER_EXPONENTIATION=3;ORDER_UNARY_SIGN=4;ORDER_BITWISE_NOT=4;ORDER_MULTIPLICATIVE=5;ORDER_ADDITIVE=6;ORDER_BITWISE_SHIFT=7;ORDER_BITWISE_AND=8;ORDER_BITWISE_XOR=9;ORDER_BITWISE_OR=10;ORDER_RELATIONAL=11;ORDER_LOGICAL_NOT=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_LAMBDA=16;ORDER_NONE=99;constructor(){super("Python");this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,math,random,Number"),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]];for(let l in Kn.prototype)if(typeof Kn.prototype[l]==="function")Kn.prototype[l]=Kn.prototype[l].bind(this)}init(l){if(this.PASS=this.INDENT+"pass\n",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new Ja.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());const p=[],r=l.getAllVariables();for(let b=0;b<r.length;b++){if(r[b].type===Ja.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let x=this.variableDB_.getName(r[b].getId(),Ja.Variables.NAME_TYPE),u="0";if(r[b].type===Ja.LIST_VARIABLE_TYPE)x=`${x}_${Ja.LIST_VARIABLE_TYPE}`,u="[]";p.push(`${x} = ${u}`)}const v=Ja.Variables.allDeveloperVariables(l);for(let b=0;b<v.length;b++){let x=this.variableDB_.getName(v[b],Ja.Names.DEVELOPER_VARIABLE_TYPE),u="0";if(r[b].type===Ja.LIST_VARIABLE_TYPE)x=`${x}_${Ja.LIST_VARIABLE_TYPE}`,u="[]";p.push(`${x} = ${u}`)}if(p.length)this.definitions_.variables=p.join("\n")}finish(l){const p=[],r=[];for(let v in this.definitions_){const b=this.definitions_[v];if(b.match(/^(from\s+\S+\s+)?import\s+\S+/))p.push(b);else r.push(b)}return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),(p.join("\n")+"\n\n"+r.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+l}scrubNakedValue(l){return l+"\n"}quote_(l){let p='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)p="'";else l=l.replace(/"/g,'\\"');return p+l+p}scrub_(l,p){let r="";if(!l.outputConnection?.targetConnection){let v=l.getCommentText();if(v=Ja.utils.wrap(v,this.COMMENT_WRAP-3),v)if(l.getProcedureDef)r+='"""'+v+'\n"""\n';else r+=this.prefixLines(v+"\n","# ");for(let b=0;b<l.inputList.length;b++)if(l.inputList[b].type==Ja.INPUT_VALUE){const x=l.inputList[b].connection.targetBlock();if(x){const u=this.allNestedComments(x);if(u)r+=this.prefixLines(u,"# ")}}}if(l.startHat_){const v=l.nextConnection&&l.nextConnection.targetBlock();let b=this.blockToCode(v);if(b)b=this.prefixLines(b,this.INDENT),p=p.replace(`\n${this.PASS}`,`\n${b}`);return r+p}if(l.parentBlock_){const v=l.nextConnection&&l.nextConnection.targetBlock(),b=this.blockToCode(v);return r+p+b}}getAdjustedInt(l,p,r,v){let b=r||0;if(l.workspace.options.oneBasedIndex)b--;const x=l.workspace.options.oneBasedIndex?"1":"0",u=b?this.ORDER_ADDITIVE:this.ORDER_NONE;let k=this.valueToCode(l,p,u)||x;if(Ja.isNumber(k)){if(k=parseInt(k,10)+b,v)k=-k}else{if(b>0)k="int("+k+" + "+b+")";else if(b<0)k="int("+k+" - "+-b+")";else k="int("+k+")";if(v)k="-"+k}return k}functionToCode(l,p){return`async def ${l}(${p.join(",")}):\n  this_func = ${l}\n${this.PASS}\n`}eventToCode(l,...p){const r=this.variableDB_.getName(l,Ja.Variables.NAME_TYPE);if(!this.functionNames_[r])this.functionNames_[r]=0;this.functionNames_[r]+=1;const v=`${l}_${this.functionNames_[r]}`;return this.functionToCode(v,p)}}var ea=Kn.prototype,v5=(l)=>{const p=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;l=l.replace(p,(v,b,x,u)=>b+b+x+x+u+u);const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null};ea.colour_picker=function(l){const{r:p,g:r,b:v}=v5(l.getFieldValue("COLOUR"));return[`(${p}, ${r}, ${v})`,this.ORDER_ATOMIC]};var $s="  await runtime.next_frame()\n";ea.control_wait=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return p+=`await runtime.wait_for(num(${r}))\n`,p};ea.control_repeat=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"TIMES",this.ORDER_NONE)||10;return p+=`for _ in range(num(${v})):\n${r}${$s}`,p};ea.control_forever=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;return p+=`while True:\n${r}${$s}`,p};ea.control_if=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";if(p+=`if ${v}:\n${r}`,l.getInput("SUBSTACK2")){if(r=this.statementToCode(l,"SUBSTACK2")||this.PASS,this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;p+=`else:\n${r}`}return p};ea.control_if_else=ea.control_if;ea.control_wait_until=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return p+=`while not ${r}:\n${$s}`,p};ea.control_repeat_until=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return p+=`while not ${v}:\n${r}${$s}`,p};ea.control_while=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return p+=`while ${v}:\n${r}${$s}`,p};ea.control_stop=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":p+="runtime.stop()\n";break;case"this script":p+="return\n";break;case"other scripts in sprite":p+="runtime.stop_tasks(this_func)\n";break}return p};ea.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ea.data_setvariableto=function(l){let p="";if(ea.STATEMENT_PREFIX)p+=ea.injectId(ea.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),v=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return p+=`${r} = ${v}\n`,p};ea.data_changevariableby=function(l){let p="";if(ea.STATEMENT_PREFIX)p+=ea.injectId(ea.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),v=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return p+=`${r} = num(${r}) + num(${v})\n`,p};ea.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};ea.data_addtolist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}.append(${v})\n`,p};ea.data_deleteoflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return p+=`${r}.remove(runtime.index(${v}, len(${r})))\n`,p};ea.data_deletealloflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE;return p+=`${r} = []\n`,p};ea.data_insertatlist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,b=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}.insert(runtime.index(${v}, len(${r})), ${b})\n`,p};ea.data_replaceitemoflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,b=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}[runtime.index(${v}, len(${r}))] = ${b}\n`,p};ea.data_itemoflist=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`${p}[runtime.index(${r}, len(${p}))]`,this.ORDER_CONDITIONAL]};ea.data_itemnumoflist=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`(${p}.index(${r}) + 1)`,this.ORDER_NONE]};ea.data_lengthoflist=function(l){return[`len(${this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE})`,this.ORDER_FUNCTION_CALL]};ea.data_listcontainsitem=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`bool(${p}.count(${r}))`,this.ORDER_FUNCTION_CALL]};ea.event_whenflagclicked=function(){return`@when_start\n${this.eventToCode("start")}`};ea.event_whengreaterthan=function(l){const p=l.getFieldValue("WHENGREATERTHANMENU"),r=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0,v=this.eventToCode("greaterthen");return`@when_greaterthen("${p}", num(${r}))\n${v}`};ea.event_whenbroadcastreceived=function(l){const p=this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),G1.Variables.NAME_TYPE),r=this.eventToCode("broadcastreceived");return`@when_broadcastreceived("${p}")\n${r}`};ea.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),G1.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ea.event_broadcast=function(l){return`runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||'"message1"'}")\n`};ea.event_broadcastandwait=function(l){return`await runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||'"message1"'}", waiting=True)\n`};ea.math_number=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p===1/0)p='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(p===-1/0)p='-float("inf")',r=this.ORDER_UNARY_SIGN;else if(Number.isNaN(p))p='float("nan")',r=this.ORDER_UNARY_SIGN;else r=p<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[p,r]};ea.math_integer=function(l){const p=parseInt(l.getFieldValue("NUM")),r=p<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[p,r]};ea.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};ea.math_positive_number=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p===1/0)p='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(p===-1/0)p='-float("inf")',r=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(p))p='float("nan")',r=this.ORDER_FUNCTION_CALL;else p=p<0?0:p,r=this.ORDER_ATOMIC;return[p,r]};ea.math_angle=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p==1/0)p='float("inf")',r=this.ORDER_FUNCTION_CALL;else if(p==-1/0)p='-float("inf")',r=this.ORDER_UNARY_SIGN;else p=p%360,p=p<0?p+360:p,r=this.ORDER_ATOMIC;return[p,r]};ea.operator_add=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${p}) + num(${r}))`,this.ORDER_SUBTRACTION]};ea.operator_subtract=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${p}) - num(${r}))`,this.ORDER_SUBTRACTION]};ea.operator_multiply=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${p}) * num(${r}))`,this.ORDER_SUBTRACTION]};ea.operator_divide=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${p}) / num(${r}))`,this.ORDER_SUBTRACTION]};ea.operator_random=function(l){const p=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,r=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${p}, ${r})`,this.ORDER_FUNCTION_CALL]};ea.operator_gt=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${p}) > num(${r}))`,this.ORDER_RELATIONAL]};ea.operator_lt=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${p}) < num(${r}))`,this.ORDER_RELATIONAL]};ea.operator_equals=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`equals(${p}, ${r})`,this.ORDER_FUNCTION_CALL]};ea.operator_and=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${p} and ${r})`,this.ORDER_LOGICAL_AND]};ea.operator_or=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${p} or ${r})`,this.ORDER_LOGICAL_OR]};ea.operator_not=function(l){return[`(not ${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||"False"})`,this.ORDER_LOGICAL_NOT]};ea.operator_join=function(l){const p=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${p}) + str(${r}))`,this.ORDER_ATOMIC]};ea.operator_letter_of=function(l){const p=this.valueToCode(l,"LETTER",this.ORDER_NONE)||0;return[`(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'})[num(${p}) - 1] || "")`,this.ORDER_MEMBER]};ea.operator_length=function(l){return[`len(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}))`,this.ORDER_FUNCTION_CALL]};ea.operator_contains=function(l){const p=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${p}).count(str(${r})) > 0)`,this.ORDER_FUNCTION_CALL]};ea.operator_mod=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${p}) % num(${r}))`,this.ORDER_MODULUS]};ea.operator_round=function(l){return this.definitions_.import_math="import math",[`math.round(num(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0}))`,this.ORDER_FUNCTION_CALL]};ea.operator_mathop=function(l){this.definitions_.import_math="import math";const p=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,r=l.getFieldValue("OPERATOR");let v="";if(r==="ceiling")v+=`math.ceil(num(${p}))`;else if(r==="sin"||r==="cos"||r==="tan")v+=`math.${r}(math.radians(num(${p})))`;else if(r==="asin"||r==="acos"||r==="atan")v+=`math.degrees(math.${r}(num(${p})))`;else if(r==="ln")v+=`(math.log(num(${p}))`;else if(r==="log")v+=`(math.log10(num(${p}))`;else if(r==="e ^")v+=`math.exp(num(${p}))`;else if(r==="10 ^")v+=`math.pow(10, num(${p}))`;else v+=`math.${r}(num(${p}))`;return[v,this.ORDER_FUNCTION_CALL]};ea.procedures_definition=function(l){const p=l.childBlocks_[0],r=this.variableDB_.getName(p.getProcCode(),qs.Procedures.NAME_TYPE),v=p.childBlocks_.map((b)=>this.variableDB_.getName(b.getFieldValue("VALUE"),qs.Variables.NAME_TYPE));return this.functionToCode(r,v)};ea.procedures_call=function(l){const p=this.variableDB_.getName(l.getProcCode(),qs.Procedures.NAME_TYPE),r=l.argumentIds_.map((v)=>this.valueToCode(l,v,this.ORDER_NONE));return`await ${p}(${r.join(",")})\n`};ea.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),qs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ea.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),qs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ea.sensing_timer=function(){return["runtime.time",this.ORDER_MEMBER]};ea.sensing_resettimer=function(){return"runtime.reset_timer()\n"};ea.text=function(l){const p=l.getFieldValue("TEXT");return[p.length===0||isNaN(p)?this.quote_(p):+p,this.ORDER_ATOMIC]};var V5=1,M5=2,L5=3,Wi="#0FBD8C",ji="#0DA57A",j1="#0B8E69",be=(l)=>{if(typeof l!=="string")if(Array.isArray(l))l=String(l);else return l;return l.replace(/[<>&'"]/g,(p)=>{switch(p){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},w1={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},F1={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};Fi("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var fe={infoMessage:"_5SVWFW_info-message",options:"_5SVWFW_options",label:"_5SVWFW_label",okButton:"_5SVWFW_ok-button",variableNameTextInput:"_5SVWFW_variable-name-text-input",buttonRow:"_5SVWFW_button-row",promptModal:"_5SVWFW_prompt-modal",promptContent:"_5SVWFW_prompt-content",button:"_5SVWFW_button"};Fi(".ObKnhW_prompt-modal{width:700px;margin:50px auto}.ObKnhW_body{background:var(--ui-white);padding:1.5rem 2.25rem}.ObKnhW_body input[type=checkbox],.ObKnhW_body input[type=radio]{margin:3px}.ObKnhW_workspace{min-height:200px;position:relative}.ObKnhW_workspace .injectionDiv{position:absolute;inset:0}.ObKnhW_workspace .blocklySvg{background-color:var(--ui-primary)}.ObKnhW_options-row{justify-content:space-between;display:flex}.ObKnhW_option-card{border:2px solid var(--ui-black-transparent);border-radius:var(--space);padding:calc(var(--space)*2);text-align:center;cursor:pointer;background:#fff;flex-grow:1;flex-basis:100px;transition:all .2s}.ObKnhW_option-card:hover{border:2px solid var(--motion-primary);box-shadow:0px 0px 0px 4px var(--motion-transparent)}.ObKnhW_option-card+.ObKnhW_option-card{margin-left:1rem}.ObKnhW_option-icon{max-height:48px;margin-bottom:.5rem}.ObKnhW_option-title{font-weight:700}.ObKnhW_radiobox-row{justify-content:space-between;margin:1rem 6rem 1.5rem;font-weight:400;display:flex}.ObKnhW_button-row{text-align:right;margin-top:1rem;font-weight:bolder}.ObKnhW_button-row button{border:1px solid var(--ui-black-transparent);background:#fff;border-radius:.25rem;padding:.75rem 1rem;font-size:.85rem;font-weight:700}.ObKnhW_button-row button.ObKnhW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:#fff}.ObKnhW_button-row button+button{margin-left:.5rem}");var La={optionsRow:"ObKnhW_options-row",optionTitle:"ObKnhW_option-title",body:"ObKnhW_body",workspace:"ObKnhW_workspace",optionCard:"ObKnhW_option-card",radioboxRow:"ObKnhW_radiobox-row",buttonRow:"ObKnhW_button-row",okButton:"ObKnhW_ok-button",optionIcon:"ObKnhW_option-icon",promptModal:"ObKnhW_prompt-modal"},K5="./assets/icon-boolean-input-v045mxhp.svg",E5="./assets/icon-text-input-3m98080h.svg",P5="./assets/icon-label-a0d2gknc.svg",H5={zoom:{controls:!1,wheel:!1,startScale:0.9},comments:!1,collapse:!1,scrollbars:!0},A5=["brain","broadcast","color-sensor","light","nes","pen","request","servo","text","time","translate","wedo2"].map(async(l)=>{const{default:p}=await import(`@blockcode/extension-${l}`);return p.id=l,p}),am=Promise.all(A5);Fi(".cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}.cujmXa_debug-box{z-index:var(--z-index-monitor);border:1px solid var(--ui-tertiary);border-radius:var(--space)var(--space)0 0;opacity:.8;font-size:var(--standard-font-size);background:#fff;border-bottom:0;width:600px;height:300px;position:absolute;bottom:0;left:50vw;overflow:auto;transform:translate(-50%)}.cujmXa_debug-box pre{margin:calc(var(--space)/2)}");var wi={debugBox:"cujmXa_debug-box",addButton:"cujmXa_add-button",editorWrapper:"cujmXa_editor-wrapper",extensionButton:"cujmXa_extension-button"},nm="./assets/icon-extension-61vrne2y.svg",oe=new Map,Y1=(l)=>typeof l!=="string"&&!l.button,lm=async(l,p,r,v,b)=>{if(p){for(let x of p)if(!oe.has(x)){let{default:u}=await import(`@blockcode/extension-${x}/blocks`);if(typeof u==="function")u=u(l);if(u.id=x,u.files)for(let k of u.files){const L=`extensions/${x}/${k.name}`,y=await fetch(k.uri).then((R)=>R.text());v({...k,id:L,content:y})}if(r(u.translations),b)b({...u,blocks:u.blocks.filter(Y1)});oe.set(x,u)}}},im="./assets/icon-blocks-vgmb334q.svg",cm={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionCancel":"Connection cancel.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.prompt.ok":"OK","blocks.prompt.cancel":"Cancel","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.myBlockPrompt.title":"Make a Block","blocks.myBlockPrompt.addAnInputNumberText":"Add an input","blocks.myBlockPrompt.numberTextType":"number or text","blocks.myBlockPrompt.addAnInputBoolean":"Add an input","blocks.myBlockPrompt.booleanType":"boolean","blocks.myBlockPrompt.addALabel":"Add a label","blocks.myBlockPrompt.command":"Command","blocks.myBlockPrompt.reporterNumberText":"Return number or text","blocks.myBlockPrompt.reporterBoolean":"Return boolean","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts","blocks.myblock.addLabel":" label text","blocks.myblock.addBoolean":"boolean","blocks.myblock.addNumbetText":"number or text"},um={"blocks.menu.file":"\u6587\u4EF6","blocks.menu.file.newProject":"\u65B0\u4F5C\u54C1","blocks.menu.file.openProject":"\u6253\u5F00","blocks.menu.file.saveProject":"\u4FDD\u5B58","blocks.menu.file.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","blocks.menu.file.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","blocks.menu.edit":"\u7F16\u8F91","blocks.menu.edit.undo":"\u64A4\u9500","blocks.menu.edit.redo":"\u6062\u590D","blocks.menu.device":"\u8BBE\u5907","blocks.menu.device.name":"\u8BBE\u5907","blocks.menu.device.connect":"\u8FDE\u63A5{name}","blocks.menu.device.disconnect":"\u65AD\u5F00{name}\u8FDE\u63A5","blocks.menu.device.download":"\u4E0B\u8F7D\u7A0B\u5E8F","blocks.menu.device.turnOnAutoDownload":"\u6253\u5F00\u81EA\u52A8\u4E0B\u8F7D","blocks.menu.device.turnOffAutoDownload":"\u5173\u95ED\u81EA\u52A8\u4E0B\u8F7D","blocks.alert.downloading":"\u6B63\u5728\u4E0B\u8F7D\u2026{progress}%","blocks.alert.downloadCompleted":"\u4E0B\u8F7D\u5B8C\u6210\u3002","blocks.alert.connectionCancel":"\u8FDE\u63A5\u53D6\u6D88\u3002","blocks.alert.connectionError":"\u8FDE\u63A5\u9519\u8BEF\u3002","blocks.alert.flashOutSpace":"\u8BBE\u5907\u7A7A\u95F4\u4E0D\u8DB3\u3002","blocks.codeTab":"\u4EE3\u7801","blocks.monitorPane.title":"\u76D1\u89C6\u5668","blocks.downloadToDevice":"\u4E0B\u8F7D","blocks.extensions.addExtension":"\u6DFB\u52A0\u6269\u5C55","blocks.extensions.empty":"\u6CA1\u6709\u6269\u5C55\uFF01","blocks.prompt.ok":"\u786E\u5B9A","blocks.prompt.cancel":"\u53D6\u6D88","blocks.dataPrompt.forAllTargets":"\u9002\u7528\u4E8E\u5168\u5C40","blocks.dataPrompt.forThisTarget":"\u4EC5\u9002\u7528\u4E8E\u5F53\u524D","blocks.dataPrompt.availableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u53D8\u91CF\u3002","blocks.dataPrompt.listAvailableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u5217\u8868\u3002","blocks.myBlockPrompt.title":"\u5236\u4F5C\u65B0\u7684\u79EF\u6728","blocks.myBlockPrompt.addAnInputNumberText":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.numberTextType":"\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.addAnInputBoolean":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.booleanType":"\u5E03\u5C14\u503C","blocks.myBlockPrompt.addALabel":"\u6DFB\u52A0\u6587\u672C\u6807\u7B7E","blocks.myBlockPrompt.command":"\u65E0\u8FD4\u56DE\u503C","blocks.myBlockPrompt.reporterNumberText":"\u8FD4\u56DE\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.reporterBoolean":"\u8FD4\u56DE\u5E03\u5C14\u503C","blocks.event.programStart":"\u5F53\u7A0B\u5E8F\u5F00\u59CB\u8FD0\u884C","blocks.control.stopOther":"\u5176\u4ED6\u811A\u672C","blocks.myblock.addLabel":"\u6587\u672C","blocks.myblock.addBoolean":"\u5E03\u5C14\u503C","blocks.myblock.addNumbetText":"\u6570\u5B57\u6216\u6587\u672C"},D1={en:cm,"zh-Hans":um},Vl={icon:im,label:Q1(P1,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:rm},x2={label:Q1(P1,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};import{useLocale as Lm}from"@blockcode/core";import{useRef as _m,useEffect as km}from"preact/hooks";import{useEditor as hm}from"@blockcode/core";import{ScratchBlocks as Ka}from"@blockcode/blocks-editor";function a6({width:l,height:p,generator:r,onSetup:v,...b}){const x=_m(null),{fileList:u,selectedFileId:k,modifyFile:L}=hm(),y=u.find((R)=>R.id===k);if(x.script=y.script,x.xml=y.xml,x.current){const R=Ka.getMainWorkspace();if(R&&R!==x.workspace)x.workspace=R,R.addChangeListener((Z)=>{if(R.isDragging())return;if(!vm.has(Z.type))return;const T=Ka.Xml.workspaceToDom(R),M=Ka.Xml.domToText(T).replace(/<variable type="broadcast_msg"[^>]+>[^<]+<\/variable>/gi,"");if(!x.script||x.xml!==M){const $=r.workspaceToCode(R);if(x.script!==$)L({script:$})}})}return km(()=>{if(x.current){if(Ii.default.setup(x.current),v)v(x.current)}return()=>{Ii.default.project.clear(),Ii.default.project.remove()}},[x]),Nm("canvas",{id:"blockcode-blocks-player",ref:x,style:{width:l,height:p},...b})}import{jsx as Nm}from"preact/jsx-runtime";function Zm(l){console&&console.warn&&console.warn(l)}function Za(){Za.init.call(this)}function Ll(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}function e6(l){return l._maxListeners===void 0?Za.defaultMaxListeners:l._maxListeners}function n6(l,p,r,v){var b,x,u;if(Ll(r),x=l._events,x===void 0?(x=l._events=Object.create(null),l._eventsCount=0):(x.newListener!==void 0&&(l.emit("newListener",p,r.listener?r.listener:r),x=l._events),u=x[p]),u===void 0)u=x[p]=r,++l._eventsCount;else if(typeof u=="function"?u=x[p]=v?[r,u]:[u,r]:v?u.unshift(r):u.push(r),b=e6(l),b>0&&u.length>b&&!u.warned){u.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=l,k.type=p,k.count=u.length,Zm(k)}return l}function ym(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s6(l,p,r){var v={fired:!1,wrapFn:void 0,target:l,type:p,listener:r},b=ym.bind(v);return b.listener=r,v.wrapFn=b,b}function l6(l,p,r){var v=l._events;if(v===void 0)return[];var b=v[p];return b===void 0?[]:typeof b=="function"?r?[b.listener||b]:[b]:r?xm(b):i6(b,b.length)}function r6(l){var p=this._events;if(p!==void 0){var r=p[l];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function i6(l,p){for(var r=new Array(p),v=0;v<p;++v)r[v]=l[v];return r}function Rm(l,p){for(;p+1<l.length;p++)l[p]=l[p+1];l.pop()}function xm(l){for(var p=new Array(l.length),r=0;r<p.length;++r)p[r]=l[r].listener||l[r];return p}import{ScratchBlocks as Ya}from"@blockcode/blocks-editor";import{ScratchBlocks as $a}from"@blockcode/blocks-editor";import{ScratchBlocks as u6}from"@blockcode/blocks-editor";import{ScratchBlocks as Ts}from"@blockcode/blocks-editor";var mm=Object.create,{getPrototypeOf:tm,defineProperty:C1,getOwnPropertyNames:dm}=Object,pm=Object.prototype.hasOwnProperty,zi=(l,p,r)=>{r=l!=null?mm(tm(l)):{};const v=p||!l||!l.__esModule?C1(r,"default",{value:l,enumerable:!0}):r;for(let b of dm(l))if(!pm.call(v,b))C1(v,b,{get:()=>l[b],enumerable:!0});return v},bm=(l,p)=>()=>(p||l((p={exports:{}}).exports,p),p.exports),$2=((l)=>Wl)(function(l){return Wl.apply(this,arguments)}),Ji=bm((l,p)=>{/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var r=function(v,b){v=v||(()=>({}));var{window:x,document:u}=v,k=new function(){var e=/^(statics|enumerable|beans|preserve)$/,i=[],f=i.slice,N=Object.create,V=Object.getOwnPropertyDescriptor,X=Object.defineProperty,F=i.forEach||function(G,no){for(var A=0,ro=this.length;A<ro;A++)G.call(no,this[A],A,this)},K=function(G,no){for(var A in this)if(this.hasOwnProperty(A))G.call(no,this[A],A,this)},z=Object.assign||function(G){for(var no=1,A=arguments.length;no<A;no++){var ro=arguments[no];for(var No in ro)if(ro.hasOwnProperty(No))G[No]=ro[No]}return G},J=function(G,no,A){if(G){var ro=V(G,"length");(ro&&typeof ro.value==="number"?F:K).call(G,no,A=A||G)}return A};function ao(G,no,A,ro,No){var oo={};function eo(to,bo){if(bo=bo||(bo=V(no,to))&&(bo.get?bo:bo.value),typeof bo==="string"&&bo[0]==="#")bo=G[bo.substring(1)]||bo;var go=typeof bo==="function",ho=bo,yo=No||go&&!bo.base?bo&&bo.get?to in G:G[to]:null,So;if(!No||!yo){if(go&&yo)bo.base=yo;if(go&&ro!==!1&&(So=to.match(/^([gs]et|is)(([A-Z])(.*))$/)))oo[So[3].toLowerCase()+So[4]]=So[2];if(!ho||go||!ho.get||typeof ho.get!=="function"||!Y.isPlainObject(ho))ho={value:ho,writable:!0};if((V(G,to)||{configurable:!0}).configurable)ho.configurable=!0,ho.enumerable=A!=null?A:!So;X(G,to,ho)}}if(no){for(var so in no)if(no.hasOwnProperty(so)&&!e.test(so))eo(so);for(var so in oo){var Q=oo[so],lo=G["set"+Q],_o=G["get"+Q]||lo&&G["is"+Q];if(_o&&(ro===!0||_o.length===0))eo(so,{get:_o,set:lo})}}return G}function Y(){for(var G=0,no=arguments.length;G<no;G++){var A=arguments[G];if(A)z(this,A)}return this}return ao(Y,{inject:function(G){if(G){var no=G.statics===!0?G:G.statics,A=G.beans,ro=G.preserve;if(no!==G)ao(this.prototype,G,G.enumerable,A,ro);ao(this,no,null,A,ro)}for(var No=1,oo=arguments.length;No<oo;No++)this.inject(arguments[No]);return this},extend:function(){var G=this,no,A;for(var ro=0,No,oo=arguments.length;ro<oo&&!(no&&A);ro++)No=arguments[ro],no=no||No.initialize,A=A||No.prototype;if(no=no||function(){G.apply(this,arguments)},A=no.prototype=A||N(this.prototype),X(A,"constructor",{value:no,writable:!0,configurable:!0}),ao(no,this),arguments.length)this.inject.apply(no,arguments);return no.base=G,no}}).inject({enumerable:!1,initialize:Y,set:Y,inject:function(){for(var G=0,no=arguments.length;G<no;G++){var A=arguments[G];if(A)ao(this,A,A.enumerable,A.beans,A.preserve)}return this},extend:function(){var G=N(this);return G.inject.apply(G,arguments)},each:function(G,no){return J(this,G,no)},clone:function(){return new this.constructor(this)},statics:{set:z,each:J,create:N,define:X,describe:V,clone:function(G){return z(new G.constructor,G)},isPlainObject:function(G){var no=G!=null&&G.constructor;return no&&(no===Object||no===Y||no.name==="Object")},pick:function(G,no){return G!==b?G:no},slice:function(G,no,A){return f.call(G,no,A)}}})};if(typeof p!=="undefined")p.exports=k;k.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+k.each(this,function(e,i){if(!/^_/.test(i)){var f=typeof e;this.push(i+": "+(f==="number"?T.instance.number(e):f==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return k.importJSON(e,this)},exportJSON:function(e){return k.exportJSON(this,e)},toJSON:function(){return k.serialize(this)},set:function(e,i){if(e)k.filter(this,e,i,this._prioritize);return this}},{beans:!1,statics:{exports:{},extend:function e(){var i=e.base.apply(this,arguments),f=i.prototype._class;if(f&&!k.exports[f])k.exports[f]=i;return i},equals:function(e,i){if(e===i)return!0;if(e&&e.equals)return e.equals(i);if(i&&i.equals)return i.equals(e);if(e&&i&&typeof e==="object"&&typeof i==="object"){if(Array.isArray(e)&&Array.isArray(i)){var f=e.length;if(f!==i.length)return!1;while(f--)if(!k.equals(e[f],i[f]))return!1}else{var N=Object.keys(e),f=N.length;if(f!==Object.keys(i).length)return!1;while(f--){var V=N[f];if(!(i.hasOwnProperty(V)&&k.equals(e[V],i[V])))return!1}}return!0}return!1},read:function(e,i,f,N){if(this===k){var V=this.peek(e,i);return e.__index++,V}var X=this.prototype,F=X._readIndex,K=i||F&&e.__index||0,z=e.length,J=e[K];if(N=N||z-K,J instanceof this||f&&f.readNull&&J==null&&N<=1){if(F)e.__index=K+1;return J&&f&&f.clone?J.clone():J}if(J=k.create(X),F)J.__read=!0;if(J=J.initialize.apply(J,K>0||K+N<z?k.slice(e,K,K+N):e)||J,F){e.__index=K+J.__read;var ao=J.__filtered;if(ao)e.__filtered=ao,J.__filtered=b;J.__read=b}return J},peek:function(e,i){return e[e.__index=i||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,i,f,N){var V=[],X,F=i||0,K=N?F+N:e.length;for(var z=F;z<K;z++)V.push(Array.isArray(X=e[z])?this.read(X,0,f):this.read(e,z,f,1));return V},readNamed:function(e,i,f,N,V){var X=this.getNamed(e,i),F=X!==b;if(F){var K=e.__filtered;if(!K){var z=this.getSource(e);K=e.__filtered=k.create(z),K.__unfiltered=z}K[i]=b}return this.read(F?[X]:e,f,N,V)},readSupported:function(e,i){var f=this.getSource(e),N=this,V=!1;if(f)Object.keys(f).forEach(function(X){if(X in i){var F=N.readNamed(e,X);if(F!==b)i[X]=F;V=!0}});return V},getSource:function(e){var i=e.__source;if(i===b){var f=e.length===1&&e[0];i=e.__source=f&&k.isPlainObject(f)?f:null}return i},getNamed:function(e,i){var f=this.getSource(e);if(f)return i?f[i]:e.__filtered||f},hasNamed:function(e,i){return!!this.getNamed(e,i)},filter:function(e,i,f,N){var V;function X(ao){if(!(f&&(ao in f))&&!(V&&(ao in V))){var Y=i[ao];if(Y!==b)e[ao]=Y}}if(N){var F={};for(var K=0,z,J=N.length;K<J;K++)if((z=N[K])in i)X(z),F[z]=!0;V=F}return Object.keys(i.__unfiltered||i).forEach(X),e},isPlainValue:function(e,i){return k.isPlainObject(e)||Array.isArray(e)||i&&typeof e==="string"},serialize:function(e,i,f,N){i=i||{};var V=!N,X;if(V)i.formatter=new T(i.precision),N={length:0,definitions:{},references:{},add:function(Y,G){var no="#"+Y._id,A=this.references[no];if(!A){this.length++;var ro=G.call(Y),No=Y._class;if(No&&ro[0]!==No)ro.unshift(No);this.definitions[no]=ro,A=this.references[no]=[no]}return A}};if(e&&e._serialize){X=e._serialize(i,N);var F=e._class;if(F&&!e._compactSerialize&&(V||!f)&&X[0]!==F)X.unshift(F)}else if(Array.isArray(e)){X=[];for(var K=0,z=e.length;K<z;K++)X[K]=k.serialize(e[K],i,f,N)}else if(k.isPlainObject(e)){X={};var J=Object.keys(e);for(var K=0,z=J.length;K<z;K++){var ao=J[K];X[ao]=k.serialize(e[ao],i,f,N)}}else if(typeof e==="number")X=i.formatter.number(e,i.precision);else X=e;return V&&N.length>0?[["dictionary",N.definitions],X]:X},deserialize:function(e,i,f,N,V){var X=e,F=!f,K=F&&e&&e.length&&e[0][0]==="dictionary";if(f=f||{},Array.isArray(e)){var z=e[0],J=z==="dictionary";if(e.length==1&&/^#/.test(z))return f.dictionary[z];z=k.exports[z],X=[];for(var ao=z?1:0,Y=e.length;ao<Y;ao++)X.push(k.deserialize(e[ao],i,f,J,K));if(z){var G=X;if(i)X=i(z,G,F||V);else X=new z(G)}}else if(k.isPlainObject(e)){if(X={},N)f.dictionary=X;for(var no in e)X[no]=k.deserialize(e[no],i,f)}return K?X[1]:X},exportJSON:function(e,i){var f=k.serialize(e,i);return i&&i.asString==!1?f:JSON.stringify(f)},importJSON:function(e,i){return k.deserialize(typeof e==="string"?JSON.parse(e):e,function(f,N,V){var X=V&&i&&i.constructor===f,F=X?i:k.create(f.prototype);if(N.length===1&&F instanceof po&&(X||!(F instanceof co))){var K=N[0];if(k.isPlainObject(K)){if(K.insert=!1,X)N=N.concat([po.INSERT])}}if((X?F.set:f).apply(F,N),X)i=null;return F})},push:function(e,i){var f=i.length;if(f<4096)e.push.apply(e,i);else{var N=e.length;e.length+=f;for(var V=0;V<f;V++)e[N+V]=i[V]}return e},splice:function(e,i,f,N){var V=i&&i.length,X=f===b;if(f=X?e.length:f,f>e.length)f=e.length;for(var F=0;F<V;F++)i[F]._index=f+F;if(X)return k.push(e,i),[];else{var K=[f,N];if(i)k.push(K,i);var z=e.splice.apply(e,K);for(var F=0,J=z.length;F<J;F++)z[F]._index=b;for(var F=f+V,J=e.length;F<J;F++)e[F]._index=F;return z}},capitalize:function(e){return e.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(i,f){return f.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var L={on:function(e,i){if(typeof e!=="string")k.each(e,function(X,F){this.on(F,X)},this);else{var f=this._eventTypes,N=f&&f[e],V=this._callbacks=this._callbacks||{};if(V=V[e]=V[e]||[],V.indexOf(i)===-1){if(V.push(i),N&&N.install&&V.length===1)N.install.call(this,e)}}return this},off:function(e,i){if(typeof e!=="string"){k.each(e,function(F,K){this.off(K,F)},this);return}var f=this._eventTypes,N=f&&f[e],V=this._callbacks&&this._callbacks[e],X;if(V){if(!i||(X=V.indexOf(i))!==-1&&V.length===1){if(N&&N.uninstall)N.uninstall.call(this,e);delete this._callbacks[e]}else if(X!==-1)V.splice(X,1)}return this},once:function(e,i){return this.on(e,function f(){i.apply(this,arguments),this.off(e,f)})},emit:function(e,i){var f=this._callbacks&&this._callbacks[e];if(!f)return!1;var N=k.slice(arguments,1),V=i&&i.target&&!i.currentTarget;if(f=f.slice(),V)i.currentTarget=this;for(var X=0,F=f.length;X<F;X++)if(f[X].apply(this,N)==!1){if(i&&i.stop)i.stop();break}if(V)delete i.currentTarget;return!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var i=this._eventTypes,f=this._callbacks,N=e?"install":"uninstall";if(i){for(var V in f)if(f[V].length>0){var X=i[V],F=X&&X[N];if(F)F.call(this,V)}}},statics:{inject:function e(i){var f=i._events;if(f){var N={};k.each(f,function(V,X){var F=typeof V==="string",K=F?V:X,z=k.capitalize(K),J=K.substring(2).toLowerCase();N[J]=F?{}:V,K="_"+K,i["get"+z]=function(){return this[K]},i["set"+z]=function(ao){var Y=this[K];if(Y)this.off(J,Y);if(ao)this.on(J,ao);this[K]=ao}}),i._eventTypes=N}return e.base.apply(this,arguments)}}},y=k.extend({_class:"PaperScope",initialize:function e(){O=this,this.settings=new k({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var i=e.prototype;if(!this.support){var f=Bo.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in f||"mozDash"in f,nativeBlendModes:Jo.nativeModes},Bo.release(f)}if(!this.agent){var N=v.navigator.userAgent.toLowerCase(),V=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(N)||[])[0],X=V==="darwin"?"mac":V,F=i.agent=i.browser={platform:X};if(X)F[X]=!0;if(N.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(K,z,J,ao,Y){if(!F.chrome){var G=z==="opera"?ao:/^(node|trident)$/.test(z)?Y:J;F.version=G,F.versionNumber=parseFloat(G),z={trident:"msie",jsdom:"node"}[z]||z,F.name=z,F[z]=!0}}),F.chrome)delete F.webkit;if(F.atom)delete F.chrome}},version:"0.12.18",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,i){},install:function(e){var i=this;k.each(["project","view","tool"],function(N){k.define(e,N,{configurable:!0,get:function(){return i[N]}})});for(var f in this)if(!/^_/.test(f)&&this[f])e[f]=this[f]},setup:function(e){return O=this,this.project=new uo(e),this},createCanvas:function(e,i){return Bo.getCanvas(e,i)},activate:function(){O=this},clear:function(){var e=this.projects,i=this.tools;for(var f=e.length-1;f>=0;f--)e[f].remove();for(var f=i.length-1;f>=0;f--)i[f].remove()},remove:function(){this.clear(),delete y._scopes[this._id]},statics:new function(){function e(i){return i+="Attribute",function(f,N){return f[i](N)||f[i]("data-paper-"+N)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),R=k.extend(L,{initialize:function(e){if(this._scope=O,this._index=this._scope[this._list].push(this)-1,e||!this._scope[this._reference])this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];if(e&&e!==this)e.emit("deactivate");return this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){if(this._index==null)return!1;if(k.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this)this._scope[this._reference]=null;return this._scope=null,!0},getView:function(){return this._scope.getView()}}),Z={findItemBoundsCollisions:function(e,i,f){function N(F){var K=new Array(F.length);for(var z=0;z<F.length;z++){var J=F[z].getBounds();K[z]=[J.left,J.top,J.right,J.bottom]}return K}var V=N(e),X=!i||i===e?V:N(i);return this.findBoundsCollisions(V,X,f||0)},findCurveBoundsCollisions:function(e,i,f,N){function V(G){var{min:no,max:A}=Math,ro=new Array(G.length);for(var No=0;No<G.length;No++){var oo=G[No];ro[No]=[no(oo[0],oo[2],oo[4],oo[6]),no(oo[1],oo[3],oo[5],oo[7]),A(oo[0],oo[2],oo[4],oo[6]),A(oo[1],oo[3],oo[5],oo[7])]}return ro}var X=V(e),F=!i||i===e?X:V(i);if(N){var K=this.findBoundsCollisions(X,F,f||0,!1,!0),z=this.findBoundsCollisions(X,F,f||0,!0,!0),J=[];for(var ao=0,Y=K.length;ao<Y;ao++)J[ao]={hor:K[ao],ver:z[ao]};return J}return this.findBoundsCollisions(X,F,f||0)},findBoundsCollisions:function(e,i,f,N,V){var X=!i||e===i,F=X?e:e.concat(i),K=e.length,z=F.length;function J(Ko,Po,Co){var Yo=0,Ao=Ko.length;while(Yo<Ao){var Go=Ao+Yo>>>1;if(F[Ko[Go]][Po]<Co)Yo=Go+1;else Ao=Go}return Yo-1}var ao=N?1:0,Y=ao+2,G=N?0:1,no=G+2,A=new Array(z);for(var ro=0;ro<z;ro++)A[ro]=ro;A.sort(function(Ko,Po){return F[Ko][ao]-F[Po][ao]});var No=[],oo=new Array(K);for(var ro=0;ro<z;ro++){var eo=A[ro],so=F[eo],Q=X?eo:eo-K,lo=eo<K,_o=X||!lo,to=lo?[]:null;if(No.length){var bo=J(No,Y,so[ao]-f)+1;if(No.splice(0,bo),X&&V){to=to.concat(No);for(var go=0;go<No.length;go++){var ho=No[go];oo[ho].push(Q)}}else{var yo=so[no],So=so[G];for(var go=0;go<No.length;go++){var ho=No[go],Ro=F[ho],Zo=ho<K,wo=X||ho>=K;if(V||(lo&&wo||_o&&Zo)&&(yo>=Ro[G]-f&&So<=Ro[no]+f)){if(lo&&wo)to.push(X?ho:ho-K);if(_o&&Zo)oo[ho].push(Q)}}}}if(lo){if(e===i)to.push(eo);oo[eo]=to}if(No.length){var Mo=so[Y],Xo=J(No,Y,Mo);No.splice(Xo+1,0,eo)}else No.push(eo)}for(var ro=0;ro<oo.length;ro++){var Eo=oo[ro];if(Eo)Eo.sort(function(Po,Co){return Po-Co})}return oo}},T=k.extend({initialize:function(e){this.precision=k.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,i,f){return this.number(e)+(f||",")+this.number(i)},point:function(e,i){return this.number(e.x)+(i||",")+this.number(e.y)},size:function(e,i){return this.number(e.width)+(i||",")+this.number(e.height)},rectangle:function(e,i){return this.point(e,i)+(i||",")+this.size(e,i)}});T.instance=new T;var M=new function(){var e=[[0.5773502691896257],[0,0.7745966692414834],[0.33998104358485626,0.8611363115940526],[0,0.5384693101056831,0.906179845938664],[0.2386191860831969,0.6612093864662645,0.932469514203152],[0,0.4058451513773972,0.7415311855993945,0.9491079123427585],[0.1834346424956498,0.525532409916329,0.7966664774136267,0.9602898564975363],[0,0.3242534234038089,0.6133714327005904,0.8360311073266358,0.9681602395076261],[0.14887433898163122,0.4333953941292472,0.6794095682990244,0.8650633666889845,0.9739065285171717],[0,0.26954315595234496,0.5190961292068118,0.7301520055740494,0.8870625997680953,0.978228658146057],[0.1252334085114689,0.3678314989981802,0.5873179542866175,0.7699026741943047,0.9041172563704749,0.9815606342467192],[0,0.2304583159551348,0.44849275103644687,0.6423493394403402,0.8015780907333099,0.9175983992229779,0.9841830547185881],[0.10805494870734367,0.31911236892788974,0.5152486363581541,0.6872929048116855,0.827201315069765,0.9284348836635735,0.9862838086968123],[0,0.20119409399743451,0.3941513470775634,0.5709721726085388,0.7244177313601701,0.8482065834104272,0.937273392400706,0.9879925180204854],[0.09501250983763744,0.2816035507792589,0.45801677765722737,0.6178762444026438,0.755404408355003,0.8656312023878318,0.9445750230732326,0.9894009349916499]],i=[[1],[0.8888888888888888,0.5555555555555556],[0.6521451548625461,0.34785484513745385],[0.5688888888888889,0.47862867049936647,0.23692688505618908],[0.46791393457269104,0.3607615730481386,0.17132449237917036],[0.4179591836734694,0.3818300505051189,0.27970539148927664,0.1294849661688697],[0.362683783378362,0.31370664587788727,0.22238103445337448,0.10122853629037626],[0.3302393550012598,0.31234707704000286,0.26061069640293544,0.1806481606948574,0.08127438836157441],[0.29552422471475287,0.26926671930999635,0.21908636251598204,0.1494513491505806,0.06667134430868814],[0.2729250867779006,0.26280454451024665,0.23319376459199048,0.18629021092773426,0.1255803694649046,0.05566856711617366],[0.24914704581340277,0.2334925365383548,0.20316742672306592,0.16007832854334622,0.10693932599531843,0.04717533638651183],[0.2325515532308739,0.22628318026289723,0.2078160475368885,0.17814598076194574,0.13887351021978725,0.09212149983772845,0.04048400476531588],[0.2152638534631578,0.2051984637212956,0.18553839747793782,0.15720316715819355,0.12151857068790319,0.08015808715976021,0.03511946033175186],[0.2025782419255613,0.19843148532711158,0.1861610000155622,0.16626920581699392,0.13957067792615432,0.10715922046717194,0.07036604748810812,0.03075324199611727],[0.1894506104550685,0.18260341504492358,0.16915651939500254,0.14959598881657674,0.12462897125553388,0.09515851168249279,0.062253523938647894,0.027152459411754096]],f=Math.abs,N=Math.sqrt,V=Math.pow,X=Math.log2||function(Y){return Math.log(Y)*Math.LOG2E},F=0.000000000001,K=0.000000000000000112;function z(Y,G,no){return Y<G?G:Y>no?no:Y}function J(Y,G,no){function A(bo){var go=bo*134217729,ho=bo-go,yo=ho+go,So=bo-yo;return[yo,So]}var ro=G*G-Y*no,No=G*G+Y*no;if(f(ro)*3<No){var oo=A(Y),eo=A(G),so=A(no),Q=G*G,lo=eo[0]*eo[0]-Q+2*eo[0]*eo[1]+eo[1]*eo[1],_o=Y*no,to=oo[0]*so[0]-_o+oo[0]*so[1]+oo[1]*so[0]+oo[1]*so[1];ro=Q-_o+(lo-to)}return ro}function ao(){var Y=Math.max.apply(Math,arguments);return Y&&(Y<0.00000001||Y>1e8)?V(2,-Math.round(X(Y))):0}return{EPSILON:F,MACHINE_EPSILON:K,CURVETIME_EPSILON:0.00000001,GEOMETRIC_EPSILON:0.0000001,TRIGONOMETRIC_EPSILON:0.00000001,ANGULAR_EPSILON:0.00001,KAPPA:4*(N(2)-1)/3,isZero:function(Y){return Y>=-F&&Y<=F},isMachineZero:function(Y){return Y>=-K&&Y<=K},clamp:z,integrate:function(Y,G,no,A){var ro=e[A-2],No=i[A-2],oo=(no-G)*0.5,eo=oo+G,so=0,Q=A+1>>1,lo=A&1?No[so++]*Y(eo):0;while(so<Q){var _o=oo*ro[so];lo+=No[so++]*(Y(eo+_o)+Y(eo-_o))}return oo*lo},findRoot:function(Y,G,no,A,ro,No,oo){for(var eo=0;eo<No;eo++){var so=Y(no),Q=so/G(no),lo=no-Q;if(f(Q)<oo){no=lo;break}if(so>0)ro=no,no=lo<=A?(A+ro)*0.5:lo;else A=no,no=lo>=ro?(A+ro)*0.5:lo}return z(no,A,ro)},solveQuadratic:function(Y,G,no,A,ro,No){var oo,eo=1/0;if(f(Y)<F){if(f(G)<F)return f(no)<F?-1:0;oo=-no/G}else{G*=-0.5;var so=J(Y,G,no);if(so&&f(so)<K){var Q=ao(f(Y),f(G),f(no));if(Q)Y*=Q,G*=Q,no*=Q,so=J(Y,G,no)}if(so>=-K){var lo=so<0?0:N(so),_o=G+(G<0?-lo:lo);if(_o===0)oo=no/Y,eo=-oo;else oo=_o/Y,eo=no/_o}}var to=0,bo=ro==null,go=ro-F,ho=No+F;if(isFinite(oo)&&(bo||oo>go&&oo<ho))A[to++]=bo?oo:z(oo,ro,No);if(eo!==oo&&isFinite(eo)&&(bo||eo>go&&eo<ho))A[to++]=bo?eo:z(eo,ro,No);return to},solveCubic:function(Y,G,no,A,ro,No,oo){var eo=ao(f(Y),f(G),f(no),f(A)),so,Q,lo,_o,to;if(eo)Y*=eo,G*=eo,no*=eo,A*=eo;function bo(Xo){so=Xo;var Eo=Y*so;Q=Eo+G,lo=Q*so+no,_o=(Eo+Q)*so+lo,to=lo*so+A}if(f(Y)<F)Y=G,Q=no,lo=A,so=1/0;else if(f(A)<F)Q=G,lo=no,so=0;else{bo(-(G/Y)/3);var go=to/Y,ho=V(f(go),0.3333333333333333),yo=go<0?-1:1,So=-_o/Y,Ro=So>0?1.324717957244746*Math.max(ho,N(So)):ho,Zo=so-yo*Ro;if(Zo!==so){do bo(Zo),Zo=_o===0?so:so-to/_o/(1+K);while(yo*Zo>yo*so);if(f(Y)*so*so>f(A/so))lo=-A/so,Q=(lo-no)/so}}var wo=M.solveQuadratic(Y,Q,lo,ro,No,oo),Mo=No==null;if(isFinite(so)&&(wo===0||wo>0&&so!==ro[0]&&so!==ro[1])&&(Mo||so>No-F&&so<oo+F))ro[wo++]=Mo?so:z(so,No,oo);return wo}}},$={_id:1,_pools:{},get:function(e){if(e){var i=this._pools[e];if(!i)i=this._pools[e]={_id:1};return i._id++}else return this._id++}},q=k.extend({_class:"Point",_readIndex:!0,initialize:function e(i,f){var N=typeof i,V=this.__read,X=0;if(N==="number"){var F=typeof f==="number";if(this._set(i,F?f:i),V)X=F?2:1}else if(N==="undefined"||i===null){if(this._set(0,0),V)X=i===null?1:0}else{var K=N==="string"?i.split(/[\s,]+/)||[]:i;if(X=1,Array.isArray(K))this._set(+K[0],+(K.length>1?K[1]:K[0]));else if("x"in K)this._set(K.x||0,K.y||0);else if("width"in K)this._set(K.width||0,K.height||0);else if("angle"in K)this._set(K.length||0,0),this.setAngle(K.angle||0);else this._set(0,0),X=0}if(V)this.__read=X;return this},set:"#initialize",_set:function(e,i){return this.x=e,this.y=i,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new q(this.x,this.y)},toString:function(){var e=T.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*e,Math.sin(i)*e)}else{var f=e/this.getLength();if(M.isZero(f))this.getAngle();this._set(this.x*f,this.y*f)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(!arguments.length)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);else{var e=q.read(arguments),i=this.getLength()*e.getLength();if(M.isZero(i))return NaN;else{var f=this.dot(e)/i;return Math.acos(f<-1?-1:f>1?1:f)}}},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var i=this.getLength();this._set(Math.cos(e)*i,Math.sin(e)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=q.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,i=q.read(e),f=i.x-this.x,N=i.y-this.y,V=f*f+N*N,X=k.read(e);return X?V:Math.sqrt(V)},normalize:function(e){if(e===b)e=1;var i=this.getLength(),f=i!==0?e/i:0,N=new q(this.x*f,this.y*f);if(f>=0)N._angle=this._angle;return N},rotate:function(e,i){if(e===0)return this.clone();e=e*Math.PI/180;var f=i?this.subtract(i):this,N=Math.sin(e),V=Math.cos(e);return f=new q(f.x*V-f.y*N,f.x*N+f.y*V),i?f.add(i):f},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=q.read(arguments);return new q(this.x+e.x,this.y+e.y)},subtract:function(){var e=q.read(arguments);return new q(this.x-e.x,this.y-e.y)},multiply:function(){var e=q.read(arguments);return new q(this.x*e.x,this.y*e.y)},divide:function(){var e=q.read(arguments);return new q(this.x/e.x,this.y/e.y)},modulo:function(){var e=q.read(arguments);return new q(this.x%e.x,this.y%e.y)},negate:function(){return new q(-this.x,-this.y)},isInside:function(){return W.read(arguments).contains(this)},isClose:function(){var e=arguments,i=q.read(e),f=k.read(e);return this.getDistance(i)<=f},isCollinear:function(){var e=q.read(arguments);return q.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=q.read(arguments);return q.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=M.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=q.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=q.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=q.read(arguments),i=e.isZero()?0:this.dot(e)/e.dot(e);return new q(e.x*i,e.y*i)},statics:{min:function(){var e=arguments,i=q.read(e),f=q.read(e);return new q(Math.min(i.x,f.x),Math.min(i.y,f.y))},max:function(){var e=arguments,i=q.read(e),f=q.read(e);return new q(Math.max(i.x,f.x),Math.max(i.y,f.y))},random:function(){return new q(Math.random(),Math.random())},isCollinear:function(e,i,f,N){return Math.abs(e*N-i*f)<=Math.sqrt((e*e+i*i)*(f*f+N*N))*0.00000001},isOrthogonal:function(e,i,f,N){return Math.abs(e*f+i*N)<=Math.sqrt((e*e+i*i)*(f*f+N*N))*0.00000001}}},k.each(["round","ceil","floor","abs"],function(e){var i=Math[e];this[e]=function(){return new q(i(this.x),i(this.y))}},{})),g=q.extend({initialize:function e(i,f,N,V){this._x=i,this._y=f,this._owner=N,this._setter=V},_set:function(e,i,f){if(this._x=e,this._y=i,!f)this._owner[this._setter](this);return this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),w=k.extend({_class:"Size",_readIndex:!0,initialize:function e(i,f){var N=typeof i,V=this.__read,X=0;if(N==="number"){var F=typeof f==="number";if(this._set(i,F?f:i),V)X=F?2:1}else if(N==="undefined"||i===null){if(this._set(0,0),V)X=i===null?1:0}else{var K=N==="string"?i.split(/[\s,]+/)||[]:i;if(X=1,Array.isArray(K))this._set(+K[0],+(K.length>1?K[1]:K[0]));else if("width"in K)this._set(K.width||0,K.height||0);else if("x"in K)this._set(K.x||0,K.y||0);else this._set(0,0),X=0}if(V)this.__read=X;return this},set:"#initialize",_set:function(e,i){return this.width=e,this.height=i,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new w(this.width,this.height)},toString:function(){var e=T.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var e=w.read(arguments);return new w(this.width+e.width,this.height+e.height)},subtract:function(){var e=w.read(arguments);return new w(this.width-e.width,this.height-e.height)},multiply:function(){var e=w.read(arguments);return new w(this.width*e.width,this.height*e.height)},divide:function(){var e=w.read(arguments);return new w(this.width/e.width,this.height/e.height)},modulo:function(){var e=w.read(arguments);return new w(this.width%e.width,this.height%e.height)},negate:function(){return new w(-this.width,-this.height)},isZero:function(){var e=M.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,i){return new w(Math.min(e.width,i.width),Math.min(e.height,i.height))},max:function(e,i){return new w(Math.max(e.width,i.width),Math.max(e.height,i.height))},random:function(){return new w(Math.random(),Math.random())}}},k.each(["round","ceil","floor","abs"],function(e){var i=Math[e];this[e]=function(){return new w(i(this.width),i(this.height))}},{})),I=w.extend({initialize:function e(i,f,N,V){this._width=i,this._height=f,this._owner=N,this._setter=V},_set:function(e,i,f){if(this._width=e,this._height=i,!f)this._owner[this._setter](this);return this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),W=k.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function e(i,f,N,V){var X=arguments,F=typeof i,K;if(F==="number")this._set(i,f,N,V),K=4;else if(F==="undefined"||i===null)this._set(0,0,0,0),K=i===null?1:0;else if(X.length===1){if(Array.isArray(i))this._set.apply(this,i),K=1;else if(i.x!==b||i.width!==b)this._set(i.x||0,i.y||0,i.width||0,i.height||0),K=1;else if(i.from===b&&i.to===b){if(this._set(0,0,0,0),k.readSupported(X,this))K=1}}if(K===b){var z=q.readNamed(X,"from"),J=k.peek(X),ao=z.x,Y=z.y,G,no;if(J&&J.x!==b||k.hasNamed(X,"to")){var A=q.readNamed(X,"to");if(G=A.x-ao,no=A.y-Y,G<0)ao=A.x,G=-G;if(no<0)Y=A.y,no=-no}else{var ro=w.read(X);G=ro.width,no=ro.height}this._set(ao,Y,G,no),K=X.__index}var No=X.__filtered;if(No)this.__filtered=No;if(this.__read)this.__read=K;return this},set:"#initialize",_set:function(e,i,f,N){return this.x=e,this.y=i,this.width=f,this.height=N,this},clone:function(){return new W(this.x,this.y,this.width,this.height)},equals:function(e){var i=k.isPlainValue(e)?W.read(arguments):e;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var e=T.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var i=e.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(e){var i=e?q:g;return new i(this.x,this.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var i=e?w:I;return new i(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=w.read(arguments),i=this._sx,f=this._sy,N=e.width,V=e.height;if(i)this.x+=(this.width-N)*i;if(f)this.y+=(this.height-V)*f;this.width=N,this.height=V,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var i=e-this.x;this.width-=this._sx===0.5?i*2:i}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var i=e-this.y;this.height-=this._sy===0.5?i*2:i}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var i=e-this.x;this.width=this._sx===0.5?i*2:i}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var i=e-this.y;this.height=this._sy===0.5?i*2:i}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){if(this._fw||this._sx===0.5)this.x=e-this.width/2;else{if(this._sx)this.x+=(e-this.x)*2*this._sx;this.width=(e-this.x)*2}this._sx=0.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){if(this._fh||this._sy===0.5)this.y=e-this.height/2;else{if(this._sy)this.y+=(e-this.y)*2*this._sy;this.height=(e-this.y)*2}this._sy=0.5,this._fh=0},getCenter:function(e){var i=e?q:g;return new i(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=q.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==b||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(W.read(arguments)):this._containsPoint(q.read(arguments))},_containsPoint:function(e){var{x:i,y:f}=e;return i>=this.x&&f>=this.y&&i<=this.x+this.width&&f<=this.y+this.height},_containsRectangle:function(e){var{x:i,y:f}=e;return i>=this.x&&f>=this.y&&i+e.width<=this.x+this.width&&f+e.height<=this.y+this.height},intersects:function(){var e=W.read(arguments),i=k.read(arguments)||0;return e.x+e.width>this.x-i&&e.y+e.height>this.y-i&&e.x<this.x+this.width+i&&e.y<this.y+this.height+i},intersect:function(){var e=W.read(arguments),i=Math.max(this.x,e.x),f=Math.max(this.y,e.y),N=Math.min(this.x+this.width,e.x+e.width),V=Math.min(this.y+this.height,e.y+e.height);return new W(i,f,N-i,V-f)},unite:function(){var e=W.read(arguments),i=Math.min(this.x,e.x),f=Math.min(this.y,e.y),N=Math.max(this.x+this.width,e.x+e.width),V=Math.max(this.y+this.height,e.y+e.height);return new W(i,f,N-i,V-f)},include:function(){var e=q.read(arguments),i=Math.min(this.x,e.x),f=Math.min(this.y,e.y),N=Math.max(this.x+this.width,e.x),V=Math.max(this.y+this.height,e.y);return new W(i,f,N-i,V-f)},expand:function(){var e=w.read(arguments),i=e.width,f=e.height;return new W(this.x-i/2,this.y-f/2,this.width+i,this.height+f)},scale:function(e,i){return this.expand(this.width*e-this.width,this.height*(i===b?e:i)-this.height)}},k.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,i){var f=e.join(""),N=/^[RL]/.test(f);if(i>=4)e[1]+=N?"Y":"X";var V=e[N?0:1],X=e[N?1:0],F="get"+V,K="get"+X,z="set"+V,J="set"+X,ao="get"+f,Y="set"+f;this[ao]=function(G){var no=G?q:g;return new no(this[F](),this[K](),this,Y)},this[Y]=function(){var G=q.read(arguments);this[z](G.x),this[J](G.y)}},{beans:!0})),E=W.extend({initialize:function e(i,f,N,V,X,F){this._set(i,f,N,V,!0),this._owner=X,this._setter=F},_set:function(e,i,f,N,V){if(this._x=e,this._y=i,this._width=f,this._height=N,!V)this._owner[this._setter](this);return this}},new function(){var e=W.prototype;return k.each(["x","y","width","height"],function(i){var f=k.capitalize(i),N="_"+i;this["get"+f]=function(){return this[N]},this["set"+f]=function(V){if(this[N]=V,!this._dontNotify)this._owner[this._setter](this)}},k.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var f="set"+i;this[f]=function(){this._dontNotify=!0,e[f].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(i){var f=this._owner;if(f._changeSelection)f._changeSelection(2,i)}}))}),D=k.extend({_class:"Matrix",initialize:function e(i,f){var N=arguments,V=N.length,X=!0;if(V>=6)this._set.apply(this,N);else if(V===1||V===2)if(i instanceof e)this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,f);else if(Array.isArray(i))this._set.apply(this,f?i.concat([f]):i);else X=!1;else if(!V)this.reset();else X=!1;if(!X)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,i,f,N,V,X,F){if(this._a=e,this._b=i,this._c=f,this._d=N,this._tx=V,this._ty=X,!F)this._changed();return this},_serialize:function(e,i){return k.serialize(this.getValues(),e,!0,i)},_changed:function(){var e=this._owner;if(e)if(e._applyMatrix)e.transform(null,!0);else e._changed(25)},clone:function(){return new D(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=T.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){if(this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,!e)this._changed();return this},apply:function(e,i){var f=this._owner;if(f)return f.transform(null,k.pick(e,!0),i),this.isIdentity();return!1},translate:function(){var e=q.read(arguments),i=e.x,f=e.y;return this._tx+=i*this._a+f*this._c,this._ty+=i*this._b+f*this._d,this._changed(),this},scale:function(){var e=arguments,i=q.read(e),f=q.read(e,0,{readNull:!0});if(f)this.translate(f);if(this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,f)this.translate(f.negate());return this._changed(),this},rotate:function(e){e*=Math.PI/180;var i=q.read(arguments,1),f=i.x,N=i.y,V=Math.cos(e),X=Math.sin(e),F=f-f*V+N*X,K=N-f*X-N*V,z=this._a,J=this._b,ao=this._c,Y=this._d;return this._a=V*z+X*ao,this._b=V*J+X*Y,this._c=-X*z+V*ao,this._d=-X*J+V*Y,this._tx+=F*z+K*ao,this._ty+=F*J+K*Y,this._changed(),this},shear:function(){var e=arguments,i=q.read(e),f=q.read(e,0,{readNull:!0});if(f)this.translate(f);var N=this._a,V=this._b;if(this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*N,this._d+=i.x*V,f)this.translate(f.negate());return this._changed(),this},skew:function(){var e=arguments,i=q.read(e),f=q.read(e,0,{readNull:!0}),N=Math.PI/180,V=new q(Math.tan(i.x*N),Math.tan(i.y*N));return this.shear(V,f)},append:function(e,i){if(e){var f=this._a,N=this._b,V=this._c,X=this._d,F=e._a,K=e._c,z=e._b,J=e._d,ao=e._tx,Y=e._ty;if(this._a=F*f+z*V,this._c=K*f+J*V,this._b=F*N+z*X,this._d=K*N+J*X,this._tx+=ao*f+Y*V,this._ty+=ao*N+Y*X,!i)this._changed()}return this},prepend:function(e,i){if(e){var f=this._a,N=this._b,V=this._c,X=this._d,F=this._tx,K=this._ty,z=e._a,J=e._c,ao=e._b,Y=e._d,G=e._tx,no=e._ty;if(this._a=z*f+J*N,this._c=z*V+J*X,this._b=ao*f+Y*N,this._d=ao*V+Y*X,this._tx=z*F+J*K+G,this._ty=ao*F+Y*K+no,!i)this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,i=this._b,f=this._c,N=this._d,V=this._tx,X=this._ty,F=e*N-i*f,K=null;if(F&&!isNaN(F)&&isFinite(V)&&isFinite(X))this._a=N/F,this._b=-i/F,this._c=-f/F,this._d=e/F,this._tx=(f*X-N*V)/F,this._ty=(i*V-e*X)/F,K=this;return K},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new D(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,i,f){return arguments.length<3?this._transformPoint(q.read(arguments)):this._transformCoordinates(e,i,f)},_transformPoint:function(e,i,f){var{x:N,y:V}=e;if(!i)i=new q;return i._set(N*this._a+V*this._c+this._tx,N*this._b+V*this._d+this._ty,f)},_transformCoordinates:function(e,i,f){for(var N=0,V=2*f;N<V;N+=2){var X=e[N],F=e[N+1];i[N]=X*this._a+F*this._c+this._tx,i[N+1]=X*this._b+F*this._d+this._ty}return i},_transformCorners:function(e){var{x:i,y:f}=e,N=i+e.width,V=f+e.height,X=[i,f,N,f,N,V,i,V];return this._transformCoordinates(X,X,4)},_transformBounds:function(e,i,f){var N=this._transformCorners(e),V=N.slice(0,2),X=V.slice();for(var F=2;F<8;F++){var K=N[F],z=F&1;if(K<V[z])V[z]=K;else if(K>X[z])X[z]=K}if(!i)i=new W;return i._set(V[0],V[1],X[0]-V[0],X[1]-V[1],f)},inverseTransform:function(){return this._inverseTransform(q.read(arguments))},_inverseTransform:function(e,i,f){var N=this._a,V=this._b,X=this._c,F=this._d,K=this._tx,z=this._ty,J=N*F-V*X,ao=null;if(J&&!isNaN(J)&&isFinite(K)&&isFinite(z)){var Y=e.x-this._tx,G=e.y-this._ty;if(!i)i=new q;ao=i._set((Y*F-G*X)/J,(G*N-Y*V)/J,f)}return ao},decompose:function(){var e=this._a,i=this._b,f=this._c,N=this._d,V=e*N-i*f,X=Math.sqrt,F=Math.atan2,K=180/Math.PI,z,J,ao;if(e!==0||i!==0){var Y=X(e*e+i*i);z=Math.acos(e/Y)*(i>0?1:-1),J=[Y,V/Y],ao=[F(e*f+i*N,Y*Y),0]}else if(f!==0||N!==0){var G=X(f*f+N*N);z=Math.asin(f/G)*(N>0?1:-1),J=[V/G,G],ao=[0,F(e*f+i*N,G*G)]}else z=0,ao=J=[0,0];return{translation:this.getTranslation(),rotation:z*K,scaling:new q(J),skewing:new q(ao[0]*K,ao[1]*K)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new q(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){if(!this.isIdentity())e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},k.each(["a","b","c","d","tx","ty"],function(e){var i=k.capitalize(e),f="_"+e;this["get"+i]=function(){return this[f]},this["set"+i]=function(N){this[f]=N,this._changed()}},{})),C=k.extend({_class:"Line",initialize:function e(i,f,N,V,X){var F=!1;if(arguments.length>=4)this._px=i,this._py=f,this._vx=N,this._vy=V,F=X;else this._px=i.x,this._py=i.y,this._vx=f.x,this._vy=f.y,F=N;if(!F)this._vx-=this._px,this._vy-=this._py},getPoint:function(){return new q(this._px,this._py)},getVector:function(){return new q(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,i){return C.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,i)},getSide:function(e,i){return C.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,i)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return C.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return q.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return q.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,i,f,N,V,X,F,K,z,J){if(!z)f-=e,N-=i,F-=V,K-=X;var ao=f*K-N*F;if(!M.isMachineZero(ao)){var Y=e-V,G=i-X,no=(F*G-K*Y)/ao,A=(f*G-N*Y)/ao,ro=0.000000000001,No=-ro,oo=1+ro;if(J||No<no&&no<oo&&No<A&&A<oo){if(!J)no=no<=0?0:no>=1?1:no;return new q(e+no*f,i+no*N)}}},getSide:function(e,i,f,N,V,X,F,K){if(!F)f-=e,N-=i;var z=V-e,J=X-i,ao=z*N-J*f;if(!K&&M.isMachineZero(ao)){if(ao=(z*f+z*f)/(f*f+N*N),ao>=0&&ao<=1)ao=0}return ao<0?-1:ao>0?1:0},getSignedDistance:function(e,i,f,N,V,X,F){if(!F)f-=e,N-=i;return f===0?N>0?V-e:e-V:N===0?f<0?X-i:i-X:((V-e)*N-(X-i)*f)/(N>f?N*Math.sqrt(1+f*f/(N*N)):f*Math.sqrt(1+N*N/(f*f)))},getDistance:function(e,i,f,N,V,X,F){return Math.abs(C.getSignedDistance(e,i,f,N,V,X,F))}}}),uo=R.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function e(i){R.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ko(null,null,this),this._view=Oo.create(this,i||Bo.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,i){return k.serialize(this._children,e,!0,i)},_changed:function(e,i){if(e&1){var f=this._view;if(f){if(f._needsUpdate=!0,!f._requested&&f._autoUpdate)f.requestUpdate()}}var N=this._changes;if(N&&i){var V=this._changesById,X=i._id,F=V[X];if(F)F.flags|=e;else N.push(V[X]={item:i,flags:e})}},clear:function(){var e=this._children;for(var i=e.length-1;i>=0;i--)e[i].remove()},isEmpty:function(){return!this._children.length},remove:function e(){if(!e.base.call(this))return!1;if(this._view)this._view.remove();return!0},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new co({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],i={};return this.getItems({class:n,match:function(f){var N=f._definition,V=N._id;if(!i[V])i[V]=!0,e.push(N);return!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,i=[];for(var f in e){var N=e[f],V=N._selection;if(V&1&&N.isInserted())i.push(N);else if(!V)this._updateSelection(N)}return i},_updateSelection:function(e){var i=e._id,f=this._selectionItems;if(e._selection){if(f[i]!==e)this._selectionCount++,f[i]=e}else if(f[i]===e)this._selectionCount--,delete f[i]},selectAll:function(){var e=this._children;for(var i=0,f=e.length;i<f;i++)e[i].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var i in e)e[i].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(b,e)},insertLayer:function(e,i){if(i instanceof co){i._remove(!1,!0),k.splice(this._children,[i],e,0),i._setProject(this,!0);var f=i._name;if(f)i.setName(f);if(this._changes)i._changed(5);if(!this._activeLayer)this._activeLayer=i}else i=null;return i},_insertItem:function(e,i,f){if(i=this.insertLayer(e,i)||(this._activeLayer||this._insertItem(b,new co(po.NO_INSERT),!0)).insertChild(e,i),f&&i.activate)i.activate();return i},getItems:function(e){return po._getItems(this,e)},getItem:function(e){return po._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var i=this._activeLayer;return k.importJSON(e,i&&i.isEmpty()&&i)},removeOn:function(e){var i=this._removeSets;if(i){if(e==="mouseup")i.mousedrag=null;var f=i[e];if(f){for(var N in f){var V=f[N];for(var X in i){var F=i[X];if(F&&F!=f)delete F[V._id]}V.remove()}i[e]=null}}},draw:function(e,i,f){this._updateVersion++,e.save(),i.applyToContext(e);var N=this._children,V=new k({offset:new q(0,0),pixelRatio:f,viewMatrix:i.isIdentity()?null:i,matrices:[new D],updateMatrix:!0});for(var X=0,F=N.length;X<F;X++)N[X].draw(e,V);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var K=this._selectionItems,z=this._scope.settings.handleSize,J=this._updateVersion;for(var ao in K)K[ao]._drawSelection(e,i,z,K,J);e.restore()}}}),po=k.extend(L,{statics:{extend:function e(i){if(i._serializeFields)i._serializeFields=k.set({},this.prototype._serializeFields,i._serializeFields);return e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new D,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return k.each(e,function(i){this._events[i]={install:function(f){this.getView()._countItemEvent(f,1)},uninstall:function(f){this.getView()._countItemEvent(f,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function e(){},_initialize:function(e,i){var f=e&&k.isPlainObject(e),N=f&&e.internal===!0,V=this._matrix=new D,X=f&&e.project||O.project,F=O.settings;if(this._id=N?null:$.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&F.applyMatrix,i)V.translate(i);if(V._owner=this,this._style=new ko(X._currentStyle,this,X),N||f&&e.insert==!1||!F.insertItems&&!(f&&e.insert==!0))this._setProject(X);else(f&&e.parent||X)._insertItem(b,this,!0);if(f&&e!==po.NO_INSERT&&e!==po.INSERT)this.set(e,{internal:!0,insert:!0,project:!0,parent:!0});return f},_serialize:function(e,i){var f={},N=this;function V(X){for(var F in X){var K=N[F];if(!k.equals(K,F==="leading"?X.fontSize*1.2:X[F]))f[F]=k.serialize(K,e,F!=="data",i)}}if(V(this._serializeFields),!(this instanceof To))V(this._style._defaults);return[this._class,f]},_changed:function(e){var i=this._symbol,f=this._parent||i,N=this._project;if(e&8)this._bounds=this._position=this._decomposed=b;if(e&16)this._globalMatrix=b;if(f&&e&72)po._clearBoundsCache(f);if(e&2)po._clearBoundsCache(this);if(N)N._changed(e,this);if(i)i._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name)this._removeNamed();if(e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(e&&i){var{_children:f,_namedChildren:N}=i;if((N[e]=N[e]||[]).push(this),!(e in f))f[e]=this}this._name=e||b,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},k.each(["locked","visible","blendMode","opacity","guide"],function(e){var i=k.capitalize(e),f="_"+e,N={locked:256,visible:265};this["get"+i]=function(){return this[f]},this["set"+i]=function(V){if(V!=this[f])this[f]=V,this._changed(N[e]||257)}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var i=this._project;if(i)i._updateSelection(this),this._changed(257)}},_changeSelection:function(e,i){var f=this._selection;this.setSelection(i?f|e:f&~e)},isSelected:function(){if(this._selectChildren){var e=this._children;for(var i=0,f=e.length;i<f;i++)if(e[i].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren){var i=this._children;for(var f=0,N=i.length;f<N;f++)i[f].setSelected(e)}this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,i=!!(this._selection&1);if(e&&i){for(var f=0,N=e.length;f<N;f++)if(!e[f].isFullySelected())return!1;return!0}return i},setFullySelected:function(e){var i=this._children;if(i)for(var f=0,N=i.length;f<N;f++)i[f].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){if(this._clipMask!=(e=!!e)){if(this._clipMask=e,e)this.setFillColor(null),this.setStrokeColor(null);if(this._changed(257),this._parent)this._parent._changed(2048)}},getData:function(){if(!this._data)this._data={};return this._data},setData:function(e){this._data=e},getPosition:function(e){var i=e?q:g,f=this._position||(this._position=this._getPositionFromBounds());return new i(f.x,f.y,this,"setPosition")},setPosition:function(){this.translate(q.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new g(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=q.read(arguments,0,{clone:!0,readNull:!0}),this._position=b}},k.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,i){this[i]=function(f){return this.getBounds(f,e)}},{beans:!0,getBounds:function(e,i){var f=i||e instanceof D,N=k.set({},f?i:e,this._boundsOptions);if(!N.stroke||this.getStrokeScaling())N.cacheItem=this;var V=this._getCachedBounds(f&&e,N).rect;return!arguments.length?new E(V.x,V.y,V.width,V.height,this,"setBounds"):V},setBounds:function(){var e=W.read(arguments),i=this.getBounds(),f=this._matrix,N=new D,V=e.getCenter();if(N.translate(V),e.width!=i.width||e.height!=i.height){if(!f.isInvertible())f.set(f._backup||new D().translate(f.getTranslation())),i=this.getBounds();N.scale(i.width!==0?e.width/i.width:0,i.height!==0?e.height/i.height:0)}V=i.getCenter(),N.translate(-V.x,-V.y),this.transform(N)},_getBounds:function(e,i){var f=this._children;if(!f||!f.length)return new W;return po._updateBoundsCache(this,i.cacheItem),po._getBounds(f,e,i)},_getBoundsCacheKey:function(e,i){return[e.stroke?1:0,e.handle?1:0,i?1:0].join("")},_getCachedBounds:function(e,i,f){e=e&&e._orNullIfIdentity();var N=i.internal&&!f,V=i.cacheItem,X=N?null:this._matrix._orNullIfIdentity(),F=V&&(!e||e.equals(X))&&this._getBoundsCacheKey(i,N),K=this._bounds;if(po._updateBoundsCache(this._parent||this._symbol,V),F&&K&&F in K){var z=K[F];return{rect:z.rect.clone(),nonscaling:z.nonscaling}}var J=this._getBounds(e||X,i),ao=J.rect||J,Y=this._style,G=J.nonscaling||Y.hasStroke()&&!Y.getStrokeScaling();if(F){if(!K)this._bounds=K={};var z=K[F]={rect:ao.clone(),nonscaling:G,internal:N}}return{rect:ao,nonscaling:G}},_getStrokeMatrix:function(e,i){var f=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,N=f?f.getViewMatrix().invert():e;return N&&N._shiftless()},statics:{_updateBoundsCache:function(e,i){if(e&&i){var f=i._id,N=e._boundsCache=e._boundsCache||{ids:{},list:[]};if(!N.ids[f])N.list.push(i),N.ids[f]=i}},_clearBoundsCache:function(e){var i=e._boundsCache;if(i){e._bounds=e._position=e._boundsCache=b;for(var f=0,N=i.list,V=N.length;f<V;f++){var X=N[f];if(X!==e){if(X._bounds=X._position=b,X._boundsCache)po._clearBoundsCache(X)}}}},_getBounds:function(e,i,f){var N=1/0,V=-N,X=N,F=V,K=!1;f=f||{};for(var z=0,J=e.length;z<J;z++){var ao=e[z];if(ao._visible&&!ao.isEmpty(!0)){var Y=ao._getCachedBounds(i&&i.appended(ao._matrix),f,!0),G=Y.rect;if(N=Math.min(G.x,N),X=Math.min(G.y,X),V=Math.max(G.x+G.width,V),F=Math.max(G.y+G.height,F),Y.nonscaling)K=!0}}return{rect:isFinite(N)?new W(N,X,V-N,F-X):new W,nonscaling:K}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var i=this.getRotation();if(i!=null&&e!=null){var f=this._decomposed;if(this.rotate(e-i),f)f.rotation=e,this._decomposed=f}},getScaling:function(){var e=this._decompose(),i=e&&e.scaling;return new g(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),i=q.read(arguments,0,{clone:!0,readNull:!0});if(e&&i&&!e.equals(i)){var f=this.getRotation(),N=this._decomposed,V=new D,X=M.isZero;if(X(e.x)||X(e.y)){if(V.translate(N.translation),f)V.rotate(f);V.scale(i.x,i.y),this._matrix.set(V)}else{var F=this.getPosition(!0);if(V.translate(F),f)V.rotate(f);if(V.scale(i.x/e.x,i.y/e.y),f)V.rotate(-f);V.translate(F.negate()),this.transform(V)}if(N)N.scaling=i,this._decomposed=N}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var i=this._globalMatrix;if(i){var f=this._parent,N=[];while(f){if(!f._globalMatrix){i=null;for(var V=0,X=N.length;V<X;V++)N[V]._globalMatrix=null;break}N.push(f),f=f._parent}}if(!i){i=this._globalMatrix=this._matrix.clone();var f=this._parent;if(f)i.prepend(f.getGlobalMatrix(!0))}return e?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){if(this._applyMatrix=this._canApplyMatrix&&!!e)this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,i){if(this._project!==e){if(this._project)this._installEvents(!1);this._project=e;var f=this._children;for(var N=0,V=f&&f.length;N<V;N++)f[N]._setProject(e);i=!0}if(i)this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(i){e.base.call(this,i);var f=this._children;for(var N=0,V=f&&f.length;N<V;N++)f[N]._installEvents(i)},getLayer:function(){var e=this;while(e=e._parent)if(e instanceof co)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var i=this._parent,f=i&&i._children;if(f)i.insertChildren(e in f?e:b,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return k.equals(this._children,e._children)},clone:function(e){var i=new this.constructor(po.NO_INSERT),f=this._children,N=k.pick(e?e.insert:b,e===b||e===!0),V=k.pick(e?e.deep:b,!0);if(f)i.copyAttributes(this);if(!f||V)i.copyContent(this);if(!f)i.copyAttributes(this);if(N)i.insertAbove(this);var X=this._name,F=this._parent;if(X&&F){var f=F._children,K=X,z=1;while(f[X])X=K+" "+z++;if(X!==K)i.setName(X)}return i},copyContent:function(e){var i=e._children;for(var f=0,N=i&&i.length;f<N;f++)this.addChild(i[f].clone(!1),!0)},copyAttributes:function(e,i){this.setStyle(e._style);var f=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"];for(var N=0,V=f.length;N<V;N++){var X=f[N];if(e.hasOwnProperty(X))this[X]=e[X]}if(!i)this._matrix.set(e._matrix,!0);this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var{_data:F,_name:K}=e;if(this._data=F?k.clone(F):null,K)this.setName(K)},rasterize:function(e,i){var f,N,V;if(k.isPlainObject(e))f=e.resolution,N=e.insert,V=e.raster;else f=e,N=i;if(!V)V=new o(po.NO_INSERT);var X=this.getStrokeBounds(),F=(f||this.getView().getResolution())/72,K=X.getTopLeft().floor(),z=X.getBottomRight().ceil(),J=new w(z.subtract(K)),ao=J.multiply(F);if(V.setSize(ao,!0),!ao.isZero()){var Y=V.getContext(!0),G=new D().scale(F).translate(K.negate());Y.save(),G.applyToContext(Y),this.draw(Y,new k({matrices:[G]})),Y.restore()}if(V._matrix.set(new D().translate(K.add(J.divide(2))).scale(1/F)),N===b||N)V.insertAbove(this);return V},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(q.read(arguments)))},_contains:function(e){var i=this._children;if(i){for(var f=i.length-1;f>=0;f--)if(i[f].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return W.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new t.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,i){if(!(e instanceof po))return!1;return this._asPathItem().getIntersections(e._asPathItem(),null,i,!0).length>0}},new function(){function e(){var N=arguments;return this._hitTest(q.read(N),s.getOptions(N))}function i(){var N=arguments,V=q.read(N),X=s.getOptions(N),F=[];return this._hitTest(V,new k({all:F},X)),F}function f(N,V,X,F){var K=this._children;if(K)for(var z=K.length-1;z>=0;z--){var J=K[z],ao=J!==F&&J._hitTest(N,V,X);if(ao&&!V.all)return ao}return null}return uo.inject({hitTest:e,hitTestAll:i,_hitTest:f}),{hitTest:e,hitTestAll:i,_hitTestChildren:f}},{_hitTest:function(e,i,f){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var N=this._matrix,V=f?f.appended(N):this.getGlobalMatrix().prepend(this.getView()._matrix),X=Math.max(i.tolerance,0.000000000001),F=i._tolerancePadding=new w(t._getStrokePadding(X,N._shiftless().invert()));if(e=N._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(F.multiply(2))._containsPoint(e))return null;var K=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==k.hyphenate(this._class)||i.class&&!(this instanceof i.class)),z=i.match,J=this,ao,Y;function G(so){if(so&&z&&!z(so))so=null;if(so&&i.all)i.all.push(so);return so}function no(so,Q){var lo=Q?ao["get"+Q]():J.getPosition();if(e.subtract(lo).divide(F).length<=1)return new s(so,J,{name:Q?k.hyphenate(Q):so,point:lo})}var{position:A,center:ro,bounds:No}=i;if(K&&this._parent&&(A||ro||No)){if(ro||No)ao=this.getInternalBounds();if(Y=A&&no("position")||ro&&no("center","Center"),!Y&&No){var oo=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"];for(var eo=0;eo<8&&!Y;eo++)Y=no("bounds",oo[eo])}Y=G(Y)}if(!Y)Y=this._hitTestChildren(e,i,V)||K&&G(this._hitTestSelf(e,i,V,this.getStrokeScaling()?null:V._shiftless().invert()))||null;if(Y&&Y.point)Y.point=N.transform(Y.point);return Y},_hitTestSelf:function(e,i){if(i.fill&&this.hasFill()&&this._contains(e))return new s("fill",this)},matches:function(e,i){function f(F,K){for(var z in F)if(F.hasOwnProperty(z)){var J=F[z],ao=K[z];if(k.isPlainObject(J)&&k.isPlainObject(ao)){if(!f(J,ao))return!1}else if(!k.equals(J,ao))return!1}return!0}var N=typeof e;if(N==="object"){for(var V in e)if(e.hasOwnProperty(V)&&!this.matches(V,e[V]))return!1;return!0}else if(N==="function")return e(this);else if(e==="match")return i(this);else{var X=/^(empty|editable)$/.test(e)?this["is"+k.capitalize(e)]():e==="type"?k.hyphenate(this._class):this[e];if(e==="class"){if(typeof i==="function")return this instanceof i;X=this._class}if(typeof i==="function")return!!i(X);else if(i){if(i.test)return i.test(X);else if(k.isPlainObject(i))return f(i,X)}return k.equals(X,i)}},getItems:function(e){return po._getItems(this,e,this._matrix)},getItem:function(e){return po._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(i,f,N,V,X){if(!V){var F=typeof f==="object"&&f,K=F&&F.overlapping,z=F&&F.inside,J=K||z,G=J&&W.read([J]);if(V={items:[],recursive:F&&F.recursive!==!1,inside:!!z,overlapping:!!K,rect:G,path:K&&new t.Rectangle({rectangle:G,insert:!1})},F)f=k.filter({},f,{recursive:!0,inside:!0,overlapping:!0})}var ao=i._children,Y=V.items,G=V.rect;N=G&&(N||new D);for(var no=0,A=ao&&ao.length;no<A;no++){var ro=ao[no],No=N&&N.appended(ro._matrix),oo=!0;if(G){var J=ro.getBounds(No);if(!G.intersects(J))continue;if(!(G.contains(J)||V.overlapping&&(J.contains(G)||V.path.intersects(ro,No))))oo=!1}if(oo&&ro.matches(f)){if(Y.push(ro),X)break}if(V.recursive!==!1)e(ro,f,No,V,X);if(X&&Y.length>0)break}return Y}}},{importJSON:function(e){var i=k.importJSON(e,this);return i!==this?this.addChild(i):i},addChild:function(e){return this.insertChild(b,e)},insertChild:function(e,i){var f=i?this.insertChildren(e,[i]):null;return f&&f[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,i){var f=this._children;if(f&&i&&i.length>0){i=k.slice(i);var N={};for(var V=i.length-1;V>=0;V--){var X=i[V],F=X&&X._id;if(!X||N[F])i.splice(V,1);else X._remove(!1,!0),N[F]=!0}k.splice(f,i,e,0);var K=this._project,z=K._changes;for(var V=0,J=i.length;V<J;V++){var X=i[V],ao=X._name;if(X._parent=this,X._setProject(K,!0),ao)X.setName(ao);if(z)X._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(e,i){var f=e&&e._getOwner(),N=e!==this&&f?this:null;if(N)N._remove(!1,!0),f._insertItem(e._index+i,N);return N},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(b,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(b,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var i=this._children;if(i&&i.length===1){var f=i[0].reduce(e);if(this._parent)f.insertAbove(this),this.remove();else f.remove();return f}return this},_removeNamed:function(){var e=this._getOwner();if(e){var{_children:i,_namedChildren:f}=e,N=this._name,V=f[N],X=V?V.indexOf(this):-1;if(X!==-1){if(i[N]==this)delete i[N];if(V.splice(X,1),V.length)i[N]=V[0];else delete f[N]}}},_remove:function(e,i){var f=this._getOwner(),N=this._project,V=this._index;if(this._style)this._style._dispose();if(f){if(this._name)this._removeNamed();if(V!=null){if(N._activeLayer===this)N._activeLayer=this.getNextSibling()||this.getPreviousSibling();k.splice(f._children,null,V,1)}if(this._installEvents(!1),e&&N._changes)this._changed(5);if(i)f._changed(11,this);return this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var i=e&&e.insertBelow(this);if(i)this.remove();return i},removeChildren:function(e,i){if(!this._children)return null;e=e||0,i=k.pick(i,this._children.length);var f=k.splice(this._children,null,e,i-e);for(var N=f.length-1;N>=0;N--)f[N]._remove(!0,!1);if(f.length>0)this._changed(11);return f},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,i=this._children.length;e<i;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var i=this._children,f=i?i.length:0;if(e){for(var N=0;N<f;N++)if(!i[N].isEmpty(e))return!1;return!0}return!f},isEditable:function(){var e=this;while(e){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function i(F){var K=[];do K.unshift(F);while(F=F._parent);return K}var f=i(this),N=i(e);for(var V=0,X=Math.min(f.length,N.length);V<X;V++)if(f[V]!=N[V])return f[V]._index<N[V]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){var i=this;while(i=i._parent)if(i===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){var i=this._parent;while(i){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&e.isDescendant(i))return!0;i=i._parent}return!1}},k.each(["rotate","scale","shear","skew"],function(e){var i=e==="rotate";this[e]=function(){var f=arguments,N=(i?k:q).read(f),V=q.read(f,0,{readNull:!0});return this.transform(new D()[e](N,V||this.getPosition(!0)))}},{translate:function(){var e=new D;return this.transform(e.translate.apply(e,arguments))},transform:function(e,i,f){var N=this._matrix,V=e&&!e.isIdentity(),X=f&&this._canApplyMatrix||this._applyMatrix&&(V||!N.isIdentity()||i&&this._children);if(!V&&!X)return this;if(V){if(!e.isInvertible()&&N.isInvertible())N._backup=N.getValues();N.prepend(e,!0);var F=this._style,K=F.getFillColor(!0),z=F.getStrokeColor(!0);if(K)K.transform(e);if(z)z.transform(e)}if(X&&(X=this._transformContent(N,i,f))){var J=this._pivot;if(J)N._transformPoint(J,J,!0);if(N.reset(!0),f&&this._canApplyMatrix)this._applyMatrix=!0}var ao=this._bounds,Y=this._position;if(V||X)this._changed(25);var G=V&&ao&&e.decompose();if(G&&G.skewing.isZero()&&G.rotation%90===0){for(var no in ao){var A=ao[no];if(A.nonscaling)delete ao[no];else if(X||!A.internal){var ro=A.rect;e._transformBounds(ro,ro)}}this._bounds=ao;var No=ao[this._getBoundsCacheKey(this._boundsOptions||{})];if(No)this._position=this._getPositionFromBounds(No.rect)}else if(V&&Y&&this._pivot)this._position=e._transformPoint(Y,Y);return this},_transformContent:function(e,i,f){var N=this._children;if(N){for(var V=0,X=N.length;V<X;V++)N[V].transform(e,i,f);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(q.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(q.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(q.read(arguments))},localToParent:function(){return this._matrix._transformPoint(q.read(arguments))},fitBounds:function(e,i){e=W.read(arguments);var f=this.getBounds(),N=f.height/f.width,V=e.height/e.width,X=(i?N>V:N<V)?e.width/f.width:e.height/f.height,F=new W(new q,new w(f.width*X,f.height*X));F.setCenter(e.getCenter()),this.setBounds(F)}}),{_setStyles:function(e,i,f){var N=this._style,V=this._matrix;if(N.hasFill())e.fillStyle=N.getFillColor().toCanvasStyle(e,V);if(N.hasStroke()){e.strokeStyle=N.getStrokeColor().toCanvasStyle(e,V),e.lineWidth=N.getStrokeWidth();var X=N.getStrokeJoin(),F=N.getStrokeCap(),K=N.getMiterLimit();if(X)e.lineJoin=X;if(F)e.lineCap=F;if(K)e.miterLimit=K;if(O.support.nativeDash){var z=N.getDashArray(),J=N.getDashOffset();if(z&&z.length)if("setLineDash"in e)e.setLineDash(z),e.lineDashOffset=J;else e.mozDash=z,e.mozDashOffset=J}}if(N.hasShadow()){var ao=i.pixelRatio||1,Y=f._shiftless().prepend(new D().scale(ao,ao)),G=Y.transform(new q(N.getShadowBlur(),0)),no=Y.transform(this.getShadowOffset());e.shadowColor=N.getShadowColor().toCanvasStyle(e),e.shadowBlur=G.getLength(),e.shadowOffsetX=no.x,e.shadowOffsetY=no.y}},draw:function(e,i,f){var N=this._updateVersion=this._project._updateVersion;if(!this._visible||this._opacity===0)return;var{matrices:V,viewMatrix:X}=i,F=this._matrix,K=V[V.length-1].appended(F);if(!K.isInvertible())return;if(X=X?X.appended(K):K,V.push(K),i.updateMatrix)this._globalMatrix=K;var z=this._blendMode,J=M.clamp(this._opacity,0,1),ao=z==="normal",Y=Jo.nativeModes[z],G=ao&&J===1||i.dontStart||i.clip||(Y||ao&&J<1)&&this._canComposite(),no=i.pixelRatio||1,A,ro,No;if(!G){var oo=this.getStrokeBounds(X);if(!oo.width||!oo.height){V.pop();return}if(No=i.offset,ro=i.offset=oo.getTopLeft().floor(),A=e,e=Bo.getContext(oo.getSize().ceil().add(1).multiply(no)),no!==1)e.scale(no,no)}e.save();var eo=f?f.appended(F):this._canScaleStroke&&!this.getStrokeScaling(!0)&&X,so=!G&&i.clipItem,Q=!eo||so;if(G){if(e.globalAlpha=J,Y)e.globalCompositeOperation=z}else if(Q)e.translate(-ro.x,-ro.y);if(Q)(G?F:X).applyToContext(e);if(so)i.clipItem.draw(e,i.extend({clip:!0}));if(eo){e.setTransform(no,0,0,no,0,0);var lo=i.offset;if(lo)e.translate(-lo.x,-lo.y)}if(this._draw(e,i,X,eo),e.restore(),V.pop(),i.clip&&!i.dontFinish)e.clip(this.getFillRule());if(!G)Jo.process(z,e,A,J,ro.subtract(No).multiply(no)),Bo.release(e),i.offset=No},_isUpdated:function(e){var i=this._parent;if(i instanceof S)return i._isUpdated(e);var f=this._updateVersion===e;if(!f&&i&&i._visible&&i._isUpdated(e))this._updateVersion=e,f=!0;return f},_drawSelection:function(e,i,f,N,V){var X=this._selection,F=X&1,K=X&2||F&&this._selectBounds,z=X&4;if(!this._drawSelected)F=!1;if((F||K||z)&&this._isUpdated(V)){var J,ao=this.getSelectedColor(!0)||(J=this.getLayer())&&J.getSelectedColor(!0),Y=i.appended(this.getGlobalMatrix(!0)),G=f/2;if(e.strokeStyle=e.fillStyle=ao?ao.toCanvasStyle(e):"#009dec",F)this._drawSelected(e,Y,N);if(z){var no=this.getPosition(!0),A=this._parent,ro=A?A.localToGlobal(no):no,No=ro.x,oo=ro.y;e.beginPath(),e.arc(No,oo,G,0,Math.PI*2,!0),e.stroke();var eo=[[0,-1],[1,0],[0,1],[-1,0]],so=G,Q=f+1;for(var lo=0;lo<4;lo++){var _o=eo[lo],to=_o[0],bo=_o[1];e.moveTo(No+to*so,oo+bo*so),e.lineTo(No+to*Q,oo+bo*Q),e.stroke()}}if(K){var go=Y._transformCorners(this.getInternalBounds());e.beginPath();for(var lo=0;lo<8;lo++)e[!lo?"moveTo":"lineTo"](go[lo],go[++lo]);e.closePath(),e.stroke();for(var lo=0;lo<8;lo++)e.fillRect(go[lo]-G,go[++lo]-G,f,f)}}},_canComposite:function(){return!1}},k.each(["down","drag","up","move"],function(e){this["removeOn"+k.capitalize(e)]=function(){var i={};return i[e]=!0,this.removeOn(i)}},{removeOn:function(e){for(var i in e)if(e[i]){var f="mouse"+i,N=this._project,V=N._removeSets=N._removeSets||{};V[f]=V[f]||{},V[f][this._id]=this}return this}}),{tween:function(e,i,f){if(!f){if(f=i,i=e,e=null,!f)f=i,i=null}var N=f&&f.easing,V=f&&f.start,X=f!=null&&(typeof f==="number"?f:f.duration),F=new jo(this,e,i,X,N,V);function K(z){if(F._handleFrame(z.time*1000),!F.running)this.off("frame",K)}if(X)this.on("frame",K);return F},tweenTo:function(e,i){return this.tween(null,e,i)},tweenFrom:function(e,i){return this.tween(e,null,i)}}),To=po.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function e(i){if(this._children=[],this._namedChildren={},!this._initialize(i))this.addChildren(Array.isArray(i)?i:arguments)},_changed:function e(i){if(e.base.call(this,i),i&2050)this._clipItem=b},_getClipItem:function(){var e=this._clipItem;if(e===b){e=null;var i=this._children;for(var f=0,N=i.length;f<N;f++)if(i[f]._clipMask){e=i[f];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var i=this.getFirstChild();if(i)i.setClipMask(e)},_getBounds:function e(i,f){var N=this._getClipItem();return N?N._getCachedBounds(N._matrix.prepended(i),k.set({},f,{stroke:!1})):e.base.call(this,i,f)},_hitTestChildren:function e(i,f,N){var V=this._getClipItem();return(!V||V.contains(i))&&e.base.call(this,i,f,N,V)},_draw:function(e,i){var f=i.clip,N=!f&&this._getClipItem();if(i=i.extend({clipItem:N,clip:!1}),f)e.beginPath(),i.dontStart=i.dontFinish=!0;else if(N)N.draw(e,i.extend({clip:!0}));var V=this._children;for(var X=0,F=V.length;X<F;X++){var K=V[X];if(K!==N)K.draw(e,i)}}}),co=To.extend({_class:"Layer",initialize:function e(){To.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Lo=po.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function e(i,f){this._initialize(i,f)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&k.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new I(e.width,e.height,this,"setSize")},setSize:function(){var e=w.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var i=this._type,f=e.width,N=e.height;if(i==="rectangle")this._radius.set(w.min(this._radius,e.divide(2).abs()));else if(i==="circle")f=N=(f+N)/2,this._radius=f/2;else if(i==="ellipse")this._radius._set(f/2,N/2);this._size._set(f,N),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new I(e.width,e.height,this,"setRadius")},setRadius:function(e){var i=this._type;if(i==="circle"){if(e===this._radius)return;var f=e*2;this._radius=e,this._size._set(f,f)}else if(e=w.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),i==="rectangle"){var f=w.max(this._size,e.multiply(2));this._size.set(f)}else if(i==="ellipse")this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var i=new t[k.capitalize(this._type)]({center:new q,size:this._size,radius:this._radius,insert:!1});if(i.copyAttributes(this),O.settings.applyMatrix)i.setApplyMatrix(!0);if(e===b||e)i.insertAbove(this);return i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,i,f,N){var V=this._style,X=V.hasFill(),F=V.hasStroke(),K=i.dontFinish||i.clip,z=!N;if(X||F||K){var J=this._type,ao=this._radius,Y=J==="circle";if(!i.dontStart)e.beginPath();if(z&&Y)e.arc(0,0,ao,0,Math.PI*2,!0);else{var G=Y?ao:ao.width,no=Y?ao:ao.height,A=this._size,ro=A.width,No=A.height;if(z&&J==="rectangle"&&G===0&&no===0)e.rect(-ro/2,-No/2,ro,No);else{var oo=ro/2,eo=No/2,so=0.44771525016920644,Q=G*so,lo=no*so,_o=[-oo,-eo+no,-oo,-eo+lo,-oo+Q,-eo,-oo+G,-eo,oo-G,-eo,oo-Q,-eo,oo,-eo+lo,oo,-eo+no,oo,eo-no,oo,eo-lo,oo-Q,eo,oo-G,eo,-oo+G,eo,-oo+Q,eo,-oo,eo-lo,-oo,eo-no];if(N)N.transform(_o,_o,32);if(e.moveTo(_o[0],_o[1]),e.bezierCurveTo(_o[2],_o[3],_o[4],_o[5],_o[6],_o[7]),oo!==G)e.lineTo(_o[8],_o[9]);if(e.bezierCurveTo(_o[10],_o[11],_o[12],_o[13],_o[14],_o[15]),eo!==no)e.lineTo(_o[16],_o[17]);if(e.bezierCurveTo(_o[18],_o[19],_o[20],_o[21],_o[22],_o[23]),oo!==G)e.lineTo(_o[24],_o[25]);e.bezierCurveTo(_o[26],_o[27],_o[28],_o[29],_o[30],_o[31])}}e.closePath()}if(!K&&(X||F)){if(this._setStyles(e,i,f),X)e.fill(V.getFillRule()),e.shadowColor="rgba(0,0,0,0)";if(F)e.stroke()}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,i){var f=new W(this._size).setCenter(0,0),N=this._style,V=i.stroke&&N.hasStroke()&&N.getStrokeWidth();if(e)f=e._transformBounds(f);return V?f.expand(t._getStrokePadding(V,this._getStrokeMatrix(e,i))):f}},new function(){function e(f,N,V){var X=f._radius;if(!X.isZero()){var F=f._size.divide(2);for(var K=1;K<=4;K++){var z=new q(K>1&&K<4?-1:1,K>2?-1:1),J=z.multiply(F),ao=J.subtract(z.multiply(X)),Y=new W(V?J.add(z.multiply(V)):J,ao);if(Y.contains(N))return{point:ao,quadrant:K}}}}function i(f,N,V,X){var F=f.divide(N);return(!X||F.isInQuadrant(X))&&F.subtract(F.normalize()).multiply(N).divide(V).length<=1}return{_contains:function f(N){if(this._type==="rectangle"){var V=e(this,N);return V?N.subtract(V.point).divide(this._radius).getLength()<=1:f.base.call(this,N)}else return N.divide(this.size).getLength()<=0.5},_hitTestSelf:function f(N,V,X,F){var K=!1,z=this._style,J=V.stroke&&z.hasStroke(),ao=V.fill&&z.hasFill();if(J||ao){var Y=this._type,G=this._radius,no=J?z.getStrokeWidth()/2:0,A=V._tolerancePadding.add(t._getStrokePadding(no,!z.getStrokeScaling()&&F));if(Y==="rectangle"){var ro=A.multiply(2),No=e(this,N,ro);if(No)K=i(N.subtract(No.point),G,A,No.quadrant);else{var oo=new W(this._size).setCenter(0,0),eo=oo.expand(ro),so=oo.expand(ro.negate());K=eo._containsPoint(N)&&!so._containsPoint(N)}}else K=i(N,G,A)}return K?new s(J?"stroke":"fill",this):f.base.apply(this,arguments)}}},{statics:new function(){function e(i,f,N,V,X){var F=k.create(Lo.prototype);return F._type=i,F._size=N,F._radius=V,F._initialize(k.getNamed(X),f),F}return{Circle:function(){var i=arguments,f=q.readNamed(i,"center"),N=k.readNamed(i,"radius");return e("circle",f,new w(N*2),N,i)},Rectangle:function(){var i=arguments,f=W.readNamed(i,"rectangle"),N=w.min(w.readNamed(i,"radius"),f.getSize(!0).divide(2));return e("rectangle",f.getCenter(!0),f.getSize(!0),N,i)},Ellipse:function(){var i=arguments,f=Lo._readEllipse(i),N=f.radius;return e("ellipse",f.center,N.multiply(2),N,i)},_readEllipse:function(i){var f,N;if(k.hasNamed(i,"radius"))f=q.readNamed(i,"center"),N=w.readNamed(i,"radius");else{var V=W.readNamed(i,"rectangle");f=V.getCenter(!0),N=V.getSize(!0).divide(2)}return{center:f,radius:N}}}}}),o=po.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function e(i,f){if(!this._initialize(i,f!==b&&q.read(arguments))){var N,V=typeof i,X=V==="string"?u.getElementById(i):V==="object"?i:null;if(X&&X!==po.NO_INSERT){if(X.getContext||X.naturalHeight!=null)N=X;else if(X){var F=w.read(arguments);if(!F.isZero())N=Bo.getCanvas(F)}}if(N)this.setImage(N);else this.setSource(i)}if(!this._size)this._size=new w,this._loaded=!1},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var{_image:i,_canvas:f}=e;if(i)this._setImage(i);else if(f){var N=Bo.getCanvas(e._size);N.getContext("2d").drawImage(f,0,0),this._setImage(N)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new I(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,i){var f=w.read(arguments);if(!f.equals(this._size))if(f.width>0&&f.height>0){var N=!i&&this.getElement();if(this._setImage(Bo.getCanvas(f)),N)this.getContext(!0).drawImage(N,0,0,f.width,f.height)}else{if(this._canvas)Bo.release(this._canvas);this._size=f.clone()}else if(i)this.clear()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,i=new q(0,0).transform(e),f=new q(1,0).transform(e).subtract(i),N=new q(0,1).transform(e).subtract(i);return new w(72/f.getLength(),72/N.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var i=this;function f(N){var V=i.getView(),X=N&&N.type||"load";if(V&&i.responds(X))O=V._scope,i.emit(X,new j(N))}if(this._setImage(e),this._loaded)setTimeout(f,0);else if(e)qo.add(e,{load:function(N){i._setImage(e),f(N)},error:f})},_setImage:function(e){if(this._canvas)Bo.release(this._canvas);if(e&&e.getContext)this._image=null,this._canvas=e,this._loaded=!0;else this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete);this._size=new w(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=Bo.getContext(this._size);try{if(this._image)e.drawImage(this._image,0,0);this._canvas=e.canvas}catch(i){Bo.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){if(!this._context)this._context=this.getCanvas().getContext("2d");if(e)this._image=null,this._changed(1025);return this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var i=new v.Image,f=this._crossOrigin;if(f)i.crossOrigin=f;if(e)i.src=e;this.setImage(i)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var i=this._image;if(i)i.crossOrigin=e},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e==="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=W.read(arguments),i=Bo.getContext(e.getSize());return i.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),i.canvas},getSubRaster:function(){var e=W.read(arguments),i=new o(po.NO_INSERT);return i._setImage(this.getSubCanvas(e)),i.translate(e.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var e=this._image,i=e&&e.src;if(/^data:/.test(i))return i;var f=this.getCanvas();return f?f.toDataURL.apply(f,arguments):null},drawImage:function(e){var i=q.read(arguments,1);this.getContext(!0).drawImage(e,i.x,i.y)},getAverageColor:function(e){var i,f;if(!e)i=this.getBounds();else if(e instanceof a)f=e,i=e.getBounds();else if(typeof e==="object"){if("width"in e)i=new W(e);else if("x"in e)i=new W(e.x-0.5,e.y-0.5,1,1)}if(!i)return null;var N=32,V=Math.min(i.width,N),X=Math.min(i.height,N),F=o._sampleContext;if(!F)F=o._sampleContext=Bo.getContext(new w(N));else F.clearRect(0,0,N+1,N+1);F.save();var K=new D().scale(V/i.width,X/i.height).translate(-i.x,-i.y);if(K.applyToContext(F),f)f.draw(F,new k({clip:!0,matrices:[K]}));this._matrix.applyToContext(F);var z=this.getElement(),J=this._size;if(z)F.drawImage(z,-J.width/2,-J.height/2);F.restore();var ao=F.getImageData(0.5,0.5,Math.ceil(V),Math.ceil(X)).data,Y=[0,0,0],G=0;for(var no=0,A=ao.length;no<A;no+=4){var ro=ao[no+3];G+=ro,ro/=255,Y[0]+=ao[no]*ro,Y[1]+=ao[no+1]*ro,Y[2]+=ao[no+2]*ro}for(var no=0;no<3;no++)Y[no]/=G;return G?xo.read(Y):null},getPixel:function(){var e=q.read(arguments),i=this.getContext().getImageData(e.x,e.y,1,1).data;return new xo("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var e=arguments,i=q.read(e),f=xo.read(e),N=f._convert("rgb"),V=f._alpha,X=this.getContext(!0),F=X.createImageData(1,1),K=F.data;K[0]=N[0]*255,K[1]=N[1]*255,K[2]=N[2]*255,K[3]=V!=null?V*255:255,X.putImageData(F,i.x,i.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=w.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=W.read(arguments);if(e.isEmpty())e=new W(this._size);return this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var i=q.read(arguments,1);this.getContext(!0).putImageData(e,i.x,i.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,i){var f=new W(this._size).setCenter(0,0);return e?e._transformBounds(f):f},_hitTestSelf:function(e){if(this._contains(e)){var i=this;return new s("pixel",i,{offset:e.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(e,i,f){var N=this.getElement();if(N&&N.width>0&&N.height>0){e.globalAlpha=M.clamp(this._opacity,0,1),this._setStyles(e,i,f);var V=this._smoothing,X=V==="off";Io.setPrefixed(e,X?"imageSmoothingEnabled":"imageSmoothingQuality",X?!1:V),e.drawImage(N,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),n=po.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function e(i,f){if(!this._initialize(i,f!==b&&q.read(arguments,1)))this.setDefinition(i instanceof c?i:new c(i))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,i){var f=this._definition._item;return f._getCachedBounds(f._matrix.prepended(e),i)},_hitTestSelf:function(e,i,f){var N=i.extend({all:!1}),V=this._definition._item._hitTest(e,N,f);if(V)V.item=this;return V},_draw:function(e,i){this._definition._item.draw(e,i)}}),c=k.extend({_class:"SymbolDefinition",initialize:function e(i,f){if(this._id=$.get(),this.project=O.project,i)this.setItem(i,f)},_serialize:function(e,i){return i.add(this,function(){return k.serialize([this._class,this._item],e,!1,i)})},_changed:function(e){if(e&8)po._clearBoundsCache(this);if(e&1)this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,i){if(e._symbol)e=e.clone();if(this._item)this._item._symbol=null;if(this._item=e,e.remove(),e.setSelected(!1),!i)e.setPosition(new q);e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new n(this,e)},clone:function(){return new c(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),s=k.extend({_class:"HitResult",initialize:function e(i,f,N){if(this.type=i,this.item=f,N)this.inject(N)},statics:{getOptions:function(e){var i=e&&k.read(e);return new k({type:null,tolerance:O.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),m=k.extend({_class:"Segment",beans:!0,_selection:0,initialize:function e(i,f,N,V,X,F){var K=arguments.length,z,J,ao,Y;if(K>0)if(i==null||typeof i==="object")if(K===1&&i&&"point"in i)z=i.point,J=i.handleIn,ao=i.handleOut,Y=i.selection;else z=i,J=f,ao=N,Y=V;else z=[i,f],J=N!==b?[N,V]:null,ao=X!==b?[X,F]:null;if(new _(z,this,"_point"),new _(J,this,"_handleIn"),new _(ao,this,"_handleOut"),Y)this.setSelection(Y)},_serialize:function(e,i){var f=this._point,N=this._selection,V=N||this.hasHandles()?[f,this._handleIn,this._handleOut]:f;if(N)V.push(N);return k.serialize(V,e,!0,i)},_changed:function(e){var i=this._path;if(!i)return;var f=i._curves,N=this._index,V;if(f){if((!e||e===this._point||e===this._handleIn)&&(V=N>0?f[N-1]:i._closed?f[f.length-1]:null))V._changed();if((!e||e===this._point||e===this._handleOut)&&(V=f[N]))V._changed()}i._changed(41)},getPoint:function(){return this._point},setPoint:function(){this._point.set(q.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(q.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(q.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,i=this._handleOut;return!e.isZero()&&!i.isZero()&&e.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var i=this._selection,f=this._path;if(this._selection=e=e||0,f&&e!==i)f._updateSelection(this,i,e),f._changed(257)},_changeSelection:function(e,i){var f=this._selection;this.setSelection(i?f|e:f&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==b?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,i=this._index;if(e){if(i>0&&!e._closed&&i===e._segments.length-1)i--;return e.getCurves()[i]||null}return null},getLocation:function(){var e=this.getCurve();return e?new d(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,i,f){var N=e||{},V=N.type,X=N.factor,F=this.getPrevious(),K=this.getNext(),z=(F||this)._point,J=this._point,ao=(K||this)._point,Y=z.getDistance(J),G=J.getDistance(ao);if(!V||V==="catmull-rom"){var no=X===b?0.5:X,A=Math.pow(Y,no),ro=A*A,No=Math.pow(G,no),oo=No*No;if(!i&&F){var eo=2*oo+3*No*A+ro,so=3*No*(No+A);this.setHandleIn(so!==0?new q((oo*z._x+eo*J._x-ro*ao._x)/so-J._x,(oo*z._y+eo*J._y-ro*ao._y)/so-J._y):new q)}if(!f&&K){var eo=2*ro+3*A*No+oo,so=3*A*(A+No);this.setHandleOut(so!==0?new q((ro*ao._x+eo*J._x-oo*z._x)/so-J._x,(ro*ao._y+eo*J._y-oo*z._y)/so-J._y):new q)}}else if(V==="geometric"){if(F&&K){var Q=z.subtract(ao),lo=X===b?0.4:X,_o=lo*Y/(Y+G);if(!i)this.setHandleIn(Q.multiply(_o));if(!f)this.setHandleOut(Q.multiply(_o-lo))}}else throw new Error("Smoothing method \'"+V+"\' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,i=this._handleOut,f=e.clone();e.set(i),i.set(f)},reversed:function(){return new m(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new m(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];if(!this._handleIn.isZero())e.push("handleIn: "+this._handleIn);if(!this._handleOut.isZero())e.push("handleOut: "+this._handleOut);return"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,i,f){var N=1-f,V=f,X=e._point,F=i._point,K=e._handleIn,z=i._handleIn,J=i._handleOut,ao=e._handleOut;this._point._set(N*X._x+V*F._x,N*X._y+V*F._y,!0),this._handleIn._set(N*K._x+V*z._x,N*K._y+V*z._y,!0),this._handleOut._set(N*ao._x+V*J._x,N*ao._y+V*J._y,!0),this._changed()},_transformCoordinates:function(e,i,f){var N=this._point,V=!f||!this._handleIn.isZero()?this._handleIn:null,X=!f||!this._handleOut.isZero()?this._handleOut:null,F=N._x,K=N._y,z=2;if(i[0]=F,i[1]=K,V)i[z++]=V._x+F,i[z++]=V._y+K;if(X)i[z++]=X._x+F,i[z++]=X._y+K;if(e)if(e._transformCoordinates(i,i,z/2),F=i[0],K=i[1],f){if(N._x=F,N._y=K,z=2,V)V._x=i[z++]-F,V._y=i[z++]-K;if(X)X._x=i[z++]-F,X._y=i[z++]-K}else{if(!V)i[z++]=F,i[z++]=K;if(!X)i[z++]=F,i[z++]=K}return i}}),_=q.extend({initialize:function e(i,f,N){var V,X,F;if(!i)V=X=0;else if((V=i[0])!==b)X=i[1];else{var K=i;if((V=K.x)===b)K=q.read(arguments),V=K.x;X=K.y,F=K.selected}if(this._x=V,this._y=X,this._owner=f,f[N]=this,F)this.setSelected(!0)},_set:function(e,i){return this._x=e,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=M.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),h=k.extend({_class:"Curve",beans:!0,initialize:function e(i,f,N,V,X,F,K,z){var J=arguments.length,ao,Y,G,no,A,ro;if(J===3)this._path=i,ao=f,Y=N;else if(!J)ao=new m,Y=new m;else if(J===1){if("segment1"in i)ao=new m(i.segment1),Y=new m(i.segment2);else if("point1"in i)G=i.point1,A=i.handle1,ro=i.handle2,no=i.point2;else if(Array.isArray(i))G=[i[0],i[1]],no=[i[6],i[7]],A=[i[2]-i[0],i[3]-i[1]],ro=[i[4]-i[6],i[5]-i[7]]}else if(J===2)ao=new m(i),Y=new m(f);else if(J===4)G=i,A=f,ro=N,no=V;else if(J===8)G=[i,f],no=[K,z],A=[N-i,V-f],ro=[X-K,F-z];this._segment1=ao||new m(G,null,A),this._segment2=Y||new m(no,ro,null)},_serialize:function(e,i){return k.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,i)},_changed:function(){this._length=this._bounds=b},clone:function(){return new h(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];if(!this._segment1._handleOut.isZero())e.push("handle1: "+this._segment1._handleOut);if(!this._segment2._handleIn.isZero())e.push("handle2: "+this._segment2._handleIn);return e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return h.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var i=this._segment2,f=i._handleOut;if(e=i.remove(),e)this._segment1._handleOut.set(f)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(q.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(q.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(q.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(q.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return h.getValues(this._segment1,this._segment2,e)},getPoints:function(){var e=this.getValues(),i=[];for(var f=0;f<8;f+=2)i.push(new q(e[f],e[f+1]));return i}},{getLength:function(){if(this._length==null)this._length=h.getLength(this.getValues(),0,1);return this._length},getArea:function(){return h.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(e,i){return new h(h.getPart(this.getValues(),e,i))},getPartLength:function(e,i){return h.getLength(this.getValues(),e,i)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,i){var f=0.00000001,N=1-f,V=null;if(e>=f&&e<=N){var X=h.subdivide(this.getValues(),e),F=X[0],K=X[1],z=i||this.hasHandles(),J=this._segment1,ao=this._segment2,Y=this._path;if(z)J._handleOut._set(F[2]-F[0],F[3]-F[1]),ao._handleIn._set(K[4]-K[6],K[5]-K[7]);var G=F[6],no=F[7],A=new m(new q(G,no),z&&new q(F[4]-G,F[5]-no),z&&new q(K[2]-G,K[3]-no));if(Y)Y.insert(J._index+1,A),V=this.getNext();else this._segment2=A,this._changed(),V=new h(A,ao)}return V},splitAt:function(e){var i=this._path;return i?i.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,i){return this.divideAtTime(e===b?0.5:i?e:this.getTimeAt(e))},split:function(e,i){return this.splitAtTime(e===b?0.5:i?e:this.getTimeAt(e))},reversed:function(){return new h(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,i,f,N){var{_point:V,_handleOut:X}=e,F=i._handleIn,K=i._point,z=V.x,J=V.y,ao=K.x,Y=K.y,G=N?[z,J,z,J,ao,Y,ao,Y]:[z,J,z+X._x,J+X._y,ao+F._x,Y+F._y,ao,Y];if(f)f._transformCoordinates(G,G,4);return G},subdivide:function(e,i){var f=e[0],N=e[1],V=e[2],X=e[3],F=e[4],K=e[5],z=e[6],J=e[7];if(i===b)i=0.5;var ao=1-i,Y=ao*f+i*V,G=ao*N+i*X,no=ao*V+i*F,A=ao*X+i*K,ro=ao*F+i*z,No=ao*K+i*J,oo=ao*Y+i*no,eo=ao*G+i*A,so=ao*no+i*ro,Q=ao*A+i*No,lo=ao*oo+i*so,_o=ao*eo+i*Q;return[[f,N,Y,G,oo,eo,lo,_o],[lo,_o,so,Q,ro,No,z,J]]},getMonoCurves:function(e,i){var f=[],N=i?0:1,V=e[N+0],X=e[N+2],F=e[N+4],K=e[N+6];if(V>=X===X>=F&&X>=F===F>=K||h.isStraight(e))f.push(e);else{var z=3*(X-F)-V+K,J=2*(V+F)-4*X,ao=X-V,Y=0.00000001,G=1-Y,no=[],A=M.solveQuadratic(z,J,ao,no,Y,G);if(!A)f.push(e);else{no.sort();var ro=no[0],No=h.subdivide(e,ro);if(f.push(No[0]),A>1)ro=(no[1]-ro)/(1-ro),No=h.subdivide(No[1],ro),f.push(No[0]);f.push(No[1])}}return f},solveCubic:function(e,i,f,N,V,X){var F=e[i],K=e[i+2],z=e[i+4],J=e[i+6],ao=0;if(!(F<f&&J<f&&K<f&&z<f||F>f&&J>f&&K>f&&z>f)){var Y=3*(K-F),G=3*(z-K)-Y,no=J-F-Y-G;ao=M.solveCubic(no,G,Y,F-f,N,V,X)}return ao},getTimeOf:function(e,i){var f=new q(e[0],e[1]),N=new q(e[6],e[7]),V=0.000000000001,X=0.0000001,F=i.isClose(f,V)?0:i.isClose(N,V)?1:null;if(F===null){var K=[i.x,i.y],z=[];for(var J=0;J<2;J++){var ao=h.solveCubic(e,J,K[J],z,0,1);for(var Y=0;Y<ao;Y++){var G=z[Y];if(i.isClose(h.getPoint(e,G),X))return G}}}return i.isClose(f,X)?0:i.isClose(N,X)?1:null},getNearestTime:function(e,i){if(h.isStraight(e)){var f=e[0],N=e[1],V=e[6],X=e[7],F=V-f,K=X-N,z=F*F+K*K;if(z===0)return 0;var J=((i.x-f)*F+(i.y-N)*K)/z;return J<0.000000000001?0:J>0.999999999999?1:h.getTimeOf(e,new q(f+J*F,N+J*K))}var ao=100,Y=1/0,G=0;function no(No){if(No>=0&&No<=1){var oo=i.getDistance(h.getPoint(e,No),!0);if(oo<Y)return Y=oo,G=No,!0}}for(var A=0;A<=ao;A++)no(A/ao);var ro=1/(ao*2);while(ro>0.00000001)if(!no(G-ro)&&!no(G+ro))ro/=2;return G},getPart:function(e,i,f){var N=i>f;if(N){var V=i;i=f,f=V}if(i>0)e=h.subdivide(e,i)[1];if(f<1)e=h.subdivide(e,(f-i)/(1-i))[0];return N?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,i){var f=e[0],N=e[1],V=e[2],X=e[3],F=e[4],K=e[5],z=e[6],J=e[7],ao=3*V-2*f-z,Y=3*X-2*N-J,G=3*F-2*z-f,no=3*K-2*J-N;return Math.max(ao*ao,G*G)+Math.max(Y*Y,no*no)<=16*i*i},getArea:function(e){var i=e[0],f=e[1],N=e[2],V=e[3],X=e[4],F=e[5],K=e[6],z=e[7];return 3*((z-f)*(N+X)-(K-i)*(V+F)+V*(i-X)-N*(f-F)+z*(X+i/3)-K*(F+f/3))/20},getBounds:function(e){var i=e.slice(0,2),f=i.slice(),N=[0,0];for(var V=0;V<2;V++)h._addBounds(e[V],e[V+2],e[V+4],e[V+6],V,0,i,f,N);return new W(i[0],i[1],f[0]-i[0],f[1]-i[1])},_addBounds:function(e,i,f,N,V,X,F,K,z){function J(lo,_o){var to=lo-_o,bo=lo+_o;if(to<F[V])F[V]=to;if(bo>K[V])K[V]=bo}X/=2;var ao=F[V]+X,Y=K[V]-X;if(e<ao||i<ao||f<ao||N<ao||e>Y||i>Y||f>Y||N>Y)if(i<e!=i<N&&f<e!=f<N)J(e,0),J(N,0);else{var G=3*(i-f)-e+N,no=2*(e+f)-4*i,A=i-e,ro=M.solveQuadratic(G,no,A,z),No=0.00000001,oo=1-No;J(N,0);for(var eo=0;eo<ro;eo++){var so=z[eo],Q=1-so;if(No<=so&&so<=oo)J(Q*Q*Q*e+3*Q*Q*so*i+3*Q*so*so*f+so*so*so*N,X)}}}}},k.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){if(!this._bounds)this._bounds={};var i=this._bounds[e];if(!i)i=this._bounds[e]=t[e]([this._segment1,this._segment2],!1,this._path);return i.clone()}},{}),k.each({isStraight:function(e,i,f,N){if(i.isZero()&&f.isZero())return!0;else{var V=N.subtract(e);if(V.isZero())return!1;else if(V.isCollinear(i)&&V.isCollinear(f)){var X=new C(e,N),F=0.0000001;if(X.getDistance(e.add(i))<F&&X.getDistance(N.add(f))<F){var K=V.dot(V),z=V.dot(i)/K,J=V.dot(f)/K;return z>=0&&z<=1&&J<=0&&J>=-1}}}return!1},isLinear:function(e,i,f,N){var V=N.subtract(e).divide(3);return i.equals(V)&&f.negate().equals(V)}},function(e,i){this[i]=function(f){var N=this._segment1,V=this._segment2;return e(N._point,N._handleOut,V._handleIn,V._point,f)},this.statics[i]=function(f,N){var V=f[0],X=f[1],F=f[6],K=f[7];return e(new q(V,X),new q(f[2]-V,f[3]-X),new q(f[4]-F,f[5]-K),new q(F,K),N)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).y)<0.00000001},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).x)<0.00000001}}),{beans:!1,getLocationAt:function(e,i){return this.getLocationAtTime(i?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new d(this,e):null},getTimeAt:function(e,i){return h.getTimeAt(this.getValues(),e,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=q.read(arguments);return e.isZero()?[]:h.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(q.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return h.getTimeOf(this.getValues(),q.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=q.read(arguments),i=this.getValues(),f=h.getNearestTime(i,e),N=h.getPoint(i,f);return new d(this,f,N,null,e.getDistance(N))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return k.each(e,function(i){this[i+"At"]=function(f,N){var V=this.getValues();return h[i](V,N?f:h.getTimeAt(V,f))},this[i+"AtTime"]=function(f){return h[i](this.getValues(),f)}},{statics:{_evaluateMethods:e}})},new function(){function e(N){var V=N[0],X=N[1],F=N[2],K=N[3],z=N[4],J=N[5],ao=N[6],Y=N[7],G=9*(F-z)+3*(ao-V),no=6*(V+z)-12*F,A=3*(F-V),ro=9*(K-J)+3*(Y-X),No=6*(X+J)-12*K,oo=3*(K-X);return function(eo){var so=(G*eo+no)*eo+A,Q=(ro*eo+No)*eo+oo;return Math.sqrt(so*so+Q*Q)}}function i(N,V){return Math.max(2,Math.min(16,Math.ceil(Math.abs(V-N)*32)))}function f(N,V,X,F){if(V==null||V<0||V>1)return null;var K=N[0],z=N[1],J=N[2],ao=N[3],Y=N[4],G=N[5],no=N[6],A=N[7],ro=M.isZero;if(ro(J-K)&&ro(ao-z))J=K,ao=z;if(ro(Y-no)&&ro(G-A))Y=no,G=A;var No=3*(J-K),oo=3*(Y-J)-No,eo=no-K-No-oo,so=3*(ao-z),Q=3*(G-ao)-so,lo=A-z-so-Q,_o,to;if(X===0)_o=V===0?K:V===1?no:((eo*V+oo)*V+No)*V+K,to=V===0?z:V===1?A:((lo*V+Q)*V+so)*V+z;else{var bo=0.00000001,go=1-bo;if(V<bo)_o=No,to=so;else if(V>go)_o=3*(no-Y),to=3*(A-G);else _o=(3*eo*V+2*oo)*V+No,to=(3*lo*V+2*Q)*V+so;if(F){if(_o===0&&to===0&&(V<bo||V>go))_o=Y-J,to=G-ao;var ho=Math.sqrt(_o*_o+to*to);if(ho)_o/=ho,to/=ho}if(X===3){var Y=6*eo*V+2*oo,G=6*lo*V+2*Q,yo=Math.pow(_o*_o+to*to,1.5);_o=yo!==0?(_o*G-to*Y)/yo:0,to=0}}return X===2?new q(to,-_o):new q(_o,to)}return{statics:{classify:function(N){var V=N[0],X=N[1],F=N[2],K=N[3],z=N[4],J=N[5],ao=N[6],Y=N[7],G=V*(Y-J)+X*(z-ao)+ao*J-Y*z,no=F*(X-Y)+K*(ao-V)+V*Y-X*ao,A=z*(K-X)+J*(V-F)+F*X-K*V,ro=3*A,No=ro-no,oo=No-no+G,eo=Math.sqrt(oo*oo+No*No+ro*ro),so=eo!==0?1/eo:0,Q=M.isZero,lo="serpentine";oo*=so,No*=so,ro*=so;function _o(ho,yo,So){var Ro=yo!==b,Zo=Ro&&yo>0&&yo<1,wo=Ro&&So>0&&So<1;if(Ro&&(!(Zo||wo)||ho==="loop"&&!(Zo&&wo)))ho="arch",Zo=wo=!1;return{type:ho,roots:Zo||wo?Zo&&wo?yo<So?[yo,So]:[So,yo]:[Zo?yo:So]:null}}if(Q(oo))return Q(No)?_o(Q(ro)?"line":"quadratic"):_o(lo,ro/(3*No));var to=3*No*No-4*oo*ro;if(Q(to))return _o("cusp",No/(2*oo));var bo=to>0?Math.sqrt(to/3):Math.sqrt(-to),go=2*oo;return _o(to>0?lo:"loop",(No+bo)/go,(No-bo)/go)},getLength:function(N,V,X,F){if(V===b)V=0;if(X===b)X=1;if(h.isStraight(N)){var K=N;if(X<1)K=h.subdivide(K,X)[0],V/=X;if(V>0)K=h.subdivide(K,V)[1];var z=K[6]-K[0],J=K[7]-K[1];return Math.sqrt(z*z+J*J)}return M.integrate(F||e(N),V,X,i(V,X))},getTimeAt:function(N,V,X){if(X===b)X=V<0?1:0;if(V===0)return X;var F=Math.abs,K=0.000000000001,z=V>0,J=z?X:0,ao=z?1:X,Y=e(N),G=h.getLength(N,J,ao,Y),no=F(V)-G;if(F(no)<K)return z?ao:J;else if(no>K)return null;var A=V/G,ro=0;function No(oo){return ro+=M.integrate(Y,X,oo,i(X,oo)),X=oo,ro-V}return M.findRoot(No,Y,X+A,J,ao,32,0.000000000001)},getPoint:function(N,V){return f(N,V,0,!1)},getTangent:function(N,V){return f(N,V,1,!0)},getWeightedTangent:function(N,V){return f(N,V,1,!1)},getNormal:function(N,V){return f(N,V,2,!0)},getWeightedNormal:function(N,V){return f(N,V,2,!1)},getCurvature:function(N,V){return f(N,V,3,!1).x},getPeaks:function(N){var V=N[0],X=N[1],F=N[2],K=N[3],z=N[4],J=N[5],ao=N[6],Y=N[7],G=-V+3*F-3*z+ao,no=3*V-6*F+3*z,A=-3*V+3*F,ro=-X+3*K-3*J+Y,No=3*X-6*K+3*J,oo=-3*X+3*K,eo=0.00000001,so=1-eo,Q=[];return M.solveCubic(9*(G*G+ro*ro),9*(G*no+No*ro),2*(no*no+No*No)+3*(A*G+oo*ro),A*no+No*oo,Q,eo,so),Q.sort()}}}},new function(){function e(no,A,ro,No,oo,eo,so){var Q=!so&&ro.getPrevious()===oo,lo=!so&&ro!==oo&&ro.getNext()===oo,_o=0.00000001,to=1-_o;if(No!==null&&No>=(Q?_o:0)&&No<=(lo?to:1)){if(eo!==null&&eo>=(lo?_o:0)&&eo<=(Q?to:1)){var bo=new d(ro,No,null,so),go=new d(oo,eo,null,so);if(bo._intersection=go,go._intersection=bo,!A||A(bo))d.insert(no,bo,!0)}}}function i(no,A,ro,No,oo,eo,so,Q,lo,_o,to,bo,go){if(++lo>=4096||++Q>=40)return lo;var ho=0.000000001,yo=A[0],So=A[1],Ro=A[6],Zo=A[7],wo=C.getSignedDistance,Mo=wo(yo,So,Ro,Zo,A[2],A[3]),Xo=wo(yo,So,Ro,Zo,A[4],A[5]),Eo=Mo*Xo>0?0.75:0.4444444444444444,Ko=Eo*Math.min(0,Mo,Xo),Po=Eo*Math.max(0,Mo,Xo),Co=wo(yo,So,Ro,Zo,no[0],no[1]),Yo=wo(yo,So,Ro,Zo,no[2],no[3]),Ao=wo(yo,So,Ro,Zo,no[4],no[5]),Go=wo(yo,So,Ro,Zo,no[6],no[7]),oa=f(Co,Yo,Ao,Go),Qo=oa[0],ra=oa[1],aa,sa;if(Mo===0&&Xo===0&&Co===0&&Yo===0&&Ao===0&&Go===0||(aa=N(Qo,ra,Ko,Po))==null||(sa=N(Qo.reverse(),ra.reverse(),Ko,Po))==null)return lo;var la=_o+(to-_o)*aa,na=_o+(to-_o)*sa;if(Math.max(go-bo,na-la)<ho){var ta=(la+na)/2,da=(bo+go)/2;e(oo,eo,so?No:ro,so?da:ta,so?ro:No,so?ta:da)}else{no=h.getPart(no,aa,sa);var _a=go-bo;if(sa-aa>0.8)if(na-la>_a){var ua=h.subdivide(no,0.5),ta=(la+na)/2;lo=i(A,ua[0],No,ro,oo,eo,!so,Q,lo,bo,go,la,ta),lo=i(A,ua[1],No,ro,oo,eo,!so,Q,lo,bo,go,ta,na)}else{var ua=h.subdivide(A,0.5),da=(bo+go)/2;lo=i(ua[0],no,No,ro,oo,eo,!so,Q,lo,bo,da,la,na),lo=i(ua[1],no,No,ro,oo,eo,!so,Q,lo,da,go,la,na)}else if(_a===0||_a>=ho)lo=i(A,no,No,ro,oo,eo,!so,Q,lo,bo,go,la,na);else lo=i(no,A,ro,No,oo,eo,so,Q,lo,la,na,bo,go)}return lo}function f(no,A,ro,No){var oo=[0,no],eo=[0.3333333333333333,A],so=[0.6666666666666666,ro],Q=[1,No],lo=A-(2*no+No)/3,_o=ro-(no+2*No)/3,to;if(lo*_o<0)to=[[oo,eo,Q],[oo,so,Q]];else{var bo=lo/_o;to=[bo>=2?[oo,eo,Q]:bo<=0.5?[oo,so,Q]:[oo,eo,so,Q],[oo,Q]]}return(lo||_o)<0?to.reverse():to}function N(no,A,ro,No){if(no[0][1]<ro)return V(no,!0,ro);else if(A[0][1]>No)return V(A,!1,No);else return no[0][0]}function V(no,A,ro){var No=no[0][0],oo=no[0][1];for(var eo=1,so=no.length;eo<so;eo++){var Q=no[eo][0],lo=no[eo][1];if(A?lo>=ro:lo<=ro)return lo===ro?Q:No+(ro-oo)*(Q-No)/(lo-oo);No=Q,oo=lo}return null}function X(no,A,ro,No,oo){var eo=M.isZero;if(eo(No)&&eo(oo)){var so=h.getTimeOf(no,new q(A,ro));return so===null?[]:[so]}var Q=Math.atan2(-oo,No),lo=Math.sin(Q),_o=Math.cos(Q),to=[],bo=[];for(var go=0;go<8;go+=2){var ho=no[go]-A,yo=no[go+1]-ro;to.push(ho*_o-yo*lo,ho*lo+yo*_o)}return h.solveCubic(to,1,0,bo,0,1),bo}function F(no,A,ro,No,oo,eo,so){var Q=A[0],lo=A[1],_o=A[6],to=A[7],bo=X(no,Q,lo,_o-Q,to-lo);for(var go=0,ho=bo.length;go<ho;go++){var yo=bo[go],So=h.getPoint(no,yo),Ro=h.getTimeOf(A,So);if(Ro!==null)e(oo,eo,so?No:ro,so?Ro:yo,so?ro:No,so?yo:Ro)}}function K(no,A,ro,No,oo,eo){var so=C.intersect(no[0],no[1],no[6],no[7],A[0],A[1],A[6],A[7]);if(so)e(oo,eo,ro,h.getTimeOf(no,so),No,h.getTimeOf(A,so))}function z(no,A,ro,No,oo,eo){var so=0.000000000001,Q=Math.min,lo=Math.max;if(lo(no[0],no[2],no[4],no[6])+so>Q(A[0],A[2],A[4],A[6])&&Q(no[0],no[2],no[4],no[6])-so<lo(A[0],A[2],A[4],A[6])&&lo(no[1],no[3],no[5],no[7])+so>Q(A[1],A[3],A[5],A[7])&&Q(no[1],no[3],no[5],no[7])-so<lo(A[1],A[3],A[5],A[7])){var _o=Y(no,A);if(_o)for(var to=0;to<2;to++){var bo=_o[to];e(oo,eo,ro,bo[0],No,bo[1],!0)}else{var go=h.isStraight(no),ho=h.isStraight(A),yo=go&&ho,So=go&&!ho,Ro=oo.length;if((yo?K:go||ho?F:i)(So?A:no,So?no:A,So?No:ro,So?ro:No,oo,eo,So,0,0,0,1,0,1),!yo||oo.length===Ro)for(var to=0;to<4;to++){var Zo=to>>1,wo=to&1,Mo=Zo*6,Xo=wo*6,Eo=new q(no[Mo],no[Mo+1]),Ko=new q(A[Xo],A[Xo+1]);if(Eo.isClose(Ko,so))e(oo,eo,ro,Zo,No,wo)}}}return oo}function J(no,A,ro,No){var oo=h.classify(no);if(oo.type==="loop"){var eo=oo.roots;e(ro,No,A,eo[0],A,eo[1])}return ro}function ao(no,A,ro,No,oo,eo){var so=0.0000001,Q=!A;if(Q)A=no;var lo=no.length,_o=A.length,to=new Array(lo),bo=Q?to:new Array(_o),go=[];for(var ho=0;ho<lo;ho++)to[ho]=no[ho].getValues(No);if(!Q)for(var ho=0;ho<_o;ho++)bo[ho]=A[ho].getValues(oo);var yo=Z.findCurveBoundsCollisions(to,bo,so);for(var So=0;So<lo;So++){var Ro=no[So],Zo=to[So];if(Q)J(Zo,Ro,go,ro);var wo=yo[So];if(wo)for(var Mo=0;Mo<wo.length;Mo++){if(eo&&go.length)return go;var Xo=wo[Mo];if(!Q||Xo>So){var Eo=A[Xo],Ko=bo[Xo];z(Zo,Ko,Ro,Eo,go,ro)}}}return go}function Y(no,A){function ro(Go){var oa=Go[6]-Go[0],Qo=Go[7]-Go[1];return oa*oa+Qo*Qo}var No=Math.abs,oo=C.getDistance,eo=0.00000001,so=0.0000001,Q=h.isStraight(no),lo=h.isStraight(A),_o=Q&&lo,to=ro(no)<ro(A),bo=to?A:no,go=to?no:A,ho=bo[0],yo=bo[1],So=bo[6]-ho,Ro=bo[7]-yo;if(oo(ho,yo,So,Ro,go[0],go[1],!0)<so&&oo(ho,yo,So,Ro,go[6],go[7],!0)<so){if(!_o&&oo(ho,yo,So,Ro,bo[2],bo[3],!0)<so&&oo(ho,yo,So,Ro,bo[4],bo[5],!0)<so&&oo(ho,yo,So,Ro,go[2],go[3],!0)<so&&oo(ho,yo,So,Ro,go[4],go[5],!0)<so)Q=lo=_o=!0}else if(_o)return null;if(Q^lo)return null;var Zo=[no,A],wo=[];for(var Mo=0;Mo<4&&wo.length<2;Mo++){var Xo=Mo&1,Eo=Xo^1,Ko=Mo>>1,Po=h.getTimeOf(Zo[Xo],new q(Zo[Eo][Ko?6:0],Zo[Eo][Ko?7:1]));if(Po!=null){var Co=Xo?[Ko,Po]:[Po,Ko];if(!wo.length||No(Co[0]-wo[0][0])>eo&&No(Co[1]-wo[0][1])>eo)wo.push(Co)}if(Mo>2&&!wo.length)break}if(wo.length!==2)wo=null;else if(!_o){var Yo=h.getPart(no,wo[0][0],wo[1][0]),Ao=h.getPart(A,wo[0][1],wo[1][1]);if(No(Ao[2]-Yo[2])>so||No(Ao[3]-Yo[3])>so||No(Ao[4]-Yo[4])>so||No(Ao[5]-Yo[5])>so)wo=null}return wo}function G(no,A){var ro=no[0],No=no[1],oo=no[2],eo=no[3],so=no[4],Q=no[5],lo=no[6],_o=no[7],to=A.normalize(),bo=to.x,go=to.y,ho=3*lo-9*so+9*oo-3*ro,yo=3*_o-9*Q+9*eo-3*No,So=6*so-12*oo+6*ro,Ro=6*Q-12*eo+6*No,Zo=3*oo-3*ro,wo=3*eo-3*No,Mo=2*ho*go-2*yo*bo,Xo=[];if(Math.abs(Mo)<M.CURVETIME_EPSILON){var Eo=ho*wo-yo*Zo,Mo=ho*Ro-yo*So;if(Mo!=0){var Ko=-Eo/Mo;if(Ko>=0&&Ko<=1)Xo.push(Ko)}}else{var Po=(So*So-4*ho*Zo)*go*go+(-2*So*Ro+4*yo*Zo+4*ho*wo)*bo*go+(Ro*Ro-4*yo*wo)*bo*bo,Co=So*go-Ro*bo;if(Po>=0&&Mo!=0){var Yo=Math.sqrt(Po),Ao=-(Co+Yo)/Mo,Go=(-Co+Yo)/Mo;if(Ao>=0&&Ao<=1)Xo.push(Ao);if(Go>=0&&Go<=1)Xo.push(Go)}}return Xo}return{getIntersections:function(no){var A=this.getValues(),ro=no&&no!==this&&no.getValues();return ro?z(A,ro,this,no,[]):J(A,this,[])},statics:{getOverlaps:Y,getIntersections:ao,getCurveLineIntersections:X,getTimesWithTangent:G}}}),d=k.extend({_class:"CurveLocation",initialize:function e(i,f,N,V,X){if(f>=0.99999999){var F=i.getNext();if(F)f=0,i=F}this._setCurve(i),this._time=f,this._point=N||i.getPointAtTime(f),this._overlap=V,this._distance=X,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var i=e.getCurve();if(i)this._setCurve(i);else this._setPath(e._path),this._segment1=e,this._segment2=null;this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var i=this.getCurve(),f=this.getTime();if(f===0)e=i._segment1;else if(f===1)e=i._segment2;else if(f!=null)e=i.getPartLength(0,f)<i.getPartLength(f,1)?i._segment1:i._segment2;this._segment=e}return e},getCurve:function(){var e=this._path,i=this;if(e&&e._version!==this._version)this._time=this._offset=this._curveOffset=this._curve=null;function f(N){var V=N&&N.getCurve();if(V&&(i._time=V.getTimeOf(i._point))!=null)return i._setCurve(V),V}return this._curve||f(this._segment)||f(this._segment1)||f(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),i=this._time;return e&&i==null?this._time=e.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var i=this.getPath(),f=this.getIndex();if(i&&f!=null){var N=i.getCurves();for(var V=0;V<f;V++)e+=N[V].getLength()}this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var i=this.getCurve(),f=this.getTime();this._curveOffset=e=f!=null&&i&&i.getPartLength(0,f)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),i=e&&e.divideAtTime(this.getTime());if(i)this._setSegment(i._segment1);return i},split:function(){var e=this.getCurve(),i=e._path,f=e&&e.splitAtTime(this.getTime());if(f)this._setSegment(i.getLastSegment());return f},equals:function(e,i){var f=this===e;if(!f&&e instanceof d){var N=this.getCurve(),V=e.getCurve(),X=N._path,F=V._path;if(X===F){var K=Math.abs,z=0.0000001,J=K(this.getOffset()-e.getOffset()),ao=!i&&this._intersection,Y=!i&&e._intersection;f=(J<z||X&&K(X.getLength()-J)<z)&&(!ao&&!Y||ao&&Y&&ao.equals(Y,!0))}}return f},toString:function(){var e=[],i=this.getPoint(),f=T.instance;if(i)e.push("point: "+i);var N=this.getIndex();if(N!=null)e.push("index: "+N);var V=this.getTime();if(V!=null)e.push("time: "+f.number(V));if(this._distance!=null)e.push("distance: "+f.number(this._distance));return"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var i=this.getCurve(),f=e.getCurve();return!(i.isStraight()&&f.isStraight()&&i.getLine().intersect(f.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var i=this.getTime(),f=e.getTime(),N=0.00000001,V=1-N,X=i>=N&&i<=V,F=f>=N&&f<=V;if(X&&F)return!this.isTouching();var K=this.getCurve(),z=K&&i<N?K.getPrevious():K,J=e.getCurve(),ao=J&&f<N?J.getPrevious():J;if(i>V)K=K.getNext();if(f>V)J=J.getNext();if(!z||!K||!ao||!J)return!1;var Y=[];function G(bo,go){var ho=bo.getValues(),yo=h.classify(ho).roots||h.getPeaks(ho),So=yo.length,Ro=h.getLength(ho,go&&So?yo[So-1]:0,!go&&So?yo[0]:1);Y.push(So?Ro:Ro/32)}function no(bo,go,ho){return go<ho?bo>go&&bo<ho:bo>go||bo<ho}if(!X)G(z,!0),G(K,!1);if(!F)G(ao,!0),G(J,!1);var A=this.getPoint(),ro=Math.min.apply(Math,Y),No=X?K.getTangentAtTime(i):K.getPointAt(ro).subtract(A),oo=X?No.negate():z.getPointAt(-ro).subtract(A),eo=F?J.getTangentAtTime(f):J.getPointAt(ro).subtract(A),so=F?eo.negate():ao.getPointAt(-ro).subtract(A),Q=oo.getAngle(),lo=No.getAngle(),_o=so.getAngle(),to=eo.getAngle();return!!(X?no(Q,_o,to)^no(lo,_o,to)&&no(Q,to,_o)^no(lo,to,_o):no(_o,Q,lo)^no(to,Q,lo)&&no(_o,lo,Q)^no(to,lo,Q))},hasOverlap:function(){return!!this._overlap}},k.each(h._evaluateMethods,function(e){var i=e+"At";this[e]=function(){var f=this.getCurve(),N=this.getTime();return N!=null&&f&&f[i](N,!0)}},{preserve:!0}),new function(){function e(i,f,N){var V=i.length,X=0,F=V-1;function K(A,ro){for(var No=A+ro;No>=-1&&No<=V;No+=ro){var oo=i[(No%V+V)%V];if(!f.getPoint().isClose(oo.getPoint(),0.0000001))break;if(f.equals(oo))return oo}return null}while(X<=F){var z=X+F>>>1,J=i[z],ao;if(N&&(ao=f.equals(J)?J:K(z,-1)||K(z,1))){if(f._overlap)ao._overlap=ao._intersection._overlap=!0;return ao}var Y=f.getPath(),G=J.getPath(),no=Y!==G?Y._id-G._id:f.getIndex()+f.getTime()-(J.getIndex()+J.getTime());if(no<0)F=z-1;else X=z+1}return i.splice(X,0,f),f}return{statics:{insert:e,expand:function(i){var f=i.slice();for(var N=i.length-1;N>=0;N--)e(f,i[N]._intersection,!1);return f}}}}),a=po.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function e(){},statics:{create:function(e){var i,f,N;if(k.isPlainObject(e))f=e.segments,i=e.pathData;else if(Array.isArray(e))f=e;else if(typeof e==="string")i=e;if(f){var V=f[0];N=V&&Array.isArray(V[0])}else if(i)N=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i);var X=N?S:t;return new X(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){if(this.isClockwise()!=(e=!!e))this.reverse()},setPathData:function(e){var i=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),f,N=!1,V,X,F=new q,K=new q;function z(so,Q){var lo=+f[so];if(N)lo+=F[Q];return lo}function J(so){return new q(z(so,"x"),z(so+1,"y"))}this.clear();for(var ao=0,Y=i&&i.length;ao<Y;ao++){var G=i[ao],no=G[0],A=no.toLowerCase();f=G.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var ro=f&&f.length;if(N=no===A,V==="z"&&!/[mz]/.test(A))this.moveTo(F);switch(A){case"m":case"l":var No=A==="m";for(var oo=0;oo<ro;oo+=2)if(this[No?"moveTo":"lineTo"](F=J(oo)),No)K=F,No=!1;X=F;break;case"h":case"v":var eo=A==="h"?"x":"y";F=F.clone();for(var oo=0;oo<ro;oo++)F[eo]=z(oo,eo),this.lineTo(F);X=F;break;case"c":for(var oo=0;oo<ro;oo+=6)this.cubicCurveTo(J(oo),X=J(oo+2),F=J(oo+4));break;case"s":for(var oo=0;oo<ro;oo+=4)this.cubicCurveTo(/[cs]/.test(V)?F.multiply(2).subtract(X):F,X=J(oo),F=J(oo+2)),V=A;break;case"q":for(var oo=0;oo<ro;oo+=4)this.quadraticCurveTo(X=J(oo),F=J(oo+2));break;case"t":for(var oo=0;oo<ro;oo+=2)this.quadraticCurveTo(X=/[qt]/.test(V)?F.multiply(2).subtract(X):F,F=J(oo)),V=A;break;case"a":for(var oo=0;oo<ro;oo+=7)this.arcTo(F=J(oo+5),new w(+f[oo],+f[oo+1]),+f[oo+2],+f[oo+4],+f[oo+3]);break;case"z":this.closePath(0.000000000001),F=K;break}V=A}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var i=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return i.onPath||!!(this.getFillRule()==="evenodd"?i.windingL&1||i.windingR&1:i.winding)},getIntersections:function(e,i,f,N){var V=this===e||!e,X=this._matrix._orNullIfIdentity(),F=V?X:(f||e._matrix)._orNullIfIdentity();return V||this.getBounds(X).intersects(e.getBounds(F),0.000000000001)?h.getIntersections(this.getCurves(),!V&&e.getCurves(),i,X,F,N):[]},getCrossings:function(e){return this.getIntersections(e,function(i){return i.isCrossing()})},getNearestLocation:function(){var e=q.read(arguments),i=this.getCurves(),f=1/0,N=null;for(var V=0,X=i.length;V<X;V++){var F=i[V].getNearestLocation(e);if(F._distance<f)f=F._distance,N=F}return N},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,i,f){var N=!this._children,V=N?"_segments":"_children",X=e[V],F=i[V],K=this[V];if(!X||!F||X.length!==F.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+i);var z=K.length,J=F.length;if(z<J){var ao=N?m:t;for(var Y=z;Y<J;Y++)this.add(new ao)}else if(z>J)this[N?"removeSegments":"removeChildren"](J,z);for(var Y=0;Y<J;Y++)K[Y].interpolate(X[Y],F[Y],f);if(N)this.setClosed(e._closed),this._changed(9)},compare:function(e){var i=!1;if(e){var f=this._children||[this],N=e._children?e._children.slice():[e],V=f.length,X=N.length,F=[],K=0;i=!0;var z=Z.findItemBoundsCollisions(f,N,M.GEOMETRIC_EPSILON);for(var J=V-1;J>=0&&i;J--){var ao=f[J];i=!1;var Y=z[J];if(Y){for(var G=Y.length-1;G>=0&&!i;G--)if(ao.compare(N[Y[G]])){if(!F[Y[G]])F[Y[G]]=!0,K++;i=!0}}}i=i&&K===X}return i}}),t=a.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function e(i){this._closed=!1,this._segments=[],this._version=0;var f=arguments,N=Array.isArray(i)?typeof i[0]==="object"?i:f:i&&(i.size===b&&(i.x!==b||i.point!==b))?f:null;if(N&&N.length>0)this.setSegments(N);else if(this._curves=b,this._segmentSelection=0,!N&&typeof i==="string")this.setPathData(i),i=null;this._initialize(!N&&i)},_equals:function(e){return this._closed===e._closed&&k.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(i){if(e.base.call(this,i),i&8){if(this._length=this._area=b,i&32)this._version++;else if(this._curves)for(var f=0,N=this._curves.length;f<N;f++)this._curves[f]._changed()}else if(i&64)this._bounds=b},getStyle:function(){var e=this._parent;return(e instanceof S?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var i=this.isFullySelected(),f=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=b,f){var N=e[f-1];if(typeof N==="boolean")this.setClosed(N),f--;this._add(m.readList(e,0,{},f))}if(i)this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,i=this._segments;if(!e){var f=this._countCurves();e=this._curves=new Array(f);for(var N=0;N<f;N++)e[N]=new h(this,i[N],i[N+1]||i[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var i=this._curves.length=this._countCurves();if(e)this._curves[i-1]=new h(this,this._segments[i-1],this._segments[0])}this._changed(41)}}},{beans:!0,getPathData:function(e,i){var f=this._segments,N=f.length,V=new T(i),X=new Array(6),F=!0,K,z,J,ao,Y,G,no,A,ro=[];function No(eo,so){if(eo._transformCoordinates(e,X),K=X[0],z=X[1],F)ro.push("M"+V.pair(K,z)),F=!1;else if(Y=X[2],G=X[3],Y===K&&G===z&&no===J&&A===ao){if(!so){var Q=K-J,lo=z-ao;ro.push(Q===0?"v"+V.number(lo):lo===0?"h"+V.number(Q):"l"+V.pair(Q,lo))}}else ro.push("c"+V.pair(no-J,A-ao)+" "+V.pair(Y-J,G-ao)+" "+V.pair(K-J,z-ao));J=K,ao=z,no=X[4],A=X[5]}if(!N)return"";for(var oo=0;oo<N;oo++)No(f[oo]);if(this._closed&&N>0)No(f[0],!0),ro.push("z");return ro.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){var i=this._segments,f=new Array(6);for(var N=0,V=i.length;N<V;N++)i[N]._transformCoordinates(e,f,!0);return!0},_add:function(e,F){var f=this._segments,N=this._curves,V=e.length,X=F==null,F=X?f.length:F;for(var K=0;K<V;K++){var z=e[K];if(z._path)z=e[K]=z.clone();if(z._path=this,z._index=F+K,z._selection)this._updateSelection(z,0,z._selection)}if(X)k.push(f,e);else{f.splice.apply(f,[F,0].concat(e));for(var K=F+V,J=f.length;K<J;K++)f[K]._index=K}if(N){var ao=this._countCurves(),Y=F>0&&F+V-1===ao?F-1:F,G=Y,no=Math.min(Y+V,ao);if(e._curves)N.splice.apply(N,[Y,0].concat(e._curves)),G+=e._curves.length;for(var K=G;K<no;K++)N.splice(K,0,new h(this,null,null));this._adjustCurves(Y,no)}return this._changed(41),e},_adjustCurves:function(e,i){var f=this._segments,N=this._curves,V;for(var X=e;X<i;X++)V=N[X],V._path=this,V._segment1=f[X],V._segment2=f[X+1]||f[0],V._changed();if(V=N[this._closed&&!e?f.length-1:e-1])V._segment2=f[e]||f[0],V._changed();if(V=N[i])V._segment1=f[i],V._changed()},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var i=arguments;return i.length>1&&typeof e!=="number"?this._add(m.readList(i)):this._add([m.read(i)])[0]},insert:function(e,i){var f=arguments;return f.length>2&&typeof i!=="number"?this._add(m.readList(f,1),e):this._add([m.read(f,1)],e)[0]},addSegment:function(){return this._add([m.read(arguments)])[0]},insertSegment:function(e){return this._add([m.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(m.readList(e))},insertSegments:function(e,i){return this._add(m.readList(i),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,i,f){e=e||0,i=k.pick(i,this._segments.length);var N=this._segments,V=this._curves,X=N.length,F=N.splice(e,i-e),K=F.length;if(!K)return F;for(var z=0;z<K;z++){var J=F[z];if(J._selection)this._updateSelection(J,J._selection,0);J._index=J._path=null}for(var z=e,ao=N.length;z<ao;z++)N[z]._index=z;if(V){var Y=e>0&&i===X+(this._closed?1:0)?e-1:e,V=V.splice(Y,K);for(var z=V.length-1;z>=0;z--)V[z]._path=null;if(f)F._curves=V.slice(1);this._adjustCurves(Y,Y)}return this._changed(41),F},clear:"#removeSegments",hasHandles:function(){var e=this._segments;for(var i=0,f=e.length;i<f;i++)if(e[i].hasHandles())return!0;return!1},clearHandles:function(){var e=this._segments;for(var i=0,f=e.length;i<f;i++)e[i].clearHandles()},getLength:function(){if(this._length==null){var e=this.getCurves(),i=0;for(var f=0,N=e.length;f<N;f++)i+=e[f].getLength();this._length=i}return this._length},getArea:function(){var e=this._area;if(e==null){var i=this._segments,f=this._closed;e=0;for(var N=0,V=i.length;N<V;N++){var X=N+1===V;e+=h.getArea(h.getValues(i[N],i[X?0:N+1],null,X&&!f))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){if(e)this._selectSegments(!0);this.setSelected(e)},setSelection:function e(i){if(!(i&1))this._selectSegments(!1);e.base.call(this,i)},_selectSegments:function(e){var i=this._segments,f=i.length,N=e?7:0;this._segmentSelection=N*f;for(var V=0;V<f;V++)i[V]._selection=N},_updateSelection:function(e,i,f){e._selection=f;var N=this._segmentSelection+=f-i;if(N>0)this.setSelected(!0)},divideAt:function(e){var i=this.getLocationAt(e),f;return i&&(f=i.getCurve().divideAt(i.getCurveOffset()))?f._segment1:null},splitAt:function(e){var i=this.getLocationAt(e),f=i&&i.index,N=i&&i.time,V=0.00000001,X=1-V;if(N>X)f++,N=0;var F=this.getCurves();if(f>=0&&f<F.length){if(N>=V)F[f++].divideAtTime(N);var K=this.removeSegments(f,this._segments.length,!0),z;if(this._closed)this.setClosed(!1),z=this;else z=new t(po.NO_INSERT),z.insertAbove(this),z.copyAttributes(this);return z._add(K,0),this.addSegment(K[0]),z}return null},split:function(e,i){var f,N=i===b?e:(f=this.getCurves()[e])&&f.getLocationAtTime(i);return N!=null?this.splitAt(N):null},join:function(e,i){var f=i||0;if(e&&e!==this){var N=e._segments,V=this.getLastSegment(),X=e.getLastSegment();if(!X)return this;if(V&&V._point.isClose(X._point,f))e.reverse();var F=e.getFirstSegment();if(V&&V._point.isClose(F._point,f))V.setHandleOut(F._handleOut),this._add(N.slice(1));else{var K=this.getFirstSegment();if(K&&K._point.isClose(F._point,f))e.reverse();if(X=e.getLastSegment(),K&&K._point.isClose(X._point,f))K.setHandleIn(X._handleIn),this._add(N.slice(0,N.length-1),0);else this._add(N.slice())}if(e._closed)this._add([N[0]]);e.remove()}var z=this.getFirstSegment(),J=this.getLastSegment();if(z!==J&&z._point.isClose(J._point,f))z.setHandleIn(J._handleIn),J.remove(),this.setClosed(!0);return this},reduce:function(e){var i=this.getCurves(),f=e&&e.simplify,N=f?0.0000001:0;for(var V=i.length-1;V>=0;V--){var X=i[V];if(!X.hasHandles()&&(!X.hasLength(N)||f&&X.isCollinear(X.getNext())))X.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,i=this._segments.length;e<i;e++){var f=this._segments[e],N=f._handleIn;f._handleIn=f._handleOut,f._handleOut=N,f._index=e}this._curves=null,this._changed(9)},flatten:function(e){var i=new U(this,e||0.25,256,!0),f=i.parts,N=f.length,V=[];for(var X=0;X<N;X++)V.push(new m(f[X].curve.slice(0,2)));if(!this._closed&&N>0)V.push(new m(f[N-1].curve.slice(6)));this.setSegments(V)},simplify:function(e){var i=new P(this).fit(e||2.5);if(i)this.setSegments(i);return!!i},smooth:function(e){var i=this,f=e||{},N=f.type||"asymmetric",V=this._segments,X=V.length,F=this._closed;function K(Qo,ra){var aa=Qo&&Qo.index;if(aa!=null){var sa=Qo.path;if(sa&&sa!==i)throw new Error(Qo._class+" "+aa+" of "+sa+" is not part of "+i);if(ra&&Qo instanceof h)aa++}else aa=typeof Qo==="number"?Qo:ra;return Math.min(aa<0&&F?aa%X:aa<0?aa+X:aa,X-1)}var z=F&&f.from===b&&f.to===b,J=K(f.from,0),ao=K(f.to,X-1);if(J>ao)if(F)J-=X;else{var Y=J;J=ao,ao=Y}if(/^(?:asymmetric|continuous)$/.test(N)){var G=N==="asymmetric",no=Math.min,A=ao-J+1,ro=A-1,No=z?no(A,4):1,oo=No,eo=No,so=[];if(!F)oo=no(1,J),eo=no(1,X-ao-1);if(ro+=oo+eo,ro<=1)return;for(var Q=0,lo=J-oo;Q<=ro;Q++,lo++)so[Q]=V[(lo<0?lo+X:lo)%X]._point;var _o=so[0]._x+2*so[1]._x,to=so[0]._y+2*so[1]._y,bo=2,go=ro-1,ho=[_o],yo=[to],So=[bo],Ro=[],Zo=[];for(var Q=1;Q<ro;Q++){var wo=Q<go,Mo=wo?1:G?1:2,Xo=wo?4:G?2:7,Eo=wo?4:G?3:8,Ko=wo?2:G?0:1,Po=Mo/bo;bo=So[Q]=Xo-Po,_o=ho[Q]=Eo*so[Q]._x+Ko*so[Q+1]._x-Po*_o,to=yo[Q]=Eo*so[Q]._y+Ko*so[Q+1]._y-Po*to}Ro[go]=ho[go]/So[go],Zo[go]=yo[go]/So[go];for(var Q=ro-2;Q>=0;Q--)Ro[Q]=(ho[Q]-Ro[Q+1])/So[Q],Zo[Q]=(yo[Q]-Zo[Q+1])/So[Q];Ro[ro]=(3*so[ro]._x-Ro[go])/2,Zo[ro]=(3*so[ro]._y-Zo[go])/2;for(var Q=oo,Co=ro-eo,lo=J;Q<=Co;Q++,lo++){var Yo=V[lo<0?lo+X:lo],Ao=Yo._point,Go=Ro[Q]-Ao._x,oa=Zo[Q]-Ao._y;if(z||Q<Co)Yo.setHandleOut(Go,oa);if(z||Q>oo)Yo.setHandleIn(-Go,-oa)}}else for(var Q=J;Q<=ao;Q++)V[Q<0?Q+X:Q].smooth(f,!z&&Q===J,!z&&Q===ao)},toShape:function(e){if(!this._closed)return null;var i=this._segments,f,N,V,X;function F(G,no){var A=i[G],ro=A.getNext(),No=i[no],oo=No.getNext();return A._handleOut.isZero()&&ro._handleIn.isZero()&&No._handleOut.isZero()&&oo._handleIn.isZero()&&ro._point.subtract(A._point).isCollinear(oo._point.subtract(No._point))}function K(G){var no=i[G],A=no.getPrevious(),ro=no.getNext();return A._handleOut.isZero()&&no._handleIn.isZero()&&no._handleOut.isZero()&&ro._handleIn.isZero()&&no._point.subtract(A._point).isOrthogonal(ro._point.subtract(no._point))}function z(G){var no=i[G],A=no.getNext(),ro=no._handleOut,No=A._handleIn,oo=0.5522847498307936;if(ro.isOrthogonal(No)){var eo=no._point,so=A._point,Q=new C(eo,ro,!0).intersect(new C(so,No,!0),!0);return Q&&M.isZero(ro.getLength()/Q.subtract(eo).getLength()-oo)&&M.isZero(No.getLength()/Q.subtract(so).getLength()-oo)}return!1}function J(G,no){return i[G]._point.getDistance(i[no]._point)}if(!this.hasHandles()&&i.length===4&&F(0,2)&&F(1,3)&&K(1))f=Lo.Rectangle,N=new w(J(0,3),J(0,1)),X=i[1]._point.add(i[2]._point).divide(2);else if(i.length===8&&z(0)&&z(2)&&z(4)&&z(6)&&F(1,5)&&F(3,7))f=Lo.Rectangle,N=new w(J(1,6),J(0,3)),V=N.subtract(new w(J(0,7),J(1,2))).divide(2),X=i[3]._point.add(i[4]._point).divide(2);else if(i.length===4&&z(0)&&z(1)&&z(2)&&z(3)){if(M.isZero(J(0,2)-J(1,3)))f=Lo.Circle,V=J(0,2)/2;else f=Lo.Ellipse,V=new w(J(2,0)/2,J(3,1)/2);X=i[1]._point}if(f){var ao=this.getPosition(!0),Y=new f({center:ao,size:N,radius:V,insert:!1});if(Y.copyAttributes(this,!0),Y._matrix.prepend(this._matrix),Y.rotate(X.subtract(ao).getAngle()+90),e===b||e)Y.insertAbove(this);return Y}return null},toPath:"#clone",compare:function e(i){if(!i||i instanceof S)return e.base.call(this,i);var f=this.getCurves(),N=i.getCurves(),V=f.length,X=N.length;if(!V||!X)return V==X;var F=f[0].getValues(),K=[],z=0,J,ao=0,Y;for(var G=0;G<X;G++){var No=N[G].getValues();K.push(No);var no=h.getOverlaps(F,No);if(no){J=!G&&no[0][0]>0?X-1:G,Y=no[0][1];break}}var A=Math.abs,ro=0.00000001,No=K[J],oo;while(F&&No){var no=h.getOverlaps(F,No);if(no){var eo=no[0][0];if(A(eo-ao)<ro){if(ao=no[1][0],ao===1)F=++z<V?f[z].getValues():null,ao=0;var so=no[0][1];if(A(so-Y)<ro){if(!oo)oo=[J,so];if(Y=no[1][1],Y===1){if(++J>=X)J=0;No=K[J]||N[J].getValues(),Y=0}if(!F)return oo[0]===J&&oo[1]===Y;continue}}}break}return!1},_hitTestSelf:function(e,i,f,N){var V=this,X=this.getStyle(),F=this._segments,K=F.length,z=this._closed,J=i._tolerancePadding,ao=J,Y,G,no,A,ro,No,oo=i.stroke&&X.hasStroke(),eo=i.fill&&X.hasFill(),so=i.curves,Q=oo?X.getStrokeWidth()/2:eo&&i.tolerance>0||so?0:null;if(Q!==null)if(Q>0)Y=X.getStrokeJoin(),G=X.getStrokeCap(),no=X.getMiterLimit(),ao=ao.add(t._getStrokePadding(Q,N));else Y=G="round";function lo(Ro,Zo){return e.subtract(Ro).divide(Zo).length<=1}function _o(Ro,Zo,wo){if(!i.selected||Zo.isSelected()){var Mo=Ro._point;if(Zo!==Mo)Zo=Zo.add(Mo);if(lo(Zo,ao))return new s(wo,V,{segment:Ro,point:Zo})}}function to(Ro,Zo){return(Zo||i.segments)&&_o(Ro,Ro._point,"segment")||!Zo&&i.handles&&(_o(Ro,Ro._handleIn,"handle-in")||_o(Ro,Ro._handleOut,"handle-out"))}function bo(Ro){A.add(Ro)}function go(Ro){var Zo=z||Ro._index>0&&Ro._index<K-1;if((Zo?Y:G)==="round")return lo(Ro._point,ao);else{if(A=new t({internal:!0,closed:!0}),Zo){if(!Ro.isSmooth())t._addBevelJoin(Ro,Y,Q,no,null,N,bo,!0)}else if(G==="square")t._addSquareCap(Ro,G,Q,null,N,bo,!0);if(!A.isEmpty()){var wo;return A.contains(e)||(wo=A.getNearestLocation(e))&&lo(wo.getPoint(),J)}}}if(i.ends&&!i.segments&&!z){if(No=to(F[0],!0)||to(F[K-1],!0))return No}else if(i.segments||i.handles){for(var ho=0;ho<K;ho++)if(No=to(F[ho]))return No}if(Q!==null){if(ro=this.getNearestLocation(e),ro){var yo=ro.getTime();if(yo===0||yo===1&&K>1){if(!go(ro.getSegment()))ro=null}else if(!lo(ro.getPoint(),ao))ro=null}if(!ro&&Y==="miter"&&K>1)for(var ho=0;ho<K;ho++){var So=F[ho];if(e.getDistance(So._point)<=no*Q&&go(So)){ro=So.getLocation();break}}}return!ro&&eo&&this._contains(e)||ro&&!oo&&!so?new s("fill",this):ro?new s(oo?"stroke":"curve",this,{location:ro,point:ro.getPoint()}):null}},k.each(h._evaluateMethods,function(e){this[e+"At"]=function(i){var f=this.getLocationAt(i);return f&&f[e]()}},{beans:!1,getLocationOf:function(){var e=q.read(arguments),i=this.getCurves();for(var f=0,N=i.length;f<N;f++){var V=i[f].getLocationOf(e);if(V)return V}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e==="number"){var i=this.getCurves(),f=0;for(var N=0,V=i.length;N<V;N++){var X=f,F=i[N];if(f+=F.getLength(),f>e)return F.getLocationAt(e-X)}if(i.length>0&&e<=this.getLength())return new d(i[i.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=q.read(arguments);if(e.isZero())return[];var i=[],f=0,N=this.getCurves();for(var V=0,X=N.length;V<X;V++){var F=N[V],K=F.getTimesWithTangent(e);for(var z=0,J=K.length;z<J;z++){var ao=f+F.getOffsetAtTime(K[z]);if(i.indexOf(ao)<0)i.push(ao)}f+=F.length}return i}}),new function(){function e(f,N,V,X){if(X<=0)return;var F=X/2,K=X-2,z=F-1,J=new Array(6),ao,Y;function G(eo){var so=J[eo],Q=J[eo+1];if(ao!=so||Y!=Q)f.beginPath(),f.moveTo(ao,Y),f.lineTo(so,Q),f.stroke(),f.beginPath(),f.arc(so,Q,F,0,Math.PI*2,!0),f.fill()}for(var no=0,A=N.length;no<A;no++){var ro=N[no],No=ro._selection;if(ro._transformCoordinates(V,J),ao=J[0],Y=J[1],No&2)G(2);if(No&4)G(4);if(f.fillRect(ao-F,Y-F,X,X),K>0&&!(No&1)){var oo=f.fillStyle;f.fillStyle="#ffffff",f.fillRect(ao-z,Y-z,K,K),f.fillStyle=oo}}}function i(f,N,V){var X=N._segments,F=X.length,K=new Array(6),z=!0,J,ao,Y,G,no,A,ro,No;function oo(so){if(V)so._transformCoordinates(V,K),J=K[0],ao=K[1];else{var Q=so._point;J=Q._x,ao=Q._y}if(z)f.moveTo(J,ao),z=!1;else{if(V)no=K[2],A=K[3];else{var lo=so._handleIn;no=J+lo._x,A=ao+lo._y}if(no===J&&A===ao&&ro===Y&&No===G)f.lineTo(J,ao);else f.bezierCurveTo(ro,No,no,A,J,ao)}if(Y=J,G=ao,V)ro=K[4],No=K[5];else{var lo=so._handleOut;ro=Y+lo._x,No=G+lo._y}}for(var eo=0;eo<F;eo++)oo(X[eo]);if(N._closed&&F>0)oo(X[0])}return{_draw:function(f,N,V,X){var F=N.dontStart,K=N.dontFinish||N.clip,z=this.getStyle(),J=z.hasFill(),ao=z.hasStroke(),Y=z.getDashArray(),G=!O.support.nativeDash&&ao&&Y&&Y.length;if(!F)f.beginPath();if(J||ao&&!G||K){if(i(f,this,X),this._closed)f.closePath()}function no(so){return Y[(so%G+G)%G]}if(!K&&(J||ao)){if(this._setStyles(f,N,V),J)f.fill(z.getFillRule()),f.shadowColor="rgba(0,0,0,0)";if(ao){if(G){if(!F)f.beginPath();var A=new U(this,0.25,32,!1,X),ro=A.length,No=-z.getDashOffset(),oo,eo=0;while(No>0)No-=no(eo--)+no(eo--);while(No<ro){if(oo=No+no(eo++),No>0||oo>0)A.drawPart(f,Math.max(No,0),Math.max(oo,0));No=oo+no(eo++)}}f.stroke()}}},_drawSelected:function(f,N){f.beginPath(),i(f,this,N),f.stroke(),e(f,this._segments,N,O.settings.handleSize)}}},new function(){function e(i){var f=i._segments;if(!f.length)throw new Error("Use a moveTo() command first");return f[f.length-1]}return{moveTo:function(){var i=this._segments;if(i.length===1)this.removeSegment(0);if(!i.length)this._add([new m(q.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new m(q.read(arguments))])},cubicCurveTo:function(){var i=arguments,f=q.read(i),N=q.read(i),V=q.read(i),X=e(this);X.setHandleOut(f.subtract(X._point)),this._add([new m(V,N.subtract(V))])},quadraticCurveTo:function(){var i=arguments,f=q.read(i),N=q.read(i),V=e(this)._point;this.cubicCurveTo(f.add(V.subtract(f).multiply(0.3333333333333333)),f.add(N.subtract(f).multiply(0.3333333333333333)),N)},curveTo:function(){var i=arguments,f=q.read(i),N=q.read(i),V=k.pick(k.read(i),0.5),X=1-V,F=e(this)._point,K=f.subtract(F.multiply(X*X)).subtract(N.multiply(V*V)).divide(2*V*X);if(K.isNaN())throw new Error("Cannot put a curve through points with parameter = "+V);this.quadraticCurveTo(K,N)},arcTo:function(){var i=arguments,f=Math.abs,N=Math.sqrt,V=e(this),X=V._point,F=q.read(i),A,K=k.peek(i),z=k.pick(K,!0),J,ao,Y,G;if(typeof z==="boolean")var no=X.add(F).divide(2),A=no.add(no.subtract(X).rotate(z?-90:90));else if(k.remain(i)<=2)A=F,F=q.read(i);else if(!X.equals(F)){var ro=w.read(i),No=M.isZero;if(No(ro.width)||No(ro.height))return this.lineTo(F);var oo=k.read(i),z=!!k.read(i),eo=!!k.read(i),no=X.add(F).divide(2),so=X.subtract(no).rotate(-oo),Q=so.x,lo=so.y,_o=f(ro.width),to=f(ro.height),bo=_o*_o,go=to*to,ho=Q*Q,yo=lo*lo,So=N(ho/bo+yo/go);if(So>1)_o*=So,to*=So,bo=_o*_o,go=to*to;if(So=(bo*go-bo*yo-go*ho)/(bo*yo+go*ho),f(So)<0.000000000001)So=0;if(So<0)throw new Error("Cannot create an arc with the given arguments");if(J=new q(_o*lo/to,-to*Q/_o).multiply((eo===z?-1:1)*N(So)).rotate(oo).add(no),G=new D().translate(J).rotate(oo).scale(_o,to),Y=G._inverseTransform(X),ao=Y.getDirectedAngle(G._inverseTransform(F)),!z&&ao>0)ao-=360;else if(z&&ao<0)ao+=360}if(A){var Ro=new C(X.add(A).divide(2),A.subtract(X).rotate(90),!0),Zo=new C(A.add(F).divide(2),F.subtract(A).rotate(90),!0),wo=new C(X,F),Mo=wo.getSide(A);if(J=Ro.intersect(Zo,!0),!J){if(!Mo)return this.lineTo(F);throw new Error("Cannot create an arc with the given arguments")}Y=X.subtract(J),ao=Y.getDirectedAngle(F.subtract(J));var Xo=wo.getSide(J,!0);if(Xo===0)ao=Mo*f(ao);else if(Mo===Xo)ao+=ao<0?360:-360}if(ao){var Eo=0.00001,Ko=f(ao),Po=Ko>=360?4:Math.ceil((Ko-Eo)/90),Co=ao/Po,Yo=Co*Math.PI/360,Ao=1.3333333333333333*Math.sin(Yo)/(1+Math.cos(Yo)),Go=[];for(var oa=0;oa<=Po;oa++){var so=F,Qo=null;if(oa<Po)if(Qo=Y.rotate(90).multiply(Ao),G)so=G._transformPoint(Y),Qo=G._transformPoint(Y.add(Qo)).subtract(so);else so=J.add(Y);if(!oa)V.setHandleOut(Qo);else{var ra=Y.rotate(-90).multiply(Ao);if(G)ra=G._transformPoint(Y.add(ra)).subtract(so);Go.push(new m(so,ra,Qo))}Y=Y.rotate(Co)}this._add(Go)}},lineBy:function(){var i=q.read(arguments),f=e(this)._point;this.lineTo(f.add(i))},curveBy:function(){var i=arguments,f=q.read(i),N=q.read(i),V=k.read(i),X=e(this)._point;this.curveTo(X.add(f),X.add(N),V)},cubicCurveBy:function(){var i=arguments,f=q.read(i),N=q.read(i),V=q.read(i),X=e(this)._point;this.cubicCurveTo(X.add(f),X.add(N),X.add(V))},quadraticCurveBy:function(){var i=arguments,f=q.read(i),N=q.read(i),V=e(this)._point;this.quadraticCurveTo(V.add(f),V.add(N))},arcBy:function(){var i=arguments,f=e(this)._point,N=f.add(q.read(i)),V=k.pick(k.peek(i),!0);if(typeof V==="boolean")this.arcTo(N,V);else this.arcTo(N,f.add(q.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(e,i){var f=i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds";return t[f](this._segments,this._closed,this,e,i)},statics:{getBounds:function(e,i,f,N,V,X){var F=e[0];if(!F)return new W;var K=new Array(6),z=F._transformCoordinates(N,new Array(6)),J=z.slice(0,2),ao=J.slice(),Y=new Array(2);function G(ro){ro._transformCoordinates(N,K);for(var No=0;No<2;No++)h._addBounds(z[No],z[No+4],K[No+2],K[No],No,X?X[No]:0,J,ao,Y);var oo=z;z=K,K=oo}for(var no=1,A=e.length;no<A;no++)G(e[no]);if(i)G(F);return new W(J[0],J[1],ao[0]-J[0],ao[1]-J[1])},getStrokeBounds:function(e,i,f,N,V){var X=f.getStyle(),F=X.hasStroke(),K=X.getStrokeWidth(),z=F&&f._getStrokeMatrix(N,V),J=F&&t._getStrokePadding(K,z),ao=t.getBounds(e,i,f,N,V,J);if(!F)return ao;var Y=K/2,G=X.getStrokeJoin(),no=X.getStrokeCap(),A=X.getMiterLimit(),ro=new W(new w(J));function No(_o){ao=ao.include(_o)}function oo(_o){ao=ao.unite(ro.setCenter(_o._point.transform(N)))}function eo(_o,to){if(to==="round"||_o.isSmooth())oo(_o);else t._addBevelJoin(_o,to,Y,A,N,z,No)}function so(_o,to){if(to==="round")oo(_o);else t._addSquareCap(_o,to,Y,N,z,No)}var Q=e.length-(i?0:1);if(Q>0){for(var lo=1;lo<Q;lo++)eo(e[lo],G);if(i)eo(e[0],G);else so(e[0],no),so(e[e.length-1],no)}return ao},_getStrokePadding:function(e,i){if(!i)return[e,e];var f=new q(e,0).transform(i),N=new q(0,e).transform(i),V=f.getAngleInRadians(),X=f.getLength(),F=N.getLength(),K=Math.sin(V),z=Math.cos(V),J=Math.tan(V),ao=Math.atan2(F*J,X),Y=Math.atan2(F,J*X);return[Math.abs(X*Math.cos(ao)*z+F*Math.sin(ao)*K),Math.abs(F*Math.sin(Y)*z+X*Math.cos(Y)*K)]},_addBevelJoin:function(e,i,f,N,V,X,F,K){var z=e.getCurve(),J=z.getPrevious(),ao=z.getPoint1().transform(V),Y=J.getNormalAtTime(1).multiply(f).transform(X),G=z.getNormalAtTime(0).multiply(f).transform(X),no=Y.getDirectedAngle(G);if(no<0||no>=180)Y=Y.negate(),G=G.negate();if(K)F(ao);if(F(ao.add(Y)),i==="miter"){var A=new C(ao.add(Y),new q(-Y.y,Y.x),!0).intersect(new C(ao.add(G),new q(-G.y,G.x),!0),!0);if(A&&ao.getDistance(A)<=N*f)F(A)}F(ao.add(G))},_addSquareCap:function(e,i,f,N,V,X,F){var K=e._point.transform(N),z=e.getLocation(),J=z.getNormal().multiply(z.getTime()===0?f:-f).transform(V);if(i==="square"){if(F)X(K.subtract(J)),X(K.add(J));K=K.add(J.rotate(-90))}X(K.add(J)),X(K.subtract(J))},getHandleBounds:function(e,i,f,N,V){var X=f.getStyle(),F=V.stroke&&X.hasStroke(),K,z;if(F){var J=f._getStrokeMatrix(N,V),ao=X.getStrokeWidth()/2,Y=ao;if(X.getStrokeJoin()==="miter")Y=ao*X.getMiterLimit();if(X.getStrokeCap()==="square")Y=Math.max(Y,ao*Math.SQRT2);K=t._getStrokePadding(ao,J),z=t._getStrokePadding(Y,J)}var G=new Array(6),no=1/0,A=-no,ro=no,No=A;for(var oo=0,eo=e.length;oo<eo;oo++){var so=e[oo];so._transformCoordinates(N,G);for(var Q=0;Q<6;Q+=2){var lo=!Q?z:K,_o=lo?lo[0]:0,to=lo?lo[1]:0,bo=G[Q],go=G[Q+1],ho=bo-_o,yo=bo+_o,So=go-to,Ro=go+to;if(ho<no)no=ho;if(yo>A)A=yo;if(So<ro)ro=So;if(Ro>No)No=Ro}}return new W(no,ro,A-no,No-ro)}}});t.inject({statics:new function(){var e=0.5522847498307936,i=[new m([-1,0],[0,e],[0,-e]),new m([0,-1],[-e,0],[e,0]),new m([1,0],[0,-e],[0,e]),new m([0,1],[e,0],[-e,0])];function f(V,X,F){var K=k.getNamed(F),z=new t(K&&(K.insert==!0?po.INSERT:K.insert==!1?po.NO_INSERT:null));return z._add(V),z._closed=X,z.set(K,po.INSERT)}function N(V,X,F){var K=new Array(4);for(var z=0;z<4;z++){var J=i[z];K[z]=new m(J._point.multiply(X).add(V),J._handleIn.multiply(X),J._handleOut.multiply(X))}return f(K,!0,F)}return{Line:function(){var V=arguments;return f([new m(q.readNamed(V,"from")),new m(q.readNamed(V,"to"))],!1,V)},Circle:function(){var V=arguments,X=q.readNamed(V,"center"),F=k.readNamed(V,"radius");return N(X,new w(F),V)},Rectangle:function(){var V=arguments,X=W.readNamed(V,"rectangle"),F=w.readNamed(V,"radius",0,{readNull:!0}),K=X.getBottomLeft(!0),z=X.getTopLeft(!0),J=X.getTopRight(!0),ao=X.getBottomRight(!0),Y;if(!F||F.isZero())Y=[new m(K),new m(z),new m(J),new m(ao)];else{F=w.min(F,X.getSize(!0).divide(2));var{width:G,height:no}=F,A=G*e,ro=no*e;Y=[new m(K.add(G,0),null,[-A,0]),new m(K.subtract(0,no),[0,ro]),new m(z.add(0,no),null,[0,-ro]),new m(z.add(G,0),[-A,0],null),new m(J.subtract(G,0),null,[A,0]),new m(J.add(0,no),[0,-ro],null),new m(ao.subtract(0,no),null,[0,ro]),new m(ao.subtract(G,0),[A,0])]}return f(Y,!0,V)},RoundRectangle:"#Rectangle",Ellipse:function(){var V=arguments,X=Lo._readEllipse(V);return N(X.center,X.radius,V)},Oval:"#Ellipse",Arc:function(){var V=arguments,X=q.readNamed(V,"from"),F=q.readNamed(V,"through"),K=q.readNamed(V,"to"),z=k.getNamed(V),J=new t(z&&z.insert==!1&&po.NO_INSERT);return J.moveTo(X),J.arcTo(F,K),J.set(z)},RegularPolygon:function(){var V=arguments,X=q.readNamed(V,"center"),F=k.readNamed(V,"sides"),K=k.readNamed(V,"radius"),z=360/F,J=F%3===0,ao=new q(0,J?-K:K),Y=J?-1:0.5,G=new Array(F);for(var no=0;no<F;no++)G[no]=new m(X.add(ao.rotate((no+Y)*z)));return f(G,!0,V)},Star:function(){var V=arguments,X=q.readNamed(V,"center"),F=k.readNamed(V,"points")*2,K=k.readNamed(V,"radius1"),z=k.readNamed(V,"radius2"),J=360/F,ao=new q(0,-1),Y=new Array(F);for(var G=0;G<F;G++)Y[G]=new m(X.add(ao.rotate(J*G).multiply(G%2?z:K)));return f(Y,!0,V)}}}});var S=a.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function e(i){if(this._children=[],this._namedChildren={},!this._initialize(i))if(typeof i==="string")this.setPathData(i);else this.addChildren(Array.isArray(i)?i:arguments)},insertChildren:function e(i,f){var N=f,V=N[0];if(V&&typeof V[0]==="number")N=[N];for(var X=f.length-1;X>=0;X--){var F=N[X];if(N===f&&!(F instanceof t))N=k.slice(N);if(Array.isArray(F))N[X]=new t({segments:F,insert:!1});else if(F instanceof S)N.splice.apply(N,[X,1].concat(F.removeChildren())),F.remove()}return e.base.call(this,i,N)},reduce:function e(i){var f=this._children;for(var N=f.length-1;N>=0;N--){var V=f[N].reduce(i);if(V.isEmpty())V.remove()}if(!f.length){var V=new t(po.NO_INSERT);return V.copyAttributes(this),V.insertAbove(this),this.remove(),V}return e.base.call(this)},isClosed:function(){var e=this._children;for(var i=0,f=e.length;i<f;i++)if(!e[i]._closed)return!1;return!0},setClosed:function(e){var i=this._children;for(var f=0,N=i.length;f<N;f++)i[f].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){var e=this._children,i=[];for(var f=0,N=e.length;f<N;f++)k.push(i,e[f].getCurves());return i},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){var e=this._children,i=0;for(var f=0,N=e.length;f<N;f++)i+=e[f].getArea();return i},getLength:function(){var e=this._children,i=0;for(var f=0,N=e.length;f<N;f++)i+=e[f].getLength();return i},getPathData:function(e,i){var f=this._children,N=[];for(var V=0,X=f.length;V<X;V++){var F=f[V],K=F._matrix;N.push(F.getPathData(e&&!K.isIdentity()?e.appended(K):e,i))}return N.join("")},_hitTestChildren:function e(i,f,N){return e.base.call(this,i,f.class===t||f.type==="path"?f:k.set({},f,{fill:!1}),N)},_draw:function(e,i,f,N){var V=this._children;if(!V.length)return;i=i.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var X=0,F=V.length;X<F;X++)V[X].draw(e,i,N);if(!i.clip){this._setStyles(e,i,f);var K=this._style;if(K.hasFill())e.fill(K.getFillRule()),e.shadowColor="rgba(0,0,0,0)";if(K.hasStroke())e.stroke()}},_drawSelected:function(e,i,f){var N=this._children;for(var V=0,X=N.length;V<X;V++){var F=N[V],K=F._matrix;if(!f[F._id])F._drawSelected(e,K.isIdentity()?i:i.appended(K))}}},new function(){function e(i,f){var N=i._children;if(f&&!N.length)throw new Error("Use a moveTo() command first");return N[N.length-1]}return k.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var f=e(this,!0);f[i].apply(f,arguments)}},{moveTo:function(){var i=e(this),f=i&&i.isEmpty()?i:new t(po.NO_INSERT);if(f!==i)this.addChild(f);f.moveTo.apply(f,arguments)},moveBy:function(){var i=e(this,!0),f=i&&i.getLastSegment(),N=q.read(arguments);this.moveTo(f?N.add(f._point):N)},closePath:function(i){e(this,!0).closePath(i)}})},k.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(i){var f=this._children,N;for(var V=0,X=f.length;V<X;V++)N=f[V][e](i)||N;return N}},{}));a.inject(new function(){var{min:e,max:i,abs:f}=Math,N={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function V(oo){return oo._children||[oo]}function X(oo,eo){var so=oo.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(eo){var Q=V(so);for(var lo=0,_o=Q.length;lo<_o;lo++){var oo=Q[lo];if(!oo._closed&&!oo.isEmpty())oo.closePath(0.000000000001),oo.getFirstSegment().setHandleIn(0,0),oo.getLastSegment().setHandleOut(0,0)}so=so.resolveCrossings().reorient(so.getFillRule()==="nonzero",!0)}return so}function F(oo,eo,so,Q,lo){var _o=new S(po.NO_INSERT);if(_o.addChildren(oo,!0),_o=_o.reduce({simplify:eo}),!(lo&&lo.insert==!1))_o.insertAbove(Q&&so.isSibling(Q)&&so.getIndex()<Q.getIndex()?Q:so);return _o.copyAttributes(so,!0),_o}function K(oo){return oo.hasOverlap()||oo.isCrossing()}function z(oo,eo,so,Q){if(Q&&(Q.trace==!1||Q.stroke)&&/^(subtract|intersect)$/.test(so))return J(oo,eo,so);var lo=X(oo,!0),_o=eo&&oo!==eo&&X(eo,!0),to=N[so];if(to[so]=!0,_o&&(to.subtract||to.exclude)^(_o.isClockwise()^lo.isClockwise()))_o.reverse();var bo=no(d.expand(lo.getIntersections(_o,K))),go=V(lo),ho=_o&&V(_o),yo=[],So=[],Ro;function Zo(Qo){for(var ra=0,aa=Qo.length;ra<aa;ra++){var sa=Qo[ra];k.push(yo,sa._segments),k.push(So,sa.getCurves()),sa._overlapsOnly=!0}}function wo(Qo){var ra=[];for(var aa=0,sa=Qo&&Qo.length;aa<sa;aa++)ra.push(So[Qo[aa]]);return ra}if(bo.length){if(Zo(go),ho)Zo(ho);var Mo=new Array(So.length);for(var Xo=0,Eo=So.length;Xo<Eo;Xo++)Mo[Xo]=So[Xo].getValues();var Ko=Z.findCurveBoundsCollisions(Mo,Mo,0,!0),Po={};for(var Xo=0;Xo<So.length;Xo++){var Co=So[Xo],Yo=Co._path._id,Ao=Po[Yo]=Po[Yo]||{};Ao[Co.getIndex()]={hor:wo(Ko[Xo].hor),ver:wo(Ko[Xo].ver)}}for(var Xo=0,Eo=bo.length;Xo<Eo;Xo++)ro(bo[Xo]._segment,lo,_o,Po,to);for(var Xo=0,Eo=yo.length;Xo<Eo;Xo++){var Go=yo[Xo],oa=Go._intersection;if(!Go._winding)ro(Go,lo,_o,Po,to);if(!(oa&&oa._overlap))Go._path._overlapsOnly=!1}Ro=No(yo,to)}else Ro=G(ho?go.concat(ho):go.slice(),function(Qo){return!!to[Qo]});return F(Ro,!0,oo,eo,Q)}function J(oo,eo,so){var Q=X(oo),lo=X(eo),_o=Q.getIntersections(lo,K),to=so==="subtract",bo=so==="divide",go={},ho=[];function yo(Zo){if(!go[Zo._id]&&(bo||lo.contains(Zo.getPointAt(Zo.getLength()/2))^to))return ho.unshift(Zo),go[Zo._id]=!0}for(var So=_o.length-1;So>=0;So--){var Ro=_o[So].split();if(Ro){if(yo(Ro))Ro.getFirstSegment().setHandleIn(0,0);Q.getLastSegment().setHandleOut(0,0)}}return yo(Q),F(ho,!1,oo,eo)}function ao(oo,eo){var so=oo;while(so){if(so===eo)return;so=so._previous}while(oo._next&&oo._next!==eo)oo=oo._next;if(!oo._next){while(eo._previous)eo=eo._previous;oo._next=eo,eo._previous=oo}}function Y(oo){for(var eo=oo.length-1;eo>=0;eo--)oo[eo].clearHandles()}function G(oo,eo,so){var Q=oo&&oo.length;if(Q){var lo=k.each(oo,function(Ko,Po){this[Ko._id]={container:null,winding:Ko.isClockwise()?1:-1,index:Po}},{}),_o=oo.slice().sort(function(Ko,Po){return f(Po.getArea())-f(Ko.getArea())}),to=_o[0],bo=Z.findItemBoundsCollisions(_o,null,M.GEOMETRIC_EPSILON);if(so==null)so=to.isClockwise();for(var go=0;go<Q;go++){var ho=_o[go],yo=lo[ho._id],So=0,Ro=bo[go];if(Ro){var Zo=null;for(var wo=Ro.length-1;wo>=0;wo--)if(Ro[wo]<go){Zo=Zo||ho.getInteriorPoint();var Mo=_o[Ro[wo]];if(Mo.contains(Zo)){var Xo=lo[Mo._id];So=Xo.winding,yo.winding+=So,yo.container=Xo.exclude?Xo.container:Mo;break}}}if(eo(yo.winding)===eo(So))yo.exclude=!0,oo[yo.index]=null;else{var Eo=yo.container;ho.setClockwise(Eo?!Eo.isClockwise():so)}}}return oo}function no(oo,eo,so){var Q=eo&&[],lo=0.00000001,_o=1-lo,to=!1,bo=so||[],go=so&&{},ho,yo,So;function Ro(ra){return ra._path._id+"."+ra._segment1._index}for(var Zo=(so&&so.length)-1;Zo>=0;Zo--){var wo=so[Zo];if(wo._path)go[Ro(wo)]=!0}for(var Zo=oo.length-1;Zo>=0;Zo--){var Mo=oo[Zo],Xo=Mo._time,Eo=Xo,Ko=eo&&!eo(Mo),wo=Mo._curve,Po;if(wo){if(wo!==yo)to=!wo.hasHandles()||go&&go[Ro(wo)],ho=[],So=null,yo=wo;else if(So>=lo)Xo/=So}if(Ko){if(ho)ho.push(Mo);continue}else if(eo)Q.unshift(Mo);if(So=Eo,Xo<lo)Po=wo._segment1;else if(Xo>_o)Po=wo._segment2;else{var Co=wo.divideAtTime(Xo,!0);if(to)bo.push(wo,Co);Po=Co._segment1;for(var Yo=ho.length-1;Yo>=0;Yo--){var Ao=ho[Yo];Ao._time=(Ao._time-Xo)/(1-Xo)}}Mo._setSegment(Po);var Go=Po._intersection,oa=Mo._intersection;if(Go){ao(Go,oa);var Qo=Go;while(Qo)ao(Qo._intersection,Go),Qo=Qo._next}else Po._intersection=oa}if(!so)Y(bo);return Q||oo}function A(oo,eo,so,Q,lo){var _o=Array.isArray(eo)?eo:eo[so?"hor":"ver"],to=so?1:0,bo=to^1,go=[oo.x,oo.y],ho=go[to],yo=go[bo],So=0.000000001,Ro=0.000001,Zo=ho-So,wo=ho+So,Mo=0,Xo=0,Eo=0,Ko=0,Po=!1,Co=!1,Yo=1,Ao=[],Go,oa;function Qo(ca){var Ta=ca[bo+0],Wa=ca[bo+6];if(yo<e(Ta,Wa)||yo>i(Ta,Wa))return;var Va=ca[to+0],xe=ca[to+2],Hn=ca[to+4],qe=ca[to+6];if(Ta===Wa){if(Va<wo&&qe>Zo||qe<wo&&Va>Zo)Po=!0;return}var Ee=yo===Ta?0:yo===Wa?1:Zo>i(Va,xe,Hn,qe)||wo<e(Va,xe,Hn,qe)?1:h.solveCubic(ca,bo,yo,Ao,0,1)>0?Ao[0]:1,ee=Ee===0?Va:Ee===1?qe:h.getPoint(ca,Ee)[so?"y":"x"],se=Ta>Wa?1:-1,Ss=Go[bo]>Go[bo+6]?1:-1,Pe=Go[to+6];if(yo!==Ta){if(ee<Zo)Eo+=se;else if(ee>wo)Ko+=se;else Po=!0;if(ee>ho-Ro&&ee<ho+Ro)Yo/=2}else{if(se!==Ss){if(Va<Zo)Eo+=se;else if(Va>wo)Ko+=se}else if(Va!=Pe){if(Pe<wo&&ee>wo)Ko+=se,Po=!0;else if(Pe>Zo&&ee<Zo)Eo+=se,Po=!0}Yo/=4}return Go=ca,!lo&&ee>Zo&&ee<wo&&h.getTangent(ca,Ee)[so?"x":"y"]===0&&A(oo,eo,!so,Q,!0)}function ra(ca){var Ta=ca[bo+0],Wa=ca[bo+2],Va=ca[bo+4],xe=ca[bo+6];if(yo<=i(Ta,Wa,Va,xe)&&yo>=e(Ta,Wa,Va,xe)){var Hn=ca[to+0],qe=ca[to+2],Ee=ca[to+4],ee=ca[to+6],se=Zo>i(Hn,qe,Ee,ee)||wo<e(Hn,qe,Ee,ee)?[ca]:h.getMonoCurves(ca,so),Ss;for(var Pe=0,z6=se.length;Pe<z6;Pe++)if(Ss=Qo(se[Pe]))return Ss}}for(var aa=0,sa=_o.length;aa<sa;aa++){var la=_o[aa],na=la._path,ta=la.getValues(),da;if(!aa||_o[aa-1]._path!==na){if(Go=null,!na._closed){if(oa=h.getValues(na.getLastCurve().getSegment2(),la.getSegment1(),null,!Q),oa[bo]!==oa[bo+6])Go=oa}if(!Go){Go=ta;var _a=na.getLastCurve();while(_a&&_a!==la){var ua=_a.getValues();if(ua[bo]!==ua[bo+6]){Go=ua;break}_a=_a.getPrevious()}}}if(da=ra(ta))return da;if(aa+1===sa||_o[aa+1]._path!==na){if(oa&&(da=ra(oa)))return da;if(Po&&!Eo&&!Ko)Eo=Ko=na.isClockwise(Q)^so?1:-1;if(Mo+=Eo,Xo+=Ko,Eo=Ko=0,Po)Co=!0,Po=!1;oa=null}}return Mo=f(Mo),Xo=f(Xo),{winding:i(Mo,Xo),windingL:Mo,windingR:Xo,quality:Yo,onPath:Co}}function ro(oo,eo,so,Q,lo){var _o=[],to=oo,bo=0,So;do{var go=oo.getCurve();if(go){var ho=go.getLength();_o.push({segment:oo,curve:go,length:ho}),bo+=ho}oo=oo.getNext()}while(oo&&!oo._intersection&&oo!==to);var yo=[0.5,0.25,0.75],So={winding:0,quality:-1},Ro=0.001,Zo=1-Ro;for(var wo=0;wo<yo.length&&So.quality<0.5;wo++){var ho=bo*yo[wo];for(var Mo=0,Xo=_o.length;Mo<Xo;Mo++){var Eo=_o[Mo],Ko=Eo.length;if(ho<=Ko){var go=Eo.curve,Po=go._path,Co=Po._parent,Yo=Co instanceof S?Co:Po,Ao=M.clamp(go.getTimeAt(ho),Ro,Zo),Go=go.getPointAtTime(Ao),oa=f(go.getTangentAtTime(Ao).y)<Math.SQRT1_2,Qo=null;if(lo.subtract&&so){var ra=Yo===eo?so:eo,aa=ra._getWinding(Go,oa,!0);if(Yo===eo&&aa.winding||Yo===so&&!aa.winding)if(aa.quality<1)continue;else Qo={winding:0,quality:1}}if(Qo=Qo||A(Go,Q[Po._id][go.getIndex()],oa,!0),Qo.quality>So.quality)So=Qo;break}ho-=Ko}}for(var Mo=_o.length-1;Mo>=0;Mo--)_o[Mo].segment._winding=So}function No(oo,eo){var so=[],Q;function lo(sa){var la;return!!(sa&&!sa._visited&&(!eo||eo[(la=sa._winding||{}).winding]&&!(eo.unite&&la.winding===2&&la.windingL&&la.windingR)))}function _o(sa){if(sa){for(var la=0,na=Q.length;la<na;la++)if(sa===Q[la])return!0}return!1}function to(sa){var la=sa._segments;for(var na=0,ta=la.length;na<ta;na++)la[na]._visited=!0}function bo(sa,la){var na=sa._intersection,ta=na,da=[];if(la)Q=[sa];function _a(ua,ca){while(ua&&ua!==ca){var Ta=ua._segment,Wa=Ta&&Ta._path;if(Wa){var Va=Ta.getNext()||Wa.getFirstSegment(),xe=Va._intersection;if(Ta!==sa&&(_o(Ta)||_o(Va)||Va&&(lo(Ta)&&(lo(Va)||xe&&lo(xe._segment)))))da.push(Ta);if(la)Q.push(Ta)}ua=ua._next}}if(na){_a(na);while(na&&na._previous)na=na._previous;_a(na,ta)}return da}oo.sort(function(sa,la){var na=sa._intersection,ta=la._intersection,da=!!(na&&na._overlap),_a=!!(ta&&ta._overlap),ua=sa._path,ca=la._path;return da^_a?da?1:-1:!na^!ta?na?1:-1:ua!==ca?ua._id-ca._id:sa._index-la._index});for(var go=0,ho=oo.length;go<ho;go++){var yo=oo[go],So=lo(yo),Ro=null,Zo=!1,wo=!0,Mo=[],Xo,Eo,Ko;if(So&&yo._path._overlapsOnly){var Po=yo._path,Co=yo._intersection._segment._path;if(Po.compare(Co)){if(Po.getArea())so.push(Po.clone(!1));to(Po),to(Co),So=!1}}while(So){var Yo=!Ro,Ao=bo(yo,Yo),Go=Ao.shift(),Zo=!Yo&&(_o(yo)||_o(Go)),oa=!Zo&&Go;if(Yo)Ro=new t(po.NO_INSERT),Xo=null;if(Zo){if(yo.isFirst()||yo.isLast())wo=yo._path._closed;yo._visited=!0;break}if(oa&&Xo)Mo.push(Xo),Xo=null;if(!Xo){if(oa)Ao.push(yo);Xo={start:Ro._segments.length,crossings:Ao,visited:Eo=[],handleIn:Ko}}if(oa)yo=Go;if(!lo(yo)){Ro.removeSegments(Xo.start);for(var Qo=0,ra=Eo.length;Qo<ra;Qo++)Eo[Qo]._visited=!1;Eo.length=0;do if(yo=Xo&&Xo.crossings.shift(),!yo||!yo._path){if(yo=null,Xo=Mo.pop(),Xo)Eo=Xo.visited,Ko=Xo.handleIn}while(Xo&&!lo(yo));if(!yo)break}var aa=yo.getNext();Ro.add(new m(yo._point,Ko,aa&&yo._handleOut)),yo._visited=!0,Eo.push(yo),yo=aa||yo._path.getFirstSegment(),Ko=aa&&aa._handleIn}if(Zo){if(wo)Ro.getFirstSegment().setHandleIn(Ko),Ro.setClosed(wo);if(Ro.getArea()!==0)so.push(Ro)}}return so}return{_getWinding:function(oo,eo,so){return A(oo,this.getCurves(),eo,so)},unite:function(oo,eo){return z(this,oo,"unite",eo)},intersect:function(oo,eo){return z(this,oo,"intersect",eo)},subtract:function(oo,eo){return z(this,oo,"subtract",eo)},exclude:function(oo,eo){return z(this,oo,"exclude",eo)},divide:function(oo,eo){return eo&&(eo.trace==!1||eo.stroke)?J(this,oo,"divide"):F([this.subtract(oo,eo),this.intersect(oo,eo)],!0,this,oo,eo)},resolveCrossings:function(){var oo=this._children,eo=oo||[this];function so(Xo,Eo){var Ko=Xo&&Xo._intersection;return Ko&&Ko._overlap&&Ko._path===Eo}var Q=!1,lo=!1,_o=this.getIntersections(null,function(Xo){return Xo.hasOverlap()&&(Q=!0)||Xo.isCrossing()&&(lo=!0)}),to=Q&&lo&&[];if(_o=d.expand(_o),Q){var bo=no(_o,function(Xo){return Xo.hasOverlap()},to);for(var go=bo.length-1;go>=0;go--){var ho=bo[go],yo=ho._path,So=ho._segment,Ro=So.getPrevious(),Zo=So.getNext();if(so(Ro,yo)&&so(Zo,yo)){if(So.remove(),Ro._handleOut._set(0,0),Zo._handleIn._set(0,0),Ro!==So&&!Ro.getCurve().hasLength())Zo._handleIn.set(Ro._handleIn),Ro.remove()}}}if(lo){if(no(_o,Q&&function(Xo){var Eo=Xo.getCurve(),Ko=Xo.getSegment(),Po=Xo._intersection,Co=Po._curve,Yo=Po._segment;if(Eo&&Co&&Eo._path&&Co._path)return!0;if(Ko)Ko._intersection=null;if(Yo)Yo._intersection=null},to),to)Y(to);eo=No(k.each(eo,function(Xo){k.push(this,Xo._segments)},[]))}var wo=eo.length,Mo;if(wo>1&&oo){if(eo!==oo)this.setChildren(eo);Mo=this}else if(wo===1&&!oo){if(eo[0]!==this)this.setSegments(eo[0].removeSegments());Mo=this}if(!Mo)Mo=new S(po.NO_INSERT),Mo.addChildren(eo),Mo=Mo.reduce(),Mo.copyAttributes(this),this.replaceWith(Mo);return Mo},reorient:function(oo,eo){var so=this._children;if(so&&so.length)this.setChildren(G(this.removeChildren(),function(Q){return!!(oo?Q:Q&1)},eo));else if(eo!==b)this.setClockwise(eo);return this},getInteriorPoint:function(){var oo=this.getBounds(),eo=oo.getCenter(!0);if(!this.contains(eo)){var so=this.getCurves(),Q=eo.y,lo=[],_o=[];for(var to=0,bo=so.length;to<bo;to++){var go=so[to].getValues(),ho=go[1],yo=go[3],So=go[5],Ro=go[7];if(Q>=e(ho,yo,So,Ro)&&Q<=i(ho,yo,So,Ro)){var Zo=h.getMonoCurves(go);for(var wo=0,Mo=Zo.length;wo<Mo;wo++){var Xo=Zo[wo],Eo=Xo[1],Ko=Xo[7];if(Eo!==Ko&&(Q>=Eo&&Q<=Ko||Q>=Ko&&Q<=Eo)){var Po=Q===Eo?Xo[0]:Q===Ko?Xo[6]:h.solveCubic(Xo,1,Q,_o,0,1)===1?h.getPoint(Xo,_o[0]).x:(Xo[0]+Xo[6])/2;lo.push(Po)}}}}if(lo.length>1)lo.sort(function(Co,Yo){return Co-Yo}),eo.x=(lo[0]+lo[1])/2}return eo}}});var U=k.extend({_class:"PathFlattener",initialize:function(e,i,f,N,V){var X=[],F=[],K=0,z=1/(f||32),J=e._segments,ao=J[0],Y;function G(No,oo){var eo=h.getValues(No,oo,V);X.push(eo),no(eo,No._index,0,1)}function no(No,oo,eo,so){if(so-eo>z&&!(N&&h.isStraight(No))&&!h.isFlatEnough(No,i||0.25)){var Q=h.subdivide(No,0.5),lo=(eo+so)/2;no(Q[0],oo,eo,lo),no(Q[1],oo,lo,so)}else{var _o=No[6]-No[0],to=No[7]-No[1],bo=Math.sqrt(_o*_o+to*to);if(bo>0)K+=bo,F.push({offset:K,curve:No,index:oo,time:so})}}for(var A=1,ro=J.length;A<ro;A++)Y=J[A],G(ao,Y),ao=Y;if(e._closed)G(Y||ao,J[0]);this.curves=X,this.parts=F,this.length=K,this.index=0},_get:function(e){var i=this.parts,f=i.length,N,V,X=this.index;for(;;)if(V=X,!X||i[--X].offset<e)break;for(;V<f;V++){var F=i[V];if(F.offset>=e){this.index=V;var K=i[V-1],z=K&&K.index===F.index?K.time:0,J=K?K.offset:0;return{index:F.index,time:z+(F.time-z)*(e-J)/(F.offset-J)}}}return{index:i[f-1].index,time:1}},drawPart:function(e,i,f){var N=this._get(i),V=this._get(f);for(var X=N.index,F=V.index;X<=F;X++){var K=h.getPart(this.curves[X],X===N.index?N.time:0,X===V.index?V.time:1);if(X===N.index)e.moveTo(K[0],K[1]);e.bezierCurveTo.apply(e,K.slice(2))}}},k.each(h._evaluateMethods,function(e){this[e+"At"]=function(i){var f=this._get(i);return h[e](this.curves[f.index],f.time)}},{})),P=k.extend({initialize:function(e){var i=this.points=[],f=e._segments,N=e._closed;for(var V=0,X,F=f.length;V<F;V++){var K=f[V].point;if(!X||!X.equals(K))i.push(X=K.clone())}if(N)i.unshift(i[i.length-1]),i.push(i[1]);this.closed=N},fit:function(e){var i=this.points,f=i.length,N=null;if(f>0){if(N=[new m(i[0])],f>1){if(this.fitCubic(N,e,0,f-1,i[1].subtract(i[0]),i[f-2].subtract(i[f-1])),this.closed)N.shift(),N.pop()}}return N},fitCubic:function(e,i,f,N,V,X){var F=this.points;if(N-f===1){var K=F[f],z=F[N],J=K.getDistance(z)/3;this.addCurve(e,[K,K.add(V.normalize(J)),z.add(X.normalize(J)),z]);return}var ao=this.chordLengthParameterize(f,N),Y=Math.max(i,i*i),G,no=!0;for(var A=0;A<=4;A++){var ro=this.generateBezier(f,N,ao,V,X),No=this.findMaxError(f,N,ro,ao);if(No.error<i&&no){this.addCurve(e,ro);return}if(G=No.index,No.error>=Y)break;no=this.reparameterize(f,N,ao,ro),Y=No.error}var oo=F[G-1].subtract(F[G+1]);this.fitCubic(e,i,f,G,V,oo),this.fitCubic(e,i,G,N,oo.negate(),X)},addCurve:function(e,i){var f=e[e.length-1];f.setHandleOut(i[1].subtract(i[0])),e.push(new m(i[3],i[2].subtract(i[3])))},generateBezier:function(e,i,f,N,V){var X=0.000000000001,F=Math.abs,K=this.points,z=K[e],J=K[i],ao=[[0,0],[0,0]],Y=[0,0];for(var G=0,no=i-e+1;G<no;G++){var A=f[G],ro=1-A,No=3*A*ro,oo=ro*ro*ro,eo=No*ro,so=No*A,Q=A*A*A,lo=N.normalize(eo),_o=V.normalize(so),to=K[e+G].subtract(z.multiply(oo+eo)).subtract(J.multiply(so+Q));ao[0][0]+=lo.dot(lo),ao[0][1]+=lo.dot(_o),ao[1][0]=ao[0][1],ao[1][1]+=_o.dot(_o),Y[0]+=lo.dot(to),Y[1]+=_o.dot(to)}var bo=ao[0][0]*ao[1][1]-ao[1][0]*ao[0][1],go,ho;if(F(bo)>X){var yo=ao[0][0]*Y[1]-ao[1][0]*Y[0],So=Y[0]*ao[1][1]-Y[1]*ao[0][1];go=So/bo,ho=yo/bo}else{var Ro=ao[0][0]+ao[0][1],Zo=ao[1][0]+ao[1][1];go=ho=F(Ro)>X?Y[0]/Ro:F(Zo)>X?Y[1]/Zo:0}var wo=J.getDistance(z),Mo=X*wo,Xo,Eo;if(go<Mo||ho<Mo)go=ho=wo/3;else{var Ko=J.subtract(z);if(Xo=N.normalize(go),Eo=V.normalize(ho),Xo.dot(Ko)-Eo.dot(Ko)>wo*wo)go=ho=wo/3,Xo=Eo=null}return[z,z.add(Xo||N.normalize(go)),J.add(Eo||V.normalize(ho)),J]},reparameterize:function(e,i,f,N){for(var V=e;V<=i;V++)f[V-e]=this.findRoot(N,this.points[V],f[V-e]);for(var V=1,X=f.length;V<X;V++)if(f[V]<=f[V-1])return!1;return!0},findRoot:function(e,i,f){var N=[],V=[];for(var X=0;X<=2;X++)N[X]=e[X+1].subtract(e[X]).multiply(3);for(var X=0;X<=1;X++)V[X]=N[X+1].subtract(N[X]).multiply(2);var F=this.evaluate(3,e,f),K=this.evaluate(2,N,f),z=this.evaluate(1,V,f),J=F.subtract(i),ao=K.dot(K)+J.dot(z);return M.isMachineZero(ao)?f:f-J.dot(K)/ao},evaluate:function(e,i,f){var N=i.slice();for(var V=1;V<=e;V++)for(var X=0;X<=e-V;X++)N[X]=N[X].multiply(1-f).add(N[X+1].multiply(f));return N[0]},chordLengthParameterize:function(e,i){var f=[0];for(var N=e+1;N<=i;N++)f[N-e]=f[N-e-1]+this.points[N].getDistance(this.points[N-1]);for(var N=1,V=i-e;N<=V;N++)f[N]/=f[V];return f},findMaxError:function(e,i,f,N){var V=Math.floor((i-e+1)/2),X=0;for(var F=e+1;F<i;F++){var K=this.evaluate(3,f,N[F-e]),z=K.subtract(this.points[F]),J=z.x*z.x+z.y*z.y;if(J>=X)X=J,V=F}return{error:X,index:V}}}),fo=po.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function e(i){this._content="",this._lines=[];var f=i&&k.isPlainObject(i)&&i.x===b&&i.y===b;this._initialize(f&&i,!f&&q.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),vo=fo.extend({_class:"PointText",initialize:function e(){fo.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new g(e.x,e.y,this,"setPoint")},setPoint:function(){var e=q.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,i,f){if(!this._content)return;this._setStyles(e,i,f);var N=this._lines,V=this._style,X=V.hasFill(),F=V.hasStroke(),K=V.getLeading(),z=e.shadowColor;e.font=V.getFontStyle(),e.textAlign=V.getJustification();for(var J=0,ao=N.length;J<ao;J++){e.shadowColor=z;var Y=N[J];if(X)e.fillText(Y,0,0),e.shadowColor="rgba(0,0,0,0)";if(F)e.strokeText(Y,0,0);e.translate(0,K)}},_getBounds:function(e,i){var f=this._style,N=this._lines,V=N.length,X=f.getJustification(),F=f.getLeading(),K=this.getView().getTextWidth(f.getFontStyle(),N),z=0;if(X!=="left")z-=K/(X==="center"?2:1);var J=new W(z,V?-0.75*F:0,K,V*F);return e?e._transformBounds(J,J):J}}),xo=k.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},f={transparent:[0,0,0,0]},N;function V(K){var z=K.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||K.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),J="rgb",ao;if(z){var Y=z[4]?4:3;ao=new Array(Y);for(var G=0;G<Y;G++){var no=z[G+1];ao[G]=parseInt(no.length==1?no+no:no,16)/255}}else if(z=K.match(/^(rgb|hsl)a?\((.*)\)$/)){J=z[1],ao=z[2].trim().split(/[,\s]+/g);var A=J==="hsl";for(var G=0,ro=Math.min(ao.length,4);G<ro;G++){var No=ao[G],no=parseFloat(No);if(A){if(G===0){var oo=No.match(/([a-z]*)$/)[1];no*={turn:360,rad:180/Math.PI,grad:0.9}[oo]||1}else if(G<3)no/=100}else if(G<3)no/=/%$/.test(No)?100:255;ao[G]=no}}else{var eo=f[K];if(!eo)if(x){if(!N)N=Bo.getContext(1,1,{willReadFrequently:!0}),N.globalCompositeOperation="copy";N.fillStyle="rgba(0,0,0,0)",N.fillStyle=K,N.fillRect(0,0,1,1);var so=N.getImageData(0,0,1,1).data;eo=f[K]=[so[0]/255,so[1]/255,so[2]/255]}else eo=[0,0,0];ao=eo.slice()}return[J,ao]}var X=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],F={"rgb-hsb":function(K,z,J){var ao=Math.max(K,z,J),Y=Math.min(K,z,J),G=ao-Y,no=G===0?0:(ao==K?(z-J)/G+(z<J?6:0):ao==z?(J-K)/G+2:(K-z)/G+4)*60;return[no,ao===0?0:G/ao,ao]},"hsb-rgb":function(K,z,J){K=(K/60%6+6)%6;var Y=Math.floor(K),ao=K-Y,Y=X[Y],G=[J,J*(1-z),J*(1-z*ao),J*(1-z*(1-ao))];return[G[Y[0]],G[Y[1]],G[Y[2]]]},"rgb-hsl":function(K,z,J){var ao=Math.max(K,z,J),Y=Math.min(K,z,J),G=ao-Y,no=G===0,A=no?0:(ao==K?(z-J)/G+(z<J?6:0):ao==z?(J-K)/G+2:(K-z)/G+4)*60,ro=(ao+Y)/2,No=no?0:ro<0.5?G/(ao+Y):G/(2-ao-Y);return[A,No,ro]},"hsl-rgb":function(K,z,J){if(K=(K/360%1+1)%1,z===0)return[J,J,J];var ao=[K+0.3333333333333333,K,K-0.3333333333333333],Y=J<0.5?J*(1+z):J+z-J*z,G=2*J-Y,no=[];for(var A=0;A<3;A++){var ro=ao[A];if(ro<0)ro+=1;if(ro>1)ro-=1;no[A]=6*ro<1?G+(Y-G)*6*ro:2*ro<1?Y:3*ro<2?G+(Y-G)*(0.6666666666666666-ro)*6:G}return no},"rgb-gray":function(K,z,J){return[K*0.2989+z*0.587+J*0.114]},"gray-rgb":function(K){return[K,K,K]},"gray-hsb":function(K){return[0,0,K]},"gray-hsl":function(K){return[0,0,K]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return k.each(e,function(K,z){i[z]=[],k.each(K,function(J,ao){var Y=k.capitalize(J),G=/^(hue|saturation)$/.test(J),no=i[z][ao]=z==="gradient"?J==="gradient"?function(A){var ro=this._components[0];if(A=mo.read(Array.isArray(A)?A:arguments,0,{readNull:!0}),ro!==A){if(ro)ro._removeOwner(this);if(A)A._addOwner(this)}return A}:function(){return q.read(arguments,0,{readNull:J==="highlight",clone:!0})}:function(A){return A==null||isNaN(A)?0:+A};this["get"+Y]=function(){return this._type===z||G&&/^hs[bl]$/.test(this._type)?this._components[ao]:this._convert(z)[ao]},this["set"+Y]=function(A){if(this._type!==z&&!(G&&/^hs[bl]$/.test(this._type)))this._components=this._convert(z),this._properties=e[z],this._type=z;this._components[ao]=no.call(this,A),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function K(z){var J=arguments,ao=this.__read,Y=0,G,no,A,ro;if(Array.isArray(z))J=z,z=J[0];var No=z!=null&&typeof z;if(No==="string"&&z in e)if(G=z,z=J[1],Array.isArray(z))no=z,A=J[2];else{if(ao)Y=1;J=k.slice(J,1),No=typeof z}if(!no){if(ro=No==="number"?J:No==="object"&&z.length!=null?z:null,ro){if(!G)G=ro.length>=3?"rgb":"gray";var oo=e[G].length;if(A=ro[oo],ao)Y+=ro===arguments?oo+(A!=null?1:0):1;if(ro.length>oo)ro=k.slice(ro,0,oo)}else if(No==="string"){var eo=V(z);if(G=eo[0],no=eo[1],no.length===4)A=no[3],no.length--}else if(No==="object")if(z.constructor===K){if(G=z._type,no=z._components.slice(),A=z._alpha,G==="gradient")for(var so=1,Q=no.length;so<Q;so++){var lo=no[so];if(lo)no[so]=lo.clone()}}else if(z.constructor===mo)G="gradient",ro=J;else{G="hue"in z?"lightness"in z?"hsl":"hsb":("gradient"in z)||("stops"in z)||("radial"in z)?"gradient":("gray"in z)?"gray":"rgb";var _o=e[G],to=i[G];this._components=no=[];for(var so=0,Q=_o.length;so<Q;so++){var bo=z[_o[so]];if(bo==null&&!so&&G==="gradient"&&"stops"in z)bo={stops:z.stops,radial:z.radial};if(bo=to[so].call(this,bo),bo!=null)no[so]=bo}A=z.alpha}if(ao&&G)Y=1}if(this._type=G||"rgb",!no){this._components=no=[];var to=i[this._type];for(var so=0,Q=to.length;so<Q;so++){var bo=to[so].call(this,ro&&ro[so]);if(bo!=null)no[so]=bo}}if(this._components=no,this._properties=e[this._type],this._alpha=A,ao)this.__read=Y;return this},set:"#initialize",_serialize:function(K,z){var J=this.getComponents();return k.serialize(/^(gray|rgb)$/.test(this._type)?J:[this._type].concat(J),K,!0,z)},_changed:function(){if(this._canvasStyle=null,this._owner)if(this._setter)this._owner[this._setter](this);else this._owner._changed(129)},_convert:function(K){var z;return this._type===K?this._components.slice():(z=F[this._type+"-"+K])?z.apply(this,this._components):F["rgb-"+K].apply(this,F[this._type+"-rgb"].apply(this,this._components))},convert:function(K){return new xo(K,this._convert(K),this._alpha)},getType:function(){return this._type},setType:function(K){this._components=this._convert(K),this._properties=e[K],this._type=K},getComponents:function(){var K=this._components.slice();if(this._alpha!=null)K.push(this._alpha);return K},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(K){this._alpha=K==null?null:Math.min(Math.max(K,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(K){var z=k.isPlainValue(K,!0)?xo.read(arguments):K;return z===this||z&&this._class===z._class&&this._type===z._type&&this.getAlpha()===z.getAlpha()&&k.equals(this._components,z._components)||!1},toString:function(){var K=this._properties,z=[],J=this._type==="gradient",ao=T.instance;for(var Y=0,G=K.length;Y<G;Y++){var no=this._components[Y];if(no!=null)z.push(K[Y]+": "+(J?no:ao.number(no)))}if(this._alpha!=null)z.push("alpha: "+ao.number(this._alpha));return"{ "+z.join(", ")+" }"},toCSS:function(K){var z=this._convert("rgb"),J=K||this._alpha==null?1:this._alpha;function ao(Y){return Math.round((Y<0?0:Y>1?1:Y)*255)}if(z=[ao(z[0]),ao(z[1]),ao(z[2])],J<1)z.push(J<0?0:J);return K?"#"+(16777216+(z[0]<<16)+(z[1]<<8)+z[2]).toString(16).slice(1):(z.length==4?"rgba(":"rgb(")+z.join(",")+")"},toCanvasStyle:function(K,z){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var J=this._components,ao=J[0],Y=ao._stops,G=J[1],no=J[2],A=J[3],ro=z&&z.inverted(),No;if(ro){if(G=ro._transformPoint(G),no=ro._transformPoint(no),A)A=ro._transformPoint(A)}if(ao._radial){var oo=no.getDistance(G);if(A){var eo=A.subtract(G);if(eo.getLength()>oo)A=G.add(eo.normalize(oo-0.1))}var so=A||G;No=K.createRadialGradient(so.x,so.y,0,G.x,G.y,oo)}else No=K.createLinearGradient(G.x,G.y,no.x,no.y);for(var Q=0,lo=Y.length;Q<lo;Q++){var _o=Y[Q],to=_o._offset;No.addColorStop(to==null?Q/(lo-1):to,_o._color.toCanvasStyle())}return this._canvasStyle=No},transform:function(K){if(this._type==="gradient"){var z=this._components;for(var J=1,ao=z.length;J<ao;J++){var Y=z[J];K._transformPoint(Y,Y,!0)}this._changed()}},statics:{_types:e,random:function(){var K=Math.random;return new xo(K(),K(),K())},_setOwner:function(K,z,J){if(K){if(K._owner&&z&&K._owner!==z)K=K.clone();if(!K._owner^!z)K._owner=z||null,K._setter=J||null}return K}}})},new function(){var e={add:function(i,f){return i+f},subtract:function(i,f){return i-f},multiply:function(i,f){return i*f},divide:function(i,f){return i/f}};return k.each(e,function(i,f){this[f]=function(N){N=xo.read(arguments);var V=this._type,X=this._components,F=N._convert(V);for(var K=0,z=X.length;K<z;K++)F[K]=i(X[K],F[K]);return new xo(V,F,this._alpha!=null?i(this._alpha,N.getAlpha()):null)}},{})}),mo=k.extend({_class:"Gradient",initialize:function e(i,f){if(this._id=$.get(),i&&k.isPlainObject(i))this.set(i),i=f=null;if(this._stops==null)this.setStops(i||["white","black"]);if(this._radial==null)this.setRadial(typeof f==="string"&&f==="radial"||f||!1)},_serialize:function(e,i){return i.add(this,function(){return k.serialize([this._stops,this._radial],e,!0,i)})},_changed:function(){for(var e=0,i=this._owners&&this._owners.length;e<i;e++)this._owners[e]._changed()},_addOwner:function(e){if(!this._owners)this._owners=[];this._owners.push(e)},_removeOwner:function(e){var i=this._owners?this._owners.indexOf(e):-1;if(i!=-1){if(this._owners.splice(i,1),!this._owners.length)this._owners=b}},clone:function(){var e=[];for(var i=0,f=this._stops.length;i<f;i++)e[i]=this._stops[i].clone();return new mo(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var f=0,N=i.length;f<N;f++)i[f]._owner=b;i=this._stops=io.readList(e,0,{clone:!0});for(var f=0,N=i.length;f<N;f++)i[f]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var i=this._stops,f=e._stops,N=i.length;if(N===f.length){for(var V=0;V<N;V++)if(!i[V].equals(f[V]))return!1;return!0}}return!1}}),io=k.extend({_class:"GradientStop",initialize:function e(i,f){var N=i,V=f;if(typeof i==="object"&&f===b){if(Array.isArray(i)&&typeof i[0]!=="number")N=i[0],V=i[1];else if("color"in i||"offset"in i||"rampPoint"in i)N=i.color,V=i.offset||i.rampPoint||0}this.setColor(N),this.setOffset(V)},clone:function(){return new io(this._color.clone(),this._offset)},_serialize:function(e,i){var f=this._color,N=this._offset;return k.serialize(N==null?[f]:[f,N],e,!0,i)},_changed:function(){if(this._owner)this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){xo._setOwner(this._color,null),this._color=xo._setOwner(xo.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),ko=k.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new q,selectedColor:null},i=k.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),f=k.set({},i,{fillColor:new xo}),N={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},V={beans:!0},X={_class:"Style",beans:!0,initialize:function F(K,z,J){if(this._values={},this._owner=z,this._project=z&&z._project||J||O.project,this._defaults=!z||z instanceof To?i:z instanceof fo?f:e,K)this.set(K)}};return k.each(i,function(F,K){var z=/Color$/.test(K),J=K==="shadowOffset",ao=k.capitalize(K),Y=N[K],G="set"+ao,no="get"+ao;X[G]=function(A){var ro=this._owner,No=ro&&ro._children,oo=No&&No.length>0&&!(ro instanceof S);if(oo)for(var eo=0,so=No.length;eo<so;eo++)No[eo]._style[G](A);if((K==="selectedColor"||!oo)&&K in this._defaults){var Q=this._values[K];if(Q!==A){if(z){if(Q)xo._setOwner(Q,null),Q._canvasStyle=null;if(A&&A.constructor===xo)A=xo._setOwner(A,ro,oo&&G)}if(this._values[K]=A,ro)ro._changed(Y||129)}}},X[no]=function(A){var ro=this._owner,No=ro&&ro._children,oo=No&&No.length>0&&!(ro instanceof S),eo;if(oo&&!A)for(var so=0,Q=No.length;so<Q;so++){var lo=No[so]._style[no]();if(!so)eo=lo;else if(!k.equals(eo,lo))return b}else if(K in this._defaults){var eo=this._values[K];if(eo===b){if(eo=this._defaults[K],eo&&eo.clone)eo=eo.clone()}else{var _o=z?xo:J?q:null;if(_o&&!(eo&&eo.constructor===_o))this._values[K]=eo=_o.read([eo],0,{readNull:!0,clone:!0})}}if(eo&&z)eo=xo._setOwner(eo,ro,oo&&G);return eo},V[no]=function(A){return this._style[no](A)},V[G]=function(A){this._style[G](A)}}),k.each({Font:"FontFamily",WindingRule:"FillRule"},function(F,K){var z="get"+K,J="set"+K;X[z]=V[z]="#get"+F,X[J]=V[J]="#set"+F}),po.inject(V),X},{set:function(e){var i=e instanceof ko,f=i?e._values:e;if(f){for(var N in f)if(N in this._defaults){var V=f[N];this[N]=V&&i&&V.clone?V.clone():V}}},equals:function(e){function i(f,N,V){var X=f._values,F=N._values,K=N._defaults;for(var z in X){var J=X[z],ao=F[z];if(!(V&&(z in F))&&!k.equals(J,ao===b?K[z]:ao))return!1}return!0}return e===this||e&&this._class===e._class&&i(this,e)&&i(e,this,!0)||!1},_dispose:function(){var e=this.getFillColor();if(e)e._canvasStyle=null;if(e=this.getStrokeColor(),e)e._canvasStyle=null;if(e=this.getShadowColor(),e)e._canvasStyle=null},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var i=e.base.call(this),f=this.getFontSize();if(/pt|em|%|px/.test(f))f=this.getView().getPixelSize(f);return i!=null?i:f*1.2}}),Io=new function(){function e(i,f,N,V){var X=["","webkit","moz","Moz","ms","o"],F=f[0].toUpperCase()+f.substring(1);for(var K=0;K<6;K++){var z=X[K],J=z?z+F:f;if(J in i){if(N)i[J]=V;else return i[J];break}}}return{getStyles:function(i){var f=i&&i.nodeType!==9?i.ownerDocument:i,N=f&&f.defaultView;return N&&N.getComputedStyle(i,"")},getBounds:function(i,f){var N=i.ownerDocument,V=N.body,X=N.documentElement,F;try{F=i.getBoundingClientRect()}catch(ao){F={left:0,top:0,width:0,height:0}}var K=F.left-(X.clientLeft||V.clientLeft||0),z=F.top-(X.clientTop||V.clientTop||0);if(!f){var J=N.defaultView;K+=J.pageXOffset||X.scrollLeft||V.scrollLeft,z+=J.pageYOffset||X.scrollTop||V.scrollTop}return new W(K,z,F.width,F.height)},getViewportBounds:function(i){var f=i.ownerDocument,N=f.defaultView,V=f.documentElement;return new W(0,0,N.innerWidth||V.clientWidth,N.innerHeight||V.clientHeight)},getOffset:function(i,f){return Io.getBounds(i,f).getPoint()},getSize:function(i){return Io.getBounds(i,!0).getSize()},isInvisible:function(i){return Io.getSize(i).equals(new w(0,0))},isInView:function(i){return!Io.isInvisible(i)&&Io.getViewportBounds(i).intersects(Io.getBounds(i,!0))},isInserted:function(i){return u.body.contains(i)},getPrefixed:function(i,f){return i&&e(i,f)},setPrefixed:function(i,f,N){if(typeof f==="object")for(var V in f)e(i,V,!0,f[V]);else e(i,f,!0,N)}}},qo={add:function(e,i){if(e)for(var f in i){var N=i[f],V=f.split(/[\s,]+/g);for(var X=0,F=V.length;X<F;X++){var K=V[X],z=e===u&&(K==="touchstart"||K==="touchmove")?{passive:!1}:!1;e.addEventListener(K,N,z)}}},remove:function(e,i){if(e)for(var f in i){var N=i[f],V=f.split(/[\s,]+/g);for(var X=0,F=V.length;X<F;X++)e.removeEventListener(V[X],N,!1)}},getPoint:function(e){var i=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new q(i.pageX||i.clientX+u.documentElement.scrollLeft,i.pageY||i.clientY+u.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,i){return qo.getPoint(e).subtract(Io.getOffset(i||qo.getTarget(e)))}};qo.requestAnimationFrame=new function(){var e=Io.getPrefixed(x,"requestAnimationFrame"),i=!1,f=[],N;function V(){var X=f;f=[];for(var F=0,K=X.length;F<K;F++)X[F]();if(i=e&&f.length,i)e(V)}return function(X){if(f.push(X),e){if(!i)e(V),i=!0}else if(!N)N=setInterval(V,16.666666666666668)}};var Oo=k.extend(L,{_class:"View",initialize:function e(i,f){function N(Y){return f[Y]||parseInt(f.getAttribute(Y),10)}function V(){var Y=Io.getSize(f);return Y.isNaN()||Y.isZero()?new w(N("width"),N("height")):Y}var X;if(x&&f){if(this._id=f.getAttribute("id"),this._id==null)f.setAttribute("id",this._id="paper-view-"+e._id++);qo.add(f,this._viewEvents);var F="none";if(Io.setPrefixed(f.style,{userDrag:F,userSelect:F,touchCallout:F,contentZooming:F,tapHighlightColor:"rgba(0,0,0,0)"}),y.hasAttribute(f,"resize")){var K=this;qo.add(x,this._windowEvents={resize:function(){K.setViewSize(V())}})}if(X=V(),y.hasAttribute(f,"stats")&&typeof Stats!=="undefined"){this._stats=new Stats;var z=this._stats.domElement,J=z.style,ao=Io.getOffset(f);J.position="absolute",J.left=ao.x+"px",J.top=ao.y+"px",u.body.appendChild(z)}}else X=new w(f),f=null;if(this._project=i,this._scope=i._scope,this._element=f,!this._pixelRatio)this._pixelRatio=x&&x.devicePixelRatio||1;if(this._setElementSize(X.width,X.height),this._viewSize=X,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new D)._owner=this,!e._focused)e._focused=this;this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!O.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;if(Oo._focused===this)Oo._focused=null;Oo._views.splice(Oo._views.indexOf(this),1),delete Oo._viewsById[this._id];var e=this._project;if(e._view===this)e._view=null;return qo.remove(this._element,this._viewEvents),qo.remove(x,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:k.each(po._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){if(this._autoUpdate=e,e)this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;qo.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var i=e._element;if((!Io.getPrefixed(u,"hidden")||y.getAttribute(i,"keepalive")==="true")&&Io.isInView(i))e._handleFrame()}if(e._autoUpdate)e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){O=this._scope;var e=Date.now()/1000,i=this._last?e-this._last:0;if(this._last=e,this.emit("frame",new k({delta:i,time:this._time+=i,count:this._count++})),this._stats)this._stats.update()},_animateItem:function(e,i){var f=this._frameItems;if(i){if(f[e._id]={item:e,time:0,count:0},++this._frameItemCount===1)this.on("frame",this._handleFrameItems)}else if(delete f[e._id],--this._frameItemCount===0)this.off("frame",this._handleFrameItems)},_handleFrameItems:function(e){for(var i in this._frameItems){var f=this._frameItems[i];f.item.emit("frame",new k(e,{time:f.time+=e.delta,count:f.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=b},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new I(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=w.read(arguments),i=e.subtract(this._viewSize);if(i.isZero())return;if(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:i}),this._autoUpdate)this.update()},_setElementSize:function(e,i){var f=this._element;if(f){if(f.width!==e)f.width=e;if(f.height!==i)f.height=i}},getBounds:function(){if(!this._bounds)this._bounds=this._matrix.inverted()._transformBounds(new W(new q,this._viewSize));return this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Io.isInView(this._element)},isInserted:function(){return Io.isInserted(this._element)},getPixelSize:function(e){var i=this._element,f;if(i){var N=i.parentNode,V=u.createElement("div");V.style.fontSize=e,N.appendChild(V),f=parseFloat(Io.getStyles(V).fontSize),N.removeChild(V)}else f=parseFloat(f);return f},getTextWidth:function(e,i){return 0}},k.each(["rotate","scale","shear","skew"],function(e){var i=e==="rotate";this[e]=function(){var f=arguments,N=(i?k:q).read(f),V=q.read(f,0,{readNull:!0});return this.transform(new D()[e](N,V||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new D;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=q.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new D().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var i=this.getRotation();if(i!=null&&e!=null)this.rotate(e-i)},getScaling:function(){var e=this._decompose().scaling;return new g(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),i=q.read(arguments,0,{clone:!0,readNull:!0});if(e&&i)this.scale(i.x/e.x,i.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(q.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(q.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(q.read(arguments))},getEventPoint:function(e){return this.viewToProject(qo.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,i){if(u&&typeof i==="string")i=u.getElementById(i);var f=x?H:Oo;return new f(e,i)}}},new function(){if(!x)return;var e,i,f=!1,N=!1;function V(Ro){var Zo=qo.getTarget(Ro);return Zo.getAttribute&&Oo._viewsById[Zo.getAttribute("id")]}function X(){var Ro=Oo._focused;if(!Ro||!Ro.isVisible()){for(var Zo=0,wo=Oo._views.length;Zo<wo;Zo++)if((Ro=Oo._views[Zo]).isVisible()){Oo._focused=i=Ro;break}}}function F(Ro,Zo,wo){Ro._handleMouseEvent("mousemove",Zo,wo)}var K=x.navigator,z,J,ao;if(K.pointerEnabled||K.msPointerEnabled)z="pointerdown MSPointerDown",J="pointermove MSPointerMove",ao="pointerup pointercancel MSPointerUp MSPointerCancel";else if(z="touchstart",J="touchmove",ao="touchend touchcancel",!(("ontouchstart"in x)&&K.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)))z+=" mousedown",J+=" mousemove",ao+=" mouseup";var Y={},G={mouseout:function(Ro){var Zo=Oo._focused,wo=qo.getRelatedTarget(Ro);if(Zo&&(!wo||wo.nodeName==="HTML")){var Mo=qo.getOffset(Ro,Zo._element),Xo=Mo.x,Eo=Math.abs,Ko=Eo(Xo),Po=33554432,Co=Ko-Po;Mo.x=Eo(Co)<Ko?Co*(Xo<0?-1:1):Xo,F(Zo,Ro,Zo.viewToProject(Mo))}},scroll:X};Y[z]=function(Ro){var Zo=Oo._focused=V(Ro);if(!f)f=!0,Zo._handleMouseEvent("mousedown",Ro)},G[J]=function(Ro){var Zo=Oo._focused;if(!N){var wo=V(Ro);if(wo){if(Zo!==wo){if(Zo)F(Zo,Ro);if(!e)e=Zo;Zo=Oo._focused=i=wo}}else if(i&&i===Zo){if(e&&!e.isInserted())e=null;Zo=Oo._focused=e,e=null,X()}}if(Zo)F(Zo,Ro)},G[z]=function(){N=!0},G[ao]=function(Ro){var Zo=Oo._focused;if(Zo&&f)Zo._handleMouseEvent("mouseup",Ro);N=f=!1},qo.add(u,G),qo.add(x,{load:X});var no=!1,A=!1,ro={doubleclick:"click",mousedrag:"mousemove"},No=!1,oo,eo,so,Q,lo,_o,to,bo,go;function ho(Ro,Zo,wo,Mo,Xo,Eo,Ko){var Po=!1,Co;function Yo(Ao,Go){if(Ao.responds(Go)){if(!Co)Co=new Uo(Go,Mo,Xo,Zo||Ao,Eo?Xo.subtract(Eo):null);if(Ao.emit(Go,Co)){if(no=!0,Co.prevented)A=!0;if(Co.stopped)return Po=!0}}else{var oa=ro[Go];if(oa)return Yo(Ao,oa)}}while(Ro&&Ro!==Ko){if(Yo(Ro,wo))break;Ro=Ro._parent}return Po}function yo(Ro,Zo,wo,Mo,Xo,Eo){return Ro._project.removeOn(wo),A=no=!1,_o&&ho(_o,null,wo,Mo,Xo,Eo)||Zo&&Zo!==_o&&!Zo.isDescendant(_o)&&ho(Zo,null,wo==="mousedrag"?"mousemove":wo,Mo,Xo,Eo,_o)||ho(Ro,_o||Zo||Ro,wo,Mo,Xo,Eo)}var So={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:Y,_handleMouseEvent:function(Ro,Zo,wo){var Mo=this._itemEvents,Xo=Mo.native[Ro],Eo=Ro==="mousemove",Ko=this._scope.tool,Po=this;function Co(aa){return Mo.virtual[aa]||Po.responds(aa)||Ko&&Ko.responds(aa)}if(Eo&&f&&Co("mousedrag"))Ro="mousedrag";if(!wo)wo=this.getEventPoint(Zo);var Yo=this.getBounds().contains(wo),Ao=Xo&&Yo&&Po._project.hitTest(wo,{tolerance:0,fill:!0,stroke:!0}),Go=Ao&&Ao.item||null,oa=!1,Qo={};if(Qo[Ro.substr(5)]=!0,Xo&&Go!==lo){if(lo)ho(lo,null,"mouseleave",Zo,wo);if(Go)ho(Go,null,"mouseenter",Zo,wo);lo=Go}if(No^Yo)ho(this,null,Yo?"mouseenter":"mouseleave",Zo,wo),oo=Yo?this:null,oa=!0;if((Yo||Qo.drag)&&!wo.equals(so))yo(this,Go,Eo?Ro:"mousemove",Zo,wo,so),oa=!0;if(No=Yo,Qo.down&&Yo||Qo.up&&eo){if(yo(this,Go,Ro,Zo,wo,eo),Qo.down){if(go=Go===to&&Date.now()-bo<300,Q=to=Go,!A&&Go){var ra=Go;while(ra&&!ra.responds("mousedrag"))ra=ra._parent;if(ra)_o=Go}eo=wo}else if(Qo.up){if(!A&&Go===Q)bo=Date.now(),yo(this,Go,go?"doubleclick":"click",Zo,wo,eo),go=!1;Q=_o=null}No=!1,oa=!0}if(so=wo,oa&&Ko)no=Ko._handleMouseEvent(Ro,Zo,wo,Qo)||no;if(Zo.cancelable!==!1&&(no&&!Qo.move||Qo.down&&Co("mouseup")))Zo.preventDefault()},_handleKeyEvent:function(Ro,Zo,wo,Mo){var Xo=this._scope,Eo=Xo.tool,Ko;function Po(Co){if(Co.responds(Ro))O=Xo,Co.emit(Ro,Ko=Ko||new B(Ro,Zo,wo,Mo))}if(this.isVisible()){if(Po(this),Eo&&Eo.responds(Ro))Po(Eo)}},_countItemEvent:function(Ro,Zo){var wo=this._itemEvents,Mo=wo.native,Xo=wo.virtual;for(var Eo in So)Mo[Eo]=(Mo[Eo]||0)+(So[Eo][Ro]||0)*Zo;Xo[Ro]=(Xo[Ro]||0)+Zo},statics:{updateFocus:X,_resetState:function(){f=N=no=No=!1,e=i=oo=eo=so=Q=lo=_o=to=bo=go=null}}}}),H=Oo.extend({_class:"CanvasView",initialize:function e(i,f){if(!(f instanceof x.HTMLCanvasElement)){var N=w.read(arguments,1);if(N.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+k.slice(arguments,1));f=Bo.getCanvas(N)}var V=this._context=f.getContext("2d");if(V.save(),this._pixelRatio=1,!/^off|false$/.test(y.getAttribute(f,"hidpi"))){var X=x.devicePixelRatio||1,F=Io.getPrefixed(V,"backingStorePixelRatio")||1;this._pixelRatio=X/F}Oo.call(this,i,f),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(i,f){var N=this._pixelRatio;if(e.base.call(this,i*N,f*N),N!==1){var V=this._element,X=this._context;if(!y.hasAttribute(V,"resize")){var F=V.style;F.width=i+"px",F.height=f+"px"}X.restore(),X.save(),X.scale(N,N)}},getContext:function(){return this._context},getPixelSize:function e(i){var f=O.agent,N;if(f&&f.firefox)N=e.base.call(this,i);else{var V=this._context,X=V.font;V.font=i+" serif",N=parseFloat(V.font),V.font=X}return N},getTextWidth:function(e,i){var f=this._context,N=f.font,V=0;f.font=e;for(var X=0,F=i.length;X<F;X++)V=Math.max(V,f.measureText(i[X]).width);return f.font=N,V},update:function(){if(!this._needsUpdate)return!1;var e=this._project,i=this._context,f=this._viewSize;if(i.clearRect(0,0,f.width+1,f.height+1),e)e.draw(i,this._matrix,this._pixelRatio);return this._needsUpdate=!1,!0}}),j=k.extend({_class:"Event",initialize:function e(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return $o.modifiers}}),B=j.extend({_class:"KeyEvent",initialize:function e(i,f,N,V){this.type=i,this.event=f,this.key=N,this.character=V},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),$o=new function(){var e={"\t":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},f={},N={},V,X,F=new k({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var J=O&&O.agent;return J&&J.mac?this.meta:this.control}}});function K(J){var ao=J.key||J.keyIdentifier;return ao=/^U\+/.test(ao)?String.fromCharCode(parseInt(ao.substr(2),16)):/^Arrow[A-Z]/.test(ao)?ao.substr(5):ao==="Unidentified"||ao===b?String.fromCharCode(J.keyCode):ao,e[ao]||(ao.length>1?k.hyphenate(ao):ao.toLowerCase())}function z(J,ao,Y,G){var no=J?"keydown":"keyup",A=Oo._focused,ro;if(f[ao]=J,J)N[ao]=Y;else delete N[ao];if(ao.length>1&&(ro=k.camelize(ao))in F){F[ro]=J;var No=O&&O.agent;if(ro==="meta"&&No&&No.mac)if(J)V={};else{for(var oo in V)if(oo in N)z(!1,oo,V[oo],G);V=null}}else if(J&&V)V[ao]=Y;if(A)A._handleKeyEvent(J?"keydown":"keyup",G,ao,Y)}return qo.add(u,{keydown:function(J){var ao=K(J),Y=O&&O.agent;if(ao.length>1||Y&&(Y.chrome&&(J.altKey||Y.mac&&J.metaKey||!Y.mac&&J.ctrlKey)))z(!0,ao,i[ao]||(ao.length>1?"":ao),J);else X=ao},keypress:function(J){if(X){var ao=K(J),Y=J.charCode,G=Y>=32?String.fromCharCode(Y):ao.length>1?"":ao;if(ao!==X)ao=G.toLowerCase();z(!0,ao,G,J),X=null}},keyup:function(J){var ao=K(J);if(ao in N)z(!1,ao,N[ao],J)}}),qo.add(x,{blur:function(J){for(var ao in N)z(!1,ao,N[ao],J)}}),{modifiers:F,isDown:function(J){return!!f[J]}}},Uo=j.extend({_class:"MouseEvent",initialize:function e(i,f,N,V,X){this.type=i,this.event=f,this.point=N,this.target=V,this.delta=X},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Vo=j.extend({_class:"ToolEvent",_item:null,initialize:function e(i,f,N){this.tool=i,this.type=f,this.event=N},_choosePoint:function(e,i){return e?e:i?i.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){if(!this._middlePoint&&this.tool._lastPoint)return this.tool._point.add(this.tool._lastPoint).divide(2);return this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){var i=e.item,f=i._parent;while(/^(Group|CompoundPath)$/.test(f._class))i=f,f=f._parent;this._item=i}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Ho=R.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function e(i){R.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){if(this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance)this._maxDistance=e},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){if(this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance)this._minDistance=e},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,i,f,N){if(O=this._scope,N.drag&&!this.responds(e))e="mousemove";var V=N.move||N.drag,X=this.responds(e),F=!1,K=this;function z(ao,Y){var G=f,no=V?K._point:K._downPoint||G;if(V){if(K._moveCount>=0&&G.equals(no))return!1;if(no&&(ao!=null||Y!=null)){var A=G.subtract(no),ro=A.getLength();if(ro<(ao||0))return!1;if(Y)G=no.add(A.normalize(Math.min(ro,Y)))}K._moveCount++}if(K._point=G,K._lastPoint=no||G,N.down)K._moveCount=-1,K._downPoint=G,K._downCount++;return!0}function J(){if(X)F=K.emit(e,new Vo(K,e,i))||F}if(N.down)z(),J();else if(N.up)z(null,this._maxDistance),J();else if(X)while(z(this._minDistance,this._maxDistance))J();return F}}),jo=k.extend(L,{_class:"Tween",statics:{easings:new k({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<0.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<0.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<0.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<0.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(i,f,N,V,X,F){this.object=i;var K=typeof X,z=K==="function";this.type=z?K:K==="string"?X:"linear",this.easing=z?X:e.easings[this.type],this.duration=V,this.running=!1,this._then=null,this._startTime=null;var J=f||N;if(this._keys=J?Object.keys(J):[],this._parsedKeys=this._parseKeys(this._keys),this._from=J&&this._getState(f),this._to=J&&this._getState(N),F!==!1)this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){if(e>=1)e=1,this.running=!1;var i=this.easing(e),f=this._keys,N=function(ao){return typeof ao==="function"?ao(i,e):ao};for(var V=0,X=f&&f.length;V<X;V++){var F=f[V],K=N(this._from[F]),z=N(this._to[F]),J=K&&z&&K.__add&&z.__add?z.__subtract(K).__multiply(i).__add(K):(z-K)*i+K;this._setProperty(this._parsedKeys[F],J)}if(this.responds("update"))this.emit("update",new k({progress:e,factor:i}));if(!this.running&&this._then)this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var i=this._startTime,f=i?(e-i)/this.duration:0;if(!i)this._startTime=e;this.update(f)},_getState:function(e){var i=this._keys,f={};for(var N=0,V=i.length;N<V;N++){var X=i[N],F=this._parsedKeys[X],K=this._getProperty(F),z;if(e){var J=this._resolveValue(K,e[X]);this._setProperty(F,J),z=this._getProperty(F),z=z&&z.clone?z.clone():z,this._setProperty(F,K)}else z=K&&K.clone?K.clone():K;f[X]=z}return f},_resolveValue:function(e,i){if(i){if(Array.isArray(i)&&i.length===2){var f=i[0];return f&&f.match&&f.match(/^[+\-\*\/]=/)?this._calculate(e,f[0],i[1]):i}else if(typeof i==="string"){var N=i.match(/^[+\-*/]=(.*)/);if(N){var V=JSON.parse(N[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,i[0],V)}}}return i},_calculate:function(e,i,f){return O.PaperScript.calculateBinary(e,i,f)},_parseKeys:function(e){var i={};for(var f=0,N=e.length;f<N;f++){var V=e[f],X=V.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[V]=X.split("/")}return i},_getProperty:function(e,i){var f=this.object;for(var N=0,V=e.length-(i||0);N<V&&f;N++)f=f[e[N]];return f},_setProperty:function(e,i){var f=this._getProperty(e,1);if(f)f[e[e.length-1]]=i}}),zo={request:function(e){var i=new v.XMLHttpRequest;if(i.open((e.method||"get").toUpperCase(),e.url,k.pick(e.async,!0)),e.mimeType)i.overrideMimeType(e.mimeType);return i.onload=function(){var f=i.status;if(f===0||f===200){if(e.onLoad)e.onLoad.call(i,i.responseText)}else i.onerror()},i.onerror=function(){var f=i.status,N='Could not load "'+e.url+'" (Status: '+f+")";if(e.onError)e.onError(N,f);else throw new Error(N)},i.send(null)}},Bo=k.exports.CanvasProvider={canvases:[],getCanvas:function(e,i,f){if(!x)return null;var N,V=!0;if(typeof e==="object")i=e.height,e=e.width;if(this.canvases.length)N=this.canvases.pop();else N=u.createElement("canvas"),V=!1;var X=N.getContext("2d",f||{});if(!X)throw new Error("Canvas "+N+" is unable to provide a 2D context.");if(N.width===e&&N.height===i){if(V)X.clearRect(0,0,e+1,i+1)}else N.width=e,N.height=i;return X.save(),N},getContext:function(e,i,f){var N=this.getCanvas(e,i,f);return N?N.getContext("2d",f||{}):null},release:function(e){var i=e&&e.canvas?e.canvas:e;if(i&&i.getContext)i.getContext("2d").restore(),this.canvases.push(i)}},Jo=new function(){var{min:e,max:i,abs:f}=Math,N,V,X,F,K,z,J,ao,Y,G,no;function A(lo,_o,to){return 0.2989*lo+0.587*_o+0.114*to}function ro(lo,_o,to,ho){var go=ho-A(lo,_o,to);Y=lo+go,G=_o+go,no=to+go;var ho=A(Y,G,no),yo=e(Y,G,no),So=i(Y,G,no);if(yo<0){var Ro=ho-yo;Y=ho+(Y-ho)*ho/Ro,G=ho+(G-ho)*ho/Ro,no=ho+(no-ho)*ho/Ro}if(So>255){var Zo=255-ho,wo=So-ho;Y=ho+(Y-ho)*Zo/wo,G=ho+(G-ho)*Zo/wo,no=ho+(no-ho)*Zo/wo}}function No(lo,_o,to){return i(lo,_o,to)-e(lo,_o,to)}function oo(lo,_o,to,bo){var go=[lo,_o,to],ho=i(lo,_o,to),yo=e(lo,_o,to),So;if(yo=yo===lo?0:yo===_o?1:2,ho=ho===lo?0:ho===_o?1:2,So=e(yo,ho)===0?i(yo,ho)===1?2:1:0,go[ho]>go[yo])go[So]=(go[So]-go[yo])*bo/(go[ho]-go[yo]),go[ho]=bo;else go[So]=go[ho]=0;go[yo]=0,Y=go[0],G=go[1],no=go[2]}var eo={multiply:function(){Y=K*N/255,G=z*V/255,no=J*X/255},screen:function(){Y=K+N-K*N/255,G=z+V-z*V/255,no=J+X-J*X/255},overlay:function(){Y=K<128?2*K*N/255:255-2*(255-K)*(255-N)/255,G=z<128?2*z*V/255:255-2*(255-z)*(255-V)/255,no=J<128?2*J*X/255:255-2*(255-J)*(255-X)/255},"soft-light":function(){var lo=N*K/255;Y=lo+K*(255-(255-K)*(255-N)/255-lo)/255,lo=V*z/255,G=lo+z*(255-(255-z)*(255-V)/255-lo)/255,lo=X*J/255,no=lo+J*(255-(255-J)*(255-X)/255-lo)/255},"hard-light":function(){Y=N<128?2*N*K/255:255-2*(255-N)*(255-K)/255,G=V<128?2*V*z/255:255-2*(255-V)*(255-z)/255,no=X<128?2*X*J/255:255-2*(255-X)*(255-J)/255},"color-dodge":function(){Y=K===0?0:N===255?255:e(255,255*K/(255-N)),G=z===0?0:V===255?255:e(255,255*z/(255-V)),no=J===0?0:X===255?255:e(255,255*J/(255-X))},"color-burn":function(){Y=K===255?255:N===0?0:i(0,255-(255-K)*255/N),G=z===255?255:V===0?0:i(0,255-(255-z)*255/V),no=J===255?255:X===0?0:i(0,255-(255-J)*255/X)},darken:function(){Y=K<N?K:N,G=z<V?z:V,no=J<X?J:X},lighten:function(){Y=K>N?K:N,G=z>V?z:V,no=J>X?J:X},difference:function(){if(Y=K-N,Y<0)Y=-Y;if(G=z-V,G<0)G=-G;if(no=J-X,no<0)no=-no},exclusion:function(){Y=K+N*(255-K-K)/255,G=z+V*(255-z-z)/255,no=J+X*(255-J-J)/255},hue:function(){oo(N,V,X,No(K,z,J)),ro(Y,G,no,A(K,z,J))},saturation:function(){oo(K,z,J,No(N,V,X)),ro(Y,G,no,A(K,z,J))},luminosity:function(){ro(K,z,J,A(N,V,X))},color:function(){ro(N,V,X,A(K,z,J))},add:function(){Y=e(K+N,255),G=e(z+V,255),no=e(J+X,255)},subtract:function(){Y=i(K-N,0),G=i(z-V,0),no=i(J-X,0)},average:function(){Y=(K+N)/2,G=(z+V)/2,no=(J+X)/2},negation:function(){Y=255-f(255-N-K),G=255-f(255-V-z),no=255-f(255-X-J)}},so=this.nativeModes=k.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(lo){this[lo]=!0},{}),Q=Bo.getContext(1,1,{willReadFrequently:!0});if(Q)k.each(eo,function(lo,_o){var to=_o==="darken",bo=!1;Q.save();try{if(Q.fillStyle=to?"#300":"#a00",Q.fillRect(0,0,1,1),Q.globalCompositeOperation=_o,Q.globalCompositeOperation===_o)Q.fillStyle=to?"#a00":"#300",Q.fillRect(0,0,1,1),bo=Q.getImageData(0,0,1,1).data[0]!==to?170:51}catch(go){}Q.restore(),so[_o]=bo}),Bo.release(Q);this.process=function(lo,_o,to,bo,go){var ho=_o.canvas,yo=lo==="normal";if(yo||so[lo]){if(to.save(),to.setTransform(1,0,0,1,0,0),to.globalAlpha=bo,!yo)to.globalCompositeOperation=lo;to.drawImage(ho,go.x,go.y),to.restore()}else{var So=eo[lo];if(!So)return;var Ro=to.getImageData(go.x,go.y,ho.width,ho.height),Zo=Ro.data,wo=_o.getImageData(0,0,ho.width,ho.height).data;for(var Mo=0,Xo=Zo.length;Mo<Xo;Mo+=4){N=wo[Mo],K=Zo[Mo],V=wo[Mo+1],z=Zo[Mo+1],X=wo[Mo+2],J=Zo[Mo+2],F=wo[Mo+3],ao=Zo[Mo+3],So();var Eo=F*bo/255,Ko=1-Eo;Zo[Mo]=Eo*Y+Ko*K,Zo[Mo+1]=Eo*G+Ko*z,Zo[Mo+2]=Eo*no+Ko*J,Zo[Mo+3]=F*bo+Ko*ao}to.putImageData(Ro,go.x,go.y)}}},Wo=new function(){var e="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",f="http://www.w3.org/1999/xlink",N={href:f,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function V(K,z,J){return F(u.createElementNS(e,K),z,J)}function X(K,z){var J=N[z],ao=J?K.getAttributeNS(J,z):K.getAttribute(z);return ao==="null"?null:ao}function F(K,z,J){for(var ao in z){var Y=z[ao],G=N[ao];if(typeof Y==="number"&&J)Y=J.number(Y);if(G)K.setAttributeNS(G,ao,Y);else K.setAttribute(ao,Y)}return K}return{svg:e,xmlns:i,xlink:f,create:V,get:X,set:F}},ba=k.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,i){return!i&&(e instanceof a||e instanceof Lo||e instanceof fo)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,i){var f=k.capitalize(i),N=e[2];this[i]={type:e[1],property:i,attribute:e[0],toSVG:N,fromSVG:N&&k.each(N,function(V,X){this[V]=X},{}),exportFilter:e[3],get:"get"+f,set:"set"+f}},{});new function(){var e;function i(eo,so,Q){var lo=new k,_o=eo.getTranslation();if(so){var to;if(eo.isInvertible())eo=eo._shiftless(),to=eo._inverseTransform(_o),_o=null;else to=new q;lo[Q?"cx":"x"]=to.x,lo[Q?"cy":"y"]=to.y}if(!eo.isIdentity()){var bo=eo.decompose();if(bo){var go=[],ho=bo.rotation,yo=bo.scaling,So=bo.skewing;if(_o&&!_o.isZero())go.push("translate("+e.point(_o)+")");if(ho)go.push("rotate("+e.number(ho)+")");if(!M.isZero(yo.x-1)||!M.isZero(yo.y-1))go.push("scale("+e.point(yo)+")");if(So.x)go.push("skewX("+e.number(So.x)+")");if(So.y)go.push("skewY("+e.number(So.y)+")");lo.transform=go.join(" ")}else lo.transform="matrix("+eo.getValues().join(",")+")"}return lo}function f(eo,so){var Q=i(eo._matrix),lo=eo._children,_o=Wo.create("g",Q,e);for(var to=0,bo=lo.length;to<bo;to++){var go=lo[to],ho=No(go,so);if(ho)if(go.isClipMask()){var yo=Wo.create("clipPath");yo.appendChild(ho),A(go,yo,"clip"),Wo.set(_o,{"clip-path":"url(#"+yo.id+")"})}else _o.appendChild(ho)}return _o}function N(eo,so){var Q=i(eo._matrix,!0),lo=eo.getSize(),_o=eo.getImage();return Q.x-=lo.width/2,Q.y-=lo.height/2,Q.width=lo.width,Q.height=lo.height,Q.href=so.embedImages==!1&&_o&&_o.src||eo.toDataURL(),Wo.create("image",Q,e)}function V(eo,so){var Q=so.matchShapes;if(Q){var lo=eo.toShape(!1);if(lo)return X(lo,so)}var _o=eo._segments,to=_o.length,bo,go=i(eo._matrix);if(Q&&to>=2&&!eo.hasHandles())if(to>2){bo=eo._closed?"polygon":"polyline";var ho=[];for(var yo=0;yo<to;yo++)ho.push(e.point(_o[yo]._point));go.points=ho.join(" ")}else{bo="line";var So=_o[0]._point,Ro=_o[1]._point;go.set({x1:So.x,y1:So.y,x2:Ro.x,y2:Ro.y})}else bo="path",go.d=eo.getPathData(null,so.precision);return Wo.create(bo,go,e)}function X(eo){var{_type:so,_radius:Q}=eo,lo=i(eo._matrix,!0,so!=="rectangle");if(so==="rectangle"){so="rect";var _o=eo._size,to=_o.width,bo=_o.height;if(lo.x-=to/2,lo.y-=bo/2,lo.width=to,lo.height=bo,Q.isZero())Q=null}if(Q)if(so==="circle")lo.r=Q;else lo.rx=Q.width,lo.ry=Q.height;return Wo.create(so,lo,e)}function F(eo,so){var Q=i(eo._matrix),lo=eo.getPathData(null,so.precision);if(lo)Q.d=lo;return Wo.create("path",Q,e)}function K(eo,so){var Q=i(eo._matrix,!0),lo=eo._definition,_o=no(lo,"symbol"),to=lo._item,bo=to.getStrokeBounds();if(!_o)_o=Wo.create("symbol",{viewBox:e.rectangle(bo)}),_o.appendChild(No(to,so)),A(lo,_o,"symbol");return Q.href="#"+_o.id,Q.x+=bo.x,Q.y+=bo.y,Q.width=bo.width,Q.height=bo.height,Q.overflow="visible",Wo.create("use",Q,e)}function z(eo){var so=no(eo,"color");if(!so){var Q=eo.getGradient(),lo=Q._radial,_o=eo.getOrigin(),to=eo.getDestination(),bo;if(lo){bo={cx:_o.x,cy:_o.y,r:_o.getDistance(to)};var go=eo.getHighlight();if(go)bo.fx=go.x,bo.fy=go.y}else bo={x1:_o.x,y1:_o.y,x2:to.x,y2:to.y};bo.gradientUnits="userSpaceOnUse",so=Wo.create((lo?"radial":"linear")+"Gradient",bo,e);var ho=Q._stops;for(var yo=0,So=ho.length;yo<So;yo++){var Ro=ho[yo],Zo=Ro._color,wo=Zo.getAlpha(),Mo=Ro._offset;if(bo={offset:Mo==null?yo/(So-1):Mo},Zo)bo["stop-color"]=Zo.toCSS(!0);if(wo<1)bo["stop-opacity"]=wo;so.appendChild(Wo.create("stop",bo,e))}A(eo,so,"color")}return"url(#"+so.id+")"}function J(eo){var so=Wo.create("text",i(eo._matrix,!0),e);return so.textContent=eo._content,so}var ao={Group:f,Layer:f,Raster:N,Path:V,Shape:X,CompoundPath:F,SymbolItem:K,PointText:J};function Y(eo,so,Q,lo){var _o={},to=!lo&&eo.getParent(),bo=[];if(eo._name!=null)_o.id=eo._name;if(k.each(ba,function(go){var{get:ho,type:yo}=go,So=eo[ho]();if(go.exportFilter?go.exportFilter(eo,So):Q.reduceAttributes==!1||!to||!k.equals(to[ho](),So)){if(yo==="color"&&So!=null){var Ro=So.getAlpha();if(Ro<1)_o[go.attribute+"-opacity"]=Ro}if(yo==="style")bo.push(go.attribute+": "+So);else _o[go.attribute]=So==null?"none":yo==="color"?So.gradient?z(So,eo):So.toCSS(!0):yo==="array"?So.join(","):yo==="lookup"?go.toSVG[So]:So}}),bo.length)_o.style=bo.join(";");if(_o.opacity===1)delete _o.opacity;if(!eo._visible)_o.visibility="hidden";return Wo.set(so,_o,e)}var G;function no(eo,so){if(!G)G={ids:{},svgs:{}};return eo&&G.svgs[so+"-"+(eo._id||eo.__id||(eo.__id=$.get("svg")))]}function A(eo,so,Q){if(!G)no();var lo=G.ids[Q]=(G.ids[Q]||0)+1;so.id=Q+"-"+lo,G.svgs[Q+"-"+(eo._id||eo.__id)]=so}function ro(eo,so){var Q=eo,lo=null;if(G){Q=eo.nodeName.toLowerCase()==="svg"&&eo;for(var _o in G.svgs){if(!lo){if(!Q)Q=Wo.create("svg"),Q.appendChild(eo);lo=Q.insertBefore(Wo.create("defs"),Q.firstChild)}lo.appendChild(G.svgs[_o])}G=null}return so.asString?new v.XMLSerializer().serializeToString(Q):Q}function No(eo,so,Q){var lo=ao[eo._class],_o=lo&&lo(eo,so);if(_o){var to=so.onExport;if(to)_o=to(eo,_o,so)||_o;var bo=JSON.stringify(eo._data);if(bo&&bo!=="{}"&&bo!=="null")_o.setAttribute("data-paper-data",bo)}return _o&&Y(eo,_o,so,Q)}function oo(eo){if(!eo)eo={};return e=new T(eo.precision),eo}po.inject({exportSVG:function(eo){return eo=oo(eo),ro(No(this,eo,!0),eo)}}),uo.inject({exportSVG:function(eo){eo=oo(eo);var so=this._children,Q=this.getView(),lo=k.pick(eo.bounds,"view"),_o=eo.matrix||lo==="view"&&Q._matrix,to=_o&&D.read([_o]),bo=lo==="view"?new W([0,0],Q.getViewSize()):lo==="content"?po._getBounds(so,to,{stroke:!0}).rect:W.read([lo],0,{readNull:!0}),go={version:"1.1",xmlns:Wo.svg,"xmlns:xlink":Wo.xlink};if(bo){if(go.width=bo.width,go.height=bo.height,bo.x||bo.x===0||bo.y||bo.y===0)go.viewBox=e.rectangle(bo)}var ho=Wo.create("svg",go,e),yo=ho;if(to&&!to.isIdentity())yo=ho.appendChild(Wo.create("g",i(to),e));for(var So=0,Ro=so.length;So<Ro;So++)yo.appendChild(No(so[So],eo,!0));return ro(ho,eo)}})},new function(){var e={},i;function f(so,Q,lo,_o,to,bo){var go=Wo.get(so,Q)||bo,ho=go==null?_o?null:lo?"":0:lo?go:parseFloat(go);return/%\s*$/.test(go)?ho/100*(to?1:i[/x|^width/.test(Q)?"width":"height"]):ho}function N(so,Q,lo,_o,to,bo,go){return Q=f(so,Q||"x",!1,_o,to,bo),lo=f(so,lo||"y",!1,_o,to,go),_o&&(Q==null||lo==null)?null:new q(Q,lo)}function V(so,Q,lo,_o,to){return Q=f(so,Q||"width",!1,_o,to),lo=f(so,lo||"height",!1,_o,to),_o&&(Q==null||lo==null)?null:new w(Q,lo)}function X(so,Q,lo){return so==="none"?null:Q==="number"?parseFloat(so):Q==="array"?so?so.split(/[\s,]+/g).map(parseFloat):[]:Q==="color"?No(so)||so:Q==="lookup"?lo[so]:so}function F(so,Q,lo,_o){var to=so.childNodes,bo=Q==="clippath",go=Q==="defs",ho=new To,yo=ho._project,So=yo._currentStyle,Ro=[];if(!bo&&!go)ho=ro(ho,so,_o),yo._currentStyle=ho._style.clone();if(_o){var Zo=so.querySelectorAll("defs");for(var wo=0,Mo=Zo.length;wo<Mo;wo++)oo(Zo[wo],lo,!1)}for(var wo=0,Mo=to.length;wo<Mo;wo++){var Xo=to[wo],Eo;if(Xo.nodeType===1&&!/^defs$/i.test(Xo.nodeName)&&(Eo=oo(Xo,lo,!1))&&!(Eo instanceof c))Ro.push(Eo)}if(ho.addChildren(Ro),bo)ho=ro(ho.reduce(),so,_o);if(yo._currentStyle=So,bo||go)ho.remove(),ho=null;return ho}function K(so,Q){var lo=so.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),_o=[];for(var to=0,bo=lo.length;to<bo;to+=2)_o.push(new q(parseFloat(lo[to]),parseFloat(lo[to+1])));var go=new t(_o);if(Q==="polygon")go.closePath();return go}function z(so){return a.create(so.getAttribute("d"))}function J(so,Q){var lo=(f(so,"href",!0)||"").substring(1),_o=Q==="radialgradient",to;if(lo){if(to=e[lo].getGradient(),to._radial^_o)to=to.clone(),to._radial=_o}else{var bo=so.childNodes,go=[];for(var ho=0,yo=bo.length;ho<yo;ho++){var So=bo[ho];if(So.nodeType===1)go.push(ro(new io,So))}to=new mo(go,_o)}var Ro,Zo,wo,Mo=f(so,"gradientUnits",!0)!=="userSpaceOnUse";if(_o)Ro=N(so,"cx","cy",!1,Mo,"50%","50%"),Zo=Ro.add(f(so,"r",!1,!1,Mo,"50%"),0),wo=N(so,"fx","fy",!0,Mo);else Ro=N(so,"x1","y1",!1,Mo,"0%","0%"),Zo=N(so,"x2","y2",!1,Mo,"100%","0%");var Xo=ro(new xo(to,Ro,Zo,wo),so);return Xo._scaleToBounds=Mo,null}var ao={"#document":function(so,Q,lo,_o){var to=so.childNodes;for(var bo=0,go=to.length;bo<go;bo++){var ho=to[bo];if(ho.nodeType===1)return oo(ho,lo,_o)}},g:F,svg:F,clippath:F,polygon:K,polyline:K,path:z,lineargradient:J,radialgradient:J,image:function(so){var Q=new o(f(so,"href",!0));return Q.on("load",function(){var lo=V(so);this.setSize(lo);var _o=N(so).add(lo.divide(2));this._matrix.append(new D().translate(_o))}),Q},symbol:function(so,Q,lo,_o){return new c(F(so,Q,lo,_o),!0)},defs:F,use:function(so){var Q=(f(so,"href",!0)||"").substring(1),lo=e[Q],_o=N(so);return lo?lo instanceof c?lo.place(_o):lo.clone().translate(_o):null},circle:function(so){return new Lo.Circle(N(so,"cx","cy"),f(so,"r"))},ellipse:function(so){return new Lo.Ellipse({center:N(so,"cx","cy"),radius:V(so,"rx","ry")})},rect:function(so){return new Lo.Rectangle(new W(N(so),V(so)),V(so,"rx","ry"))},line:function(so){return new t.Line(N(so,"x1","y1"),N(so,"x2","y2"))},text:function(so){var Q=new vo(N(so).add(N(so,"dx","dy")));return Q.setContent(so.textContent.trim()||""),Q},switch:F};function Y(so,Q,lo,_o){if(so.transform){var to=(_o.getAttribute(lo)||"").split(/\)\s*/g),bo=new D;for(var go=0,ho=to.length;go<ho;go++){var yo=to[go];if(!yo)break;var So=yo.split(/\(\s*/),Ro=So[0].trim(),Zo=So[1].split(/[\s,]+/g);for(var wo=0,Mo=Zo.length;wo<Mo;wo++)Zo[wo]=parseFloat(Zo[wo]);switch(Ro){case"matrix":bo.append(new D(Zo[0],Zo[1],Zo[2],Zo[3],Zo[4],Zo[5]));break;case"rotate":bo.rotate(Zo[0],Zo[1]||0,Zo[2]||0);break;case"translate":bo.translate(Zo[0],Zo[1]||0);break;case"scale":bo.scale(Zo);break;case"skewX":bo.skew(Zo[0],0);break;case"skewY":bo.skew(0,Zo[0]);break}}so.transform(bo)}}function G(so,Q,lo){var _o=lo==="fill-opacity"?"getFillColor":"getStrokeColor",to=so[_o]&&so[_o]();if(to)to.setAlpha(parseFloat(Q))}var no=k.set(k.each(ba,function(so){this[so.attribute]=function(Q,lo){if(Q[so.set]){if(Q[so.set](X(lo,so.type,so.fromSVG)),so.type==="color"){var _o=Q[so.get]();if(_o){if(_o._scaleToBounds){var to=Q.getBounds();_o.transform(new D().translate(to.getPoint()).scale(to.getSize()))}}}}}},{}),{id:function(so,Q){if(e[Q]=so,so.setName)so.setName(Q)},"clip-path":function(so,Q){var lo=No(Q);if(lo)if(lo=lo.clone(),lo.setClipMask(!0),so instanceof To)so.insertChild(0,lo);else return new To(lo,so)},gradientTransform:Y,transform:Y,"fill-opacity":G,"stroke-opacity":G,visibility:function(so,Q){if(so.setVisible)so.setVisible(Q==="visible")},display:function(so,Q){if(so.setVisible)so.setVisible(Q!==null)},"stop-color":function(so,Q){if(so.setColor)so.setColor(Q)},"stop-opacity":function(so,Q){if(so._color)so._color.setAlpha(parseFloat(Q))},offset:function(so,Q){if(so.setOffset){var lo=Q.match(/(.*)%$/);so.setOffset(lo?lo[1]/100:parseFloat(Q))}},viewBox:function(so,Q,lo,_o,to){var bo=new W(X(Q,"array")),go=V(_o,null,null,!0),ho,yo;if(so instanceof To){var So=go?go.divide(bo.getSize()):1,yo=new D().scale(So).translate(bo.getPoint().negate());ho=so}else if(so instanceof c){if(go)bo.setSize(go);ho=so._item}if(ho){if(A(_o,"overflow",to)!=="visible"){var Ro=new Lo.Rectangle(bo);Ro.setClipMask(!0),ho.addChild(Ro)}if(yo)ho.transform(yo)}}});function A(so,Q,lo){var _o=so.attributes[Q],to=_o&&_o.value;if(!to&&so.style){var bo=k.camelize(Q);if(to=so.style[bo],!to&&lo.node[bo]!==lo.parent[bo])to=lo.node[bo]}return!to?b:to==="none"?null:to}function ro(so,Q,lo){var _o=Q.parentNode,to={node:Io.getStyles(Q)||{},parent:!lo&&!/^defs$/i.test(_o.tagName)&&Io.getStyles(_o)||{}};return k.each(no,function(bo,go){var ho=A(Q,go,to);so=ho!==b&&bo(so,ho,go,Q,to)||so}),so}function No(so){var Q=so&&so.match(/\((?:["'#]*)([^"')]+)/),lo=Q&&Q[1],_o=lo&&e[x?lo.replace(x.location.href.split("#")[0]+"#",""):lo];if(_o&&_o._scaleToBounds)_o=_o.clone(),_o._scaleToBounds=!0;return _o}function oo(so,Q,lo){var _o=so.nodeName.toLowerCase(),to=_o!=="#document",bo=u.body,go,ho,yo;if(lo&&to)i=O.getView().getSize(),i=V(so,null,null,!0)||i,go=Wo.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ho=so.parentNode,yo=so.nextSibling,go.appendChild(so),bo.appendChild(go);var So=O.settings,Ro=So.applyMatrix,Zo=So.insertItems;So.applyMatrix=!1,So.insertItems=!1;var wo=ao[_o],Mo=wo&&wo(so,_o,Q,lo)||null;if(So.insertItems=Zo,So.applyMatrix=Ro,Mo){if(to&&!(Mo instanceof To))Mo=ro(Mo,so,lo);var Xo=Q.onImport,Eo=to&&so.getAttribute("data-paper-data");if(Xo)Mo=Xo(so,Mo,Q)||Mo;if(Q.expandShapes&&Mo instanceof Lo)Mo.remove(),Mo=Mo.toPath();if(Eo)Mo._data=JSON.parse(Eo)}if(go){if(bo.removeChild(go),ho)if(yo)ho.insertBefore(so,yo);else ho.appendChild(so)}if(lo){if(e={},Mo&&k.pick(Q.applyMatrix,Ro))Mo.matrix.apply(!0,!0)}return Mo}function eo(so,Q,lo){if(!so)return null;Q=typeof Q==="function"?{onLoad:Q}:Q||{};var _o=O,to=null;function bo(So){try{var Ro=typeof So==="object"?So:new v.DOMParser().parseFromString(So.trim(),"image/svg+xml");if(!Ro.nodeName)throw Ro=null,new Error("Unsupported SVG source: "+so);if(O=_o,to=oo(Ro,Q,!0),!Q||Q.insert!==!1)lo._insertItem(b,to);var Zo=Q.onLoad;if(Zo)Zo(to,So)}catch(wo){go(wo)}}function go(So,Ro){var Zo=Q.onError;if(Zo)Zo(So,Ro);else throw new Error(So)}if(typeof so==="string"&&!/^[\s\S]*</.test(so)){var ho=u.getElementById(so);if(ho)bo(ho);else zo.request({url:so,async:!0,onLoad:bo,onError:go})}else if(typeof File!=="undefined"&&so instanceof File){var yo=new FileReader;return yo.onload=function(){bo(yo.result)},yo.onerror=function(){go(yo.error)},yo.readAsText(so)}else bo(so);return to}po.inject({importSVG:function(so,Q){return eo(so,Q,this)}}),uo.inject({importSVG:function(so,Q){return this.activate(),eo(so,Q,this)}})};var O=new(y.inject(k.exports,{Base:k,Numerical:M,Key:$o,DomEvent:qo,DomElement:Io,document:u,window:x,Symbol:c,PlacedSymbol:n}));if(O.agent.node)(()=>({}))(O);if(typeof define==="function"&&define.amd)define("paper",O);else if(typeof p==="object"&&p)p.exports=O;return O}.call(l,typeof self==="object"?self:null)}),fm=zi(Ji(),1),Ii=zi(Ji(),1),vm=new Set([Ka.Events.BLOCK_CHANGE,Ka.Events.BLOCK_CREATE,Ka.Events.BLOCK_DELETE,Ka.Events.BLOCK_MOVE,Ka.Events.COMMENT_CHANGE,Ka.Events.COMMENT_CREATE,Ka.Events.COMMENT_DELETE,Ka.Events.COMMENT_MOVE,Ka.Events.VAR_CREATE,Ka.Events.VAR_DELETE,Ka.Events.VAR_RENAME]),En=typeof Reflect=="object"?Reflect:null,B1=En&&typeof En.apply=="function"?En.apply:function(l,p,r){return Function.prototype.apply.call(l,p,r)},Ml;En&&typeof En.ownKeys=="function"?Ml=En.ownKeys:Object.getOwnPropertySymbols?Ml=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Ml=function(l){return Object.getOwnPropertyNames(l)};var c6=Number.isNaN||function(l){return l!==l};Za.EventEmitter=Za;Za.prototype._events=void 0;Za.prototype._eventsCount=0;Za.prototype._maxListeners=void 0;var A1=10;Object.defineProperty(Za,"defaultMaxListeners",{enumerable:!0,get:function(){return A1},set:function(l){if(typeof l!="number"||l<0||c6(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");A1=l}});Za.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Za.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||c6(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};Za.prototype.getMaxListeners=function(){return e6(this)};Za.prototype.emit=function(l){for(var p=[],r=1;r<arguments.length;r++)p.push(arguments[r]);var v=l==="error",b=this._events;if(b!==void 0)v=v&&b.error===void 0;else if(!v)return!1;if(v){var x;if(p.length>0&&(x=p[0]),x instanceof Error)throw x;var u=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw u.context=x,u}var k=b[l];if(k===void 0)return!1;if(typeof k=="function")B1(k,this,p);else for(var L=k.length,y=i6(k,L),r=0;r<L;++r)B1(y[r],this,p);return!0};Za.prototype.addListener=function(l,p){return n6(this,l,p,!1)};Za.prototype.on=Za.prototype.addListener;Za.prototype.prependListener=function(l,p){return n6(this,l,p,!0)};Za.prototype.once=function(l,p){return Ll(p),this.on(l,s6(this,l,p)),this};Za.prototype.prependOnceListener=function(l,p){return Ll(p),this.prependListener(l,s6(this,l,p)),this};Za.prototype.removeListener=function(l,p){var r,v,b,x,u;if(Ll(p),v=this._events,v===void 0)return this;if(r=v[l],r===void 0)return this;if(r===p||r.listener===p)--this._eventsCount===0?this._events=Object.create(null):(delete v[l],v.removeListener&&this.emit("removeListener",l,r.listener||p));else if(typeof r!="function"){for(b=-1,x=r.length-1;x>=0;x--)if(r[x]===p||r[x].listener===p){u=r[x].listener,b=x;break}if(b<0)return this;b===0?r.shift():Rm(r,b),r.length===1&&(v[l]=r[0]),v.removeListener!==void 0&&this.emit("removeListener",l,u||p)}return this};Za.prototype.off=Za.prototype.removeListener;Za.prototype.removeAllListeners=function(l){var p,r,v;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[l]),this;if(arguments.length===0){var b=Object.keys(r),x;for(v=0;v<b.length;++v)x=b[v],x!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(p=r[l],typeof p=="function")this.removeListener(l,p);else if(p!==void 0)for(v=p.length-1;v>=0;v--)this.removeListener(l,p[v]);return this};Za.prototype.listeners=function(l){return l6(this,l,!0)};Za.prototype.rawListeners=function(l){return l6(this,l,!1)};Za.listenerCount=function(l,p){return typeof l.listenerCount=="function"?l.listenerCount(p):r6.call(l,p)};Za.prototype.listenerCount=r6;Za.prototype.eventNames=function(){return this._eventsCount>0?Ml(this._events):[]};var O2=Za.prototype,o6=zi(Ji(),1);class Ol extends Za{static DEFAULT_FPS=24;constructor(l,p=Ol.DEFAULT_FPS){super();this._fps=p,this._frame_sec=1/p,this._running=!1,this._requestStop=l,this._timer=0,this._timers=[],this._data={},this._greaterThen={},this._eventsHappening={}}launch(l){try{new Function("runtime",l)(this)}catch(p){return this.stop(),p}}get core(){return o6.default}get data(){return this._data}get running(){return this._running}get time(){return(Date.now()-this._timer)/1000}resetTimer(){this._timer=Date.now()}when(l,p){this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].push(!1);const r=this._eventsHappening[l].length-1;this.on(`${l}_${r}`,p)}whenGreaterThen(l,p,r){const v=`${l}>${p}`;this._greaterThen[v]=!1,this.when(`greaterthen:${v}`,r)}emit(...l){return new Promise((p)=>{if(this.running)super.emit(...l,p)})}fire(l,...p){if(this.emit(l,...p),this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].length>0)return Promise.race(this._eventsHappening[l].map(async(r,v)=>{if(!r)this._eventsHappening[l][v]=!0,await this.emit(`${l}_${v}`,...p),this._eventsHappening[l][v]=!1}));return Promise.resolve()}_handleFrameForGreaterThen(l){const p=Object.keys(this._greaterThen);for(let r of p){const[v,b]=r.split(">");if(v==="TIMER"){const x=this.time>parseFloat(b);if(x&&!this._greaterThen[r])this.fire(`greaterthen:${r}`);this._greaterThen[r]=x}}l()}async _handleStart(){while(this.running){if(!o6.default.project){this.stop();break}await this.nextFrame(),this.fire("frame")}}start(){this._running=!0,this.on("frame",this._handleFrameForGreaterThen.bind(this)),this.on("start",this._handleStart.bind(this)),this.resetTimer(),this.fire("start")}async stop(){this.emit("stop"),await this.nextFrame(),this._running=!1,await this.nextFrame(),this._timers.forEach(clearTimeout),this._timers.length=0,this._requestStop()}sleep(l){return new Promise((p)=>this._timers.push(setTimeout(p,l*1000)))}nextFrame(){return this.sleep(this._frame_sec)}random(l=1,p=10){const r=Math.ceil(Math.min(l,p)),v=Math.floor(Math.max(l,p));return Math.floor(Math.random()*(v-r+1))+r}number(l,p=0){return isNaN(l)?p:+l}index(l,p){let r=this.number(l)-1;return r%=p,r+=p,r%p}clamp(l,p,r){return Math.min(Math.max(l,p),r)}}class Ie extends Ya.Generator{ORDER_ATOMIC=0;ORDER_NEW=1.1;ORDER_MEMBER=1.2;ORDER_FUNCTION_CALL=2;ORDER_INCREMENT=3;ORDER_DECREMENT=3;ORDER_BITWISE_NOT=4.1;ORDER_UNARY_PLUS=4.2;ORDER_UNARY_NEGATION=4.3;ORDER_LOGICAL_NOT=4.4;ORDER_TYPEOF=4.5;ORDER_VOID=4.6;ORDER_DELETE=4.7;ORDER_DIVISION=5.1;ORDER_MULTIPLICATION=5.2;ORDER_MODULUS=5.3;ORDER_SUBTRACTION=6.1;ORDER_ADDITION=6.2;ORDER_BITWISE_SHIFT=7;ORDER_RELATIONAL=8;ORDER_IN=8;ORDER_INSTANCEOF=8;ORDER_EQUALITY=9;ORDER_BITWISE_AND=10;ORDER_BITWISE_XOR=11;ORDER_BITWISE_OR=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_ASSIGNMENT=16;ORDER_COMMA=17;ORDER_NONE=99;constructor(){super("VM");this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(window).join(",")),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_MULTIPLICATION,this.ORDER_MULTIPLICATION],[this.ORDER_ADDITION,this.ORDER_ADDITION],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]];for(let l in Ie.prototype)if(typeof Ie.prototype[l]==="function")Ie.prototype[l]=Ie.prototype[l].bind(this)}init(l){if(this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new Ya.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());var p=[],r=l.getAllVariables();for(var v=0;v<r.length;v++){if(r[v].type===Ya.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;const x=this.variableDB_.getName(r[v].getId(),Ya.Variables.NAME_TYPE);if(r[v].type===Ya.LIST_VARIABLE_TYPE)p.push(`let ${x}${Ya.LIST_VARIABLE_TYPE} = [];`);else p.push(`let ${x} = 0;`)}var b=Ya.Variables.allDeveloperVariables(l);for(var v=0;v<b.length;v++){const u=this.variableDB_.getName(b[v],Ya.Names.DEVELOPER_VARIABLE_TYPE);if(r[v].type===Ya.LIST_VARIABLE_TYPE)p.push(`let ${u}${Ya.LIST_VARIABLE_TYPE} = [];`);else p.push(`let ${u} = 0;`)}if(p.length)this.definitions_.variables=p.join("\n")}finish(l){var p=[];for(var r in this.definitions_)p.push(this.definitions_[r]);return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),p.join("\n\n")+"\n\n\n"+l}scrubNakedValue(l){return l+";\n"}quote_(l){let p='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)p="'";else l=l.replace(/"/g,'\\"');return p+l+p}scrub_(l,p){var r="";if(!l.outputConnection?.targetConnection){var v=l.getCommentText();if(v=Ya.utils.wrap(v,this.COMMENT_WRAP-3),v)if(l.getProcedureDef)r+="/**\n"+this.prefixLines(v+"\n"," * ")+" */\n";else r+=this.prefixLines(v+"\n","// ");for(var b=0;b<l.inputList.length;b++)if(l.inputList[b].type==Ya.INPUT_VALUE){var x=l.inputList[b].connection.targetBlock();if(x){var v=this.allNestedComments(x);if(v)r+=this.prefixLines(v,"// ")}}}if(l.startHat_){const u=l.nextConnection&&l.nextConnection.targetBlock();let k=this.blockToCode(u);if(k)k=this.prefixLines(k,this.INDENT),p=p.replace("/* code */",k);return r+p}if(l.parentBlock_){const u=l.nextConnection&&l.nextConnection.targetBlock(),k=this.blockToCode(u);return r+p+k}return""}getAdjusted(l,p,r,v,b){var x=r||0,u=b||this.ORDER_NONE;if(l.workspace.options.oneBasedIndex)x--;var k=l.workspace.options.oneBasedIndex?"1":"0";if(x>0)var L=this.valueToCode(l,p,this.ORDER_ADDITION)||k;else if(x<0)var L=this.valueToCode(l,p,this.ORDER_SUBTRACTION)||k;else if(v)var L=this.valueToCode(l,p,this.ORDER_UNARY_NEGATION)||k;else var L=this.valueToCode(l,p,u)||k;if(Ya.isNumber(L)){if(L=parseFloat(L)+x,v)L=-L}else{if(x>0){L=L+" + "+x;var y=this.ORDER_ADDITION}else if(x<0){L=L+" - "+-x;var y=this.ORDER_SUBTRACTION}if(v){if(x)L="-("+L+")";else L="-"+L;var y=this.ORDER_UNARY_NEGATION}if(y=Math.floor(y),u=Math.floor(u),y&&u>=y)L="("+L+")"}return L}}var ia=Ie.prototype;ia.colour_picker=function(l){return[this.quote_(l.getFieldValue("COLOUR")),this.ORDER_ATOMIC]};var tn="if (abort || !runtime.running) break;\n",Vs=`  await runtime.nextFrame();\n  ${tn}`;ia.control_wait=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return p+=`await runtime.sleep(runtime.number(${r}));\n${tn}`,p};ia.control_repeat=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"TIMES",this.ORDER_NONE)||0;return p+=`for (let _ = 0; _ < runtime.number(${v}); _++) {\n${r}${Vs}}\n${tn}`,p};ia.control_forever=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;return p+=`while (true) {\n${r}${Vs}}\n${tn}`,p};ia.control_if=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";if(p+=`if (${v}) {\n${r}}\n`,l.getInput("SUBSTACK2")){if(r=this.statementToCode(l,"SUBSTACK2")||"",this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;p+=`else {\n${r}}\n`}return p};ia.control_if_else=ia.control_if;ia.control_wait_until=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return p+=`while (!(${r})) {\n${Vs}}\n${tn}`,p};ia.control_repeat_until=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return p+=`while (!(${v})) {\n${r}${Vs}}\n${tn}`,p};ia.control_while=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);let r=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)r=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+r;const v=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return p+=`while (${v}) {\n${r}${Vs}}\n${tn}`,p};ia.control_stop=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":p+="runtime.stop();\n";break;case"this script":p+="return done();\n";break;case"other scripts in sprite":p+="abort = true;\n";break}return p};ia.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),$a.Variables.NAME_TYPE),this.ORDER_CONDITIONAL]};ia.data_setvariableto=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),$a.Variables.NAME_TYPE),v=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return p+=`${r} = ${v};\n`,p};ia.data_changevariableby=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("VARIABLE"),$a.Variables.NAME_TYPE),v=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return p+=`${r} = runtime.number(${r}) + runtime.number(${v});\n`,p};ia.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};ia.data_addtolist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}.push(${v});\n`,p};ia.data_deleteoflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return p+=`${r}.splice(runtime.index(${v}, ${r}.length), 1);\n`,p};ia.data_deletealloflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE;return p+=`${r}.length = 0;\n`,p};ia.data_insertatlist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,b=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}.splice(runtime.index(${v}, ${r}.length), 0, ${b});\n`,p};ia.data_replaceitemoflist=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,v=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,b=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return p+=`${r}.splice(runtime.index(${v}, ${r}.length), 1, ${b});\n`,p};ia.data_itemoflist=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`(${p}[runtime.index(${r}, ${p}.length)] || '""')`,this.ORDER_CONDITIONAL]};ia.data_itemnumoflist=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`(${p}.indexOf(${r}) + 1)`,this.ORDER_NONE]};ia.data_lengthoflist=function(l){return[`${this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE}.length`,this.ORDER_MEMBER]};ia.data_listcontainsitem=function(l){const p=this.variableDB_.getName(l.getFieldValue("LIST"),$a.Variables.NAME_TYPE)+$a.LIST_VARIABLE_TYPE,r=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`${p}.includes(${r})`,this.ORDER_FUNCTION_CALL]};var qm="if (abort || !runtime.running) break;\n",Ki="async (done) => {\ndo {\n/* code */} while (false);\ndone();\n}";ia.event_whenflagclicked=function(){return`runtime.when('start', ${Ki});\n`};ia.event_whengreaterthan=function(l){const p=l.getFieldValue("WHENGREATERTHANMENU"),r=this.valueToCode(l,"VALUE",this.ORDER_NONE)||10;return`runtime.whenGreaterThen('${p}', runtime.number(${r}), ${Ki});\n`};ia.event_whenbroadcastreceived=function(l){return`runtime.when('message:${this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),u6.Variables.NAME_TYPE)}', ${Ki});\n`};ia.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),u6.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.event_broadcast=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return p+=`runtime.fire('message:${r}')\n`,p};ia.event_broadcastandwait=function(l){let p="";if(this.STATEMENT_PREFIX)p+=this.injectId(this.STATEMENT_PREFIX,l);const r=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return p+=`await runtime.fire('message:${r}')\n${qm}`,p};ia.math_number=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p===1/0)p="Infinity",r=this.ORDER_FUNCTION_CALL;else if(p===-1/0)p="-Infinity",r=this.ORDER_UNARY_SIGN;else if(Number.isNaN(p))p="NaN",r=this.ORDER_UNARY_SIGN;else r=p<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[p,r]};ia.math_integer=function(l){const p=parseInt(l.getFieldValue("NUM")),r=p<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[p,r]};ia.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};ia.math_positive_number=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p===1/0)p="Infinity",r=this.ORDER_FUNCTION_CALL;else if(p===-1/0)p="-Infinity",r=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(p))p="NaN",r=this.ORDER_FUNCTION_CALL;else p=p<0?0:p,r=this.ORDER_ATOMIC;return[p,r]};ia.math_angle=function(l){let p=parseFloat(l.getFieldValue("NUM")),r;if(p==1/0)p="Infinity",r=this.ORDER_FUNCTION_CALL;else if(p==-1/0)p="-Infinity",r=this.ORDER_UNARY_SIGN;else p=p%360,p=p<0?p+360:p,r=this.ORDER_ATOMIC;return[p,r]};ia.operator_add=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) + runtime.number(${r}))`,this.ORDER_SUBTRACTION]};ia.operator_subtract=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) - runtime.number(${r}))`,this.ORDER_ADDITION]};ia.operator_multiply=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) * runtime.number(${r}))`,this.ORDER_MULTIPLICATION]};ia.operator_divide=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) / runtime.number(${r}))`,this.ORDER_DIVISION]};ia.operator_random=function(l){const p=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,r=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${p}, ${r})`,this.ORDER_FUNCTION_CALL]};ia.operator_gt=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) > runtime.number(${r}))`,this.ORDER_RELATIONAL]};ia.operator_lt=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) < runtime.number(${r}))`,this.ORDER_RELATIONAL]};ia.operator_equals=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${p} == ${r})`,this.ORDER_RELATIONAL]};ia.operator_and=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${p} && ${r})`,this.ORDER_LOGICAL_AND]};ia.operator_or=function(l){const p=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,r=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${p} || ${r})`,this.ORDER_LOGICAL_OR]};ia.operator_not=function(l){return[`!(${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||0})`,this.ORDER_LOGICAL_NOT]};ia.operator_join=function(l){const p=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(String(${p}) + String(${r}))`,this.ORDER_ATOMIC]};ia.operator_letter_of=function(l){const p=this.valueToCode(l,"LETTER",this.ORDER_NONE)||0;return[`(String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}).at(${p} - 1) || '')`,this.ORDER_ATOMIC]};ia.operator_length=function(l){return[`String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}).length`,this.ORDER_MEMBER]};ia.operator_contains=function(l){const p=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',r=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`String(${p}).includes(String(${r}))`,this.ORDER_FUNCTION_CALL]};ia.operator_mod=function(l){const p=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,r=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${p}) % runtime.number(${r}))`,this.ORDER_MODULUS]};ia.operator_round=function(l){return[`Math.round(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0})`,this.ORDER_FUNCTION_CALL]};ia.operator_mathop=function(l){const p=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,r=l.getFieldValue("OPERATOR");let v="";if(r==="ceiling")v+=`Math.ceil(runtime.number(${p}))`;else if(r==="sin"||r==="cos"||r==="tan")v+=`Math.${r}(Math.PI * runtime.number(${p}) / 180)`;else if(r==="asin"||r==="acos"||r==="atan")v+=`(Math.${r}(runtime.number(${p})) * 180 / Math.PI)`;else if(r==="ln")v+=`Math.log(runtime.number(${p}))`;else if(r==="log")v+=`Math.log10(runtime.number(${p}))`;else if(r==="e ^")v+=`Math.exp(runtime.number(${p}))`;else if(r==="10 ^")v+=`Math.pow(10, runtime.number(${p}))`;else v+=`Math.${r}(runtime.number(${p}))`;return[v,this.ORDER_FUNCTION_CALL]};ia.procedures_definition=function(l){const p=l.childBlocks_[0],r=this.variableDB_.getName(p.getProcCode(),Ts.Procedures.NAME_TYPE),v=p.childBlocks_.map((x)=>this.variableDB_.getName(x.getFieldValue("VALUE"),Ts.Variables.NAME_TYPE));v.push("target");let b=`async function ${r}(${v.join(",")}) {\n`;return b+="do {\n/* code */} while (false);\n}\n",b};ia.procedures_call=function(l){const p=this.variableDB_.getName(l.getProcCode(),Ts.Procedures.NAME_TYPE),r=l.argumentIds_.map((v)=>this.valueToCode(l,v,this.ORDER_NONE));return r.push("target"),`await ${p}(${r.join(",")});\n`};ia.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),Ts.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),Ts.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.sensing_timer=function(l){return["runtime.time",this.ORDER_FUNCTION_CALL]};ia.sensing_resettimer=function(l){return"runtime.resetTimer()\n"};ia.text=function(l){const p=l.getFieldValue("TEXT");return[p.length===0||isNaN(p)?this.quote_(p):+p,this.ORDER_ATOMIC]};var ma=fm.default;var Do=new Ie;var Ms="if (abort || !runtime.running) break;\n";Do.motion_attack=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DIRECTION",Do.ORDER_NONE)||0,v=Do.valueToCode(l,"DISTANCE",Do.ORDER_NONE)||100;return p+=`await target.util.attack(${r}, ${v});\n${Ms}`,p};Do.motion_move=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DIRECTION",Do.ORDER_NONE)||0,v=Do.valueToCode(l,"SPEED",Do.ORDER_NONE)||100;return p+=`await target.util.move(${r}, ${v});\n${Ms}`,p};Do.motion_turnright=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DEGREES",Do.ORDER_NONE)||0;return p+=`await target.util.turnRight(${r});\n${Ms}`,p};Do.motion_turnleft=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DEGREES",Do.ORDER_NONE)||0;return p+=`await target.util.turnLeft(${r});\n${Ms}`,p};Do.motion_pointindirection=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DIRECTION",Do.ORDER_NONE)||0;return p+=`await target.util.setDirection(+${r});\n${Ms}`,p};Do.motion_setspeed=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"SPEED",Do.ORDER_NONE)||0;return p+=`target.util.speed = ${r};\n`,p};Do.motion_stop=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);return p+="target.util.speed = 0;\n",p};Do.motion_xposition=(l)=>{return["target.util.x",Do.ORDER_ATOMIC]};Do.motion_yposition=(l)=>{return["target.util.y",Do.ORDER_ATOMIC]};Do.motion_speed=(l)=>{return["target.util.currentSpeed",Do.ORDER_ATOMIC]};Do.motion_direction=(l)=>{return["target.util.direction",Do.ORDER_ATOMIC]};Do.sensing_scanwidth=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"WIDTH",Do.ORDER_NONE)||5;return p+=`target.util.scanWidth = ${r};\n`,p};Do.sensing_scan=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DIRECTION",Do.ORDER_NONE)||0;return p+=`(await target.util.scan(${r}) !== Infinity)`,[p,Do.ORDER_EQUALITY]};Do.sensing_scandistance=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);const r=Do.valueToCode(l,"DIRECTION",Do.ORDER_NONE)||0;return p+=`(await target.util.scan(${r}))`,[p,Do.ORDER_FUNCTION_CALL]};Do.sensing_health=(l)=>{let p="";if(Do.STATEMENT_PREFIX)p+=Do.injectId(Do.STATEMENT_PREFIX,l);return p+="target.util.health",[p,Do.ORDER_FUNCTION_CALL]};import{ScratchBlocks as Q2,makeToolboxXML as $m,blockSeparator as _e,categorySeparator as Ei}from"@blockcode/blocks-editor";import{ScratchBlocks as Ul}from"@blockcode/blocks-editor";Ul.Blocks.event_whenflagclicked={init(){this.jsonInit({message0:Ul.Msg.EVENT_WHENFLAGCLICKED,args0:[{type:"field_image",src:Ul.mainWorkspace.options.pathToMedia+"green-flag.svg",width:24,height:24,alt:"flag"}],category:Ul.Categories.event,extensions:["colours_event","shape_hat"]})}};import{ScratchBlocks as Ia}from"@blockcode/blocks-editor";Ia.Blocks.motion_attack={init(){this.jsonInit({message0:Ia.Msg.MOTION_ATTACK,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"DISTANCE"}],category:Ia.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ia.Blocks.motion_move={init(){this.jsonInit({message0:Ia.Msg.MOTION_MOVE,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"SPEED"}],category:Ia.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ia.Blocks.motion_setspeed={init(){this.jsonInit({message0:Ia.Msg.MOTION_SETSPEED,args0:[{type:"input_value",name:"SPEED"}],category:Ia.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ia.Blocks.motion_stop={init(){this.jsonInit({message0:Ia.Msg.MOTION_STOP,category:Ia.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ia.Blocks.motion_speed={init(){this.jsonInit({message0:Ia.Msg.MOTION_SPEED,category:Ia.Categories.motion,checkboxInFlyout:!0,extensions:["colours_motion","output_number"]})}};import{ScratchBlocks as ae}from"@blockcode/blocks-editor";ae.Blocks.sensing_scanwidth={init(){this.jsonInit({message0:ae.Msg.SENSING_SCANWIDTH,args0:[{type:"input_value",name:"WIDTH"}],category:ae.Categories.sensing,extensions:["colours_sensing","shape_statement"]})}};ae.Blocks.sensing_scan={init(){this.jsonInit({message0:ae.Msg.SENSING_SCAN,args0:[{type:"input_value",name:"DIRECTION"}],category:ae.Categories.sensing,extensions:["colours_sensing","output_boolean"]})}};ae.Blocks.sensing_scandistance={init(){this.jsonInit({message0:ae.Msg.SENSING_DISTANCE,args0:[{type:"input_value",name:"DIRECTION"}],category:ae.Categories.sensing,extensions:["colours_sensing","output_number"]})}};ae.Blocks.sensing_health={init(){this.jsonInit({message0:ae.Msg.SENSING_HEALTH,category:ae.Categories.sensing,checkboxInFlyout:!0,extensions:["colours_sensing","output_number"]})}};var Tm=()=>`
  <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">
    <block type="motion_attack">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="DISTANCE">
        <shadow type="math_number">
          <field name="NUM">200</field>
        </shadow>
      </value>
    </block>
    <block type="motion_move">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">100</field>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="motion_turnright">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_turnleft">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_pointindirection">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="motion_setspeed">
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">50</field>
        </shadow>
      </value>
    </block>
    <block type="motion_stop"/>
    ${_e}
    <block type="motion_speed"/>
    <block type="motion_direction"/>
    ${Ei}
  </category>
`,Vm=()=>`
  <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">
    <block type="sensing_scanwidth">
      <value name="WIDTH">
        <shadow type="math_number">
          <field name="NUM">5</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scan">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scandistance">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="sensing_health"/>
    ${_e}
    <block id="timer" type="sensing_timer"/>
    <block type="sensing_resettimer"/>
    ${Ei}
  </category>
`,Mm=()=>`
  <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">
    <block type="operator_add">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_subtract">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_multiply">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_divide">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="operator_random">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="operator_gt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_lt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_equals">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="operator_and"/>
    <block type="operator_or"/>
    <block type="operator_not"/>
    ${_e}
    <block type="operator_mod">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_round">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${_e}
    <block type="operator_mathop">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${Ei}
  </category>
`;function Pi(){return $m([{id:"motion",xml:Tm()},{id:"sensing",xml:Vm()},{id:"operators",xml:Mm()}])}import{jsx as Um}from"preact/jsx-runtime";var Om=Vl.Content;function Hi(){const{getText:l}=Lm(),p={MOTION_ATTACK:l("tankwar.blocks.motion_attack","fire in direction %1 at %2 steps"),MOTION_MOVE:l("tankwar.blocks.motion_move","forward in direction %1 at %2 % speed"),MOTION_SETSPEED:l("tankwar.blocks.motion_setspeed","set speed to %1 %"),MOTION_STOP:l("tankwar.blocks.motion_stop","stop"),MOTION_SPEED:l("tankwar.blocks.motion_speed","speed"),SENSING_SCANWIDTH:l("tankwar.blocks.sensing_scanwidth","set scan width to %1"),SENSING_SCAN:l("tankwar.blocks.sensing_scan","scan for enemy in direction %1?"),SENSING_DISTANCE:l("tankwar.blocks.sensing_distance","measure distance of enemy in direction %1"),SENSING_HEALTH:l("tankwar.blocks.sensing_health","health")},r=Pi();return Um(Om,{disableGenerator:!0,disableExtension:!0,messages:p,toolbox:r,generators:[Do]})}import{useState as Sl}from"preact/hooks";import{classNames as it}from"@blockcode/ui";import{useState as T6}from"preact/hooks";import{useEditor as at}from"@blockcode/core";import{ScratchBlocks as V6}from"@blockcode/blocks-editor";var m6="./assets/background-5h37gty1.png";function Pn(l){return new Promise((p)=>{const r=new Image;r.src=l,r.addEventListener("load",()=>p(r))})}var t6="./assets/tank_1-d4rhqwqq.png";var d6="./assets/turret_1-9pr6cw16.png";var p6="./assets/tank_2-77dkq8qk.png";var b6="./assets/turret_2-etpr4jbw.png";var f6="./assets/tank_3-62cxctsx.png";var _6="./assets/turret_3-qw8g6vbn.png";var k6="./assets/tank_4-mqxcxwts.png";var h6="./assets/turret_4-ggame02p.png";var N6="./assets/broken-ndvkgsqd.png";var v6="./assets/bullet-wgggea50.png";var Z6="./assets/boom1-xcv6wxk5.png";var y6="./assets/boom2-tq1etnz2.png";var R6="./assets/boom3-s405vqvg.png";var Gm=20,Ym=4,Dm=40,Xl=500,Qm=70,Cm=400,Ls=10,Gi=50,Yi=1000,x6=(l,p)=>Math.sqrt((l.x-p.x)**2+(l.y-p.y)**2),ze=(l)=>isNaN(l)?0:+l,Os=(l,p,r)=>Math.min(Math.max(l,p),r),Us=(l)=>l*Math.PI/180,Je=(l)=>parseInt((l%360+360)%360),q6=(l,p)=>Je(l)===Je(p);class ya{static PLACE={LEFT:{get position(){return new ma.Point(ma.view.center.x-300,ma.view.center.y)},rotation:90},RIGHT:{get position(){return new ma.Point(ma.view.center.x+300,ma.view.center.y)},rotation:-90},LEFT_TOP:{get position(){return new ma.Point(ma.view.center.x-300,ma.view.center.y-300)},rotation:135},RIGHT_TOP:{get position(){return new ma.Point(ma.view.center.x+300,ma.view.center.y-300)},rotation:-135},LEFT_BOTTOM:{get position(){return new ma.Point(ma.view.center.x-300,ma.view.center.y+300)},rotation:45},RIGHT_BOTTOM:{get position(){return new ma.Point(ma.view.center.x+300,ma.view.center.y+300)},rotation:-45}};static STYLE={PLAYER:{tank:t6,turret:d6},ENEMY_A:{tank:p6,turret:b6},ENEMY_B:{tank:f6,turret:_6},ENEMY_C:{tank:k6,turret:h6}};constructor(l,p=ya.STYLE.PLAYER,r=ya.PLACE.LEFT){this.raster=new ma.Raster({name:l,scaling:0.2,source:p.tank,position:r.position,rotation:r.rotation,visible:p===ya.STYLE.PLAYER}),this.turretRaster=new ma.Raster({scaling:0.2,source:p.turret,position:r.position,rotation:r.rotation,visible:p===ya.STYLE.PLAYER}),this.raster.util=this,this.turretRaster.owner=this,this._hidden=!0,this._lastScanDistance=0,this._imageCache={},this._timers=[],this.reset()}sleep(l){return new Promise((p)=>this._timers.push(setTimeout(p,l)))}reset(){if(this._speed=0,this._currentSpeed=0,this._health=100,this._scanWidth=Ym,this._turretReady=null,this._scanShape)this._scanShape.remove(),this._scanShape=null;if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;if(this._collideTester)this._collideTester.remove(),this._collideTester=null;clearTimeout(this._turretReady),this._timers.forEach(clearTimeout),this._timers.length=0}bringToFront(){this.raster.bringToFront(),this.turretRaster.bringToFront()}get running(){return this._running}set running(l){this.reset(),this._running=l}get bullseye(){if(!this._bullseye)this._bullseye=Math.min(this.raster.width,this.raster.height)*this.raster.scaling.x/4;return this._bullseye}get enemies(){if(!this._enemies)this._enemies=["red","yellow","green","player"].filter((l)=>l!==this.raster.name).map((l)=>ma.project.activeLayer.children[l]);return this._enemies}set place(l){if(this.running)return;this.raster.position=this.turretRaster.position=l.position,this.raster.rotation=this.turretRaster.rotation=l.rotation,this.hidden=!1}get hidden(){return this._hidden}set hidden(l){this._hidden=l,this.raster.visible=this.turretRaster.visible=!l}async _turn(l,p){if(!q6(l.rotation,p)){let r=Je(p)-Je(l.rotation);if(r>180)r-=360;if(r<-180)r+=360;await l.tween({rotation:l.rotation+r},Yi*(Math.abs(r)/360))}}async attack(l,p){if(!this.running)return;if(this._bulletRaster||this.death)return;l=Math.round(ze(l)),p=ze(p)-Gi,clearTimeout(this._turretReady),this._turretReady=null,await this._turn(this.turretRaster,l);const r=Je(l),v=Us(90-r);if(!this._imageCache.buttet)this._imageCache.buttet=await Pn(v6);if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;this._bulletRaster=new ma.Raster({image:this._imageCache.buttet,position:new ma.Point(this.raster.position.x+Gi*Math.cos(v),this.raster.position.y-Gi*Math.sin(v)),rotation:this.raster.rotation,scaling:this.raster.scaling}),p=Os(p,Qm,Cm);const b=p/2,x=Ls/p/2;let u=Ls*Math.cos(v),k=Ls*Math.sin(v);while(p>0){if(await this.sleep(15),p<Ls)u=p*Math.cos(v),k=p*Math.sin(v);if(p-=Ls,this._bulletRaster.position.x+=u,this._bulletRaster.position.y-=k,this._bulletRaster.scaling.x+=p>b?x:-x,this._bulletRaster.scaling.y=this._bulletRaster.scaling.x,this._bulletRaster.scaling.x<this.raster.scaling.x)this._bulletRaster.scaling=this.raster.scaling}this._boom(this._bulletRaster.position),this._collide(this._bulletRaster,(L)=>{if(x6(L.position,this._bulletRaster.position)<L.util.bullseye)L.util.hurt(10);else L.util.hurt(5)}),this._bulletRaster.remove(),this._bulletRaster=null,this._turretReady=setTimeout(()=>{this._turn(this.turretRaster,this.raster.rotation),this._turretReady=null},1000)}async _boom(l){if(!this.running)return;if(!this._imageCache.booms)this._imageCache.booms=[await Pn(Z6),await Pn(y6),await Pn(R6)];if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;this._boomRaster=new ma.Raster({image:this._imageCache.booms[0],position:l}),await this.sleep(30),this._boomRaster.image=this._imageCache.booms[1],await this.sleep(50),this._boomRaster.image=this._imageCache.booms[2],await this.sleep(90),this._boomRaster.remove(),this._boomRaster=null}_intersectsOrContains(l,p){return l.intersects(p)||p.contains(l.position)}_collide(l,p){if(this.running&&!this.death)this.enemies.forEach((r)=>{if(r.util.death||r.util.hidden)return;if(this._intersectsOrContains(l,r))p(r)})}async move(l,p){if(!this.running)return;if(this.death)return;await this.setDirection(l),this.speed=ze(p)}drive(){if(!this.running)return;if(this.speed===0)return;if(this.hidden||this.death)return;let l=this.speed;const p=Us(90-this.direction);l/=Gm,this.raster.position.x+=l*Math.cos(p),this.raster.position.y-=l*Math.sin(p),this.turretRaster.position=this.raster.position}get x(){return this.raster.position.x-ma.view.center.x}get y(){return ma.view.center.y-this.raster.position.y}get currentSpeed(){return Os(this._currentSpeed,-100,100)}get speed(){return Os(this._speed,-100,100)}set speed(l){if(!this.running)return;this._speed=Os(l,-100,100)}get speedVelocity(){const l=Je(this.speed<0?180+this.direction:this.direction),p=Us(90-l),r=Math.abs(this.speed);return new ma.Point(r*Math.cos(p),r*Math.sin(p))}get direction(){let l=this.raster.rotation%360;if(l>180)l-=360;if(l<=-180)l+=360;return l}async setDirection(l){if(!this.running)return;if(l=Math.round(ze(l)),!this._turretReady)this._turn(this.turretRaster,l);await this._turn(this.raster,l)}turnRight(l){let p=this.raster.rotation;return p+=ze(l),this.setDirection(p)}turnLeft(l){return this.turnRight(-ze(l))}hurt(l){if(!this.running)return;if(this._health-=Math.abs(l),this.death)this.raster.visible=this.turretRaster.visible=!1,new ma.Raster({source:N6,scaling:this.raster.scaling,position:this.raster.position,rotation:this.raster.rotation}).insertAbove(ma.project.activeLayer.children.background)}get health(){if(this._health<0)return 0;return this._health}get death(){return this.health<=0}get scanWidth(){return this._scanWidth}set scanWidth(l){l=ze(l),this._scanWidth=Os(l,1,Dm)}async scan(l){if(!this.running)return 1/0;if(this._scanShape||this.death)return 1/0;if(l=ze(l),!q6(this._lastScanDistance,l)){let R=Je(l)-Je(this._lastScanDistance);if(R>180)R-=360;if(R<-180)R+=360;await this.sleep(Yi*(Math.abs(R)/360)),this._lastScanDistance=l}const p=Us(90-(l-this.scanWidth/2)),r=Xl*Math.cos(p),v=Xl*Math.sin(p),b=new ma.Point(this.raster.position.x+r,this.raster.position.y-v),x=Us(90-(l+this.scanWidth/2)),u=Xl*Math.cos(x),k=Xl*Math.sin(x),L=new ma.Point(this.raster.position.x+u,this.raster.position.y-k);if(this._scanShape)this._scanShape.remove(),this._scanShape=null;this._scanShape=new ma.Path({segments:[this.raster.position,b,L],closed:!0,fillColor:{gradient:{stops:[["rgb(255 0 0 0.4)",0],["rgb(255 0 0 0)",0.7]],radial:!0},origin:this.raster.position,destination:b}}),await this.sleep(Yi*(this.scanWidth/360));let y=1/0;return this._collide(this._scanShape,(R)=>{const Z=x6(this.raster.position,R.position);if(Z<y)y=Z}),this._scanShape.remove(),this._scanShape=null,y}}class gl extends Ol{get player(){return ma.project.activeLayer.children.player}get redTank(){return ma.project.activeLayer.children.red}get yellowTank(){return ma.project.activeLayer.children.yellow}get greenTank(){return ma.project.activeLayer.children.green}start(){this.player.util.running=!0,this.redTank.util.running=!0,this.yellowTank.util.running=!0,this.greenTank.util.running=!0,super.start()}stop(){return this.player.util.running=!1,this.redTank.util.running=!1,this.yellowTank.util.running=!1,this.greenTank.util.running=!1,super.stop()}}var $6=(l="",p=[])=>`
${p.join("\n")}

((target) => {
let abort = false;
${l||""}
})(runtime.player);

runtime.on('frame', () => {
  runtime.player.util.drive();
  runtime.redTank.util.drive();
  runtime.yellowTank.util.drive();
  runtime.greenTank.util.drive();
});

runtime.player.util.bringToFront();
runtime.start();
`;var Xs={};K6(Xs,{simple:()=>Bm,senior:()=>ot,medium:()=>Am});var Bm=(l,p)=>`
((tank) => {
  let abort = false;

  runtime.when('start', async function (done) {
    await tank.util.turnRight(45);
    tank.util.speed = 100;
    await runtime.sleep(2.5);
    tank.util.speed = 0;
    await tank.util.turnLeft(90);
    runtime.fire('@ai_simple_${l}_${p}_message_1');
    while (true) {
      tank.util.speed = 100;
      await runtime.sleep(5.5);
      tank.util.speed = 0;
      await tank.util.turnLeft(180);
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });

  runtime.when('@ai_simple_${l}_${p}_message_1', async function anonymous(done) {
    while (true) {
      if ((await tank.util.scan(0) !== Infinity)) {
        await tank.util.attack(0, (await tank.util.scan(0)));
      }
      if ((await tank.util.scan(45) !== Infinity)) {
        await tank.util.attack(45, (await tank.util.scan(45)));
      }
      if ((await tank.util.scan(90) !== Infinity)) {
        await tank.util.attack(90, (await tank.util.scan(90)));
      }
      if ((await tank.util.scan(135) !== Infinity)) {
        await tank.util.attack(135, (await tank.util.scan(135)));
      }
      if ((await tank.util.scan(180) !== Infinity)) {
        await tank.util.attack(180, (await tank.util.scan(180)));
      }
      if ((await tank.util.scan(225) !== Infinity)) {
        await tank.util.attack(225, (await tank.util.scan(225)));
      }
      if ((await tank.util.scan(270) !== Infinity)) {
        await tank.util.attack(270, (await tank.util.scan(270)));
      }
      if ((await tank.util.scan(315) !== Infinity)) {
        await tank.util.attack(315, (await tank.util.scan(315)));
      }
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });


})(runtime.${l}Tank);
`,Am=(l,p)=>`
((tank) => {
  let abort = false;

  let _health_ = 0;
  let _angle_ = 0;

  runtime.when('start', async function anonymous() {
    _angle_ = runtime.random(1, 360);
    runtime.fire('@ai_medium_${l}_${p}_start')
  });

  runtime.when('start', async function anonymous() {
    while (true) {
      _health_ = tank.util.health;
      while (!((tank.util.health < _health_))) {
        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      abort = false;
      tank.util.move(runtime.random(1, 360), 100);
      await runtime.sleep(1);
      tank.util.speed = 0;
      runtime.fire('@ai_medium_${l}_${p}_start')
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
  });

  runtime.when('@ai_medium_${l}_${p}_start', async function anonymous(done) {
    while (true) {
      while (!((await tank.util.scan(_angle_) !== Infinity))) {
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      while (((await tank.util.scan(_angle_) !== Infinity) && ((await tank.util.scan(_angle_)) > '400'))) {
        tank.util.move(_angle_, 100);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      tank.util.speed = 0;
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done()
  });


})(runtime.${l}Tank);
`,ot=(l,p)=>`
((tank) => {
  let abort = false;

  let _angle_ = 0;
  let _health_ = 0;


  runtime.when('start', async function anonymous() {
    if (((tank.util.y < '5') && (tank.util.y > '-5'))) {
      await tank.util.turnLeft(104);
    }
    else {
      await tank.util.turnLeft(180);
    }
    tank.util.speed = 100;
    while (!(((Math.abs(tank.util.x) > '400') && (Math.abs(tank.util.y) > '400')))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${p}_start')
  });

  runtime.when('@ai_senior_${l}_${p}_start', async function anonymous(done) {
    if ((tank.util.x < '0')) {
      if ((tank.util.y < '0')) {
        _angle_ = '45';
      }
      else {
        _angle_ = '135';
      }
    }
    else {
      if ((tank.util.y < '0')) {
        _angle_ = '-45';
      }
      else {
        _angle_ = '-135';
      }
    }
    await tank.util.setDirection(_angle_);
    runtime.fire('@ai_senior_${l}_${p}_watch_health');
    _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-60);
    for (let _ = 0; _ < 78; _++) {
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${p}_next_place');
    done();
  });

  runtime.when('@ai_senior_${l}_${p}_next_place', async function anonymous(done) {
    abort = false;
    if ((runtime.random(1, 3) == '1')) {
      await tank.util.turnLeft(45);
    }
    else {
      await tank.util.turnRight(45);
    }
    tank.util.speed = 100;
    await runtime.sleep(1);
    if (((tank.util.direction > '-5') && (tank.util.direction < '5'))) {
      while (!((tank.util.y > '400'))) {

      if (abort || !runtime.running) {
        break;
      };
        await runtime.nextFrame();
      }
    }
    else {
      if (((tank.util.direction > '85') && (tank.util.direction < '95'))) {
        while (!((tank.util.x > '400'))) {

        if (abort || !runtime.running) {
          break;
        };
          await runtime.nextFrame();
        }
      }
      else {
        if (((tank.util.direction > '-95') && (tank.util.direction < '-85'))) {
          while (!((tank.util.x < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
        else {
          while (!((tank.util.y < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
      }
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${p}_start')
    done()
  });

  runtime.when('@ai_senior_${l}_${p}_watch_health', async function anonymous(done) {
    _health_ = tank.util.health;
    while (!((tank.util.health < _health_))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${p}_next_place')
    done()
  });


})(runtime.${l}Tank);
`;function M6({playing:l,enemies:p,enemiesAI:r,onRequestStop:v,onChangeHealth:b}){const[x,u]=T6(null),[k,L]=T6(!1),{fileList:y}=at(),R=y[0];if(x){const T=ma.project.activeLayer.children;if(l){if(!k){const M=[];if(p>0)M.push(Xs[r.red]("red",Date.now().toString(36)));if(p>1)M.push(Xs[r.yellow]("yellow",Date.now().toString(36)));if(p>2)M.push(Xs[r.green]("green",Date.now().toString(36)));const $=new gl(v);$.launch($6(R.script,M)),$.on("frame",()=>{b({player:T.player.util.health,red:T.red.util.health,yellow:T.yellow.util.health,green:T.green.util.health})});const q=V6.getMainWorkspace();if(q)q.addChangeListener(v);L($)}}else if(k){const M=V6.getMainWorkspace();if(M)M.removeChangeListener(v);k.stop().then(()=>{b({player:100,red:100,yellow:100,green:100}),ma.project.activeLayer.children.forEach(($)=>{if($.name==="background")return;if($.util instanceof ya||$.owner instanceof ya)return;$.remove()}),L(!1)})}else{if(T.player.util.place=ya.PLACE.LEFT_TOP,p>0)T.red.util.place=ya.PLACE.RIGHT_BOTTOM;else T.red.util.hidden=!0;if(p>2)T.yellow.util.place=ya.PLACE.RIGHT_TOP,T.green.util.place=ya.PLACE.LEFT_BOTTOM;else T.yellow.util.hidden=!0,T.green.util.hidden=!0;ma.project.activeLayer.children.forEach((M)=>{if(M.name==="background")return;if(M.util instanceof ya||M.owner instanceof ya)return;M.remove()})}}return et(a6,{width:"480px",height:"480px",generator:Do,onSetup:(T)=>{u(T),ma.view.zoom=0.5,new ma.Raster({name:"background",source:m6,position:ma.view.center}),new ya("player",ya.STYLE.PLAYER,ya.PLACE.LEFT),new ya("red",ya.STYLE.ENEMY_A,ya.PLACE.RIGHT),new ya("yellow",ya.STYLE.ENEMY_B,ya.PLACE.RIGHT_BOTTOM),new ya("green",ya.STYLE.ENEMY_C,ya.PLACE.LEFT_BOTTOM)}})}import{jsx as et}from"preact/jsx-runtime";import{useLocale as lt}from"@blockcode/core";import{classNames as U6}from"@blockcode/ui";function ye(l){const p=globalThis.document,r=p.createElement("style");r.appendChild(p.createTextNode(l)),p.head.append(r)}ye("._1mbyQG_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._1mbyQG_green-flag,._1mbyQG_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}._1mbyQG_green-flag:hover,._1mbyQG_stop-all:hover{background:var(--motion-light-transparent)}._1mbyQG_green-flag._1mbyQG_actived{background:var(--motion-transparent)}._1mbyQG_stop-all{opacity:.5}._1mbyQG_stop-all._1mbyQG_actived{opacity:1}._1mbyQG_green-flag._1mbyQG_disabled,._1mbyQG_stop-all._1mbyQG_disabled{opacity:.5}._1mbyQG_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}._1mbyQG_space{margin-left:.2rem}._1mbyQG_toolbar-buttons-group{display:flex}._1mbyQG_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}._1mbyQG_group-button{border-left:none;border-radius:0}._1mbyQG_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}");var dn={space:"_1mbyQG_space",toolbarButtonsGroup:"_1mbyQG_toolbar-buttons-group",groupButtonFirst:"_1mbyQG_group-button-first",groupButton:"_1mbyQG_group-button",toolbarButton:"_1mbyQG_toolbar-button",stopAll:"_1mbyQG_stop-all",toolbarWrapper:"_1mbyQG_toolbar-wrapper",disabled:"_1mbyQG_disabled",groupButtonLast:"_1mbyQG_group-button-last",greenFlag:"_1mbyQG_green-flag",actived:"_1mbyQG_actived"};var L6="./assets/icon-green-flag-tz1g77je.svg";var O6="./assets/icon-stop-all-zrx3gxr1.svg";import{jsx as Di,jsxs as rt}from"preact/jsx-runtime";function Qi({playing:l,onPlay:p,onStop:r}){const{getText:v}=lt();return Di("div",{className:dn.toolbarWrapper,children:rt("div",{className:dn.toolbarButtonsGroup,children:[Di("img",{className:U6(dn.greenFlag,{[dn.actived]:l}),src:L6,title:v("tankwar.player.greenFlag","Go"),onClick:p}),Di("img",{className:U6(dn.stopAll,{[dn.actived]:l}),src:O6,title:v("tankwar.player.stopAll","Stop"),onClick:r})]})})}ye(".b0DZEW_stage-wrapper{position:relative}.b0DZEW_stage{border:1px solid var(--ui-black-transparent);border-radius:var(--space);background:var(--ui-white);width:482px;height:482px;position:relative;overflow:hidden}");var Ci={stageWrapper:"b0DZEW_stage-wrapper",stage:"b0DZEW_stage"};import{jsx as Bi,jsxs as ct}from"preact/jsx-runtime";function Ai({playing:l,enemies:p,enemiesAI:r,onChangePlaying:v,onChangeHealth:b}){const x=()=>v(!0),u=()=>v(!1);return ct("div",{className:Ci.stageWrapper,children:[Bi(Qi,{playing:l,onPlay:x,onStop:u}),Bi("div",{className:it(Ci.stage),children:Bi(M6,{playing:l,enemies:p,enemiesAI:r,onRequestStop:u,onChangeHealth:b})})]})}import{useLocale as dt,useEditor as pt}from"@blockcode/core";import{classNames as Re,Text as gs,Button as Ke,Label as pn,BufferedInput as bt,ComingSoon as ft}from"@blockcode/ui";ye('.MaJ6dq_stage-info-wrapper{margin-top:var(--space);background:var(--ui-white);color:var(--text-primary);border-radius:var(--space);border:1px solid var(--ui-black-transparent);padding:1rem}.MaJ6dq_row{justify-content:space-between;margin-top:.5rem;display:flex}.MaJ6dq_row-primary{margin-top:0}.MaJ6dq_group{flex-direction:row;align-items:center;display:inline-flex}.MaJ6dq_full-input{flex:1}.MaJ6dq_name-input{width:8rem}.MaJ6dq_button{min-width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.MaJ6dq_button-icon{margin:auto}.MaJ6dq_space{margin-left:.2rem}.MaJ6dq_toolbar-button-group{display:flex}.MaJ6dq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.MaJ6dq_group-button{border-left:none;border-radius:0}.MaJ6dq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.MaJ6dq_button-text{flex:auto}.MaJ6dq_group-button-toggled-on .MaJ6dq_button-text{color:#4c97ff}.MaJ6dq_tank-image{width:1.65rem}.MaJ6dq_health-progress{background:#f5f5f5;border-radius:10px;width:12rem;height:20px}.MaJ6dq_health-progress:before{counter-reset:progress var(--percent,0);content:counter(progress)"%\u2002";width:calc(12rem*var(--percent,0)/100);color:var(--ui-white);text-align:right;white-space:nowrap;background:#ff6680;border-radius:10px;height:20px;font-size:12px;line-height:20px;display:block;overflow:hidden}');var fa={healthProgress:"MaJ6dq_health-progress",fullInput:"MaJ6dq_full-input",group:"MaJ6dq_group",toolbarButtonGroup:"MaJ6dq_toolbar-button-group",groupButton:"MaJ6dq_group-button",tankImage:"MaJ6dq_tank-image",groupButtonFirst:"MaJ6dq_group-button-first",stageInfoWrapper:"MaJ6dq_stage-info-wrapper",button:"MaJ6dq_button",groupButtonToggledOn:"MaJ6dq_group-button-toggled-on",groupButtonLast:"MaJ6dq_group-button-last",nameInput:"MaJ6dq_name-input",space:"MaJ6dq_space",row:"MaJ6dq_row",buttonIcon:"MaJ6dq_button-icon",rowPrimary:"MaJ6dq_row-primary",buttonText:"MaJ6dq_button-text"};var X6="./assets/tank-2-tq1cemhn.png";var g6="./assets/tank-3-5vq6mndw.png";var S6="./assets/tank-4-4r293h2s.png";import{jsx as va,jsxs as bn}from"preact/jsx-runtime";var _t=[X6,g6,S6];function oc({playing:l,enemies:p,enemiesAI:r,health:v,onChangeEnemies:b,onChangeEnemyAI:x}){const{getText:u}=dt(),{fileList:k,modifyFile:L}=pt(),y=k[0],R=(Z,T)=>{L({[Z]:T})};return bn("div",{className:fa.stageInfoWrapper,children:[bn("div",{className:Re(fa.row,fa.rowPrimary),children:[va(pn,{text:u("tankwar.stageInfo.player","Player"),children:va(bt,{disabled:l,className:fa.nameInput,placeholder:u("tankwar.stageInfo.nickname","Nickname"),onSubmit:(Z)=>R("name",Z),value:y.name})}),va(pn,{secondary:!0,className:fa.health,text:u("tankwar.stageInfo.health","Health"),children:va("div",{className:fa.healthProgress,style:`--percent:${v.player||0}`})})]}),bn("div",{className:fa.row,children:[bn(pn,{secondary:!0,text:u("tankwar.stageInfo.enemies","Enemies"),children:[va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:p===0}),onClick:()=>b(0),children:va("div",{className:fa.buttonText,children:"0"})}),va(Ke,{disabled:l,className:Re(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:p===1}),onClick:()=>b(1),children:va("div",{className:fa.buttonText,children:"1"})}),va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:p===3}),onClick:()=>b(3),children:va("div",{className:fa.buttonText,children:"3"})})]}),p>0&&bn(pn,{secondary:!0,children:[va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:!0}),children:va("div",{className:fa.buttonText,children:va(gs,{id:"tankwar.stageInfo.mode.local",defaultMessage:"Local AI"})})}),va(ft,{placement:"bottom",children:va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:!1}),children:va("div",{className:fa.buttonText,children:va(gs,{id:"tankwar.stageInfo.mode.remote",defaultMessage:"Remote Players"})})})})]})]}),["red","yellow","green"].slice(0,p).map((Z,T)=>bn("div",{className:fa.row,children:[va(pn,{secondary:!0,children:va("img",{className:fa.tankImage,src:_t[T],alt:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase())),title:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase()))})}),va(pn,{secondary:!0,children:va("div",{className:fa.healthProgress,style:`--percent:${v[Z]||0}`})}),bn(pn,{secondary:!0,text:u("tankwar.stageInfo.ai","AI"),children:[va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:r[Z]==="simple"}),onClick:()=>x(Z,"simple"),children:va("div",{className:fa.buttonText,children:va(gs,{id:"tankwar.stageInfo.ai.simple",defaultMessage:"Simple"})})}),va(Ke,{disabled:l,className:Re(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:r[Z]==="medium"}),onClick:()=>x(Z,"medium"),children:va("div",{className:fa.buttonText,children:va(gs,{id:"tankwar.stageInfo.ai.medium",defaultMessage:"Medium"})})}),va(Ke,{disabled:l,className:Re(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:r[Z]==="senior"}),onClick:()=>x(Z,"senior"),children:va("div",{className:fa.buttonText,children:va(gs,{id:"tankwar.stageInfo.ai.senior",defaultMessage:"Senior"})})})]})]},T))]})}ye(".FMSzyW_sidebar-wrapper{flex-direction:column;height:100%;display:flex}.FMSzyW_stage-wrapper{display:flex}.FMSzyW_selector-wrapper{margin-top:var(--space);flex-direction:row;height:100%;display:flex}");var ac={stageWrapper:"FMSzyW_stage-wrapper",selectorWrapper:"FMSzyW_selector-wrapper",sidebarWrapper:"FMSzyW_sidebar-wrapper"};import{jsx as W6,jsxs as kt}from"preact/jsx-runtime";function ec(){const[l,p]=Sl(!1),[r,v]=Sl(1),[b,x]=Sl({red:"simple",yellow:"medium",green:"senior"}),[u,k]=Sl({player:100,red:100,yellow:100,green:100});return kt("div",{className:ac.sidebarWrapper,children:[W6(Ai,{className:ac.stageWrapper,playing:l,enemies:r,enemiesAI:b,onChangePlaying:p,onChangeHealth:k}),W6(oc,{playing:l,enemies:r,enemiesAI:b,health:u,onChangeEnemies:v,onChangeEnemyAI:(L,y)=>x({...b,[L]:y})})]})}var j6={fileList:[{id:`player_${Date.now().toString(36)}`,name:"player"}]};var w6={"tankwar.player.greenFlag":"Go","tankwar.player.stopAll":"Stop","tankwar.stageInfo.player":"Player","tankwar.stageInfo.nickname":"Nickname","tankwar.stageInfo.enemies":"Enemies","tankwar.stageInfo.health":"Health","tankwar.stageInfo.enemy.red":"Red","tankwar.stageInfo.enemy.yellow":"Yellow","tankwar.stageInfo.enemy.green":"Green","tankwar.stageInfo.mode.local":"Local AI","tankwar.stageInfo.mode.remote":"Remote Players","tankwar.stageInfo.ai":"AI","tankwar.stageInfo.ai.simple":"Simple","tankwar.stageInfo.ai.medium":"Medium","tankwar.stageInfo.ai.senior":"Senior","tankwar.blocks.motion_attack":"fire in direction %1 at %2 steps","tankwar.blocks.motion_move":"forward in direction %1 at %2 % speed","tankwar.blocks.motion_setspeed":"set speed to %1 %","tankwar.blocks.motion_stop":"stop","tankwar.blocks.motion_speed":"speed","tankwar.blocks.sensing_scanwidth":"set scan width to %1","tankwar.blocks.sensing_scan":"scan for enemy in direction %1?","tankwar.blocks.sensing_distance":"measure distance of enemy in direction %1","tankwar.blocks.sensing_health":"health"};var F6={"tankwar.player.greenFlag":"\u8FD0\u884C","tankwar.player.stopAll":"\u505C\u6B62","tankwar.stageInfo.player":"\u73A9\u5BB6","tankwar.stageInfo.nickname":"\u6635\u79F0","tankwar.stageInfo.enemies":"\u654C\u65B9\u6570\u91CF","tankwar.stageInfo.health":"\u751F\u547D\u503C","tankwar.stageInfo.enemy.red":"\u7EA2","tankwar.stageInfo.enemy.yellow":"\u9EC4","tankwar.stageInfo.enemy.green":"\u7EFF","tankwar.stageInfo.mode.local":"\u672C\u673A AI","tankwar.stageInfo.mode.remote":"\u8054\u7F51\u73A9\u5BB6","tankwar.stageInfo.ai":"AI \u7B56\u7565","tankwar.stageInfo.ai.simple":"\u7B80\u5355","tankwar.stageInfo.ai.medium":"\u4E2D\u7B49","tankwar.stageInfo.ai.senior":"\u9AD8\u7EA7","tankwar.blocks.motion_attack":"\u671D\u5411 %1 \u65B9\u5411\u8DDD\u79BB %2 \u6B65\u53D1\u5C04\u70AE\u5F39","tankwar.blocks.motion_move":"\u4EE5 %2 % \u901F\u5EA6\u9762\u5411 %1 \u65B9\u5411\u524D\u8FDB","tankwar.blocks.motion_setspeed":"\u5C06\u901F\u5EA6\u8BBE\u4E3A %1 %","tankwar.blocks.motion_stop":"\u505C\u6B62\u524D\u8FDB","tankwar.blocks.motion_speed":"\u901F\u5EA6","tankwar.blocks.sensing_scanwidth":"\u5C06\u96F7\u8FBE\u626B\u63CF\u5BBD\u5EA6\u8BBE\u4E3A %1","tankwar.blocks.sensing_scan":"\u96F7\u8FBE\u626B\u63CF %1 \u65B9\u5411\u6709\u654C\u4EBA\uFF1F","tankwar.blocks.sensing_distance":"\u96F7\u8FBE\u6D4B\u91CF %1 \u65B9\u5411\u654C\u4EBA\u7684\u8DDD\u79BB","tankwar.blocks.sensing_health":"\u751F\u547D\u503C"};var I6={en:w6,"zh-Hans":F6};function ht({addLocaleData:l,openProject:p}){l(D1),l(I6);const r=()=>{p(Object.assign(j6))};return r(),{mainMenu:H1({createProject:r,openProject:p,saveProject:(b)=>{return{thumb:document.querySelector("#blockcode-blocks-player").toDataURL()}}}).slice(0,2),tabs:[{...Vl,Content:Hi}],sidebars:[{expand:"right",Content:ec}],pane:!1,tutorials:!1,canEditProjectName:!0}}export{ht as default};
