var S6=Object.defineProperty;var X6=(l,d)=>{for(var i in d)S6(l,i,{get:d[i],enumerable:!0,configurable:!0,set:(R)=>d[i]=()=>R})};var Fl=((l)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(l,{get:(d,i)=>(typeof require!=="undefined"?require:d)[i]}):l)(function(l){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+l+'" is not supported')});import{Text as E1}from"@blockcode/ui";import{Text as Mi}from"@blockcode/ui";import{Keys as Zn,useLayout as j9,useEditor as J9}from"@blockcode/core";import{Text as ie,MenuSection as $1,MenuItem as Rs}from"@blockcode/ui";import{ScratchBlocks as K9}from"@blockcode/blocks-editor";import{jsx as Qa,jsxs as Vi,Fragment as P9}from"preact/jsx-runtime";function I9({itemClassName:l,onNew:d,onOpen:i,onSave:R,children:f}){const{createPrompt:q,setStoreLibrary:u}=j9(),{modified:h,saveNow:L,saveToComputer:y,openFromComputer:k}=J9(),Z=(V)=>{if(R)return R(V);return V},T=async()=>{let V,$;const x=K9.getMainWorkspace();if(x){const O=x.getCanvas();if(O)V=await E9.svgAsDataUri(O,{})}return(O)=>{let g=new Set;const E={thumb:V,...Z(O)};if(E.assetList)E.assetList=E.assetList.filter((z)=>!z.id.startsWith("extensions/"));return E.fileList=E.fileList.map(({content:z,script:P,extensions:Y,...B})=>{return g=g.union(new Set(Y)),B}),E.editor.extensions=Array.from(g),E}};return Vi(P9,{children:[Vi($1,{children:[Qa(Rs,{className:l,label:Qa(ie,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[Li?Zn.COMMAND:Zn.CONTROL,Zn.N],onClick:()=>{if(h)q({title:Qa(ie,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:Qa(ie,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:d});else d()}}),Qa(Rs,{className:l,label:Qa(ie,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[Li?Zn.COMMAND:Zn.CONTROL,Zn.O],onClick:()=>u(!0)}),Qa(Rs,{className:l,label:Qa(ie,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[Li?Zn.COMMAND:Zn.CONTROL,Zn.S],onClick:async()=>L(await T())})]}),Vi($1,{children:[Qa(Rs,{className:l,label:Qa(ie,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>k(i)}),Qa(Rs,{className:l,label:Qa(ie,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:async()=>y(await T())})]}),f]})}import{useEffect as G9,useState as Wi}from"preact/hooks";import{Keys as Un}from"@blockcode/core";import{Text as T1,MenuSection as D9,MenuItem as M1}from"@blockcode/ui";import{ScratchBlocks as H9}from"@blockcode/blocks-editor";import{jsx as kl,jsxs as V1,Fragment as Y9}from"preact/jsx-runtime";function B9({itemClassName:l,children:d}){const[i,R]=Wi(!0),[f,q]=Wi(!0),[u,h]=Wi(null),L=H9.getMainWorkspace();if(L){if(u?.id!==L.id)h(L)}return G9(()=>{if(u)u.addChangeListener(()=>{R(u.undoStack_.length===0),q(u.redoStack_.length===0)}),R(u.undoStack_.length===0),q(u.redoStack_.length===0)},[u]),V1(Y9,{children:[V1(D9,{children:[kl(M1,{disabled:i,className:l,label:kl(T1,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[L1?Un.COMMAND:Un.CONTROL,Un.Z],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!1)}}),kl(M1,{disabled:f,className:l,label:kl(T1,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:L1?[Un.SHIFT,Un.COMMAND,Un.Z]:[Un.CONTROL,Un.Y],onClick:async(y)=>{if(y instanceof MouseEvent&&u)u.undo(!0)}})]}),d]})}import{useLocale as C9,useLayout as Q9,useEditor as A9}from"@blockcode/core";import{Text as ge,Spinner as o5,MenuSection as a5,MenuItem as n5}from"@blockcode/ui";function li(){return V0}import{Serial as t8,sleep as jr}from"@blockcode/core";function Fu(l){return l.replaceAll("\r\n","\n")}function Ou(l){return l.slice(2,-3)}function f8(l,d){const i=`data:${l};base64,${d}`;return fetch(i).then((R)=>R.arrayBuffer())}function ze(l){let d=l.length;while(--d>=0)l[d]=0}function Ir(l,d,i,R,f){this.static_tree=l,this.extra_bits=d,this.extra_base=i,this.elems=R,this.max_length=f,this.has_stree=l&&l.length}function Gr(l,d){this.dyn_tree=l,this.max_code=0,this.stat_desc=d}function un(l,d,i,R,f){this.good_length=l,this.max_lazy=d,this.nice_length=i,this.max_chain=R,this.func=f}function _8(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(t4*2),this.dyn_dtree=new Uint16Array((2*p4+1)*2),this.bl_tree=new Uint16Array((2*m4+1)*2),Fn(this.dyn_ltree),Fn(this.dyn_dtree),Fn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(d4+1),this.heap=new Uint16Array(2*ti+1),Fn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ti+1),Fn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function h8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Zi(l){this.options=Zl.assign({level:D4,method:Y4,chunkSize:16384,windowBits:15,memLevel:8,strategy:H4},l||{});let d=this.options;if(d.raw&&d.windowBits>0)d.windowBits=-d.windowBits;else if(d.gzip&&d.windowBits>0&&d.windowBits<16)d.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m1,this.strm.avail_out=0;let i=ls.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(i!==_l)throw new Error(ds[i]);if(d.header)ls.deflateSetHeader(this.strm,d.header);if(d.dictionary){let R;if(typeof d.dictionary==="string")R=fs.string2buf(d.dictionary);else if(t1.call(d.dictionary)==="[object ArrayBuffer]")R=new Uint8Array(d.dictionary);else R=d.dictionary;if(i=ls.deflateSetDictionary(this.strm,R),i!==_l)throw new Error(ds[i]);this._dict_set=!0}}function N8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function yi(l){this.options=Zl.assign({chunkSize:65536,windowBits:15,to:""},l||{});const d=this.options;if(d.raw&&d.windowBits>=0&&d.windowBits<16){if(d.windowBits=-d.windowBits,d.windowBits===0)d.windowBits=-15}if(d.windowBits>=0&&d.windowBits<16&&!(l&&l.windowBits))d.windowBits+=32;if(d.windowBits>15&&d.windowBits<48){if((d.windowBits&15)===0)d.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m1,this.strm.avail_out=0;let i=Rn.inflateInit2(this.strm,d.windowBits);if(i!==_s)throw new Error(ds[i]);if(this.header=new M9,Rn.inflateGetHeader(this.strm,this.header),d.dictionary){if(typeof d.dictionary==="string")d.dictionary=fs.string2buf(d.dictionary);else if(q1.call(d.dictionary)==="[object ArrayBuffer]")d.dictionary=new Uint8Array(d.dictionary);if(d.raw){if(i=Rn.inflateSetDictionary(this.strm,d.dictionary),i!==_s)throw new Error(ds[i])}}}var g6=Object.create,{getPrototypeOf:U6,defineProperty:is,getOwnPropertyNames:Z0,getOwnPropertyDescriptor:E6}=Object,y0=Object.prototype.hasOwnProperty,Ni=(l,d,i)=>{i=l!=null?g6(U6(l)):{};const R=d||!l||!l.__esModule?is(i,"default",{value:l,enumerable:!0}):i;for(let f of Z0(l))if(!y0.call(R,f))is(R,f,{get:()=>l[f],enumerable:!0});return R},oc=new WeakMap,j6=(l)=>{var d=oc.get(l),i;if(d)return d;if(d=is({},"__esModule",{value:!0}),l&&typeof l==="object"||typeof l==="function")Z0(l).map((R)=>!y0.call(d,R)&&is(d,R,{get:()=>l[R],enumerable:!(i=E6(l,R))||i.enumerable}));return oc.set(l,d),d},Nl=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports),dn=(l,d)=>{for(var i in d)is(l,i,{get:d[i],enumerable:!0,configurable:!0,set:(R)=>d[i]=()=>R})},Va=(l,d)=>()=>(l&&(d=l(l=0)),d),k0={};dn(k0,{webcrypto:()=>tl,timingSafeEqual:()=>ye,scryptSync:()=>os,scrypt:()=>as,randomUUID:()=>ii,getRandomValues:()=>ri,getCurves:()=>li,default:()=>ci,DEFAULT_ENCODING:()=>Ze});var q0,hs,x0,$0,T0,M0,Ol=(l,d)=>()=>(l&&(d=l(l=0)),d),Uo=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports),Os=(l,d)=>{for(var i in d)hs(l,i,{get:d[i],enumerable:!0})},bl=(l,d,i,R)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of $0(d))!M0.call(l,f)&&f!==i&&hs(l,f,{get:()=>d[f],enumerable:!(R=x0(d,f))||R.enumerable});return l},zl=(l,d,i)=>(bl(l,d,"default"),i&&bl(i,d,"default")),Dn=(l,d,i)=>(i=l!=null?q0(T0(l)):{},bl(d||!l||!l.__esModule?hs(i,"default",{value:l,enumerable:!0}):i,l)),Ya=(l)=>bl(hs({},"__esModule",{value:!0}),l),ac,nc,Fa,ha,Hn,da,Mn,Sl,Ie,ec,Xl,Yn,gl,Ul,El,Bn,zs,be,jl,Ge,Ss,sc,lc,Jl,Kl,rc,ic,cc,Pl,Xs,gs,Cn,uc,pc,Il,mc,Gl,tc,Us,Ma,sn,Es,Xa,De,Dl,ln,dc,Vn,Ln,Wn,bc,Qn,js,Js,fc,Ks,Hl,He,Yl,_c,rn,Bl,Cl,Ps,hc,Ql,Nc,Al,Is,vc,Rc,hn,fe,Zc,or,ar,nr,yc,er,sr,lr,rr,kc,ir,cr,Pa,Gs,ur,qc,xc,$c,Tc,Mc,_e,Vc,Lc,Wc,wc,Fc,pr,mr,tr,Ds,Ye,Oc,dr,br,Be,zc,Sc,Hs,Xc,gc,wn,fr,Uc,Ec,Ys,_r,hr,jc,Jc,Kc,Nr,Pc,vr,An,Rr,Zr,oe,Bs,Ic,Gc,yr,kr,Dc,Hc,Yc,Cs,Qs,Bc,cn,qr,Ia,Ce,Cc,Qc,Ac,xr,nn,he,$r,ou,Tr,au,Mr,nu,eu,su,lu,As,ru,ol,iu,cu,uu,pu,mu,tu,du,al,Vr,nl,el,Ne,sl,ll,Lr,bu,Wr,wr,fu,Fr,_u,hu,Nu,Or,vu,Ru,Zu,yu,Qe,zr,ku,qu,xu,$u,Tu,Sr,Xr,rl,gr,Mu,Vu,Lu,Wu,Ur,Er,wu,Ze="buffer",ri=(l)=>crypto.getRandomValues(l),ii=()=>crypto.randomUUID(),V0,ye,os,as,tl,ci,J6=Va(()=>{q0=Object.create,hs=Object.defineProperty,x0=Object.getOwnPropertyDescriptor,$0=Object.getOwnPropertyNames,T0=Object.getPrototypeOf,M0=Object.prototype.hasOwnProperty,ac=Uo((l)=>{l.byteLength=L,l.toByteArray=k,l.fromByteArray=V;var d=[],i=[],R=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(q=0,u=f.length;q<u;++q)d[q]=f[q],i[f.charCodeAt(q)]=q;var q,u;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function h($){var x=$.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=$.indexOf("=");O===-1&&(O=x);var g=O===x?0:4-O%4;return[O,g]}function L($){var x=h($),O=x[0],g=x[1];return(O+g)*3/4-g}function y($,x,O){return(x+O)*3/4-O}function k($){var x,O=h($),g=O[0],E=O[1],z=new R(y($,g,E)),P=0,Y=E>0?g-4:g,B;for(B=0;B<Y;B+=4)x=i[$.charCodeAt(B)]<<18|i[$.charCodeAt(B+1)]<<12|i[$.charCodeAt(B+2)]<<6|i[$.charCodeAt(B+3)],z[P++]=x>>16&255,z[P++]=x>>8&255,z[P++]=x&255;return E===2&&(x=i[$.charCodeAt(B)]<<2|i[$.charCodeAt(B+1)]>>4,z[P++]=x&255),E===1&&(x=i[$.charCodeAt(B)]<<10|i[$.charCodeAt(B+1)]<<4|i[$.charCodeAt(B+2)]>>2,z[P++]=x>>8&255,z[P++]=x&255),z}function Z($){return d[$>>18&63]+d[$>>12&63]+d[$>>6&63]+d[$&63]}function T($,x,O){for(var g,E=[],z=x;z<O;z+=3)g=($[z]<<16&16711680)+($[z+1]<<8&65280)+($[z+2]&255),E.push(Z(g));return E.join("")}function V($){for(var x,O=$.length,g=O%3,E=[],z=16383,P=0,Y=O-g;P<Y;P+=z)E.push(T($,P,P+z>Y?Y:P+z));return g===1?(x=$[O-1],E.push(d[x>>2]+d[x<<4&63]+"==")):g===2&&(x=($[O-2]<<8)+$[O-1],E.push(d[x>>10]+d[x>>4&63]+d[x<<2&63]+"=")),E.join("")}}),nc=Uo((l)=>{l.read=function(d,i,R,f,q){var u,h,L=q*8-f-1,y=(1<<L)-1,k=y>>1,Z=-7,T=R?q-1:0,V=R?-1:1,$=d[i+T];for(T+=V,u=$&(1<<-Z)-1,$>>=-Z,Z+=L;Z>0;u=u*256+d[i+T],T+=V,Z-=8);for(h=u&(1<<-Z)-1,u>>=-Z,Z+=f;Z>0;h=h*256+d[i+T],T+=V,Z-=8);if(u===0)u=1-k;else{if(u===y)return h?NaN:($?-1:1)*(1/0);h=h+Math.pow(2,f),u=u-k}return($?-1:1)*h*Math.pow(2,u-f)},l.write=function(d,i,R,f,q,u){var h,L,y,k=u*8-q-1,Z=(1<<k)-1,T=Z>>1,V=q===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=f?0:u-1,x=f?1:-1,O=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(L=isNaN(i)?1:0,h=Z):(h=Math.floor(Math.log(i)/Math.LN2),i*(y=Math.pow(2,-h))<1&&(h--,y*=2),h+T>=1?i+=V/y:i+=V*Math.pow(2,1-T),i*y>=2&&(h++,y/=2),h+T>=Z?(L=0,h=Z):h+T>=1?(L=(i*y-1)*Math.pow(2,q),h=h+T):(L=i*Math.pow(2,T-1)*Math.pow(2,q),h=0));q>=8;d[R+$]=L&255,$+=x,L/=256,q-=8);for(h=h<<q|L,k+=q;k>0;d[R+$]=h&255,$+=x,h/=256,k-=8);d[R+$-x]|=O*128}}),Fa=Uo((l)=>{var d=ac(),i=nc(),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=h,l.SlowBuffer=E,l.INSPECT_MAX_BYTES=50;var f=2147483647;l.kMaxLength=f,h.TYPED_ARRAY_SUPPORT=q(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function q(){try{let W=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(W,n),W.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function u(W){if(W>f)throw new RangeError('The value "'+W+'" is invalid for option "size"');let n=new Uint8Array(W);return Object.setPrototypeOf(n,h.prototype),n}function h(W,n,r){if(typeof W=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(W)}return L(W,n,r)}h.poolSize=8192;function L(W,n,r){if(typeof W=="string")return T(W,n);if(ArrayBuffer.isView(W))return $(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(jo(W,ArrayBuffer)||W&&jo(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jo(W,SharedArrayBuffer)||W&&jo(W.buffer,SharedArrayBuffer)))return x(W,n,r);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let b=W.valueOf&&W.valueOf();if(b!=null&&b!==W)return h.from(b,n,r);let v=O(W);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return h.from(W[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}h.from=function(W,n,r){return L(W,n,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function y(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function k(W,n,r){return y(W),W<=0?u(W):n!==void 0?typeof r=="string"?u(W).fill(n,r):u(W).fill(n):u(W)}h.alloc=function(W,n,r){return k(W,n,r)};function Z(W){return y(W),u(W<0?0:g(W)|0)}h.allocUnsafe=function(W){return Z(W)},h.allocUnsafeSlow=function(W){return Z(W)};function T(W,n){if((typeof n!="string"||n==="")&&(n="utf8"),!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);let r=z(W,n)|0,b=u(r),v=b.write(W,n);return v!==r&&(b=b.slice(0,v)),b}function V(W){let n=W.length<0?0:g(W.length)|0,r=u(n);for(let b=0;b<n;b+=1)r[b]=W[b]&255;return r}function $(W){if(jo(W,Uint8Array)){let n=new Uint8Array(W);return x(n.buffer,n.byteOffset,n.byteLength)}return V(W)}function x(W,n,r){if(n<0||W.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');let b;return n===void 0&&r===void 0?b=new Uint8Array(W):r===void 0?b=new Uint8Array(W,n):b=new Uint8Array(W,n,r),Object.setPrototypeOf(b,h.prototype),b}function O(W){if(h.isBuffer(W)){let n=g(W.length)|0,r=u(n);return r.length===0||W.copy(r,0,0,n),r}if(W.length!==void 0)return typeof W.length!="number"||Qo(W.length)?u(0):V(W);if(W.type==="Buffer"&&Array.isArray(W.data))return V(W.data)}function g(W){if(W>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return W|0}function E(W){return+W!=W&&(W=0),h.alloc(+W)}h.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==h.prototype},h.compare=function(W,n){if(jo(W,Uint8Array)&&(W=h.from(W,W.offset,W.byteLength)),jo(n,Uint8Array)&&(n=h.from(n,n.offset,n.byteLength)),!h.isBuffer(W)||!h.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===n)return 0;let r=W.length,b=n.length;for(let v=0,M=Math.min(r,b);v<M;++v)if(W[v]!==n[v]){r=W[v],b=n[v];break}return r<b?-1:b<r?1:0},h.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(W,n){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return h.alloc(0);let r;if(n===void 0)for(n=0,r=0;r<W.length;++r)n+=W[r].length;let b=h.allocUnsafe(n),v=0;for(r=0;r<W.length;++r){let M=W[r];if(jo(M,Uint8Array))v+M.length>b.length?(h.isBuffer(M)||(M=h.from(M)),M.copy(b,v)):Uint8Array.prototype.set.call(b,M,v);else if(h.isBuffer(M))M.copy(b,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=M.length}return b};function z(W,n){if(h.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||jo(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);let r=W.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&r===0)return 0;let v=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $o(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Go(W).length;default:if(v)return b?-1:$o(W).length;n=(""+n).toLowerCase(),v=!0}}h.byteLength=z;function P(W,n,r){let b=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,n>>>=0,r<=n))return"";for(W||(W="utf8");;)switch(W){case"hex":return t(this,n,r);case"utf8":case"utf-8":return c(this,n,r);case"ascii":return _(this,n,r);case"latin1":case"binary":return N(this,n,r);case"base64":return e(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,n,r);default:if(b)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),b=!0}}h.prototype._isBuffer=!0;function Y(W,n,r){let b=W[n];W[n]=W[r],W[r]=b}h.prototype.swap16=function(){let W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<W;n+=2)Y(this,n,n+1);return this},h.prototype.swap32=function(){let W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<W;n+=4)Y(this,n,n+3),Y(this,n+1,n+2);return this},h.prototype.swap64=function(){let W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<W;n+=8)Y(this,n,n+7),Y(this,n+1,n+6),Y(this,n+2,n+5),Y(this,n+3,n+4);return this},h.prototype.toString=function(){let W=this.length;return W===0?"":arguments.length===0?c(this,0,W):P.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(W){if(!h.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:h.compare(this,W)===0},h.prototype.inspect=function(){let W="",n=l.INSPECT_MAX_BYTES;return W=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(W+=" ... "),"<Buffer "+W+">"},R&&(h.prototype[R]=h.prototype.inspect),h.prototype.compare=function(W,n,r,b,v){if(jo(W,Uint8Array)&&(W=h.from(W,W.offset,W.byteLength)),!h.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(n===void 0&&(n=0),r===void 0&&(r=W?W.length:0),b===void 0&&(b=0),v===void 0&&(v=this.length),n<0||r>W.length||b<0||v>this.length)throw new RangeError("out of range index");if(b>=v&&n>=r)return 0;if(b>=v)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,b>>>=0,v>>>=0,this===W)return 0;let M=v-b,F=r-n,U=Math.min(M,F),K=this.slice(b,v),j=W.slice(n,r);for(let J=0;J<U;++J)if(K[J]!==j[J]){M=K[J],F=j[J];break}return M<F?-1:F<M?1:0};function B(W,n,r,b,v){if(W.length===0)return-1;if(typeof r=="string"?(b=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Qo(r)&&(r=v?0:W.length-1),r<0&&(r=W.length+r),r>=W.length){if(v)return-1;r=W.length-1}else if(r<0)if(v)r=0;else return-1;if(typeof n=="string"&&(n=h.from(n,b)),h.isBuffer(n))return n.length===0?-1:uo(W,n,r,b,v);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(W,n,r):Uint8Array.prototype.lastIndexOf.call(W,n,r):uo(W,[n],r,b,v);throw new TypeError("val must be string, number or Buffer")}function uo(W,n,r,b,v){let M=1,F=W.length,U=n.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(W.length<2||n.length<2)return-1;M=2,F/=2,U/=2,r/=2}function K(J,ao){return M===1?J[ao]:J.readUInt16BE(ao*M)}let j;if(v){let J=-1;for(j=r;j<F;j++)if(K(W,j)===K(n,J===-1?0:j-J)){if(J===-1&&(J=j),j-J+1===U)return J*M}else J!==-1&&(j-=j-J),J=-1}else for(r+U>F&&(r=F-U),j=r;j>=0;j--){let J=!0;for(let ao=0;ao<U;ao++)if(K(W,j+ao)!==K(n,ao)){J=!1;break}if(J)return j}return-1}h.prototype.includes=function(W,n,r){return this.indexOf(W,n,r)!==-1},h.prototype.indexOf=function(W,n,r){return B(this,W,n,r,!0)},h.prototype.lastIndexOf=function(W,n,r){return B(this,W,n,r,!1)};function to(W,n,r,b){r=Number(r)||0;let v=W.length-r;b?(b=Number(b),b>v&&(b=v)):b=v;let M=n.length;b>M/2&&(b=M/2);let F;for(F=0;F<b;++F){let U=parseInt(n.substr(F*2,2),16);if(Qo(U))return F;W[r+F]=U}return F}function To(W,n,r,b){return Xo($o(n,W.length-r),W,r,b)}function co(W,n,r,b){return Xo(wo(n),W,r,b)}function Wo(W,n,r,b){return Xo(Go(n),W,r,b)}function o(W,n,r,b){return Xo(Mo(n,W.length-r),W,r,b)}h.prototype.write=function(W,n,r,b){if(n===void 0)b="utf8",r=this.length,n=0;else if(r===void 0&&typeof n=="string")b=n,r=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(r)?(r=r>>>0,b===void 0&&(b="utf8")):(b=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let v=this.length-n;if((r===void 0||r>v)&&(r=v),W.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let M=!1;for(;;)switch(b){case"hex":return to(this,W,n,r);case"utf8":case"utf-8":return To(this,W,n,r);case"ascii":case"latin1":case"binary":return co(this,W,n,r);case"base64":return Wo(this,W,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,W,n,r);default:if(M)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),M=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function e(W,n,r){return n===0&&r===W.length?d.fromByteArray(W):d.fromByteArray(W.slice(n,r))}function c(W,n,r){r=Math.min(W.length,r);let b=[],v=n;for(;v<r;){let M=W[v],F=null,U=M>239?4:M>223?3:M>191?2:1;if(v+U<=r){let K,j,J,ao;switch(U){case 1:M<128&&(F=M);break;case 2:K=W[v+1],(K&192)===128&&(ao=(M&31)<<6|K&63,ao>127&&(F=ao));break;case 3:K=W[v+1],j=W[v+2],(K&192)===128&&(j&192)===128&&(ao=(M&15)<<12|(K&63)<<6|j&63,ao>2047&&(ao<55296||ao>57343)&&(F=ao));break;case 4:K=W[v+1],j=W[v+2],J=W[v+3],(K&192)===128&&(j&192)===128&&(J&192)===128&&(ao=(M&15)<<18|(K&63)<<12|(j&63)<<6|J&63,ao>65535&&ao<1114112&&(F=ao))}}F===null?(F=65533,U=1):F>65535&&(F-=65536,b.push(F>>>10&1023|55296),F=56320|F&1023),b.push(F),v+=U}return p(b)}var s=4096;function p(W){let n=W.length;if(n<=s)return String.fromCharCode.apply(String,W);let r="",b=0;for(;b<n;)r+=String.fromCharCode.apply(String,W.slice(b,b+=s));return r}function _(W,n,r){let b="";r=Math.min(W.length,r);for(let v=n;v<r;++v)b+=String.fromCharCode(W[v]&127);return b}function N(W,n,r){let b="";r=Math.min(W.length,r);for(let v=n;v<r;++v)b+=String.fromCharCode(W[v]);return b}function t(W,n,r){let b=W.length;(!n||n<0)&&(n=0),(!r||r<0||r>b)&&(r=b);let v="";for(let M=n;M<r;++M)v+=Jo[W[M]];return v}function a(W,n,r){let b=W.slice(n,r),v="";for(let M=0;M<b.length-1;M+=2)v+=String.fromCharCode(b[M]+b[M+1]*256);return v}h.prototype.slice=function(W,n){let r=this.length;W=~~W,n=n===void 0?r:~~n,W<0?(W+=r,W<0&&(W=0)):W>r&&(W=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<W&&(n=W);let b=this.subarray(W,n);return Object.setPrototypeOf(b,h.prototype),b};function m(W,n,r){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+n>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(W,n,r){W=W>>>0,n=n>>>0,r||m(W,n,this.length);let b=this[W],v=1,M=0;for(;++M<n&&(v*=256);)b+=this[W+M]*v;return b},h.prototype.readUintBE=h.prototype.readUIntBE=function(W,n,r){W=W>>>0,n=n>>>0,r||m(W,n,this.length);let b=this[W+--n],v=1;for(;n>0&&(v*=256);)b+=this[W+--n]*v;return b},h.prototype.readUint8=h.prototype.readUInt8=function(W,n){return W=W>>>0,n||m(W,1,this.length),this[W]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(W,n){return W=W>>>0,n||m(W,2,this.length),this[W]|this[W+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(W,n){return W=W>>>0,n||m(W,2,this.length),this[W]<<8|this[W+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(W,n){return W=W>>>0,n||m(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(W,n){return W=W>>>0,n||m(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},h.prototype.readBigUInt64LE=So(function(W){W=W>>>0,Lo(W,"offset");let n=this[W],r=this[W+7];(n===void 0||r===void 0)&&G(W,this.length-8);let b=n+this[++W]*256+this[++W]*65536+this[++W]*16777216,v=this[++W]+this[++W]*256+this[++W]*65536+r*16777216;return BigInt(b)+(BigInt(v)<<BigInt(32))}),h.prototype.readBigUInt64BE=So(function(W){W=W>>>0,Lo(W,"offset");let n=this[W],r=this[W+7];(n===void 0||r===void 0)&&G(W,this.length-8);let b=n*16777216+this[++W]*65536+this[++W]*256+this[++W],v=this[++W]*16777216+this[++W]*65536+this[++W]*256+r;return(BigInt(b)<<BigInt(32))+BigInt(v)}),h.prototype.readIntLE=function(W,n,r){W=W>>>0,n=n>>>0,r||m(W,n,this.length);let b=this[W],v=1,M=0;for(;++M<n&&(v*=256);)b+=this[W+M]*v;return v*=128,b>=v&&(b-=Math.pow(2,8*n)),b},h.prototype.readIntBE=function(W,n,r){W=W>>>0,n=n>>>0,r||m(W,n,this.length);let b=n,v=1,M=this[W+--b];for(;b>0&&(v*=256);)M+=this[W+--b]*v;return v*=128,M>=v&&(M-=Math.pow(2,8*n)),M},h.prototype.readInt8=function(W,n){return W=W>>>0,n||m(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},h.prototype.readInt16LE=function(W,n){W=W>>>0,n||m(W,2,this.length);let r=this[W]|this[W+1]<<8;return r&32768?r|4294901760:r},h.prototype.readInt16BE=function(W,n){W=W>>>0,n||m(W,2,this.length);let r=this[W+1]|this[W]<<8;return r&32768?r|4294901760:r},h.prototype.readInt32LE=function(W,n){return W=W>>>0,n||m(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},h.prototype.readInt32BE=function(W,n){return W=W>>>0,n||m(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},h.prototype.readBigInt64LE=So(function(W){W=W>>>0,Lo(W,"offset");let n=this[W],r=this[W+7];(n===void 0||r===void 0)&&G(W,this.length-8);let b=this[W+4]+this[W+5]*256+this[W+6]*65536+(r<<24);return(BigInt(b)<<BigInt(32))+BigInt(n+this[++W]*256+this[++W]*65536+this[++W]*16777216)}),h.prototype.readBigInt64BE=So(function(W){W=W>>>0,Lo(W,"offset");let n=this[W],r=this[W+7];(n===void 0||r===void 0)&&G(W,this.length-8);let b=(n<<24)+this[++W]*65536+this[++W]*256+this[++W];return(BigInt(b)<<BigInt(32))+BigInt(this[++W]*16777216+this[++W]*65536+this[++W]*256+r)}),h.prototype.readFloatLE=function(W,n){return W=W>>>0,n||m(W,4,this.length),i.read(this,W,!0,23,4)},h.prototype.readFloatBE=function(W,n){return W=W>>>0,n||m(W,4,this.length),i.read(this,W,!1,23,4)},h.prototype.readDoubleLE=function(W,n){return W=W>>>0,n||m(W,8,this.length),i.read(this,W,!0,52,8)},h.prototype.readDoubleBE=function(W,n){return W=W>>>0,n||m(W,8,this.length),i.read(this,W,!1,52,8)};function S(W,n,r,b,v,M){if(!h.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>v||n<M)throw new RangeError('"value" argument is out of bounds');if(r+b>W.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(W,n,r,b){if(W=+W,n=n>>>0,r=r>>>0,!b){let F=Math.pow(2,8*r)-1;S(this,W,n,r,F,0)}let v=1,M=0;for(this[n]=W&255;++M<r&&(v*=256);)this[n+M]=W/v&255;return n+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(W,n,r,b){if(W=+W,n=n>>>0,r=r>>>0,!b){let F=Math.pow(2,8*r)-1;S(this,W,n,r,F,0)}let v=r-1,M=1;for(this[n+v]=W&255;--v>=0&&(M*=256);)this[n+v]=W/M&255;return n+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,1,255,0),this[n]=W&255,n+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,2,65535,0),this[n]=W&255,this[n+1]=W>>>8,n+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,2,65535,0),this[n]=W>>>8,this[n+1]=W&255,n+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,4,4294967295,0),this[n+3]=W>>>24,this[n+2]=W>>>16,this[n+1]=W>>>8,this[n]=W&255,n+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,4,4294967295,0),this[n]=W>>>24,this[n+1]=W>>>16,this[n+2]=W>>>8,this[n+3]=W&255,n+4};function w(W,n,r,b,v){xo(n,b,v,W,r,7);let M=Number(n&BigInt(4294967295));W[r++]=M,M=M>>8,W[r++]=M,M=M>>8,W[r++]=M,M=M>>8,W[r++]=M;let F=Number(n>>BigInt(32)&BigInt(4294967295));return W[r++]=F,F=F>>8,W[r++]=F,F=F>>8,W[r++]=F,F=F>>8,W[r++]=F,r}function I(W,n,r,b,v){xo(n,b,v,W,r,7);let M=Number(n&BigInt(4294967295));W[r+7]=M,M=M>>8,W[r+6]=M,M=M>>8,W[r+5]=M,M=M>>8,W[r+4]=M;let F=Number(n>>BigInt(32)&BigInt(4294967295));return W[r+3]=F,F=F>>8,W[r+2]=F,F=F>>8,W[r+1]=F,F=F>>8,W[r]=F,r+8}h.prototype.writeBigUInt64LE=So(function(W,n=0){return w(this,W,n,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=So(function(W,n=0){return I(this,W,n,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(W,n,r,b){if(W=+W,n=n>>>0,!b){let U=Math.pow(2,8*r-1);S(this,W,n,r,U-1,-U)}let v=0,M=1,F=0;for(this[n]=W&255;++v<r&&(M*=256);)W<0&&F===0&&this[n+v-1]!==0&&(F=1),this[n+v]=(W/M>>0)-F&255;return n+r},h.prototype.writeIntBE=function(W,n,r,b){if(W=+W,n=n>>>0,!b){let U=Math.pow(2,8*r-1);S(this,W,n,r,U-1,-U)}let v=r-1,M=1,F=0;for(this[n+v]=W&255;--v>=0&&(M*=256);)W<0&&F===0&&this[n+v+1]!==0&&(F=1),this[n+v]=(W/M>>0)-F&255;return n+r},h.prototype.writeInt8=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,1,127,-128),W<0&&(W=255+W+1),this[n]=W&255,n+1},h.prototype.writeInt16LE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,2,32767,-32768),this[n]=W&255,this[n+1]=W>>>8,n+2},h.prototype.writeInt16BE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,2,32767,-32768),this[n]=W>>>8,this[n+1]=W&255,n+2},h.prototype.writeInt32LE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,4,2147483647,-2147483648),this[n]=W&255,this[n+1]=W>>>8,this[n+2]=W>>>16,this[n+3]=W>>>24,n+4},h.prototype.writeInt32BE=function(W,n,r){return W=+W,n=n>>>0,r||S(this,W,n,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[n]=W>>>24,this[n+1]=W>>>16,this[n+2]=W>>>8,this[n+3]=W&255,n+4},h.prototype.writeBigInt64LE=So(function(W,n=0){return w(this,W,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=So(function(W,n=0){return I(this,W,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fo(W,n,r,b,v,M){if(r+b>W.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ro(W,n,r,b,v){return n=+n,r=r>>>0,v||fo(W,n,r,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),i.write(W,n,r,b,23,4),r+4}h.prototype.writeFloatLE=function(W,n,r){return Ro(this,W,n,!0,r)},h.prototype.writeFloatBE=function(W,n,r){return Ro(this,W,n,!1,r)};function qo(W,n,r,b,v){return n=+n,r=r>>>0,v||fo(W,n,r,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),i.write(W,n,r,b,52,8),r+8}h.prototype.writeDoubleLE=function(W,n,r){return qo(this,W,n,!0,r)},h.prototype.writeDoubleBE=function(W,n,r){return qo(this,W,n,!1,r)},h.prototype.copy=function(W,n,r,b){if(!h.isBuffer(W))throw new TypeError("argument should be a Buffer");if(r||(r=0),!b&&b!==0&&(b=this.length),n>=W.length&&(n=W.length),n||(n=0),b>0&&b<r&&(b=r),b===r||W.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),W.length-n<b-r&&(b=W.length-n+r);let v=b-r;return this===W&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,r,b):Uint8Array.prototype.set.call(W,this.subarray(r,b),n),v},h.prototype.fill=function(W,n,r,b){if(typeof W=="string"){if(typeof n=="string"?(b=n,n=0,r=this.length):typeof r=="string"&&(b=r,r=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!h.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(W.length===1){let M=W.charCodeAt(0);(b==="utf8"&&M<128||b==="latin1")&&(W=M)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n=n>>>0,r=r===void 0?this.length:r>>>0,W||(W=0);let v;if(typeof W=="number")for(v=n;v<r;++v)this[v]=W;else{let M=h.isBuffer(W)?W:h.from(W,b),F=M.length;if(F===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(v=0;v<r-n;++v)this[v+n]=M[v%F]}return this};var po={};function io(W,n,r){po[W]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}io("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),io("ERR_INVALID_ARG_TYPE",function(W,n){return`The "${W}" argument must be of type number. Received type ${typeof n}`},TypeError),io("ERR_OUT_OF_RANGE",function(W,n,r){let b=`The value of "${W}" is out of range.`,v=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?v=ho(String(r)):typeof r=="bigint"&&(v=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(v=ho(v)),v+="n"),b+=` It must be ${n}. Received ${v}`,b},RangeError);function ho(W){let n="",r=W.length,b=W[0]==="-"?1:0;for(;r>=b+4;r-=3)n=`_${W.slice(r-3,r)}${n}`;return`${W.slice(0,r)}${n}`}function Eo(W,n,r){Lo(n,"offset"),(W[n]===void 0||W[n+r]===void 0)&&G(n,W.length-(r+1))}function xo(W,n,r,b,v,M){if(W>r||W<n){let F=typeof n=="bigint"?"n":"",U;throw M>3?n===0||n===BigInt(0)?U=`>= 0${F} and < 2${F} ** ${(M+1)*8}${F}`:U=`>= -(2${F} ** ${(M+1)*8-1}${F}) and < 2 ** ${(M+1)*8-1}${F}`:U=`>= ${n}${F} and <= ${r}${F}`,new po.ERR_OUT_OF_RANGE("value",U,W)}Eo(b,v,M)}function Lo(W,n){if(typeof W!="number")throw new po.ERR_INVALID_ARG_TYPE(n,"number",W)}function G(W,n,r){throw Math.floor(W)!==W?(Lo(W,r),new po.ERR_OUT_OF_RANGE(r||"offset","an integer",W)):n<0?new po.ERR_BUFFER_OUT_OF_BOUNDS:new po.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,W)}var X=/[^+/0-9A-Za-z-_]/g;function Q(W){if(W=W.split("=")[0],W=W.trim().replace(X,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function $o(W,n){n=n||1/0;let r,b=W.length,v=null,M=[];for(let F=0;F<b;++F){if(r=W.charCodeAt(F),r>55295&&r<57344){if(!v){if(r>56319){(n-=3)>-1&&M.push(239,191,189);continue}else if(F+1===b){(n-=3)>-1&&M.push(239,191,189);continue}v=r;continue}if(r<56320){(n-=3)>-1&&M.push(239,191,189),v=r;continue}r=(v-55296<<10|r-56320)+65536}else v&&(n-=3)>-1&&M.push(239,191,189);if(v=null,r<128){if((n-=1)<0)break;M.push(r)}else if(r<2048){if((n-=2)<0)break;M.push(r>>6|192,r&63|128)}else if(r<65536){if((n-=3)<0)break;M.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((n-=4)<0)break;M.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return M}function wo(W){let n=[];for(let r=0;r<W.length;++r)n.push(W.charCodeAt(r)&255);return n}function Mo(W,n){let r,b,v,M=[];for(let F=0;F<W.length&&!((n-=2)<0);++F)r=W.charCodeAt(F),b=r>>8,v=r%256,M.push(v),M.push(b);return M}function Go(W){return d.toByteArray(Q(W))}function Xo(W,n,r,b){let v;for(v=0;v<b&&!(v+r>=n.length||v>=W.length);++v)n[v+r]=W[v];return v}function jo(W,n){return W instanceof n||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===n.name}function Qo(W){return W!==W}var Jo=function(){let W="0123456789abcdef",n=new Array(256);for(let r=0;r<16;++r){let b=r*16;for(let v=0;v<16;++v)n[b+v]=W[r]+W[v]}return n}();function So(W){return typeof BigInt>"u"?ba:W}function ba(){throw new Error("BigInt not supported")}}),ha=Uo((l,d)=>{var i=Fa(),R=i.Buffer;function f(u,h){for(var L in u)h[L]=u[L]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?d.exports=i:(f(i,l),l.Buffer=q);function q(u,h,L){return R(u,h,L)}q.prototype=Object.create(R.prototype),f(R,q),q.from=function(u,h,L){if(typeof u=="number")throw new TypeError("Argument must not be a number");return R(u,h,L)},q.alloc=function(u,h,L){if(typeof u!="number")throw new TypeError("Argument must be a number");var y=R(u);return h!==void 0?typeof L=="string"?y.fill(h,L):y.fill(h):y.fill(0),y},q.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return R(u)},q.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(u)}}),Hn=Uo((l,d)=>{var i=65536,R=4294967295;function f(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var q=ha().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?d.exports=h:d.exports=f;function h(L,y){if(L>R)throw new RangeError("requested too many random bytes");var k=q.allocUnsafe(L);if(L>0)if(L>i)for(var Z=0;Z<L;Z+=i)u.getRandomValues(k.slice(Z,Z+i));else u.getRandomValues(k);return typeof y=="function"?process.nextTick(function(){y(null,k)}):k}}),da=Uo((l,d)=>{typeof Object.create=="function"?d.exports=function(i,R){R&&(i.super_=R,i.prototype=Object.create(R.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:d.exports=function(i,R){if(R){i.super_=R;var f=function(){};f.prototype=R.prototype,i.prototype=new f,i.prototype.constructor=i}}}),Mn=Uo((l,d)=>{var i=typeof Reflect=="object"?Reflect:null,R=i&&typeof i.apply=="function"?i.apply:function(B,uo,to){return Function.prototype.apply.call(B,uo,to)},f;i&&typeof i.ownKeys=="function"?f=i.ownKeys:Object.getOwnPropertySymbols?f=function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:f=function(B){return Object.getOwnPropertyNames(B)};function q(B){console&&console.warn&&console.warn(B)}var u=Number.isNaN||function(B){return B!==B};function h(){h.init.call(this)}d.exports=h,d.exports.once=z,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var L=10;function y(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(B){if(typeof B!="number"||B<0||u(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");L=B}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||u(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this};function k(B){return B._maxListeners===void 0?h.defaultMaxListeners:B._maxListeners}h.prototype.getMaxListeners=function(){return k(this)},h.prototype.emit=function(B){for(var uo=[],to=1;to<arguments.length;to++)uo.push(arguments[to]);var To=B==="error",co=this._events;if(co!==void 0)To=To&&co.error===void 0;else if(!To)return!1;if(To){var Wo;if(uo.length>0&&(Wo=uo[0]),Wo instanceof Error)throw Wo;var o=new Error("Unhandled error."+(Wo?" ("+Wo.message+")":""));throw o.context=Wo,o}var e=co[B];if(e===void 0)return!1;if(typeof e=="function")R(e,this,uo);else for(var c=e.length,s=O(e,c),to=0;to<c;++to)R(s[to],this,uo);return!0};function Z(B,uo,to,To){var co,Wo,o;if(y(to),Wo=B._events,Wo===void 0?(Wo=B._events=Object.create(null),B._eventsCount=0):(Wo.newListener!==void 0&&(B.emit("newListener",uo,to.listener?to.listener:to),Wo=B._events),o=Wo[uo]),o===void 0)o=Wo[uo]=to,++B._eventsCount;else if(typeof o=="function"?o=Wo[uo]=To?[to,o]:[o,to]:To?o.unshift(to):o.push(to),co=k(B),co>0&&o.length>co&&!o.warned){o.warned=!0;var e=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(uo)+" listeners added. Use emitter.setMaxListeners() to increase limit");e.name="MaxListenersExceededWarning",e.emitter=B,e.type=uo,e.count=o.length,q(e)}return B}h.prototype.addListener=function(B,uo){return Z(this,B,uo,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(B,uo){return Z(this,B,uo,!0)};function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(B,uo,to){var To={fired:!1,wrapFn:void 0,target:B,type:uo,listener:to},co=T.bind(To);return co.listener=to,To.wrapFn=co,co}h.prototype.once=function(B,uo){return y(uo),this.on(B,V(this,B,uo)),this},h.prototype.prependOnceListener=function(B,uo){return y(uo),this.prependListener(B,V(this,B,uo)),this},h.prototype.removeListener=function(B,uo){var to,To,co,Wo,o;if(y(uo),To=this._events,To===void 0)return this;if(to=To[B],to===void 0)return this;if(to===uo||to.listener===uo)--this._eventsCount===0?this._events=Object.create(null):(delete To[B],To.removeListener&&this.emit("removeListener",B,to.listener||uo));else if(typeof to!="function"){for(co=-1,Wo=to.length-1;Wo>=0;Wo--)if(to[Wo]===uo||to[Wo].listener===uo){o=to[Wo].listener,co=Wo;break}if(co<0)return this;co===0?to.shift():g(to,co),to.length===1&&(To[B]=to[0]),To.removeListener!==void 0&&this.emit("removeListener",B,o||uo)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(B){var uo,to,To;if(to=this._events,to===void 0)return this;if(to.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):to[B]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete to[B]),this;if(arguments.length===0){var co=Object.keys(to),Wo;for(To=0;To<co.length;++To)Wo=co[To],Wo!=="removeListener"&&this.removeAllListeners(Wo);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(uo=to[B],typeof uo=="function")this.removeListener(B,uo);else if(uo!==void 0)for(To=uo.length-1;To>=0;To--)this.removeListener(B,uo[To]);return this};function $(B,uo,to){var To=B._events;if(To===void 0)return[];var co=To[uo];return co===void 0?[]:typeof co=="function"?to?[co.listener||co]:[co]:to?E(co):O(co,co.length)}h.prototype.listeners=function(B){return $(this,B,!0)},h.prototype.rawListeners=function(B){return $(this,B,!1)},h.listenerCount=function(B,uo){return typeof B.listenerCount=="function"?B.listenerCount(uo):x.call(B,uo)},h.prototype.listenerCount=x;function x(B){var uo=this._events;if(uo!==void 0){var to=uo[B];if(typeof to=="function")return 1;if(to!==void 0)return to.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?f(this._events):[]};function O(B,uo){for(var to=new Array(uo),To=0;To<uo;++To)to[To]=B[To];return to}function g(B,uo){for(;uo+1<B.length;uo++)B[uo]=B[uo+1];B.pop()}function E(B){for(var uo=new Array(B.length),to=0;to<uo.length;++to)uo[to]=B[to].listener||B[to];return uo}function z(B,uo){return new Promise(function(to,To){function co(o){B.removeListener(uo,Wo),To(o)}function Wo(){typeof B.removeListener=="function"&&B.removeListener("error",co),to([].slice.call(arguments))}Y(B,uo,Wo,{once:!0}),uo!=="error"&&P(B,co,{once:!0})})}function P(B,uo,to){typeof B.on=="function"&&Y(B,"error",uo,to)}function Y(B,uo,to,To){if(typeof B.on=="function")To.once?B.once(uo,to):B.on(uo,to);else if(typeof B.addEventListener=="function")B.addEventListener(uo,function co(Wo){To.once&&B.removeEventListener(uo,co),to(Wo)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}}),Sl=Uo((l,d)=>{d.exports=Mn().EventEmitter}),Ie=Uo(()=>{}),ec=Uo((l,d)=>{function i($,x){var O=Object.keys($);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols($);x&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor($,E).enumerable})),O.push.apply(O,g)}return O}function R($){for(var x=1;x<arguments.length;x++){var O=arguments[x]!=null?arguments[x]:{};x%2?i(Object(O),!0).forEach(function(g){f($,g,O[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(O)):i(Object(O)).forEach(function(g){Object.defineProperty($,g,Object.getOwnPropertyDescriptor(O,g))})}return $}function f($,x,O){return x in $?Object.defineProperty($,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):$[x]=O,$}function q($,x){if(!($ instanceof x))throw new TypeError("Cannot call a class as a function")}function u($,x){for(var O=0;O<x.length;O++){var g=x[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty($,g.key,g)}}function h($,x,O){return x&&u($.prototype,x),O&&u($,O),$}var L=Fa(),y=L.Buffer,k=Ie(),Z=k.inspect,T=Z&&Z.custom||"inspect";function V($,x,O){y.prototype.copy.call($,x,O)}d.exports=function(){function $(){q(this,$),this.head=null,this.tail=null,this.length=0}return h($,[{key:"push",value:function(x){var O={data:x,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(x){var O={data:x,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var O=this.head,g=""+O.data;O=O.next;)g+=x+O.data;return g}},{key:"concat",value:function(x){if(this.length===0)return y.alloc(0);for(var O=y.allocUnsafe(x>>>0),g=this.head,E=0;g;)V(g.data,O,E),E+=g.data.length,g=g.next;return O}},{key:"consume",value:function(x,O){var g;return x<this.head.data.length?(g=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?g=this.shift():g=O?this._getString(x):this._getBuffer(x),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var O=this.head,g=1,E=O.data;for(x-=E.length;O=O.next;){var z=O.data,P=x>z.length?z.length:x;if(P===z.length?E+=z:E+=z.slice(0,x),x-=P,x===0){P===z.length?(++g,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=z.slice(P));break}++g}return this.length-=g,E}},{key:"_getBuffer",value:function(x){var O=y.allocUnsafe(x),g=this.head,E=1;for(g.data.copy(O),x-=g.data.length;g=g.next;){var z=g.data,P=x>z.length?z.length:x;if(z.copy(O,O.length-x,0,P),x-=P,x===0){P===z.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(P));break}++E}return this.length-=E,O}},{key:T,value:function(x,O){return Z(this,R({},O,{depth:0,customInspect:!1}))}}]),$}()}),Xl=Uo((l,d)=>{function i(L,y){var k=this,Z=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return Z||T?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(V){!y&&V?k._writableState?k._writableState.errorEmitted?process.nextTick(f,k):(k._writableState.errorEmitted=!0,process.nextTick(R,k,V)):process.nextTick(R,k,V):y?(process.nextTick(f,k),y(V)):process.nextTick(f,k)}),this)}function R(L,y){u(L,y),f(L)}function f(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function q(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function h(L,y){var{_readableState:k,_writableState:Z}=L;k&&k.autoDestroy||Z&&Z.autoDestroy?L.destroy(y):L.emit("error",y)}d.exports={destroy:i,undestroy:q,errorOrDestroy:h}}),Yn=Uo((l,d)=>{function i(y,k){y.prototype=Object.create(k.prototype),y.prototype.constructor=y,y.__proto__=k}var R={};function f(y,k,Z){Z||(Z=Error);function T($,x,O){return typeof k=="string"?k:k($,x,O)}var V=function($){i(x,$);function x(O,g,E){return $.call(this,T(O,g,E))||this}return x}(Z);V.prototype.name=Z.name,V.prototype.code=y,R[y]=V}function q(y,k){if(Array.isArray(y)){var Z=y.length;return y=y.map(function(T){return String(T)}),Z>2?"one of ".concat(k," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(k," ").concat(y[0]," or ").concat(y[1]):"of ".concat(k," ").concat(y[0])}else return"of ".concat(k," ").concat(String(y))}function u(y,k,Z){return y.substr(!Z||Z<0?0:+Z,k.length)===k}function h(y,k,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-k.length,Z)===k}function L(y,k,Z){return typeof Z!="number"&&(Z=0),Z+k.length>y.length?!1:y.indexOf(k,Z)!==-1}f("ERR_INVALID_OPT_VALUE",function(y,k){return'The value "'+k+'" is invalid for option "'+y+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(y,k,Z){var T;typeof k=="string"&&u(k,"not ")?(T="must not be",k=k.replace(/^not /,"")):T="must be";var V;if(h(y," argument"))V="The ".concat(y," ").concat(T," ").concat(q(k,"type"));else{var $=L(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat($," ").concat(T," ").concat(q(k,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=R}),gl=Uo((l,d)=>{var i=Yn().codes.ERR_INVALID_OPT_VALUE;function R(q,u,h){return q.highWaterMark!=null?q.highWaterMark:u?q[h]:null}function f(q,u,h,L){var y=R(u,L,h);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var k=L?h:"highWaterMark";throw new i(k,y)}return Math.floor(y)}return q.objectMode?16:16384}d.exports={getHighWaterMark:f}}),Ul=Uo((l,d)=>{d.exports=i;function i(f,q){if(R("noDeprecation"))return f;var u=!1;function h(){if(!u){if(R("throwDeprecation"))throw new Error(q);R("traceDeprecation")?console.trace(q):console.warn(q),u=!0}return f.apply(this,arguments)}return h}function R(f){try{if(!global.localStorage)return!1}catch{return!1}var q=global.localStorage[f];return q==null?!1:String(q).toLowerCase()==="true"}}),El=Uo((l,d)=>{d.exports=co;function i(po){var io=this;this.next=null,this.entry=null,this.finish=function(){qo(io,po)}}var R;co.WritableState=to;var f={deprecate:Ul()},q=Sl(),u=Fa().Buffer,h=global.Uint8Array||function(){};function L(po){return u.from(po)}function y(po){return u.isBuffer(po)||po instanceof h}var k=Xl(),Z=gl(),T=Z.getHighWaterMark,V=Yn().codes,$=V.ERR_INVALID_ARG_TYPE,x=V.ERR_METHOD_NOT_IMPLEMENTED,O=V.ERR_MULTIPLE_CALLBACK,g=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,P=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,B=k.errorOrDestroy;da()(co,q);function uo(){}function to(po,io,ho){R=R||Bn(),po=po||{},typeof ho!="boolean"&&(ho=io instanceof R),this.objectMode=!!po.objectMode,ho&&(this.objectMode=this.objectMode||!!po.writableObjectMode),this.highWaterMark=T(this,po,"writableHighWaterMark",ho),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Eo=po.decodeStrings===!1;this.decodeStrings=!Eo,this.defaultEncoding=po.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xo){N(io,xo)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=po.emitClose!==!1,this.autoDestroy=!!po.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}to.prototype.getBuffer=function(){for(var po=this.bufferedRequest,io=[];po;)io.push(po),po=po.next;return io},function(){try{Object.defineProperty(to.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var To;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(To=Function.prototype[Symbol.hasInstance],Object.defineProperty(co,Symbol.hasInstance,{value:function(po){return To.call(this,po)?!0:this!==co?!1:po&&po._writableState instanceof to}})):To=function(po){return po instanceof this};function co(po){R=R||Bn();var io=this instanceof R;if(!io&&!To.call(co,this))return new co(po);this._writableState=new to(po,this,io),this.writable=!0,po&&(typeof po.write=="function"&&(this._write=po.write),typeof po.writev=="function"&&(this._writev=po.writev),typeof po.destroy=="function"&&(this._destroy=po.destroy),typeof po.final=="function"&&(this._final=po.final)),q.call(this)}co.prototype.pipe=function(){B(this,new g)};function Wo(po,io){var ho=new P;B(po,ho),process.nextTick(io,ho)}function o(po,io,ho,Eo){var xo;return ho===null?xo=new z:typeof ho!="string"&&!io.objectMode&&(xo=new $("chunk",["string","Buffer"],ho)),xo?(B(po,xo),process.nextTick(Eo,xo),!1):!0}co.prototype.write=function(po,io,ho){var Eo=this._writableState,xo=!1,Lo=!Eo.objectMode&&y(po);return Lo&&!u.isBuffer(po)&&(po=L(po)),typeof io=="function"&&(ho=io,io=null),Lo?io="buffer":io||(io=Eo.defaultEncoding),typeof ho!="function"&&(ho=uo),Eo.ending?Wo(this,ho):(Lo||o(this,Eo,po,ho))&&(Eo.pendingcb++,xo=c(this,Eo,Lo,po,io,ho)),xo},co.prototype.cork=function(){this._writableState.corked++},co.prototype.uncork=function(){var po=this._writableState;po.corked&&(po.corked--,!po.writing&&!po.corked&&!po.bufferProcessing&&po.bufferedRequest&&m(this,po))},co.prototype.setDefaultEncoding=function(po){if(typeof po=="string"&&(po=po.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((po+"").toLowerCase())>-1))throw new Y(po);return this._writableState.defaultEncoding=po,this},Object.defineProperty(co.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function e(po,io,ho){return!po.objectMode&&po.decodeStrings!==!1&&typeof io=="string"&&(io=u.from(io,ho)),io}Object.defineProperty(co.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(po,io,ho,Eo,xo,Lo){if(!ho){var G=e(io,Eo,xo);Eo!==G&&(ho=!0,xo="buffer",Eo=G)}var X=io.objectMode?1:Eo.length;io.length+=X;var Q=io.length<io.highWaterMark;if(Q||(io.needDrain=!0),io.writing||io.corked){var $o=io.lastBufferedRequest;io.lastBufferedRequest={chunk:Eo,encoding:xo,isBuf:ho,callback:Lo,next:null},$o?$o.next=io.lastBufferedRequest:io.bufferedRequest=io.lastBufferedRequest,io.bufferedRequestCount+=1}else s(po,io,!1,X,Eo,xo,Lo);return Q}function s(po,io,ho,Eo,xo,Lo,G){io.writelen=Eo,io.writecb=G,io.writing=!0,io.sync=!0,io.destroyed?io.onwrite(new E("write")):ho?po._writev(xo,io.onwrite):po._write(xo,Lo,io.onwrite),io.sync=!1}function p(po,io,ho,Eo,xo){--io.pendingcb,ho?(process.nextTick(xo,Eo),process.nextTick(fo,po,io),po._writableState.errorEmitted=!0,B(po,Eo)):(xo(Eo),po._writableState.errorEmitted=!0,B(po,Eo),fo(po,io))}function _(po){po.writing=!1,po.writecb=null,po.length-=po.writelen,po.writelen=0}function N(po,io){var ho=po._writableState,Eo=ho.sync,xo=ho.writecb;if(typeof xo!="function")throw new O;if(_(ho),io)p(po,ho,Eo,io,xo);else{var Lo=S(ho)||po.destroyed;!Lo&&!ho.corked&&!ho.bufferProcessing&&ho.bufferedRequest&&m(po,ho),Eo?process.nextTick(t,po,ho,Lo,xo):t(po,ho,Lo,xo)}}function t(po,io,ho,Eo){ho||a(po,io),io.pendingcb--,Eo(),fo(po,io)}function a(po,io){io.length===0&&io.needDrain&&(io.needDrain=!1,po.emit("drain"))}function m(po,io){io.bufferProcessing=!0;var ho=io.bufferedRequest;if(po._writev&&ho&&ho.next){var Eo=io.bufferedRequestCount,xo=new Array(Eo),Lo=io.corkedRequestsFree;Lo.entry=ho;for(var G=0,X=!0;ho;)xo[G]=ho,ho.isBuf||(X=!1),ho=ho.next,G+=1;xo.allBuffers=X,s(po,io,!0,io.length,xo,"",Lo.finish),io.pendingcb++,io.lastBufferedRequest=null,Lo.next?(io.corkedRequestsFree=Lo.next,Lo.next=null):io.corkedRequestsFree=new i(io),io.bufferedRequestCount=0}else{for(;ho;){var{chunk:Q,encoding:$o,callback:wo}=ho,Mo=io.objectMode?1:Q.length;if(s(po,io,!1,Mo,Q,$o,wo),ho=ho.next,io.bufferedRequestCount--,io.writing)break}ho===null&&(io.lastBufferedRequest=null)}io.bufferedRequest=ho,io.bufferProcessing=!1}co.prototype._write=function(po,io,ho){ho(new x("_write()"))},co.prototype._writev=null,co.prototype.end=function(po,io,ho){var Eo=this._writableState;return typeof po=="function"?(ho=po,po=null,io=null):typeof io=="function"&&(ho=io,io=null),po!=null&&this.write(po,io),Eo.corked&&(Eo.corked=1,this.uncork()),Eo.ending||Ro(this,Eo,ho),this},Object.defineProperty(co.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(po){return po.ending&&po.length===0&&po.bufferedRequest===null&&!po.finished&&!po.writing}function w(po,io){po._final(function(ho){io.pendingcb--,ho&&B(po,ho),io.prefinished=!0,po.emit("prefinish"),fo(po,io)})}function I(po,io){!io.prefinished&&!io.finalCalled&&(typeof po._final=="function"&&!io.destroyed?(io.pendingcb++,io.finalCalled=!0,process.nextTick(w,po,io)):(io.prefinished=!0,po.emit("prefinish")))}function fo(po,io){var ho=S(io);if(ho&&(I(po,io),io.pendingcb===0&&(io.finished=!0,po.emit("finish"),io.autoDestroy))){var Eo=po._readableState;(!Eo||Eo.autoDestroy&&Eo.endEmitted)&&po.destroy()}return ho}function Ro(po,io,ho){io.ending=!0,fo(po,io),ho&&(io.finished?process.nextTick(ho):po.once("finish",ho)),io.ended=!0,po.writable=!1}function qo(po,io,ho){var Eo=po.entry;for(po.entry=null;Eo;){var xo=Eo.callback;io.pendingcb--,xo(ho),Eo=Eo.next}io.corkedRequestsFree.next=po}Object.defineProperty(co.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(po){!this._writableState||(this._writableState.destroyed=po)}}),co.prototype.destroy=k.destroy,co.prototype._undestroy=k.undestroy,co.prototype._destroy=function(po,io){io(po)}}),Bn=Uo((l,d)=>{var i=Object.keys||function(Z){var T=[];for(var V in Z)T.push(V);return T};d.exports=L;var R=Jl(),f=El();da()(L,R);for(q=i(f.prototype),h=0;h<q.length;h++)u=q[h],L.prototype[u]||(L.prototype[u]=f.prototype[u]);var q,u,h;function L(Z){if(!(this instanceof L))return new L(Z);R.call(this,Z),f.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(k,this)}function k(Z){Z.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),zs=Uo((l)=>{var d=ha().Buffer,i=d.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(E){if(!E)return"utf8";for(var z;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(z)return;E=(""+E).toLowerCase(),z=!0}}function f(E){var z=R(E);if(typeof z!="string"&&(d.isEncoding===i||!i(E)))throw new Error("Unknown encoding: "+E);return z||E}l.StringDecoder=q;function q(E){this.encoding=f(E);var z;switch(this.encoding){case"utf16le":this.text=T,this.end=V,z=4;break;case"utf8":this.fillLast=y,z=4;break;case"base64":this.text=$,this.end=x,z=3;break;default:this.write=O,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(z)}q.prototype.write=function(E){if(E.length===0)return"";var z,P;if(this.lastNeed){if(z=this.fillLast(E),z===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<E.length?z?z+this.text(E,P):this.text(E,P):z||""},q.prototype.end=Z,q.prototype.text=k,q.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function u(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function h(E,z,P){var Y=z.length-1;if(Y<P)return 0;var B=u(z[Y]);return B>=0?(B>0&&(E.lastNeed=B-1),B):--Y<P||B===-2?0:(B=u(z[Y]),B>=0?(B>0&&(E.lastNeed=B-2),B):--Y<P||B===-2?0:(B=u(z[Y]),B>=0?(B>0&&(B===2?B=0:E.lastNeed=B-3),B):0))}function L(E,z,P){if((z[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&z.length>1){if((z[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&z.length>2&&(z[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function y(E){var z=this.lastTotal-this.lastNeed,P=L(this,E,z);if(P!==void 0)return P;if(this.lastNeed<=E.length)return E.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,z,0,E.length),this.lastNeed-=E.length}function k(E,z){var P=h(this,E,z);if(!this.lastNeed)return E.toString("utf8",z);this.lastTotal=P;var Y=E.length-(P-this.lastNeed);return E.copy(this.lastChar,0,Y),E.toString("utf8",z,Y)}function Z(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+"\uFFFD":z}function T(E,z){if((E.length-z)%2===0){var P=E.toString("utf16le",z);if(P){var Y=P.charCodeAt(P.length-1);if(Y>=55296&&Y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",z,E.length-1)}function V(E){var z=E&&E.length?this.write(E):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return z+this.lastChar.toString("utf16le",0,P)}return z}function $(E,z){var P=(E.length-z)%3;return P===0?E.toString("base64",z):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",z,E.length-P))}function x(E){var z=E&&E.length?this.write(E):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function O(E){return E.toString(this.encoding)}function g(E){return E&&E.length?this.write(E):""}}),be={},Os(be,{StringDecoder:()=>jl.StringDecoder,default:()=>jl.StringDecoder}),Ge=Ol(()=>{jl=Dn(zs())}),Ss=Uo((l,d)=>{var i=Yn().codes.ERR_STREAM_PREMATURE_CLOSE;function R(h){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,k=new Array(y),Z=0;Z<y;Z++)k[Z]=arguments[Z];h.apply(this,k)}}}function f(){}function q(h){return h.setHeader&&typeof h.abort=="function"}function u(h,L,y){if(typeof L=="function")return u(h,null,L);L||(L={}),y=R(y||f);var k=L.readable||L.readable!==!1&&h.readable,Z=L.writable||L.writable!==!1&&h.writable,T=function(){h.writable||$()},V=h._writableState&&h._writableState.finished,$=function(){Z=!1,V=!0,k||y.call(h)},x=h._readableState&&h._readableState.endEmitted,O=function(){k=!1,x=!0,Z||y.call(h)},g=function(P){y.call(h,P)},E=function(){var P;if(k&&!x)return(!h._readableState||!h._readableState.ended)&&(P=new i),y.call(h,P);if(Z&&!V)return(!h._writableState||!h._writableState.ended)&&(P=new i),y.call(h,P)},z=function(){h.req.on("finish",$)};return q(h)?(h.on("complete",$),h.on("abort",E),h.req?z():h.on("request",z)):Z&&!h._writableState&&(h.on("end",T),h.on("close",T)),h.on("end",O),h.on("finish",$),L.error!==!1&&h.on("error",g),h.on("close",E),function(){h.removeListener("complete",$),h.removeListener("abort",E),h.removeListener("request",z),h.req&&h.req.removeListener("finish",$),h.removeListener("end",T),h.removeListener("close",T),h.removeListener("finish",$),h.removeListener("end",O),h.removeListener("error",g),h.removeListener("close",E)}}d.exports=u}),sc=Uo((l,d)=>{var i;function R(z,P,Y){return P in z?Object.defineProperty(z,P,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[P]=Y,z}var f=Ss(),q=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),k=Symbol("handlePromise"),Z=Symbol("stream");function T(z,P){return{value:z,done:P}}function V(z){var P=z[q];if(P!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[q]=null,z[u]=null,P(T(Y,!1)))}}function $(z){process.nextTick(V,z)}function x(z,P){return function(Y,B){z.then(function(){if(P[L]){Y(T(void 0,!0));return}P[k](Y,B)},B)}}var O=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i={get stream(){return this[Z]},next:function(){var z=this,P=this[h];if(P!==null)return Promise.reject(P);if(this[L])return Promise.resolve(T(void 0,!0));if(this[Z].destroyed)return new Promise(function(to,To){process.nextTick(function(){z[h]?To(z[h]):to(T(void 0,!0))})});var Y=this[y],B;if(Y)B=new Promise(x(Y,this));else{var uo=this[Z].read();if(uo!==null)return Promise.resolve(T(uo,!1));B=new Promise(this[k])}return this[y]=B,B}},R(i,Symbol.asyncIterator,function(){return this}),R(i,"return",function(){var z=this;return new Promise(function(P,Y){z[Z].destroy(null,function(B){if(B){Y(B);return}P(T(void 0,!0))})})}),i),O),E=function(z){var P,Y=Object.create(g,(P={},R(P,Z,{value:z,writable:!0}),R(P,q,{value:null,writable:!0}),R(P,u,{value:null,writable:!0}),R(P,h,{value:null,writable:!0}),R(P,L,{value:z._readableState.endEmitted,writable:!0}),R(P,k,{value:function(B,uo){var to=Y[Z].read();to?(Y[y]=null,Y[q]=null,Y[u]=null,B(T(to,!1))):(Y[q]=B,Y[u]=uo)},writable:!0}),P));return Y[y]=null,f(z,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var uo=Y[u];uo!==null&&(Y[y]=null,Y[q]=null,Y[u]=null,uo(B)),Y[h]=B;return}var to=Y[q];to!==null&&(Y[y]=null,Y[q]=null,Y[u]=null,to(T(void 0,!0))),Y[L]=!0}),z.on("readable",$.bind(null,Y)),Y};d.exports=E}),lc=Uo((l,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Jl=Uo((l,d)=>{d.exports=o;var i;o.ReadableState=Wo;var R=Mn().EventEmitter,f=function(G,X){return G.listeners(X).length},q=Sl(),u=Fa().Buffer,h=global.Uint8Array||function(){};function L(G){return u.from(G)}function y(G){return u.isBuffer(G)||G instanceof h}var k=Ie(),Z;k&&k.debuglog?Z=k.debuglog("stream"):Z=function(){};var T=ec(),V=Xl(),$=gl(),x=$.getHighWaterMark,O=Yn().codes,g=O.ERR_INVALID_ARG_TYPE,E=O.ERR_STREAM_PUSH_AFTER_EOF,z=O.ERR_METHOD_NOT_IMPLEMENTED,P=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,B,uo;da()(o,q);var to=V.errorOrDestroy,To=["error","close","destroy","pause","resume"];function co(G,X,Q){if(typeof G.prependListener=="function")return G.prependListener(X,Q);!G._events||!G._events[X]?G.on(X,Q):Array.isArray(G._events[X])?G._events[X].unshift(Q):G._events[X]=[Q,G._events[X]]}function Wo(G,X,Q){i=i||Bn(),G=G||{},typeof Q!="boolean"&&(Q=X instanceof i),this.objectMode=!!G.objectMode,Q&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=x(this,G,"readableHighWaterMark",Q),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(Y||(Y=(Ge(),Ya(be)).StringDecoder),this.decoder=new Y(G.encoding),this.encoding=G.encoding)}function o(G){if(i=i||Bn(),!(this instanceof o))return new o(G);var X=this instanceof i;this._readableState=new Wo(G,this,X),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),q.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),o.prototype.destroy=V.destroy,o.prototype._undestroy=V.undestroy,o.prototype._destroy=function(G,X){X(G)},o.prototype.push=function(G,X){var Q=this._readableState,$o;return Q.objectMode?$o=!0:typeof G=="string"&&(X=X||Q.defaultEncoding,X!==Q.encoding&&(G=u.from(G,X),X=""),$o=!0),e(this,G,X,!1,$o)},o.prototype.unshift=function(G){return e(this,G,null,!0,!1)};function e(G,X,Q,$o,wo){Z("readableAddChunk",X);var Mo=G._readableState;if(X===null)Mo.reading=!1,t(G,Mo);else{var Go;if(wo||(Go=s(Mo,X)),Go)to(G,Go);else if(Mo.objectMode||X&&X.length>0)if(typeof X!="string"&&!Mo.objectMode&&Object.getPrototypeOf(X)!==u.prototype&&(X=L(X)),$o)Mo.endEmitted?to(G,new P):c(G,Mo,X,!0);else if(Mo.ended)to(G,new E);else{if(Mo.destroyed)return!1;Mo.reading=!1,Mo.decoder&&!Q?(X=Mo.decoder.write(X),Mo.objectMode||X.length!==0?c(G,Mo,X,!1):S(G,Mo)):c(G,Mo,X,!1)}else $o||(Mo.reading=!1,S(G,Mo))}return!Mo.ended&&(Mo.length<Mo.highWaterMark||Mo.length===0)}function c(G,X,Q,$o){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,G.emit("data",Q)):(X.length+=X.objectMode?1:Q.length,$o?X.buffer.unshift(Q):X.buffer.push(Q),X.needReadable&&a(G)),S(G,X)}function s(G,X){var Q;return!y(X)&&typeof X!="string"&&X!==void 0&&!G.objectMode&&(Q=new g("chunk",["string","Buffer","Uint8Array"],X)),Q}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(G){Y||(Y=(Ge(),Ya(be)).StringDecoder);var X=new Y(G);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,$o="";Q!==null;)$o+=X.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),$o!==""&&this._readableState.buffer.push($o),this._readableState.length=$o.length,this};var p=1073741824;function _(G){return G>=p?G=p:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function N(G,X){return G<=0||X.length===0&&X.ended?0:X.objectMode?1:G!==G?X.flowing&&X.length?X.buffer.head.data.length:X.length:(G>X.highWaterMark&&(X.highWaterMark=_(G)),G<=X.length?G:X.ended?X.length:(X.needReadable=!0,0))}o.prototype.read=function(G){Z("read",G),G=parseInt(G,10);var X=this._readableState,Q=G;if(G!==0&&(X.emittedReadable=!1),G===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return Z("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Eo(this):a(this),null;if(G=N(G,X),G===0&&X.ended)return X.length===0&&Eo(this),null;var $o=X.needReadable;Z("need readable",$o),(X.length===0||X.length-G<X.highWaterMark)&&($o=!0,Z("length less than watermark",$o)),X.ended||X.reading?($o=!1,Z("reading or ended",$o)):$o&&(Z("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(G=N(Q,X)));var wo;return G>0?wo=ho(G,X):wo=null,wo===null?(X.needReadable=X.length<=X.highWaterMark,G=0):(X.length-=G,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),Q!==G&&X.ended&&Eo(this)),wo!==null&&this.emit("data",wo),wo};function t(G,X){if(Z("onEofChunk"),!X.ended){if(X.decoder){var Q=X.decoder.end();Q&&Q.length&&(X.buffer.push(Q),X.length+=X.objectMode?1:Q.length)}X.ended=!0,X.sync?a(G):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,m(G)))}}function a(G){var X=G._readableState;Z("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(Z("emitReadable",X.flowing),X.emittedReadable=!0,process.nextTick(m,G))}function m(G){var X=G._readableState;Z("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(G.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,io(G)}function S(G,X){X.readingMore||(X.readingMore=!0,process.nextTick(w,G,X))}function w(G,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var Q=X.length;if(Z("maybeReadMore read 0"),G.read(0),Q===X.length)break}X.readingMore=!1}o.prototype._read=function(G){to(this,new z("_read()"))},o.prototype.pipe=function(G,X){var Q=this,$o=this._readableState;switch($o.pipesCount){case 0:$o.pipes=G;break;case 1:$o.pipes=[$o.pipes,G];break;default:$o.pipes.push(G);break}$o.pipesCount+=1,Z("pipe count=%d opts=%j",$o.pipesCount,X);var wo=(!X||X.end!==!1)&&G!==process.stdout&&G!==process.stderr,Mo=wo?Xo:r;$o.endEmitted?process.nextTick(Mo):Q.once("end",Mo),G.on("unpipe",Go);function Go(b,v){Z("onunpipe"),b===Q&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,Jo())}function Xo(){Z("onend"),G.end()}var jo=I(Q);G.on("drain",jo);var Qo=!1;function Jo(){Z("cleanup"),G.removeListener("close",W),G.removeListener("finish",n),G.removeListener("drain",jo),G.removeListener("error",ba),G.removeListener("unpipe",Go),Q.removeListener("end",Xo),Q.removeListener("end",r),Q.removeListener("data",So),Qo=!0,$o.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&jo()}Q.on("data",So);function So(b){Z("ondata");var v=G.write(b);Z("dest.write",v),v===!1&&(($o.pipesCount===1&&$o.pipes===G||$o.pipesCount>1&&Lo($o.pipes,G)!==-1)&&!Qo&&(Z("false write response, pause",$o.awaitDrain),$o.awaitDrain++),Q.pause())}function ba(b){Z("onerror",b),r(),G.removeListener("error",ba),f(G,"error")===0&&to(G,b)}co(G,"error",ba);function W(){G.removeListener("finish",n),r()}G.once("close",W);function n(){Z("onfinish"),G.removeListener("close",W),r()}G.once("finish",n);function r(){Z("unpipe"),Q.unpipe(G)}return G.emit("pipe",Q),$o.flowing||(Z("pipe resume"),Q.resume()),G};function I(G){return function(){var X=G._readableState;Z("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&f(G,"data")&&(X.flowing=!0,io(G))}}o.prototype.unpipe=function(G){var X=this._readableState,Q={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return G&&G!==X.pipes?this:(G||(G=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,G&&G.emit("unpipe",this,Q),this);if(!G){var{pipes:$o,pipesCount:wo}=X;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var Mo=0;Mo<wo;Mo++)$o[Mo].emit("unpipe",this,{hasUnpiped:!1});return this}var Go=Lo(X.pipes,G);return Go===-1?this:(X.pipes.splice(Go,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),G.emit("unpipe",this,Q),this)},o.prototype.on=function(G,X){var Q=q.prototype.on.call(this,G,X),$o=this._readableState;return G==="data"?($o.readableListening=this.listenerCount("readable")>0,$o.flowing!==!1&&this.resume()):G==="readable"&&!$o.endEmitted&&!$o.readableListening&&($o.readableListening=$o.needReadable=!0,$o.flowing=!1,$o.emittedReadable=!1,Z("on readable",$o.length,$o.reading),$o.length?a(this):$o.reading||process.nextTick(Ro,this)),Q},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(G,X){var Q=q.prototype.removeListener.call(this,G,X);return G==="readable"&&process.nextTick(fo,this),Q},o.prototype.removeAllListeners=function(G){var X=q.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(fo,this),X};function fo(G){var X=G._readableState;X.readableListening=G.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:G.listenerCount("data")>0&&G.resume()}function Ro(G){Z("readable nexttick read 0"),G.read(0)}o.prototype.resume=function(){var G=this._readableState;return G.flowing||(Z("resume"),G.flowing=!G.readableListening,qo(this,G)),G.paused=!1,this};function qo(G,X){X.resumeScheduled||(X.resumeScheduled=!0,process.nextTick(po,G,X))}function po(G,X){Z("resume",X.reading),X.reading||G.read(0),X.resumeScheduled=!1,G.emit("resume"),io(G),X.flowing&&!X.reading&&G.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function io(G){var X=G._readableState;for(Z("flow",X.flowing);X.flowing&&G.read()!==null;);}o.prototype.wrap=function(G){var X=this,Q=this._readableState,$o=!1;G.on("end",function(){if(Z("wrapped end"),Q.decoder&&!Q.ended){var Go=Q.decoder.end();Go&&Go.length&&X.push(Go)}X.push(null)}),G.on("data",function(Go){if(Z("wrapped data"),Q.decoder&&(Go=Q.decoder.write(Go)),!(Q.objectMode&&Go==null)&&!(!Q.objectMode&&(!Go||!Go.length))){var Xo=X.push(Go);Xo||($o=!0,G.pause())}});for(var wo in G)this[wo]===void 0&&typeof G[wo]=="function"&&(this[wo]=function(Go){return function(){return G[Go].apply(G,arguments)}}(wo));for(var Mo=0;Mo<To.length;Mo++)G.on(To[Mo],this.emit.bind(this,To[Mo]));return this._read=function(Go){Z("wrapped _read",Go),$o&&($o=!1,G.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=sc()),B(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),o._fromList=ho,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ho(G,X){if(X.length===0)return null;var Q;return X.objectMode?Q=X.buffer.shift():!G||G>=X.length?(X.decoder?Q=X.buffer.join(""):X.buffer.length===1?Q=X.buffer.first():Q=X.buffer.concat(X.length),X.buffer.clear()):Q=X.buffer.consume(G,X.decoder),Q}function Eo(G){var X=G._readableState;Z("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,process.nextTick(xo,X,G))}function xo(G,X){if(Z("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,X.readable=!1,X.emit("end"),G.autoDestroy)){var Q=X._writableState;(!Q||Q.autoDestroy&&Q.finished)&&X.destroy()}}typeof Symbol=="function"&&(o.from=function(G,X){return uo===void 0&&(uo=lc()),uo(o,G,X)});function Lo(G,X){for(var Q=0,$o=G.length;Q<$o;Q++)if(G[Q]===X)return Q;return-1}}),Kl=Uo((l,d)=>{d.exports=y;var i=Yn().codes,R=i.ERR_METHOD_NOT_IMPLEMENTED,f=i.ERR_MULTIPLE_CALLBACK,q=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=i.ERR_TRANSFORM_WITH_LENGTH_0,h=Bn();da()(y,h);function L(T,V){var $=this._transformState;$.transforming=!1;var x=$.writecb;if(x===null)return this.emit("error",new f);$.writechunk=null,$.writecb=null,V!=null&&this.push(V),x(T);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function y(T){if(!(this instanceof y))return new y(T);h.call(this,T),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",k)}function k(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,$){Z(T,V,$)}):Z(this,null,null)}y.prototype.push=function(T,V){return this._transformState.needTransform=!1,h.prototype.push.call(this,T,V)},y.prototype._transform=function(T,V,$){$(new R("_transform()"))},y.prototype._write=function(T,V,$){var x=this._transformState;if(x.writecb=$,x.writechunk=T,x.writeencoding=V,!x.transforming){var O=this._readableState;(x.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},y.prototype._read=function(T){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function(T,V){h.prototype._destroy.call(this,T,function($){V($)})};function Z(T,V,$){if(V)return T.emit("error",V);if($!=null&&T.push($),T._writableState.length)throw new u;if(T._transformState.transforming)throw new q;return T.push(null)}}),rc=Uo((l,d)=>{d.exports=R;var i=Kl();da()(R,i);function R(f){if(!(this instanceof R))return new R(f);i.call(this,f)}R.prototype._transform=function(f,q,u){u(null,f)}}),ic=Uo((l,d)=>{var i;function R($){var x=!1;return function(){x||(x=!0,$.apply(void 0,arguments))}}var f=Yn().codes,q=f.ERR_MISSING_ARGS,u=f.ERR_STREAM_DESTROYED;function h($){if($)throw $}function L($){return $.setHeader&&typeof $.abort=="function"}function y($,x,O,g){g=R(g);var E=!1;$.on("close",function(){E=!0}),i===void 0&&(i=Ss()),i($,{readable:x,writable:O},function(P){if(P)return g(P);E=!0,g()});var z=!1;return function(P){if(!E&&!z){if(z=!0,L($))return $.abort();if(typeof $.destroy=="function")return $.destroy();g(P||new u("pipe"))}}}function k($){$()}function Z($,x){return $.pipe(x)}function T($){return!$.length||typeof $[$.length-1]!="function"?h:$.pop()}function V(){for(var $=arguments.length,x=new Array($),O=0;O<$;O++)x[O]=arguments[O];var g=T(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new q("streams");var E,z=x.map(function(P,Y){var B=Y<x.length-1,uo=Y>0;return y(P,B,uo,function(to){E||(E=to),to&&z.forEach(k),!B&&(z.forEach(k),g(E))})});return x.reduce(Z)}d.exports=V}),cc=Uo((l,d)=>{l=d.exports=Jl(),l.Stream=l,l.Readable=l,l.Writable=El(),l.Duplex=Bn(),l.Transform=Kl(),l.PassThrough=rc(),l.finished=Ss(),l.pipeline=ic()}),Pl=Uo((l,d)=>{var i=ha().Buffer,R=cc().Transform,f=da();function q(h,L){if(!i.isBuffer(h)&&typeof h!="string")throw new TypeError(L+" must be a string or a buffer")}function u(h){R.call(this),this._block=i.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}f(u,R),u.prototype._transform=function(h,L,y){var k=null;try{this.update(h,L)}catch(Z){k=Z}y(k)},u.prototype._flush=function(h){var L=null;try{this.push(this.digest())}catch(y){L=y}h(L)},u.prototype.update=function(h,L){if(q(h,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(h)||(h=i.from(h,L));for(var y=this._block,k=0;this._blockOffset+h.length-k>=this._blockSize;){for(var Z=this._blockOffset;Z<this._blockSize;)y[Z++]=h[k++];this._update(),this._blockOffset=0}for(;k<h.length;)y[this._blockOffset++]=h[k++];for(var T=0,V=h.length*8;V>0;++T)this._length[T]+=V,V=this._length[T]/4294967296|0,V>0&&(this._length[T]-=4294967296*V);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var L=this._digest();h!==void 0&&(L=L.toString(h)),this._block.fill(0),this._blockOffset=0;for(var y=0;y<4;++y)this._length[y]=0;return L},u.prototype._digest=function(){throw new Error("_digest is not implemented")},d.exports=u}),Xs=Uo((l,d)=>{var i=da(),R=Pl(),f=ha().Buffer,q=new Array(16);function u(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(u,R),u.prototype._update=function(){for(var T=q,V=0;V<16;++V)T[V]=this._block.readInt32LE(V*4);var $=this._a,x=this._b,O=this._c,g=this._d;$=L($,x,O,g,T[0],3614090360,7),g=L(g,$,x,O,T[1],3905402710,12),O=L(O,g,$,x,T[2],606105819,17),x=L(x,O,g,$,T[3],3250441966,22),$=L($,x,O,g,T[4],4118548399,7),g=L(g,$,x,O,T[5],1200080426,12),O=L(O,g,$,x,T[6],2821735955,17),x=L(x,O,g,$,T[7],4249261313,22),$=L($,x,O,g,T[8],1770035416,7),g=L(g,$,x,O,T[9],2336552879,12),O=L(O,g,$,x,T[10],4294925233,17),x=L(x,O,g,$,T[11],2304563134,22),$=L($,x,O,g,T[12],1804603682,7),g=L(g,$,x,O,T[13],4254626195,12),O=L(O,g,$,x,T[14],2792965006,17),x=L(x,O,g,$,T[15],1236535329,22),$=y($,x,O,g,T[1],4129170786,5),g=y(g,$,x,O,T[6],3225465664,9),O=y(O,g,$,x,T[11],643717713,14),x=y(x,O,g,$,T[0],3921069994,20),$=y($,x,O,g,T[5],3593408605,5),g=y(g,$,x,O,T[10],38016083,9),O=y(O,g,$,x,T[15],3634488961,14),x=y(x,O,g,$,T[4],3889429448,20),$=y($,x,O,g,T[9],568446438,5),g=y(g,$,x,O,T[14],3275163606,9),O=y(O,g,$,x,T[3],4107603335,14),x=y(x,O,g,$,T[8],1163531501,20),$=y($,x,O,g,T[13],2850285829,5),g=y(g,$,x,O,T[2],4243563512,9),O=y(O,g,$,x,T[7],1735328473,14),x=y(x,O,g,$,T[12],2368359562,20),$=k($,x,O,g,T[5],4294588738,4),g=k(g,$,x,O,T[8],2272392833,11),O=k(O,g,$,x,T[11],1839030562,16),x=k(x,O,g,$,T[14],4259657740,23),$=k($,x,O,g,T[1],2763975236,4),g=k(g,$,x,O,T[4],1272893353,11),O=k(O,g,$,x,T[7],4139469664,16),x=k(x,O,g,$,T[10],3200236656,23),$=k($,x,O,g,T[13],681279174,4),g=k(g,$,x,O,T[0],3936430074,11),O=k(O,g,$,x,T[3],3572445317,16),x=k(x,O,g,$,T[6],76029189,23),$=k($,x,O,g,T[9],3654602809,4),g=k(g,$,x,O,T[12],3873151461,11),O=k(O,g,$,x,T[15],530742520,16),x=k(x,O,g,$,T[2],3299628645,23),$=Z($,x,O,g,T[0],4096336452,6),g=Z(g,$,x,O,T[7],1126891415,10),O=Z(O,g,$,x,T[14],2878612391,15),x=Z(x,O,g,$,T[5],4237533241,21),$=Z($,x,O,g,T[12],1700485571,6),g=Z(g,$,x,O,T[3],2399980690,10),O=Z(O,g,$,x,T[10],4293915773,15),x=Z(x,O,g,$,T[1],2240044497,21),$=Z($,x,O,g,T[8],1873313359,6),g=Z(g,$,x,O,T[15],4264355552,10),O=Z(O,g,$,x,T[6],2734768916,15),x=Z(x,O,g,$,T[13],1309151649,21),$=Z($,x,O,g,T[4],4149444226,6),g=Z(g,$,x,O,T[11],3174756917,10),O=Z(O,g,$,x,T[2],718787259,15),x=Z(x,O,g,$,T[9],3951481745,21),this._a=this._a+$|0,this._b=this._b+x|0,this._c=this._c+O|0,this._d=this._d+g|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=f.allocUnsafe(16);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T};function h(T,V){return T<<V|T>>>32-V}function L(T,V,$,x,O,g,E){return h(T+(V&$|~V&x)+O+g|0,E)+V|0}function y(T,V,$,x,O,g,E){return h(T+(V&x|$&~x)+O+g|0,E)+V|0}function k(T,V,$,x,O,g,E){return h(T+(V^$^x)+O+g|0,E)+V|0}function Z(T,V,$,x,O,g,E){return h(T+($^(V|~x))+O+g|0,E)+V|0}d.exports=u}),gs=Uo((l,d)=>{var i=Fa().Buffer,R=da(),f=Pl(),q=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],L=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k=[0,1518500249,1859775393,2400959708,2840853838],Z=[1352829926,1548603684,1836072691,2053994217,0];function T(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}R(T,f),T.prototype._update=function(){for(var z=q,P=0;P<16;++P)z[P]=this._block.readInt32LE(P*4);for(var Y=this._a|0,B=this._b|0,uo=this._c|0,to=this._d|0,To=this._e|0,co=this._a|0,Wo=this._b|0,o=this._c|0,e=this._d|0,c=this._e|0,s=0;s<80;s+=1){var p,_;s<16?(p=$(Y,B,uo,to,To,z[u[s]],k[0],L[s]),_=E(co,Wo,o,e,c,z[h[s]],Z[0],y[s])):s<32?(p=x(Y,B,uo,to,To,z[u[s]],k[1],L[s]),_=g(co,Wo,o,e,c,z[h[s]],Z[1],y[s])):s<48?(p=O(Y,B,uo,to,To,z[u[s]],k[2],L[s]),_=O(co,Wo,o,e,c,z[h[s]],Z[2],y[s])):s<64?(p=g(Y,B,uo,to,To,z[u[s]],k[3],L[s]),_=x(co,Wo,o,e,c,z[h[s]],Z[3],y[s])):(p=E(Y,B,uo,to,To,z[u[s]],k[4],L[s]),_=$(co,Wo,o,e,c,z[h[s]],Z[4],y[s])),Y=To,To=to,to=V(uo,10),uo=B,B=p,co=c,c=e,e=V(o,10),o=Wo,Wo=_}var N=this._b+uo+e|0;this._b=this._c+to+c|0,this._c=this._d+To+co|0,this._d=this._e+Y+Wo|0,this._e=this._a+B+o|0,this._a=N},T.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var z=i.alloc?i.alloc(20):new i(20);return z.writeInt32LE(this._a,0),z.writeInt32LE(this._b,4),z.writeInt32LE(this._c,8),z.writeInt32LE(this._d,12),z.writeInt32LE(this._e,16),z};function V(z,P){return z<<P|z>>>32-P}function $(z,P,Y,B,uo,to,To,co){return V(z+(P^Y^B)+to+To|0,co)+uo|0}function x(z,P,Y,B,uo,to,To,co){return V(z+(P&Y|~P&B)+to+To|0,co)+uo|0}function O(z,P,Y,B,uo,to,To,co){return V(z+((P|~Y)^B)+to+To|0,co)+uo|0}function g(z,P,Y,B,uo,to,To,co){return V(z+(P&B|Y&~B)+to+To|0,co)+uo|0}function E(z,P,Y,B,uo,to,To,co){return V(z+(P^(Y|~B))+to+To|0,co)+uo|0}d.exports=T}),Cn=Uo((l,d)=>{var i=ha().Buffer;function R(f,q){this._block=i.alloc(f),this._finalSize=q,this._blockSize=f,this._len=0}R.prototype.update=function(f,q){typeof f=="string"&&(q=q||"utf8",f=i.from(f,q));for(var u=this._block,h=this._blockSize,L=f.length,y=this._len,k=0;k<L;){for(var Z=y%h,T=Math.min(L-k,h-Z),V=0;V<T;V++)u[Z+V]=f[k+V];y+=T,k+=T,y%h===0&&this._update(u)}return this._len+=L,this},R.prototype.digest=function(f){var q=this._len%this._blockSize;this._block[q]=128,this._block.fill(0,q+1),q>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var h=(u&4294967295)>>>0,L=(u-h)/4294967296;this._block.writeUInt32BE(L,this._blockSize-8),this._block.writeUInt32BE(h,this._blockSize-4)}this._update(this._block);var y=this._hash();return f?y.toString(f):y},R.prototype._update=function(){throw new Error("_update must be implemented by subclass")},d.exports=R}),uc=Uo((l,d)=>{var i=da(),R=Cn(),f=ha().Buffer,q=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,R.call(this,64,56)}i(h,R),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L(Z){return Z<<5|Z>>>27}function y(Z){return Z<<30|Z>>>2}function k(Z,T,V,$){return Z===0?T&V|~T&$:Z===2?T&V|T&$|V&$:T^V^$}h.prototype._update=function(Z){for(var T=this._w,V=this._a|0,$=this._b|0,x=this._c|0,O=this._d|0,g=this._e|0,E=0;E<16;++E)T[E]=Z.readInt32BE(E*4);for(;E<80;++E)T[E]=T[E-3]^T[E-8]^T[E-14]^T[E-16];for(var z=0;z<80;++z){var P=~~(z/20),Y=L(V)+k(P,$,x,O)+g+T[z]+q[P]|0;g=O,O=x,x=y($),$=V,V=Y}this._a=V+this._a|0,this._b=$+this._b|0,this._c=x+this._c|0,this._d=O+this._d|0,this._e=g+this._e|0},h.prototype._hash=function(){var Z=f.allocUnsafe(20);return Z.writeInt32BE(this._a|0,0),Z.writeInt32BE(this._b|0,4),Z.writeInt32BE(this._c|0,8),Z.writeInt32BE(this._d|0,12),Z.writeInt32BE(this._e|0,16),Z},d.exports=h}),pc=Uo((l,d)=>{var i=da(),R=Cn(),f=ha().Buffer,q=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,R.call(this,64,56)}i(h,R),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function L(T){return T<<1|T>>>31}function y(T){return T<<5|T>>>27}function k(T){return T<<30|T>>>2}function Z(T,V,$,x){return T===0?V&$|~V&x:T===2?V&$|V&x|$&x:V^$^x}h.prototype._update=function(T){for(var V=this._w,$=this._a|0,x=this._b|0,O=this._c|0,g=this._d|0,E=this._e|0,z=0;z<16;++z)V[z]=T.readInt32BE(z*4);for(;z<80;++z)V[z]=L(V[z-3]^V[z-8]^V[z-14]^V[z-16]);for(var P=0;P<80;++P){var Y=~~(P/20),B=y($)+Z(Y,x,O,g)+E+V[P]+q[Y]|0;E=g,g=O,O=k(x),x=$,$=B}this._a=$+this._a|0,this._b=x+this._b|0,this._c=O+this._c|0,this._d=g+this._d|0,this._e=E+this._e|0},h.prototype._hash=function(){var T=f.allocUnsafe(20);return T.writeInt32BE(this._a|0,0),T.writeInt32BE(this._b|0,4),T.writeInt32BE(this._c|0,8),T.writeInt32BE(this._d|0,12),T.writeInt32BE(this._e|0,16),T},d.exports=h}),Il=Uo((l,d)=>{var i=da(),R=Cn(),f=ha().Buffer,q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function h(){this.init(),this._w=u,R.call(this,64,56)}i(h,R),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function L($,x,O){return O^$&(x^O)}function y($,x,O){return $&x|O&($|x)}function k($){return($>>>2|$<<30)^($>>>13|$<<19)^($>>>22|$<<10)}function Z($){return($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7)}function T($){return($>>>7|$<<25)^($>>>18|$<<14)^$>>>3}function V($){return($>>>17|$<<15)^($>>>19|$<<13)^$>>>10}h.prototype._update=function($){for(var x=this._w,O=this._a|0,g=this._b|0,E=this._c|0,z=this._d|0,P=this._e|0,Y=this._f|0,B=this._g|0,uo=this._h|0,to=0;to<16;++to)x[to]=$.readInt32BE(to*4);for(;to<64;++to)x[to]=V(x[to-2])+x[to-7]+T(x[to-15])+x[to-16]|0;for(var To=0;To<64;++To){var co=uo+Z(P)+L(P,Y,B)+q[To]+x[To]|0,Wo=k(O)+y(O,g,E)|0;uo=B,B=Y,Y=P,P=z+co|0,z=E,E=g,g=O,O=co+Wo|0}this._a=O+this._a|0,this._b=g+this._b|0,this._c=E+this._c|0,this._d=z+this._d|0,this._e=P+this._e|0,this._f=Y+this._f|0,this._g=B+this._g|0,this._h=uo+this._h|0},h.prototype._hash=function(){var $=f.allocUnsafe(32);return $.writeInt32BE(this._a,0),$.writeInt32BE(this._b,4),$.writeInt32BE(this._c,8),$.writeInt32BE(this._d,12),$.writeInt32BE(this._e,16),$.writeInt32BE(this._f,20),$.writeInt32BE(this._g,24),$.writeInt32BE(this._h,28),$},d.exports=h}),mc=Uo((l,d)=>{var i=da(),R=Il(),f=Cn(),q=ha().Buffer,u=new Array(64);function h(){this.init(),this._w=u,f.call(this,64,56)}i(h,R),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var L=q.allocUnsafe(28);return L.writeInt32BE(this._a,0),L.writeInt32BE(this._b,4),L.writeInt32BE(this._c,8),L.writeInt32BE(this._d,12),L.writeInt32BE(this._e,16),L.writeInt32BE(this._f,20),L.writeInt32BE(this._g,24),L},d.exports=h}),Gl=Uo((l,d)=>{var i=da(),R=Cn(),f=ha().Buffer,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function h(){this.init(),this._w=u,R.call(this,128,112)}i(h,R),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function L(g,E,z){return z^g&(E^z)}function y(g,E,z){return g&E|z&(g|E)}function k(g,E){return(g>>>28|E<<4)^(E>>>2|g<<30)^(E>>>7|g<<25)}function Z(g,E){return(g>>>14|E<<18)^(g>>>18|E<<14)^(E>>>9|g<<23)}function T(g,E){return(g>>>1|E<<31)^(g>>>8|E<<24)^g>>>7}function V(g,E){return(g>>>1|E<<31)^(g>>>8|E<<24)^(g>>>7|E<<25)}function $(g,E){return(g>>>19|E<<13)^(E>>>29|g<<3)^g>>>6}function x(g,E){return(g>>>19|E<<13)^(E>>>29|g<<3)^(g>>>6|E<<26)}function O(g,E){return g>>>0<E>>>0?1:0}h.prototype._update=function(g){for(var E=this._w,z=this._ah|0,P=this._bh|0,Y=this._ch|0,B=this._dh|0,uo=this._eh|0,to=this._fh|0,To=this._gh|0,co=this._hh|0,Wo=this._al|0,o=this._bl|0,e=this._cl|0,c=this._dl|0,s=this._el|0,p=this._fl|0,_=this._gl|0,N=this._hl|0,t=0;t<32;t+=2)E[t]=g.readInt32BE(t*4),E[t+1]=g.readInt32BE(t*4+4);for(;t<160;t+=2){var a=E[t-30],m=E[t-30+1],S=T(a,m),w=V(m,a);a=E[t-4],m=E[t-4+1];var I=$(a,m),fo=x(m,a),Ro=E[t-14],qo=E[t-14+1],po=E[t-32],io=E[t-32+1],ho=w+qo|0,Eo=S+Ro+O(ho,w)|0;ho=ho+fo|0,Eo=Eo+I+O(ho,fo)|0,ho=ho+io|0,Eo=Eo+po+O(ho,io)|0,E[t]=Eo,E[t+1]=ho}for(var xo=0;xo<160;xo+=2){Eo=E[xo],ho=E[xo+1];var Lo=y(z,P,Y),G=y(Wo,o,e),X=k(z,Wo),Q=k(Wo,z),$o=Z(uo,s),wo=Z(s,uo),Mo=q[xo],Go=q[xo+1],Xo=L(uo,to,To),jo=L(s,p,_),Qo=N+wo|0,Jo=co+$o+O(Qo,N)|0;Qo=Qo+jo|0,Jo=Jo+Xo+O(Qo,jo)|0,Qo=Qo+Go|0,Jo=Jo+Mo+O(Qo,Go)|0,Qo=Qo+ho|0,Jo=Jo+Eo+O(Qo,ho)|0;var So=Q+G|0,ba=X+Lo+O(So,Q)|0;co=To,N=_,To=to,_=p,to=uo,p=s,s=c+Qo|0,uo=B+Jo+O(s,c)|0,B=Y,c=e,Y=P,e=o,P=z,o=Wo,Wo=Qo+So|0,z=Jo+ba+O(Wo,Qo)|0}this._al=this._al+Wo|0,this._bl=this._bl+o|0,this._cl=this._cl+e|0,this._dl=this._dl+c|0,this._el=this._el+s|0,this._fl=this._fl+p|0,this._gl=this._gl+_|0,this._hl=this._hl+N|0,this._ah=this._ah+z+O(this._al,Wo)|0,this._bh=this._bh+P+O(this._bl,o)|0,this._ch=this._ch+Y+O(this._cl,e)|0,this._dh=this._dh+B+O(this._dl,c)|0,this._eh=this._eh+uo+O(this._el,s)|0,this._fh=this._fh+to+O(this._fl,p)|0,this._gh=this._gh+To+O(this._gl,_)|0,this._hh=this._hh+co+O(this._hl,N)|0},h.prototype._hash=function(){var g=f.allocUnsafe(64);function E(z,P,Y){g.writeInt32BE(z,Y),g.writeInt32BE(P,Y+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),g},d.exports=h}),tc=Uo((l,d)=>{var i=da(),R=Gl(),f=Cn(),q=ha().Buffer,u=new Array(160);function h(){this.init(),this._w=u,f.call(this,128,112)}i(h,R),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var L=q.allocUnsafe(48);function y(k,Z,T){L.writeInt32BE(k,T),L.writeInt32BE(Z,T+4)}return y(this._ah,this._al,0),y(this._bh,this._bl,8),y(this._ch,this._cl,16),y(this._dh,this._dl,24),y(this._eh,this._el,32),y(this._fh,this._fl,40),L},d.exports=h}),Us=Uo((i,d)=>{var i=d.exports=function(R){R=R.toLowerCase();var f=i[R];if(!f)throw new Error(R+" is not supported (we accept pull requests)");return new f};i.sha=uc(),i.sha1=pc(),i.sha224=mc(),i.sha256=Il(),i.sha384=tc(),i.sha512=Gl()}),Ma=Uo((l,d)=>{d.exports={ArrayIsArray(i){return Array.isArray(i)},ArrayPrototypeIncludes(i,R){return i.includes(R)},ArrayPrototypeIndexOf(i,R){return i.indexOf(R)},ArrayPrototypeJoin(i,R){return i.join(R)},ArrayPrototypeMap(i,R){return i.map(R)},ArrayPrototypePop(i,R){return i.pop(R)},ArrayPrototypePush(i,R){return i.push(R)},ArrayPrototypeSlice(i,R,f){return i.slice(R,f)},Error,FunctionPrototypeCall(i,R,...f){return i.call(R,...f)},FunctionPrototypeSymbolHasInstance(i,R){return Function.prototype[Symbol.hasInstance].call(i,R)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(i,R){return Object.defineProperties(i,R)},ObjectDefineProperty(i,R,f){return Object.defineProperty(i,R,f)},ObjectGetOwnPropertyDescriptor(i,R){return Object.getOwnPropertyDescriptor(i,R)},ObjectKeys(i){return Object.keys(i)},ObjectSetPrototypeOf(i,R){return Object.setPrototypeOf(i,R)},Promise,PromisePrototypeCatch(i,R){return i.catch(R)},PromisePrototypeThen(i,R,f){return i.then(R,f)},PromiseReject(i){return Promise.reject(i)},ReflectApply:Reflect.apply,RegExpPrototypeTest(i,R){return i.test(R)},SafeSet:Set,String,StringPrototypeSlice(i,R,f){return i.slice(R,f)},StringPrototypeToLowerCase(i){return i.toLowerCase()},StringPrototypeToUpperCase(i){return i.toUpperCase()},StringPrototypeTrim(i){return i.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(i,R,f){return i.set(R,f)},Uint8Array}}),sn=Uo((l,d)=>{var i=Fa(),R=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||i.Blob,q=typeof f<"u"?function(h){return h instanceof f}:function(h){return!1},u=class extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let L="";for(let y=0;y<h.length;y++)L+=`    ${h[y].stack}
`;super(L),this.name="AggregateError",this.errors=h}};d.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(h){let L=!1;return function(...y){L||(L=!0,h.apply(this,y))}},createDeferredPromise:function(){let h,L;return{promise:new Promise((y,k)=>{h=y,L=k}),resolve:h,reject:L}},promisify(h){return new Promise((L,y)=>{h((k,...Z)=>k?y(k):L(...Z))})},debuglog(){return function(){}},format(h,...L){return h.replace(/%([sdifj])/g,function(...[y,k]){let Z=L.shift();return k==="f"?Z.toFixed(6):k==="j"?JSON.stringify(Z):k==="s"&&typeof Z=="object"?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof R},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:q},d.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Es=Uo((l,d)=>{var{AbortController:i,AbortSignal:R}=typeof self<"u"?self:typeof window<"u"?window:void 0;d.exports=i,d.exports.AbortSignal=R,d.exports.default=i}),Xa=Uo((l,d)=>{var{format:i,inspect:R,AggregateError:f}=sn(),q=globalThis.AggregateError||f,u=Symbol("kIsNodeError"),h=["string","function","number","object","Function","Object","boolean","bigint","symbol"],L=/^([A-Z][a-z0-9]*)+$/,y="__node_internal_",k={};function Z(E,z){if(!E)throw new k.ERR_INTERNAL_ASSERTION(z)}function T(E){let z="",P=E.length,Y=E[0]==="-"?1:0;for(;P>=Y+4;P-=3)z=`_${E.slice(P-3,P)}${z}`;return`${E.slice(0,P)}${z}`}function V(E,z,P){if(typeof z=="function")return Z(z.length<=P.length,`Code: ${E}; The provided arguments length (${P.length}) does not match the required ones (${z.length}).`),z(...P);let Y=(z.match(/%[dfijoOs]/g)||[]).length;return Z(Y===P.length,`Code: ${E}; The provided arguments length (${P.length}) does not match the required ones (${Y}).`),P.length===0?z:i(z,...P)}function $(E,z,P){P||(P=Error);class Y extends P{constructor(...B){super(V(E,z,B))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(Y.prototype,{name:{value:P.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),Y.prototype.code=E,Y.prototype[u]=!0,k[E]=Y}function x(E){let z=y+E.name;return Object.defineProperty(E,"name",{value:z}),E}function O(E,z){if(E&&z&&E!==z){if(Array.isArray(z.errors))return z.errors.push(E),z;let P=new q([z,E],z.message);return P.code=z.code,P}return E||z}var g=class extends Error{constructor(E="The operation was aborted",z=void 0){if(z!==void 0&&typeof z!="object")throw new k.ERR_INVALID_ARG_TYPE("options","Object",z);super(E,z),this.code="ABORT_ERR",this.name="AbortError"}};$("ERR_ASSERTION","%s",Error),$("ERR_INVALID_ARG_TYPE",(E,z,P)=>{Z(typeof E=="string","'name' must be a string"),Array.isArray(z)||(z=[z]);let Y="The ";E.endsWith(" argument")?Y+=`${E} `:Y+=`"${E}" ${E.includes(".")?"property":"argument"} `,Y+="must be ";let B=[],uo=[],to=[];for(let co of z)Z(typeof co=="string","All expected entries have to be of type string"),h.includes(co)?B.push(co.toLowerCase()):L.test(co)?uo.push(co):(Z(co!=="object",'The value "object" should be written as "Object"'),to.push(co));if(uo.length>0){let co=B.indexOf("object");co!==-1&&(B.splice(B,co,1),uo.push("Object"))}if(B.length>0){switch(B.length){case 1:Y+=`of type ${B[0]}`;break;case 2:Y+=`one of type ${B[0]} or ${B[1]}`;break;default:{let co=B.pop();Y+=`one of type ${B.join(", ")}, or ${co}`}}(uo.length>0||to.length>0)&&(Y+=" or ")}if(uo.length>0){switch(uo.length){case 1:Y+=`an instance of ${uo[0]}`;break;case 2:Y+=`an instance of ${uo[0]} or ${uo[1]}`;break;default:{let co=uo.pop();Y+=`an instance of ${uo.join(", ")}, or ${co}`}}to.length>0&&(Y+=" or ")}switch(to.length){case 0:break;case 1:to[0].toLowerCase()!==to[0]&&(Y+="an "),Y+=`${to[0]}`;break;case 2:Y+=`one of ${to[0]} or ${to[1]}`;break;default:{let co=to.pop();Y+=`one of ${to.join(", ")}, or ${co}`}}if(P==null)Y+=`. Received ${P}`;else if(typeof P=="function"&&P.name)Y+=`. Received function ${P.name}`;else if(typeof P=="object"){var To;(To=P.constructor)!==null&&To!==void 0&&To.name?Y+=`. Received an instance of ${P.constructor.name}`:Y+=`. Received ${R(P,{depth:-1})}`}else{let co=R(P,{colors:!1});co.length>25&&(co=`${co.slice(0,25)}...`),Y+=`. Received type ${typeof P} (${co})`}return Y},TypeError),$("ERR_INVALID_ARG_VALUE",(E,z,P="is invalid")=>{let Y=R(z);return Y.length>128&&(Y=Y.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${P}. Received ${Y}`},TypeError),$("ERR_INVALID_RETURN_VALUE",(E,z,P)=>{var Y;let B=P!=null&&(Y=P.constructor)!==null&&Y!==void 0&&Y.name?`instance of ${P.constructor.name}`:`type ${typeof P}`;return`Expected ${E} to be returned from the "${z}" function but got ${B}.`},TypeError),$("ERR_MISSING_ARGS",(...E)=>{Z(E.length>0,"At least one arg needs to be specified");let z,P=E.length;switch(E=(Array.isArray(E)?E:[E]).map((Y)=>`"${Y}"`).join(" or "),P){case 1:z+=`The ${E[0]} argument`;break;case 2:z+=`The ${E[0]} and ${E[1]} arguments`;break;default:{let Y=E.pop();z+=`The ${E.join(", ")}, and ${Y} arguments`}break}return`${z} must be specified`},TypeError),$("ERR_OUT_OF_RANGE",(E,z,P)=>{Z(z,'Missing "range" argument');let Y;return Number.isInteger(P)&&Math.abs(P)>4294967296?Y=T(String(P)):typeof P=="bigint"?(Y=String(P),(P>2n**32n||P<-(2n**32n))&&(Y=T(Y)),Y+="n"):Y=R(P),`The value of "${E}" is out of range. It must be ${z}. Received ${Y}`},RangeError),$("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),$("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),$("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),$("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),$("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),$("ERR_STREAM_WRITE_AFTER_END","write after end",Error),$("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),d.exports={AbortError:g,aggregateTwoErrors:x(O),hideStackFrames:x,codes:k}}),De=Uo((l,d)=>{var{ArrayIsArray:i,ArrayPrototypeIncludes:R,ArrayPrototypeJoin:f,ArrayPrototypeMap:q,NumberIsInteger:u,NumberIsNaN:h,NumberMAX_SAFE_INTEGER:L,NumberMIN_SAFE_INTEGER:y,NumberParseInt:k,ObjectPrototypeHasOwnProperty:Z,RegExpPrototypeExec:T,String:V,StringPrototypeToUpperCase:$,StringPrototypeTrim:x}=Ma(),{hideStackFrames:O,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:z,ERR_OUT_OF_RANGE:P,ERR_UNKNOWN_SIGNAL:Y}}=Xa(),{normalizeEncoding:B}=sn(),{isAsyncFunction:uo,isArrayBufferView:to}=sn().types,To={};function co(G){return G===(G|0)}function Wo(G){return G===G>>>0}var o=/^[0-7]+$/,e="must be a 32-bit unsigned integer or an octal string";function c(G,X,Q){if(typeof G>"u"&&(G=Q),typeof G=="string"){if(T(o,G)===null)throw new z(X,G,e);G=k(G,8)}return _(G,X),G}var s=O((G,X,Q=y,$o=L)=>{if(typeof G!="number")throw new E(X,"number",G);if(!u(G))throw new P(X,"an integer",G);if(G<Q||G>$o)throw new P(X,`>= ${Q} && <= ${$o}`,G)}),p=O((G,X,Q=-2147483648,$o=2147483647)=>{if(typeof G!="number")throw new E(X,"number",G);if(!u(G))throw new P(X,"an integer",G);if(G<Q||G>$o)throw new P(X,`>= ${Q} && <= ${$o}`,G)}),_=O((G,X,Q=!1)=>{if(typeof G!="number")throw new E(X,"number",G);if(!u(G))throw new P(X,"an integer",G);let $o=Q?1:0,wo=4294967295;if(G<$o||G>wo)throw new P(X,`>= ${$o} && <= ${wo}`,G)});function N(G,X){if(typeof G!="string")throw new E(X,"string",G)}function t(G,X,Q=void 0,$o){if(typeof G!="number")throw new E(X,"number",G);if(Q!=null&&G<Q||$o!=null&&G>$o||(Q!=null||$o!=null)&&h(G))throw new P(X,`${Q!=null?`>= ${Q}`:""}${Q!=null&&$o!=null?" && ":""}${$o!=null?`<= ${$o}`:""}`,G)}var a=O((G,X,Q)=>{if(!R(Q,G)){let $o=f(q(Q,(Mo)=>typeof Mo=="string"?`'${Mo}'`:V(Mo)),", "),wo="must be one of: "+$o;throw new z(X,G,wo)}});function m(G,X){if(typeof G!="boolean")throw new E(X,"boolean",G)}function S(G,X,Q){return G==null||!Z(G,X)?Q:G[X]}var w=O((G,X,Q=null)=>{let $o=S(Q,"allowArray",!1),wo=S(Q,"allowFunction",!1);if(!S(Q,"nullable",!1)&&G===null||!$o&&i(G)||typeof G!="object"&&(!wo||typeof G!="function"))throw new E(X,"Object",G)}),I=O((G,X,Q=0)=>{if(!i(G))throw new E(X,"Array",G);if(G.length<Q){let $o=`must be longer than ${Q}`;throw new z(X,G,$o)}});function fo(G,X="signal"){if(N(G,X),To[G]===void 0)throw To[$(G)]!==void 0?new Y(G+" (signals must use all capital letters)"):new Y(G)}var Ro=O((G,X="buffer")=>{if(!to(G))throw new E(X,["Buffer","TypedArray","DataView"],G)});function qo(G,X){let Q=B(X),$o=G.length;if(Q==="hex"&&$o%2!==0)throw new z("encoding",X,`is invalid for data of length ${$o}`)}function po(G,X="Port",Q=!0){if(typeof G!="number"&&typeof G!="string"||typeof G=="string"&&x(G).length===0||+G!==+G>>>0||G>65535||G===0&&!Q)throw new g(X,G,Q);return G|0}var io=O((G,X)=>{if(G!==void 0&&(G===null||typeof G!="object"||!("aborted"in G)))throw new E(X,"AbortSignal",G)}),ho=O((G,X)=>{if(typeof G!="function")throw new E(X,"Function",G)}),Eo=O((G,X)=>{if(typeof G!="function"||uo(G))throw new E(X,"Function",G)}),xo=O((G,X)=>{if(G!==void 0)throw new E(X,"undefined",G)});function Lo(G,X,Q){if(!R(Q,G))throw new E(X,`('${f(Q,"|")}')`,G)}d.exports={isInt32:co,isUint32:Wo,parseFileMode:c,validateArray:I,validateBoolean:m,validateBuffer:Ro,validateEncoding:qo,validateFunction:ho,validateInt32:p,validateInteger:s,validateNumber:t,validateObject:w,validateOneOf:a,validatePlainFunction:Eo,validatePort:po,validateSignalName:fo,validateString:N,validateUint32:_,validateUndefined:xo,validateUnion:Lo,validateAbortSignal:io}}),Dl=Uo((l,d)=>{var i=d.exports={},R,f;function q(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=q}catch{R=q}try{typeof clearTimeout=="function"?f=clearTimeout:f=u}catch{f=u}})();function h(g){if(R===setTimeout)return setTimeout(g,0);if((R===q||!R)&&setTimeout)return R=setTimeout,setTimeout(g,0);try{return R(g,0)}catch{try{return R.call(null,g,0)}catch{return R.call(this,g,0)}}}function L(g){if(f===clearTimeout)return clearTimeout(g);if((f===u||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(g);try{return f(g)}catch{try{return f.call(null,g)}catch{return f.call(this,g)}}}var y=[],k=!1,Z,T=-1;function V(){!k||!Z||(k=!1,Z.length?y=Z.concat(y):T=-1,y.length&&$())}function $(){if(!k){var g=h(V);k=!0;for(var E=y.length;E;){for(Z=y,y=[];++T<E;)Z&&Z[T].run();T=-1,E=y.length}Z=null,k=!1,L(g)}}i.nextTick=function(g){var E=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)E[z-1]=arguments[z];y.push(new x(g,E)),y.length===1&&!k&&h($)};function x(g,E){this.fun=g,this.array=E}x.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function O(){}i.on=O,i.addListener=O,i.once=O,i.off=O,i.removeListener=O,i.removeAllListeners=O,i.emit=O,i.prependListener=O,i.prependOnceListener=O,i.listeners=function(g){return[]},i.binding=function(g){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(g){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),ln={},Os(ln,{default:()=>dc}),Vn=Ol(()=>{zl(ln,Dn(Dl())),dc=Dn(Dl())}),Ln=Uo((l,d)=>{var{Symbol:i,SymbolAsyncIterator:R,SymbolIterator:f}=Ma(),q=i("kDestroyed"),u=i("kIsErrored"),h=i("kIsReadable"),L=i("kIsDisturbed");function y(s,p=!1){var _;return!!(s&&typeof s.pipe=="function"&&typeof s.on=="function"&&(!p||typeof s.pause=="function"&&typeof s.resume=="function")&&(!s._writableState||((_=s._readableState)===null||_===void 0?void 0:_.readable)!==!1)&&(!s._writableState||s._readableState))}function k(s){var p;return!!(s&&typeof s.write=="function"&&typeof s.on=="function"&&(!s._readableState||((p=s._writableState)===null||p===void 0?void 0:p.writable)!==!1))}function Z(s){return!!(s&&typeof s.pipe=="function"&&s._readableState&&typeof s.on=="function"&&typeof s.write=="function")}function T(s){return s&&(s._readableState||s._writableState||typeof s.write=="function"&&typeof s.on=="function"||typeof s.pipe=="function"&&typeof s.on=="function")}function V(s,p){return s==null?!1:p===!0?typeof s[R]=="function":p===!1?typeof s[f]=="function":typeof s[R]=="function"||typeof s[f]=="function"}function $(s){if(!T(s))return null;let{_writableState:p,_readableState:_}=s,N=p||_;return!!(s.destroyed||s[q]||N!=null&&N.destroyed)}function x(s){if(!k(s))return null;if(s.writableEnded===!0)return!0;let p=s._writableState;return p!=null&&p.errored?!1:typeof p?.ended!="boolean"?null:p.ended}function O(s,p){if(!k(s))return null;if(s.writableFinished===!0)return!0;let _=s._writableState;return _!=null&&_.errored?!1:typeof _?.finished!="boolean"?null:!!(_.finished||p===!1&&_.ended===!0&&_.length===0)}function g(s){if(!y(s))return null;if(s.readableEnded===!0)return!0;let p=s._readableState;return!p||p.errored?!1:typeof p?.ended!="boolean"?null:p.ended}function E(s,p){if(!y(s))return null;let _=s._readableState;return _!=null&&_.errored?!1:typeof _?.endEmitted!="boolean"?null:!!(_.endEmitted||p===!1&&_.ended===!0&&_.length===0)}function z(s){return s&&s[h]!=null?s[h]:typeof s?.readable!="boolean"?null:$(s)?!1:y(s)&&s.readable&&!E(s)}function P(s){return typeof s?.writable!="boolean"?null:$(s)?!1:k(s)&&s.writable&&!x(s)}function Y(s,p){return T(s)?$(s)?!0:!(p?.readable!==!1&&z(s)||p?.writable!==!1&&P(s)):null}function B(s){var p,_;return T(s)?s.writableErrored?s.writableErrored:(p=(_=s._writableState)===null||_===void 0?void 0:_.errored)!==null&&p!==void 0?p:null:null}function uo(s){var p,_;return T(s)?s.readableErrored?s.readableErrored:(p=(_=s._readableState)===null||_===void 0?void 0:_.errored)!==null&&p!==void 0?p:null:null}function to(s){if(!T(s))return null;if(typeof s.closed=="boolean")return s.closed;let{_writableState:p,_readableState:_}=s;return typeof p?.closed=="boolean"||typeof _?.closed=="boolean"?p?.closed||_?.closed:typeof s._closed=="boolean"&&To(s)?s._closed:null}function To(s){return typeof s._closed=="boolean"&&typeof s._defaultKeepAlive=="boolean"&&typeof s._removedConnection=="boolean"&&typeof s._removedContLen=="boolean"}function co(s){return typeof s._sent100=="boolean"&&To(s)}function Wo(s){var p;return typeof s._consuming=="boolean"&&typeof s._dumped=="boolean"&&((p=s.req)===null||p===void 0?void 0:p.upgradeOrConnect)===void 0}function o(s){if(!T(s))return null;let{_writableState:p,_readableState:_}=s,N=p||_;return!N&&co(s)||!!(N&&N.autoDestroy&&N.emitClose&&N.closed===!1)}function e(s){var p;return!!(s&&((p=s[L])!==null&&p!==void 0?p:s.readableDidRead||s.readableAborted))}function c(s){var p,_,N,t,a,m,S,w,I,fo;return!!(s&&((p=(_=(N=(t=(a=(m=s[u])!==null&&m!==void 0?m:s.readableErrored)!==null&&a!==void 0?a:s.writableErrored)!==null&&t!==void 0?t:(S=s._readableState)===null||S===void 0?void 0:S.errorEmitted)!==null&&N!==void 0?N:(w=s._writableState)===null||w===void 0?void 0:w.errorEmitted)!==null&&_!==void 0?_:(I=s._readableState)===null||I===void 0?void 0:I.errored)!==null&&p!==void 0?p:(fo=s._writableState)===null||fo===void 0?void 0:fo.errored))}d.exports={kDestroyed:q,isDisturbed:e,kIsDisturbed:L,isErrored:c,kIsErrored:u,isReadable:z,kIsReadable:h,isClosed:to,isDestroyed:$,isDuplexNodeStream:Z,isFinished:Y,isIterable:V,isReadableNodeStream:y,isReadableEnded:g,isReadableFinished:E,isReadableErrored:uo,isNodeStream:T,isWritable:P,isWritableNodeStream:k,isWritableEnded:x,isWritableFinished:O,isWritableErrored:B,isServerRequest:Wo,isServerResponse:co,willEmitClose:o}}),Wn=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{AbortError:R,codes:f}=Xa(),{ERR_INVALID_ARG_TYPE:q,ERR_STREAM_PREMATURE_CLOSE:u}=f,{kEmptyObject:h,once:L}=sn(),{validateAbortSignal:y,validateFunction:k,validateObject:Z}=De(),{Promise:T}=Ma(),{isClosed:V,isReadable:$,isReadableNodeStream:x,isReadableFinished:O,isReadableErrored:g,isWritable:E,isWritableNodeStream:z,isWritableFinished:P,isWritableErrored:Y,isNodeStream:B,willEmitClose:uo}=Ln();function to(o){return o.setHeader&&typeof o.abort=="function"}var To=()=>{};function co(o,e,c){var s,p;arguments.length===2?(c=e,e=h):e==null?e=h:Z(e,"options"),k(c,"callback"),y(e.signal,"options.signal"),c=L(c);let _=(s=e.readable)!==null&&s!==void 0?s:x(o),N=(p=e.writable)!==null&&p!==void 0?p:z(o);if(!B(o))throw new q("stream","Stream",o);let{_writableState:t,_readableState:a}=o,m=()=>{o.writable||I()},S=uo(o)&&x(o)===_&&z(o)===N,w=P(o,!1),I=()=>{w=!0,o.destroyed&&(S=!1),!(S&&(!o.readable||_))&&(!_||fo)&&c.call(o)},fo=O(o,!1),Ro=()=>{fo=!0,o.destroyed&&(S=!1),!(S&&(!o.writable||N))&&(!N||w)&&c.call(o)},qo=(xo)=>{c.call(o,xo)},po=V(o),io=()=>{po=!0;let xo=Y(o)||g(o);if(xo&&typeof xo!="boolean")return c.call(o,xo);if(_&&!fo&&x(o,!0)&&!O(o,!1))return c.call(o,new u);if(N&&!w&&!P(o,!1))return c.call(o,new u);c.call(o)},ho=()=>{o.req.on("finish",I)};to(o)?(o.on("complete",I),S||o.on("abort",io),o.req?ho():o.on("request",ho)):N&&!t&&(o.on("end",m),o.on("close",m)),!S&&typeof o.aborted=="boolean"&&o.on("aborted",io),o.on("end",Ro),o.on("finish",I),e.error!==!1&&o.on("error",qo),o.on("close",io),po?i.nextTick(io):t!=null&&t.errorEmitted||a!=null&&a.errorEmitted?S||i.nextTick(io):(!_&&(!S||$(o))&&(w||E(o)===!1)||!N&&(!S||E(o))&&(fo||$(o)===!1)||a&&o.req&&o.aborted)&&i.nextTick(io);let Eo=()=>{c=To,o.removeListener("aborted",io),o.removeListener("complete",I),o.removeListener("abort",io),o.removeListener("request",ho),o.req&&o.req.removeListener("finish",I),o.removeListener("end",m),o.removeListener("close",m),o.removeListener("finish",I),o.removeListener("end",Ro),o.removeListener("error",qo),o.removeListener("close",io)};if(e.signal&&!po){let xo=()=>{let Lo=c;Eo(),Lo.call(o,new R(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)i.nextTick(xo);else{let Lo=c;c=L((...G)=>{e.signal.removeEventListener("abort",xo),Lo.apply(o,G)}),e.signal.addEventListener("abort",xo)}}return Eo}function Wo(o,e){return new T((c,s)=>{co(o,e,(p)=>{p?s(p):c()})})}d.exports=co,d.exports.finished=Wo}),bc=Uo((l,d)=>{var i=globalThis.AbortController||Es().AbortController,{codes:{ERR_INVALID_ARG_TYPE:R,ERR_MISSING_ARGS:f,ERR_OUT_OF_RANGE:q},AbortError:u}=Xa(),{validateAbortSignal:h,validateInteger:L,validateObject:y}=De(),k=Ma().Symbol("kWeak"),{finished:Z}=Wn(),{ArrayPrototypePush:T,MathFloor:V,Number:$,NumberIsNaN:x,Promise:O,PromiseReject:g,PromisePrototypeThen:E,Symbol:z}=Ma(),P=z("kEmpty"),Y=z("kEof");function B(a,m){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);m!=null&&y(m,"options"),m?.signal!=null&&h(m.signal,"options.signal");let S=1;return m?.concurrency!=null&&(S=V(m.concurrency)),L(S,"concurrency",1),async function*(){var w,I;let fo=new i,Ro=this,qo=[],po=fo.signal,io={signal:po},ho=()=>fo.abort();m!=null&&(w=m.signal)!==null&&w!==void 0&&w.aborted&&ho(),m==null||(I=m.signal)===null||I===void 0||I.addEventListener("abort",ho);let Eo,xo,Lo=!1;function G(){Lo=!0}async function X(){try{for await(let wo of Ro){var Q;if(Lo)return;if(po.aborted)throw new u;try{wo=a(wo,io)}catch(Mo){wo=g(Mo)}wo!==P&&(typeof((Q=wo)===null||Q===void 0?void 0:Q.catch)=="function"&&wo.catch(G),qo.push(wo),Eo&&(Eo(),Eo=null),!Lo&&qo.length&&qo.length>=S&&await new O((Mo)=>{xo=Mo}))}qo.push(Y)}catch(wo){let Mo=g(wo);E(Mo,void 0,G),qo.push(Mo)}finally{var $o;Lo=!0,Eo&&(Eo(),Eo=null),m==null||($o=m.signal)===null||$o===void 0||$o.removeEventListener("abort",ho)}}X();try{for(;;){for(;qo.length>0;){let Q=await qo[0];if(Q===Y)return;if(po.aborted)throw new u;Q!==P&&(yield Q),qo.shift(),xo&&(xo(),xo=null)}await new O((Q)=>{Eo=Q})}}finally{fo.abort(),Lo=!0,xo&&(xo(),xo=null)}}.call(this)}function uo(a=void 0){return a!=null&&y(a,"options"),a?.signal!=null&&h(a.signal,"options.signal"),async function*(){let m=0;for await(let w of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u({cause:a.signal.reason});yield[m++,w]}}.call(this)}async function to(a,m=void 0){for await(let S of o.call(this,a,m))return!0;return!1}async function To(a,m=void 0){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);return!await to.call(this,async(...S)=>!await a(...S),m)}async function co(a,m){for await(let S of o.call(this,a,m))return S}async function Wo(a,m){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);async function S(w,I){return await a(w,I),P}for await(let w of B.call(this,S,m));}function o(a,m){if(typeof a!="function")throw new R("fn",["Function","AsyncFunction"],a);async function S(w,I){return await a(w,I)?w:P}return B.call(this,S,m)}var e=class extends f{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function c(a,m,S){var w;if(typeof a!="function")throw new R("reducer",["Function","AsyncFunction"],a);S!=null&&y(S,"options"),S?.signal!=null&&h(S.signal,"options.signal");let I=arguments.length>1;if(S!=null&&(w=S.signal)!==null&&w!==void 0&&w.aborted){let io=new u(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await Z(this.destroy(io)),io}let fo=new i,Ro=fo.signal;if(S!=null&&S.signal){let io={once:!0,[k]:this};S.signal.addEventListener("abort",()=>fo.abort(),io)}let qo=!1;try{for await(let io of this){var po;if(qo=!0,S!=null&&(po=S.signal)!==null&&po!==void 0&&po.aborted)throw new u;I?m=await a(m,io,{signal:Ro}):(m=io,I=!0)}if(!qo&&!I)throw new e}finally{fo.abort()}return m}async function s(a){a!=null&&y(a,"options"),a?.signal!=null&&h(a.signal,"options.signal");let m=[];for await(let w of this){var S;if(a!=null&&(S=a.signal)!==null&&S!==void 0&&S.aborted)throw new u(void 0,{cause:a.signal.reason});T(m,w)}return m}function p(a,m){let S=B.call(this,a,m);return async function*(){for await(let w of S)yield*w}.call(this)}function _(a){if(a=$(a),x(a))return 0;if(a<0)throw new q("number",">= 0",a);return a}function N(a,m=void 0){return m!=null&&y(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),a=_(a),async function*(){var S;if(m!=null&&(S=m.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let I of this){var w;if(m!=null&&(w=m.signal)!==null&&w!==void 0&&w.aborted)throw new u;a--<=0&&(yield I)}}.call(this)}function t(a,m=void 0){return m!=null&&y(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),a=_(a),async function*(){var S;if(m!=null&&(S=m.signal)!==null&&S!==void 0&&S.aborted)throw new u;for await(let I of this){var w;if(m!=null&&(w=m.signal)!==null&&w!==void 0&&w.aborted)throw new u;if(a-- >0)yield I;else return}}.call(this)}d.exports.streamReturningOperators={asIndexedPairs:uo,drop:N,filter:o,flatMap:p,map:B,take:t},d.exports.promiseReturningOperators={every:To,forEach:Wo,reduce:c,toArray:s,some:to,find:co}}),Qn=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{aggregateTwoErrors:R,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:q}=Xa(),{Symbol:u}=Ma(),{kDestroyed:h,isDestroyed:L,isFinished:y,isServerRequest:k}=Ln(),Z=u("kDestroy"),T=u("kConstruct");function V(o,e,c){o&&(o.stack,e&&!e.errored&&(e.errored=o),c&&!c.errored&&(c.errored=o))}function $(o,e){let c=this._readableState,s=this._writableState,p=s||c;return s&&s.destroyed||c&&c.destroyed?(typeof e=="function"&&e(),this):(V(o,s,c),s&&(s.destroyed=!0),c&&(c.destroyed=!0),p.constructed?x(this,o,e):this.once(Z,function(_){x(this,R(_,o),e)}),this)}function x(o,e,c){let s=!1;function p(_){if(s)return;s=!0;let{_readableState:N,_writableState:t}=o;V(_,t,N),t&&(t.closed=!0),N&&(N.closed=!0),typeof c=="function"&&c(_),_?i.nextTick(O,o,_):i.nextTick(g,o)}try{o._destroy(e||null,p)}catch(_){p(_)}}function O(o,e){E(o,e),g(o)}function g(o){let{_readableState:e,_writableState:c}=o;c&&(c.closeEmitted=!0),e&&(e.closeEmitted=!0),(c&&c.emitClose||e&&e.emitClose)&&o.emit("close")}function E(o,e){let{_readableState:c,_writableState:s}=o;s&&s.errorEmitted||c&&c.errorEmitted||(s&&(s.errorEmitted=!0),c&&(c.errorEmitted=!0),o.emit("error",e))}function z(){let o=this._readableState,e=this._writableState;o&&(o.constructed=!0,o.closed=!1,o.closeEmitted=!1,o.destroyed=!1,o.errored=null,o.errorEmitted=!1,o.reading=!1,o.ended=o.readable===!1,o.endEmitted=o.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function P(o,e,c){let{_readableState:s,_writableState:p}=o;if(p&&p.destroyed||s&&s.destroyed)return this;s&&s.autoDestroy||p&&p.autoDestroy?o.destroy(e):e&&(e.stack,p&&!p.errored&&(p.errored=e),s&&!s.errored&&(s.errored=e),c?i.nextTick(E,o,e):E(o,e))}function Y(o,e){if(typeof o._construct!="function")return;let{_readableState:c,_writableState:s}=o;c&&(c.constructed=!1),s&&(s.constructed=!1),o.once(T,e),!(o.listenerCount(T)>1)&&i.nextTick(B,o)}function B(o){let e=!1;function c(s){if(e){P(o,s??new f);return}e=!0;let{_readableState:p,_writableState:_}=o,N=_||p;p&&(p.constructed=!0),_&&(_.constructed=!0),N.destroyed?o.emit(Z,s):s?P(o,s,!0):i.nextTick(uo,o)}try{o._construct(c)}catch(s){c(s)}}function uo(o){o.emit(T)}function to(o){return o&&o.setHeader&&typeof o.abort=="function"}function To(o){o.emit("close")}function co(o,e){o.emit("error",e),i.nextTick(To,o)}function Wo(o,e){!o||L(o)||(!e&&!y(o)&&(e=new q),k(o)?(o.socket=null,o.destroy(e)):to(o)?o.abort():to(o.req)?o.req.abort():typeof o.destroy=="function"?o.destroy(e):typeof o.close=="function"?o.close():e?i.nextTick(co,o,e):i.nextTick(To,o),o.destroyed||(o[h]=!0))}d.exports={construct:Y,destroyer:Wo,destroy:$,undestroy:z,errorOrDestroy:P}}),js=Uo((l,d)=>{var{ArrayIsArray:i,ObjectSetPrototypeOf:R}=Ma(),{EventEmitter:f}=Mn();function q(h){f.call(this,h)}R(q.prototype,f.prototype),R(q,f),q.prototype.pipe=function(h,L){let y=this;function k(g){h.writable&&h.write(g)===!1&&y.pause&&y.pause()}y.on("data",k);function Z(){y.readable&&y.resume&&y.resume()}h.on("drain",Z),!h._isStdio&&(!L||L.end!==!1)&&(y.on("end",V),y.on("close",$));let T=!1;function V(){T||(T=!0,h.end())}function $(){T||(T=!0,typeof h.destroy=="function"&&h.destroy())}function x(g){O(),f.listenerCount(this,"error")===0&&this.emit("error",g)}u(y,"error",x),u(h,"error",x);function O(){y.removeListener("data",k),h.removeListener("drain",Z),y.removeListener("end",V),y.removeListener("close",$),y.removeListener("error",x),h.removeListener("error",x),y.removeListener("end",O),y.removeListener("close",O),h.removeListener("close",O)}return y.on("end",O),y.on("close",O),h.on("close",O),h.emit("pipe",y),h};function u(h,L,y){if(typeof h.prependListener=="function")return h.prependListener(L,y);!h._events||!h._events[L]?h.on(L,y):i(h._events[L])?h._events[L].unshift(y):h._events[L]=[y,h._events[L]]}d.exports={Stream:q,prependListener:u}}),Js=Uo((l,d)=>{var{AbortError:i,codes:R}=Xa(),f=Wn(),{ERR_INVALID_ARG_TYPE:q}=R,u=(L,y)=>{if(typeof L!="object"||!("aborted"in L))throw new q(y,"AbortSignal",L)};function h(L){return!!(L&&typeof L.pipe=="function")}d.exports.addAbortSignal=function(L,y){if(u(L,"signal"),!h(y))throw new q("stream","stream.Stream",y);return d.exports.addAbortSignalNoValidate(L,y)},d.exports.addAbortSignalNoValidate=function(L,y){if(typeof L!="object"||!("aborted"in L))return y;let k=()=>{y.destroy(new i(void 0,{cause:L.reason}))};return L.aborted?k():(L.addEventListener("abort",k),f(y,()=>L.removeEventListener("abort",k))),y}}),fc=Uo((l,d)=>{var{StringPrototypeSlice:i,SymbolIterator:R,TypedArrayPrototypeSet:f,Uint8Array:q}=Ma(),{Buffer:u}=Fa(),{inspect:h}=sn();d.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(L){let y={data:L,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(L){let y={data:L,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;let L=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,L}clear(){this.head=this.tail=null,this.length=0}join(L){if(this.length===0)return"";let y=this.head,k=""+y.data;for(;(y=y.next)!==null;)k+=L+y.data;return k}concat(L){if(this.length===0)return u.alloc(0);let y=u.allocUnsafe(L>>>0),k=this.head,Z=0;for(;k;)f(y,k.data,Z),Z+=k.data.length,k=k.next;return y}consume(L,y){let k=this.head.data;if(L<k.length){let Z=k.slice(0,L);return this.head.data=k.slice(L),Z}return L===k.length?this.shift():y?this._getString(L):this._getBuffer(L)}first(){return this.head.data}*[R](){for(let L=this.head;L;L=L.next)yield L.data}_getString(L){let y="",k=this.head,Z=0;do{let T=k.data;if(L>T.length)y+=T,L-=T.length;else{L===T.length?(y+=T,++Z,k.next?this.head=k.next:this.head=this.tail=null):(y+=i(T,0,L),this.head=k,k.data=i(T,L));break}++Z}while((k=k.next)!==null);return this.length-=Z,y}_getBuffer(L){let y=u.allocUnsafe(L),k=L,Z=this.head,T=0;do{let V=Z.data;if(L>V.length)f(y,V,k-L),L-=V.length;else{L===V.length?(f(y,V,k-L),++T,Z.next?this.head=Z.next:this.head=this.tail=null):(f(y,new q(V.buffer,V.byteOffset,L),k-L),this.head=Z,Z.data=V.slice(L));break}++T}while((Z=Z.next)!==null);return this.length-=T,y}[Symbol.for("nodejs.util.inspect.custom")](L,y){return h(this,{...y,depth:0,customInspect:!1})}}}),Ks=Uo((l,d)=>{var{MathFloor:i,NumberIsInteger:R}=Ma(),{ERR_INVALID_ARG_VALUE:f}=Xa().codes;function q(L,y,k){return L.highWaterMark!=null?L.highWaterMark:y?L[k]:null}function u(L){return L?16:16384}function h(L,y,k,Z){let T=q(y,Z,k);if(T!=null){if(!R(T)||T<0){let V=Z?`options.${k}`:"options.highWaterMark";throw new f(V,T)}return i(T)}return u(L.objectMode)}d.exports={getHighWaterMark:h,getDefaultHighWaterMark:u}}),Hl=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{PromisePrototypeThen:R,SymbolAsyncIterator:f,SymbolIterator:q}=Ma(),{Buffer:u}=Fa(),{ERR_INVALID_ARG_TYPE:h,ERR_STREAM_NULL_VALUES:L}=Xa().codes;function y(k,Z,T){let V;if(typeof Z=="string"||Z instanceof u)return new k({objectMode:!0,...T,read(){this.push(Z),this.push(null)}});let $;if(Z&&Z[f])$=!0,V=Z[f]();else if(Z&&Z[q])$=!1,V=Z[q]();else throw new h("iterable",["Iterable"],Z);let x=new k({objectMode:!0,highWaterMark:1,...T}),O=!1;x._read=function(){O||(O=!0,E())},x._destroy=function(z,P){R(g(z),()=>i.nextTick(P,z),(Y)=>i.nextTick(P,Y||z))};async function g(z){let P=z!=null,Y=typeof V.throw=="function";if(P&&Y){let{value:B,done:uo}=await V.throw(z);if(await B,uo)return}if(typeof V.return=="function"){let{value:B}=await V.return();await B}}async function E(){for(;;){try{let{value:z,done:P}=$?await V.next():V.next();if(P)x.push(null);else{let Y=z&&typeof z.then=="function"?await z:z;if(Y===null)throw O=!1,new L;if(x.push(Y))continue;O=!1}}catch(z){x.destroy(z)}break}}return x}d.exports=y}),He=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{ArrayPrototypeIndexOf:R,NumberIsInteger:f,NumberIsNaN:q,NumberParseInt:u,ObjectDefineProperties:h,ObjectKeys:L,ObjectSetPrototypeOf:y,Promise:k,SafeSet:Z,SymbolAsyncIterator:T,Symbol:V}=Ma();d.exports=S,S.ReadableState=m;var{EventEmitter:$}=Mn(),{Stream:x,prependListener:O}=js(),{Buffer:g}=Fa(),{addAbortSignal:E}=Js(),z=Wn(),P=sn().debuglog("stream",(W)=>{P=W}),Y=fc(),B=Qn(),{getHighWaterMark:uo,getDefaultHighWaterMark:to}=Ks(),{aggregateTwoErrors:To,codes:{ERR_INVALID_ARG_TYPE:co,ERR_METHOD_NOT_IMPLEMENTED:Wo,ERR_OUT_OF_RANGE:o,ERR_STREAM_PUSH_AFTER_EOF:e,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:c}}=Xa(),{validateObject:s}=De(),p=V("kPaused"),{StringDecoder:_}=zs(),N=Hl();y(S.prototype,x.prototype),y(S,x);var t=()=>{},{errorOrDestroy:a}=B;function m(W,n,r){typeof r!="boolean"&&(r=n instanceof rn()),this.objectMode=!!(W&&W.objectMode),r&&(this.objectMode=this.objectMode||!!(W&&W.readableObjectMode)),this.highWaterMark=W?uo(this,W,"readableHighWaterMark",r):to(!1),this.buffer=new Y,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[p]=null,this.errorEmitted=!1,this.emitClose=!W||W.emitClose!==!1,this.autoDestroy=!W||W.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=W&&W.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,W&&W.encoding&&(this.decoder=new _(W.encoding),this.encoding=W.encoding)}function S(W){if(!(this instanceof S))return new S(W);let n=this instanceof rn();this._readableState=new m(W,this,n),W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.construct=="function"&&(this._construct=W.construct),W.signal&&!n&&E(W.signal,this)),x.call(this,W),B.construct(this,()=>{this._readableState.needReadable&&Eo(this,this._readableState)})}S.prototype.destroy=B.destroy,S.prototype._undestroy=B.undestroy,S.prototype._destroy=function(W,n){n(W)},S.prototype[$.captureRejectionSymbol]=function(W){this.destroy(W)},S.prototype.push=function(W,n){return w(this,W,n,!1)},S.prototype.unshift=function(W,n){return w(this,W,n,!0)};function w(W,n,r,b){P("readableAddChunk",n);let v=W._readableState,M;if(v.objectMode||(typeof n=="string"?(r=r||v.defaultEncoding,v.encoding!==r&&(b&&v.encoding?n=g.from(n,r).toString(v.encoding):(n=g.from(n,r),r=""))):n instanceof g?r="":x._isUint8Array(n)?(n=x._uint8ArrayToBuffer(n),r=""):n!=null&&(M=new co("chunk",["string","Buffer","Uint8Array"],n))),M)a(W,M);else if(n===null)v.reading=!1,po(W,v);else if(v.objectMode||n&&n.length>0)if(b)if(v.endEmitted)a(W,new c);else{if(v.destroyed||v.errored)return!1;I(W,v,n,!0)}else if(v.ended)a(W,new e);else{if(v.destroyed||v.errored)return!1;v.reading=!1,v.decoder&&!r?(n=v.decoder.write(n),v.objectMode||n.length!==0?I(W,v,n,!1):Eo(W,v)):I(W,v,n,!1)}else b||(v.reading=!1,Eo(W,v));return!v.ended&&(v.length<v.highWaterMark||v.length===0)}function I(W,n,r,b){n.flowing&&n.length===0&&!n.sync&&W.listenerCount("data")>0?(n.multiAwaitDrain?n.awaitDrainWriters.clear():n.awaitDrainWriters=null,n.dataEmitted=!0,W.emit("data",r)):(n.length+=n.objectMode?1:r.length,b?n.buffer.unshift(r):n.buffer.push(r),n.needReadable&&io(W)),Eo(W,n)}S.prototype.isPaused=function(){let W=this._readableState;return W[p]===!0||W.flowing===!1},S.prototype.setEncoding=function(W){let n=new _(W);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,b="";for(let v of r)b+=n.write(v);return r.clear(),b!==""&&r.push(b),this._readableState.length=b.length,this};var fo=1073741824;function Ro(W){if(W>fo)throw new o("size","<= 1GiB",W);return W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++,W}function qo(W,n){return W<=0||n.length===0&&n.ended?0:n.objectMode?1:q(W)?n.flowing&&n.length?n.buffer.first().length:n.length:W<=n.length?W:n.ended?n.length:0}S.prototype.read=function(W){P("read",W),W===void 0?W=NaN:f(W)||(W=u(W,10));let n=this._readableState,r=W;if(W>n.highWaterMark&&(n.highWaterMark=Ro(W)),W!==0&&(n.emittedReadable=!1),W===0&&n.needReadable&&((n.highWaterMark!==0?n.length>=n.highWaterMark:n.length>0)||n.ended))return P("read: emitReadable",n.length,n.ended),n.length===0&&n.ended?jo(this):io(this),null;if(W=qo(W,n),W===0&&n.ended)return n.length===0&&jo(this),null;let b=n.needReadable;if(P("need readable",b),(n.length===0||n.length-W<n.highWaterMark)&&(b=!0,P("length less than watermark",b)),n.ended||n.reading||n.destroyed||n.errored||!n.constructed)b=!1,P("reading, ended or constructing",b);else if(b){P("do read"),n.reading=!0,n.sync=!0,n.length===0&&(n.needReadable=!0);try{this._read(n.highWaterMark)}catch(M){a(this,M)}n.sync=!1,n.reading||(W=qo(r,n))}let v;return W>0?v=Xo(W,n):v=null,v===null?(n.needReadable=n.length<=n.highWaterMark,W=0):(n.length-=W,n.multiAwaitDrain?n.awaitDrainWriters.clear():n.awaitDrainWriters=null),n.length===0&&(n.ended||(n.needReadable=!0),r!==W&&n.ended&&jo(this)),v!==null&&!n.errorEmitted&&!n.closeEmitted&&(n.dataEmitted=!0,this.emit("data",v)),v};function po(W,n){if(P("onEofChunk"),!n.ended){if(n.decoder){let r=n.decoder.end();r&&r.length&&(n.buffer.push(r),n.length+=n.objectMode?1:r.length)}n.ended=!0,n.sync?io(W):(n.needReadable=!1,n.emittedReadable=!0,ho(W))}}function io(W){let n=W._readableState;P("emitReadable",n.needReadable,n.emittedReadable),n.needReadable=!1,n.emittedReadable||(P("emitReadable",n.flowing),n.emittedReadable=!0,i.nextTick(ho,W))}function ho(W){let n=W._readableState;P("emitReadable_",n.destroyed,n.length,n.ended),!n.destroyed&&!n.errored&&(n.length||n.ended)&&(W.emit("readable"),n.emittedReadable=!1),n.needReadable=!n.flowing&&!n.ended&&n.length<=n.highWaterMark,wo(W)}function Eo(W,n){!n.readingMore&&n.constructed&&(n.readingMore=!0,i.nextTick(xo,W,n))}function xo(W,n){for(;!n.reading&&!n.ended&&(n.length<n.highWaterMark||n.flowing&&n.length===0);){let r=n.length;if(P("maybeReadMore read 0"),W.read(0),r===n.length)break}n.readingMore=!1}S.prototype._read=function(W){throw new Wo("_read()")},S.prototype.pipe=function(W,n){let r=this,b=this._readableState;b.pipes.length===1&&(b.multiAwaitDrain||(b.multiAwaitDrain=!0,b.awaitDrainWriters=new Z(b.awaitDrainWriters?[b.awaitDrainWriters]:[]))),b.pipes.push(W),P("pipe count=%d opts=%j",b.pipes.length,n);let v=(!n||n.end!==!1)&&W!==i.stdout&&W!==i.stderr?F:A;b.endEmitted?i.nextTick(v):r.once("end",v),W.on("unpipe",M);function M(ro,vo){P("onunpipe"),ro===r&&vo&&vo.hasUnpiped===!1&&(vo.hasUnpiped=!0,j())}function F(){P("onend"),W.end()}let U,K=!1;function j(){P("cleanup"),W.removeListener("close",D),W.removeListener("finish",eo),U&&W.removeListener("drain",U),W.removeListener("error",H),W.removeListener("unpipe",M),r.removeListener("end",F),r.removeListener("end",A),r.removeListener("data",ao),K=!0,U&&b.awaitDrainWriters&&(!W._writableState||W._writableState.needDrain)&&U()}function J(){K||(b.pipes.length===1&&b.pipes[0]===W?(P("false write response, pause",0),b.awaitDrainWriters=W,b.multiAwaitDrain=!1):b.pipes.length>1&&b.pipes.includes(W)&&(P("false write response, pause",b.awaitDrainWriters.size),b.awaitDrainWriters.add(W)),r.pause()),U||(U=Lo(r,W),W.on("drain",U))}r.on("data",ao);function ao(ro){P("ondata");let vo=W.write(ro);P("dest.write",vo),vo===!1&&J()}function H(ro){if(P("onerror",ro),A(),W.removeListener("error",H),W.listenerCount("error")===0){let vo=W._writableState||W._readableState;vo&&!vo.errorEmitted?a(W,ro):W.emit("error",ro)}}O(W,"error",H);function D(){W.removeListener("finish",eo),A()}W.once("close",D);function eo(){P("onfinish"),W.removeListener("close",D),A()}W.once("finish",eo);function A(){P("unpipe"),r.unpipe(W)}return W.emit("pipe",r),W.writableNeedDrain===!0?b.flowing&&J():b.flowing||(P("pipe resume"),r.resume()),W};function Lo(W,n){return function(){let r=W._readableState;r.awaitDrainWriters===n?(P("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(P("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(n)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&W.listenerCount("data")&&W.resume()}}S.prototype.unpipe=function(W){let n=this._readableState,r={hasUnpiped:!1};if(n.pipes.length===0)return this;if(!W){let v=n.pipes;n.pipes=[],this.pause();for(let M=0;M<v.length;M++)v[M].emit("unpipe",this,{hasUnpiped:!1});return this}let b=R(n.pipes,W);return b===-1?this:(n.pipes.splice(b,1),n.pipes.length===0&&this.pause(),W.emit("unpipe",this,r),this)},S.prototype.on=function(W,n){let r=x.prototype.on.call(this,W,n),b=this._readableState;return W==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):W==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,P("on readable",b.length,b.reading),b.length?io(this):b.reading||i.nextTick(X,this)),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(W,n){let r=x.prototype.removeListener.call(this,W,n);return W==="readable"&&i.nextTick(G,this),r},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(W){let n=x.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&i.nextTick(G,this),n};function G(W){let n=W._readableState;n.readableListening=W.listenerCount("readable")>0,n.resumeScheduled&&n[p]===!1?n.flowing=!0:W.listenerCount("data")>0?W.resume():n.readableListening||(n.flowing=null)}function X(W){P("readable nexttick read 0"),W.read(0)}S.prototype.resume=function(){let W=this._readableState;return W.flowing||(P("resume"),W.flowing=!W.readableListening,Q(this,W)),W[p]=!1,this};function Q(W,n){n.resumeScheduled||(n.resumeScheduled=!0,i.nextTick($o,W,n))}function $o(W,n){P("resume",n.reading),n.reading||W.read(0),n.resumeScheduled=!1,W.emit("resume"),wo(W),n.flowing&&!n.reading&&W.read(0)}S.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[p]=!0,this};function wo(W){let n=W._readableState;for(P("flow",n.flowing);n.flowing&&W.read()!==null;);}S.prototype.wrap=function(W){let n=!1;W.on("data",(b)=>{!this.push(b)&&W.pause&&(n=!0,W.pause())}),W.on("end",()=>{this.push(null)}),W.on("error",(b)=>{a(this,b)}),W.on("close",()=>{this.destroy()}),W.on("destroy",()=>{this.destroy()}),this._read=()=>{n&&W.resume&&(n=!1,W.resume())};let r=L(W);for(let b=1;b<r.length;b++){let v=r[b];this[v]===void 0&&typeof W[v]=="function"&&(this[v]=W[v].bind(W))}return this},S.prototype[T]=function(){return Mo(this)},S.prototype.iterator=function(W){return W!==void 0&&s(W,"options"),Mo(this,W)};function Mo(W,n){typeof W.read!="function"&&(W=S.wrap(W,{objectMode:!0}));let r=Go(W,n);return r.stream=W,r}async function*Go(W,n){let r=t;function b(F){this===W?(r(),r=t):r=F}W.on("readable",b);let v,M=z(W,{writable:!1},(F)=>{v=F?To(v,F):null,r(),r=t});try{for(;;){let F=W.destroyed?null:W.read();if(F!==null)yield F;else{if(v)throw v;if(v===null)return;await new k(b)}}}catch(F){throw v=To(v,F),v}finally{(v||n?.destroyOnReturn!==!1)&&(v===void 0||W._readableState.autoDestroy)?B.destroyer(W,null):(W.off("readable",b),M())}}h(S.prototype,{readable:{__proto__:null,get(){let W=this._readableState;return!!W&&W.readable!==!1&&!W.destroyed&&!W.errorEmitted&&!W.endEmitted},set(W){this._readableState&&(this._readableState.readable=!!W)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(W){this._readableState&&(this._readableState.flowing=W)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(W){!this._readableState||(this._readableState.destroyed=W)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),h(m.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[p]!==!1},set(W){this[p]=!!W}}}),S._fromList=Xo;function Xo(W,n){if(n.length===0)return null;let r;return n.objectMode?r=n.buffer.shift():!W||W>=n.length?(n.decoder?r=n.buffer.join(""):n.buffer.length===1?r=n.buffer.first():r=n.buffer.concat(n.length),n.buffer.clear()):r=n.buffer.consume(W,n.decoder),r}function jo(W){let n=W._readableState;P("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,i.nextTick(Qo,n,W))}function Qo(W,n){if(P("endReadableNT",W.endEmitted,W.length),!W.errored&&!W.closeEmitted&&!W.endEmitted&&W.length===0){if(W.endEmitted=!0,n.emit("end"),n.writable&&n.allowHalfOpen===!1)i.nextTick(Jo,n);else if(W.autoDestroy){let r=n._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&n.destroy()}}}function Jo(W){W.writable&&!W.writableEnded&&!W.destroyed&&W.end()}S.from=function(W,n){return N(S,W,n)};var So;function ba(){return So===void 0&&(So={}),So}S.fromWeb=function(W,n){return ba().newStreamReadableFromReadableStream(W,n)},S.toWeb=function(W,n){return ba().newReadableStreamFromStreamReadable(W,n)},S.wrap=function(W,n){var r,b;return new S({objectMode:(r=(b=W.readableObjectMode)!==null&&b!==void 0?b:W.objectMode)!==null&&r!==void 0?r:!0,...n,destroy(v,M){B.destroyer(W,v),M(v)}}).wrap(W)}}),Yl=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{ArrayPrototypeSlice:R,Error:f,FunctionPrototypeSymbolHasInstance:q,ObjectDefineProperty:u,ObjectDefineProperties:h,ObjectSetPrototypeOf:L,StringPrototypeToLowerCase:y,Symbol:k,SymbolHasInstance:Z}=Ma();d.exports=_,_.WritableState=s;var{EventEmitter:T}=Mn(),V=js().Stream,{Buffer:$}=Fa(),x=Qn(),{addAbortSignal:O}=Js(),{getHighWaterMark:g,getDefaultHighWaterMark:E}=Ks(),{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_MULTIPLE_CALLBACK:Y,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:uo,ERR_STREAM_ALREADY_FINISHED:to,ERR_STREAM_NULL_VALUES:To,ERR_STREAM_WRITE_AFTER_END:co,ERR_UNKNOWN_ENCODING:Wo}=Xa().codes,{errorOrDestroy:o}=x;L(_.prototype,V.prototype),L(_,V);function e(){}var c=k("kOnFinished");function s(X,Q,$o){typeof $o!="boolean"&&($o=Q instanceof rn()),this.objectMode=!!(X&&X.objectMode),$o&&(this.objectMode=this.objectMode||!!(X&&X.writableObjectMode)),this.highWaterMark=X?g(this,X,"writableHighWaterMark",$o):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let wo=!!(X&&X.decodeStrings===!1);this.decodeStrings=!wo,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,Q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!X||X.emitClose!==!1,this.autoDestroy=!X||X.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[c]=[]}function p(X){X.buffered=[],X.bufferedIndex=0,X.allBuffers=!0,X.allNoop=!0}s.prototype.getBuffer=function(){return R(this.buffered,this.bufferedIndex)},u(s.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _(X){let Q=this instanceof rn();if(!Q&&!q(_,this))return new _(X);this._writableState=new s(X,this,Q),X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final),typeof X.construct=="function"&&(this._construct=X.construct),X.signal&&O(X.signal,this)),V.call(this,X),x.construct(this,()=>{let $o=this._writableState;$o.writing||Ro(this,$o),ho(this,$o)})}u(_,Z,{__proto__:null,value:function(X){return q(this,X)?!0:this!==_?!1:X&&X._writableState instanceof s}}),_.prototype.pipe=function(){o(this,new B)};function N(X,Q,$o,wo){let Mo=X._writableState;if(typeof $o=="function")wo=$o,$o=Mo.defaultEncoding;else{if(!$o)$o=Mo.defaultEncoding;else if($o!=="buffer"&&!$.isEncoding($o))throw new Wo($o);typeof wo!="function"&&(wo=e)}if(Q===null)throw new To;if(!Mo.objectMode)if(typeof Q=="string")Mo.decodeStrings!==!1&&(Q=$.from(Q,$o),$o="buffer");else if(Q instanceof $)$o="buffer";else if(V._isUint8Array(Q))Q=V._uint8ArrayToBuffer(Q),$o="buffer";else throw new z("chunk",["string","Buffer","Uint8Array"],Q);let Go;return Mo.ending?Go=new co:Mo.destroyed&&(Go=new uo("write")),Go?(i.nextTick(wo,Go),o(X,Go,!0),Go):(Mo.pendingcb++,t(X,Mo,Q,$o,wo))}_.prototype.write=function(X,Q,$o){return N(this,X,Q,$o)===!0},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){let X=this._writableState;X.corked&&(X.corked--,X.writing||Ro(this,X))},_.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=y(X)),!$.isEncoding(X))throw new Wo(X);return this._writableState.defaultEncoding=X,this};function t(X,Q,$o,wo,Mo){let Go=Q.objectMode?1:$o.length;Q.length+=Go;let Xo=Q.length<Q.highWaterMark;return Xo||(Q.needDrain=!0),Q.writing||Q.corked||Q.errored||!Q.constructed?(Q.buffered.push({chunk:$o,encoding:wo,callback:Mo}),Q.allBuffers&&wo!=="buffer"&&(Q.allBuffers=!1),Q.allNoop&&Mo!==e&&(Q.allNoop=!1)):(Q.writelen=Go,Q.writecb=Mo,Q.writing=!0,Q.sync=!0,X._write($o,wo,Q.onwrite),Q.sync=!1),Xo&&!Q.errored&&!Q.destroyed}function a(X,Q,$o,wo,Mo,Go,Xo){Q.writelen=wo,Q.writecb=Xo,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new uo("write")):$o?X._writev(Mo,Q.onwrite):X._write(Mo,Go,Q.onwrite),Q.sync=!1}function m(X,Q,$o,wo){--Q.pendingcb,wo($o),fo(Q),o(X,$o)}function S(X,Q){let $o=X._writableState,wo=$o.sync,Mo=$o.writecb;if(typeof Mo!="function"){o(X,new Y);return}$o.writing=!1,$o.writecb=null,$o.length-=$o.writelen,$o.writelen=0,Q?(Q.stack,$o.errored||($o.errored=Q),X._readableState&&!X._readableState.errored&&(X._readableState.errored=Q),wo?i.nextTick(m,X,$o,Q,Mo):m(X,$o,Q,Mo)):($o.buffered.length>$o.bufferedIndex&&Ro(X,$o),wo?$o.afterWriteTickInfo!==null&&$o.afterWriteTickInfo.cb===Mo?$o.afterWriteTickInfo.count++:($o.afterWriteTickInfo={count:1,cb:Mo,stream:X,state:$o},i.nextTick(w,$o.afterWriteTickInfo)):I(X,$o,1,Mo))}function w({stream:X,state:Q,count:$o,cb:wo}){return Q.afterWriteTickInfo=null,I(X,Q,$o,wo)}function I(X,Q,$o,wo){for(!Q.ending&&!X.destroyed&&Q.length===0&&Q.needDrain&&(Q.needDrain=!1,X.emit("drain"));$o-- >0;)Q.pendingcb--,wo();Q.destroyed&&fo(Q),ho(X,Q)}function fo(X){if(X.writing)return;for(let Mo=X.bufferedIndex;Mo<X.buffered.length;++Mo){var Q;let{chunk:Go,callback:Xo}=X.buffered[Mo],jo=X.objectMode?1:Go.length;X.length-=jo,Xo((Q=X.errored)!==null&&Q!==void 0?Q:new uo("write"))}let $o=X[c].splice(0);for(let Mo=0;Mo<$o.length;Mo++){var wo;$o[Mo]((wo=X.errored)!==null&&wo!==void 0?wo:new uo("end"))}p(X)}function Ro(X,Q){if(Q.corked||Q.bufferProcessing||Q.destroyed||!Q.constructed)return;let{buffered:$o,bufferedIndex:wo,objectMode:Mo}=Q,Go=$o.length-wo;if(!Go)return;let Xo=wo;if(Q.bufferProcessing=!0,Go>1&&X._writev){Q.pendingcb-=Go-1;let jo=Q.allNoop?e:(Jo)=>{for(let So=Xo;So<$o.length;++So)$o[So].callback(Jo)},Qo=Q.allNoop&&Xo===0?$o:R($o,Xo);Qo.allBuffers=Q.allBuffers,a(X,Q,!0,Q.length,Qo,"",jo),p(Q)}else{do{let{chunk:jo,encoding:Qo,callback:Jo}=$o[Xo];$o[Xo++]=null;let So=Mo?1:jo.length;a(X,Q,!1,So,jo,Qo,Jo)}while(Xo<$o.length&&!Q.writing);Xo===$o.length?p(Q):Xo>256?($o.splice(0,Xo),Q.bufferedIndex=0):Q.bufferedIndex=Xo}Q.bufferProcessing=!1}_.prototype._write=function(X,Q,$o){if(this._writev)this._writev([{chunk:X,encoding:Q}],$o);else throw new P("_write()")},_.prototype._writev=null,_.prototype.end=function(X,Q,$o){let wo=this._writableState;typeof X=="function"?($o=X,X=null,Q=null):typeof Q=="function"&&($o=Q,Q=null);let Mo;if(X!=null){let Go=N(this,X,Q);Go instanceof f&&(Mo=Go)}return wo.corked&&(wo.corked=1,this.uncork()),Mo||(!wo.errored&&!wo.ending?(wo.ending=!0,ho(this,wo,!0),wo.ended=!0):wo.finished?Mo=new to("end"):wo.destroyed&&(Mo=new uo("end"))),typeof $o=="function"&&(Mo||wo.finished?i.nextTick($o,Mo):wo[c].push($o)),this};function qo(X){return X.ending&&!X.destroyed&&X.constructed&&X.length===0&&!X.errored&&X.buffered.length===0&&!X.finished&&!X.writing&&!X.errorEmitted&&!X.closeEmitted}function po(X,Q){let $o=!1;function wo(Mo){if($o){o(X,Mo??Y());return}if($o=!0,Q.pendingcb--,Mo){let Go=Q[c].splice(0);for(let Xo=0;Xo<Go.length;Xo++)Go[Xo](Mo);o(X,Mo,Q.sync)}else qo(Q)&&(Q.prefinished=!0,X.emit("prefinish"),Q.pendingcb++,i.nextTick(Eo,X,Q))}Q.sync=!0,Q.pendingcb++;try{X._final(wo)}catch(Mo){wo(Mo)}Q.sync=!1}function io(X,Q){!Q.prefinished&&!Q.finalCalled&&(typeof X._final=="function"&&!Q.destroyed?(Q.finalCalled=!0,po(X,Q)):(Q.prefinished=!0,X.emit("prefinish")))}function ho(X,Q,$o){qo(Q)&&(io(X,Q),Q.pendingcb===0&&($o?(Q.pendingcb++,i.nextTick((wo,Mo)=>{qo(Mo)?Eo(wo,Mo):Mo.pendingcb--},X,Q)):qo(Q)&&(Q.pendingcb++,Eo(X,Q))))}function Eo(X,Q){Q.pendingcb--,Q.finished=!0;let $o=Q[c].splice(0);for(let wo=0;wo<$o.length;wo++)$o[wo]();if(X.emit("finish"),Q.autoDestroy){let wo=X._readableState;(!wo||wo.autoDestroy&&(wo.endEmitted||wo.readable===!1))&&X.destroy()}}h(_.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(X){this._writableState&&(this._writableState.destroyed=X)}},writable:{__proto__:null,get(){let X=this._writableState;return!!X&&X.writable!==!1&&!X.destroyed&&!X.errored&&!X.ending&&!X.ended},set(X){this._writableState&&(this._writableState.writable=!!X)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let X=this._writableState;return X?!X.destroyed&&!X.ending&&X.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var xo=x.destroy;_.prototype.destroy=function(X,Q){let $o=this._writableState;return!$o.destroyed&&($o.bufferedIndex<$o.buffered.length||$o[c].length)&&i.nextTick(fo,$o),xo.call(this,X,Q),this},_.prototype._undestroy=x.undestroy,_.prototype._destroy=function(X,Q){Q(X)},_.prototype[T.captureRejectionSymbol]=function(X){this.destroy(X)};var Lo;function G(){return Lo===void 0&&(Lo={}),Lo}_.fromWeb=function(X,Q){return G().newStreamWritableFromWritableStream(X,Q)},_.toWeb=function(X){return G().newWritableStreamFromStreamWritable(X)}}),_c=Uo((l,d)=>{var i=(Vn(),Ya(ln)),R=Fa(),{isReadable:f,isWritable:q,isIterable:u,isNodeStream:h,isReadableNodeStream:L,isWritableNodeStream:y,isDuplexNodeStream:k}=Ln(),Z=Wn(),{AbortError:T,codes:{ERR_INVALID_ARG_TYPE:V,ERR_INVALID_RETURN_VALUE:$}}=Xa(),{destroyer:x}=Qn(),O=rn(),g=He(),{createDeferredPromise:E}=sn(),z=Hl(),P=globalThis.Blob||R.Blob,Y=typeof P<"u"?function(Wo){return Wo instanceof P}:function(Wo){return!1},B=globalThis.AbortController||Es().AbortController,{FunctionPrototypeCall:uo}=Ma(),to=class extends O{constructor(Wo){super(Wo),Wo?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Wo?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};d.exports=function Wo(o,e){if(k(o))return o;if(L(o))return co({readable:o});if(y(o))return co({writable:o});if(h(o))return co({writable:!1,readable:!1});if(typeof o=="function"){let{value:s,write:p,final:_,destroy:N}=To(o);if(u(s))return z(to,s,{objectMode:!0,write:p,final:_,destroy:N});let t=s?.then;if(typeof t=="function"){let a,m=uo(t,s,(S)=>{if(S!=null)throw new $("nully","body",S)},(S)=>{x(a,S)});return a=new to({objectMode:!0,readable:!1,write:p,final(S){_(async()=>{try{await m,i.nextTick(S,null)}catch(w){i.nextTick(S,w)}})},destroy:N})}throw new $("Iterable, AsyncIterable or AsyncFunction",e,s)}if(Y(o))return Wo(o.arrayBuffer());if(u(o))return z(to,o,{objectMode:!0,writable:!1});if(typeof o?.writable=="object"||typeof o?.readable=="object"){let s=o!=null&&o.readable?L(o?.readable)?o?.readable:Wo(o.readable):void 0,p=o!=null&&o.writable?y(o?.writable)?o?.writable:Wo(o.writable):void 0;return co({readable:s,writable:p})}let c=o?.then;if(typeof c=="function"){let s;return uo(c,o,(p)=>{p!=null&&s.push(p),s.push(null)},(p)=>{x(s,p)}),s=new to({objectMode:!0,writable:!1,read(){}})}throw new V(e,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],o)};function To(Wo){let{promise:o,resolve:e}=E(),c=new B,s=c.signal;return{value:Wo(async function*(){for(;;){let p=o;o=null;let{chunk:_,done:N,cb:t}=await p;if(i.nextTick(t),N)return;if(s.aborted)throw new T(void 0,{cause:s.reason});({promise:o,resolve:e}=E()),yield _}}(),{signal:s}),write(p,_,N){let t=e;e=null,t({chunk:p,done:!1,cb:N})},final(p){let _=e;e=null,_({done:!0,cb:p})},destroy(p,_){c.abort(),_(p)}}}function co(Wo){let o=Wo.readable&&typeof Wo.readable.read!="function"?g.wrap(Wo.readable):Wo.readable,e=Wo.writable,c=!!f(o),s=!!q(e),p,_,N,t,a;function m(S){let w=t;t=null,w?w(S):S?a.destroy(S):!c&&!s&&a.destroy()}return a=new to({readableObjectMode:!!(o!=null&&o.readableObjectMode),writableObjectMode:!!(e!=null&&e.writableObjectMode),readable:c,writable:s}),s&&(Z(e,(S)=>{s=!1,S&&x(o,S),m(S)}),a._write=function(S,w,I){e.write(S,w)?I():p=I},a._final=function(S){e.end(),_=S},e.on("drain",function(){if(p){let S=p;p=null,S()}}),e.on("finish",function(){if(_){let S=_;_=null,S()}})),c&&(Z(o,(S)=>{c=!1,S&&x(o,S),m(S)}),o.on("readable",function(){if(N){let S=N;N=null,S()}}),o.on("end",function(){a.push(null)}),a._read=function(){for(;;){let S=o.read();if(S===null){N=a._read;return}if(!a.push(S))return}}),a._destroy=function(S,w){!S&&t!==null&&(S=new T),N=null,p=null,_=null,t===null?w(S):(t=w,x(e,S),x(o,S))},a}}),rn=Uo((l,d)=>{var{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:R,ObjectKeys:f,ObjectSetPrototypeOf:q}=Ma();d.exports=L;var u=He(),h=Yl();q(L.prototype,u.prototype),q(L,u);{let T=f(h.prototype);for(let V=0;V<T.length;V++){let $=T[V];L.prototype[$]||(L.prototype[$]=h.prototype[$])}}function L(T){if(!(this instanceof L))return new L(T);u.call(this,T),h.call(this,T),T?(this.allowHalfOpen=T.allowHalfOpen!==!1,T.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),T.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}i(L.prototype,{writable:{__proto__:null,...R(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...R(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...R(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...R(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...R(h.prototype,"writableLength")},writableFinished:{__proto__:null,...R(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...R(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...R(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...R(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(T){this._readableState&&this._writableState&&(this._readableState.destroyed=T,this._writableState.destroyed=T)}}});var y;function k(){return y===void 0&&(y={}),y}L.fromWeb=function(T,V){return k().newStreamDuplexFromReadableWritablePair(T,V)},L.toWeb=function(T){return k().newReadableWritablePairFromDuplex(T)};var Z;L.from=function(T){return Z||(Z=_c()),Z(T,"body")}}),Bl=Uo((l,d)=>{var{ObjectSetPrototypeOf:i,Symbol:R}=Ma();d.exports=L;var{ERR_METHOD_NOT_IMPLEMENTED:f}=Xa().codes,q=rn(),{getHighWaterMark:u}=Ks();i(L.prototype,q.prototype),i(L,q);var h=R("kCallback");function L(Z){if(!(this instanceof L))return new L(Z);let T=Z?u(this,Z,"readableHighWaterMark",!0):null;T===0&&(Z={...Z,highWaterMark:null,readableHighWaterMark:T,writableHighWaterMark:Z.writableHighWaterMark||0}),q.call(this,Z),this._readableState.sync=!1,this[h]=null,Z&&(typeof Z.transform=="function"&&(this._transform=Z.transform),typeof Z.flush=="function"&&(this._flush=Z.flush)),this.on("prefinish",k)}function y(Z){typeof this._flush=="function"&&!this.destroyed?this._flush((T,V)=>{if(T){Z?Z(T):this.destroy(T);return}V!=null&&this.push(V),this.push(null),Z&&Z()}):(this.push(null),Z&&Z())}function k(){this._final!==y&&y.call(this)}L.prototype._final=y,L.prototype._transform=function(Z,T,V){throw new f("_transform()")},L.prototype._write=function(Z,T,V){let $=this._readableState,x=this._writableState,O=$.length;this._transform(Z,T,(g,E)=>{if(g){V(g);return}E!=null&&this.push(E),x.ended||O===$.length||$.length<$.highWaterMark?V():this[h]=V})},L.prototype._read=function(){if(this[h]){let Z=this[h];this[h]=null,Z()}}}),Cl=Uo((l,d)=>{var{ObjectSetPrototypeOf:i}=Ma();d.exports=f;var R=Bl();i(f.prototype,R.prototype),i(f,R);function f(q){if(!(this instanceof f))return new f(q);R.call(this,q)}f.prototype._transform=function(q,u,h){h(null,q)}}),Ps=Uo((l,d)=>{var i=(Vn(),Ya(ln)),{ArrayIsArray:R,Promise:f,SymbolAsyncIterator:q}=Ma(),u=Wn(),{once:h}=sn(),L=Qn(),y=rn(),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:T,ERR_MISSING_ARGS:V,ERR_STREAM_DESTROYED:$,ERR_STREAM_PREMATURE_CLOSE:x},AbortError:O}=Xa(),{validateFunction:g,validateAbortSignal:E}=De(),{isIterable:z,isReadable:P,isReadableNodeStream:Y,isNodeStream:B}=Ln(),uo=globalThis.AbortController||Es().AbortController,to,To;function co(N,t,a){let m=!1;N.on("close",()=>{m=!0});let S=u(N,{readable:t,writable:a},(w)=>{m=!w});return{destroy:(w)=>{m||(m=!0,L.destroyer(N,w||new $("pipe")))},cleanup:S}}function Wo(N){return g(N[N.length-1],"streams[stream.length - 1]"),N.pop()}function o(N){if(z(N))return N;if(Y(N))return e(N);throw new Z("val",["Readable","Iterable","AsyncIterable"],N)}async function*e(N){To||(To=He()),yield*To.prototype[q].call(N)}async function c(N,t,a,{end:m}){let S,w=null,I=(qo)=>{if(qo&&(S=qo),w){let po=w;w=null,po()}},fo=()=>new f((qo,po)=>{S?po(S):w=()=>{S?po(S):qo()}});t.on("drain",I);let Ro=u(t,{readable:!1},I);try{t.writableNeedDrain&&await fo();for await(let qo of N)t.write(qo)||await fo();m&&t.end(),await fo(),a()}catch(qo){a(S!==qo?k(S,qo):qo)}finally{Ro(),t.off("drain",I)}}function s(...N){return p(N,h(Wo(N)))}function p(N,t,a){if(N.length===1&&R(N[0])&&(N=N[0]),N.length<2)throw new V("streams");let m=new uo,S=m.signal,w=a?.signal,I=[];E(w,"options.signal");function fo(){Eo(new O)}w?.addEventListener("abort",fo);let Ro,qo,po=[],io=0;function ho(X){Eo(X,--io===0)}function Eo(X,Q){if(X&&(!Ro||Ro.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Ro=X),!(!Ro&&!Q)){for(;po.length;)po.shift()(Ro);w?.removeEventListener("abort",fo),m.abort(),Q&&(Ro||I.forEach(($o)=>$o()),i.nextTick(t,Ro,qo))}}let xo;for(let X=0;X<N.length;X++){let Q=N[X],$o=X<N.length-1,wo=X>0,Mo=$o||a?.end!==!1,Go=X===N.length-1;if(B(Q)){let Xo=function(jo){jo&&jo.name!=="AbortError"&&jo.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ho(jo)};var Lo=Xo;if(Mo){let{destroy:jo,cleanup:Qo}=co(Q,$o,wo);po.push(jo),P(Q)&&Go&&I.push(Qo)}Q.on("error",Xo),P(Q)&&Go&&I.push(()=>{Q.removeListener("error",Xo)})}if(X===0)if(typeof Q=="function"){if(xo=Q({signal:S}),!z(xo))throw new T("Iterable, AsyncIterable or Stream","source",xo)}else z(Q)||Y(Q)?xo=Q:xo=y.from(Q);else if(typeof Q=="function")if(xo=o(xo),xo=Q(xo,{signal:S}),$o){if(!z(xo,!0))throw new T("AsyncIterable",`transform[${X-1}]`,xo)}else{var G;to||(to=Cl());let Xo=new to({objectMode:!0}),jo=(G=xo)===null||G===void 0?void 0:G.then;if(typeof jo=="function")io++,jo.call(xo,(So)=>{qo=So,So!=null&&Xo.write(So),Mo&&Xo.end(),i.nextTick(ho)},(So)=>{Xo.destroy(So),i.nextTick(ho,So)});else if(z(xo,!0))io++,c(xo,Xo,ho,{end:Mo});else throw new T("AsyncIterable or Promise","destination",xo);xo=Xo;let{destroy:Qo,cleanup:Jo}=co(xo,!1,!0);po.push(Qo),Go&&I.push(Jo)}else if(B(Q)){if(Y(xo)){io+=2;let Xo=_(xo,Q,ho,{end:Mo});P(Q)&&Go&&I.push(Xo)}else if(z(xo))io++,c(xo,Q,ho,{end:Mo});else throw new Z("val",["Readable","Iterable","AsyncIterable"],xo);xo=Q}else xo=y.from(Q)}return(S!=null&&S.aborted||w!=null&&w.aborted)&&i.nextTick(fo),xo}function _(N,t,a,{end:m}){let S=!1;return t.on("close",()=>{S||a(new x)}),N.pipe(t,{end:m}),m?N.once("end",()=>{S=!0,t.end()}):a(),u(N,{readable:!0,writable:!1},(w)=>{let I=N._readableState;w&&w.code==="ERR_STREAM_PREMATURE_CLOSE"&&I&&I.ended&&!I.errored&&!I.errorEmitted?N.once("end",a).once("error",a):a(w)}),u(t,{readable:!1,writable:!0},a)}d.exports={pipelineImpl:p,pipeline:s}}),hc=Uo((l,d)=>{var{pipeline:i}=Ps(),R=rn(),{destroyer:f}=Qn(),{isNodeStream:q,isReadable:u,isWritable:h}=Ln(),{AbortError:L,codes:{ERR_INVALID_ARG_VALUE:y,ERR_MISSING_ARGS:k}}=Xa();d.exports=function(...Z){if(Z.length===0)throw new k("streams");if(Z.length===1)return R.from(Z[0]);let T=[...Z];if(typeof Z[0]=="function"&&(Z[0]=R.from(Z[0])),typeof Z[Z.length-1]=="function"){let uo=Z.length-1;Z[uo]=R.from(Z[uo])}for(let uo=0;uo<Z.length;++uo)if(q(Z[uo])){if(uo<Z.length-1&&!u(Z[uo]))throw new y(`streams[${uo}]`,T[uo],"must be readable");if(uo>0&&!h(Z[uo]))throw new y(`streams[${uo}]`,T[uo],"must be writable")}let V,$,x,O,g;function E(uo){let to=O;O=null,to?to(uo):uo?g.destroy(uo):!B&&!Y&&g.destroy()}let z=Z[0],P=i(Z,E),Y=!!h(z),B=!!u(P);return g=new R({writableObjectMode:!!(z!=null&&z.writableObjectMode),readableObjectMode:!!(P!=null&&P.writableObjectMode),writable:Y,readable:B}),Y&&(g._write=function(uo,to,To){z.write(uo,to)?To():V=To},g._final=function(uo){z.end(),$=uo},z.on("drain",function(){if(V){let uo=V;V=null,uo()}}),P.on("finish",function(){if($){let uo=$;$=null,uo()}})),B&&(P.on("readable",function(){if(x){let uo=x;x=null,uo()}}),P.on("end",function(){g.push(null)}),g._read=function(){for(;;){let uo=P.read();if(uo===null){x=g._read;return}if(!g.push(uo))return}}),g._destroy=function(uo,to){!uo&&O!==null&&(uo=new L),x=null,V=null,$=null,O===null?to(uo):(O=to,f(P,uo))},g}}),Ql=Uo((l,d)=>{var{ArrayPrototypePop:i,Promise:R}=Ma(),{isIterable:f,isNodeStream:q}=Ln(),{pipelineImpl:u}=Ps(),{finished:h}=Wn();function L(...y){return new R((k,Z)=>{let T,V,$=y[y.length-1];if($&&typeof $=="object"&&!q($)&&!f($)){let x=i(y);T=x.signal,V=x.end}u(y,(x,O)=>{x?Z(x):k(O)},{signal:T,end:V})})}d.exports={finished:h,pipeline:L}}),Nc=Uo((l,d)=>{var{Buffer:i}=Fa(),{ObjectDefineProperty:R,ObjectKeys:f,ReflectApply:q}=Ma(),{promisify:{custom:u}}=sn(),{streamReturningOperators:h,promiseReturningOperators:L}=bc(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:y}}=Xa(),k=hc(),{pipeline:Z}=Ps(),{destroyer:T}=Qn(),V=Wn(),$=Ql(),x=Ln(),O=d.exports=js().Stream;O.isDisturbed=x.isDisturbed,O.isErrored=x.isErrored,O.isReadable=x.isReadable,O.Readable=He();for(let z of f(h)){let P=function(...B){if(new.target)throw y();return O.Readable.from(q(Y,this,B))};g=P;let Y=h[z];R(P,"name",{__proto__:null,value:Y.name}),R(P,"length",{__proto__:null,value:Y.length}),R(O.Readable.prototype,z,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}var g;for(let z of f(L)){let P=function(...B){if(new.target)throw y();return q(Y,this,B)};g=P;let Y=L[z];R(P,"name",{__proto__:null,value:Y.name}),R(P,"length",{__proto__:null,value:Y.length}),R(O.Readable.prototype,z,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}var g;O.Writable=Yl(),O.Duplex=rn(),O.Transform=Bl(),O.PassThrough=Cl(),O.pipeline=Z;var{addAbortSignal:E}=Js();O.addAbortSignal=E,O.finished=V,O.destroy=T,O.compose=k,R(O,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return $}}),R(Z,u,{__proto__:null,enumerable:!0,get(){return $.pipeline}}),R(V,u,{__proto__:null,enumerable:!0,get(){return $.finished}}),O.Stream=O,O._isUint8Array=function(z){return z instanceof Uint8Array},O._uint8ArrayToBuffer=function(z){return i.from(z.buffer,z.byteOffset,z.byteLength)}}),Al=Uo((l,d)=>{var i=Nc(),R=Ql(),f=i.Readable.destroy;d.exports=i.Readable,d.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,d.exports._isUint8Array=i._isUint8Array,d.exports.isDisturbed=i.isDisturbed,d.exports.isErrored=i.isErrored,d.exports.isReadable=i.isReadable,d.exports.Readable=i.Readable,d.exports.Writable=i.Writable,d.exports.Duplex=i.Duplex,d.exports.Transform=i.Transform,d.exports.PassThrough=i.PassThrough,d.exports.addAbortSignal=i.addAbortSignal,d.exports.finished=i.finished,d.exports.destroy=i.destroy,d.exports.destroy=f,d.exports.pipeline=i.pipeline,d.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get(){return R}}),d.exports.Stream=i.Stream,d.exports.default=d.exports}),Is={},Os(Is,{default:()=>vc}),Rc=Ol(()=>{zl(Is,Dn(Al())),vc=Dn(Al())}),hn=Uo((l,d)=>{var i=ha().Buffer,R=(Rc(),Ya(Is)).Transform,f=zs().StringDecoder,q=da();function u(h){R.call(this),this.hashMode=typeof h=="string",this.hashMode?this[h]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}q(u,R),u.prototype.update=function(h,L,y){typeof h=="string"&&(h=i.from(h,L));var k=this._update(h);return this.hashMode?this:(y&&(k=this._toString(k,y)),k)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(h,L,y){var k;try{this.hashMode?this._update(h):this.push(this._update(h))}catch(Z){k=Z}finally{y(k)}},u.prototype._flush=function(h){var L;try{this.push(this.__final())}catch(y){L=y}h(L)},u.prototype._finalOrDigest=function(h){var L=this.__final()||i.alloc(0);return h&&(L=this._toString(L,h,!0)),L},u.prototype._toString=function(h,L,y){if(this._decoder||(this._decoder=new f(L),this._encoding=L),this._encoding!==L)throw new Error("can't switch encodings");var k=this._decoder.write(h);return y&&(k+=this._decoder.end()),k},d.exports=u}),fe=Uo((l,d)=>{var i=da(),R=Xs(),f=gs(),q=Us(),u=hn();function h(L){u.call(this,"digest"),this._hash=L}i(h,u),h.prototype._update=function(L){this._hash.update(L)},h.prototype._final=function(){return this._hash.digest()},d.exports=function(L){return L=L.toLowerCase(),L==="md5"?new R:L==="rmd160"||L==="ripemd160"?new f:new h(q(L))}}),Zc=Uo((l,d)=>{var i=da(),R=ha().Buffer,f=hn(),q=R.alloc(128),u=64;function h(L,y){f.call(this,"digest"),typeof y=="string"&&(y=R.from(y)),this._alg=L,this._key=y,y.length>u?y=L(y):y.length<u&&(y=R.concat([y,q],u));for(var k=this._ipad=R.allocUnsafe(u),Z=this._opad=R.allocUnsafe(u),T=0;T<u;T++)k[T]=y[T]^54,Z[T]=y[T]^92;this._hash=[k]}i(h,f),h.prototype._update=function(L){this._hash.push(L)},h.prototype._final=function(){var L=this._alg(R.concat(this._hash));return this._alg(R.concat([this._opad,L]))},d.exports=h}),or=Uo((l,d)=>{var i=Xs();d.exports=function(R){return new i().update(R).digest()}}),ar=Uo((l,d)=>{var i=da(),R=Zc(),f=hn(),q=ha().Buffer,u=or(),h=gs(),L=Us(),y=q.alloc(128);function k(Z,T){f.call(this,"digest"),typeof T=="string"&&(T=q.from(T));var V=Z==="sha512"||Z==="sha384"?128:64;if(this._alg=Z,this._key=T,T.length>V){var $=Z==="rmd160"?new h:L(Z);T=$.update(T).digest()}else T.length<V&&(T=q.concat([T,y],V));for(var x=this._ipad=q.allocUnsafe(V),O=this._opad=q.allocUnsafe(V),g=0;g<V;g++)x[g]=T[g]^54,O[g]=T[g]^92;this._hash=Z==="rmd160"?new h:L(Z),this._hash.update(x)}i(k,f),k.prototype._update=function(Z){this._hash.update(Z)},k.prototype._final=function(){var Z=this._hash.digest(),T=this._alg==="rmd160"?new h:L(this._alg);return T.update(this._opad).update(Z).digest()},d.exports=function(Z,T){return Z=Z.toLowerCase(),Z==="rmd160"||Z==="ripemd160"?new k("rmd160",T):Z==="md5"?new R(u,T):new k(Z,T)}}),nr=Uo((l,d)=>{d.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),yc=Uo((l,d)=>{d.exports=nr()}),er=Uo((l,d)=>{var i=Math.pow(2,30)-1;d.exports=function(R,f){if(typeof R!="number")throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if(typeof f!="number")throw new TypeError("Key length not a number");if(f<0||f>i||f!==f)throw new TypeError("Bad key length")}}),sr=Uo((l,d)=>{var i;global.process&&global.process.browser?i="utf-8":global.process&&global.process.version?(R=parseInt(process.version.split(".")[0].slice(1),10),i=R>=6?"utf-8":"binary"):i="utf-8";var R;d.exports=i}),lr=Uo((l,d)=>{var i=ha().Buffer;d.exports=function(R,f,q){if(i.isBuffer(R))return R;if(typeof R=="string")return i.from(R,f);if(ArrayBuffer.isView(R))return i.from(R.buffer);throw new TypeError(q+" must be a string, a Buffer, a typed array or a DataView")}}),rr=Uo((l,d)=>{var i=or(),R=gs(),f=Us(),q=ha().Buffer,u=er(),h=sr(),L=lr(),y=q.alloc(128),k={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Z($,x,O){var g=T($),E=$==="sha512"||$==="sha384"?128:64;x.length>E?x=g(x):x.length<E&&(x=q.concat([x,y],E));for(var z=q.allocUnsafe(E+k[$]),P=q.allocUnsafe(E+k[$]),Y=0;Y<E;Y++)z[Y]=x[Y]^54,P[Y]=x[Y]^92;var B=q.allocUnsafe(E+O+4);z.copy(B,0,0,E),this.ipad1=B,this.ipad2=z,this.opad=P,this.alg=$,this.blocksize=E,this.hash=g,this.size=k[$]}Z.prototype.run=function($,x){$.copy(x,this.blocksize);var O=this.hash(x);return O.copy(this.opad,this.blocksize),this.hash(this.opad)};function T($){function x(g){return f($).update(g).digest()}function O(g){return new R().update(g).digest()}return $==="rmd160"||$==="ripemd160"?O:$==="md5"?i:x}function V($,x,O,g,E){u(O,g),$=L($,h,"Password"),x=L(x,h,"Salt"),E=E||"sha1";var z=new Z(E,$,x.length),P=q.allocUnsafe(g),Y=q.allocUnsafe(x.length+4);x.copy(Y,0,0,x.length);for(var B=0,uo=k[E],to=Math.ceil(g/uo),To=1;To<=to;To++){Y.writeUInt32BE(To,x.length);for(var co=z.run(Y,z.ipad1),Wo=co,o=1;o<O;o++){Wo=z.run(Wo,z.ipad2);for(var e=0;e<uo;e++)co[e]^=Wo[e]}co.copy(P,B),B+=uo}return P}d.exports=V}),kc=Uo((l,d)=>{var i=ha().Buffer,R=er(),f=sr(),q=rr(),u=lr(),h,L=global.crypto&&global.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},k=[];function Z(O){if(global.process&&!global.process.browser||!L||!L.importKey||!L.deriveBits)return Promise.resolve(!1);if(k[O]!==void 0)return k[O];h=h||i.alloc(8);var g=$(h,h,10,128,O).then(function(){return!0}).catch(function(){return!1});return k[O]=g,g}var T;function V(){return T||(global.process&&global.process.nextTick?T=global.process.nextTick:global.queueMicrotask?T=global.queueMicrotask:global.setImmediate?T=global.setImmediate:T=global.setTimeout,T)}function $(O,g,E,z,P){return L.importKey("raw",O,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Y){return L.deriveBits({name:"PBKDF2",salt:g,iterations:E,hash:{name:P}},Y,z<<3)}).then(function(Y){return i.from(Y)})}function x(O,g){O.then(function(E){V()(function(){g(null,E)})},function(E){V()(function(){g(E)})})}d.exports=function(O,g,E,z,P,Y){typeof P=="function"&&(Y=P,P=void 0),P=P||"sha1";var B=y[P.toLowerCase()];if(!B||typeof global.Promise!="function"){V()(function(){var uo;try{uo=q(O,g,E,z,P)}catch(to){return Y(to)}Y(null,uo)});return}if(R(E,z),O=u(O,f,"Password"),g=u(g,f,"Salt"),typeof Y!="function")throw new Error("No callback provided to pbkdf2");x(Z(B).then(function(uo){return uo?$(O,g,E,z,B):q(O,g,E,z,P)}),Y)}}),ir=Uo((l)=>{l.pbkdf2=kc(),l.pbkdf2Sync=rr()}),cr=Uo((l)=>{l.readUInt32BE=function(f,q){var u=f[0+q]<<24|f[1+q]<<16|f[2+q]<<8|f[3+q];return u>>>0},l.writeUInt32BE=function(f,q,u){f[0+u]=q>>>24,f[1+u]=q>>>16&255,f[2+u]=q>>>8&255,f[3+u]=q&255},l.ip=function(f,q,u,h){for(var L=0,y=0,k=6;k>=0;k-=2){for(var Z=0;Z<=24;Z+=8)L<<=1,L|=q>>>Z+k&1;for(var Z=0;Z<=24;Z+=8)L<<=1,L|=f>>>Z+k&1}for(var k=6;k>=0;k-=2){for(var Z=1;Z<=25;Z+=8)y<<=1,y|=q>>>Z+k&1;for(var Z=1;Z<=25;Z+=8)y<<=1,y|=f>>>Z+k&1}u[h+0]=L>>>0,u[h+1]=y>>>0},l.rip=function(f,q,u,h){for(var L=0,y=0,k=0;k<4;k++)for(var Z=24;Z>=0;Z-=8)L<<=1,L|=q>>>Z+k&1,L<<=1,L|=f>>>Z+k&1;for(var k=4;k<8;k++)for(var Z=24;Z>=0;Z-=8)y<<=1,y|=q>>>Z+k&1,y<<=1,y|=f>>>Z+k&1;u[h+0]=L>>>0,u[h+1]=y>>>0},l.pc1=function(f,q,u,h){for(var L=0,y=0,k=7;k>=5;k--){for(var Z=0;Z<=24;Z+=8)L<<=1,L|=q>>Z+k&1;for(var Z=0;Z<=24;Z+=8)L<<=1,L|=f>>Z+k&1}for(var Z=0;Z<=24;Z+=8)L<<=1,L|=q>>Z+k&1;for(var k=1;k<=3;k++){for(var Z=0;Z<=24;Z+=8)y<<=1,y|=q>>Z+k&1;for(var Z=0;Z<=24;Z+=8)y<<=1,y|=f>>Z+k&1}for(var Z=0;Z<=24;Z+=8)y<<=1,y|=f>>Z+k&1;u[h+0]=L>>>0,u[h+1]=y>>>0},l.r28shl=function(f,q){return f<<q&268435455|f>>>28-q};var d=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(f,q,u,h){for(var L=0,y=0,k=d.length>>>1,Z=0;Z<k;Z++)L<<=1,L|=f>>>d[Z]&1;for(var Z=k;Z<d.length;Z++)y<<=1,y|=q>>>d[Z]&1;u[h+0]=L>>>0,u[h+1]=y>>>0},l.expand=function(f,q,u){var h=0,L=0;h=(f&1)<<5|f>>>27;for(var y=23;y>=15;y-=4)h<<=6,h|=f>>>y&63;for(var y=11;y>=3;y-=4)L|=f>>>y&63,L<<=6;L|=(f&31)<<1|f>>>31,q[u+0]=h>>>0,q[u+1]=L>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(f,q){for(var u=0,h=0;h<4;h++){var L=f>>>18-h*6&63,y=i[h*64+L];u<<=4,u|=y}for(var h=0;h<4;h++){var L=q>>>18-h*6&63,y=i[256+h*64+L];u<<=4,u|=y}return u>>>0};var R=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(f){for(var q=0,u=0;u<R.length;u++)q<<=1,q|=f>>>R[u]&1;return q>>>0},l.padSplit=function(f,q,u){for(var h=f.toString(2);h.length<q;)h="0"+h;for(var L=[],y=0;y<q;y+=u)L.push(h.slice(y,y+u));return L.join(" ")}}),Pa=Uo((l,d)=>{d.exports=i;function i(R,f){if(!R)throw new Error(f||"Assertion failed")}i.equal=function(R,f,q){if(R!=f)throw new Error(q||"Assertion failed: "+R+" != "+f)}}),Gs=Uo((l,d)=>{var i=Pa();function R(f){this.options=f,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}d.exports=R,R.prototype._init=function(){},R.prototype.update=function(f){return f.length===0?[]:this.type==="decrypt"?this._updateDecrypt(f):this._updateEncrypt(f)},R.prototype._buffer=function(f,q){for(var u=Math.min(this.buffer.length-this.bufferOff,f.length-q),h=0;h<u;h++)this.buffer[this.bufferOff+h]=f[q+h];return this.bufferOff+=u,u},R.prototype._flushBuffer=function(f,q){return this._update(this.buffer,0,f,q),this.bufferOff=0,this.blockSize},R.prototype._updateEncrypt=function(f){var q=0,u=0,h=(this.bufferOff+f.length)/this.blockSize|0,L=new Array(h*this.blockSize);this.bufferOff!==0&&(q+=this._buffer(f,q),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(L,u)));for(var y=f.length-(f.length-q)%this.blockSize;q<y;q+=this.blockSize)this._update(f,q,L,u),u+=this.blockSize;for(;q<f.length;q++,this.bufferOff++)this.buffer[this.bufferOff]=f[q];return L},R.prototype._updateDecrypt=function(f){for(var q=0,u=0,h=Math.ceil((this.bufferOff+f.length)/this.blockSize)-1,L=new Array(h*this.blockSize);h>0;h--)q+=this._buffer(f,q),u+=this._flushBuffer(L,u);return q+=this._buffer(f,q),L},R.prototype.final=function(f){var q;f&&(q=this.update(f));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),q?q.concat(u):u},R.prototype._pad=function(f,q){if(q===0)return!1;for(;q<f.length;)f[q++]=0;return!0},R.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var f=new Array(this.blockSize);return this._update(this.buffer,0,f,0),f},R.prototype._unpad=function(f){return f},R.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)}}),ur=Uo((l,d)=>{var i=Pa(),R=da(),f=cr(),q=Gs();function u(){this.tmp=new Array(2),this.keys=null}function h(y){q.call(this,y);var k=new u;this._desState=k,this.deriveKeys(k,y.key)}R(h,q),d.exports=h,h.create=function(y){return new h(y)};var L=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(y,k){y.keys=new Array(32),i.equal(k.length,this.blockSize,"Invalid key length");var Z=f.readUInt32BE(k,0),T=f.readUInt32BE(k,4);f.pc1(Z,T,y.tmp,0),Z=y.tmp[0],T=y.tmp[1];for(var V=0;V<y.keys.length;V+=2){var $=L[V>>>1];Z=f.r28shl(Z,$),T=f.r28shl(T,$),f.pc2(Z,T,y.keys,V)}},h.prototype._update=function(y,k,Z,T){var V=this._desState,$=f.readUInt32BE(y,k),x=f.readUInt32BE(y,k+4);f.ip($,x,V.tmp,0),$=V.tmp[0],x=V.tmp[1],this.type==="encrypt"?this._encrypt(V,$,x,V.tmp,0):this._decrypt(V,$,x,V.tmp,0),$=V.tmp[0],x=V.tmp[1],f.writeUInt32BE(Z,$,T),f.writeUInt32BE(Z,x,T+4)},h.prototype._pad=function(y,k){for(var Z=y.length-k,T=k;T<y.length;T++)y[T]=Z;return!0},h.prototype._unpad=function(y){for(var k=y[y.length-1],Z=y.length-k;Z<y.length;Z++)i.equal(y[Z],k);return y.slice(0,y.length-k)},h.prototype._encrypt=function(y,k,Z,T,V){for(var $=k,x=Z,O=0;O<y.keys.length;O+=2){var g=y.keys[O],E=y.keys[O+1];f.expand(x,y.tmp,0),g^=y.tmp[0],E^=y.tmp[1];var z=f.substitute(g,E),P=f.permute(z),Y=x;x=($^P)>>>0,$=Y}f.rip(x,$,T,V)},h.prototype._decrypt=function(y,k,Z,T,V){for(var $=Z,x=k,O=y.keys.length-2;O>=0;O-=2){var g=y.keys[O],E=y.keys[O+1];f.expand($,y.tmp,0),g^=y.tmp[0],E^=y.tmp[1];var z=f.substitute(g,E),P=f.permute(z),Y=$;$=(x^P)>>>0,x=Y}f.rip($,x,T,V)}}),qc=Uo((l)=>{var d=Pa(),i=da(),R={};function f(u){d.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=u[h]}function q(u){function h(Z){u.call(this,Z),this._cbcInit()}i(h,u);for(var L=Object.keys(R),y=0;y<L.length;y++){var k=L[y];h.prototype[k]=R[k]}return h.create=function(Z){return new h(Z)},h}l.instantiate=q,R._cbcInit=function(){var u=new f(this.options.iv);this._cbcState=u},R._update=function(u,h,L,y){var k=this._cbcState,Z=this.constructor.super_.prototype,T=k.iv;if(this.type==="encrypt"){for(var V=0;V<this.blockSize;V++)T[V]^=u[h+V];Z._update.call(this,T,0,L,y);for(var V=0;V<this.blockSize;V++)T[V]=L[y+V]}else{Z._update.call(this,u,h,L,y);for(var V=0;V<this.blockSize;V++)L[y+V]^=T[V];for(var V=0;V<this.blockSize;V++)T[V]=u[h+V]}}}),xc=Uo((l,d)=>{var i=Pa(),R=da(),f=Gs(),q=ur();function u(L,y){i.equal(y.length,24,"Invalid key length");var k=y.slice(0,8),Z=y.slice(8,16),T=y.slice(16,24);L==="encrypt"?this.ciphers=[q.create({type:"encrypt",key:k}),q.create({type:"decrypt",key:Z}),q.create({type:"encrypt",key:T})]:this.ciphers=[q.create({type:"decrypt",key:T}),q.create({type:"encrypt",key:Z}),q.create({type:"decrypt",key:k})]}function h(L){f.call(this,L);var y=new u(this.type,this.options.key);this._edeState=y}R(h,f),d.exports=h,h.create=function(L){return new h(L)},h.prototype._update=function(L,y,k,Z){var T=this._edeState;T.ciphers[0]._update(L,y,k,Z),T.ciphers[1]._update(k,Z,k,Z),T.ciphers[2]._update(k,Z,k,Z)},h.prototype._pad=q.prototype._pad,h.prototype._unpad=q.prototype._unpad}),$c=Uo((l)=>{l.utils=cr(),l.Cipher=Gs(),l.DES=ur(),l.CBC=qc(),l.EDE=xc()}),Tc=Uo((l,d)=>{var i=hn(),R=$c(),f=da(),q=ha().Buffer,u={"des-ede3-cbc":R.CBC.instantiate(R.EDE),"des-ede3":R.EDE,"des-ede-cbc":R.CBC.instantiate(R.EDE),"des-ede":R.EDE,"des-cbc":R.CBC.instantiate(R.DES),"des-ecb":R.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],d.exports=h,f(h,i);function h(L){i.call(this);var y=L.mode.toLowerCase(),k=u[y],Z;L.decrypt?Z="decrypt":Z="encrypt";var T=L.key;q.isBuffer(T)||(T=q.from(T)),(y==="des-ede"||y==="des-ede-cbc")&&(T=q.concat([T,T.slice(0,8)]));var V=L.iv;q.isBuffer(V)||(V=q.from(V)),this._des=k.create({key:T,iv:V,type:Z})}h.prototype._update=function(L){return q.from(this._des.update(L))},h.prototype._final=function(){return q.from(this._des.final())}}),Mc=Uo((l)=>{l.encrypt=function(d,i){return d._cipher.encryptBlock(i)},l.decrypt=function(d,i){return d._cipher.decryptBlock(i)}}),_e=Uo((l,d)=>{d.exports=function(i,R){for(var f=Math.min(i.length,R.length),q=new Buffer(f),u=0;u<f;++u)q[u]=i[u]^R[u];return q}}),Vc=Uo((l)=>{var d=_e();l.encrypt=function(i,R){var f=d(R,i._prev);return i._prev=i._cipher.encryptBlock(f),i._prev},l.decrypt=function(i,R){var f=i._prev;i._prev=R;var q=i._cipher.decryptBlock(R);return d(q,f)}}),Lc=Uo((l)=>{var d=ha().Buffer,i=_e();function R(f,q,u){var h=q.length,L=i(q,f._cache);return f._cache=f._cache.slice(h),f._prev=d.concat([f._prev,u?q:L]),L}l.encrypt=function(f,q,u){for(var h=d.allocUnsafe(0),L;q.length;)if(f._cache.length===0&&(f._cache=f._cipher.encryptBlock(f._prev),f._prev=d.allocUnsafe(0)),f._cache.length<=q.length)L=f._cache.length,h=d.concat([h,R(f,q.slice(0,L),u)]),q=q.slice(L);else{h=d.concat([h,R(f,q,u)]);break}return h}}),Wc=Uo((l)=>{var d=ha().Buffer;function i(R,f,q){var u=R._cipher.encryptBlock(R._prev),h=u[0]^f;return R._prev=d.concat([R._prev.slice(1),d.from([q?f:h])]),h}l.encrypt=function(R,f,q){for(var u=f.length,h=d.allocUnsafe(u),L=-1;++L<u;)h[L]=i(R,f[L],q);return h}}),wc=Uo((l)=>{var d=ha().Buffer;function i(f,q,u){for(var h,L=-1,y=8,k=0,Z,T;++L<y;)h=f._cipher.encryptBlock(f._prev),Z=q&1<<7-L?128:0,T=h[0]^Z,k+=(T&128)>>L%8,f._prev=R(f._prev,u?Z:T);return k}function R(f,q){var u=f.length,h=-1,L=d.allocUnsafe(f.length);for(f=d.concat([f,d.from([q])]);++h<u;)L[h]=f[h]<<1|f[h+1]>>7;return L}l.encrypt=function(f,q,u){for(var h=q.length,L=d.allocUnsafe(h),y=-1;++y<h;)L[y]=i(f,q[y],u);return L}}),Fc=Uo((l)=>{var d=_e();function i(R){return R._prev=R._cipher.encryptBlock(R._prev),R._prev}l.encrypt=function(R,f){for(;R._cache.length<f.length;)R._cache=Buffer.concat([R._cache,i(R)]);var q=R._cache.slice(0,f.length);return R._cache=R._cache.slice(f.length),d(f,q)}}),pr=Uo((l,d)=>{function i(R){for(var f=R.length,q;f--;)if(q=R.readUInt8(f),q===255)R.writeUInt8(0,f);else{q++,R.writeUInt8(q,f);break}}d.exports=i}),mr=Uo((l)=>{var d=_e(),i=ha().Buffer,R=pr();function f(u){var h=u._cipher.encryptBlockRaw(u._prev);return R(u._prev),h}var q=16;l.encrypt=function(u,h){var L=Math.ceil(h.length/q),y=u._cache.length;u._cache=i.concat([u._cache,i.allocUnsafe(L*q)]);for(var k=0;k<L;k++){var Z=f(u),T=y+k*q;u._cache.writeUInt32BE(Z[0],T+0),u._cache.writeUInt32BE(Z[1],T+4),u._cache.writeUInt32BE(Z[2],T+8),u._cache.writeUInt32BE(Z[3],T+12)}var V=u._cache.slice(0,h.length);return u._cache=u._cache.slice(h.length),d(h,V)}}),tr=Uo((l,d)=>{d.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),Ds=Uo((l,d)=>{var i={ECB:Mc(),CBC:Vc(),CFB:Lc(),CFB8:Wc(),CFB1:wc(),OFB:Fc(),CTR:mr(),GCM:mr()},R=tr();for(f in R)R[f].module=i[R[f].mode];var f;d.exports=R}),Ye=Uo((l,d)=>{var i=ha().Buffer;function R(y){i.isBuffer(y)||(y=i.from(y));for(var k=y.length/4|0,Z=new Array(k),T=0;T<k;T++)Z[T]=y.readUInt32BE(T*4);return Z}function f(y){for(var k=0;k<y.length;y++)y[k]=0}function q(y,k,Z,T,V){for(var $=Z[0],x=Z[1],O=Z[2],g=Z[3],E=y[0]^k[0],z=y[1]^k[1],P=y[2]^k[2],Y=y[3]^k[3],B,uo,to,To,co=4,Wo=1;Wo<V;Wo++)B=$[E>>>24]^x[z>>>16&255]^O[P>>>8&255]^g[Y&255]^k[co++],uo=$[z>>>24]^x[P>>>16&255]^O[Y>>>8&255]^g[E&255]^k[co++],to=$[P>>>24]^x[Y>>>16&255]^O[E>>>8&255]^g[z&255]^k[co++],To=$[Y>>>24]^x[E>>>16&255]^O[z>>>8&255]^g[P&255]^k[co++],E=B,z=uo,P=to,Y=To;return B=(T[E>>>24]<<24|T[z>>>16&255]<<16|T[P>>>8&255]<<8|T[Y&255])^k[co++],uo=(T[z>>>24]<<24|T[P>>>16&255]<<16|T[Y>>>8&255]<<8|T[E&255])^k[co++],to=(T[P>>>24]<<24|T[Y>>>16&255]<<16|T[E>>>8&255]<<8|T[z&255])^k[co++],To=(T[Y>>>24]<<24|T[E>>>16&255]<<16|T[z>>>8&255]<<8|T[P&255])^k[co++],B=B>>>0,uo=uo>>>0,to=to>>>0,To=To>>>0,[B,uo,to,To]}var u=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var y=new Array(256),k=0;k<256;k++)k<128?y[k]=k<<1:y[k]=k<<1^283;for(var Z=[],T=[],V=[[],[],[],[]],$=[[],[],[],[]],x=0,O=0,g=0;g<256;++g){var E=O^O<<1^O<<2^O<<3^O<<4;E=E>>>8^E&255^99,Z[x]=E,T[E]=x;var z=y[x],P=y[z],Y=y[P],B=y[E]*257^E*16843008;V[0][x]=B<<24|B>>>8,V[1][x]=B<<16|B>>>16,V[2][x]=B<<8|B>>>24,V[3][x]=B,B=Y*16843009^P*65537^z*257^x*16843008,$[0][E]=B<<24|B>>>8,$[1][E]=B<<16|B>>>16,$[2][E]=B<<8|B>>>24,$[3][E]=B,x===0?x=O=1:(x=z^y[y[y[Y^z]]],O^=y[y[O]])}return{SBOX:Z,INV_SBOX:T,SUB_MIX:V,INV_SUB_MIX:$}}();function L(y){this._key=R(y),this._reset()}L.blockSize=16,L.keySize=32,L.prototype.blockSize=L.blockSize,L.prototype.keySize=L.keySize,L.prototype._reset=function(){for(var y=this._key,k=y.length,Z=k+6,T=(Z+1)*4,V=[],$=0;$<k;$++)V[$]=y[$];for($=k;$<T;$++){var x=V[$-1];$%k===0?(x=x<<8|x>>>24,x=h.SBOX[x>>>24]<<24|h.SBOX[x>>>16&255]<<16|h.SBOX[x>>>8&255]<<8|h.SBOX[x&255],x^=u[$/k|0]<<24):k>6&&$%k===4&&(x=h.SBOX[x>>>24]<<24|h.SBOX[x>>>16&255]<<16|h.SBOX[x>>>8&255]<<8|h.SBOX[x&255]),V[$]=V[$-k]^x}for(var O=[],g=0;g<T;g++){var E=T-g,z=V[E-(g%4?0:4)];g<4||E<=4?O[g]=z:O[g]=h.INV_SUB_MIX[0][h.SBOX[z>>>24]]^h.INV_SUB_MIX[1][h.SBOX[z>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[z>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[z&255]]}this._nRounds=Z,this._keySchedule=V,this._invKeySchedule=O},L.prototype.encryptBlockRaw=function(y){return y=R(y),q(y,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},L.prototype.encryptBlock=function(y){var k=this.encryptBlockRaw(y),Z=i.allocUnsafe(16);return Z.writeUInt32BE(k[0],0),Z.writeUInt32BE(k[1],4),Z.writeUInt32BE(k[2],8),Z.writeUInt32BE(k[3],12),Z},L.prototype.decryptBlock=function(y){y=R(y);var k=y[1];y[1]=y[3],y[3]=k;var Z=q(y,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),T=i.allocUnsafe(16);return T.writeUInt32BE(Z[0],0),T.writeUInt32BE(Z[3],4),T.writeUInt32BE(Z[2],8),T.writeUInt32BE(Z[1],12),T},L.prototype.scrub=function(){f(this._keySchedule),f(this._invKeySchedule),f(this._key)},d.exports.AES=L}),Oc=Uo((l,d)=>{var i=ha().Buffer,R=i.alloc(16,0);function f(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function q(h){var L=i.allocUnsafe(16);return L.writeUInt32BE(h[0]>>>0,0),L.writeUInt32BE(h[1]>>>0,4),L.writeUInt32BE(h[2]>>>0,8),L.writeUInt32BE(h[3]>>>0,12),L}function u(h){this.h=h,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}u.prototype.ghash=function(h){for(var L=-1;++L<h.length;)this.state[L]^=h[L];this._multiply()},u.prototype._multiply=function(){for(var h=f(this.h),L=[0,0,0,0],y,k,Z,T=-1;++T<128;){for(k=(this.state[~~(T/8)]&1<<7-T%8)!==0,k&&(L[0]^=h[0],L[1]^=h[1],L[2]^=h[2],L[3]^=h[3]),Z=(h[3]&1)!==0,y=3;y>0;y--)h[y]=h[y]>>>1|(h[y-1]&1)<<31;h[0]=h[0]>>>1,Z&&(h[0]=h[0]^-520093696)}this.state=q(L)},u.prototype.update=function(h){this.cache=i.concat([this.cache,h]);for(var L;this.cache.length>=16;)L=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(L)},u.prototype.final=function(h,L){return this.cache.length&&this.ghash(i.concat([this.cache,R],16)),this.ghash(q([0,h,0,L])),this.state},d.exports=u}),dr=Uo((l,d)=>{var i=Ye(),R=ha().Buffer,f=hn(),q=da(),u=Oc(),h=_e(),L=pr();function y(T,V){var $=0;T.length!==V.length&&$++;for(var x=Math.min(T.length,V.length),O=0;O<x;++O)$+=T[O]^V[O];return $}function k(T,V,$){if(V.length===12)return T._finID=R.concat([V,R.from([0,0,0,1])]),R.concat([V,R.from([0,0,0,2])]);var x=new u($),O=V.length,g=O%16;x.update(V),g&&(g=16-g,x.update(R.alloc(g,0))),x.update(R.alloc(8,0));var E=O*8,z=R.alloc(8);z.writeUIntBE(E,0,8),x.update(z),T._finID=x.state;var P=R.from(T._finID);return L(P),P}function Z(T,V,$,x){f.call(this);var O=R.alloc(4,0);this._cipher=new i.AES(V);var g=this._cipher.encryptBlock(O);this._ghash=new u(g),$=k(this,$,g),this._prev=R.from($),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=x,this._alen=0,this._len=0,this._mode=T,this._authTag=null,this._called=!1}q(Z,f),Z.prototype._update=function(T){if(!this._called&&this._alen){var V=16-this._alen%16;V<16&&(V=R.alloc(V,0),this._ghash.update(V))}this._called=!0;var $=this._mode.encrypt(this,T);return this._decrypt?this._ghash.update(T):this._ghash.update($),this._len+=T.length,$},Z.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var T=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&y(T,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=T,this._cipher.scrub()},Z.prototype.getAuthTag=function(){if(this._decrypt||!R.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Z.prototype.setAuthTag=function(T){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=T},Z.prototype.setAAD=function(T){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(T),this._alen+=T.length},d.exports=Z}),br=Uo((l,d)=>{var i=Ye(),R=ha().Buffer,f=hn(),q=da();function u(h,L,y,k){f.call(this),this._cipher=new i.AES(L),this._prev=R.from(y),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=k,this._mode=h}q(u,f),u.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},d.exports=u}),Be=Uo((l,d)=>{var i=ha().Buffer,R=Xs();function f(q,u,h,L){if(i.isBuffer(q)||(q=i.from(q,"binary")),u&&(i.isBuffer(u)||(u=i.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var y=h/8,k=i.alloc(y),Z=i.alloc(L||0),T=i.alloc(0);y>0||L>0;){var V=new R;V.update(T),V.update(q),u&&V.update(u),T=V.digest();var $=0;if(y>0){var x=k.length-y;$=Math.min(y,T.length),T.copy(k,x,0,$),y-=$}if($<T.length&&L>0){var O=Z.length-L,g=Math.min(L,T.length-$);T.copy(Z,O,$,$+g),L-=g}}return T.fill(0),{key:k,iv:Z}}d.exports=f}),zc=Uo((l)=>{var d=Ds(),i=dr(),R=ha().Buffer,f=br(),q=hn(),u=Ye(),h=Be(),L=da();function y($,x,O){q.call(this),this._cache=new Z,this._cipher=new u.AES(x),this._prev=R.from(O),this._mode=$,this._autopadding=!0}L(y,q),y.prototype._update=function($){this._cache.add($);for(var x,O,g=[];x=this._cache.get();)O=this._mode.encrypt(this,x),g.push(O);return R.concat(g)};var k=R.alloc(16,16);y.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return $=this._mode.encrypt(this,$),this._cipher.scrub(),$;if(!$.equals(k))throw this._cipher.scrub(),new Error("data not multiple of block length")},y.prototype.setAutoPadding=function($){return this._autopadding=!!$,this};function Z(){this.cache=R.allocUnsafe(0)}Z.prototype.add=function($){this.cache=R.concat([this.cache,$])},Z.prototype.get=function(){if(this.cache.length>15){var $=this.cache.slice(0,16);return this.cache=this.cache.slice(16),$}return null},Z.prototype.flush=function(){for(var $=16-this.cache.length,x=R.allocUnsafe($),O=-1;++O<$;)x.writeUInt8($,O);return R.concat([this.cache,x])};function T($,x,O){var g=d[$.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=R.from(x)),x.length!==g.key/8)throw new TypeError("invalid key length "+x.length);if(typeof O=="string"&&(O=R.from(O)),g.mode!=="GCM"&&O.length!==g.iv)throw new TypeError("invalid iv length "+O.length);return g.type==="stream"?new f(g.module,x,O):g.type==="auth"?new i(g.module,x,O):new y(g.module,x,O)}function V($,x){var O=d[$.toLowerCase()];if(!O)throw new TypeError("invalid suite type");var g=h(x,!1,O.key,O.iv);return T($,g.key,g.iv)}l.createCipheriv=T,l.createCipher=V}),Sc=Uo((l)=>{var d=dr(),i=ha().Buffer,R=Ds(),f=br(),q=hn(),u=Ye(),h=Be(),L=da();function y($,x,O){q.call(this),this._cache=new k,this._last=void 0,this._cipher=new u.AES(x),this._prev=i.from(O),this._mode=$,this._autopadding=!0}L(y,q),y.prototype._update=function($){this._cache.add($);for(var x,O,g=[];x=this._cache.get(this._autopadding);)O=this._mode.decrypt(this,x),g.push(O);return i.concat(g)},y.prototype._final=function(){var $=this._cache.flush();if(this._autopadding)return Z(this._mode.decrypt(this,$));if($)throw new Error("data not multiple of block length")},y.prototype.setAutoPadding=function($){return this._autopadding=!!$,this};function k(){this.cache=i.allocUnsafe(0)}k.prototype.add=function($){this.cache=i.concat([this.cache,$])},k.prototype.get=function($){var x;if($){if(this.cache.length>16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x}else if(this.cache.length>=16)return x=this.cache.slice(0,16),this.cache=this.cache.slice(16),x;return null},k.prototype.flush=function(){if(this.cache.length)return this.cache};function Z($){var x=$[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var O=-1;++O<x;)if($[O+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return $.slice(0,16-x)}function T($,x,O){var g=R[$.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if(typeof O=="string"&&(O=i.from(O)),g.mode!=="GCM"&&O.length!==g.iv)throw new TypeError("invalid iv length "+O.length);if(typeof x=="string"&&(x=i.from(x)),x.length!==g.key/8)throw new TypeError("invalid key length "+x.length);return g.type==="stream"?new f(g.module,x,O,!0):g.type==="auth"?new d(g.module,x,O,!0):new y(g.module,x,O)}function V($,x){var O=R[$.toLowerCase()];if(!O)throw new TypeError("invalid suite type");var g=h(x,!1,O.key,O.iv);return T($,g.key,g.iv)}l.createDecipher=V,l.createDecipheriv=T}),Hs=Uo((l)=>{var d=zc(),i=Sc(),R=tr();function f(){return Object.keys(R)}l.createCipher=l.Cipher=d.createCipher,l.createCipheriv=l.Cipheriv=d.createCipheriv,l.createDecipher=l.Decipher=i.createDecipher,l.createDecipheriv=l.Decipheriv=i.createDecipheriv,l.listCiphers=l.getCiphers=f}),Xc=Uo((l)=>{l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}}),gc=Uo((l)=>{var d=Tc(),i=Hs(),R=Ds(),f=Xc(),q=Be();function u(Z,T){Z=Z.toLowerCase();var V,$;if(R[Z])V=R[Z].key,$=R[Z].iv;else if(f[Z])V=f[Z].key*8,$=f[Z].iv;else throw new TypeError("invalid suite type");var x=q(T,!1,V,$);return L(Z,x.key,x.iv)}function h(Z,T){Z=Z.toLowerCase();var V,$;if(R[Z])V=R[Z].key,$=R[Z].iv;else if(f[Z])V=f[Z].key*8,$=f[Z].iv;else throw new TypeError("invalid suite type");var x=q(T,!1,V,$);return y(Z,x.key,x.iv)}function L(Z,T,V){if(Z=Z.toLowerCase(),R[Z])return i.createCipheriv(Z,T,V);if(f[Z])return new d({key:T,iv:V,mode:Z});throw new TypeError("invalid suite type")}function y(Z,T,V){if(Z=Z.toLowerCase(),R[Z])return i.createDecipheriv(Z,T,V);if(f[Z])return new d({key:T,iv:V,mode:Z,decrypt:!0});throw new TypeError("invalid suite type")}function k(){return Object.keys(f).concat(i.getCiphers())}l.createCipher=l.Cipher=u,l.createCipheriv=l.Cipheriv=L,l.createDecipher=l.Decipher=h,l.createDecipheriv=l.Decipheriv=y,l.listCiphers=l.getCiphers=k}),wn=Uo(()=>{}),fr=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),Uc=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),Ec=Uo(()=>{}),Ys=Uo((l,d)=>{var i;d.exports=function(q){return i||(i=new R(null)),i.generate(q)};function R(q){this.rand=q}if(d.exports.Rand=R,R.prototype.generate=function(q){return this._rand(q)},R.prototype._rand=function(q){if(this.rand.getBytes)return this.rand.getBytes(q);for(var u=new Uint8Array(q),h=0;h<u.length;h++)u[h]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?R.prototype._rand=function(q){var u=new Uint8Array(q);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?R.prototype._rand=function(q){var u=new Uint8Array(q);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(R.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(f=Ec(),typeof f.randomBytes!="function")throw new Error("Not supported");R.prototype._rand=function(q){return f.randomBytes(q)}}catch{}var f}),_r=Uo((l,d)=>{var i=Uc(),R=Ys();function f(q){this.rand=q||new R.Rand}d.exports=f,f.create=function(q){return new f(q)},f.prototype._randbelow=function(q){var u=q.bitLength(),h=Math.ceil(u/8);do var L=new i(this.rand.generate(h));while(L.cmp(q)>=0);return L},f.prototype._randrange=function(q,u){var h=u.sub(q);return q.add(this._randbelow(h))},f.prototype.test=function(q,u,h){var L=q.bitLength(),y=i.mont(q),k=new i(1).toRed(y);u||(u=Math.max(1,L/48|0));for(var Z=q.subn(1),T=0;!Z.testn(T);T++);for(var V=q.shrn(T),$=Z.toRed(y),x=!0;u>0;u--){var O=this._randrange(new i(2),Z);h&&h(O);var g=O.toRed(y).redPow(V);if(!(g.cmp(k)===0||g.cmp($)===0)){for(var E=1;E<T;E++){if(g=g.redSqr(),g.cmp(k)===0)return!1;if(g.cmp($)===0)break}if(E===T)return!1}}return x},f.prototype.getDivisor=function(q,u){var h=q.bitLength(),L=i.mont(q),y=new i(1).toRed(L);u||(u=Math.max(1,h/48|0));for(var k=q.subn(1),Z=0;!k.testn(Z);Z++);for(var T=q.shrn(Z),V=k.toRed(L);u>0;u--){var $=this._randrange(new i(2),k),x=q.gcd($);if(x.cmpn(1)!==0)return x;var O=$.toRed(L).redPow(T);if(!(O.cmp(y)===0||O.cmp(V)===0)){for(var g=1;g<Z;g++){if(O=O.redSqr(),O.cmp(y)===0)return O.fromRed().subn(1).gcd(q);if(O.cmp(V)===0)break}if(g===Z)return O=O.redSqr(),O.fromRed().subn(1).gcd(q)}}return!1}}),hr=Uo((l,d)=>{var i=Hn();d.exports=B,B.simpleSieve=P,B.fermatTest=Y;var R=fr(),f=new R(24),q=_r(),u=new q,h=new R(1),L=new R(2),y=new R(5),k=new R(16),Z=new R(8),T=new R(10),V=new R(3),$=new R(7),x=new R(11),O=new R(4),g=new R(12),E=null;function z(){if(E!==null)return E;var uo=1048576,to=[];to[0]=2;for(var To=1,co=3;co<uo;co+=2){for(var Wo=Math.ceil(Math.sqrt(co)),o=0;o<To&&to[o]<=Wo&&co%to[o]!==0;o++);To!==o&&to[o]<=Wo||(to[To++]=co)}return E=to,to}function P(uo){for(var to=z(),To=0;To<to.length;To++)if(uo.modn(to[To])===0)return uo.cmpn(to[To])===0;return!0}function Y(uo){var to=R.mont(uo);return L.toRed(to).redPow(uo.subn(1)).fromRed().cmpn(1)===0}function B(uo,to){if(uo<16)return to===2||to===5?new R([140,123]):new R([140,39]);to=new R(to);for(var To,co;;){for(To=new R(i(Math.ceil(uo/8)));To.bitLength()>uo;)To.ishrn(1);if(To.isEven()&&To.iadd(h),To.testn(1)||To.iadd(L),to.cmp(L)){if(!to.cmp(y))for(;To.mod(T).cmp(V);)To.iadd(O)}else for(;To.mod(f).cmp(x);)To.iadd(O);if(co=To.shrn(1),P(co)&&P(To)&&Y(co)&&Y(To)&&u.test(co)&&u.test(To))return To}}}),jc=Uo((l,d)=>{d.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),Jc=Uo((l,d)=>{var i=fr(),R=_r(),f=new R,q=new i(24),u=new i(11),h=new i(10),L=new i(3),y=new i(7),k=hr(),Z=Hn();d.exports=O;function T(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._pub=new i(E),this}function V(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this._priv=new i(E),this}var $={};function x(E,z){var P=z.toString("hex"),Y=[P,E.toString(16)].join("_");if(Y in $)return $[Y];var B=0;if(E.isEven()||!k.simpleSieve||!k.fermatTest(E)||!f.test(E))return B+=1,P==="02"||P==="05"?B+=8:B+=4,$[Y]=B,B;f.test(E.shrn(1))||(B+=2);var uo;switch(P){case"02":E.mod(q).cmp(u)&&(B+=8);break;case"05":uo=E.mod(h),uo.cmp(L)&&uo.cmp(y)&&(B+=8);break;default:B+=4}return $[Y]=B,B}function O(E,z,P){this.setGenerator(z),this.__prime=new i(E),this._prime=i.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=T,this.setPrivateKey=V):this._primeCode=8}Object.defineProperty(O.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=x(this.__prime,this.__gen)),this._primeCode}}),O.prototype.generateKeys=function(){return this._priv||(this._priv=new i(Z(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},O.prototype.computeSecret=function(E){E=new i(E),E=E.toRed(this._prime);var z=E.redPow(this._priv).fromRed(),P=new Buffer(z.toArray()),Y=this.getPrime();if(P.length<Y.length){var B=new Buffer(Y.length-P.length);B.fill(0),P=Buffer.concat([B,P])}return P},O.prototype.getPublicKey=function(E){return g(this._pub,E)},O.prototype.getPrivateKey=function(E){return g(this._priv,E)},O.prototype.getPrime=function(E){return g(this.__prime,E)},O.prototype.getGenerator=function(E){return g(this._gen,E)},O.prototype.setGenerator=function(E,z){return z=z||"utf8",Buffer.isBuffer(E)||(E=new Buffer(E,z)),this.__gen=E,this._gen=new i(E),this};function g(E,z){var P=new Buffer(E.toArray());return z?P.toString(z):P}}),Kc=Uo((l)=>{var d=hr(),i=jc(),R=Jc();function f(h){var L=new Buffer(i[h].prime,"hex"),y=new Buffer(i[h].gen,"hex");return new R(L,y)}var q={binary:!0,hex:!0,base64:!0};function u(h,L,y,k){return Buffer.isBuffer(L)||q[L]===void 0?u(h,"binary",L,y):(L=L||"binary",k=k||"binary",y=y||new Buffer([2]),Buffer.isBuffer(y)||(y=new Buffer(y,k)),typeof h=="number"?new R(d(h,y),y,!0):(Buffer.isBuffer(h)||(h=new Buffer(h,L)),new R(h,y,!0)))}l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=f,l.createDiffieHellman=l.DiffieHellman=u}),Nr=Uo((l,d)=>{d.exports=Mn().EventEmitter}),Pc=Uo((l,d)=>{function i($,x){var O=Object.keys($);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols($);x&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor($,E).enumerable})),O.push.apply(O,g)}return O}function R($){for(var x=1;x<arguments.length;x++){var O=arguments[x]!=null?arguments[x]:{};x%2?i(Object(O),!0).forEach(function(g){f($,g,O[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(O)):i(Object(O)).forEach(function(g){Object.defineProperty($,g,Object.getOwnPropertyDescriptor(O,g))})}return $}function f($,x,O){return x in $?Object.defineProperty($,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):$[x]=O,$}function q($,x){if(!($ instanceof x))throw new TypeError("Cannot call a class as a function")}function u($,x){for(var O=0;O<x.length;O++){var g=x[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty($,g.key,g)}}function h($,x,O){return x&&u($.prototype,x),O&&u($,O),$}var L=Fa(),y=L.Buffer,k=Ie(),Z=k.inspect,T=Z&&Z.custom||"inspect";function V($,x,O){y.prototype.copy.call($,x,O)}d.exports=function(){function $(){q(this,$),this.head=null,this.tail=null,this.length=0}return h($,[{key:"push",value:function(x){var O={data:x,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(x){var O={data:x,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var O=this.head,g=""+O.data;O=O.next;)g+=x+O.data;return g}},{key:"concat",value:function(x){if(this.length===0)return y.alloc(0);for(var O=y.allocUnsafe(x>>>0),g=this.head,E=0;g;)V(g.data,O,E),E+=g.data.length,g=g.next;return O}},{key:"consume",value:function(x,O){var g;return x<this.head.data.length?(g=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?g=this.shift():g=O?this._getString(x):this._getBuffer(x),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var O=this.head,g=1,E=O.data;for(x-=E.length;O=O.next;){var z=O.data,P=x>z.length?z.length:x;if(P===z.length?E+=z:E+=z.slice(0,x),x-=P,x===0){P===z.length?(++g,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=z.slice(P));break}++g}return this.length-=g,E}},{key:"_getBuffer",value:function(x){var O=y.allocUnsafe(x),g=this.head,E=1;for(g.data.copy(O),x-=g.data.length;g=g.next;){var z=g.data,P=x>z.length?z.length:x;if(z.copy(O,O.length-x,0,P),x-=P,x===0){P===z.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=z.slice(P));break}++E}return this.length-=E,O}},{key:T,value:function(x,O){return Z(this,R({},O,{depth:0,customInspect:!1}))}}]),$}()}),vr=Uo((l,d)=>{function i(L,y){var k=this,Z=this._readableState&&this._readableState.destroyed,T=this._writableState&&this._writableState.destroyed;return Z||T?(y?y(L):L&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,L)):process.nextTick(u,this,L)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(L||null,function(V){!y&&V?k._writableState?k._writableState.errorEmitted?process.nextTick(f,k):(k._writableState.errorEmitted=!0,process.nextTick(R,k,V)):process.nextTick(R,k,V):y?(process.nextTick(f,k),y(V)):process.nextTick(f,k)}),this)}function R(L,y){u(L,y),f(L)}function f(L){L._writableState&&!L._writableState.emitClose||L._readableState&&!L._readableState.emitClose||L.emit("close")}function q(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(L,y){L.emit("error",y)}function h(L,y){var{_readableState:k,_writableState:Z}=L;k&&k.autoDestroy||Z&&Z.autoDestroy?L.destroy(y):L.emit("error",y)}d.exports={destroy:i,undestroy:q,errorOrDestroy:h}}),An=Uo((l,d)=>{function i(y,k){y.prototype=Object.create(k.prototype),y.prototype.constructor=y,y.__proto__=k}var R={};function f(y,k,Z){Z||(Z=Error);function T($,x,O){return typeof k=="string"?k:k($,x,O)}var V=function($){i(x,$);function x(O,g,E){return $.call(this,T(O,g,E))||this}return x}(Z);V.prototype.name=Z.name,V.prototype.code=y,R[y]=V}function q(y,k){if(Array.isArray(y)){var Z=y.length;return y=y.map(function(T){return String(T)}),Z>2?"one of ".concat(k," ").concat(y.slice(0,Z-1).join(", "),", or ")+y[Z-1]:Z===2?"one of ".concat(k," ").concat(y[0]," or ").concat(y[1]):"of ".concat(k," ").concat(y[0])}else return"of ".concat(k," ").concat(String(y))}function u(y,k,Z){return y.substr(!Z||Z<0?0:+Z,k.length)===k}function h(y,k,Z){return(Z===void 0||Z>y.length)&&(Z=y.length),y.substring(Z-k.length,Z)===k}function L(y,k,Z){return typeof Z!="number"&&(Z=0),Z+k.length>y.length?!1:y.indexOf(k,Z)!==-1}f("ERR_INVALID_OPT_VALUE",function(y,k){return'The value "'+k+'" is invalid for option "'+y+'"'},TypeError),f("ERR_INVALID_ARG_TYPE",function(y,k,Z){var T;typeof k=="string"&&u(k,"not ")?(T="must not be",k=k.replace(/^not /,"")):T="must be";var V;if(h(y," argument"))V="The ".concat(y," ").concat(T," ").concat(q(k,"type"));else{var $=L(y,".")?"property":"argument";V='The "'.concat(y,'" ').concat($," ").concat(T," ").concat(q(k,"type"))}return V+=". Received type ".concat(typeof Z),V},TypeError),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),f("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),f("ERR_STREAM_PREMATURE_CLOSE","Premature close"),f("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),f("ERR_STREAM_WRITE_AFTER_END","write after end"),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),d.exports.codes=R}),Rr=Uo((l,d)=>{var i=An().codes.ERR_INVALID_OPT_VALUE;function R(q,u,h){return q.highWaterMark!=null?q.highWaterMark:u?q[h]:null}function f(q,u,h,L){var y=R(u,L,h);if(y!=null){if(!(isFinite(y)&&Math.floor(y)===y)||y<0){var k=L?h:"highWaterMark";throw new i(k,y)}return Math.floor(y)}return q.objectMode?16:16384}d.exports={getHighWaterMark:f}}),Zr=Uo((l,d)=>{d.exports=co;function i(po){var io=this;this.next=null,this.entry=null,this.finish=function(){qo(io,po)}}var R;co.WritableState=to;var f={deprecate:Ul()},q=Nr(),u=Fa().Buffer,h=global.Uint8Array||function(){};function L(po){return u.from(po)}function y(po){return u.isBuffer(po)||po instanceof h}var k=vr(),Z=Rr(),T=Z.getHighWaterMark,V=An().codes,$=V.ERR_INVALID_ARG_TYPE,x=V.ERR_METHOD_NOT_IMPLEMENTED,O=V.ERR_MULTIPLE_CALLBACK,g=V.ERR_STREAM_CANNOT_PIPE,E=V.ERR_STREAM_DESTROYED,z=V.ERR_STREAM_NULL_VALUES,P=V.ERR_STREAM_WRITE_AFTER_END,Y=V.ERR_UNKNOWN_ENCODING,B=k.errorOrDestroy;da()(co,q);function uo(){}function to(po,io,ho){R=R||oe(),po=po||{},typeof ho!="boolean"&&(ho=io instanceof R),this.objectMode=!!po.objectMode,ho&&(this.objectMode=this.objectMode||!!po.writableObjectMode),this.highWaterMark=T(this,po,"writableHighWaterMark",ho),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Eo=po.decodeStrings===!1;this.decodeStrings=!Eo,this.defaultEncoding=po.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xo){N(io,xo)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=po.emitClose!==!1,this.autoDestroy=!!po.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}to.prototype.getBuffer=function(){for(var po=this.bufferedRequest,io=[];po;)io.push(po),po=po.next;return io},function(){try{Object.defineProperty(to.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var To;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(To=Function.prototype[Symbol.hasInstance],Object.defineProperty(co,Symbol.hasInstance,{value:function(po){return To.call(this,po)?!0:this!==co?!1:po&&po._writableState instanceof to}})):To=function(po){return po instanceof this};function co(po){R=R||oe();var io=this instanceof R;if(!io&&!To.call(co,this))return new co(po);this._writableState=new to(po,this,io),this.writable=!0,po&&(typeof po.write=="function"&&(this._write=po.write),typeof po.writev=="function"&&(this._writev=po.writev),typeof po.destroy=="function"&&(this._destroy=po.destroy),typeof po.final=="function"&&(this._final=po.final)),q.call(this)}co.prototype.pipe=function(){B(this,new g)};function Wo(po,io){var ho=new P;B(po,ho),process.nextTick(io,ho)}function o(po,io,ho,Eo){var xo;return ho===null?xo=new z:typeof ho!="string"&&!io.objectMode&&(xo=new $("chunk",["string","Buffer"],ho)),xo?(B(po,xo),process.nextTick(Eo,xo),!1):!0}co.prototype.write=function(po,io,ho){var Eo=this._writableState,xo=!1,Lo=!Eo.objectMode&&y(po);return Lo&&!u.isBuffer(po)&&(po=L(po)),typeof io=="function"&&(ho=io,io=null),Lo?io="buffer":io||(io=Eo.defaultEncoding),typeof ho!="function"&&(ho=uo),Eo.ending?Wo(this,ho):(Lo||o(this,Eo,po,ho))&&(Eo.pendingcb++,xo=c(this,Eo,Lo,po,io,ho)),xo},co.prototype.cork=function(){this._writableState.corked++},co.prototype.uncork=function(){var po=this._writableState;po.corked&&(po.corked--,!po.writing&&!po.corked&&!po.bufferProcessing&&po.bufferedRequest&&m(this,po))},co.prototype.setDefaultEncoding=function(po){if(typeof po=="string"&&(po=po.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((po+"").toLowerCase())>-1))throw new Y(po);return this._writableState.defaultEncoding=po,this},Object.defineProperty(co.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function e(po,io,ho){return!po.objectMode&&po.decodeStrings!==!1&&typeof io=="string"&&(io=u.from(io,ho)),io}Object.defineProperty(co.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(po,io,ho,Eo,xo,Lo){if(!ho){var G=e(io,Eo,xo);Eo!==G&&(ho=!0,xo="buffer",Eo=G)}var X=io.objectMode?1:Eo.length;io.length+=X;var Q=io.length<io.highWaterMark;if(Q||(io.needDrain=!0),io.writing||io.corked){var $o=io.lastBufferedRequest;io.lastBufferedRequest={chunk:Eo,encoding:xo,isBuf:ho,callback:Lo,next:null},$o?$o.next=io.lastBufferedRequest:io.bufferedRequest=io.lastBufferedRequest,io.bufferedRequestCount+=1}else s(po,io,!1,X,Eo,xo,Lo);return Q}function s(po,io,ho,Eo,xo,Lo,G){io.writelen=Eo,io.writecb=G,io.writing=!0,io.sync=!0,io.destroyed?io.onwrite(new E("write")):ho?po._writev(xo,io.onwrite):po._write(xo,Lo,io.onwrite),io.sync=!1}function p(po,io,ho,Eo,xo){--io.pendingcb,ho?(process.nextTick(xo,Eo),process.nextTick(fo,po,io),po._writableState.errorEmitted=!0,B(po,Eo)):(xo(Eo),po._writableState.errorEmitted=!0,B(po,Eo),fo(po,io))}function _(po){po.writing=!1,po.writecb=null,po.length-=po.writelen,po.writelen=0}function N(po,io){var ho=po._writableState,Eo=ho.sync,xo=ho.writecb;if(typeof xo!="function")throw new O;if(_(ho),io)p(po,ho,Eo,io,xo);else{var Lo=S(ho)||po.destroyed;!Lo&&!ho.corked&&!ho.bufferProcessing&&ho.bufferedRequest&&m(po,ho),Eo?process.nextTick(t,po,ho,Lo,xo):t(po,ho,Lo,xo)}}function t(po,io,ho,Eo){ho||a(po,io),io.pendingcb--,Eo(),fo(po,io)}function a(po,io){io.length===0&&io.needDrain&&(io.needDrain=!1,po.emit("drain"))}function m(po,io){io.bufferProcessing=!0;var ho=io.bufferedRequest;if(po._writev&&ho&&ho.next){var Eo=io.bufferedRequestCount,xo=new Array(Eo),Lo=io.corkedRequestsFree;Lo.entry=ho;for(var G=0,X=!0;ho;)xo[G]=ho,ho.isBuf||(X=!1),ho=ho.next,G+=1;xo.allBuffers=X,s(po,io,!0,io.length,xo,"",Lo.finish),io.pendingcb++,io.lastBufferedRequest=null,Lo.next?(io.corkedRequestsFree=Lo.next,Lo.next=null):io.corkedRequestsFree=new i(io),io.bufferedRequestCount=0}else{for(;ho;){var{chunk:Q,encoding:$o,callback:wo}=ho,Mo=io.objectMode?1:Q.length;if(s(po,io,!1,Mo,Q,$o,wo),ho=ho.next,io.bufferedRequestCount--,io.writing)break}ho===null&&(io.lastBufferedRequest=null)}io.bufferedRequest=ho,io.bufferProcessing=!1}co.prototype._write=function(po,io,ho){ho(new x("_write()"))},co.prototype._writev=null,co.prototype.end=function(po,io,ho){var Eo=this._writableState;return typeof po=="function"?(ho=po,po=null,io=null):typeof io=="function"&&(ho=io,io=null),po!=null&&this.write(po,io),Eo.corked&&(Eo.corked=1,this.uncork()),Eo.ending||Ro(this,Eo,ho),this},Object.defineProperty(co.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(po){return po.ending&&po.length===0&&po.bufferedRequest===null&&!po.finished&&!po.writing}function w(po,io){po._final(function(ho){io.pendingcb--,ho&&B(po,ho),io.prefinished=!0,po.emit("prefinish"),fo(po,io)})}function I(po,io){!io.prefinished&&!io.finalCalled&&(typeof po._final=="function"&&!io.destroyed?(io.pendingcb++,io.finalCalled=!0,process.nextTick(w,po,io)):(io.prefinished=!0,po.emit("prefinish")))}function fo(po,io){var ho=S(io);if(ho&&(I(po,io),io.pendingcb===0&&(io.finished=!0,po.emit("finish"),io.autoDestroy))){var Eo=po._readableState;(!Eo||Eo.autoDestroy&&Eo.endEmitted)&&po.destroy()}return ho}function Ro(po,io,ho){io.ending=!0,fo(po,io),ho&&(io.finished?process.nextTick(ho):po.once("finish",ho)),io.ended=!0,po.writable=!1}function qo(po,io,ho){var Eo=po.entry;for(po.entry=null;Eo;){var xo=Eo.callback;io.pendingcb--,xo(ho),Eo=Eo.next}io.corkedRequestsFree.next=po}Object.defineProperty(co.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(po){!this._writableState||(this._writableState.destroyed=po)}}),co.prototype.destroy=k.destroy,co.prototype._undestroy=k.undestroy,co.prototype._destroy=function(po,io){io(po)}}),oe=Uo((l,d)=>{var i=Object.keys||function(Z){var T=[];for(var V in Z)T.push(V);return T};d.exports=L;var R=yr(),f=Zr();da()(L,R);for(q=i(f.prototype),h=0;h<q.length;h++)u=q[h],L.prototype[u]||(L.prototype[u]=f.prototype[u]);var q,u,h;function L(Z){if(!(this instanceof L))return new L(Z);R.call(this,Z),f.call(this,Z),this.allowHalfOpen=!0,Z&&(Z.readable===!1&&(this.readable=!1),Z.writable===!1&&(this.writable=!1),Z.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",y)))}Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(L.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(L.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(){this._writableState.ended||process.nextTick(k,this)}function k(Z){Z.end()}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Z){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Z,this._writableState.destroyed=Z)}})}),Bs=Uo((l,d)=>{var i=An().codes.ERR_STREAM_PREMATURE_CLOSE;function R(h){var L=!1;return function(){if(!L){L=!0;for(var y=arguments.length,k=new Array(y),Z=0;Z<y;Z++)k[Z]=arguments[Z];h.apply(this,k)}}}function f(){}function q(h){return h.setHeader&&typeof h.abort=="function"}function u(h,L,y){if(typeof L=="function")return u(h,null,L);L||(L={}),y=R(y||f);var k=L.readable||L.readable!==!1&&h.readable,Z=L.writable||L.writable!==!1&&h.writable,T=function(){h.writable||$()},V=h._writableState&&h._writableState.finished,$=function(){Z=!1,V=!0,k||y.call(h)},x=h._readableState&&h._readableState.endEmitted,O=function(){k=!1,x=!0,Z||y.call(h)},g=function(P){y.call(h,P)},E=function(){var P;if(k&&!x)return(!h._readableState||!h._readableState.ended)&&(P=new i),y.call(h,P);if(Z&&!V)return(!h._writableState||!h._writableState.ended)&&(P=new i),y.call(h,P)},z=function(){h.req.on("finish",$)};return q(h)?(h.on("complete",$),h.on("abort",E),h.req?z():h.on("request",z)):Z&&!h._writableState&&(h.on("end",T),h.on("close",T)),h.on("end",O),h.on("finish",$),L.error!==!1&&h.on("error",g),h.on("close",E),function(){h.removeListener("complete",$),h.removeListener("abort",E),h.removeListener("request",z),h.req&&h.req.removeListener("finish",$),h.removeListener("end",T),h.removeListener("close",T),h.removeListener("finish",$),h.removeListener("end",O),h.removeListener("error",g),h.removeListener("close",E)}}d.exports=u}),Ic=Uo((l,d)=>{var i;function R(z,P,Y){return P in z?Object.defineProperty(z,P,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[P]=Y,z}var f=Bs(),q=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),L=Symbol("ended"),y=Symbol("lastPromise"),k=Symbol("handlePromise"),Z=Symbol("stream");function T(z,P){return{value:z,done:P}}function V(z){var P=z[q];if(P!==null){var Y=z[Z].read();Y!==null&&(z[y]=null,z[q]=null,z[u]=null,P(T(Y,!1)))}}function $(z){process.nextTick(V,z)}function x(z,P){return function(Y,B){z.then(function(){if(P[L]){Y(T(void 0,!0));return}P[k](Y,B)},B)}}var O=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((i={get stream(){return this[Z]},next:function(){var z=this,P=this[h];if(P!==null)return Promise.reject(P);if(this[L])return Promise.resolve(T(void 0,!0));if(this[Z].destroyed)return new Promise(function(to,To){process.nextTick(function(){z[h]?To(z[h]):to(T(void 0,!0))})});var Y=this[y],B;if(Y)B=new Promise(x(Y,this));else{var uo=this[Z].read();if(uo!==null)return Promise.resolve(T(uo,!1));B=new Promise(this[k])}return this[y]=B,B}},R(i,Symbol.asyncIterator,function(){return this}),R(i,"return",function(){var z=this;return new Promise(function(P,Y){z[Z].destroy(null,function(B){if(B){Y(B);return}P(T(void 0,!0))})})}),i),O),E=function(z){var P,Y=Object.create(g,(P={},R(P,Z,{value:z,writable:!0}),R(P,q,{value:null,writable:!0}),R(P,u,{value:null,writable:!0}),R(P,h,{value:null,writable:!0}),R(P,L,{value:z._readableState.endEmitted,writable:!0}),R(P,k,{value:function(B,uo){var to=Y[Z].read();to?(Y[y]=null,Y[q]=null,Y[u]=null,B(T(to,!1))):(Y[q]=B,Y[u]=uo)},writable:!0}),P));return Y[y]=null,f(z,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var uo=Y[u];uo!==null&&(Y[y]=null,Y[q]=null,Y[u]=null,uo(B)),Y[h]=B;return}var to=Y[q];to!==null&&(Y[y]=null,Y[q]=null,Y[u]=null,to(T(void 0,!0))),Y[L]=!0}),z.on("readable",$.bind(null,Y)),Y};d.exports=E}),Gc=Uo((l,d)=>{d.exports=function(){throw new Error("Readable.from is not available in the browser")}}),yr=Uo((l,d)=>{d.exports=o;var i;o.ReadableState=Wo;var R=Mn().EventEmitter,f=function(G,X){return G.listeners(X).length},q=Nr(),u=Fa().Buffer,h=global.Uint8Array||function(){};function L(G){return u.from(G)}function y(G){return u.isBuffer(G)||G instanceof h}var k=Ie(),Z;k&&k.debuglog?Z=k.debuglog("stream"):Z=function(){};var T=Pc(),V=vr(),$=Rr(),x=$.getHighWaterMark,O=An().codes,g=O.ERR_INVALID_ARG_TYPE,E=O.ERR_STREAM_PUSH_AFTER_EOF,z=O.ERR_METHOD_NOT_IMPLEMENTED,P=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Y,B,uo;da()(o,q);var to=V.errorOrDestroy,To=["error","close","destroy","pause","resume"];function co(G,X,Q){if(typeof G.prependListener=="function")return G.prependListener(X,Q);!G._events||!G._events[X]?G.on(X,Q):Array.isArray(G._events[X])?G._events[X].unshift(Q):G._events[X]=[Q,G._events[X]]}function Wo(G,X,Q){i=i||oe(),G=G||{},typeof Q!="boolean"&&(Q=X instanceof i),this.objectMode=!!G.objectMode,Q&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=x(this,G,"readableHighWaterMark",Q),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(Y||(Y=(Ge(),Ya(be)).StringDecoder),this.decoder=new Y(G.encoding),this.encoding=G.encoding)}function o(G){if(i=i||oe(),!(this instanceof o))return new o(G);var X=this instanceof i;this._readableState=new Wo(G,this,X),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),q.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),o.prototype.destroy=V.destroy,o.prototype._undestroy=V.undestroy,o.prototype._destroy=function(G,X){X(G)},o.prototype.push=function(G,X){var Q=this._readableState,$o;return Q.objectMode?$o=!0:typeof G=="string"&&(X=X||Q.defaultEncoding,X!==Q.encoding&&(G=u.from(G,X),X=""),$o=!0),e(this,G,X,!1,$o)},o.prototype.unshift=function(G){return e(this,G,null,!0,!1)};function e(G,X,Q,$o,wo){Z("readableAddChunk",X);var Mo=G._readableState;if(X===null)Mo.reading=!1,t(G,Mo);else{var Go;if(wo||(Go=s(Mo,X)),Go)to(G,Go);else if(Mo.objectMode||X&&X.length>0)if(typeof X!="string"&&!Mo.objectMode&&Object.getPrototypeOf(X)!==u.prototype&&(X=L(X)),$o)Mo.endEmitted?to(G,new P):c(G,Mo,X,!0);else if(Mo.ended)to(G,new E);else{if(Mo.destroyed)return!1;Mo.reading=!1,Mo.decoder&&!Q?(X=Mo.decoder.write(X),Mo.objectMode||X.length!==0?c(G,Mo,X,!1):S(G,Mo)):c(G,Mo,X,!1)}else $o||(Mo.reading=!1,S(G,Mo))}return!Mo.ended&&(Mo.length<Mo.highWaterMark||Mo.length===0)}function c(G,X,Q,$o){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,G.emit("data",Q)):(X.length+=X.objectMode?1:Q.length,$o?X.buffer.unshift(Q):X.buffer.push(Q),X.needReadable&&a(G)),S(G,X)}function s(G,X){var Q;return!y(X)&&typeof X!="string"&&X!==void 0&&!G.objectMode&&(Q=new g("chunk",["string","Buffer","Uint8Array"],X)),Q}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(G){Y||(Y=(Ge(),Ya(be)).StringDecoder);var X=new Y(G);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,$o="";Q!==null;)$o+=X.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),$o!==""&&this._readableState.buffer.push($o),this._readableState.length=$o.length,this};var p=1073741824;function _(G){return G>=p?G=p:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function N(G,X){return G<=0||X.length===0&&X.ended?0:X.objectMode?1:G!==G?X.flowing&&X.length?X.buffer.head.data.length:X.length:(G>X.highWaterMark&&(X.highWaterMark=_(G)),G<=X.length?G:X.ended?X.length:(X.needReadable=!0,0))}o.prototype.read=function(G){Z("read",G),G=parseInt(G,10);var X=this._readableState,Q=G;if(G!==0&&(X.emittedReadable=!1),G===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return Z("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?Eo(this):a(this),null;if(G=N(G,X),G===0&&X.ended)return X.length===0&&Eo(this),null;var $o=X.needReadable;Z("need readable",$o),(X.length===0||X.length-G<X.highWaterMark)&&($o=!0,Z("length less than watermark",$o)),X.ended||X.reading?($o=!1,Z("reading or ended",$o)):$o&&(Z("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(G=N(Q,X)));var wo;return G>0?wo=ho(G,X):wo=null,wo===null?(X.needReadable=X.length<=X.highWaterMark,G=0):(X.length-=G,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),Q!==G&&X.ended&&Eo(this)),wo!==null&&this.emit("data",wo),wo};function t(G,X){if(Z("onEofChunk"),!X.ended){if(X.decoder){var Q=X.decoder.end();Q&&Q.length&&(X.buffer.push(Q),X.length+=X.objectMode?1:Q.length)}X.ended=!0,X.sync?a(G):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,m(G)))}}function a(G){var X=G._readableState;Z("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(Z("emitReadable",X.flowing),X.emittedReadable=!0,process.nextTick(m,G))}function m(G){var X=G._readableState;Z("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(G.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,io(G)}function S(G,X){X.readingMore||(X.readingMore=!0,process.nextTick(w,G,X))}function w(G,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var Q=X.length;if(Z("maybeReadMore read 0"),G.read(0),Q===X.length)break}X.readingMore=!1}o.prototype._read=function(G){to(this,new z("_read()"))},o.prototype.pipe=function(G,X){var Q=this,$o=this._readableState;switch($o.pipesCount){case 0:$o.pipes=G;break;case 1:$o.pipes=[$o.pipes,G];break;default:$o.pipes.push(G);break}$o.pipesCount+=1,Z("pipe count=%d opts=%j",$o.pipesCount,X);var wo=(!X||X.end!==!1)&&G!==process.stdout&&G!==process.stderr,Mo=wo?Xo:r;$o.endEmitted?process.nextTick(Mo):Q.once("end",Mo),G.on("unpipe",Go);function Go(b,v){Z("onunpipe"),b===Q&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,Jo())}function Xo(){Z("onend"),G.end()}var jo=I(Q);G.on("drain",jo);var Qo=!1;function Jo(){Z("cleanup"),G.removeListener("close",W),G.removeListener("finish",n),G.removeListener("drain",jo),G.removeListener("error",ba),G.removeListener("unpipe",Go),Q.removeListener("end",Xo),Q.removeListener("end",r),Q.removeListener("data",So),Qo=!0,$o.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&jo()}Q.on("data",So);function So(b){Z("ondata");var v=G.write(b);Z("dest.write",v),v===!1&&(($o.pipesCount===1&&$o.pipes===G||$o.pipesCount>1&&Lo($o.pipes,G)!==-1)&&!Qo&&(Z("false write response, pause",$o.awaitDrain),$o.awaitDrain++),Q.pause())}function ba(b){Z("onerror",b),r(),G.removeListener("error",ba),f(G,"error")===0&&to(G,b)}co(G,"error",ba);function W(){G.removeListener("finish",n),r()}G.once("close",W);function n(){Z("onfinish"),G.removeListener("close",W),r()}G.once("finish",n);function r(){Z("unpipe"),Q.unpipe(G)}return G.emit("pipe",Q),$o.flowing||(Z("pipe resume"),Q.resume()),G};function I(G){return function(){var X=G._readableState;Z("pipeOnDrain",X.awaitDrain),X.awaitDrain&&X.awaitDrain--,X.awaitDrain===0&&f(G,"data")&&(X.flowing=!0,io(G))}}o.prototype.unpipe=function(G){var X=this._readableState,Q={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return G&&G!==X.pipes?this:(G||(G=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,G&&G.emit("unpipe",this,Q),this);if(!G){var{pipes:$o,pipesCount:wo}=X;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var Mo=0;Mo<wo;Mo++)$o[Mo].emit("unpipe",this,{hasUnpiped:!1});return this}var Go=Lo(X.pipes,G);return Go===-1?this:(X.pipes.splice(Go,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),G.emit("unpipe",this,Q),this)},o.prototype.on=function(G,X){var Q=q.prototype.on.call(this,G,X),$o=this._readableState;return G==="data"?($o.readableListening=this.listenerCount("readable")>0,$o.flowing!==!1&&this.resume()):G==="readable"&&!$o.endEmitted&&!$o.readableListening&&($o.readableListening=$o.needReadable=!0,$o.flowing=!1,$o.emittedReadable=!1,Z("on readable",$o.length,$o.reading),$o.length?a(this):$o.reading||process.nextTick(Ro,this)),Q},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(G,X){var Q=q.prototype.removeListener.call(this,G,X);return G==="readable"&&process.nextTick(fo,this),Q},o.prototype.removeAllListeners=function(G){var X=q.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(fo,this),X};function fo(G){var X=G._readableState;X.readableListening=G.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:G.listenerCount("data")>0&&G.resume()}function Ro(G){Z("readable nexttick read 0"),G.read(0)}o.prototype.resume=function(){var G=this._readableState;return G.flowing||(Z("resume"),G.flowing=!G.readableListening,qo(this,G)),G.paused=!1,this};function qo(G,X){X.resumeScheduled||(X.resumeScheduled=!0,process.nextTick(po,G,X))}function po(G,X){Z("resume",X.reading),X.reading||G.read(0),X.resumeScheduled=!1,G.emit("resume"),io(G),X.flowing&&!X.reading&&G.read(0)}o.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function io(G){var X=G._readableState;for(Z("flow",X.flowing);X.flowing&&G.read()!==null;);}o.prototype.wrap=function(G){var X=this,Q=this._readableState,$o=!1;G.on("end",function(){if(Z("wrapped end"),Q.decoder&&!Q.ended){var Go=Q.decoder.end();Go&&Go.length&&X.push(Go)}X.push(null)}),G.on("data",function(Go){if(Z("wrapped data"),Q.decoder&&(Go=Q.decoder.write(Go)),!(Q.objectMode&&Go==null)&&!(!Q.objectMode&&(!Go||!Go.length))){var Xo=X.push(Go);Xo||($o=!0,G.pause())}});for(var wo in G)this[wo]===void 0&&typeof G[wo]=="function"&&(this[wo]=function(Go){return function(){return G[Go].apply(G,arguments)}}(wo));for(var Mo=0;Mo<To.length;Mo++)G.on(To[Mo],this.emit.bind(this,To[Mo]));return this._read=function(Go){Z("wrapped _read",Go),$o&&($o=!1,G.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=Ic()),B(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),o._fromList=ho,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ho(G,X){if(X.length===0)return null;var Q;return X.objectMode?Q=X.buffer.shift():!G||G>=X.length?(X.decoder?Q=X.buffer.join(""):X.buffer.length===1?Q=X.buffer.first():Q=X.buffer.concat(X.length),X.buffer.clear()):Q=X.buffer.consume(G,X.decoder),Q}function Eo(G){var X=G._readableState;Z("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,process.nextTick(xo,X,G))}function xo(G,X){if(Z("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,X.readable=!1,X.emit("end"),G.autoDestroy)){var Q=X._writableState;(!Q||Q.autoDestroy&&Q.finished)&&X.destroy()}}typeof Symbol=="function"&&(o.from=function(G,X){return uo===void 0&&(uo=Gc()),uo(o,G,X)});function Lo(G,X){for(var Q=0,$o=G.length;Q<$o;Q++)if(G[Q]===X)return Q;return-1}}),kr=Uo((l,d)=>{d.exports=y;var i=An().codes,R=i.ERR_METHOD_NOT_IMPLEMENTED,f=i.ERR_MULTIPLE_CALLBACK,q=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=i.ERR_TRANSFORM_WITH_LENGTH_0,h=oe();da()(y,h);function L(T,V){var $=this._transformState;$.transforming=!1;var x=$.writecb;if(x===null)return this.emit("error",new f);$.writechunk=null,$.writecb=null,V!=null&&this.push(V),x(T);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function y(T){if(!(this instanceof y))return new y(T);h.call(this,T),this._transformState={afterTransform:L.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,T&&(typeof T.transform=="function"&&(this._transform=T.transform),typeof T.flush=="function"&&(this._flush=T.flush)),this.on("prefinish",k)}function k(){var T=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(V,$){Z(T,V,$)}):Z(this,null,null)}y.prototype.push=function(T,V){return this._transformState.needTransform=!1,h.prototype.push.call(this,T,V)},y.prototype._transform=function(T,V,$){$(new R("_transform()"))},y.prototype._write=function(T,V,$){var x=this._transformState;if(x.writecb=$,x.writechunk=T,x.writeencoding=V,!x.transforming){var O=this._readableState;(x.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},y.prototype._read=function(T){var V=this._transformState;V.writechunk!==null&&!V.transforming?(V.transforming=!0,this._transform(V.writechunk,V.writeencoding,V.afterTransform)):V.needTransform=!0},y.prototype._destroy=function(T,V){h.prototype._destroy.call(this,T,function($){V($)})};function Z(T,V,$){if(V)return T.emit("error",V);if($!=null&&T.push($),T._writableState.length)throw new u;if(T._transformState.transforming)throw new q;return T.push(null)}}),Dc=Uo((l,d)=>{d.exports=R;var i=kr();da()(R,i);function R(f){if(!(this instanceof R))return new R(f);i.call(this,f)}R.prototype._transform=function(f,q,u){u(null,f)}}),Hc=Uo((l,d)=>{var i;function R($){var x=!1;return function(){x||(x=!0,$.apply(void 0,arguments))}}var f=An().codes,q=f.ERR_MISSING_ARGS,u=f.ERR_STREAM_DESTROYED;function h($){if($)throw $}function L($){return $.setHeader&&typeof $.abort=="function"}function y($,x,O,g){g=R(g);var E=!1;$.on("close",function(){E=!0}),i===void 0&&(i=Bs()),i($,{readable:x,writable:O},function(P){if(P)return g(P);E=!0,g()});var z=!1;return function(P){if(!E&&!z){if(z=!0,L($))return $.abort();if(typeof $.destroy=="function")return $.destroy();g(P||new u("pipe"))}}}function k($){$()}function Z($,x){return $.pipe(x)}function T($){return!$.length||typeof $[$.length-1]!="function"?h:$.pop()}function V(){for(var $=arguments.length,x=new Array($),O=0;O<$;O++)x[O]=arguments[O];var g=T(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new q("streams");var E,z=x.map(function(P,Y){var B=Y<x.length-1,uo=Y>0;return y(P,B,uo,function(to){E||(E=to),to&&z.forEach(k),!B&&(z.forEach(k),g(E))})});return x.reduce(Z)}d.exports=V}),Yc=Uo((l,d)=>{l=d.exports=yr(),l.Stream=l,l.Readable=l,l.Writable=Zr(),l.Duplex=oe(),l.Transform=kr(),l.PassThrough=Dc(),l.finished=Bs(),l.pipeline=Hc()}),Cs=Uo((l,d)=>{(function(i,R){function f(s,p){if(!s)throw new Error(p||"Assertion failed")}function q(s,p){s.super_=p;var _=function(){};_.prototype=p.prototype,s.prototype=new _,s.prototype.constructor=s}function u(s,p,_){if(u.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((p==="le"||p==="be")&&(_=p,p=10),this._init(s||0,p||10,_||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(s){return s instanceof u?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===u.wordSize&&Array.isArray(s.words)},u.max=function(s,p){return s.cmp(p)>0?s:p},u.min=function(s,p){return s.cmp(p)<0?s:p},u.prototype._init=function(s,p,_){if(typeof s=="number")return this._initNumber(s,p,_);if(typeof s=="object")return this._initArray(s,p,_);p==="hex"&&(p=16),f(p===(p|0)&&p>=2&&p<=36),s=s.toString().replace(/\s+/g,"");var N=0;s[0]==="-"&&(N++,this.negative=1),N<s.length&&(p===16?this._parseHex(s,N,_):(this._parseBase(s,p,N),_==="le"&&this._initArray(this.toArray(),p,_)))},u.prototype._initNumber=function(s,p,_){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(f(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),p,_)},u.prototype._initArray=function(s,p,_){if(f(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var t,a,m=0;if(_==="be")for(N=s.length-1,t=0;N>=0;N-=3)a=s[N]|s[N-1]<<8|s[N-2]<<16,this.words[t]|=a<<m&67108863,this.words[t+1]=a>>>26-m&67108863,m+=24,m>=26&&(m-=26,t++);else if(_==="le")for(N=0,t=0;N<s.length;N+=3)a=s[N]|s[N+1]<<8|s[N+2]<<16,this.words[t]|=a<<m&67108863,this.words[t+1]=a>>>26-m&67108863,m+=24,m>=26&&(m-=26,t++);return this._strip()};function L(s,p){var _=s.charCodeAt(p);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;f(!1,"Invalid character in "+s)}function y(s,p,_){var N=L(s,_);return _-1>=p&&(N|=L(s,_-1)<<4),N}u.prototype._parseHex=function(s,p,_){this.length=Math.ceil((s.length-p)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var t=0,a=0,m;if(_==="be")for(N=s.length-1;N>=p;N-=2)m=y(s,p,N)<<t,this.words[a]|=m&67108863,t>=18?(t-=18,a+=1,this.words[a]|=m>>>26):t+=8;else{var S=s.length-p;for(N=S%2===0?p+1:p;N<s.length;N+=2)m=y(s,p,N)<<t,this.words[a]|=m&67108863,t>=18?(t-=18,a+=1,this.words[a]|=m>>>26):t+=8}this._strip()};function k(s,p,_,N){for(var t=0,a=0,m=Math.min(s.length,_),S=p;S<m;S++){var w=s.charCodeAt(S)-48;t*=N,w>=49?a=w-49+10:w>=17?a=w-17+10:a=w,f(w>=0&&a<N,"Invalid character"),t+=a}return t}u.prototype._parseBase=function(s,p,_){this.words=[0],this.length=1;for(var N=0,t=1;t<=67108863;t*=p)N++;N--,t=t/p|0;for(var a=s.length-_,m=a%N,S=Math.min(a,a-m)+_,w=0,I=_;I<S;I+=N)w=k(s,I,I+N,p),this.imuln(t),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(m!==0){var fo=1;for(w=k(s,I,s.length,p),I=0;I<m;I++)fo*=p;this.imuln(fo),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},u.prototype.copy=function(s){s.words=new Array(this.length);for(var p=0;p<this.length;p++)s.words[p]=this.words[p];s.length=this.length,s.negative=this.negative,s.red=this.red};function Z(s,p){s.words=p.words,s.length=p.length,s.negative=p.negative,s.red=p.red}if(u.prototype._move=function(s){Z(s,this)},u.prototype.clone=function(){var s=new u(null);return this.copy(s),s},u.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{u.prototype.inspect=T}else u.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(s,p){s=s||10,p=p|0||1;var _;if(s===16||s==="hex"){_="";for(var N=0,t=0,a=0;a<this.length;a++){var m=this.words[a],S=((m<<N|t)&16777215).toString(16);t=m>>>24-N&16777215,N+=2,N>=26&&(N-=26,a--),t!==0||a!==this.length-1?_=V[6-S.length]+S+_:_=S+_}for(t!==0&&(_=t.toString(16)+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(s===(s|0)&&s>=2&&s<=36){var w=$[s],I=x[s];_="";var fo=this.clone();for(fo.negative=0;!fo.isZero();){var Ro=fo.modrn(I).toString(s);fo=fo.idivn(I),fo.isZero()?_=Ro+_:_=V[w-Ro.length]+Ro+_}for(this.isZero()&&(_="0"+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},u.prototype.toJSON=function(){return this.toString(16,2)},h&&(u.prototype.toBuffer=function(s,p){return this.toArrayLike(h,s,p)}),u.prototype.toArray=function(s,p){return this.toArrayLike(Array,s,p)};var O=function(s,p){return s.allocUnsafe?s.allocUnsafe(p):new s(p)};u.prototype.toArrayLike=function(s,p,_){this._strip();var N=this.byteLength(),t=_||Math.max(1,N);f(N<=t,"byte array longer than desired length"),f(t>0,"Requested array length <= 0");var a=O(s,t),m=p==="le"?"LE":"BE";return this["_toArrayLike"+m](a,N),a},u.prototype._toArrayLikeLE=function(s,p){for(var _=0,N=0,t=0,a=0;t<this.length;t++){var m=this.words[t]<<a|N;s[_++]=m&255,_<s.length&&(s[_++]=m>>8&255),_<s.length&&(s[_++]=m>>16&255),a===6?(_<s.length&&(s[_++]=m>>24&255),N=0,a=0):(N=m>>>24,a+=2)}if(_<s.length)for(s[_++]=N;_<s.length;)s[_++]=0},u.prototype._toArrayLikeBE=function(s,p){for(var _=s.length-1,N=0,t=0,a=0;t<this.length;t++){var m=this.words[t]<<a|N;s[_--]=m&255,_>=0&&(s[_--]=m>>8&255),_>=0&&(s[_--]=m>>16&255),a===6?(_>=0&&(s[_--]=m>>24&255),N=0,a=0):(N=m>>>24,a+=2)}if(_>=0)for(s[_--]=N;_>=0;)s[_--]=0},Math.clz32?u.prototype._countBits=function(s){return 32-Math.clz32(s)}:u.prototype._countBits=function(s){var p=s,_=0;return p>=4096&&(_+=13,p>>>=13),p>=64&&(_+=7,p>>>=7),p>=8&&(_+=4,p>>>=4),p>=2&&(_+=2,p>>>=2),_+p},u.prototype._zeroBits=function(s){if(s===0)return 26;var p=s,_=0;return(p&8191)===0&&(_+=13,p>>>=13),(p&127)===0&&(_+=7,p>>>=7),(p&15)===0&&(_+=4,p>>>=4),(p&3)===0&&(_+=2,p>>>=2),(p&1)===0&&_++,_},u.prototype.bitLength=function(){var s=this.words[this.length-1],p=this._countBits(s);return(this.length-1)*26+p};function g(s){for(var p=new Array(s.bitLength()),_=0;_<p.length;_++){var N=_/26|0,t=_%26;p[_]=s.words[N]>>>t&1}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,p=0;p<this.length;p++){var _=this._zeroBits(this.words[p]);if(s+=_,_!==26)break}return s},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},u.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var p=0;p<s.length;p++)this.words[p]=this.words[p]|s.words[p];return this._strip()},u.prototype.ior=function(s){return f((this.negative|s.negative)===0),this.iuor(s)},u.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},u.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},u.prototype.iuand=function(s){var p;this.length>s.length?p=s:p=this;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]&s.words[_];return this.length=p.length,this._strip()},u.prototype.iand=function(s){return f((this.negative|s.negative)===0),this.iuand(s)},u.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},u.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},u.prototype.iuxor=function(s){var p,_;this.length>s.length?(p=this,_=s):(p=s,_=this);for(var N=0;N<_.length;N++)this.words[N]=p.words[N]^_.words[N];if(this!==p)for(;N<p.length;N++)this.words[N]=p.words[N];return this.length=p.length,this._strip()},u.prototype.ixor=function(s){return f((this.negative|s.negative)===0),this.iuxor(s)},u.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},u.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},u.prototype.inotn=function(s){f(typeof s=="number"&&s>=0);var p=Math.ceil(s/26)|0,_=s%26;this._expand(p),_>0&&p--;for(var N=0;N<p;N++)this.words[N]=~this.words[N]&67108863;return _>0&&(this.words[N]=~this.words[N]&67108863>>26-_),this._strip()},u.prototype.notn=function(s){return this.clone().inotn(s)},u.prototype.setn=function(s,p){f(typeof s=="number"&&s>=0);var _=s/26|0,N=s%26;return this._expand(_+1),p?this.words[_]=this.words[_]|1<<N:this.words[_]=this.words[_]&~(1<<N),this._strip()},u.prototype.iadd=function(s){var p;if(this.negative!==0&&s.negative===0)return this.negative=0,p=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,p=this.isub(s),s.negative=1,p._normSign();var _,N;this.length>s.length?(_=this,N=s):(_=s,N=this);for(var t=0,a=0;a<N.length;a++)p=(_.words[a]|0)+(N.words[a]|0)+t,this.words[a]=p&67108863,t=p>>>26;for(;t!==0&&a<_.length;a++)p=(_.words[a]|0)+t,this.words[a]=p&67108863,t=p>>>26;if(this.length=_.length,t!==0)this.words[this.length]=t,this.length++;else if(_!==this)for(;a<_.length;a++)this.words[a]=_.words[a];return this},u.prototype.add=function(s){var p;return s.negative!==0&&this.negative===0?(s.negative=0,p=this.sub(s),s.negative^=1,p):s.negative===0&&this.negative!==0?(this.negative=0,p=s.sub(this),this.negative=1,p):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},u.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var p=this.iadd(s);return s.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var _=this.cmp(s);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,t;_>0?(N=this,t=s):(N=s,t=this);for(var a=0,m=0;m<t.length;m++)p=(N.words[m]|0)-(t.words[m]|0)+a,a=p>>26,this.words[m]=p&67108863;for(;a!==0&&m<N.length;m++)p=(N.words[m]|0)+a,a=p>>26,this.words[m]=p&67108863;if(a===0&&m<N.length&&N!==this)for(;m<N.length;m++)this.words[m]=N.words[m];return this.length=Math.max(this.length,m),N!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(s){return this.clone().isub(s)};function E(s,p,_){_.negative=p.negative^s.negative;var N=s.length+p.length|0;_.length=N,N=N-1|0;var t=s.words[0]|0,a=p.words[0]|0,m=t*a,S=m&67108863,w=m/67108864|0;_.words[0]=S;for(var I=1;I<N;I++){for(var fo=w>>>26,Ro=w&67108863,qo=Math.min(I,p.length-1),po=Math.max(0,I-s.length+1);po<=qo;po++){var io=I-po|0;t=s.words[io]|0,a=p.words[po]|0,m=t*a+Ro,fo+=m/67108864|0,Ro=m&67108863}_.words[I]=Ro|0,w=fo|0}return w!==0?_.words[I]=w|0:_.length--,_._strip()}var z=function(s,p,_){var N=s.words,t=p.words,a=_.words,m=0,S,w,I,fo=N[0]|0,Ro=fo&8191,qo=fo>>>13,po=N[1]|0,io=po&8191,ho=po>>>13,Eo=N[2]|0,xo=Eo&8191,Lo=Eo>>>13,G=N[3]|0,X=G&8191,Q=G>>>13,$o=N[4]|0,wo=$o&8191,Mo=$o>>>13,Go=N[5]|0,Xo=Go&8191,jo=Go>>>13,Qo=N[6]|0,Jo=Qo&8191,So=Qo>>>13,ba=N[7]|0,W=ba&8191,n=ba>>>13,r=N[8]|0,b=r&8191,v=r>>>13,M=N[9]|0,F=M&8191,U=M>>>13,K=t[0]|0,j=K&8191,J=K>>>13,ao=t[1]|0,H=ao&8191,D=ao>>>13,eo=t[2]|0,A=eo&8191,ro=eo>>>13,vo=t[3]|0,oo=vo&8191,no=vo>>>13,so=t[4]|0,C=so&8191,lo=so>>>13,_o=t[5]|0,mo=_o&8191,bo=_o>>>13,Oo=t[6]|0,No=Oo&8191,yo=Oo>>>13,zo=t[7]|0,ko=zo&8191,Zo=zo>>>13,go=t[8]|0,Vo=go&8191,Fo=go>>>13,Po=t[9]|0,Ko=Po&8191,Io=Po>>>13;_.negative=s.negative^p.negative,_.length=19,S=Math.imul(Ro,j),w=Math.imul(Ro,J),w=w+Math.imul(qo,j)|0,I=Math.imul(qo,J);var Bo=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,S=Math.imul(io,j),w=Math.imul(io,J),w=w+Math.imul(ho,j)|0,I=Math.imul(ho,J),S=S+Math.imul(Ro,H)|0,w=w+Math.imul(Ro,D)|0,w=w+Math.imul(qo,H)|0,I=I+Math.imul(qo,D)|0;var Ho=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,S=Math.imul(xo,j),w=Math.imul(xo,J),w=w+Math.imul(Lo,j)|0,I=Math.imul(Lo,J),S=S+Math.imul(io,H)|0,w=w+Math.imul(io,D)|0,w=w+Math.imul(ho,H)|0,I=I+Math.imul(ho,D)|0,S=S+Math.imul(Ro,A)|0,w=w+Math.imul(Ro,ro)|0,w=w+Math.imul(qo,A)|0,I=I+Math.imul(qo,ro)|0;var Ao=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,S=Math.imul(X,j),w=Math.imul(X,J),w=w+Math.imul(Q,j)|0,I=Math.imul(Q,J),S=S+Math.imul(xo,H)|0,w=w+Math.imul(xo,D)|0,w=w+Math.imul(Lo,H)|0,I=I+Math.imul(Lo,D)|0,S=S+Math.imul(io,A)|0,w=w+Math.imul(io,ro)|0,w=w+Math.imul(ho,A)|0,I=I+Math.imul(ho,ro)|0,S=S+Math.imul(Ro,oo)|0,w=w+Math.imul(Ro,no)|0,w=w+Math.imul(qo,oo)|0,I=I+Math.imul(qo,no)|0;var Do=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Do>>>26)|0,Do&=67108863,S=Math.imul(wo,j),w=Math.imul(wo,J),w=w+Math.imul(Mo,j)|0,I=Math.imul(Mo,J),S=S+Math.imul(X,H)|0,w=w+Math.imul(X,D)|0,w=w+Math.imul(Q,H)|0,I=I+Math.imul(Q,D)|0,S=S+Math.imul(xo,A)|0,w=w+Math.imul(xo,ro)|0,w=w+Math.imul(Lo,A)|0,I=I+Math.imul(Lo,ro)|0,S=S+Math.imul(io,oo)|0,w=w+Math.imul(io,no)|0,w=w+Math.imul(ho,oo)|0,I=I+Math.imul(ho,no)|0,S=S+Math.imul(Ro,C)|0,w=w+Math.imul(Ro,lo)|0,w=w+Math.imul(qo,C)|0,I=I+Math.imul(qo,lo)|0;var oa=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(oa>>>26)|0,oa&=67108863,S=Math.imul(Xo,j),w=Math.imul(Xo,J),w=w+Math.imul(jo,j)|0,I=Math.imul(jo,J),S=S+Math.imul(wo,H)|0,w=w+Math.imul(wo,D)|0,w=w+Math.imul(Mo,H)|0,I=I+Math.imul(Mo,D)|0,S=S+Math.imul(X,A)|0,w=w+Math.imul(X,ro)|0,w=w+Math.imul(Q,A)|0,I=I+Math.imul(Q,ro)|0,S=S+Math.imul(xo,oo)|0,w=w+Math.imul(xo,no)|0,w=w+Math.imul(Lo,oo)|0,I=I+Math.imul(Lo,no)|0,S=S+Math.imul(io,C)|0,w=w+Math.imul(io,lo)|0,w=w+Math.imul(ho,C)|0,I=I+Math.imul(ho,lo)|0,S=S+Math.imul(Ro,mo)|0,w=w+Math.imul(Ro,bo)|0,w=w+Math.imul(qo,mo)|0,I=I+Math.imul(qo,bo)|0;var Yo=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,S=Math.imul(Jo,j),w=Math.imul(Jo,J),w=w+Math.imul(So,j)|0,I=Math.imul(So,J),S=S+Math.imul(Xo,H)|0,w=w+Math.imul(Xo,D)|0,w=w+Math.imul(jo,H)|0,I=I+Math.imul(jo,D)|0,S=S+Math.imul(wo,A)|0,w=w+Math.imul(wo,ro)|0,w=w+Math.imul(Mo,A)|0,I=I+Math.imul(Mo,ro)|0,S=S+Math.imul(X,oo)|0,w=w+Math.imul(X,no)|0,w=w+Math.imul(Q,oo)|0,I=I+Math.imul(Q,no)|0,S=S+Math.imul(xo,C)|0,w=w+Math.imul(xo,lo)|0,w=w+Math.imul(Lo,C)|0,I=I+Math.imul(Lo,lo)|0,S=S+Math.imul(io,mo)|0,w=w+Math.imul(io,bo)|0,w=w+Math.imul(ho,mo)|0,I=I+Math.imul(ho,bo)|0,S=S+Math.imul(Ro,No)|0,w=w+Math.imul(Ro,yo)|0,w=w+Math.imul(qo,No)|0,I=I+Math.imul(qo,yo)|0;var ra=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ra>>>26)|0,ra&=67108863,S=Math.imul(W,j),w=Math.imul(W,J),w=w+Math.imul(n,j)|0,I=Math.imul(n,J),S=S+Math.imul(Jo,H)|0,w=w+Math.imul(Jo,D)|0,w=w+Math.imul(So,H)|0,I=I+Math.imul(So,D)|0,S=S+Math.imul(Xo,A)|0,w=w+Math.imul(Xo,ro)|0,w=w+Math.imul(jo,A)|0,I=I+Math.imul(jo,ro)|0,S=S+Math.imul(wo,oo)|0,w=w+Math.imul(wo,no)|0,w=w+Math.imul(Mo,oo)|0,I=I+Math.imul(Mo,no)|0,S=S+Math.imul(X,C)|0,w=w+Math.imul(X,lo)|0,w=w+Math.imul(Q,C)|0,I=I+Math.imul(Q,lo)|0,S=S+Math.imul(xo,mo)|0,w=w+Math.imul(xo,bo)|0,w=w+Math.imul(Lo,mo)|0,I=I+Math.imul(Lo,bo)|0,S=S+Math.imul(io,No)|0,w=w+Math.imul(io,yo)|0,w=w+Math.imul(ho,No)|0,I=I+Math.imul(ho,yo)|0,S=S+Math.imul(Ro,ko)|0,w=w+Math.imul(Ro,Zo)|0,w=w+Math.imul(qo,ko)|0,I=I+Math.imul(qo,Zo)|0;var aa=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(aa>>>26)|0,aa&=67108863,S=Math.imul(b,j),w=Math.imul(b,J),w=w+Math.imul(v,j)|0,I=Math.imul(v,J),S=S+Math.imul(W,H)|0,w=w+Math.imul(W,D)|0,w=w+Math.imul(n,H)|0,I=I+Math.imul(n,D)|0,S=S+Math.imul(Jo,A)|0,w=w+Math.imul(Jo,ro)|0,w=w+Math.imul(So,A)|0,I=I+Math.imul(So,ro)|0,S=S+Math.imul(Xo,oo)|0,w=w+Math.imul(Xo,no)|0,w=w+Math.imul(jo,oo)|0,I=I+Math.imul(jo,no)|0,S=S+Math.imul(wo,C)|0,w=w+Math.imul(wo,lo)|0,w=w+Math.imul(Mo,C)|0,I=I+Math.imul(Mo,lo)|0,S=S+Math.imul(X,mo)|0,w=w+Math.imul(X,bo)|0,w=w+Math.imul(Q,mo)|0,I=I+Math.imul(Q,bo)|0,S=S+Math.imul(xo,No)|0,w=w+Math.imul(xo,yo)|0,w=w+Math.imul(Lo,No)|0,I=I+Math.imul(Lo,yo)|0,S=S+Math.imul(io,ko)|0,w=w+Math.imul(io,Zo)|0,w=w+Math.imul(ho,ko)|0,I=I+Math.imul(ho,Zo)|0,S=S+Math.imul(Ro,Vo)|0,w=w+Math.imul(Ro,Fo)|0,w=w+Math.imul(qo,Vo)|0,I=I+Math.imul(qo,Fo)|0;var sa=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(sa>>>26)|0,sa&=67108863,S=Math.imul(F,j),w=Math.imul(F,J),w=w+Math.imul(U,j)|0,I=Math.imul(U,J),S=S+Math.imul(b,H)|0,w=w+Math.imul(b,D)|0,w=w+Math.imul(v,H)|0,I=I+Math.imul(v,D)|0,S=S+Math.imul(W,A)|0,w=w+Math.imul(W,ro)|0,w=w+Math.imul(n,A)|0,I=I+Math.imul(n,ro)|0,S=S+Math.imul(Jo,oo)|0,w=w+Math.imul(Jo,no)|0,w=w+Math.imul(So,oo)|0,I=I+Math.imul(So,no)|0,S=S+Math.imul(Xo,C)|0,w=w+Math.imul(Xo,lo)|0,w=w+Math.imul(jo,C)|0,I=I+Math.imul(jo,lo)|0,S=S+Math.imul(wo,mo)|0,w=w+Math.imul(wo,bo)|0,w=w+Math.imul(Mo,mo)|0,I=I+Math.imul(Mo,bo)|0,S=S+Math.imul(X,No)|0,w=w+Math.imul(X,yo)|0,w=w+Math.imul(Q,No)|0,I=I+Math.imul(Q,yo)|0,S=S+Math.imul(xo,ko)|0,w=w+Math.imul(xo,Zo)|0,w=w+Math.imul(Lo,ko)|0,I=I+Math.imul(Lo,Zo)|0,S=S+Math.imul(io,Vo)|0,w=w+Math.imul(io,Fo)|0,w=w+Math.imul(ho,Vo)|0,I=I+Math.imul(ho,Fo)|0,S=S+Math.imul(Ro,Ko)|0,w=w+Math.imul(Ro,Io)|0,w=w+Math.imul(qo,Ko)|0,I=I+Math.imul(qo,Io)|0;var la=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(la>>>26)|0,la&=67108863,S=Math.imul(F,H),w=Math.imul(F,D),w=w+Math.imul(U,H)|0,I=Math.imul(U,D),S=S+Math.imul(b,A)|0,w=w+Math.imul(b,ro)|0,w=w+Math.imul(v,A)|0,I=I+Math.imul(v,ro)|0,S=S+Math.imul(W,oo)|0,w=w+Math.imul(W,no)|0,w=w+Math.imul(n,oo)|0,I=I+Math.imul(n,no)|0,S=S+Math.imul(Jo,C)|0,w=w+Math.imul(Jo,lo)|0,w=w+Math.imul(So,C)|0,I=I+Math.imul(So,lo)|0,S=S+Math.imul(Xo,mo)|0,w=w+Math.imul(Xo,bo)|0,w=w+Math.imul(jo,mo)|0,I=I+Math.imul(jo,bo)|0,S=S+Math.imul(wo,No)|0,w=w+Math.imul(wo,yo)|0,w=w+Math.imul(Mo,No)|0,I=I+Math.imul(Mo,yo)|0,S=S+Math.imul(X,ko)|0,w=w+Math.imul(X,Zo)|0,w=w+Math.imul(Q,ko)|0,I=I+Math.imul(Q,Zo)|0,S=S+Math.imul(xo,Vo)|0,w=w+Math.imul(xo,Fo)|0,w=w+Math.imul(Lo,Vo)|0,I=I+Math.imul(Lo,Fo)|0,S=S+Math.imul(io,Ko)|0,w=w+Math.imul(io,Io)|0,w=w+Math.imul(ho,Ko)|0,I=I+Math.imul(ho,Io)|0;var ea=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ea>>>26)|0,ea&=67108863,S=Math.imul(F,A),w=Math.imul(F,ro),w=w+Math.imul(U,A)|0,I=Math.imul(U,ro),S=S+Math.imul(b,oo)|0,w=w+Math.imul(b,no)|0,w=w+Math.imul(v,oo)|0,I=I+Math.imul(v,no)|0,S=S+Math.imul(W,C)|0,w=w+Math.imul(W,lo)|0,w=w+Math.imul(n,C)|0,I=I+Math.imul(n,lo)|0,S=S+Math.imul(Jo,mo)|0,w=w+Math.imul(Jo,bo)|0,w=w+Math.imul(So,mo)|0,I=I+Math.imul(So,bo)|0,S=S+Math.imul(Xo,No)|0,w=w+Math.imul(Xo,yo)|0,w=w+Math.imul(jo,No)|0,I=I+Math.imul(jo,yo)|0,S=S+Math.imul(wo,ko)|0,w=w+Math.imul(wo,Zo)|0,w=w+Math.imul(Mo,ko)|0,I=I+Math.imul(Mo,Zo)|0,S=S+Math.imul(X,Vo)|0,w=w+Math.imul(X,Fo)|0,w=w+Math.imul(Q,Vo)|0,I=I+Math.imul(Q,Fo)|0,S=S+Math.imul(xo,Ko)|0,w=w+Math.imul(xo,Io)|0,w=w+Math.imul(Lo,Ko)|0,I=I+Math.imul(Lo,Io)|0;var ma=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ma>>>26)|0,ma&=67108863,S=Math.imul(F,oo),w=Math.imul(F,no),w=w+Math.imul(U,oo)|0,I=Math.imul(U,no),S=S+Math.imul(b,C)|0,w=w+Math.imul(b,lo)|0,w=w+Math.imul(v,C)|0,I=I+Math.imul(v,lo)|0,S=S+Math.imul(W,mo)|0,w=w+Math.imul(W,bo)|0,w=w+Math.imul(n,mo)|0,I=I+Math.imul(n,bo)|0,S=S+Math.imul(Jo,No)|0,w=w+Math.imul(Jo,yo)|0,w=w+Math.imul(So,No)|0,I=I+Math.imul(So,yo)|0,S=S+Math.imul(Xo,ko)|0,w=w+Math.imul(Xo,Zo)|0,w=w+Math.imul(jo,ko)|0,I=I+Math.imul(jo,Zo)|0,S=S+Math.imul(wo,Vo)|0,w=w+Math.imul(wo,Fo)|0,w=w+Math.imul(Mo,Vo)|0,I=I+Math.imul(Mo,Fo)|0,S=S+Math.imul(X,Ko)|0,w=w+Math.imul(X,Io)|0,w=w+Math.imul(Q,Ko)|0,I=I+Math.imul(Q,Io)|0;var ta=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ta>>>26)|0,ta&=67108863,S=Math.imul(F,C),w=Math.imul(F,lo),w=w+Math.imul(U,C)|0,I=Math.imul(U,lo),S=S+Math.imul(b,mo)|0,w=w+Math.imul(b,bo)|0,w=w+Math.imul(v,mo)|0,I=I+Math.imul(v,bo)|0,S=S+Math.imul(W,No)|0,w=w+Math.imul(W,yo)|0,w=w+Math.imul(n,No)|0,I=I+Math.imul(n,yo)|0,S=S+Math.imul(Jo,ko)|0,w=w+Math.imul(Jo,Zo)|0,w=w+Math.imul(So,ko)|0,I=I+Math.imul(So,Zo)|0,S=S+Math.imul(Xo,Vo)|0,w=w+Math.imul(Xo,Fo)|0,w=w+Math.imul(jo,Vo)|0,I=I+Math.imul(jo,Fo)|0,S=S+Math.imul(wo,Ko)|0,w=w+Math.imul(wo,Io)|0,w=w+Math.imul(Mo,Ko)|0,I=I+Math.imul(Mo,Io)|0;var _a=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(_a>>>26)|0,_a&=67108863,S=Math.imul(F,mo),w=Math.imul(F,bo),w=w+Math.imul(U,mo)|0,I=Math.imul(U,bo),S=S+Math.imul(b,No)|0,w=w+Math.imul(b,yo)|0,w=w+Math.imul(v,No)|0,I=I+Math.imul(v,yo)|0,S=S+Math.imul(W,ko)|0,w=w+Math.imul(W,Zo)|0,w=w+Math.imul(n,ko)|0,I=I+Math.imul(n,Zo)|0,S=S+Math.imul(Jo,Vo)|0,w=w+Math.imul(Jo,Fo)|0,w=w+Math.imul(So,Vo)|0,I=I+Math.imul(So,Fo)|0,S=S+Math.imul(Xo,Ko)|0,w=w+Math.imul(Xo,Io)|0,w=w+Math.imul(jo,Ko)|0,I=I+Math.imul(jo,Io)|0;var ua=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ua>>>26)|0,ua&=67108863,S=Math.imul(F,No),w=Math.imul(F,yo),w=w+Math.imul(U,No)|0,I=Math.imul(U,yo),S=S+Math.imul(b,ko)|0,w=w+Math.imul(b,Zo)|0,w=w+Math.imul(v,ko)|0,I=I+Math.imul(v,Zo)|0,S=S+Math.imul(W,Vo)|0,w=w+Math.imul(W,Fo)|0,w=w+Math.imul(n,Vo)|0,I=I+Math.imul(n,Fo)|0,S=S+Math.imul(Jo,Ko)|0,w=w+Math.imul(Jo,Io)|0,w=w+Math.imul(So,Ko)|0,I=I+Math.imul(So,Io)|0;var ca=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(ca>>>26)|0,ca&=67108863,S=Math.imul(F,ko),w=Math.imul(F,Zo),w=w+Math.imul(U,ko)|0,I=Math.imul(U,Zo),S=S+Math.imul(b,Vo)|0,w=w+Math.imul(b,Fo)|0,w=w+Math.imul(v,Vo)|0,I=I+Math.imul(v,Fo)|0,S=S+Math.imul(W,Ko)|0,w=w+Math.imul(W,Io)|0,w=w+Math.imul(n,Ko)|0,I=I+Math.imul(n,Io)|0;var $a=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+($a>>>26)|0,$a&=67108863,S=Math.imul(F,Vo),w=Math.imul(F,Fo),w=w+Math.imul(U,Vo)|0,I=Math.imul(U,Fo),S=S+Math.imul(b,Ko)|0,w=w+Math.imul(b,Io)|0,w=w+Math.imul(v,Ko)|0,I=I+Math.imul(v,Io)|0;var Sa=(m+S|0)+((w&8191)<<13)|0;m=(I+(w>>>13)|0)+(Sa>>>26)|0,Sa&=67108863,S=Math.imul(F,Ko),w=Math.imul(F,Io),w=w+Math.imul(U,Ko)|0,I=Math.imul(U,Io);var Ta=(m+S|0)+((w&8191)<<13)|0;return m=(I+(w>>>13)|0)+(Ta>>>26)|0,Ta&=67108863,a[0]=Bo,a[1]=Ho,a[2]=Ao,a[3]=Do,a[4]=oa,a[5]=Yo,a[6]=ra,a[7]=aa,a[8]=sa,a[9]=la,a[10]=ea,a[11]=ma,a[12]=ta,a[13]=_a,a[14]=ua,a[15]=ca,a[16]=$a,a[17]=Sa,a[18]=Ta,m!==0&&(a[19]=m,_.length++),_};Math.imul||(z=E);function P(s,p,_){_.negative=p.negative^s.negative,_.length=s.length+p.length;for(var N=0,t=0,a=0;a<_.length-1;a++){var m=t;t=0;for(var S=N&67108863,w=Math.min(a,p.length-1),I=Math.max(0,a-s.length+1);I<=w;I++){var fo=a-I,Ro=s.words[fo]|0,qo=p.words[I]|0,po=Ro*qo,io=po&67108863;m=m+(po/67108864|0)|0,io=io+S|0,S=io&67108863,m=m+(io>>>26)|0,t+=m>>>26,m&=67108863}_.words[a]=S,N=m,m=t}return N!==0?_.words[a]=N:_.length--,_._strip()}function Y(s,p,_){return P(s,p,_)}u.prototype.mulTo=function(s,p){var _,N=this.length+s.length;return this.length===10&&s.length===10?_=z(this,s,p):N<63?_=E(this,s,p):N<1024?_=P(this,s,p):_=Y(this,s,p),_};function B(s,p){this.x=s,this.y=p}B.prototype.makeRBT=function(s){for(var p=new Array(s),_=u.prototype._countBits(s)-1,N=0;N<s;N++)p[N]=this.revBin(N,_,s);return p},B.prototype.revBin=function(s,p,_){if(s===0||s===_-1)return s;for(var N=0,t=0;t<p;t++)N|=(s&1)<<p-t-1,s>>=1;return N},B.prototype.permute=function(s,p,_,N,t,a){for(var m=0;m<a;m++)N[m]=p[s[m]],t[m]=_[s[m]]},B.prototype.transform=function(s,p,_,N,t,a){this.permute(a,s,p,_,N,t);for(var m=1;m<t;m<<=1)for(var S=m<<1,w=Math.cos(2*Math.PI/S),I=Math.sin(2*Math.PI/S),fo=0;fo<t;fo+=S)for(var Ro=w,qo=I,po=0;po<m;po++){var io=_[fo+po],ho=N[fo+po],Eo=_[fo+po+m],xo=N[fo+po+m],Lo=Ro*Eo-qo*xo;xo=Ro*xo+qo*Eo,Eo=Lo,_[fo+po]=io+Eo,N[fo+po]=ho+xo,_[fo+po+m]=io-Eo,N[fo+po+m]=ho-xo,po!==S&&(Lo=w*Ro-I*qo,qo=w*qo+I*Ro,Ro=Lo)}},B.prototype.guessLen13b=function(s,p){var _=Math.max(p,s)|1,N=_&1,t=0;for(_=_/2|0;_;_=_>>>1)t++;return 1<<t+1+N},B.prototype.conjugate=function(s,p,_){if(!(_<=1))for(var N=0;N<_/2;N++){var t=s[N];s[N]=s[_-N-1],s[_-N-1]=t,t=p[N],p[N]=-p[_-N-1],p[_-N-1]=-t}},B.prototype.normalize13b=function(s,p){for(var _=0,N=0;N<p/2;N++){var t=Math.round(s[2*N+1]/p)*8192+Math.round(s[2*N]/p)+_;s[N]=t&67108863,t<67108864?_=0:_=t/67108864|0}return s},B.prototype.convert13b=function(s,p,_,N){for(var t=0,a=0;a<p;a++)t=t+(s[a]|0),_[2*a]=t&8191,t=t>>>13,_[2*a+1]=t&8191,t=t>>>13;for(a=2*p;a<N;++a)_[a]=0;f(t===0),f((t&-8192)===0)},B.prototype.stub=function(s){for(var p=new Array(s),_=0;_<s;_++)p[_]=0;return p},B.prototype.mulp=function(s,p,_){var N=2*this.guessLen13b(s.length,p.length),t=this.makeRBT(N),a=this.stub(N),m=new Array(N),S=new Array(N),w=new Array(N),I=new Array(N),fo=new Array(N),Ro=new Array(N),qo=_.words;qo.length=N,this.convert13b(s.words,s.length,m,N),this.convert13b(p.words,p.length,I,N),this.transform(m,a,S,w,N,t),this.transform(I,a,fo,Ro,N,t);for(var po=0;po<N;po++){var io=S[po]*fo[po]-w[po]*Ro[po];w[po]=S[po]*Ro[po]+w[po]*fo[po],S[po]=io}return this.conjugate(S,w,N),this.transform(S,w,qo,a,N,t),this.conjugate(qo,a,N),this.normalize13b(qo,N),_.negative=s.negative^p.negative,_.length=s.length+p.length,_._strip()},u.prototype.mul=function(s){var p=new u(null);return p.words=new Array(this.length+s.length),this.mulTo(s,p)},u.prototype.mulf=function(s){var p=new u(null);return p.words=new Array(this.length+s.length),Y(this,s,p)},u.prototype.imul=function(s){return this.clone().mulTo(s,this)},u.prototype.imuln=function(s){var p=s<0;p&&(s=-s),f(typeof s=="number"),f(s<67108864);for(var _=0,N=0;N<this.length;N++){var t=(this.words[N]|0)*s,a=(t&67108863)+(_&67108863);_>>=26,_+=t/67108864|0,_+=a>>>26,this.words[N]=a&67108863}return _!==0&&(this.words[N]=_,this.length++),p?this.ineg():this},u.prototype.muln=function(s){return this.clone().imuln(s)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(s){var p=g(s);if(p.length===0)return new u(1);for(var _=this,N=0;N<p.length&&p[N]===0;N++,_=_.sqr());if(++N<p.length)for(var t=_.sqr();N<p.length;N++,t=t.sqr())p[N]!==0&&(_=_.mul(t));return _},u.prototype.iushln=function(s){f(typeof s=="number"&&s>=0);var p=s%26,_=(s-p)/26,N=67108863>>>26-p<<26-p,t;if(p!==0){var a=0;for(t=0;t<this.length;t++){var m=this.words[t]&N,S=(this.words[t]|0)-m<<p;this.words[t]=S|a,a=m>>>26-p}a&&(this.words[t]=a,this.length++)}if(_!==0){for(t=this.length-1;t>=0;t--)this.words[t+_]=this.words[t];for(t=0;t<_;t++)this.words[t]=0;this.length+=_}return this._strip()},u.prototype.ishln=function(s){return f(this.negative===0),this.iushln(s)},u.prototype.iushrn=function(s,p,_){f(typeof s=="number"&&s>=0);var N;p?N=(p-p%26)/26:N=0;var t=s%26,a=Math.min((s-t)/26,this.length),m=67108863^67108863>>>t<<t,S=_;if(N-=a,N=Math.max(0,N),S){for(var w=0;w<a;w++)S.words[w]=this.words[w];S.length=a}if(a!==0)if(this.length>a)for(this.length-=a,w=0;w<this.length;w++)this.words[w]=this.words[w+a];else this.words[0]=0,this.length=1;var I=0;for(w=this.length-1;w>=0&&(I!==0||w>=N);w--){var fo=this.words[w]|0;this.words[w]=I<<26-t|fo>>>t,I=fo&m}return S&&I!==0&&(S.words[S.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(s,p,_){return f(this.negative===0),this.iushrn(s,p,_)},u.prototype.shln=function(s){return this.clone().ishln(s)},u.prototype.ushln=function(s){return this.clone().iushln(s)},u.prototype.shrn=function(s){return this.clone().ishrn(s)},u.prototype.ushrn=function(s){return this.clone().iushrn(s)},u.prototype.testn=function(s){f(typeof s=="number"&&s>=0);var p=s%26,_=(s-p)/26,N=1<<p;if(this.length<=_)return!1;var t=this.words[_];return!!(t&N)},u.prototype.imaskn=function(s){f(typeof s=="number"&&s>=0);var p=s%26,_=(s-p)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(p!==0&&_++,this.length=Math.min(_,this.length),p!==0){var N=67108863^67108863>>>p<<p;this.words[this.length-1]&=N}return this._strip()},u.prototype.maskn=function(s){return this.clone().imaskn(s)},u.prototype.iaddn=function(s){return f(typeof s=="number"),f(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},u.prototype._iaddn=function(s){this.words[0]+=s;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(s){if(f(typeof s=="number"),f(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},u.prototype.addn=function(s){return this.clone().iaddn(s)},u.prototype.subn=function(s){return this.clone().isubn(s)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(s,p,_){var N=s.length+_,t;this._expand(N);var a,m=0;for(t=0;t<s.length;t++){a=(this.words[t+_]|0)+m;var S=(s.words[t]|0)*p;a-=S&67108863,m=(a>>26)-(S/67108864|0),this.words[t+_]=a&67108863}for(;t<this.length-_;t++)a=(this.words[t+_]|0)+m,m=a>>26,this.words[t+_]=a&67108863;if(m===0)return this._strip();for(f(m===-1),m=0,t=0;t<this.length;t++)a=-(this.words[t]|0)+m,m=a>>26,this.words[t]=a&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(s,p){var _=this.length-s.length,N=this.clone(),t=s,a=t.words[t.length-1]|0,m=this._countBits(a);_=26-m,_!==0&&(t=t.ushln(_),N.iushln(_),a=t.words[t.length-1]|0);var S=N.length-t.length,w;if(p!=="mod"){w=new u(null),w.length=S+1,w.words=new Array(w.length);for(var I=0;I<w.length;I++)w.words[I]=0}var fo=N.clone()._ishlnsubmul(t,1,S);fo.negative===0&&(N=fo,w&&(w.words[S]=1));for(var Ro=S-1;Ro>=0;Ro--){var qo=(N.words[t.length+Ro]|0)*67108864+(N.words[t.length+Ro-1]|0);for(qo=Math.min(qo/a|0,67108863),N._ishlnsubmul(t,qo,Ro);N.negative!==0;)qo--,N.negative=0,N._ishlnsubmul(t,1,Ro),N.isZero()||(N.negative^=1);w&&(w.words[Ro]=qo)}return w&&w._strip(),N._strip(),p!=="div"&&_!==0&&N.iushrn(_),{div:w||null,mod:N}},u.prototype.divmod=function(s,p,_){if(f(!s.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var N,t,a;return this.negative!==0&&s.negative===0?(a=this.neg().divmod(s,p),p!=="mod"&&(N=a.div.neg()),p!=="div"&&(t=a.mod.neg(),_&&t.negative!==0&&t.iadd(s)),{div:N,mod:t}):this.negative===0&&s.negative!==0?(a=this.divmod(s.neg(),p),p!=="mod"&&(N=a.div.neg()),{div:N,mod:a.mod}):(this.negative&s.negative)!==0?(a=this.neg().divmod(s.neg(),p),p!=="div"&&(t=a.mod.neg(),_&&t.negative!==0&&t.isub(s)),{div:a.div,mod:t}):s.length>this.length||this.cmp(s)<0?{div:new u(0),mod:this}:s.length===1?p==="div"?{div:this.divn(s.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new u(this.modrn(s.words[0]))}:this._wordDiv(s,p)},u.prototype.div=function(s){return this.divmod(s,"div",!1).div},u.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},u.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},u.prototype.divRound=function(s){var p=this.divmod(s);if(p.mod.isZero())return p.div;var _=p.div.negative!==0?p.mod.isub(s):p.mod,N=s.ushrn(1),t=s.andln(1),a=_.cmp(N);return a<0||t===1&&a===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modrn=function(s){var p=s<0;p&&(s=-s),f(s<=67108863);for(var _=67108864%s,N=0,t=this.length-1;t>=0;t--)N=(_*N+(this.words[t]|0))%s;return p?-N:N},u.prototype.modn=function(s){return this.modrn(s)},u.prototype.idivn=function(s){var p=s<0;p&&(s=-s),f(s<=67108863);for(var _=0,N=this.length-1;N>=0;N--){var t=(this.words[N]|0)+_*67108864;this.words[N]=t/s|0,_=t%s}return this._strip(),p?this.ineg():this},u.prototype.divn=function(s){return this.clone().idivn(s)},u.prototype.egcd=function(s){f(s.negative===0),f(!s.isZero());var p=this,_=s.clone();p.negative!==0?p=p.umod(s):p=p.clone();for(var N=new u(1),t=new u(0),a=new u(0),m=new u(1),S=0;p.isEven()&&_.isEven();)p.iushrn(1),_.iushrn(1),++S;for(var w=_.clone(),I=p.clone();!p.isZero();){for(var fo=0,Ro=1;(p.words[0]&Ro)===0&&fo<26;++fo,Ro<<=1);if(fo>0)for(p.iushrn(fo);fo-- >0;)(N.isOdd()||t.isOdd())&&(N.iadd(w),t.isub(I)),N.iushrn(1),t.iushrn(1);for(var qo=0,po=1;(_.words[0]&po)===0&&qo<26;++qo,po<<=1);if(qo>0)for(_.iushrn(qo);qo-- >0;)(a.isOdd()||m.isOdd())&&(a.iadd(w),m.isub(I)),a.iushrn(1),m.iushrn(1);p.cmp(_)>=0?(p.isub(_),N.isub(a),t.isub(m)):(_.isub(p),a.isub(N),m.isub(t))}return{a,b:m,gcd:_.iushln(S)}},u.prototype._invmp=function(s){f(s.negative===0),f(!s.isZero());var p=this,_=s.clone();p.negative!==0?p=p.umod(s):p=p.clone();for(var N=new u(1),t=new u(0),a=_.clone();p.cmpn(1)>0&&_.cmpn(1)>0;){for(var m=0,S=1;(p.words[0]&S)===0&&m<26;++m,S<<=1);if(m>0)for(p.iushrn(m);m-- >0;)N.isOdd()&&N.iadd(a),N.iushrn(1);for(var w=0,I=1;(_.words[0]&I)===0&&w<26;++w,I<<=1);if(w>0)for(_.iushrn(w);w-- >0;)t.isOdd()&&t.iadd(a),t.iushrn(1);p.cmp(_)>=0?(p.isub(_),N.isub(t)):(_.isub(p),t.isub(N))}var fo;return p.cmpn(1)===0?fo=N:fo=t,fo.cmpn(0)<0&&fo.iadd(s),fo},u.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var p=this.clone(),_=s.clone();p.negative=0,_.negative=0;for(var N=0;p.isEven()&&_.isEven();N++)p.iushrn(1),_.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;_.isEven();)_.iushrn(1);var t=p.cmp(_);if(t<0){var a=p;p=_,_=a}else if(t===0||_.cmpn(1)===0)break;p.isub(_)}while(!0);return _.iushln(N)},u.prototype.invm=function(s){return this.egcd(s).a.umod(s)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(s){return this.words[0]&s},u.prototype.bincn=function(s){f(typeof s=="number");var p=s%26,_=(s-p)/26,N=1<<p;if(this.length<=_)return this._expand(_+1),this.words[_]|=N,this;for(var t=N,a=_;t!==0&&a<this.length;a++){var m=this.words[a]|0;m+=t,t=m>>>26,m&=67108863,this.words[a]=m}return t!==0&&(this.words[a]=t,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(s){var p=s<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var _;if(this.length>1)_=1;else{p&&(s=-s),f(s<=67108863,"Number is too big");var N=this.words[0]|0;_=N===s?0:N<s?-1:1}return this.negative!==0?-_|0:_},u.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var p=this.ucmp(s);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var p=0,_=this.length-1;_>=0;_--){var N=this.words[_]|0,t=s.words[_]|0;if(N!==t){N<t?p=-1:N>t&&(p=1);break}}return p},u.prototype.gtn=function(s){return this.cmpn(s)===1},u.prototype.gt=function(s){return this.cmp(s)===1},u.prototype.gten=function(s){return this.cmpn(s)>=0},u.prototype.gte=function(s){return this.cmp(s)>=0},u.prototype.ltn=function(s){return this.cmpn(s)===-1},u.prototype.lt=function(s){return this.cmp(s)===-1},u.prototype.lten=function(s){return this.cmpn(s)<=0},u.prototype.lte=function(s){return this.cmp(s)<=0},u.prototype.eqn=function(s){return this.cmpn(s)===0},u.prototype.eq=function(s){return this.cmp(s)===0},u.red=function(s){return new e(s)},u.prototype.toRed=function(s){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(s){return this.red=s,this},u.prototype.forceRed=function(s){return f(!this.red,"Already a number in reduction context"),this._forceRed(s)},u.prototype.redAdd=function(s){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},u.prototype.redIAdd=function(s){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},u.prototype.redSub=function(s){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},u.prototype.redISub=function(s){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},u.prototype.redShl=function(s){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},u.prototype.redMul=function(s){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},u.prototype.redIMul=function(s){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(s){return f(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var uo={k256:null,p224:null,p192:null,p25519:null};function to(s,p){this.name=s,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}to.prototype._tmp=function(){var s=new u(null);return s.words=new Array(Math.ceil(this.n/13)),s},to.prototype.ireduce=function(s){var p=s,_;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),_=p.bitLength();while(_>this.n);var N=_<this.n?-1:p.ucmp(this.p);return N===0?(p.words[0]=0,p.length=1):N>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},to.prototype.split=function(s,p){s.iushrn(this.n,0,p)},to.prototype.imulK=function(s){return s.imul(this.k)};function To(){to.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(To,to),To.prototype.split=function(s,p){for(var _=4194303,N=Math.min(s.length,9),t=0;t<N;t++)p.words[t]=s.words[t];if(p.length=N,s.length<=9){s.words[0]=0,s.length=1;return}var a=s.words[9];for(p.words[p.length++]=a&_,t=10;t<s.length;t++){var m=s.words[t]|0;s.words[t-10]=(m&_)<<4|a>>>22,a=m}a>>>=22,s.words[t-10]=a,a===0&&s.length>10?s.length-=10:s.length-=9},To.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var p=0,_=0;_<s.length;_++){var N=s.words[_]|0;p+=N*977,s.words[_]=p&67108863,p=N*64+(p/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function co(){to.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(co,to);function Wo(){to.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(Wo,to);function o(){to.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(o,to),o.prototype.imulK=function(s){for(var p=0,_=0;_<s.length;_++){var N=(s.words[_]|0)*19+p,t=N&67108863;N>>>=26,s.words[_]=t,p=N}return p!==0&&(s.words[s.length++]=p),s},u._prime=function(s){if(uo[s])return uo[s];var p;if(s==="k256")p=new To;else if(s==="p224")p=new co;else if(s==="p192")p=new Wo;else if(s==="p25519")p=new o;else throw new Error("Unknown prime "+s);return uo[s]=p,p};function e(s){if(typeof s=="string"){var p=u._prime(s);this.m=p.p,this.prime=p}else f(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}e.prototype._verify1=function(s){f(s.negative===0,"red works only with positives"),f(s.red,"red works only with red numbers")},e.prototype._verify2=function(s,p){f((s.negative|p.negative)===0,"red works only with positives"),f(s.red&&s.red===p.red,"red works only with red numbers")},e.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(Z(s,s.umod(this.m)._forceRed(this)),s)},e.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},e.prototype.add=function(s,p){this._verify2(s,p);var _=s.add(p);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},e.prototype.iadd=function(s,p){this._verify2(s,p);var _=s.iadd(p);return _.cmp(this.m)>=0&&_.isub(this.m),_},e.prototype.sub=function(s,p){this._verify2(s,p);var _=s.sub(p);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},e.prototype.isub=function(s,p){this._verify2(s,p);var _=s.isub(p);return _.cmpn(0)<0&&_.iadd(this.m),_},e.prototype.shl=function(s,p){return this._verify1(s),this.imod(s.ushln(p))},e.prototype.imul=function(s,p){return this._verify2(s,p),this.imod(s.imul(p))},e.prototype.mul=function(s,p){return this._verify2(s,p),this.imod(s.mul(p))},e.prototype.isqr=function(s){return this.imul(s,s.clone())},e.prototype.sqr=function(s){return this.mul(s,s)},e.prototype.sqrt=function(s){if(s.isZero())return s.clone();var p=this.m.andln(3);if(f(p%2===1),p===3){var _=this.m.add(new u(1)).iushrn(2);return this.pow(s,_)}for(var N=this.m.subn(1),t=0;!N.isZero()&&N.andln(1)===0;)t++,N.iushrn(1);f(!N.isZero());var a=new u(1).toRed(this),m=a.redNeg(),S=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new u(2*w*w).toRed(this);this.pow(w,S).cmp(m)!==0;)w.redIAdd(m);for(var I=this.pow(w,N),fo=this.pow(s,N.addn(1).iushrn(1)),Ro=this.pow(s,N),qo=t;Ro.cmp(a)!==0;){for(var po=Ro,io=0;po.cmp(a)!==0;io++)po=po.redSqr();f(io<qo);var ho=this.pow(I,new u(1).iushln(qo-io-1));fo=fo.redMul(ho),I=ho.redSqr(),Ro=Ro.redMul(I),qo=io}return fo},e.prototype.invm=function(s){var p=s._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},e.prototype.pow=function(s,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return s.clone();var _=4,N=new Array(1<<_);N[0]=new u(1).toRed(this),N[1]=s;for(var t=2;t<N.length;t++)N[t]=this.mul(N[t-1],s);var a=N[0],m=0,S=0,w=p.bitLength()%26;for(w===0&&(w=26),t=p.length-1;t>=0;t--){for(var I=p.words[t],fo=w-1;fo>=0;fo--){var Ro=I>>fo&1;if(a!==N[0]&&(a=this.sqr(a)),Ro===0&&m===0){S=0;continue}m<<=1,m|=Ro,S++,!(S!==_&&(t!==0||fo!==0))&&(a=this.mul(a,N[m]),S=0,m=0)}w=26}return a},e.prototype.convertTo=function(s){var p=s.umod(this.m);return p===s?p.clone():p},e.prototype.convertFrom=function(s){var p=s.clone();return p.red=null,p},u.mont=function(s){return new c(s)};function c(s){e.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(c,e),c.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},c.prototype.convertFrom=function(s){var p=this.imod(s.mul(this.rinv));return p.red=null,p},c.prototype.imul=function(s,p){if(s.isZero()||p.isZero())return s.words[0]=0,s.length=1,s;var _=s.imul(p),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=_.isub(N).iushrn(this.shift),a=t;return t.cmp(this.m)>=0?a=t.isub(this.m):t.cmpn(0)<0&&(a=t.iadd(this.m)),a._forceRed(this)},c.prototype.mul=function(s,p){if(s.isZero()||p.isZero())return new u(0)._forceRed(this);var _=s.mul(p),N=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=_.isub(N).iushrn(this.shift),a=t;return t.cmp(this.m)>=0?a=t.isub(this.m):t.cmpn(0)<0&&(a=t.iadd(this.m)),a._forceRed(this)},c.prototype.invm=function(s){var p=this.imod(s._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof d>"u"||d,l)}),Qs=Uo((l,d)=>{var i=Cs(),R=Hn();function f(h){var L=q(h),y=L.toRed(i.mont(h.modulus)).redPow(new i(h.publicExponent)).fromRed();return{blinder:y,unblinder:L.invm(h.modulus)}}function q(h){var L=h.modulus.byteLength(),y;do y=new i(R(L));while(y.cmp(h.modulus)>=0||!y.umod(h.prime1)||!y.umod(h.prime2));return y}function u(h,L){var y=f(L),k=L.modulus.byteLength(),Z=new i(h).mul(y.blinder).umod(L.modulus),T=Z.toRed(i.mont(L.prime1)),V=Z.toRed(i.mont(L.prime2)),$=L.coefficient,x=L.prime1,O=L.prime2,g=T.redPow(L.exponent1).fromRed(),E=V.redPow(L.exponent2).fromRed(),z=g.isub(E).imul($).umod(x).imul(O);return E.iadd(z).imul(y.unblinder).umod(L.modulus).toArrayLike(Buffer,"be",k)}u.getr=q,d.exports=u}),Bc=Uo((l,d)=>{d.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),cn=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),qr=Uo((l)=>{var d=l;function i(q,u){if(Array.isArray(q))return q.slice();if(!q)return[];var h=[];if(typeof q!="string"){for(var L=0;L<q.length;L++)h[L]=q[L]|0;return h}if(u==="hex"){q=q.replace(/[^a-z0-9]+/ig,""),q.length%2!==0&&(q="0"+q);for(var L=0;L<q.length;L+=2)h.push(parseInt(q[L]+q[L+1],16))}else for(var L=0;L<q.length;L++){var y=q.charCodeAt(L),k=y>>8,Z=y&255;k?h.push(k,Z):h.push(Z)}return h}d.toArray=i;function R(q){return q.length===1?"0"+q:q}d.zero2=R;function f(q){for(var u="",h=0;h<q.length;h++)u+=R(q[h].toString(16));return u}d.toHex=f,d.encode=function(q,u){return u==="hex"?f(q):q}}),Ia=Uo((l)=>{var d=l,i=cn(),R=Pa(),f=qr();d.assert=R,d.toArray=f.toArray,d.zero2=f.zero2,d.toHex=f.toHex,d.encode=f.encode;function q(k,Z,T){var V=new Array(Math.max(k.bitLength(),T)+1);V.fill(0);for(var $=1<<Z+1,x=k.clone(),O=0;O<V.length;O++){var g,E=x.andln($-1);x.isOdd()?(E>($>>1)-1?g=($>>1)-E:g=E,x.isubn(g)):g=0,V[O]=g,x.iushrn(1)}return V}d.getNAF=q;function u(k,Z){var T=[[],[]];k=k.clone(),Z=Z.clone();for(var V=0,$=0,x;k.cmpn(-V)>0||Z.cmpn(-$)>0;){var O=k.andln(3)+V&3,g=Z.andln(3)+$&3;O===3&&(O=-1),g===3&&(g=-1);var E;(O&1)===0?E=0:(x=k.andln(7)+V&7,(x===3||x===5)&&g===2?E=-O:E=O),T[0].push(E);var z;(g&1)===0?z=0:(x=Z.andln(7)+$&7,(x===3||x===5)&&O===2?z=-g:z=g),T[1].push(z),2*V===E+1&&(V=1-V),2*$===z+1&&($=1-$),k.iushrn(1),Z.iushrn(1)}return T}d.getJSF=u;function h(k,Z,T){var V="_"+Z;k.prototype[Z]=function(){return this[V]!==void 0?this[V]:this[V]=T.call(this)}}d.cachedProperty=h;function L(k){return typeof k=="string"?d.toArray(k,"hex"):k}d.parseBytes=L;function y(k){return new i(k,"hex","le")}d.intFromLE=y}),Ce=Uo((l,d)=>{var i=cn(),R=Ia(),f=R.getNAF,q=R.getJSF,u=R.assert;function h(y,k){this.type=y,this.p=new i(k.p,16),this.red=k.prime?i.red(k.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=k.n&&new i(k.n,16),this.g=k.g&&this.pointFromJSON(k.g,k.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Z=this.n&&this.p.div(this.n);!Z||Z.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}d.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(y,k){u(y.precomputed);var Z=y._getDoubles(),T=f(k,1,this._bitLength),V=(1<<Z.step+1)-(Z.step%2===0?2:1);V/=3;var $=[],x,O;for(x=0;x<T.length;x+=Z.step){O=0;for(var g=x+Z.step-1;g>=x;g--)O=(O<<1)+T[g];$.push(O)}for(var E=this.jpoint(null,null,null),z=this.jpoint(null,null,null),P=V;P>0;P--){for(x=0;x<$.length;x++)O=$[x],O===P?z=z.mixedAdd(Z.points[x]):O===-P&&(z=z.mixedAdd(Z.points[x].neg()));E=E.add(z)}return E.toP()},h.prototype._wnafMul=function(y,k){var Z=4,T=y._getNAFPoints(Z);Z=T.wnd;for(var V=T.points,$=f(k,Z,this._bitLength),x=this.jpoint(null,null,null),O=$.length-1;O>=0;O--){for(var g=0;O>=0&&$[O]===0;O--)g++;if(O>=0&&g++,x=x.dblp(g),O<0)break;var E=$[O];u(E!==0),y.type==="affine"?E>0?x=x.mixedAdd(V[E-1>>1]):x=x.mixedAdd(V[-E-1>>1].neg()):E>0?x=x.add(V[E-1>>1]):x=x.add(V[-E-1>>1].neg())}return y.type==="affine"?x.toP():x},h.prototype._wnafMulAdd=function(y,k,Z,T,V){var $=this._wnafT1,x=this._wnafT2,O=this._wnafT3,g=0,E,z,P;for(E=0;E<T;E++){P=k[E];var Y=P._getNAFPoints(y);$[E]=Y.wnd,x[E]=Y.points}for(E=T-1;E>=1;E-=2){var B=E-1,uo=E;if($[B]!==1||$[uo]!==1){O[B]=f(Z[B],$[B],this._bitLength),O[uo]=f(Z[uo],$[uo],this._bitLength),g=Math.max(O[B].length,g),g=Math.max(O[uo].length,g);continue}var to=[k[B],null,null,k[uo]];k[B].y.cmp(k[uo].y)===0?(to[1]=k[B].add(k[uo]),to[2]=k[B].toJ().mixedAdd(k[uo].neg())):k[B].y.cmp(k[uo].y.redNeg())===0?(to[1]=k[B].toJ().mixedAdd(k[uo]),to[2]=k[B].add(k[uo].neg())):(to[1]=k[B].toJ().mixedAdd(k[uo]),to[2]=k[B].toJ().mixedAdd(k[uo].neg()));var To=[-3,-1,-5,-7,0,7,5,1,3],co=q(Z[B],Z[uo]);for(g=Math.max(co[0].length,g),O[B]=new Array(g),O[uo]=new Array(g),z=0;z<g;z++){var Wo=co[0][z]|0,o=co[1][z]|0;O[B][z]=To[(Wo+1)*3+(o+1)],O[uo][z]=0,x[B]=to}}var e=this.jpoint(null,null,null),c=this._wnafT4;for(E=g;E>=0;E--){for(var s=0;E>=0;){var p=!0;for(z=0;z<T;z++)c[z]=O[z][E]|0,c[z]!==0&&(p=!1);if(!p)break;s++,E--}if(E>=0&&s++,e=e.dblp(s),E<0)break;for(z=0;z<T;z++){var _=c[z];_!==0&&(_>0?P=x[z][_-1>>1]:_<0&&(P=x[z][-_-1>>1].neg()),P.type==="affine"?e=e.mixedAdd(P):e=e.add(P))}}for(E=0;E<T;E++)x[E]=null;return V?e:e.toP()};function L(y,k){this.curve=y,this.type=k,this.precomputed=null}h.BasePoint=L,L.prototype.eq=function(){throw new Error("Not implemented")},L.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(y,k){y=R.toArray(y,k);var Z=this.p.byteLength();if((y[0]===4||y[0]===6||y[0]===7)&&y.length-1===2*Z){y[0]===6?u(y[y.length-1]%2===0):y[0]===7&&u(y[y.length-1]%2===1);var T=this.point(y.slice(1,1+Z),y.slice(1+Z,1+2*Z));return T}else if((y[0]===2||y[0]===3)&&y.length-1===Z)return this.pointFromX(y.slice(1,1+Z),y[0]===3);throw new Error("Unknown point format")},L.prototype.encodeCompressed=function(y){return this.encode(y,!0)},L.prototype._encode=function(y){var k=this.curve.p.byteLength(),Z=this.getX().toArray("be",k);return y?[this.getY().isEven()?2:3].concat(Z):[4].concat(Z,this.getY().toArray("be",k))},L.prototype.encode=function(y,k){return R.encode(this._encode(k),y)},L.prototype.precompute=function(y){if(this.precomputed)return this;var k={doubles:null,naf:null,beta:null};return k.naf=this._getNAFPoints(8),k.doubles=this._getDoubles(4,y),k.beta=this._getBeta(),this.precomputed=k,this},L.prototype._hasDoubles=function(y){if(!this.precomputed)return!1;var k=this.precomputed.doubles;return k?k.points.length>=Math.ceil((y.bitLength()+1)/k.step):!1},L.prototype._getDoubles=function(y,k){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Z=[this],T=this,V=0;V<k;V+=y){for(var $=0;$<y;$++)T=T.dbl();Z.push(T)}return{step:y,points:Z}},L.prototype._getNAFPoints=function(y){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var k=[this],Z=(1<<y)-1,T=Z===1?null:this.dbl(),V=1;V<Z;V++)k[V]=k[V-1].add(T);return{wnd:y,points:k}},L.prototype._getBeta=function(){return null},L.prototype.dblp=function(y){for(var k=this,Z=0;Z<y;Z++)k=k.dbl();return k}}),Cc=Uo((l,d)=>{var i=Ia(),R=cn(),f=da(),q=Ce(),u=i.assert;function h(k){q.call(this,"short",k),this.a=new R(k.a,16).toRed(this.red),this.b=new R(k.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(k),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}f(h,q),d.exports=h,h.prototype._getEndomorphism=function(k){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Z,T;if(k.beta)Z=new R(k.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);Z=V[0].cmp(V[1])<0?V[0]:V[1],Z=Z.toRed(this.red)}if(k.lambda)T=new R(k.lambda,16);else{var $=this._getEndoRoots(this.n);this.g.mul($[0]).x.cmp(this.g.x.redMul(Z))===0?T=$[0]:(T=$[1],u(this.g.mul(T).x.cmp(this.g.x.redMul(Z))===0))}var x;return k.basis?x=k.basis.map(function(O){return{a:new R(O.a,16),b:new R(O.b,16)}}):x=this._getEndoBasis(T),{beta:Z,lambda:T,basis:x}}},h.prototype._getEndoRoots=function(k){var Z=k===this.p?this.red:R.mont(k),T=new R(2).toRed(Z).redInvm(),V=T.redNeg(),$=new R(3).toRed(Z).redNeg().redSqrt().redMul(T),x=V.redAdd($).fromRed(),O=V.redSub($).fromRed();return[x,O]},h.prototype._getEndoBasis=function(k){for(var Z=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=k,V=this.n.clone(),$=new R(1),x=new R(0),O=new R(0),g=new R(1),E,z,P,Y,B,uo,to,To=0,co,Wo;T.cmpn(0)!==0;){var o=V.div(T);co=V.sub(o.mul(T)),Wo=O.sub(o.mul($));var e=g.sub(o.mul(x));if(!P&&co.cmp(Z)<0)E=to.neg(),z=$,P=co.neg(),Y=Wo;else if(P&&++To===2)break;to=co,V=T,T=co,O=$,$=Wo,g=x,x=e}B=co.neg(),uo=Wo;var c=P.sqr().add(Y.sqr()),s=B.sqr().add(uo.sqr());return s.cmp(c)>=0&&(B=E,uo=z),P.negative&&(P=P.neg(),Y=Y.neg()),B.negative&&(B=B.neg(),uo=uo.neg()),[{a:P,b:Y},{a:B,b:uo}]},h.prototype._endoSplit=function(k){var Z=this.endo.basis,T=Z[0],V=Z[1],$=V.b.mul(k).divRound(this.n),x=T.b.neg().mul(k).divRound(this.n),O=$.mul(T.a),g=x.mul(V.a),E=$.mul(T.b),z=x.mul(V.b),P=k.sub(O).sub(g),Y=E.add(z).neg();return{k1:P,k2:Y}},h.prototype.pointFromX=function(k,Z){k=new R(k,16),k.red||(k=k.toRed(this.red));var T=k.redSqr().redMul(k).redIAdd(k.redMul(this.a)).redIAdd(this.b),V=T.redSqrt();if(V.redSqr().redSub(T).cmp(this.zero)!==0)throw new Error("invalid point");var $=V.fromRed().isOdd();return(Z&&!$||!Z&&$)&&(V=V.redNeg()),this.point(k,V)},h.prototype.validate=function(k){if(k.inf)return!0;var{x:Z,y:T}=k,V=this.a.redMul(Z),$=Z.redSqr().redMul(Z).redIAdd(V).redIAdd(this.b);return T.redSqr().redISub($).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(k,Z,T){for(var V=this._endoWnafT1,$=this._endoWnafT2,x=0;x<k.length;x++){var O=this._endoSplit(Z[x]),g=k[x],E=g._getBeta();O.k1.negative&&(O.k1.ineg(),g=g.neg(!0)),O.k2.negative&&(O.k2.ineg(),E=E.neg(!0)),V[x*2]=g,V[x*2+1]=E,$[x*2]=O.k1,$[x*2+1]=O.k2}for(var z=this._wnafMulAdd(1,V,$,x*2,T),P=0;P<x*2;P++)V[P]=null,$[P]=null;return z};function L(k,Z,T,V){q.BasePoint.call(this,k,"affine"),Z===null&&T===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new R(Z,16),this.y=new R(T,16),V&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}f(L,q.BasePoint),h.prototype.point=function(k,Z,T){return new L(this,k,Z,T)},h.prototype.pointFromJSON=function(k,Z){return L.fromJSON(this,k,Z)},L.prototype._getBeta=function(){if(this.curve.endo){var k=this.precomputed;if(k&&k.beta)return k.beta;var Z=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(k){var T=this.curve,V=function($){return T.point($.x.redMul(T.endo.beta),$.y)};k.beta=Z,Z.precomputed={beta:null,naf:k.naf&&{wnd:k.naf.wnd,points:k.naf.points.map(V)},doubles:k.doubles&&{step:k.doubles.step,points:k.doubles.points.map(V)}}}return Z}},L.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},L.fromJSON=function(k,Z,T){typeof Z=="string"&&(Z=JSON.parse(Z));var V=k.point(Z[0],Z[1],T);if(!Z[2])return V;function $(O){return k.point(O[0],O[1],T)}var x=Z[2];return V.precomputed={beta:null,doubles:x.doubles&&{step:x.doubles.step,points:[V].concat(x.doubles.points.map($))},naf:x.naf&&{wnd:x.naf.wnd,points:[V].concat(x.naf.points.map($))}},V},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.inf},L.prototype.add=function(k){if(this.inf)return k;if(k.inf)return this;if(this.eq(k))return this.dbl();if(this.neg().eq(k))return this.curve.point(null,null);if(this.x.cmp(k.x)===0)return this.curve.point(null,null);var Z=this.y.redSub(k.y);Z.cmpn(0)!==0&&(Z=Z.redMul(this.x.redSub(k.x).redInvm()));var T=Z.redSqr().redISub(this.x).redISub(k.x),V=Z.redMul(this.x.redSub(T)).redISub(this.y);return this.curve.point(T,V)},L.prototype.dbl=function(){if(this.inf)return this;var k=this.y.redAdd(this.y);if(k.cmpn(0)===0)return this.curve.point(null,null);var Z=this.curve.a,T=this.x.redSqr(),V=k.redInvm(),$=T.redAdd(T).redIAdd(T).redIAdd(Z).redMul(V),x=$.redSqr().redISub(this.x.redAdd(this.x)),O=$.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,O)},L.prototype.getX=function(){return this.x.fromRed()},L.prototype.getY=function(){return this.y.fromRed()},L.prototype.mul=function(k){return k=new R(k,16),this.isInfinity()?this:this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},L.prototype.mulAdd=function(k,Z,T){var V=[this,Z],$=[k,T];return this.curve.endo?this.curve._endoWnafMulAdd(V,$):this.curve._wnafMulAdd(1,V,$,2)},L.prototype.jmulAdd=function(k,Z,T){var V=[this,Z],$=[k,T];return this.curve.endo?this.curve._endoWnafMulAdd(V,$,!0):this.curve._wnafMulAdd(1,V,$,2,!0)},L.prototype.eq=function(k){return this===k||this.inf===k.inf&&(this.inf||this.x.cmp(k.x)===0&&this.y.cmp(k.y)===0)},L.prototype.neg=function(k){if(this.inf)return this;var Z=this.curve.point(this.x,this.y.redNeg());if(k&&this.precomputed){var T=this.precomputed,V=function($){return $.neg()};Z.precomputed={naf:T.naf&&{wnd:T.naf.wnd,points:T.naf.points.map(V)},doubles:T.doubles&&{step:T.doubles.step,points:T.doubles.points.map(V)}}}return Z},L.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var k=this.curve.jpoint(this.x,this.y,this.curve.one);return k};function y(k,Z,T,V){q.BasePoint.call(this,k,"jacobian"),Z===null&&T===null&&V===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new R(0)):(this.x=new R(Z,16),this.y=new R(T,16),this.z=new R(V,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}f(y,q.BasePoint),h.prototype.jpoint=function(k,Z,T){return new y(this,k,Z,T)},y.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var k=this.z.redInvm(),Z=k.redSqr(),T=this.x.redMul(Z),V=this.y.redMul(Z).redMul(k);return this.curve.point(T,V)},y.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},y.prototype.add=function(k){if(this.isInfinity())return k;if(k.isInfinity())return this;var Z=k.z.redSqr(),T=this.z.redSqr(),V=this.x.redMul(Z),$=k.x.redMul(T),x=this.y.redMul(Z.redMul(k.z)),O=k.y.redMul(T.redMul(this.z)),g=V.redSub($),E=x.redSub(O);if(g.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var z=g.redSqr(),P=z.redMul(g),Y=V.redMul(z),B=E.redSqr().redIAdd(P).redISub(Y).redISub(Y),uo=E.redMul(Y.redISub(B)).redISub(x.redMul(P)),to=this.z.redMul(k.z).redMul(g);return this.curve.jpoint(B,uo,to)},y.prototype.mixedAdd=function(k){if(this.isInfinity())return k.toJ();if(k.isInfinity())return this;var Z=this.z.redSqr(),T=this.x,V=k.x.redMul(Z),$=this.y,x=k.y.redMul(Z).redMul(this.z),O=T.redSub(V),g=$.redSub(x);if(O.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=O.redSqr(),z=E.redMul(O),P=T.redMul(E),Y=g.redSqr().redIAdd(z).redISub(P).redISub(P),B=g.redMul(P.redISub(Y)).redISub($.redMul(z)),uo=this.z.redMul(O);return this.curve.jpoint(Y,B,uo)},y.prototype.dblp=function(k){if(k===0)return this;if(this.isInfinity())return this;if(!k)return this.dbl();var Z;if(this.curve.zeroA||this.curve.threeA){var T=this;for(Z=0;Z<k;Z++)T=T.dbl();return T}var V=this.curve.a,$=this.curve.tinv,x=this.x,O=this.y,g=this.z,E=g.redSqr().redSqr(),z=O.redAdd(O);for(Z=0;Z<k;Z++){var P=x.redSqr(),Y=z.redSqr(),B=Y.redSqr(),uo=P.redAdd(P).redIAdd(P).redIAdd(V.redMul(E)),to=x.redMul(Y),To=uo.redSqr().redISub(to.redAdd(to)),co=to.redISub(To),Wo=uo.redMul(co);Wo=Wo.redIAdd(Wo).redISub(B);var o=z.redMul(g);Z+1<k&&(E=E.redMul(B)),x=To,g=o,z=Wo}return this.curve.jpoint(x,z.redMul($),g)},y.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},y.prototype._zeroDbl=function(){var k,Z,T;if(this.zOne){var V=this.x.redSqr(),$=this.y.redSqr(),x=$.redSqr(),O=this.x.redAdd($).redSqr().redISub(V).redISub(x);O=O.redIAdd(O);var g=V.redAdd(V).redIAdd(V),E=g.redSqr().redISub(O).redISub(O),z=x.redIAdd(x);z=z.redIAdd(z),z=z.redIAdd(z),k=E,Z=g.redMul(O.redISub(E)).redISub(z),T=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),Y=this.y.redSqr(),B=Y.redSqr(),uo=this.x.redAdd(Y).redSqr().redISub(P).redISub(B);uo=uo.redIAdd(uo);var to=P.redAdd(P).redIAdd(P),To=to.redSqr(),co=B.redIAdd(B);co=co.redIAdd(co),co=co.redIAdd(co),k=To.redISub(uo).redISub(uo),Z=to.redMul(uo.redISub(k)).redISub(co),T=this.y.redMul(this.z),T=T.redIAdd(T)}return this.curve.jpoint(k,Z,T)},y.prototype._threeDbl=function(){var k,Z,T;if(this.zOne){var V=this.x.redSqr(),$=this.y.redSqr(),x=$.redSqr(),O=this.x.redAdd($).redSqr().redISub(V).redISub(x);O=O.redIAdd(O);var g=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),E=g.redSqr().redISub(O).redISub(O);k=E;var z=x.redIAdd(x);z=z.redIAdd(z),z=z.redIAdd(z),Z=g.redMul(O.redISub(E)).redISub(z),T=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),Y=this.y.redSqr(),B=this.x.redMul(Y),uo=this.x.redSub(P).redMul(this.x.redAdd(P));uo=uo.redAdd(uo).redIAdd(uo);var to=B.redIAdd(B);to=to.redIAdd(to);var To=to.redAdd(to);k=uo.redSqr().redISub(To),T=this.y.redAdd(this.z).redSqr().redISub(Y).redISub(P);var co=Y.redSqr();co=co.redIAdd(co),co=co.redIAdd(co),co=co.redIAdd(co),Z=uo.redMul(to.redISub(k)).redISub(co)}return this.curve.jpoint(k,Z,T)},y.prototype._dbl=function(){var k=this.curve.a,Z=this.x,T=this.y,V=this.z,$=V.redSqr().redSqr(),x=Z.redSqr(),O=T.redSqr(),g=x.redAdd(x).redIAdd(x).redIAdd(k.redMul($)),E=Z.redAdd(Z);E=E.redIAdd(E);var z=E.redMul(O),P=g.redSqr().redISub(z.redAdd(z)),Y=z.redISub(P),B=O.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var uo=g.redMul(Y).redISub(B),to=T.redAdd(T).redMul(V);return this.curve.jpoint(P,uo,to)},y.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var k=this.x.redSqr(),Z=this.y.redSqr(),T=this.z.redSqr(),V=Z.redSqr(),$=k.redAdd(k).redIAdd(k),x=$.redSqr(),O=this.x.redAdd(Z).redSqr().redISub(k).redISub(V);O=O.redIAdd(O),O=O.redAdd(O).redIAdd(O),O=O.redISub(x);var g=O.redSqr(),E=V.redIAdd(V);E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var z=$.redIAdd(O).redSqr().redISub(x).redISub(g).redISub(E),P=Z.redMul(z);P=P.redIAdd(P),P=P.redIAdd(P);var Y=this.x.redMul(g).redISub(P);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y);var B=this.y.redMul(z.redMul(E.redISub(z)).redISub(O.redMul(g)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var uo=this.z.redAdd(O).redSqr().redISub(T).redISub(g);return this.curve.jpoint(Y,B,uo)},y.prototype.mul=function(k,Z){return k=new R(k,Z),this.curve._wnafMul(this,k)},y.prototype.eq=function(k){if(k.type==="affine")return this.eq(k.toJ());if(this===k)return!0;var Z=this.z.redSqr(),T=k.z.redSqr();if(this.x.redMul(T).redISub(k.x.redMul(Z)).cmpn(0)!==0)return!1;var V=Z.redMul(this.z),$=T.redMul(k.z);return this.y.redMul($).redISub(k.y.redMul(V)).cmpn(0)===0},y.prototype.eqXToP=function(k){var Z=this.z.redSqr(),T=k.toRed(this.curve.red).redMul(Z);if(this.x.cmp(T)===0)return!0;for(var V=k.clone(),$=this.curve.redN.redMul(Z);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if(T.redIAdd($),this.x.cmp(T)===0)return!0}},y.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},y.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),Qc=Uo((l,d)=>{var i=cn(),R=da(),f=Ce(),q=Ia();function u(L){f.call(this,"mont",L),this.a=new i(L.a,16).toRed(this.red),this.b=new i(L.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R(u,f),d.exports=u,u.prototype.validate=function(L){var y=L.normalize().x,k=y.redSqr(),Z=k.redMul(y).redAdd(k.redMul(this.a)).redAdd(y),T=Z.redSqrt();return T.redSqr().cmp(Z)===0};function h(L,y,k){f.BasePoint.call(this,L,"projective"),y===null&&k===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(y,16),this.z=new i(k,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R(h,f.BasePoint),u.prototype.decodePoint=function(L,y){return this.point(q.toArray(L,y),1)},u.prototype.point=function(L,y){return new h(this,L,y)},u.prototype.pointFromJSON=function(L){return h.fromJSON(this,L)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(L,y){return new h(L,y[0],y[1]||L.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var L=this.x.redAdd(this.z),y=L.redSqr(),k=this.x.redSub(this.z),Z=k.redSqr(),T=y.redSub(Z),V=y.redMul(Z),$=T.redMul(Z.redAdd(this.curve.a24.redMul(T)));return this.curve.point(V,$)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(L,y){var k=this.x.redAdd(this.z),Z=this.x.redSub(this.z),T=L.x.redAdd(L.z),V=L.x.redSub(L.z),$=V.redMul(k),x=T.redMul(Z),O=y.z.redMul($.redAdd(x).redSqr()),g=y.x.redMul($.redISub(x).redSqr());return this.curve.point(O,g)},h.prototype.mul=function(L){for(var y=L.clone(),k=this,Z=this.curve.point(null,null),T=this,V=[];y.cmpn(0)!==0;y.iushrn(1))V.push(y.andln(1));for(var $=V.length-1;$>=0;$--)V[$]===0?(k=k.diffAdd(Z,T),Z=Z.dbl()):(Z=k.diffAdd(Z,T),k=k.dbl());return Z},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(L){return this.getX().cmp(L.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),Ac=Uo((l,d)=>{var i=Ia(),R=cn(),f=da(),q=Ce(),u=i.assert;function h(y){this.twisted=(y.a|0)!==1,this.mOneA=this.twisted&&(y.a|0)===-1,this.extended=this.mOneA,q.call(this,"edwards",y),this.a=new R(y.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new R(y.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new R(y.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(y.c|0)===1}f(h,q),d.exports=h,h.prototype._mulA=function(y){return this.mOneA?y.redNeg():this.a.redMul(y)},h.prototype._mulC=function(y){return this.oneC?y:this.c.redMul(y)},h.prototype.jpoint=function(y,k,Z,T){return this.point(y,k,Z,T)},h.prototype.pointFromX=function(y,k){y=new R(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),T=this.c2.redSub(this.a.redMul(Z)),V=this.one.redSub(this.c2.redMul(this.d).redMul(Z)),$=T.redMul(V.redInvm()),x=$.redSqrt();if(x.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");var O=x.fromRed().isOdd();return(k&&!O||!k&&O)&&(x=x.redNeg()),this.point(y,x)},h.prototype.pointFromY=function(y,k){y=new R(y,16),y.red||(y=y.toRed(this.red));var Z=y.redSqr(),T=Z.redSub(this.c2),V=Z.redMul(this.d).redMul(this.c2).redSub(this.a),$=T.redMul(V.redInvm());if($.cmp(this.zero)===0){if(k)throw new Error("invalid point");return this.point(this.zero,y)}var x=$.redSqrt();if(x.redSqr().redSub($).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==k&&(x=x.redNeg()),this.point(x,y)},h.prototype.validate=function(y){if(y.isInfinity())return!0;y.normalize();var k=y.x.redSqr(),Z=y.y.redSqr(),T=k.redMul(this.a).redAdd(Z),V=this.c2.redMul(this.one.redAdd(this.d.redMul(k).redMul(Z)));return T.cmp(V)===0};function L(y,k,Z,T,V){q.BasePoint.call(this,y,"projective"),k===null&&Z===null&&T===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new R(k,16),this.y=new R(Z,16),this.z=T?new R(T,16):this.curve.one,this.t=V&&new R(V,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}f(L,q.BasePoint),h.prototype.pointFromJSON=function(y){return L.fromJSON(this,y)},h.prototype.point=function(y,k,Z,T){return new L(this,y,k,Z,T)},L.fromJSON=function(y,k){return new L(y,k[0],k[1],k[2])},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},L.prototype._extDbl=function(){var y=this.x.redSqr(),k=this.y.redSqr(),Z=this.z.redSqr();Z=Z.redIAdd(Z);var T=this.curve._mulA(y),V=this.x.redAdd(this.y).redSqr().redISub(y).redISub(k),$=T.redAdd(k),x=$.redSub(Z),O=T.redSub(k),g=V.redMul(x),E=$.redMul(O),z=V.redMul(O),P=x.redMul($);return this.curve.point(g,E,P,z)},L.prototype._projDbl=function(){var y=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),Z=this.y.redSqr(),T,V,$,x,O,g;if(this.curve.twisted){x=this.curve._mulA(k);var E=x.redAdd(Z);this.zOne?(T=y.redSub(k).redSub(Z).redMul(E.redSub(this.curve.two)),V=E.redMul(x.redSub(Z)),$=E.redSqr().redSub(E).redSub(E)):(O=this.z.redSqr(),g=E.redSub(O).redISub(O),T=y.redSub(k).redISub(Z).redMul(g),V=E.redMul(x.redSub(Z)),$=E.redMul(g))}else x=k.redAdd(Z),O=this.curve._mulC(this.z).redSqr(),g=x.redSub(O).redSub(O),T=this.curve._mulC(y.redISub(x)).redMul(g),V=this.curve._mulC(x).redMul(k.redISub(Z)),$=x.redMul(g);return this.curve.point(T,V,$)},L.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},L.prototype._extAdd=function(y){var k=this.y.redSub(this.x).redMul(y.y.redSub(y.x)),Z=this.y.redAdd(this.x).redMul(y.y.redAdd(y.x)),T=this.t.redMul(this.curve.dd).redMul(y.t),V=this.z.redMul(y.z.redAdd(y.z)),$=Z.redSub(k),x=V.redSub(T),O=V.redAdd(T),g=Z.redAdd(k),E=$.redMul(x),z=O.redMul(g),P=$.redMul(g),Y=x.redMul(O);return this.curve.point(E,z,Y,P)},L.prototype._projAdd=function(y){var k=this.z.redMul(y.z),Z=k.redSqr(),T=this.x.redMul(y.x),V=this.y.redMul(y.y),$=this.curve.d.redMul(T).redMul(V),x=Z.redSub($),O=Z.redAdd($),g=this.x.redAdd(this.y).redMul(y.x.redAdd(y.y)).redISub(T).redISub(V),E=k.redMul(x).redMul(g),z,P;return this.curve.twisted?(z=k.redMul(O).redMul(V.redSub(this.curve._mulA(T))),P=x.redMul(O)):(z=k.redMul(O).redMul(V.redSub(T)),P=this.curve._mulC(x).redMul(O)),this.curve.point(E,z,P)},L.prototype.add=function(y){return this.isInfinity()?y:y.isInfinity()?this:this.curve.extended?this._extAdd(y):this._projAdd(y)},L.prototype.mul=function(y){return this._hasDoubles(y)?this.curve._fixedNafMul(this,y):this.curve._wnafMul(this,y)},L.prototype.mulAdd=function(y,k,Z){return this.curve._wnafMulAdd(1,[this,k],[y,Z],2,!1)},L.prototype.jmulAdd=function(y,k,Z){return this.curve._wnafMulAdd(1,[this,k],[y,Z],2,!0)},L.prototype.normalize=function(){if(this.zOne)return this;var y=this.z.redInvm();return this.x=this.x.redMul(y),this.y=this.y.redMul(y),this.t&&(this.t=this.t.redMul(y)),this.z=this.curve.one,this.zOne=!0,this},L.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},L.prototype.getX=function(){return this.normalize(),this.x.fromRed()},L.prototype.getY=function(){return this.normalize(),this.y.fromRed()},L.prototype.eq=function(y){return this===y||this.getX().cmp(y.getX())===0&&this.getY().cmp(y.getY())===0},L.prototype.eqXToP=function(y){var k=y.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(k)===0)return!0;for(var Z=y.clone(),T=this.curve.redN.redMul(this.z);;){if(Z.iadd(this.curve.n),Z.cmp(this.curve.p)>=0)return!1;if(k.redIAdd(T),this.x.cmp(k)===0)return!0}},L.prototype.toP=L.prototype.normalize,L.prototype.mixedAdd=L.prototype.add}),xr=Uo((l)=>{var d=l;d.base=Ce(),d.short=Cc(),d.mont=Qc(),d.edwards=Ac()}),nn=Uo((l)=>{var d=Pa(),i=da();l.inherits=i;function R(e,c){return(e.charCodeAt(c)&64512)!==55296||c<0||c+1>=e.length?!1:(e.charCodeAt(c+1)&64512)===56320}function f(e,c){if(Array.isArray(e))return e.slice();if(!e)return[];var s=[];if(typeof e=="string")if(c){if(c==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),_=0;_<e.length;_+=2)s.push(parseInt(e[_]+e[_+1],16))}else for(var p=0,_=0;_<e.length;_++){var N=e.charCodeAt(_);N<128?s[p++]=N:N<2048?(s[p++]=N>>6|192,s[p++]=N&63|128):R(e,_)?(N=65536+((N&1023)<<10)+(e.charCodeAt(++_)&1023),s[p++]=N>>18|240,s[p++]=N>>12&63|128,s[p++]=N>>6&63|128,s[p++]=N&63|128):(s[p++]=N>>12|224,s[p++]=N>>6&63|128,s[p++]=N&63|128)}else for(_=0;_<e.length;_++)s[_]=e[_]|0;return s}l.toArray=f;function q(e){for(var c="",s=0;s<e.length;s++)c+=L(e[s].toString(16));return c}l.toHex=q;function u(e){var c=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return c>>>0}l.htonl=u;function h(e,c){for(var s="",p=0;p<e.length;p++){var _=e[p];c==="little"&&(_=u(_)),s+=y(_.toString(16))}return s}l.toHex32=h;function L(e){return e.length===1?"0"+e:e}l.zero2=L;function y(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}l.zero8=y;function k(e,c,s,p){var _=s-c;d(_%4===0);for(var N=new Array(_/4),t=0,a=c;t<N.length;t++,a+=4){var m;p==="big"?m=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:m=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],N[t]=m>>>0}return N}l.join32=k;function Z(e,c){for(var s=new Array(e.length*4),p=0,_=0;p<e.length;p++,_+=4){var N=e[p];c==="big"?(s[_]=N>>>24,s[_+1]=N>>>16&255,s[_+2]=N>>>8&255,s[_+3]=N&255):(s[_+3]=N>>>24,s[_+2]=N>>>16&255,s[_+1]=N>>>8&255,s[_]=N&255)}return s}l.split32=Z;function T(e,c){return e>>>c|e<<32-c}l.rotr32=T;function V(e,c){return e<<c|e>>>32-c}l.rotl32=V;function $(e,c){return e+c>>>0}l.sum32=$;function x(e,c,s){return e+c+s>>>0}l.sum32_3=x;function O(e,c,s,p){return e+c+s+p>>>0}l.sum32_4=O;function g(e,c,s,p,_){return e+c+s+p+_>>>0}l.sum32_5=g;function E(e,c,s,p){var _=e[c],N=e[c+1],t=p+N>>>0,a=(t<p?1:0)+s+_;e[c]=a>>>0,e[c+1]=t}l.sum64=E;function z(e,c,s,p){var _=c+p>>>0,N=(_<c?1:0)+e+s;return N>>>0}l.sum64_hi=z;function P(e,c,s,p){var _=c+p;return _>>>0}l.sum64_lo=P;function Y(e,c,s,p,_,N,t,a){var m=0,S=c;S=S+p>>>0,m+=S<c?1:0,S=S+N>>>0,m+=S<N?1:0,S=S+a>>>0,m+=S<a?1:0;var w=e+s+_+t+m;return w>>>0}l.sum64_4_hi=Y;function B(e,c,s,p,_,N,t,a){var m=c+p+N+a;return m>>>0}l.sum64_4_lo=B;function uo(e,c,s,p,_,N,t,a,m,S){var w=0,I=c;I=I+p>>>0,w+=I<c?1:0,I=I+N>>>0,w+=I<N?1:0,I=I+a>>>0,w+=I<a?1:0,I=I+S>>>0,w+=I<S?1:0;var fo=e+s+_+t+m+w;return fo>>>0}l.sum64_5_hi=uo;function to(e,c,s,p,_,N,t,a,m,S){var w=c+p+N+a+S;return w>>>0}l.sum64_5_lo=to;function To(e,c,s){var p=c<<32-s|e>>>s;return p>>>0}l.rotr64_hi=To;function co(e,c,s){var p=e<<32-s|c>>>s;return p>>>0}l.rotr64_lo=co;function Wo(e,c,s){return e>>>s}l.shr64_hi=Wo;function o(e,c,s){var p=e<<32-s|c>>>s;return p>>>0}l.shr64_lo=o}),he=Uo((l)=>{var d=nn(),i=Pa();function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=R,R.prototype.update=function(f,q){if(f=d.toArray(f,q),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){f=this.pending;var u=f.length%this._delta8;this.pending=f.slice(f.length-u,f.length),this.pending.length===0&&(this.pending=null),f=d.join32(f,0,f.length-u,this.endian);for(var h=0;h<f.length;h+=this._delta32)this._update(f,h,h+this._delta32)}return this},R.prototype.digest=function(f){return this.update(this._pad()),i(this.pending===null),this._digest(f)},R.prototype._pad=function(){var f=this.pendingTotal,q=this._delta8,u=q-(f+this.padLength)%q,h=new Array(u+this.padLength);h[0]=128;for(var L=1;L<u;L++)h[L]=0;if(f<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)h[L++]=0;h[L++]=0,h[L++]=0,h[L++]=0,h[L++]=0,h[L++]=f>>>24&255,h[L++]=f>>>16&255,h[L++]=f>>>8&255,h[L++]=f&255}else for(h[L++]=f&255,h[L++]=f>>>8&255,h[L++]=f>>>16&255,h[L++]=f>>>24&255,h[L++]=0,h[L++]=0,h[L++]=0,h[L++]=0,y=8;y<this.padLength;y++)h[L++]=0;return h}}),$r=Uo((l)=>{var d=nn(),i=d.rotr32;function R(Z,T,V,$){if(Z===0)return f(T,V,$);if(Z===1||Z===3)return u(T,V,$);if(Z===2)return q(T,V,$)}l.ft_1=R;function f(Z,T,V){return Z&T^~Z&V}l.ch32=f;function q(Z,T,V){return Z&T^Z&V^T&V}l.maj32=q;function u(Z,T,V){return Z^T^V}l.p32=u;function h(Z){return i(Z,2)^i(Z,13)^i(Z,22)}l.s0_256=h;function L(Z){return i(Z,6)^i(Z,11)^i(Z,25)}l.s1_256=L;function y(Z){return i(Z,7)^i(Z,18)^Z>>>3}l.g0_256=y;function k(Z){return i(Z,17)^i(Z,19)^Z>>>10}l.g1_256=k}),ou=Uo((l,d)=>{var i=nn(),R=he(),f=$r(),q=i.rotl32,u=i.sum32,h=i.sum32_5,L=f.ft_1,y=R.BlockHash,k=[1518500249,1859775393,2400959708,3395469782];function Z(){if(!(this instanceof Z))return new Z;y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(Z,y),d.exports=Z,Z.blockSize=512,Z.outSize=160,Z.hmacStrength=80,Z.padLength=64,Z.prototype._update=function(T,V){for(var $=this.W,x=0;x<16;x++)$[x]=T[V+x];for(;x<$.length;x++)$[x]=q($[x-3]^$[x-8]^$[x-14]^$[x-16],1);var O=this.h[0],g=this.h[1],E=this.h[2],z=this.h[3],P=this.h[4];for(x=0;x<$.length;x++){var Y=~~(x/20),B=h(q(O,5),L(Y,g,E,z),P,$[x],k[Y]);P=z,z=E,E=q(g,30),g=O,O=B}this.h[0]=u(this.h[0],O),this.h[1]=u(this.h[1],g),this.h[2]=u(this.h[2],E),this.h[3]=u(this.h[3],z),this.h[4]=u(this.h[4],P)},Z.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),Tr=Uo((l,d)=>{var i=nn(),R=he(),f=$r(),q=Pa(),u=i.sum32,h=i.sum32_4,L=i.sum32_5,y=f.ch32,k=f.maj32,Z=f.s0_256,T=f.s1_256,V=f.g0_256,$=f.g1_256,x=R.BlockHash,O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O,this.W=new Array(64)}i.inherits(g,x),d.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(E,z){for(var P=this.W,Y=0;Y<16;Y++)P[Y]=E[z+Y];for(;Y<P.length;Y++)P[Y]=h($(P[Y-2]),P[Y-7],V(P[Y-15]),P[Y-16]);var B=this.h[0],uo=this.h[1],to=this.h[2],To=this.h[3],co=this.h[4],Wo=this.h[5],o=this.h[6],e=this.h[7];for(q(this.k.length===P.length),Y=0;Y<P.length;Y++){var c=L(e,T(co),y(co,Wo,o),this.k[Y],P[Y]),s=u(Z(B),k(B,uo,to));e=o,o=Wo,Wo=co,co=u(To,c),To=to,to=uo,uo=B,B=u(c,s)}this.h[0]=u(this.h[0],B),this.h[1]=u(this.h[1],uo),this.h[2]=u(this.h[2],to),this.h[3]=u(this.h[3],To),this.h[4]=u(this.h[4],co),this.h[5]=u(this.h[5],Wo),this.h[6]=u(this.h[6],o),this.h[7]=u(this.h[7],e)},g.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}}),au=Uo((l,d)=>{var i=nn(),R=Tr();function f(){if(!(this instanceof f))return new f;R.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(f,R),d.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(q){return q==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}}),Mr=Uo((l,d)=>{var i=nn(),R=he(),f=Pa(),q=i.rotr64_hi,u=i.rotr64_lo,h=i.shr64_hi,L=i.shr64_lo,y=i.sum64,k=i.sum64_hi,Z=i.sum64_lo,T=i.sum64_4_hi,V=i.sum64_4_lo,$=i.sum64_5_hi,x=i.sum64_5_lo,O=R.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;O.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}i.inherits(E,O),d.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(s,p){for(var _=this.W,N=0;N<32;N++)_[N]=s[p+N];for(;N<_.length;N+=2){var t=e(_[N-4],_[N-3]),a=c(_[N-4],_[N-3]),m=_[N-14],S=_[N-13],w=Wo(_[N-30],_[N-29]),I=o(_[N-30],_[N-29]),fo=_[N-32],Ro=_[N-31];_[N]=T(t,a,m,S,w,I,fo,Ro),_[N+1]=V(t,a,m,S,w,I,fo,Ro)}},E.prototype._update=function(s,p){this._prepareBlock(s,p);var _=this.W,N=this.h[0],t=this.h[1],a=this.h[2],m=this.h[3],S=this.h[4],w=this.h[5],I=this.h[6],fo=this.h[7],Ro=this.h[8],qo=this.h[9],po=this.h[10],io=this.h[11],ho=this.h[12],Eo=this.h[13],xo=this.h[14],Lo=this.h[15];f(this.k.length===_.length);for(var G=0;G<_.length;G+=2){var X=xo,Q=Lo,$o=To(Ro,qo),wo=co(Ro,qo),Mo=z(Ro,qo,po,io,ho,Eo),Go=P(Ro,qo,po,io,ho,Eo),Xo=this.k[G],jo=this.k[G+1],Qo=_[G],Jo=_[G+1],So=$(X,Q,$o,wo,Mo,Go,Xo,jo,Qo,Jo),ba=x(X,Q,$o,wo,Mo,Go,Xo,jo,Qo,Jo);X=uo(N,t),Q=to(N,t),$o=Y(N,t,a,m,S,w),wo=B(N,t,a,m,S,w);var W=k(X,Q,$o,wo),n=Z(X,Q,$o,wo);xo=ho,Lo=Eo,ho=po,Eo=io,po=Ro,io=qo,Ro=k(I,fo,So,ba),qo=Z(fo,fo,So,ba),I=S,fo=w,S=a,w=m,a=N,m=t,N=k(So,ba,W,n),t=Z(So,ba,W,n)}y(this.h,0,N,t),y(this.h,2,a,m),y(this.h,4,S,w),y(this.h,6,I,fo),y(this.h,8,Ro,qo),y(this.h,10,po,io),y(this.h,12,ho,Eo),y(this.h,14,xo,Lo)},E.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")};function z(s,p,_,N,t){var a=s&_^~s&t;return a<0&&(a+=4294967296),a}function P(s,p,_,N,t,a){var m=p&N^~p&a;return m<0&&(m+=4294967296),m}function Y(s,p,_,N,t){var a=s&_^s&t^_&t;return a<0&&(a+=4294967296),a}function B(s,p,_,N,t,a){var m=p&N^p&a^N&a;return m<0&&(m+=4294967296),m}function uo(s,p){var _=q(s,p,28),N=q(p,s,2),t=q(p,s,7),a=_^N^t;return a<0&&(a+=4294967296),a}function to(s,p){var _=u(s,p,28),N=u(p,s,2),t=u(p,s,7),a=_^N^t;return a<0&&(a+=4294967296),a}function To(s,p){var _=q(s,p,14),N=q(s,p,18),t=q(p,s,9),a=_^N^t;return a<0&&(a+=4294967296),a}function co(s,p){var _=u(s,p,14),N=u(s,p,18),t=u(p,s,9),a=_^N^t;return a<0&&(a+=4294967296),a}function Wo(s,p){var _=q(s,p,1),N=q(s,p,8),t=h(s,p,7),a=_^N^t;return a<0&&(a+=4294967296),a}function o(s,p){var _=u(s,p,1),N=u(s,p,8),t=L(s,p,7),a=_^N^t;return a<0&&(a+=4294967296),a}function e(s,p){var _=q(s,p,19),N=q(p,s,29),t=h(s,p,6),a=_^N^t;return a<0&&(a+=4294967296),a}function c(s,p){var _=u(s,p,19),N=u(p,s,29),t=L(s,p,6),a=_^N^t;return a<0&&(a+=4294967296),a}}),nu=Uo((l,d)=>{var i=nn(),R=Mr();function f(){if(!(this instanceof f))return new f;R.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(f,R),d.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(q){return q==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}}),eu=Uo((l)=>{l.sha1=ou(),l.sha224=au(),l.sha256=Tr(),l.sha384=nu(),l.sha512=Mr()}),su=Uo((l)=>{var d=nn(),i=he(),R=d.rotl32,f=d.sum32,q=d.sum32_3,u=d.sum32_4,h=i.BlockHash;function L(){if(!(this instanceof L))return new L;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}d.inherits(L,h),l.ripemd160=L,L.blockSize=512,L.outSize=160,L.hmacStrength=192,L.padLength=64,L.prototype._update=function(O,g){for(var E=this.h[0],z=this.h[1],P=this.h[2],Y=this.h[3],B=this.h[4],uo=E,to=z,To=P,co=Y,Wo=B,o=0;o<80;o++){var e=f(R(u(E,y(o,z,P,Y),O[T[o]+g],k(o)),$[o]),B);E=B,B=Y,Y=R(P,10),P=z,z=e,e=f(R(u(uo,y(79-o,to,To,co),O[V[o]+g],Z(o)),x[o]),Wo),uo=Wo,Wo=co,co=R(To,10),To=to,to=e}e=q(this.h[1],P,co),this.h[1]=q(this.h[2],Y,Wo),this.h[2]=q(this.h[3],B,uo),this.h[3]=q(this.h[4],E,to),this.h[4]=q(this.h[0],z,To),this.h[0]=e},L.prototype._digest=function(O){return O==="hex"?d.toHex32(this.h,"little"):d.split32(this.h,"little")};function y(O,g,E,z){return O<=15?g^E^z:O<=31?g&E|~g&z:O<=47?(g|~E)^z:O<=63?g&z|E&~z:g^(E|~z)}function k(O){return O<=15?0:O<=31?1518500249:O<=47?1859775393:O<=63?2400959708:2840853838}function Z(O){return O<=15?1352829926:O<=31?1548603684:O<=47?1836072691:O<=63?2053994217:0}var T=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),lu=Uo((l,d)=>{var i=nn(),R=Pa();function f(q,u,h){if(!(this instanceof f))return new f(q,u,h);this.Hash=q,this.blockSize=q.blockSize/8,this.outSize=q.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(u,h))}d.exports=f,f.prototype._init=function(q){q.length>this.blockSize&&(q=new this.Hash().update(q).digest()),R(q.length<=this.blockSize);for(var u=q.length;u<this.blockSize;u++)q.push(0);for(u=0;u<q.length;u++)q[u]^=54;for(this.inner=new this.Hash().update(q),u=0;u<q.length;u++)q[u]^=106;this.outer=new this.Hash().update(q)},f.prototype.update=function(q,u){return this.inner.update(q,u),this},f.prototype.digest=function(q){return this.outer.update(this.inner.digest()),this.outer.digest(q)}}),As=Uo((l)=>{var d=l;d.utils=nn(),d.common=he(),d.sha=eu(),d.ripemd=su(),d.hmac=lu(),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160}),ru=Uo((l,d)=>{d.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),ol=Uo((l)=>{var d=l,i=As(),R=xr(),f=Ia(),q=f.assert;function u(y){y.type==="short"?this.curve=new R.short(y):y.type==="edwards"?this.curve=new R.edwards(y):this.curve=new R.mont(y),this.g=this.curve.g,this.n=this.curve.n,this.hash=y.hash,q(this.g.validate(),"Invalid curve"),q(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}d.PresetCurve=u;function h(y,k){Object.defineProperty(d,y,{configurable:!0,enumerable:!0,get:function(){var Z=new u(k);return Object.defineProperty(d,y,{configurable:!0,enumerable:!0,value:Z}),Z}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var L;try{L=ru()}catch{L=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",L]})}),iu=Uo((l,d)=>{var i=As(),R=qr(),f=Pa();function q(u){if(!(this instanceof q))return new q(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=R.toArray(u.entropy,u.entropyEnc||"hex"),L=R.toArray(u.nonce,u.nonceEnc||"hex"),y=R.toArray(u.pers,u.persEnc||"hex");f(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,L,y)}d.exports=q,q.prototype._init=function(u,h,L){var y=u.concat(h).concat(L);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var k=0;k<this.V.length;k++)this.K[k]=0,this.V[k]=1;this._update(y),this._reseed=1,this.reseedInterval=281474976710656},q.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},q.prototype._update=function(u){var h=this._hmac().update(this.V).update([0]);u&&(h=h.update(u)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},q.prototype.reseed=function(u,h,L,y){typeof h!="string"&&(y=L,L=h,h=null),u=R.toArray(u,h),L=R.toArray(L,y),f(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(L||[])),this._reseed=1},q.prototype.generate=function(u,h,L,y){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(y=L,L=h,h=null),L&&(L=R.toArray(L,y||"hex"),this._update(L));for(var k=[];k.length<u;)this.V=this._hmac().update(this.V).digest(),k=k.concat(this.V);var Z=k.slice(0,u);return this._update(L),this._reseed++,R.encode(Z,h)}}),cu=Uo((l,d)=>{var i=cn(),R=Ia(),f=R.assert;function q(u,h){this.ec=u,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}d.exports=q,q.fromPublic=function(u,h,L){return h instanceof q?h:new q(u,{pub:h,pubEnc:L})},q.fromPrivate=function(u,h,L){return h instanceof q?h:new q(u,{priv:h,privEnc:L})},q.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},q.prototype.getPublic=function(u,h){return typeof u=="string"&&(h=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,u):this.pub},q.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},q.prototype._importPrivate=function(u,h){this.priv=new i(u,h||16),this.priv=this.priv.umod(this.ec.curve.n)},q.prototype._importPublic=function(u,h){if(u.x||u.y){this.ec.curve.type==="mont"?f(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&f(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,h)},q.prototype.derive=function(u){return u.validate()||f(u.validate(),"public point not validated"),u.mul(this.priv).getX()},q.prototype.sign=function(u,h,L){return this.ec.sign(u,this,h,L)},q.prototype.verify=function(u,h){return this.ec.verify(u,h,this)},q.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),uu=Uo((l,d)=>{var i=cn(),R=Ia(),f=R.assert;function q(k,Z){if(k instanceof q)return k;this._importDER(k,Z)||(f(k.r&&k.s,"Signature without r or s"),this.r=new i(k.r,16),this.s=new i(k.s,16),k.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=k.recoveryParam)}d.exports=q;function u(){this.place=0}function h(k,Z){var T=k[Z.place++];if(!(T&128))return T;var V=T&15;if(V===0||V>4)return!1;for(var $=0,x=0,O=Z.place;x<V;x++,O++)$<<=8,$|=k[O],$>>>=0;return $<=127?!1:(Z.place=O,$)}function L(k){for(var Z=0,T=k.length-1;!k[Z]&&!(k[Z+1]&128)&&Z<T;)Z++;return Z===0?k:k.slice(Z)}q.prototype._importDER=function(k,Z){k=R.toArray(k,Z);var T=new u;if(k[T.place++]!==48)return!1;var V=h(k,T);if(V===!1||V+T.place!==k.length||k[T.place++]!==2)return!1;var $=h(k,T);if($===!1)return!1;var x=k.slice(T.place,$+T.place);if(T.place+=$,k[T.place++]!==2)return!1;var O=h(k,T);if(O===!1||k.length!==O+T.place)return!1;var g=k.slice(T.place,O+T.place);if(x[0]===0)if(x[1]&128)x=x.slice(1);else return!1;if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;return this.r=new i(x),this.s=new i(g),this.recoveryParam=null,!0};function y(k,Z){if(Z<128){k.push(Z);return}var T=1+(Math.log(Z)/Math.LN2>>>3);for(k.push(T|128);--T;)k.push(Z>>>(T<<3)&255);k.push(Z)}q.prototype.toDER=function(k){var Z=this.r.toArray(),T=this.s.toArray();for(Z[0]&128&&(Z=[0].concat(Z)),T[0]&128&&(T=[0].concat(T)),Z=L(Z),T=L(T);!T[0]&&!(T[1]&128);)T=T.slice(1);var V=[2];y(V,Z.length),V=V.concat(Z),V.push(2),y(V,T.length);var $=V.concat(T),x=[48];return y(x,$.length),x=x.concat($),R.encode(x,k)}}),pu=Uo((l,d)=>{var i=cn(),R=iu(),f=Ia(),q=ol(),u=Ys(),h=f.assert,L=cu(),y=uu();function k(Z){if(!(this instanceof k))return new k(Z);typeof Z=="string"&&(h(Object.prototype.hasOwnProperty.call(q,Z),"Unknown curve "+Z),Z=q[Z]),Z instanceof q.PresetCurve&&(Z={curve:Z}),this.curve=Z.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Z.curve.g,this.g.precompute(Z.curve.n.bitLength()+1),this.hash=Z.hash||Z.curve.hash}d.exports=k,k.prototype.keyPair=function(Z){return new L(this,Z)},k.prototype.keyFromPrivate=function(Z,T){return L.fromPrivate(this,Z,T)},k.prototype.keyFromPublic=function(Z,T){return L.fromPublic(this,Z,T)},k.prototype.genKeyPair=function(Z){Z||(Z={});for(var T=new R({hash:this.hash,pers:Z.pers,persEnc:Z.persEnc||"utf8",entropy:Z.entropy||u(this.hash.hmacStrength),entropyEnc:Z.entropy&&Z.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),$=this.n.sub(new i(2));;){var x=new i(T.generate(V));if(!(x.cmp($)>0))return x.iaddn(1),this.keyFromPrivate(x)}},k.prototype._truncateToN=function(Z,T){var V=Z.byteLength()*8-this.n.bitLength();return V>0&&(Z=Z.ushrn(V)),!T&&Z.cmp(this.n)>=0?Z.sub(this.n):Z},k.prototype.sign=function(Z,T,V,$){typeof V=="object"&&($=V,V=null),$||($={}),T=this.keyFromPrivate(T,V),Z=this._truncateToN(new i(Z,16));for(var x=this.n.byteLength(),O=T.getPrivate().toArray("be",x),g=Z.toArray("be",x),E=new R({hash:this.hash,entropy:O,nonce:g,pers:$.pers,persEnc:$.persEnc||"utf8"}),z=this.n.sub(new i(1)),P=0;;P++){var Y=$.k?$.k(P):new i(E.generate(this.n.byteLength()));if(Y=this._truncateToN(Y,!0),!(Y.cmpn(1)<=0||Y.cmp(z)>=0)){var B=this.g.mul(Y);if(!B.isInfinity()){var uo=B.getX(),to=uo.umod(this.n);if(to.cmpn(0)!==0){var To=Y.invm(this.n).mul(to.mul(T.getPrivate()).iadd(Z));if(To=To.umod(this.n),To.cmpn(0)!==0){var co=(B.getY().isOdd()?1:0)|(uo.cmp(to)!==0?2:0);return $.canonical&&To.cmp(this.nh)>0&&(To=this.n.sub(To),co^=1),new y({r:to,s:To,recoveryParam:co})}}}}}},k.prototype.verify=function(Z,T,V,$){Z=this._truncateToN(new i(Z,16)),V=this.keyFromPublic(V,$),T=new y(T,"hex");var{r:x,s:O}=T;if(x.cmpn(1)<0||x.cmp(this.n)>=0||O.cmpn(1)<0||O.cmp(this.n)>=0)return!1;var g=O.invm(this.n),E=g.mul(Z).umod(this.n),z=g.mul(x).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(E,V.getPublic(),z),P.isInfinity()?!1:P.eqXToP(x)):(P=this.g.mulAdd(E,V.getPublic(),z),P.isInfinity()?!1:P.getX().umod(this.n).cmp(x)===0)},k.prototype.recoverPubKey=function(Z,T,V,$){h((3&V)===V,"The recovery param is more than two bits"),T=new y(T,$);var x=this.n,O=new i(Z),g=T.r,E=T.s,z=V&1,P=V>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw new Error("Unable to find sencond key candinate");P?g=this.curve.pointFromX(g.add(this.curve.n),z):g=this.curve.pointFromX(g,z);var Y=T.r.invm(x),B=x.sub(O).mul(Y).umod(x),uo=E.mul(Y).umod(x);return this.g.mulAdd(B,g,uo)},k.prototype.getKeyRecoveryParam=function(Z,T,V,$){if(T=new y(T,$),T.recoveryParam!==null)return T.recoveryParam;for(var x=0;x<4;x++){var O;try{O=this.recoverPubKey(Z,T,x)}catch{continue}if(O.eq(V))return x}throw new Error("Unable to find valid recovery factor")}}),mu=Uo((l,d)=>{var i=Ia(),R=i.assert,f=i.parseBytes,q=i.cachedProperty;function u(h,L){this.eddsa=h,this._secret=f(L.secret),h.isPoint(L.pub)?this._pub=L.pub:this._pubBytes=f(L.pub)}u.fromPublic=function(h,L){return L instanceof u?L:new u(h,{pub:L})},u.fromSecret=function(h,L){return L instanceof u?L:new u(h,{secret:L})},u.prototype.secret=function(){return this._secret},q(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),q(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),q(u,"privBytes",function(){var h=this.eddsa,L=this.hash(),y=h.encodingLength-1,k=L.slice(0,h.encodingLength);return k[0]&=248,k[y]&=127,k[y]|=64,k}),q(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),q(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),q(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(h){return R(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},u.prototype.verify=function(h,L){return this.eddsa.verify(h,L,this)},u.prototype.getSecret=function(h){return R(this._secret,"KeyPair is public only"),i.encode(this.secret(),h)},u.prototype.getPublic=function(h){return i.encode(this.pubBytes(),h)},d.exports=u}),tu=Uo((l,d)=>{var i=cn(),R=Ia(),f=R.assert,q=R.cachedProperty,u=R.parseBytes;function h(L,y){this.eddsa=L,typeof y!="object"&&(y=u(y)),Array.isArray(y)&&(y={R:y.slice(0,L.encodingLength),S:y.slice(L.encodingLength)}),f(y.R&&y.S,"Signature without R or S"),L.isPoint(y.R)&&(this._R=y.R),y.S instanceof i&&(this._S=y.S),this._Rencoded=Array.isArray(y.R)?y.R:y.Rencoded,this._Sencoded=Array.isArray(y.S)?y.S:y.Sencoded}q(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),q(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),q(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),q(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return R.encode(this.toBytes(),"hex").toUpperCase()},d.exports=h}),du=Uo((l,d)=>{var i=As(),R=ol(),f=Ia(),q=f.assert,u=f.parseBytes,h=mu(),L=tu();function y(k){if(q(k==="ed25519","only tested with ed25519 so far"),!(this instanceof y))return new y(k);k=R[k].curve,this.curve=k,this.g=k.g,this.g.precompute(k.n.bitLength()+1),this.pointClass=k.point().constructor,this.encodingLength=Math.ceil(k.n.bitLength()/8),this.hash=i.sha512}d.exports=y,y.prototype.sign=function(k,Z){k=u(k);var T=this.keyFromSecret(Z),V=this.hashInt(T.messagePrefix(),k),$=this.g.mul(V),x=this.encodePoint($),O=this.hashInt(x,T.pubBytes(),k).mul(T.priv()),g=V.add(O).umod(this.curve.n);return this.makeSignature({R:$,S:g,Rencoded:x})},y.prototype.verify=function(k,Z,T){k=u(k),Z=this.makeSignature(Z);var V=this.keyFromPublic(T),$=this.hashInt(Z.Rencoded(),V.pubBytes(),k),x=this.g.mul(Z.S()),O=Z.R().add(V.pub().mul($));return O.eq(x)},y.prototype.hashInt=function(){for(var k=this.hash(),Z=0;Z<arguments.length;Z++)k.update(arguments[Z]);return f.intFromLE(k.digest()).umod(this.curve.n)},y.prototype.keyFromPublic=function(k){return h.fromPublic(this,k)},y.prototype.keyFromSecret=function(k){return h.fromSecret(this,k)},y.prototype.makeSignature=function(k){return k instanceof L?k:new L(this,k)},y.prototype.encodePoint=function(k){var Z=k.getY().toArray("le",this.encodingLength);return Z[this.encodingLength-1]|=k.getX().isOdd()?128:0,Z},y.prototype.decodePoint=function(k){k=f.parseBytes(k);var Z=k.length-1,T=k.slice(0,Z).concat(k[Z]&-129),V=(k[Z]&128)!==0,$=f.intFromLE(T);return this.curve.pointFromY($,V)},y.prototype.encodeInt=function(k){return k.toArray("le",this.encodingLength)},y.prototype.decodeInt=function(k){return f.intFromLE(k)},y.prototype.isPoint=function(k){return k instanceof this.pointClass}}),al=Uo((l)=>{var d=l;d.version=Bc().version,d.utils=Ia(),d.rand=Ys(),d.curve=xr(),d.curves=ol(),d.ec=pu(),d.eddsa=du()}),Vr=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),nl=Uo((l,d)=>{var i=Fa(),R=i.Buffer,f={},q;for(q in i)!i.hasOwnProperty(q)||q==="SlowBuffer"||q==="Buffer"||(f[q]=i[q]);var u=f.Buffer={};for(q in R)!R.hasOwnProperty(q)||q==="allocUnsafe"||q==="allocUnsafeSlow"||(u[q]=R[q]);if(f.Buffer.prototype=R.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(h,L,y){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return R(h,L,y)}),u.alloc||(u.alloc=function(h,L,y){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2147483648)throw new RangeError('The value "'+h+'" is invalid for option "size"');var k=R(h);return!L||L.length===0?k.fill(0):typeof y=="string"?k.fill(L,y):k.fill(L),k}),!f.kStringMaxLength)try{f.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}f.constants||(f.constants={MAX_LENGTH:f.kMaxLength},f.kStringMaxLength&&(f.constants.MAX_STRING_LENGTH=f.kStringMaxLength)),d.exports=f}),el=Uo((l)=>{var d=da();function i(f){this._reporterState={obj:null,path:[],options:f||{},errors:[]}}l.Reporter=i,i.prototype.isError=function(f){return f instanceof R},i.prototype.save=function(){let f=this._reporterState;return{obj:f.obj,pathLen:f.path.length}},i.prototype.restore=function(f){let q=this._reporterState;q.obj=f.obj,q.path=q.path.slice(0,f.pathLen)},i.prototype.enterKey=function(f){return this._reporterState.path.push(f)},i.prototype.exitKey=function(f){let q=this._reporterState;q.path=q.path.slice(0,f-1)},i.prototype.leaveKey=function(f,q,u){let h=this._reporterState;this.exitKey(f),h.obj!==null&&(h.obj[q]=u)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let f=this._reporterState,q=f.obj;return f.obj={},q},i.prototype.leaveObject=function(f){let q=this._reporterState,u=q.obj;return q.obj=f,u},i.prototype.error=function(f){let q,u=this._reporterState,h=f instanceof R;if(h?q=f:q=new R(u.path.map(function(L){return"["+JSON.stringify(L)+"]"}).join(""),f.message||f,f.stack),!u.options.partial)throw q;return h||u.errors.push(q),q},i.prototype.wrapResult=function(f){let q=this._reporterState;return q.options.partial?{result:this.isError(f)?null:f,errors:q.errors}:f};function R(f,q){this.path=f,this.rethrow(q)}d(R,Error),R.prototype.rethrow=function(f){if(this.message=f+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,R),!this.stack)try{throw new Error(this.message)}catch(q){this.stack=q.stack}return this}}),Ne=Uo((l)=>{var d=da(),i=el().Reporter,R=nl().Buffer;function f(u,h){if(i.call(this,h),!R.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}d(f,i),l.DecoderBuffer=f,f.isDecoderBuffer=function(u){return u instanceof f?!0:typeof u=="object"&&R.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},f.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},f.prototype.restore=function(u){let h=new f(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,i.prototype.restore.call(this,u.reporter),h},f.prototype.isEmpty=function(){return this.offset===this.length},f.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},f.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");let L=new f(this.base);return L._reporterState=this._reporterState,L.offset=this.offset,L.length=this.offset+u,this.offset+=u,L},f.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function q(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(L){return q.isEncoderBuffer(L)||(L=new q(L,h)),this.length+=L.length,L},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=R.byteLength(u);else if(R.isBuffer(u))this.value=u,this.length=u.length;else return h.error("Unsupported type: "+typeof u)}l.EncoderBuffer=q,q.isEncoderBuffer=function(u){return u instanceof q?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},q.prototype.join=function(u,h){return u||(u=R.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(L){L.join(u,h),h+=L.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):R.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}}),sl=Uo((l,d)=>{var i=el().Reporter,R=Ne().EncoderBuffer,f=Ne().DecoderBuffer,q=Pa(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),L=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function y(Z,T,V){let $={};this._baseState=$,$.name=V,$.enc=Z,$.parent=T||null,$.children=null,$.tag=null,$.args=null,$.reverseArgs=null,$.choice=null,$.optional=!1,$.any=!1,$.obj=!1,$.use=null,$.useDecoder=null,$.key=null,$.default=null,$.explicit=null,$.implicit=null,$.contains=null,$.parent||($.children=[],this._wrap())}d.exports=y;var k=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];y.prototype.clone=function(){let Z=this._baseState,T={};k.forEach(function($){T[$]=Z[$]});let V=new this.constructor(T.parent);return V._baseState=T,V},y.prototype._wrap=function(){let Z=this._baseState;h.forEach(function(T){this[T]=function(){let V=new this.constructor(this);return Z.children.push(V),V[T].apply(V,arguments)}},this)},y.prototype._init=function(Z){let T=this._baseState;q(T.parent===null),Z.call(this),T.children=T.children.filter(function(V){return V._baseState.parent===this},this),q.equal(T.children.length,1,"Root node can have only one child")},y.prototype._useArgs=function(Z){let T=this._baseState,V=Z.filter(function($){return $ instanceof this.constructor},this);Z=Z.filter(function($){return!($ instanceof this.constructor)},this),V.length!==0&&(q(T.children===null),T.children=V,V.forEach(function($){$._baseState.parent=this},this)),Z.length!==0&&(q(T.args===null),T.args=Z,T.reverseArgs=Z.map(function($){if(typeof $!="object"||$.constructor!==Object)return $;let x={};return Object.keys($).forEach(function(O){O==(O|0)&&(O|=0);let g=$[O];x[g]=O}),x}))},L.forEach(function(Z){y.prototype[Z]=function(){let T=this._baseState;throw new Error(Z+" not implemented for encoding: "+T.enc)}}),u.forEach(function(Z){y.prototype[Z]=function(){let T=this._baseState,V=Array.prototype.slice.call(arguments);return q(T.tag===null),T.tag=Z,this._useArgs(V),this}}),y.prototype.use=function(Z){q(Z);let T=this._baseState;return q(T.use===null),T.use=Z,this},y.prototype.optional=function(){let Z=this._baseState;return Z.optional=!0,this},y.prototype.def=function(Z){let T=this._baseState;return q(T.default===null),T.default=Z,T.optional=!0,this},y.prototype.explicit=function(Z){let T=this._baseState;return q(T.explicit===null&&T.implicit===null),T.explicit=Z,this},y.prototype.implicit=function(Z){let T=this._baseState;return q(T.explicit===null&&T.implicit===null),T.implicit=Z,this},y.prototype.obj=function(){let Z=this._baseState,T=Array.prototype.slice.call(arguments);return Z.obj=!0,T.length!==0&&this._useArgs(T),this},y.prototype.key=function(Z){let T=this._baseState;return q(T.key===null),T.key=Z,this},y.prototype.any=function(){let Z=this._baseState;return Z.any=!0,this},y.prototype.choice=function(Z){let T=this._baseState;return q(T.choice===null),T.choice=Z,this._useArgs(Object.keys(Z).map(function(V){return Z[V]})),this},y.prototype.contains=function(Z){let T=this._baseState;return q(T.use===null),T.contains=Z,this},y.prototype._decode=function(Z,T){let V=this._baseState;if(V.parent===null)return Z.wrapResult(V.children[0]._decode(Z,T));let $=V.default,x=!0,O=null;if(V.key!==null&&(O=Z.enterKey(V.key)),V.optional){let E=null;if(V.explicit!==null?E=V.explicit:V.implicit!==null?E=V.implicit:V.tag!==null&&(E=V.tag),E===null&&!V.any){let z=Z.save();try{V.choice===null?this._decodeGeneric(V.tag,Z,T):this._decodeChoice(Z,T),x=!0}catch{x=!1}Z.restore(z)}else if(x=this._peekTag(Z,E,V.any),Z.isError(x))return x}let g;if(V.obj&&x&&(g=Z.enterObject()),x){if(V.explicit!==null){let z=this._decodeTag(Z,V.explicit);if(Z.isError(z))return z;Z=z}let E=Z.offset;if(V.use===null&&V.choice===null){let z;V.any&&(z=Z.save());let P=this._decodeTag(Z,V.implicit!==null?V.implicit:V.tag,V.any);if(Z.isError(P))return P;V.any?$=Z.raw(z):Z=P}if(T&&T.track&&V.tag!==null&&T.track(Z.path(),E,Z.length,"tagged"),T&&T.track&&V.tag!==null&&T.track(Z.path(),Z.offset,Z.length,"content"),V.any||(V.choice===null?$=this._decodeGeneric(V.tag,Z,T):$=this._decodeChoice(Z,T)),Z.isError($))return $;if(!V.any&&V.choice===null&&V.children!==null&&V.children.forEach(function(z){z._decode(Z,T)}),V.contains&&(V.tag==="octstr"||V.tag==="bitstr")){let z=new f($);$=this._getUse(V.contains,Z._reporterState.obj)._decode(z,T)}}return V.obj&&x&&($=Z.leaveObject(g)),V.key!==null&&($!==null||x===!0)?Z.leaveKey(O,V.key,$):O!==null&&Z.exitKey(O),$},y.prototype._decodeGeneric=function(Z,T,V){let $=this._baseState;return Z==="seq"||Z==="set"?null:Z==="seqof"||Z==="setof"?this._decodeList(T,Z,$.args[0],V):/str$/.test(Z)?this._decodeStr(T,Z,V):Z==="objid"&&$.args?this._decodeObjid(T,$.args[0],$.args[1],V):Z==="objid"?this._decodeObjid(T,null,null,V):Z==="gentime"||Z==="utctime"?this._decodeTime(T,Z,V):Z==="null_"?this._decodeNull(T,V):Z==="bool"?this._decodeBool(T,V):Z==="objDesc"?this._decodeStr(T,Z,V):Z==="int"||Z==="enum"?this._decodeInt(T,$.args&&$.args[0],V):$.use!==null?this._getUse($.use,T._reporterState.obj)._decode(T,V):T.error("unknown tag: "+Z)},y.prototype._getUse=function(Z,T){let V=this._baseState;return V.useDecoder=this._use(Z,T),q(V.useDecoder._baseState.parent===null),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},y.prototype._decodeChoice=function(Z,T){let V=this._baseState,$=null,x=!1;return Object.keys(V.choice).some(function(O){let g=Z.save(),E=V.choice[O];try{let z=E._decode(Z,T);if(Z.isError(z))return!1;$={type:O,value:z},x=!0}catch{return Z.restore(g),!1}return!0},this),x?$:Z.error("Choice not matched")},y.prototype._createEncoderBuffer=function(Z){return new R(Z,this.reporter)},y.prototype._encode=function(Z,T,V){let $=this._baseState;if($.default!==null&&$.default===Z)return;let x=this._encodeValue(Z,T,V);if(x!==void 0&&!this._skipDefault(x,T,V))return x},y.prototype._encodeValue=function(Z,T,V){let $=this._baseState;if($.parent===null)return $.children[0]._encode(Z,T||new i);let x=null;if(this.reporter=T,$.optional&&Z===void 0)if($.default!==null)Z=$.default;else return;let O=null,g=!1;if($.any)x=this._createEncoderBuffer(Z);else if($.choice)x=this._encodeChoice(Z,T);else if($.contains)O=this._getUse($.contains,V)._encode(Z,T),g=!0;else if($.children)O=$.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,T,Z);if(E._baseState.key===null)return T.error("Child should have a key");let z=T.enterKey(E._baseState.key);if(typeof Z!="object")return T.error("Child expected, but input is not object");let P=E._encode(Z[E._baseState.key],T,Z);return T.leaveKey(z),P},this).filter(function(E){return E}),O=this._createEncoderBuffer(O);else if($.tag==="seqof"||$.tag==="setof"){if(!($.args&&$.args.length===1))return T.error("Too many args for : "+$.tag);if(!Array.isArray(Z))return T.error("seqof/setof, but data is not Array");let E=this.clone();E._baseState.implicit=null,O=this._createEncoderBuffer(Z.map(function(z){let P=this._baseState;return this._getUse(P.args[0],Z)._encode(z,T)},E))}else $.use!==null?x=this._getUse($.use,V)._encode(Z,T):(O=this._encodePrimitive($.tag,Z),g=!0);if(!$.any&&$.choice===null){let E=$.implicit!==null?$.implicit:$.tag,z=$.implicit===null?"universal":"context";E===null?$.use===null&&T.error("Tag could be omitted only for .use()"):$.use===null&&(x=this._encodeComposite(E,g,z,O))}return $.explicit!==null&&(x=this._encodeComposite($.explicit,!1,"context",x)),x},y.prototype._encodeChoice=function(Z,T){let V=this._baseState,$=V.choice[Z.type];return $||q(!1,Z.type+" not found in "+JSON.stringify(Object.keys(V.choice))),$._encode(Z.value,T)},y.prototype._encodePrimitive=function(Z,T){let V=this._baseState;if(/str$/.test(Z))return this._encodeStr(T,Z);if(Z==="objid"&&V.args)return this._encodeObjid(T,V.reverseArgs[0],V.args[1]);if(Z==="objid")return this._encodeObjid(T,null,null);if(Z==="gentime"||Z==="utctime")return this._encodeTime(T,Z);if(Z==="null_")return this._encodeNull();if(Z==="int"||Z==="enum")return this._encodeInt(T,V.args&&V.reverseArgs[0]);if(Z==="bool")return this._encodeBool(T);if(Z==="objDesc")return this._encodeStr(T,Z);throw new Error("Unsupported tag: "+Z)},y.prototype._isNumstr=function(Z){return/^[0-9 ]*$/.test(Z)},y.prototype._isPrintstr=function(Z){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(Z)}}),ll=Uo((l)=>{function d(i){let R={};return Object.keys(i).forEach(function(f){(f|0)==f&&(f=f|0);let q=i[f];R[q]=f}),R}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=d(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=d(l.tag)}),Lr=Uo((l,d)=>{var i=da(),R=nl().Buffer,f=sl(),q=ll();function u(k){this.enc="der",this.name=k.name,this.entity=k,this.tree=new h,this.tree._init(k.body)}d.exports=u,u.prototype.encode=function(k,Z){return this.tree._encode(k,Z).join()};function h(k){f.call(this,"der",k)}i(h,f),h.prototype._encodeComposite=function(k,Z,T,V){let $=y(k,Z,T,this.reporter);if(V.length<128){let g=R.alloc(2);return g[0]=$,g[1]=V.length,this._createEncoderBuffer([g,V])}let x=1;for(let g=V.length;g>=256;g>>=8)x++;let O=R.alloc(2+x);O[0]=$,O[1]=128|x;for(let g=1+x,E=V.length;E>0;g--,E>>=8)O[g]=E&255;return this._createEncoderBuffer([O,V])},h.prototype._encodeStr=function(k,Z){if(Z==="bitstr")return this._createEncoderBuffer([k.unused|0,k.data]);if(Z==="bmpstr"){let T=R.alloc(k.length*2);for(let V=0;V<k.length;V++)T.writeUInt16BE(k.charCodeAt(V),V*2);return this._createEncoderBuffer(T)}else return Z==="numstr"?this._isNumstr(k)?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Z==="printstr"?this._isPrintstr(k)?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Z)?this._createEncoderBuffer(k):Z==="objDesc"?this._createEncoderBuffer(k):this.reporter.error("Encoding of string type: "+Z+" unsupported")},h.prototype._encodeObjid=function(k,Z,T){if(typeof k=="string"){if(!Z)return this.reporter.error("string objid given, but no values map found");if(!Z.hasOwnProperty(k))return this.reporter.error("objid not found in values map");k=Z[k].split(/[\s.]+/g);for(let O=0;O<k.length;O++)k[O]|=0}else if(Array.isArray(k)){k=k.slice();for(let O=0;O<k.length;O++)k[O]|=0}if(!Array.isArray(k))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(k));if(!T){if(k[1]>=40)return this.reporter.error("Second objid identifier OOB");k.splice(0,2,k[0]*40+k[1])}let V=0;for(let O=0;O<k.length;O++){let g=k[O];for(V++;g>=128;g>>=7)V++}let $=R.alloc(V),x=$.length-1;for(let O=k.length-1;O>=0;O--){let g=k[O];for($[x--]=g&127;(g>>=7)>0;)$[x--]=128|g&127}return this._createEncoderBuffer($)};function L(k){return k<10?"0"+k:k}h.prototype._encodeTime=function(k,Z){let T,V=new Date(k);return Z==="gentime"?T=[L(V.getUTCFullYear()),L(V.getUTCMonth()+1),L(V.getUTCDate()),L(V.getUTCHours()),L(V.getUTCMinutes()),L(V.getUTCSeconds()),"Z"].join(""):Z==="utctime"?T=[L(V.getUTCFullYear()%100),L(V.getUTCMonth()+1),L(V.getUTCDate()),L(V.getUTCHours()),L(V.getUTCMinutes()),L(V.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Z+" time is not supported yet"),this._encodeStr(T,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(k,Z){if(typeof k=="string"){if(!Z)return this.reporter.error("String int or enum given, but no values map");if(!Z.hasOwnProperty(k))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(k));k=Z[k]}if(typeof k!="number"&&!R.isBuffer(k)){let $=k.toArray();!k.sign&&$[0]&128&&$.unshift(0),k=R.from($)}if(R.isBuffer(k)){let $=k.length;k.length===0&&$++;let x=R.alloc($);return k.copy(x),k.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(k<128)return this._createEncoderBuffer(k);if(k<256)return this._createEncoderBuffer([0,k]);let T=1;for(let $=k;$>=256;$>>=8)T++;let V=new Array(T);for(let $=V.length-1;$>=0;$--)V[$]=k&255,k>>=8;return V[0]&128&&V.unshift(0),this._createEncoderBuffer(R.from(V))},h.prototype._encodeBool=function(k){return this._createEncoderBuffer(k?255:0)},h.prototype._use=function(k,Z){return typeof k=="function"&&(k=k(Z)),k._getEncoder("der").tree},h.prototype._skipDefault=function(k,Z,T){let V=this._baseState,$;if(V.default===null)return!1;let x=k.join();if(V.defaultBuffer===void 0&&(V.defaultBuffer=this._encodeValue(V.default,Z,T).join()),x.length!==V.defaultBuffer.length)return!1;for($=0;$<x.length;$++)if(x[$]!==V.defaultBuffer[$])return!1;return!0};function y(k,Z,T,V){let $;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),q.tagByName.hasOwnProperty(k))$=q.tagByName[k];else if(typeof k=="number"&&(k|0)===k)$=k;else return V.error("Unknown tag: "+k);return $>=31?V.error("Multi-octet tag encoding unsupported"):(Z||($|=32),$|=q.tagClassByName[T||"universal"]<<6,$)}}),bu=Uo((l,d)=>{var i=da(),R=Lr();function f(q){R.call(this,q),this.enc="pem"}i(f,R),d.exports=f,f.prototype.encode=function(q,u){let h=R.prototype.encode.call(this,q).toString("base64"),L=["-----BEGIN "+u.label+"-----"];for(let y=0;y<h.length;y+=64)L.push(h.slice(y,y+64));return L.push("-----END "+u.label+"-----"),L.join(`
`)}}),Wr=Uo((l)=>{var d=l;d.der=Lr(),d.pem=bu()}),wr=Uo((l,d)=>{var i=da(),R=Vr(),f=Ne().DecoderBuffer,q=sl(),u=ll();function h(Z){this.enc="der",this.name=Z.name,this.entity=Z,this.tree=new L,this.tree._init(Z.body)}d.exports=h,h.prototype.decode=function(Z,T){return f.isDecoderBuffer(Z)||(Z=new f(Z,T)),this.tree._decode(Z,T)};function L(Z){q.call(this,"der",Z)}i(L,q),L.prototype._peekTag=function(Z,T,V){if(Z.isEmpty())return!1;let $=Z.save(),x=y(Z,'Failed to peek tag: "'+T+'"');return Z.isError(x)?x:(Z.restore($),x.tag===T||x.tagStr===T||x.tagStr+"of"===T||V)},L.prototype._decodeTag=function(Z,T,V){let $=y(Z,'Failed to decode tag of "'+T+'"');if(Z.isError($))return $;let x=k(Z,$.primitive,'Failed to get length of "'+T+'"');if(Z.isError(x))return x;if(!V&&$.tag!==T&&$.tagStr!==T&&$.tagStr+"of"!==T)return Z.error('Failed to match tag: "'+T+'"');if($.primitive||x!==null)return Z.skip(x,'Failed to match body of: "'+T+'"');let O=Z.save(),g=this._skipUntilEnd(Z,'Failed to skip indefinite length body: "'+this.tag+'"');return Z.isError(g)?g:(x=Z.offset-O.offset,Z.restore(O),Z.skip(x,'Failed to match body of: "'+T+'"'))},L.prototype._skipUntilEnd=function(Z,T){for(;;){let V=y(Z,T);if(Z.isError(V))return V;let $=k(Z,V.primitive,T);if(Z.isError($))return $;let x;if(V.primitive||$!==null?x=Z.skip($):x=this._skipUntilEnd(Z,T),Z.isError(x))return x;if(V.tagStr==="end")break}},L.prototype._decodeList=function(Z,T,V,$){let x=[];for(;!Z.isEmpty();){let O=this._peekTag(Z,"end");if(Z.isError(O))return O;let g=V.decode(Z,"der",$);if(Z.isError(g)&&O)break;x.push(g)}return x},L.prototype._decodeStr=function(Z,T){if(T==="bitstr"){let V=Z.readUInt8();return Z.isError(V)?V:{unused:V,data:Z.raw()}}else if(T==="bmpstr"){let V=Z.raw();if(V.length%2===1)return Z.error("Decoding of string type: bmpstr length mismatch");let $="";for(let x=0;x<V.length/2;x++)$+=String.fromCharCode(V.readUInt16BE(x*2));return $}else if(T==="numstr"){let V=Z.raw().toString("ascii");return this._isNumstr(V)?V:Z.error("Decoding of string type: numstr unsupported characters")}else{if(T==="octstr")return Z.raw();if(T==="objDesc")return Z.raw();if(T==="printstr"){let V=Z.raw().toString("ascii");return this._isPrintstr(V)?V:Z.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(T)?Z.raw().toString():Z.error("Decoding of string type: "+T+" unsupported")}},L.prototype._decodeObjid=function(Z,T,V){let $,x=[],O=0,g=0;for(;!Z.isEmpty();)g=Z.readUInt8(),O<<=7,O|=g&127,(g&128)===0&&(x.push(O),O=0);g&128&&x.push(O);let E=x[0]/40|0,z=x[0]%40;if(V?$=x:$=[E,z].concat(x.slice(1)),T){let P=T[$.join(" ")];P===void 0&&(P=T[$.join(".")]),P!==void 0&&($=P)}return $},L.prototype._decodeTime=function(Z,T){let V=Z.raw().toString(),$,x,O,g,E,z;if(T==="gentime")$=V.slice(0,4)|0,x=V.slice(4,6)|0,O=V.slice(6,8)|0,g=V.slice(8,10)|0,E=V.slice(10,12)|0,z=V.slice(12,14)|0;else if(T==="utctime")$=V.slice(0,2)|0,x=V.slice(2,4)|0,O=V.slice(4,6)|0,g=V.slice(6,8)|0,E=V.slice(8,10)|0,z=V.slice(10,12)|0,$<70?$=2000+$:$=1900+$;else return Z.error("Decoding "+T+" time is not supported yet");return Date.UTC($,x-1,O,g,E,z,0)},L.prototype._decodeNull=function(){return null},L.prototype._decodeBool=function(Z){let T=Z.readUInt8();return Z.isError(T)?T:T!==0},L.prototype._decodeInt=function(Z,T){let V=Z.raw(),$=new R(V);return T&&($=T[$.toString(10)]||$),$},L.prototype._use=function(Z,T){return typeof Z=="function"&&(Z=Z(T)),Z._getDecoder("der").tree};function y(Z,T){let V=Z.readUInt8(T);if(Z.isError(V))return V;let $=u.tagClass[V>>6],x=(V&32)===0;if((V&31)===31){let g=V;for(V=0;(g&128)===128;){if(g=Z.readUInt8(T),Z.isError(g))return g;V<<=7,V|=g&127}}else V&=31;let O=u.tag[V];return{cls:$,primitive:x,tag:V,tagStr:O}}function k(Z,T,V){let $=Z.readUInt8(V);if(Z.isError($))return $;if(!T&&$===128)return null;if(($&128)===0)return $;let x=$&127;if(x>4)return Z.error("length octect is too long");$=0;for(let O=0;O<x;O++){$<<=8;let g=Z.readUInt8(V);if(Z.isError(g))return g;$|=g}return $}}),fu=Uo((l,d)=>{var i=da(),R=nl().Buffer,f=wr();function q(u){f.call(this,u),this.enc="pem"}i(q,f),d.exports=q,q.prototype.decode=function(u,h){let L=u.toString().split(/[\r\n]+/g),y=h.label.toUpperCase(),k=/^-----(BEGIN|END) ([^-]+)-----$/,Z=-1,T=-1;for(let x=0;x<L.length;x++){let O=L[x].match(k);if(O!==null&&O[2]===y)if(Z===-1){if(O[1]!=="BEGIN")break;Z=x}else{if(O[1]!=="END")break;T=x;break}}if(Z===-1||T===-1)throw new Error("PEM section not found for: "+y);let V=L.slice(Z+1,T).join("");V.replace(/[^a-z0-9+/=]+/gi,"");let $=R.from(V,"base64");return f.prototype.decode.call(this,$,h)}}),Fr=Uo((l)=>{var d=l;d.der=wr(),d.pem=fu()}),_u=Uo((l)=>{var d=Wr(),i=Fr(),R=da(),f=l;f.define=function(u,h){return new q(u,h)};function q(u,h){this.name=u,this.body=h,this.decoders={},this.encoders={}}q.prototype._createNamed=function(u){let h=this.name;function L(y){this._initNamed(y,h)}return R(L,u),L.prototype._initNamed=function(y,k){u.call(this,y,k)},new L(this)},q.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(i[u])),this.decoders[u]},q.prototype.decode=function(u,h,L){return this._getDecoder(h).decode(u,L)},q.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(d[u])),this.encoders[u]},q.prototype.encode=function(u,h,L){return this._getEncoder(h).encode(u,L)}}),hu=Uo((l)=>{var d=l;d.Reporter=el().Reporter,d.DecoderBuffer=Ne().DecoderBuffer,d.EncoderBuffer=Ne().EncoderBuffer,d.Node=sl()}),Nu=Uo((l)=>{var d=l;d._reverse=function(i){let R={};return Object.keys(i).forEach(function(f){(f|0)==f&&(f=f|0);let q=i[f];R[q]=f}),R},d.der=ll()}),Or=Uo((l)=>{var d=l;d.bignum=Vr(),d.define=_u().define,d.base=hu(),d.constants=Nu(),d.decoders=Fr(),d.encoders=Wr()}),vu=Uo((l,d)=>{var i=Or(),R=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),f=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),q=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(q),this.key("subjectPublicKey").bitstr())}),h=i.define("RelativeDistinguishedName",function(){this.setof(f)}),L=i.define("RDNSequence",function(){this.seqof(h)}),y=i.define("Name",function(){this.choice({rdnSequence:this.use(L)})}),k=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(R),this.key("notAfter").use(R))}),Z=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),T=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(q),this.key("issuer").use(y),this.key("validity").use(k),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Z).optional())}),V=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(T),this.key("signatureAlgorithm").use(q),this.key("signatureValue").bitstr())});d.exports=V}),Ru=Uo((l)=>{var d=Or();l.certificate=vu();var i=d.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=i;var R=d.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=R;var f=d.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(q),this.key("subjectPublicKey").bitstr())});l.PublicKey=f;var q=d.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=d.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(q),this.key("subjectPrivateKey").octstr())});l.PrivateKey=u;var h=d.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=h;var L=d.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=L,l.DSAparam=d.define("DSAparam",function(){this.int()});var y=d.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(k),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=y;var k=d.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=d.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),Zu=Uo((l,d)=>{d.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),yu=Uo((l,d)=>{var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,f=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,q=Be(),u=Hs(),h=ha().Buffer;d.exports=function(L,y){var k=L.toString(),Z=k.match(i),T;if(Z){var V="aes"+Z[1],$=h.from(Z[2],"hex"),x=h.from(Z[3].replace(/[\r\n]/g,""),"base64"),O=q(y,$.slice(0,8),parseInt(Z[1],10)).key,g=[],E=u.createDecipheriv(V,O,$);g.push(E.update(x)),g.push(E.final()),T=h.concat(g)}else{var z=k.match(f);T=h.from(z[2].replace(/[\r\n]/g,""),"base64")}var P=k.match(R)[1];return{tag:P,data:T}}}),Qe=Uo((l,d)=>{var i=Ru(),R=Zu(),f=yu(),q=Hs(),u=ir(),h=ha().Buffer;d.exports=L;function L(k){var Z;typeof k=="object"&&!h.isBuffer(k)&&(Z=k.passphrase,k=k.key),typeof k=="string"&&(k=h.from(k));var T=f(k,Z),V=T.tag,$=T.data,x,O;switch(V){case"CERTIFICATE":O=i.certificate.decode($,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(O||(O=i.PublicKey.decode($,"der")),x=O.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(O.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return O.subjectPrivateKey=O.subjectPublicKey,{type:"ec",data:O};case"1.2.840.10040.4.1":return O.algorithm.params.pub_key=i.DSAparam.decode(O.subjectPublicKey.data,"der"),{type:"dsa",data:O.algorithm.params};default:throw new Error("unknown key id "+x)}case"ENCRYPTED PRIVATE KEY":$=i.EncryptedPrivateKey.decode($,"der"),$=y($,Z);case"PRIVATE KEY":switch(O=i.PrivateKey.decode($,"der"),x=O.algorithm.algorithm.join("."),x){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(O.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:O.algorithm.curve,privateKey:i.ECPrivateKey.decode(O.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return O.algorithm.params.priv_key=i.DSAparam.decode(O.subjectPrivateKey,"der"),{type:"dsa",params:O.algorithm.params};default:throw new Error("unknown key id "+x)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode($,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode($,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode($,"der")};case"EC PRIVATE KEY":return $=i.ECPrivateKey.decode($,"der"),{curve:$.parameters.value,privateKey:$.privateKey};default:throw new Error("unknown key type "+V)}}L.signature=i.signature;function y(k,Z){var T=k.algorithm.decrypt.kde.kdeparams.salt,V=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=R[k.algorithm.decrypt.cipher.algo.join(".")],x=k.algorithm.decrypt.cipher.iv,O=k.subjectPrivateKey,g=parseInt($.split("-")[1],10)/8,E=u.pbkdf2Sync(Z,T,V,g,"sha1"),z=q.createDecipheriv($,E,x),P=[];return P.push(z.update(O)),P.push(z.final()),h.concat(P)}}),zr=Uo((l,d)=>{d.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),ku=Uo((l,d)=>{var i=ha().Buffer,R=ar(),f=Qs(),q=al().ec,u=Cs(),h=Qe(),L=zr();function y(E,z,P,Y,B){var uo=h(z);if(uo.curve){if(Y!=="ecdsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");return k(E,uo)}else if(uo.type==="dsa"){if(Y!=="dsa")throw new Error("wrong private key type");return Z(E,uo,P)}else if(Y!=="rsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");E=i.concat([B,E]);for(var to=uo.modulus.byteLength(),To=[0,1];E.length+To.length+1<to;)To.push(255);To.push(0);for(var co=-1;++co<E.length;)To.push(E[co]);var Wo=f(To,uo);return Wo}function k(E,z){var P=L[z.curve.join(".")];if(!P)throw new Error("unknown curve "+z.curve.join("."));var Y=new q(P),B=Y.keyFromPrivate(z.privateKey),uo=B.sign(E);return i.from(uo.toDER())}function Z(E,z,P){for(var Y=z.params.priv_key,B=z.params.p,uo=z.params.q,to=z.params.g,To=new u(0),co,Wo=$(E,uo).mod(uo),o=!1,e=V(Y,uo,E,P);o===!1;)co=O(uo,e,P),To=g(to,co,B,uo),o=co.invm(uo).imul(Wo.add(Y.mul(To))).mod(uo),o.cmpn(0)===0&&(o=!1,To=new u(0));return T(To,o)}function T(E,z){E=E.toArray(),z=z.toArray(),E[0]&128&&(E=[0].concat(E)),z[0]&128&&(z=[0].concat(z));var P=E.length+z.length+4,Y=[48,P,2,E.length];return Y=Y.concat(E,[2,z.length],z),i.from(Y)}function V(E,z,P,Y){if(E=i.from(E.toArray()),E.length<z.byteLength()){var B=i.alloc(z.byteLength()-E.length);E=i.concat([B,E])}var uo=P.length,to=x(P,z),To=i.alloc(uo);To.fill(1);var co=i.alloc(uo);return co=R(Y,co).update(To).update(i.from([0])).update(E).update(to).digest(),To=R(Y,co).update(To).digest(),co=R(Y,co).update(To).update(i.from([1])).update(E).update(to).digest(),To=R(Y,co).update(To).digest(),{k:co,v:To}}function $(E,z){var P=new u(E),Y=(E.length<<3)-z.bitLength();return Y>0&&P.ishrn(Y),P}function x(E,z){E=$(E,z),E=E.mod(z);var P=i.from(E.toArray());if(P.length<z.byteLength()){var Y=i.alloc(z.byteLength()-P.length);P=i.concat([Y,P])}return P}function O(E,z,P){var Y,B;do{for(Y=i.alloc(0);Y.length*8<E.bitLength();)z.v=R(P,z.k).update(z.v).digest(),Y=i.concat([Y,z.v]);B=$(Y,E),z.k=R(P,z.k).update(z.v).update(i.from([0])).digest(),z.v=R(P,z.k).update(z.v).digest()}while(B.cmp(E)!==-1);return B}function g(E,z,P,Y){return E.toRed(u.mont(P)).redPow(z).fromRed().mod(Y)}d.exports=y,d.exports.getKey=V,d.exports.makeKey=O}),qu=Uo((l,d)=>{var i=ha().Buffer,R=Cs(),f=al().ec,q=Qe(),u=zr();function h(Z,T,V,$,x){var O=q(V);if(O.type==="ec"){if($!=="ecdsa"&&$!=="ecdsa/rsa")throw new Error("wrong public key type");return L(Z,T,O)}else if(O.type==="dsa"){if($!=="dsa")throw new Error("wrong public key type");return y(Z,T,O)}else if($!=="rsa"&&$!=="ecdsa/rsa")throw new Error("wrong public key type");T=i.concat([x,T]);for(var g=O.modulus.byteLength(),E=[1],z=0;T.length+E.length+2<g;)E.push(255),z++;E.push(0);for(var P=-1;++P<T.length;)E.push(T[P]);E=i.from(E);var Y=R.mont(O.modulus);Z=new R(Z).toRed(Y),Z=Z.redPow(new R(O.publicExponent)),Z=i.from(Z.fromRed().toArray());var B=z<8?1:0;for(g=Math.min(Z.length,E.length),Z.length!==E.length&&(B=1),P=-1;++P<g;)B|=Z[P]^E[P];return B===0}function L(Z,T,V){var $=u[V.data.algorithm.curve.join(".")];if(!$)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));var x=new f($),O=V.data.subjectPrivateKey.data;return x.verify(T,Z,O)}function y(Z,T,V){var $=V.data.p,x=V.data.q,O=V.data.g,g=V.data.pub_key,E=q.signature.decode(Z,"der"),z=E.s,P=E.r;k(z,x),k(P,x);var Y=R.mont($),B=z.invm(x),uo=O.toRed(Y).redPow(new R(T).mul(B).mod(x)).fromRed().mul(g.toRed(Y).redPow(P.mul(B).mod(x)).fromRed()).mod($).mod(x);return uo.cmp(P)===0}function k(Z,T){if(Z.cmpn(0)<=0)throw new Error("invalid sig");if(Z.cmp(T)>=T)throw new Error("invalid sig")}d.exports=h}),xu=Uo((l,d)=>{var i=ha().Buffer,R=fe(),f=Yc(),q=da(),u=ku(),h=qu(),L=nr();Object.keys(L).forEach(function(V){L[V].id=i.from(L[V].id,"hex"),L[V.toLowerCase()]=L[V]});function y(V){f.Writable.call(this);var $=L[V];if(!$)throw new Error("Unknown message digest");this._hashType=$.hash,this._hash=R($.hash),this._tag=$.id,this._signType=$.sign}q(y,f.Writable),y.prototype._write=function(V,$,x){this._hash.update(V),x()},y.prototype.update=function(V,$){return typeof V=="string"&&(V=i.from(V,$)),this._hash.update(V),this},y.prototype.sign=function(V,$){this.end();var x=this._hash.digest(),O=u(x,V,this._hashType,this._signType,this._tag);return $?O.toString($):O};function k(V){f.Writable.call(this);var $=L[V];if(!$)throw new Error("Unknown message digest");this._hash=R($.hash),this._tag=$.id,this._signType=$.sign}q(k,f.Writable),k.prototype._write=function(V,$,x){this._hash.update(V),x()},k.prototype.update=function(V,$){return typeof V=="string"&&(V=i.from(V,$)),this._hash.update(V),this},k.prototype.verify=function(V,$,x){typeof $=="string"&&($=i.from($,x)),this.end();var O=this._hash.digest();return h($,O,V,this._signType,this._tag)};function Z(V){return new y(V)}function T(V){return new k(V)}d.exports={Sign:Z,Verify:T,createSign:Z,createVerify:T}}),$u=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),Tu=Uo((l,d)=>{var i=al(),R=$u();d.exports=function(h){return new q(h)};var f={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};f.p224=f.secp224r1,f.p256=f.secp256r1=f.prime256v1,f.p192=f.secp192r1=f.prime192v1,f.p384=f.secp384r1,f.p521=f.secp521r1;function q(h){this.curveType=f[h],this.curveType||(this.curveType={name:h}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}q.prototype.generateKeys=function(h,L){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,L)},q.prototype.computeSecret=function(h,L,y){L=L||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,L));var k=this.curve.keyFromPublic(h).getPublic(),Z=k.mul(this.keys.getPrivate()).getX();return u(Z,y,this.curveType.byteLength)},q.prototype.getPublicKey=function(h,L){var y=this.keys.getPublic(L==="compressed",!0);return L==="hybrid"&&(y[y.length-1]%2?y[0]=7:y[0]=6),u(y,h)},q.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},q.prototype.setPublicKey=function(h,L){return L=L||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,L)),this.keys._importPublic(h),this},q.prototype.setPrivateKey=function(h,L){L=L||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,L));var y=new R(h);return y=y.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(y),this};function u(h,L,y){Array.isArray(h)||(h=h.toArray());var k=new Buffer(h);if(y&&k.length<y){var Z=new Buffer(y-k.length);Z.fill(0),k=Buffer.concat([Z,k])}return L?k.toString(L):k}}),Sr=Uo((l,d)=>{var i=fe(),R=ha().Buffer;d.exports=function(q,u){for(var h=R.alloc(0),L=0,y;h.length<u;)y=f(L++),h=R.concat([h,i("sha1").update(q).update(y).digest()]);return h.slice(0,u)};function f(q){var u=R.allocUnsafe(4);return u.writeUInt32BE(q,0),u}}),Xr=Uo((l,d)=>{d.exports=function(i,R){for(var f=i.length,q=-1;++q<f;)i[q]^=R[q];return i}}),rl=Uo((l,d)=>{(function(i,R){function f(o,e){if(!o)throw new Error(e||"Assertion failed")}function q(o,e){o.super_=e;var c=function(){};c.prototype=e.prototype,o.prototype=new c,o.prototype.constructor=o}function u(o,e,c){if(u.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((e==="le"||e==="be")&&(c=e,e=10),this._init(o||0,e||10,c||"be"))}typeof i=="object"?i.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=wn().Buffer}catch{}u.isBN=function(o){return o instanceof u?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===u.wordSize&&Array.isArray(o.words)},u.max=function(o,e){return o.cmp(e)>0?o:e},u.min=function(o,e){return o.cmp(e)<0?o:e},u.prototype._init=function(o,e,c){if(typeof o=="number")return this._initNumber(o,e,c);if(typeof o=="object")return this._initArray(o,e,c);e==="hex"&&(e=16),f(e===(e|0)&&e>=2&&e<=36),o=o.toString().replace(/\s+/g,"");var s=0;o[0]==="-"&&(s++,this.negative=1),s<o.length&&(e===16?this._parseHex(o,s,c):(this._parseBase(o,e,s),c==="le"&&this._initArray(this.toArray(),e,c)))},u.prototype._initNumber=function(o,e,c){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(f(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),c==="le"&&this._initArray(this.toArray(),e,c)},u.prototype._initArray=function(o,e,c){if(f(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p,_,N=0;if(c==="be")for(s=o.length-1,p=0;s>=0;s-=3)_=o[s]|o[s-1]<<8|o[s-2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);else if(c==="le")for(s=0,p=0;s<o.length;s+=3)_=o[s]|o[s+1]<<8|o[s+2]<<16,this.words[p]|=_<<N&67108863,this.words[p+1]=_>>>26-N&67108863,N+=24,N>=26&&(N-=26,p++);return this.strip()};function L(o,e){var c=o.charCodeAt(e);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(o,e,c){var s=L(o,c);return c-1>=e&&(s|=L(o,c-1)<<4),s}u.prototype._parseHex=function(o,e,c){this.length=Math.ceil((o.length-e)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var p=0,_=0,N;if(c==="be")for(s=o.length-1;s>=e;s-=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8;else{var t=o.length-e;for(s=t%2===0?e+1:e;s<o.length;s+=2)N=y(o,e,s)<<p,this.words[_]|=N&67108863,p>=18?(p-=18,_+=1,this.words[_]|=N>>>26):p+=8}this.strip()};function k(o,e,c,s){for(var p=0,_=Math.min(o.length,c),N=e;N<_;N++){var t=o.charCodeAt(N)-48;p*=s,t>=49?p+=t-49+10:t>=17?p+=t-17+10:p+=t}return p}u.prototype._parseBase=function(o,e,c){this.words=[0],this.length=1;for(var s=0,p=1;p<=67108863;p*=e)s++;s--,p=p/e|0;for(var _=o.length-c,N=_%s,t=Math.min(_,_-N)+c,a=0,m=c;m<t;m+=s)a=k(o,m,m+s,e),this.imuln(p),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(N!==0){var S=1;for(a=k(o,m,o.length,e),m=0;m<N;m++)S*=e;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},u.prototype.copy=function(o){o.words=new Array(this.length);for(var e=0;e<this.length;e++)o.words[e]=this.words[e];o.length=this.length,o.negative=this.negative,o.red=this.red},u.prototype.clone=function(){var o=new u(null);return this.copy(o),o},u.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],V=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(o,e){o=o||10,e=e|0||1;var c;if(o===16||o==="hex"){c="";for(var s=0,p=0,_=0;_<this.length;_++){var N=this.words[_],t=((N<<s|p)&16777215).toString(16);p=N>>>24-s&16777215,p!==0||_!==this.length-1?c=Z[6-t.length]+t+c:c=t+c,s+=2,s>=26&&(s-=26,_--)}for(p!==0&&(c=p.toString(16)+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}if(o===(o|0)&&o>=2&&o<=36){var a=T[o],m=V[o];c="";var S=this.clone();for(S.negative=0;!S.isZero();){var w=S.modn(m).toString(o);S=S.idivn(m),S.isZero()?c=w+c:c=Z[a-w.length]+w+c}for(this.isZero()&&(c="0"+c);c.length%e!==0;)c="0"+c;return this.negative!==0&&(c="-"+c),c}f(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(o,e){return f(typeof h<"u"),this.toArrayLike(h,o,e)},u.prototype.toArray=function(o,e){return this.toArrayLike(Array,o,e)},u.prototype.toArrayLike=function(o,e,c){var s=this.byteLength(),p=c||Math.max(1,s);f(s<=p,"byte array longer than desired length"),f(p>0,"Requested array length <= 0"),this.strip();var _=e==="le",N=new o(p),t,a,m=this.clone();if(_){for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[a]=t;for(;a<p;a++)N[a]=0}else{for(a=0;a<p-s;a++)N[a]=0;for(a=0;!m.isZero();a++)t=m.andln(255),m.iushrn(8),N[p-a-1]=t}return N},Math.clz32?u.prototype._countBits=function(o){return 32-Math.clz32(o)}:u.prototype._countBits=function(o){var e=o,c=0;return e>=4096&&(c+=13,e>>>=13),e>=64&&(c+=7,e>>>=7),e>=8&&(c+=4,e>>>=4),e>=2&&(c+=2,e>>>=2),c+e},u.prototype._zeroBits=function(o){if(o===0)return 26;var e=o,c=0;return(e&8191)===0&&(c+=13,e>>>=13),(e&127)===0&&(c+=7,e>>>=7),(e&15)===0&&(c+=4,e>>>=4),(e&3)===0&&(c+=2,e>>>=2),(e&1)===0&&c++,c},u.prototype.bitLength=function(){var o=this.words[this.length-1],e=this._countBits(o);return(this.length-1)*26+e};function $(o){for(var e=new Array(o.bitLength()),c=0;c<e.length;c++){var s=c/26|0,p=c%26;e[c]=(o.words[s]&1<<p)>>>p}return e}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,e=0;e<this.length;e++){var c=this._zeroBits(this.words[e]);if(o+=c,c!==26)break}return o},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},u.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var e=0;e<o.length;e++)this.words[e]=this.words[e]|o.words[e];return this.strip()},u.prototype.ior=function(o){return f((this.negative|o.negative)===0),this.iuor(o)},u.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},u.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},u.prototype.iuand=function(o){var e;this.length>o.length?e=o:e=this;for(var c=0;c<e.length;c++)this.words[c]=this.words[c]&o.words[c];return this.length=e.length,this.strip()},u.prototype.iand=function(o){return f((this.negative|o.negative)===0),this.iuand(o)},u.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},u.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},u.prototype.iuxor=function(o){var e,c;this.length>o.length?(e=this,c=o):(e=o,c=this);for(var s=0;s<c.length;s++)this.words[s]=e.words[s]^c.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.strip()},u.prototype.ixor=function(o){return f((this.negative|o.negative)===0),this.iuxor(o)},u.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},u.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},u.prototype.inotn=function(o){f(typeof o=="number"&&o>=0);var e=Math.ceil(o/26)|0,c=o%26;this._expand(e),c>0&&e--;for(var s=0;s<e;s++)this.words[s]=~this.words[s]&67108863;return c>0&&(this.words[s]=~this.words[s]&67108863>>26-c),this.strip()},u.prototype.notn=function(o){return this.clone().inotn(o)},u.prototype.setn=function(o,e){f(typeof o=="number"&&o>=0);var c=o/26|0,s=o%26;return this._expand(c+1),e?this.words[c]=this.words[c]|1<<s:this.words[c]=this.words[c]&~(1<<s),this.strip()},u.prototype.iadd=function(o){var e;if(this.negative!==0&&o.negative===0)return this.negative=0,e=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,e=this.isub(o),o.negative=1,e._normSign();var c,s;this.length>o.length?(c=this,s=o):(c=o,s=this);for(var p=0,_=0;_<s.length;_++)e=(c.words[_]|0)+(s.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;for(;p!==0&&_<c.length;_++)e=(c.words[_]|0)+p,this.words[_]=e&67108863,p=e>>>26;if(this.length=c.length,p!==0)this.words[this.length]=p,this.length++;else if(c!==this)for(;_<c.length;_++)this.words[_]=c.words[_];return this},u.prototype.add=function(o){var e;return o.negative!==0&&this.negative===0?(o.negative=0,e=this.sub(o),o.negative^=1,e):o.negative===0&&this.negative!==0?(this.negative=0,e=o.sub(this),this.negative=1,e):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},u.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var e=this.iadd(o);return o.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var c=this.cmp(o);if(c===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,p;c>0?(s=this,p=o):(s=o,p=this);for(var _=0,N=0;N<p.length;N++)e=(s.words[N]|0)-(p.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;for(;_!==0&&N<s.length;N++)e=(s.words[N]|0)+_,_=e>>26,this.words[N]=e&67108863;if(_===0&&N<s.length&&s!==this)for(;N<s.length;N++)this.words[N]=s.words[N];return this.length=Math.max(this.length,N),s!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(o){return this.clone().isub(o)};function x(o,e,c){c.negative=e.negative^o.negative;var s=o.length+e.length|0;c.length=s,s=s-1|0;var p=o.words[0]|0,_=e.words[0]|0,N=p*_,t=N&67108863,a=N/67108864|0;c.words[0]=t;for(var m=1;m<s;m++){for(var S=a>>>26,w=a&67108863,I=Math.min(m,e.length-1),fo=Math.max(0,m-o.length+1);fo<=I;fo++){var Ro=m-fo|0;p=o.words[Ro]|0,_=e.words[fo]|0,N=p*_+w,S+=N/67108864|0,w=N&67108863}c.words[m]=w|0,a=S|0}return a!==0?c.words[m]=a|0:c.length--,c.strip()}var O=function(o,e,c){var s=o.words,p=e.words,_=c.words,N=0,t,a,m,S=s[0]|0,w=S&8191,I=S>>>13,fo=s[1]|0,Ro=fo&8191,qo=fo>>>13,po=s[2]|0,io=po&8191,ho=po>>>13,Eo=s[3]|0,xo=Eo&8191,Lo=Eo>>>13,G=s[4]|0,X=G&8191,Q=G>>>13,$o=s[5]|0,wo=$o&8191,Mo=$o>>>13,Go=s[6]|0,Xo=Go&8191,jo=Go>>>13,Qo=s[7]|0,Jo=Qo&8191,So=Qo>>>13,ba=s[8]|0,W=ba&8191,n=ba>>>13,r=s[9]|0,b=r&8191,v=r>>>13,M=p[0]|0,F=M&8191,U=M>>>13,K=p[1]|0,j=K&8191,J=K>>>13,ao=p[2]|0,H=ao&8191,D=ao>>>13,eo=p[3]|0,A=eo&8191,ro=eo>>>13,vo=p[4]|0,oo=vo&8191,no=vo>>>13,so=p[5]|0,C=so&8191,lo=so>>>13,_o=p[6]|0,mo=_o&8191,bo=_o>>>13,Oo=p[7]|0,No=Oo&8191,yo=Oo>>>13,zo=p[8]|0,ko=zo&8191,Zo=zo>>>13,go=p[9]|0,Vo=go&8191,Fo=go>>>13;c.negative=o.negative^e.negative,c.length=19,t=Math.imul(w,F),a=Math.imul(w,U),a=a+Math.imul(I,F)|0,m=Math.imul(I,U);var Po=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Po>>>26)|0,Po&=67108863,t=Math.imul(Ro,F),a=Math.imul(Ro,U),a=a+Math.imul(qo,F)|0,m=Math.imul(qo,U),t=t+Math.imul(w,j)|0,a=a+Math.imul(w,J)|0,a=a+Math.imul(I,j)|0,m=m+Math.imul(I,J)|0;var Ko=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,t=Math.imul(io,F),a=Math.imul(io,U),a=a+Math.imul(ho,F)|0,m=Math.imul(ho,U),t=t+Math.imul(Ro,j)|0,a=a+Math.imul(Ro,J)|0,a=a+Math.imul(qo,j)|0,m=m+Math.imul(qo,J)|0,t=t+Math.imul(w,H)|0,a=a+Math.imul(w,D)|0,a=a+Math.imul(I,H)|0,m=m+Math.imul(I,D)|0;var Io=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Io>>>26)|0,Io&=67108863,t=Math.imul(xo,F),a=Math.imul(xo,U),a=a+Math.imul(Lo,F)|0,m=Math.imul(Lo,U),t=t+Math.imul(io,j)|0,a=a+Math.imul(io,J)|0,a=a+Math.imul(ho,j)|0,m=m+Math.imul(ho,J)|0,t=t+Math.imul(Ro,H)|0,a=a+Math.imul(Ro,D)|0,a=a+Math.imul(qo,H)|0,m=m+Math.imul(qo,D)|0,t=t+Math.imul(w,A)|0,a=a+Math.imul(w,ro)|0,a=a+Math.imul(I,A)|0,m=m+Math.imul(I,ro)|0;var Bo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,t=Math.imul(X,F),a=Math.imul(X,U),a=a+Math.imul(Q,F)|0,m=Math.imul(Q,U),t=t+Math.imul(xo,j)|0,a=a+Math.imul(xo,J)|0,a=a+Math.imul(Lo,j)|0,m=m+Math.imul(Lo,J)|0,t=t+Math.imul(io,H)|0,a=a+Math.imul(io,D)|0,a=a+Math.imul(ho,H)|0,m=m+Math.imul(ho,D)|0,t=t+Math.imul(Ro,A)|0,a=a+Math.imul(Ro,ro)|0,a=a+Math.imul(qo,A)|0,m=m+Math.imul(qo,ro)|0,t=t+Math.imul(w,oo)|0,a=a+Math.imul(w,no)|0,a=a+Math.imul(I,oo)|0,m=m+Math.imul(I,no)|0;var Ho=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,t=Math.imul(wo,F),a=Math.imul(wo,U),a=a+Math.imul(Mo,F)|0,m=Math.imul(Mo,U),t=t+Math.imul(X,j)|0,a=a+Math.imul(X,J)|0,a=a+Math.imul(Q,j)|0,m=m+Math.imul(Q,J)|0,t=t+Math.imul(xo,H)|0,a=a+Math.imul(xo,D)|0,a=a+Math.imul(Lo,H)|0,m=m+Math.imul(Lo,D)|0,t=t+Math.imul(io,A)|0,a=a+Math.imul(io,ro)|0,a=a+Math.imul(ho,A)|0,m=m+Math.imul(ho,ro)|0,t=t+Math.imul(Ro,oo)|0,a=a+Math.imul(Ro,no)|0,a=a+Math.imul(qo,oo)|0,m=m+Math.imul(qo,no)|0,t=t+Math.imul(w,C)|0,a=a+Math.imul(w,lo)|0,a=a+Math.imul(I,C)|0,m=m+Math.imul(I,lo)|0;var Ao=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,t=Math.imul(Xo,F),a=Math.imul(Xo,U),a=a+Math.imul(jo,F)|0,m=Math.imul(jo,U),t=t+Math.imul(wo,j)|0,a=a+Math.imul(wo,J)|0,a=a+Math.imul(Mo,j)|0,m=m+Math.imul(Mo,J)|0,t=t+Math.imul(X,H)|0,a=a+Math.imul(X,D)|0,a=a+Math.imul(Q,H)|0,m=m+Math.imul(Q,D)|0,t=t+Math.imul(xo,A)|0,a=a+Math.imul(xo,ro)|0,a=a+Math.imul(Lo,A)|0,m=m+Math.imul(Lo,ro)|0,t=t+Math.imul(io,oo)|0,a=a+Math.imul(io,no)|0,a=a+Math.imul(ho,oo)|0,m=m+Math.imul(ho,no)|0,t=t+Math.imul(Ro,C)|0,a=a+Math.imul(Ro,lo)|0,a=a+Math.imul(qo,C)|0,m=m+Math.imul(qo,lo)|0,t=t+Math.imul(w,mo)|0,a=a+Math.imul(w,bo)|0,a=a+Math.imul(I,mo)|0,m=m+Math.imul(I,bo)|0;var Do=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Do>>>26)|0,Do&=67108863,t=Math.imul(Jo,F),a=Math.imul(Jo,U),a=a+Math.imul(So,F)|0,m=Math.imul(So,U),t=t+Math.imul(Xo,j)|0,a=a+Math.imul(Xo,J)|0,a=a+Math.imul(jo,j)|0,m=m+Math.imul(jo,J)|0,t=t+Math.imul(wo,H)|0,a=a+Math.imul(wo,D)|0,a=a+Math.imul(Mo,H)|0,m=m+Math.imul(Mo,D)|0,t=t+Math.imul(X,A)|0,a=a+Math.imul(X,ro)|0,a=a+Math.imul(Q,A)|0,m=m+Math.imul(Q,ro)|0,t=t+Math.imul(xo,oo)|0,a=a+Math.imul(xo,no)|0,a=a+Math.imul(Lo,oo)|0,m=m+Math.imul(Lo,no)|0,t=t+Math.imul(io,C)|0,a=a+Math.imul(io,lo)|0,a=a+Math.imul(ho,C)|0,m=m+Math.imul(ho,lo)|0,t=t+Math.imul(Ro,mo)|0,a=a+Math.imul(Ro,bo)|0,a=a+Math.imul(qo,mo)|0,m=m+Math.imul(qo,bo)|0,t=t+Math.imul(w,No)|0,a=a+Math.imul(w,yo)|0,a=a+Math.imul(I,No)|0,m=m+Math.imul(I,yo)|0;var oa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(oa>>>26)|0,oa&=67108863,t=Math.imul(W,F),a=Math.imul(W,U),a=a+Math.imul(n,F)|0,m=Math.imul(n,U),t=t+Math.imul(Jo,j)|0,a=a+Math.imul(Jo,J)|0,a=a+Math.imul(So,j)|0,m=m+Math.imul(So,J)|0,t=t+Math.imul(Xo,H)|0,a=a+Math.imul(Xo,D)|0,a=a+Math.imul(jo,H)|0,m=m+Math.imul(jo,D)|0,t=t+Math.imul(wo,A)|0,a=a+Math.imul(wo,ro)|0,a=a+Math.imul(Mo,A)|0,m=m+Math.imul(Mo,ro)|0,t=t+Math.imul(X,oo)|0,a=a+Math.imul(X,no)|0,a=a+Math.imul(Q,oo)|0,m=m+Math.imul(Q,no)|0,t=t+Math.imul(xo,C)|0,a=a+Math.imul(xo,lo)|0,a=a+Math.imul(Lo,C)|0,m=m+Math.imul(Lo,lo)|0,t=t+Math.imul(io,mo)|0,a=a+Math.imul(io,bo)|0,a=a+Math.imul(ho,mo)|0,m=m+Math.imul(ho,bo)|0,t=t+Math.imul(Ro,No)|0,a=a+Math.imul(Ro,yo)|0,a=a+Math.imul(qo,No)|0,m=m+Math.imul(qo,yo)|0,t=t+Math.imul(w,ko)|0,a=a+Math.imul(w,Zo)|0,a=a+Math.imul(I,ko)|0,m=m+Math.imul(I,Zo)|0;var Yo=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,t=Math.imul(b,F),a=Math.imul(b,U),a=a+Math.imul(v,F)|0,m=Math.imul(v,U),t=t+Math.imul(W,j)|0,a=a+Math.imul(W,J)|0,a=a+Math.imul(n,j)|0,m=m+Math.imul(n,J)|0,t=t+Math.imul(Jo,H)|0,a=a+Math.imul(Jo,D)|0,a=a+Math.imul(So,H)|0,m=m+Math.imul(So,D)|0,t=t+Math.imul(Xo,A)|0,a=a+Math.imul(Xo,ro)|0,a=a+Math.imul(jo,A)|0,m=m+Math.imul(jo,ro)|0,t=t+Math.imul(wo,oo)|0,a=a+Math.imul(wo,no)|0,a=a+Math.imul(Mo,oo)|0,m=m+Math.imul(Mo,no)|0,t=t+Math.imul(X,C)|0,a=a+Math.imul(X,lo)|0,a=a+Math.imul(Q,C)|0,m=m+Math.imul(Q,lo)|0,t=t+Math.imul(xo,mo)|0,a=a+Math.imul(xo,bo)|0,a=a+Math.imul(Lo,mo)|0,m=m+Math.imul(Lo,bo)|0,t=t+Math.imul(io,No)|0,a=a+Math.imul(io,yo)|0,a=a+Math.imul(ho,No)|0,m=m+Math.imul(ho,yo)|0,t=t+Math.imul(Ro,ko)|0,a=a+Math.imul(Ro,Zo)|0,a=a+Math.imul(qo,ko)|0,m=m+Math.imul(qo,Zo)|0,t=t+Math.imul(w,Vo)|0,a=a+Math.imul(w,Fo)|0,a=a+Math.imul(I,Vo)|0,m=m+Math.imul(I,Fo)|0;var ra=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ra>>>26)|0,ra&=67108863,t=Math.imul(b,j),a=Math.imul(b,J),a=a+Math.imul(v,j)|0,m=Math.imul(v,J),t=t+Math.imul(W,H)|0,a=a+Math.imul(W,D)|0,a=a+Math.imul(n,H)|0,m=m+Math.imul(n,D)|0,t=t+Math.imul(Jo,A)|0,a=a+Math.imul(Jo,ro)|0,a=a+Math.imul(So,A)|0,m=m+Math.imul(So,ro)|0,t=t+Math.imul(Xo,oo)|0,a=a+Math.imul(Xo,no)|0,a=a+Math.imul(jo,oo)|0,m=m+Math.imul(jo,no)|0,t=t+Math.imul(wo,C)|0,a=a+Math.imul(wo,lo)|0,a=a+Math.imul(Mo,C)|0,m=m+Math.imul(Mo,lo)|0,t=t+Math.imul(X,mo)|0,a=a+Math.imul(X,bo)|0,a=a+Math.imul(Q,mo)|0,m=m+Math.imul(Q,bo)|0,t=t+Math.imul(xo,No)|0,a=a+Math.imul(xo,yo)|0,a=a+Math.imul(Lo,No)|0,m=m+Math.imul(Lo,yo)|0,t=t+Math.imul(io,ko)|0,a=a+Math.imul(io,Zo)|0,a=a+Math.imul(ho,ko)|0,m=m+Math.imul(ho,Zo)|0,t=t+Math.imul(Ro,Vo)|0,a=a+Math.imul(Ro,Fo)|0,a=a+Math.imul(qo,Vo)|0,m=m+Math.imul(qo,Fo)|0;var aa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(aa>>>26)|0,aa&=67108863,t=Math.imul(b,H),a=Math.imul(b,D),a=a+Math.imul(v,H)|0,m=Math.imul(v,D),t=t+Math.imul(W,A)|0,a=a+Math.imul(W,ro)|0,a=a+Math.imul(n,A)|0,m=m+Math.imul(n,ro)|0,t=t+Math.imul(Jo,oo)|0,a=a+Math.imul(Jo,no)|0,a=a+Math.imul(So,oo)|0,m=m+Math.imul(So,no)|0,t=t+Math.imul(Xo,C)|0,a=a+Math.imul(Xo,lo)|0,a=a+Math.imul(jo,C)|0,m=m+Math.imul(jo,lo)|0,t=t+Math.imul(wo,mo)|0,a=a+Math.imul(wo,bo)|0,a=a+Math.imul(Mo,mo)|0,m=m+Math.imul(Mo,bo)|0,t=t+Math.imul(X,No)|0,a=a+Math.imul(X,yo)|0,a=a+Math.imul(Q,No)|0,m=m+Math.imul(Q,yo)|0,t=t+Math.imul(xo,ko)|0,a=a+Math.imul(xo,Zo)|0,a=a+Math.imul(Lo,ko)|0,m=m+Math.imul(Lo,Zo)|0,t=t+Math.imul(io,Vo)|0,a=a+Math.imul(io,Fo)|0,a=a+Math.imul(ho,Vo)|0,m=m+Math.imul(ho,Fo)|0;var sa=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(sa>>>26)|0,sa&=67108863,t=Math.imul(b,A),a=Math.imul(b,ro),a=a+Math.imul(v,A)|0,m=Math.imul(v,ro),t=t+Math.imul(W,oo)|0,a=a+Math.imul(W,no)|0,a=a+Math.imul(n,oo)|0,m=m+Math.imul(n,no)|0,t=t+Math.imul(Jo,C)|0,a=a+Math.imul(Jo,lo)|0,a=a+Math.imul(So,C)|0,m=m+Math.imul(So,lo)|0,t=t+Math.imul(Xo,mo)|0,a=a+Math.imul(Xo,bo)|0,a=a+Math.imul(jo,mo)|0,m=m+Math.imul(jo,bo)|0,t=t+Math.imul(wo,No)|0,a=a+Math.imul(wo,yo)|0,a=a+Math.imul(Mo,No)|0,m=m+Math.imul(Mo,yo)|0,t=t+Math.imul(X,ko)|0,a=a+Math.imul(X,Zo)|0,a=a+Math.imul(Q,ko)|0,m=m+Math.imul(Q,Zo)|0,t=t+Math.imul(xo,Vo)|0,a=a+Math.imul(xo,Fo)|0,a=a+Math.imul(Lo,Vo)|0,m=m+Math.imul(Lo,Fo)|0;var la=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(la>>>26)|0,la&=67108863,t=Math.imul(b,oo),a=Math.imul(b,no),a=a+Math.imul(v,oo)|0,m=Math.imul(v,no),t=t+Math.imul(W,C)|0,a=a+Math.imul(W,lo)|0,a=a+Math.imul(n,C)|0,m=m+Math.imul(n,lo)|0,t=t+Math.imul(Jo,mo)|0,a=a+Math.imul(Jo,bo)|0,a=a+Math.imul(So,mo)|0,m=m+Math.imul(So,bo)|0,t=t+Math.imul(Xo,No)|0,a=a+Math.imul(Xo,yo)|0,a=a+Math.imul(jo,No)|0,m=m+Math.imul(jo,yo)|0,t=t+Math.imul(wo,ko)|0,a=a+Math.imul(wo,Zo)|0,a=a+Math.imul(Mo,ko)|0,m=m+Math.imul(Mo,Zo)|0,t=t+Math.imul(X,Vo)|0,a=a+Math.imul(X,Fo)|0,a=a+Math.imul(Q,Vo)|0,m=m+Math.imul(Q,Fo)|0;var ea=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ea>>>26)|0,ea&=67108863,t=Math.imul(b,C),a=Math.imul(b,lo),a=a+Math.imul(v,C)|0,m=Math.imul(v,lo),t=t+Math.imul(W,mo)|0,a=a+Math.imul(W,bo)|0,a=a+Math.imul(n,mo)|0,m=m+Math.imul(n,bo)|0,t=t+Math.imul(Jo,No)|0,a=a+Math.imul(Jo,yo)|0,a=a+Math.imul(So,No)|0,m=m+Math.imul(So,yo)|0,t=t+Math.imul(Xo,ko)|0,a=a+Math.imul(Xo,Zo)|0,a=a+Math.imul(jo,ko)|0,m=m+Math.imul(jo,Zo)|0,t=t+Math.imul(wo,Vo)|0,a=a+Math.imul(wo,Fo)|0,a=a+Math.imul(Mo,Vo)|0,m=m+Math.imul(Mo,Fo)|0;var ma=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ma>>>26)|0,ma&=67108863,t=Math.imul(b,mo),a=Math.imul(b,bo),a=a+Math.imul(v,mo)|0,m=Math.imul(v,bo),t=t+Math.imul(W,No)|0,a=a+Math.imul(W,yo)|0,a=a+Math.imul(n,No)|0,m=m+Math.imul(n,yo)|0,t=t+Math.imul(Jo,ko)|0,a=a+Math.imul(Jo,Zo)|0,a=a+Math.imul(So,ko)|0,m=m+Math.imul(So,Zo)|0,t=t+Math.imul(Xo,Vo)|0,a=a+Math.imul(Xo,Fo)|0,a=a+Math.imul(jo,Vo)|0,m=m+Math.imul(jo,Fo)|0;var ta=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ta>>>26)|0,ta&=67108863,t=Math.imul(b,No),a=Math.imul(b,yo),a=a+Math.imul(v,No)|0,m=Math.imul(v,yo),t=t+Math.imul(W,ko)|0,a=a+Math.imul(W,Zo)|0,a=a+Math.imul(n,ko)|0,m=m+Math.imul(n,Zo)|0,t=t+Math.imul(Jo,Vo)|0,a=a+Math.imul(Jo,Fo)|0,a=a+Math.imul(So,Vo)|0,m=m+Math.imul(So,Fo)|0;var _a=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(_a>>>26)|0,_a&=67108863,t=Math.imul(b,ko),a=Math.imul(b,Zo),a=a+Math.imul(v,ko)|0,m=Math.imul(v,Zo),t=t+Math.imul(W,Vo)|0,a=a+Math.imul(W,Fo)|0,a=a+Math.imul(n,Vo)|0,m=m+Math.imul(n,Fo)|0;var ua=(N+t|0)+((a&8191)<<13)|0;N=(m+(a>>>13)|0)+(ua>>>26)|0,ua&=67108863,t=Math.imul(b,Vo),a=Math.imul(b,Fo),a=a+Math.imul(v,Vo)|0,m=Math.imul(v,Fo);var ca=(N+t|0)+((a&8191)<<13)|0;return N=(m+(a>>>13)|0)+(ca>>>26)|0,ca&=67108863,_[0]=Po,_[1]=Ko,_[2]=Io,_[3]=Bo,_[4]=Ho,_[5]=Ao,_[6]=Do,_[7]=oa,_[8]=Yo,_[9]=ra,_[10]=aa,_[11]=sa,_[12]=la,_[13]=ea,_[14]=ma,_[15]=ta,_[16]=_a,_[17]=ua,_[18]=ca,N!==0&&(_[19]=N,c.length++),c};Math.imul||(O=x);function g(o,e,c){c.negative=e.negative^o.negative,c.length=o.length+e.length;for(var s=0,p=0,_=0;_<c.length-1;_++){var N=p;p=0;for(var t=s&67108863,a=Math.min(_,e.length-1),m=Math.max(0,_-o.length+1);m<=a;m++){var S=_-m,w=o.words[S]|0,I=e.words[m]|0,fo=w*I,Ro=fo&67108863;N=N+(fo/67108864|0)|0,Ro=Ro+t|0,t=Ro&67108863,N=N+(Ro>>>26)|0,p+=N>>>26,N&=67108863}c.words[_]=t,s=N,N=p}return s!==0?c.words[_]=s:c.length--,c.strip()}function E(o,e,c){var s=new z;return s.mulp(o,e,c)}u.prototype.mulTo=function(o,e){var c,s=this.length+o.length;return this.length===10&&o.length===10?c=O(this,o,e):s<63?c=x(this,o,e):s<1024?c=g(this,o,e):c=E(this,o,e),c};function z(o,e){this.x=o,this.y=e}z.prototype.makeRBT=function(o){for(var e=new Array(o),c=u.prototype._countBits(o)-1,s=0;s<o;s++)e[s]=this.revBin(s,c,o);return e},z.prototype.revBin=function(o,e,c){if(o===0||o===c-1)return o;for(var s=0,p=0;p<e;p++)s|=(o&1)<<e-p-1,o>>=1;return s},z.prototype.permute=function(o,e,c,s,p,_){for(var N=0;N<_;N++)s[N]=e[o[N]],p[N]=c[o[N]]},z.prototype.transform=function(o,e,c,s,p,_){this.permute(_,o,e,c,s,p);for(var N=1;N<p;N<<=1)for(var t=N<<1,a=Math.cos(2*Math.PI/t),m=Math.sin(2*Math.PI/t),S=0;S<p;S+=t)for(var w=a,I=m,fo=0;fo<N;fo++){var Ro=c[S+fo],qo=s[S+fo],po=c[S+fo+N],io=s[S+fo+N],ho=w*po-I*io;io=w*io+I*po,po=ho,c[S+fo]=Ro+po,s[S+fo]=qo+io,c[S+fo+N]=Ro-po,s[S+fo+N]=qo-io,fo!==t&&(ho=a*w-m*I,I=a*I+m*w,w=ho)}},z.prototype.guessLen13b=function(o,e){var c=Math.max(e,o)|1,s=c&1,p=0;for(c=c/2|0;c;c=c>>>1)p++;return 1<<p+1+s},z.prototype.conjugate=function(o,e,c){if(!(c<=1))for(var s=0;s<c/2;s++){var p=o[s];o[s]=o[c-s-1],o[c-s-1]=p,p=e[s],e[s]=-e[c-s-1],e[c-s-1]=-p}},z.prototype.normalize13b=function(o,e){for(var c=0,s=0;s<e/2;s++){var p=Math.round(o[2*s+1]/e)*8192+Math.round(o[2*s]/e)+c;o[s]=p&67108863,p<67108864?c=0:c=p/67108864|0}return o},z.prototype.convert13b=function(o,e,c,s){for(var p=0,_=0;_<e;_++)p=p+(o[_]|0),c[2*_]=p&8191,p=p>>>13,c[2*_+1]=p&8191,p=p>>>13;for(_=2*e;_<s;++_)c[_]=0;f(p===0),f((p&-8192)===0)},z.prototype.stub=function(o){for(var e=new Array(o),c=0;c<o;c++)e[c]=0;return e},z.prototype.mulp=function(o,e,c){var s=2*this.guessLen13b(o.length,e.length),p=this.makeRBT(s),_=this.stub(s),N=new Array(s),t=new Array(s),a=new Array(s),m=new Array(s),S=new Array(s),w=new Array(s),I=c.words;I.length=s,this.convert13b(o.words,o.length,N,s),this.convert13b(e.words,e.length,m,s),this.transform(N,_,t,a,s,p),this.transform(m,_,S,w,s,p);for(var fo=0;fo<s;fo++){var Ro=t[fo]*S[fo]-a[fo]*w[fo];a[fo]=t[fo]*w[fo]+a[fo]*S[fo],t[fo]=Ro}return this.conjugate(t,a,s),this.transform(t,a,I,_,s,p),this.conjugate(I,_,s),this.normalize13b(I,s),c.negative=o.negative^e.negative,c.length=o.length+e.length,c.strip()},u.prototype.mul=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),this.mulTo(o,e)},u.prototype.mulf=function(o){var e=new u(null);return e.words=new Array(this.length+o.length),E(this,o,e)},u.prototype.imul=function(o){return this.clone().mulTo(o,this)},u.prototype.imuln=function(o){f(typeof o=="number"),f(o<67108864);for(var e=0,c=0;c<this.length;c++){var s=(this.words[c]|0)*o,p=(s&67108863)+(e&67108863);e>>=26,e+=s/67108864|0,e+=p>>>26,this.words[c]=p&67108863}return e!==0&&(this.words[c]=e,this.length++),this},u.prototype.muln=function(o){return this.clone().imuln(o)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(o){var e=$(o);if(e.length===0)return new u(1);for(var c=this,s=0;s<e.length&&e[s]===0;s++,c=c.sqr());if(++s<e.length)for(var p=c.sqr();s<e.length;s++,p=p.sqr())e[s]!==0&&(c=c.mul(p));return c},u.prototype.iushln=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=67108863>>>26-e<<26-e,p;if(e!==0){var _=0;for(p=0;p<this.length;p++){var N=this.words[p]&s,t=(this.words[p]|0)-N<<e;this.words[p]=t|_,_=N>>>26-e}_&&(this.words[p]=_,this.length++)}if(c!==0){for(p=this.length-1;p>=0;p--)this.words[p+c]=this.words[p];for(p=0;p<c;p++)this.words[p]=0;this.length+=c}return this.strip()},u.prototype.ishln=function(o){return f(this.negative===0),this.iushln(o)},u.prototype.iushrn=function(o,e,c){f(typeof o=="number"&&o>=0);var s;e?s=(e-e%26)/26:s=0;var p=o%26,_=Math.min((o-p)/26,this.length),N=67108863^67108863>>>p<<p,t=c;if(s-=_,s=Math.max(0,s),t){for(var a=0;a<_;a++)t.words[a]=this.words[a];t.length=_}if(_!==0)if(this.length>_)for(this.length-=_,a=0;a<this.length;a++)this.words[a]=this.words[a+_];else this.words[0]=0,this.length=1;var m=0;for(a=this.length-1;a>=0&&(m!==0||a>=s);a--){var S=this.words[a]|0;this.words[a]=m<<26-p|S>>>p,m=S&N}return t&&m!==0&&(t.words[t.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(o,e,c){return f(this.negative===0),this.iushrn(o,e,c)},u.prototype.shln=function(o){return this.clone().ishln(o)},u.prototype.ushln=function(o){return this.clone().iushln(o)},u.prototype.shrn=function(o){return this.clone().ishrn(o)},u.prototype.ushrn=function(o){return this.clone().iushrn(o)},u.prototype.testn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return!1;var p=this.words[c];return!!(p&s)},u.prototype.imaskn=function(o){f(typeof o=="number"&&o>=0);var e=o%26,c=(o-e)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=c)return this;if(e!==0&&c++,this.length=Math.min(c,this.length),e!==0){var s=67108863^67108863>>>e<<e;this.words[this.length-1]&=s}return this.strip()},u.prototype.maskn=function(o){return this.clone().imaskn(o)},u.prototype.iaddn=function(o){return f(typeof o=="number"),f(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},u.prototype._iaddn=function(o){this.words[0]+=o;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(o){if(f(typeof o=="number"),f(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(o){return this.clone().iaddn(o)},u.prototype.subn=function(o){return this.clone().isubn(o)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(o,e,c){var s=o.length+c,p;this._expand(s);var _,N=0;for(p=0;p<o.length;p++){_=(this.words[p+c]|0)+N;var t=(o.words[p]|0)*e;_-=t&67108863,N=(_>>26)-(t/67108864|0),this.words[p+c]=_&67108863}for(;p<this.length-c;p++)_=(this.words[p+c]|0)+N,N=_>>26,this.words[p+c]=_&67108863;if(N===0)return this.strip();for(f(N===-1),N=0,p=0;p<this.length;p++)_=-(this.words[p]|0)+N,N=_>>26,this.words[p]=_&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(o,e){var c=this.length-o.length,s=this.clone(),p=o,_=p.words[p.length-1]|0,N=this._countBits(_);c=26-N,c!==0&&(p=p.ushln(c),s.iushln(c),_=p.words[p.length-1]|0);var t=s.length-p.length,a;if(e!=="mod"){a=new u(null),a.length=t+1,a.words=new Array(a.length);for(var m=0;m<a.length;m++)a.words[m]=0}var S=s.clone()._ishlnsubmul(p,1,t);S.negative===0&&(s=S,a&&(a.words[t]=1));for(var w=t-1;w>=0;w--){var I=(s.words[p.length+w]|0)*67108864+(s.words[p.length+w-1]|0);for(I=Math.min(I/_|0,67108863),s._ishlnsubmul(p,I,w);s.negative!==0;)I--,s.negative=0,s._ishlnsubmul(p,1,w),s.isZero()||(s.negative^=1);a&&(a.words[w]=I)}return a&&a.strip(),s.strip(),e!=="div"&&c!==0&&s.iushrn(c),{div:a||null,mod:s}},u.prototype.divmod=function(o,e,c){if(f(!o.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var s,p,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,e),e!=="mod"&&(s=_.div.neg()),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.iadd(o)),{div:s,mod:p}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),e),e!=="mod"&&(s=_.div.neg()),{div:s,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),e),e!=="div"&&(p=_.mod.neg(),c&&p.negative!==0&&p.isub(o)),{div:_.div,mod:p}):o.length>this.length||this.cmp(o)<0?{div:new u(0),mod:this}:o.length===1?e==="div"?{div:this.divn(o.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new u(this.modn(o.words[0]))}:this._wordDiv(o,e)},u.prototype.div=function(o){return this.divmod(o,"div",!1).div},u.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},u.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},u.prototype.divRound=function(o){var e=this.divmod(o);if(e.mod.isZero())return e.div;var c=e.div.negative!==0?e.mod.isub(o):e.mod,s=o.ushrn(1),p=o.andln(1),_=c.cmp(s);return _<0||p===1&&_===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(o){f(o<=67108863);for(var e=67108864%o,c=0,s=this.length-1;s>=0;s--)c=(e*c+(this.words[s]|0))%o;return c},u.prototype.idivn=function(o){f(o<=67108863);for(var e=0,c=this.length-1;c>=0;c--){var s=(this.words[c]|0)+e*67108864;this.words[c]=s/o|0,e=s%o}return this.strip()},u.prototype.divn=function(o){return this.clone().idivn(o)},u.prototype.egcd=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=new u(0),N=new u(1),t=0;e.isEven()&&c.isEven();)e.iushrn(1),c.iushrn(1),++t;for(var a=c.clone(),m=e.clone();!e.isZero();){for(var S=0,w=1;(e.words[0]&w)===0&&S<26;++S,w<<=1);if(S>0)for(e.iushrn(S);S-- >0;)(s.isOdd()||p.isOdd())&&(s.iadd(a),p.isub(m)),s.iushrn(1),p.iushrn(1);for(var I=0,fo=1;(c.words[0]&fo)===0&&I<26;++I,fo<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(_.isOdd()||N.isOdd())&&(_.iadd(a),N.isub(m)),_.iushrn(1),N.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(_),p.isub(N)):(c.isub(e),_.isub(s),N.isub(p))}return{a:_,b:N,gcd:c.iushln(t)}},u.prototype._invmp=function(o){f(o.negative===0),f(!o.isZero());var e=this,c=o.clone();e.negative!==0?e=e.umod(o):e=e.clone();for(var s=new u(1),p=new u(0),_=c.clone();e.cmpn(1)>0&&c.cmpn(1)>0;){for(var N=0,t=1;(e.words[0]&t)===0&&N<26;++N,t<<=1);if(N>0)for(e.iushrn(N);N-- >0;)s.isOdd()&&s.iadd(_),s.iushrn(1);for(var a=0,m=1;(c.words[0]&m)===0&&a<26;++a,m<<=1);if(a>0)for(c.iushrn(a);a-- >0;)p.isOdd()&&p.iadd(_),p.iushrn(1);e.cmp(c)>=0?(e.isub(c),s.isub(p)):(c.isub(e),p.isub(s))}var S;return e.cmpn(1)===0?S=s:S=p,S.cmpn(0)<0&&S.iadd(o),S},u.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var e=this.clone(),c=o.clone();e.negative=0,c.negative=0;for(var s=0;e.isEven()&&c.isEven();s++)e.iushrn(1),c.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=e.cmp(c);if(p<0){var _=e;e=c,c=_}else if(p===0||c.cmpn(1)===0)break;e.isub(c)}while(!0);return c.iushln(s)},u.prototype.invm=function(o){return this.egcd(o).a.umod(o)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(o){return this.words[0]&o},u.prototype.bincn=function(o){f(typeof o=="number");var e=o%26,c=(o-e)/26,s=1<<e;if(this.length<=c)return this._expand(c+1),this.words[c]|=s,this;for(var p=s,_=c;p!==0&&_<this.length;_++){var N=this.words[_]|0;N+=p,p=N>>>26,N&=67108863,this.words[_]=N}return p!==0&&(this.words[_]=p,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(o){var e=o<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var c;if(this.length>1)c=1;else{e&&(o=-o),f(o<=67108863,"Number is too big");var s=this.words[0]|0;c=s===o?0:s<o?-1:1}return this.negative!==0?-c|0:c},u.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var e=this.ucmp(o);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var e=0,c=this.length-1;c>=0;c--){var s=this.words[c]|0,p=o.words[c]|0;if(s!==p){s<p?e=-1:s>p&&(e=1);break}}return e},u.prototype.gtn=function(o){return this.cmpn(o)===1},u.prototype.gt=function(o){return this.cmp(o)===1},u.prototype.gten=function(o){return this.cmpn(o)>=0},u.prototype.gte=function(o){return this.cmp(o)>=0},u.prototype.ltn=function(o){return this.cmpn(o)===-1},u.prototype.lt=function(o){return this.cmp(o)===-1},u.prototype.lten=function(o){return this.cmpn(o)<=0},u.prototype.lte=function(o){return this.cmp(o)<=0},u.prototype.eqn=function(o){return this.cmpn(o)===0},u.prototype.eq=function(o){return this.cmp(o)===0},u.red=function(o){return new co(o)},u.prototype.toRed=function(o){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},u.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(o){return this.red=o,this},u.prototype.forceRed=function(o){return f(!this.red,"Already a number in reduction context"),this._forceRed(o)},u.prototype.redAdd=function(o){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},u.prototype.redIAdd=function(o){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},u.prototype.redSub=function(o){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},u.prototype.redISub=function(o){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},u.prototype.redShl=function(o){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},u.prototype.redMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},u.prototype.redIMul=function(o){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},u.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(o){return f(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var P={k256:null,p224:null,p192:null,p25519:null};function Y(o,e){this.name=o,this.p=new u(e,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var o=new u(null);return o.words=new Array(Math.ceil(this.n/13)),o},Y.prototype.ireduce=function(o){var e=o,c;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),c=e.bitLength();while(c>this.n);var s=c<this.n?-1:e.ucmp(this.p);return s===0?(e.words[0]=0,e.length=1):s>0?e.isub(this.p):e.strip!==void 0?e.strip():e._strip(),e},Y.prototype.split=function(o,e){o.iushrn(this.n,0,e)},Y.prototype.imulK=function(o){return o.imul(this.k)};function B(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}q(B,Y),B.prototype.split=function(o,e){for(var c=4194303,s=Math.min(o.length,9),p=0;p<s;p++)e.words[p]=o.words[p];if(e.length=s,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(e.words[e.length++]=_&c,p=10;p<o.length;p++){var N=o.words[p]|0;o.words[p-10]=(N&c)<<4|_>>>22,_=N}_>>>=22,o.words[p-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},B.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var e=0,c=0;c<o.length;c++){var s=o.words[c]|0;e+=s*977,o.words[c]=e&67108863,e=s*64+(e/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function uo(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}q(uo,Y);function to(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}q(to,Y);function To(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}q(To,Y),To.prototype.imulK=function(o){for(var e=0,c=0;c<o.length;c++){var s=(o.words[c]|0)*19+e,p=s&67108863;s>>>=26,o.words[c]=p,e=s}return e!==0&&(o.words[o.length++]=e),o},u._prime=function(o){if(P[o])return P[o];var e;if(o==="k256")e=new B;else if(o==="p224")e=new uo;else if(o==="p192")e=new to;else if(o==="p25519")e=new To;else throw new Error("Unknown prime "+o);return P[o]=e,e};function co(o){if(typeof o=="string"){var e=u._prime(o);this.m=e.p,this.prime=e}else f(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}co.prototype._verify1=function(o){f(o.negative===0,"red works only with positives"),f(o.red,"red works only with red numbers")},co.prototype._verify2=function(o,e){f((o.negative|e.negative)===0,"red works only with positives"),f(o.red&&o.red===e.red,"red works only with red numbers")},co.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},co.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},co.prototype.add=function(o,e){this._verify2(o,e);var c=o.add(e);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},co.prototype.iadd=function(o,e){this._verify2(o,e);var c=o.iadd(e);return c.cmp(this.m)>=0&&c.isub(this.m),c},co.prototype.sub=function(o,e){this._verify2(o,e);var c=o.sub(e);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},co.prototype.isub=function(o,e){this._verify2(o,e);var c=o.isub(e);return c.cmpn(0)<0&&c.iadd(this.m),c},co.prototype.shl=function(o,e){return this._verify1(o),this.imod(o.ushln(e))},co.prototype.imul=function(o,e){return this._verify2(o,e),this.imod(o.imul(e))},co.prototype.mul=function(o,e){return this._verify2(o,e),this.imod(o.mul(e))},co.prototype.isqr=function(o){return this.imul(o,o.clone())},co.prototype.sqr=function(o){return this.mul(o,o)},co.prototype.sqrt=function(o){if(o.isZero())return o.clone();var e=this.m.andln(3);if(f(e%2===1),e===3){var c=this.m.add(new u(1)).iushrn(2);return this.pow(o,c)}for(var s=this.m.subn(1),p=0;!s.isZero()&&s.andln(1)===0;)p++,s.iushrn(1);f(!s.isZero());var _=new u(1).toRed(this),N=_.redNeg(),t=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new u(2*a*a).toRed(this);this.pow(a,t).cmp(N)!==0;)a.redIAdd(N);for(var m=this.pow(a,s),S=this.pow(o,s.addn(1).iushrn(1)),w=this.pow(o,s),I=p;w.cmp(_)!==0;){for(var fo=w,Ro=0;fo.cmp(_)!==0;Ro++)fo=fo.redSqr();f(Ro<I);var qo=this.pow(m,new u(1).iushln(I-Ro-1));S=S.redMul(qo),m=qo.redSqr(),w=w.redMul(m),I=Ro}return S},co.prototype.invm=function(o){var e=o._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},co.prototype.pow=function(o,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return o.clone();var c=4,s=new Array(1<<c);s[0]=new u(1).toRed(this),s[1]=o;for(var p=2;p<s.length;p++)s[p]=this.mul(s[p-1],o);var _=s[0],N=0,t=0,a=e.bitLength()%26;for(a===0&&(a=26),p=e.length-1;p>=0;p--){for(var m=e.words[p],S=a-1;S>=0;S--){var w=m>>S&1;if(_!==s[0]&&(_=this.sqr(_)),w===0&&N===0){t=0;continue}N<<=1,N|=w,t++,!(t!==c&&(p!==0||S!==0))&&(_=this.mul(_,s[N]),t=0,N=0)}a=26}return _},co.prototype.convertTo=function(o){var e=o.umod(this.m);return e===o?e.clone():e},co.prototype.convertFrom=function(o){var e=o.clone();return e.red=null,e},u.mont=function(o){return new Wo(o)};function Wo(o){co.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q(Wo,co),Wo.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Wo.prototype.convertFrom=function(o){var e=this.imod(o.mul(this.rinv));return e.red=null,e},Wo.prototype.imul=function(o,e){if(o.isZero()||e.isZero())return o.words[0]=0,o.length=1,o;var c=o.imul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.mul=function(o,e){if(o.isZero()||e.isZero())return new u(0)._forceRed(this);var c=o.mul(e),s=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(s).iushrn(this.shift),_=p;return p.cmp(this.m)>=0?_=p.isub(this.m):p.cmpn(0)<0&&(_=p.iadd(this.m)),_._forceRed(this)},Wo.prototype.invm=function(o){var e=this.imod(o._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(typeof d>"u"||d,l)}),gr=Uo((l,d)=>{var i=rl(),R=ha().Buffer;function f(q,u){return R.from(q.toRed(i.mont(u.modulus)).redPow(new i(u.publicExponent)).fromRed().toArray())}d.exports=f}),Mu=Uo((l,d)=>{var i=Qe(),R=Hn(),f=fe(),q=Sr(),u=Xr(),h=rl(),L=gr(),y=Qs(),k=ha().Buffer;d.exports=function($,x,O){var g;$.padding?g=$.padding:O?g=1:g=4;var E=i($),z;if(g===4)z=Z(E,x);else if(g===1)z=T(E,x,O);else if(g===3){if(z=new h(x),z.cmp(E.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return O?y(z,E):L(z,E)};function Z($,x){var O=$.modulus.byteLength(),g=x.length,E=f("sha1").update(k.alloc(0)).digest(),z=E.length,P=2*z;if(g>O-P-2)throw new Error("message too long");var Y=k.alloc(O-g-P-2),B=O-z-1,uo=R(z),to=u(k.concat([E,Y,k.alloc(1,1),x],B),q(uo,B)),To=u(uo,q(to,z));return new h(k.concat([k.alloc(1),To,to],O))}function T($,x,O){var g=x.length,E=$.modulus.byteLength();if(g>E-11)throw new Error("message too long");var z;return O?z=k.alloc(E-g-3,255):z=V(E-g-3),new h(k.concat([k.from([0,O?1:2]),z,k.alloc(1),x],E))}function V($){for(var x=k.allocUnsafe($),O=0,g=R($*2),E=0,z;O<$;)E===g.length&&(g=R($*2),E=0),z=g[E++],z&&(x[O++]=z);return x}}),Vu=Uo((l,d)=>{var i=Qe(),R=Sr(),f=Xr(),q=rl(),u=Qs(),h=fe(),L=gr(),y=ha().Buffer;d.exports=function(V,$,x){var O;V.padding?O=V.padding:x?O=1:O=4;var g=i(V),E=g.modulus.byteLength();if($.length>E||new q($).cmp(g.modulus)>=0)throw new Error("decryption error");var z;x?z=L(new q($),g):z=u($,g);var P=y.alloc(E-z.length);if(z=y.concat([P,z],E),O===4)return k(g,z);if(O===1)return Z(g,z,x);if(O===3)return z;throw new Error("unknown padding")};function k(V,$){var x=V.modulus.byteLength(),O=h("sha1").update(y.alloc(0)).digest(),g=O.length;if($[0]!==0)throw new Error("decryption error");var E=$.slice(1,g+1),z=$.slice(g+1),P=f(E,R(z,g)),Y=f(z,R(P,x-g-1));if(T(O,Y.slice(0,g)))throw new Error("decryption error");for(var B=g;Y[B]===0;)B++;if(Y[B++]!==1)throw new Error("decryption error");return Y.slice(B)}function Z(V,$,x){for(var O=$.slice(0,2),g=2,E=0;$[g++]!==0;)if(g>=$.length){E++;break}var z=$.slice(2,g-1);if((O.toString("hex")!=="0002"&&!x||O.toString("hex")!=="0001"&&x)&&E++,z.length<8&&E++,E)throw new Error("decryption error");return $.slice(g)}function T(V,$){V=y.from(V),$=y.from($);var x=0,O=V.length;V.length!==$.length&&(x++,O=Math.min(V.length,$.length));for(var g=-1;++g<O;)x+=V[g]^$[g];return x}}),Lu=Uo((l)=>{l.publicEncrypt=Mu(),l.privateDecrypt=Vu(),l.privateEncrypt=function(d,i){return l.publicEncrypt(d,i,!0)},l.publicDecrypt=function(d,i){return l.privateDecrypt(d,i,!0)}}),Wu=Uo((l)=>{function d(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var i=ha(),R=Hn(),f=i.Buffer,q=i.kMaxLength,u=global.crypto||global.msCrypto,h=Math.pow(2,32)-1;function L(V,$){if(typeof V!="number"||V!==V)throw new TypeError("offset must be a number");if(V>h||V<0)throw new TypeError("offset must be a uint32");if(V>q||V>$)throw new RangeError("offset out of range")}function y(V,$,x){if(typeof V!="number"||V!==V)throw new TypeError("size must be a number");if(V>h||V<0)throw new TypeError("size must be a uint32");if(V+$>x||V>q)throw new RangeError("buffer too small")}u&&u.getRandomValues?(l.randomFill=k,l.randomFillSync=T):(l.randomFill=d,l.randomFillSync=d);function k(V,$,x,O){if(!f.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof $=="function")O=$,$=0,x=V.length;else if(typeof x=="function")O=x,x=V.length-$;else if(typeof O!="function")throw new TypeError('"cb" argument must be a function');return L($,V.length),y(x,$,V.length),Z(V,$,x,O)}function Z(V,$,x,O){var g=V.buffer,E=new Uint8Array(g,$,x);if(u.getRandomValues(E),O){process.nextTick(function(){O(null,V)});return}return V;var z}function T(V,$,x){if(typeof $>"u"&&($=0),!f.isBuffer(V)&&!(V instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return L($,V.length),x===void 0&&(x=V.length-$),y(x,$,V.length),Z(V,$,x)}}),Ur=Uo((l)=>{l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=Hn(),l.createHash=l.Hash=fe(),l.createHmac=l.Hmac=ar();var d=yc(),i=Object.keys(d),R=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);l.getHashes=function(){return R};var f=ir();l.pbkdf2=f.pbkdf2,l.pbkdf2Sync=f.pbkdf2Sync;var q=gc();l.Cipher=q.Cipher,l.createCipher=q.createCipher,l.Cipheriv=q.Cipheriv,l.createCipheriv=q.createCipheriv,l.Decipher=q.Decipher,l.createDecipher=q.createDecipher,l.Decipheriv=q.Decipheriv,l.createDecipheriv=q.createDecipheriv,l.getCiphers=q.getCiphers,l.listCiphers=q.listCiphers;var u=Kc();l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var h=xu();l.createSign=h.createSign,l.Sign=h.Sign,l.createVerify=h.createVerify,l.Verify=h.Verify,l.createECDH=Tu();var L=Lu();l.publicEncrypt=L.publicEncrypt,l.privateEncrypt=L.privateEncrypt,l.publicDecrypt=L.publicDecrypt,l.privateDecrypt=L.privateDecrypt;var y=Wu();l.randomFill=y.randomFill,l.randomFillSync=y.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),Er={},Os(Er,{DEFAULT_ENCODING:()=>Ze,default:()=>ci,getCurves:()=>li,getRandomValues:()=>ri,randomUUID:()=>ii,scrypt:()=>as,scryptSync:()=>os,timingSafeEqual:()=>ye,webcrypto:()=>tl}),zl(Er,Dn(Ur())),wu=Dn(Ur()),V0=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],ye="timingSafeEqual"in crypto?(l,d)=>{let{byteLength:i}=l,{byteLength:R}=d;if(typeof i!="number"||typeof R!="number")throw new TypeError("Input must be an array buffer view");if(i!==R)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(l,d)}:void 0,os="scryptSync"in crypto?(l,d,i,R)=>{let f=crypto.scryptSync(l,d,i,R);return Ze!=="buffer"?new Buffer(f).toString(Ze):new Buffer(f)}:void 0,as="scryptSync"in crypto?function(l,d,i,R,f){if(typeof R=="function"&&(f=R,R=void 0),typeof f!="function"){var q=new TypeError("callback must be a function");throw q.code="ERR_INVALID_CALLBACK",q}try{let u=crypto.scryptSync(l,d,i,R);process.nextTick(f,null,Ze!=="buffer"?new Buffer(u).toString(Ze):new Buffer(u))}catch(u){throw u}}:void 0,ye&&(Object.defineProperty(ye,"name",{value:"::bunternal::"}),Object.defineProperty(as,"name",{value:"::bunternal::"}),Object.defineProperty(os,"name",{value:"::bunternal::"})),tl=crypto,ci={...wu,getRandomValues:ri,randomUUID:ii,timingSafeEqual:ye,scryptSync:os,scrypt:as,webcrypto:tl,getCurves:li};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),L0=Nl((l,d)=>{(function(i,R){if(typeof l==="object")d.exports=l=R();else if(typeof define==="function"&&define.amd)define([],R);else i.CryptoJS=R()})(l,function(){var i=i||function(R,f){var q;if(typeof window!=="undefined"&&window.crypto)q=window.crypto;if(typeof self!=="undefined"&&self.crypto)q=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)q=globalThis.crypto;if(!q&&typeof window!=="undefined"&&window.msCrypto)q=window.msCrypto;if(!q&&typeof global!=="undefined"&&global.crypto)q=global.crypto;if(!q)try{q=(J6(),j6(k0))}catch(z){}var u=function(){if(q){if(typeof q.getRandomValues==="function")try{return q.getRandomValues(new Uint32Array(1))[0]}catch(z){}if(typeof q.randomBytes==="function")try{return q.randomBytes(4).readInt32LE()}catch(z){}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function z(){}return function(P){var Y;return z.prototype=P,Y=new z,z.prototype=null,Y}}(),L={},y=L.lib={},k=y.Base=function(){return{extend:function(z){var P=h(this);if(z)P.mixIn(z);if(!P.hasOwnProperty("init")||this.init===P.init)P.init=function(){P.$super.init.apply(this,arguments)};return P.init.prototype=P,P.$super=this,P},create:function(){var z=this.extend();return z.init.apply(z,arguments),z},init:function(){},mixIn:function(z){for(var P in z)if(z.hasOwnProperty(P))this[P]=z[P];if(z.hasOwnProperty("toString"))this.toString=z.toString},clone:function(){return this.init.prototype.extend(this)}}}(),Z=y.WordArray=k.extend({init:function(z,P){if(z=this.words=z||[],P!=f)this.sigBytes=P;else this.sigBytes=z.length*4},toString:function(z){return(z||V).stringify(this)},concat:function(z){var P=this.words,Y=z.words,B=this.sigBytes,uo=z.sigBytes;if(this.clamp(),B%4)for(var to=0;to<uo;to++){var To=Y[to>>>2]>>>24-to%4*8&255;P[B+to>>>2]|=To<<24-(B+to)%4*8}else for(var co=0;co<uo;co+=4)P[B+co>>>2]=Y[co>>>2];return this.sigBytes+=uo,this},clamp:function(){var z=this.words,P=this.sigBytes;z[P>>>2]&=4294967295<<32-P%4*8,z.length=R.ceil(P/4)},clone:function(){var z=k.clone.call(this);return z.words=this.words.slice(0),z},random:function(z){var P=[];for(var Y=0;Y<z;Y+=4)P.push(u());return new Z.init(P,z)}}),T=L.enc={},V=T.Hex={stringify:function(z){var{words:P,sigBytes:Y}=z,B=[];for(var uo=0;uo<Y;uo++){var to=P[uo>>>2]>>>24-uo%4*8&255;B.push((to>>>4).toString(16)),B.push((to&15).toString(16))}return B.join("")},parse:function(z){var P=z.length,Y=[];for(var B=0;B<P;B+=2)Y[B>>>3]|=parseInt(z.substr(B,2),16)<<24-B%8*4;return new Z.init(Y,P/2)}},$=T.Latin1={stringify:function(z){var{words:P,sigBytes:Y}=z,B=[];for(var uo=0;uo<Y;uo++){var to=P[uo>>>2]>>>24-uo%4*8&255;B.push(String.fromCharCode(to))}return B.join("")},parse:function(z){var P=z.length,Y=[];for(var B=0;B<P;B++)Y[B>>>2]|=(z.charCodeAt(B)&255)<<24-B%4*8;return new Z.init(Y,P)}},x=T.Utf8={stringify:function(z){try{return decodeURIComponent(escape($.stringify(z)))}catch(P){throw new Error("Malformed UTF-8 data")}},parse:function(z){return $.parse(unescape(encodeURIComponent(z)))}},O=y.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new Z.init,this._nDataBytes=0},_append:function(z){if(typeof z=="string")z=x.parse(z);this._data.concat(z),this._nDataBytes+=z.sigBytes},_process:function(z){var P,Y=this._data,B=Y.words,uo=Y.sigBytes,to=this.blockSize,To=to*4,co=uo/To;if(z)co=R.ceil(co);else co=R.max((co|0)-this._minBufferSize,0);var Wo=co*to,o=R.min(Wo*4,uo);if(Wo){for(var e=0;e<Wo;e+=to)this._doProcessBlock(B,e);P=B.splice(0,Wo),Y.sigBytes-=o}return new Z.init(P,o)},clone:function(){var z=k.clone.call(this);return z._data=this._data.clone(),z},_minBufferSize:0}),g=y.Hasher=O.extend({cfg:k.extend(),init:function(z){this.cfg=this.cfg.extend(z),this.reset()},reset:function(){O.reset.call(this),this._doReset()},update:function(z){return this._append(z),this._process(),this},finalize:function(z){if(z)this._append(z);var P=this._doFinalize();return P},blockSize:16,_createHelper:function(z){return function(P,Y){return new z.init(Y).finalize(P)}},_createHmacHelper:function(z){return function(P,Y){return new E.HMAC.init(z,Y).finalize(P)}}}),E=L.algo={};return L}(Math);return i})}),K6=Nl((l,d)=>{(function(i,R){if(typeof l==="object")d.exports=l=R(L0());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(i.CryptoJS)})(l,function(i){return function(R){var f=i,q=f.lib,u=q.WordArray,h=q.Hasher,L=f.algo,y=[];(function(){for(var x=0;x<64;x++)y[x]=R.abs(R.sin(x+1))*4294967296|0})();var k=L.MD5=h.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,O){for(var g=0;g<16;g++){var E=O+g,z=x[E];x[E]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}var P=this._hash.words,Y=x[O+0],B=x[O+1],uo=x[O+2],to=x[O+3],To=x[O+4],co=x[O+5],Wo=x[O+6],o=x[O+7],e=x[O+8],c=x[O+9],s=x[O+10],p=x[O+11],_=x[O+12],N=x[O+13],t=x[O+14],a=x[O+15],m=P[0],S=P[1],w=P[2],I=P[3];m=Z(m,S,w,I,Y,7,y[0]),I=Z(I,m,S,w,B,12,y[1]),w=Z(w,I,m,S,uo,17,y[2]),S=Z(S,w,I,m,to,22,y[3]),m=Z(m,S,w,I,To,7,y[4]),I=Z(I,m,S,w,co,12,y[5]),w=Z(w,I,m,S,Wo,17,y[6]),S=Z(S,w,I,m,o,22,y[7]),m=Z(m,S,w,I,e,7,y[8]),I=Z(I,m,S,w,c,12,y[9]),w=Z(w,I,m,S,s,17,y[10]),S=Z(S,w,I,m,p,22,y[11]),m=Z(m,S,w,I,_,7,y[12]),I=Z(I,m,S,w,N,12,y[13]),w=Z(w,I,m,S,t,17,y[14]),S=Z(S,w,I,m,a,22,y[15]),m=T(m,S,w,I,B,5,y[16]),I=T(I,m,S,w,Wo,9,y[17]),w=T(w,I,m,S,p,14,y[18]),S=T(S,w,I,m,Y,20,y[19]),m=T(m,S,w,I,co,5,y[20]),I=T(I,m,S,w,s,9,y[21]),w=T(w,I,m,S,a,14,y[22]),S=T(S,w,I,m,To,20,y[23]),m=T(m,S,w,I,c,5,y[24]),I=T(I,m,S,w,t,9,y[25]),w=T(w,I,m,S,to,14,y[26]),S=T(S,w,I,m,e,20,y[27]),m=T(m,S,w,I,N,5,y[28]),I=T(I,m,S,w,uo,9,y[29]),w=T(w,I,m,S,o,14,y[30]),S=T(S,w,I,m,_,20,y[31]),m=V(m,S,w,I,co,4,y[32]),I=V(I,m,S,w,e,11,y[33]),w=V(w,I,m,S,p,16,y[34]),S=V(S,w,I,m,t,23,y[35]),m=V(m,S,w,I,B,4,y[36]),I=V(I,m,S,w,To,11,y[37]),w=V(w,I,m,S,o,16,y[38]),S=V(S,w,I,m,s,23,y[39]),m=V(m,S,w,I,N,4,y[40]),I=V(I,m,S,w,Y,11,y[41]),w=V(w,I,m,S,to,16,y[42]),S=V(S,w,I,m,Wo,23,y[43]),m=V(m,S,w,I,c,4,y[44]),I=V(I,m,S,w,_,11,y[45]),w=V(w,I,m,S,a,16,y[46]),S=V(S,w,I,m,uo,23,y[47]),m=$(m,S,w,I,Y,6,y[48]),I=$(I,m,S,w,o,10,y[49]),w=$(w,I,m,S,t,15,y[50]),S=$(S,w,I,m,co,21,y[51]),m=$(m,S,w,I,_,6,y[52]),I=$(I,m,S,w,to,10,y[53]),w=$(w,I,m,S,s,15,y[54]),S=$(S,w,I,m,B,21,y[55]),m=$(m,S,w,I,e,6,y[56]),I=$(I,m,S,w,a,10,y[57]),w=$(w,I,m,S,Wo,15,y[58]),S=$(S,w,I,m,N,21,y[59]),m=$(m,S,w,I,To,6,y[60]),I=$(I,m,S,w,p,10,y[61]),w=$(w,I,m,S,uo,15,y[62]),S=$(S,w,I,m,c,21,y[63]),P[0]=P[0]+m|0,P[1]=P[1]+S|0,P[2]=P[2]+w|0,P[3]=P[3]+I|0},_doFinalize:function(){var x=this._data,O=x.words,g=this._nDataBytes*8,E=x.sigBytes*8;O[E>>>5]|=128<<24-E%32;var z=R.floor(g/4294967296),P=g;O[(E+64>>>9<<4)+15]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,O[(E+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,x.sigBytes=(O.length+1)*4,this._process();var Y=this._hash,B=Y.words;for(var uo=0;uo<4;uo++){var to=B[uo];B[uo]=(to<<8|to>>>24)&16711935|(to<<24|to>>>8)&4278255360}return Y},clone:function(){var x=h.clone.call(this);return x._hash=this._hash.clone(),x}});function Z(x,O,g,E,z,P,Y){var B=x+(O&g|~O&E)+z+Y;return(B<<P|B>>>32-P)+O}function T(x,O,g,E,z,P,Y){var B=x+(O&E|g&~E)+z+Y;return(B<<P|B>>>32-P)+O}function V(x,O,g,E,z,P,Y){var B=x+(O^g^E)+z+Y;return(B<<P|B>>>32-P)+O}function $(x,O,g,E,z,P,Y){var B=x+(g^(O|~E))+z+Y;return(B<<P|B>>>32-P)+O}f.MD5=h._createHelper(k),f.HmacMD5=h._createHmacHelper(k)}(Math),i.MD5})}),P6=Nl((l,d)=>{(function(i,R){if(typeof l==="object")d.exports=l=R(L0());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(i.CryptoJS)})(l,function(i){return i.enc.Latin1})}),I6=Nl((l,d)=>{d.exports=function i(R){return atob(R)}});class gn{getEraseSize(l,d){return d}}var ke,G6=Va(()=>{ke={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),D6={};dn(D6,{ESP32ROM:()=>vi});var vi,H6=Va(()=>{G6(),vi=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=ke.text_start,this.ENTRY=ke.entry,this.DATA_START=ke.data_start,this.ROM_DATA=ke.data,this.ROM_TEXT=ke.text}async readEfuse(d,i){const R=this.EFUSE_RD_REG_BASE+4*i;return d.debug("Read efuse "+R),await d.readReg(R)}async getPkgVersion(d){const i=await this.readEfuse(d,3);let R=i>>9&7;return R+=(i>>2&1)<<3,R}async getChipRevision(d){const i=await this.readEfuse(d,3),R=await this.readEfuse(d,5),f=await d.readReg(this.DR_REG_SYSCON_BASE+124),q=i>>15&1,u=R>>20&1,h=f>>31&1;if(q!=0)if(u!=0)if(h!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(d){const i=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let R="";const f=await this.getPkgVersion(d),q=await this.getChipRevision(d),u=q==3;if((await this.readEfuse(d,3)&1)!=0)i[0]="ESP32-S0WDQ6",i[1]="ESP32-S0WD";if(u)i[5]="ESP32-PICO-V3";if(f>=0&&f<=6)R=i[f];else R="Unknown ESP32";if(u&&(f===0||f===1))R+="-V3";return R+" (revision "+q+")"}async getChipFeatures(d){const i=["Wi-Fi"],R=await this.readEfuse(d,3);if((R&2)===0)i.push(" BT");if((R&1)!==0)i.push(" Single Core");else i.push(" Dual Core");if((R&8192)!==0)if((R&4096)!==0)i.push(" 160MHz");else i.push(" 240MHz");const f=await this.getPkgVersion(d);if([2,4,5,6].indexOf(f)!==-1)i.push(" Embedded Flash");if(f===6)i.push(" Embedded PSRAM");if((await this.readEfuse(d,4)>>8&31)!==0)i.push(" VRef calibration in efuse");if((R>>14&1)!==0)i.push(" BLK3 partially reserved");const q=await this.readEfuse(d,6)&3,u=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return i.push(" Coding Scheme "+u[q]),i}async getCrystalFreq(d){const i=await d.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=d.transport.baudrate*i/1e6/this.XTAL_CLK_DIVIDER;let f;if(R>33)f=40;else f=26;if(Math.abs(f-R)>1)d.info("WARNING: Unsupported crystal in use");return f}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await this.readEfuse(d,1);i=i>>>0;let R=await this.readEfuse(d,2);R=R>>>0;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}}}),qe,Y6=Va(()=>{qe={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),B6={};dn(B6,{ESP32C3ROM:()=>Ri});var Ri,C6=Va(()=>{Y6(),Ri=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=qe.text_start,this.ENTRY=qe.entry,this.DATA_START=qe.data_start,this.ROM_DATA=qe.data,this.ROM_TEXT=qe.text}async getPkgVersion(d){const i=this.EFUSE_BASE+68+12;return await d.readReg(i)>>21&7}async getChipRevision(d){const i=this.EFUSE_BASE+68+12;return(await d.readReg(i)&1835008)>>18}async getChipDescription(d){let i;if(await this.getPkgVersion(d)===0)i="ESP32-C3";else i="unknown ESP32-C3";const R=await this.getChipRevision(d);return i+=" (revision "+R+")",i}async getChipFeatures(d){return["Wi-Fi"]}async getCrystalFreq(d){return 40}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),xe,Q6=Va(()=>{xe={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),A6={};dn(A6,{ESP32C2ROM:()=>W0});var W0,mm=Va(()=>{C6(),Q6(),W0=class l extends Ri{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=xe.text_start,this.ENTRY=xe.entry,this.DATA_START=xe.data_start,this.ROM_DATA=xe.data,this.ROM_TEXT=xe.text}async getPkgVersion(d){const i=this.EFUSE_BASE+64+4;return await d.readReg(i)>>22&7}async getChipRevision(d){const i=this.EFUSE_BASE+64+4;return(await d.readReg(i)&3145728)>>20}async getChipDescription(d){let i;const R=await this.getPkgVersion(d);if(R===0||R===1)i="ESP32-C2";else i="unknown ESP32-C2";const f=await this.getChipRevision(d);return i+=" (revision "+f+")",i}async getChipFeatures(d){return["Wi-Fi","BLE"]}async getCrystalFreq(d){const i=await d.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=d.transport.baudrate*i/1e6/this.XTAL_CLK_DIVIDER;let f;if(R>33)f=40;else f=26;if(Math.abs(f-R)>1)d.info("WARNING: Unsupported crystal in use");return f}async changeBaudRate(d){if(await this.getCrystalFreq(d)===26)d.changeBaud()}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),$e,o8=Va(()=>{$e={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),a8={};dn(a8,{ESP32C6ROM:()=>w0});var w0,tm=Va(()=>{o8(),w0=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=$e.text_start,this.ENTRY=$e.entry,this.DATA_START=$e.data_start,this.ROM_DATA=$e.data,this.ROM_TEXT=$e.text}async getPkgVersion(d){const i=this.EFUSE_BASE+68+12;return await d.readReg(i)>>21&7}async getChipRevision(d){const i=this.EFUSE_BASE+68+12;return(await d.readReg(i)&1835008)>>18}async getChipDescription(d){let i;if(await this.getPkgVersion(d)===0)i="ESP32-C6";else i="unknown ESP32-C6";const R=await this.getChipRevision(d);return i+=" (revision "+R+")",i}async getChipFeatures(d){return["Wi-Fi"]}async getCrystalFreq(d){return 40}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),Te,n8=Va(()=>{Te={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),e8={};dn(e8,{ESP32H2ROM:()=>F0});var F0,dm=Va(()=>{n8(),F0=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Te.text_start,this.ENTRY=Te.entry,this.DATA_START=Te.data_start,this.ROM_DATA=Te.data,this.ROM_TEXT=Te.text}async getChipDescription(d){return this.CHIP_NAME}async getChipFeatures(d){return["BLE","IEEE802.15.4"]}async getCrystalFreq(d){return 32}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async postConnect(d){const i=await d.readReg(this.UARTDEV_BUF_NO)&255;if(d.debug("In _post_connect "+i),i==this.UARTDEV_BUF_NO_USB)d.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),Me,s8=Va(()=>{Me={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),l8={};dn(l8,{ESP32S3ROM:()=>O0});var O0,bm=Va(()=>{s8(),O0=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=Me.text_start,this.ENTRY=Me.entry,this.DATA_START=Me.data_start,this.ROM_DATA=Me.data,this.ROM_TEXT=Me.text}async getChipDescription(d){return"ESP32-S3"}async getChipFeatures(d){return["Wi-Fi","BLE"]}async getCrystalFreq(d){return 40}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async postConnect(d){const i=await d.readReg(this.UARTDEV_BUF_NO)&255;if(d.debug("In _post_connect "+i),i==this.UARTDEV_BUF_NO_USB)d.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),Ve,r8=Va(()=>{Ve={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),i8={};dn(i8,{ESP32S2ROM:()=>z0});var z0,fm=Va(()=>{r8(),z0=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=Ve.text_start,this.ENTRY=Ve.entry,this.DATA_START=Ve.data_start,this.ROM_DATA=Ve.data,this.ROM_TEXT=Ve.text}async getPkgVersion(d){const i=this.EFUSE_BASE+68+12;return await d.readReg(i)>>21&15}async getChipDescription(d){const i=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],R=await this.getPkgVersion(d);if(R>=0&&R<=2)return i[R];else return"unknown ESP32-S2"}async getChipFeatures(d){const i=["Wi-Fi"],R=await this.getPkgVersion(d);if(R==1)i.push("Embedded 2MB Flash");else if(R==2)i.push("Embedded 4MB Flash");const f=4,q=this.EFUSE_BASE+92+4*f;if((await d.readReg(q)>>4&7)==1)i.push("ADC and temperature sensor calibration in BLK2 of efuse");return i}async getCrystalFreq(d){return 40}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}getEraseSize(d,i){return i}}}),Le,c8=Va(()=>{Le={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),u8={};dn(u8,{ESP8266ROM:()=>S0});var S0,_m=Va(()=>{c8(),S0=class l extends gn{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=Le.text_start,this.ENTRY=Le.entry,this.DATA_START=Le.data_start,this.ROM_DATA=Le.data,this.ROM_TEXT=Le.text,this.getChipFeatures=async(d)=>{const i=["WiFi"];if(await this.getChipDescription(d)=="ESP8285")i.push("Embedded Flash");return i}}async readEfuse(d,i){const R=this.EFUSE_RD_REG_BASE+4*i;return d.debug("Read efuse "+R),await d.readReg(R)}async getChipDescription(d){const i=await this.readEfuse(d,2);return(await this.readEfuse(d,0)&16|i&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(d){const i=await d.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=d.transport.baudrate*i/1e6/this.XTAL_CLK_DIVIDER;let f;if(R>33)f=40;else f=26;if(Math.abs(f-R)>1)d.info("WARNING: Detected crystal freq "+R+"MHz is quite different to normalized freq "+f+"MHz. Unsupported crystal in use?");return f}_d2h(d){const i=(+d).toString(16);return i.length===1?"0"+i:i}async readMac(d){let i=await this.readEfuse(d,0);i=i>>>0;let R=await this.readEfuse(d,1);R=R>>>0;let f=await this.readEfuse(d,3);f=f>>>0;const q=new Uint8Array(6);if(f!=0)q[0]=f>>16&255,q[1]=f>>8&255,q[2]=f&255;else if((R>>16&255)==0)q[0]=24,q[1]=254,q[2]=52;else if((R>>16&255)==1)q[0]=172,q[1]=208,q[2]=116;else d.error("Unknown OUI");return q[3]=R>>8&255,q[4]=R&255,q[5]=i>>24&255,this._d2h(q[0])+":"+this._d2h(q[1])+":"+this._d2h(q[2])+":"+this._d2h(q[3])+":"+this._d2h(q[4])+":"+this._d2h(q[5])}getEraseSize(d,i){return i}}}),We,p8=Va(()=>{We={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),m8={};dn(m8,{ESP32P4ROM:()=>X0});var X0,hm=Va(()=>{H6(),p8(),X0=class l extends vi{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=We.text_start,this.ENTRY=We.entry,this.DATA_START=We.data_start,this.ROM_DATA=We.data,this.ROM_TEXT=We.text}async getPkgVersion(d){const i=this.EFUSE_BLOCK1_ADDR+8;return await d.readReg(i)>>27&7}async getMinorChipVersion(d){const i=this.EFUSE_BLOCK1_ADDR+8;return await d.readReg(i)>>0&15}async getMajorChipVersion(d){const i=this.EFUSE_BLOCK1_ADDR+8;return await d.readReg(i)>>4&3}async getChipDescription(d){const i=await this.getPkgVersion(d)===0?"ESP32-P4":"unknown ESP32-P4",R=await this.getMajorChipVersion(d),f=await this.getMinorChipVersion(d);return`${i} (revision v${R}.${f})`}async getChipFeatures(d){return["High-Performance MCU"]}async getCrystalFreq(d){return 40}async getFlashVoltage(d){return}async overrideVddsdio(d){d.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(d){let i=await d.readReg(this.MAC_EFUSE_REG);i=i>>>0;let R=await d.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const f=new Uint8Array(6);return f[0]=R>>8&255,f[1]=R&255,f[2]=i>>24&255,f[3]=i>>16&255,f[4]=i>>8&255,f[5]=i&255,this._d2h(f[0])+":"+this._d2h(f[1])+":"+this._d2h(f[2])+":"+this._d2h(f[3])+":"+this._d2h(f[4])+":"+this._d2h(f[5])}async getFlashCryptConfig(d){return}async getSecureBootEnabled(d){return await d.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(d,i){if(i<0||i>this.EFUSE_MAX_KEY){d.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const R=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[f,q]=R[i];return await d.readReg(f)>>q&15}async isFlashEncryptionKeyValid(d){const i=[];for(let q=0;q<=this.EFUSE_MAX_KEY;q++){const u=await this.getKeyBlockPurpose(d,q);i.push(u)}if(typeof i.find((q)=>q===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const R=i.find((q)=>q===this.PURPOSE_VAL_XTS_AES256_KEY_1),f=i.find((q)=>q===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof R!==void 0&&typeof f!==void 0)return!0;return!1}}}),d8="\x01",zu="\x02",Jr="\x03",Kr="\x04",Su=512,Pr=80,b8=1152000;class g0{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(l=[]){return navigator.serial.requestPort({filters:l}).then((d)=>{if(d._serial){this.serial=d._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new t8(d),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(l={}){return new Promise((d,i)=>{if(this.serial)this.serial.open({baudRate:b8,...l}).then(()=>d()).catch((R)=>{if(R.name==="InvalidStateError")this._connected=!0,d();i(R)});else i(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(l,d){return new Promise((i)=>{let R="";const f=async(q)=>{if(q){if(R+=this._decoder.decode(q),d)d(q)}if(R.indexOf(l)!==-1)this.serial.off("data",f),i(R)};this.serial.on("data",f)})}writeAndReadUntil(l,d,i){return new Promise(async(R)=>{if(d)this.readUntil(d,i).then(R);for(let f=0;f<l.length;f+=Su)await this.serial.write(l.slice(f,f+Su)),await jr(10);if(!d)R()})}async getPrompt(){return await jr(150),await this.stop(),await jr(150),await this.writeAndReadUntil(`\r${Jr}${zu}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(d8,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(zu,"\r\n>>>")}async execRaw(l,d){return await this.writeAndReadUntil(l),await this.writeAndReadUntil(Kr,`${Kr}>`,d)}async execFile(l,d){if(d=d||function(){},l){await this.enterRawRepl();const i=await this.execRaw(l,d);return await this.exitRawRepl(),i}return Promise.reject()}async run(l,d){return d=d||function(){},new Promise(async(i,R)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=R;try{await this.enterRawRepl();const f=await this.execRaw(l||"#",d);return await this.exitRawRepl(),i(f)}catch(f){R(f),this.rejectRun=null}})}async eval(l){await this.serial.write(l)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(Jr)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(Jr),await this.serial.write(Kr)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(l){l=l||"";let d="";d+="try:\n",d+=`  f = open('${l}', 'r')\n`,d+="  print(1)\n",d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return await this.exitRawRepl(),i[2]=="1"}async listdir(l){l=l||"";let d="";d+="import os\n",d+="try:\n",d+=`  print(os.listdir('${l}'))\n`,d+="except OSError:\n",d+="  print([])\n",await this.enterRawRepl();let i=await this.execRaw(d);return await this.exitRawRepl(),i=Ou(i),i=i.replace(/'/g,'"'),JSON.parse(i)}async mkdir(l){if(l){await this.enterRawRepl();const d=await this.execRaw(`import os\nos.mkdir('${l}')`);return await this.exitRawRepl(),d}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(l){if(l){let d="";d+="import os\n",d+="try:\n",d+=`  os.rmdir("${l}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return await this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async remove(l){if(l){let d="";d+="import os\n",d+="try:\n",d+=`  os.remove("${l}")\n`,d+="except OSError:\n",d+="  print(0)\n",await this.enterRawRepl();const i=await this.execRaw(d);return this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async rename(l,d){if(l&&d){await this.enterRawRepl();const i=await this.execRaw(`import os\nos.rename('${l}', '${d}')`);return this.exitRawRepl(),i}return Promise.reject(new Error("Path to file was not specified"))}async cat(l){if(l){await this.enterRawRepl();let d=await this.execRaw(`with open('${l}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),d=Ou(d),Fu(d)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(l,d){if(l){let i="";i+="import os\n",i+="import hashlib\n",i+="import binascii\n",i+="hash = hashlib.sha256()\n",i+=`with open('${l}', 'rb') as f:\n`,i+="  while True:\n",i+=`    c = f.read(${Pr})\n`,i+="    if not c: break\n",i+="    hash.update(c)\n",i+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let R=await this.execRaw(i);return await this.exitRawRepl(),R=R.slice(2,R.indexOf("\n")-1),d===R}return Promise.reject(new Error("Path to file was not specified"))}async put(l,d,i){if(!d){Promise.reject(new Error("Must specify content and destination path"));return}let R;if(typeof l==="string")R=this._encoder.encode(Fu(l));else if(l instanceof ArrayBuffer)R=new Uint8Array(l);else if(l instanceof Uint8Array)R=l;else Promise.reject(new Error(`${l} must string, Uint8Array or ArrayBuffer`));if(i=i||function(){},await this.exists(d)){const h=await crypto.subtle.digest("SHA-256",R),L=Array.from(new Uint8Array(h)).map((y)=>y.toString(16).padStart(2,"0")).join("");if(await this.checkHash(d,L)){i(100);return}}const f=Array.from(R).map((h)=>h.toString(16).padStart(2,"0"));let q="";q+=await this.enterRawRepl();let u=d.split("/");if(u.pop(),u.length>0){q+=await this.execRaw("import os");const h=[];u.reduce((L,y)=>{if(y===""||L!==""&&L.at(-1)!=="/")L+="/";if(L+=y,L!=="/")h.push(L);return L},"");for(let L of h)q+=await this.execRaw(`os.mkdir('${L}')`)}q+=await this.execRaw(`f=open('${d}','w')\nw=f.write`);for(let h=0;h<f.length;h+=Pr){const L=f.slice(h,h+Pr).map((y)=>`\\x${y}`);q+=await this.execRaw(`w(b"${L.join("")}")`),i(parseInt(h/f.length*100))}return q+=await this.execRaw("f.close()"),q+=await this.exitRawRepl(),i(100),q}}var U0=async(l,d)=>{const i=new g0;await i.requestPort(l),await i.connect(),await i.stop(),d(i);const R=()=>setTimeout(()=>{if(i.connected)R();else d(null)},1000);return R(),i};var E0=async(l,d)=>{await l.stop(),await l.enterRawRepl();let i="";i+="import popui.screen.download as download_screen\n",i+=`from ${d} import display\n`,i+="download_screen.render(display)\n";const R=await l.execRaw(i);return await l.exitRawRepl(),R},j0=async(l,d)=>{await l.stop(),await l.enterRawRepl();let i="import device.config as config\n";for(let[f,q]of Object.entries(d))if(typeof q==="number"&&q%1===0)i+=`config.set_int("${f}", ${q})\n`;else if(typeof q==="boolean")i+=`config.set_bool("${f}", ${q?"True":"False"})\n`;else i+=`config.set_str("${f}", "${q}")\n`;i+="config.save()\n";const R=await l.execRaw(i);return await l.exitRawRepl(),R},J0=async(l,d)=>{await l.stop();let i=0;for(let q of d)i+=q.content?.length??q.data?.length??0;await l.enterRawRepl();const R=`from device.flash import check_flash_free\nprint(check_flash_free(${i}))\n`,f=await l.execRaw(R);return await l.exitRawRepl(),f.slice(2,-3).trim()==="True"},K0=async(l,d,i)=>{await l.stop();const R=d.length;let f=0;const q=(u)=>{i(((f+1/R*(u/100))*100).toFixed(1))};for(let u of d){let{id:h,content:L}=u;if(u.type){if(u.type==="text/x-python"&&!h.endsWith(".py"))h+=".py";else if(u.type.startsWith("image/")&&!L)L=await f8(u.type,u.data)}await l.put(L||"",h,q),f+=1/R}i(100)},vm=Ni(K6(),1),Rm=Ni(P6(),1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var R8=0,P0=1,Z8=2,y8=3,k8=258,ki=29,Ns=256,cs=Ns+1+ki,we=30,qi=19,I0=2*cs+1,ae=15,Dr=16,q8=7,xi=256,G0=16,D0=17,H0=18,ui=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),dl=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),x8=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Y0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$8=512,vn=new Array((cs+2)*2);ze(vn);var ss=new Array(we*2);ze(ss);var us=new Array($8);ze(us);var ps=new Array(k8-y8+1);ze(ps);var $i=new Array(ki);ze($i);var fl=new Array(we);ze(fl);var B0,C0,Q0,A0=(l)=>{return l<256?us[l]:us[256+(l>>>7)]},ms=(l,d)=>{l.pending_buf[l.pending++]=d&255,l.pending_buf[l.pending++]=d>>>8&255},ja=(l,d,i)=>{if(l.bi_valid>Dr-i)l.bi_buf|=d<<l.bi_valid&65535,ms(l,l.bi_buf),l.bi_buf=d>>Dr-l.bi_valid,l.bi_valid+=i-Dr;else l.bi_buf|=d<<l.bi_valid&65535,l.bi_valid+=i},pn=(l,d,i)=>{ja(l,i[d*2],i[d*2+1])},o1=(l,d)=>{let i=0;do i|=l&1,l>>>=1,i<<=1;while(--d>0);return i>>>1},T8=(l)=>{if(l.bi_valid===16)ms(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0;else if(l.bi_valid>=8)l.pending_buf[l.pending++]=l.bi_buf&255,l.bi_buf>>=8,l.bi_valid-=8},M8=(l,d)=>{const{dyn_tree:i,max_code:R}=d,f=d.stat_desc.static_tree,q=d.stat_desc.has_stree,u=d.stat_desc.extra_bits,h=d.stat_desc.extra_base,L=d.stat_desc.max_length;let y,k,Z,T,V,$,x=0;for(T=0;T<=ae;T++)l.bl_count[T]=0;i[l.heap[l.heap_max]*2+1]=0;for(y=l.heap_max+1;y<I0;y++){if(k=l.heap[y],T=i[i[k*2+1]*2+1]+1,T>L)T=L,x++;if(i[k*2+1]=T,k>R)continue;if(l.bl_count[T]++,V=0,k>=h)V=u[k-h];if($=i[k*2],l.opt_len+=$*(T+V),q)l.static_len+=$*(f[k*2+1]+V)}if(x===0)return;do{T=L-1;while(l.bl_count[T]===0)T--;l.bl_count[T]--,l.bl_count[T+1]+=2,l.bl_count[L]--,x-=2}while(x>0);for(T=L;T!==0;T--){k=l.bl_count[T];while(k!==0){if(Z=l.heap[--y],Z>R)continue;if(i[Z*2+1]!==T)l.opt_len+=(T-i[Z*2+1])*i[Z*2],i[Z*2+1]=T;k--}}},a1=(l,d,i)=>{const R=new Array(ae+1);let f=0,q,u;for(q=1;q<=ae;q++)f=f+i[q-1]<<1,R[q]=f;for(u=0;u<=d;u++){let h=l[u*2+1];if(h===0)continue;l[u*2]=o1(R[h]++,h)}},V8=()=>{let l,d,i,R,f;const q=new Array(ae+1);i=0;for(R=0;R<ki-1;R++){$i[R]=i;for(l=0;l<1<<ui[R];l++)ps[i++]=R}ps[i-1]=R,f=0;for(R=0;R<16;R++){fl[R]=f;for(l=0;l<1<<dl[R];l++)us[f++]=R}f>>=7;for(;R<we;R++){fl[R]=f<<7;for(l=0;l<1<<dl[R]-7;l++)us[256+f++]=R}for(d=0;d<=ae;d++)q[d]=0;l=0;while(l<=143)vn[l*2+1]=8,l++,q[8]++;while(l<=255)vn[l*2+1]=9,l++,q[9]++;while(l<=279)vn[l*2+1]=7,l++,q[7]++;while(l<=287)vn[l*2+1]=8,l++,q[8]++;a1(vn,cs+1,q);for(l=0;l<we;l++)ss[l*2+1]=5,ss[l*2]=o1(l,5);B0=new Ir(vn,ui,Ns+1,cs,ae),C0=new Ir(ss,dl,0,we,ae),Q0=new Ir(new Array(0),x8,0,qi,q8)},n1=(l)=>{let d;for(d=0;d<cs;d++)l.dyn_ltree[d*2]=0;for(d=0;d<we;d++)l.dyn_dtree[d*2]=0;for(d=0;d<qi;d++)l.bl_tree[d*2]=0;l.dyn_ltree[xi*2]=1,l.opt_len=l.static_len=0,l.sym_next=l.matches=0},e1=(l)=>{if(l.bi_valid>8)ms(l,l.bi_buf);else if(l.bi_valid>0)l.pending_buf[l.pending++]=l.bi_buf;l.bi_buf=0,l.bi_valid=0},Xu=(l,d,i,R)=>{const f=d*2,q=i*2;return l[f]<l[q]||l[f]===l[q]&&R[d]<=R[i]},Hr=(l,d,i)=>{const R=l.heap[i];let f=i<<1;while(f<=l.heap_len){if(f<l.heap_len&&Xu(d,l.heap[f+1],l.heap[f],l.depth))f++;if(Xu(d,R,l.heap[f],l.depth))break;l.heap[i]=l.heap[f],i=f,f<<=1}l.heap[i]=R},gu=(l,d,i)=>{let R,f,q=0,u,h;if(l.sym_next!==0)do if(R=l.pending_buf[l.sym_buf+q++]&255,R+=(l.pending_buf[l.sym_buf+q++]&255)<<8,f=l.pending_buf[l.sym_buf+q++],R===0)pn(l,f,d);else{if(u=ps[f],pn(l,u+Ns+1,d),h=ui[u],h!==0)f-=$i[u],ja(l,f,h);if(R--,u=A0(R),pn(l,u,i),h=dl[u],h!==0)R-=fl[u],ja(l,R,h)}while(q<l.sym_next);pn(l,xi,d)},pi=(l,d)=>{const i=d.dyn_tree,R=d.stat_desc.static_tree,f=d.stat_desc.has_stree,q=d.stat_desc.elems;let u,h,L=-1,y;l.heap_len=0,l.heap_max=I0;for(u=0;u<q;u++)if(i[u*2]!==0)l.heap[++l.heap_len]=L=u,l.depth[u]=0;else i[u*2+1]=0;while(l.heap_len<2)if(y=l.heap[++l.heap_len]=L<2?++L:0,i[y*2]=1,l.depth[y]=0,l.opt_len--,f)l.static_len-=R[y*2+1];d.max_code=L;for(u=l.heap_len>>1;u>=1;u--)Hr(l,i,u);y=q;do u=l.heap[1],l.heap[1]=l.heap[l.heap_len--],Hr(l,i,1),h=l.heap[1],l.heap[--l.heap_max]=u,l.heap[--l.heap_max]=h,i[y*2]=i[u*2]+i[h*2],l.depth[y]=(l.depth[u]>=l.depth[h]?l.depth[u]:l.depth[h])+1,i[u*2+1]=i[h*2+1]=y,l.heap[1]=y++,Hr(l,i,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],M8(l,d),a1(i,L,l.bl_count)},Uu=(l,d,i)=>{let R,f=-1,q,u=d[1],h=0,L=7,y=4;if(u===0)L=138,y=3;d[(i+1)*2+1]=65535;for(R=0;R<=i;R++){if(q=u,u=d[(R+1)*2+1],++h<L&&q===u)continue;else if(h<y)l.bl_tree[q*2]+=h;else if(q!==0){if(q!==f)l.bl_tree[q*2]++;l.bl_tree[G0*2]++}else if(h<=10)l.bl_tree[D0*2]++;else l.bl_tree[H0*2]++;if(h=0,f=q,u===0)L=138,y=3;else if(q===u)L=6,y=3;else L=7,y=4}},Eu=(l,d,i)=>{let R,f=-1,q,u=d[1],h=0,L=7,y=4;if(u===0)L=138,y=3;for(R=0;R<=i;R++){if(q=u,u=d[(R+1)*2+1],++h<L&&q===u)continue;else if(h<y)do pn(l,q,l.bl_tree);while(--h!==0);else if(q!==0){if(q!==f)pn(l,q,l.bl_tree),h--;pn(l,G0,l.bl_tree),ja(l,h-3,2)}else if(h<=10)pn(l,D0,l.bl_tree),ja(l,h-3,3);else pn(l,H0,l.bl_tree),ja(l,h-11,7);if(h=0,f=q,u===0)L=138,y=3;else if(q===u)L=6,y=3;else L=7,y=4}},L8=(l)=>{let d;Uu(l,l.dyn_ltree,l.l_desc.max_code),Uu(l,l.dyn_dtree,l.d_desc.max_code),pi(l,l.bl_desc);for(d=qi-1;d>=3;d--)if(l.bl_tree[Y0[d]*2+1]!==0)break;return l.opt_len+=3*(d+1)+5+5+4,d},W8=(l,d,i,R)=>{let f;ja(l,d-257,5),ja(l,i-1,5),ja(l,R-4,4);for(f=0;f<R;f++)ja(l,l.bl_tree[Y0[f]*2+1],3);Eu(l,l.dyn_ltree,d-1),Eu(l,l.dyn_dtree,i-1)},w8=(l)=>{let d=4093624447,i;for(i=0;i<=31;i++,d>>>=1)if(d&1&&l.dyn_ltree[i*2]!==0)return 0;if(l.dyn_ltree[18]!==0||l.dyn_ltree[20]!==0||l.dyn_ltree[26]!==0)return 1;for(i=32;i<Ns;i++)if(l.dyn_ltree[i*2]!==0)return 1;return 0},ju=!1,F8=(l)=>{if(!ju)V8(),ju=!0;l.l_desc=new Gr(l.dyn_ltree,B0),l.d_desc=new Gr(l.dyn_dtree,C0),l.bl_desc=new Gr(l.bl_tree,Q0),l.bi_buf=0,l.bi_valid=0,n1(l)},s1=(l,d,i,R)=>{if(ja(l,(R8<<1)+(R?1:0),3),e1(l),ms(l,i),ms(l,~i),i)l.pending_buf.set(l.window.subarray(d,d+i),l.pending);l.pending+=i},O8=(l)=>{ja(l,P0<<1,3),pn(l,xi,vn),T8(l)},z8=(l,d,i,R)=>{let f,q,u=0;if(l.level>0){if(l.strm.data_type===2)l.strm.data_type=w8(l);if(pi(l,l.l_desc),pi(l,l.d_desc),u=L8(l),f=l.opt_len+3+7>>>3,q=l.static_len+3+7>>>3,q<=f)f=q}else f=q=i+5;if(i+4<=f&&d!==-1)s1(l,d,i,R);else if(l.strategy===4||q===f)ja(l,(P0<<1)+(R?1:0),3),gu(l,vn,ss);else ja(l,(Z8<<1)+(R?1:0),3),W8(l,l.l_desc.max_code+1,l.d_desc.max_code+1,u+1),gu(l,l.dyn_ltree,l.dyn_dtree);if(n1(l),R)e1(l)},S8=(l,d,i)=>{if(l.pending_buf[l.sym_buf+l.sym_next++]=d,l.pending_buf[l.sym_buf+l.sym_next++]=d>>8,l.pending_buf[l.sym_buf+l.sym_next++]=i,d===0)l.dyn_ltree[i*2]++;else l.matches++,d--,l.dyn_ltree[(ps[i]+Ns+1)*2]++,l.dyn_dtree[A0(d)*2]++;return l.sym_next===l.sym_end},X8=F8,g8=s1,U8=z8,E8=S8,j8=O8,J8={_tr_init:X8,_tr_stored_block:g8,_tr_flush_block:U8,_tr_tally:E8,_tr_align:j8},K8=(l,d,i,R)=>{let f=l&65535|0,q=l>>>16&65535|0,u=0;while(i!==0){u=i>2000?2000:i,i-=u;do f=f+d[R++]|0,q=q+f|0;while(--u);f%=65521,q%=65521}return f|q<<16|0},ts=K8,P8=()=>{let l,d=[];for(var i=0;i<256;i++){l=i;for(var R=0;R<8;R++)l=l&1?3988292384^l>>>1:l>>>1;d[i]=l}return d},I8=new Uint32Array(P8()),G8=(l,d,i,R)=>{const f=I8,q=R+i;l^=-1;for(let u=R;u<q;u++)l=l>>>8^f[(l^d[u])&255];return l^-1},wa=G8,ds={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vl={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:D8,_tr_stored_block:mi,_tr_flush_block:H8,_tr_tally:zn,_tr_align:Y8}=J8,{Z_NO_FLUSH:Sn,Z_PARTIAL_FLUSH:B8,Z_FULL_FLUSH:C8,Z_FINISH:Ba,Z_BLOCK:Ju,Z_OK:Oa,Z_STREAM_END:Ku,Z_STREAM_ERROR:mn,Z_DATA_ERROR:Q8,Z_BUF_ERROR:Yr,Z_DEFAULT_COMPRESSION:A8,Z_FILTERED:o4,Z_HUFFMAN_ONLY:il,Z_RLE:a4,Z_FIXED:n4,Z_DEFAULT_STRATEGY:e4,Z_UNKNOWN:s4,Z_DEFLATED:Rl}=vl,l4=9,r4=15,i4=8,c4=29,u4=256,ti=u4+1+c4,p4=30,m4=19,t4=2*ti+1,d4=15,Na=3,On=258,tn=On+Na+1,b4=32,Fe=42,Ti=57,di=69,bi=73,fi=91,_i=103,ne=113,ns=666,ga=1,Se=2,se=3,Xe=4,f4=3,ee=(l,d)=>{return l.msg=ds[d],d},Pu=(l)=>{return l*2-(l>4?9:0)},Fn=(l)=>{let d=l.length;while(--d>=0)l[d]=0},_4=(l)=>{let d,i,R,f=l.w_size;d=l.hash_size,R=d;do i=l.head[--R],l.head[R]=i>=f?i-f:0;while(--d);d=f,R=d;do i=l.prev[--R],l.prev[R]=i>=f?i-f:0;while(--d)},h4=(l,d,i)=>(d<<l.hash_shift^i)&l.hash_mask,Xn=h4,Ga=(l)=>{const d=l.state;let i=d.pending;if(i>l.avail_out)i=l.avail_out;if(i===0)return;if(l.output.set(d.pending_buf.subarray(d.pending_out,d.pending_out+i),l.next_out),l.next_out+=i,d.pending_out+=i,l.total_out+=i,l.avail_out-=i,d.pending-=i,d.pending===0)d.pending_out=0},Da=(l,d)=>{H8(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,d),l.block_start=l.strstart,Ga(l.strm)},va=(l,d)=>{l.pending_buf[l.pending++]=d},Ae=(l,d)=>{l.pending_buf[l.pending++]=d>>>8&255,l.pending_buf[l.pending++]=d&255},hi=(l,d,i,R)=>{let f=l.avail_in;if(f>R)f=R;if(f===0)return 0;if(l.avail_in-=f,d.set(l.input.subarray(l.next_in,l.next_in+f),i),l.state.wrap===1)l.adler=ts(l.adler,d,f,i);else if(l.state.wrap===2)l.adler=wa(l.adler,d,f,i);return l.next_in+=f,l.total_in+=f,f},l1=(l,d)=>{let{max_chain_length:i,strstart:R}=l,f,q,u=l.prev_length,h=l.nice_match;const L=l.strstart>l.w_size-tn?l.strstart-(l.w_size-tn):0,y=l.window,k=l.w_mask,Z=l.prev,T=l.strstart+On;let V=y[R+u-1],$=y[R+u];if(l.prev_length>=l.good_match)i>>=2;if(h>l.lookahead)h=l.lookahead;do{if(f=d,y[f+u]!==$||y[f+u-1]!==V||y[f]!==y[R]||y[++f]!==y[R+1])continue;R+=2,f++;do;while(y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&y[++R]===y[++f]&&R<T);if(q=On-(T-R),R=T-On,q>u){if(l.match_start=d,u=q,q>=h)break;V=y[R+u-1],$=y[R+u]}}while((d=Z[d&k])>L&&--i!==0);if(u<=l.lookahead)return u;return l.lookahead},Oe=(l)=>{const d=l.w_size;let i,R,f;do{if(R=l.window_size-l.lookahead-l.strstart,l.strstart>=d+(d-tn)){if(l.window.set(l.window.subarray(d,d+d-R),0),l.match_start-=d,l.strstart-=d,l.block_start-=d,l.insert>l.strstart)l.insert=l.strstart;_4(l),R+=d}if(l.strm.avail_in===0)break;if(i=hi(l.strm,l.window,l.strstart+l.lookahead,R),l.lookahead+=i,l.lookahead+l.insert>=Na){f=l.strstart-l.insert,l.ins_h=l.window[f],l.ins_h=Xn(l,l.ins_h,l.window[f+1]);while(l.insert)if(l.ins_h=Xn(l,l.ins_h,l.window[f+Na-1]),l.prev[f&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=f,f++,l.insert--,l.lookahead+l.insert<Na)break}}while(l.lookahead<tn&&l.strm.avail_in!==0)},r1=(l,d)=>{let i=l.pending_buf_size-5>l.w_size?l.w_size:l.pending_buf_size-5,R,f,q,u=0,h=l.strm.avail_in;do{if(R=65535,q=l.bi_valid+42>>3,l.strm.avail_out<q)break;if(q=l.strm.avail_out-q,f=l.strstart-l.block_start,R>f+l.strm.avail_in)R=f+l.strm.avail_in;if(R>q)R=q;if(R<i&&(R===0&&d!==Ba||d===Sn||R!==f+l.strm.avail_in))break;if(u=d===Ba&&R===f+l.strm.avail_in?1:0,mi(l,0,0,u),l.pending_buf[l.pending-4]=R,l.pending_buf[l.pending-3]=R>>8,l.pending_buf[l.pending-2]=~R,l.pending_buf[l.pending-1]=~R>>8,Ga(l.strm),f){if(f>R)f=R;l.strm.output.set(l.window.subarray(l.block_start,l.block_start+f),l.strm.next_out),l.strm.next_out+=f,l.strm.avail_out-=f,l.strm.total_out+=f,l.block_start+=f,R-=f}if(R)hi(l.strm,l.strm.output,l.strm.next_out,R),l.strm.next_out+=R,l.strm.avail_out-=R,l.strm.total_out+=R}while(u===0);if(h-=l.strm.avail_in,h){if(h>=l.w_size)l.matches=2,l.window.set(l.strm.input.subarray(l.strm.next_in-l.w_size,l.strm.next_in),0),l.strstart=l.w_size,l.insert=l.strstart;else{if(l.window_size-l.strstart<=h){if(l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(l.insert>l.strstart)l.insert=l.strstart}l.window.set(l.strm.input.subarray(l.strm.next_in-h,l.strm.next_in),l.strstart),l.strstart+=h,l.insert+=h>l.w_size-l.insert?l.w_size-l.insert:h}l.block_start=l.strstart}if(l.high_water<l.strstart)l.high_water=l.strstart;if(u)return Xe;if(d!==Sn&&d!==Ba&&l.strm.avail_in===0&&l.strstart===l.block_start)return Se;if(q=l.window_size-l.strstart,l.strm.avail_in>q&&l.block_start>=l.w_size){if(l.block_start-=l.w_size,l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2)l.matches++;if(q+=l.w_size,l.insert>l.strstart)l.insert=l.strstart}if(q>l.strm.avail_in)q=l.strm.avail_in;if(q)hi(l.strm,l.window,l.strstart,q),l.strstart+=q,l.insert+=q>l.w_size-l.insert?l.w_size-l.insert:q;if(l.high_water<l.strstart)l.high_water=l.strstart;if(q=l.bi_valid+42>>3,q=l.pending_buf_size-q>65535?65535:l.pending_buf_size-q,i=q>l.w_size?l.w_size:q,f=l.strstart-l.block_start,f>=i||(f||d===Ba)&&d!==Sn&&l.strm.avail_in===0&&f<=q)R=f>q?q:f,u=d===Ba&&l.strm.avail_in===0&&R===f?1:0,mi(l,l.block_start,R,u),l.block_start+=R,Ga(l.strm);return u?se:ga},Br=(l,d)=>{let i,R;for(;;){if(l.lookahead<tn){if(Oe(l),l.lookahead<tn&&d===Sn)return ga;if(l.lookahead===0)break}if(i=0,l.lookahead>=Na)l.ins_h=Xn(l,l.ins_h,l.window[l.strstart+Na-1]),i=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(i!==0&&l.strstart-i<=l.w_size-tn)l.match_length=l1(l,i);if(l.match_length>=Na)if(R=zn(l,l.strstart-l.match_start,l.match_length-Na),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=Na){l.match_length--;do l.strstart++,l.ins_h=Xn(l,l.ins_h,l.window[l.strstart+Na-1]),i=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=Xn(l,l.ins_h,l.window[l.strstart+1]);else R=zn(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(R){if(Da(l,!1),l.strm.avail_out===0)return ga}}if(l.insert=l.strstart<Na-1?l.strstart:Na-1,d===Ba){if(Da(l,!0),l.strm.avail_out===0)return se;return Xe}if(l.sym_next){if(Da(l,!1),l.strm.avail_out===0)return ga}return Se},ve=(l,d)=>{let i,R,f;for(;;){if(l.lookahead<tn){if(Oe(l),l.lookahead<tn&&d===Sn)return ga;if(l.lookahead===0)break}if(i=0,l.lookahead>=Na)l.ins_h=Xn(l,l.ins_h,l.window[l.strstart+Na-1]),i=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;if(l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=Na-1,i!==0&&l.prev_length<l.max_lazy_match&&l.strstart-i<=l.w_size-tn){if(l.match_length=l1(l,i),l.match_length<=5&&(l.strategy===o4||l.match_length===Na&&l.strstart-l.match_start>4096))l.match_length=Na-1}if(l.prev_length>=Na&&l.match_length<=l.prev_length){f=l.strstart+l.lookahead-Na,R=zn(l,l.strstart-1-l.prev_match,l.prev_length-Na),l.lookahead-=l.prev_length-1,l.prev_length-=2;do if(++l.strstart<=f)l.ins_h=Xn(l,l.ins_h,l.window[l.strstart+Na-1]),i=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.prev_length!==0);if(l.match_available=0,l.match_length=Na-1,l.strstart++,R){if(Da(l,!1),l.strm.avail_out===0)return ga}}else if(l.match_available){if(R=zn(l,0,l.window[l.strstart-1]),R)Da(l,!1);if(l.strstart++,l.lookahead--,l.strm.avail_out===0)return ga}else l.match_available=1,l.strstart++,l.lookahead--}if(l.match_available)R=zn(l,0,l.window[l.strstart-1]),l.match_available=0;if(l.insert=l.strstart<Na-1?l.strstart:Na-1,d===Ba){if(Da(l,!0),l.strm.avail_out===0)return se;return Xe}if(l.sym_next){if(Da(l,!1),l.strm.avail_out===0)return ga}return Se},N4=(l,d)=>{let i,R,f,q;const u=l.window;for(;;){if(l.lookahead<=On){if(Oe(l),l.lookahead<=On&&d===Sn)return ga;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=Na&&l.strstart>0){if(f=l.strstart-1,R=u[f],R===u[++f]&&R===u[++f]&&R===u[++f]){q=l.strstart+On;do;while(R===u[++f]&&R===u[++f]&&R===u[++f]&&R===u[++f]&&R===u[++f]&&R===u[++f]&&R===u[++f]&&R===u[++f]&&f<q);if(l.match_length=On-(q-f),l.match_length>l.lookahead)l.match_length=l.lookahead}}if(l.match_length>=Na)i=zn(l,1,l.match_length-Na),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0;else i=zn(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(i){if(Da(l,!1),l.strm.avail_out===0)return ga}}if(l.insert=0,d===Ba){if(Da(l,!0),l.strm.avail_out===0)return se;return Xe}if(l.sym_next){if(Da(l,!1),l.strm.avail_out===0)return ga}return Se},v4=(l,d)=>{let i;for(;;){if(l.lookahead===0){if(Oe(l),l.lookahead===0){if(d===Sn)return ga;break}}if(l.match_length=0,i=zn(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,i){if(Da(l,!1),l.strm.avail_out===0)return ga}}if(l.insert=0,d===Ba){if(Da(l,!0),l.strm.avail_out===0)return se;return Xe}if(l.sym_next){if(Da(l,!1),l.strm.avail_out===0)return ga}return Se},es=[new un(0,0,0,0,r1),new un(4,4,8,4,Br),new un(4,5,16,8,Br),new un(4,6,32,32,Br),new un(4,4,16,16,ve),new un(8,16,32,32,ve),new un(8,16,128,128,ve),new un(8,32,128,256,ve),new un(32,128,258,1024,ve),new un(32,258,258,4096,ve)],R4=(l)=>{l.window_size=2*l.w_size,Fn(l.head),l.max_lazy_match=es[l.level].max_lazy,l.good_match=es[l.level].good_length,l.nice_match=es[l.level].nice_length,l.max_chain_length=es[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=Na-1,l.match_available=0,l.ins_h=0},vs=(l)=>{if(!l)return 1;const d=l.state;if(!d||d.strm!==l||d.status!==Fe&&d.status!==Ti&&d.status!==di&&d.status!==bi&&d.status!==fi&&d.status!==_i&&d.status!==ne&&d.status!==ns)return 1;return 0},i1=(l)=>{if(vs(l))return ee(l,mn);l.total_in=l.total_out=0,l.data_type=s4;const d=l.state;if(d.pending=0,d.pending_out=0,d.wrap<0)d.wrap=-d.wrap;return d.status=d.wrap===2?Ti:d.wrap?Fe:ne,l.adler=d.wrap===2?0:1,d.last_flush=-2,D8(d),Oa},c1=(l)=>{const d=i1(l);if(d===Oa)R4(l.state);return d},Z4=(l,d)=>{if(vs(l)||l.state.wrap!==2)return mn;return l.state.gzhead=d,Oa},u1=(l,d,i,R,f,q)=>{if(!l)return mn;let u=1;if(d===A8)d=6;if(R<0)u=0,R=-R;else if(R>15)u=2,R-=16;if(f<1||f>l4||i!==Rl||R<8||R>15||d<0||d>9||q<0||q>n4||R===8&&u!==1)return ee(l,mn);if(R===8)R=9;const h=new _8;return l.state=h,h.strm=l,h.status=Fe,h.wrap=u,h.gzhead=null,h.w_bits=R,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=f+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+Na-1)/Na),h.window=new Uint8Array(h.w_size*2),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<f+6,h.pending_buf_size=h.lit_bufsize*4,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=(h.lit_bufsize-1)*3,h.level=d,h.strategy=q,h.method=i,c1(l)},y4=(l,d)=>{return u1(l,d,Rl,r4,i4,e4)},k4=(l,d)=>{if(vs(l)||d>Ju||d<0)return l?ee(l,mn):mn;const i=l.state;if(!l.output||l.avail_in!==0&&!l.input||i.status===ns&&d!==Ba)return ee(l,l.avail_out===0?Yr:mn);const R=i.last_flush;if(i.last_flush=d,i.pending!==0){if(Ga(l),l.avail_out===0)return i.last_flush=-1,Oa}else if(l.avail_in===0&&Pu(d)<=Pu(R)&&d!==Ba)return ee(l,Yr);if(i.status===ns&&l.avail_in!==0)return ee(l,Yr);if(i.status===Fe&&i.wrap===0)i.status=ne;if(i.status===Fe){let f=Rl+(i.w_bits-8<<4)<<8,q=-1;if(i.strategy>=il||i.level<2)q=0;else if(i.level<6)q=1;else if(i.level===6)q=2;else q=3;if(f|=q<<6,i.strstart!==0)f|=b4;if(f+=31-f%31,Ae(i,f),i.strstart!==0)Ae(i,l.adler>>>16),Ae(i,l.adler&65535);if(l.adler=1,i.status=ne,Ga(l),i.pending!==0)return i.last_flush=-1,Oa}if(i.status===Ti)if(l.adler=0,va(i,31),va(i,139),va(i,8),!i.gzhead){if(va(i,0),va(i,0),va(i,0),va(i,0),va(i,0),va(i,i.level===9?2:i.strategy>=il||i.level<2?4:0),va(i,f4),i.status=ne,Ga(l),i.pending!==0)return i.last_flush=-1,Oa}else{if(va(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(!i.gzhead.extra?0:4)+(!i.gzhead.name?0:8)+(!i.gzhead.comment?0:16)),va(i,i.gzhead.time&255),va(i,i.gzhead.time>>8&255),va(i,i.gzhead.time>>16&255),va(i,i.gzhead.time>>24&255),va(i,i.level===9?2:i.strategy>=il||i.level<2?4:0),va(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length)va(i,i.gzhead.extra.length&255),va(i,i.gzhead.extra.length>>8&255);if(i.gzhead.hcrc)l.adler=wa(l.adler,i.pending_buf,i.pending,0);i.gzindex=0,i.status=di}if(i.status===di){if(i.gzhead.extra){let f=i.pending,q=(i.gzhead.extra.length&65535)-i.gzindex;while(i.pending+q>i.pending_buf_size){let h=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+h),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f);if(i.gzindex+=h,Ga(l),i.pending!==0)return i.last_flush=-1,Oa;f=0,q-=h}let u=new Uint8Array(i.gzhead.extra);if(i.pending_buf.set(u.subarray(i.gzindex,i.gzindex+q),i.pending),i.pending+=q,i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f);i.gzindex=0}i.status=bi}if(i.status===bi){if(i.gzhead.name){let f=i.pending,q;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f);if(Ga(l),i.pending!==0)return i.last_flush=-1,Oa;f=0}if(i.gzindex<i.gzhead.name.length)q=i.gzhead.name.charCodeAt(i.gzindex++)&255;else q=0;va(i,q)}while(q!==0);if(i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f);i.gzindex=0}i.status=fi}if(i.status===fi){if(i.gzhead.comment){let f=i.pending,q;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f);if(Ga(l),i.pending!==0)return i.last_flush=-1,Oa;f=0}if(i.gzindex<i.gzhead.comment.length)q=i.gzhead.comment.charCodeAt(i.gzindex++)&255;else q=0;va(i,q)}while(q!==0);if(i.gzhead.hcrc&&i.pending>f)l.adler=wa(l.adler,i.pending_buf,i.pending-f,f)}i.status=_i}if(i.status===_i){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size){if(Ga(l),i.pending!==0)return i.last_flush=-1,Oa}va(i,l.adler&255),va(i,l.adler>>8&255),l.adler=0}if(i.status=ne,Ga(l),i.pending!==0)return i.last_flush=-1,Oa}if(l.avail_in!==0||i.lookahead!==0||d!==Sn&&i.status!==ns){let f=i.level===0?r1(i,d):i.strategy===il?v4(i,d):i.strategy===a4?N4(i,d):es[i.level].func(i,d);if(f===se||f===Xe)i.status=ns;if(f===ga||f===se){if(l.avail_out===0)i.last_flush=-1;return Oa}if(f===Se){if(d===B8)Y8(i);else if(d!==Ju){if(mi(i,0,0,!1),d===C8){if(Fn(i.head),i.lookahead===0)i.strstart=0,i.block_start=0,i.insert=0}}if(Ga(l),l.avail_out===0)return i.last_flush=-1,Oa}}if(d!==Ba)return Oa;if(i.wrap<=0)return Ku;if(i.wrap===2)va(i,l.adler&255),va(i,l.adler>>8&255),va(i,l.adler>>16&255),va(i,l.adler>>24&255),va(i,l.total_in&255),va(i,l.total_in>>8&255),va(i,l.total_in>>16&255),va(i,l.total_in>>24&255);else Ae(i,l.adler>>>16),Ae(i,l.adler&65535);if(Ga(l),i.wrap>0)i.wrap=-i.wrap;return i.pending!==0?Oa:Ku},q4=(l)=>{if(vs(l))return mn;const d=l.state.status;return l.state=null,d===ne?ee(l,Q8):Oa},x4=(l,d)=>{let i=d.length;if(vs(l))return mn;const R=l.state,f=R.wrap;if(f===2||f===1&&R.status!==Fe||R.lookahead)return mn;if(f===1)l.adler=ts(l.adler,d,i,0);if(R.wrap=0,i>=R.w_size){if(f===0)Fn(R.head),R.strstart=0,R.block_start=0,R.insert=0;let L=new Uint8Array(R.w_size);L.set(d.subarray(i-R.w_size,i),0),d=L,i=R.w_size}const{avail_in:q,next_in:u,input:h}=l;l.avail_in=i,l.next_in=0,l.input=d,Oe(R);while(R.lookahead>=Na){let L=R.strstart,y=R.lookahead-(Na-1);do R.ins_h=Xn(R,R.ins_h,R.window[L+Na-1]),R.prev[L&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=L,L++;while(--y);R.strstart=L,R.lookahead=Na-1,Oe(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=Na-1,R.match_available=0,l.next_in=u,l.input=h,l.avail_in=q,R.wrap=f,Oa},$4=y4,T4=u1,M4=c1,V4=i1,L4=Z4,W4=k4,w4=q4,F4=x4,O4="pako deflate (from Nodeca project)",ls={deflateInit:$4,deflateInit2:T4,deflateReset:M4,deflateResetKeep:V4,deflateSetHeader:L4,deflate:W4,deflateEnd:w4,deflateSetDictionary:F4,deflateInfo:O4},z4=(l,d)=>{return Object.prototype.hasOwnProperty.call(l,d)},S4=function(l){const d=Array.prototype.slice.call(arguments,1);while(d.length){const i=d.shift();if(!i)continue;if(typeof i!=="object")throw new TypeError(i+"must be non-object");for(let R in i)if(z4(i,R))l[R]=i[R]}return l},X4=(l)=>{let d=0;for(let R=0,f=l.length;R<f;R++)d+=l[R].length;const i=new Uint8Array(d);for(let R=0,f=0,q=l.length;R<q;R++){let u=l[R];i.set(u,f),f+=u.length}return i},Zl={assign:S4,flattenChunks:X4},p1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){p1=!1}var bs=new Uint8Array(256);for(let l=0;l<256;l++)bs[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;bs[254]=bs[254]=1;var g4=(l)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);let d,i,R,f,q,u=l.length,h=0;for(f=0;f<u;f++){if(i=l.charCodeAt(f),(i&64512)===55296&&f+1<u){if(R=l.charCodeAt(f+1),(R&64512)===56320)i=65536+(i-55296<<10)+(R-56320),f++}h+=i<128?1:i<2048?2:i<65536?3:4}d=new Uint8Array(h);for(q=0,f=0;q<h;f++){if(i=l.charCodeAt(f),(i&64512)===55296&&f+1<u){if(R=l.charCodeAt(f+1),(R&64512)===56320)i=65536+(i-55296<<10)+(R-56320),f++}if(i<128)d[q++]=i;else if(i<2048)d[q++]=192|i>>>6,d[q++]=128|i&63;else if(i<65536)d[q++]=224|i>>>12,d[q++]=128|i>>>6&63,d[q++]=128|i&63;else d[q++]=240|i>>>18,d[q++]=128|i>>>12&63,d[q++]=128|i>>>6&63,d[q++]=128|i&63}return d},U4=(l,d)=>{if(d<65534){if(l.subarray&&p1)return String.fromCharCode.apply(null,l.length===d?l:l.subarray(0,d))}let i="";for(let R=0;R<d;R++)i+=String.fromCharCode(l[R]);return i},E4=(l,d)=>{const i=d||l.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,d));let R,f;const q=new Array(i*2);for(f=0,R=0;R<i;){let u=l[R++];if(u<128){q[f++]=u;continue}let h=bs[u];if(h>4){q[f++]=65533,R+=h-1;continue}u&=h===2?31:h===3?15:7;while(h>1&&R<i)u=u<<6|l[R++]&63,h--;if(h>1){q[f++]=65533;continue}if(u<65536)q[f++]=u;else u-=65536,q[f++]=55296|u>>10&1023,q[f++]=56320|u&1023}return U4(q,f)},j4=(l,d)=>{if(d=d||l.length,d>l.length)d=l.length;let i=d-1;while(i>=0&&(l[i]&192)===128)i--;if(i<0)return d;if(i===0)return d;return i+bs[l[i]]>d?i:d},fs={string2buf:g4,buf2string:E4,utf8border:j4},m1=h8,t1=Object.prototype.toString,{Z_NO_FLUSH:J4,Z_SYNC_FLUSH:K4,Z_FULL_FLUSH:P4,Z_FINISH:I4,Z_OK:_l,Z_STREAM_END:G4,Z_DEFAULT_COMPRESSION:D4,Z_DEFAULT_STRATEGY:H4,Z_DEFLATED:Y4}=vl;Zi.prototype.push=function(l,d){const i=this.strm,R=this.options.chunkSize;let f,q;if(this.ended)return!1;if(d===~~d)q=d;else q=d===!0?I4:J4;if(typeof l==="string")i.input=fs.string2buf(l);else if(t1.call(l)==="[object ArrayBuffer]")i.input=new Uint8Array(l);else i.input=l;i.next_in=0,i.avail_in=i.input.length;for(;;){if(i.avail_out===0)i.output=new Uint8Array(R),i.next_out=0,i.avail_out=R;if((q===K4||q===P4)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(f=ls.deflate(i,q),f===G4){if(i.next_out>0)this.onData(i.output.subarray(0,i.next_out));return f=ls.deflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===_l}if(i.avail_out===0){this.onData(i.output);continue}if(q>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};Zi.prototype.onData=function(l){this.chunks.push(l)};Zi.prototype.onEnd=function(l){if(l===_l)this.result=Zl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var cl=16209,B4=16191,C4=function l(d,i){let R,f,q,u,h,L,y,k,Z,T,V,$,x,O,g,E,z,P,Y,B,uo,to,To,co;const Wo=d.state;R=d.next_in,To=d.input,f=R+(d.avail_in-5),q=d.next_out,co=d.output,u=q-(i-d.avail_out),h=q+(d.avail_out-257),L=Wo.dmax,y=Wo.wsize,k=Wo.whave,Z=Wo.wnext,T=Wo.window,V=Wo.hold,$=Wo.bits,x=Wo.lencode,O=Wo.distcode,g=(1<<Wo.lenbits)-1,E=(1<<Wo.distbits)-1;o:do{if($<15)V+=To[R++]<<$,$+=8,V+=To[R++]<<$,$+=8;z=x[V&g];a:for(;;){if(P=z>>>24,V>>>=P,$-=P,P=z>>>16&255,P===0)co[q++]=z&65535;else if(P&16){if(Y=z&65535,P&=15,P){if($<P)V+=To[R++]<<$,$+=8;Y+=V&(1<<P)-1,V>>>=P,$-=P}if($<15)V+=To[R++]<<$,$+=8,V+=To[R++]<<$,$+=8;z=O[V&E];n:for(;;){if(P=z>>>24,V>>>=P,$-=P,P=z>>>16&255,P&16){if(B=z&65535,P&=15,$<P){if(V+=To[R++]<<$,$+=8,$<P)V+=To[R++]<<$,$+=8}if(B+=V&(1<<P)-1,B>L){d.msg="invalid distance too far back",Wo.mode=cl;break o}if(V>>>=P,$-=P,P=q-u,B>P){if(P=B-P,P>k){if(Wo.sane){d.msg="invalid distance too far back",Wo.mode=cl;break o}}if(uo=0,to=T,Z===0){if(uo+=y-P,P<Y){Y-=P;do co[q++]=T[uo++];while(--P);uo=q-B,to=co}}else if(Z<P){if(uo+=y+Z-P,P-=Z,P<Y){Y-=P;do co[q++]=T[uo++];while(--P);if(uo=0,Z<Y){P=Z,Y-=P;do co[q++]=T[uo++];while(--P);uo=q-B,to=co}}}else if(uo+=Z-P,P<Y){Y-=P;do co[q++]=T[uo++];while(--P);uo=q-B,to=co}while(Y>2)co[q++]=to[uo++],co[q++]=to[uo++],co[q++]=to[uo++],Y-=3;if(Y){if(co[q++]=to[uo++],Y>1)co[q++]=to[uo++]}}else{uo=q-B;do co[q++]=co[uo++],co[q++]=co[uo++],co[q++]=co[uo++],Y-=3;while(Y>2);if(Y){if(co[q++]=co[uo++],Y>1)co[q++]=co[uo++]}}}else if((P&64)===0){z=O[(z&65535)+(V&(1<<P)-1)];continue n}else{d.msg="invalid distance code",Wo.mode=cl;break o}break}}else if((P&64)===0){z=x[(z&65535)+(V&(1<<P)-1)];continue a}else if(P&32){Wo.mode=B4;break o}else{d.msg="invalid literal/length code",Wo.mode=cl;break o}break}}while(R<f&&q<h);Y=$>>3,R-=Y,$-=Y<<3,V&=(1<<$)-1,d.next_in=R,d.next_out=q,d.avail_in=R<f?5+(f-R):5-(R-f),d.avail_out=q<h?257+(h-q):257-(q-h),Wo.hold=V,Wo.bits=$;return},Re=15,Iu=852,Gu=592,Du=0,Cr=1,Hu=2,Q4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),A4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),n9=(l,d,i,R,f,q,u,h)=>{const L=h.bits;let y=0,k=0,Z=0,T=0,V=0,$=0,x=0,O=0,g=0,E=0,z,P,Y,B,uo,to=null,To;const co=new Uint16Array(Re+1),Wo=new Uint16Array(Re+1);let o=null,e,c,s;for(y=0;y<=Re;y++)co[y]=0;for(k=0;k<R;k++)co[d[i+k]]++;V=L;for(T=Re;T>=1;T--)if(co[T]!==0)break;if(V>T)V=T;if(T===0)return f[q++]=20971520,f[q++]=20971520,h.bits=1,0;for(Z=1;Z<T;Z++)if(co[Z]!==0)break;if(V<Z)V=Z;O=1;for(y=1;y<=Re;y++)if(O<<=1,O-=co[y],O<0)return-1;if(O>0&&(l===Du||T!==1))return-1;Wo[1]=0;for(y=1;y<Re;y++)Wo[y+1]=Wo[y]+co[y];for(k=0;k<R;k++)if(d[i+k]!==0)u[Wo[d[i+k]]++]=k;if(l===Du)to=o=u,To=20;else if(l===Cr)to=Q4,o=A4,To=257;else to=o9,o=a9,To=0;if(E=0,k=0,y=Z,uo=q,$=V,x=0,Y=-1,g=1<<V,B=g-1,l===Cr&&g>Iu||l===Hu&&g>Gu)return 1;for(;;){if(e=y-x,u[k]+1<To)c=0,s=u[k];else if(u[k]>=To)c=o[u[k]-To],s=to[u[k]-To];else c=96,s=0;z=1<<y-x,P=1<<$,Z=P;do P-=z,f[uo+(E>>x)+P]=e<<24|c<<16|s|0;while(P!==0);z=1<<y-1;while(E&z)z>>=1;if(z!==0)E&=z-1,E+=z;else E=0;if(k++,--co[y]===0){if(y===T)break;y=d[i+u[k]]}if(y>V&&(E&B)!==Y){if(x===0)x=V;uo+=Z,$=y-x,O=1<<$;while($+x<T){if(O-=co[$+x],O<=0)break;$++,O<<=1}if(g+=1<<$,l===Cr&&g>Iu||l===Hu&&g>Gu)return 1;Y=E&B,f[Y]=V<<24|$<<16|uo-q|0}}if(E!==0)f[uo+E]=y-x<<24|4194304|0;return h.bits=V,0},rs=n9,e9=0,d1=1,b1=2,{Z_FINISH:Yu,Z_BLOCK:s9,Z_TREES:ul,Z_OK:le,Z_STREAM_END:l9,Z_NEED_DICT:r9,Z_STREAM_ERROR:Ca,Z_DATA_ERROR:f1,Z_MEM_ERROR:_1,Z_BUF_ERROR:i9,Z_DEFLATED:Bu}=vl,yl=16180,Cu=16181,Qu=16182,Au=16183,o0=16184,a0=16185,n0=16186,e0=16187,s0=16188,l0=16189,hl=16190,Nn=16191,Qr=16192,r0=16193,Ar=16194,i0=16195,c0=16196,u0=16197,p0=16198,pl=16199,ml=16200,m0=16201,t0=16202,d0=16203,b0=16204,f0=16205,oi=16206,_0=16207,h0=16208,ka=16209,h1=16210,N1=16211,c9=852,u9=592,p9=15,m9=p9,N0=(l)=>{return(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24)},re=(l)=>{if(!l)return 1;const d=l.state;if(!d||d.strm!==l||d.mode<yl||d.mode>N1)return 1;return 0},v1=(l)=>{if(re(l))return Ca;const d=l.state;if(l.total_in=l.total_out=d.total=0,l.msg="",d.wrap)l.adler=d.wrap&1;return d.mode=yl,d.last=0,d.havedict=0,d.flags=-1,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new Int32Array(c9),d.distcode=d.distdyn=new Int32Array(u9),d.sane=1,d.back=-1,le},R1=(l)=>{if(re(l))return Ca;const d=l.state;return d.wsize=0,d.whave=0,d.wnext=0,v1(l)},Z1=(l,d)=>{let i;if(re(l))return Ca;const R=l.state;if(d<0)i=0,d=-d;else if(i=(d>>4)+5,d<48)d&=15;if(d&&(d<8||d>15))return Ca;if(R.window!==null&&R.wbits!==d)R.window=null;return R.wrap=i,R.wbits=d,R1(l)},y1=(l,d)=>{if(!l)return Ca;const i=new N8;l.state=i,i.strm=l,i.window=null,i.mode=yl;const R=Z1(l,d);if(R!==le)l.state=null;return R},t9=(l)=>{return y1(l,m9)},v0=!0,ai,ni,d9=(l)=>{if(v0){ai=new Int32Array(512),ni=new Int32Array(32);let d=0;while(d<144)l.lens[d++]=8;while(d<256)l.lens[d++]=9;while(d<280)l.lens[d++]=7;while(d<288)l.lens[d++]=8;rs(d1,l.lens,0,288,ai,0,l.work,{bits:9}),d=0;while(d<32)l.lens[d++]=5;rs(b1,l.lens,0,32,ni,0,l.work,{bits:5}),v0=!1}l.lencode=ai,l.lenbits=9,l.distcode=ni,l.distbits=5},k1=(l,d,i,R)=>{let f;const q=l.state;if(q.window===null)q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new Uint8Array(q.wsize);if(R>=q.wsize)q.window.set(d.subarray(i-q.wsize,i),0),q.wnext=0,q.whave=q.wsize;else{if(f=q.wsize-q.wnext,f>R)f=R;if(q.window.set(d.subarray(i-R,i-R+f),q.wnext),R-=f,R)q.window.set(d.subarray(i-R,i),0),q.wnext=R,q.whave=q.wsize;else{if(q.wnext+=f,q.wnext===q.wsize)q.wnext=0;if(q.whave<q.wsize)q.whave+=f}}return 0},b9=(l,d)=>{let i,R,f,q,u,h,L,y,k,Z,T,V,$,x,O=0,g,E,z,P,Y,B,uo,to;const To=new Uint8Array(4);let co,Wo;const o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(re(l)||!l.output||!l.input&&l.avail_in!==0)return Ca;if(i=l.state,i.mode===Nn)i.mode=Qr;u=l.next_out,f=l.output,L=l.avail_out,q=l.next_in,R=l.input,h=l.avail_in,y=i.hold,k=i.bits,Z=h,T=L,to=le;o:for(;;)switch(i.mode){case yl:if(i.wrap===0){i.mode=Qr;break}while(k<16){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.wrap&2&&y===35615){if(i.wbits===0)i.wbits=15;i.check=0,To[0]=y&255,To[1]=y>>>8&255,i.check=wa(i.check,To,2,0),y=0,k=0,i.mode=Cu;break}if(i.head)i.head.done=!1;if(!(i.wrap&1)||(((y&255)<<8)+(y>>8))%31){l.msg="incorrect header check",i.mode=ka;break}if((y&15)!==Bu){l.msg="unknown compression method",i.mode=ka;break}if(y>>>=4,k-=4,uo=(y&15)+8,i.wbits===0)i.wbits=uo;if(uo>15||uo>i.wbits){l.msg="invalid window size",i.mode=ka;break}i.dmax=1<<i.wbits,i.flags=0,l.adler=i.check=1,i.mode=y&512?l0:Nn,y=0,k=0;break;case Cu:while(k<16){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.flags=y,(i.flags&255)!==Bu){l.msg="unknown compression method",i.mode=ka;break}if(i.flags&57344){l.msg="unknown header flags set",i.mode=ka;break}if(i.head)i.head.text=y>>8&1;if(i.flags&512&&i.wrap&4)To[0]=y&255,To[1]=y>>>8&255,i.check=wa(i.check,To,2,0);y=0,k=0,i.mode=Qu;case Qu:while(k<32){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.head)i.head.time=y;if(i.flags&512&&i.wrap&4)To[0]=y&255,To[1]=y>>>8&255,To[2]=y>>>16&255,To[3]=y>>>24&255,i.check=wa(i.check,To,4,0);y=0,k=0,i.mode=Au;case Au:while(k<16){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.head)i.head.xflags=y&255,i.head.os=y>>8;if(i.flags&512&&i.wrap&4)To[0]=y&255,To[1]=y>>>8&255,i.check=wa(i.check,To,2,0);y=0,k=0,i.mode=o0;case o0:if(i.flags&1024){while(k<16){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.length=y,i.head)i.head.extra_len=y;if(i.flags&512&&i.wrap&4)To[0]=y&255,To[1]=y>>>8&255,i.check=wa(i.check,To,2,0);y=0,k=0}else if(i.head)i.head.extra=null;i.mode=a0;case a0:if(i.flags&1024){if(V=i.length,V>h)V=h;if(V){if(i.head){if(uo=i.head.extra_len-i.length,!i.head.extra)i.head.extra=new Uint8Array(i.head.extra_len);i.head.extra.set(R.subarray(q,q+V),uo)}if(i.flags&512&&i.wrap&4)i.check=wa(i.check,R,V,q);h-=V,q+=V,i.length-=V}if(i.length)break o}i.length=0,i.mode=n0;case n0:if(i.flags&2048){if(h===0)break o;V=0;do if(uo=R[q+V++],i.head&&uo&&i.length<65536)i.head.name+=String.fromCharCode(uo);while(uo&&V<h);if(i.flags&512&&i.wrap&4)i.check=wa(i.check,R,V,q);if(h-=V,q+=V,uo)break o}else if(i.head)i.head.name=null;i.length=0,i.mode=e0;case e0:if(i.flags&4096){if(h===0)break o;V=0;do if(uo=R[q+V++],i.head&&uo&&i.length<65536)i.head.comment+=String.fromCharCode(uo);while(uo&&V<h);if(i.flags&512&&i.wrap&4)i.check=wa(i.check,R,V,q);if(h-=V,q+=V,uo)break o}else if(i.head)i.head.comment=null;i.mode=s0;case s0:if(i.flags&512){while(k<16){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.wrap&4&&y!==(i.check&65535)){l.msg="header crc mismatch",i.mode=ka;break}y=0,k=0}if(i.head)i.head.hcrc=i.flags>>9&1,i.head.done=!0;l.adler=i.check=0,i.mode=Nn;break;case l0:while(k<32){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}l.adler=i.check=N0(y),y=0,k=0,i.mode=hl;case hl:if(i.havedict===0)return l.next_out=u,l.avail_out=L,l.next_in=q,l.avail_in=h,i.hold=y,i.bits=k,r9;l.adler=i.check=1,i.mode=Nn;case Nn:if(d===s9||d===ul)break o;case Qr:if(i.last){y>>>=k&7,k-=k&7,i.mode=oi;break}while(k<3){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}switch(i.last=y&1,y>>>=1,k-=1,y&3){case 0:i.mode=r0;break;case 1:if(d9(i),i.mode=pl,d===ul){y>>>=2,k-=2;break o}break;case 2:i.mode=c0;break;case 3:l.msg="invalid block type",i.mode=ka}y>>>=2,k-=2;break;case r0:y>>>=k&7,k-=k&7;while(k<32){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if((y&65535)!==(y>>>16^65535)){l.msg="invalid stored block lengths",i.mode=ka;break}if(i.length=y&65535,y=0,k=0,i.mode=Ar,d===ul)break o;case Ar:i.mode=i0;case i0:if(V=i.length,V){if(V>h)V=h;if(V>L)V=L;if(V===0)break o;f.set(R.subarray(q,q+V),u),h-=V,q+=V,L-=V,u+=V,i.length-=V;break}i.mode=Nn;break;case c0:while(k<14){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.nlen=(y&31)+257,y>>>=5,k-=5,i.ndist=(y&31)+1,y>>>=5,k-=5,i.ncode=(y&15)+4,y>>>=4,k-=4,i.nlen>286||i.ndist>30){l.msg="too many length or distance symbols",i.mode=ka;break}i.have=0,i.mode=u0;case u0:while(i.have<i.ncode){while(k<3){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}i.lens[o[i.have++]]=y&7,y>>>=3,k-=3}while(i.have<19)i.lens[o[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,co={bits:i.lenbits},to=rs(e9,i.lens,0,19,i.lencode,0,i.work,co),i.lenbits=co.bits,to){l.msg="invalid code lengths set",i.mode=ka;break}i.have=0,i.mode=p0;case p0:while(i.have<i.nlen+i.ndist){for(;;){if(O=i.lencode[y&(1<<i.lenbits)-1],g=O>>>24,E=O>>>16&255,z=O&65535,g<=k)break;if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(z<16)y>>>=g,k-=g,i.lens[i.have++]=z;else{if(z===16){Wo=g+2;while(k<Wo){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(y>>>=g,k-=g,i.have===0){l.msg="invalid bit length repeat",i.mode=ka;break}uo=i.lens[i.have-1],V=3+(y&3),y>>>=2,k-=2}else if(z===17){Wo=g+3;while(k<Wo){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}y>>>=g,k-=g,uo=0,V=3+(y&7),y>>>=3,k-=3}else{Wo=g+7;while(k<Wo){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}y>>>=g,k-=g,uo=0,V=11+(y&127),y>>>=7,k-=7}if(i.have+V>i.nlen+i.ndist){l.msg="invalid bit length repeat",i.mode=ka;break}while(V--)i.lens[i.have++]=uo}}if(i.mode===ka)break;if(i.lens[256]===0){l.msg="invalid code -- missing end-of-block",i.mode=ka;break}if(i.lenbits=9,co={bits:i.lenbits},to=rs(d1,i.lens,0,i.nlen,i.lencode,0,i.work,co),i.lenbits=co.bits,to){l.msg="invalid literal/lengths set",i.mode=ka;break}if(i.distbits=6,i.distcode=i.distdyn,co={bits:i.distbits},to=rs(b1,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,co),i.distbits=co.bits,to){l.msg="invalid distances set",i.mode=ka;break}if(i.mode=pl,d===ul)break o;case pl:i.mode=ml;case ml:if(h>=6&&L>=258){if(l.next_out=u,l.avail_out=L,l.next_in=q,l.avail_in=h,i.hold=y,i.bits=k,C4(l,T),u=l.next_out,f=l.output,L=l.avail_out,q=l.next_in,R=l.input,h=l.avail_in,y=i.hold,k=i.bits,i.mode===Nn)i.back=-1;break}i.back=0;for(;;){if(O=i.lencode[y&(1<<i.lenbits)-1],g=O>>>24,E=O>>>16&255,z=O&65535,g<=k)break;if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(E&&(E&240)===0){P=g,Y=E,B=z;for(;;){if(O=i.lencode[B+((y&(1<<P+Y)-1)>>P)],g=O>>>24,E=O>>>16&255,z=O&65535,P+g<=k)break;if(h===0)break o;h--,y+=R[q++]<<k,k+=8}y>>>=P,k-=P,i.back+=P}if(y>>>=g,k-=g,i.back+=g,i.length=z,E===0){i.mode=f0;break}if(E&32){i.back=-1,i.mode=Nn;break}if(E&64){l.msg="invalid literal/length code",i.mode=ka;break}i.extra=E&15,i.mode=m0;case m0:if(i.extra){Wo=i.extra;while(k<Wo){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,k-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=t0;case t0:for(;;){if(O=i.distcode[y&(1<<i.distbits)-1],g=O>>>24,E=O>>>16&255,z=O&65535,g<=k)break;if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if((E&240)===0){P=g,Y=E,B=z;for(;;){if(O=i.distcode[B+((y&(1<<P+Y)-1)>>P)],g=O>>>24,E=O>>>16&255,z=O&65535,P+g<=k)break;if(h===0)break o;h--,y+=R[q++]<<k,k+=8}y>>>=P,k-=P,i.back+=P}if(y>>>=g,k-=g,i.back+=g,E&64){l.msg="invalid distance code",i.mode=ka;break}i.offset=z,i.extra=E&15,i.mode=d0;case d0:if(i.extra){Wo=i.extra;while(k<Wo){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,k-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){l.msg="invalid distance too far back",i.mode=ka;break}i.mode=b0;case b0:if(L===0)break o;if(V=T-L,i.offset>V){if(V=i.offset-V,V>i.whave){if(i.sane){l.msg="invalid distance too far back",i.mode=ka;break}}if(V>i.wnext)V-=i.wnext,$=i.wsize-V;else $=i.wnext-V;if(V>i.length)V=i.length;x=i.window}else x=f,$=u-i.offset,V=i.length;if(V>L)V=L;L-=V,i.length-=V;do f[u++]=x[$++];while(--V);if(i.length===0)i.mode=ml;break;case f0:if(L===0)break o;f[u++]=i.length,L--,i.mode=ml;break;case oi:if(i.wrap){while(k<32){if(h===0)break o;h--,y|=R[q++]<<k,k+=8}if(T-=L,l.total_out+=T,i.total+=T,i.wrap&4&&T)l.adler=i.check=i.flags?wa(i.check,f,T,u-T):ts(i.check,f,T,u-T);if(T=L,i.wrap&4&&(i.flags?y:N0(y))!==i.check){l.msg="incorrect data check",i.mode=ka;break}y=0,k=0}i.mode=_0;case _0:if(i.wrap&&i.flags){while(k<32){if(h===0)break o;h--,y+=R[q++]<<k,k+=8}if(i.wrap&4&&y!==(i.total&4294967295)){l.msg="incorrect length check",i.mode=ka;break}y=0,k=0}i.mode=h0;case h0:to=l9;break o;case ka:to=f1;break o;case h1:return _1;case N1:default:return Ca}if(l.next_out=u,l.avail_out=L,l.next_in=q,l.avail_in=h,i.hold=y,i.bits=k,i.wsize||T!==l.avail_out&&i.mode<ka&&(i.mode<oi||d!==Yu)){if(k1(l,l.output,l.next_out,T-l.avail_out));}if(Z-=l.avail_in,T-=l.avail_out,l.total_in+=Z,l.total_out+=T,i.total+=T,i.wrap&4&&T)l.adler=i.check=i.flags?wa(i.check,f,T,l.next_out-T):ts(i.check,f,T,l.next_out-T);if(l.data_type=i.bits+(i.last?64:0)+(i.mode===Nn?128:0)+(i.mode===pl||i.mode===Ar?256:0),(Z===0&&T===0||d===Yu)&&to===le)to=i9;return to},f9=(l)=>{if(re(l))return Ca;let d=l.state;if(d.window)d.window=null;return l.state=null,le},_9=(l,d)=>{if(re(l))return Ca;const i=l.state;if((i.wrap&2)===0)return Ca;return i.head=d,d.done=!1,le},h9=(l,d)=>{const i=d.length;let R,f,q;if(re(l))return Ca;if(R=l.state,R.wrap!==0&&R.mode!==hl)return Ca;if(R.mode===hl){if(f=1,f=ts(f,d,i,0),f!==R.check)return f1}if(q=k1(l,d,i,i),q)return R.mode=h1,_1;return R.havedict=1,le},N9=R1,v9=Z1,R9=v1,Z9=t9,y9=y1,k9=b9,q9=f9,x9=_9,$9=h9,T9="pako inflate (from Nodeca project)",Rn={inflateReset:N9,inflateReset2:v9,inflateResetKeep:R9,inflateInit:Z9,inflateInit2:y9,inflate:k9,inflateEnd:q9,inflateGetHeader:x9,inflateSetDictionary:$9,inflateInfo:T9},M9=v8,q1=Object.prototype.toString,{Z_NO_FLUSH:V9,Z_FINISH:L9,Z_OK:_s,Z_STREAM_END:ei,Z_NEED_DICT:si,Z_STREAM_ERROR:W9,Z_DATA_ERROR:R0,Z_MEM_ERROR:w9}=vl;yi.prototype.push=function(l,d){const i=this.strm,R=this.options.chunkSize,f=this.options.dictionary;let q,u,h;if(this.ended)return!1;if(d===~~d)u=d;else u=d===!0?L9:V9;if(q1.call(l)==="[object ArrayBuffer]")i.input=new Uint8Array(l);else i.input=l;i.next_in=0,i.avail_in=i.input.length;for(;;){if(i.avail_out===0)i.output=new Uint8Array(R),i.next_out=0,i.avail_out=R;if(q=Rn.inflate(i,u),q===si&&f){if(q=Rn.inflateSetDictionary(i,f),q===_s)q=Rn.inflate(i,u);else if(q===R0)q=si}while(i.avail_in>0&&q===ei&&i.state.wrap>0&&l[i.next_in]!==0)Rn.inflateReset(i),q=Rn.inflate(i,u);switch(q){case W9:case R0:case si:case w9:return this.onEnd(q),this.ended=!0,!1}if(h=i.avail_out,i.next_out){if(i.avail_out===0||q===ei)if(this.options.to==="string"){let L=fs.utf8border(i.output,i.next_out),y=i.next_out-L,k=fs.buf2string(i.output,L);if(i.next_out=y,i.avail_out=R-y,y)i.output.set(i.output.subarray(L,L+y),0);this.onData(k)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out))}if(q===_s&&h===0)continue;if(q===ei)return q=Rn.inflateEnd(this.strm),this.onEnd(q),this.ended=!0,!0;if(i.avail_in===0)break}return!0};yi.prototype.onData=function(l){this.chunks.push(l)};yi.prototype.onEnd=function(l){if(l===_s)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=Zl.flattenChunks(this.chunks);this.chunks=[],this.err=l,this.msg=this.strm.msg};var Zm=Ni(I6(),1);import{jsx as yn,jsxs as s5,Fragment as l5}from"preact/jsx-runtime";function r5({itemClassName:l,deviceName:d,deviceFilters:i,downloadScreen:R,onDownload:f,children:q}){const{maybeLocaleText:u}=C9(),{createAlert:h,removeAlert:L,createPrompt:y}=Q9(),{key:k,name:Z,fileList:T,assetList:V,device:$,setDevice:x}=A9(),O=(z)=>{if(!kn)kn=`download.${Date.now()}`;if(z<100)h({id:kn,icon:yn(o5,{level:"success"}),message:yn(ge,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:z})});else h({id:kn,icon:null,message:yn(ge,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(g,1000)},g=()=>{L(kn),kn=null},E=()=>{h({message:yn(ge,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};if(kn&&!$)E(),g();return s5(l5,{children:[yn(a5,{children:yn(n5,{disabled:kn,className:l,label:yn(ge,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(kn)return;try{const z=$||await U0(i||e5,x);if(R)await E0(z,R);let P=f?f(Z,T,V):[].concat(V);if(P=P.map((Y)=>({...Y,id:Y.id[0]!=="_"?`proj${k}/${Y.id}`:Y.id})),O(0),await J0(z,P))await K0(z,P,O),await j0(z,{"latest-project":k});else y({title:d||yn(ge,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:yn(ge,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),g();z.hardReset()}catch(z){console.log(z),E(),g()}}})}),q]})}import{jsx as Ue}from"preact/jsx-runtime";function j1({deviceName:l,deviceFilters:d,createProject:i,openProject:R,saveProject:f,downloadProjectToDevice:q,showDownloadScreen:u}){return[{icon:i5,label:Ue(Mi,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:h,children:L})=>Ue(I9,{itemClassName:h,onNew:i,onOpen:R,onSave:f,children:L})},{icon:c5,label:Ue(Mi,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:h,children:L})=>Ue(B9,{itemClassName:h,children:L})},{icon:u5,label:Ue(Mi,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:h,children:L})=>Ue(r5,{deviceName:l,itemClassName:h,deviceFilters:d,downloadScreen:u,onDownload:q,children:L})}]}import{ScratchBlocks as Ja}from"@blockcode/blocks-editor";import{ScratchBlocks as qa}from"@blockcode/blocks-editor";import{ScratchBlocks as J1}from"@blockcode/blocks-editor";import{ScratchBlocks as ks}from"@blockcode/blocks-editor";import{useEffect as t5,useState as Zs}from"preact/hooks";import{useLocale as d5,useLayout as b5,useEditor as W1}from"@blockcode/core";import{classNames as f5}from"@blockcode/ui";import{BlocksEditor as _5,ScratchBlocks as za,makeToolboxXML as h5}from"@blockcode/blocks-editor";import{ScratchBlocks as wi,blockSeparator as N5}from"@blockcode/blocks-editor";function y5(l,d,i,R,f){const{id:q}=d,u=R(d.name);let h=`<category name="${bn(u)}" id="${bn(q)}"`;if(h+=` colour="${bn(d.themeColor||Fi)}"`,h+=` secondaryColour="${bn(d.inputColor||Oi)}"`,d.connectionConfig)h+=' showStatusButton="true"';if(d.iconURI)h+=` iconURI="${bn(d.iconURI)}"`;return h+=">",d.menus=d.menus||{},d.blocks.forEach((L)=>{if(L==="---"){h+=`${N5}`;return}if(L.button){h+=`<button text="${R(L.text)}" callbackKey="${L.button}"></button>`;const $=wi.getMainWorkspace();if($){const x=$.getFlyout();if(x){const O=x.getWorkspace();if(O)O.registerButtonCallback(L.button,f(L.onClick))}}return}if(i&&L.useStage===!1)return;if(!i&&L.useSprite===!1)return;const y=`${q}_${L.id}`,k={message0:R(L.text),category:q,outputShape:Z5,colour:d.themeColor||Fi,colourSecondary:d.inputColor||Oi,colourTertiary:d.otherColor||w1};let Z=1;if(d.iconURI)k.message0=`%1 %2 ${k.message0}`,k.args0=[{type:"field_image",src:d.iconURI,width:40,height:40},{type:"field_vertical_separator"}],k.extensions=["scratch_extension"],Z+=2;if(L.hat)k.nextStatement=null;else if(L.output){if(L.output==="boolean")k.output="Boolean",k.outputShape=v5;else k.output="String",k.outputShape=R5;k.checkboxInFlyout=L.monitoring!==!1}else k.previousStatement=null,k.nextStatement=null;let T=`<block type="${bn(y)}">`;if(L.inputs)k.checkboxInFlyout=!1,k.args0=[].concat(k.args0||[],Object.entries(L.inputs).map(([$,x])=>{const O={name:$,type:"input_value"};if(x.menu){let g=x.menu,E=x.name||$,z=x.inputMode||!1,P=x.type||"string",Y=x.default||"";if(typeof x.menu==="string")E=x.menu,g=d.menus[E];if(!Array.isArray(g))z=g.inputMode||z,P=g.type||P,Y=g.default||Y,g=g.items;if(z){if(!d.menus[E])d.menus[E]={inputMode:z,type:P,items:g};if(T+=`<value name="${bn($)}">`,T+=`<shadow type="${q}_menu_${E}">`,Y)T+=`<field name="${E}">${bn(R(Y))}</field>`;T+="</shadow></value>"}else if(g)O.type="field_dropdown",O.options=g.map((B)=>{if(Array.isArray(B)){const[uo,to]=B;return[R(uo),to]}return B=`${B}`,[B,B]})}else if(x.type==="boolean")O.check="Boolean";else{if(T+=`<value name="${bn($)}">`,F1[x.type]){if(T+=`<shadow type="${F1[x.type]}">`,x.default&&O1[x.type])T+=`<field name="${O1[x.type]}">${bn(R(x.default))}</field>`;T+="</shadow>"}T+="</value>"}return k.message0=k.message0.replace(`[${$}]`,`%${Z++}`),O}));wi.Blocks[y]={init(){this.jsonInit(k)}};const V=l.name_.toLowerCase();if(L[V])l[y]=L[V].bind(l);else l[y]=()=>"";T+="</block>",h+=T}),Object.entries(d.menus).forEach(([L,y])=>{if(!y.inputMode)return;const k=`${q}_menu_${L}`,Z=y.type==="number"?"output_number":"output_string",T={message0:"%1",args0:[{type:"field_dropdown",name:L,options:y.items.map((V)=>{if(Array.isArray(V)){const[$,x]=V;return[R($),x]}return V=`${V}`,[V,V]})}],category:q,colour:d.themeColor||Fi,colourSecondary:d.inputColor||Oi,colourTertiary:d.otherColor||w1,extensions:[Z]};wi.Blocks[k]={init(){this.jsonInit(T)}},l[k]=(V)=>{const $=V.getFieldValue(L);return[$.length===0||isNaN($)?this.quote_($):+$,this.ORDER_ATOMIC]}}),h+="</category>",h}import{useRef as k5,useEffect as q5,useState as z1}from"preact/hooks";import{classNames as x5,Text as Ee,Button as S1,Modal as $5,BufferedInput as T5}from"@blockcode/ui";function Si(l){const d=globalThis.document,i=d.createElement("style");i.appendChild(d.createTextNode(l)),d.head.append(i)}import{jsx as Ua,jsxs as ys}from"preact/jsx-runtime";function M5({title:l,label:d,defaultValue:i,enableLocalVariable:R,showListMessage:f,showVariableOptions:q,showCloudOption:u,onClose:h,onSubmit:L}){const y=k5(null),[k,Z]=z1(i),[T,V]=z1({scope:"global",isCloud:!1}),$=()=>{L(k,T)},x=(O)=>{if(O.key==="Escape")h();if(O.key==="Enter")L(y.current.base.value,T)};return q5(()=>{if(y.current)y.current.base.focus(),window.addEventListener("keydown",x);return()=>{window.removeEventListener("keydown",x)}},[y]),Ua($5,{title:l,className:fn.promptModal,onClose:h,children:ys("div",{className:fn.promptContent,children:[Ua("div",{className:fn.label,children:d}),Ua(T5,{autoFocus:!0,forceFocus:!0,ref:y,className:fn.variableNameTextInput,defaultValue:k,onSubmit:Z}),q&&Ua("div",{children:R?ys("div",{className:fn.options,children:[ys("label",{children:[Ua("input",{checked:T.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>V({...T,scope:"global"})}),Ua(Ee,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),ys("label",{children:[Ua("input",{checked:T.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>V({...T,scope:"local"})}),Ua(Ee,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):Ua("div",{className:fn.infoMessage,children:f?Ua(Ee,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):Ua(Ee,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),ys("div",{className:fn.buttonRow,children:[Ua(S1,{className:fn.button,onClick:h,children:Ua(Ee,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),Ua(S1,{className:x5(fn.button,fn.okButton),onClick:$,children:Ua(Ee,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})})}import{useRef as V5,useEffect as L5,useState as W5}from"preact/hooks";import{classNames as w5,Text as En,Button as X1,Modal as F5}from"@blockcode/ui";import{ScratchBlocks as ql}from"@blockcode/blocks-editor";import{jsx as Wa,jsxs as ce}from"preact/jsx-runtime";function g5({mutator:l,onClose:d,onSubmit:i}){const R=V5(null),[f,q]=W5("command"),u=()=>{},h=()=>{if(R.mutationRoot)R.mutationRoot.addLabelExternal()},L=()=>{if(R.mutationRoot)R.mutationRoot.addBooleanExternal()},y=()=>{if(R.mutationRoot)R.mutationRoot.addStringNumberExternal()},k=()=>{i(R.mutationRoot?.mutationToDom(!0))};return L5(()=>{if(R.current){const Z=ql.Blocks.defaultToolbox;ql.Blocks.defaultToolbox=null,R.workspace=ql.inject(R.current,Object.assign({},X5,{media:"./assets/blocks-media/"})),ql.Blocks.defaultToolbox=Z,R.mutationRoot=R.workspace.newBlock("procedures_declaration"),R.mutationRoot.setMovable(!1),R.mutationRoot.setDeletable(!1),R.mutationRoot.contextMenu=!1,R.workspace.addChangeListener(()=>{R.mutationRoot.onChangeFn();const T=R.workspace.getMetrics(),{x:V,y:$}=R.mutationRoot.getRelativeToSurfaceXY(),x=T.viewHeight/2-R.mutationRoot.height/2-$;let O=T.viewWidth/2-R.mutationRoot.width/2-V;if(R.mutationRoot.width>T.viewWidth)O=T.viewWidth-R.mutationRoot.width-V;R.mutationRoot.moveBy(O,x)}),R.mutationRoot.domToMutation(l),R.mutationRoot.initSvg(),R.mutationRoot.render(),setTimeout(()=>{R.mutationRoot.focusLastEditor_()})}return()=>{if(R.workspace)R.workspace.dispose()}},[R]),ce(F5,{title:Wa(En,{id:"blocks.myBlockPrompt.title",defaultMessage:"Make a Block"}),className:La.promptModal,onClose:d,children:[Wa("div",{ref:R,className:La.workspace}),ce("div",{className:La.body,children:[ce("div",{className:La.optionsRow,children:[ce("div",{role:"button",className:La.optionCard,onClick:y,children:[Wa("img",{className:La.optionIcon,src:z5}),Wa("div",{className:La.optionTitle,children:Wa(En,{id:"blocks.myBlockPrompt.addAnInputNumberText",defaultMessage:"Add an input"})}),Wa("div",{className:La.optionDescription,children:Wa(En,{id:"blocks.myBlockPrompt.numberTextType",defaultMessage:"number or text"})})]}),ce("div",{role:"button",className:La.optionCard,onClick:L,children:[Wa("img",{className:La.optionIcon,src:O5}),Wa("div",{className:La.optionTitle,children:Wa(En,{id:"blocks.myBlockPrompt.addAnInputBoolean",defaultMessage:"Add an input"})}),Wa("div",{className:La.optionDescription,children:Wa(En,{id:"blocks.myBlockPrompt.booleanType",defaultMessage:"boolean"})})]}),ce("div",{role:"button",className:La.optionCard,onClick:h,children:[Wa("img",{className:La.optionIcon,src:S5}),Wa("div",{className:La.optionTitle,children:Wa(En,{id:"blocks.myBlockPrompt.addALabel",defaultMessage:"Add a label"})})]})]}),ce("div",{className:La.buttonRow,children:[Wa(X1,{className:La.button,onClick:d,children:Wa(En,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),Wa(X1,{className:w5(La.button,La.okButton),onClick:k,children:Wa(En,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})]})}import{useEffect as U5,useState as g1}from"preact/hooks";import{useLocale as E5,useLayout as j5,useEditor as J5}from"@blockcode/core";import{Library as K5}from"@blockcode/ui";import{jsx as I5}from"preact/jsx-runtime";function D5({deviceId:l,onSelect:d,onClose:i,onFilter:R}){const[f,q]=g1([]),[u,h]=g1(!1),{language:L,getText:y}=E5(),{createAlert:k,removeAlert:Z}=j5(),{addAsset:T}=J5(),V=($)=>{const x=$.tags||[];let O=["blocks",["dupont","data"],["3v3","5v"]];if(R)O=R(x);if(Array.isArray(O))return O.every((g)=>{if(Array.isArray(g))return g.some((E)=>x.includes(E));return x.includes(g)});return O};return U5(()=>{G5.then(($)=>{q($.filter(V).map((x)=>Object.assign({...x,featured:!0,disabled:x.disabled||x.preview,onSelect:()=>{d(x.id),i()}},x.translations&&x.translations[L]?{name:x.translations[L].name||x.name,description:x.translations[L].description||x.description,collaborator:x.translations[L].collaborator||x.collaborator}:{}))),h(!1)})},[]),I5(K5,{filterable:!0,loading:u,items:f,filterPlaceholder:y("gui.library.search","Search"),title:y("blocks.extensions.addExtension","Add Extension"),emptyText:y("blocks.extensions.empty","No extension!"),onClose:i})}import{jsx as ue,jsxs as U1,Fragment as Y5}from"preact/jsx-runtime";function C5({toolbox:l,messages:d,generator:i,enableMultiTargets:R,enableLocalVariable:f,disableGenerator:q,disableExtension:u,deviceId:h,onChange:L,onExtensionsFilter:y,onLoadExtension:k}){const{addLocaleData:Z,getText:T,maybeLocaleText:V}=d5(),{splash:$,createPrompt:x,createAlert:O,removeAlert:g,setSplash:E}=b5(),{editor:z,fileList:P,selectedFileId:Y,openFile:B,modifyFile:uo,addAsset:to,setModified:To}=W1(),[co,Wo]=Zs(),[o,e]=Zs(!1),[c,s]=Zs(!1),[p,_]=Zs(!1),[N,t]=Zs(!1);d={EVENT_WHENPROGRAMSTART:T("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:T("blocks.control.stopOther","other scripts"),PROCEDURES_ADD_LABEL:T("blocks.myblock.addLabel"," label text"),PROCEDURES_ADD_BOOLEAN:T("blocks.myblock.addBoolean","boolean"),PROCEDURES_ADD_STRING_NUMBER:T("blocks.myblock.addNumbetText","number or text"),...d||[]},t5(()=>{za.prompt=(Lo,G,X,Q,$o)=>{const wo={callback:X,message:Lo,defaultValue:G};wo.title=Q?Q:za.Msg.VARIABLE_MODAL_TITLE,wo.varType=typeof $o==="string"?$o:za.SCALAR_VARIABLE_TYPE,wo.showVariableOptions=R&&$o!==za.BROADCAST_MESSAGE_VARIABLE_TYPE&&wo.title!==za.Msg.RENAME_VARIABLE_MODAL_TITLE&&wo.title!==za.Msg.RENAME_LIST_MODAL_TITLE,wo.showCloudOption=$o===za.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,e(wo)},za.FlyoutExtensionCategoryHeader.getExtensionState=(Lo)=>{if(Aa.has(Lo)){const G=Aa.get(Lo);if(G.connectionConfig?.items.every((X)=>localStorage.getItem(`${G.id}.connection.${X.id}`)))return za.StatusButtonState.READY}return za.StatusButtonState.NOT_READY},za.statusButtonCallback=(Lo)=>{if(!Aa.has(Lo))return;const G=Aa.get(Lo),{connectionConfig:X}=G;if(!X)return;x({title:G.name,label:X.title,inputMode:X.items.map((Q)=>({name:Q.id,placeholder:Q.text,defaultValue:localStorage.getItem(`${G.id}.connection.${Q.id}`)})),body:X.description,onSubmit:(Q)=>{if(Object.entries(Q).forEach(([$o,wo])=>{localStorage.setItem(`${G.id}.connection.${$o}`,`${wo}`)}),co)za.refreshStatusButtons(co)}})},za.Procedures.externalProcedureDefCallback=(Lo,G)=>{s({mutator:Lo,defCallback:G})}},[co]);let a;if(co)a=co.getAllVariables().filter((Lo)=>{if(Lo.isLocal)return!1;if(Lo.type===za.BROADCAST_MESSAGE_VARIABLE_TYPE){if(Lo.name===za.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;const G=Lo.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),X=new RegExp(`<field name="BROADCAST_OPTION" id="${G}"[^>]+>[^<]+</field>`,"g");for(let Q of P)if(X.test(Q.xml))return!0;return!1}return!0});let m=l||h5();const S=Y===P[0].id,w=(Lo)=>Lo.bind(null,{context:W1(),createPrompt:x,createAlert:O,removeAlert:g});Aa.forEach((Lo)=>{m+=y5(i,Lo,S,V,w)});const I=(Lo)=>{let G;if(!q)G=i.workspaceToCode(Lo);const X=Array.from(new Set(Object.values(Lo.blockDB_).filter((Q)=>Aa.has(Q.category_)).map((Q)=>Q.category_)));return{content:G,extensions:X}},fo=(Lo,G)=>{const{content:X,extensions:Q}=I(G);if(uo({xml:Lo,content:X,extensions:Q}),L)L(Lo,G)},Ro=(Lo,G)=>{o.callback(Lo,[],G),e(!1)},qo=(Lo)=>{if(Lo&&co&&c)c.defCallback(Lo),co.refreshToolboxSelection_(),co.toolbox_.scrollToCategoryById("myBlocks");s(!1)},po=()=>{e(!1),s(!1)},io=()=>_(!0),ho=()=>_(!1),Eo=async(Lo)=>{if(!Aa.has(Lo)){O("importing",{id:Lo});let{default:G}=await import(`@blockcode/extension-${Lo}/blocks`);if(typeof G==="function")G=G(h);if(G.id=Lo,G.files)for(let X of G.files){const Q=`extensions/${Lo.replace(/[^a-z\d]/gi,"_")}/${X.name}`,$o=await fetch(X.uri).then((wo)=>wo.text());to({...X,id:Q,content:$o})}if(Z(G.translations),k)k({...G,blocks:G.blocks.filter(K1)});Aa.set(G.id,G),g(Lo)}setTimeout(()=>{co.toolbox_.setSelectedCategoryById(Lo)},50)};if($){if($===!0&&N===!1)Aa.clear(),t(B5(h,z.extensions,Z,to,k).then(()=>{setTimeout(()=>t(!0),50)}));if(N===!0)if($===Y)E(!1),t(!1),setTimeout(()=>To(!1),50);else{const Lo=P.findIndex((G)=>G.id===Y);if(P[Lo].content){const G=P.at(Lo-1).id;setTimeout(()=>{if($===!0)E(Y);B(G)})}}}let xo=!0;if(z.extensions)xo=z.extensions.every((Lo)=>Aa.has(Lo));return U1(Y5,{children:[U1("div",{className:zi.editorWrapper,children:[ue(_5,{toolbox:m,messages:d,extensionsLoaded:xo,globalVariables:a,onWorkspaceCreated:Wo,onChange:fo}),u?null:ue("div",{className:f5("scratchCategoryMenu",zi.extensionButton),children:ue("button",{className:zi.addButton,title:T("blocks.extensions.addExtension","Add Extension"),onClick:io,children:ue("img",{src:H5,title:"Add Extension"})})}),o&&ue(M5,{title:o.title,label:o.message,defaultValue:o.defaultValue,enableLocalVariable:f,showListMessage:o.varType===za.LIST_VARIABLE_TYPE,showVariableOptions:o.showVariableOptions,showCloudOption:o.showCloudOption,onClose:po,onSubmit:Ro}),c&&ue(g5,{mutator:c.mutator,onClose:po,onSubmit:qo}),p&&ue(D5,{deviceId:h,onFilter:y,onSelect:Eo,onClose:ho})]}),!1]})}import{jsx as I1}from"preact/jsx-runtime";var F9=Object.create,{getPrototypeOf:O9,defineProperty:x1,getOwnPropertyNames:z9}=Object,S9=Object.prototype.hasOwnProperty,X9=(l,d,i)=>{i=l!=null?F9(O9(l)):{};const R=d||!l||!l.__esModule?x1(i,"default",{value:l,enumerable:!0}):i;for(let f of z9(l))if(!S9.call(R,f))x1(R,f,{get:()=>l[f],enumerable:!0});return R},g9=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports),U9=g9((l)=>{(function(){var d=typeof l!="undefined"&&l||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return d});d.default=d;var i="http://www.w3.org/2000/xmlns/",R="http://www.w3.org/1999/xhtml",f="http://www.w3.org/2000/svg",q='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',u=/url\(["']?(.+?)["']?\)/,h={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},L=function Wo(o){return o instanceof HTMLElement||o instanceof SVGElement},y=function Wo(o){if(!L(o))throw new Error("an HTMLElement or SVGElement is required; got "+o)},k=function Wo(o){return new Promise(function(e,c){if(L(o))e(o);else c(new Error("an HTMLElement or SVGElement is required; got "+o))})},Z=function Wo(o){return o&&o.lastIndexOf("http",0)===0&&o.lastIndexOf(window.location.host)===-1},T=function Wo(o){var e=Object.keys(h).filter(function(c){return o.indexOf("."+c)>0}).map(function(c){return h[c]});if(e)return e[0];return console.error("Unknown font format for "+o+". Fonts may not be working correctly."),"application/octet-stream"},V=function Wo(o){var e="",c=new Uint8Array(o);for(var s=0;s<c.byteLength;s++)e+=String.fromCharCode(c[s]);return window.btoa(e)},$=function Wo(o,e,c){var s=o.viewBox&&o.viewBox.baseVal&&o.viewBox.baseVal[c]||e.getAttribute(c)!==null&&!e.getAttribute(c).match(/%$/)&&parseInt(e.getAttribute(c))||o.getBoundingClientRect()[c]||parseInt(e.style[c])||parseInt(window.getComputedStyle(o).getPropertyValue(c));return typeof s==="undefined"||s===null||isNaN(parseFloat(s))?0:s},x=function Wo(o,e,c,s){if(o.tagName==="svg")return{width:c||$(o,e,"width"),height:s||$(o,e,"height")};else if(o.getBBox){var p=o.getBBox(),_=p.x,N=p.y,t=p.width,a=p.height;return{width:_+t,height:N+a}}},O=function Wo(o){return decodeURIComponent(encodeURIComponent(o).replace(/%([0-9A-F]{2})/g,function(e,c){var s=String.fromCharCode("0x"+c);return s==="%"?"%25":s}))},g=function Wo(o){var e=window.atob(o.split(",")[1]),c=o.split(",")[0].split(":")[1].split(";")[0],s=new ArrayBuffer(e.length),p=new Uint8Array(s);for(var _=0;_<e.length;_++)p[_]=e.charCodeAt(_);return new Blob([s],{type:c})},E=function Wo(o,e){if(!e)return;try{return o.querySelector(e)||o.parentNode&&o.parentNode.querySelector(e)}catch(c){console.warn('Invalid CSS selector "'+e+'"',c)}},z=function Wo(o,e){var c=o.cssText.match(u),s=c&&c[1]||"";if(!s||s.match(/^data:/)||s==="about:blank")return;var p=s.startsWith("../")?e+"/../"+s:s.startsWith("./")?e+"/."+s:s;return{text:o.cssText,format:T(p),url:p}},P=function Wo(o){return Promise.all(Array.from(o.querySelectorAll("image")).map(function(e){var c=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");if(!c)return Promise.resolve(null);if(Z(c))c+=(c.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf();return new Promise(function(s,p){var _=document.createElement("canvas"),N=new Image;N.crossOrigin="anonymous",N.src=c,N.onerror=function(){return p(new Error("Could not load "+c))},N.onload=function(){_.width=N.width,_.height=N.height,_.getContext("2d").drawImage(N,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",_.toDataURL("image/png")),s(!0)}})}))},Y={},B=function Wo(o){return Promise.all(o.map(function(e){return new Promise(function(c,s){if(Y[e.url])return c(Y[e.url]);var p=new XMLHttpRequest;p.addEventListener("load",function(){var _=V(p.response),N=e.text.replace(u,'url("data:'+e.format+";base64,"+_+'")')+"\n";Y[e.url]=N,c(N)}),p.addEventListener("error",function(_){console.warn("Failed to load font from: "+e.url,_),Y[e.url]=null,c(null)}),p.addEventListener("abort",function(_){console.warn("Aborted loading font from: "+e.url,_),c(null)}),p.open("GET",e.url),p.responseType="arraybuffer",p.send()})})).then(function(e){return e.filter(function(c){return c}).join("")})},uo=null,to=function Wo(){if(uo)return uo;return uo=Array.from(document.styleSheets).map(function(o){try{return{rules:o.cssRules,href:o.href}}catch(e){return console.warn("Stylesheet could not be loaded: "+o.href,e),{}}})},To=function Wo(o,e){var c=e||{},s=c.selectorRemap,p=c.modifyStyle,_=c.modifyCss,N=c.fonts,t=c.excludeUnusedCss,a=_||function(I,fo){var Ro=s?s(I):I,qo=p?p(fo):fo;return Ro+"{"+qo+"}\n"},m=[],S=typeof N==="undefined",w=N||[];return to().forEach(function(I){var{rules:fo,href:Ro}=I;if(!fo)return;Array.from(fo).forEach(function(qo){if(typeof qo.style!="undefined"){if(E(o,qo.selectorText))m.push(a(qo.selectorText,qo.style.cssText));else if(S&&qo.cssText.match(/^@font-face/)){var po=z(qo,Ro);if(po)w.push(po)}else if(!t)m.push(qo.cssText)}})}),B(w).then(function(I){return m.join("\n")+I})},co=function Wo(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};d.prepareSvg=function(Wo,o,e){y(Wo);var c=o||{},s=c.left,p=s===void 0?0:s,_=c.top,N=_===void 0?0:_,t=c.width,a=c.height,m=c.scale,S=m===void 0?1:m,w=c.responsive,I=w===void 0?!1:w,fo=c.excludeCss,Ro=fo===void 0?!1:fo;return P(Wo).then(function(){var qo=Wo.cloneNode(!0);qo.style.backgroundColor=(o||{}).backgroundColor||Wo.style.backgroundColor;var po=x(Wo,qo,t,a),io=po.width,ho=po.height;if(Wo.tagName!=="svg")if(Wo.getBBox){if(qo.getAttribute("transform")!=null)qo.setAttribute("transform",qo.getAttribute("transform").replace(/translate\(.*?\)/,""));var Eo=document.createElementNS("http://www.w3.org/2000/svg","svg");Eo.appendChild(qo),qo=Eo}else{console.error("Attempted to render non-SVG element",Wo);return}if(qo.setAttribute("version","1.1"),qo.setAttribute("viewBox",[p,N,io,ho].join(" ")),!qo.getAttribute("xmlns"))qo.setAttributeNS(i,"xmlns",f);if(!qo.getAttribute("xmlns:xlink"))qo.setAttributeNS(i,"xmlns:xlink","http://www.w3.org/1999/xlink");if(I)qo.removeAttribute("width"),qo.removeAttribute("height"),qo.setAttribute("preserveAspectRatio","xMinYMin meet");else qo.setAttribute("width",io*S),qo.setAttribute("height",ho*S);if(Array.from(qo.querySelectorAll("foreignObject > *")).forEach(function(G){G.setAttributeNS(i,"xmlns",G.tagName==="svg"?f:R)}),Ro){var xo=document.createElement("div");xo.appendChild(qo);var Lo=xo.innerHTML;if(typeof e==="function")e(Lo,io,ho);else return{src:Lo,width:io,height:ho}}else return To(Wo,o).then(function(G){var X=document.createElement("style");X.setAttribute("type","text/css"),X.innerHTML="<![CDATA[\n"+G+"\n]]>";var Q=document.createElement("defs");Q.appendChild(X),qo.insertBefore(Q,qo.firstChild);var $o=document.createElement("div");$o.appendChild(qo);var wo=$o.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof e==="function")e(wo,io,ho);else return{src:wo,width:io,height:ho}})})},d.svgAsDataUri=function(Wo,o,e){return y(Wo),d.prepareSvg(Wo,o).then(function(c){var{src:s,width:p,height:_}=c,N="data:image/svg+xml;base64,"+window.btoa(O(q+s));if(typeof e==="function")e(N,p,_);return N})},d.svgAsPngUri=function(Wo,o,e){y(Wo);var c=o||{},s=c.encoderType,p=s===void 0?"image/png":s,_=c.encoderOptions,N=_===void 0?0.8:_,t=c.canvg,a=function m(S){var{src:w,width:I,height:fo}=S,Ro=document.createElement("canvas"),qo=Ro.getContext("2d"),po=window.devicePixelRatio||1;if(Ro.width=I*po,Ro.height=fo*po,Ro.style.width=Ro.width+"px",Ro.style.height=Ro.height+"px",qo.setTransform(po,0,0,po,0,0),t)t(Ro,w);else qo.drawImage(w,0,0);var io=void 0;try{io=Ro.toDataURL(p,N)}catch(ho){if(typeof SecurityError!=="undefined"&&ho instanceof SecurityError||ho.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw ho}if(typeof e==="function")e(io,Ro.width,Ro.height);return Promise.resolve(io)};if(t)return d.prepareSvg(Wo,o).then(a);else return d.svgAsDataUri(Wo,o).then(function(m){return new Promise(function(S,w){var I=new Image;I.onload=function(){return S(a({src:I,width:I.width,height:I.height}))},I.onerror=function(){w("There was an error loading the data URI as an image on the following SVG\n"+window.atob(m.slice(26))+"Open the following link to see browser\'s diagnosis\n"+m)},I.src=m})})},d.download=function(Wo,o,e){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(g(o),Wo);else{var c=document.createElement("a");if("download"in c){c.download=Wo,c.style.display="none",document.body.appendChild(c);try{var s=g(o),p=URL.createObjectURL(s);c.href=p,c.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(p)})}}catch(_){console.error(_),console.warn("Error while getting object URL. Falling back to string URL."),c.href=o}c.click(),document.body.removeChild(c)}else if(e&&e.popup)e.popup.document.title=Wo,e.popup.location.replace(o)}},d.saveSvg=function(Wo,o,e){var c=co();return k(Wo).then(function(s){return d.svgAsDataUri(s,e||{})}).then(function(s){return d.download(o,s,c)})},d.saveSvgAsPng=function(Wo,o,e){var c=co();return k(Wo).then(function(s){return d.svgAsPngUri(s,e||{})}).then(function(s){return d.download(o,s,c)})}})()}),E9=X9(U9(),1),Li=/Mac/i.test(navigator.platform||navigator.userAgent),L1=/Mac/i.test(navigator.platform||navigator.userAgent),e5=[{usbVendorId:12346},{usbVendorId:11914}],kn=null,i5="./assets/icon-file-egaz1kfx.svg",c5="./assets/icon-edit-jejnm7yb.svg",u5="./assets/icon-device-3gcajtt2.svg",p5=`code_${Date.now().toString(36)}`,Gm=`
from blocks import *
import ${p5}
start()
`;class je extends Ja.Generator{ORDER_ATOMIC=0;ORDER_COLLECTION=1;ORDER_STRING_CONVERSION=1;ORDER_MEMBER=2.1;ORDER_FUNCTION_CALL=2.2;ORDER_EXPONENTIATION=3;ORDER_UNARY_SIGN=4;ORDER_BITWISE_NOT=4;ORDER_MULTIPLICATIVE=5;ORDER_ADDITIVE=6;ORDER_BITWISE_SHIFT=7;ORDER_BITWISE_AND=8;ORDER_BITWISE_XOR=9;ORDER_BITWISE_OR=10;ORDER_RELATIONAL=11;ORDER_LOGICAL_NOT=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_LAMBDA=16;ORDER_NONE=99;constructor(){super("Python");this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip,math,random,Number"),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]];for(let l in je.prototype)if(typeof je.prototype[l]==="function")je.prototype[l]=je.prototype[l].bind(this)}init(l){if(this.PASS=this.INDENT+"pass\n",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new Ja.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());const d=[],i=l.getAllVariables();for(let f=0;f<i.length;f++){if(i[f].type===Ja.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let q=this.variableDB_.getName(i[f].getId(),Ja.Variables.NAME_TYPE),u="0";if(i[f].type===Ja.LIST_VARIABLE_TYPE)q=`${q}_${Ja.LIST_VARIABLE_TYPE}`,u="[]";d.push(`${q} = ${u}`)}const R=Ja.Variables.allDeveloperVariables(l);for(let f=0;f<R.length;f++){let q=this.variableDB_.getName(R[f],Ja.Names.DEVELOPER_VARIABLE_TYPE),u="0";if(i[f].type===Ja.LIST_VARIABLE_TYPE)q=`${q}_${Ja.LIST_VARIABLE_TYPE}`,u="[]";d.push(`${q} = ${u}`)}if(d.length)this.definitions_.variables=d.join("\n")}finish(l){const d=[],i=[];for(let R in this.definitions_){const f=this.definitions_[R];if(f.match(/^(from\s+\S+\s+)?import\s+\S+/))d.push(f);else i.push(f)}return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),(d.join("\n")+"\n\n"+i.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+l}scrubNakedValue(l){return l+"\n"}quote_(l){let d='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)d="'";else l=l.replace(/"/g,'\\"');return d+l+d}scrub_(l,d){let i="";if(!l.outputConnection?.targetConnection){let R=l.getCommentText();if(R=Ja.utils.wrap(R,this.COMMENT_WRAP-3),R)if(l.getProcedureDef)i+='"""'+R+'\n"""\n';else i+=this.prefixLines(R+"\n","# ");for(let f=0;f<l.inputList.length;f++)if(l.inputList[f].type==Ja.INPUT_VALUE){const q=l.inputList[f].connection.targetBlock();if(q){const u=this.allNestedComments(q);if(u)i+=this.prefixLines(u,"# ")}}}if(l.startHat_){const R=l.nextConnection&&l.nextConnection.targetBlock();let f=this.blockToCode(R);if(f)f=this.prefixLines(f,this.INDENT),d=d.replace(`\n${this.PASS}`,`\n${f}`);return i+d}if(l.parentBlock_){const R=l.nextConnection&&l.nextConnection.targetBlock(),f=this.blockToCode(R);return i+d+f}}getAdjustedInt(l,d,i,R){let f=i||0;if(l.workspace.options.oneBasedIndex)f--;const q=l.workspace.options.oneBasedIndex?"1":"0",u=f?this.ORDER_ADDITIVE:this.ORDER_NONE;let h=this.valueToCode(l,d,u)||q;if(Ja.isNumber(h)){if(h=parseInt(h,10)+f,R)h=-h}else{if(f>0)h="int("+h+" + "+f+")";else if(f<0)h="int("+h+" - "+-f+")";else h="int("+h+")";if(R)h="-"+h}return h}functionToCode(l,d){return`async def ${l}(${d.join(",")}):\n  this_func = ${l}\n${this.PASS}\n`}eventToCode(l,...d){const i=this.variableDB_.getName(l,Ja.Variables.NAME_TYPE);if(!this.functionNames_[i])this.functionNames_[i]=0;this.functionNames_[i]+=1;const R=`${l}_${this.functionNames_[i]}`;return this.functionToCode(R,d)}}var na=je.prototype,m5=(l)=>{const d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;l=l.replace(d,(R,f,q,u)=>f+f+q+q+u+u);const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null};na.colour_picker=function(l){const{r:d,g:i,b:R}=m5(l.getFieldValue("COLOUR"));return[`(${d}, ${i}, ${R})`,this.ORDER_ATOMIC]};var qs="  await runtime.next_frame()\n";na.control_wait=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return d+=`await runtime.wait_for(num(${i}))\n`,d};na.control_repeat=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"TIMES",this.ORDER_NONE)||10;return d+=`for _ in range(num(${R})):\n${i}${qs}`,d};na.control_forever=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;return d+=`while True:\n${i}${qs}`,d};na.control_if=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";if(d+=`if ${R}:\n${i}`,l.getInput("SUBSTACK2")){if(i=this.statementToCode(l,"SUBSTACK2")||this.PASS,this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;d+=`else:\n${i}`}return d};na.control_if_else=na.control_if;na.control_wait_until=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return d+=`while not ${i}:\n${qs}`,d};na.control_repeat_until=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return d+=`while not ${R}:\n${i}${qs}`,d};na.control_while=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||this.PASS;if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"False";return d+=`while ${R}:\n${i}${qs}`,d};na.control_stop=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop()\n";break;case"this script":d+="return\n";break;case"other scripts in sprite":d+="runtime.stop_tasks(this_func)\n";break}return d};na.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),this.ORDER_ATOMIC]};na.data_setvariableto=function(l){let d="";if(na.STATEMENT_PREFIX)d+=na.injectId(na.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),R=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return d+=`${i} = ${R}\n`,d};na.data_changevariableby=function(l){let d="";if(na.STATEMENT_PREFIX)d+=na.injectId(na.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("VARIABLE"),qa.Variables.NAME_TYPE),R=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return d+=`${i} = num(${i}) + num(${R})\n`,d};na.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};na.data_addtolist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}.append(${R})\n`,d};na.data_deleteoflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return d+=`${i}.remove(runtime.index(${R}, len(${i})))\n`,d};na.data_deletealloflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE;return d+=`${i} = []\n`,d};na.data_insertatlist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,f=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}.insert(runtime.index(${R}, len(${i})), ${f})\n`,d};na.data_replaceitemoflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,f=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}[runtime.index(${R}, len(${i}))] = ${f}\n`,d};na.data_itemoflist=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`${d}[runtime.index(${i}, len(${d}))]`,this.ORDER_CONDITIONAL]};na.data_itemnumoflist=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`(${d}.index(${i}) + 1)`,this.ORDER_NONE]};na.data_lengthoflist=function(l){return[`len(${this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE})`,this.ORDER_FUNCTION_CALL]};na.data_listcontainsitem=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),qa.Variables.NAME_TYPE)+"_"+qa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"ITEM",this.ORDER_NONE)||0;return[`bool(${d}.count(${i}))`,this.ORDER_FUNCTION_CALL]};na.event_whenflagclicked=function(){return`@when_start\n${this.eventToCode("start")}`};na.event_whengreaterthan=function(l){const d=l.getFieldValue("WHENGREATERTHANMENU"),i=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0,R=this.eventToCode("greaterthen");return`@when_greaterthen("${d}", num(${i}))\n${R}`};na.event_whenbroadcastreceived=function(l){const d=this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),J1.Variables.NAME_TYPE),i=this.eventToCode("broadcastreceived");return`@when_broadcastreceived("${d}")\n${i}`};na.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),J1.Variables.NAME_TYPE),this.ORDER_ATOMIC]};na.event_broadcast=function(l){return`runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||'"message1"'}")\n`};na.event_broadcastandwait=function(l){return`await runtime.broadcast("${this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||'"message1"'}", waiting=True)\n`};na.math_number=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d===1/0)d='float("inf")',i=this.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',i=this.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d='float("nan")',i=this.ORDER_UNARY_SIGN;else i=d<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[d,i]};na.math_integer=function(l){const d=parseInt(l.getFieldValue("NUM")),i=d<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[d,i]};na.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};na.math_positive_number=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d===1/0)d='float("inf")',i=this.ORDER_FUNCTION_CALL;else if(d===-1/0)d='-float("inf")',i=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d='float("nan")',i=this.ORDER_FUNCTION_CALL;else d=d<0?0:d,i=this.ORDER_ATOMIC;return[d,i]};na.math_angle=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d==1/0)d='float("inf")',i=this.ORDER_FUNCTION_CALL;else if(d==-1/0)d='-float("inf")',i=this.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,i=this.ORDER_ATOMIC;return[d,i]};na.operator_add=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${d}) + num(${i}))`,this.ORDER_SUBTRACTION]};na.operator_subtract=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${d}) - num(${i}))`,this.ORDER_SUBTRACTION]};na.operator_multiply=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${d}) * num(${i}))`,this.ORDER_SUBTRACTION]};na.operator_divide=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${d}) / num(${i}))`,this.ORDER_SUBTRACTION]};na.operator_random=function(l){const d=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,i=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${d}, ${i})`,this.ORDER_FUNCTION_CALL]};na.operator_gt=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${d}) > num(${i}))`,this.ORDER_RELATIONAL]};na.operator_lt=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(num(${d}) < num(${i}))`,this.ORDER_RELATIONAL]};na.operator_equals=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`equals(${d}, ${i})`,this.ORDER_FUNCTION_CALL]};na.operator_and=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${d} and ${i})`,this.ORDER_LOGICAL_AND]};na.operator_or=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||"False",i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||"False";return[`(${d} or ${i})`,this.ORDER_LOGICAL_OR]};na.operator_not=function(l){return[`(not ${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||"False"})`,this.ORDER_LOGICAL_NOT]};na.operator_join=function(l){const d=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',i=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${d}) + str(${i}))`,this.ORDER_ATOMIC]};na.operator_letter_of=function(l){const d=this.valueToCode(l,"LETTER",this.ORDER_NONE)||0;return[`(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'})[num(${d}) - 1] || "")`,this.ORDER_MEMBER]};na.operator_length=function(l){return[`len(str(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}))`,this.ORDER_FUNCTION_CALL]};na.operator_contains=function(l){const d=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',i=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(str(${d}).count(str(${i})) > 0)`,this.ORDER_FUNCTION_CALL]};na.operator_mod=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(num(${d}) % num(${i}))`,this.ORDER_MODULUS]};na.operator_round=function(l){return this.definitions_.import_math="import math",[`math.round(num(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0}))`,this.ORDER_FUNCTION_CALL]};na.operator_mathop=function(l){this.definitions_.import_math="import math";const d=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,i=l.getFieldValue("OPERATOR");let R="";if(i==="ceiling")R+=`math.ceil(num(${d}))`;else if(i==="sin"||i==="cos"||i==="tan")R+=`math.${i}(math.radians(num(${d})))`;else if(i==="asin"||i==="acos"||i==="atan")R+=`math.degrees(math.${i}(num(${d})))`;else if(i==="ln")R+=`(math.log(num(${d}))`;else if(i==="log")R+=`(math.log10(num(${d}))`;else if(i==="e ^")R+=`math.exp(num(${d}))`;else if(i==="10 ^")R+=`math.pow(10, num(${d}))`;else R+=`math.${i}(num(${d}))`;return[R,this.ORDER_FUNCTION_CALL]};na.procedures_definition=function(l){const d=l.childBlocks_[0],i=this.variableDB_.getName(d.getProcCode(),ks.Procedures.NAME_TYPE),R=d.childBlocks_.map((f)=>this.variableDB_.getName(f.getFieldValue("VALUE"),ks.Variables.NAME_TYPE));return this.functionToCode(i,R)};na.procedures_call=function(l){const d=this.variableDB_.getName(l.getProcCode(),ks.Procedures.NAME_TYPE),i=l.argumentIds_.map((R)=>this.valueToCode(l,R,this.ORDER_NONE));return`await ${d}(${i.join(",")})\n`};na.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),ks.Variables.NAME_TYPE),this.ORDER_ATOMIC]};na.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),ks.Variables.NAME_TYPE),this.ORDER_ATOMIC]};na.sensing_timer=function(){return["runtime.time",this.ORDER_MEMBER]};na.sensing_resettimer=function(){return"runtime.reset_timer()\n"};na.text=function(l){const d=l.getFieldValue("TEXT");return[d.length===0||isNaN(d)?this.quote_(d):+d,this.ORDER_ATOMIC]};var v5=1,R5=2,Z5=3,Fi="#0FBD8C",Oi="#0DA57A",w1="#0B8E69",bn=(l)=>{if(typeof l!=="string")if(Array.isArray(l))l=String(l);else return l;return l.replace(/[<>&'"]/g,(d)=>{switch(d){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},F1={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},O1={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};Si("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var fn={buttonRow:"_5SVWFW_button-row",okButton:"_5SVWFW_ok-button",promptModal:"_5SVWFW_prompt-modal",variableNameTextInput:"_5SVWFW_variable-name-text-input",options:"_5SVWFW_options",promptContent:"_5SVWFW_prompt-content",label:"_5SVWFW_label",infoMessage:"_5SVWFW_info-message",button:"_5SVWFW_button"};Si(".ObKnhW_prompt-modal{width:700px;margin:50px auto}.ObKnhW_body{background:var(--ui-white);padding:1.5rem 2.25rem}.ObKnhW_body input[type=checkbox],.ObKnhW_body input[type=radio]{margin:3px}.ObKnhW_workspace{min-height:200px;position:relative}.ObKnhW_workspace .injectionDiv{position:absolute;inset:0}.ObKnhW_workspace .blocklySvg{background-color:var(--ui-primary)}.ObKnhW_options-row{justify-content:space-between;display:flex}.ObKnhW_option-card{border:2px solid var(--ui-black-transparent);border-radius:var(--space);padding:calc(var(--space)*2);text-align:center;cursor:pointer;background:#fff;flex-grow:1;flex-basis:100px;transition:all .2s}.ObKnhW_option-card:hover{border:2px solid var(--motion-primary);box-shadow:0px 0px 0px 4px var(--motion-transparent)}.ObKnhW_option-card+.ObKnhW_option-card{margin-left:1rem}.ObKnhW_option-icon{max-height:48px;margin-bottom:.5rem}.ObKnhW_option-title{font-weight:700}.ObKnhW_radiobox-row{justify-content:space-between;margin:1rem 6rem 1.5rem;font-weight:400;display:flex}.ObKnhW_button-row{text-align:right;margin-top:1rem;font-weight:bolder}.ObKnhW_button-row button{border:1px solid var(--ui-black-transparent);background:#fff;border-radius:.25rem;padding:.75rem 1rem;font-size:.85rem;font-weight:700}.ObKnhW_button-row button.ObKnhW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:#fff}.ObKnhW_button-row button+button{margin-left:.5rem}");var La={promptModal:"ObKnhW_prompt-modal",optionsRow:"ObKnhW_options-row",okButton:"ObKnhW_ok-button",workspace:"ObKnhW_workspace",body:"ObKnhW_body",buttonRow:"ObKnhW_button-row",optionTitle:"ObKnhW_option-title",optionCard:"ObKnhW_option-card",optionIcon:"ObKnhW_option-icon",radioboxRow:"ObKnhW_radiobox-row"},O5="./assets/icon-boolean-input-v045mxhp.svg",z5="./assets/icon-text-input-3m98080h.svg",S5="./assets/icon-label-a0d2gknc.svg",X5={zoom:{controls:!1,wheel:!1,startScale:0.9},comments:!1,collapse:!1,scrollbars:!0},P5=["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].map(async(l)=>{const{default:d}=await import(`@blockcode/extension-${l}`);return d.id=l,d}),G5=Promise.all(P5);Si(".cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}.cujmXa_debug-box{z-index:var(--z-index-monitor);border:1px solid var(--ui-tertiary);border-radius:var(--space)var(--space)0 0;opacity:.8;font-size:var(--standard-font-size);background:#fff;border-bottom:0;width:600px;height:300px;position:absolute;bottom:0;left:50vw;overflow:auto;transform:translate(-50%)}.cujmXa_debug-box pre{margin:calc(var(--space)/2)}");var zi={debugBox:"cujmXa_debug-box",addButton:"cujmXa_add-button",editorWrapper:"cujmXa_editor-wrapper",extensionButton:"cujmXa_extension-button"},H5="./assets/icon-extension-61vrne2y.svg",Aa=new Map,K1=(l)=>typeof l!=="string"&&!l.button,B5=async(l,d,i,R,f)=>{if(d){for(let q of d)if(!Aa.has(q)){let{default:u}=await import(`@blockcode/extension-${q}/blocks`);if(typeof u==="function")u=u(l);if(u.id=q,u.files)for(let h of u.files){const L=`extensions/${q}/${h.name}`,y=await fetch(h.uri).then((k)=>k.text());R({...h,id:L,content:y})}if(i(u.translations),f)f({...u,blocks:u.blocks.filter(K1)});Aa.set(q,u)}}},Q5="./assets/icon-blocks-vgmb334q.svg",A5={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.prompt.ok":"OK","blocks.prompt.cancel":"Cancel","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.myBlockPrompt.title":"Make a Block","blocks.myBlockPrompt.addAnInputNumberText":"Add an input","blocks.myBlockPrompt.numberTextType":"number or text","blocks.myBlockPrompt.addAnInputBoolean":"Add an input","blocks.myBlockPrompt.booleanType":"boolean","blocks.myBlockPrompt.addALabel":"Add a label","blocks.myBlockPrompt.command":"Command","blocks.myBlockPrompt.reporterNumberText":"Return number or text","blocks.myBlockPrompt.reporterBoolean":"Return boolean","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts","blocks.myblock.addLabel":" label text","blocks.myblock.addBoolean":"boolean","blocks.myblock.addNumbetText":"number or text"},op={"blocks.menu.file":"\u6587\u4EF6","blocks.menu.file.newProject":"\u65B0\u4F5C\u54C1","blocks.menu.file.openProject":"\u6253\u5F00","blocks.menu.file.saveProject":"\u4FDD\u5B58","blocks.menu.file.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","blocks.menu.file.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","blocks.menu.edit":"\u7F16\u8F91","blocks.menu.edit.undo":"\u64A4\u9500","blocks.menu.edit.redo":"\u6062\u590D","blocks.menu.device":"\u8BBE\u5907","blocks.menu.device.name":"\u8BBE\u5907","blocks.menu.device.connect":"\u8FDE\u63A5{name}","blocks.menu.device.disconnect":"\u65AD\u5F00{name}\u8FDE\u63A5","blocks.menu.device.download":"\u4E0B\u8F7D\u7A0B\u5E8F","blocks.menu.device.turnOnAutoDownload":"\u6253\u5F00\u81EA\u52A8\u4E0B\u8F7D","blocks.menu.device.turnOffAutoDownload":"\u5173\u95ED\u81EA\u52A8\u4E0B\u8F7D","blocks.alert.downloading":"\u6B63\u5728\u4E0B\u8F7D\u2026{progress}%","blocks.alert.downloadCompleted":"\u4E0B\u8F7D\u5B8C\u6210\u3002","blocks.alert.connectionError":"\u8FDE\u63A5\u9519\u8BEF\u3002","blocks.alert.flashOutSpace":"\u8BBE\u5907\u7A7A\u95F4\u4E0D\u8DB3\u3002","blocks.codeTab":"\u4EE3\u7801","blocks.monitorPane.title":"\u76D1\u89C6\u5668","blocks.downloadToDevice":"\u4E0B\u8F7D","blocks.extensions.addExtension":"\u6DFB\u52A0\u6269\u5C55","blocks.extensions.empty":"\u6CA1\u6709\u6269\u5C55\uFF01","blocks.prompt.ok":"\u786E\u5B9A","blocks.prompt.cancel":"\u53D6\u6D88","blocks.dataPrompt.forAllTargets":"\u9002\u7528\u4E8E\u5168\u5C40","blocks.dataPrompt.forThisTarget":"\u4EC5\u9002\u7528\u4E8E\u5F53\u524D","blocks.dataPrompt.availableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u53D8\u91CF\u3002","blocks.dataPrompt.listAvailableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u5217\u8868\u3002","blocks.myBlockPrompt.title":"\u5236\u4F5C\u65B0\u7684\u79EF\u6728","blocks.myBlockPrompt.addAnInputNumberText":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.numberTextType":"\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.addAnInputBoolean":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.booleanType":"\u5E03\u5C14\u503C","blocks.myBlockPrompt.addALabel":"\u6DFB\u52A0\u6587\u672C\u6807\u7B7E","blocks.myBlockPrompt.command":"\u65E0\u8FD4\u56DE\u503C","blocks.myBlockPrompt.reporterNumberText":"\u8FD4\u56DE\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.reporterBoolean":"\u8FD4\u56DE\u5E03\u5C14\u503C","blocks.event.programStart":"\u5F53\u7A0B\u5E8F\u5F00\u59CB\u8FD0\u884C","blocks.control.stopOther":"\u5176\u4ED6\u811A\u672C","blocks.myblock.addLabel":"\u6587\u672C","blocks.myblock.addBoolean":"\u5E03\u5C14\u503C","blocks.myblock.addNumbetText":"\u6570\u5B57\u6216\u6587\u672C"},P1={en:A5,"zh-Hans":op},xl={icon:Q5,label:I1(E1,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:C5},f2={label:I1(E1,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};import{useLocale as lp}from"@blockcode/core";import{ScratchBlocks as Z2,makeToolboxXML as ap,blockSeparator as _n,categorySeparator as Xi}from"@blockcode/blocks-editor";import{ScratchBlocks as $l}from"@blockcode/blocks-editor";$l.Blocks.event_whenflagclicked={init(){this.jsonInit({message0:$l.Msg.EVENT_WHENFLAGCLICKED,args0:[{type:"field_image",src:$l.mainWorkspace.options.pathToMedia+"green-flag.svg",width:24,height:24,alt:"flag"}],category:$l.Categories.event,extensions:["colours_event","shape_hat"]})}};import{ScratchBlocks as Ea}from"@blockcode/blocks-editor";Ea.Blocks.motion_attack={init(){this.jsonInit({message0:Ea.Msg.MOTION_ATTACK,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"DISTANCE"}],category:Ea.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ea.Blocks.motion_move={init(){this.jsonInit({message0:Ea.Msg.MOTION_MOVE,args0:[{type:"input_value",name:"DIRECTION"},{type:"input_value",name:"SPEED"}],category:Ea.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ea.Blocks.motion_setspeed={init(){this.jsonInit({message0:Ea.Msg.MOTION_SETSPEED,args0:[{type:"input_value",name:"SPEED"}],category:Ea.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ea.Blocks.motion_stop={init(){this.jsonInit({message0:Ea.Msg.MOTION_STOP,category:Ea.Categories.motion,extensions:["colours_motion","shape_statement"]})}};Ea.Blocks.motion_speed={init(){this.jsonInit({message0:Ea.Msg.MOTION_SPEED,category:Ea.Categories.motion,checkboxInFlyout:!0,extensions:["colours_motion","output_number"]})}};import{ScratchBlocks as on}from"@blockcode/blocks-editor";on.Blocks.sensing_scanwidth={init(){this.jsonInit({message0:on.Msg.SENSING_SCANWIDTH,args0:[{type:"input_value",name:"WIDTH"}],category:on.Categories.sensing,extensions:["colours_sensing","shape_statement"]})}};on.Blocks.sensing_scan={init(){this.jsonInit({message0:on.Msg.SENSING_SCAN,args0:[{type:"input_value",name:"DIRECTION"}],category:on.Categories.sensing,extensions:["colours_sensing","output_boolean"]})}};on.Blocks.sensing_scandistance={init(){this.jsonInit({message0:on.Msg.SENSING_DISTANCE,args0:[{type:"input_value",name:"DIRECTION"}],category:on.Categories.sensing,extensions:["colours_sensing","output_number"]})}};on.Blocks.sensing_health={init(){this.jsonInit({message0:on.Msg.SENSING_HEALTH,category:on.Categories.sensing,checkboxInFlyout:!0,extensions:["colours_sensing","output_number"]})}};var np=()=>`
  <category name="%{BKY_CATEGORY_MOTION}" id="motion" colour="#4C97FF" secondaryColour="#3373CC">
    <block type="motion_attack">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="DISTANCE">
        <shadow type="math_number">
          <field name="NUM">200</field>
        </shadow>
      </value>
    </block>
    <block type="motion_move">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">100</field>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="motion_turnright">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_turnleft">
      <value name="DEGREES">
        <shadow type="math_number">
          <field name="NUM">15</field>
        </shadow>
      </value>
    </block>
    <block type="motion_pointindirection">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="motion_setspeed">
      <value name="SPEED">
        <shadow type="math_number">
          <field name="NUM">50</field>
        </shadow>
      </value>
    </block>
    <block type="motion_stop"/>
    ${_n}
    <block type="motion_speed"/>
    <block type="motion_direction"/>
    ${Xi}
  </category>
`,ep=()=>`
  <category name="%{BKY_CATEGORY_SENSING}" id="sensing" colour="#4CBFE6" secondaryColour="#2E8EB8">
    <block type="sensing_scanwidth">
      <value name="WIDTH">
        <shadow type="math_number">
          <field name="NUM">5</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scan">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    <block type="sensing_scandistance">
      <value name="DIRECTION">
        <shadow type="math_angle">
          <field name="NUM">90</field>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="sensing_health"/>
    ${_n}
    <block id="timer" type="sensing_timer"/>
    <block type="sensing_resettimer"/>
    ${Xi}
  </category>
`,sp=()=>`
  <category name="%{BKY_CATEGORY_OPERATORS}" id="operators" colour="#40BF4A" secondaryColour="#389438">
    <block type="operator_add">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_subtract">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_multiply">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_divide">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="operator_random">
      <value name="FROM">
        <shadow type="math_number">
          <field name="NUM">1</field>
        </shadow>
      </value>
      <value name="TO">
        <shadow type="math_number">
          <field name="NUM">10</field>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="operator_gt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_lt">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    <block type="operator_equals">
      <value name="OPERAND1">
        <shadow type="text">
          <field name="TEXT"/>
        </shadow>
      </value>
      <value name="OPERAND2">
        <shadow type="text">
          <field name="TEXT">50</field>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="operator_and"/>
    <block type="operator_or"/>
    <block type="operator_not"/>
    ${_n}
    <block type="operator_mod">
      <value name="NUM1">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
      <value name="NUM2">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    <block type="operator_round">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${_n}
    <block type="operator_mathop">
      <value name="NUM">
        <shadow type="math_number">
          <field name="NUM"/>
        </shadow>
      </value>
    </block>
    ${Xi}
  </category>
`;function gi(){return ap([{id:"motion",xml:np()},{id:"sensing",xml:ep()},{id:"operators",xml:sp()}])}import{jsx as ip}from"preact/jsx-runtime";var rp=xl.Content;function Ui(){const{getText:l}=lp(),d={MOTION_ATTACK:l("tankwar.blocks.motion_attack","fire in direction %1 at %2 steps"),MOTION_MOVE:l("tankwar.blocks.motion_move","forward in direction %1 at %2 % speed"),MOTION_SETSPEED:l("tankwar.blocks.motion_setspeed","set speed to %1 %"),MOTION_STOP:l("tankwar.blocks.motion_stop","stop"),MOTION_SPEED:l("tankwar.blocks.motion_speed","speed"),SENSING_SCANWIDTH:l("tankwar.blocks.sensing_scanwidth","set scan width to %1"),SENSING_SCAN:l("tankwar.blocks.sensing_scan","scan for enemy in direction %1?"),SENSING_DISTANCE:l("tankwar.blocks.sensing_distance","measure distance of enemy in direction %1"),SENSING_HEALTH:l("tankwar.blocks.sensing_health","health")},i=gi();return ip(rp,{disableGenerator:!0,disableExtension:!0,messages:d,toolbox:i})}import{useState as wl}from"preact/hooks";import{classNames as Qp}from"@blockcode/ui";import{useState as y6}from"preact/hooks";import{useEditor as Gp}from"@blockcode/core";import{useRef as bp,useEffect as fp}from"preact/hooks";import{useEditor as _p}from"@blockcode/core";import{ScratchBlocks as Ka}from"@blockcode/blocks-editor";function B1({width:l,height:d,generator:i,onSetup:R,...f}){const q=bp(null),{fileList:u,selectedFileId:h,modifyFile:L}=_p(),y=u.find((k)=>k.id===h);if(q.script=y.script,q.xml=y.xml,q.current){const k=Ka.getMainWorkspace();if(k&&k!==q.workspace)q.workspace=k,k.addChangeListener((Z)=>{if(k.isDragging())return;if(!Np.has(Z.type))return;const T=Ka.Xml.workspaceToDom(k),V=Ka.Xml.domToText(T).replace(/<variable type="broadcast_msg"[^>]+>[^<]+<\/variable>/gi,"");if(!q.script||q.xml!==V){const $=i.workspaceToCode(k);if(q.script!==$)L({script:$})}})}return fp(()=>{if(q.current){if(Ei.default.setup(q.current),R)R(q.current)}return()=>{Ei.default.project.clear(),Ei.default.project.remove()}},[q]),hp("canvas",{id:"blockcode-blocks-player",ref:q,style:{width:l,height:d},...f})}import{jsx as hp}from"preact/jsx-runtime";function vp(l){console&&console.warn&&console.warn(l)}function Za(){Za.init.call(this)}function Ml(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}function C1(l){return l._maxListeners===void 0?Za.defaultMaxListeners:l._maxListeners}function Q1(l,d,i,R){var f,q,u;if(Ml(i),q=l._events,q===void 0?(q=l._events=Object.create(null),l._eventsCount=0):(q.newListener!==void 0&&(l.emit("newListener",d,i.listener?i.listener:i),q=l._events),u=q[d]),u===void 0)u=q[d]=i,++l._eventsCount;else if(typeof u=="function"?u=q[d]=R?[i,u]:[u,i]:R?u.unshift(i):u.push(i),f=C1(l),f>0&&u.length>f&&!u.warned){u.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=l,h.type=d,h.count=u.length,vp(h)}return l}function Rp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A1(l,d,i){var R={fired:!1,wrapFn:void 0,target:l,type:d,listener:i},f=Rp.bind(R);return f.listener=i,R.wrapFn=f,f}function o6(l,d,i){var R=l._events;if(R===void 0)return[];var f=R[d];return f===void 0?[]:typeof f=="function"?i?[f.listener||f]:[f]:i?yp(f):n6(f,f.length)}function a6(l){var d=this._events;if(d!==void 0){var i=d[l];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}function n6(l,d){for(var i=new Array(d),R=0;R<d;++R)i[R]=l[R];return i}function Zp(l,d){for(;d+1<l.length;d++)l[d]=l[d+1];l.pop()}function yp(l){for(var d=new Array(l.length),i=0;i<d.length;++i)d[i]=l[i].listener||l[i];return d}import{ScratchBlocks as Ha}from"@blockcode/blocks-editor";import{ScratchBlocks as xa}from"@blockcode/blocks-editor";import{ScratchBlocks as s6}from"@blockcode/blocks-editor";import{ScratchBlocks as xs}from"@blockcode/blocks-editor";var cp=Object.create,{getPrototypeOf:up,defineProperty:G1,getOwnPropertyNames:pp}=Object,mp=Object.prototype.hasOwnProperty,ji=(l,d,i)=>{i=l!=null?cp(up(l)):{};const R=d||!l||!l.__esModule?G1(i,"default",{value:l,enumerable:!0}):i;for(let f of pp(l))if(!mp.call(R,f))G1(R,f,{get:()=>l[f],enumerable:!0});return R},tp=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports),W2=((l)=>Fl)(function(l){return Fl.apply(this,arguments)}),Ji=tp((l,d)=>{/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var i=function(R,f){R=R||(()=>({}));var{window:q,document:u}=R,h=new function(){var n=/^(statics|enumerable|beans|preserve)$/,r=[],b=r.slice,v=Object.create,M=Object.getOwnPropertyDescriptor,F=Object.defineProperty,U=r.forEach||function(D,eo){for(var A=0,ro=this.length;A<ro;A++)D.call(eo,this[A],A,this)},K=function(D,eo){for(var A in this)if(this.hasOwnProperty(A))D.call(eo,this[A],A,this)},j=Object.assign||function(D){for(var eo=1,A=arguments.length;eo<A;eo++){var ro=arguments[eo];for(var vo in ro)if(ro.hasOwnProperty(vo))D[vo]=ro[vo]}return D},J=function(D,eo,A){if(D){var ro=M(D,"length");(ro&&typeof ro.value==="number"?U:K).call(D,eo,A=A||D)}return A};function ao(D,eo,A,ro,vo){var oo={};function no(mo,bo){if(bo=bo||(bo=M(eo,mo))&&(bo.get?bo:bo.value),typeof bo==="string"&&bo[0]==="#")bo=D[bo.substring(1)]||bo;var Oo=typeof bo==="function",No=bo,yo=vo||Oo&&!bo.base?bo&&bo.get?mo in D:D[mo]:null,zo;if(!vo||!yo){if(Oo&&yo)bo.base=yo;if(Oo&&ro!==!1&&(zo=mo.match(/^([gs]et|is)(([A-Z])(.*))$/)))oo[zo[3].toLowerCase()+zo[4]]=zo[2];if(!No||Oo||!No.get||typeof No.get!=="function"||!H.isPlainObject(No))No={value:No,writable:!0};if((M(D,mo)||{configurable:!0}).configurable)No.configurable=!0,No.enumerable=A!=null?A:!zo;F(D,mo,No)}}if(eo){for(var so in eo)if(eo.hasOwnProperty(so)&&!n.test(so))no(so);for(var so in oo){var C=oo[so],lo=D["set"+C],_o=D["get"+C]||lo&&D["is"+C];if(_o&&(ro===!0||_o.length===0))no(so,{get:_o,set:lo})}}return D}function H(){for(var D=0,eo=arguments.length;D<eo;D++){var A=arguments[D];if(A)j(this,A)}return this}return ao(H,{inject:function(D){if(D){var eo=D.statics===!0?D:D.statics,A=D.beans,ro=D.preserve;if(eo!==D)ao(this.prototype,D,D.enumerable,A,ro);ao(this,eo,null,A,ro)}for(var vo=1,oo=arguments.length;vo<oo;vo++)this.inject(arguments[vo]);return this},extend:function(){var D=this,eo,A;for(var ro=0,vo,oo=arguments.length;ro<oo&&!(eo&&A);ro++)vo=arguments[ro],eo=eo||vo.initialize,A=A||vo.prototype;if(eo=eo||function(){D.apply(this,arguments)},A=eo.prototype=A||v(this.prototype),F(A,"constructor",{value:eo,writable:!0,configurable:!0}),ao(eo,this),arguments.length)this.inject.apply(eo,arguments);return eo.base=D,eo}}).inject({enumerable:!1,initialize:H,set:H,inject:function(){for(var D=0,eo=arguments.length;D<eo;D++){var A=arguments[D];if(A)ao(this,A,A.enumerable,A.beans,A.preserve)}return this},extend:function(){var D=v(this);return D.inject.apply(D,arguments)},each:function(D,eo){return J(this,D,eo)},clone:function(){return new this.constructor(this)},statics:{set:j,each:J,create:v,define:F,describe:M,clone:function(D){return j(new D.constructor,D)},isPlainObject:function(D){var eo=D!=null&&D.constructor;return eo&&(eo===Object||eo===H||eo.name==="Object")},pick:function(D,eo){return D!==f?D:eo},slice:function(D,eo,A){return b.call(D,eo,A)}}})};if(typeof d!=="undefined")d.exports=h;h.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+h.each(this,function(n,r){if(!/^_/.test(r)){var b=typeof n;this.push(r+": "+(b==="number"?T.instance.number(n):b==="string"?"'"+n+"'":n))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(n){return h.importJSON(n,this)},exportJSON:function(n){return h.exportJSON(this,n)},toJSON:function(){return h.serialize(this)},set:function(n,r){if(n)h.filter(this,n,r,this._prioritize);return this}},{beans:!1,statics:{exports:{},extend:function n(){var r=n.base.apply(this,arguments),b=r.prototype._class;if(b&&!h.exports[b])h.exports[b]=r;return r},equals:function(n,r){if(n===r)return!0;if(n&&n.equals)return n.equals(r);if(r&&r.equals)return r.equals(n);if(n&&r&&typeof n==="object"&&typeof r==="object"){if(Array.isArray(n)&&Array.isArray(r)){var b=n.length;if(b!==r.length)return!1;while(b--)if(!h.equals(n[b],r[b]))return!1}else{var v=Object.keys(n),b=v.length;if(b!==Object.keys(r).length)return!1;while(b--){var M=v[b];if(!(r.hasOwnProperty(M)&&h.equals(n[M],r[M])))return!1}}return!0}return!1},read:function(n,r,b,v){if(this===h){var M=this.peek(n,r);return n.__index++,M}var F=this.prototype,U=F._readIndex,K=r||U&&n.__index||0,j=n.length,J=n[K];if(v=v||j-K,J instanceof this||b&&b.readNull&&J==null&&v<=1){if(U)n.__index=K+1;return J&&b&&b.clone?J.clone():J}if(J=h.create(F),U)J.__read=!0;if(J=J.initialize.apply(J,K>0||K+v<j?h.slice(n,K,K+v):n)||J,U){n.__index=K+J.__read;var ao=J.__filtered;if(ao)n.__filtered=ao,J.__filtered=f;J.__read=f}return J},peek:function(n,r){return n[n.__index=r||n.__index||0]},remain:function(n){return n.length-(n.__index||0)},readList:function(n,r,b,v){var M=[],F,U=r||0,K=v?U+v:n.length;for(var j=U;j<K;j++)M.push(Array.isArray(F=n[j])?this.read(F,0,b):this.read(n,j,b,1));return M},readNamed:function(n,r,b,v,M){var F=this.getNamed(n,r),U=F!==f;if(U){var K=n.__filtered;if(!K){var j=this.getSource(n);K=n.__filtered=h.create(j),K.__unfiltered=j}K[r]=f}return this.read(U?[F]:n,b,v,M)},readSupported:function(n,r){var b=this.getSource(n),v=this,M=!1;if(b)Object.keys(b).forEach(function(F){if(F in r){var U=v.readNamed(n,F);if(U!==f)r[F]=U;M=!0}});return M},getSource:function(n){var r=n.__source;if(r===f){var b=n.length===1&&n[0];r=n.__source=b&&h.isPlainObject(b)?b:null}return r},getNamed:function(n,r){var b=this.getSource(n);if(b)return r?b[r]:n.__filtered||b},hasNamed:function(n,r){return!!this.getNamed(n,r)},filter:function(n,r,b,v){var M;function F(ao){if(!(b&&(ao in b))&&!(M&&(ao in M))){var H=r[ao];if(H!==f)n[ao]=H}}if(v){var U={};for(var K=0,j,J=v.length;K<J;K++)if((j=v[K])in r)F(j),U[j]=!0;M=U}return Object.keys(r.__unfiltered||r).forEach(F),n},isPlainValue:function(n,r){return h.isPlainObject(n)||Array.isArray(n)||r&&typeof n==="string"},serialize:function(n,r,b,v){r=r||{};var M=!v,F;if(M)r.formatter=new T(r.precision),v={length:0,definitions:{},references:{},add:function(H,D){var eo="#"+H._id,A=this.references[eo];if(!A){this.length++;var ro=D.call(H),vo=H._class;if(vo&&ro[0]!==vo)ro.unshift(vo);this.definitions[eo]=ro,A=this.references[eo]=[eo]}return A}};if(n&&n._serialize){F=n._serialize(r,v);var U=n._class;if(U&&!n._compactSerialize&&(M||!b)&&F[0]!==U)F.unshift(U)}else if(Array.isArray(n)){F=[];for(var K=0,j=n.length;K<j;K++)F[K]=h.serialize(n[K],r,b,v)}else if(h.isPlainObject(n)){F={};var J=Object.keys(n);for(var K=0,j=J.length;K<j;K++){var ao=J[K];F[ao]=h.serialize(n[ao],r,b,v)}}else if(typeof n==="number")F=r.formatter.number(n,r.precision);else F=n;return M&&v.length>0?[["dictionary",v.definitions],F]:F},deserialize:function(n,r,b,v,M){var F=n,U=!b,K=U&&n&&n.length&&n[0][0]==="dictionary";if(b=b||{},Array.isArray(n)){var j=n[0],J=j==="dictionary";if(n.length==1&&/^#/.test(j))return b.dictionary[j];j=h.exports[j],F=[];for(var ao=j?1:0,H=n.length;ao<H;ao++)F.push(h.deserialize(n[ao],r,b,J,K));if(j){var D=F;if(r)F=r(j,D,U||M);else F=new j(D)}}else if(h.isPlainObject(n)){if(F={},v)b.dictionary=F;for(var eo in n)F[eo]=h.deserialize(n[eo],r,b)}return K?F[1]:F},exportJSON:function(n,r){var b=h.serialize(n,r);return r&&r.asString==!1?b:JSON.stringify(b)},importJSON:function(n,r){return h.deserialize(typeof n==="string"?JSON.parse(n):n,function(b,v,M){var F=M&&r&&r.constructor===b,U=F?r:h.create(b.prototype);if(v.length===1&&U instanceof to&&(F||!(U instanceof co))){var K=v[0];if(h.isPlainObject(K)){if(K.insert=!1,F)v=v.concat([to.INSERT])}}if((F?U.set:b).apply(U,v),F)r=null;return U})},push:function(n,r){var b=r.length;if(b<4096)n.push.apply(n,r);else{var v=n.length;n.length+=b;for(var M=0;M<b;M++)n[v+M]=r[M]}return n},splice:function(n,r,b,v){var M=r&&r.length,F=b===f;if(b=F?n.length:b,b>n.length)b=n.length;for(var U=0;U<M;U++)r[U]._index=b+U;if(F)return h.push(n,r),[];else{var K=[b,v];if(r)h.push(K,r);var j=n.splice.apply(n,K);for(var U=0,J=j.length;U<J;U++)j[U]._index=f;for(var U=b+M,J=n.length;U<J;U++)n[U]._index=U;return j}},capitalize:function(n){return n.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(n){return n.replace(/-(.)/g,function(r,b){return b.toUpperCase()})},hyphenate:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var L={on:function(n,r){if(typeof n!=="string")h.each(n,function(F,U){this.on(U,F)},this);else{var b=this._eventTypes,v=b&&b[n],M=this._callbacks=this._callbacks||{};if(M=M[n]=M[n]||[],M.indexOf(r)===-1){if(M.push(r),v&&v.install&&M.length===1)v.install.call(this,n)}}return this},off:function(n,r){if(typeof n!=="string"){h.each(n,function(U,K){this.off(K,U)},this);return}var b=this._eventTypes,v=b&&b[n],M=this._callbacks&&this._callbacks[n],F;if(M){if(!r||(F=M.indexOf(r))!==-1&&M.length===1){if(v&&v.uninstall)v.uninstall.call(this,n);delete this._callbacks[n]}else if(F!==-1)M.splice(F,1)}return this},once:function(n,r){return this.on(n,function b(){r.apply(this,arguments),this.off(n,b)})},emit:function(n,r){var b=this._callbacks&&this._callbacks[n];if(!b)return!1;var v=h.slice(arguments,1),M=r&&r.target&&!r.currentTarget;if(b=b.slice(),M)r.currentTarget=this;for(var F=0,U=b.length;F<U;F++)if(b[F].apply(this,v)==!1){if(r&&r.stop)r.stop();break}if(M)delete r.currentTarget;return!0},responds:function(n){return!!(this._callbacks&&this._callbacks[n])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(n){var r=this._eventTypes,b=this._callbacks,v=n?"install":"uninstall";if(r){for(var M in b)if(b[M].length>0){var F=r[M],U=F&&F[v];if(U)U.call(this,M)}}},statics:{inject:function n(r){var b=r._events;if(b){var v={};h.each(b,function(M,F){var U=typeof M==="string",K=U?M:F,j=h.capitalize(K),J=K.substring(2).toLowerCase();v[J]=U?{}:M,K="_"+K,r["get"+j]=function(){return this[K]},r["set"+j]=function(ao){var H=this[K];if(H)this.off(J,H);if(ao)this.on(J,ao);this[K]=ao}}),r._eventTypes=v}return n.base.apply(this,arguments)}}},y=h.extend({_class:"PaperScope",initialize:function n(){W=this,this.settings=new h({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=n._id++,n._scopes[this._id]=this;var r=n.prototype;if(!this.support){var b=Qo.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in b||"mozDash"in b,nativeBlendModes:Jo.nativeModes},Qo.release(b)}if(!this.agent){var v=R.navigator.userAgent.toLowerCase(),M=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(v)||[])[0],F=M==="darwin"?"mac":M,U=r.agent=r.browser={platform:F};if(F)U[F]=!0;if(v.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(K,j,J,ao,H){if(!U.chrome){var D=j==="opera"?ao:/^(node|trident)$/.test(j)?H:J;U.version=D,U.versionNumber=parseFloat(D),j={trident:"msie",jsdom:"node"}[j]||j,U.name=j,U[j]=!0}}),U.chrome)delete U.webkit;if(U.atom)delete U.chrome}},version:"0.12.18",getView:function(){var n=this.project;return n&&n._view},getPaper:function(){return this},execute:function(n,r){},install:function(n){var r=this;h.each(["project","view","tool"],function(v){h.define(n,v,{configurable:!0,get:function(){return r[v]}})});for(var b in this)if(!/^_/.test(b)&&this[b])n[b]=this[b]},setup:function(n){return W=this,this.project=new uo(n),this},createCanvas:function(n,r){return Qo.getCanvas(n,r)},activate:function(){W=this},clear:function(){var n=this.projects,r=this.tools;for(var b=n.length-1;b>=0;b--)n[b].remove();for(var b=r.length-1;b>=0;b--)r[b].remove()},remove:function(){this.clear(),delete y._scopes[this._id]},statics:new function(){function n(r){return r+="Attribute",function(b,v){return b[r](v)||b[r]("data-paper-"+v)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:n("get"),hasAttribute:n("has")}}}),k=h.extend(L,{initialize:function(n){if(this._scope=W,this._index=this._scope[this._list].push(this)-1,n||!this._scope[this._reference])this.activate()},activate:function(){if(!this._scope)return!1;var n=this._scope[this._reference];if(n&&n!==this)n.emit("deactivate");return this._scope[this._reference]=this,this.emit("activate",n),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){if(this._index==null)return!1;if(h.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this)this._scope[this._reference]=null;return this._scope=null,!0},getView:function(){return this._scope.getView()}}),Z={findItemBoundsCollisions:function(n,r,b){function v(U){var K=new Array(U.length);for(var j=0;j<U.length;j++){var J=U[j].getBounds();K[j]=[J.left,J.top,J.right,J.bottom]}return K}var M=v(n),F=!r||r===n?M:v(r);return this.findBoundsCollisions(M,F,b||0)},findCurveBoundsCollisions:function(n,r,b,v){function M(D){var{min:eo,max:A}=Math,ro=new Array(D.length);for(var vo=0;vo<D.length;vo++){var oo=D[vo];ro[vo]=[eo(oo[0],oo[2],oo[4],oo[6]),eo(oo[1],oo[3],oo[5],oo[7]),A(oo[0],oo[2],oo[4],oo[6]),A(oo[1],oo[3],oo[5],oo[7])]}return ro}var F=M(n),U=!r||r===n?F:M(r);if(v){var K=this.findBoundsCollisions(F,U,b||0,!1,!0),j=this.findBoundsCollisions(F,U,b||0,!0,!0),J=[];for(var ao=0,H=K.length;ao<H;ao++)J[ao]={hor:K[ao],ver:j[ao]};return J}return this.findBoundsCollisions(F,U,b||0)},findBoundsCollisions:function(n,r,b,v,M){var F=!r||n===r,U=F?n:n.concat(r),K=n.length,j=U.length;function J(Ko,Io,Bo){var Ho=0,Ao=Ko.length;while(Ho<Ao){var Do=Ao+Ho>>>1;if(U[Ko[Do]][Io]<Bo)Ho=Do+1;else Ao=Do}return Ho-1}var ao=v?1:0,H=ao+2,D=v?0:1,eo=D+2,A=new Array(j);for(var ro=0;ro<j;ro++)A[ro]=ro;A.sort(function(Ko,Io){return U[Ko][ao]-U[Io][ao]});var vo=[],oo=new Array(K);for(var ro=0;ro<j;ro++){var no=A[ro],so=U[no],C=F?no:no-K,lo=no<K,_o=F||!lo,mo=lo?[]:null;if(vo.length){var bo=J(vo,H,so[ao]-b)+1;if(vo.splice(0,bo),F&&M){mo=mo.concat(vo);for(var Oo=0;Oo<vo.length;Oo++){var No=vo[Oo];oo[No].push(C)}}else{var yo=so[eo],zo=so[D];for(var Oo=0;Oo<vo.length;Oo++){var No=vo[Oo],ko=U[No],Zo=No<K,go=F||No>=K;if(M||(lo&&go||_o&&Zo)&&(yo>=ko[D]-b&&zo<=ko[eo]+b)){if(lo&&go)mo.push(F?No:No-K);if(_o&&Zo)oo[No].push(C)}}}}if(lo){if(n===r)mo.push(no);oo[no]=mo}if(vo.length){var Vo=so[H],Fo=J(vo,H,Vo);vo.splice(Fo+1,0,no)}else vo.push(no)}for(var ro=0;ro<oo.length;ro++){var Po=oo[ro];if(Po)Po.sort(function(Io,Bo){return Io-Bo})}return oo}},T=h.extend({initialize:function(n){this.precision=h.pick(n,5),this.multiplier=Math.pow(10,this.precision)},number:function(n){return this.precision<16?Math.round(n*this.multiplier)/this.multiplier:n},pair:function(n,r,b){return this.number(n)+(b||",")+this.number(r)},point:function(n,r){return this.number(n.x)+(r||",")+this.number(n.y)},size:function(n,r){return this.number(n.width)+(r||",")+this.number(n.height)},rectangle:function(n,r){return this.point(n,r)+(r||",")+this.size(n,r)}});T.instance=new T;var V=new function(){var n=[[0.5773502691896257],[0,0.7745966692414834],[0.33998104358485626,0.8611363115940526],[0,0.5384693101056831,0.906179845938664],[0.2386191860831969,0.6612093864662645,0.932469514203152],[0,0.4058451513773972,0.7415311855993945,0.9491079123427585],[0.1834346424956498,0.525532409916329,0.7966664774136267,0.9602898564975363],[0,0.3242534234038089,0.6133714327005904,0.8360311073266358,0.9681602395076261],[0.14887433898163122,0.4333953941292472,0.6794095682990244,0.8650633666889845,0.9739065285171717],[0,0.26954315595234496,0.5190961292068118,0.7301520055740494,0.8870625997680953,0.978228658146057],[0.1252334085114689,0.3678314989981802,0.5873179542866175,0.7699026741943047,0.9041172563704749,0.9815606342467192],[0,0.2304583159551348,0.44849275103644687,0.6423493394403402,0.8015780907333099,0.9175983992229779,0.9841830547185881],[0.10805494870734367,0.31911236892788974,0.5152486363581541,0.6872929048116855,0.827201315069765,0.9284348836635735,0.9862838086968123],[0,0.20119409399743451,0.3941513470775634,0.5709721726085388,0.7244177313601701,0.8482065834104272,0.937273392400706,0.9879925180204854],[0.09501250983763744,0.2816035507792589,0.45801677765722737,0.6178762444026438,0.755404408355003,0.8656312023878318,0.9445750230732326,0.9894009349916499]],r=[[1],[0.8888888888888888,0.5555555555555556],[0.6521451548625461,0.34785484513745385],[0.5688888888888889,0.47862867049936647,0.23692688505618908],[0.46791393457269104,0.3607615730481386,0.17132449237917036],[0.4179591836734694,0.3818300505051189,0.27970539148927664,0.1294849661688697],[0.362683783378362,0.31370664587788727,0.22238103445337448,0.10122853629037626],[0.3302393550012598,0.31234707704000286,0.26061069640293544,0.1806481606948574,0.08127438836157441],[0.29552422471475287,0.26926671930999635,0.21908636251598204,0.1494513491505806,0.06667134430868814],[0.2729250867779006,0.26280454451024665,0.23319376459199048,0.18629021092773426,0.1255803694649046,0.05566856711617366],[0.24914704581340277,0.2334925365383548,0.20316742672306592,0.16007832854334622,0.10693932599531843,0.04717533638651183],[0.2325515532308739,0.22628318026289723,0.2078160475368885,0.17814598076194574,0.13887351021978725,0.09212149983772845,0.04048400476531588],[0.2152638534631578,0.2051984637212956,0.18553839747793782,0.15720316715819355,0.12151857068790319,0.08015808715976021,0.03511946033175186],[0.2025782419255613,0.19843148532711158,0.1861610000155622,0.16626920581699392,0.13957067792615432,0.10715922046717194,0.07036604748810812,0.03075324199611727],[0.1894506104550685,0.18260341504492358,0.16915651939500254,0.14959598881657674,0.12462897125553388,0.09515851168249279,0.062253523938647894,0.027152459411754096]],b=Math.abs,v=Math.sqrt,M=Math.pow,F=Math.log2||function(H){return Math.log(H)*Math.LOG2E},U=0.000000000001,K=0.000000000000000112;function j(H,D,eo){return H<D?D:H>eo?eo:H}function J(H,D,eo){function A(bo){var Oo=bo*134217729,No=bo-Oo,yo=No+Oo,zo=bo-yo;return[yo,zo]}var ro=D*D-H*eo,vo=D*D+H*eo;if(b(ro)*3<vo){var oo=A(H),no=A(D),so=A(eo),C=D*D,lo=no[0]*no[0]-C+2*no[0]*no[1]+no[1]*no[1],_o=H*eo,mo=oo[0]*so[0]-_o+oo[0]*so[1]+oo[1]*so[0]+oo[1]*so[1];ro=C-_o+(lo-mo)}return ro}function ao(){var H=Math.max.apply(Math,arguments);return H&&(H<0.00000001||H>1e8)?M(2,-Math.round(F(H))):0}return{EPSILON:U,MACHINE_EPSILON:K,CURVETIME_EPSILON:0.00000001,GEOMETRIC_EPSILON:0.0000001,TRIGONOMETRIC_EPSILON:0.00000001,ANGULAR_EPSILON:0.00001,KAPPA:4*(v(2)-1)/3,isZero:function(H){return H>=-U&&H<=U},isMachineZero:function(H){return H>=-K&&H<=K},clamp:j,integrate:function(H,D,eo,A){var ro=n[A-2],vo=r[A-2],oo=(eo-D)*0.5,no=oo+D,so=0,C=A+1>>1,lo=A&1?vo[so++]*H(no):0;while(so<C){var _o=oo*ro[so];lo+=vo[so++]*(H(no+_o)+H(no-_o))}return oo*lo},findRoot:function(H,D,eo,A,ro,vo,oo){for(var no=0;no<vo;no++){var so=H(eo),C=so/D(eo),lo=eo-C;if(b(C)<oo){eo=lo;break}if(so>0)ro=eo,eo=lo<=A?(A+ro)*0.5:lo;else A=eo,eo=lo>=ro?(A+ro)*0.5:lo}return j(eo,A,ro)},solveQuadratic:function(H,D,eo,A,ro,vo){var oo,no=1/0;if(b(H)<U){if(b(D)<U)return b(eo)<U?-1:0;oo=-eo/D}else{D*=-0.5;var so=J(H,D,eo);if(so&&b(so)<K){var C=ao(b(H),b(D),b(eo));if(C)H*=C,D*=C,eo*=C,so=J(H,D,eo)}if(so>=-K){var lo=so<0?0:v(so),_o=D+(D<0?-lo:lo);if(_o===0)oo=eo/H,no=-oo;else oo=_o/H,no=eo/_o}}var mo=0,bo=ro==null,Oo=ro-U,No=vo+U;if(isFinite(oo)&&(bo||oo>Oo&&oo<No))A[mo++]=bo?oo:j(oo,ro,vo);if(no!==oo&&isFinite(no)&&(bo||no>Oo&&no<No))A[mo++]=bo?no:j(no,ro,vo);return mo},solveCubic:function(H,D,eo,A,ro,vo,oo){var no=ao(b(H),b(D),b(eo),b(A)),so,C,lo,_o,mo;if(no)H*=no,D*=no,eo*=no,A*=no;function bo(Fo){so=Fo;var Po=H*so;C=Po+D,lo=C*so+eo,_o=(Po+C)*so+lo,mo=lo*so+A}if(b(H)<U)H=D,C=eo,lo=A,so=1/0;else if(b(A)<U)C=D,lo=eo,so=0;else{bo(-(D/H)/3);var Oo=mo/H,No=M(b(Oo),0.3333333333333333),yo=Oo<0?-1:1,zo=-_o/H,ko=zo>0?1.324717957244746*Math.max(No,v(zo)):No,Zo=so-yo*ko;if(Zo!==so){do bo(Zo),Zo=_o===0?so:so-mo/_o/(1+K);while(yo*Zo>yo*so);if(b(H)*so*so>b(A/so))lo=-A/so,C=(lo-eo)/so}}var go=V.solveQuadratic(H,C,lo,ro,vo,oo),Vo=vo==null;if(isFinite(so)&&(go===0||go>0&&so!==ro[0]&&so!==ro[1])&&(Vo||so>vo-U&&so<oo+U))ro[go++]=Vo?so:j(so,vo,oo);return go}}},$={_id:1,_pools:{},get:function(n){if(n){var r=this._pools[n];if(!r)r=this._pools[n]={_id:1};return r._id++}else return this._id++}},x=h.extend({_class:"Point",_readIndex:!0,initialize:function n(r,b){var v=typeof r,M=this.__read,F=0;if(v==="number"){var U=typeof b==="number";if(this._set(r,U?b:r),M)F=U?2:1}else if(v==="undefined"||r===null){if(this._set(0,0),M)F=r===null?1:0}else{var K=v==="string"?r.split(/[\s,]+/)||[]:r;if(F=1,Array.isArray(K))this._set(+K[0],+(K.length>1?K[1]:K[0]));else if("x"in K)this._set(K.x||0,K.y||0);else if("width"in K)this._set(K.width||0,K.height||0);else if("angle"in K)this._set(K.length||0,0),this.setAngle(K.angle||0);else this._set(0,0),F=0}if(M)this.__read=F;return this},set:"#initialize",_set:function(n,r){return this.x=n,this.y=r,this},equals:function(n){return this===n||n&&(this.x===n.x&&this.y===n.y||Array.isArray(n)&&this.x===n[0]&&this.y===n[1])||!1},clone:function(){return new x(this.x,this.y)},toString:function(){var n=T.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+" }"},_serialize:function(n){var r=n.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(n){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*n,Math.sin(r)*n)}else{var b=n/this.getLength();if(V.isZero(b))this.getAngle();this._set(this.x*b,this.y*b)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(n){this.setAngleInRadians.call(this,n*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(!arguments.length)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);else{var n=x.read(arguments),r=this.getLength()*n.getLength();if(V.isZero(r))return NaN;else{var b=this.dot(n)/r;return Math.acos(b<-1?-1:b>1?1:b)}}},setAngleInRadians:function(n){if(this._angle=n,!this.isZero()){var r=this.getLength();this._set(Math.cos(n)*r,Math.sin(n)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var n=x.read(arguments);return Math.atan2(this.cross(n),this.dot(n))*180/Math.PI},getDistance:function(){var n=arguments,r=x.read(n),b=r.x-this.x,v=r.y-this.y,M=b*b+v*v,F=h.read(n);return F?M:Math.sqrt(M)},normalize:function(n){if(n===f)n=1;var r=this.getLength(),b=r!==0?n/r:0,v=new x(this.x*b,this.y*b);if(b>=0)v._angle=this._angle;return v},rotate:function(n,r){if(n===0)return this.clone();n=n*Math.PI/180;var b=r?this.subtract(r):this,v=Math.sin(n),M=Math.cos(n);return b=new x(b.x*M-b.y*v,b.x*v+b.y*M),r?b.add(r):b},transform:function(n){return n?n._transformPoint(this):this},add:function(){var n=x.read(arguments);return new x(this.x+n.x,this.y+n.y)},subtract:function(){var n=x.read(arguments);return new x(this.x-n.x,this.y-n.y)},multiply:function(){var n=x.read(arguments);return new x(this.x*n.x,this.y*n.y)},divide:function(){var n=x.read(arguments);return new x(this.x/n.x,this.y/n.y)},modulo:function(){var n=x.read(arguments);return new x(this.x%n.x,this.y%n.y)},negate:function(){return new x(-this.x,-this.y)},isInside:function(){return z.read(arguments).contains(this)},isClose:function(){var n=arguments,r=x.read(n),b=h.read(n);return this.getDistance(r)<=b},isCollinear:function(){var n=x.read(arguments);return x.isCollinear(this.x,this.y,n.x,n.y)},isColinear:"#isCollinear",isOrthogonal:function(){var n=x.read(arguments);return x.isOrthogonal(this.x,this.y,n.x,n.y)},isZero:function(){var n=V.isZero;return n(this.x)&&n(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(n){return this.x*(n>1&&n<4?-1:1)>=0&&this.y*(n>2?-1:1)>=0},dot:function(){var n=x.read(arguments);return this.x*n.x+this.y*n.y},cross:function(){var n=x.read(arguments);return this.x*n.y-this.y*n.x},project:function(){var n=x.read(arguments),r=n.isZero()?0:this.dot(n)/n.dot(n);return new x(n.x*r,n.y*r)},statics:{min:function(){var n=arguments,r=x.read(n),b=x.read(n);return new x(Math.min(r.x,b.x),Math.min(r.y,b.y))},max:function(){var n=arguments,r=x.read(n),b=x.read(n);return new x(Math.max(r.x,b.x),Math.max(r.y,b.y))},random:function(){return new x(Math.random(),Math.random())},isCollinear:function(n,r,b,v){return Math.abs(n*v-r*b)<=Math.sqrt((n*n+r*r)*(b*b+v*v))*0.00000001},isOrthogonal:function(n,r,b,v){return Math.abs(n*b+r*v)<=Math.sqrt((n*n+r*r)*(b*b+v*v))*0.00000001}}},h.each(["round","ceil","floor","abs"],function(n){var r=Math[n];this[n]=function(){return new x(r(this.x),r(this.y))}},{})),O=x.extend({initialize:function n(r,b,v,M){this._x=r,this._y=b,this._owner=v,this._setter=M},_set:function(n,r,b){if(this._x=n,this._y=r,!b)this._owner[this._setter](this);return this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),g=h.extend({_class:"Size",_readIndex:!0,initialize:function n(r,b){var v=typeof r,M=this.__read,F=0;if(v==="number"){var U=typeof b==="number";if(this._set(r,U?b:r),M)F=U?2:1}else if(v==="undefined"||r===null){if(this._set(0,0),M)F=r===null?1:0}else{var K=v==="string"?r.split(/[\s,]+/)||[]:r;if(F=1,Array.isArray(K))this._set(+K[0],+(K.length>1?K[1]:K[0]));else if("width"in K)this._set(K.width||0,K.height||0);else if("x"in K)this._set(K.x||0,K.y||0);else this._set(0,0),F=0}if(M)this.__read=F;return this},set:"#initialize",_set:function(n,r){return this.width=n,this.height=r,this},equals:function(n){return n===this||n&&(this.width===n.width&&this.height===n.height||Array.isArray(n)&&this.width===n[0]&&this.height===n[1])||!1},clone:function(){return new g(this.width,this.height)},toString:function(){var n=T.instance;return"{ width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var r=n.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var n=g.read(arguments);return new g(this.width+n.width,this.height+n.height)},subtract:function(){var n=g.read(arguments);return new g(this.width-n.width,this.height-n.height)},multiply:function(){var n=g.read(arguments);return new g(this.width*n.width,this.height*n.height)},divide:function(){var n=g.read(arguments);return new g(this.width/n.width,this.height/n.height)},modulo:function(){var n=g.read(arguments);return new g(this.width%n.width,this.height%n.height)},negate:function(){return new g(-this.width,-this.height)},isZero:function(){var n=V.isZero;return n(this.width)&&n(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(n,r){return new g(Math.min(n.width,r.width),Math.min(n.height,r.height))},max:function(n,r){return new g(Math.max(n.width,r.width),Math.max(n.height,r.height))},random:function(){return new g(Math.random(),Math.random())}}},h.each(["round","ceil","floor","abs"],function(n){var r=Math[n];this[n]=function(){return new g(r(this.width),r(this.height))}},{})),E=g.extend({initialize:function n(r,b,v,M){this._width=r,this._height=b,this._owner=v,this._setter=M},_set:function(n,r,b){if(this._width=n,this._height=r,!b)this._owner[this._setter](this);return this},getWidth:function(){return this._width},setWidth:function(n){this._width=n,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(n){this._height=n,this._owner[this._setter](this)}}),z=h.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function n(r,b,v,M){var F=arguments,U=typeof r,K;if(U==="number")this._set(r,b,v,M),K=4;else if(U==="undefined"||r===null)this._set(0,0,0,0),K=r===null?1:0;else if(F.length===1){if(Array.isArray(r))this._set.apply(this,r),K=1;else if(r.x!==f||r.width!==f)this._set(r.x||0,r.y||0,r.width||0,r.height||0),K=1;else if(r.from===f&&r.to===f){if(this._set(0,0,0,0),h.readSupported(F,this))K=1}}if(K===f){var j=x.readNamed(F,"from"),J=h.peek(F),ao=j.x,H=j.y,D,eo;if(J&&J.x!==f||h.hasNamed(F,"to")){var A=x.readNamed(F,"to");if(D=A.x-ao,eo=A.y-H,D<0)ao=A.x,D=-D;if(eo<0)H=A.y,eo=-eo}else{var ro=g.read(F);D=ro.width,eo=ro.height}this._set(ao,H,D,eo),K=F.__index}var vo=F.__filtered;if(vo)this.__filtered=vo;if(this.__read)this.__read=K;return this},set:"#initialize",_set:function(n,r,b,v){return this.x=n,this.y=r,this.width=b,this.height=v,this},clone:function(){return new z(this.x,this.y,this.width,this.height)},equals:function(n){var r=h.isPlainValue(n)?z.read(arguments):n;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var n=T.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+", width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var r=n.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(n){var r=n?x:O;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var n=x.read(arguments);this.x=n.x,this.y=n.y},getSize:function(n){var r=n?g:E;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var n=g.read(arguments),r=this._sx,b=this._sy,v=n.width,M=n.height;if(r)this.x+=(this.width-v)*r;if(b)this.y+=(this.height-M)*b;this.width=v,this.height=M,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(n){if(!this._fw){var r=n-this.x;this.width-=this._sx===0.5?r*2:r}this.x=n,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(n){if(!this._fh){var r=n-this.y;this.height-=this._sy===0.5?r*2:r}this.y=n,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(n){if(!this._fw){var r=n-this.x;this.width=this._sx===0.5?r*2:r}this.x=n-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(n){if(!this._fh){var r=n-this.y;this.height=this._sy===0.5?r*2:r}this.y=n-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(n){if(this._fw||this._sx===0.5)this.x=n-this.width/2;else{if(this._sx)this.x+=(n-this.x)*2*this._sx;this.width=(n-this.x)*2}this._sx=0.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(n){if(this._fh||this._sy===0.5)this.y=n-this.height/2;else{if(this._sy)this.y+=(n-this.y)*2*this._sy;this.height=(n-this.y)*2}this._sy=0.5,this._fh=0},getCenter:function(n){var r=n?x:O;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var n=x.read(arguments);return this.setCenterX(n.x),this.setCenterY(n.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(n){return n&&n.width!==f||(Array.isArray(n)?n:arguments).length===4?this._containsRectangle(z.read(arguments)):this._containsPoint(x.read(arguments))},_containsPoint:function(n){var{x:r,y:b}=n;return r>=this.x&&b>=this.y&&r<=this.x+this.width&&b<=this.y+this.height},_containsRectangle:function(n){var{x:r,y:b}=n;return r>=this.x&&b>=this.y&&r+n.width<=this.x+this.width&&b+n.height<=this.y+this.height},intersects:function(){var n=z.read(arguments),r=h.read(arguments)||0;return n.x+n.width>this.x-r&&n.y+n.height>this.y-r&&n.x<this.x+this.width+r&&n.y<this.y+this.height+r},intersect:function(){var n=z.read(arguments),r=Math.max(this.x,n.x),b=Math.max(this.y,n.y),v=Math.min(this.x+this.width,n.x+n.width),M=Math.min(this.y+this.height,n.y+n.height);return new z(r,b,v-r,M-b)},unite:function(){var n=z.read(arguments),r=Math.min(this.x,n.x),b=Math.min(this.y,n.y),v=Math.max(this.x+this.width,n.x+n.width),M=Math.max(this.y+this.height,n.y+n.height);return new z(r,b,v-r,M-b)},include:function(){var n=x.read(arguments),r=Math.min(this.x,n.x),b=Math.min(this.y,n.y),v=Math.max(this.x+this.width,n.x),M=Math.max(this.y+this.height,n.y);return new z(r,b,v-r,M-b)},expand:function(){var n=g.read(arguments),r=n.width,b=n.height;return new z(this.x-r/2,this.y-b/2,this.width+r,this.height+b)},scale:function(n,r){return this.expand(this.width*n-this.width,this.height*(r===f?n:r)-this.height)}},h.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(n,r){var b=n.join(""),v=/^[RL]/.test(b);if(r>=4)n[1]+=v?"Y":"X";var M=n[v?0:1],F=n[v?1:0],U="get"+M,K="get"+F,j="set"+M,J="set"+F,ao="get"+b,H="set"+b;this[ao]=function(D){var eo=D?x:O;return new eo(this[U](),this[K](),this,H)},this[H]=function(){var D=x.read(arguments);this[j](D.x),this[J](D.y)}},{beans:!0})),P=z.extend({initialize:function n(r,b,v,M,F,U){this._set(r,b,v,M,!0),this._owner=F,this._setter=U},_set:function(n,r,b,v,M){if(this._x=n,this._y=r,this._width=b,this._height=v,!M)this._owner[this._setter](this);return this}},new function(){var n=z.prototype;return h.each(["x","y","width","height"],function(r){var b=h.capitalize(r),v="_"+r;this["get"+b]=function(){return this[v]},this["set"+b]=function(M){if(this[v]=M,!this._dontNotify)this._owner[this._setter](this)}},h.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var b="set"+r;this[b]=function(){this._dontNotify=!0,n[b].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var b=this._owner;if(b._changeSelection)b._changeSelection(2,r)}}))}),Y=h.extend({_class:"Matrix",initialize:function n(r,b){var v=arguments,M=v.length,F=!0;if(M>=6)this._set.apply(this,v);else if(M===1||M===2)if(r instanceof n)this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,b);else if(Array.isArray(r))this._set.apply(this,b?r.concat([b]):r);else F=!1;else if(!M)this.reset();else F=!1;if(!F)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(n,r,b,v,M,F,U){if(this._a=n,this._b=r,this._c=b,this._d=v,this._tx=M,this._ty=F,!U)this._changed();return this},_serialize:function(n,r){return h.serialize(this.getValues(),n,!0,r)},_changed:function(){var n=this._owner;if(n)if(n._applyMatrix)n.transform(null,!0);else n._changed(25)},clone:function(){return new Y(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(n){return n===this||n&&this._a===n._a&&this._b===n._b&&this._c===n._c&&this._d===n._d&&this._tx===n._tx&&this._ty===n._ty},toString:function(){var n=T.instance;return"[["+[n.number(this._a),n.number(this._c),n.number(this._tx)].join(", ")+"], ["+[n.number(this._b),n.number(this._d),n.number(this._ty)].join(", ")+"]]"},reset:function(n){if(this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,!n)this._changed();return this},apply:function(n,r){var b=this._owner;if(b)return b.transform(null,h.pick(n,!0),r),this.isIdentity();return!1},translate:function(){var n=x.read(arguments),r=n.x,b=n.y;return this._tx+=r*this._a+b*this._c,this._ty+=r*this._b+b*this._d,this._changed(),this},scale:function(){var n=arguments,r=x.read(n),b=x.read(n,0,{readNull:!0});if(b)this.translate(b);if(this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,b)this.translate(b.negate());return this._changed(),this},rotate:function(n){n*=Math.PI/180;var r=x.read(arguments,1),b=r.x,v=r.y,M=Math.cos(n),F=Math.sin(n),U=b-b*M+v*F,K=v-b*F-v*M,j=this._a,J=this._b,ao=this._c,H=this._d;return this._a=M*j+F*ao,this._b=M*J+F*H,this._c=-F*j+M*ao,this._d=-F*J+M*H,this._tx+=U*j+K*ao,this._ty+=U*J+K*H,this._changed(),this},shear:function(){var n=arguments,r=x.read(n),b=x.read(n,0,{readNull:!0});if(b)this.translate(b);var v=this._a,M=this._b;if(this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*v,this._d+=r.x*M,b)this.translate(b.negate());return this._changed(),this},skew:function(){var n=arguments,r=x.read(n),b=x.read(n,0,{readNull:!0}),v=Math.PI/180,M=new x(Math.tan(r.x*v),Math.tan(r.y*v));return this.shear(M,b)},append:function(n,r){if(n){var b=this._a,v=this._b,M=this._c,F=this._d,U=n._a,K=n._c,j=n._b,J=n._d,ao=n._tx,H=n._ty;if(this._a=U*b+j*M,this._c=K*b+J*M,this._b=U*v+j*F,this._d=K*v+J*F,this._tx+=ao*b+H*M,this._ty+=ao*v+H*F,!r)this._changed()}return this},prepend:function(n,r){if(n){var b=this._a,v=this._b,M=this._c,F=this._d,U=this._tx,K=this._ty,j=n._a,J=n._c,ao=n._b,H=n._d,D=n._tx,eo=n._ty;if(this._a=j*b+J*v,this._c=j*M+J*F,this._b=ao*b+H*v,this._d=ao*M+H*F,this._tx=j*U+J*K+D,this._ty=ao*U+H*K+eo,!r)this._changed()}return this},appended:function(n){return this.clone().append(n)},prepended:function(n){return this.clone().prepend(n)},invert:function(){var n=this._a,r=this._b,b=this._c,v=this._d,M=this._tx,F=this._ty,U=n*v-r*b,K=null;if(U&&!isNaN(U)&&isFinite(M)&&isFinite(F))this._a=v/U,this._b=-r/U,this._c=-b/U,this._d=n/U,this._tx=(b*F-v*M)/U,this._ty=(r*M-n*F)/U,K=this;return K},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Y(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var n=this._a*this._d-this._c*this._b;return n&&!isNaN(n)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(n,r,b){return arguments.length<3?this._transformPoint(x.read(arguments)):this._transformCoordinates(n,r,b)},_transformPoint:function(n,r,b){var{x:v,y:M}=n;if(!r)r=new x;return r._set(v*this._a+M*this._c+this._tx,v*this._b+M*this._d+this._ty,b)},_transformCoordinates:function(n,r,b){for(var v=0,M=2*b;v<M;v+=2){var F=n[v],U=n[v+1];r[v]=F*this._a+U*this._c+this._tx,r[v+1]=F*this._b+U*this._d+this._ty}return r},_transformCorners:function(n){var{x:r,y:b}=n,v=r+n.width,M=b+n.height,F=[r,b,v,b,v,M,r,M];return this._transformCoordinates(F,F,4)},_transformBounds:function(n,r,b){var v=this._transformCorners(n),M=v.slice(0,2),F=M.slice();for(var U=2;U<8;U++){var K=v[U],j=U&1;if(K<M[j])M[j]=K;else if(K>F[j])F[j]=K}if(!r)r=new z;return r._set(M[0],M[1],F[0]-M[0],F[1]-M[1],b)},inverseTransform:function(){return this._inverseTransform(x.read(arguments))},_inverseTransform:function(n,r,b){var v=this._a,M=this._b,F=this._c,U=this._d,K=this._tx,j=this._ty,J=v*U-M*F,ao=null;if(J&&!isNaN(J)&&isFinite(K)&&isFinite(j)){var H=n.x-this._tx,D=n.y-this._ty;if(!r)r=new x;ao=r._set((H*U-D*F)/J,(D*v-H*M)/J,b)}return ao},decompose:function(){var n=this._a,r=this._b,b=this._c,v=this._d,M=n*v-r*b,F=Math.sqrt,U=Math.atan2,K=180/Math.PI,j,J,ao;if(n!==0||r!==0){var H=F(n*n+r*r);j=Math.acos(n/H)*(r>0?1:-1),J=[H,M/H],ao=[U(n*b+r*v,H*H),0]}else if(b!==0||v!==0){var D=F(b*b+v*v);j=Math.asin(b/D)*(v>0?1:-1),J=[M/D,D],ao=[0,U(n*b+r*v,D*D)]}else j=0,ao=J=[0,0];return{translation:this.getTranslation(),rotation:j*K,scaling:new x(J),skewing:new x(ao[0]*K,ao[1]*K)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new x(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(n){if(!this.isIdentity())n.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},h.each(["a","b","c","d","tx","ty"],function(n){var r=h.capitalize(n),b="_"+n;this["get"+r]=function(){return this[b]},this["set"+r]=function(v){this[b]=v,this._changed()}},{})),B=h.extend({_class:"Line",initialize:function n(r,b,v,M,F){var U=!1;if(arguments.length>=4)this._px=r,this._py=b,this._vx=v,this._vy=M,U=F;else this._px=r.x,this._py=r.y,this._vx=b.x,this._vy=b.y,U=v;if(!U)this._vx-=this._px,this._vy-=this._py},getPoint:function(){return new x(this._px,this._py)},getVector:function(){return new x(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(n,r){return B.intersect(this._px,this._py,this._vx,this._vy,n._px,n._py,n._vx,n._vy,!0,r)},getSide:function(n,r){return B.getSide(this._px,this._py,this._vx,this._vy,n.x,n.y,!0,r)},getDistance:function(n){return Math.abs(this.getSignedDistance(n))},getSignedDistance:function(n){return B.getSignedDistance(this._px,this._py,this._vx,this._vy,n.x,n.y,!0)},isCollinear:function(n){return x.isCollinear(this._vx,this._vy,n._vx,n._vy)},isOrthogonal:function(n){return x.isOrthogonal(this._vx,this._vy,n._vx,n._vy)},statics:{intersect:function(n,r,b,v,M,F,U,K,j,J){if(!j)b-=n,v-=r,U-=M,K-=F;var ao=b*K-v*U;if(!V.isMachineZero(ao)){var H=n-M,D=r-F,eo=(U*D-K*H)/ao,A=(b*D-v*H)/ao,ro=0.000000000001,vo=-ro,oo=1+ro;if(J||vo<eo&&eo<oo&&vo<A&&A<oo){if(!J)eo=eo<=0?0:eo>=1?1:eo;return new x(n+eo*b,r+eo*v)}}},getSide:function(n,r,b,v,M,F,U,K){if(!U)b-=n,v-=r;var j=M-n,J=F-r,ao=j*v-J*b;if(!K&&V.isMachineZero(ao)){if(ao=(j*b+j*b)/(b*b+v*v),ao>=0&&ao<=1)ao=0}return ao<0?-1:ao>0?1:0},getSignedDistance:function(n,r,b,v,M,F,U){if(!U)b-=n,v-=r;return b===0?v>0?M-n:n-M:v===0?b<0?F-r:r-F:((M-n)*v-(F-r)*b)/(v>b?v*Math.sqrt(1+b*b/(v*v)):b*Math.sqrt(1+v*v/(b*b)))},getDistance:function(n,r,b,v,M,F,U){return Math.abs(B.getSignedDistance(n,r,b,v,M,F,U))}}}),uo=k.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function n(r){k.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ho(null,null,this),this._view=Lo.create(this,r||Qo.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(n,r){return h.serialize(this._children,n,!0,r)},_changed:function(n,r){if(n&1){var b=this._view;if(b){if(b._needsUpdate=!0,!b._requested&&b._autoUpdate)b.requestUpdate()}}var v=this._changes;if(v&&r){var M=this._changesById,F=r._id,U=M[F];if(U)U.flags|=n;else v.push(M[F]={item:r,flags:n})}},clear:function(){var n=this._children;for(var r=n.length-1;r>=0;r--)n[r].remove()},isEmpty:function(){return!this._children.length},remove:function n(){if(!n.base.call(this))return!1;if(this._view)this._view.remove();return!0},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(n){this._currentStyle.set(n)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new co({project:this,insert:!0})},getSymbolDefinitions:function(){var n=[],r={};return this.getItems({class:e,match:function(b){var v=b._definition,M=v._id;if(!r[M])r[M]=!0,n.push(v);return!1}}),n},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var n=this._selectionItems,r=[];for(var b in n){var v=n[b],M=v._selection;if(M&1&&v.isInserted())r.push(v);else if(!M)this._updateSelection(v)}return r},_updateSelection:function(n){var r=n._id,b=this._selectionItems;if(n._selection){if(b[r]!==n)this._selectionCount++,b[r]=n}else if(b[r]===n)this._selectionCount--,delete b[r]},selectAll:function(){var n=this._children;for(var r=0,b=n.length;r<b;r++)n[r].setFullySelected(!0)},deselectAll:function(){var n=this._selectionItems;for(var r in n)n[r].setFullySelected(!1)},addLayer:function(n){return this.insertLayer(f,n)},insertLayer:function(n,r){if(r instanceof co){r._remove(!1,!0),h.splice(this._children,[r],n,0),r._setProject(this,!0);var b=r._name;if(b)r.setName(b);if(this._changes)r._changed(5);if(!this._activeLayer)this._activeLayer=r}else r=null;return r},_insertItem:function(n,r,b){if(r=this.insertLayer(n,r)||(this._activeLayer||this._insertItem(f,new co(to.NO_INSERT),!0)).insertChild(n,r),b&&r.activate)r.activate();return r},getItems:function(n){return to._getItems(this,n)},getItem:function(n){return to._getItems(this,n,null,null,!0)[0]||null},importJSON:function(n){this.activate();var r=this._activeLayer;return h.importJSON(n,r&&r.isEmpty()&&r)},removeOn:function(n){var r=this._removeSets;if(r){if(n==="mouseup")r.mousedrag=null;var b=r[n];if(b){for(var v in b){var M=b[v];for(var F in r){var U=r[F];if(U&&U!=b)delete U[M._id]}M.remove()}r[n]=null}}},draw:function(n,r,b){this._updateVersion++,n.save(),r.applyToContext(n);var v=this._children,M=new h({offset:new x(0,0),pixelRatio:b,viewMatrix:r.isIdentity()?null:r,matrices:[new Y],updateMatrix:!0});for(var F=0,U=v.length;F<U;F++)v[F].draw(n,M);if(n.restore(),this._selectionCount>0){n.save(),n.strokeWidth=1;var K=this._selectionItems,j=this._scope.settings.handleSize,J=this._updateVersion;for(var ao in K)K[ao]._drawSelection(n,r,j,K,J);n.restore()}}}),to=h.extend(L,{statics:{extend:function n(r){if(r._serializeFields)r._serializeFields=h.set({},this.prototype._serializeFields,r._serializeFields);return n.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Y,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var n=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return h.each(n,function(r){this._events[r]={install:function(b){this.getView()._countItemEvent(b,1)},uninstall:function(b){this.getView()._countItemEvent(b,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:n}})},{initialize:function n(){},_initialize:function(n,r){var b=n&&h.isPlainObject(n),v=b&&n.internal===!0,M=this._matrix=new Y,F=b&&n.project||W.project,U=W.settings;if(this._id=v?null:$.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&U.applyMatrix,r)M.translate(r);if(M._owner=this,this._style=new ho(F._currentStyle,this,F),v||b&&n.insert==!1||!U.insertItems&&!(b&&n.insert==!0))this._setProject(F);else(b&&n.parent||F)._insertItem(f,this,!0);if(b&&n!==to.NO_INSERT&&n!==to.INSERT)this.set(n,{internal:!0,insert:!0,project:!0,parent:!0});return b},_serialize:function(n,r){var b={},v=this;function M(F){for(var U in F){var K=v[U];if(!h.equals(K,U==="leading"?F.fontSize*1.2:F[U]))b[U]=h.serialize(K,n,U!=="data",r)}}if(M(this._serializeFields),!(this instanceof To))M(this._style._defaults);return[this._class,b]},_changed:function(n){var r=this._symbol,b=this._parent||r,v=this._project;if(n&8)this._bounds=this._position=this._decomposed=f;if(n&16)this._globalMatrix=f;if(b&&n&72)to._clearBoundsCache(b);if(n&2)to._clearBoundsCache(this);if(v)v._changed(n,this);if(r)r._changed(n)},getId:function(){return this._id},getName:function(){return this._name},setName:function(n){if(this._name)this._removeNamed();if(n===+n+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(n&&r){var{_children:b,_namedChildren:v}=r;if((v[n]=v[n]||[]).push(this),!(n in b))b[n]=this}this._name=n||f,this._changed(256)},getStyle:function(){return this._style},setStyle:function(n){this.getStyle().set(n)}},h.each(["locked","visible","blendMode","opacity","guide"],function(n){var r=h.capitalize(n),b="_"+n,v={locked:256,visible:265};this["get"+r]=function(){return this[b]},this["set"+r]=function(M){if(M!=this[b])this[b]=M,this._changed(v[n]||257)}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(n){if(n!==this._selection){this._selection=n;var r=this._project;if(r)r._updateSelection(this),this._changed(257)}},_changeSelection:function(n,r){var b=this._selection;this.setSelection(r?b|n:b&~n)},isSelected:function(){if(this._selectChildren){var n=this._children;for(var r=0,b=n.length;r<b;r++)if(n[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(n){if(this._selectChildren){var r=this._children;for(var b=0,v=r.length;b<v;b++)r[b].setSelected(n)}this._changeSelection(1,n)},isFullySelected:function(){var n=this._children,r=!!(this._selection&1);if(n&&r){for(var b=0,v=n.length;b<v;b++)if(!n[b].isFullySelected())return!1;return!0}return r},setFullySelected:function(n){var r=this._children;if(r)for(var b=0,v=r.length;b<v;b++)r[b].setFullySelected(n);this._changeSelection(1,n)},isClipMask:function(){return this._clipMask},setClipMask:function(n){if(this._clipMask!=(n=!!n)){if(this._clipMask=n,n)this.setFillColor(null),this.setStrokeColor(null);if(this._changed(257),this._parent)this._parent._changed(2048)}},getData:function(){if(!this._data)this._data={};return this._data},setData:function(n){this._data=n},getPosition:function(n){var r=n?x:O,b=this._position||(this._position=this._getPositionFromBounds());return new r(b.x,b.y,this,"setPosition")},setPosition:function(){this.translate(x.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(n){return this._pivot?this._matrix._transformPoint(this._pivot):(n||this.getBounds()).getCenter(!0)},getPivot:function(){var n=this._pivot;return n?new O(n.x,n.y,this,"setPivot"):null},setPivot:function(){this._pivot=x.read(arguments,0,{clone:!0,readNull:!0}),this._position=f}},h.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(n,r){this[r]=function(b){return this.getBounds(b,n)}},{beans:!0,getBounds:function(n,r){var b=r||n instanceof Y,v=h.set({},b?r:n,this._boundsOptions);if(!v.stroke||this.getStrokeScaling())v.cacheItem=this;var M=this._getCachedBounds(b&&n,v).rect;return!arguments.length?new P(M.x,M.y,M.width,M.height,this,"setBounds"):M},setBounds:function(){var n=z.read(arguments),r=this.getBounds(),b=this._matrix,v=new Y,M=n.getCenter();if(v.translate(M),n.width!=r.width||n.height!=r.height){if(!b.isInvertible())b.set(b._backup||new Y().translate(b.getTranslation())),r=this.getBounds();v.scale(r.width!==0?n.width/r.width:0,r.height!==0?n.height/r.height:0)}M=r.getCenter(),v.translate(-M.x,-M.y),this.transform(v)},_getBounds:function(n,r){var b=this._children;if(!b||!b.length)return new z;return to._updateBoundsCache(this,r.cacheItem),to._getBounds(b,n,r)},_getBoundsCacheKey:function(n,r){return[n.stroke?1:0,n.handle?1:0,r?1:0].join("")},_getCachedBounds:function(n,r,b){n=n&&n._orNullIfIdentity();var v=r.internal&&!b,M=r.cacheItem,F=v?null:this._matrix._orNullIfIdentity(),U=M&&(!n||n.equals(F))&&this._getBoundsCacheKey(r,v),K=this._bounds;if(to._updateBoundsCache(this._parent||this._symbol,M),U&&K&&U in K){var j=K[U];return{rect:j.rect.clone(),nonscaling:j.nonscaling}}var J=this._getBounds(n||F,r),ao=J.rect||J,H=this._style,D=J.nonscaling||H.hasStroke()&&!H.getStrokeScaling();if(U){if(!K)this._bounds=K={};var j=K[U]={rect:ao.clone(),nonscaling:D,internal:v}}return{rect:ao,nonscaling:D}},_getStrokeMatrix:function(n,r){var b=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,v=b?b.getViewMatrix().invert():n;return v&&v._shiftless()},statics:{_updateBoundsCache:function(n,r){if(n&&r){var b=r._id,v=n._boundsCache=n._boundsCache||{ids:{},list:[]};if(!v.ids[b])v.list.push(r),v.ids[b]=r}},_clearBoundsCache:function(n){var r=n._boundsCache;if(r){n._bounds=n._position=n._boundsCache=f;for(var b=0,v=r.list,M=v.length;b<M;b++){var F=v[b];if(F!==n){if(F._bounds=F._position=f,F._boundsCache)to._clearBoundsCache(F)}}}},_getBounds:function(n,r,b){var v=1/0,M=-v,F=v,U=M,K=!1;b=b||{};for(var j=0,J=n.length;j<J;j++){var ao=n[j];if(ao._visible&&!ao.isEmpty(!0)){var H=ao._getCachedBounds(r&&r.appended(ao._matrix),b,!0),D=H.rect;if(v=Math.min(D.x,v),F=Math.min(D.y,F),M=Math.max(D.x+D.width,M),U=Math.max(D.y+D.height,U),H.nonscaling)K=!0}}return{rect:isFinite(v)?new z(v,F,M-v,U-F):new z,nonscaling:K}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var n=this._decompose();return n?n.rotation:0},setRotation:function(n){var r=this.getRotation();if(r!=null&&n!=null){var b=this._decomposed;if(this.rotate(n-r),b)b.rotation=n,this._decomposed=b}},getScaling:function(){var n=this._decompose(),r=n&&n.scaling;return new O(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var n=this.getScaling(),r=x.read(arguments,0,{clone:!0,readNull:!0});if(n&&r&&!n.equals(r)){var b=this.getRotation(),v=this._decomposed,M=new Y,F=V.isZero;if(F(n.x)||F(n.y)){if(M.translate(v.translation),b)M.rotate(b);M.scale(r.x,r.y),this._matrix.set(M)}else{var U=this.getPosition(!0);if(M.translate(U),b)M.rotate(b);if(M.scale(r.x/n.x,r.y/n.y),b)M.rotate(-b);M.translate(U.negate()),this.transform(M)}if(v)v.scaling=r,this._decomposed=v}},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},getGlobalMatrix:function(n){var r=this._globalMatrix;if(r){var b=this._parent,v=[];while(b){if(!b._globalMatrix){r=null;for(var M=0,F=v.length;M<F;M++)v[M]._globalMatrix=null;break}v.push(b),b=b._parent}}if(!r){r=this._globalMatrix=this._matrix.clone();var b=this._parent;if(b)r.prepend(b.getGlobalMatrix(!0))}return n?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(n){if(this._applyMatrix=this._canApplyMatrix&&!!n)this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(n,r){if(this._project!==n){if(this._project)this._installEvents(!1);this._project=n;var b=this._children;for(var v=0,M=b&&b.length;v<M;v++)b[v]._setProject(n);r=!0}if(r)this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function n(r){n.base.call(this,r);var b=this._children;for(var v=0,M=b&&b.length;v<M;v++)b[v]._installEvents(r)},getLayer:function(){var n=this;while(n=n._parent)if(n instanceof co)return n;return null},getParent:function(){return this._parent},setParent:function(n){return n.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(n){this.removeChildren(),this.addChildren(n)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var n=this._getOwner();return n&&n._children[this._index+1]||null},getPreviousSibling:function(){var n=this._getOwner();return n&&n._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(n){var r=this._parent,b=r&&r._children;if(b)r.insertChildren(n in b?n:f,[this])},equals:function(n){return n===this||n&&this._class===n._class&&this._style.equals(n._style)&&this._matrix.equals(n._matrix)&&this._locked===n._locked&&this._visible===n._visible&&this._blendMode===n._blendMode&&this._opacity===n._opacity&&this._clipMask===n._clipMask&&this._guide===n._guide&&this._equals(n)||!1},_equals:function(n){return h.equals(this._children,n._children)},clone:function(n){var r=new this.constructor(to.NO_INSERT),b=this._children,v=h.pick(n?n.insert:f,n===f||n===!0),M=h.pick(n?n.deep:f,!0);if(b)r.copyAttributes(this);if(!b||M)r.copyContent(this);if(!b)r.copyAttributes(this);if(v)r.insertAbove(this);var F=this._name,U=this._parent;if(F&&U){var b=U._children,K=F,j=1;while(b[F])F=K+" "+j++;if(F!==K)r.setName(F)}return r},copyContent:function(n){var r=n._children;for(var b=0,v=r&&r.length;b<v;b++)this.addChild(r[b].clone(!1),!0)},copyAttributes:function(n,r){this.setStyle(n._style);var b=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"];for(var v=0,M=b.length;v<M;v++){var F=b[v];if(n.hasOwnProperty(F))this[F]=n[F]}if(!r)this._matrix.set(n._matrix,!0);this.setApplyMatrix(n._applyMatrix),this.setPivot(n._pivot),this.setSelection(n._selection);var{_data:U,_name:K}=n;if(this._data=U?h.clone(U):null,K)this.setName(K)},rasterize:function(n,r){var b,v,M;if(h.isPlainObject(n))b=n.resolution,v=n.insert,M=n.raster;else b=n,v=r;if(!M)M=new o(to.NO_INSERT);var F=this.getStrokeBounds(),U=(b||this.getView().getResolution())/72,K=F.getTopLeft().floor(),j=F.getBottomRight().ceil(),J=new g(j.subtract(K)),ao=J.multiply(U);if(M.setSize(ao,!0),!ao.isZero()){var H=M.getContext(!0),D=new Y().scale(U).translate(K.negate());H.save(),D.applyToContext(H),this.draw(H,new h({matrices:[D]})),H.restore()}if(M._matrix.set(new Y().translate(K.add(J.divide(2))).scale(1/U)),v===f||v)M.insertAbove(this);return M},contains:function(){var n=this._matrix;return n.isInvertible()&&!!this._contains(n._inverseTransform(x.read(arguments)))},_contains:function(n){var r=this._children;if(r){for(var b=r.length-1;b>=0;b--)if(r[b].contains(n))return!0;return!1}return n.isInside(this.getInternalBounds())},isInside:function(){return z.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new m.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(n,r){if(!(n instanceof to))return!1;return this._asPathItem().getIntersections(n._asPathItem(),null,r,!0).length>0}},new function(){function n(){var v=arguments;return this._hitTest(x.read(v),s.getOptions(v))}function r(){var v=arguments,M=x.read(v),F=s.getOptions(v),U=[];return this._hitTest(M,new h({all:U},F)),U}function b(v,M,F,U){var K=this._children;if(K)for(var j=K.length-1;j>=0;j--){var J=K[j],ao=J!==U&&J._hitTest(v,M,F);if(ao&&!M.all)return ao}return null}return uo.inject({hitTest:n,hitTestAll:r,_hitTest:b}),{hitTest:n,hitTestAll:r,_hitTestChildren:b}},{_hitTest:function(n,r,b){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var v=this._matrix,M=b?b.appended(v):this.getGlobalMatrix().prepend(this.getView()._matrix),F=Math.max(r.tolerance,0.000000000001),U=r._tolerancePadding=new g(m._getStrokePadding(F,v._shiftless().invert()));if(n=v._inverseTransform(n),!n||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(U.multiply(2))._containsPoint(n))return null;var K=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==h.hyphenate(this._class)||r.class&&!(this instanceof r.class)),j=r.match,J=this,ao,H;function D(so){if(so&&j&&!j(so))so=null;if(so&&r.all)r.all.push(so);return so}function eo(so,C){var lo=C?ao["get"+C]():J.getPosition();if(n.subtract(lo).divide(U).length<=1)return new s(so,J,{name:C?h.hyphenate(C):so,point:lo})}var{position:A,center:ro,bounds:vo}=r;if(K&&this._parent&&(A||ro||vo)){if(ro||vo)ao=this.getInternalBounds();if(H=A&&eo("position")||ro&&eo("center","Center"),!H&&vo){var oo=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"];for(var no=0;no<8&&!H;no++)H=eo("bounds",oo[no])}H=D(H)}if(!H)H=this._hitTestChildren(n,r,M)||K&&D(this._hitTestSelf(n,r,M,this.getStrokeScaling()?null:M._shiftless().invert()))||null;if(H&&H.point)H.point=v.transform(H.point);return H},_hitTestSelf:function(n,r){if(r.fill&&this.hasFill()&&this._contains(n))return new s("fill",this)},matches:function(n,r){function b(U,K){for(var j in U)if(U.hasOwnProperty(j)){var J=U[j],ao=K[j];if(h.isPlainObject(J)&&h.isPlainObject(ao)){if(!b(J,ao))return!1}else if(!h.equals(J,ao))return!1}return!0}var v=typeof n;if(v==="object"){for(var M in n)if(n.hasOwnProperty(M)&&!this.matches(M,n[M]))return!1;return!0}else if(v==="function")return n(this);else if(n==="match")return r(this);else{var F=/^(empty|editable)$/.test(n)?this["is"+h.capitalize(n)]():n==="type"?h.hyphenate(this._class):this[n];if(n==="class"){if(typeof r==="function")return this instanceof r;F=this._class}if(typeof r==="function")return!!r(F);else if(r){if(r.test)return r.test(F);else if(h.isPlainObject(r))return b(r,F)}return h.equals(F,r)}},getItems:function(n){return to._getItems(this,n,this._matrix)},getItem:function(n){return to._getItems(this,n,this._matrix,null,!0)[0]||null},statics:{_getItems:function n(r,b,v,M,F){if(!M){var U=typeof b==="object"&&b,K=U&&U.overlapping,j=U&&U.inside,J=K||j,D=J&&z.read([J]);if(M={items:[],recursive:U&&U.recursive!==!1,inside:!!j,overlapping:!!K,rect:D,path:K&&new m.Rectangle({rectangle:D,insert:!1})},U)b=h.filter({},b,{recursive:!0,inside:!0,overlapping:!0})}var ao=r._children,H=M.items,D=M.rect;v=D&&(v||new Y);for(var eo=0,A=ao&&ao.length;eo<A;eo++){var ro=ao[eo],vo=v&&v.appended(ro._matrix),oo=!0;if(D){var J=ro.getBounds(vo);if(!D.intersects(J))continue;if(!(D.contains(J)||M.overlapping&&(J.contains(D)||M.path.intersects(ro,vo))))oo=!1}if(oo&&ro.matches(b)){if(H.push(ro),F)break}if(M.recursive!==!1)n(ro,b,vo,M,F);if(F&&H.length>0)break}return H}}},{importJSON:function(n){var r=h.importJSON(n,this);return r!==this?this.addChild(r):r},addChild:function(n){return this.insertChild(f,n)},insertChild:function(n,r){var b=r?this.insertChildren(n,[r]):null;return b&&b[0]},addChildren:function(n){return this.insertChildren(this._children.length,n)},insertChildren:function(n,r){var b=this._children;if(b&&r&&r.length>0){r=h.slice(r);var v={};for(var M=r.length-1;M>=0;M--){var F=r[M],U=F&&F._id;if(!F||v[U])r.splice(M,1);else F._remove(!1,!0),v[U]=!0}h.splice(b,r,n,0);var K=this._project,j=K._changes;for(var M=0,J=r.length;M<J;M++){var F=r[M],ao=F._name;if(F._parent=this,F._setProject(K,!0),ao)F.setName(ao);if(j)F._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(n,r){var b=n&&n._getOwner(),v=n!==this&&b?this:null;if(v)v._remove(!1,!0),b._insertItem(n._index+r,v);return v},insertAbove:function(n){return this._insertAt(n,1)},insertBelow:function(n){return this._insertAt(n,0)},sendToBack:function(){var n=this._getOwner();return n?n._insertItem(0,this):null},bringToFront:function(){var n=this._getOwner();return n?n._insertItem(f,this):null},appendTop:"#addChild",appendBottom:function(n){return this.insertChild(0,n)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(n){return n._insertItem(f,this)},copyTo:function(n){return this.clone(!1).addTo(n)},reduce:function(n){var r=this._children;if(r&&r.length===1){var b=r[0].reduce(n);if(this._parent)b.insertAbove(this),this.remove();else b.remove();return b}return this},_removeNamed:function(){var n=this._getOwner();if(n){var{_children:r,_namedChildren:b}=n,v=this._name,M=b[v],F=M?M.indexOf(this):-1;if(F!==-1){if(r[v]==this)delete r[v];if(M.splice(F,1),M.length)r[v]=M[0];else delete b[v]}}},_remove:function(n,r){var b=this._getOwner(),v=this._project,M=this._index;if(this._style)this._style._dispose();if(b){if(this._name)this._removeNamed();if(M!=null){if(v._activeLayer===this)v._activeLayer=this.getNextSibling()||this.getPreviousSibling();h.splice(b._children,null,M,1)}if(this._installEvents(!1),n&&v._changes)this._changed(5);if(r)b._changed(11,this);return this._parent=null,!0}return!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(n){var r=n&&n.insertBelow(this);if(r)this.remove();return r},removeChildren:function(n,r){if(!this._children)return null;n=n||0,r=h.pick(r,this._children.length);var b=h.splice(this._children,null,n,r-n);for(var v=b.length-1;v>=0;v--)b[v]._remove(!0,!1);if(b.length>0)this._changed(11);return b},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var n=0,r=this._children.length;n<r;n++)this._children[n]._index=n;this._changed(11)}},isEmpty:function(n){var r=this._children,b=r?r.length:0;if(n){for(var v=0;v<b;v++)if(!r[v].isEmpty(n))return!1;return!0}return!b},isEditable:function(){var n=this;while(n){if(!n._visible||n._locked)return!1;n=n._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(n){function r(U){var K=[];do K.unshift(U);while(U=U._parent);return K}var b=r(this),v=r(n);for(var M=0,F=Math.min(b.length,v.length);M<F;M++)if(b[M]!=v[M])return b[M]._index<v[M]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(n){return this._getOrder(n)===-1},isBelow:function(n){return this._getOrder(n)===1},isParent:function(n){return this._parent===n},isChild:function(n){return n&&n._parent===this},isDescendant:function(n){var r=this;while(r=r._parent)if(r===n)return!0;return!1},isAncestor:function(n){return n?n.isDescendant(this):!1},isSibling:function(n){return this._parent===n._parent},isGroupedWith:function(n){var r=this._parent;while(r){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&n.isDescendant(r))return!0;r=r._parent}return!1}},h.each(["rotate","scale","shear","skew"],function(n){var r=n==="rotate";this[n]=function(){var b=arguments,v=(r?h:x).read(b),M=x.read(b,0,{readNull:!0});return this.transform(new Y()[n](v,M||this.getPosition(!0)))}},{translate:function(){var n=new Y;return this.transform(n.translate.apply(n,arguments))},transform:function(n,r,b){var v=this._matrix,M=n&&!n.isIdentity(),F=b&&this._canApplyMatrix||this._applyMatrix&&(M||!v.isIdentity()||r&&this._children);if(!M&&!F)return this;if(M){if(!n.isInvertible()&&v.isInvertible())v._backup=v.getValues();v.prepend(n,!0);var U=this._style,K=U.getFillColor(!0),j=U.getStrokeColor(!0);if(K)K.transform(n);if(j)j.transform(n)}if(F&&(F=this._transformContent(v,r,b))){var J=this._pivot;if(J)v._transformPoint(J,J,!0);if(v.reset(!0),b&&this._canApplyMatrix)this._applyMatrix=!0}var ao=this._bounds,H=this._position;if(M||F)this._changed(25);var D=M&&ao&&n.decompose();if(D&&D.skewing.isZero()&&D.rotation%90===0){for(var eo in ao){var A=ao[eo];if(A.nonscaling)delete ao[eo];else if(F||!A.internal){var ro=A.rect;n._transformBounds(ro,ro)}}this._bounds=ao;var vo=ao[this._getBoundsCacheKey(this._boundsOptions||{})];if(vo)this._position=this._getPositionFromBounds(vo.rect)}else if(M&&H&&this._pivot)this._position=n._transformPoint(H,H);return this},_transformContent:function(n,r,b){var v=this._children;if(v){for(var M=0,F=v.length;M<F;M++)v[M].transform(n,r,b);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(x.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(x.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(x.read(arguments))},localToParent:function(){return this._matrix._transformPoint(x.read(arguments))},fitBounds:function(n,r){n=z.read(arguments);var b=this.getBounds(),v=b.height/b.width,M=n.height/n.width,F=(r?v>M:v<M)?n.width/b.width:n.height/b.height,U=new z(new x,new g(b.width*F,b.height*F));U.setCenter(n.getCenter()),this.setBounds(U)}}),{_setStyles:function(n,r,b){var v=this._style,M=this._matrix;if(v.hasFill())n.fillStyle=v.getFillColor().toCanvasStyle(n,M);if(v.hasStroke()){n.strokeStyle=v.getStrokeColor().toCanvasStyle(n,M),n.lineWidth=v.getStrokeWidth();var F=v.getStrokeJoin(),U=v.getStrokeCap(),K=v.getMiterLimit();if(F)n.lineJoin=F;if(U)n.lineCap=U;if(K)n.miterLimit=K;if(W.support.nativeDash){var j=v.getDashArray(),J=v.getDashOffset();if(j&&j.length)if("setLineDash"in n)n.setLineDash(j),n.lineDashOffset=J;else n.mozDash=j,n.mozDashOffset=J}}if(v.hasShadow()){var ao=r.pixelRatio||1,H=b._shiftless().prepend(new Y().scale(ao,ao)),D=H.transform(new x(v.getShadowBlur(),0)),eo=H.transform(this.getShadowOffset());n.shadowColor=v.getShadowColor().toCanvasStyle(n),n.shadowBlur=D.getLength(),n.shadowOffsetX=eo.x,n.shadowOffsetY=eo.y}},draw:function(n,r,b){var v=this._updateVersion=this._project._updateVersion;if(!this._visible||this._opacity===0)return;var{matrices:M,viewMatrix:F}=r,U=this._matrix,K=M[M.length-1].appended(U);if(!K.isInvertible())return;if(F=F?F.appended(K):K,M.push(K),r.updateMatrix)this._globalMatrix=K;var j=this._blendMode,J=V.clamp(this._opacity,0,1),ao=j==="normal",H=Jo.nativeModes[j],D=ao&&J===1||r.dontStart||r.clip||(H||ao&&J<1)&&this._canComposite(),eo=r.pixelRatio||1,A,ro,vo;if(!D){var oo=this.getStrokeBounds(F);if(!oo.width||!oo.height){M.pop();return}if(vo=r.offset,ro=r.offset=oo.getTopLeft().floor(),A=n,n=Qo.getContext(oo.getSize().ceil().add(1).multiply(eo)),eo!==1)n.scale(eo,eo)}n.save();var no=b?b.appended(U):this._canScaleStroke&&!this.getStrokeScaling(!0)&&F,so=!D&&r.clipItem,C=!no||so;if(D){if(n.globalAlpha=J,H)n.globalCompositeOperation=j}else if(C)n.translate(-ro.x,-ro.y);if(C)(D?U:F).applyToContext(n);if(so)r.clipItem.draw(n,r.extend({clip:!0}));if(no){n.setTransform(eo,0,0,eo,0,0);var lo=r.offset;if(lo)n.translate(-lo.x,-lo.y)}if(this._draw(n,r,F,no),n.restore(),M.pop(),r.clip&&!r.dontFinish)n.clip(this.getFillRule());if(!D)Jo.process(j,n,A,J,ro.subtract(vo).multiply(eo)),Qo.release(n),r.offset=vo},_isUpdated:function(n){var r=this._parent;if(r instanceof S)return r._isUpdated(n);var b=this._updateVersion===n;if(!b&&r&&r._visible&&r._isUpdated(n))this._updateVersion=n,b=!0;return b},_drawSelection:function(n,r,b,v,M){var F=this._selection,U=F&1,K=F&2||U&&this._selectBounds,j=F&4;if(!this._drawSelected)U=!1;if((U||K||j)&&this._isUpdated(M)){var J,ao=this.getSelectedColor(!0)||(J=this.getLayer())&&J.getSelectedColor(!0),H=r.appended(this.getGlobalMatrix(!0)),D=b/2;if(n.strokeStyle=n.fillStyle=ao?ao.toCanvasStyle(n):"#009dec",U)this._drawSelected(n,H,v);if(j){var eo=this.getPosition(!0),A=this._parent,ro=A?A.localToGlobal(eo):eo,vo=ro.x,oo=ro.y;n.beginPath(),n.arc(vo,oo,D,0,Math.PI*2,!0),n.stroke();var no=[[0,-1],[1,0],[0,1],[-1,0]],so=D,C=b+1;for(var lo=0;lo<4;lo++){var _o=no[lo],mo=_o[0],bo=_o[1];n.moveTo(vo+mo*so,oo+bo*so),n.lineTo(vo+mo*C,oo+bo*C),n.stroke()}}if(K){var Oo=H._transformCorners(this.getInternalBounds());n.beginPath();for(var lo=0;lo<8;lo++)n[!lo?"moveTo":"lineTo"](Oo[lo],Oo[++lo]);n.closePath(),n.stroke();for(var lo=0;lo<8;lo++)n.fillRect(Oo[lo]-D,Oo[++lo]-D,b,b)}}},_canComposite:function(){return!1}},h.each(["down","drag","up","move"],function(n){this["removeOn"+h.capitalize(n)]=function(){var r={};return r[n]=!0,this.removeOn(r)}},{removeOn:function(n){for(var r in n)if(n[r]){var b="mouse"+r,v=this._project,M=v._removeSets=v._removeSets||{};M[b]=M[b]||{},M[b][this._id]=this}return this}}),{tween:function(n,r,b){if(!b){if(b=r,r=n,n=null,!b)b=r,r=null}var v=b&&b.easing,M=b&&b.start,F=b!=null&&(typeof b==="number"?b:b.duration),U=new Xo(this,n,r,F,v,M);function K(j){if(U._handleFrame(j.time*1000),!U.running)this.off("frame",K)}if(F)this.on("frame",K);return U},tweenTo:function(n,r){return this.tween(null,n,r)},tweenFrom:function(n,r){return this.tween(n,null,r)}}),To=to.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function n(r){if(this._children=[],this._namedChildren={},!this._initialize(r))this.addChildren(Array.isArray(r)?r:arguments)},_changed:function n(r){if(n.base.call(this,r),r&2050)this._clipItem=f},_getClipItem:function(){var n=this._clipItem;if(n===f){n=null;var r=this._children;for(var b=0,v=r.length;b<v;b++)if(r[b]._clipMask){n=r[b];break}this._clipItem=n}return n},isClipped:function(){return!!this._getClipItem()},setClipped:function(n){var r=this.getFirstChild();if(r)r.setClipMask(n)},_getBounds:function n(r,b){var v=this._getClipItem();return v?v._getCachedBounds(v._matrix.prepended(r),h.set({},b,{stroke:!1})):n.base.call(this,r,b)},_hitTestChildren:function n(r,b,v){var M=this._getClipItem();return(!M||M.contains(r))&&n.base.call(this,r,b,v,M)},_draw:function(n,r){var b=r.clip,v=!b&&this._getClipItem();if(r=r.extend({clipItem:v,clip:!1}),b)n.beginPath(),r.dontStart=r.dontFinish=!0;else if(v)v.draw(n,r.extend({clip:!0}));var M=this._children;for(var F=0,U=M.length;F<U;F++){var K=M[F];if(K!==v)K.draw(n,r)}}}),co=To.extend({_class:"Layer",initialize:function n(){To.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function n(){return this._parent?n.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Wo=to.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function n(r,b){this._initialize(r,b)},_equals:function(n){return this._type===n._type&&this._size.equals(n._size)&&h.equals(this._radius,n._radius)},copyContent:function(n){this.setType(n._type),this.setSize(n._size),this.setRadius(n._radius)},getType:function(){return this._type},setType:function(n){this._type=n},getShape:"#getType",setShape:"#setType",getSize:function(){var n=this._size;return new E(n.width,n.height,this,"setSize")},setSize:function(){var n=g.read(arguments);if(!this._size)this._size=n.clone();else if(!this._size.equals(n)){var r=this._type,b=n.width,v=n.height;if(r==="rectangle")this._radius.set(g.min(this._radius,n.divide(2).abs()));else if(r==="circle")b=v=(b+v)/2,this._radius=b/2;else if(r==="ellipse")this._radius._set(b/2,v/2);this._size._set(b,v),this._changed(9)}},getRadius:function(){var n=this._radius;return this._type==="circle"?n:new E(n.width,n.height,this,"setRadius")},setRadius:function(n){var r=this._type;if(r==="circle"){if(n===this._radius)return;var b=n*2;this._radius=n,this._size._set(b,b)}else if(n=g.read(arguments),!this._radius)this._radius=n.clone();else{if(this._radius.equals(n))return;if(this._radius.set(n),r==="rectangle"){var b=g.max(this._size,n.multiply(2));this._size.set(b)}else if(r==="ellipse")this._size._set(n.width*2,n.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(n){var r=new m[h.capitalize(this._type)]({center:new x,size:this._size,radius:this._radius,insert:!1});if(r.copyAttributes(this),W.settings.applyMatrix)r.setApplyMatrix(!0);if(n===f||n)r.insertAbove(this);return r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(n,r,b,v){var M=this._style,F=M.hasFill(),U=M.hasStroke(),K=r.dontFinish||r.clip,j=!v;if(F||U||K){var J=this._type,ao=this._radius,H=J==="circle";if(!r.dontStart)n.beginPath();if(j&&H)n.arc(0,0,ao,0,Math.PI*2,!0);else{var D=H?ao:ao.width,eo=H?ao:ao.height,A=this._size,ro=A.width,vo=A.height;if(j&&J==="rectangle"&&D===0&&eo===0)n.rect(-ro/2,-vo/2,ro,vo);else{var oo=ro/2,no=vo/2,so=0.44771525016920644,C=D*so,lo=eo*so,_o=[-oo,-no+eo,-oo,-no+lo,-oo+C,-no,-oo+D,-no,oo-D,-no,oo-C,-no,oo,-no+lo,oo,-no+eo,oo,no-eo,oo,no-lo,oo-C,no,oo-D,no,-oo+D,no,-oo+C,no,-oo,no-lo,-oo,no-eo];if(v)v.transform(_o,_o,32);if(n.moveTo(_o[0],_o[1]),n.bezierCurveTo(_o[2],_o[3],_o[4],_o[5],_o[6],_o[7]),oo!==D)n.lineTo(_o[8],_o[9]);if(n.bezierCurveTo(_o[10],_o[11],_o[12],_o[13],_o[14],_o[15]),no!==eo)n.lineTo(_o[16],_o[17]);if(n.bezierCurveTo(_o[18],_o[19],_o[20],_o[21],_o[22],_o[23]),oo!==D)n.lineTo(_o[24],_o[25]);n.bezierCurveTo(_o[26],_o[27],_o[28],_o[29],_o[30],_o[31])}}n.closePath()}if(!K&&(F||U)){if(this._setStyles(n,r,b),F)n.fill(M.getFillRule()),n.shadowColor="rgba(0,0,0,0)";if(U)n.stroke()}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(n,r){var b=new z(this._size).setCenter(0,0),v=this._style,M=r.stroke&&v.hasStroke()&&v.getStrokeWidth();if(n)b=n._transformBounds(b);return M?b.expand(m._getStrokePadding(M,this._getStrokeMatrix(n,r))):b}},new function(){function n(b,v,M){var F=b._radius;if(!F.isZero()){var U=b._size.divide(2);for(var K=1;K<=4;K++){var j=new x(K>1&&K<4?-1:1,K>2?-1:1),J=j.multiply(U),ao=J.subtract(j.multiply(F)),H=new z(M?J.add(j.multiply(M)):J,ao);if(H.contains(v))return{point:ao,quadrant:K}}}}function r(b,v,M,F){var U=b.divide(v);return(!F||U.isInQuadrant(F))&&U.subtract(U.normalize()).multiply(v).divide(M).length<=1}return{_contains:function b(v){if(this._type==="rectangle"){var M=n(this,v);return M?v.subtract(M.point).divide(this._radius).getLength()<=1:b.base.call(this,v)}else return v.divide(this.size).getLength()<=0.5},_hitTestSelf:function b(v,M,F,U){var K=!1,j=this._style,J=M.stroke&&j.hasStroke(),ao=M.fill&&j.hasFill();if(J||ao){var H=this._type,D=this._radius,eo=J?j.getStrokeWidth()/2:0,A=M._tolerancePadding.add(m._getStrokePadding(eo,!j.getStrokeScaling()&&U));if(H==="rectangle"){var ro=A.multiply(2),vo=n(this,v,ro);if(vo)K=r(v.subtract(vo.point),D,A,vo.quadrant);else{var oo=new z(this._size).setCenter(0,0),no=oo.expand(ro),so=oo.expand(ro.negate());K=no._containsPoint(v)&&!so._containsPoint(v)}}else K=r(v,D,A)}return K?new s(J?"stroke":"fill",this):b.base.apply(this,arguments)}}},{statics:new function(){function n(r,b,v,M,F){var U=h.create(Wo.prototype);return U._type=r,U._size=v,U._radius=M,U._initialize(h.getNamed(F),b),U}return{Circle:function(){var r=arguments,b=x.readNamed(r,"center"),v=h.readNamed(r,"radius");return n("circle",b,new g(v*2),v,r)},Rectangle:function(){var r=arguments,b=z.readNamed(r,"rectangle"),v=g.min(g.readNamed(r,"radius"),b.getSize(!0).divide(2));return n("rectangle",b.getCenter(!0),b.getSize(!0),v,r)},Ellipse:function(){var r=arguments,b=Wo._readEllipse(r),v=b.radius;return n("ellipse",b.center,v.multiply(2),v,r)},_readEllipse:function(r){var b,v;if(h.hasNamed(r,"radius"))b=x.readNamed(r,"center"),v=g.readNamed(r,"radius");else{var M=z.readNamed(r,"rectangle");b=M.getCenter(!0),v=M.getSize(!0).divide(2)}return{center:b,radius:v}}}}}),o=to.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function n(r,b){if(!this._initialize(r,b!==f&&x.read(arguments))){var v,M=typeof r,F=M==="string"?u.getElementById(r):M==="object"?r:null;if(F&&F!==to.NO_INSERT){if(F.getContext||F.naturalHeight!=null)v=F;else if(F){var U=g.read(arguments);if(!U.isZero())v=Qo.getCanvas(U)}}if(v)this.setImage(v);else this.setSource(r)}if(!this._size)this._size=new g,this._loaded=!1},_equals:function(n){return this.getSource()===n.getSource()},copyContent:function(n){var{_image:r,_canvas:b}=n;if(r)this._setImage(r);else if(b){var v=Qo.getCanvas(n._size);v.getContext("2d").drawImage(b,0,0),this._setImage(v)}this._crossOrigin=n._crossOrigin},getSize:function(){var n=this._size;return new E(n?n.width:0,n?n.height:0,this,"setSize")},setSize:function(n,r){var b=g.read(arguments);if(!b.equals(this._size))if(b.width>0&&b.height>0){var v=!r&&this.getElement();if(this._setImage(Qo.getCanvas(b)),v)this.getContext(!0).drawImage(v,0,0,b.width,b.height)}else{if(this._canvas)Qo.release(this._canvas);this._size=b.clone()}else if(r)this.clear()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(n){this.setSize(n,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(n){this.setSize(this.getWidth(),n)},getLoaded:function(){return this._loaded},isEmpty:function(){var n=this._size;return!n||n.width===0&&n.height===0},getResolution:function(){var n=this._matrix,r=new x(0,0).transform(n),b=new x(1,0).transform(n).subtract(r),v=new x(0,1).transform(n).subtract(r);return new g(72/b.getLength(),72/v.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(n){var r=this;function b(v){var M=r.getView(),F=v&&v.type||"load";if(M&&r.responds(F))W=M._scope,r.emit(F,new X(v))}if(this._setImage(n),this._loaded)setTimeout(b,0);else if(n)xo.add(n,{load:function(v){r._setImage(n),b(v)},error:b})},_setImage:function(n){if(this._canvas)Qo.release(this._canvas);if(n&&n.getContext)this._image=null,this._canvas=n,this._loaded=!0;else this._image=n,this._canvas=null,this._loaded=!!(n&&n.src&&n.complete);this._size=new g(n?n.naturalWidth||n.width:0,n?n.naturalHeight||n.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var n=Qo.getContext(this._size);try{if(this._image)n.drawImage(this._image,0,0);this._canvas=n.canvas}catch(r){Qo.release(n)}}return this._canvas},setCanvas:"#setImage",getContext:function(n){if(!this._context)this._context=this.getCanvas().getContext("2d");if(n)this._image=null,this._changed(1025);return this._context},setContext:function(n){this._context=n},getSource:function(){var n=this._image;return n&&n.src||this.toDataURL()},setSource:function(n){var r=new R.Image,b=this._crossOrigin;if(b)r.crossOrigin=b;if(n)r.src=n;this.setImage(r)},getCrossOrigin:function(){var n=this._image;return n&&n.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(n){this._crossOrigin=n;var r=this._image;if(r)r.crossOrigin=n},getSmoothing:function(){return this._smoothing},setSmoothing:function(n){this._smoothing=typeof n==="string"?n:n?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var n=z.read(arguments),r=Qo.getContext(n.getSize());return r.drawImage(this.getCanvas(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.canvas},getSubRaster:function(){var n=z.read(arguments),r=new o(to.NO_INSERT);return r._setImage(this.getSubCanvas(n)),r.translate(n.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var n=this._image,r=n&&n.src;if(/^data:/.test(r))return r;var b=this.getCanvas();return b?b.toDataURL.apply(b,arguments):null},drawImage:function(n){var r=x.read(arguments,1);this.getContext(!0).drawImage(n,r.x,r.y)},getAverageColor:function(n){var r,b;if(!n)r=this.getBounds();else if(n instanceof a)b=n,r=n.getBounds();else if(typeof n==="object"){if("width"in n)r=new z(n);else if("x"in n)r=new z(n.x-0.5,n.y-0.5,1,1)}if(!r)return null;var v=32,M=Math.min(r.width,v),F=Math.min(r.height,v),U=o._sampleContext;if(!U)U=o._sampleContext=Qo.getContext(new g(v));else U.clearRect(0,0,v+1,v+1);U.save();var K=new Y().scale(M/r.width,F/r.height).translate(-r.x,-r.y);if(K.applyToContext(U),b)b.draw(U,new h({clip:!0,matrices:[K]}));this._matrix.applyToContext(U);var j=this.getElement(),J=this._size;if(j)U.drawImage(j,-J.width/2,-J.height/2);U.restore();var ao=U.getImageData(0.5,0.5,Math.ceil(M),Math.ceil(F)).data,H=[0,0,0],D=0;for(var eo=0,A=ao.length;eo<A;eo+=4){var ro=ao[eo+3];D+=ro,ro/=255,H[0]+=ao[eo]*ro,H[1]+=ao[eo+1]*ro,H[2]+=ao[eo+2]*ro}for(var eo=0;eo<3;eo++)H[eo]/=D;return D?qo.read(H):null},getPixel:function(){var n=x.read(arguments),r=this.getContext().getImageData(n.x,n.y,1,1).data;return new qo("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var n=arguments,r=x.read(n),b=qo.read(n),v=b._convert("rgb"),M=b._alpha,F=this.getContext(!0),U=F.createImageData(1,1),K=U.data;K[0]=v[0]*255,K[1]=v[1]*255,K[2]=v[2]*255,K[3]=M!=null?M*255:255,F.putImageData(U,r.x,r.y)},clear:function(){var n=this._size;this.getContext(!0).clearRect(0,0,n.width+1,n.height+1)},createImageData:function(){var n=g.read(arguments);return this.getContext().createImageData(n.width,n.height)},getImageData:function(){var n=z.read(arguments);if(n.isEmpty())n=new z(this._size);return this.getContext().getImageData(n.x,n.y,n.width,n.height)},putImageData:function(n){var r=x.read(arguments,1);this.getContext(!0).putImageData(n,r.x,r.y)},setImageData:function(n){this.setSize(n),this.getContext(!0).putImageData(n,0,0)},_getBounds:function(n,r){var b=new z(this._size).setCenter(0,0);return n?n._transformBounds(b):b},_hitTestSelf:function(n){if(this._contains(n)){var r=this;return new s("pixel",r,{offset:n.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(n,r,b){var v=this.getElement();if(v&&v.width>0&&v.height>0){n.globalAlpha=V.clamp(this._opacity,0,1),this._setStyles(n,r,b);var M=this._smoothing,F=M==="off";Eo.setPrefixed(n,F?"imageSmoothingEnabled":"imageSmoothingQuality",F?!1:M),n.drawImage(v,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),e=to.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function n(r,b){if(!this._initialize(r,b!==f&&x.read(arguments,1)))this.setDefinition(r instanceof c?r:new c(r))},_equals:function(n){return this._definition===n._definition},copyContent:function(n){this.setDefinition(n._definition)},getDefinition:function(){return this._definition},setDefinition:function(n){this._definition=n,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(n,r){var b=this._definition._item;return b._getCachedBounds(b._matrix.prepended(n),r)},_hitTestSelf:function(n,r,b){var v=r.extend({all:!1}),M=this._definition._item._hitTest(n,v,b);if(M)M.item=this;return M},_draw:function(n,r){this._definition._item.draw(n,r)}}),c=h.extend({_class:"SymbolDefinition",initialize:function n(r,b){if(this._id=$.get(),this.project=W.project,r)this.setItem(r,b)},_serialize:function(n,r){return r.add(this,function(){return h.serialize([this._class,this._item],n,!1,r)})},_changed:function(n){if(n&8)to._clearBoundsCache(this);if(n&1)this.project._changed(n)},getItem:function(){return this._item},setItem:function(n,r){if(n._symbol)n=n.clone();if(this._item)this._item._symbol=null;if(this._item=n,n.remove(),n.setSelected(!1),!r)n.setPosition(new x);n._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(n){return new e(this,n)},clone:function(){return new c(this._item.clone(!1))},equals:function(n){return n===this||n&&this._item.equals(n._item)||!1}}),s=h.extend({_class:"HitResult",initialize:function n(r,b,v){if(this.type=r,this.item=b,v)this.inject(v)},statics:{getOptions:function(n){var r=n&&h.read(n);return new h({type:null,tolerance:W.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),p=h.extend({_class:"Segment",beans:!0,_selection:0,initialize:function n(r,b,v,M,F,U){var K=arguments.length,j,J,ao,H;if(K>0)if(r==null||typeof r==="object")if(K===1&&r&&"point"in r)j=r.point,J=r.handleIn,ao=r.handleOut,H=r.selection;else j=r,J=b,ao=v,H=M;else j=[r,b],J=v!==f?[v,M]:null,ao=F!==f?[F,U]:null;if(new _(j,this,"_point"),new _(J,this,"_handleIn"),new _(ao,this,"_handleOut"),H)this.setSelection(H)},_serialize:function(n,r){var b=this._point,v=this._selection,M=v||this.hasHandles()?[b,this._handleIn,this._handleOut]:b;if(v)M.push(v);return h.serialize(M,n,!0,r)},_changed:function(n){var r=this._path;if(!r)return;var b=r._curves,v=this._index,M;if(b){if((!n||n===this._point||n===this._handleIn)&&(M=v>0?b[v-1]:r._closed?b[b.length-1]:null))M._changed();if((!n||n===this._point||n===this._handleOut)&&(M=b[v]))M._changed()}r._changed(41)},getPoint:function(){return this._point},setPoint:function(){this._point.set(x.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(x.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(x.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var n=this._handleIn,r=this._handleOut;return!n.isZero()&&!r.isZero()&&n.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(n){var r=this._selection,b=this._path;if(this._selection=n=n||0,b&&n!==r)b._updateSelection(this,r,n),b._changed(257)},_changeSelection:function(n,r){var b=this._selection;this.setSelection(r?b|n:b&~n)},isSelected:function(){return!!(this._selection&7)},setSelected:function(n){this._changeSelection(7,n)},getIndex:function(){return this._index!==f?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var n=this._path,r=this._index;if(n){if(r>0&&!n._closed&&r===n._segments.length-1)r--;return n.getCurves()[r]||null}return null},getLocation:function(){var n=this.getCurve();return n?new t(n,this===n._segment1?0:1):null},getNext:function(){var n=this._path&&this._path._segments;return n&&(n[this._index+1]||this._path._closed&&n[0])||null},smooth:function(n,r,b){var v=n||{},M=v.type,F=v.factor,U=this.getPrevious(),K=this.getNext(),j=(U||this)._point,J=this._point,ao=(K||this)._point,H=j.getDistance(J),D=J.getDistance(ao);if(!M||M==="catmull-rom"){var eo=F===f?0.5:F,A=Math.pow(H,eo),ro=A*A,vo=Math.pow(D,eo),oo=vo*vo;if(!r&&U){var no=2*oo+3*vo*A+ro,so=3*vo*(vo+A);this.setHandleIn(so!==0?new x((oo*j._x+no*J._x-ro*ao._x)/so-J._x,(oo*j._y+no*J._y-ro*ao._y)/so-J._y):new x)}if(!b&&K){var no=2*ro+3*A*vo+oo,so=3*A*(A+vo);this.setHandleOut(so!==0?new x((ro*ao._x+no*J._x-oo*j._x)/so-J._x,(ro*ao._y+no*J._y-oo*j._y)/so-J._y):new x)}}else if(M==="geometric"){if(U&&K){var C=j.subtract(ao),lo=F===f?0.4:F,_o=lo*H/(H+D);if(!r)this.setHandleIn(C.multiply(_o));if(!b)this.setHandleOut(C.multiply(_o-lo))}}else throw new Error("Smoothing method \'"+M+"\' not supported.")},getPrevious:function(){var n=this._path&&this._path._segments;return n&&(n[this._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var n=this._path;return n&&this._index===n._segments.length-1||!1},reverse:function(){var n=this._handleIn,r=this._handleOut,b=n.clone();n.set(r),r.set(b)},reversed:function(){return new p(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new p(this._point,this._handleIn,this._handleOut)},equals:function(n){return n===this||n&&this._class===n._class&&this._point.equals(n._point)&&this._handleIn.equals(n._handleIn)&&this._handleOut.equals(n._handleOut)||!1},toString:function(){var n=["point: "+this._point];if(!this._handleIn.isZero())n.push("handleIn: "+this._handleIn);if(!this._handleOut.isZero())n.push("handleOut: "+this._handleOut);return"{ "+n.join(", ")+" }"},transform:function(n){this._transformCoordinates(n,new Array(6),!0),this._changed()},interpolate:function(n,r,b){var v=1-b,M=b,F=n._point,U=r._point,K=n._handleIn,j=r._handleIn,J=r._handleOut,ao=n._handleOut;this._point._set(v*F._x+M*U._x,v*F._y+M*U._y,!0),this._handleIn._set(v*K._x+M*j._x,v*K._y+M*j._y,!0),this._handleOut._set(v*ao._x+M*J._x,v*ao._y+M*J._y,!0),this._changed()},_transformCoordinates:function(n,r,b){var v=this._point,M=!b||!this._handleIn.isZero()?this._handleIn:null,F=!b||!this._handleOut.isZero()?this._handleOut:null,U=v._x,K=v._y,j=2;if(r[0]=U,r[1]=K,M)r[j++]=M._x+U,r[j++]=M._y+K;if(F)r[j++]=F._x+U,r[j++]=F._y+K;if(n)if(n._transformCoordinates(r,r,j/2),U=r[0],K=r[1],b){if(v._x=U,v._y=K,j=2,M)M._x=r[j++]-U,M._y=r[j++]-K;if(F)F._x=r[j++]-U,F._y=r[j++]-K}else{if(!M)r[j++]=U,r[j++]=K;if(!F)r[j++]=U,r[j++]=K}return r}}),_=x.extend({initialize:function n(r,b,v){var M,F,U;if(!r)M=F=0;else if((M=r[0])!==f)F=r[1];else{var K=r;if((M=K.x)===f)K=x.read(arguments),M=K.x;F=K.y,U=K.selected}if(this._x=M,this._y=F,this._owner=b,b[v]=this,U)this.setSelected(!0)},_set:function(n,r){return this._x=n,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner._changed(this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner._changed(this)},isZero:function(){var n=V.isZero;return n(this._x)&&n(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){var n=this._owner;return this===n._point?1:this===n._handleIn?2:this===n._handleOut?4:0}}),N=h.extend({_class:"Curve",beans:!0,initialize:function n(r,b,v,M,F,U,K,j){var J=arguments.length,ao,H,D,eo,A,ro;if(J===3)this._path=r,ao=b,H=v;else if(!J)ao=new p,H=new p;else if(J===1){if("segment1"in r)ao=new p(r.segment1),H=new p(r.segment2);else if("point1"in r)D=r.point1,A=r.handle1,ro=r.handle2,eo=r.point2;else if(Array.isArray(r))D=[r[0],r[1]],eo=[r[6],r[7]],A=[r[2]-r[0],r[3]-r[1]],ro=[r[4]-r[6],r[5]-r[7]]}else if(J===2)ao=new p(r),H=new p(b);else if(J===4)D=r,A=b,ro=v,eo=M;else if(J===8)D=[r,b],eo=[K,j],A=[v-r,M-b],ro=[F-K,U-j];this._segment1=ao||new p(D,null,A),this._segment2=H||new p(eo,ro,null)},_serialize:function(n,r){return h.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],n,!0,r)},_changed:function(){this._length=this._bounds=f},clone:function(){return new N(this._segment1,this._segment2)},toString:function(){var n=["point1: "+this._segment1._point];if(!this._segment1._handleOut.isZero())n.push("handle1: "+this._segment1._handleOut);if(!this._segment2._handleIn.isZero())n.push("handle2: "+this._segment2._handleIn);return n.push("point2: "+this._segment2._point),"{ "+n.join(", ")+" }"},classify:function(){return N.classify(this.getValues())},remove:function(){var n=!1;if(this._path){var r=this._segment2,b=r._handleOut;if(n=r.remove(),n)this._segment1._handleOut.set(b)}return n},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(x.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(x.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(x.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(x.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index+1]||this._path._closed&&n[0])||null},getPrevious:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var n=this._path;return n&&this._segment1._index===n._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(n){this.getPoint1().setSelected(n),this.getHandle1().setSelected(n),this.getHandle2().setSelected(n),this.getPoint2().setSelected(n)},getValues:function(n){return N.getValues(this._segment1,this._segment2,n)},getPoints:function(){var n=this.getValues(),r=[];for(var b=0;b<8;b+=2)r.push(new x(n[b],n[b+1]));return r}},{getLength:function(){if(this._length==null)this._length=N.getLength(this.getValues(),0,1);return this._length},getArea:function(){return N.getArea(this.getValues())},getLine:function(){return new B(this._segment1._point,this._segment2._point)},getPart:function(n,r){return new N(N.getPart(this.getValues(),n,r))},getPartLength:function(n,r){return N.getLength(this.getValues(),n,r)},divideAt:function(n){return this.divideAtTime(n&&n.curve===this?n.time:this.getTimeAt(n))},divideAtTime:function(n,r){var b=0.00000001,v=1-b,M=null;if(n>=b&&n<=v){var F=N.subdivide(this.getValues(),n),U=F[0],K=F[1],j=r||this.hasHandles(),J=this._segment1,ao=this._segment2,H=this._path;if(j)J._handleOut._set(U[2]-U[0],U[3]-U[1]),ao._handleIn._set(K[4]-K[6],K[5]-K[7]);var D=U[6],eo=U[7],A=new p(new x(D,eo),j&&new x(U[4]-D,U[5]-eo),j&&new x(K[2]-D,K[3]-eo));if(H)H.insert(J._index+1,A),M=this.getNext();else this._segment2=A,this._changed(),M=new N(A,ao)}return M},splitAt:function(n){var r=this._path;return r?r.splitAt(n):null},splitAtTime:function(n){return this.splitAt(this.getLocationAtTime(n))},divide:function(n,r){return this.divideAtTime(n===f?0.5:r?n:this.getTimeAt(n))},split:function(n,r){return this.splitAtTime(n===f?0.5:r?n:this.getTimeAt(n))},reversed:function(){return new N(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(n,r,b,v){var{_point:M,_handleOut:F}=n,U=r._handleIn,K=r._point,j=M.x,J=M.y,ao=K.x,H=K.y,D=v?[j,J,j,J,ao,H,ao,H]:[j,J,j+F._x,J+F._y,ao+U._x,H+U._y,ao,H];if(b)b._transformCoordinates(D,D,4);return D},subdivide:function(n,r){var b=n[0],v=n[1],M=n[2],F=n[3],U=n[4],K=n[5],j=n[6],J=n[7];if(r===f)r=0.5;var ao=1-r,H=ao*b+r*M,D=ao*v+r*F,eo=ao*M+r*U,A=ao*F+r*K,ro=ao*U+r*j,vo=ao*K+r*J,oo=ao*H+r*eo,no=ao*D+r*A,so=ao*eo+r*ro,C=ao*A+r*vo,lo=ao*oo+r*so,_o=ao*no+r*C;return[[b,v,H,D,oo,no,lo,_o],[lo,_o,so,C,ro,vo,j,J]]},getMonoCurves:function(n,r){var b=[],v=r?0:1,M=n[v+0],F=n[v+2],U=n[v+4],K=n[v+6];if(M>=F===F>=U&&F>=U===U>=K||N.isStraight(n))b.push(n);else{var j=3*(F-U)-M+K,J=2*(M+U)-4*F,ao=F-M,H=0.00000001,D=1-H,eo=[],A=V.solveQuadratic(j,J,ao,eo,H,D);if(!A)b.push(n);else{eo.sort();var ro=eo[0],vo=N.subdivide(n,ro);if(b.push(vo[0]),A>1)ro=(eo[1]-ro)/(1-ro),vo=N.subdivide(vo[1],ro),b.push(vo[0]);b.push(vo[1])}}return b},solveCubic:function(n,r,b,v,M,F){var U=n[r],K=n[r+2],j=n[r+4],J=n[r+6],ao=0;if(!(U<b&&J<b&&K<b&&j<b||U>b&&J>b&&K>b&&j>b)){var H=3*(K-U),D=3*(j-K)-H,eo=J-U-H-D;ao=V.solveCubic(eo,D,H,U-b,v,M,F)}return ao},getTimeOf:function(n,r){var b=new x(n[0],n[1]),v=new x(n[6],n[7]),M=0.000000000001,F=0.0000001,U=r.isClose(b,M)?0:r.isClose(v,M)?1:null;if(U===null){var K=[r.x,r.y],j=[];for(var J=0;J<2;J++){var ao=N.solveCubic(n,J,K[J],j,0,1);for(var H=0;H<ao;H++){var D=j[H];if(r.isClose(N.getPoint(n,D),F))return D}}}return r.isClose(b,F)?0:r.isClose(v,F)?1:null},getNearestTime:function(n,r){if(N.isStraight(n)){var b=n[0],v=n[1],M=n[6],F=n[7],U=M-b,K=F-v,j=U*U+K*K;if(j===0)return 0;var J=((r.x-b)*U+(r.y-v)*K)/j;return J<0.000000000001?0:J>0.999999999999?1:N.getTimeOf(n,new x(b+J*U,v+J*K))}var ao=100,H=1/0,D=0;function eo(vo){if(vo>=0&&vo<=1){var oo=r.getDistance(N.getPoint(n,vo),!0);if(oo<H)return H=oo,D=vo,!0}}for(var A=0;A<=ao;A++)eo(A/ao);var ro=1/(ao*2);while(ro>0.00000001)if(!eo(D-ro)&&!eo(D+ro))ro/=2;return D},getPart:function(n,r,b){var v=r>b;if(v){var M=r;r=b,b=M}if(r>0)n=N.subdivide(n,r)[1];if(b<1)n=N.subdivide(n,(b-r)/(1-r))[0];return v?[n[6],n[7],n[4],n[5],n[2],n[3],n[0],n[1]]:n},isFlatEnough:function(n,r){var b=n[0],v=n[1],M=n[2],F=n[3],U=n[4],K=n[5],j=n[6],J=n[7],ao=3*M-2*b-j,H=3*F-2*v-J,D=3*U-2*j-b,eo=3*K-2*J-v;return Math.max(ao*ao,D*D)+Math.max(H*H,eo*eo)<=16*r*r},getArea:function(n){var r=n[0],b=n[1],v=n[2],M=n[3],F=n[4],U=n[5],K=n[6],j=n[7];return 3*((j-b)*(v+F)-(K-r)*(M+U)+M*(r-F)-v*(b-U)+j*(F+r/3)-K*(U+b/3))/20},getBounds:function(n){var r=n.slice(0,2),b=r.slice(),v=[0,0];for(var M=0;M<2;M++)N._addBounds(n[M],n[M+2],n[M+4],n[M+6],M,0,r,b,v);return new z(r[0],r[1],b[0]-r[0],b[1]-r[1])},_addBounds:function(n,r,b,v,M,F,U,K,j){function J(lo,_o){var mo=lo-_o,bo=lo+_o;if(mo<U[M])U[M]=mo;if(bo>K[M])K[M]=bo}F/=2;var ao=U[M]+F,H=K[M]-F;if(n<ao||r<ao||b<ao||v<ao||n>H||r>H||b>H||v>H)if(r<n!=r<v&&b<n!=b<v)J(n,0),J(v,0);else{var D=3*(r-b)-n+v,eo=2*(n+b)-4*r,A=r-n,ro=V.solveQuadratic(D,eo,A,j),vo=0.00000001,oo=1-vo;J(v,0);for(var no=0;no<ro;no++){var so=j[no],C=1-so;if(vo<=so&&so<=oo)J(C*C*C*n+3*C*C*so*r+3*C*so*so*b+so*so*so*v,F)}}}}},h.each(["getBounds","getStrokeBounds","getHandleBounds"],function(n){this[n]=function(){if(!this._bounds)this._bounds={};var r=this._bounds[n];if(!r)r=this._bounds[n]=m[n]([this._segment1,this._segment2],!1,this._path);return r.clone()}},{}),h.each({isStraight:function(n,r,b,v){if(r.isZero()&&b.isZero())return!0;else{var M=v.subtract(n);if(M.isZero())return!1;else if(M.isCollinear(r)&&M.isCollinear(b)){var F=new B(n,v),U=0.0000001;if(F.getDistance(n.add(r))<U&&F.getDistance(v.add(b))<U){var K=M.dot(M),j=M.dot(r)/K,J=M.dot(b)/K;return j>=0&&j<=1&&J<=0&&J>=-1}}}return!1},isLinear:function(n,r,b,v){var M=v.subtract(n).divide(3);return r.equals(M)&&b.negate().equals(M)}},function(n,r){this[r]=function(b){var v=this._segment1,M=this._segment2;return n(v._point,v._handleOut,M._handleIn,M._point,b)},this.statics[r]=function(b,v){var M=b[0],F=b[1],U=b[6],K=b[7];return n(new x(M,F),new x(b[2]-M,b[3]-F),new x(b[4]-U,b[5]-K),new x(U,K),v)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(n){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(n||0)},isCollinear:function(n){return n&&this.isStraight()&&n.isStraight()&&this.getLine().isCollinear(n.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).y)<0.00000001},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(0.5).x)<0.00000001}}),{beans:!1,getLocationAt:function(n,r){return this.getLocationAtTime(r?n:this.getTimeAt(n))},getLocationAtTime:function(n){return n!=null&&n>=0&&n<=1?new t(this,n):null},getTimeAt:function(n,r){return N.getTimeAt(this.getValues(),n,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var n=x.read(arguments);return n.isZero()?[]:N.getTimesWithTangent(this.getValues(),n)},getOffsetAtTime:function(n){return this.getPartLength(0,n)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(x.read(arguments)))},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getTimeOf:function(){return N.getTimeOf(this.getValues(),x.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var n=x.read(arguments),r=this.getValues(),b=N.getNearestTime(r,n),v=N.getPoint(r,b);return new t(this,b,v,null,n.getDistance(v))},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n?n.getPoint():n}},new function(){var n=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return h.each(n,function(r){this[r+"At"]=function(b,v){var M=this.getValues();return N[r](M,v?b:N.getTimeAt(M,b))},this[r+"AtTime"]=function(b){return N[r](this.getValues(),b)}},{statics:{_evaluateMethods:n}})},new function(){function n(v){var M=v[0],F=v[1],U=v[2],K=v[3],j=v[4],J=v[5],ao=v[6],H=v[7],D=9*(U-j)+3*(ao-M),eo=6*(M+j)-12*U,A=3*(U-M),ro=9*(K-J)+3*(H-F),vo=6*(F+J)-12*K,oo=3*(K-F);return function(no){var so=(D*no+eo)*no+A,C=(ro*no+vo)*no+oo;return Math.sqrt(so*so+C*C)}}function r(v,M){return Math.max(2,Math.min(16,Math.ceil(Math.abs(M-v)*32)))}function b(v,M,F,U){if(M==null||M<0||M>1)return null;var K=v[0],j=v[1],J=v[2],ao=v[3],H=v[4],D=v[5],eo=v[6],A=v[7],ro=V.isZero;if(ro(J-K)&&ro(ao-j))J=K,ao=j;if(ro(H-eo)&&ro(D-A))H=eo,D=A;var vo=3*(J-K),oo=3*(H-J)-vo,no=eo-K-vo-oo,so=3*(ao-j),C=3*(D-ao)-so,lo=A-j-so-C,_o,mo;if(F===0)_o=M===0?K:M===1?eo:((no*M+oo)*M+vo)*M+K,mo=M===0?j:M===1?A:((lo*M+C)*M+so)*M+j;else{var bo=0.00000001,Oo=1-bo;if(M<bo)_o=vo,mo=so;else if(M>Oo)_o=3*(eo-H),mo=3*(A-D);else _o=(3*no*M+2*oo)*M+vo,mo=(3*lo*M+2*C)*M+so;if(U){if(_o===0&&mo===0&&(M<bo||M>Oo))_o=H-J,mo=D-ao;var No=Math.sqrt(_o*_o+mo*mo);if(No)_o/=No,mo/=No}if(F===3){var H=6*no*M+2*oo,D=6*lo*M+2*C,yo=Math.pow(_o*_o+mo*mo,1.5);_o=yo!==0?(_o*D-mo*H)/yo:0,mo=0}}return F===2?new x(mo,-_o):new x(_o,mo)}return{statics:{classify:function(v){var M=v[0],F=v[1],U=v[2],K=v[3],j=v[4],J=v[5],ao=v[6],H=v[7],D=M*(H-J)+F*(j-ao)+ao*J-H*j,eo=U*(F-H)+K*(ao-M)+M*H-F*ao,A=j*(K-F)+J*(M-U)+U*F-K*M,ro=3*A,vo=ro-eo,oo=vo-eo+D,no=Math.sqrt(oo*oo+vo*vo+ro*ro),so=no!==0?1/no:0,C=V.isZero,lo="serpentine";oo*=so,vo*=so,ro*=so;function _o(No,yo,zo){var ko=yo!==f,Zo=ko&&yo>0&&yo<1,go=ko&&zo>0&&zo<1;if(ko&&(!(Zo||go)||No==="loop"&&!(Zo&&go)))No="arch",Zo=go=!1;return{type:No,roots:Zo||go?Zo&&go?yo<zo?[yo,zo]:[zo,yo]:[Zo?yo:zo]:null}}if(C(oo))return C(vo)?_o(C(ro)?"line":"quadratic"):_o(lo,ro/(3*vo));var mo=3*vo*vo-4*oo*ro;if(C(mo))return _o("cusp",vo/(2*oo));var bo=mo>0?Math.sqrt(mo/3):Math.sqrt(-mo),Oo=2*oo;return _o(mo>0?lo:"loop",(vo+bo)/Oo,(vo-bo)/Oo)},getLength:function(v,M,F,U){if(M===f)M=0;if(F===f)F=1;if(N.isStraight(v)){var K=v;if(F<1)K=N.subdivide(K,F)[0],M/=F;if(M>0)K=N.subdivide(K,M)[1];var j=K[6]-K[0],J=K[7]-K[1];return Math.sqrt(j*j+J*J)}return V.integrate(U||n(v),M,F,r(M,F))},getTimeAt:function(v,M,F){if(F===f)F=M<0?1:0;if(M===0)return F;var U=Math.abs,K=0.000000000001,j=M>0,J=j?F:0,ao=j?1:F,H=n(v),D=N.getLength(v,J,ao,H),eo=U(M)-D;if(U(eo)<K)return j?ao:J;else if(eo>K)return null;var A=M/D,ro=0;function vo(oo){return ro+=V.integrate(H,F,oo,r(F,oo)),F=oo,ro-M}return V.findRoot(vo,H,F+A,J,ao,32,0.000000000001)},getPoint:function(v,M){return b(v,M,0,!1)},getTangent:function(v,M){return b(v,M,1,!0)},getWeightedTangent:function(v,M){return b(v,M,1,!1)},getNormal:function(v,M){return b(v,M,2,!0)},getWeightedNormal:function(v,M){return b(v,M,2,!1)},getCurvature:function(v,M){return b(v,M,3,!1).x},getPeaks:function(v){var M=v[0],F=v[1],U=v[2],K=v[3],j=v[4],J=v[5],ao=v[6],H=v[7],D=-M+3*U-3*j+ao,eo=3*M-6*U+3*j,A=-3*M+3*U,ro=-F+3*K-3*J+H,vo=3*F-6*K+3*J,oo=-3*F+3*K,no=0.00000001,so=1-no,C=[];return V.solveCubic(9*(D*D+ro*ro),9*(D*eo+vo*ro),2*(eo*eo+vo*vo)+3*(A*D+oo*ro),A*eo+vo*oo,C,no,so),C.sort()}}}},new function(){function n(eo,A,ro,vo,oo,no,so){var C=!so&&ro.getPrevious()===oo,lo=!so&&ro!==oo&&ro.getNext()===oo,_o=0.00000001,mo=1-_o;if(vo!==null&&vo>=(C?_o:0)&&vo<=(lo?mo:1)){if(no!==null&&no>=(lo?_o:0)&&no<=(C?mo:1)){var bo=new t(ro,vo,null,so),Oo=new t(oo,no,null,so);if(bo._intersection=Oo,Oo._intersection=bo,!A||A(bo))t.insert(eo,bo,!0)}}}function r(eo,A,ro,vo,oo,no,so,C,lo,_o,mo,bo,Oo){if(++lo>=4096||++C>=40)return lo;var No=0.000000001,yo=A[0],zo=A[1],ko=A[6],Zo=A[7],go=B.getSignedDistance,Vo=go(yo,zo,ko,Zo,A[2],A[3]),Fo=go(yo,zo,ko,Zo,A[4],A[5]),Po=Vo*Fo>0?0.75:0.4444444444444444,Ko=Po*Math.min(0,Vo,Fo),Io=Po*Math.max(0,Vo,Fo),Bo=go(yo,zo,ko,Zo,eo[0],eo[1]),Ho=go(yo,zo,ko,Zo,eo[2],eo[3]),Ao=go(yo,zo,ko,Zo,eo[4],eo[5]),Do=go(yo,zo,ko,Zo,eo[6],eo[7]),oa=b(Bo,Ho,Ao,Do),Yo=oa[0],ra=oa[1],aa,sa;if(Vo===0&&Fo===0&&Bo===0&&Ho===0&&Ao===0&&Do===0||(aa=v(Yo,ra,Ko,Io))==null||(sa=v(Yo.reverse(),ra.reverse(),Ko,Io))==null)return lo;var la=_o+(mo-_o)*aa,ea=_o+(mo-_o)*sa;if(Math.max(Oo-bo,ea-la)<No){var ma=(la+ea)/2,ta=(bo+Oo)/2;n(oo,no,so?vo:ro,so?ta:ma,so?ro:vo,so?ma:ta)}else{eo=N.getPart(eo,aa,sa);var _a=Oo-bo;if(sa-aa>0.8)if(ea-la>_a){var ua=N.subdivide(eo,0.5),ma=(la+ea)/2;lo=r(A,ua[0],vo,ro,oo,no,!so,C,lo,bo,Oo,la,ma),lo=r(A,ua[1],vo,ro,oo,no,!so,C,lo,bo,Oo,ma,ea)}else{var ua=N.subdivide(A,0.5),ta=(bo+Oo)/2;lo=r(ua[0],eo,vo,ro,oo,no,!so,C,lo,bo,ta,la,ea),lo=r(ua[1],eo,vo,ro,oo,no,!so,C,lo,ta,Oo,la,ea)}else if(_a===0||_a>=No)lo=r(A,eo,vo,ro,oo,no,!so,C,lo,bo,Oo,la,ea);else lo=r(eo,A,ro,vo,oo,no,so,C,lo,la,ea,bo,Oo)}return lo}function b(eo,A,ro,vo){var oo=[0,eo],no=[0.3333333333333333,A],so=[0.6666666666666666,ro],C=[1,vo],lo=A-(2*eo+vo)/3,_o=ro-(eo+2*vo)/3,mo;if(lo*_o<0)mo=[[oo,no,C],[oo,so,C]];else{var bo=lo/_o;mo=[bo>=2?[oo,no,C]:bo<=0.5?[oo,so,C]:[oo,no,so,C],[oo,C]]}return(lo||_o)<0?mo.reverse():mo}function v(eo,A,ro,vo){if(eo[0][1]<ro)return M(eo,!0,ro);else if(A[0][1]>vo)return M(A,!1,vo);else return eo[0][0]}function M(eo,A,ro){var vo=eo[0][0],oo=eo[0][1];for(var no=1,so=eo.length;no<so;no++){var C=eo[no][0],lo=eo[no][1];if(A?lo>=ro:lo<=ro)return lo===ro?C:vo+(ro-oo)*(C-vo)/(lo-oo);vo=C,oo=lo}return null}function F(eo,A,ro,vo,oo){var no=V.isZero;if(no(vo)&&no(oo)){var so=N.getTimeOf(eo,new x(A,ro));return so===null?[]:[so]}var C=Math.atan2(-oo,vo),lo=Math.sin(C),_o=Math.cos(C),mo=[],bo=[];for(var Oo=0;Oo<8;Oo+=2){var No=eo[Oo]-A,yo=eo[Oo+1]-ro;mo.push(No*_o-yo*lo,No*lo+yo*_o)}return N.solveCubic(mo,1,0,bo,0,1),bo}function U(eo,A,ro,vo,oo,no,so){var C=A[0],lo=A[1],_o=A[6],mo=A[7],bo=F(eo,C,lo,_o-C,mo-lo);for(var Oo=0,No=bo.length;Oo<No;Oo++){var yo=bo[Oo],zo=N.getPoint(eo,yo),ko=N.getTimeOf(A,zo);if(ko!==null)n(oo,no,so?vo:ro,so?ko:yo,so?ro:vo,so?yo:ko)}}function K(eo,A,ro,vo,oo,no){var so=B.intersect(eo[0],eo[1],eo[6],eo[7],A[0],A[1],A[6],A[7]);if(so)n(oo,no,ro,N.getTimeOf(eo,so),vo,N.getTimeOf(A,so))}function j(eo,A,ro,vo,oo,no){var so=0.000000000001,C=Math.min,lo=Math.max;if(lo(eo[0],eo[2],eo[4],eo[6])+so>C(A[0],A[2],A[4],A[6])&&C(eo[0],eo[2],eo[4],eo[6])-so<lo(A[0],A[2],A[4],A[6])&&lo(eo[1],eo[3],eo[5],eo[7])+so>C(A[1],A[3],A[5],A[7])&&C(eo[1],eo[3],eo[5],eo[7])-so<lo(A[1],A[3],A[5],A[7])){var _o=H(eo,A);if(_o)for(var mo=0;mo<2;mo++){var bo=_o[mo];n(oo,no,ro,bo[0],vo,bo[1],!0)}else{var Oo=N.isStraight(eo),No=N.isStraight(A),yo=Oo&&No,zo=Oo&&!No,ko=oo.length;if((yo?K:Oo||No?U:r)(zo?A:eo,zo?eo:A,zo?vo:ro,zo?ro:vo,oo,no,zo,0,0,0,1,0,1),!yo||oo.length===ko)for(var mo=0;mo<4;mo++){var Zo=mo>>1,go=mo&1,Vo=Zo*6,Fo=go*6,Po=new x(eo[Vo],eo[Vo+1]),Ko=new x(A[Fo],A[Fo+1]);if(Po.isClose(Ko,so))n(oo,no,ro,Zo,vo,go)}}}return oo}function J(eo,A,ro,vo){var oo=N.classify(eo);if(oo.type==="loop"){var no=oo.roots;n(ro,vo,A,no[0],A,no[1])}return ro}function ao(eo,A,ro,vo,oo,no){var so=0.0000001,C=!A;if(C)A=eo;var lo=eo.length,_o=A.length,mo=new Array(lo),bo=C?mo:new Array(_o),Oo=[];for(var No=0;No<lo;No++)mo[No]=eo[No].getValues(vo);if(!C)for(var No=0;No<_o;No++)bo[No]=A[No].getValues(oo);var yo=Z.findCurveBoundsCollisions(mo,bo,so);for(var zo=0;zo<lo;zo++){var ko=eo[zo],Zo=mo[zo];if(C)J(Zo,ko,Oo,ro);var go=yo[zo];if(go)for(var Vo=0;Vo<go.length;Vo++){if(no&&Oo.length)return Oo;var Fo=go[Vo];if(!C||Fo>zo){var Po=A[Fo],Ko=bo[Fo];j(Zo,Ko,ko,Po,Oo,ro)}}}return Oo}function H(eo,A){function ro(Do){var oa=Do[6]-Do[0],Yo=Do[7]-Do[1];return oa*oa+Yo*Yo}var vo=Math.abs,oo=B.getDistance,no=0.00000001,so=0.0000001,C=N.isStraight(eo),lo=N.isStraight(A),_o=C&&lo,mo=ro(eo)<ro(A),bo=mo?A:eo,Oo=mo?eo:A,No=bo[0],yo=bo[1],zo=bo[6]-No,ko=bo[7]-yo;if(oo(No,yo,zo,ko,Oo[0],Oo[1],!0)<so&&oo(No,yo,zo,ko,Oo[6],Oo[7],!0)<so){if(!_o&&oo(No,yo,zo,ko,bo[2],bo[3],!0)<so&&oo(No,yo,zo,ko,bo[4],bo[5],!0)<so&&oo(No,yo,zo,ko,Oo[2],Oo[3],!0)<so&&oo(No,yo,zo,ko,Oo[4],Oo[5],!0)<so)C=lo=_o=!0}else if(_o)return null;if(C^lo)return null;var Zo=[eo,A],go=[];for(var Vo=0;Vo<4&&go.length<2;Vo++){var Fo=Vo&1,Po=Fo^1,Ko=Vo>>1,Io=N.getTimeOf(Zo[Fo],new x(Zo[Po][Ko?6:0],Zo[Po][Ko?7:1]));if(Io!=null){var Bo=Fo?[Ko,Io]:[Io,Ko];if(!go.length||vo(Bo[0]-go[0][0])>no&&vo(Bo[1]-go[0][1])>no)go.push(Bo)}if(Vo>2&&!go.length)break}if(go.length!==2)go=null;else if(!_o){var Ho=N.getPart(eo,go[0][0],go[1][0]),Ao=N.getPart(A,go[0][1],go[1][1]);if(vo(Ao[2]-Ho[2])>so||vo(Ao[3]-Ho[3])>so||vo(Ao[4]-Ho[4])>so||vo(Ao[5]-Ho[5])>so)go=null}return go}function D(eo,A){var ro=eo[0],vo=eo[1],oo=eo[2],no=eo[3],so=eo[4],C=eo[5],lo=eo[6],_o=eo[7],mo=A.normalize(),bo=mo.x,Oo=mo.y,No=3*lo-9*so+9*oo-3*ro,yo=3*_o-9*C+9*no-3*vo,zo=6*so-12*oo+6*ro,ko=6*C-12*no+6*vo,Zo=3*oo-3*ro,go=3*no-3*vo,Vo=2*No*Oo-2*yo*bo,Fo=[];if(Math.abs(Vo)<V.CURVETIME_EPSILON){var Po=No*go-yo*Zo,Vo=No*ko-yo*zo;if(Vo!=0){var Ko=-Po/Vo;if(Ko>=0&&Ko<=1)Fo.push(Ko)}}else{var Io=(zo*zo-4*No*Zo)*Oo*Oo+(-2*zo*ko+4*yo*Zo+4*No*go)*bo*Oo+(ko*ko-4*yo*go)*bo*bo,Bo=zo*Oo-ko*bo;if(Io>=0&&Vo!=0){var Ho=Math.sqrt(Io),Ao=-(Bo+Ho)/Vo,Do=(-Bo+Ho)/Vo;if(Ao>=0&&Ao<=1)Fo.push(Ao);if(Do>=0&&Do<=1)Fo.push(Do)}}return Fo}return{getIntersections:function(eo){var A=this.getValues(),ro=eo&&eo!==this&&eo.getValues();return ro?j(A,ro,this,eo,[]):J(A,this,[])},statics:{getOverlaps:H,getIntersections:ao,getCurveLineIntersections:F,getTimesWithTangent:D}}}),t=h.extend({_class:"CurveLocation",initialize:function n(r,b,v,M,F){if(b>=0.99999999){var U=r.getNext();if(U)b=0,r=U}this._setCurve(r),this._time=b,this._point=v||r.getPointAtTime(b),this._overlap=M,this._distance=F,this._intersection=this._next=this._previous=null},_setPath:function(n){this._path=n,this._version=n?n._version:0},_setCurve:function(n){this._setPath(n._path),this._curve=n,this._segment=null,this._segment1=n._segment1,this._segment2=n._segment2},_setSegment:function(n){var r=n.getCurve();if(r)this._setCurve(r);else this._setPath(n._path),this._segment1=n,this._segment2=null;this._segment=n,this._time=n===this._segment1?0:1,this._point=n._point.clone()},getSegment:function(){var n=this._segment;if(!n){var r=this.getCurve(),b=this.getTime();if(b===0)n=r._segment1;else if(b===1)n=r._segment2;else if(b!=null)n=r.getPartLength(0,b)<r.getPartLength(b,1)?r._segment1:r._segment2;this._segment=n}return n},getCurve:function(){var n=this._path,r=this;if(n&&n._version!==this._version)this._time=this._offset=this._curveOffset=this._curve=null;function b(v){var M=v&&v.getCurve();if(M&&(r._time=M.getTimeOf(r._point))!=null)return r._setCurve(M),M}return this._curve||b(this._segment)||b(this._segment1)||b(this._segment2.getPrevious())},getPath:function(){var n=this.getCurve();return n&&n._path},getIndex:function(){var n=this.getCurve();return n&&n.getIndex()},getTime:function(){var n=this.getCurve(),r=this._time;return n&&r==null?this._time=n.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var n=this._offset;if(n==null){n=0;var r=this.getPath(),b=this.getIndex();if(r&&b!=null){var v=r.getCurves();for(var M=0;M<b;M++)n+=v[M].getLength()}this._offset=n+=this.getCurveOffset()}return n},getCurveOffset:function(){var n=this._curveOffset;if(n==null){var r=this.getCurve(),b=this.getTime();this._curveOffset=n=b!=null&&r&&r.getPartLength(0,b)}return n},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var n=this.getCurve(),r=n&&n.divideAtTime(this.getTime());if(r)this._setSegment(r._segment1);return r},split:function(){var n=this.getCurve(),r=n._path,b=n&&n.splitAtTime(this.getTime());if(b)this._setSegment(r.getLastSegment());return b},equals:function(n,r){var b=this===n;if(!b&&n instanceof t){var v=this.getCurve(),M=n.getCurve(),F=v._path,U=M._path;if(F===U){var K=Math.abs,j=0.0000001,J=K(this.getOffset()-n.getOffset()),ao=!r&&this._intersection,H=!r&&n._intersection;b=(J<j||F&&K(F.getLength()-J)<j)&&(!ao&&!H||ao&&H&&ao.equals(H,!0))}}return b},toString:function(){var n=[],r=this.getPoint(),b=T.instance;if(r)n.push("point: "+r);var v=this.getIndex();if(v!=null)n.push("index: "+v);var M=this.getTime();if(M!=null)n.push("time: "+b.number(M));if(this._distance!=null)n.push("distance: "+b.number(this._distance));return"{ "+n.join(", ")+" }"},isTouching:function(){var n=this._intersection;if(n&&this.getTangent().isCollinear(n.getTangent())){var r=this.getCurve(),b=n.getCurve();return!(r.isStraight()&&b.isStraight()&&r.getLine().intersect(b.getLine()))}return!1},isCrossing:function(){var n=this._intersection;if(!n)return!1;var r=this.getTime(),b=n.getTime(),v=0.00000001,M=1-v,F=r>=v&&r<=M,U=b>=v&&b<=M;if(F&&U)return!this.isTouching();var K=this.getCurve(),j=K&&r<v?K.getPrevious():K,J=n.getCurve(),ao=J&&b<v?J.getPrevious():J;if(r>M)K=K.getNext();if(b>M)J=J.getNext();if(!j||!K||!ao||!J)return!1;var H=[];function D(bo,Oo){var No=bo.getValues(),yo=N.classify(No).roots||N.getPeaks(No),zo=yo.length,ko=N.getLength(No,Oo&&zo?yo[zo-1]:0,!Oo&&zo?yo[0]:1);H.push(zo?ko:ko/32)}function eo(bo,Oo,No){return Oo<No?bo>Oo&&bo<No:bo>Oo||bo<No}if(!F)D(j,!0),D(K,!1);if(!U)D(ao,!0),D(J,!1);var A=this.getPoint(),ro=Math.min.apply(Math,H),vo=F?K.getTangentAtTime(r):K.getPointAt(ro).subtract(A),oo=F?vo.negate():j.getPointAt(-ro).subtract(A),no=U?J.getTangentAtTime(b):J.getPointAt(ro).subtract(A),so=U?no.negate():ao.getPointAt(-ro).subtract(A),C=oo.getAngle(),lo=vo.getAngle(),_o=so.getAngle(),mo=no.getAngle();return!!(F?eo(C,_o,mo)^eo(lo,_o,mo)&&eo(C,mo,_o)^eo(lo,mo,_o):eo(_o,C,lo)^eo(mo,C,lo)&&eo(_o,lo,C)^eo(mo,lo,C))},hasOverlap:function(){return!!this._overlap}},h.each(N._evaluateMethods,function(n){var r=n+"At";this[n]=function(){var b=this.getCurve(),v=this.getTime();return v!=null&&b&&b[r](v,!0)}},{preserve:!0}),new function(){function n(r,b,v){var M=r.length,F=0,U=M-1;function K(A,ro){for(var vo=A+ro;vo>=-1&&vo<=M;vo+=ro){var oo=r[(vo%M+M)%M];if(!b.getPoint().isClose(oo.getPoint(),0.0000001))break;if(b.equals(oo))return oo}return null}while(F<=U){var j=F+U>>>1,J=r[j],ao;if(v&&(ao=b.equals(J)?J:K(j,-1)||K(j,1))){if(b._overlap)ao._overlap=ao._intersection._overlap=!0;return ao}var H=b.getPath(),D=J.getPath(),eo=H!==D?H._id-D._id:b.getIndex()+b.getTime()-(J.getIndex()+J.getTime());if(eo<0)U=j-1;else F=j+1}return r.splice(F,0,b),b}return{statics:{insert:n,expand:function(r){var b=r.slice();for(var v=r.length-1;v>=0;v--)n(b,r[v]._intersection,!1);return b}}}}),a=to.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function n(){},statics:{create:function(n){var r,b,v;if(h.isPlainObject(n))b=n.segments,r=n.pathData;else if(Array.isArray(n))b=n;else if(typeof n==="string")r=n;if(b){var M=b[0];v=M&&Array.isArray(M[0])}else if(r)v=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r);var F=v?S:m;return new F(n)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(n){if(this.isClockwise()!=(n=!!n))this.reverse()},setPathData:function(n){var r=n&&n.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),b,v=!1,M,F,U=new x,K=new x;function j(so,C){var lo=+b[so];if(v)lo+=U[C];return lo}function J(so){return new x(j(so,"x"),j(so+1,"y"))}this.clear();for(var ao=0,H=r&&r.length;ao<H;ao++){var D=r[ao],eo=D[0],A=eo.toLowerCase();b=D.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var ro=b&&b.length;if(v=eo===A,M==="z"&&!/[mz]/.test(A))this.moveTo(U);switch(A){case"m":case"l":var vo=A==="m";for(var oo=0;oo<ro;oo+=2)if(this[vo?"moveTo":"lineTo"](U=J(oo)),vo)K=U,vo=!1;F=U;break;case"h":case"v":var no=A==="h"?"x":"y";U=U.clone();for(var oo=0;oo<ro;oo++)U[no]=j(oo,no),this.lineTo(U);F=U;break;case"c":for(var oo=0;oo<ro;oo+=6)this.cubicCurveTo(J(oo),F=J(oo+2),U=J(oo+4));break;case"s":for(var oo=0;oo<ro;oo+=4)this.cubicCurveTo(/[cs]/.test(M)?U.multiply(2).subtract(F):U,F=J(oo),U=J(oo+2)),M=A;break;case"q":for(var oo=0;oo<ro;oo+=4)this.quadraticCurveTo(F=J(oo),U=J(oo+2));break;case"t":for(var oo=0;oo<ro;oo+=2)this.quadraticCurveTo(F=/[qt]/.test(M)?U.multiply(2).subtract(F):U,U=J(oo)),M=A;break;case"a":for(var oo=0;oo<ro;oo+=7)this.arcTo(U=J(oo+5),new g(+b[oo],+b[oo+1]),+b[oo+2],+b[oo+4],+b[oo+3]);break;case"z":this.closePath(0.000000000001),U=K;break}M=A}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(n){var r=n.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(n):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(n,r,b,v){var M=this===n||!n,F=this._matrix._orNullIfIdentity(),U=M?F:(b||n._matrix)._orNullIfIdentity();return M||this.getBounds(F).intersects(n.getBounds(U),0.000000000001)?N.getIntersections(this.getCurves(),!M&&n.getCurves(),r,F,U,v):[]},getCrossings:function(n){return this.getIntersections(n,function(r){return r.isCrossing()})},getNearestLocation:function(){var n=x.read(arguments),r=this.getCurves(),b=1/0,v=null;for(var M=0,F=r.length;M<F;M++){var U=r[M].getNearestLocation(n);if(U._distance<b)b=U._distance,v=U}return v},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n?n.getPoint():n},interpolate:function(n,r,b){var v=!this._children,M=v?"_segments":"_children",F=n[M],U=r[M],K=this[M];if(!F||!U||F.length!==U.length)throw new Error("Invalid operands in interpolate() call: "+n+", "+r);var j=K.length,J=U.length;if(j<J){var ao=v?p:m;for(var H=j;H<J;H++)this.add(new ao)}else if(j>J)this[v?"removeSegments":"removeChildren"](J,j);for(var H=0;H<J;H++)K[H].interpolate(F[H],U[H],b);if(v)this.setClosed(n._closed),this._changed(9)},compare:function(n){var r=!1;if(n){var b=this._children||[this],v=n._children?n._children.slice():[n],M=b.length,F=v.length,U=[],K=0;r=!0;var j=Z.findItemBoundsCollisions(b,v,V.GEOMETRIC_EPSILON);for(var J=M-1;J>=0&&r;J--){var ao=b[J];r=!1;var H=j[J];if(H){for(var D=H.length-1;D>=0&&!r;D--)if(ao.compare(v[H[D]])){if(!U[H[D]])U[H[D]]=!0,K++;r=!0}}}r=r&&K===F}return r}}),m=a.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function n(r){this._closed=!1,this._segments=[],this._version=0;var b=arguments,v=Array.isArray(r)?typeof r[0]==="object"?r:b:r&&(r.size===f&&(r.x!==f||r.point!==f))?b:null;if(v&&v.length>0)this.setSegments(v);else if(this._curves=f,this._segmentSelection=0,!v&&typeof r==="string")this.setPathData(r),r=null;this._initialize(!v&&r)},_equals:function(n){return this._closed===n._closed&&h.equals(this._segments,n._segments)},copyContent:function(n){this.setSegments(n._segments),this._closed=n._closed},_changed:function n(r){if(n.base.call(this,r),r&8){if(this._length=this._area=f,r&32)this._version++;else if(this._curves)for(var b=0,v=this._curves.length;b<v;b++)this._curves[b]._changed()}else if(r&64)this._bounds=f},getStyle:function(){var n=this._parent;return(n instanceof S?n:this)._style},getSegments:function(){return this._segments},setSegments:function(n){var r=this.isFullySelected(),b=n&&n.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=f,b){var v=n[b-1];if(typeof v==="boolean")this.setClosed(v),b--;this._add(p.readList(n,0,{},b))}if(r)this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var n=this._curves,r=this._segments;if(!n){var b=this._countCurves();n=this._curves=new Array(b);for(var v=0;v<b;v++)n[v]=new N(this,r[v],r[v+1]||r[0])}return n},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var n=this.getCurves();return n[n.length-1]},isClosed:function(){return this._closed},setClosed:function(n){if(this._closed!=(n=!!n)){if(this._closed=n,this._curves){var r=this._curves.length=this._countCurves();if(n)this._curves[r-1]=new N(this,this._segments[r-1],this._segments[0])}this._changed(41)}}},{beans:!0,getPathData:function(n,r){var b=this._segments,v=b.length,M=new T(r),F=new Array(6),U=!0,K,j,J,ao,H,D,eo,A,ro=[];function vo(no,so){if(no._transformCoordinates(n,F),K=F[0],j=F[1],U)ro.push("M"+M.pair(K,j)),U=!1;else if(H=F[2],D=F[3],H===K&&D===j&&eo===J&&A===ao){if(!so){var C=K-J,lo=j-ao;ro.push(C===0?"v"+M.number(lo):lo===0?"h"+M.number(C):"l"+M.pair(C,lo))}}else ro.push("c"+M.pair(eo-J,A-ao)+" "+M.pair(H-J,D-ao)+" "+M.pair(K-J,j-ao));J=K,ao=j,eo=F[4],A=F[5]}if(!v)return"";for(var oo=0;oo<v;oo++)vo(b[oo]);if(this._closed&&v>0)vo(b[0],!0),ro.push("z");return ro.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(n){var r=this._segments,b=new Array(6);for(var v=0,M=r.length;v<M;v++)r[v]._transformCoordinates(n,b,!0);return!0},_add:function(n,U){var b=this._segments,v=this._curves,M=n.length,F=U==null,U=F?b.length:U;for(var K=0;K<M;K++){var j=n[K];if(j._path)j=n[K]=j.clone();if(j._path=this,j._index=U+K,j._selection)this._updateSelection(j,0,j._selection)}if(F)h.push(b,n);else{b.splice.apply(b,[U,0].concat(n));for(var K=U+M,J=b.length;K<J;K++)b[K]._index=K}if(v){var ao=this._countCurves(),H=U>0&&U+M-1===ao?U-1:U,D=H,eo=Math.min(H+M,ao);if(n._curves)v.splice.apply(v,[H,0].concat(n._curves)),D+=n._curves.length;for(var K=D;K<eo;K++)v.splice(K,0,new N(this,null,null));this._adjustCurves(H,eo)}return this._changed(41),n},_adjustCurves:function(n,r){var b=this._segments,v=this._curves,M;for(var F=n;F<r;F++)M=v[F],M._path=this,M._segment1=b[F],M._segment2=b[F+1]||b[0],M._changed();if(M=v[this._closed&&!n?b.length-1:n-1])M._segment2=b[n]||b[0],M._changed();if(M=v[r])M._segment1=b[r],M._changed()},_countCurves:function(){var n=this._segments.length;return!this._closed&&n>0?n-1:n},add:function(n){var r=arguments;return r.length>1&&typeof n!=="number"?this._add(p.readList(r)):this._add([p.read(r)])[0]},insert:function(n,r){var b=arguments;return b.length>2&&typeof r!=="number"?this._add(p.readList(b,1),n):this._add([p.read(b,1)],n)[0]},addSegment:function(){return this._add([p.read(arguments)])[0]},insertSegment:function(n){return this._add([p.read(arguments,1)],n)[0]},addSegments:function(n){return this._add(p.readList(n))},insertSegments:function(n,r){return this._add(p.readList(r),n)},removeSegment:function(n){return this.removeSegments(n,n+1)[0]||null},removeSegments:function(n,r,b){n=n||0,r=h.pick(r,this._segments.length);var v=this._segments,M=this._curves,F=v.length,U=v.splice(n,r-n),K=U.length;if(!K)return U;for(var j=0;j<K;j++){var J=U[j];if(J._selection)this._updateSelection(J,J._selection,0);J._index=J._path=null}for(var j=n,ao=v.length;j<ao;j++)v[j]._index=j;if(M){var H=n>0&&r===F+(this._closed?1:0)?n-1:n,M=M.splice(H,K);for(var j=M.length-1;j>=0;j--)M[j]._path=null;if(b)U._curves=M.slice(1);this._adjustCurves(H,H)}return this._changed(41),U},clear:"#removeSegments",hasHandles:function(){var n=this._segments;for(var r=0,b=n.length;r<b;r++)if(n[r].hasHandles())return!0;return!1},clearHandles:function(){var n=this._segments;for(var r=0,b=n.length;r<b;r++)n[r].clearHandles()},getLength:function(){if(this._length==null){var n=this.getCurves(),r=0;for(var b=0,v=n.length;b<v;b++)r+=n[b].getLength();this._length=r}return this._length},getArea:function(){var n=this._area;if(n==null){var r=this._segments,b=this._closed;n=0;for(var v=0,M=r.length;v<M;v++){var F=v+1===M;n+=N.getArea(N.getValues(r[v],r[F?0:v+1],null,F&&!b))}this._area=n}return n},isFullySelected:function(){var n=this._segments.length;return this.isSelected()&&n>0&&this._segmentSelection===n*7},setFullySelected:function(n){if(n)this._selectSegments(!0);this.setSelected(n)},setSelection:function n(r){if(!(r&1))this._selectSegments(!1);n.base.call(this,r)},_selectSegments:function(n){var r=this._segments,b=r.length,v=n?7:0;this._segmentSelection=v*b;for(var M=0;M<b;M++)r[M]._selection=v},_updateSelection:function(n,r,b){n._selection=b;var v=this._segmentSelection+=b-r;if(v>0)this.setSelected(!0)},divideAt:function(n){var r=this.getLocationAt(n),b;return r&&(b=r.getCurve().divideAt(r.getCurveOffset()))?b._segment1:null},splitAt:function(n){var r=this.getLocationAt(n),b=r&&r.index,v=r&&r.time,M=0.00000001,F=1-M;if(v>F)b++,v=0;var U=this.getCurves();if(b>=0&&b<U.length){if(v>=M)U[b++].divideAtTime(v);var K=this.removeSegments(b,this._segments.length,!0),j;if(this._closed)this.setClosed(!1),j=this;else j=new m(to.NO_INSERT),j.insertAbove(this),j.copyAttributes(this);return j._add(K,0),this.addSegment(K[0]),j}return null},split:function(n,r){var b,v=r===f?n:(b=this.getCurves()[n])&&b.getLocationAtTime(r);return v!=null?this.splitAt(v):null},join:function(n,r){var b=r||0;if(n&&n!==this){var v=n._segments,M=this.getLastSegment(),F=n.getLastSegment();if(!F)return this;if(M&&M._point.isClose(F._point,b))n.reverse();var U=n.getFirstSegment();if(M&&M._point.isClose(U._point,b))M.setHandleOut(U._handleOut),this._add(v.slice(1));else{var K=this.getFirstSegment();if(K&&K._point.isClose(U._point,b))n.reverse();if(F=n.getLastSegment(),K&&K._point.isClose(F._point,b))K.setHandleIn(F._handleIn),this._add(v.slice(0,v.length-1),0);else this._add(v.slice())}if(n._closed)this._add([v[0]]);n.remove()}var j=this.getFirstSegment(),J=this.getLastSegment();if(j!==J&&j._point.isClose(J._point,b))j.setHandleIn(J._handleIn),J.remove(),this.setClosed(!0);return this},reduce:function(n){var r=this.getCurves(),b=n&&n.simplify,v=b?0.0000001:0;for(var M=r.length-1;M>=0;M--){var F=r[M];if(!F.hasHandles()&&(!F.hasLength(v)||b&&F.isCollinear(F.getNext())))F.remove()}return this},reverse:function(){this._segments.reverse();for(var n=0,r=this._segments.length;n<r;n++){var b=this._segments[n],v=b._handleIn;b._handleIn=b._handleOut,b._handleOut=v,b._index=n}this._curves=null,this._changed(9)},flatten:function(n){var r=new w(this,n||0.25,256,!0),b=r.parts,v=b.length,M=[];for(var F=0;F<v;F++)M.push(new p(b[F].curve.slice(0,2)));if(!this._closed&&v>0)M.push(new p(b[v-1].curve.slice(6)));this.setSegments(M)},simplify:function(n){var r=new I(this).fit(n||2.5);if(r)this.setSegments(r);return!!r},smooth:function(n){var r=this,b=n||{},v=b.type||"asymmetric",M=this._segments,F=M.length,U=this._closed;function K(Yo,ra){var aa=Yo&&Yo.index;if(aa!=null){var sa=Yo.path;if(sa&&sa!==r)throw new Error(Yo._class+" "+aa+" of "+sa+" is not part of "+r);if(ra&&Yo instanceof N)aa++}else aa=typeof Yo==="number"?Yo:ra;return Math.min(aa<0&&U?aa%F:aa<0?aa+F:aa,F-1)}var j=U&&b.from===f&&b.to===f,J=K(b.from,0),ao=K(b.to,F-1);if(J>ao)if(U)J-=F;else{var H=J;J=ao,ao=H}if(/^(?:asymmetric|continuous)$/.test(v)){var D=v==="asymmetric",eo=Math.min,A=ao-J+1,ro=A-1,vo=j?eo(A,4):1,oo=vo,no=vo,so=[];if(!U)oo=eo(1,J),no=eo(1,F-ao-1);if(ro+=oo+no,ro<=1)return;for(var C=0,lo=J-oo;C<=ro;C++,lo++)so[C]=M[(lo<0?lo+F:lo)%F]._point;var _o=so[0]._x+2*so[1]._x,mo=so[0]._y+2*so[1]._y,bo=2,Oo=ro-1,No=[_o],yo=[mo],zo=[bo],ko=[],Zo=[];for(var C=1;C<ro;C++){var go=C<Oo,Vo=go?1:D?1:2,Fo=go?4:D?2:7,Po=go?4:D?3:8,Ko=go?2:D?0:1,Io=Vo/bo;bo=zo[C]=Fo-Io,_o=No[C]=Po*so[C]._x+Ko*so[C+1]._x-Io*_o,mo=yo[C]=Po*so[C]._y+Ko*so[C+1]._y-Io*mo}ko[Oo]=No[Oo]/zo[Oo],Zo[Oo]=yo[Oo]/zo[Oo];for(var C=ro-2;C>=0;C--)ko[C]=(No[C]-ko[C+1])/zo[C],Zo[C]=(yo[C]-Zo[C+1])/zo[C];ko[ro]=(3*so[ro]._x-ko[Oo])/2,Zo[ro]=(3*so[ro]._y-Zo[Oo])/2;for(var C=oo,Bo=ro-no,lo=J;C<=Bo;C++,lo++){var Ho=M[lo<0?lo+F:lo],Ao=Ho._point,Do=ko[C]-Ao._x,oa=Zo[C]-Ao._y;if(j||C<Bo)Ho.setHandleOut(Do,oa);if(j||C>oo)Ho.setHandleIn(-Do,-oa)}}else for(var C=J;C<=ao;C++)M[C<0?C+F:C].smooth(b,!j&&C===J,!j&&C===ao)},toShape:function(n){if(!this._closed)return null;var r=this._segments,b,v,M,F;function U(D,eo){var A=r[D],ro=A.getNext(),vo=r[eo],oo=vo.getNext();return A._handleOut.isZero()&&ro._handleIn.isZero()&&vo._handleOut.isZero()&&oo._handleIn.isZero()&&ro._point.subtract(A._point).isCollinear(oo._point.subtract(vo._point))}function K(D){var eo=r[D],A=eo.getPrevious(),ro=eo.getNext();return A._handleOut.isZero()&&eo._handleIn.isZero()&&eo._handleOut.isZero()&&ro._handleIn.isZero()&&eo._point.subtract(A._point).isOrthogonal(ro._point.subtract(eo._point))}function j(D){var eo=r[D],A=eo.getNext(),ro=eo._handleOut,vo=A._handleIn,oo=0.5522847498307936;if(ro.isOrthogonal(vo)){var no=eo._point,so=A._point,C=new B(no,ro,!0).intersect(new B(so,vo,!0),!0);return C&&V.isZero(ro.getLength()/C.subtract(no).getLength()-oo)&&V.isZero(vo.getLength()/C.subtract(so).getLength()-oo)}return!1}function J(D,eo){return r[D]._point.getDistance(r[eo]._point)}if(!this.hasHandles()&&r.length===4&&U(0,2)&&U(1,3)&&K(1))b=Wo.Rectangle,v=new g(J(0,3),J(0,1)),F=r[1]._point.add(r[2]._point).divide(2);else if(r.length===8&&j(0)&&j(2)&&j(4)&&j(6)&&U(1,5)&&U(3,7))b=Wo.Rectangle,v=new g(J(1,6),J(0,3)),M=v.subtract(new g(J(0,7),J(1,2))).divide(2),F=r[3]._point.add(r[4]._point).divide(2);else if(r.length===4&&j(0)&&j(1)&&j(2)&&j(3)){if(V.isZero(J(0,2)-J(1,3)))b=Wo.Circle,M=J(0,2)/2;else b=Wo.Ellipse,M=new g(J(2,0)/2,J(3,1)/2);F=r[1]._point}if(b){var ao=this.getPosition(!0),H=new b({center:ao,size:v,radius:M,insert:!1});if(H.copyAttributes(this,!0),H._matrix.prepend(this._matrix),H.rotate(F.subtract(ao).getAngle()+90),n===f||n)H.insertAbove(this);return H}return null},toPath:"#clone",compare:function n(r){if(!r||r instanceof S)return n.base.call(this,r);var b=this.getCurves(),v=r.getCurves(),M=b.length,F=v.length;if(!M||!F)return M==F;var U=b[0].getValues(),K=[],j=0,J,ao=0,H;for(var D=0;D<F;D++){var vo=v[D].getValues();K.push(vo);var eo=N.getOverlaps(U,vo);if(eo){J=!D&&eo[0][0]>0?F-1:D,H=eo[0][1];break}}var A=Math.abs,ro=0.00000001,vo=K[J],oo;while(U&&vo){var eo=N.getOverlaps(U,vo);if(eo){var no=eo[0][0];if(A(no-ao)<ro){if(ao=eo[1][0],ao===1)U=++j<M?b[j].getValues():null,ao=0;var so=eo[0][1];if(A(so-H)<ro){if(!oo)oo=[J,so];if(H=eo[1][1],H===1){if(++J>=F)J=0;vo=K[J]||v[J].getValues(),H=0}if(!U)return oo[0]===J&&oo[1]===H;continue}}}break}return!1},_hitTestSelf:function(n,r,b,v){var M=this,F=this.getStyle(),U=this._segments,K=U.length,j=this._closed,J=r._tolerancePadding,ao=J,H,D,eo,A,ro,vo,oo=r.stroke&&F.hasStroke(),no=r.fill&&F.hasFill(),so=r.curves,C=oo?F.getStrokeWidth()/2:no&&r.tolerance>0||so?0:null;if(C!==null)if(C>0)H=F.getStrokeJoin(),D=F.getStrokeCap(),eo=F.getMiterLimit(),ao=ao.add(m._getStrokePadding(C,v));else H=D="round";function lo(ko,Zo){return n.subtract(ko).divide(Zo).length<=1}function _o(ko,Zo,go){if(!r.selected||Zo.isSelected()){var Vo=ko._point;if(Zo!==Vo)Zo=Zo.add(Vo);if(lo(Zo,ao))return new s(go,M,{segment:ko,point:Zo})}}function mo(ko,Zo){return(Zo||r.segments)&&_o(ko,ko._point,"segment")||!Zo&&r.handles&&(_o(ko,ko._handleIn,"handle-in")||_o(ko,ko._handleOut,"handle-out"))}function bo(ko){A.add(ko)}function Oo(ko){var Zo=j||ko._index>0&&ko._index<K-1;if((Zo?H:D)==="round")return lo(ko._point,ao);else{if(A=new m({internal:!0,closed:!0}),Zo){if(!ko.isSmooth())m._addBevelJoin(ko,H,C,eo,null,v,bo,!0)}else if(D==="square")m._addSquareCap(ko,D,C,null,v,bo,!0);if(!A.isEmpty()){var go;return A.contains(n)||(go=A.getNearestLocation(n))&&lo(go.getPoint(),J)}}}if(r.ends&&!r.segments&&!j){if(vo=mo(U[0],!0)||mo(U[K-1],!0))return vo}else if(r.segments||r.handles){for(var No=0;No<K;No++)if(vo=mo(U[No]))return vo}if(C!==null){if(ro=this.getNearestLocation(n),ro){var yo=ro.getTime();if(yo===0||yo===1&&K>1){if(!Oo(ro.getSegment()))ro=null}else if(!lo(ro.getPoint(),ao))ro=null}if(!ro&&H==="miter"&&K>1)for(var No=0;No<K;No++){var zo=U[No];if(n.getDistance(zo._point)<=eo*C&&Oo(zo)){ro=zo.getLocation();break}}}return!ro&&no&&this._contains(n)||ro&&!oo&&!so?new s("fill",this):ro?new s(oo?"stroke":"curve",this,{location:ro,point:ro.getPoint()}):null}},h.each(N._evaluateMethods,function(n){this[n+"At"]=function(r){var b=this.getLocationAt(r);return b&&b[n]()}},{beans:!1,getLocationOf:function(){var n=x.read(arguments),r=this.getCurves();for(var b=0,v=r.length;b<v;b++){var M=r[b].getLocationOf(n);if(M)return M}return null},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getLocationAt:function(n){if(typeof n==="number"){var r=this.getCurves(),b=0;for(var v=0,M=r.length;v<M;v++){var F=b,U=r[v];if(b+=U.getLength(),b>n)return U.getLocationAt(n-F)}if(r.length>0&&n<=this.getLength())return new t(r[r.length-1],1)}else if(n&&n.getPath&&n.getPath()===this)return n;return null},getOffsetsWithTangent:function(){var n=x.read(arguments);if(n.isZero())return[];var r=[],b=0,v=this.getCurves();for(var M=0,F=v.length;M<F;M++){var U=v[M],K=U.getTimesWithTangent(n);for(var j=0,J=K.length;j<J;j++){var ao=b+U.getOffsetAtTime(K[j]);if(r.indexOf(ao)<0)r.push(ao)}b+=U.length}return r}}),new function(){function n(b,v,M,F){if(F<=0)return;var U=F/2,K=F-2,j=U-1,J=new Array(6),ao,H;function D(no){var so=J[no],C=J[no+1];if(ao!=so||H!=C)b.beginPath(),b.moveTo(ao,H),b.lineTo(so,C),b.stroke(),b.beginPath(),b.arc(so,C,U,0,Math.PI*2,!0),b.fill()}for(var eo=0,A=v.length;eo<A;eo++){var ro=v[eo],vo=ro._selection;if(ro._transformCoordinates(M,J),ao=J[0],H=J[1],vo&2)D(2);if(vo&4)D(4);if(b.fillRect(ao-U,H-U,F,F),K>0&&!(vo&1)){var oo=b.fillStyle;b.fillStyle="#ffffff",b.fillRect(ao-j,H-j,K,K),b.fillStyle=oo}}}function r(b,v,M){var F=v._segments,U=F.length,K=new Array(6),j=!0,J,ao,H,D,eo,A,ro,vo;function oo(so){if(M)so._transformCoordinates(M,K),J=K[0],ao=K[1];else{var C=so._point;J=C._x,ao=C._y}if(j)b.moveTo(J,ao),j=!1;else{if(M)eo=K[2],A=K[3];else{var lo=so._handleIn;eo=J+lo._x,A=ao+lo._y}if(eo===J&&A===ao&&ro===H&&vo===D)b.lineTo(J,ao);else b.bezierCurveTo(ro,vo,eo,A,J,ao)}if(H=J,D=ao,M)ro=K[4],vo=K[5];else{var lo=so._handleOut;ro=H+lo._x,vo=D+lo._y}}for(var no=0;no<U;no++)oo(F[no]);if(v._closed&&U>0)oo(F[0])}return{_draw:function(b,v,M,F){var U=v.dontStart,K=v.dontFinish||v.clip,j=this.getStyle(),J=j.hasFill(),ao=j.hasStroke(),H=j.getDashArray(),D=!W.support.nativeDash&&ao&&H&&H.length;if(!U)b.beginPath();if(J||ao&&!D||K){if(r(b,this,F),this._closed)b.closePath()}function eo(so){return H[(so%D+D)%D]}if(!K&&(J||ao)){if(this._setStyles(b,v,M),J)b.fill(j.getFillRule()),b.shadowColor="rgba(0,0,0,0)";if(ao){if(D){if(!U)b.beginPath();var A=new w(this,0.25,32,!1,F),ro=A.length,vo=-j.getDashOffset(),oo,no=0;while(vo>0)vo-=eo(no--)+eo(no--);while(vo<ro){if(oo=vo+eo(no++),vo>0||oo>0)A.drawPart(b,Math.max(vo,0),Math.max(oo,0));vo=oo+eo(no++)}}b.stroke()}}},_drawSelected:function(b,v){b.beginPath(),r(b,this,v),b.stroke(),n(b,this._segments,v,W.settings.handleSize)}}},new function(){function n(r){var b=r._segments;if(!b.length)throw new Error("Use a moveTo() command first");return b[b.length-1]}return{moveTo:function(){var r=this._segments;if(r.length===1)this.removeSegment(0);if(!r.length)this._add([new p(x.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new p(x.read(arguments))])},cubicCurveTo:function(){var r=arguments,b=x.read(r),v=x.read(r),M=x.read(r),F=n(this);F.setHandleOut(b.subtract(F._point)),this._add([new p(M,v.subtract(M))])},quadraticCurveTo:function(){var r=arguments,b=x.read(r),v=x.read(r),M=n(this)._point;this.cubicCurveTo(b.add(M.subtract(b).multiply(0.3333333333333333)),b.add(v.subtract(b).multiply(0.3333333333333333)),v)},curveTo:function(){var r=arguments,b=x.read(r),v=x.read(r),M=h.pick(h.read(r),0.5),F=1-M,U=n(this)._point,K=b.subtract(U.multiply(F*F)).subtract(v.multiply(M*M)).divide(2*M*F);if(K.isNaN())throw new Error("Cannot put a curve through points with parameter = "+M);this.quadraticCurveTo(K,v)},arcTo:function(){var r=arguments,b=Math.abs,v=Math.sqrt,M=n(this),F=M._point,U=x.read(r),A,K=h.peek(r),j=h.pick(K,!0),J,ao,H,D;if(typeof j==="boolean")var eo=F.add(U).divide(2),A=eo.add(eo.subtract(F).rotate(j?-90:90));else if(h.remain(r)<=2)A=U,U=x.read(r);else if(!F.equals(U)){var ro=g.read(r),vo=V.isZero;if(vo(ro.width)||vo(ro.height))return this.lineTo(U);var oo=h.read(r),j=!!h.read(r),no=!!h.read(r),eo=F.add(U).divide(2),so=F.subtract(eo).rotate(-oo),C=so.x,lo=so.y,_o=b(ro.width),mo=b(ro.height),bo=_o*_o,Oo=mo*mo,No=C*C,yo=lo*lo,zo=v(No/bo+yo/Oo);if(zo>1)_o*=zo,mo*=zo,bo=_o*_o,Oo=mo*mo;if(zo=(bo*Oo-bo*yo-Oo*No)/(bo*yo+Oo*No),b(zo)<0.000000000001)zo=0;if(zo<0)throw new Error("Cannot create an arc with the given arguments");if(J=new x(_o*lo/mo,-mo*C/_o).multiply((no===j?-1:1)*v(zo)).rotate(oo).add(eo),D=new Y().translate(J).rotate(oo).scale(_o,mo),H=D._inverseTransform(F),ao=H.getDirectedAngle(D._inverseTransform(U)),!j&&ao>0)ao-=360;else if(j&&ao<0)ao+=360}if(A){var ko=new B(F.add(A).divide(2),A.subtract(F).rotate(90),!0),Zo=new B(A.add(U).divide(2),U.subtract(A).rotate(90),!0),go=new B(F,U),Vo=go.getSide(A);if(J=ko.intersect(Zo,!0),!J){if(!Vo)return this.lineTo(U);throw new Error("Cannot create an arc with the given arguments")}H=F.subtract(J),ao=H.getDirectedAngle(U.subtract(J));var Fo=go.getSide(J,!0);if(Fo===0)ao=Vo*b(ao);else if(Vo===Fo)ao+=ao<0?360:-360}if(ao){var Po=0.00001,Ko=b(ao),Io=Ko>=360?4:Math.ceil((Ko-Po)/90),Bo=ao/Io,Ho=Bo*Math.PI/360,Ao=1.3333333333333333*Math.sin(Ho)/(1+Math.cos(Ho)),Do=[];for(var oa=0;oa<=Io;oa++){var so=U,Yo=null;if(oa<Io)if(Yo=H.rotate(90).multiply(Ao),D)so=D._transformPoint(H),Yo=D._transformPoint(H.add(Yo)).subtract(so);else so=J.add(H);if(!oa)M.setHandleOut(Yo);else{var ra=H.rotate(-90).multiply(Ao);if(D)ra=D._transformPoint(H.add(ra)).subtract(so);Do.push(new p(so,ra,Yo))}H=H.rotate(Bo)}this._add(Do)}},lineBy:function(){var r=x.read(arguments),b=n(this)._point;this.lineTo(b.add(r))},curveBy:function(){var r=arguments,b=x.read(r),v=x.read(r),M=h.read(r),F=n(this)._point;this.curveTo(F.add(b),F.add(v),M)},cubicCurveBy:function(){var r=arguments,b=x.read(r),v=x.read(r),M=x.read(r),F=n(this)._point;this.cubicCurveTo(F.add(b),F.add(v),F.add(M))},quadraticCurveBy:function(){var r=arguments,b=x.read(r),v=x.read(r),M=n(this)._point;this.quadraticCurveTo(M.add(b),M.add(v))},arcBy:function(){var r=arguments,b=n(this)._point,v=b.add(x.read(r)),M=h.pick(h.peek(r),!0);if(typeof M==="boolean")this.arcTo(v,M);else this.arcTo(v,b.add(x.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(n,r){var b=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return m[b](this._segments,this._closed,this,n,r)},statics:{getBounds:function(n,r,b,v,M,F){var U=n[0];if(!U)return new z;var K=new Array(6),j=U._transformCoordinates(v,new Array(6)),J=j.slice(0,2),ao=J.slice(),H=new Array(2);function D(ro){ro._transformCoordinates(v,K);for(var vo=0;vo<2;vo++)N._addBounds(j[vo],j[vo+4],K[vo+2],K[vo],vo,F?F[vo]:0,J,ao,H);var oo=j;j=K,K=oo}for(var eo=1,A=n.length;eo<A;eo++)D(n[eo]);if(r)D(U);return new z(J[0],J[1],ao[0]-J[0],ao[1]-J[1])},getStrokeBounds:function(n,r,b,v,M){var F=b.getStyle(),U=F.hasStroke(),K=F.getStrokeWidth(),j=U&&b._getStrokeMatrix(v,M),J=U&&m._getStrokePadding(K,j),ao=m.getBounds(n,r,b,v,M,J);if(!U)return ao;var H=K/2,D=F.getStrokeJoin(),eo=F.getStrokeCap(),A=F.getMiterLimit(),ro=new z(new g(J));function vo(_o){ao=ao.include(_o)}function oo(_o){ao=ao.unite(ro.setCenter(_o._point.transform(v)))}function no(_o,mo){if(mo==="round"||_o.isSmooth())oo(_o);else m._addBevelJoin(_o,mo,H,A,v,j,vo)}function so(_o,mo){if(mo==="round")oo(_o);else m._addSquareCap(_o,mo,H,v,j,vo)}var C=n.length-(r?0:1);if(C>0){for(var lo=1;lo<C;lo++)no(n[lo],D);if(r)no(n[0],D);else so(n[0],eo),so(n[n.length-1],eo)}return ao},_getStrokePadding:function(n,r){if(!r)return[n,n];var b=new x(n,0).transform(r),v=new x(0,n).transform(r),M=b.getAngleInRadians(),F=b.getLength(),U=v.getLength(),K=Math.sin(M),j=Math.cos(M),J=Math.tan(M),ao=Math.atan2(U*J,F),H=Math.atan2(U,J*F);return[Math.abs(F*Math.cos(ao)*j+U*Math.sin(ao)*K),Math.abs(U*Math.sin(H)*j+F*Math.cos(H)*K)]},_addBevelJoin:function(n,r,b,v,M,F,U,K){var j=n.getCurve(),J=j.getPrevious(),ao=j.getPoint1().transform(M),H=J.getNormalAtTime(1).multiply(b).transform(F),D=j.getNormalAtTime(0).multiply(b).transform(F),eo=H.getDirectedAngle(D);if(eo<0||eo>=180)H=H.negate(),D=D.negate();if(K)U(ao);if(U(ao.add(H)),r==="miter"){var A=new B(ao.add(H),new x(-H.y,H.x),!0).intersect(new B(ao.add(D),new x(-D.y,D.x),!0),!0);if(A&&ao.getDistance(A)<=v*b)U(A)}U(ao.add(D))},_addSquareCap:function(n,r,b,v,M,F,U){var K=n._point.transform(v),j=n.getLocation(),J=j.getNormal().multiply(j.getTime()===0?b:-b).transform(M);if(r==="square"){if(U)F(K.subtract(J)),F(K.add(J));K=K.add(J.rotate(-90))}F(K.add(J)),F(K.subtract(J))},getHandleBounds:function(n,r,b,v,M){var F=b.getStyle(),U=M.stroke&&F.hasStroke(),K,j;if(U){var J=b._getStrokeMatrix(v,M),ao=F.getStrokeWidth()/2,H=ao;if(F.getStrokeJoin()==="miter")H=ao*F.getMiterLimit();if(F.getStrokeCap()==="square")H=Math.max(H,ao*Math.SQRT2);K=m._getStrokePadding(ao,J),j=m._getStrokePadding(H,J)}var D=new Array(6),eo=1/0,A=-eo,ro=eo,vo=A;for(var oo=0,no=n.length;oo<no;oo++){var so=n[oo];so._transformCoordinates(v,D);for(var C=0;C<6;C+=2){var lo=!C?j:K,_o=lo?lo[0]:0,mo=lo?lo[1]:0,bo=D[C],Oo=D[C+1],No=bo-_o,yo=bo+_o,zo=Oo-mo,ko=Oo+mo;if(No<eo)eo=No;if(yo>A)A=yo;if(zo<ro)ro=zo;if(ko>vo)vo=ko}}return new z(eo,ro,A-eo,vo-ro)}}});m.inject({statics:new function(){var n=0.5522847498307936,r=[new p([-1,0],[0,n],[0,-n]),new p([0,-1],[-n,0],[n,0]),new p([1,0],[0,-n],[0,n]),new p([0,1],[n,0],[-n,0])];function b(M,F,U){var K=h.getNamed(U),j=new m(K&&(K.insert==!0?to.INSERT:K.insert==!1?to.NO_INSERT:null));return j._add(M),j._closed=F,j.set(K,to.INSERT)}function v(M,F,U){var K=new Array(4);for(var j=0;j<4;j++){var J=r[j];K[j]=new p(J._point.multiply(F).add(M),J._handleIn.multiply(F),J._handleOut.multiply(F))}return b(K,!0,U)}return{Line:function(){var M=arguments;return b([new p(x.readNamed(M,"from")),new p(x.readNamed(M,"to"))],!1,M)},Circle:function(){var M=arguments,F=x.readNamed(M,"center"),U=h.readNamed(M,"radius");return v(F,new g(U),M)},Rectangle:function(){var M=arguments,F=z.readNamed(M,"rectangle"),U=g.readNamed(M,"radius",0,{readNull:!0}),K=F.getBottomLeft(!0),j=F.getTopLeft(!0),J=F.getTopRight(!0),ao=F.getBottomRight(!0),H;if(!U||U.isZero())H=[new p(K),new p(j),new p(J),new p(ao)];else{U=g.min(U,F.getSize(!0).divide(2));var{width:D,height:eo}=U,A=D*n,ro=eo*n;H=[new p(K.add(D,0),null,[-A,0]),new p(K.subtract(0,eo),[0,ro]),new p(j.add(0,eo),null,[0,-ro]),new p(j.add(D,0),[-A,0],null),new p(J.subtract(D,0),null,[A,0]),new p(J.add(0,eo),[0,-ro],null),new p(ao.subtract(0,eo),null,[0,ro]),new p(ao.subtract(D,0),[A,0])]}return b(H,!0,M)},RoundRectangle:"#Rectangle",Ellipse:function(){var M=arguments,F=Wo._readEllipse(M);return v(F.center,F.radius,M)},Oval:"#Ellipse",Arc:function(){var M=arguments,F=x.readNamed(M,"from"),U=x.readNamed(M,"through"),K=x.readNamed(M,"to"),j=h.getNamed(M),J=new m(j&&j.insert==!1&&to.NO_INSERT);return J.moveTo(F),J.arcTo(U,K),J.set(j)},RegularPolygon:function(){var M=arguments,F=x.readNamed(M,"center"),U=h.readNamed(M,"sides"),K=h.readNamed(M,"radius"),j=360/U,J=U%3===0,ao=new x(0,J?-K:K),H=J?-1:0.5,D=new Array(U);for(var eo=0;eo<U;eo++)D[eo]=new p(F.add(ao.rotate((eo+H)*j)));return b(D,!0,M)},Star:function(){var M=arguments,F=x.readNamed(M,"center"),U=h.readNamed(M,"points")*2,K=h.readNamed(M,"radius1"),j=h.readNamed(M,"radius2"),J=360/U,ao=new x(0,-1),H=new Array(U);for(var D=0;D<U;D++)H[D]=new p(F.add(ao.rotate(J*D).multiply(D%2?j:K)));return b(H,!0,M)}}}});var S=a.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function n(r){if(this._children=[],this._namedChildren={},!this._initialize(r))if(typeof r==="string")this.setPathData(r);else this.addChildren(Array.isArray(r)?r:arguments)},insertChildren:function n(r,b){var v=b,M=v[0];if(M&&typeof M[0]==="number")v=[v];for(var F=b.length-1;F>=0;F--){var U=v[F];if(v===b&&!(U instanceof m))v=h.slice(v);if(Array.isArray(U))v[F]=new m({segments:U,insert:!1});else if(U instanceof S)v.splice.apply(v,[F,1].concat(U.removeChildren())),U.remove()}return n.base.call(this,r,v)},reduce:function n(r){var b=this._children;for(var v=b.length-1;v>=0;v--){var M=b[v].reduce(r);if(M.isEmpty())M.remove()}if(!b.length){var M=new m(to.NO_INSERT);return M.copyAttributes(this),M.insertAbove(this),this.remove(),M}return n.base.call(this)},isClosed:function(){var n=this._children;for(var r=0,b=n.length;r<b;r++)if(!n[r]._closed)return!1;return!0},setClosed:function(n){var r=this._children;for(var b=0,v=r.length;b<v;b++)r[b].setClosed(n)},getFirstSegment:function(){var n=this.getFirstChild();return n&&n.getFirstSegment()},getLastSegment:function(){var n=this.getLastChild();return n&&n.getLastSegment()},getCurves:function(){var n=this._children,r=[];for(var b=0,v=n.length;b<v;b++)h.push(r,n[b].getCurves());return r},getFirstCurve:function(){var n=this.getFirstChild();return n&&n.getFirstCurve()},getLastCurve:function(){var n=this.getLastChild();return n&&n.getLastCurve()},getArea:function(){var n=this._children,r=0;for(var b=0,v=n.length;b<v;b++)r+=n[b].getArea();return r},getLength:function(){var n=this._children,r=0;for(var b=0,v=n.length;b<v;b++)r+=n[b].getLength();return r},getPathData:function(n,r){var b=this._children,v=[];for(var M=0,F=b.length;M<F;M++){var U=b[M],K=U._matrix;v.push(U.getPathData(n&&!K.isIdentity()?n.appended(K):n,r))}return v.join("")},_hitTestChildren:function n(r,b,v){return n.base.call(this,r,b.class===m||b.type==="path"?b:h.set({},b,{fill:!1}),v)},_draw:function(n,r,b,v){var M=this._children;if(!M.length)return;r=r.extend({dontStart:!0,dontFinish:!0}),n.beginPath();for(var F=0,U=M.length;F<U;F++)M[F].draw(n,r,v);if(!r.clip){this._setStyles(n,r,b);var K=this._style;if(K.hasFill())n.fill(K.getFillRule()),n.shadowColor="rgba(0,0,0,0)";if(K.hasStroke())n.stroke()}},_drawSelected:function(n,r,b){var v=this._children;for(var M=0,F=v.length;M<F;M++){var U=v[M],K=U._matrix;if(!b[U._id])U._drawSelected(n,K.isIdentity()?r:r.appended(K))}}},new function(){function n(r,b){var v=r._children;if(b&&!v.length)throw new Error("Use a moveTo() command first");return v[v.length-1]}return h.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var b=n(this,!0);b[r].apply(b,arguments)}},{moveTo:function(){var r=n(this),b=r&&r.isEmpty()?r:new m(to.NO_INSERT);if(b!==r)this.addChild(b);b.moveTo.apply(b,arguments)},moveBy:function(){var r=n(this,!0),b=r&&r.getLastSegment(),v=x.read(arguments);this.moveTo(b?v.add(b._point):v)},closePath:function(r){n(this,!0).closePath(r)}})},h.each(["reverse","flatten","simplify","smooth"],function(n){this[n]=function(r){var b=this._children,v;for(var M=0,F=b.length;M<F;M++)v=b[M][n](r)||v;return v}},{}));a.inject(new function(){var{min:n,max:r,abs:b}=Math,v={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function M(oo){return oo._children||[oo]}function F(oo,no){var so=oo.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(no){var C=M(so);for(var lo=0,_o=C.length;lo<_o;lo++){var oo=C[lo];if(!oo._closed&&!oo.isEmpty())oo.closePath(0.000000000001),oo.getFirstSegment().setHandleIn(0,0),oo.getLastSegment().setHandleOut(0,0)}so=so.resolveCrossings().reorient(so.getFillRule()==="nonzero",!0)}return so}function U(oo,no,so,C,lo){var _o=new S(to.NO_INSERT);if(_o.addChildren(oo,!0),_o=_o.reduce({simplify:no}),!(lo&&lo.insert==!1))_o.insertAbove(C&&so.isSibling(C)&&so.getIndex()<C.getIndex()?C:so);return _o.copyAttributes(so,!0),_o}function K(oo){return oo.hasOverlap()||oo.isCrossing()}function j(oo,no,so,C){if(C&&(C.trace==!1||C.stroke)&&/^(subtract|intersect)$/.test(so))return J(oo,no,so);var lo=F(oo,!0),_o=no&&oo!==no&&F(no,!0),mo=v[so];if(mo[so]=!0,_o&&(mo.subtract||mo.exclude)^(_o.isClockwise()^lo.isClockwise()))_o.reverse();var bo=eo(t.expand(lo.getIntersections(_o,K))),Oo=M(lo),No=_o&&M(_o),yo=[],zo=[],ko;function Zo(Yo){for(var ra=0,aa=Yo.length;ra<aa;ra++){var sa=Yo[ra];h.push(yo,sa._segments),h.push(zo,sa.getCurves()),sa._overlapsOnly=!0}}function go(Yo){var ra=[];for(var aa=0,sa=Yo&&Yo.length;aa<sa;aa++)ra.push(zo[Yo[aa]]);return ra}if(bo.length){if(Zo(Oo),No)Zo(No);var Vo=new Array(zo.length);for(var Fo=0,Po=zo.length;Fo<Po;Fo++)Vo[Fo]=zo[Fo].getValues();var Ko=Z.findCurveBoundsCollisions(Vo,Vo,0,!0),Io={};for(var Fo=0;Fo<zo.length;Fo++){var Bo=zo[Fo],Ho=Bo._path._id,Ao=Io[Ho]=Io[Ho]||{};Ao[Bo.getIndex()]={hor:go(Ko[Fo].hor),ver:go(Ko[Fo].ver)}}for(var Fo=0,Po=bo.length;Fo<Po;Fo++)ro(bo[Fo]._segment,lo,_o,Io,mo);for(var Fo=0,Po=yo.length;Fo<Po;Fo++){var Do=yo[Fo],oa=Do._intersection;if(!Do._winding)ro(Do,lo,_o,Io,mo);if(!(oa&&oa._overlap))Do._path._overlapsOnly=!1}ko=vo(yo,mo)}else ko=D(No?Oo.concat(No):Oo.slice(),function(Yo){return!!mo[Yo]});return U(ko,!0,oo,no,C)}function J(oo,no,so){var C=F(oo),lo=F(no),_o=C.getIntersections(lo,K),mo=so==="subtract",bo=so==="divide",Oo={},No=[];function yo(Zo){if(!Oo[Zo._id]&&(bo||lo.contains(Zo.getPointAt(Zo.getLength()/2))^mo))return No.unshift(Zo),Oo[Zo._id]=!0}for(var zo=_o.length-1;zo>=0;zo--){var ko=_o[zo].split();if(ko){if(yo(ko))ko.getFirstSegment().setHandleIn(0,0);C.getLastSegment().setHandleOut(0,0)}}return yo(C),U(No,!1,oo,no)}function ao(oo,no){var so=oo;while(so){if(so===no)return;so=so._previous}while(oo._next&&oo._next!==no)oo=oo._next;if(!oo._next){while(no._previous)no=no._previous;oo._next=no,no._previous=oo}}function H(oo){for(var no=oo.length-1;no>=0;no--)oo[no].clearHandles()}function D(oo,no,so){var C=oo&&oo.length;if(C){var lo=h.each(oo,function(Ko,Io){this[Ko._id]={container:null,winding:Ko.isClockwise()?1:-1,index:Io}},{}),_o=oo.slice().sort(function(Ko,Io){return b(Io.getArea())-b(Ko.getArea())}),mo=_o[0],bo=Z.findItemBoundsCollisions(_o,null,V.GEOMETRIC_EPSILON);if(so==null)so=mo.isClockwise();for(var Oo=0;Oo<C;Oo++){var No=_o[Oo],yo=lo[No._id],zo=0,ko=bo[Oo];if(ko){var Zo=null;for(var go=ko.length-1;go>=0;go--)if(ko[go]<Oo){Zo=Zo||No.getInteriorPoint();var Vo=_o[ko[go]];if(Vo.contains(Zo)){var Fo=lo[Vo._id];zo=Fo.winding,yo.winding+=zo,yo.container=Fo.exclude?Fo.container:Vo;break}}}if(no(yo.winding)===no(zo))yo.exclude=!0,oo[yo.index]=null;else{var Po=yo.container;No.setClockwise(Po?!Po.isClockwise():so)}}}return oo}function eo(oo,no,so){var C=no&&[],lo=0.00000001,_o=1-lo,mo=!1,bo=so||[],Oo=so&&{},No,yo,zo;function ko(ra){return ra._path._id+"."+ra._segment1._index}for(var Zo=(so&&so.length)-1;Zo>=0;Zo--){var go=so[Zo];if(go._path)Oo[ko(go)]=!0}for(var Zo=oo.length-1;Zo>=0;Zo--){var Vo=oo[Zo],Fo=Vo._time,Po=Fo,Ko=no&&!no(Vo),go=Vo._curve,Io;if(go){if(go!==yo)mo=!go.hasHandles()||Oo&&Oo[ko(go)],No=[],zo=null,yo=go;else if(zo>=lo)Fo/=zo}if(Ko){if(No)No.push(Vo);continue}else if(no)C.unshift(Vo);if(zo=Po,Fo<lo)Io=go._segment1;else if(Fo>_o)Io=go._segment2;else{var Bo=go.divideAtTime(Fo,!0);if(mo)bo.push(go,Bo);Io=Bo._segment1;for(var Ho=No.length-1;Ho>=0;Ho--){var Ao=No[Ho];Ao._time=(Ao._time-Fo)/(1-Fo)}}Vo._setSegment(Io);var Do=Io._intersection,oa=Vo._intersection;if(Do){ao(Do,oa);var Yo=Do;while(Yo)ao(Yo._intersection,Do),Yo=Yo._next}else Io._intersection=oa}if(!so)H(bo);return C||oo}function A(oo,no,so,C,lo){var _o=Array.isArray(no)?no:no[so?"hor":"ver"],mo=so?1:0,bo=mo^1,Oo=[oo.x,oo.y],No=Oo[mo],yo=Oo[bo],zo=0.000000001,ko=0.000001,Zo=No-zo,go=No+zo,Vo=0,Fo=0,Po=0,Ko=0,Io=!1,Bo=!1,Ho=1,Ao=[],Do,oa;function Yo(ca){var $a=ca[bo+0],Sa=ca[bo+6];if(yo<n($a,Sa)||yo>r($a,Sa))return;var Ta=ca[mo+0],$n=ca[mo+2],Pe=ca[mo+4],Tn=ca[mo+6];if($a===Sa){if(Ta<go&&Tn>Zo||Tn<go&&Ta>Zo)Io=!0;return}var In=yo===$a?0:yo===Sa?1:Zo>r(Ta,$n,Pe,Tn)||go<n(Ta,$n,Pe,Tn)?1:N.solveCubic(ca,bo,yo,Ao,0,1)>0?Ao[0]:1,an=In===0?Ta:In===1?Tn:N.getPoint(ca,In)[so?"y":"x"],en=$a>Sa?1:-1,Fs=Do[bo]>Do[bo+6]?1:-1,Gn=Do[mo+6];if(yo!==$a){if(an<Zo)Po+=en;else if(an>go)Ko+=en;else Io=!0;if(an>No-ko&&an<No+ko)Ho/=2}else{if(en!==Fs){if(Ta<Zo)Po+=en;else if(Ta>go)Ko+=en}else if(Ta!=Gn){if(Gn<go&&an>go)Ko+=en,Io=!0;else if(Gn>Zo&&an<Zo)Po+=en,Io=!0}Ho/=4}return Do=ca,!lo&&an>Zo&&an<go&&N.getTangent(ca,In)[so?"x":"y"]===0&&A(oo,no,!so,C,!0)}function ra(ca){var $a=ca[bo+0],Sa=ca[bo+2],Ta=ca[bo+4],$n=ca[bo+6];if(yo<=r($a,Sa,Ta,$n)&&yo>=n($a,Sa,Ta,$n)){var Pe=ca[mo+0],Tn=ca[mo+2],In=ca[mo+4],an=ca[mo+6],en=Zo>r(Pe,Tn,In,an)||go<n(Pe,Tn,In,an)?[ca]:N.getMonoCurves(ca,so),Fs;for(var Gn=0,z6=en.length;Gn<z6;Gn++)if(Fs=Yo(en[Gn]))return Fs}}for(var aa=0,sa=_o.length;aa<sa;aa++){var la=_o[aa],ea=la._path,ma=la.getValues(),ta;if(!aa||_o[aa-1]._path!==ea){if(Do=null,!ea._closed){if(oa=N.getValues(ea.getLastCurve().getSegment2(),la.getSegment1(),null,!C),oa[bo]!==oa[bo+6])Do=oa}if(!Do){Do=ma;var _a=ea.getLastCurve();while(_a&&_a!==la){var ua=_a.getValues();if(ua[bo]!==ua[bo+6]){Do=ua;break}_a=_a.getPrevious()}}}if(ta=ra(ma))return ta;if(aa+1===sa||_o[aa+1]._path!==ea){if(oa&&(ta=ra(oa)))return ta;if(Io&&!Po&&!Ko)Po=Ko=ea.isClockwise(C)^so?1:-1;if(Vo+=Po,Fo+=Ko,Po=Ko=0,Io)Bo=!0,Io=!1;oa=null}}return Vo=b(Vo),Fo=b(Fo),{winding:r(Vo,Fo),windingL:Vo,windingR:Fo,quality:Ho,onPath:Bo}}function ro(oo,no,so,C,lo){var _o=[],mo=oo,bo=0,zo;do{var Oo=oo.getCurve();if(Oo){var No=Oo.getLength();_o.push({segment:oo,curve:Oo,length:No}),bo+=No}oo=oo.getNext()}while(oo&&!oo._intersection&&oo!==mo);var yo=[0.5,0.25,0.75],zo={winding:0,quality:-1},ko=0.001,Zo=1-ko;for(var go=0;go<yo.length&&zo.quality<0.5;go++){var No=bo*yo[go];for(var Vo=0,Fo=_o.length;Vo<Fo;Vo++){var Po=_o[Vo],Ko=Po.length;if(No<=Ko){var Oo=Po.curve,Io=Oo._path,Bo=Io._parent,Ho=Bo instanceof S?Bo:Io,Ao=V.clamp(Oo.getTimeAt(No),ko,Zo),Do=Oo.getPointAtTime(Ao),oa=b(Oo.getTangentAtTime(Ao).y)<Math.SQRT1_2,Yo=null;if(lo.subtract&&so){var ra=Ho===no?so:no,aa=ra._getWinding(Do,oa,!0);if(Ho===no&&aa.winding||Ho===so&&!aa.winding)if(aa.quality<1)continue;else Yo={winding:0,quality:1}}if(Yo=Yo||A(Do,C[Io._id][Oo.getIndex()],oa,!0),Yo.quality>zo.quality)zo=Yo;break}No-=Ko}}for(var Vo=_o.length-1;Vo>=0;Vo--)_o[Vo].segment._winding=zo}function vo(oo,no){var so=[],C;function lo(sa){var la;return!!(sa&&!sa._visited&&(!no||no[(la=sa._winding||{}).winding]&&!(no.unite&&la.winding===2&&la.windingL&&la.windingR)))}function _o(sa){if(sa){for(var la=0,ea=C.length;la<ea;la++)if(sa===C[la])return!0}return!1}function mo(sa){var la=sa._segments;for(var ea=0,ma=la.length;ea<ma;ea++)la[ea]._visited=!0}function bo(sa,la){var ea=sa._intersection,ma=ea,ta=[];if(la)C=[sa];function _a(ua,ca){while(ua&&ua!==ca){var $a=ua._segment,Sa=$a&&$a._path;if(Sa){var Ta=$a.getNext()||Sa.getFirstSegment(),$n=Ta._intersection;if($a!==sa&&(_o($a)||_o(Ta)||Ta&&(lo($a)&&(lo(Ta)||$n&&lo($n._segment)))))ta.push($a);if(la)C.push($a)}ua=ua._next}}if(ea){_a(ea);while(ea&&ea._previous)ea=ea._previous;_a(ea,ma)}return ta}oo.sort(function(sa,la){var ea=sa._intersection,ma=la._intersection,ta=!!(ea&&ea._overlap),_a=!!(ma&&ma._overlap),ua=sa._path,ca=la._path;return ta^_a?ta?1:-1:!ea^!ma?ea?1:-1:ua!==ca?ua._id-ca._id:sa._index-la._index});for(var Oo=0,No=oo.length;Oo<No;Oo++){var yo=oo[Oo],zo=lo(yo),ko=null,Zo=!1,go=!0,Vo=[],Fo,Po,Ko;if(zo&&yo._path._overlapsOnly){var Io=yo._path,Bo=yo._intersection._segment._path;if(Io.compare(Bo)){if(Io.getArea())so.push(Io.clone(!1));mo(Io),mo(Bo),zo=!1}}while(zo){var Ho=!ko,Ao=bo(yo,Ho),Do=Ao.shift(),Zo=!Ho&&(_o(yo)||_o(Do)),oa=!Zo&&Do;if(Ho)ko=new m(to.NO_INSERT),Fo=null;if(Zo){if(yo.isFirst()||yo.isLast())go=yo._path._closed;yo._visited=!0;break}if(oa&&Fo)Vo.push(Fo),Fo=null;if(!Fo){if(oa)Ao.push(yo);Fo={start:ko._segments.length,crossings:Ao,visited:Po=[],handleIn:Ko}}if(oa)yo=Do;if(!lo(yo)){ko.removeSegments(Fo.start);for(var Yo=0,ra=Po.length;Yo<ra;Yo++)Po[Yo]._visited=!1;Po.length=0;do if(yo=Fo&&Fo.crossings.shift(),!yo||!yo._path){if(yo=null,Fo=Vo.pop(),Fo)Po=Fo.visited,Ko=Fo.handleIn}while(Fo&&!lo(yo));if(!yo)break}var aa=yo.getNext();ko.add(new p(yo._point,Ko,aa&&yo._handleOut)),yo._visited=!0,Po.push(yo),yo=aa||yo._path.getFirstSegment(),Ko=aa&&aa._handleIn}if(Zo){if(go)ko.getFirstSegment().setHandleIn(Ko),ko.setClosed(go);if(ko.getArea()!==0)so.push(ko)}}return so}return{_getWinding:function(oo,no,so){return A(oo,this.getCurves(),no,so)},unite:function(oo,no){return j(this,oo,"unite",no)},intersect:function(oo,no){return j(this,oo,"intersect",no)},subtract:function(oo,no){return j(this,oo,"subtract",no)},exclude:function(oo,no){return j(this,oo,"exclude",no)},divide:function(oo,no){return no&&(no.trace==!1||no.stroke)?J(this,oo,"divide"):U([this.subtract(oo,no),this.intersect(oo,no)],!0,this,oo,no)},resolveCrossings:function(){var oo=this._children,no=oo||[this];function so(Fo,Po){var Ko=Fo&&Fo._intersection;return Ko&&Ko._overlap&&Ko._path===Po}var C=!1,lo=!1,_o=this.getIntersections(null,function(Fo){return Fo.hasOverlap()&&(C=!0)||Fo.isCrossing()&&(lo=!0)}),mo=C&&lo&&[];if(_o=t.expand(_o),C){var bo=eo(_o,function(Fo){return Fo.hasOverlap()},mo);for(var Oo=bo.length-1;Oo>=0;Oo--){var No=bo[Oo],yo=No._path,zo=No._segment,ko=zo.getPrevious(),Zo=zo.getNext();if(so(ko,yo)&&so(Zo,yo)){if(zo.remove(),ko._handleOut._set(0,0),Zo._handleIn._set(0,0),ko!==zo&&!ko.getCurve().hasLength())Zo._handleIn.set(ko._handleIn),ko.remove()}}}if(lo){if(eo(_o,C&&function(Fo){var Po=Fo.getCurve(),Ko=Fo.getSegment(),Io=Fo._intersection,Bo=Io._curve,Ho=Io._segment;if(Po&&Bo&&Po._path&&Bo._path)return!0;if(Ko)Ko._intersection=null;if(Ho)Ho._intersection=null},mo),mo)H(mo);no=vo(h.each(no,function(Fo){h.push(this,Fo._segments)},[]))}var go=no.length,Vo;if(go>1&&oo){if(no!==oo)this.setChildren(no);Vo=this}else if(go===1&&!oo){if(no[0]!==this)this.setSegments(no[0].removeSegments());Vo=this}if(!Vo)Vo=new S(to.NO_INSERT),Vo.addChildren(no),Vo=Vo.reduce(),Vo.copyAttributes(this),this.replaceWith(Vo);return Vo},reorient:function(oo,no){var so=this._children;if(so&&so.length)this.setChildren(D(this.removeChildren(),function(C){return!!(oo?C:C&1)},no));else if(no!==f)this.setClockwise(no);return this},getInteriorPoint:function(){var oo=this.getBounds(),no=oo.getCenter(!0);if(!this.contains(no)){var so=this.getCurves(),C=no.y,lo=[],_o=[];for(var mo=0,bo=so.length;mo<bo;mo++){var Oo=so[mo].getValues(),No=Oo[1],yo=Oo[3],zo=Oo[5],ko=Oo[7];if(C>=n(No,yo,zo,ko)&&C<=r(No,yo,zo,ko)){var Zo=N.getMonoCurves(Oo);for(var go=0,Vo=Zo.length;go<Vo;go++){var Fo=Zo[go],Po=Fo[1],Ko=Fo[7];if(Po!==Ko&&(C>=Po&&C<=Ko||C>=Ko&&C<=Po)){var Io=C===Po?Fo[0]:C===Ko?Fo[6]:N.solveCubic(Fo,1,C,_o,0,1)===1?N.getPoint(Fo,_o[0]).x:(Fo[0]+Fo[6])/2;lo.push(Io)}}}}if(lo.length>1)lo.sort(function(Bo,Ho){return Bo-Ho}),no.x=(lo[0]+lo[1])/2}return no}}});var w=h.extend({_class:"PathFlattener",initialize:function(n,r,b,v,M){var F=[],U=[],K=0,j=1/(b||32),J=n._segments,ao=J[0],H;function D(vo,oo){var no=N.getValues(vo,oo,M);F.push(no),eo(no,vo._index,0,1)}function eo(vo,oo,no,so){if(so-no>j&&!(v&&N.isStraight(vo))&&!N.isFlatEnough(vo,r||0.25)){var C=N.subdivide(vo,0.5),lo=(no+so)/2;eo(C[0],oo,no,lo),eo(C[1],oo,lo,so)}else{var _o=vo[6]-vo[0],mo=vo[7]-vo[1],bo=Math.sqrt(_o*_o+mo*mo);if(bo>0)K+=bo,U.push({offset:K,curve:vo,index:oo,time:so})}}for(var A=1,ro=J.length;A<ro;A++)H=J[A],D(ao,H),ao=H;if(n._closed)D(H||ao,J[0]);this.curves=F,this.parts=U,this.length=K,this.index=0},_get:function(n){var r=this.parts,b=r.length,v,M,F=this.index;for(;;)if(M=F,!F||r[--F].offset<n)break;for(;M<b;M++){var U=r[M];if(U.offset>=n){this.index=M;var K=r[M-1],j=K&&K.index===U.index?K.time:0,J=K?K.offset:0;return{index:U.index,time:j+(U.time-j)*(n-J)/(U.offset-J)}}}return{index:r[b-1].index,time:1}},drawPart:function(n,r,b){var v=this._get(r),M=this._get(b);for(var F=v.index,U=M.index;F<=U;F++){var K=N.getPart(this.curves[F],F===v.index?v.time:0,F===M.index?M.time:1);if(F===v.index)n.moveTo(K[0],K[1]);n.bezierCurveTo.apply(n,K.slice(2))}}},h.each(N._evaluateMethods,function(n){this[n+"At"]=function(r){var b=this._get(r);return N[n](this.curves[b.index],b.time)}},{})),I=h.extend({initialize:function(n){var r=this.points=[],b=n._segments,v=n._closed;for(var M=0,F,U=b.length;M<U;M++){var K=b[M].point;if(!F||!F.equals(K))r.push(F=K.clone())}if(v)r.unshift(r[r.length-1]),r.push(r[1]);this.closed=v},fit:function(n){var r=this.points,b=r.length,v=null;if(b>0){if(v=[new p(r[0])],b>1){if(this.fitCubic(v,n,0,b-1,r[1].subtract(r[0]),r[b-2].subtract(r[b-1])),this.closed)v.shift(),v.pop()}}return v},fitCubic:function(n,r,b,v,M,F){var U=this.points;if(v-b===1){var K=U[b],j=U[v],J=K.getDistance(j)/3;this.addCurve(n,[K,K.add(M.normalize(J)),j.add(F.normalize(J)),j]);return}var ao=this.chordLengthParameterize(b,v),H=Math.max(r,r*r),D,eo=!0;for(var A=0;A<=4;A++){var ro=this.generateBezier(b,v,ao,M,F),vo=this.findMaxError(b,v,ro,ao);if(vo.error<r&&eo){this.addCurve(n,ro);return}if(D=vo.index,vo.error>=H)break;eo=this.reparameterize(b,v,ao,ro),H=vo.error}var oo=U[D-1].subtract(U[D+1]);this.fitCubic(n,r,b,D,M,oo),this.fitCubic(n,r,D,v,oo.negate(),F)},addCurve:function(n,r){var b=n[n.length-1];b.setHandleOut(r[1].subtract(r[0])),n.push(new p(r[3],r[2].subtract(r[3])))},generateBezier:function(n,r,b,v,M){var F=0.000000000001,U=Math.abs,K=this.points,j=K[n],J=K[r],ao=[[0,0],[0,0]],H=[0,0];for(var D=0,eo=r-n+1;D<eo;D++){var A=b[D],ro=1-A,vo=3*A*ro,oo=ro*ro*ro,no=vo*ro,so=vo*A,C=A*A*A,lo=v.normalize(no),_o=M.normalize(so),mo=K[n+D].subtract(j.multiply(oo+no)).subtract(J.multiply(so+C));ao[0][0]+=lo.dot(lo),ao[0][1]+=lo.dot(_o),ao[1][0]=ao[0][1],ao[1][1]+=_o.dot(_o),H[0]+=lo.dot(mo),H[1]+=_o.dot(mo)}var bo=ao[0][0]*ao[1][1]-ao[1][0]*ao[0][1],Oo,No;if(U(bo)>F){var yo=ao[0][0]*H[1]-ao[1][0]*H[0],zo=H[0]*ao[1][1]-H[1]*ao[0][1];Oo=zo/bo,No=yo/bo}else{var ko=ao[0][0]+ao[0][1],Zo=ao[1][0]+ao[1][1];Oo=No=U(ko)>F?H[0]/ko:U(Zo)>F?H[1]/Zo:0}var go=J.getDistance(j),Vo=F*go,Fo,Po;if(Oo<Vo||No<Vo)Oo=No=go/3;else{var Ko=J.subtract(j);if(Fo=v.normalize(Oo),Po=M.normalize(No),Fo.dot(Ko)-Po.dot(Ko)>go*go)Oo=No=go/3,Fo=Po=null}return[j,j.add(Fo||v.normalize(Oo)),J.add(Po||M.normalize(No)),J]},reparameterize:function(n,r,b,v){for(var M=n;M<=r;M++)b[M-n]=this.findRoot(v,this.points[M],b[M-n]);for(var M=1,F=b.length;M<F;M++)if(b[M]<=b[M-1])return!1;return!0},findRoot:function(n,r,b){var v=[],M=[];for(var F=0;F<=2;F++)v[F]=n[F+1].subtract(n[F]).multiply(3);for(var F=0;F<=1;F++)M[F]=v[F+1].subtract(v[F]).multiply(2);var U=this.evaluate(3,n,b),K=this.evaluate(2,v,b),j=this.evaluate(1,M,b),J=U.subtract(r),ao=K.dot(K)+J.dot(j);return V.isMachineZero(ao)?b:b-J.dot(K)/ao},evaluate:function(n,r,b){var v=r.slice();for(var M=1;M<=n;M++)for(var F=0;F<=n-M;F++)v[F]=v[F].multiply(1-b).add(v[F+1].multiply(b));return v[0]},chordLengthParameterize:function(n,r){var b=[0];for(var v=n+1;v<=r;v++)b[v-n]=b[v-n-1]+this.points[v].getDistance(this.points[v-1]);for(var v=1,M=r-n;v<=M;v++)b[v]/=b[M];return b},findMaxError:function(n,r,b,v){var M=Math.floor((r-n+1)/2),F=0;for(var U=n+1;U<r;U++){var K=this.evaluate(3,b,v[U-n]),j=K.subtract(this.points[U]),J=j.x*j.x+j.y*j.y;if(J>=F)F=J,M=U}return{error:F,index:M}}}),fo=to.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function n(r){this._content="",this._lines=[];var b=r&&h.isPlainObject(r)&&r.x===f&&r.y===f;this._initialize(b&&r,!b&&x.read(arguments))},_equals:function(n){return this._content===n._content},copyContent:function(n){this.setContent(n._content)},getContent:function(){return this._content},setContent:function(n){this._content=""+n,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Ro=fo.extend({_class:"PointText",initialize:function n(){fo.apply(this,arguments)},getPoint:function(){var n=this._matrix.getTranslation();return new O(n.x,n.y,this,"setPoint")},setPoint:function(){var n=x.read(arguments);this.translate(n.subtract(this._matrix.getTranslation()))},_draw:function(n,r,b){if(!this._content)return;this._setStyles(n,r,b);var v=this._lines,M=this._style,F=M.hasFill(),U=M.hasStroke(),K=M.getLeading(),j=n.shadowColor;n.font=M.getFontStyle(),n.textAlign=M.getJustification();for(var J=0,ao=v.length;J<ao;J++){n.shadowColor=j;var H=v[J];if(F)n.fillText(H,0,0),n.shadowColor="rgba(0,0,0,0)";if(U)n.strokeText(H,0,0);n.translate(0,K)}},_getBounds:function(n,r){var b=this._style,v=this._lines,M=v.length,F=b.getJustification(),U=b.getLeading(),K=this.getView().getTextWidth(b.getFontStyle(),v),j=0;if(F!=="left")j-=K/(F==="center"?2:1);var J=new z(j,M?-0.75*U:0,K,M*U);return n?n._transformBounds(J,J):J}}),qo=h.extend(new function(){var n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},b={transparent:[0,0,0,0]},v;function M(K){var j=K.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||K.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),J="rgb",ao;if(j){var H=j[4]?4:3;ao=new Array(H);for(var D=0;D<H;D++){var eo=j[D+1];ao[D]=parseInt(eo.length==1?eo+eo:eo,16)/255}}else if(j=K.match(/^(rgb|hsl)a?\((.*)\)$/)){J=j[1],ao=j[2].trim().split(/[,\s]+/g);var A=J==="hsl";for(var D=0,ro=Math.min(ao.length,4);D<ro;D++){var vo=ao[D],eo=parseFloat(vo);if(A){if(D===0){var oo=vo.match(/([a-z]*)$/)[1];eo*={turn:360,rad:180/Math.PI,grad:0.9}[oo]||1}else if(D<3)eo/=100}else if(D<3)eo/=/%$/.test(vo)?100:255;ao[D]=eo}}else{var no=b[K];if(!no)if(q){if(!v)v=Qo.getContext(1,1,{willReadFrequently:!0}),v.globalCompositeOperation="copy";v.fillStyle="rgba(0,0,0,0)",v.fillStyle=K,v.fillRect(0,0,1,1);var so=v.getImageData(0,0,1,1).data;no=b[K]=[so[0]/255,so[1]/255,so[2]/255]}else no=[0,0,0];ao=no.slice()}return[J,ao]}var F=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],U={"rgb-hsb":function(K,j,J){var ao=Math.max(K,j,J),H=Math.min(K,j,J),D=ao-H,eo=D===0?0:(ao==K?(j-J)/D+(j<J?6:0):ao==j?(J-K)/D+2:(K-j)/D+4)*60;return[eo,ao===0?0:D/ao,ao]},"hsb-rgb":function(K,j,J){K=(K/60%6+6)%6;var H=Math.floor(K),ao=K-H,H=F[H],D=[J,J*(1-j),J*(1-j*ao),J*(1-j*(1-ao))];return[D[H[0]],D[H[1]],D[H[2]]]},"rgb-hsl":function(K,j,J){var ao=Math.max(K,j,J),H=Math.min(K,j,J),D=ao-H,eo=D===0,A=eo?0:(ao==K?(j-J)/D+(j<J?6:0):ao==j?(J-K)/D+2:(K-j)/D+4)*60,ro=(ao+H)/2,vo=eo?0:ro<0.5?D/(ao+H):D/(2-ao-H);return[A,vo,ro]},"hsl-rgb":function(K,j,J){if(K=(K/360%1+1)%1,j===0)return[J,J,J];var ao=[K+0.3333333333333333,K,K-0.3333333333333333],H=J<0.5?J*(1+j):J+j-J*j,D=2*J-H,eo=[];for(var A=0;A<3;A++){var ro=ao[A];if(ro<0)ro+=1;if(ro>1)ro-=1;eo[A]=6*ro<1?D+(H-D)*6*ro:2*ro<1?H:3*ro<2?D+(H-D)*(0.6666666666666666-ro)*6:D}return eo},"rgb-gray":function(K,j,J){return[K*0.2989+j*0.587+J*0.114]},"gray-rgb":function(K){return[K,K,K]},"gray-hsb":function(K){return[0,0,K]},"gray-hsl":function(K){return[0,0,K]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return h.each(n,function(K,j){r[j]=[],h.each(K,function(J,ao){var H=h.capitalize(J),D=/^(hue|saturation)$/.test(J),eo=r[j][ao]=j==="gradient"?J==="gradient"?function(A){var ro=this._components[0];if(A=po.read(Array.isArray(A)?A:arguments,0,{readNull:!0}),ro!==A){if(ro)ro._removeOwner(this);if(A)A._addOwner(this)}return A}:function(){return x.read(arguments,0,{readNull:J==="highlight",clone:!0})}:function(A){return A==null||isNaN(A)?0:+A};this["get"+H]=function(){return this._type===j||D&&/^hs[bl]$/.test(this._type)?this._components[ao]:this._convert(j)[ao]},this["set"+H]=function(A){if(this._type!==j&&!(D&&/^hs[bl]$/.test(this._type)))this._components=this._convert(j),this._properties=n[j],this._type=j;this._components[ao]=eo.call(this,A),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function K(j){var J=arguments,ao=this.__read,H=0,D,eo,A,ro;if(Array.isArray(j))J=j,j=J[0];var vo=j!=null&&typeof j;if(vo==="string"&&j in n)if(D=j,j=J[1],Array.isArray(j))eo=j,A=J[2];else{if(ao)H=1;J=h.slice(J,1),vo=typeof j}if(!eo){if(ro=vo==="number"?J:vo==="object"&&j.length!=null?j:null,ro){if(!D)D=ro.length>=3?"rgb":"gray";var oo=n[D].length;if(A=ro[oo],ao)H+=ro===arguments?oo+(A!=null?1:0):1;if(ro.length>oo)ro=h.slice(ro,0,oo)}else if(vo==="string"){var no=M(j);if(D=no[0],eo=no[1],eo.length===4)A=eo[3],eo.length--}else if(vo==="object")if(j.constructor===K){if(D=j._type,eo=j._components.slice(),A=j._alpha,D==="gradient")for(var so=1,C=eo.length;so<C;so++){var lo=eo[so];if(lo)eo[so]=lo.clone()}}else if(j.constructor===po)D="gradient",ro=J;else{D="hue"in j?"lightness"in j?"hsl":"hsb":("gradient"in j)||("stops"in j)||("radial"in j)?"gradient":("gray"in j)?"gray":"rgb";var _o=n[D],mo=r[D];this._components=eo=[];for(var so=0,C=_o.length;so<C;so++){var bo=j[_o[so]];if(bo==null&&!so&&D==="gradient"&&"stops"in j)bo={stops:j.stops,radial:j.radial};if(bo=mo[so].call(this,bo),bo!=null)eo[so]=bo}A=j.alpha}if(ao&&D)H=1}if(this._type=D||"rgb",!eo){this._components=eo=[];var mo=r[this._type];for(var so=0,C=mo.length;so<C;so++){var bo=mo[so].call(this,ro&&ro[so]);if(bo!=null)eo[so]=bo}}if(this._components=eo,this._properties=n[this._type],this._alpha=A,ao)this.__read=H;return this},set:"#initialize",_serialize:function(K,j){var J=this.getComponents();return h.serialize(/^(gray|rgb)$/.test(this._type)?J:[this._type].concat(J),K,!0,j)},_changed:function(){if(this._canvasStyle=null,this._owner)if(this._setter)this._owner[this._setter](this);else this._owner._changed(129)},_convert:function(K){var j;return this._type===K?this._components.slice():(j=U[this._type+"-"+K])?j.apply(this,this._components):U["rgb-"+K].apply(this,U[this._type+"-rgb"].apply(this,this._components))},convert:function(K){return new qo(K,this._convert(K),this._alpha)},getType:function(){return this._type},setType:function(K){this._components=this._convert(K),this._properties=n[K],this._type=K},getComponents:function(){var K=this._components.slice();if(this._alpha!=null)K.push(this._alpha);return K},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(K){this._alpha=K==null?null:Math.min(Math.max(K,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(K){var j=h.isPlainValue(K,!0)?qo.read(arguments):K;return j===this||j&&this._class===j._class&&this._type===j._type&&this.getAlpha()===j.getAlpha()&&h.equals(this._components,j._components)||!1},toString:function(){var K=this._properties,j=[],J=this._type==="gradient",ao=T.instance;for(var H=0,D=K.length;H<D;H++){var eo=this._components[H];if(eo!=null)j.push(K[H]+": "+(J?eo:ao.number(eo)))}if(this._alpha!=null)j.push("alpha: "+ao.number(this._alpha));return"{ "+j.join(", ")+" }"},toCSS:function(K){var j=this._convert("rgb"),J=K||this._alpha==null?1:this._alpha;function ao(H){return Math.round((H<0?0:H>1?1:H)*255)}if(j=[ao(j[0]),ao(j[1]),ao(j[2])],J<1)j.push(J<0?0:J);return K?"#"+(16777216+(j[0]<<16)+(j[1]<<8)+j[2]).toString(16).slice(1):(j.length==4?"rgba(":"rgb(")+j.join(",")+")"},toCanvasStyle:function(K,j){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var J=this._components,ao=J[0],H=ao._stops,D=J[1],eo=J[2],A=J[3],ro=j&&j.inverted(),vo;if(ro){if(D=ro._transformPoint(D),eo=ro._transformPoint(eo),A)A=ro._transformPoint(A)}if(ao._radial){var oo=eo.getDistance(D);if(A){var no=A.subtract(D);if(no.getLength()>oo)A=D.add(no.normalize(oo-0.1))}var so=A||D;vo=K.createRadialGradient(so.x,so.y,0,D.x,D.y,oo)}else vo=K.createLinearGradient(D.x,D.y,eo.x,eo.y);for(var C=0,lo=H.length;C<lo;C++){var _o=H[C],mo=_o._offset;vo.addColorStop(mo==null?C/(lo-1):mo,_o._color.toCanvasStyle())}return this._canvasStyle=vo},transform:function(K){if(this._type==="gradient"){var j=this._components;for(var J=1,ao=j.length;J<ao;J++){var H=j[J];K._transformPoint(H,H,!0)}this._changed()}},statics:{_types:n,random:function(){var K=Math.random;return new qo(K(),K(),K())},_setOwner:function(K,j,J){if(K){if(K._owner&&j&&K._owner!==j)K=K.clone();if(!K._owner^!j)K._owner=j||null,K._setter=J||null}return K}}})},new function(){var n={add:function(r,b){return r+b},subtract:function(r,b){return r-b},multiply:function(r,b){return r*b},divide:function(r,b){return r/b}};return h.each(n,function(r,b){this[b]=function(v){v=qo.read(arguments);var M=this._type,F=this._components,U=v._convert(M);for(var K=0,j=F.length;K<j;K++)U[K]=r(F[K],U[K]);return new qo(M,U,this._alpha!=null?r(this._alpha,v.getAlpha()):null)}},{})}),po=h.extend({_class:"Gradient",initialize:function n(r,b){if(this._id=$.get(),r&&h.isPlainObject(r))this.set(r),r=b=null;if(this._stops==null)this.setStops(r||["white","black"]);if(this._radial==null)this.setRadial(typeof b==="string"&&b==="radial"||b||!1)},_serialize:function(n,r){return r.add(this,function(){return h.serialize([this._stops,this._radial],n,!0,r)})},_changed:function(){for(var n=0,r=this._owners&&this._owners.length;n<r;n++)this._owners[n]._changed()},_addOwner:function(n){if(!this._owners)this._owners=[];this._owners.push(n)},_removeOwner:function(n){var r=this._owners?this._owners.indexOf(n):-1;if(r!=-1){if(this._owners.splice(r,1),!this._owners.length)this._owners=f}},clone:function(){var n=[];for(var r=0,b=this._stops.length;r<b;r++)n[r]=this._stops[r].clone();return new po(n,this._radial)},getStops:function(){return this._stops},setStops:function(n){if(n.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var b=0,v=r.length;b<v;b++)r[b]._owner=f;r=this._stops=io.readList(n,0,{clone:!0});for(var b=0,v=r.length;b<v;b++)r[b]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(n){this._radial=n,this._changed()},equals:function(n){if(n===this)return!0;if(n&&this._class===n._class){var r=this._stops,b=n._stops,v=r.length;if(v===b.length){for(var M=0;M<v;M++)if(!r[M].equals(b[M]))return!1;return!0}}return!1}}),io=h.extend({_class:"GradientStop",initialize:function n(r,b){var v=r,M=b;if(typeof r==="object"&&b===f){if(Array.isArray(r)&&typeof r[0]!=="number")v=r[0],M=r[1];else if("color"in r||"offset"in r||"rampPoint"in r)v=r.color,M=r.offset||r.rampPoint||0}this.setColor(v),this.setOffset(M)},clone:function(){return new io(this._color.clone(),this._offset)},_serialize:function(n,r){var b=this._color,v=this._offset;return h.serialize(v==null?[b]:[b,v],n,!0,r)},_changed:function(){if(this._owner)this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(n){this._offset=n,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){qo._setOwner(this._color,null),this._color=qo._setOwner(qo.read(arguments,0),this,"setColor"),this._changed()},equals:function(n){return n===this||n&&this._class===n._class&&this._color.equals(n._color)&&this._offset==n._offset||!1}}),ho=h.extend(new function(){var n={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new x,selectedColor:null},r=h.set({},n,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),b=h.set({},r,{fillColor:new qo}),v={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},M={beans:!0},F={_class:"Style",beans:!0,initialize:function U(K,j,J){if(this._values={},this._owner=j,this._project=j&&j._project||J||W.project,this._defaults=!j||j instanceof To?r:j instanceof fo?b:n,K)this.set(K)}};return h.each(r,function(U,K){var j=/Color$/.test(K),J=K==="shadowOffset",ao=h.capitalize(K),H=v[K],D="set"+ao,eo="get"+ao;F[D]=function(A){var ro=this._owner,vo=ro&&ro._children,oo=vo&&vo.length>0&&!(ro instanceof S);if(oo)for(var no=0,so=vo.length;no<so;no++)vo[no]._style[D](A);if((K==="selectedColor"||!oo)&&K in this._defaults){var C=this._values[K];if(C!==A){if(j){if(C)qo._setOwner(C,null),C._canvasStyle=null;if(A&&A.constructor===qo)A=qo._setOwner(A,ro,oo&&D)}if(this._values[K]=A,ro)ro._changed(H||129)}}},F[eo]=function(A){var ro=this._owner,vo=ro&&ro._children,oo=vo&&vo.length>0&&!(ro instanceof S),no;if(oo&&!A)for(var so=0,C=vo.length;so<C;so++){var lo=vo[so]._style[eo]();if(!so)no=lo;else if(!h.equals(no,lo))return f}else if(K in this._defaults){var no=this._values[K];if(no===f){if(no=this._defaults[K],no&&no.clone)no=no.clone()}else{var _o=j?qo:J?x:null;if(_o&&!(no&&no.constructor===_o))this._values[K]=no=_o.read([no],0,{readNull:!0,clone:!0})}}if(no&&j)no=qo._setOwner(no,ro,oo&&D);return no},M[eo]=function(A){return this._style[eo](A)},M[D]=function(A){this._style[D](A)}}),h.each({Font:"FontFamily",WindingRule:"FillRule"},function(U,K){var j="get"+K,J="set"+K;F[j]=M[j]="#get"+U,F[J]=M[J]="#set"+U}),to.inject(M),F},{set:function(n){var r=n instanceof ho,b=r?n._values:n;if(b){for(var v in b)if(v in this._defaults){var M=b[v];this[v]=M&&r&&M.clone?M.clone():M}}},equals:function(n){function r(b,v,M){var F=b._values,U=v._values,K=v._defaults;for(var j in F){var J=F[j],ao=U[j];if(!(M&&(j in U))&&!h.equals(J,ao===f?K[j]:ao))return!1}return!0}return n===this||n&&this._class===n._class&&r(this,n)&&r(n,this,!0)||!1},_dispose:function(){var n=this.getFillColor();if(n)n._canvasStyle=null;if(n=this.getStrokeColor(),n)n._canvasStyle=null;if(n=this.getShadowColor(),n)n._canvasStyle=null},hasFill:function(){var n=this.getFillColor();return!!n&&n.alpha>0},hasStroke:function(){var n=this.getStrokeColor();return!!n&&n.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var n=this.getShadowColor();return!!n&&n.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var n=this.getFontSize();return this.getFontWeight()+" "+n+(/[a-z]/i.test(n+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function n(){var r=n.base.call(this),b=this.getFontSize();if(/pt|em|%|px/.test(b))b=this.getView().getPixelSize(b);return r!=null?r:b*1.2}}),Eo=new function(){function n(r,b,v,M){var F=["","webkit","moz","Moz","ms","o"],U=b[0].toUpperCase()+b.substring(1);for(var K=0;K<6;K++){var j=F[K],J=j?j+U:b;if(J in r){if(v)r[J]=M;else return r[J];break}}}return{getStyles:function(r){var b=r&&r.nodeType!==9?r.ownerDocument:r,v=b&&b.defaultView;return v&&v.getComputedStyle(r,"")},getBounds:function(r,b){var v=r.ownerDocument,M=v.body,F=v.documentElement,U;try{U=r.getBoundingClientRect()}catch(ao){U={left:0,top:0,width:0,height:0}}var K=U.left-(F.clientLeft||M.clientLeft||0),j=U.top-(F.clientTop||M.clientTop||0);if(!b){var J=v.defaultView;K+=J.pageXOffset||F.scrollLeft||M.scrollLeft,j+=J.pageYOffset||F.scrollTop||M.scrollTop}return new z(K,j,U.width,U.height)},getViewportBounds:function(r){var b=r.ownerDocument,v=b.defaultView,M=b.documentElement;return new z(0,0,v.innerWidth||M.clientWidth,v.innerHeight||M.clientHeight)},getOffset:function(r,b){return Eo.getBounds(r,b).getPoint()},getSize:function(r){return Eo.getBounds(r,!0).getSize()},isInvisible:function(r){return Eo.getSize(r).equals(new g(0,0))},isInView:function(r){return!Eo.isInvisible(r)&&Eo.getViewportBounds(r).intersects(Eo.getBounds(r,!0))},isInserted:function(r){return u.body.contains(r)},getPrefixed:function(r,b){return r&&n(r,b)},setPrefixed:function(r,b,v){if(typeof b==="object")for(var M in b)n(r,M,!0,b[M]);else n(r,b,!0,v)}}},xo={add:function(n,r){if(n)for(var b in r){var v=r[b],M=b.split(/[\s,]+/g);for(var F=0,U=M.length;F<U;F++){var K=M[F],j=n===u&&(K==="touchstart"||K==="touchmove")?{passive:!1}:!1;n.addEventListener(K,v,j)}}},remove:function(n,r){if(n)for(var b in r){var v=r[b],M=b.split(/[\s,]+/g);for(var F=0,U=M.length;F<U;F++)n.removeEventListener(M[F],v,!1)}},getPoint:function(n){var r=n.targetTouches?n.targetTouches.length?n.targetTouches[0]:n.changedTouches[0]:n;return new x(r.pageX||r.clientX+u.documentElement.scrollLeft,r.pageY||r.clientY+u.documentElement.scrollTop)},getTarget:function(n){return n.target||n.srcElement},getRelatedTarget:function(n){return n.relatedTarget||n.toElement},getOffset:function(n,r){return xo.getPoint(n).subtract(Eo.getOffset(r||xo.getTarget(n)))}};xo.requestAnimationFrame=new function(){var n=Eo.getPrefixed(q,"requestAnimationFrame"),r=!1,b=[],v;function M(){var F=b;b=[];for(var U=0,K=F.length;U<K;U++)F[U]();if(r=n&&b.length,r)n(M)}return function(F){if(b.push(F),n){if(!r)n(M),r=!0}else if(!v)v=setInterval(M,16.666666666666668)}};var Lo=h.extend(L,{_class:"View",initialize:function n(r,b){function v(H){return b[H]||parseInt(b.getAttribute(H),10)}function M(){var H=Eo.getSize(b);return H.isNaN()||H.isZero()?new g(v("width"),v("height")):H}var F;if(q&&b){if(this._id=b.getAttribute("id"),this._id==null)b.setAttribute("id",this._id="paper-view-"+n._id++);xo.add(b,this._viewEvents);var U="none";if(Eo.setPrefixed(b.style,{userDrag:U,userSelect:U,touchCallout:U,contentZooming:U,tapHighlightColor:"rgba(0,0,0,0)"}),y.hasAttribute(b,"resize")){var K=this;xo.add(q,this._windowEvents={resize:function(){K.setViewSize(M())}})}if(F=M(),y.hasAttribute(b,"stats")&&typeof Stats!=="undefined"){this._stats=new Stats;var j=this._stats.domElement,J=j.style,ao=Eo.getOffset(b);J.position="absolute",J.left=ao.x+"px",J.top=ao.y+"px",u.body.appendChild(j)}}else F=new g(b),b=null;if(this._project=r,this._scope=r._scope,this._element=b,!this._pixelRatio)this._pixelRatio=q&&q.devicePixelRatio||1;if(this._setElementSize(F.width,F.height),this._viewSize=F,n._views.push(this),n._viewsById[this._id]=this,(this._matrix=new Y)._owner=this,!n._focused)n._focused=this;this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!W.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;if(Lo._focused===this)Lo._focused=null;Lo._views.splice(Lo._views.indexOf(this),1),delete Lo._viewsById[this._id];var n=this._project;if(n._view===this)n._view=null;return xo.remove(this._element,this._viewEvents),xo.remove(q,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:h.each(to._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(n){this[n]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(n){if(this._autoUpdate=n,n)this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var n=this;xo.requestAnimationFrame(function(){if(n._requested=!1,n._animate){n.requestUpdate();var r=n._element;if((!Eo.getPrefixed(u,"hidden")||y.getAttribute(r,"keepalive")==="true")&&Eo.isInView(r))n._handleFrame()}if(n._autoUpdate)n.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){W=this._scope;var n=Date.now()/1000,r=this._last?n-this._last:0;if(this._last=n,this.emit("frame",new h({delta:r,time:this._time+=r,count:this._count++})),this._stats)this._stats.update()},_animateItem:function(n,r){var b=this._frameItems;if(r){if(b[n._id]={item:n,time:0,count:0},++this._frameItemCount===1)this.on("frame",this._handleFrameItems)}else if(delete b[n._id],--this._frameItemCount===0)this.off("frame",this._handleFrameItems)},_handleFrameItems:function(n){for(var r in this._frameItems){var b=this._frameItems[r];b.item.emit("frame",new h(n,{time:b.time+=n.delta,count:b.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=f},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var n=this._viewSize;return new E(n.width,n.height,this,"setViewSize")},setViewSize:function(){var n=g.read(arguments),r=n.subtract(this._viewSize);if(r.isZero())return;if(this._setElementSize(n.width,n.height),this._viewSize.set(n),this._changed(),this.emit("resize",{size:n,delta:r}),this._autoUpdate)this.update()},_setElementSize:function(n,r){var b=this._element;if(b){if(b.width!==n)b.width=n;if(b.height!==r)b.height=r}},getBounds:function(){if(!this._bounds)this._bounds=this._matrix.inverted()._transformBounds(new z(new x,this._viewSize));return this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Eo.isInView(this._element)},isInserted:function(){return Eo.isInserted(this._element)},getPixelSize:function(n){var r=this._element,b;if(r){var v=r.parentNode,M=u.createElement("div");M.style.fontSize=n,v.appendChild(M),b=parseFloat(Eo.getStyles(M).fontSize),v.removeChild(M)}else b=parseFloat(b);return b},getTextWidth:function(n,r){return 0}},h.each(["rotate","scale","shear","skew"],function(n){var r=n==="rotate";this[n]=function(){var b=arguments,v=(r?h:x).read(b),M=x.read(b,0,{readNull:!0});return this.transform(new Y()[n](v,M||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var n=new Y;return this.transform(n.translate.apply(n,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var n=x.read(arguments);this.translate(this.getCenter().subtract(n))},getZoom:function(){var n=this._decompose().scaling;return(n.x+n.y)/2},setZoom:function(n){this.transform(new Y().scale(n/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(n){var r=this.getRotation();if(r!=null&&n!=null)this.rotate(n-r)},getScaling:function(){var n=this._decompose().scaling;return new O(n.x,n.y,this,"setScaling")},setScaling:function(){var n=this.getScaling(),r=x.read(arguments,0,{clone:!0,readNull:!0});if(n&&r)this.scale(r.x/n.x,r.y/n.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},transform:function(n){this._matrix.append(n)},scrollBy:function(){this.translate(x.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(x.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(x.read(arguments))},getEventPoint:function(n){return this.viewToProject(xo.getOffset(n,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(n,r){if(u&&typeof r==="string")r=u.getElementById(r);var b=q?G:Lo;return new b(n,r)}}},new function(){if(!q)return;var n,r,b=!1,v=!1;function M(ko){var Zo=xo.getTarget(ko);return Zo.getAttribute&&Lo._viewsById[Zo.getAttribute("id")]}function F(){var ko=Lo._focused;if(!ko||!ko.isVisible()){for(var Zo=0,go=Lo._views.length;Zo<go;Zo++)if((ko=Lo._views[Zo]).isVisible()){Lo._focused=r=ko;break}}}function U(ko,Zo,go){ko._handleMouseEvent("mousemove",Zo,go)}var K=q.navigator,j,J,ao;if(K.pointerEnabled||K.msPointerEnabled)j="pointerdown MSPointerDown",J="pointermove MSPointerMove",ao="pointerup pointercancel MSPointerUp MSPointerCancel";else if(j="touchstart",J="touchmove",ao="touchend touchcancel",!(("ontouchstart"in q)&&K.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)))j+=" mousedown",J+=" mousemove",ao+=" mouseup";var H={},D={mouseout:function(ko){var Zo=Lo._focused,go=xo.getRelatedTarget(ko);if(Zo&&(!go||go.nodeName==="HTML")){var Vo=xo.getOffset(ko,Zo._element),Fo=Vo.x,Po=Math.abs,Ko=Po(Fo),Io=33554432,Bo=Ko-Io;Vo.x=Po(Bo)<Ko?Bo*(Fo<0?-1:1):Fo,U(Zo,ko,Zo.viewToProject(Vo))}},scroll:F};H[j]=function(ko){var Zo=Lo._focused=M(ko);if(!b)b=!0,Zo._handleMouseEvent("mousedown",ko)},D[J]=function(ko){var Zo=Lo._focused;if(!v){var go=M(ko);if(go){if(Zo!==go){if(Zo)U(Zo,ko);if(!n)n=Zo;Zo=Lo._focused=r=go}}else if(r&&r===Zo){if(n&&!n.isInserted())n=null;Zo=Lo._focused=n,n=null,F()}}if(Zo)U(Zo,ko)},D[j]=function(){v=!0},D[ao]=function(ko){var Zo=Lo._focused;if(Zo&&b)Zo._handleMouseEvent("mouseup",ko);v=b=!1},xo.add(u,D),xo.add(q,{load:F});var eo=!1,A=!1,ro={doubleclick:"click",mousedrag:"mousemove"},vo=!1,oo,no,so,C,lo,_o,mo,bo,Oo;function No(ko,Zo,go,Vo,Fo,Po,Ko){var Io=!1,Bo;function Ho(Ao,Do){if(Ao.responds(Do)){if(!Bo)Bo=new wo(Do,Vo,Fo,Zo||Ao,Po?Fo.subtract(Po):null);if(Ao.emit(Do,Bo)){if(eo=!0,Bo.prevented)A=!0;if(Bo.stopped)return Io=!0}}else{var oa=ro[Do];if(oa)return Ho(Ao,oa)}}while(ko&&ko!==Ko){if(Ho(ko,go))break;ko=ko._parent}return Io}function yo(ko,Zo,go,Vo,Fo,Po){return ko._project.removeOn(go),A=eo=!1,_o&&No(_o,null,go,Vo,Fo,Po)||Zo&&Zo!==_o&&!Zo.isDescendant(_o)&&No(Zo,null,go==="mousedrag"?"mousemove":go,Vo,Fo,Po,_o)||No(ko,_o||Zo||ko,go,Vo,Fo,Po)}var zo={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:H,_handleMouseEvent:function(ko,Zo,go){var Vo=this._itemEvents,Fo=Vo.native[ko],Po=ko==="mousemove",Ko=this._scope.tool,Io=this;function Bo(aa){return Vo.virtual[aa]||Io.responds(aa)||Ko&&Ko.responds(aa)}if(Po&&b&&Bo("mousedrag"))ko="mousedrag";if(!go)go=this.getEventPoint(Zo);var Ho=this.getBounds().contains(go),Ao=Fo&&Ho&&Io._project.hitTest(go,{tolerance:0,fill:!0,stroke:!0}),Do=Ao&&Ao.item||null,oa=!1,Yo={};if(Yo[ko.substr(5)]=!0,Fo&&Do!==lo){if(lo)No(lo,null,"mouseleave",Zo,go);if(Do)No(Do,null,"mouseenter",Zo,go);lo=Do}if(vo^Ho)No(this,null,Ho?"mouseenter":"mouseleave",Zo,go),oo=Ho?this:null,oa=!0;if((Ho||Yo.drag)&&!go.equals(so))yo(this,Do,Po?ko:"mousemove",Zo,go,so),oa=!0;if(vo=Ho,Yo.down&&Ho||Yo.up&&no){if(yo(this,Do,ko,Zo,go,no),Yo.down){if(Oo=Do===mo&&Date.now()-bo<300,C=mo=Do,!A&&Do){var ra=Do;while(ra&&!ra.responds("mousedrag"))ra=ra._parent;if(ra)_o=Do}no=go}else if(Yo.up){if(!A&&Do===C)bo=Date.now(),yo(this,Do,Oo?"doubleclick":"click",Zo,go,no),Oo=!1;C=_o=null}vo=!1,oa=!0}if(so=go,oa&&Ko)eo=Ko._handleMouseEvent(ko,Zo,go,Yo)||eo;if(Zo.cancelable!==!1&&(eo&&!Yo.move||Yo.down&&Bo("mouseup")))Zo.preventDefault()},_handleKeyEvent:function(ko,Zo,go,Vo){var Fo=this._scope,Po=Fo.tool,Ko;function Io(Bo){if(Bo.responds(ko))W=Fo,Bo.emit(ko,Ko=Ko||new Q(ko,Zo,go,Vo))}if(this.isVisible()){if(Io(this),Po&&Po.responds(ko))Io(Po)}},_countItemEvent:function(ko,Zo){var go=this._itemEvents,Vo=go.native,Fo=go.virtual;for(var Po in zo)Vo[Po]=(Vo[Po]||0)+(zo[Po][ko]||0)*Zo;Fo[ko]=(Fo[ko]||0)+Zo},statics:{updateFocus:F,_resetState:function(){b=v=eo=vo=!1,n=r=oo=no=so=C=lo=_o=mo=bo=Oo=null}}}}),G=Lo.extend({_class:"CanvasView",initialize:function n(r,b){if(!(b instanceof q.HTMLCanvasElement)){var v=g.read(arguments,1);if(v.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+h.slice(arguments,1));b=Qo.getCanvas(v)}var M=this._context=b.getContext("2d");if(M.save(),this._pixelRatio=1,!/^off|false$/.test(y.getAttribute(b,"hidpi"))){var F=q.devicePixelRatio||1,U=Eo.getPrefixed(M,"backingStorePixelRatio")||1;this._pixelRatio=F/U}Lo.call(this,r,b),this._needsUpdate=!0},remove:function n(){return this._context.restore(),n.base.call(this)},_setElementSize:function n(r,b){var v=this._pixelRatio;if(n.base.call(this,r*v,b*v),v!==1){var M=this._element,F=this._context;if(!y.hasAttribute(M,"resize")){var U=M.style;U.width=r+"px",U.height=b+"px"}F.restore(),F.save(),F.scale(v,v)}},getContext:function(){return this._context},getPixelSize:function n(r){var b=W.agent,v;if(b&&b.firefox)v=n.base.call(this,r);else{var M=this._context,F=M.font;M.font=r+" serif",v=parseFloat(M.font),M.font=F}return v},getTextWidth:function(n,r){var b=this._context,v=b.font,M=0;b.font=n;for(var F=0,U=r.length;F<U;F++)M=Math.max(M,b.measureText(r[F]).width);return b.font=v,M},update:function(){if(!this._needsUpdate)return!1;var n=this._project,r=this._context,b=this._viewSize;if(r.clearRect(0,0,b.width+1,b.height+1),n)n.draw(r,this._matrix,this._pixelRatio);return this._needsUpdate=!1,!0}}),X=h.extend({_class:"Event",initialize:function n(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return $o.modifiers}}),Q=X.extend({_class:"KeyEvent",initialize:function n(r,b,v,M){this.type=r,this.event=b,this.key=v,this.character=M},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),$o=new function(){var n={"\t":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"\t",space:" ",enter:"\r"},b={},v={},M,F,U=new h({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var J=W&&W.agent;return J&&J.mac?this.meta:this.control}}});function K(J){var ao=J.key||J.keyIdentifier;return ao=/^U\+/.test(ao)?String.fromCharCode(parseInt(ao.substr(2),16)):/^Arrow[A-Z]/.test(ao)?ao.substr(5):ao==="Unidentified"||ao===f?String.fromCharCode(J.keyCode):ao,n[ao]||(ao.length>1?h.hyphenate(ao):ao.toLowerCase())}function j(J,ao,H,D){var eo=J?"keydown":"keyup",A=Lo._focused,ro;if(b[ao]=J,J)v[ao]=H;else delete v[ao];if(ao.length>1&&(ro=h.camelize(ao))in U){U[ro]=J;var vo=W&&W.agent;if(ro==="meta"&&vo&&vo.mac)if(J)M={};else{for(var oo in M)if(oo in v)j(!1,oo,M[oo],D);M=null}}else if(J&&M)M[ao]=H;if(A)A._handleKeyEvent(J?"keydown":"keyup",D,ao,H)}return xo.add(u,{keydown:function(J){var ao=K(J),H=W&&W.agent;if(ao.length>1||H&&(H.chrome&&(J.altKey||H.mac&&J.metaKey||!H.mac&&J.ctrlKey)))j(!0,ao,r[ao]||(ao.length>1?"":ao),J);else F=ao},keypress:function(J){if(F){var ao=K(J),H=J.charCode,D=H>=32?String.fromCharCode(H):ao.length>1?"":ao;if(ao!==F)ao=D.toLowerCase();j(!0,ao,D,J),F=null}},keyup:function(J){var ao=K(J);if(ao in v)j(!1,ao,v[ao],J)}}),xo.add(q,{blur:function(J){for(var ao in v)j(!1,ao,v[ao],J)}}),{modifiers:U,isDown:function(J){return!!b[J]}}},wo=X.extend({_class:"MouseEvent",initialize:function n(r,b,v,M,F){this.type=r,this.event=b,this.point=v,this.target=M,this.delta=F},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Mo=X.extend({_class:"ToolEvent",_item:null,initialize:function n(r,b,v){this.tool=r,this.type=b,this.event=v},_choosePoint:function(n,r){return n?n:r?r.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(n){this._point=n},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(n){this._lastPoint=n},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(n){this._downPoint=n},getMiddlePoint:function(){if(!this._middlePoint&&this.tool._lastPoint)return this.tool._point.add(this.tool._lastPoint).divide(2);return this._middlePoint},setMiddlePoint:function(n){this._middlePoint=n},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(n){this._delta=n},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(n){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=n},getItem:function(){if(!this._item){var n=this.tool._scope.project.hitTest(this.getPoint());if(n){var r=n.item,b=r._parent;while(/^(Group|CompoundPath)$/.test(b._class))r=b,b=b._parent;this._item=r}}return this._item},setItem:function(n){this._item=n},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Go=k.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function n(r){k.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(n){if(this._minDistance=n,n!=null&&this._maxDistance!=null&&n>this._maxDistance)this._maxDistance=n},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(n){if(this._maxDistance=n,this._minDistance!=null&&n!=null&&n<this._minDistance)this._minDistance=n},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(n){this._minDistance=this._maxDistance=n},_handleMouseEvent:function(n,r,b,v){if(W=this._scope,v.drag&&!this.responds(n))n="mousemove";var M=v.move||v.drag,F=this.responds(n),U=!1,K=this;function j(ao,H){var D=b,eo=M?K._point:K._downPoint||D;if(M){if(K._moveCount>=0&&D.equals(eo))return!1;if(eo&&(ao!=null||H!=null)){var A=D.subtract(eo),ro=A.getLength();if(ro<(ao||0))return!1;if(H)D=eo.add(A.normalize(Math.min(ro,H)))}K._moveCount++}if(K._point=D,K._lastPoint=eo||D,v.down)K._moveCount=-1,K._downPoint=D,K._downCount++;return!0}function J(){if(F)U=K.emit(n,new Mo(K,n,r))||U}if(v.down)j(),J();else if(v.up)j(null,this._maxDistance),J();else if(F)while(j(this._minDistance,this._maxDistance))J();return U}}),Xo=h.extend(L,{_class:"Tween",statics:{easings:new h({linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<0.5?2*n*n:-1+2*(2-n)*n},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<0.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<0.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<0.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}})},initialize:function n(r,b,v,M,F,U){this.object=r;var K=typeof F,j=K==="function";this.type=j?K:K==="string"?F:"linear",this.easing=j?F:n.easings[this.type],this.duration=M,this.running=!1,this._then=null,this._startTime=null;var J=b||v;if(this._keys=J?Object.keys(J):[],this._parsedKeys=this._parseKeys(this._keys),this._from=J&&this._getState(b),this._to=J&&this._getState(v),U!==!1)this.start()},then:function(n){return this._then=n,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(n){if(this.running){if(n>=1)n=1,this.running=!1;var r=this.easing(n),b=this._keys,v=function(ao){return typeof ao==="function"?ao(r,n):ao};for(var M=0,F=b&&b.length;M<F;M++){var U=b[M],K=v(this._from[U]),j=v(this._to[U]),J=K&&j&&K.__add&&j.__add?j.__subtract(K).__multiply(r).__add(K):(j-K)*r+K;this._setProperty(this._parsedKeys[U],J)}if(this.responds("update"))this.emit("update",new h({progress:n,factor:r}));if(!this.running&&this._then)this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(n){var r=this._startTime,b=r?(n-r)/this.duration:0;if(!r)this._startTime=n;this.update(b)},_getState:function(n){var r=this._keys,b={};for(var v=0,M=r.length;v<M;v++){var F=r[v],U=this._parsedKeys[F],K=this._getProperty(U),j;if(n){var J=this._resolveValue(K,n[F]);this._setProperty(U,J),j=this._getProperty(U),j=j&&j.clone?j.clone():j,this._setProperty(U,K)}else j=K&&K.clone?K.clone():K;b[F]=j}return b},_resolveValue:function(n,r){if(r){if(Array.isArray(r)&&r.length===2){var b=r[0];return b&&b.match&&b.match(/^[+\-\*\/]=/)?this._calculate(n,b[0],r[1]):r}else if(typeof r==="string"){var v=r.match(/^[+\-*/]=(.*)/);if(v){var M=JSON.parse(v[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(n,r[0],M)}}}return r},_calculate:function(n,r,b){return W.PaperScript.calculateBinary(n,r,b)},_parseKeys:function(n){var r={};for(var b=0,v=n.length;b<v;b++){var M=n[b],F=M.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[M]=F.split("/")}return r},_getProperty:function(n,r){var b=this.object;for(var v=0,M=n.length-(r||0);v<M&&b;v++)b=b[n[v]];return b},_setProperty:function(n,r){var b=this._getProperty(n,1);if(b)b[n[n.length-1]]=r}}),jo={request:function(n){var r=new R.XMLHttpRequest;if(r.open((n.method||"get").toUpperCase(),n.url,h.pick(n.async,!0)),n.mimeType)r.overrideMimeType(n.mimeType);return r.onload=function(){var b=r.status;if(b===0||b===200){if(n.onLoad)n.onLoad.call(r,r.responseText)}else r.onerror()},r.onerror=function(){var b=r.status,v='Could not load "'+n.url+'" (Status: '+b+")";if(n.onError)n.onError(v,b);else throw new Error(v)},r.send(null)}},Qo=h.exports.CanvasProvider={canvases:[],getCanvas:function(n,r,b){if(!q)return null;var v,M=!0;if(typeof n==="object")r=n.height,n=n.width;if(this.canvases.length)v=this.canvases.pop();else v=u.createElement("canvas"),M=!1;var F=v.getContext("2d",b||{});if(!F)throw new Error("Canvas "+v+" is unable to provide a 2D context.");if(v.width===n&&v.height===r){if(M)F.clearRect(0,0,n+1,r+1)}else v.width=n,v.height=r;return F.save(),v},getContext:function(n,r,b){var v=this.getCanvas(n,r,b);return v?v.getContext("2d",b||{}):null},release:function(n){var r=n&&n.canvas?n.canvas:n;if(r&&r.getContext)r.getContext("2d").restore(),this.canvases.push(r)}},Jo=new function(){var{min:n,max:r,abs:b}=Math,v,M,F,U,K,j,J,ao,H,D,eo;function A(lo,_o,mo){return 0.2989*lo+0.587*_o+0.114*mo}function ro(lo,_o,mo,No){var Oo=No-A(lo,_o,mo);H=lo+Oo,D=_o+Oo,eo=mo+Oo;var No=A(H,D,eo),yo=n(H,D,eo),zo=r(H,D,eo);if(yo<0){var ko=No-yo;H=No+(H-No)*No/ko,D=No+(D-No)*No/ko,eo=No+(eo-No)*No/ko}if(zo>255){var Zo=255-No,go=zo-No;H=No+(H-No)*Zo/go,D=No+(D-No)*Zo/go,eo=No+(eo-No)*Zo/go}}function vo(lo,_o,mo){return r(lo,_o,mo)-n(lo,_o,mo)}function oo(lo,_o,mo,bo){var Oo=[lo,_o,mo],No=r(lo,_o,mo),yo=n(lo,_o,mo),zo;if(yo=yo===lo?0:yo===_o?1:2,No=No===lo?0:No===_o?1:2,zo=n(yo,No)===0?r(yo,No)===1?2:1:0,Oo[No]>Oo[yo])Oo[zo]=(Oo[zo]-Oo[yo])*bo/(Oo[No]-Oo[yo]),Oo[No]=bo;else Oo[zo]=Oo[No]=0;Oo[yo]=0,H=Oo[0],D=Oo[1],eo=Oo[2]}var no={multiply:function(){H=K*v/255,D=j*M/255,eo=J*F/255},screen:function(){H=K+v-K*v/255,D=j+M-j*M/255,eo=J+F-J*F/255},overlay:function(){H=K<128?2*K*v/255:255-2*(255-K)*(255-v)/255,D=j<128?2*j*M/255:255-2*(255-j)*(255-M)/255,eo=J<128?2*J*F/255:255-2*(255-J)*(255-F)/255},"soft-light":function(){var lo=v*K/255;H=lo+K*(255-(255-K)*(255-v)/255-lo)/255,lo=M*j/255,D=lo+j*(255-(255-j)*(255-M)/255-lo)/255,lo=F*J/255,eo=lo+J*(255-(255-J)*(255-F)/255-lo)/255},"hard-light":function(){H=v<128?2*v*K/255:255-2*(255-v)*(255-K)/255,D=M<128?2*M*j/255:255-2*(255-M)*(255-j)/255,eo=F<128?2*F*J/255:255-2*(255-F)*(255-J)/255},"color-dodge":function(){H=K===0?0:v===255?255:n(255,255*K/(255-v)),D=j===0?0:M===255?255:n(255,255*j/(255-M)),eo=J===0?0:F===255?255:n(255,255*J/(255-F))},"color-burn":function(){H=K===255?255:v===0?0:r(0,255-(255-K)*255/v),D=j===255?255:M===0?0:r(0,255-(255-j)*255/M),eo=J===255?255:F===0?0:r(0,255-(255-J)*255/F)},darken:function(){H=K<v?K:v,D=j<M?j:M,eo=J<F?J:F},lighten:function(){H=K>v?K:v,D=j>M?j:M,eo=J>F?J:F},difference:function(){if(H=K-v,H<0)H=-H;if(D=j-M,D<0)D=-D;if(eo=J-F,eo<0)eo=-eo},exclusion:function(){H=K+v*(255-K-K)/255,D=j+M*(255-j-j)/255,eo=J+F*(255-J-J)/255},hue:function(){oo(v,M,F,vo(K,j,J)),ro(H,D,eo,A(K,j,J))},saturation:function(){oo(K,j,J,vo(v,M,F)),ro(H,D,eo,A(K,j,J))},luminosity:function(){ro(K,j,J,A(v,M,F))},color:function(){ro(v,M,F,A(K,j,J))},add:function(){H=n(K+v,255),D=n(j+M,255),eo=n(J+F,255)},subtract:function(){H=r(K-v,0),D=r(j-M,0),eo=r(J-F,0)},average:function(){H=(K+v)/2,D=(j+M)/2,eo=(J+F)/2},negation:function(){H=255-b(255-v-K),D=255-b(255-M-j),eo=255-b(255-F-J)}},so=this.nativeModes=h.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(lo){this[lo]=!0},{}),C=Qo.getContext(1,1,{willReadFrequently:!0});if(C)h.each(no,function(lo,_o){var mo=_o==="darken",bo=!1;C.save();try{if(C.fillStyle=mo?"#300":"#a00",C.fillRect(0,0,1,1),C.globalCompositeOperation=_o,C.globalCompositeOperation===_o)C.fillStyle=mo?"#a00":"#300",C.fillRect(0,0,1,1),bo=C.getImageData(0,0,1,1).data[0]!==mo?170:51}catch(Oo){}C.restore(),so[_o]=bo}),Qo.release(C);this.process=function(lo,_o,mo,bo,Oo){var No=_o.canvas,yo=lo==="normal";if(yo||so[lo]){if(mo.save(),mo.setTransform(1,0,0,1,0,0),mo.globalAlpha=bo,!yo)mo.globalCompositeOperation=lo;mo.drawImage(No,Oo.x,Oo.y),mo.restore()}else{var zo=no[lo];if(!zo)return;var ko=mo.getImageData(Oo.x,Oo.y,No.width,No.height),Zo=ko.data,go=_o.getImageData(0,0,No.width,No.height).data;for(var Vo=0,Fo=Zo.length;Vo<Fo;Vo+=4){v=go[Vo],K=Zo[Vo],M=go[Vo+1],j=Zo[Vo+1],F=go[Vo+2],J=Zo[Vo+2],U=go[Vo+3],ao=Zo[Vo+3],zo();var Po=U*bo/255,Ko=1-Po;Zo[Vo]=Po*H+Ko*K,Zo[Vo+1]=Po*D+Ko*j,Zo[Vo+2]=Po*eo+Ko*J,Zo[Vo+3]=U*bo+Ko*ao}mo.putImageData(ko,Oo.x,Oo.y)}}},So=new function(){var n="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",b="http://www.w3.org/1999/xlink",v={href:b,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function M(K,j,J){return U(u.createElementNS(n,K),j,J)}function F(K,j){var J=v[j],ao=J?K.getAttributeNS(J,j):K.getAttribute(j);return ao==="null"?null:ao}function U(K,j,J){for(var ao in j){var H=j[ao],D=v[ao];if(typeof H==="number"&&J)H=J.number(H);if(D)K.setAttributeNS(D,ao,H);else K.setAttribute(ao,H)}return K}return{svg:n,xmlns:r,xlink:b,create:M,get:F,set:U}},ba=h.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(n,r){return!r&&(n instanceof a||n instanceof Wo||n instanceof fo)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(n,r){var b=h.capitalize(r),v=n[2];this[r]={type:n[1],property:r,attribute:n[0],toSVG:v,fromSVG:v&&h.each(v,function(M,F){this[M]=F},{}),exportFilter:n[3],get:"get"+b,set:"set"+b}},{});new function(){var n;function r(no,so,C){var lo=new h,_o=no.getTranslation();if(so){var mo;if(no.isInvertible())no=no._shiftless(),mo=no._inverseTransform(_o),_o=null;else mo=new x;lo[C?"cx":"x"]=mo.x,lo[C?"cy":"y"]=mo.y}if(!no.isIdentity()){var bo=no.decompose();if(bo){var Oo=[],No=bo.rotation,yo=bo.scaling,zo=bo.skewing;if(_o&&!_o.isZero())Oo.push("translate("+n.point(_o)+")");if(No)Oo.push("rotate("+n.number(No)+")");if(!V.isZero(yo.x-1)||!V.isZero(yo.y-1))Oo.push("scale("+n.point(yo)+")");if(zo.x)Oo.push("skewX("+n.number(zo.x)+")");if(zo.y)Oo.push("skewY("+n.number(zo.y)+")");lo.transform=Oo.join(" ")}else lo.transform="matrix("+no.getValues().join(",")+")"}return lo}function b(no,so){var C=r(no._matrix),lo=no._children,_o=So.create("g",C,n);for(var mo=0,bo=lo.length;mo<bo;mo++){var Oo=lo[mo],No=vo(Oo,so);if(No)if(Oo.isClipMask()){var yo=So.create("clipPath");yo.appendChild(No),A(Oo,yo,"clip"),So.set(_o,{"clip-path":"url(#"+yo.id+")"})}else _o.appendChild(No)}return _o}function v(no,so){var C=r(no._matrix,!0),lo=no.getSize(),_o=no.getImage();return C.x-=lo.width/2,C.y-=lo.height/2,C.width=lo.width,C.height=lo.height,C.href=so.embedImages==!1&&_o&&_o.src||no.toDataURL(),So.create("image",C,n)}function M(no,so){var C=so.matchShapes;if(C){var lo=no.toShape(!1);if(lo)return F(lo,so)}var _o=no._segments,mo=_o.length,bo,Oo=r(no._matrix);if(C&&mo>=2&&!no.hasHandles())if(mo>2){bo=no._closed?"polygon":"polyline";var No=[];for(var yo=0;yo<mo;yo++)No.push(n.point(_o[yo]._point));Oo.points=No.join(" ")}else{bo="line";var zo=_o[0]._point,ko=_o[1]._point;Oo.set({x1:zo.x,y1:zo.y,x2:ko.x,y2:ko.y})}else bo="path",Oo.d=no.getPathData(null,so.precision);return So.create(bo,Oo,n)}function F(no){var{_type:so,_radius:C}=no,lo=r(no._matrix,!0,so!=="rectangle");if(so==="rectangle"){so="rect";var _o=no._size,mo=_o.width,bo=_o.height;if(lo.x-=mo/2,lo.y-=bo/2,lo.width=mo,lo.height=bo,C.isZero())C=null}if(C)if(so==="circle")lo.r=C;else lo.rx=C.width,lo.ry=C.height;return So.create(so,lo,n)}function U(no,so){var C=r(no._matrix),lo=no.getPathData(null,so.precision);if(lo)C.d=lo;return So.create("path",C,n)}function K(no,so){var C=r(no._matrix,!0),lo=no._definition,_o=eo(lo,"symbol"),mo=lo._item,bo=mo.getStrokeBounds();if(!_o)_o=So.create("symbol",{viewBox:n.rectangle(bo)}),_o.appendChild(vo(mo,so)),A(lo,_o,"symbol");return C.href="#"+_o.id,C.x+=bo.x,C.y+=bo.y,C.width=bo.width,C.height=bo.height,C.overflow="visible",So.create("use",C,n)}function j(no){var so=eo(no,"color");if(!so){var C=no.getGradient(),lo=C._radial,_o=no.getOrigin(),mo=no.getDestination(),bo;if(lo){bo={cx:_o.x,cy:_o.y,r:_o.getDistance(mo)};var Oo=no.getHighlight();if(Oo)bo.fx=Oo.x,bo.fy=Oo.y}else bo={x1:_o.x,y1:_o.y,x2:mo.x,y2:mo.y};bo.gradientUnits="userSpaceOnUse",so=So.create((lo?"radial":"linear")+"Gradient",bo,n);var No=C._stops;for(var yo=0,zo=No.length;yo<zo;yo++){var ko=No[yo],Zo=ko._color,go=Zo.getAlpha(),Vo=ko._offset;if(bo={offset:Vo==null?yo/(zo-1):Vo},Zo)bo["stop-color"]=Zo.toCSS(!0);if(go<1)bo["stop-opacity"]=go;so.appendChild(So.create("stop",bo,n))}A(no,so,"color")}return"url(#"+so.id+")"}function J(no){var so=So.create("text",r(no._matrix,!0),n);return so.textContent=no._content,so}var ao={Group:b,Layer:b,Raster:v,Path:M,Shape:F,CompoundPath:U,SymbolItem:K,PointText:J};function H(no,so,C,lo){var _o={},mo=!lo&&no.getParent(),bo=[];if(no._name!=null)_o.id=no._name;if(h.each(ba,function(Oo){var{get:No,type:yo}=Oo,zo=no[No]();if(Oo.exportFilter?Oo.exportFilter(no,zo):C.reduceAttributes==!1||!mo||!h.equals(mo[No](),zo)){if(yo==="color"&&zo!=null){var ko=zo.getAlpha();if(ko<1)_o[Oo.attribute+"-opacity"]=ko}if(yo==="style")bo.push(Oo.attribute+": "+zo);else _o[Oo.attribute]=zo==null?"none":yo==="color"?zo.gradient?j(zo,no):zo.toCSS(!0):yo==="array"?zo.join(","):yo==="lookup"?Oo.toSVG[zo]:zo}}),bo.length)_o.style=bo.join(";");if(_o.opacity===1)delete _o.opacity;if(!no._visible)_o.visibility="hidden";return So.set(so,_o,n)}var D;function eo(no,so){if(!D)D={ids:{},svgs:{}};return no&&D.svgs[so+"-"+(no._id||no.__id||(no.__id=$.get("svg")))]}function A(no,so,C){if(!D)eo();var lo=D.ids[C]=(D.ids[C]||0)+1;so.id=C+"-"+lo,D.svgs[C+"-"+(no._id||no.__id)]=so}function ro(no,so){var C=no,lo=null;if(D){C=no.nodeName.toLowerCase()==="svg"&&no;for(var _o in D.svgs){if(!lo){if(!C)C=So.create("svg"),C.appendChild(no);lo=C.insertBefore(So.create("defs"),C.firstChild)}lo.appendChild(D.svgs[_o])}D=null}return so.asString?new R.XMLSerializer().serializeToString(C):C}function vo(no,so,C){var lo=ao[no._class],_o=lo&&lo(no,so);if(_o){var mo=so.onExport;if(mo)_o=mo(no,_o,so)||_o;var bo=JSON.stringify(no._data);if(bo&&bo!=="{}"&&bo!=="null")_o.setAttribute("data-paper-data",bo)}return _o&&H(no,_o,so,C)}function oo(no){if(!no)no={};return n=new T(no.precision),no}to.inject({exportSVG:function(no){return no=oo(no),ro(vo(this,no,!0),no)}}),uo.inject({exportSVG:function(no){no=oo(no);var so=this._children,C=this.getView(),lo=h.pick(no.bounds,"view"),_o=no.matrix||lo==="view"&&C._matrix,mo=_o&&Y.read([_o]),bo=lo==="view"?new z([0,0],C.getViewSize()):lo==="content"?to._getBounds(so,mo,{stroke:!0}).rect:z.read([lo],0,{readNull:!0}),Oo={version:"1.1",xmlns:So.svg,"xmlns:xlink":So.xlink};if(bo){if(Oo.width=bo.width,Oo.height=bo.height,bo.x||bo.x===0||bo.y||bo.y===0)Oo.viewBox=n.rectangle(bo)}var No=So.create("svg",Oo,n),yo=No;if(mo&&!mo.isIdentity())yo=No.appendChild(So.create("g",r(mo),n));for(var zo=0,ko=so.length;zo<ko;zo++)yo.appendChild(vo(so[zo],no,!0));return ro(No,no)}})},new function(){var n={},r;function b(so,C,lo,_o,mo,bo){var Oo=So.get(so,C)||bo,No=Oo==null?_o?null:lo?"":0:lo?Oo:parseFloat(Oo);return/%\s*$/.test(Oo)?No/100*(mo?1:r[/x|^width/.test(C)?"width":"height"]):No}function v(so,C,lo,_o,mo,bo,Oo){return C=b(so,C||"x",!1,_o,mo,bo),lo=b(so,lo||"y",!1,_o,mo,Oo),_o&&(C==null||lo==null)?null:new x(C,lo)}function M(so,C,lo,_o,mo){return C=b(so,C||"width",!1,_o,mo),lo=b(so,lo||"height",!1,_o,mo),_o&&(C==null||lo==null)?null:new g(C,lo)}function F(so,C,lo){return so==="none"?null:C==="number"?parseFloat(so):C==="array"?so?so.split(/[\s,]+/g).map(parseFloat):[]:C==="color"?vo(so)||so:C==="lookup"?lo[so]:so}function U(so,C,lo,_o){var mo=so.childNodes,bo=C==="clippath",Oo=C==="defs",No=new To,yo=No._project,zo=yo._currentStyle,ko=[];if(!bo&&!Oo)No=ro(No,so,_o),yo._currentStyle=No._style.clone();if(_o){var Zo=so.querySelectorAll("defs");for(var go=0,Vo=Zo.length;go<Vo;go++)oo(Zo[go],lo,!1)}for(var go=0,Vo=mo.length;go<Vo;go++){var Fo=mo[go],Po;if(Fo.nodeType===1&&!/^defs$/i.test(Fo.nodeName)&&(Po=oo(Fo,lo,!1))&&!(Po instanceof c))ko.push(Po)}if(No.addChildren(ko),bo)No=ro(No.reduce(),so,_o);if(yo._currentStyle=zo,bo||Oo)No.remove(),No=null;return No}function K(so,C){var lo=so.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),_o=[];for(var mo=0,bo=lo.length;mo<bo;mo+=2)_o.push(new x(parseFloat(lo[mo]),parseFloat(lo[mo+1])));var Oo=new m(_o);if(C==="polygon")Oo.closePath();return Oo}function j(so){return a.create(so.getAttribute("d"))}function J(so,C){var lo=(b(so,"href",!0)||"").substring(1),_o=C==="radialgradient",mo;if(lo){if(mo=n[lo].getGradient(),mo._radial^_o)mo=mo.clone(),mo._radial=_o}else{var bo=so.childNodes,Oo=[];for(var No=0,yo=bo.length;No<yo;No++){var zo=bo[No];if(zo.nodeType===1)Oo.push(ro(new io,zo))}mo=new po(Oo,_o)}var ko,Zo,go,Vo=b(so,"gradientUnits",!0)!=="userSpaceOnUse";if(_o)ko=v(so,"cx","cy",!1,Vo,"50%","50%"),Zo=ko.add(b(so,"r",!1,!1,Vo,"50%"),0),go=v(so,"fx","fy",!0,Vo);else ko=v(so,"x1","y1",!1,Vo,"0%","0%"),Zo=v(so,"x2","y2",!1,Vo,"100%","0%");var Fo=ro(new qo(mo,ko,Zo,go),so);return Fo._scaleToBounds=Vo,null}var ao={"#document":function(so,C,lo,_o){var mo=so.childNodes;for(var bo=0,Oo=mo.length;bo<Oo;bo++){var No=mo[bo];if(No.nodeType===1)return oo(No,lo,_o)}},g:U,svg:U,clippath:U,polygon:K,polyline:K,path:j,lineargradient:J,radialgradient:J,image:function(so){var C=new o(b(so,"href",!0));return C.on("load",function(){var lo=M(so);this.setSize(lo);var _o=v(so).add(lo.divide(2));this._matrix.append(new Y().translate(_o))}),C},symbol:function(so,C,lo,_o){return new c(U(so,C,lo,_o),!0)},defs:U,use:function(so){var C=(b(so,"href",!0)||"").substring(1),lo=n[C],_o=v(so);return lo?lo instanceof c?lo.place(_o):lo.clone().translate(_o):null},circle:function(so){return new Wo.Circle(v(so,"cx","cy"),b(so,"r"))},ellipse:function(so){return new Wo.Ellipse({center:v(so,"cx","cy"),radius:M(so,"rx","ry")})},rect:function(so){return new Wo.Rectangle(new z(v(so),M(so)),M(so,"rx","ry"))},line:function(so){return new m.Line(v(so,"x1","y1"),v(so,"x2","y2"))},text:function(so){var C=new Ro(v(so).add(v(so,"dx","dy")));return C.setContent(so.textContent.trim()||""),C},switch:U};function H(so,C,lo,_o){if(so.transform){var mo=(_o.getAttribute(lo)||"").split(/\)\s*/g),bo=new Y;for(var Oo=0,No=mo.length;Oo<No;Oo++){var yo=mo[Oo];if(!yo)break;var zo=yo.split(/\(\s*/),ko=zo[0].trim(),Zo=zo[1].split(/[\s,]+/g);for(var go=0,Vo=Zo.length;go<Vo;go++)Zo[go]=parseFloat(Zo[go]);switch(ko){case"matrix":bo.append(new Y(Zo[0],Zo[1],Zo[2],Zo[3],Zo[4],Zo[5]));break;case"rotate":bo.rotate(Zo[0],Zo[1]||0,Zo[2]||0);break;case"translate":bo.translate(Zo[0],Zo[1]||0);break;case"scale":bo.scale(Zo);break;case"skewX":bo.skew(Zo[0],0);break;case"skewY":bo.skew(0,Zo[0]);break}}so.transform(bo)}}function D(so,C,lo){var _o=lo==="fill-opacity"?"getFillColor":"getStrokeColor",mo=so[_o]&&so[_o]();if(mo)mo.setAlpha(parseFloat(C))}var eo=h.set(h.each(ba,function(so){this[so.attribute]=function(C,lo){if(C[so.set]){if(C[so.set](F(lo,so.type,so.fromSVG)),so.type==="color"){var _o=C[so.get]();if(_o){if(_o._scaleToBounds){var mo=C.getBounds();_o.transform(new Y().translate(mo.getPoint()).scale(mo.getSize()))}}}}}},{}),{id:function(so,C){if(n[C]=so,so.setName)so.setName(C)},"clip-path":function(so,C){var lo=vo(C);if(lo)if(lo=lo.clone(),lo.setClipMask(!0),so instanceof To)so.insertChild(0,lo);else return new To(lo,so)},gradientTransform:H,transform:H,"fill-opacity":D,"stroke-opacity":D,visibility:function(so,C){if(so.setVisible)so.setVisible(C==="visible")},display:function(so,C){if(so.setVisible)so.setVisible(C!==null)},"stop-color":function(so,C){if(so.setColor)so.setColor(C)},"stop-opacity":function(so,C){if(so._color)so._color.setAlpha(parseFloat(C))},offset:function(so,C){if(so.setOffset){var lo=C.match(/(.*)%$/);so.setOffset(lo?lo[1]/100:parseFloat(C))}},viewBox:function(so,C,lo,_o,mo){var bo=new z(F(C,"array")),Oo=M(_o,null,null,!0),No,yo;if(so instanceof To){var zo=Oo?Oo.divide(bo.getSize()):1,yo=new Y().scale(zo).translate(bo.getPoint().negate());No=so}else if(so instanceof c){if(Oo)bo.setSize(Oo);No=so._item}if(No){if(A(_o,"overflow",mo)!=="visible"){var ko=new Wo.Rectangle(bo);ko.setClipMask(!0),No.addChild(ko)}if(yo)No.transform(yo)}}});function A(so,C,lo){var _o=so.attributes[C],mo=_o&&_o.value;if(!mo&&so.style){var bo=h.camelize(C);if(mo=so.style[bo],!mo&&lo.node[bo]!==lo.parent[bo])mo=lo.node[bo]}return!mo?f:mo==="none"?null:mo}function ro(so,C,lo){var _o=C.parentNode,mo={node:Eo.getStyles(C)||{},parent:!lo&&!/^defs$/i.test(_o.tagName)&&Eo.getStyles(_o)||{}};return h.each(eo,function(bo,Oo){var No=A(C,Oo,mo);so=No!==f&&bo(so,No,Oo,C,mo)||so}),so}function vo(so){var C=so&&so.match(/\((?:["'#]*)([^"')]+)/),lo=C&&C[1],_o=lo&&n[q?lo.replace(q.location.href.split("#")[0]+"#",""):lo];if(_o&&_o._scaleToBounds)_o=_o.clone(),_o._scaleToBounds=!0;return _o}function oo(so,C,lo){var _o=so.nodeName.toLowerCase(),mo=_o!=="#document",bo=u.body,Oo,No,yo;if(lo&&mo)r=W.getView().getSize(),r=M(so,null,null,!0)||r,Oo=So.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),No=so.parentNode,yo=so.nextSibling,Oo.appendChild(so),bo.appendChild(Oo);var zo=W.settings,ko=zo.applyMatrix,Zo=zo.insertItems;zo.applyMatrix=!1,zo.insertItems=!1;var go=ao[_o],Vo=go&&go(so,_o,C,lo)||null;if(zo.insertItems=Zo,zo.applyMatrix=ko,Vo){if(mo&&!(Vo instanceof To))Vo=ro(Vo,so,lo);var Fo=C.onImport,Po=mo&&so.getAttribute("data-paper-data");if(Fo)Vo=Fo(so,Vo,C)||Vo;if(C.expandShapes&&Vo instanceof Wo)Vo.remove(),Vo=Vo.toPath();if(Po)Vo._data=JSON.parse(Po)}if(Oo){if(bo.removeChild(Oo),No)if(yo)No.insertBefore(so,yo);else No.appendChild(so)}if(lo){if(n={},Vo&&h.pick(C.applyMatrix,ko))Vo.matrix.apply(!0,!0)}return Vo}function no(so,C,lo){if(!so)return null;C=typeof C==="function"?{onLoad:C}:C||{};var _o=W,mo=null;function bo(zo){try{var ko=typeof zo==="object"?zo:new R.DOMParser().parseFromString(zo.trim(),"image/svg+xml");if(!ko.nodeName)throw ko=null,new Error("Unsupported SVG source: "+so);if(W=_o,mo=oo(ko,C,!0),!C||C.insert!==!1)lo._insertItem(f,mo);var Zo=C.onLoad;if(Zo)Zo(mo,zo)}catch(go){Oo(go)}}function Oo(zo,ko){var Zo=C.onError;if(Zo)Zo(zo,ko);else throw new Error(zo)}if(typeof so==="string"&&!/^[\s\S]*</.test(so)){var No=u.getElementById(so);if(No)bo(No);else jo.request({url:so,async:!0,onLoad:bo,onError:Oo})}else if(typeof File!=="undefined"&&so instanceof File){var yo=new FileReader;return yo.onload=function(){bo(yo.result)},yo.onerror=function(){Oo(yo.error)},yo.readAsText(so)}else bo(so);return mo}to.inject({importSVG:function(so,C){return no(so,C,this)}}),uo.inject({importSVG:function(so,C){return this.activate(),no(so,C,this)}})};var W=new(y.inject(h.exports,{Base:h,Numerical:V,Key:$o,DomEvent:xo,DomElement:Eo,document:u,window:q,Symbol:c,PlacedSymbol:e}));if(W.agent.node)(()=>({}))(W);if(typeof define==="function"&&define.amd)define("paper",W);else if(typeof d==="object"&&d)d.exports=W;return W}.call(l,typeof self==="object"?self:null)}),dp=ji(Ji(),1),Ei=ji(Ji(),1),Np=new Set([Ka.Events.BLOCK_CHANGE,Ka.Events.BLOCK_CREATE,Ka.Events.BLOCK_DELETE,Ka.Events.BLOCK_MOVE,Ka.Events.COMMENT_CHANGE,Ka.Events.COMMENT_CREATE,Ka.Events.COMMENT_DELETE,Ka.Events.COMMENT_MOVE,Ka.Events.VAR_CREATE,Ka.Events.VAR_DELETE,Ka.Events.VAR_RENAME]),Je=typeof Reflect=="object"?Reflect:null,D1=Je&&typeof Je.apply=="function"?Je.apply:function(l,d,i){return Function.prototype.apply.call(l,d,i)},Tl;Je&&typeof Je.ownKeys=="function"?Tl=Je.ownKeys:Object.getOwnPropertySymbols?Tl=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Tl=function(l){return Object.getOwnPropertyNames(l)};var e6=Number.isNaN||function(l){return l!==l};Za.EventEmitter=Za;Za.prototype._events=void 0;Za.prototype._eventsCount=0;Za.prototype._maxListeners=void 0;var H1=10;Object.defineProperty(Za,"defaultMaxListeners",{enumerable:!0,get:function(){return H1},set:function(l){if(typeof l!="number"||l<0||e6(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");H1=l}});Za.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Za.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||e6(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};Za.prototype.getMaxListeners=function(){return C1(this)};Za.prototype.emit=function(l){for(var d=[],i=1;i<arguments.length;i++)d.push(arguments[i]);var R=l==="error",f=this._events;if(f!==void 0)R=R&&f.error===void 0;else if(!R)return!1;if(R){var q;if(d.length>0&&(q=d[0]),q instanceof Error)throw q;var u=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw u.context=q,u}var h=f[l];if(h===void 0)return!1;if(typeof h=="function")D1(h,this,d);else for(var L=h.length,y=n6(h,L),i=0;i<L;++i)D1(y[i],this,d);return!0};Za.prototype.addListener=function(l,d){return Q1(this,l,d,!1)};Za.prototype.on=Za.prototype.addListener;Za.prototype.prependListener=function(l,d){return Q1(this,l,d,!0)};Za.prototype.once=function(l,d){return Ml(d),this.on(l,A1(this,l,d)),this};Za.prototype.prependOnceListener=function(l,d){return Ml(d),this.prependListener(l,A1(this,l,d)),this};Za.prototype.removeListener=function(l,d){var i,R,f,q,u;if(Ml(d),R=this._events,R===void 0)return this;if(i=R[l],i===void 0)return this;if(i===d||i.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete R[l],R.removeListener&&this.emit("removeListener",l,i.listener||d));else if(typeof i!="function"){for(f=-1,q=i.length-1;q>=0;q--)if(i[q]===d||i[q].listener===d){u=i[q].listener,f=q;break}if(f<0)return this;f===0?i.shift():Zp(i,f),i.length===1&&(R[l]=i[0]),R.removeListener!==void 0&&this.emit("removeListener",l,u||d)}return this};Za.prototype.off=Za.prototype.removeListener;Za.prototype.removeAllListeners=function(l){var d,i,R;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[l]),this;if(arguments.length===0){var f=Object.keys(i),q;for(R=0;R<f.length;++R)q=f[R],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=i[l],typeof d=="function")this.removeListener(l,d);else if(d!==void 0)for(R=d.length-1;R>=0;R--)this.removeListener(l,d[R]);return this};Za.prototype.listeners=function(l){return o6(this,l,!0)};Za.prototype.rawListeners=function(l){return o6(this,l,!1)};Za.listenerCount=function(l,d){return typeof l.listenerCount=="function"?l.listenerCount(d):a6.call(l,d)};Za.prototype.listenerCount=a6;Za.prototype.eventNames=function(){return this._eventsCount>0?Tl(this._events):[]};var S2=Za.prototype,Y1=ji(Ji(),1);class Vl extends Za{static DEFAULT_FPS=24;constructor(l,d=Vl.DEFAULT_FPS){super();this._fps=d,this._frame_sec=1/d,this._running=!1,this._requestStop=l,this._timer=0,this._timers=[],this._data={},this._greaterThen={},this._eventsHappening={}}launch(l){try{new Function("runtime",l)(this)}catch(d){return this.stop(),d}}get core(){return Y1.default}get data(){return this._data}get running(){return this._running}get time(){return(Date.now()-this._timer)/1000}resetTimer(){this._timer=Date.now()}when(l,d){this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].push(!1);const i=this._eventsHappening[l].length-1;this.on(`${l}_${i}`,d)}whenGreaterThen(l,d,i){const R=`${l}>${d}`;this._greaterThen[R]=!1,this.when(`greaterthen:${R}`,i)}emit(...l){return new Promise((d)=>{if(this.running)super.emit(...l,d)})}fire(l,...d){if(this.emit(l,...d),this._eventsHappening[l]=this._eventsHappening[l]||[],this._eventsHappening[l].length>0)return Promise.race(this._eventsHappening[l].map(async(i,R)=>{if(!i)this._eventsHappening[l][R]=!0,await this.emit(`${l}_${R}`,...d),this._eventsHappening[l][R]=!1}));return Promise.resolve()}_handleFrameForGreaterThen(l){const d=Object.keys(this._greaterThen);for(let i of d){const[R,f]=i.split(">");if(R==="TIMER"){const q=this.time>parseFloat(f);if(q&&!this._greaterThen[i])this.fire(`greaterthen:${i}`);this._greaterThen[i]=q}}l()}async _handleStart(){while(this.running){if(!Y1.default.project){this.stop();break}await this.nextFrame(),this.fire("frame")}}start(){this._running=!0,this.on("frame",this._handleFrameForGreaterThen.bind(this)),this.on("start",this._handleStart.bind(this)),this.fire("start"),this.resetTimer()}async stop(){this.emit("stop"),await this.nextFrame(),this._running=!1,await this.nextFrame(),this._timers.forEach(clearTimeout),this._timers.length=0,this._requestStop()}sleep(l){return new Promise((d)=>this._timers.push(setTimeout(d,l*1000)))}nextFrame(){return this.sleep(this._frame_sec)}random(l=1,d=10){const i=Math.ceil(Math.min(l,d)),R=Math.floor(Math.max(l,d));return Math.floor(Math.random()*(R-i+1))+i}number(l,d=0){return isNaN(l)?d:+l}index(l,d){let i=this.number(l)-1;return i%=d,i+=d,i%d}clamp(l,d,i){return Math.min(Math.max(l,d),i)}}class jn extends Ha.Generator{ORDER_ATOMIC=0;ORDER_NEW=1.1;ORDER_MEMBER=1.2;ORDER_FUNCTION_CALL=2;ORDER_INCREMENT=3;ORDER_DECREMENT=3;ORDER_BITWISE_NOT=4.1;ORDER_UNARY_PLUS=4.2;ORDER_UNARY_NEGATION=4.3;ORDER_LOGICAL_NOT=4.4;ORDER_TYPEOF=4.5;ORDER_VOID=4.6;ORDER_DELETE=4.7;ORDER_DIVISION=5.1;ORDER_MULTIPLICATION=5.2;ORDER_MODULUS=5.3;ORDER_SUBTRACTION=6.1;ORDER_ADDITION=6.2;ORDER_BITWISE_SHIFT=7;ORDER_RELATIONAL=8;ORDER_IN=8;ORDER_INSTANCEOF=8;ORDER_EQUALITY=9;ORDER_BITWISE_AND=10;ORDER_BITWISE_XOR=11;ORDER_BITWISE_OR=12;ORDER_LOGICAL_AND=13;ORDER_LOGICAL_OR=14;ORDER_CONDITIONAL=15;ORDER_ASSIGNMENT=16;ORDER_COMMA=17;ORDER_NONE=99;constructor(){super("JavaScript");this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(window).join(",")),this.ORDER_OVERRIDES=[[this.ORDER_FUNCTION_CALL,this.ORDER_MEMBER],[this.ORDER_FUNCTION_CALL,this.ORDER_FUNCTION_CALL],[this.ORDER_MEMBER,this.ORDER_MEMBER],[this.ORDER_MEMBER,this.ORDER_FUNCTION_CALL],[this.ORDER_LOGICAL_NOT,this.ORDER_LOGICAL_NOT],[this.ORDER_MULTIPLICATION,this.ORDER_MULTIPLICATION],[this.ORDER_ADDITION,this.ORDER_ADDITION],[this.ORDER_LOGICAL_AND,this.ORDER_LOGICAL_AND],[this.ORDER_LOGICAL_OR,this.ORDER_LOGICAL_OR]];for(let l in jn.prototype)if(typeof jn.prototype[l]==="function")jn.prototype[l]=jn.prototype[l].bind(this)}init(l){if(this.definitions_=Object.create(null),this.functionNames_=Object.create(null),!this.variableDB_)this.variableDB_=new Ha.Names(this.RESERVED_WORDS_);else this.variableDB_.reset();this.variableDB_.setVariableMap(l.getVariableMap());var d=[],i=l.getAllVariables();for(var R=0;R<i.length;R++){if(i[R].type===Ha.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;const q=this.variableDB_.getName(i[R].getId(),Ha.Variables.NAME_TYPE);if(i[R].type===Ha.LIST_VARIABLE_TYPE)d.push(`let ${q}${Ha.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${q} = 0;`)}var f=Ha.Variables.allDeveloperVariables(l);for(var R=0;R<f.length;R++){const u=this.variableDB_.getName(f[R],Ha.Names.DEVELOPER_VARIABLE_TYPE);if(i[R].type===Ha.LIST_VARIABLE_TYPE)d.push(`let ${u}${Ha.LIST_VARIABLE_TYPE} = [];`);else d.push(`let ${u} = 0;`)}if(d.length)this.definitions_.variables=d.join("\n")}finish(l){var d=[];for(var i in this.definitions_)d.push(this.definitions_[i]);return delete this.definitions_,delete this.functionNames_,this.variableDB_.reset(),d.join("\n\n")+"\n\n\n"+l}scrubNakedValue(l){return l+";\n"}quote_(l){let d='"';if(l.indexOf('"')!==-1)if(l.indexOf("'")===-1)d="'";else l=l.replace(/"/g,'\\"');return d+l+d}scrub_(l,d){var i="";if(!l.outputConnection?.targetConnection){var R=l.getCommentText();if(R=Ha.utils.wrap(R,this.COMMENT_WRAP-3),R)if(l.getProcedureDef)i+="/**\n"+this.prefixLines(R+"\n"," * ")+" */\n";else i+=this.prefixLines(R+"\n","// ");for(var f=0;f<l.inputList.length;f++)if(l.inputList[f].type==Ha.INPUT_VALUE){var q=l.inputList[f].connection.targetBlock();if(q){var R=this.allNestedComments(q);if(R)i+=this.prefixLines(R,"// ")}}}if(l.startHat_){const u=l.nextConnection&&l.nextConnection.targetBlock();let h=this.blockToCode(u);if(h)h=this.prefixLines(h,this.INDENT),d=d.replace("/* code */",h);return i+d}if(l.parentBlock_){const u=l.nextConnection&&l.nextConnection.targetBlock(),h=this.blockToCode(u);return i+d+h}return""}getAdjusted(l,d,i,R,f){var q=i||0,u=f||this.ORDER_NONE;if(l.workspace.options.oneBasedIndex)q--;var h=l.workspace.options.oneBasedIndex?"1":"0";if(q>0)var L=this.valueToCode(l,d,this.ORDER_ADDITION)||h;else if(q<0)var L=this.valueToCode(l,d,this.ORDER_SUBTRACTION)||h;else if(R)var L=this.valueToCode(l,d,this.ORDER_UNARY_NEGATION)||h;else var L=this.valueToCode(l,d,u)||h;if(Ha.isNumber(L)){if(L=parseFloat(L)+q,R)L=-L}else{if(q>0){L=L+" + "+q;var y=this.ORDER_ADDITION}else if(q<0){L=L+" - "+-q;var y=this.ORDER_SUBTRACTION}if(R){if(q)L="-("+L+")";else L="-"+L;var y=this.ORDER_UNARY_NEGATION}if(y=Math.floor(y),u=Math.floor(u),y&&u>=y)L="("+L+")"}return L}}var ia=jn.prototype;ia.colour_picker=function(l){return[this.quote_(l.getFieldValue("COLOUR")),this.ORDER_ATOMIC]};var pe="if (abort || !runtime.running) break;\n",$s=`  await runtime.nextFrame();\n  ${pe}`;ia.control_wait=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"DURATION",this.ORDER_NONE)||0;return d+=`await runtime.sleep(runtime.number(${i}));\n${pe}`,d};ia.control_repeat=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"TIMES",this.ORDER_NONE)||0;return d+=`for (let _ = 0; _ < runtime.number(${R}); _++) {\n${i}${$s}}\n${pe}`,d};ia.control_forever=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;return d+=`while (true) {\n${i}${$s}}\n${pe}`,d};ia.control_if=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";if(d+=`if (${R}) {\n${i}}\n`,l.getInput("SUBSTACK2")){if(i=this.statementToCode(l,"SUBSTACK2")||"",this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;d+=`else {\n${i}}\n`}return d};ia.control_if_else=ia.control_if;ia.control_wait_until=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return d+=`while (!(${i})) {\n${$s}}\n${pe}`,d};ia.control_repeat_until=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return d+=`while (!(${R})) {\n${i}${$s}}\n${pe}`,d};ia.control_while=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);let i=this.statementToCode(l,"SUBSTACK")||"";if(this.STATEMENT_SUFFIX)i=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,l),this.INDENT)+i;const R=this.valueToCode(l,"CONDITION",this.ORDER_NONE)||"false";return d+=`while (${R}) {\n${i}${$s}}\n${pe}`,d};ia.control_stop=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);switch(l.getFieldValue("STOP_OPTION")){case"all":d+="runtime.stop();\n";break;case"this script":d+="return done();\n";break;case"other scripts in sprite":d+="abort = true;\n";break}return d};ia.data_variable=function(l){return[this.variableDB_.getName(l.getFieldValue("VARIABLE"),xa.Variables.NAME_TYPE),this.ORDER_CONDITIONAL]};ia.data_setvariableto=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("VARIABLE"),xa.Variables.NAME_TYPE),R=this.valueToCode(l,"VALUE",this.ORDER_NONE)||'""';return d+=`${i} = ${R};\n`,d};ia.data_changevariableby=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("VARIABLE"),xa.Variables.NAME_TYPE),R=this.valueToCode(l,"VALUE",this.ORDER_NONE)||0;return d+=`${i} = runtime.number(${i}) + runtime.number(${R});\n`,d};ia.data_listcontents=function(l){return[this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,this.ORDER_ATOMIC]};ia.data_addtolist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}.push(${R});\n`,d};ia.data_deleteoflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return d+=`${i}.splice(runtime.index(${R}, ${i}.length), 1);\n`,d};ia.data_deletealloflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE;return d+=`${i}.length = 0;\n`,d};ia.data_insertatlist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,f=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}.splice(runtime.index(${R}, ${i}.length), 0, ${f});\n`,d};ia.data_replaceitemoflist=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,R=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1,f=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return d+=`${i}.splice(runtime.index(${R}, ${i}.length), 1, ${f});\n`,d};ia.data_itemoflist=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"INDEX",this.ORDER_NONE)||1;return[`(${d}[runtime.index(${i}, ${d}.length)] || '""')`,this.ORDER_CONDITIONAL]};ia.data_itemnumoflist=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`(${d}.indexOf(${i}) + 1)`,this.ORDER_NONE]};ia.data_lengthoflist=function(l){return[`${this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE}.length`,this.ORDER_MEMBER]};ia.data_listcontainsitem=function(l){const d=this.variableDB_.getName(l.getFieldValue("LIST"),xa.Variables.NAME_TYPE)+xa.LIST_VARIABLE_TYPE,i=this.valueToCode(l,"ITEM",this.ORDER_NONE)||'""';return[`${d}.includes(${i})`,this.ORDER_FUNCTION_CALL]};var kp="if (abort || !runtime.running) break;\n",Ki="async (done) => {\ndo {\n/* code */} while (false);\ndone();\n}";ia.event_whenflagclicked=function(){return`runtime.when('start', ${Ki});\n`};ia.event_whengreaterthan=function(l){const d=l.getFieldValue("WHENGREATERTHANMENU"),i=this.valueToCode(l,"VALUE",this.ORDER_NONE)||10;return`runtime.whenGreaterThen('${d}', runtime.number(${i}), ${Ki});\n`};ia.event_whenbroadcastreceived=function(l){return`runtime.when('message:${this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),s6.Variables.NAME_TYPE)}', ${Ki});\n`};ia.event_broadcast_menu=function(l){return[this.variableDB_.getName(l.getFieldValue("BROADCAST_OPTION"),s6.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.event_broadcast=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return d+=`runtime.fire('message:${i}')\n`,d};ia.event_broadcastandwait=function(l){let d="";if(this.STATEMENT_PREFIX)d+=this.injectId(this.STATEMENT_PREFIX,l);const i=this.valueToCode(l,"BROADCAST_INPUT",this.ORDER_NONE)||"message1";return d+=`await runtime.fire('message:${i}')\n${kp}`,d};ia.math_number=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d===1/0)d="Infinity",i=this.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",i=this.ORDER_UNARY_SIGN;else if(Number.isNaN(d))d="NaN",i=this.ORDER_UNARY_SIGN;else i=d<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[d,i]};ia.math_integer=function(l){const d=parseInt(l.getFieldValue("NUM")),i=d<0?this.ORDER_UNARY_SIGN:this.ORDER_ATOMIC;return[d,i]};ia.math_whole_number=function(l){return[Math.abs(parseInt(l.getFieldValue("NUM"))),this.ORDER_ATOMIC]};ia.math_positive_number=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d===1/0)d="Infinity",i=this.ORDER_FUNCTION_CALL;else if(d===-1/0)d="-Infinity",i=this.ORDER_FUNCTION_CALL;else if(Number.isNaN(d))d="NaN",i=this.ORDER_FUNCTION_CALL;else d=d<0?0:d,i=this.ORDER_ATOMIC;return[d,i]};ia.math_angle=function(l){let d=parseFloat(l.getFieldValue("NUM")),i;if(d==1/0)d="Infinity",i=this.ORDER_FUNCTION_CALL;else if(d==-1/0)d="-Infinity",i=this.ORDER_UNARY_SIGN;else d=d%360,d=d<0?d+360:d,i=this.ORDER_ATOMIC;return[d,i]};ia.operator_add=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) + runtime.number(${i}))`,this.ORDER_SUBTRACTION]};ia.operator_subtract=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) - runtime.number(${i}))`,this.ORDER_ADDITION]};ia.operator_multiply=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) * runtime.number(${i}))`,this.ORDER_MULTIPLICATION]};ia.operator_divide=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) / runtime.number(${i}))`,this.ORDER_DIVISION]};ia.operator_random=function(l){const d=this.valueToCode(l,"FROM",this.ORDER_NONE)||0,i=this.valueToCode(l,"TO",this.ORDER_NONE)||0;return[`runtime.random(${d}, ${i})`,this.ORDER_FUNCTION_CALL]};ia.operator_gt=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) > runtime.number(${i}))`,this.ORDER_RELATIONAL]};ia.operator_lt=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) < runtime.number(${i}))`,this.ORDER_RELATIONAL]};ia.operator_equals=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${d} == ${i})`,this.ORDER_RELATIONAL]};ia.operator_and=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${d} && ${i})`,this.ORDER_LOGICAL_AND]};ia.operator_or=function(l){const d=this.valueToCode(l,"OPERAND1",this.ORDER_NONE)||0,i=this.valueToCode(l,"OPERAND2",this.ORDER_NONE)||0;return[`(${d} || ${i})`,this.ORDER_LOGICAL_OR]};ia.operator_not=function(l){return[`!(${this.valueToCode(l,"OPERAND",this.ORDER_NONE)||0})`,this.ORDER_LOGICAL_NOT]};ia.operator_join=function(l){const d=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',i=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`(String(${d}) + String(${i}))`,this.ORDER_ATOMIC]};ia.operator_letter_of=function(l){const d=this.valueToCode(l,"LETTER",this.ORDER_NONE)||0;return[`(String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}).at(${d} - 1) || '')`,this.ORDER_ATOMIC]};ia.operator_length=function(l){return[`String(${this.valueToCode(l,"STRING",this.ORDER_NONE)||'""'}).length`,this.ORDER_MEMBER]};ia.operator_contains=function(l){const d=this.valueToCode(l,"STRING1",this.ORDER_NONE)||'""',i=this.valueToCode(l,"STRING2",this.ORDER_NONE)||'""';return[`String(${d}).includes(String(${i}))`,this.ORDER_FUNCTION_CALL]};ia.operator_mod=function(l){const d=this.valueToCode(l,"NUM1",this.ORDER_NONE)||0,i=this.valueToCode(l,"NUM2",this.ORDER_NONE)||0;return[`(runtime.number(${d}) % runtime.number(${i}))`,this.ORDER_MODULUS]};ia.operator_round=function(l){return[`Math.round(${this.valueToCode(l,"NUM",this.ORDER_NONE)||0})`,this.ORDER_FUNCTION_CALL]};ia.operator_mathop=function(l){const d=this.valueToCode(l,"NUM",this.ORDER_NONE)||0,i=l.getFieldValue("OPERATOR");let R="";if(i==="ceiling")R+=`Math.ceil(runtime.number(${d}))`;else if(i==="sin"||i==="cos"||i==="tan")R+=`Math.${i}(Math.PI * runtime.number(${d}) / 180)`;else if(i==="asin"||i==="acos"||i==="atan")R+=`(Math.${i}(runtime.number(${d})) * 180 / Math.PI)`;else if(i==="ln")R+=`Math.log(runtime.number(${d}))`;else if(i==="log")R+=`Math.log10(runtime.number(${d}))`;else if(i==="e ^")R+=`Math.exp(runtime.number(${d}))`;else if(i==="10 ^")R+=`Math.pow(10, runtime.number(${d}))`;else R+=`Math.${i}(runtime.number(${d}))`;return[R,this.ORDER_FUNCTION_CALL]};ia.procedures_definition=function(l){const d=l.childBlocks_[0],i=this.variableDB_.getName(d.getProcCode(),xs.Procedures.NAME_TYPE),R=d.childBlocks_.map((q)=>this.variableDB_.getName(q.getFieldValue("VALUE"),xs.Variables.NAME_TYPE));R.push("target");let f=`async function ${i}(${R.join(",")}) {\n`;return f+="do {\n/* code */} while (false);\n}\n",f};ia.procedures_call=function(l){const d=this.variableDB_.getName(l.getProcCode(),xs.Procedures.NAME_TYPE),i=l.argumentIds_.map((R)=>this.valueToCode(l,R,this.ORDER_NONE));return i.push("target"),`await ${d}(${i.join(",")});\n`};ia.argument_reporter_boolean=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),xs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.argument_reporter_string_number=function(l){return[this.variableDB_.getName(l.getFieldValue("VALUE"),xs.Variables.NAME_TYPE),this.ORDER_ATOMIC]};ia.sensing_timer=function(l){return["runtime.time",this.ORDER_FUNCTION_CALL]};ia.sensing_resettimer=function(l){return"runtime.resetTimer()\n"};ia.text=function(l){const d=l.getFieldValue("TEXT");return[d.length===0||isNaN(d)?this.quote_(d):+d,this.ORDER_ATOMIC]};var pa=dp.default;var Co=new jn;var Ts="if (abort || !runtime.running) break;\n";Co.motion_attack=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DIRECTION",Co.ORDER_NONE)||0,R=Co.valueToCode(l,"DISTANCE",Co.ORDER_NONE)||100;return d+=`await target.util.attack(${i}, ${R});\n${Ts}`,d};Co.motion_move=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DIRECTION",Co.ORDER_NONE)||0,R=Co.valueToCode(l,"SPEED",Co.ORDER_NONE)||100;return d+=`await target.util.move(${i}, ${R});\n${Ts}`,d};Co.motion_turnright=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DEGREES",Co.ORDER_NONE)||0;return d+=`await target.util.turnRight(${i});\n${Ts}`,d};Co.motion_turnleft=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DEGREES",Co.ORDER_NONE)||0;return d+=`await target.util.turnLeft(${i});\n${Ts}`,d};Co.motion_pointindirection=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DIRECTION",Co.ORDER_NONE)||0;return d+=`await target.util.setDirection(+${i});\n${Ts}`,d};Co.motion_setspeed=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"SPEED",Co.ORDER_NONE)||0;return d+=`target.util.speed = ${i};\n`,d};Co.motion_stop=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);return d+="target.util.speed = 0;\n",d};Co.motion_xposition=(l)=>{return["target.util.x",Co.ORDER_ATOMIC]};Co.motion_yposition=(l)=>{return["target.util.y",Co.ORDER_ATOMIC]};Co.motion_speed=(l)=>{return["target.util.currentSpeed",Co.ORDER_ATOMIC]};Co.motion_direction=(l)=>{return["target.util.direction",Co.ORDER_ATOMIC]};Co.sensing_scanwidth=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"WIDTH",Co.ORDER_NONE)||5;return d+=`target.util.scanWidth = ${i};\n`,d};Co.sensing_scan=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DIRECTION",Co.ORDER_NONE)||0;return d+=`(await target.util.scan(${i}) !== Infinity)`,[d,Co.ORDER_EQUALITY]};Co.sensing_scandistance=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);const i=Co.valueToCode(l,"DIRECTION",Co.ORDER_NONE)||0;return d+=`(await target.util.scan(${i}))`,[d,Co.ORDER_FUNCTION_CALL]};Co.sensing_health=(l)=>{let d="";if(Co.STATEMENT_PREFIX)d+=Co.injectId(Co.STATEMENT_PREFIX,l);return d+="target.util.health",[d,Co.ORDER_FUNCTION_CALL]};var l6="./assets/background-5h37gty1.png";function Ke(l){return new Promise((d)=>{const i=new Image;i.src=l,i.addEventListener("load",()=>d(i))})}var r6="./assets/tank_1-d4rhqwqq.png";var i6="./assets/turret_1-9pr6cw16.png";var c6="./assets/tank_2-77dkq8qk.png";var u6="./assets/turret_2-etpr4jbw.png";var p6="./assets/tank_3-62cxctsx.png";var m6="./assets/turret_3-qw8g6vbn.png";var t6="./assets/tank_4-mqxcxwts.png";var d6="./assets/turret_4-ggame02p.png";var b6="./assets/broken-ndvkgsqd.png";var f6="./assets/bullet-wgggea50.png";var _6="./assets/boom1-xcv6wxk5.png";var h6="./assets/boom2-tq1etnz2.png";var N6="./assets/boom3-s405vqvg.png";var gp=20,Up=4,Ep=40,Ll=500,jp=70,Jp=400,Ms=10,Pi=50,Ii=1000,v6=(l,d)=>Math.sqrt((l.x-d.x)**2+(l.y-d.y)**2),Jn=(l)=>isNaN(l)?0:+l,Vs=(l,d,i)=>Math.min(Math.max(l,d),i),Ls=(l)=>l*Math.PI/180,Kn=(l)=>parseInt((l%360+360)%360),R6=(l,d)=>Kn(l)===Kn(d);class ya{static PLACE={LEFT:{get position(){return new pa.Point(pa.view.center.x-300,pa.view.center.y)},rotation:90},RIGHT:{get position(){return new pa.Point(pa.view.center.x+300,pa.view.center.y)},rotation:-90},LEFT_TOP:{get position(){return new pa.Point(pa.view.center.x-300,pa.view.center.y-300)},rotation:135},RIGHT_TOP:{get position(){return new pa.Point(pa.view.center.x+300,pa.view.center.y-300)},rotation:-135},LEFT_BOTTOM:{get position(){return new pa.Point(pa.view.center.x-300,pa.view.center.y+300)},rotation:45},RIGHT_BOTTOM:{get position(){return new pa.Point(pa.view.center.x+300,pa.view.center.y+300)},rotation:-45}};static STYLE={PLAYER:{tank:r6,turret:i6},ENEMY_A:{tank:c6,turret:u6},ENEMY_B:{tank:p6,turret:m6},ENEMY_C:{tank:t6,turret:d6}};constructor(l,d=ya.STYLE.PLAYER,i=ya.PLACE.LEFT){this.raster=new pa.Raster({name:l,scaling:0.2,source:d.tank,position:i.position,rotation:i.rotation,visible:d===ya.STYLE.PLAYER}),this.turretRaster=new pa.Raster({scaling:0.2,source:d.turret,position:i.position,rotation:i.rotation,visible:d===ya.STYLE.PLAYER}),this.raster.util=this,this.turretRaster.owner=this,this._hidden=!0,this._lastScanDistance=0,this._imageCache={},this._timers=[],this.reset()}sleep(l){return new Promise((d)=>this._timers.push(setTimeout(d,l)))}reset(){if(this._speed=0,this._currentSpeed=0,this._health=100,this._scanWidth=Up,this._turretReady=null,this._scanShape)this._scanShape.remove(),this._scanShape=null;if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;if(this._collideTester)this._collideTester.remove(),this._collideTester=null;clearTimeout(this._turretReady),this._timers.forEach(clearTimeout),this._timers.length=0}bringToFront(){this.raster.bringToFront(),this.turretRaster.bringToFront()}get running(){return this._running}set running(l){this.reset(),this._running=l}get bullseye(){if(!this._bullseye)this._bullseye=Math.min(this.raster.width,this.raster.height)*this.raster.scaling.x/4;return this._bullseye}get enemies(){if(!this._enemies)this._enemies=["red","yellow","green","player"].filter((l)=>l!==this.raster.name).map((l)=>pa.project.activeLayer.children[l]);return this._enemies}set place(l){if(this.running)return;this.raster.position=this.turretRaster.position=l.position,this.raster.rotation=this.turretRaster.rotation=l.rotation,this.hidden=!1}get hidden(){return this._hidden}set hidden(l){this._hidden=l,this.raster.visible=this.turretRaster.visible=!l}async _turn(l,d){if(!R6(l.rotation,d)){let i=Kn(d)-Kn(l.rotation);if(i>180)i-=360;if(i<-180)i+=360;await l.tween({rotation:l.rotation+i},Ii*(Math.abs(i)/360))}}async attack(l,d){if(!this.running)return;if(this._bulletRaster||this.death)return;l=Math.round(Jn(l)),d=Jn(d)-Pi,clearTimeout(this._turretReady),this._turretReady=null,await this._turn(this.turretRaster,l);const i=Kn(l),R=Ls(90-i);if(!this._imageCache.buttet)this._imageCache.buttet=await Ke(f6);if(this._bulletRaster)this._bulletRaster.remove(),this._bulletRaster=null;this._bulletRaster=new pa.Raster({image:this._imageCache.buttet,position:new pa.Point(this.raster.position.x+Pi*Math.cos(R),this.raster.position.y-Pi*Math.sin(R)),rotation:this.raster.rotation,scaling:this.raster.scaling}),d=Vs(d,jp,Jp);const f=d/2,q=Ms/d/2;let u=Ms*Math.cos(R),h=Ms*Math.sin(R);while(d>0){if(await this.sleep(15),d<Ms)u=d*Math.cos(R),h=d*Math.sin(R);if(d-=Ms,this._bulletRaster.position.x+=u,this._bulletRaster.position.y-=h,this._bulletRaster.scaling.x+=d>f?q:-q,this._bulletRaster.scaling.y=this._bulletRaster.scaling.x,this._bulletRaster.scaling.x<this.raster.scaling.x)this._bulletRaster.scaling=this.raster.scaling}this._boom(this._bulletRaster.position),this._collide(this._bulletRaster,(L)=>{if(v6(L.position,this._bulletRaster.position)<L.util.bullseye)L.util.hurt(10);else L.util.hurt(5)}),this._bulletRaster.remove(),this._bulletRaster=null,this._turretReady=setTimeout(()=>{this._turn(this.turretRaster,this.raster.rotation),this._turretReady=null},1000)}async _boom(l){if(!this.running)return;if(!this._imageCache.booms)this._imageCache.booms=[await Ke(_6),await Ke(h6),await Ke(N6)];if(this._boomRaster)this._boomRaster.remove(),this._boomRaster=null;this._boomRaster=new pa.Raster({image:this._imageCache.booms[0],position:l}),await this.sleep(30),this._boomRaster.image=this._imageCache.booms[1],await this.sleep(50),this._boomRaster.image=this._imageCache.booms[2],await this.sleep(90),this._boomRaster.remove(),this._boomRaster=null}_intersectsOrContains(l,d){return l.intersects(d)||d.contains(l.position)}_collide(l,d){if(this.running&&!this.death)this.enemies.forEach((i)=>{if(i.util.death||i.util.hidden)return;if(this._intersectsOrContains(l,i))d(i)})}async move(l,d){if(!this.running)return;if(this.death)return;await this.setDirection(l),this.speed=Jn(d)}drive(){if(!this.running)return;if(this.speed===0)return;if(this.hidden||this.death)return;let l=this.speed;const d=Ls(90-this.direction);l/=gp,this.raster.position.x+=l*Math.cos(d),this.raster.position.y-=l*Math.sin(d),this.turretRaster.position=this.raster.position}get x(){return this.raster.position.x-pa.view.center.x}get y(){return pa.view.center.y-this.raster.position.y}get currentSpeed(){return Vs(this._currentSpeed,-100,100)}get speed(){return Vs(this._speed,-100,100)}set speed(l){if(!this.running)return;this._speed=Vs(l,-100,100)}get speedVelocity(){const l=Kn(this.speed<0?180+this.direction:this.direction),d=Ls(90-l),i=Math.abs(this.speed);return new pa.Point(i*Math.cos(d),i*Math.sin(d))}get direction(){let l=this.raster.rotation%360;if(l>180)l-=360;if(l<=-180)l+=360;return l}async setDirection(l){if(!this.running)return;if(l=Math.round(Jn(l)),!this._turretReady)this._turn(this.turretRaster,l);await this._turn(this.raster,l)}turnRight(l){let d=this.raster.rotation;return d+=Jn(l),this.setDirection(d)}turnLeft(l){return this.turnRight(-Jn(l))}hurt(l){if(!this.running)return;if(this._health-=Math.abs(l),this.death)this.raster.visible=this.turretRaster.visible=!1,new pa.Raster({source:b6,scaling:this.raster.scaling,position:this.raster.position,rotation:this.raster.rotation}).insertAbove(pa.project.activeLayer.children.background)}get health(){if(this._health<0)return 0;return this._health}get death(){return this.health<=0}get scanWidth(){return this._scanWidth}set scanWidth(l){l=Jn(l),this._scanWidth=Vs(l,1,Ep)}async scan(l){if(!this.running)return 1/0;if(this._scanShape||this.death)return 1/0;if(l=Jn(l),!R6(this._lastScanDistance,l)){let k=Kn(l)-Kn(this._lastScanDistance);if(k>180)k-=360;if(k<-180)k+=360;await this.sleep(Ii*(Math.abs(k)/360)),this._lastScanDistance=l}const d=Ls(90-(l-this.scanWidth/2)),i=Ll*Math.cos(d),R=Ll*Math.sin(d),f=new pa.Point(this.raster.position.x+i,this.raster.position.y-R),q=Ls(90-(l+this.scanWidth/2)),u=Ll*Math.cos(q),h=Ll*Math.sin(q),L=new pa.Point(this.raster.position.x+u,this.raster.position.y-h);if(this._scanShape)this._scanShape.remove(),this._scanShape=null;this._scanShape=new pa.Path({segments:[this.raster.position,f,L],closed:!0,fillColor:{gradient:{stops:[["rgb(255 0 0 0.4)",0],["rgb(255 0 0 0)",0.7]],radial:!0},origin:this.raster.position,destination:f}}),await this.sleep(Ii*(this.scanWidth/360));let y=1/0;return this._collide(this._scanShape,(k)=>{const Z=v6(this.raster.position,k.position);if(Z<y)y=Z}),this._scanShape.remove(),this._scanShape=null,y}}class Wl extends Vl{get player(){return pa.project.activeLayer.children.player}get redTank(){return pa.project.activeLayer.children.red}get yellowTank(){return pa.project.activeLayer.children.yellow}get greenTank(){return pa.project.activeLayer.children.green}start(){this.player.util.running=!0,this.redTank.util.running=!0,this.yellowTank.util.running=!0,this.greenTank.util.running=!0,super.start()}stop(){return this.player.util.running=!1,this.redTank.util.running=!1,this.yellowTank.util.running=!1,this.greenTank.util.running=!1,super.stop()}}var Z6=(l="",d=[])=>`
${d.join("\n")}

((target) => {
let abort = false;
${l||""}
})(runtime.player);

runtime.on('frame', () => {
  runtime.player.util.drive();
  runtime.redTank.util.drive();
  runtime.yellowTank.util.drive();
  runtime.greenTank.util.drive();
});

runtime.player.util.bringToFront();
runtime.start();
`;var Ws={};X6(Ws,{simple:()=>Kp,senior:()=>Ip,medium:()=>Pp});var Kp=(l,d)=>`
((tank) => {
  let abort = false;

  runtime.when('start', async function (done) {
    await tank.util.turnRight(45);
    tank.util.speed = 100;
    await runtime.sleep(2.5);
    tank.util.speed = 0;
    await tank.util.turnLeft(90);
    runtime.fire('@ai_simple_${l}_${d}_message_1');
    while (true) {
      tank.util.speed = 100;
      await runtime.sleep(5.5);
      tank.util.speed = 0;
      await tank.util.turnLeft(180);
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });

  runtime.when('@ai_simple_${l}_${d}_message_1', async function anonymous(done) {
    while (true) {
      if ((await tank.util.scan(0) !== Infinity)) {
        await tank.util.attack(0, (await tank.util.scan(0)));
      }
      if ((await tank.util.scan(45) !== Infinity)) {
        await tank.util.attack(45, (await tank.util.scan(45)));
      }
      if ((await tank.util.scan(90) !== Infinity)) {
        await tank.util.attack(90, (await tank.util.scan(90)));
      }
      if ((await tank.util.scan(135) !== Infinity)) {
        await tank.util.attack(135, (await tank.util.scan(135)));
      }
      if ((await tank.util.scan(180) !== Infinity)) {
        await tank.util.attack(180, (await tank.util.scan(180)));
      }
      if ((await tank.util.scan(225) !== Infinity)) {
        await tank.util.attack(225, (await tank.util.scan(225)));
      }
      if ((await tank.util.scan(270) !== Infinity)) {
        await tank.util.attack(270, (await tank.util.scan(270)));
      }
      if ((await tank.util.scan(315) !== Infinity)) {
        await tank.util.attack(315, (await tank.util.scan(315)));
      }
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done();
  });


})(runtime.${l}Tank);
`,Pp=(l,d)=>`
((tank) => {
  let abort = false;

  let _health_ = 0;
  let _angle_ = 0;

  runtime.when('start', async function anonymous() {
    _angle_ = runtime.random(1, 360);
    runtime.fire('@ai_medium_${l}_${d}_start')
  });

  runtime.when('start', async function anonymous() {
    while (true) {
      _health_ = tank.util.health;
      while (!((tank.util.health < _health_))) {
        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      abort = false;
      tank.util.move(runtime.random(1, 360), 100);
      await runtime.sleep(1);
      tank.util.speed = 0;
      runtime.fire('@ai_medium_${l}_${d}_start')
      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
  });

  runtime.when('@ai_medium_${l}_${d}_start', async function anonymous(done) {
    while (true) {
      while (!((await tank.util.scan(_angle_) !== Infinity))) {
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      while (((await tank.util.scan(_angle_) !== Infinity) && ((await tank.util.scan(_angle_)) > '400'))) {
        tank.util.move(_angle_, 100);

        if (abort || !runtime.running) {
          break;
        };
        await runtime.nextFrame();
      }
      tank.util.speed = 0;
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    done()
  });


})(runtime.${l}Tank);
`,Ip=(l,d)=>`
((tank) => {
  let abort = false;

  let _angle_ = 0;
  let _health_ = 0;


  runtime.when('start', async function anonymous() {
    if (((tank.util.y < '5') && (tank.util.y > '-5'))) {
      await tank.util.turnLeft(104);
    }
    else {
      await tank.util.turnLeft(180);
    }
    tank.util.speed = 100;
    while (!(((Math.abs(tank.util.x) > '400') && (Math.abs(tank.util.y) > '400')))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${d}_start')
  });

  runtime.when('@ai_senior_${l}_${d}_start', async function anonymous(done) {
    if ((tank.util.x < '0')) {
      if ((tank.util.y < '0')) {
        _angle_ = '45';
      }
      else {
        _angle_ = '135';
      }
    }
    else {
      if ((tank.util.y < '0')) {
        _angle_ = '-45';
      }
      else {
        _angle_ = '-135';
      }
    }
    await tank.util.setDirection(_angle_);
    runtime.fire('@ai_senior_${l}_${d}_watch_health');
    _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-60);
    for (let _ = 0; _ < 78; _++) {
      if (((await tank.util.scan(_angle_)) < '400') && ((await tank.util.scan(_angle_)) > '100')) {
        await tank.util.attack((_angle_ + 1), (await tank.util.scan(_angle_)));
        _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(-10);
      }
      _angle_ = (isNaN(_angle_) ? 0 : +_angle_) + +(10);

      if (abort || !runtime.running) {
        break;
      };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${d}_next_place');
    done();
  });

  runtime.when('@ai_senior_${l}_${d}_next_place', async function anonymous(done) {
    abort = false;
    if ((runtime.random(1, 3) == '1')) {
      await tank.util.turnLeft(45);
    }
    else {
      await tank.util.turnRight(45);
    }
    tank.util.speed = 100;
    await runtime.sleep(1);
    if (((tank.util.direction > '-5') && (tank.util.direction < '5'))) {
      while (!((tank.util.y > '400'))) {

      if (abort || !runtime.running) {
        break;
      };
        await runtime.nextFrame();
      }
    }
    else {
      if (((tank.util.direction > '85') && (tank.util.direction < '95'))) {
        while (!((tank.util.x > '400'))) {

        if (abort || !runtime.running) {
          break;
        };
          await runtime.nextFrame();
        }
      }
      else {
        if (((tank.util.direction > '-95') && (tank.util.direction < '-85'))) {
          while (!((tank.util.x < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
        else {
          while (!((tank.util.y < '-400'))) {

          if (abort || !runtime.running) {
            break;
          };
            await runtime.nextFrame();
          }
        }
      }
    }
    tank.util.speed = 0;
    runtime.fire('@ai_senior_${l}_${d}_start')
    done()
  });

  runtime.when('@ai_senior_${l}_${d}_watch_health', async function anonymous(done) {
    _health_ = tank.util.health;
    while (!((tank.util.health < _health_))) {

    if (abort || !runtime.running) {
      break;
    };
      await runtime.nextFrame();
    }
    runtime.fire('@ai_senior_${l}_${d}_next_place')
    done()
  });


})(runtime.${l}Tank);
`;function k6({playing:l,enemies:d,enemiesAI:i,onRequestStop:R,onChangeHealth:f}){const[q,u]=y6(null),[h,L]=y6(!1),{fileList:y}=Gp(),k=y[0];if(q){const T=pa.project.activeLayer.children;if(l){if(!h){const V=[];if(d>0)V.push(Ws[i.red]("red",Date.now().toString(36)));if(d>1)V.push(Ws[i.yellow]("yellow",Date.now().toString(36)));if(d>2)V.push(Ws[i.green]("green",Date.now().toString(36)));const $=new Wl(R);$.launch(Z6(k.script,V)),$.on("frame",()=>{f({player:T.player.util.health,red:T.red.util.health,yellow:T.yellow.util.health,green:T.green.util.health})});const x=ScratchBlocks.getMainWorkspace();if(x)x.addChangeListener(R);L($)}}else if(h){const V=ScratchBlocks.getMainWorkspace();if(V)V.removeChangeListener(R);h.stop().then(()=>{f({player:100,red:100,yellow:100,green:100}),pa.project.activeLayer.children.forEach(($)=>{if($.name==="background")return;if($.util instanceof ya||$.owner instanceof ya)return;$.remove()}),L(!1)})}else{if(T.player.util.place=ya.PLACE.LEFT_TOP,d>0)T.red.util.place=ya.PLACE.RIGHT_BOTTOM;else T.red.util.hidden=!0;if(d>2)T.yellow.util.place=ya.PLACE.RIGHT_TOP,T.green.util.place=ya.PLACE.LEFT_BOTTOM;else T.yellow.util.hidden=!0,T.green.util.hidden=!0;pa.project.activeLayer.children.forEach((V)=>{if(V.name==="background")return;if(V.util instanceof ya||V.owner instanceof ya)return;V.remove()})}}return Dp(B1,{width:"480px",height:"480px",javascriptGenerator:Co,onSetup:(T)=>{u(T),pa.view.zoom=0.5,new pa.Raster({name:"background",source:l6,position:pa.view.center}),new ya("player",ya.STYLE.PLAYER,ya.PLACE.LEFT),new ya("red",ya.STYLE.ENEMY_A,ya.PLACE.RIGHT),new ya("yellow",ya.STYLE.ENEMY_B,ya.PLACE.RIGHT_BOTTOM),new ya("green",ya.STYLE.ENEMY_C,ya.PLACE.LEFT_BOTTOM)}})}import{jsx as Dp}from"preact/jsx-runtime";import{useLocale as Bp}from"@blockcode/core";import{classNames as $6}from"@blockcode/ui";function qn(l){const d=globalThis.document,i=d.createElement("style");i.appendChild(d.createTextNode(l)),d.head.append(i)}qn("._1mbyQG_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}._1mbyQG_green-flag,._1mbyQG_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}._1mbyQG_green-flag:hover,._1mbyQG_stop-all:hover{background:var(--motion-light-transparent)}._1mbyQG_green-flag._1mbyQG_actived{background:var(--motion-transparent)}._1mbyQG_stop-all{opacity:.5}._1mbyQG_stop-all._1mbyQG_actived{opacity:1}._1mbyQG_green-flag._1mbyQG_disabled,._1mbyQG_stop-all._1mbyQG_disabled{opacity:.5}._1mbyQG_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}._1mbyQG_space{margin-left:.2rem}._1mbyQG_toolbar-buttons-group{display:flex}._1mbyQG_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}._1mbyQG_group-button{border-left:none;border-radius:0}._1mbyQG_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}");var me={toolbarButtonsGroup:"_1mbyQG_toolbar-buttons-group",groupButtonLast:"_1mbyQG_group-button-last",toolbarButton:"_1mbyQG_toolbar-button",groupButtonFirst:"_1mbyQG_group-button-first",space:"_1mbyQG_space",greenFlag:"_1mbyQG_green-flag",disabled:"_1mbyQG_disabled",toolbarWrapper:"_1mbyQG_toolbar-wrapper",stopAll:"_1mbyQG_stop-all",groupButton:"_1mbyQG_group-button",actived:"_1mbyQG_actived"};var q6="./assets/icon-green-flag-tz1g77je.svg";var x6="./assets/icon-stop-all-zrx3gxr1.svg";import{jsx as Gi,jsxs as Cp}from"preact/jsx-runtime";function Di({playing:l,onPlay:d,onStop:i}){const{getText:R}=Bp();return Gi("div",{className:me.toolbarWrapper,children:Cp("div",{className:me.toolbarButtonsGroup,children:[Gi("img",{className:$6(me.greenFlag,{[me.actived]:l}),src:q6,title:R("tankwar.player.greenFlag","Go"),onClick:d}),Gi("img",{className:$6(me.stopAll,{[me.actived]:l}),src:x6,title:R("tankwar.player.stopAll","Stop"),onClick:i})]})})}qn(".b0DZEW_stage-wrapper{position:relative}.b0DZEW_stage{border:1px solid var(--ui-black-transparent);border-radius:var(--space);background:var(--ui-white);width:482px;height:482px;position:relative;overflow:hidden}");var Hi={stageWrapper:"b0DZEW_stage-wrapper",stage:"b0DZEW_stage"};import{jsx as Yi,jsxs as Ap}from"preact/jsx-runtime";function Bi({playing:l,enemies:d,enemiesAI:i,onChangePlaying:R,onChangeHealth:f}){const q=()=>R(!0),u=()=>R(!1);return Ap("div",{className:Hi.stageWrapper,children:[Yi(Di,{playing:l,onPlay:q,onStop:u}),Yi("div",{className:Qp(Hi.stage),children:Yi(k6,{playing:l,enemies:d,enemiesAI:i,onRequestStop:u,onChangeHealth:f})})]})}import{useLocale as em,useEditor as sm}from"@blockcode/core";import{classNames as xn,Text as ws,Button as Pn,Label as te,BufferedInput as lm,ComingSoon as rm}from"@blockcode/ui";qn('.MaJ6dq_stage-info-wrapper{margin-top:var(--space);background:var(--ui-white);color:var(--text-primary);border-radius:var(--space);border:1px solid var(--ui-black-transparent);padding:1rem}.MaJ6dq_row{justify-content:space-between;margin-top:.5rem;display:flex}.MaJ6dq_row-primary{margin-top:0}.MaJ6dq_group{flex-direction:row;align-items:center;display:inline-flex}.MaJ6dq_full-input{flex:1}.MaJ6dq_name-input{width:8rem}.MaJ6dq_button{min-width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.MaJ6dq_button-icon{margin:auto}.MaJ6dq_space{margin-left:.2rem}.MaJ6dq_toolbar-button-group{display:flex}.MaJ6dq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.MaJ6dq_group-button{border-left:none;border-radius:0}.MaJ6dq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.MaJ6dq_button-text{flex:auto}.MaJ6dq_group-button-toggled-on .MaJ6dq_button-text{color:#4c97ff}.MaJ6dq_tank-image{width:1.65rem}.MaJ6dq_health-progress{background:#f5f5f5;border-radius:10px;width:12rem;height:20px}.MaJ6dq_health-progress:before{counter-reset:progress var(--percent,0);content:counter(progress)"%\u2002";width:calc(12rem*var(--percent,0)/100);color:var(--ui-white);text-align:right;white-space:nowrap;background:#ff6680;border-radius:10px;height:20px;font-size:12px;line-height:20px;display:block;overflow:hidden}');var fa={button:"MaJ6dq_button",fullInput:"MaJ6dq_full-input",row:"MaJ6dq_row",toolbarButtonGroup:"MaJ6dq_toolbar-button-group",groupButtonToggledOn:"MaJ6dq_group-button-toggled-on",groupButtonFirst:"MaJ6dq_group-button-first",healthProgress:"MaJ6dq_health-progress",space:"MaJ6dq_space",nameInput:"MaJ6dq_name-input",groupButton:"MaJ6dq_group-button",group:"MaJ6dq_group",buttonIcon:"MaJ6dq_button-icon",groupButtonLast:"MaJ6dq_group-button-last",buttonText:"MaJ6dq_button-text",tankImage:"MaJ6dq_tank-image",stageInfoWrapper:"MaJ6dq_stage-info-wrapper",rowPrimary:"MaJ6dq_row-primary"};var T6="./assets/tank-2-tq1cemhn.png";var M6="./assets/tank-3-5vq6mndw.png";var V6="./assets/tank-4-4r293h2s.png";import{jsx as Ra,jsxs as de}from"preact/jsx-runtime";var im=[T6,M6,V6];function Ci({playing:l,enemies:d,enemiesAI:i,health:R,onChangeEnemies:f,onChangeEnemyAI:q}){const{getText:u}=em(),{fileList:h,modifyFile:L}=sm(),y=h[0],k=(Z,T)=>{L({[Z]:T})};return de("div",{className:fa.stageInfoWrapper,children:[de("div",{className:xn(fa.row,fa.rowPrimary),children:[Ra(te,{text:u("tankwar.stageInfo.player","Player"),children:Ra(lm,{disabled:l,className:fa.nameInput,placeholder:u("tankwar.stageInfo.nickname","Nickname"),onSubmit:(Z)=>k("name",Z),value:y.name})}),Ra(te,{secondary:!0,className:fa.health,text:u("tankwar.stageInfo.health","Health"),children:Ra("div",{className:fa.healthProgress,style:`--percent:${R.player||0}`})})]}),de("div",{className:fa.row,children:[de(te,{secondary:!0,text:u("tankwar.stageInfo.enemies","Enemies"),children:[Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:d===0}),onClick:()=>f(0),children:Ra("div",{className:fa.buttonText,children:"0"})}),Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:d===1}),onClick:()=>f(1),children:Ra("div",{className:fa.buttonText,children:"1"})}),Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:d===3}),onClick:()=>f(3),children:Ra("div",{className:fa.buttonText,children:"3"})})]}),d>0&&de(te,{secondary:!0,children:[Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:!0}),children:Ra("div",{className:fa.buttonText,children:Ra(ws,{id:"tankwar.stageInfo.mode.local",defaultMessage:"Local AI"})})}),Ra(rm,{placement:"bottom",children:Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:!1}),children:Ra("div",{className:fa.buttonText,children:Ra(ws,{id:"tankwar.stageInfo.mode.remote",defaultMessage:"Remote Players"})})})})]})]}),["red","yellow","green"].slice(0,d).map((Z,T)=>de("div",{className:fa.row,children:[Ra(te,{secondary:!0,children:Ra("img",{className:fa.tankImage,src:im[T],alt:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase())),title:u(`tankwar.stageInfo.enemy.${Z}`,Z.replace(Z[0],Z[0].toUpperCase()))})}),Ra(te,{secondary:!0,children:Ra("div",{className:fa.healthProgress,style:`--percent:${R[Z]||0}`})}),de(te,{secondary:!0,text:u("tankwar.stageInfo.ai","AI"),children:[Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonFirst,{[fa.groupButtonToggledOn]:i[Z]==="simple"}),onClick:()=>q(Z,"simple"),children:Ra("div",{className:fa.buttonText,children:Ra(ws,{id:"tankwar.stageInfo.ai.simple",defaultMessage:"Simple"})})}),Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButton,{[fa.groupButtonToggledOn]:i[Z]==="medium"}),onClick:()=>q(Z,"medium"),children:Ra("div",{className:fa.buttonText,children:Ra(ws,{id:"tankwar.stageInfo.ai.medium",defaultMessage:"Medium"})})}),Ra(Pn,{disabled:l,className:xn(fa.button,fa.groupButtonLast,{[fa.groupButtonToggledOn]:i[Z]==="senior"}),onClick:()=>q(Z,"senior"),children:Ra("div",{className:fa.buttonText,children:Ra(ws,{id:"tankwar.stageInfo.ai.senior",defaultMessage:"Senior"})})})]})]},T))]})}qn(".FMSzyW_sidebar-wrapper{flex-direction:column;height:100%;display:flex}.FMSzyW_stage-wrapper{display:flex}.FMSzyW_selector-wrapper{margin-top:var(--space);flex-direction:row;height:100%;display:flex}");var Qi={sidebarWrapper:"FMSzyW_sidebar-wrapper",selectorWrapper:"FMSzyW_selector-wrapper",stageWrapper:"FMSzyW_stage-wrapper"};import{jsx as L6,jsxs as cm}from"preact/jsx-runtime";function Ai(){const[l,d]=wl(!1),[i,R]=wl(1),[f,q]=wl({red:"simple",yellow:"medium",green:"senior"}),[u,h]=wl({player:100,red:100,yellow:100,green:100});return cm("div",{className:Qi.sidebarWrapper,children:[L6(Bi,{className:Qi.stageWrapper,playing:l,enemies:i,enemiesAI:f,onChangePlaying:d,onChangeHealth:h}),L6(Ci,{playing:l,enemies:i,enemiesAI:f,health:u,onChangeEnemies:R,onChangeEnemyAI:(L,y)=>q({...f,[L]:y})})]})}var W6={fileList:[{id:`player_${Date.now().toString(36)}`,name:"player"}]};var w6={"tankwar.player.greenFlag":"Go","tankwar.player.stopAll":"Stop","tankwar.stageInfo.player":"Player","tankwar.stageInfo.nickname":"Nickname","tankwar.stageInfo.enemies":"Enemies","tankwar.stageInfo.health":"Health","tankwar.stageInfo.enemy.red":"Red","tankwar.stageInfo.enemy.yellow":"Yellow","tankwar.stageInfo.enemy.green":"Green","tankwar.stageInfo.mode.local":"Local AI","tankwar.stageInfo.mode.remote":"Remote Players","tankwar.stageInfo.ai":"AI","tankwar.stageInfo.ai.simple":"Simple","tankwar.stageInfo.ai.medium":"Medium","tankwar.stageInfo.ai.senior":"Senior","tankwar.blocks.motion_attack":"fire in direction %1 at %2 steps","tankwar.blocks.motion_move":"forward in direction %1 at %2 % speed","tankwar.blocks.motion_setspeed":"set speed to %1 %","tankwar.blocks.motion_stop":"stop","tankwar.blocks.motion_speed":"speed","tankwar.blocks.sensing_scanwidth":"set scan width to %1","tankwar.blocks.sensing_scan":"scan for enemy in direction %1?","tankwar.blocks.sensing_distance":"measure distance of enemy in direction %1","tankwar.blocks.sensing_health":"health"};var F6={"tankwar.player.greenFlag":"\u8FD0\u884C","tankwar.player.stopAll":"\u505C\u6B62","tankwar.stageInfo.player":"\u73A9\u5BB6","tankwar.stageInfo.nickname":"\u6635\u79F0","tankwar.stageInfo.enemies":"\u654C\u65B9\u6570\u91CF","tankwar.stageInfo.health":"\u751F\u547D\u503C","tankwar.stageInfo.enemy.red":"\u7EA2","tankwar.stageInfo.enemy.yellow":"\u9EC4","tankwar.stageInfo.enemy.green":"\u7EFF","tankwar.stageInfo.mode.local":"\u672C\u673A AI","tankwar.stageInfo.mode.remote":"\u8054\u7F51\u73A9\u5BB6","tankwar.stageInfo.ai":"AI \u7B56\u7565","tankwar.stageInfo.ai.simple":"\u7B80\u5355","tankwar.stageInfo.ai.medium":"\u4E2D\u7B49","tankwar.stageInfo.ai.senior":"\u9AD8\u7EA7","tankwar.blocks.motion_attack":"\u671D\u5411 %1 \u65B9\u5411\u8DDD\u79BB %2 \u6B65\u53D1\u5C04\u70AE\u5F39","tankwar.blocks.motion_move":"\u4EE5 %2 % \u901F\u5EA6\u9762\u5411 %1 \u65B9\u5411\u524D\u8FDB","tankwar.blocks.motion_setspeed":"\u5C06\u901F\u5EA6\u8BBE\u4E3A %1 %","tankwar.blocks.motion_stop":"\u505C\u6B62\u524D\u8FDB","tankwar.blocks.motion_speed":"\u901F\u5EA6","tankwar.blocks.sensing_scanwidth":"\u5C06\u96F7\u8FBE\u626B\u63CF\u5BBD\u5EA6\u8BBE\u4E3A %1","tankwar.blocks.sensing_scan":"\u96F7\u8FBE\u626B\u63CF %1 \u65B9\u5411\u6709\u654C\u4EBA\uFF1F","tankwar.blocks.sensing_distance":"\u96F7\u8FBE\u6D4B\u91CF %1 \u65B9\u5411\u654C\u4EBA\u7684\u8DDD\u79BB","tankwar.blocks.sensing_health":"\u751F\u547D\u503C"};var O6={en:w6,"zh-Hans":F6};function um({addLocaleData:l,openProject:d}){l(P1),l(O6);const i=()=>{d(Object.assign(W6))};return i(),{mainMenu:j1({createProject:i,openProject:d,saveProject:()=>{return{thumb:document.querySelector("#blockcode-blocks-player").toDataURL()}}}).slice(0,2),tabs:[{...xl,Content:Ui}],sidebars:[{expand:"right",Content:Ai}],pane:!1,tutorials:!1,canEditProjectName:!0}}export{um as default};
