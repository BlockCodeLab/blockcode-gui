var It=Object.create;var{defineProperty:z1,getPrototypeOf:Dt,getOwnPropertyNames:Ft}=Object;var Lt=Object.prototype.hasOwnProperty;var vt=(a,i,u)=>{u=a!=null?It(Dt(a)):{};const o=i||!a||!a.__esModule?z1(u,"default",{value:a,enumerable:!0}):u;for(let T of Ft(a))if(!Lt.call(o,T))z1(o,T,{get:()=>a[T],enumerable:!0});return o};var Pt=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports);var J1=Pt((F1)=>{(function(){var a=typeof F1!="undefined"&&F1||typeof define!="undefined"&&{}||this||window;if(typeof define!=="undefined")define("save-svg-as-png",[],function(){return a});a.default=a;var i="http://www.w3.org/2000/xmlns/",u="http://www.w3.org/1999/xhtml",o="http://www.w3.org/2000/svg",T='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',n=/url\(["']?(.+?)["']?\)/,s={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},N=function r(E){return E instanceof HTMLElement||E instanceof SVGElement},p=function r(E){if(!N(E))throw new Error("an HTMLElement or SVGElement is required; got "+E)},C=function r(E){return new Promise(function(_,d){if(N(E))_(E);else d(new Error("an HTMLElement or SVGElement is required; got "+E))})},F=function r(E){return E&&E.lastIndexOf("http",0)===0&&E.lastIndexOf(window.location.host)===-1},S=function r(E){var _=Object.keys(s).filter(function(d){return E.indexOf("."+d)>0}).map(function(d){return s[d]});if(_)return _[0];return console.error("Unknown font format for "+E+". Fonts may not be working correctly."),"application/octet-stream"},f=function r(E){var _="",d=new Uint8Array(E);for(var m=0;m<d.byteLength;m++)_+=String.fromCharCode(d[m]);return window.btoa(_)},g=function r(E,_,d){var m=E.viewBox&&E.viewBox.baseVal&&E.viewBox.baseVal[d]||_.getAttribute(d)!==null&&!_.getAttribute(d).match(/%$/)&&parseInt(_.getAttribute(d))||E.getBoundingClientRect()[d]||parseInt(_.style[d])||parseInt(window.getComputedStyle(E).getPropertyValue(d));return typeof m==="undefined"||m===null||isNaN(parseFloat(m))?0:m},b=function r(E,_,d,m){if(E.tagName==="svg")return{width:d||g(E,_,"width"),height:m||g(E,_,"height")};else if(E.getBBox){var A=E.getBBox(),M=A.x,I=A.y,H=A.width,t1=A.height;return{width:M+H,height:I+t1}}},R=function r(E){return decodeURIComponent(encodeURIComponent(E).replace(/%([0-9A-F]{2})/g,function(_,d){var m=String.fromCharCode("0x"+d);return m==="%"?"%25":m}))},O=function r(E){var _=window.atob(E.split(",")[1]),d=E.split(",")[0].split(":")[1].split(";")[0],m=new ArrayBuffer(_.length),A=new Uint8Array(m);for(var M=0;M<_.length;M++)A[M]=_.charCodeAt(M);return new Blob([m],{type:d})},L=function r(E,_){if(!_)return;try{return E.querySelector(_)||E.parentNode&&E.parentNode.querySelector(_)}catch(d){console.warn('Invalid CSS selector "'+_+'"',d)}},G=function r(E,_){var d=E.cssText.match(n),m=d&&d[1]||"";if(!m||m.match(/^data:/)||m==="about:blank")return;var A=m.startsWith("../")?_+"/../"+m:m.startsWith("./")?_+"/."+m:m;return{text:E.cssText,format:S(A),url:A}},c=function r(E){return Promise.all(Array.from(E.querySelectorAll("image")).map(function(_){var d=_.getAttributeNS("http://www.w3.org/1999/xlink","href")||_.getAttribute("href");if(!d)return Promise.resolve(null);if(F(d))d+=(d.indexOf("?")===-1?"?":"&")+"t="+(new Date()).valueOf();return new Promise(function(m,A){var M=document.createElement("canvas"),I=new Image;I.crossOrigin="anonymous",I.src=d,I.onerror=function(){return A(new Error("Could not load "+d))},I.onload=function(){M.width=I.width,M.height=I.height,M.getContext("2d").drawImage(I,0,0),_.setAttributeNS("http://www.w3.org/1999/xlink","href",M.toDataURL("image/png")),m(!0)}})}))},h={},T1=function r(E){return Promise.all(E.map(function(_){return new Promise(function(d,m){if(h[_.url])return d(h[_.url]);var A=new XMLHttpRequest;A.addEventListener("load",function(){var M=f(A.response),I=_.text.replace(n,'url("data:'+_.format+";base64,"+M+'")')+"\n";h[_.url]=I,d(I)}),A.addEventListener("error",function(M){console.warn("Failed to load font from: "+_.url,M),h[_.url]=null,d(null)}),A.addEventListener("abort",function(M){console.warn("Aborted loading font from: "+_.url,M),d(null)}),A.open("GET",_.url),A.responseType="arraybuffer",A.send()})})).then(function(_){return _.filter(function(d){return d}).join("")})},e1=null,I1=function r(){if(e1)return e1;return e1=Array.from(document.styleSheets).map(function(E){try{return{rules:E.cssRules,href:E.href}}catch(_){return console.warn("Stylesheet could not be loaded: "+E.href,_),{}}})},D1=function r(E,_){var d=_||{},m=d.selectorRemap,A=d.modifyStyle,M=d.modifyCss,I=d.fonts,H=d.excludeUnusedCss,t1=M||function(v,Q){var $=m?m(v):v,e=A?A(Q):Q;return $+"{"+e+"}\n"},Y=[],z=typeof I==="undefined",J=I||[];return I1().forEach(function(v){var{rules:Q,href:$}=v;if(!Q)return;Array.from(Q).forEach(function(e){if(typeof e.style!="undefined"){if(L(E,e.selectorText))Y.push(t1(e.selectorText,e.style.cssText));else if(z&&e.cssText.match(/^@font-face/)){var j=G(e,$);if(j)J.push(j)}else if(!H)Y.push(e.cssText)}})}),T1(J).then(function(v){return Y.join("\n")+v})},B=function r(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};a.prepareSvg=function(r,E,_){p(r);var d=E||{},m=d.left,A=m===void 0?0:m,M=d.top,I=M===void 0?0:M,H=d.width,t1=d.height,Y=d.scale,z=Y===void 0?1:Y,J=d.responsive,v=J===void 0?!1:J,Q=d.excludeCss,$=Q===void 0?!1:Q;return c(r).then(function(){var e=r.cloneNode(!0);e.style.backgroundColor=(E||{}).backgroundColor||r.style.backgroundColor;var j=b(r,e,H,t1),x=j.width,q=j.height;if(r.tagName!=="svg")if(r.getBBox){if(e.getAttribute("transform")!=null)e.setAttribute("transform",e.getAttribute("transform").replace(/translate\(.*?\)/,""));var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.appendChild(e),e=l}else{console.error("Attempted to render non-SVG element",r);return}if(e.setAttribute("version","1.1"),e.setAttribute("viewBox",[A,I,x,q].join(" ")),!e.getAttribute("xmlns"))e.setAttributeNS(i,"xmlns",o);if(!e.getAttribute("xmlns:xlink"))e.setAttributeNS(i,"xmlns:xlink","http://www.w3.org/1999/xlink");if(v)e.removeAttribute("width"),e.removeAttribute("height"),e.setAttribute("preserveAspectRatio","xMinYMin meet");else e.setAttribute("width",x*z),e.setAttribute("height",q*z);if(Array.from(e.querySelectorAll("foreignObject > *")).forEach(function(U){U.setAttributeNS(i,"xmlns",U.tagName==="svg"?o:u)}),$){var w=document.createElement("div");w.appendChild(e);var W=w.innerHTML;if(typeof _==="function")_(W,x,q);else return{src:W,width:x,height:q}}else return D1(r,E).then(function(U){var i1=document.createElement("style");i1.setAttribute("type","text/css"),i1.innerHTML="<![CDATA[\n"+U+"\n]]>";var k=document.createElement("defs");k.appendChild(i1),e.insertBefore(k,e.firstChild);var Z1=document.createElement("div");Z1.appendChild(e);var B1=Z1.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof _==="function")_(B1,x,q);else return{src:B1,width:x,height:q}})})},a.svgAsDataUri=function(r,E,_){return p(r),a.prepareSvg(r,E).then(function(d){var{src:m,width:A,height:M}=d,I="data:image/svg+xml;base64,"+window.btoa(R(T+m));if(typeof _==="function")_(I,A,M);return I})},a.svgAsPngUri=function(r,E,_){p(r);var d=E||{},m=d.encoderType,A=m===void 0?"image/png":m,M=d.encoderOptions,I=M===void 0?0.8:M,H=d.canvg,t1=function Y(z){var{src:J,width:v,height:Q}=z,$=document.createElement("canvas"),e=$.getContext("2d"),j=window.devicePixelRatio||1;if($.width=v*j,$.height=Q*j,$.style.width=$.width+"px",$.style.height=$.height+"px",e.setTransform(j,0,0,j,0,0),H)H($,J);else e.drawImage(J,0,0);var x=void 0;try{x=$.toDataURL(A,I)}catch(q){if(typeof SecurityError!=="undefined"&&q instanceof SecurityError||q.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw q}if(typeof _==="function")_(x,$.width,$.height);return Promise.resolve(x)};if(H)return a.prepareSvg(r,E).then(t1);else return a.svgAsDataUri(r,E).then(function(Y){return new Promise(function(z,J){var v=new Image;v.onload=function(){return z(t1({src:v,width:v.width,height:v.height}))},v.onerror=function(){J("There was an error loading the data URI as an image on the following SVG\n"+window.atob(Y.slice(26))+"Open the following link to see browser\'s diagnosis\n"+Y)},v.src=Y})})},a.download=function(r,E,_){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(O(E),r);else{var d=document.createElement("a");if("download"in d){d.download=r,d.style.display="none",document.body.appendChild(d);try{var m=O(E),A=URL.createObjectURL(m);d.href=A,d.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(A)})}}catch(M){console.error(M),console.warn("Error while getting object URL. Falling back to string URL."),d.href=E}d.click(),document.body.removeChild(d)}else if(_&&_.popup)_.popup.document.title=r,_.popup.location.replace(E)}},a.saveSvg=function(r,E,_){var d=B();return C(r).then(function(m){return a.svgAsDataUri(m,_||{})}).then(function(m){return a.download(E,m,d)})},a.saveSvgAsPng=function(r,E,_){var d=B();return C(r).then(function(m){return a.svgAsPngUri(m,_||{})}).then(function(m){return a.download(E,m,d)})}})()});import{Text as wt} from"@blockcode/ui";import{Text as U1} from"@blockcode/ui";var j1=vt(J1(),1);import{Keys as o1,useLayout as $t,useEditor as Vt} from"@blockcode/core";import{Text as m1,MenuSection as Q1,MenuItem as p1} from"@blockcode/ui";import{ScratchBlocks as Wt} from"@blockcode/blocks-editor";import{jsx as y,jsxs as v1,Fragment as Ut} from"preact/jsx-runtime";var L1=/Mac/i.test(navigator.platform||navigator.userAgent);function P1({itemClassName:a,onNew:i,onOpen:u,onSave:o,children:T}){const{createPrompt:n,setStoreLibrary:s}=$t(),{modified:N,saveNow:p,saveToComputer:C,openFromComputer:F}=Vt(),S=async()=>{let f,g;const b=Wt.getMainWorkspace();if(b){const R=b.getCanvas();if(R)f=await j1.svgAsDataUri(R,{});g=Array.from(new Set(Object.values(b.blockDB_).filter((O)=>["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].find((L)=>L===O.category_)).map((O)=>O.category_)))}return(R)=>{const O={thumb:f,...R,...o?o():{},editor:{...R.editor,extensions:g}};if(O.assetList)O.assetList=O.assetList.filter((L)=>!L.id.startsWith("extensions/"));return O.fileList=O.fileList.map(({content:L,script:G,...c})=>c),O}};return v1(Ut,{children:[v1(Q1,{children:[y(p1,{className:a,label:y(m1,{id:"blocks.menu.file.newProject",defaultMessage:"New"}),hotkey:[L1?o1.COMMAND:o1.CONTROL,o1.N],onClick:()=>{if(N)n({title:y(m1,{id:"gui.projects.notSaved",defaultMessage:"Not saved"}),label:y(m1,{id:"gui.projects.replaceProject",defaultMessage:"Replace contents of the current project?"}),onSubmit:i});else i()}}),y(p1,{className:a,label:y(m1,{id:"blocks.menu.file.openProject",defaultMessage:"Open"}),hotkey:[L1?o1.COMMAND:o1.CONTROL,o1.O],onClick:()=>s(!0)}),y(p1,{className:a,label:y(m1,{id:"blocks.menu.file.saveProject",defaultMessage:"Save"}),hotkey:[L1?o1.COMMAND:o1.CONTROL,o1.S],onClick:async()=>p(await S())})]}),v1(Q1,{children:[y(p1,{className:a,label:y(m1,{id:"blocks.menu.file.uploadProject",defaultMessage:"Load from your computer"}),onClick:()=>F(u)}),y(p1,{className:a,label:y(m1,{id:"blocks.menu.file.downloadProject",defaultMessage:"save to your computer"}),onClick:async()=>C(await S())})]}),T]})}import{useEffect as Xt,useState as $1} from"preact/hooks";import{Keys as _1} from"@blockcode/core";import{Text as x1,MenuSection as Kt,MenuItem as q1} from"@blockcode/ui";import{ScratchBlocks as ht} from"@blockcode/blocks-editor";import{jsx as S1,jsxs as y1,Fragment as Yt} from"preact/jsx-runtime";var k1=/Mac/i.test(navigator.platform||navigator.userAgent);function V1({itemClassName:a,children:i}){const[u,o]=$1(!0),[T,n]=$1(!0),[s,N]=$1(null),p=ht.getMainWorkspace();if(p){if(s?.id!==p.id)N(p)}return Xt(()=>{if(s)s.addChangeListener(()=>{o(s.undoStack_.length===0),n(s.redoStack_.length===0)}),o(s.undoStack_.length===0),n(s.redoStack_.length===0)},[s]),y1(Yt,{children:[y1(Kt,{children:[S1(q1,{disabled:u,className:a,label:S1(x1,{id:"blocks.menu.edit.undo",defaultMessage:"Undo"}),hotkey:[k1?_1.COMMAND:_1.CONTROL,_1.Z],onClick:async(C)=>{if(C instanceof MouseEvent&&s)s.undo(!1)}}),S1(q1,{disabled:T,className:a,label:S1(x1,{id:"blocks.menu.edit.redo",defaultMessage:"Redo"}),hotkey:k1?[_1.SHIFT,_1.COMMAND,_1.Z]:[_1.CONTROL,_1.Y],onClick:async(C)=>{if(C instanceof MouseEvent&&s)s.undo(!0)}})]}),i]})}import{useLocale as Ht,useLayout as Zt,useEditor as Bt} from"@blockcode/core";import{Text as l1,Spinner as zt,MenuSection as Jt,MenuItem as Qt} from"@blockcode/ui";import{connectDevice as jt,disconnectDevice as _a,checkFlash as xt,writeFiles as qt,configDevice as kt,showDownloadScreen as yt} from"@blockcode/device-pyboard";var G1=[{usbVendorId:12346},{usbVendorId:11914}];import{jsx as E1,jsxs as t0,Fragment as Gt} from"preact/jsx-runtime";var d1=null;function W1({itemClassName:a,deviceName:i,deviceFilters:u,downloadScreen:o,onDownload:T,children:n}){const{maybeLocaleText:s}=Ht(),{createAlert:N,removeAlert:p,createPrompt:C}=Zt(),{key:F,name:S,fileList:f,assetList:g,device:b,setDevice:R}=Bt(),O=(c)=>{if(!d1)d1=`download.${Date.now()}`;if(c<100)N({id:d1,icon:E1(zt,{level:"success"}),message:E1(l1,{id:"blocks.alert.downloading",defaultMessage:"Downloading...{progress}%",progress:c})});else N({id:d1,icon:null,message:E1(l1,{id:"blocks.alert.downloadCompleted",defaultMessage:"Download completed."})}),setTimeout(L,1000)},L=()=>{p(d1),d1=null},G=()=>{N({message:E1(l1,{id:"blocks.alert.connectionError",defaultMessage:"Connection error."})},1000)};if(d1&&!b)G(),L();return t0(Gt,{children:[E1(Jt,{children:E1(Qt,{disabled:d1,className:a,label:E1(l1,{id:"blocks.menu.device.download",defaultMessage:"Download program"}),onClick:async()=>{if(d1)return;try{const c=b||await jt(u||G1,R);if(o)await yt(c,o);let h=T?T(S,f,g):[].concat(g);if(h=h.map((T1)=>({...T1,id:T1.id[0]!=="_"?`proj${F}/${T1.id}`:T1.id})),O(0),await xt(c,h))await qt(c,h,O),await kt(c,{"latest-project":F});else C({title:i||E1(l1,{id:"blocks.menu.device.name",defaultMessage:"device"}),label:E1(l1,{id:"blocks.alert.flashOutSpace",defaultMessage:"The flash is running out of space."})}),L();c.hardReset()}catch(c){console.log(c),G(),L()}}})}),n]})}var tt="./assets/icon-file-1def53419f4ad0ae.svg";var at="./assets/icon-edit-2b1e47b495524ed2.svg";var it="./assets/icon-device-c2fafab2eaccf043.svg";import{jsx as R1} from"preact/jsx-runtime";function X1({deviceName:a,deviceFilters:i,createProject:u,openProject:o,saveProject:T,downloadProjectToDevice:n,showDownloadScreen:s}){return[{icon:tt,label:R1(U1,{id:"blocks.menu.file",defaultMessage:"File"}),Menu:({itemClassName:N,children:p})=>R1(P1,{itemClassName:N,onNew:u,onOpen:o,onSave:T,children:p})},{icon:at,label:R1(U1,{id:"blocks.menu.edit",defaultMessage:"Edit"}),Menu:({itemClassName:N,children:p})=>R1(V1,{itemClassName:N,children:p})},{icon:it,label:R1(U1,{id:"blocks.menu.device",defaultMessage:"Device"}),Menu:({itemClassName:N,children:p})=>R1(W1,{deviceName:a,itemClassName:N,deviceFilters:i,downloadScreen:s,onDownload:n,children:p})}]}var ut=`code_${Date.now().toString(36)}`,o0=`
from popsicle.blocks import *
import ${ut}
run()
`,ot={assetList:[{id:"main",type:"text/x-python",content:o0}],fileList:[{id:ut,type:"text/x-python"}]};import{ScratchBlocks as Z} from"@blockcode/blocks-editor";var t=new Z.Generator("Python");t.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");t.ORDER_ATOMIC=0;t.ORDER_COLLECTION=1;t.ORDER_STRING_CONVERSION=1;t.ORDER_MEMBER=2.1;t.ORDER_FUNCTION_CALL=2.2;t.ORDER_EXPONENTIATION=3;t.ORDER_UNARY_SIGN=4;t.ORDER_BITWISE_NOT=4;t.ORDER_MULTIPLICATIVE=5;t.ORDER_ADDITIVE=6;t.ORDER_BITWISE_SHIFT=7;t.ORDER_BITWISE_AND=8;t.ORDER_BITWISE_XOR=9;t.ORDER_BITWISE_OR=10;t.ORDER_RELATIONAL=11;t.ORDER_LOGICAL_NOT=12;t.ORDER_LOGICAL_AND=13;t.ORDER_LOGICAL_OR=14;t.ORDER_CONDITIONAL=15;t.ORDER_LAMBDA=16;t.ORDER_NONE=99;t.ORDER_OVERRIDES=[[t.ORDER_FUNCTION_CALL,t.ORDER_MEMBER],[t.ORDER_FUNCTION_CALL,t.ORDER_FUNCTION_CALL],[t.ORDER_MEMBER,t.ORDER_MEMBER],[t.ORDER_MEMBER,t.ORDER_FUNCTION_CALL],[t.ORDER_LOGICAL_NOT,t.ORDER_LOGICAL_NOT],[t.ORDER_LOGICAL_AND,t.ORDER_LOGICAL_AND],[t.ORDER_LOGICAL_OR,t.ORDER_LOGICAL_OR]];t.init=(a)=>{if(t.PASS=t.INDENT+"pass\n",t.definitions_=Object.create(null),t.functionNames_=Object.create(null),!t.variableDB_)t.variableDB_=new Z.Names(t.RESERVED_WORDS_);else t.variableDB_.reset();t.variableDB_.setVariableMap(a.getVariableMap());const i=[],u=a.getAllVariables();for(let T=0;T<u.length;T++){if(u[T].type===Z.BROADCAST_MESSAGE_VARIABLE_TYPE)continue;let n=t.variableDB_.getName(u[T].getId(),Z.Variables.NAME_TYPE),s="";if(u[T].type===Z.LIST_VARIABLE_TYPE)n=`${n}_${Z.LIST_VARIABLE_TYPE}`,s="[]";i.push(`${n} = ${s}`)}const o=Z.Variables.allDeveloperVariables(a);for(let T=0;T<o.length;T++){let n=t.variableDB_.getName(o[T],Z.Names.DEVELOPER_VARIABLE_TYPE),s="";if(u[T].type===Z.LIST_VARIABLE_TYPE)n=`${n}_${Z.LIST_VARIABLE_TYPE}`,s="[]";i.push(`${n} = ${s}`)}if(i.length)t.definitions_.variables=i.join("\n");t.definitions_.import_blocks="from blocks import *"};t.finish=(a)=>{const i=[],u=[];for(let T in t.definitions_){const n=t.definitions_[T];if(n.match(/^(from\s+\S+\s+)?import\s+\S+/))i.push(n);else u.push(n)}return delete t.definitions_,delete t.functionNames_,t.variableDB_.reset(),(i.join("\n")+"\n\n"+u.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+a};t.scrubNakedValue=(a)=>{return a+"\n"};t.quote_=(a)=>{let i='"';if(a.indexOf('"')!==-1)if(a.indexOf("'")===-1)i="'";else a=a.replace(/"/g,'\\"');return i+a+i};t.scrub_=(a,i)=>{let u="";if(!a.outputConnection?.targetConnection){let o=a.getCommentText();if(o=Z.utils.wrap(o,t.COMMENT_WRAP-3),o)if(a.getProcedureDef)u+='"""'+o+'\n"""\n';else u+=t.prefixLines(o+"\n","# ");for(let T=0;T<a.inputList.length;T++)if(a.inputList[T].type==Z.INPUT_VALUE){const n=a.inputList[T].connection.targetBlock();if(n){const s=t.allNestedComments(n);if(s)u+=t.prefixLines(s,"# ")}}}if(a.startHat_){const o=a.nextConnection&&a.nextConnection.targetBlock();let T=t.blockToCode(o);if(T)T=t.prefixLines(T,t.INDENT),i=i.replace(`\n${t.PASS}`,`\n${T}`);return u+i}if(a.parentBlock_){const o=a.nextConnection&&a.nextConnection.targetBlock(),T=t.blockToCode(o);return u+i+T}};t.getAdjustedInt=(a,i,u,o)=>{let T=u||0;if(a.workspace.options.oneBasedIndex)T--;const n=a.workspace.options.oneBasedIndex?"1":"0",s=T?t.ORDER_ADDITIVE:t.ORDER_NONE;let N=t.valueToCode(a,i,s)||n;if(Z.isNumber(N)){if(N=parseInt(N,10)+T,o)N=-N}else{if(T>0)N="int("+N+" + "+T+")";else if(T<0)N="int("+N+" - "+-T+")";else N="int("+N+")";if(o)N="-"+N}return N};t.eventToCode_=(a,i)=>{return`async def ${a}(${i.join(",")}):\n  this_func = ${a}\n${t.PASS}\n`};t.hatToCode=(a,...i)=>{if(a=`hat_${a}`,!t.functionNames_[a])t.functionNames_[a]=0;t.functionNames_[a]+=1;const u=`${a}_${t.functionNames_[a]}`;return t.HAT_FUNCTION_PLACEHOLDER=u,t.eventToCode_(u,i)};var d0=(a)=>{const i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(i,(o,T,n,s)=>T+T+n+n+s+s);const u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return u?{r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}:null};t.colour_picker=(a)=>{const{r:i,g:u,b:o}=d0(a.getFieldValue("COLOUR"));return[`(${i}, ${u}, ${o})`,t.ORDER_ATOMIC]};var A1="  await runtime.next_frame()\n";t.control_wait=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.valueToCode(a,"DURATION",t.ORDER_NONE)||0;return i+=`await runtime.wait_for(num(${u}))\n`,i};t.control_repeat=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);let u=t.statementToCode(a,"SUBSTACK")||t.PASS;if(t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;const o=t.valueToCode(a,"TIMES",t.ORDER_NONE)||10;return i+=`for _ in range(num(${o})):\n${u}${A1}`,i};t.control_forever=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);let u=t.statementToCode(a,"SUBSTACK")||t.PASS;if(t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;return i+=`while True:\n${u}${A1}`,i};t.control_if=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);let u=t.statementToCode(a,"SUBSTACK")||t.PASS;if(t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;const o=t.valueToCode(a,"CONDITION",t.ORDER_NONE)||"False";if(i+=`if ${o}:\n${u}`,a.getInput("SUBSTACK2")){if(u=t.statementToCode(a,"SUBSTACK2")||t.PASS,t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;i+=`else:\n${u}`}return i};t.control_if_else=t.control_if;t.control_wait_until=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.valueToCode(a,"CONDITION",t.ORDER_NONE)||"False";return i+=`while not ${u}:\n${A1}`,i};t.control_repeat_until=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);let u=t.statementToCode(a,"SUBSTACK")||t.PASS;if(t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;const o=t.valueToCode(a,"CONDITION",t.ORDER_NONE)||"False";return i+=`while not ${o}:\n${u}${A1}`,i};t.control_while=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);let u=t.statementToCode(a,"SUBSTACK")||t.PASS;if(t.STATEMENT_SUFFIX)u=t.prefixLines(t.injectId(t.STATEMENT_SUFFIX,a),t.INDENT)+u;const o=t.valueToCode(a,"CONDITION",t.ORDER_NONE)||"False";return i+=`while ${o}:\n${u}${A1}`,i};t.control_stop=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);switch(a.getFieldValue("STOP_OPTION")){case"all":i+="runtime.stop()\n";break;case"this script":i+="return\n";break;case"other scripts in sprite":i+="runtime.stop_tasks(this_func)\n";break}return i};import{ScratchBlocks as D} from"@blockcode/blocks-editor";t.data_variable=(a)=>{return[t.variableDB_.getName(a.getFieldValue("VARIABLE"),D.Variables.NAME_TYPE),t.ORDER_ATOMIC]};t.data_setvariableto=(a)=>{let i="";if(javascriptGenerator.STATEMENT_PREFIX)i+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("VARIABLE"),D.Variables.NAME_TYPE),o=t.valueToCode(a,"VALUE",t.ORDER_NONE)||'""';return i+=`${u} = ${o}\n`,i};t.data_changevariableby=(a)=>{let i="";if(javascriptGenerator.STATEMENT_PREFIX)i+=javascriptGenerator.injectId(javascriptGenerator.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("VARIABLE"),D.Variables.NAME_TYPE),o=t.valueToCode(a,"VALUE",t.ORDER_NONE)||0;return i+=`${u} = num(${u}) + num(${o})\n`,i};t.data_listcontents=(a)=>{return[t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,t.ORDER_ATOMIC]};t.data_addtolist=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,o=t.valueToCode(a,"ITEM",t.ORDER_NONE)||'""';return i+=`${u}.append(${o})\n`,i};t.data_deleteoflist=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,o=t.valueToCode(a,"INDEX",t.ORDER_NONE)||1;return i+=`${u}.remove(runtime.index(${o}, len(${u})))\n`,i};t.data_deletealloflist=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE;return i+=`${u} = []\n`,i};t.data_insertatlist=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,o=t.valueToCode(a,"INDEX",t.ORDER_NONE)||1,T=t.valueToCode(a,"ITEM",t.ORDER_NONE)||'""';return i+=`${u}.insert(runtime.index(${o}, len(${u})), ${T})\n`,i};t.data_replaceitemoflist=(a)=>{let i="";if(t.STATEMENT_PREFIX)i+=t.injectId(t.STATEMENT_PREFIX,a);const u=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,o=t.valueToCode(a,"INDEX",t.ORDER_NONE)||1,T=t.valueToCode(a,"ITEM",t.ORDER_NONE)||'""';return i+=`${u}[runtime.index(${o}, len(${u}))] = ${T}\n`,i};t.data_itemoflist=(a)=>{const i=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,u=t.valueToCode(a,"INDEX",t.ORDER_NONE)||1;return[`${i}[runtime.index(${u}, len(${i}))]`,t.ORDER_CONDITIONAL]};t.data_itemnumoflist=(a)=>{const i=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,u=t.valueToCode(a,"ITEM",t.ORDER_NONE)||0;return[`(${i}.index(${u}) + 1)`,t.ORDER_NONE]};t.data_lengthoflist=(a)=>{return[`len(${t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE})`,t.ORDER_FUNCTION_CALL]};t.data_listcontainsitem=(a)=>{const i=t.variableDB_.getName(a.getFieldValue("LIST"),D.Variables.NAME_TYPE)+"_"+D.LIST_VARIABLE_TYPE,u=t.valueToCode(a,"ITEM",t.ORDER_NONE)||0;return[`bool(${i}.count(${u}))`,t.ORDER_FUNCTION_CALL]};import{ScratchBlocks as dt} from"@blockcode/blocks-editor";t.event_whenflagclicked=()=>{return`${t.hatToCode("start")}runtime.when_start(${t.HAT_FUNCTION_PLACEHOLDER})\n`};t.event_whengreaterthan=(a)=>{const i=a.getFieldValue("WHENGREATERTHANMENU"),u=t.valueToCode(a,"VALUE",t.ORDER_NONE)||0;return`${t.hatToCode("greaterthen")}runtime.when_greaterthen("${i}", num(${u}), ${t.HAT_FUNCTION_PLACEHOLDER})\n`};t.event_whenbroadcastreceived=(a)=>{const i=t.variableDB_.getName(a.getFieldValue("BROADCAST_OPTION"),dt.Variables.NAME_TYPE);return`${t.hatToCode("broadcastreceived")}runtime.when_broadcastreceived("${i}", ${t.HAT_FUNCTION_PLACEHOLDER})\n`};t.event_broadcast_menu=(a)=>{return[t.variableDB_.getName(a.getFieldValue("BROADCAST_OPTION"),dt.Variables.NAME_TYPE),t.ORDER_ATOMIC]};t.event_broadcast=(a)=>{return`runtime.broadcast("${t.valueToCode(a,"BROADCAST_INPUT",t.ORDER_NONE)||'"message1"'}")\n`};t.event_broadcastandwait=(a)=>{return`await runtime.broadcast("${t.valueToCode(a,"BROADCAST_INPUT",t.ORDER_NONE)||'"message1"'}", waiting=True)\n`};t.addReservedWords("math,random,Number");t.math_number=(a)=>{let i=parseFloat(a.getFieldValue("NUM")),u;if(i===1/0)i='float("inf")',u=t.ORDER_FUNCTION_CALL;else if(i===-1/0)i='-float("inf")',u=t.ORDER_UNARY_SIGN;else if(Number.isNaN(i))i='float("nan")',u=t.ORDER_UNARY_SIGN;else u=i<0?t.ORDER_UNARY_SIGN:t.ORDER_ATOMIC;return[i,u]};t.math_integer=(a)=>{const i=parseInt(a.getFieldValue("NUM")),u=i<0?t.ORDER_UNARY_SIGN:t.ORDER_ATOMIC;return[i,u]};t.math_whole_number=(a)=>{return[Math.abs(parseInt(a.getFieldValue("NUM"))),t.ORDER_ATOMIC]};t.math_positive_number=(a)=>{let i=parseFloat(a.getFieldValue("NUM")),u;if(i===1/0)i='float("inf")',u=t.ORDER_FUNCTION_CALL;else if(i===-1/0)i='-float("inf")',u=t.ORDER_FUNCTION_CALL;else if(Number.isNaN(i))i='float("nan")',u=t.ORDER_FUNCTION_CALL;else i=i<0?0:i,u=t.ORDER_ATOMIC;return[i,u]};t.math_angle=(a)=>{let i=parseFloat(a.getFieldValue("NUM")),u;if(i==1/0)i='float("inf")',u=t.ORDER_FUNCTION_CALL;else if(i==-1/0)i='-float("inf")',u=t.ORDER_UNARY_SIGN;else i=i%360,i=i<0?i+360:i,u=t.ORDER_ATOMIC;return[i,u]};t.operator_add=(a)=>{const i=t.valueToCode(a,"NUM1",t.ORDER_NONE)||0,u=t.valueToCode(a,"NUM2",t.ORDER_NONE)||0;return[`(num(${i}) + num(${u}))`,t.ORDER_SUBTRACTION]};t.operator_subtract=(a)=>{const i=t.valueToCode(a,"NUM1",t.ORDER_NONE)||0,u=t.valueToCode(a,"NUM2",t.ORDER_NONE)||0;return[`(num(${i}) - num(${u}))`,t.ORDER_SUBTRACTION]};t.operator_multiply=(a)=>{const i=t.valueToCode(a,"NUM1",t.ORDER_NONE)||0,u=t.valueToCode(a,"NUM2",t.ORDER_NONE)||0;return[`(num(${i}) * num(${u}))`,t.ORDER_SUBTRACTION]};t.operator_divide=(a)=>{const i=t.valueToCode(a,"NUM1",t.ORDER_NONE)||0,u=t.valueToCode(a,"NUM2",t.ORDER_NONE)||0;return[`(num(${i}) / num(${u}))`,t.ORDER_SUBTRACTION]};t.operator_random=(a)=>{const i=t.valueToCode(a,"FROM",t.ORDER_NONE)||0,u=t.valueToCode(a,"TO",t.ORDER_NONE)||0;return[`runtime.random(${i}, ${u})`,t.ORDER_FUNCTION_CALL]};t.operator_gt=(a)=>{const i=t.valueToCode(a,"OPERAND1",t.ORDER_NONE)||0,u=t.valueToCode(a,"OPERAND2",t.ORDER_NONE)||0;return[`(num(${i}) > num(${u}))`,t.ORDER_RELATIONAL]};t.operator_lt=(a)=>{const i=t.valueToCode(a,"OPERAND1",t.ORDER_NONE)||0,u=t.valueToCode(a,"OPERAND2",t.ORDER_NONE)||0;return[`(num(${i}) < num(${u}))`,t.ORDER_RELATIONAL]};t.operator_equals=(a)=>{const i=t.valueToCode(a,"OPERAND1",t.ORDER_NONE)||0,u=t.valueToCode(a,"OPERAND2",t.ORDER_NONE)||0;return[`equals(${i}, ${u})`,t.ORDER_FUNCTION_CALL]};t.operator_and=(a)=>{const i=t.valueToCode(a,"OPERAND1",t.ORDER_NONE)||"False",u=t.valueToCode(a,"OPERAND2",t.ORDER_NONE)||"False";return[`(${i} and ${u})`,t.ORDER_LOGICAL_AND]};t.operator_or=(a)=>{const i=t.valueToCode(a,"OPERAND1",t.ORDER_NONE)||"False",u=t.valueToCode(a,"OPERAND2",t.ORDER_NONE)||"False";return[`(${i} or ${u})`,t.ORDER_LOGICAL_OR]};t.operator_not=(a)=>{return[`(not ${t.valueToCode(a,"OPERAND",t.ORDER_NONE)||"False"})`,t.ORDER_LOGICAL_NOT]};t.operator_join=(a)=>{const i=t.valueToCode(a,"STRING1",t.ORDER_NONE)||'""',u=t.valueToCode(a,"STRING2",t.ORDER_NONE)||'""';return[`(str(${i}) + str(${u}))`,t.ORDER_ATOMIC]};t.operator_letter_of=(a)=>{const i=t.valueToCode(a,"LETTER",t.ORDER_NONE)||0;return[`(str(${t.valueToCode(a,"STRING",t.ORDER_NONE)||'""'})[num(${i}) - 1] || "")`,t.ORDER_MEMBER]};t.operator_length=(a)=>{return[`len(str(${t.valueToCode(a,"STRING",t.ORDER_NONE)||'""'}))`,t.ORDER_FUNCTION_CALL]};t.operator_contains=(a)=>{const i=t.valueToCode(a,"STRING1",t.ORDER_NONE)||'""',u=t.valueToCode(a,"STRING2",t.ORDER_NONE)||'""';return[`(str(${i}).count(str(${u})) > 0)`,t.ORDER_FUNCTION_CALL]};t.operator_mod=(a)=>{const i=t.valueToCode(a,"NUM1",t.ORDER_NONE)||0,u=t.valueToCode(a,"NUM2",t.ORDER_NONE)||0;return[`(num(${i}) % num(${u}))`,t.ORDER_MODULUS]};t.operator_round=(a)=>{return t.definitions_.import_math="import math",[`math.round(num(${t.valueToCode(a,"NUM",t.ORDER_NONE)||0}))`,t.ORDER_FUNCTION_CALL]};t.operator_mathop=(a)=>{t.definitions_.import_math="import math";const i=t.valueToCode(a,"NUM",t.ORDER_NONE)||0,u=a.getFieldValue("OPERATOR");let o="";if(u==="ceiling")o+=`math.ceil(num(${i}))`;else if(u==="sin"||u==="cos"||u==="tan")o+=`math.${u}(math.radians(num(${i})))`;else if(u==="asin"||u==="acos"||u==="atan")o+=`math.degrees(math.${u}(num(${i})))`;else if(u==="ln")o+=`(math.log(num(${i}))`;else if(u==="log")o+=`(math.log10(num(${i}))`;else if(u==="e ^")o+=`math.exp(num(${i}))`;else if(u==="10 ^")o+=`math.pow(10, num(${i}))`;else o+=`math.${u}(num(${i}))`;return[o,t.ORDER_FUNCTION_CALL]};import{ScratchBlocks as g1} from"@blockcode/blocks-editor";t.procedures_definition=(a)=>{const i=a.childBlocks_[0],u=t.variableDB_.getName(i.getProcCode(),g1.Procedures.NAME_TYPE),o=i.childBlocks_.map((T)=>t.variableDB_.getName(T.getFieldValue("VALUE"),g1.Variables.NAME_TYPE));return o.push("target"),t.eventToCode_(u,o)};t.procedures_call=(a)=>{const i=t.variableDB_.getName(a.getProcCode(),g1.Procedures.NAME_TYPE),u=a.argumentIds_.map((o)=>t.valueToCode(a,o,t.ORDER_NONE));return u.push("target"),`await ${i}(${u.join(",")})\n`};t.argument_reporter_boolean=(a)=>{return[t.variableDB_.getName(a.getFieldValue("VALUE"),g1.Variables.NAME_TYPE),t.ORDER_ATOMIC]};t.argument_reporter_string_number=(a)=>{return[t.variableDB_.getName(a.getFieldValue("VALUE"),g1.Variables.NAME_TYPE),t.ORDER_ATOMIC]};t.sensing_timer=()=>{return["runtime.time",t.ORDER_MEMBER]};t.sensing_resettimer=()=>{return"runtime.reset_timer()\n"};t.text=(a)=>{const i=a.getFieldValue("TEXT");return[i.length===0||isNaN(i)?t.quote_(i):+i,t.ORDER_ATOMIC]};import{useEffect as P0,useState as f1} from"preact/hooks";import{useLocale as $0,useLayout as V0,useEditor as At} from"@blockcode/core";import{classNames as W0} from"@blockcode/ui";import{BlocksEditor as U0,ScratchBlocks as X,makeToolboxXML as X0} from"@blockcode/blocks-editor";import{ScratchBlocks as Et,blockSeparator as E0} from"@blockcode/blocks-editor";var T0=1,_0=2,N0=3,Tt="#0FBD8C",_t="#0DA57A",s0="#0B8E69",N1=(a)=>{if(typeof a!=="string")if(Array.isArray(a))a=String(a);else return a;return a.replace(/[<>&'"]/g,(i)=>{switch(i){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})},Nt={number:"math_number",angle:"math_angle",text:"text",string:"text",color:"colour_picker",matrix:"matrix",note:"note"},st={number:"NUM",angle:"NUM",text:"TEXT",string:"TEXT",matrix:"MATRIX",note:"NOTE"};function K1(a,i,u,o){const{id:T}=a,n=u(a.name);let s=`<category name="${N1(n)}" id="${N1(T)}"`;if(s+=` colour="${N1(a.themeColor||Tt)}"`,s+=` secondaryColour="${N1(a.inputColor||_t)}"`,a.connectionConfig)s+=' showStatusButton="true"';if(a.iconURI)s+=` iconURI="${N1(a.iconURI)}"`;return s+=">",a.blocks.forEach((N)=>{if(N==="---"){s+=`${E0}`;return}if(N.button){s+=`<button text="${u(N.text)}" callbackKey="${N.button}"></button>`;const f=Et.getMainWorkspace();if(f){const g=f.getFlyout();if(g){const b=g.getWorkspace();if(b)b.registerButtonCallback(N.button,o(N.onClick))}}return}if(i&&N.useStage===!1)return;if(!i&&N.useSprite===!1)return;const p=`${T}_${N.id.toLowerCase()}`,C={message0:u(N.text),category:T,outputShape:N0,colour:a.themeColor||Tt,colourSecondary:a.inputColor||_t,colourTertiary:a.otherColor||s0};let F=1;if(a.iconURI)C.message0=`%1 %2 ${C.message0}`,C.args0=[{type:"field_image",src:a.iconURI,width:40,height:40},{type:"field_vertical_separator"}],C.extensions=["scratch_extension"],F+=2;if(N.hat)C.nextStatement=null;else if(N.output){if(N.output==="boolean")C.output="Boolean",C.outputShape=T0;else C.output="String",C.outputShape=_0;C.checkboxInFlyout=N.monitoring!==!1}else C.previousStatement=null,C.nextStatement=null;let S=`<block type="${N1(p)}">`;if(N.inputs)C.checkboxInFlyout=!1,C.args0=[].concat(C.args0||[],Object.entries(N.inputs).map(([f,g])=>{const b={name:f,type:"input_value"};if(g.menu)b.type="field_dropdown",b.options=g.menu.map(([R,O])=>[u(R),O]);else if(g.type==="boolean")b.check="Boolean";else{if(S+=`<value name="${N1(f)}">`,Nt[g.type]){if(S+=`<shadow type="${Nt[g.type]}">`,g.default&&st[g.type])S+=`<field name="${st[g.type]}">${N1(u(g.default))}</field>`;S+="</shadow>"}S+="</value>"}return C.message0=C.message0.replace(`[${f}]`,`%${F++}`),b}));if(Et.Blocks[p]={init(){this.jsonInit(C)}},N.python)t[p]=N.python.bind(t);else t[p]=()=>"";S+="</block>",s+=S}),s+="</category>",s}import{useRef as m0,useEffect as n0,useState as mt} from"preact/hooks";import{classNames as C0,Text as O1,Button as nt,Modal as r0,BufferedInput as l0} from"@blockcode/ui";function n1(a){const i=globalThis.document,u=i.createElement("style");u.appendChild(i.createTextNode(a)),i.head.append(u)}n1("._5SVWFW_prompt-modal{width:360px}._5SVWFW_prompt-content{background:var(--ui-white);padding:1.5rem 2.25rem}._5SVWFW_prompt-content input[type=checkbox],._5SVWFW_prompt-content input[type=radio]{margin:3px}._5SVWFW_label{margin:0 0 .75rem;font-weight:500}._5SVWFW_variable-name-text-input{border:1px solid var(--ui-black-transparent);color:var(--text-primary-transparent);border-radius:5px;width:100%;height:3rem;margin-bottom:1.5rem;padding:0 1rem;font-size:.875rem}._5SVWFW_info-message{text-align:center;margin-bottom:1.5rem;font-size:.875rem;font-weight:400}._5SVWFW_options{justify-content:space-between;margin-bottom:1.5rem;font-weight:400;display:flex}._5SVWFW_button-row{text-align:right;font-weight:bolder}._5SVWFW_button{padding:.75rem 1rem;font-size:.85rem;font-weight:600}._5SVWFW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:var(--ui-white);margin-left:var(--space)}");var a1={promptContent:"_5SVWFW_prompt-content",okButton:"_5SVWFW_ok-button",label:"_5SVWFW_label",button:"_5SVWFW_button",buttonRow:"_5SVWFW_button-row",options:"_5SVWFW_options",infoMessage:"_5SVWFW_info-message",variableNameTextInput:"_5SVWFW_variable-name-text-input",promptModal:"_5SVWFW_prompt-modal"};import{jsx as K,jsxs as M1} from"preact/jsx-runtime";function h1({title:a,label:i,defaultValue:u,enableLocalVariable:o,showListMessage:T,showVariableOptions:n,showCloudOption:s,onClose:N,onSubmit:p}){const C=m0(null),[F,S]=mt(u),[f,g]=mt({scope:"global",isCloud:!1}),b=()=>{p(F,f)},R=(O)=>{if(O.key==="Escape")N();if(O.key==="Enter")p(C.current.base.value,f)};return n0(()=>{if(C.current)C.current.base.focus(),window.addEventListener("keydown",R);return()=>{window.removeEventListener("keydown",R)}},[C]),K(r0,{title:a,className:a1.promptModal,onClose:N,children:M1("div",{className:a1.promptContent,children:[K("div",{className:a1.label,children:i}),K(l0,{autoFocus:!0,forceFocus:!0,ref:C,className:a1.variableNameTextInput,defaultValue:F,onSubmit:S}),n&&K("div",{children:o?M1("div",{className:a1.options,children:[M1("label",{children:[K("input",{checked:f.scope==="global",name:"variableScopeOption",type:"radio",value:"global",onChange:()=>g({...f,scope:"global"})}),K(O1,{id:"blocks.dataPrompt.forAllTargets",defaultMessage:"For all targets"})]}),M1("label",{children:[K("input",{checked:f.scope==="local",name:"variableScopeOption",type:"radio",value:"local",onChange:()=>g({...f,scope:"local"})}),K(O1,{id:"blocks.dataPrompt.forThisTarget",defaultMessage:"For this target only"})]})]}):K("div",{className:a1.infoMessage,children:T?K(O1,{id:"blocks.dataPrompt.listAvailableToAllTargets",defaultMessage:"This list will be available to all targets."}):K(O1,{id:"blocks.dataPrompt.availableToAllTargets",defaultMessage:"This variable will be available to all targets."})})}),M1("div",{className:a1.buttonRow,children:[K(nt,{className:a1.button,onClick:N,children:K(O1,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),K(nt,{className:C0(a1.button,a1.okButton),onClick:b,children:K(O1,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})})}import{useRef as p0,useEffect as A0,useState as g0} from"preact/hooks";import{classNames as M0,Text as s1,Button as Rt,Modal as f0} from"@blockcode/ui";import{ScratchBlocks as b1} from"@blockcode/blocks-editor";n1(".ObKnhW_prompt-modal{width:700px;margin:50px auto}.ObKnhW_body{background:var(--ui-white);padding:1.5rem 2.25rem}.ObKnhW_body input[type=checkbox],.ObKnhW_body input[type=radio]{margin:3px}.ObKnhW_workspace{min-height:200px;position:relative}.ObKnhW_workspace .injectionDiv{position:absolute;inset:0}.ObKnhW_workspace .blocklySvg{background-color:var(--ui-primary)}.ObKnhW_options-row{justify-content:space-between;display:flex}.ObKnhW_option-card{border:2px solid var(--ui-black-transparent);border-radius:var(--space);padding:calc(var(--space)*2);text-align:center;cursor:pointer;background:#fff;flex-grow:1;flex-basis:100px;transition:all .2s}.ObKnhW_option-card:hover{border:2px solid var(--motion-primary);box-shadow:0px 0px 0px 4px var(--motion-transparent)}.ObKnhW_option-card+.ObKnhW_option-card{margin-left:1rem}.ObKnhW_option-icon{max-height:48px;margin-bottom:.5rem}.ObKnhW_option-title{font-weight:700}.ObKnhW_radiobox-row{justify-content:space-between;margin:1rem 6rem 1.5rem;font-weight:400;display:flex}.ObKnhW_button-row{text-align:right;margin-top:1rem;font-weight:bolder}.ObKnhW_button-row button{border:1px solid var(--ui-black-transparent);background:#fff;border-radius:.25rem;padding:.75rem 1rem;font-size:.85rem;font-weight:700}.ObKnhW_button-row button.ObKnhW_ok-button{background:var(--motion-primary);border:var(--motion-primary);color:#fff}.ObKnhW_button-row button+button{margin-left:.5rem}");var P={buttonRow:"ObKnhW_button-row",body:"ObKnhW_body",optionTitle:"ObKnhW_option-title",radioboxRow:"ObKnhW_radiobox-row",optionCard:"ObKnhW_option-card",optionsRow:"ObKnhW_options-row",promptModal:"ObKnhW_prompt-modal",workspace:"ObKnhW_workspace",optionIcon:"ObKnhW_option-icon",okButton:"ObKnhW_ok-button"};var Ct="./assets/icon-boolean-input-1691bdb48544a0bb.svg";var rt="./assets/icon-text-input-71606840e8e95423.svg";var lt="./assets/icon-label-6cb5b390e22d402a.svg";import{jsx as V,jsxs as C1} from"preact/jsx-runtime";var S0={zoom:{controls:!1,wheel:!1,startScale:0.9},comments:!1,collapse:!1,scrollbars:!0};function Y1({mutator:a,onClose:i,onSubmit:u}){const o=p0(null),[T,n]=g0("command"),s=()=>{},N=()=>{if(o.mutationRoot)o.mutationRoot.addLabelExternal()},p=()=>{if(o.mutationRoot)o.mutationRoot.addBooleanExternal()},C=()=>{if(o.mutationRoot)o.mutationRoot.addStringNumberExternal()},F=()=>{u(o.mutationRoot?.mutationToDom(!0))};return A0(()=>{if(o.current){const S=b1.Blocks.defaultToolbox;b1.Blocks.defaultToolbox=null,o.workspace=b1.inject(o.current,Object.assign({},S0,{media:"./assets/blocks-media/"})),b1.Blocks.defaultToolbox=S,o.mutationRoot=o.workspace.newBlock("procedures_declaration"),o.mutationRoot.setMovable(!1),o.mutationRoot.setDeletable(!1),o.mutationRoot.contextMenu=!1,o.workspace.addChangeListener(()=>{o.mutationRoot.onChangeFn();const f=o.workspace.getMetrics(),{x:g,y:b}=o.mutationRoot.getRelativeToSurfaceXY(),R=f.viewHeight/2-o.mutationRoot.height/2-b;let O=f.viewWidth/2-o.mutationRoot.width/2-g;if(o.mutationRoot.width>f.viewWidth)O=f.viewWidth-o.mutationRoot.width-g;o.mutationRoot.moveBy(O,R)}),o.mutationRoot.domToMutation(a),o.mutationRoot.initSvg(),o.mutationRoot.render(),setTimeout(()=>{o.mutationRoot.focusLastEditor_()})}return()=>{if(o.workspace)o.workspace.dispose()}},[o]),C1(f0,{title:V(s1,{id:"blocks.myBlockPrompt.title",defaultMessage:"Make a Block"}),className:P.promptModal,onClose:i,children:[V("div",{ref:o,className:P.workspace}),C1("div",{className:P.body,children:[C1("div",{className:P.optionsRow,children:[C1("div",{role:"button",className:P.optionCard,onClick:C,children:[V("img",{className:P.optionIcon,src:rt}),V("div",{className:P.optionTitle,children:V(s1,{id:"blocks.myBlockPrompt.addAnInputNumberText",defaultMessage:"Add an input"})}),V("div",{className:P.optionDescription,children:V(s1,{id:"blocks.myBlockPrompt.numberTextType",defaultMessage:"number or text"})})]}),C1("div",{role:"button",className:P.optionCard,onClick:p,children:[V("img",{className:P.optionIcon,src:Ct}),V("div",{className:P.optionTitle,children:V(s1,{id:"blocks.myBlockPrompt.addAnInputBoolean",defaultMessage:"Add an input"})}),V("div",{className:P.optionDescription,children:V(s1,{id:"blocks.myBlockPrompt.booleanType",defaultMessage:"boolean"})})]}),C1("div",{role:"button",className:P.optionCard,onClick:N,children:[V("img",{className:P.optionIcon,src:lt}),V("div",{className:P.optionTitle,children:V(s1,{id:"blocks.myBlockPrompt.addALabel",defaultMessage:"Add a label"})})]})]}),C1("div",{className:P.buttonRow,children:[V(Rt,{className:P.button,onClick:i,children:V(s1,{id:"blocks.prompt.cancel",defaultMessage:"Cancel"})}),V(Rt,{className:M0(P.button,P.okButton),onClick:F,children:V(s1,{id:"blocks.prompt.ok",defaultMessage:"OK"})})]})]})]})}import{useEffect as b0,useState as et} from"preact/hooks";import{useLocale as w0,useLayout as c0,useEditor as I0} from"@blockcode/core";import{Library as D0} from"@blockcode/ui";var Ot=["nes","translate","color-sensor","servo","time","pen","brain","request","text","broadcast"].map(async(a)=>{const{default:i}=await import(`@blockcode/extension-${a}`);return i.id=a,i});import{jsx as L0} from"preact/jsx-runtime";var F0=Promise.all(Ot);function H1({deviceId:a,onSelect:i,onClose:u,onFilter:o}){const[T,n]=et([]),[s,N]=et(!1),{language:p,getText:C}=w0(),{createAlert:F,removeAlert:S}=c0(),{addAsset:f}=I0(),g=(b)=>{const R=b.tags||[];let O=["blocks",["dupont","data"],["3v3","5v"]];if(o)O=o(R);if(Array.isArray(O))return O.every((L)=>{if(Array.isArray(L))return L.some((G)=>R.includes(G));return R.includes(L)});return O};return b0(()=>{F0.then((b)=>{n(b.filter(g).map((R)=>Object.assign({...R,featured:!0,disabled:R.disabled||R.preview,onSelect:async()=>{F("importing",{id:R.id});let{default:O}=await import(`@blockcode/extension-${R.id}/blocks`);if(typeof O==="function")O=O(a);if(O.id=R.id,O.files)for(let L of O.files){const G=`extensions/${R.id.replace(/[^a-z\d]/gi,"_")}/${L.name}`,c=await fetch(L.uri).then((h)=>h.text());f({...L,id:G,content:c})}i(O),S(R.id),u()}},R.translations&&R.translations[p]?{name:R.translations[p].name||R.name,description:R.translations[p].description||R.description,collaborator:R.translations[p].collaborator||R.collaborator}:{}))),N(!1)})},[]),L0(D0,{filterable:!0,loading:s,items:T,filterPlaceholder:C("gui.library.search","Search"),title:C("blocks.extensions.addExtension","Add Extension"),emptyText:C("blocks.extensions.empty","No extension!"),onClose:u})}n1(".cujmXa_editor-wrapper{border-radius:inherit;width:100%;height:100%;position:relative}.cujmXa_extension-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);border:1px solid var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;border-top:0;height:3.25rem;position:absolute;bottom:-1px;left:-1px}.cujmXa_extension-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.cujmXa_add-button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.cujmXa_add-button img{width:1.75rem;height:1.75rem}.cujmXa_debug-box{z-index:var(--z-index-monitor);border:1px solid var(--ui-tertiary);border-radius:var(--space)var(--space)0 0;opacity:.8;font-size:var(--standard-font-size);background:#fff;border-bottom:0;width:600px;height:300px;position:absolute;bottom:0;left:50vw;overflow:auto;transform:translate(-50%)}.cujmXa_debug-box pre{margin:calc(var(--space)/2)}");var w1={addButton:"cujmXa_add-button",editorWrapper:"cujmXa_editor-wrapper",extensionButton:"cujmXa_extension-button",debugBox:"cujmXa_debug-box"};var pt="./assets/icon-extension-5ec2ee35b87b4126.svg";import{jsx as r1,jsxs as gt,Fragment as h0} from"preact/jsx-runtime";var u1=new Map,Mt=(a)=>typeof a!=="string"&&!a.button,K0=async(a,i,u,o,T)=>{if(i){for(let n of i)if(!u1.has(n)){let{default:s}=await import(`@blockcode/extension-${n}/blocks`);if(typeof s==="function")s=s(a);if(s.id=n,s.files)for(let N of s.files){const p=`extensions/${n}/${N.name}`,C=await fetch(N.uri).then((F)=>F.text());o({...N,id:p,content:C})}if(u(s.translations),T)T({...s,blocks:s.blocks.filter(Mt)});u1.set(n,s)}}};function c1({toolbox:a,messages:i,enableMultiTargets:u,enableLocalVariable:o,disableGenerator:T,disableExtension:n,deviceId:s,onChange:N,onExtensionsFilter:p,onLoadExtension:C}){const{addLocaleData:F,getText:S,maybeLocaleText:f}=$0(),{splash:g,createPrompt:b,createAlert:R,removeAlert:O,setSplash:L}=V0(),{editor:G,fileList:c,selectedFileId:h,openFile:T1,modifyFile:e1,addAsset:I1,setModified:D1}=At(),[B,r]=f1(),[E,_]=f1(!1),[d,m]=f1(!1),[A,M]=f1(!1),[I,H]=f1(!1);if(g){if(g===!0&&I===!1)u1.clear(),H(K0(s,G.extensions,F,I1,C).then(()=>setTimeout(()=>H(!0),100)));if(I===!0){let l=!0;if(c.length>1){for(let w=0;w>-c.length;w--)if(!c.at(w).content){l=!1,setTimeout(()=>{const U=(w+c.length)%c.length;T1(c[U].id)},100);break}}if(l)setTimeout(()=>{L(!1),D1(!1),H(!1)},100)}}i={EVENT_WHENPROGRAMSTART:S("blocks.event.programStart","when program start"),CONTROL_STOP_OTHER:S("blocks.control.stopOther","other scripts"),PROCEDURES_ADD_LABEL:S("blocks.myblock.addLabel"," label text"),PROCEDURES_ADD_BOOLEAN:S("blocks.myblock.addBoolean","boolean"),PROCEDURES_ADD_STRING_NUMBER:S("blocks.myblock.addNumbetText","number or text"),...i||[]},P0(()=>{X.prompt=(l,w,W,U,i1)=>{const k={callback:W,message:l,defaultValue:w};k.title=U?U:X.Msg.VARIABLE_MODAL_TITLE,k.varType=typeof i1==="string"?i1:X.SCALAR_VARIABLE_TYPE,k.showVariableOptions=u&&i1!==X.BROADCAST_MESSAGE_VARIABLE_TYPE&&k.title!==X.Msg.RENAME_VARIABLE_MODAL_TITLE&&k.title!==X.Msg.RENAME_LIST_MODAL_TITLE,k.showCloudOption=i1===X.SCALAR_VARIABLE_TYPE&&this.props.canUseCloud,_(k)},X.FlyoutExtensionCategoryHeader.getExtensionState=(l)=>{if(u1.has(l)){const w=u1.get(l);if(w.connectionConfig?.items.every((W)=>localStorage.getItem(`${w.id}.connection.${W.id}`)))return X.StatusButtonState.READY}return X.StatusButtonState.NOT_READY},X.statusButtonCallback=(l)=>{if(!u1.has(l))return;const w=u1.get(l),{connectionConfig:W}=w;if(!W)return;b({title:w.name,label:W.title,inputMode:W.items.map((U)=>({name:U.id,placeholder:U.text,defaultValue:localStorage.getItem(`${w.id}.connection.${U.id}`)})),body:W.description,onSubmit:(U)=>{if(Object.entries(U).forEach(([i1,k])=>{localStorage.setItem(`${w.id}.connection.${i1}`,`${k}`)}),B)X.refreshStatusButtons(B)}})},X.Procedures.externalProcedureDefCallback=(l,w)=>{m({mutator:l,defCallback:w})}},[B]);let t1;if(B)t1=B.getAllVariables().filter((l)=>{if(l.isLocal)return!1;if(l.type===X.BROADCAST_MESSAGE_VARIABLE_TYPE){if(l.name===X.Msg.DEFAULT_BROADCAST_MESSAGE_NAME)return!1;const w=l.id_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),W=new RegExp(`<field name="BROADCAST_OPTION" id="${w}"[^>]+>[^<]+</field>`,"g");for(let U of c)if(W.test(U.xml))return!0;return!1}return!0});let Y=a||X0();const z=h===c[0].id,J=(l)=>l.bind(null,{context:At(),createPrompt:b,createAlert:R,removeAlert:O});u1.forEach((l)=>{Y+=K1(l,z,f,J)});const v=(l,w)=>{let W;if(!T)W=t.workspaceToCode(w);if(e1({xml:l,content:W}),N)N(l,w)},Q=(l,w)=>{E.callback(l,[],w),_(!1)},$=(l)=>{if(l&&B&&d)d.defCallback(l),B.refreshToolboxSelection_(),B.toolbox_.scrollToCategoryById("myBlocks");m(!1)},e=()=>{_(!1),m(!1)},j=()=>M(!0),x=()=>M(!1),q=(l)=>{if(!u1.has(l.id)){if(F(l.translations),C)C({...l,blocks:l.blocks.filter(Mt)});u1.set(l.id,l)}setTimeout(()=>{B.toolbox_.setSelectedCategoryById(l.id)},100)};return gt(h0,{children:[gt("div",{className:w1.editorWrapper,children:[r1(U0,{toolbox:Y,messages:i,globalVariables:t1,onWorkspaceCreated:r,onChange:h!==null?v:null}),n?null:r1("div",{className:W0("scratchCategoryMenu",w1.extensionButton),children:r1("button",{className:w1.addButton,title:S("blocks.extensions.addExtension","Add Extension"),onClick:j,children:r1("img",{src:pt,title:"Add Extension"})})}),E&&r1(h1,{title:E.title,label:E.message,defaultValue:E.defaultValue,enableLocalVariable:o,showListMessage:E.varType===X.LIST_VARIABLE_TYPE,showVariableOptions:E.showVariableOptions,showCloudOption:E.showCloudOption,onClose:e,onSubmit:Q}),d&&r1(Y1,{mutator:d.mutator,onClose:e,onSubmit:$}),A&&r1(H1,{deviceId:s,onFilter:p,onSelect:q,onClose:x})]}),!1]})}var ft="./assets/icon-blocks-d7e4a3a3eb74d0fb.svg";var St={"blocks.menu.file":"File","blocks.menu.file.newProject":"New","blocks.menu.file.openProject":"Open","blocks.menu.file.saveProject":"Save","blocks.menu.file.uploadProject":"Load from your computer","blocks.menu.file.downloadProject":"Save to your computer","blocks.menu.edit":"Edit","blocks.menu.edit.undo":"Undo","blocks.menu.edit.redo":"Redo","blocks.menu.device":"Device","blocks.menu.device.name":"device","blocks.menu.device.connect":"Connect to your {name}","blocks.menu.device.disconnect":"Disconnect this {name}","blocks.menu.device.download":"Download program","blocks.menu.device.turnOnAutoDownload":"Turn on Auto Download","blocks.menu.device.turnOffAutoDownload":"Turn off Auto Download","blocks.alert.downloading":"Downloading...{progress}%","blocks.alert.downloadCompleted":"Download completed.","blocks.alert.connectionError":"Connection error.","blocks.alert.flashOutSpace":"The flash is running out of space.","blocks.codeTab":"Code","blocks.monitorPane.title":"Monitor","blocks.downloadToDevice":"Download","blocks.extensions.addExtension":"Add Extension","blocks.extensions.empty":"No extension!","blocks.prompt.ok":"OK","blocks.prompt.cancel":"Cancel","blocks.dataPrompt.forAllTargets":"For all targets","blocks.dataPrompt.forThisTarget":"For this target only","blocks.dataPrompt.availableToAllTargets":"This variable will be available to all targets.","blocks.dataPrompt.listAvailableToAllTargets":"This list will be available to all targets.","blocks.myBlockPrompt.title":"Make a Block","blocks.myBlockPrompt.addAnInputNumberText":"Add an input","blocks.myBlockPrompt.numberTextType":"number or text","blocks.myBlockPrompt.addAnInputBoolean":"Add an input","blocks.myBlockPrompt.booleanType":"boolean","blocks.myBlockPrompt.addALabel":"Add a label","blocks.myBlockPrompt.command":"Command","blocks.myBlockPrompt.reporterNumberText":"Return number or text","blocks.myBlockPrompt.reporterBoolean":"Return boolean","blocks.event.programStart":"when program start","blocks.control.stopOther":"other scripts","blocks.myblock.addLabel":" label text","blocks.myblock.addBoolean":"boolean","blocks.myblock.addNumbetText":"number or text"};var bt={"blocks.menu.file":"\u6587\u4EF6","blocks.menu.file.newProject":"\u65B0\u4F5C\u54C1","blocks.menu.file.openProject":"\u6253\u5F00","blocks.menu.file.saveProject":"\u4FDD\u5B58","blocks.menu.file.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","blocks.menu.file.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","blocks.menu.edit":"\u7F16\u8F91","blocks.menu.edit.undo":"\u64A4\u9500","blocks.menu.edit.redo":"\u6062\u590D","blocks.menu.device":"\u8BBE\u5907","blocks.menu.device.name":"\u8BBE\u5907","blocks.menu.device.connect":"\u8FDE\u63A5{name}","blocks.menu.device.disconnect":"\u65AD\u5F00{name}\u8FDE\u63A5","blocks.menu.device.download":"\u4E0B\u8F7D\u7A0B\u5E8F","blocks.menu.device.turnOnAutoDownload":"\u6253\u5F00\u81EA\u52A8\u4E0B\u8F7D","blocks.menu.device.turnOffAutoDownload":"\u5173\u95ED\u81EA\u52A8\u4E0B\u8F7D","blocks.alert.downloading":"\u6B63\u5728\u4E0B\u8F7D\u2026{progress}%","blocks.alert.downloadCompleted":"\u4E0B\u8F7D\u5B8C\u6210\u3002","blocks.alert.connectionError":"\u8FDE\u63A5\u9519\u8BEF\u3002","blocks.alert.flashOutSpace":"\u8BBE\u5907\u7A7A\u95F4\u4E0D\u8DB3\u3002","blocks.codeTab":"\u4EE3\u7801","blocks.monitorPane.title":"\u76D1\u89C6\u5668","blocks.downloadToDevice":"\u4E0B\u8F7D","blocks.extensions.addExtension":"\u6DFB\u52A0\u6269\u5C55","blocks.extensions.empty":"\u6CA1\u6709\u6269\u5C55\uFF01","blocks.prompt.ok":"\u786E\u5B9A","blocks.prompt.cancel":"\u53D6\u6D88","blocks.dataPrompt.forAllTargets":"\u9002\u7528\u4E8E\u5168\u5C40","blocks.dataPrompt.forThisTarget":"\u4EC5\u9002\u7528\u4E8E\u5F53\u524D","blocks.dataPrompt.availableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u53D8\u91CF\u3002","blocks.dataPrompt.listAvailableToAllTargets":"\u5168\u5C40\u90FD\u53EF\u4F7F\u7528\u8BE5\u5217\u8868\u3002","blocks.myBlockPrompt.title":"\u5236\u4F5C\u65B0\u7684\u79EF\u6728","blocks.myBlockPrompt.addAnInputNumberText":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.numberTextType":"\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.addAnInputBoolean":"\u6DFB\u52A0\u8F93\u5165\u9879","blocks.myBlockPrompt.booleanType":"\u5E03\u5C14\u503C","blocks.myBlockPrompt.addALabel":"\u6DFB\u52A0\u6587\u672C\u6807\u7B7E","blocks.myBlockPrompt.command":"\u65E0\u8FD4\u56DE\u503C","blocks.myBlockPrompt.reporterNumberText":"\u8FD4\u56DE\u6570\u5B57\u6216\u6587\u672C","blocks.myBlockPrompt.reporterBoolean":"\u8FD4\u56DE\u5E03\u5C14\u503C","blocks.event.programStart":"\u5F53\u7A0B\u5E8F\u5F00\u59CB\u8FD0\u884C","blocks.control.stopOther":"\u5176\u4ED6\u811A\u672C","blocks.myblock.addLabel":"\u6587\u672C","blocks.myblock.addBoolean":"\u5E03\u5C14\u503C","blocks.myblock.addNumbetText":"\u6570\u5B57\u6216\u6587\u672C"};import{jsx as ct} from"preact/jsx-runtime";var H0={en:St,"zh-Hans":bt},Z0={icon:ft,label:ct(wt,{id:"blocks.codeTab",defaultMessage:"Code"}),Content:c1},t5={label:ct(wt,{id:"blocks.monitorPane.title",defaultMessage:"Monitor"}),Content:null};function B0({addLocaleData:a,createLayout:i,openProject:u,project:o}){a(H0);const T=(n)=>{n=n??ot,u(Object.assign({selectedFileId:n.fileList[0].id},n))};T(o),i({mainMenu:X1({createProject:T,openProject:u}),tabs:[{...Z0,Content:c1}],sidebars:[],pane:!1,tutorials:!0,canEditProjectName:!0})}export{t as pythonGenerator,t5 as monitorPane,X1 as makeMainMenu,H0 as locales,B0 as default,Z0 as codeTab};
