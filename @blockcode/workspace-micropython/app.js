var jl=Object.create;var{getPrototypeOf:Hl,defineProperty:P4,getOwnPropertyNames:Gl}=Object;var Jl=Object.prototype.hasOwnProperty;var L0=(M,w,_)=>{_=M!=null?jl(Hl(M)):{};const R=w||!M||!M.__esModule?P4(_,"default",{value:M,enumerable:!0}):_;for(let N of Gl(M))if(!Jl.call(R,N))P4(R,N,{get:()=>M[N],enumerable:!0});return R};var q0=(M,w)=>()=>(w||M((w={exports:{}}).exports,w),w.exports);var i4=q0((T6,z0)=>{(function(M,w){if(typeof T6=="object"&&typeof z0=="object")z0.exports=w();else if(typeof define=="function"&&define.amd)define([],w);else{var _=w();for(var R in _)(typeof T6=="object"?T6:M)[R]=_[R]}})(self,()=>(()=>{var M={4567:function(N,b,u){var h=this&&this.__decorate||function($,Z,W,s){var g,O=arguments.length,U=O<3?Z:s===null?s=Object.getOwnPropertyDescriptor(Z,W):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate($,Z,W,s);else for(var j=$.length-1;j>=0;j--)(g=$[j])&&(U=(O<3?g(U):O>3?g(Z,W,U):g(Z,W))||U);return O>3&&U&&Object.defineProperty(Z,W,U),U},V=this&&this.__param||function($,Z){return function(W,s){Z(W,s,$)}};Object.defineProperty(b,"__esModule",{value:!0}),b.AccessibilityManager=void 0;const a=u(9042),L=u(6114),v=u(9924),S=u(844),x=u(5596),d=u(4725),z=u(3656);let T=b.AccessibilityManager=class extends S.Disposable{constructor($,Z){super(),this._terminal=$,this._renderService=Z,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let W=0;W<this._terminal.rows;W++)this._rowElements[W]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[W]);if(this._topBoundaryFocusListener=(W)=>this._handleBoundaryFocus(W,0),this._bottomBoundaryFocusListener=(W)=>this._handleBoundaryFocus(W,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new v.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((W)=>this._handleResize(W.rows))),this.register(this._terminal.onRender((W)=>this._refreshRows(W.start,W.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar((W)=>this._handleChar(W))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab((W)=>this._handleTab(W))),this.register(this._terminal.onKey((W)=>this._handleKey(W.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register(z.addDisposableDomListener(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register(S.toDisposable(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab($){for(let Z=0;Z<$;Z++)this._handleChar(" ")}_handleChar($){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==$&&(this._charsToAnnounce+=$):this._charsToAnnounce+=$,$==="\n"&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=a.tooMuchOutput)),L.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,L.isMac&&this._liveRegion.remove()}_handleKey($){this._clearLiveRegion(),/\p{Control}/u.test($)||this._charsToConsume.push($)}_refreshRows($,Z){this._liveRegionDebouncer.refresh($,Z,this._terminal.rows)}_renderRows($,Z){const W=this._terminal.buffer,s=W.lines.length.toString();for(let g=$;g<=Z;g++){const O=W.translateBufferLineToString(W.ydisp+g,!0),U=(W.ydisp+g+1).toString(),j=this._rowElements[g];j&&(O.length===0?j.innerText="\xA0":j.textContent=O,j.setAttribute("aria-posinset",U),j.setAttribute("aria-setsize",s))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus($,Z){const W=$.target,s=this._rowElements[Z===0?1:this._rowElements.length-2];if(W.getAttribute("aria-posinset")===(Z===0?"1":`${this._terminal.buffer.lines.length}`))return;if($.relatedTarget!==s)return;let g,O;if(Z===0?(g=W,O=this._rowElements.pop(),this._rowContainer.removeChild(O)):(g=this._rowElements.shift(),O=W,this._rowContainer.removeChild(g)),g.removeEventListener("focus",this._topBoundaryFocusListener),O.removeEventListener("focus",this._bottomBoundaryFocusListener),Z===0){const U=this._createAccessibilityTreeNode();this._rowElements.unshift(U),this._rowContainer.insertAdjacentElement("afterbegin",U)}else{const U=this._createAccessibilityTreeNode();this._rowElements.push(U),this._rowContainer.appendChild(U)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(Z===0?-1:1),this._rowElements[Z===0?1:this._rowElements.length-2].focus(),$.preventDefault(),$.stopImmediatePropagation()}_handleResize($){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let Z=this._rowContainer.children.length;Z<this._terminal.rows;Z++)this._rowElements[Z]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[Z]);for(;this._rowElements.length>$;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const $=document.createElement("div");return $.setAttribute("role","listitem"),$.tabIndex=-1,this._refreshRowDimensions($),$}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let $=0;$<this._terminal.rows;$++)this._refreshRowDimensions(this._rowElements[$])}}_refreshRowDimensions($){$.style.height=`${this._renderService.dimensions.css.cell.height}px`}};b.AccessibilityManager=T=h([V(1,d.IRenderService)],T)},3614:(N,b)=>{function u(L){return L.replace(/\r?\n/g,"\r")}function h(L,v){return v?"[200~"+L+"[201~":L}function V(L,v,S,x){L=h(L=u(L),S.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(L,!0),v.value=""}function a(L,v,S){const x=S.getBoundingClientRect(),d=L.clientX-x.left-10,z=L.clientY-x.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${d}px`,v.style.top=`${z}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(b,"__esModule",{value:!0}),b.rightClickHandler=b.moveTextAreaUnderMouseCursor=b.paste=b.handlePasteEvent=b.copyHandler=b.bracketTextForPaste=b.prepareTextForTerminal=void 0,b.prepareTextForTerminal=u,b.bracketTextForPaste=h,b.copyHandler=function(L,v){L.clipboardData&&L.clipboardData.setData("text/plain",v.selectionText),L.preventDefault()},b.handlePasteEvent=function(L,v,S,x){L.stopPropagation(),L.clipboardData&&V(L.clipboardData.getData("text/plain"),v,S,x)},b.paste=V,b.moveTextAreaUnderMouseCursor=a,b.rightClickHandler=function(L,v,S,x,d){a(L,v,S),d&&x.rightClickSelect(L),v.value=x.selectionText,v.select()}},7239:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ColorContrastCache=void 0;const h=u(1505);b.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(V,a,L){this._css.set(V,a,L)}getCss(V,a){return this._css.get(V,a)}setColor(V,a,L){this._color.set(V,a,L)}getColor(V,a){return this._color.get(V,a)}clear(){this._color.clear(),this._css.clear()}}},3656:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.addDisposableDomListener=void 0,b.addDisposableDomListener=function(u,h,V,a){u.addEventListener(h,V,a);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(h,V,a))}}}},6465:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.Linkifier2=void 0;const a=u(3656),L=u(8460),v=u(844),S=u(2585);let x=b.Linkifier2=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(d){super(),this._bufferService=d,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new L.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new L.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register(v.getDisposeArrayDisposable(this._linkCacheDisposables)),this.register(v.toDisposable(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(d){return this._linkProviders.push(d),{dispose:()=>{const z=this._linkProviders.indexOf(d);z!==-1&&this._linkProviders.splice(z,1)}}}attachToDom(d,z,T){this._element=d,this._mouseService=z,this._renderService=T,this.register(a.addDisposableDomListener(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register(a.addDisposableDomListener(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register(a.addDisposableDomListener(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register(a.addDisposableDomListener(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){if(this._lastMouseEvent=d,!this._element||!this._mouseService)return;const z=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!z)return;this._isMouseOut=!1;const T=d.composedPath();for(let $=0;$<T.length;$++){const Z=T[$];if(Z.classList.contains("xterm"))break;if(Z.classList.contains("xterm-hover"))return}this._lastBufferCell&&z.x===this._lastBufferCell.x&&z.y===this._lastBufferCell.y||(this._handleHover(z),this._lastBufferCell=z)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,z){var T,$;this._activeProviderReplies&&z||((T=this._activeProviderReplies)===null||T===void 0||T.forEach((W)=>{W==null||W.forEach((s)=>{s.link.dispose&&s.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let Z=!1;for(let[W,s]of this._linkProviders.entries())z?(($=this._activeProviderReplies)===null||$===void 0?void 0:$.get(W))&&(Z=this._checkLinkProviderResult(W,d,Z)):s.provideLinks(d.y,(g)=>{var O,U;if(this._isMouseOut)return;const j=g==null?void 0:g.map((G)=>({link:G}));(O=this._activeProviderReplies)===null||O===void 0||O.set(W,j),Z=this._checkLinkProviderResult(W,d,Z),((U=this._activeProviderReplies)===null||U===void 0?void 0:U.size)===this._linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,z){const T=new Set;for(let $=0;$<z.size;$++){const Z=z.get($);if(Z)for(let W=0;W<Z.length;W++){const s=Z[W],g=s.link.range.start.y<d?0:s.link.range.start.x,O=s.link.range.end.y>d?this._bufferService.cols:s.link.range.end.x;for(let U=g;U<=O;U++){if(T.has(U)){Z.splice(W--,1);break}T.add(U)}}}}_checkLinkProviderResult(d,z,T){var $;if(!this._activeProviderReplies)return T;const Z=this._activeProviderReplies.get(d);let W=!1;for(let s=0;s<d;s++)this._activeProviderReplies.has(s)&&!this._activeProviderReplies.get(s)||(W=!0);if(!W&&Z){const s=Z.find((g)=>this._linkAtPosition(g.link,z));s&&(T=!0,this._handleNewLink(s))}if(this._activeProviderReplies.size===this._linkProviders.length&&!T)for(let s=0;s<this._activeProviderReplies.size;s++){const g=($=this._activeProviderReplies.get(s))===null||$===void 0?void 0:$.find((O)=>this._linkAtPosition(O.link,z));if(g){T=!0,this._handleNewLink(g);break}}return T}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._element||!this._mouseService||!this._currentLink)return;const z=this._positionFromMouseEvent(d,this._element,this._mouseService);z&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,z)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,z){this._element&&this._currentLink&&this._lastMouseEvent&&(!d||!z||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=z)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,v.disposeArray(this._linkCacheDisposables))}_handleNewLink(d){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const z=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);z&&this._linkAtPosition(d.link,z)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>{var T,$;return($=(T=this._currentLink)===null||T===void 0?void 0:T.state)===null||$===void 0?void 0:$.decorations.pointerCursor},set:(T)=>{var $,Z;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&this._currentLink.state.decorations.pointerCursor!==T&&(this._currentLink.state.decorations.pointerCursor=T,this._currentLink.state.isHovered&&((Z=this._element)===null||Z===void 0||Z.classList.toggle("xterm-cursor-pointer",T)))}},underline:{get:()=>{var T,$;return($=(T=this._currentLink)===null||T===void 0?void 0:T.state)===null||$===void 0?void 0:$.decorations.underline},set:(T)=>{var $,Z,W;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&((W=(Z=this._currentLink)===null||Z===void 0?void 0:Z.state)===null||W===void 0?void 0:W.decorations.underline)!==T&&(this._currentLink.state.decorations.underline=T,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,T))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((T)=>{if(!this._currentLink)return;const $=T.start===0?0:T.start+1+this._bufferService.buffer.ydisp,Z=this._bufferService.buffer.ydisp+1+T.end;if(this._currentLink.link.range.start.y>=$&&this._currentLink.link.range.end.y<=Z&&(this._clearCurrentLink($,Z),this._lastMouseEvent&&this._element)){const W=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);W&&this._askForLink(W,!1)}})))}_linkHover(d,z,T){var $;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(z,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),z.hover&&z.hover(T,z.text)}_fireUnderlineEvent(d,z){const T=d.range,$=this._bufferService.buffer.ydisp,Z=this._createLinkUnderlineEvent(T.start.x-1,T.start.y-$-1,T.end.x,T.end.y-$-1,void 0);(z?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(Z)}_linkLeave(d,z,T){var $;(($=this._currentLink)===null||$===void 0?void 0:$.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(z,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),z.leave&&z.leave(T,z.text)}_linkAtPosition(d,z){const T=d.range.start.y*this._bufferService.cols+d.range.start.x,$=d.range.end.y*this._bufferService.cols+d.range.end.x,Z=z.y*this._bufferService.cols+z.x;return T<=Z&&Z<=$}_positionFromMouseEvent(d,z,T){const $=T.getCoords(d,z,this._bufferService.cols,this._bufferService.rows);if($)return{x:$[0],y:$[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,z,T,$,Z){return{x1:d,y1:z,x2:T,y2:$,cols:this._bufferService.cols,fg:Z}}};b.Linkifier2=x=h([V(0,S.IBufferService)],x)},9042:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tooMuchOutput=b.promptLabel=void 0,b.promptLabel="Terminal input",b.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(N,b,u){var h=this&&this.__decorate||function(x,d,z,T){var $,Z=arguments.length,W=Z<3?d:T===null?T=Object.getOwnPropertyDescriptor(d,z):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(x,d,z,T);else for(var s=x.length-1;s>=0;s--)($=x[s])&&(W=(Z<3?$(W):Z>3?$(d,z,W):$(d,z))||W);return Z>3&&W&&Object.defineProperty(d,z,W),W},V=this&&this.__param||function(x,d){return function(z,T){d(z,T,x)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OscLinkProvider=void 0;const a=u(511),L=u(2585);let v=b.OscLinkProvider=class{constructor(x,d,z){this._bufferService=x,this._optionsService=d,this._oscLinkService=z}provideLinks(x,d){var z;const T=this._bufferService.buffer.lines.get(x-1);if(!T)return void d(void 0);const $=[],Z=this._optionsService.rawOptions.linkHandler,W=new a.CellData,s=T.getTrimmedLength();let g=-1,O=-1,U=!1;for(let j=0;j<s;j++)if(O!==-1||T.hasContent(j)){if(T.loadCell(j,W),W.hasExtendedAttrs()&&W.extended.urlId){if(O===-1){O=j,g=W.extended.urlId;continue}U=W.extended.urlId!==g}else O!==-1&&(U=!0);if(U||O!==-1&&j===s-1){const G=(z=this._oscLinkService.getLinkData(g))===null||z===void 0?void 0:z.uri;if(G){const H={start:{x:O+1,y:x},end:{x:j+(U||j!==s-1?0:1),y:x}};let D=!1;if(!(Z==null?void 0:Z.allowNonHttpProtocols))try{const l=new URL(G);["http:","https:"].includes(l.protocol)||(D=!0)}catch(l){D=!0}D||$.push({text:G,range:H,activate:(l,p)=>Z?Z.activate(l,p,H):S(0,p),hover:(l,p)=>{var f;return(f=Z==null?void 0:Z.hover)===null||f===void 0?void 0:f.call(Z,l,p,H)},leave:(l,p)=>{var f;return(f=Z==null?void 0:Z.leave)===null||f===void 0?void 0:f.call(Z,l,p,H)}})}U=!1,W.hasExtendedAttrs()&&W.extended.urlId?(O=j,g=W.extended.urlId):(O=-1,g=-1)}}d($)}};function S(x,d){if(confirm(`Do you want to navigate to ${d}?\n\nWARNING: This link could potentially be dangerous`)){const z=window.open();if(z){try{z.opener=null}catch(T){}z.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}}b.OscLinkProvider=v=h([V(0,L.IBufferService),V(1,L.IOptionsService),V(2,L.IOscLinkService)],v)},6193:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RenderDebouncer=void 0,b.RenderDebouncer=class{constructor(u,h){this._parentWindow=u,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,h,V){this._rowCount=V,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ScreenDprMonitor=void 0;const h=u(844);class V extends h.Disposable{constructor(a){super(),this._parentWindow=a,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register(h.toDisposable(()=>{this.clearListener()}))}setListener(a){this._listener&&this.clearListener(),this._listener=a,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var a;this._outerListener&&((a=this._resolutionMediaMatchList)===null||a===void 0||a.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}b.ScreenDprMonitor=V},3236:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Terminal=void 0;const h=u(3614),V=u(3656),a=u(6465),L=u(9042),v=u(3730),S=u(1680),x=u(3107),d=u(5744),z=u(2950),T=u(1296),$=u(428),Z=u(4269),W=u(5114),s=u(8934),g=u(3230),O=u(9312),U=u(4725),j=u(6731),G=u(8055),H=u(8969),D=u(8460),l=u(844),p=u(6114),f=u(8437),n=u(2584),c=u(7399),y=u(5941),q=u(9074),r=u(2585),o=u(5435),m=u(4567),P=typeof window!="undefined"?window.document:null;class X extends H.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(k={}){super(k),this.browser=p,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new l.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(a.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(q.DecorationService),this._instantiationService.setService(r.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((I,Q)=>this.refresh(I,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport((I)=>this._reportWindowsOptions(I))),this.register(this._inputHandler.onColor((I)=>this._handleColorEvent(I))),this.register(D.forwardEvent(this._inputHandler.onCursorMove,this._onCursorMove)),this.register(D.forwardEvent(this._inputHandler.onTitleChange,this._onTitleChange)),this.register(D.forwardEvent(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register(D.forwardEvent(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((I)=>this._afterResize(I.cols,I.rows))),this.register(l.toDisposable(()=>{var I,Q;this._customKeyEventHandler=void 0,(Q=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent(k){if(this._themeService)for(let I of k){let Q,e="";switch(I.index){case 256:Q="foreground",e="10";break;case 257:Q="background",e="11";break;case 258:Q="cursor",e="12";break;default:Q="ansi",e="4;"+I.index}switch(I.type){case 0:const B=G.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[I.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${n.C0.ESC}]${e};${y.toRgbString(B)}${n.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors((E)=>E.ansi[I.index]=G.rgba.toColor(...I.color));else{const E=Q;this._themeService.modifyColors((A)=>A[E]=G.rgba.toColor(...I.color))}break;case 2:this._themeService.restoreColor(I.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(k){k?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(m.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(k){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[I"),this.updateCursorStyle(k),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var k;return(k=this.textarea)===null||k===void 0?void 0:k.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const k=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(k);if(!I)return;const Q=Math.min(this.buffer.x,this.cols-1),e=this._renderService.dimensions.css.cell.height,B=I.getWidth(Q),E=this._renderService.dimensions.css.cell.width*B,A=this.buffer.y*this._renderService.dimensions.css.cell.height,h1=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=h1+"px",this.textarea.style.top=A+"px",this.textarea.style.width=E+"px",this.textarea.style.height=e+"px",this.textarea.style.lineHeight=e+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register(V.addDisposableDomListener(this.element,"copy",(I)=>{this.hasSelection()&&h.copyHandler(I,this._selectionService)}));const k=(I)=>h.handlePasteEvent(I,this.textarea,this.coreService,this.optionsService);this.register(V.addDisposableDomListener(this.textarea,"paste",k)),this.register(V.addDisposableDomListener(this.element,"paste",k)),p.isFirefox?this.register(V.addDisposableDomListener(this.element,"mousedown",(I)=>{I.button===2&&h.rightClickHandler(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register(V.addDisposableDomListener(this.element,"contextmenu",(I)=>{h.rightClickHandler(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),p.isLinux&&this.register(V.addDisposableDomListener(this.element,"auxclick",(I)=>{I.button===1&&h.moveTextAreaUnderMouseCursor(I,this.textarea,this.screenElement)}))}_bindKeys(){this.register(V.addDisposableDomListener(this.textarea,"keyup",(k)=>this._keyUp(k),!0)),this.register(V.addDisposableDomListener(this.textarea,"keydown",(k)=>this._keyDown(k),!0)),this.register(V.addDisposableDomListener(this.textarea,"keypress",(k)=>this._keyPress(k),!0)),this.register(V.addDisposableDomListener(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register(V.addDisposableDomListener(this.textarea,"compositionupdate",(k)=>this._compositionHelper.compositionupdate(k))),this.register(V.addDisposableDomListener(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register(V.addDisposableDomListener(this.textarea,"input",(k)=>this._inputEvent(k),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(k){var I;if(!k)throw new Error("Terminal requires a parent element.");k.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=k.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),k.appendChild(this.element);const Q=P.createDocumentFragment();this._viewportElement=P.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=P.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=P.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=P.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=P.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",L.promptLabel),p.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(W.CoreBrowserService,this.textarea,(I=this._document.defaultView)!==null&&I!==void 0?I:window),this._instantiationService.setService(U.ICoreBrowserService,this._coreBrowserService),this.register(V.addDisposableDomListener(this.textarea,"focus",(e)=>this._handleTextAreaFocus(e))),this.register(V.addDisposableDomListener(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance($.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(U.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(j.ThemeService),this._instantiationService.setService(U.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Z.CharacterJoinerService),this._instantiationService.setService(U.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(g.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(U.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((e)=>this._onRender.fire(e))),this.onResize((e)=>this._renderService.resize(e.cols,e.rows)),this._compositionView=P.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(z.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(s.MouseService),this._instantiationService.setService(U.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(O.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(U.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw((e)=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection((e)=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event((e)=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register(V.addDisposableDomListener(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register(V.addDisposableDomListener(this.element,"mousedown",(e)=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(m.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(e)=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(e)=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(T.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const k=this,I=this.element;function Q(E){const A=k._mouseService.getMouseReportCoords(E,k.screenElement);if(!A)return!1;let h1,n1;switch(E.overrideType||E.type){case"mousemove":n1=32,E.buttons===void 0?(h1=3,E.button!==void 0&&(h1=E.button<3?E.button:3)):h1=1&E.buttons?0:4&E.buttons?1:2&E.buttons?2:3;break;case"mouseup":n1=0,h1=E.button<3?E.button:3;break;case"mousedown":n1=1,h1=E.button<3?E.button:3;break;case"wheel":if(k.viewport.getLinesScrolled(E)===0)return!1;n1=E.deltaY<0?0:1,h1=4;break;default:return!1}return!(n1===void 0||h1===void 0||h1>4)&&k.coreMouseService.triggerMouseEvent({col:A.col,row:A.row,x:A.x,y:A.y,button:h1,action:n1,ctrl:E.ctrlKey,alt:E.altKey,shift:E.shiftKey})}const e={mouseup:null,wheel:null,mousedrag:null,mousemove:null},B={mouseup:(E)=>(Q(E),E.buttons||(this._document.removeEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.removeEventListener("mousemove",e.mousedrag)),this.cancel(E)),wheel:(E)=>(Q(E),this.cancel(E,!0)),mousedrag:(E)=>{E.buttons&&Q(E)},mousemove:(E)=>{E.buttons||Q(E)}};this.register(this.coreMouseService.onProtocolChange((E)=>{E?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(E)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&E?e.mousemove||(I.addEventListener("mousemove",B.mousemove),e.mousemove=B.mousemove):(I.removeEventListener("mousemove",e.mousemove),e.mousemove=null),16&E?e.wheel||(I.addEventListener("wheel",B.wheel,{passive:!1}),e.wheel=B.wheel):(I.removeEventListener("wheel",e.wheel),e.wheel=null),2&E?e.mouseup||(I.addEventListener("mouseup",B.mouseup),e.mouseup=B.mouseup):(this._document.removeEventListener("mouseup",e.mouseup),I.removeEventListener("mouseup",e.mouseup),e.mouseup=null),4&E?e.mousedrag||(e.mousedrag=B.mousedrag):(this._document.removeEventListener("mousemove",e.mousedrag),e.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register(V.addDisposableDomListener(I,"mousedown",(E)=>{if(E.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(E))return Q(E),e.mouseup&&this._document.addEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.addEventListener("mousemove",e.mousedrag),this.cancel(E)})),this.register(V.addDisposableDomListener(I,"wheel",(E)=>{if(!e.wheel){if(!this.buffer.hasScrollback){const A=this.viewport.getLinesScrolled(E);if(A===0)return;const h1=n.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(E.deltaY<0?"A":"B");let n1="";for(let c1=0;c1<Math.abs(A);c1++)n1+=h1;return this.coreService.triggerDataEvent(n1,!0),this.cancel(E,!0)}return this.viewport.handleWheel(E)?this.cancel(E):void 0}},{passive:!1})),this.register(V.addDisposableDomListener(I,"touchstart",(E)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(E),this.cancel(E)},{passive:!0})),this.register(V.addDisposableDomListener(I,"touchmove",(E)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(E)?void 0:this.cancel(E)},{passive:!1}))}refresh(k,I){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows(k,I)}updateCursorStyle(k){var I;((I=this._selectionService)===null||I===void 0?void 0:I.shouldColumnSelect(k))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(k,I,Q=0){var e;Q===1?(super.scrollLines(k,I,Q),this.refresh(0,this.rows-1)):(e=this.viewport)===null||e===void 0||e.scrollLines(k)}paste(k){h.paste(k,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(k){this._customKeyEventHandler=k}registerLinkProvider(k){return this.linkifier2.registerLinkProvider(k)}registerCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const I=this._characterJoinerService.register(k);return this.refresh(0,this.rows-1),I}deregisterCharacterJoiner(k){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(k)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(k){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+k)}registerDecoration(k){return this._decorationService.registerDecoration(k)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(k,I,Q){this._selectionService.setSelection(k,I,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var k;(k=this._selectionService)===null||k===void 0||k.clearSelection()}selectAll(){var k;(k=this._selectionService)===null||k===void 0||k.selectAll()}selectLines(k,I){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines(k,I)}_keyDown(k){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1)return!1;const I=this.browser.isMac&&this.options.macOptionIsMeta&&k.altKey;if(!I&&!this._compositionHelper.keydown(k))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;I||k.key!=="Dead"&&k.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=c.evaluateKeyboardEvent(k,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(k),Q.type===3||Q.type===2){const e=this.rows-1;return this.scrollLines(Q.type===2?-e:e),this.cancel(k,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,k)||(Q.cancel&&this.cancel(k,!0),!Q.key||!!(k.key&&!k.ctrlKey&&!k.altKey&&!k.metaKey&&k.key.length===1&&k.key.charCodeAt(0)>=65&&k.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==n.C0.ETX&&Q.key!==n.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||k.altKey||k.ctrlKey?this.cancel(k,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(k,I){const Q=k.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||k.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||k.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?Q:Q&&(!I.keyCode||I.keyCode>47)}_keyUp(k){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(k)||this.focus(),this.updateCursorStyle(k),this._keyPressHandled=!1)}_keyPress(k){let I;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&this._customKeyEventHandler(k)===!1)return!1;if(this.cancel(k),k.charCode)I=k.charCode;else if(k.which===null||k.which===void 0)I=k.keyCode;else{if(k.which===0||k.charCode===0)return!1;I=k.which}return!(!I||(k.altKey||k.ctrlKey||k.metaKey)&&!this._isThirdLevelShift(this.browser,k)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:k}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(k){if(k.data&&k.inputType==="insertText"&&(!k.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const I=k.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(k),!0}return!1}resize(k,I){k!==this.cols||I!==this.rows?super.resize(k,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(k,I){var Q,e;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(e=this.viewport)===null||e===void 0||e.syncScrollArea(!0)}clear(){var k;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let I=1;I<this.rows;I++)this.buffer.lines.push(this.buffer.getBlankLine(f.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(k=this.viewport)===null||k===void 0||k.reset(),this.refresh(0,this.rows-1)}}reset(){var k,I;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),(k=this._selectionService)===null||k===void 0||k.reset(),this._decorationService.reset(),(I=this.viewport)===null||I===void 0||I.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var k;(k=this._renderService)===null||k===void 0||k.clearTextureAtlas()}_reportFocus(){var k;((k=this.element)===null||k===void 0?void 0:k.classList.contains("focus"))?this.coreService.triggerDataEvent(n.C0.ESC+"[I"):this.coreService.triggerDataEvent(n.C0.ESC+"[O")}_reportWindowsOptions(k){if(this._renderService)switch(k){case o.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const I=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[4;${Q};${I}t`);break;case o.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const e=this._renderService.dimensions.css.cell.width.toFixed(0),B=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[6;${B};${e}t`)}}cancel(k,I){if(this.options.cancelEvents||I)return k.preventDefault(),k.stopPropagation(),!1}}b.Terminal=X},9924:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TimeBasedDebouncer=void 0,b.TimeBasedDebouncer=class{constructor(u,h=1000){this._renderCallback=u,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,h,V){this._rowCount=V,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const a=Date.now();if(a-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=a,this._innerRefresh();else if(!this._additionalRefreshRequested){const L=a-this._lastRefreshMs,v=this._debounceThresholdMS-L;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h)}}},1680:function(N,b,u){var h=this&&this.__decorate||function(z,T,$,Z){var W,s=arguments.length,g=s<3?T:Z===null?Z=Object.getOwnPropertyDescriptor(T,$):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(z,T,$,Z);else for(var O=z.length-1;O>=0;O--)(W=z[O])&&(g=(s<3?W(g):s>3?W(T,$,g):W(T,$))||g);return s>3&&g&&Object.defineProperty(T,$,g),g},V=this&&this.__param||function(z,T){return function($,Z){T($,Z,z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.Viewport=void 0;const a=u(3656),L=u(4725),v=u(8460),S=u(844),x=u(2585);let d=b.Viewport=class extends S.Disposable{constructor(z,T,$,Z,W,s,g,O){super(),this._viewportElement=z,this._scrollArea=T,this._bufferService=$,this._optionsService=Z,this._charSizeService=W,this._renderService=s,this._coreBrowserService=g,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register(a.addDisposableDomListener(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((U)=>this._activeBuffer=U.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((U)=>this._renderDimensions=U)),this._handleThemeChange(O.colors),this.register(O.onChangeColors((U)=>this._handleThemeChange(U))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(z){this._viewportElement.style.backgroundColor=z.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(z){if(z)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const T=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==T&&(this._lastRecordedBufferHeight=T,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const z=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==z&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=z),this._refreshAnimationFrame=null}syncScrollArea(z=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(z);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(z)}_handleScroll(z){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const T=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:T,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const z=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(z*(this._smoothScrollState.target-this._smoothScrollState.origin)),z<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(z,T){const $=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(T<0&&this._viewportElement.scrollTop!==0||T>0&&$<this._lastRecordedBufferHeight)||(z.cancelable&&z.preventDefault(),!1)}handleWheel(z){const T=this._getPixelsScrolled(z);return T!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+T:this._smoothScrollState.target+=T,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=T,this._bubbleScroll(z,T))}scrollLines(z){if(z!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const T=z*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+T,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:z,suppressScrollEvent:!1})}_getPixelsScrolled(z){if(z.deltaY===0||z.shiftKey)return 0;let T=this._applyScrollModifier(z.deltaY,z);return z.deltaMode===WheelEvent.DOM_DELTA_LINE?T*=this._currentRowHeight:z.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(T*=this._currentRowHeight*this._bufferService.rows),T}getBufferElements(z,T){var $;let Z,W="";const s=[],g=T!=null?T:this._bufferService.buffer.lines.length,O=this._bufferService.buffer.lines;for(let U=z;U<g;U++){const j=O.get(U);if(!j)continue;const G=($=O.get(U+1))===null||$===void 0?void 0:$.isWrapped;if(W+=j.translateToString(!G),!G||U===O.length-1){const H=document.createElement("div");H.textContent=W,s.push(H),W.length>0&&(Z=H),W=""}}return{bufferElements:s,cursorElement:Z}}getLinesScrolled(z){if(z.deltaY===0||z.shiftKey)return 0;let T=this._applyScrollModifier(z.deltaY,z);return z.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(T/=this._currentRowHeight+0,this._wheelPartialScroll+=T,T=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):z.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(T*=this._bufferService.rows),T}_applyScrollModifier(z,T){const $=this._optionsService.rawOptions.fastScrollModifier;return $==="alt"&&T.altKey||$==="ctrl"&&T.ctrlKey||$==="shift"&&T.shiftKey?z*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:z*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(z){this._lastTouchY=z.touches[0].pageY}handleTouchMove(z){const T=this._lastTouchY-z.touches[0].pageY;return this._lastTouchY=z.touches[0].pageY,T!==0&&(this._viewportElement.scrollTop+=T,this._bubbleScroll(z,T))}};b.Viewport=d=h([V(2,x.IBufferService),V(3,x.IOptionsService),V(4,L.ICharSizeService),V(5,L.IRenderService),V(6,L.ICoreBrowserService),V(7,L.IThemeService)],d)},3107:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.BufferDecorationRenderer=void 0;const a=u(3656),L=u(4725),v=u(844),S=u(2585);let x=b.BufferDecorationRenderer=class extends v.Disposable{constructor(d,z,T,$){super(),this._screenElement=d,this._bufferService=z,this._decorationService=T,this._renderService=$,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(a.addDisposableDomListener(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved((Z)=>this._removeDecoration(Z))),this.register(v.toDisposable(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let d of this._decorationService.decorations)this._renderDecoration(d);this._dimensionsChanged=!1}_renderDecoration(d){this._refreshStyle(d),this._dimensionsChanged&&this._refreshXPosition(d)}_createElement(d){var z,T;const $=document.createElement("div");$.classList.add("xterm-decoration"),$.classList.toggle("xterm-decoration-top-layer",((z=d==null?void 0:d.options)===null||z===void 0?void 0:z.layer)==="top"),$.style.width=`${Math.round((d.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,$.style.height=(d.options.height||1)*this._renderService.dimensions.css.cell.height+"px",$.style.top=(d.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",$.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const Z=(T=d.options.x)!==null&&T!==void 0?T:0;return Z&&Z>this._bufferService.cols&&($.style.display="none"),this._refreshXPosition(d,$),$}_refreshStyle(d){const z=d.marker.line-this._bufferService.buffers.active.ydisp;if(z<0||z>=this._bufferService.rows)d.element&&(d.element.style.display="none",d.onRenderEmitter.fire(d.element));else{let T=this._decorationElements.get(d);T||(T=this._createElement(d),d.element=T,this._decorationElements.set(d,T),this._container.appendChild(T),d.onDispose(()=>{this._decorationElements.delete(d),T.remove()})),T.style.top=z*this._renderService.dimensions.css.cell.height+"px",T.style.display=this._altBufferIsActive?"none":"block",d.onRenderEmitter.fire(T)}}_refreshXPosition(d,z=d.element){var T;if(!z)return;const $=(T=d.options.x)!==null&&T!==void 0?T:0;(d.options.anchor||"left")==="right"?z.style.right=$?$*this._renderService.dimensions.css.cell.width+"px":"":z.style.left=$?$*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(d){var z;(z=this._decorationElements.get(d))===null||z===void 0||z.remove(),this._decorationElements.delete(d),d.dispose()}};b.BufferDecorationRenderer=x=h([V(1,S.IBufferService),V(2,S.IDecorationService),V(3,L.IRenderService)],x)},5871:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ColorZoneStore=void 0,b.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(let h of this._zones)if(h.color===u.options.overviewRulerOptions.color&&h.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,u.marker.line))return;if(this._lineAdjacentToZone(h,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(h,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,h){return h>=u.startBufferLine&&h<=u.endBufferLine}_lineAdjacentToZone(u,h,V){return h>=u.startBufferLine-this._linePadding[V||"full"]&&h<=u.endBufferLine+this._linePadding[V||"full"]}_addLineToZone(u,h){u.startBufferLine=Math.min(u.startBufferLine,h),u.endBufferLine=Math.max(u.endBufferLine,h)}}},5744:function(N,b,u){var h=this&&this.__decorate||function(Z,W,s,g){var O,U=arguments.length,j=U<3?W:g===null?g=Object.getOwnPropertyDescriptor(W,s):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Z,W,s,g);else for(var G=Z.length-1;G>=0;G--)(O=Z[G])&&(j=(U<3?O(j):U>3?O(W,s,j):O(W,s))||j);return U>3&&j&&Object.defineProperty(W,s,j),j},V=this&&this.__param||function(Z,W){return function(s,g){W(s,g,Z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OverviewRulerRenderer=void 0;const a=u(5871),L=u(3656),v=u(4725),S=u(844),x=u(2585),d={full:0,left:0,center:0,right:0},z={full:0,left:0,center:0,right:0},T={full:0,left:0,center:0,right:0};let $=b.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(Z,W,s,g,O,U,j){var G;super(),this._viewportElement=Z,this._screenElement=W,this._bufferService=s,this._decorationService=g,this._renderService=O,this._optionsService=U,this._coreBrowseService=j,this._colorZoneStore=new a.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(G=this._viewportElement.parentElement)===null||G===void 0||G.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register(S.toDisposable(()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(L.addDisposableDomListener(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const Z=Math.floor(this._canvas.width/3),W=Math.ceil(this._canvas.width/3);z.full=this._canvas.width,z.left=Z,z.center=W,z.right=Z,this._refreshDrawHeightConstants(),T.full=0,T.left=0,T.center=z.left,T.right=z.left+z.center}_refreshDrawHeightConstants(){d.full=Math.round(2*this._coreBrowseService.dpr);const Z=this._canvas.height/this._bufferService.buffer.lines.length,W=Math.round(Math.max(Math.min(Z,12),6)*this._coreBrowseService.dpr);d.left=W,d.center=W,d.right=W}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let W of this._decorationService.decorations)this._colorZoneStore.addDecoration(W);this._ctx.lineWidth=1;const Z=this._colorZoneStore.zones;for(let W of Z)W.position!=="full"&&this._renderColorZone(W);for(let W of Z)W.position==="full"&&this._renderColorZone(W);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(Z){this._ctx.fillStyle=Z.color,this._ctx.fillRect(T[Z.position||"full"],Math.round((this._canvas.height-1)*(Z.startBufferLine/this._bufferService.buffers.active.lines.length)-d[Z.position||"full"]/2),z[Z.position||"full"],Math.round((this._canvas.height-1)*((Z.endBufferLine-Z.startBufferLine)/this._bufferService.buffers.active.lines.length)+d[Z.position||"full"]))}_queueRefresh(Z,W){this._shouldUpdateDimensions=Z||this._shouldUpdateDimensions,this._shouldUpdateAnchor=W||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};b.OverviewRulerRenderer=$=h([V(2,x.IBufferService),V(3,x.IDecorationService),V(4,v.IRenderService),V(5,x.IOptionsService),V(6,v.ICoreBrowserService)],$)},2950:function(N,b,u){var h=this&&this.__decorate||function(x,d,z,T){var $,Z=arguments.length,W=Z<3?d:T===null?T=Object.getOwnPropertyDescriptor(d,z):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(x,d,z,T);else for(var s=x.length-1;s>=0;s--)($=x[s])&&(W=(Z<3?$(W):Z>3?$(d,z,W):$(d,z))||W);return Z>3&&W&&Object.defineProperty(d,z,W),W},V=this&&this.__param||function(x,d){return function(z,T){d(z,T,x)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CompositionHelper=void 0;const a=u(4725),L=u(2585),v=u(2584);let S=b.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,d,z,T,$,Z){this._textarea=x,this._compositionView=d,this._bufferService=z,this._optionsService=T,this._coreService=$,this._renderService=Z,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229)return!1;if(x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let z;this._isSendingComposition=!1,d.start+=this._dataAlreadySent.length,z=this._isComposing?this._textarea.value.substring(d.start,d.end):this._textarea.value.substring(d.start),z.length>0&&this._coreService.triggerDataEvent(z,!0)}},0)}else{this._isSendingComposition=!1;const d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const d=this._textarea.value,z=d.replace(x,"");this._dataAlreadySent=z,d.length>x.length?this._coreService.triggerDataEvent(z,!0):d.length<x.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):d.length===x.length&&d!==x&&this._coreService.triggerDataEvent(d,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),z=this._renderService.dimensions.css.cell.height,T=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,$=d*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=$+"px",this._compositionView.style.top=T+"px",this._compositionView.style.height=z+"px",this._compositionView.style.lineHeight=z+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const Z=this._compositionView.getBoundingClientRect();this._textarea.style.left=$+"px",this._textarea.style.top=T+"px",this._textarea.style.width=Math.max(Z.width,1)+"px",this._textarea.style.height=Math.max(Z.height,1)+"px",this._textarea.style.lineHeight=Z.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};b.CompositionHelper=S=h([V(2,L.IBufferService),V(3,L.IOptionsService),V(4,L.ICoreService),V(5,a.IRenderService)],S)},9806:(N,b)=>{function u(h,V,a){const L=a.getBoundingClientRect(),v=h.getComputedStyle(a),S=parseInt(v.getPropertyValue("padding-left")),x=parseInt(v.getPropertyValue("padding-top"));return[V.clientX-L.left-S,V.clientY-L.top-x]}Object.defineProperty(b,"__esModule",{value:!0}),b.getCoords=b.getCoordsRelativeToElement=void 0,b.getCoordsRelativeToElement=u,b.getCoords=function(h,V,a,L,v,S,x,d,z){if(!S)return;const T=u(h,V,a);return T?(T[0]=Math.ceil((T[0]+(z?x/2:0))/x),T[1]=Math.ceil(T[1]/d),T[0]=Math.min(Math.max(T[0],1),L+(z?1:0)),T[1]=Math.min(Math.max(T[1],1),v),T):void 0}},9504:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.moveToCellSequence=void 0;const h=u(2584);function V(d,z,T,$){const Z=d-a(d,T),W=z-a(z,T),s=Math.abs(Z-W)-function(g,O,U){let j=0;const G=g-a(g,U),H=O-a(O,U);for(let D=0;D<Math.abs(G-H);D++){const l=L(g,O)==="A"?-1:1,p=U.buffer.lines.get(G+l*D);(p==null?void 0:p.isWrapped)&&j++}return j}(d,z,T);return x(s,S(L(d,z),$))}function a(d,z){let T=0,$=z.buffer.lines.get(d),Z=$==null?void 0:$.isWrapped;for(;Z&&d>=0&&d<z.rows;)T++,$=z.buffer.lines.get(--d),Z=$==null?void 0:$.isWrapped;return T}function L(d,z){return d>z?"A":"B"}function v(d,z,T,$,Z,W){let s=d,g=z,O="";for(;s!==T||g!==$;)s+=Z?1:-1,Z&&s>W.cols-1?(O+=W.buffer.translateBufferLineToString(g,!1,d,s),s=0,d=0,g++):!Z&&s<0&&(O+=W.buffer.translateBufferLineToString(g,!1,0,d+1),s=W.cols-1,d=s,g--);return O+W.buffer.translateBufferLineToString(g,!1,d,s)}function S(d,z){const T=z?"O":"[";return h.C0.ESC+T+d}function x(d,z){d=Math.floor(d);let T="";for(let $=0;$<d;$++)T+=z;return T}b.moveToCellSequence=function(d,z,T,$){const Z=T.buffer.x,W=T.buffer.y;if(!T.buffer.hasScrollback)return function(O,U,j,G,H,D){return V(U,G,H,D).length===0?"":x(v(O,U,O,U-a(U,H),!1,H).length,S("D",D))}(Z,W,0,z,T,$)+V(W,z,T,$)+function(O,U,j,G,H,D){let l;l=V(U,G,H,D).length>0?G-a(G,H):U;const p=G,f=function(n,c,y,q,r,o){let m;return m=V(y,q,r,o).length>0?q-a(q,r):c,n<y&&m<=q||n>=y&&m<q?"C":"D"}(O,U,j,G,H,D);return x(v(O,l,j,p,f==="C",H).length,S(f,D))}(Z,W,d,z,T,$);let s;if(W===z)return s=Z>d?"D":"C",x(Math.abs(Z-d),S(s,$));s=W>z?"D":"C";const g=Math.abs(W-z);return x(function(O,U){return U.cols-O}(W>z?d:Z,T)+(g-1)*T.cols+1+((W>z?Z:d)-1),S(s,$))}},1296:function(N,b,u){var h=this&&this.__decorate||function(H,D,l,p){var f,n=arguments.length,c=n<3?D:p===null?p=Object.getOwnPropertyDescriptor(D,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(H,D,l,p);else for(var y=H.length-1;y>=0;y--)(f=H[y])&&(c=(n<3?f(c):n>3?f(D,l,c):f(D,l))||c);return n>3&&c&&Object.defineProperty(D,l,c),c},V=this&&this.__param||function(H,D){return function(l,p){D(l,p,H)}};Object.defineProperty(b,"__esModule",{value:!0}),b.DomRenderer=void 0;const a=u(3787),L=u(2550),v=u(2223),S=u(6171),x=u(4725),d=u(8055),z=u(8460),T=u(844),$=u(2585),Z="xterm-dom-renderer-owner-",W="xterm-rows",s="xterm-fg-",g="xterm-bg-",O="xterm-focus",U="xterm-selection";let j=1,G=b.DomRenderer=class extends T.Disposable{constructor(H,D,l,p,f,n,c,y,q,r){super(),this._element=H,this._screenElement=D,this._viewportElement=l,this._linkifier2=p,this._charSizeService=n,this._optionsService=c,this._bufferService=y,this._coreBrowserService=q,this._themeService=r,this._terminalClass=j++,this._rowElements=[],this.onRequestRedraw=this.register(new z.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(W),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(U),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=S.createRenderDimensions(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors((o)=>this._injectCss(o))),this._injectCss(this._themeService.colors),this._rowFactory=f.createInstance(a.DomRendererRowFactory,document),this._element.classList.add(Z+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((o)=>this._handleLinkHover(o))),this.register(this._linkifier2.onHideLinkUnderline((o)=>this._handleLinkLeave(o))),this.register(T.toDisposable(()=>{this._element.classList.remove(Z+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new L.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const H=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*H,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*H),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/H),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/H),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let l of this._rowElements)l.style.width=`${this.dimensions.css.canvas.width}px`,l.style.height=`${this.dimensions.css.cell.height}px`,l.style.lineHeight=`${this.dimensions.css.cell.height}px`,l.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${W} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(H){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${W} { color: ${H.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${W} .xterm-dim { color: ${d.color.multiplyOpacity(H.foreground,0.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${H.cursor.css};  color: ${H.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${H.cursor.css}; }}`,D+=`${this._terminalSelector} .${W}.${O} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${W}.${O} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${W} .xterm-cursor.xterm-cursor-block { background-color: ${H.cursor.css}; color: ${H.cursorAccent.css};}${this._terminalSelector} .${W} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${H.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${W} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${H.cursor.css} inset;}${this._terminalSelector} .${W} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${H.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${U} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${U} div { position: absolute; background-color: ${H.selectionBackgroundOpaque.css};}${this._terminalSelector} .${U} div { position: absolute; background-color: ${H.selectionInactiveBackgroundOpaque.css};}`;for(let[l,p]of H.ansi.entries())D+=`${this._terminalSelector} .${s}${l} { color: ${p.css}; }${this._terminalSelector} .${s}${l}.xterm-dim { color: ${d.color.multiplyOpacity(p,0.5).css}; }${this._terminalSelector} .${g}${l} { background-color: ${p.css}; }`;D+=`${this._terminalSelector} .${s}${v.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(H.background).css}; }${this._terminalSelector} .${s}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(H.background),0.5).css}; }${this._terminalSelector} .${g}${v.INVERTED_DEFAULT_COLOR} { background-color: ${H.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const H=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${H}px`,this._rowFactory.defaultSpacing=H}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(H,D){for(let l=this._rowElements.length;l<=D;l++){const p=document.createElement("div");this._rowContainer.appendChild(p),this._rowElements.push(p)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(H,D){this._refreshRowElements(H,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(O)}handleFocus(){this._rowContainer.classList.add(O),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(H,D,l){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(H,D,l),this.renderRows(0,this._bufferService.rows-1),!H||!D)return;const p=H[1]-this._bufferService.buffer.ydisp,f=D[1]-this._bufferService.buffer.ydisp,n=Math.max(p,0),c=Math.min(f,this._bufferService.rows-1);if(n>=this._bufferService.rows||c<0)return;const y=document.createDocumentFragment();if(l){const q=H[0]>D[0];y.appendChild(this._createSelectionElement(n,q?D[0]:H[0],q?H[0]:D[0],c-n+1))}else{const q=p===n?H[0]:0,r=n===f?D[0]:this._bufferService.cols;y.appendChild(this._createSelectionElement(n,q,r));const o=c-n-1;if(y.appendChild(this._createSelectionElement(n+1,0,this._bufferService.cols,o)),n!==c){const m=f===c?D[0]:this._bufferService.cols;y.appendChild(this._createSelectionElement(c,0,m))}}this._selectionContainer.appendChild(y)}_createSelectionElement(H,D,l,p=1){const f=document.createElement("div");return f.style.height=p*this.dimensions.css.cell.height+"px",f.style.top=H*this.dimensions.css.cell.height+"px",f.style.left=D*this.dimensions.css.cell.width+"px",f.style.width=this.dimensions.css.cell.width*(l-D)+"px",f}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let H of this._rowElements)H.replaceChildren()}renderRows(H,D){const l=this._bufferService.buffer,p=l.ybase+l.y,f=Math.min(l.x,this._bufferService.cols-1),n=this._optionsService.rawOptions.cursorBlink,c=this._optionsService.rawOptions.cursorStyle,y=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=H;q<=D;q++){const r=q+l.ydisp,o=this._rowElements[q],m=l.lines.get(r);if(!o||!m)break;o.replaceChildren(...this._rowFactory.createRow(m,r,r===p,c,y,f,n,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${Z}${this._terminalClass}`}_handleLinkHover(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!0)}_handleLinkLeave(H){this._setCellUnderline(H.x1,H.x2,H.y1,H.y2,H.cols,!1)}_setCellUnderline(H,D,l,p,f,n){l<0&&(H=0),p<0&&(D=0);const c=this._bufferService.rows-1;l=Math.max(Math.min(l,c),0),p=Math.max(Math.min(p,c),0),f=Math.min(f,this._bufferService.cols);const y=this._bufferService.buffer,q=y.ybase+y.y,r=Math.min(y.x,f-1),o=this._optionsService.rawOptions.cursorBlink,m=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let X=l;X<=p;++X){const k=X+y.ydisp,I=this._rowElements[X],Q=y.lines.get(k);if(!I||!Q)break;I.replaceChildren(...this._rowFactory.createRow(Q,k,k===q,m,P,r,o,this.dimensions.css.cell.width,this._widthCache,n?X===l?H:0:-1,n?(X===p?D:f)-1:-1))}}};b.DomRenderer=G=h([V(4,$.IInstantiationService),V(5,x.ICharSizeService),V(6,$.IOptionsService),V(7,$.IBufferService),V(8,x.ICoreBrowserService),V(9,x.IThemeService)],G)},3787:function(N,b,u){var h=this&&this.__decorate||function(s,g,O,U){var j,G=arguments.length,H=G<3?g:U===null?U=Object.getOwnPropertyDescriptor(g,O):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(s,g,O,U);else for(var D=s.length-1;D>=0;D--)(j=s[D])&&(H=(G<3?j(H):G>3?j(g,O,H):j(g,O))||H);return G>3&&H&&Object.defineProperty(g,O,H),H},V=this&&this.__param||function(s,g){return function(O,U){g(O,U,s)}};Object.defineProperty(b,"__esModule",{value:!0}),b.DomRendererRowFactory=void 0;const a=u(2223),L=u(643),v=u(511),S=u(2585),x=u(8055),d=u(4725),z=u(4269),T=u(6171),$=u(3734);let Z=b.DomRendererRowFactory=class{constructor(s,g,O,U,j,G,H){this._document=s,this._characterJoinerService=g,this._optionsService=O,this._coreBrowserService=U,this._coreService=j,this._decorationService=G,this._themeService=H,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(s,g,O){this._selectionStart=s,this._selectionEnd=g,this._columnSelectMode=O}createRow(s,g,O,U,j,G,H,D,l,p,f){const n=[],c=this._characterJoinerService.getJoinedCharacters(g),y=this._themeService.colors;let q,r=s.getNoBgTrimmedLength();O&&r<G+1&&(r=G+1);let o=0,m="",P=0,X=0,k=0,I=!1,Q=0,e=!1,B=0;const E=[],A=p!==-1&&f!==-1;for(let h1=0;h1<r;h1++){s.loadCell(h1,this._workCell);let n1=this._workCell.getWidth();if(n1===0)continue;let c1=!1,J=h1,K=this._workCell;if(c.length>0&&h1===c[0][0]){c1=!0;const C=c.shift();K=new z.JoinedCellData(this._workCell,s.translateToString(!0,C[0],C[1]),C[1]-C[0]),J=C[1]-1,n1=K.getWidth()}const Y=this._isCellInSelection(h1,g),p1=O&&h1===G,u1=A&&h1>=p&&h1<=f;let o1=!1;this._decorationService.forEachDecorationAtCell(h1,g,void 0,(C)=>{o1=!0});let M1=K.getChars()||L.WHITESPACE_CELL_CHAR;if(M1===" "&&(K.isUnderline()||K.isOverline())&&(M1="\xA0"),B=n1*D-l.get(M1,K.isBold(),K.isItalic()),q){if(o&&(Y&&e||!Y&&!e&&K.bg===P)&&(Y&&e&&y.selectionForeground||K.fg===X)&&K.extended.ext===k&&u1===I&&B===Q&&!p1&&!c1&&!o1){m+=M1,o++;continue}o&&(q.textContent=m),q=this._document.createElement("span"),o=0,m=""}else q=this._document.createElement("span");if(P=K.bg,X=K.fg,k=K.extended.ext,I=u1,Q=B,e=Y,c1&&G>=h1&&G<=J&&(G=h1),!this._coreService.isCursorHidden&&p1){if(E.push("xterm-cursor"),this._coreBrowserService.isFocused)H&&E.push("xterm-cursor-blink"),E.push(U==="bar"?"xterm-cursor-bar":U==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(j)switch(j){case"outline":E.push("xterm-cursor-outline");break;case"block":E.push("xterm-cursor-block");break;case"bar":E.push("xterm-cursor-bar");break;case"underline":E.push("xterm-cursor-underline")}}if(K.isBold()&&E.push("xterm-bold"),K.isItalic()&&E.push("xterm-italic"),K.isDim()&&E.push("xterm-dim"),m=K.isInvisible()?L.WHITESPACE_CELL_CHAR:K.getChars()||L.WHITESPACE_CELL_CHAR,K.isUnderline()&&(E.push(`xterm-underline-${K.extended.underlineStyle}`),m===" "&&(m="\xA0"),!K.isUnderlineColorDefault()))if(K.isUnderlineColorRGB())q.style.textDecorationColor=`rgb(${$.AttributeData.toColorRGB(K.getUnderlineColor()).join(",")})`;else{let C=K.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&K.isBold()&&C<8&&(C+=8),q.style.textDecorationColor=y.ansi[C].css}K.isOverline()&&(E.push("xterm-overline"),m===" "&&(m="\xA0")),K.isStrikethrough()&&E.push("xterm-strikethrough"),u1&&(q.style.textDecoration="underline");let d1=K.getFgColor(),r1=K.getFgColorMode(),F1=K.getBgColor(),m1=K.getBgColorMode();const a1=!!K.isInverse();if(a1){const C=d1;d1=F1,F1=C;const l1=r1;r1=m1,m1=l1}let k1,F,i,t=!1;switch(this._decorationService.forEachDecorationAtCell(h1,g,void 0,(C)=>{C.options.layer!=="top"&&t||(C.backgroundColorRGB&&(m1=50331648,F1=C.backgroundColorRGB.rgba>>8&16777215,k1=C.backgroundColorRGB),C.foregroundColorRGB&&(r1=50331648,d1=C.foregroundColorRGB.rgba>>8&16777215,F=C.foregroundColorRGB),t=C.options.layer==="top")}),!t&&Y&&(k1=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,F1=k1.rgba>>8&16777215,m1=50331648,t=!0,y.selectionForeground&&(r1=50331648,d1=y.selectionForeground.rgba>>8&16777215,F=y.selectionForeground)),t&&E.push("xterm-decoration-top"),m1){case 16777216:case 33554432:i=y.ansi[F1],E.push(`xterm-bg-${F1}`);break;case 50331648:i=x.rgba.toColor(F1>>16,F1>>8&255,255&F1),this._addStyle(q,`background-color:#${W((F1>>>0).toString(16),"0",6)}`);break;default:a1?(i=y.foreground,E.push(`xterm-bg-${a.INVERTED_DEFAULT_COLOR}`)):i=y.background}switch(k1||K.isDim()&&(k1=x.color.multiplyOpacity(i,0.5)),r1){case 16777216:case 33554432:K.isBold()&&d1<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(d1+=8),this._applyMinimumContrast(q,i,y.ansi[d1],K,k1,void 0)||E.push(`xterm-fg-${d1}`);break;case 50331648:const C=x.rgba.toColor(d1>>16&255,d1>>8&255,255&d1);this._applyMinimumContrast(q,i,C,K,k1,F)||this._addStyle(q,`color:#${W(d1.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(q,i,y.foreground,K,k1,void 0)||a1&&E.push(`xterm-fg-${a.INVERTED_DEFAULT_COLOR}`)}E.length&&(q.className=E.join(" "),E.length=0),p1||c1||o1?q.textContent=m:o++,B!==this.defaultSpacing&&(q.style.letterSpacing=`${B}px`),n.push(q),h1=J}return q&&o&&(q.textContent=m),n}_applyMinimumContrast(s,g,O,U,j,G){if(this._optionsService.rawOptions.minimumContrastRatio===1||T.excludeFromContrastRatioDemands(U.getCode()))return!1;const H=this._getContrastCache(U);let D;if(j||G||(D=H.getColor(g.rgba,O.rgba)),D===void 0){const l=this._optionsService.rawOptions.minimumContrastRatio/(U.isDim()?2:1);D=x.color.ensureContrastRatio(j||g,G||O,l),H.setColor((j||g).rgba,(G||O).rgba,D!=null?D:null)}return!!D&&(this._addStyle(s,`color:${D.css}`),!0)}_getContrastCache(s){return s.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(s,g){s.setAttribute("style",`${s.getAttribute("style")||""}${g};`)}_isCellInSelection(s,g){const O=this._selectionStart,U=this._selectionEnd;return!(!O||!U)&&(this._columnSelectMode?O[0]<=U[0]?s>=O[0]&&g>=O[1]&&s<U[0]&&g<=U[1]:s<O[0]&&g>=O[1]&&s>=U[0]&&g<=U[1]:g>O[1]&&g<U[1]||O[1]===U[1]&&g===O[1]&&s>=O[0]&&s<U[0]||O[1]<U[1]&&g===U[1]&&s<U[0]||O[1]<U[1]&&g===O[1]&&s>=O[0])}};function W(s,g,O){for(;s.length<O;)s=g+s;return s}b.DomRendererRowFactory=Z=h([V(1,d.ICharacterJoinerService),V(2,S.IOptionsService),V(3,d.ICoreBrowserService),V(4,S.ICoreService),V(5,S.IDecorationService),V(6,d.IThemeService)],Z)},2550:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WidthCache=void 0,b.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const h=u.createElement("span"),V=u.createElement("span");V.style.fontWeight="bold";const a=u.createElement("span");a.style.fontStyle="italic";const L=u.createElement("span");L.style.fontWeight="bold",L.style.fontStyle="italic",this._measureElements=[h,V,a,L],this._container.appendChild(h),this._container.appendChild(V),this._container.appendChild(a),this._container.appendChild(L),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,h,V,a){u===this._font&&h===this._fontSize&&V===this._weight&&a===this._weightBold||(this._font=u,this._fontSize=h,this._weight=V,this._weightBold=a,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${V}`,this._measureElements[1].style.fontWeight=`${a}`,this._measureElements[2].style.fontWeight=`${V}`,this._measureElements[3].style.fontWeight=`${a}`,this.clear())}get(u,h,V){let a=0;if(!h&&!V&&u.length===1&&(a=u.charCodeAt(0))<256)return this._flat[a]!==-9999?this._flat[a]:this._flat[a]=this._measure(u,0);let L=u;h&&(L+="B"),V&&(L+="I");let v=this._holey.get(L);if(v===void 0){let S=0;h&&(S|=1),V&&(S|=2),v=this._measure(u,S),this._holey.set(L,v)}return v}_measure(u,h){const V=this._measureElements[h];return V.textContent=u.repeat(32),V.offsetWidth/32}}},2223:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TEXT_BASELINE=b.DIM_OPACITY=b.INVERTED_DEFAULT_COLOR=void 0;const h=u(6114);b.INVERTED_DEFAULT_COLOR=257,b.DIM_OPACITY=0.5,b.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(N,b)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(b,"__esModule",{value:!0}),b.createRenderDimensions=b.excludeFromContrastRatioDemands=b.isRestrictedPowerlineGlyph=b.isPowerlineGlyph=b.throwIfFalsy=void 0,b.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},b.isPowerlineGlyph=u,b.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},b.excludeFromContrastRatioDemands=function(h){return u(h)||function(V){return 9472<=V&&V<=9631}(h)},b.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SelectionModel=void 0,b.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,h=this.selectionEnd;return!(!u||!h)&&(u[1]>h[1]||u[1]===h[1]&&u[0]>h[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CharSizeService=void 0;const a=u(2585),L=u(8460),v=u(844);let S=b.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(d,z,T){super(),this._optionsService=T,this.width=0,this.height=0,this._onCharSizeChange=this.register(new L.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(d,z,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const d=this._measureStrategy.measure();d.width===this.width&&d.height===this.height||(this.width=d.width,this.height=d.height,this._onCharSizeChange.fire())}};b.CharSizeService=S=h([V(2,a.IOptionsService)],S);class x{constructor(d,z,T){this._document=d,this._parentElement=z,this._optionsService=T,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(N,b,u){var h=this&&this.__decorate||function(z,T,$,Z){var W,s=arguments.length,g=s<3?T:Z===null?Z=Object.getOwnPropertyDescriptor(T,$):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(z,T,$,Z);else for(var O=z.length-1;O>=0;O--)(W=z[O])&&(g=(s<3?W(g):s>3?W(T,$,g):W(T,$))||g);return s>3&&g&&Object.defineProperty(T,$,g),g},V=this&&this.__param||function(z,T){return function($,Z){T($,Z,z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CharacterJoinerService=b.JoinedCellData=void 0;const a=u(3734),L=u(643),v=u(511),S=u(2585);class x extends a.AttributeData{constructor(z,T,$){super(),this.content=0,this.combinedData="",this.fg=z.fg,this.bg=z.bg,this.combinedData=T,this._width=$}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(z){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.JoinedCellData=x;let d=b.CharacterJoinerService=class z{constructor(T){this._bufferService=T,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(T){const $={id:this._nextCharacterJoinerId++,handler:T};return this._characterJoiners.push($),$.id}deregister(T){for(let $=0;$<this._characterJoiners.length;$++)if(this._characterJoiners[$].id===T)return this._characterJoiners.splice($,1),!0;return!1}getJoinedCharacters(T){if(this._characterJoiners.length===0)return[];const $=this._bufferService.buffer.lines.get(T);if(!$||$.length===0)return[];const Z=[],W=$.translateToString(!0);let s=0,g=0,O=0,U=$.getFg(0),j=$.getBg(0);for(let G=0;G<$.getTrimmedLength();G++)if($.loadCell(G,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==U||this._workCell.bg!==j){if(G-s>1){const H=this._getJoinedRanges(W,O,g,$,s);for(let D=0;D<H.length;D++)Z.push(H[D])}s=G,O=g,U=this._workCell.fg,j=this._workCell.bg}g+=this._workCell.getChars().length||L.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-s>1){const G=this._getJoinedRanges(W,O,g,$,s);for(let H=0;H<G.length;H++)Z.push(G[H])}return Z}_getJoinedRanges(T,$,Z,W,s){const g=T.substring($,Z);let O=[];try{O=this._characterJoiners[0].handler(g)}catch(U){console.error(U)}for(let U=1;U<this._characterJoiners.length;U++)try{const j=this._characterJoiners[U].handler(g);for(let G=0;G<j.length;G++)z._mergeRanges(O,j[G])}catch(j){console.error(j)}return this._stringRangesToCellRanges(O,W,s),O}_stringRangesToCellRanges(T,$,Z){let W=0,s=!1,g=0,O=T[W];if(O){for(let U=Z;U<this._bufferService.cols;U++){const j=$.getWidth(U),G=$.getString(U).length||L.WHITESPACE_CELL_CHAR.length;if(j!==0){if(!s&&O[0]<=g&&(O[0]=U,s=!0),O[1]<=g){if(O[1]=U,O=T[++W],!O)break;O[0]<=g?(O[0]=U,s=!0):s=!1}g+=G}}O&&(O[1]=this._bufferService.cols)}}static _mergeRanges(T,$){let Z=!1;for(let W=0;W<T.length;W++){const s=T[W];if(Z){if($[1]<=s[0])return T[W-1][1]=$[1],T;if($[1]<=s[1])return T[W-1][1]=Math.max($[1],s[1]),T.splice(W,1),T;T.splice(W,1),W--}else{if($[1]<=s[0])return T.splice(W,0,$),T;if($[1]<=s[1])return s[0]=Math.min($[0],s[0]),T;$[0]<s[1]&&(s[0]=Math.min($[0],s[0]),Z=!0)}}return Z?T[T.length-1][1]=$[1]:T.push($),T}};b.CharacterJoinerService=d=h([V(0,S.IBufferService)],d)},5114:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CoreBrowserService=void 0,b.CoreBrowserService=class{constructor(u,h){this._textarea=u,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(N,b,u){var h=this&&this.__decorate||function(S,x,d,z){var T,$=arguments.length,Z=$<3?x:z===null?z=Object.getOwnPropertyDescriptor(x,d):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(S,x,d,z);else for(var W=S.length-1;W>=0;W--)(T=S[W])&&(Z=($<3?T(Z):$>3?T(x,d,Z):T(x,d))||Z);return $>3&&Z&&Object.defineProperty(x,d,Z),Z},V=this&&this.__param||function(S,x){return function(d,z){x(d,z,S)}};Object.defineProperty(b,"__esModule",{value:!0}),b.MouseService=void 0;const a=u(4725),L=u(9806);let v=b.MouseService=class{constructor(S,x){this._renderService=S,this._charSizeService=x}getCoords(S,x,d,z,T){return L.getCoords(window,S,x,d,z,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,T)}getMouseReportCoords(S,x){const d=L.getCoordsRelativeToElement(window,S,x);if(this._charSizeService.hasValidSize)return d[0]=Math.min(Math.max(d[0],0),this._renderService.dimensions.css.canvas.width-1),d[1]=Math.min(Math.max(d[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(d[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(d[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(d[0]),y:Math.floor(d[1])}}};b.MouseService=v=h([V(0,a.IRenderService),V(1,a.ICharSizeService)],v)},3230:function(N,b,u){var h=this&&this.__decorate||function(Z,W,s,g){var O,U=arguments.length,j=U<3?W:g===null?g=Object.getOwnPropertyDescriptor(W,s):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Z,W,s,g);else for(var G=Z.length-1;G>=0;G--)(O=Z[G])&&(j=(U<3?O(j):U>3?O(W,s,j):O(W,s))||j);return U>3&&j&&Object.defineProperty(W,s,j),j},V=this&&this.__param||function(Z,W){return function(s,g){W(s,g,Z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.RenderService=void 0;const a=u(3656),L=u(6193),v=u(5596),S=u(4725),x=u(8460),d=u(844),z=u(7226),T=u(2585);let $=b.RenderService=class extends d.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(Z,W,s,g,O,U,j,G){if(super(),this._rowCount=Z,this._charSizeService=g,this._renderer=this.register(new d.MutableDisposable),this._pausedResizeTask=new z.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new L.RenderDebouncer(j.window,(H,D)=>this._renderRows(H,D)),this.register(this._renderDebouncer),this._screenDprMonitor=new v.ScreenDprMonitor(j.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(U.onResize(()=>this._fullRefresh())),this.register(U.buffers.onBufferActivate(()=>{var H;return(H=this._renderer.value)===null||H===void 0?void 0:H.clear()})),this.register(s.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(O.onDecorationRegistered(()=>this._fullRefresh())),this.register(O.onDecorationRemoved(()=>this._fullRefresh())),this.register(s.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(U.cols,U.rows),this._fullRefresh()})),this.register(s.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(U.buffer.y,U.buffer.y,!0))),this.register(a.addDisposableDomListener(j.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(G.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in j.window){const H=new j.window.IntersectionObserver((D)=>this._handleIntersectionChange(D[D.length-1]),{threshold:0});H.observe(W),this.register({dispose:()=>H.disconnect()})}}_handleIntersectionChange(Z){this._isPaused=Z.isIntersecting===void 0?Z.intersectionRatio===0:!Z.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(Z,W,s=!1){this._isPaused?this._needsFullRefresh=!0:(s||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(Z,W,this._rowCount))}_renderRows(Z,W){this._renderer.value&&(Z=Math.min(Z,this._rowCount-1),W=Math.min(W,this._rowCount-1),this._renderer.value.renderRows(Z,W),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:Z,end:W}),this._onRender.fire({start:Z,end:W}),this._isNextRenderRedrawOnly=!0)}resize(Z,W){this._rowCount=W,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(Z){this._renderer.value=Z,this._renderer.value.onRequestRedraw((W)=>this.refreshRows(W.start,W.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(Z){return this._renderDebouncer.addRefreshCallback(Z)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var Z,W;this._renderer.value&&((W=(Z=this._renderer.value).clearTextureAtlas)===null||W===void 0||W.call(Z),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(Z,W){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(Z,W)):this._renderer.value.handleResize(Z,W),this._fullRefresh())}handleCharSizeChanged(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleCharSizeChanged()}handleBlur(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleBlur()}handleFocus(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleFocus()}handleSelectionChanged(Z,W,s){var g;this._selectionState.start=Z,this._selectionState.end=W,this._selectionState.columnSelectMode=s,(g=this._renderer.value)===null||g===void 0||g.handleSelectionChanged(Z,W,s)}handleCursorMove(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.handleCursorMove()}clear(){var Z;(Z=this._renderer.value)===null||Z===void 0||Z.clear()}};b.RenderService=$=h([V(2,T.IOptionsService),V(3,S.ICharSizeService),V(4,T.IDecorationService),V(5,T.IBufferService),V(6,S.ICoreBrowserService),V(7,S.IThemeService)],$)},9312:function(N,b,u){var h=this&&this.__decorate||function(O,U,j,G){var H,D=arguments.length,l=D<3?U:G===null?G=Object.getOwnPropertyDescriptor(U,j):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(O,U,j,G);else for(var p=O.length-1;p>=0;p--)(H=O[p])&&(l=(D<3?H(l):D>3?H(U,j,l):H(U,j))||l);return D>3&&l&&Object.defineProperty(U,j,l),l},V=this&&this.__param||function(O,U){return function(j,G){U(j,G,O)}};Object.defineProperty(b,"__esModule",{value:!0}),b.SelectionService=void 0;const a=u(9806),L=u(9504),v=u(456),S=u(4725),x=u(8460),d=u(844),z=u(6114),T=u(4841),$=u(511),Z=u(2585),W=String.fromCharCode(160),s=new RegExp(W,"g");let g=b.SelectionService=class extends d.Disposable{constructor(O,U,j,G,H,D,l,p,f){super(),this._element=O,this._screenElement=U,this._linkifier=j,this._bufferService=G,this._coreService=H,this._mouseService=D,this._optionsService=l,this._renderService=p,this._coreBrowserService=f,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new $.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=(n)=>this._handleMouseMove(n),this._mouseUpListener=(n)=>this._handleMouseUp(n),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim((n)=>this._handleTrim(n)),this.register(this._bufferService.buffers.onBufferActivate((n)=>this._handleBufferActivate(n))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register(d.toDisposable(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const O=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!O||!U||O[0]===U[0]&&O[1]===U[1])}get selectionText(){const O=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;if(!O||!U)return"";const j=this._bufferService.buffer,G=[];if(this._activeSelectionMode===3){if(O[0]===U[0])return"";const H=O[0]<U[0]?O[0]:U[0],D=O[0]<U[0]?U[0]:O[0];for(let l=O[1];l<=U[1];l++){const p=j.translateBufferLineToString(l,!0,H,D);G.push(p)}}else{const H=O[1]===U[1]?U[0]:void 0;G.push(j.translateBufferLineToString(O[1],!0,O[0],H));for(let D=O[1]+1;D<=U[1]-1;D++){const l=j.lines.get(D),p=j.translateBufferLineToString(D,!0);(l==null?void 0:l.isWrapped)?G[G.length-1]+=p:G.push(p)}if(O[1]!==U[1]){const D=j.lines.get(U[1]),l=j.translateBufferLineToString(U[1],!0,0,U[0]);D&&D.isWrapped?G[G.length-1]+=l:G.push(l)}}return G.map((H)=>H.replace(s," ")).join(z.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(O){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),z.isLinux&&O&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(O){const U=this._getMouseBufferCoords(O),j=this._model.finalSelectionStart,G=this._model.finalSelectionEnd;return!!(j&&G&&U)&&this._areCoordsInSelection(U,j,G)}isCellInSelection(O,U){const j=this._model.finalSelectionStart,G=this._model.finalSelectionEnd;return!(!j||!G)&&this._areCoordsInSelection([O,U],j,G)}_areCoordsInSelection(O,U,j){return O[1]>U[1]&&O[1]<j[1]||U[1]===j[1]&&O[1]===U[1]&&O[0]>=U[0]&&O[0]<j[0]||U[1]<j[1]&&O[1]===j[1]&&O[0]<j[0]||U[1]<j[1]&&O[1]===U[1]&&O[0]>=U[0]}_selectWordAtCursor(O,U){var j,G;const H=(G=(j=this._linkifier.currentLink)===null||j===void 0?void 0:j.link)===null||G===void 0?void 0:G.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=T.getRangeLength(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(O);return!!D&&(this._selectWordAt(D,U),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(O,U){this._model.clearSelection(),O=Math.max(O,0),U=Math.min(U,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,O],this._model.selectionEnd=[this._bufferService.cols,U],this.refresh(),this._onSelectionChange.fire()}_handleTrim(O){this._model.handleTrim(O)&&this.refresh()}_getMouseBufferCoords(O){const U=this._mouseService.getCoords(O,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(U)return U[0]--,U[1]--,U[1]+=this._bufferService.buffer.ydisp,U}_getMouseEventScrollAmount(O){let U=a.getCoordsRelativeToElement(this._coreBrowserService.window,O,this._screenElement)[1];const j=this._renderService.dimensions.css.canvas.height;return U>=0&&U<=j?0:(U>j&&(U-=j),U=Math.min(Math.max(U,-50),50),U/=50,U/Math.abs(U)+Math.round(14*U))}shouldForceSelection(O){return z.isMac?O.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:O.shiftKey}handleMouseDown(O){if(this._mouseDownTimeStamp=O.timeStamp,(O.button!==2||!this.hasSelection)&&O.button===0){if(!this._enabled){if(!this.shouldForceSelection(O))return;O.stopPropagation()}O.preventDefault(),this._dragScrollAmount=0,this._enabled&&O.shiftKey?this._handleIncrementalClick(O):O.detail===1?this._handleSingleClick(O):O.detail===2?this._handleDoubleClick(O):O.detail===3&&this._handleTripleClick(O),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(O){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(O))}_handleSingleClick(O){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(O)?3:0,this._model.selectionStart=this._getMouseBufferCoords(O),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const U=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);U&&U.length!==this._model.selectionStart[0]&&U.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(O){this._selectWordAtCursor(O,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(O){const U=this._getMouseBufferCoords(O);U&&(this._activeSelectionMode=2,this._selectLineAt(U[1]))}shouldColumnSelect(O){return O.altKey&&!(z.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(O){if(O.stopImmediatePropagation(),!this._model.selectionStart)return;const U=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(O),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(O),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const j=this._bufferService.buffer;if(this._model.selectionEnd[1]<j.lines.length){const G=j.lines.get(this._model.selectionEnd[1]);G&&G.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}U&&U[0]===this._model.selectionEnd[0]&&U[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const O=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(O.ydisp+this._bufferService.rows,O.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=O.ydisp),this.refresh()}}_handleMouseUp(O){const U=O.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&U<500&&O.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const j=this._mouseService.getCoords(O,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(j&&j[0]!==void 0&&j[1]!==void 0){const G=L.moveToCellSequence(j[0]-1,j[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(G,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const O=this._model.finalSelectionStart,U=this._model.finalSelectionEnd,j=!(!O||!U||O[0]===U[0]&&O[1]===U[1]);j?O&&U&&(this._oldSelectionStart&&this._oldSelectionEnd&&O[0]===this._oldSelectionStart[0]&&O[1]===this._oldSelectionStart[1]&&U[0]===this._oldSelectionEnd[0]&&U[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(O,U,j)):this._oldHasSelection&&this._fireOnSelectionChange(O,U,j)}_fireOnSelectionChange(O,U,j){this._oldSelectionStart=O,this._oldSelectionEnd=U,this._oldHasSelection=j,this._onSelectionChange.fire()}_handleBufferActivate(O){this.clearSelection(),this._trimListener.dispose(),this._trimListener=O.activeBuffer.lines.onTrim((U)=>this._handleTrim(U))}_convertViewportColToCharacterIndex(O,U){let j=U;for(let G=0;U>=G;G++){const H=O.loadCell(G,this._workCell).getChars().length;this._workCell.getWidth()===0?j--:H>1&&U!==G&&(j+=H-1)}return j}setSelection(O,U,j){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[O,U],this._model.selectionStartLength=j,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(O){this._isClickInSelection(O)||(this._selectWordAtCursor(O,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(O,U,j=!0,G=!0){if(O[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,D=H.lines.get(O[1]);if(!D)return;const l=H.translateBufferLineToString(O[1],!1);let p=this._convertViewportColToCharacterIndex(D,O[0]),f=p;const n=O[0]-p;let c=0,y=0,q=0,r=0;if(l.charAt(p)===" "){for(;p>0&&l.charAt(p-1)===" ";)p--;for(;f<l.length&&l.charAt(f+1)===" ";)f++}else{let P=O[0],X=O[0];D.getWidth(P)===0&&(c++,P--),D.getWidth(X)===2&&(y++,X++);const k=D.getString(X).length;for(k>1&&(r+=k-1,f+=k-1);P>0&&p>0&&!this._isCharWordSeparator(D.loadCell(P-1,this._workCell));){D.loadCell(P-1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===0?(c++,P--):I>1&&(q+=I-1,p-=I-1),p--,P--}for(;X<D.length&&f+1<l.length&&!this._isCharWordSeparator(D.loadCell(X+1,this._workCell));){D.loadCell(X+1,this._workCell);const I=this._workCell.getChars().length;this._workCell.getWidth()===2?(y++,X++):I>1&&(r+=I-1,f+=I-1),f++,X++}}f++;let o=p+n-c+q,m=Math.min(this._bufferService.cols,f-p+c+y-q-r);if(U||l.slice(p,f).trim()!==""){if(j&&o===0&&D.getCodePoint(0)!==32){const P=H.lines.get(O[1]-1);if(P&&D.isWrapped&&P.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,O[1]-1],!1,!0,!1);if(X){const k=this._bufferService.cols-X.start;o-=k,m+=k}}}if(G&&o+m===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const P=H.lines.get(O[1]+1);if((P==null?void 0:P.isWrapped)&&P.getCodePoint(0)!==32){const X=this._getWordAt([0,O[1]+1],!1,!1,!0);X&&(m+=X.length)}}return{start:o,length:m}}}_selectWordAt(O,U){const j=this._getWordAt(O,U);if(j){for(;j.start<0;)j.start+=this._bufferService.cols,O[1]--;this._model.selectionStart=[j.start,O[1]],this._model.selectionStartLength=j.length}}_selectToWordAt(O){const U=this._getWordAt(O,!0);if(U){let j=O[1];for(;U.start<0;)U.start+=this._bufferService.cols,j--;if(!this._model.areSelectionValuesReversed())for(;U.start+U.length>this._bufferService.cols;)U.length-=this._bufferService.cols,j++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?U.start:U.start+U.length,j]}}_isCharWordSeparator(O){return O.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(O.getChars())>=0}_selectLineAt(O){const U=this._bufferService.buffer.getWrappedRangeForLine(O),j={start:{x:0,y:U.first},end:{x:this._bufferService.cols-1,y:U.last}};this._model.selectionStart=[0,U.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=T.getRangeLength(j,this._bufferService.cols)}};b.SelectionService=g=h([V(3,Z.IBufferService),V(4,Z.ICoreService),V(5,S.IMouseService),V(6,Z.IOptionsService),V(7,S.IRenderService),V(8,S.ICoreBrowserService)],g)},4725:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IThemeService=b.ICharacterJoinerService=b.ISelectionService=b.IRenderService=b.IMouseService=b.ICoreBrowserService=b.ICharSizeService=void 0;const h=u(8343);b.ICharSizeService=h.createDecorator("CharSizeService"),b.ICoreBrowserService=h.createDecorator("CoreBrowserService"),b.IMouseService=h.createDecorator("MouseService"),b.IRenderService=h.createDecorator("RenderService"),b.ISelectionService=h.createDecorator("SelectionService"),b.ICharacterJoinerService=h.createDecorator("CharacterJoinerService"),b.IThemeService=h.createDecorator("ThemeService")},6731:function(N,b,u){var h=this&&this.__decorate||function(g,O,U,j){var G,H=arguments.length,D=H<3?O:j===null?j=Object.getOwnPropertyDescriptor(O,U):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(g,O,U,j);else for(var l=g.length-1;l>=0;l--)(G=g[l])&&(D=(H<3?G(D):H>3?G(O,U,D):G(O,U))||D);return H>3&&D&&Object.defineProperty(O,U,D),D},V=this&&this.__param||function(g,O){return function(U,j){O(U,j,g)}};Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeService=b.DEFAULT_ANSI_COLORS=void 0;const a=u(7239),L=u(8055),v=u(8460),S=u(844),x=u(2585),d=L.css.toColor("#ffffff"),z=L.css.toColor("#000000"),T=L.css.toColor("#ffffff"),$=L.css.toColor("#000000"),Z={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};b.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const g=[L.css.toColor("#2e3436"),L.css.toColor("#cc0000"),L.css.toColor("#4e9a06"),L.css.toColor("#c4a000"),L.css.toColor("#3465a4"),L.css.toColor("#75507b"),L.css.toColor("#06989a"),L.css.toColor("#d3d7cf"),L.css.toColor("#555753"),L.css.toColor("#ef2929"),L.css.toColor("#8ae234"),L.css.toColor("#fce94f"),L.css.toColor("#729fcf"),L.css.toColor("#ad7fa8"),L.css.toColor("#34e2e2"),L.css.toColor("#eeeeec")],O=[0,95,135,175,215,255];for(let U=0;U<216;U++){const j=O[U/36%6|0],G=O[U/6%6|0],H=O[U%6];g.push({css:L.channels.toCss(j,G,H),rgba:L.channels.toRgba(j,G,H)})}for(let U=0;U<24;U++){const j=8+10*U;g.push({css:L.channels.toCss(j,j,j),rgba:L.channels.toRgba(j,j,j)})}return g})());let W=b.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(g){super(),this._optionsService=g,this._contrastCache=new a.ColorContrastCache,this._halfContrastCache=new a.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:d,background:z,cursor:T,cursorAccent:$,selectionForeground:void 0,selectionBackgroundTransparent:Z,selectionBackgroundOpaque:L.color.blend(z,Z),selectionInactiveBackgroundTransparent:Z,selectionInactiveBackgroundOpaque:L.color.blend(z,Z),ansi:b.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(g={}){const O=this._colors;if(O.foreground=s(g.foreground,d),O.background=s(g.background,z),O.cursor=s(g.cursor,T),O.cursorAccent=s(g.cursorAccent,$),O.selectionBackgroundTransparent=s(g.selectionBackground,Z),O.selectionBackgroundOpaque=L.color.blend(O.background,O.selectionBackgroundTransparent),O.selectionInactiveBackgroundTransparent=s(g.selectionInactiveBackground,O.selectionBackgroundTransparent),O.selectionInactiveBackgroundOpaque=L.color.blend(O.background,O.selectionInactiveBackgroundTransparent),O.selectionForeground=g.selectionForeground?s(g.selectionForeground,L.NULL_COLOR):void 0,O.selectionForeground===L.NULL_COLOR&&(O.selectionForeground=void 0),L.color.isOpaque(O.selectionBackgroundTransparent))O.selectionBackgroundTransparent=L.color.opacity(O.selectionBackgroundTransparent,0.3);if(L.color.isOpaque(O.selectionInactiveBackgroundTransparent))O.selectionInactiveBackgroundTransparent=L.color.opacity(O.selectionInactiveBackgroundTransparent,0.3);if(O.ansi=b.DEFAULT_ANSI_COLORS.slice(),O.ansi[0]=s(g.black,b.DEFAULT_ANSI_COLORS[0]),O.ansi[1]=s(g.red,b.DEFAULT_ANSI_COLORS[1]),O.ansi[2]=s(g.green,b.DEFAULT_ANSI_COLORS[2]),O.ansi[3]=s(g.yellow,b.DEFAULT_ANSI_COLORS[3]),O.ansi[4]=s(g.blue,b.DEFAULT_ANSI_COLORS[4]),O.ansi[5]=s(g.magenta,b.DEFAULT_ANSI_COLORS[5]),O.ansi[6]=s(g.cyan,b.DEFAULT_ANSI_COLORS[6]),O.ansi[7]=s(g.white,b.DEFAULT_ANSI_COLORS[7]),O.ansi[8]=s(g.brightBlack,b.DEFAULT_ANSI_COLORS[8]),O.ansi[9]=s(g.brightRed,b.DEFAULT_ANSI_COLORS[9]),O.ansi[10]=s(g.brightGreen,b.DEFAULT_ANSI_COLORS[10]),O.ansi[11]=s(g.brightYellow,b.DEFAULT_ANSI_COLORS[11]),O.ansi[12]=s(g.brightBlue,b.DEFAULT_ANSI_COLORS[12]),O.ansi[13]=s(g.brightMagenta,b.DEFAULT_ANSI_COLORS[13]),O.ansi[14]=s(g.brightCyan,b.DEFAULT_ANSI_COLORS[14]),O.ansi[15]=s(g.brightWhite,b.DEFAULT_ANSI_COLORS[15]),g.extendedAnsi){const U=Math.min(O.ansi.length-16,g.extendedAnsi.length);for(let j=0;j<U;j++)O.ansi[j+16]=s(g.extendedAnsi[j],b.DEFAULT_ANSI_COLORS[j+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(g){this._restoreColor(g),this._onChangeColors.fire(this.colors)}_restoreColor(g){if(g!==void 0)switch(g){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[g]=this._restoreColors.ansi[g]}else for(let O=0;O<this._restoreColors.ansi.length;++O)this._colors.ansi[O]=this._restoreColors.ansi[O]}modifyColors(g){g(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function s(g,O){if(g!==void 0)try{return L.css.toColor(g)}catch(U){}return O}b.ThemeService=W=h([V(0,x.IOptionsService)],W)},6349:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CircularList=void 0;const h=u(8460),V=u(844);class a extends V.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;const v=new Array(L);for(let S=0;S<Math.min(L,this.length);S++)v[S]=this._array[this._getCyclicIndex(S)];this._array=v,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let v=this._length;v<L;v++)this._array[v]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,v){this._array[this._getCyclicIndex(L)]=v}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,v,...S){if(v){for(let x=L;x<this._length-v;x++)this._array[this._getCyclicIndex(x)]=this._array[this._getCyclicIndex(x+v)];this._length-=v,this.onDeleteEmitter.fire({index:L,amount:v})}for(let x=this._length-1;x>=L;x--)this._array[this._getCyclicIndex(x+S.length)]=this._array[this._getCyclicIndex(x)];for(let x=0;x<S.length;x++)this._array[this._getCyclicIndex(L+x)]=S[x];if(S.length&&this.onInsertEmitter.fire({index:L,amount:S.length}),this._length+S.length>this._maxLength){const x=this._length+S.length-this._maxLength;this._startIndex+=x,this._length=this._maxLength,this.onTrimEmitter.fire(x)}else this._length+=S.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,v,S){if(!(v<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let d=v-1;d>=0;d--)this.set(L+d+S,this.get(L+d));const x=L+v+S-this._length;if(x>0)for(this._length+=x;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let x=0;x<v;x++)this.set(L+x+S,this.get(L+x))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}b.CircularList=a},1439:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.clone=void 0,b.clone=function u(h,V=5){if(typeof h!="object")return h;const a=Array.isArray(h)?[]:{};for(let L in h)a[L]=V<=1?h[L]:h[L]&&u(h[L],V-1);return a}},8055:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.contrastRatio=b.toPaddedHex=b.rgba=b.rgb=b.css=b.color=b.channels=b.NULL_COLOR=void 0;const h=u(6114);let V=0,a=0,L=0,v=0;var S,x,d,z,T;function $(W){const s=W.toString(16);return s.length<2?"0"+s:s}function Z(W,s){return W<s?(s+0.05)/(W+0.05):(W+0.05)/(s+0.05)}b.NULL_COLOR={css:"#00000000",rgba:0},function(W){W.toCss=function(s,g,O,U){return U!==void 0?`#${$(s)}${$(g)}${$(O)}${$(U)}`:`#${$(s)}${$(g)}${$(O)}`},W.toRgba=function(s,g,O,U=255){return(s<<24|g<<16|O<<8|U)>>>0}}(S||(b.channels=S={})),function(W){function s(g,O){return v=Math.round(255*O),[V,a,L]=T.toChannels(g.rgba),{css:S.toCss(V,a,L,v),rgba:S.toRgba(V,a,L,v)}}W.blend=function(g,O){if(v=(255&O.rgba)/255,v===1)return{css:O.css,rgba:O.rgba};const U=O.rgba>>24&255,j=O.rgba>>16&255,G=O.rgba>>8&255,H=g.rgba>>24&255,D=g.rgba>>16&255,l=g.rgba>>8&255;return V=H+Math.round((U-H)*v),a=D+Math.round((j-D)*v),L=l+Math.round((G-l)*v),{css:S.toCss(V,a,L),rgba:S.toRgba(V,a,L)}},W.isOpaque=function(g){return(255&g.rgba)==255},W.ensureContrastRatio=function(g,O,U){const j=T.ensureContrastRatio(g.rgba,O.rgba,U);if(j)return T.toColor(j>>24&255,j>>16&255,j>>8&255)},W.opaque=function(g){const O=(255|g.rgba)>>>0;return[V,a,L]=T.toChannels(O),{css:S.toCss(V,a,L),rgba:O}},W.opacity=s,W.multiplyOpacity=function(g,O){return v=255&g.rgba,s(g,v*O/255)},W.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(x||(b.color=x={})),function(W){let s,g;if(!h.isNode){const O=document.createElement("canvas");O.width=1,O.height=1;const U=O.getContext("2d",{willReadFrequently:!0});U&&(s=U,s.globalCompositeOperation="copy",g=s.createLinearGradient(0,0,1,1))}W.toColor=function(O){if(O.match(/#[\da-f]{3,8}/i))switch(O.length){case 4:return V=parseInt(O.slice(1,2).repeat(2),16),a=parseInt(O.slice(2,3).repeat(2),16),L=parseInt(O.slice(3,4).repeat(2),16),T.toColor(V,a,L);case 5:return V=parseInt(O.slice(1,2).repeat(2),16),a=parseInt(O.slice(2,3).repeat(2),16),L=parseInt(O.slice(3,4).repeat(2),16),v=parseInt(O.slice(4,5).repeat(2),16),T.toColor(V,a,L,v);case 7:return{css:O,rgba:(parseInt(O.slice(1),16)<<8|255)>>>0};case 9:return{css:O,rgba:parseInt(O.slice(1),16)>>>0}}const U=O.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(U)return V=parseInt(U[1]),a=parseInt(U[2]),L=parseInt(U[3]),v=Math.round(255*(U[5]===void 0?1:parseFloat(U[5]))),T.toColor(V,a,L,v);if(!s||!g)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=g,s.fillStyle=O,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[V,a,L,v]=s.getImageData(0,0,1,1).data,v!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(V,a,L,v),css:O}}}(d||(b.css=d={})),function(W){function s(g,O,U){const j=g/255,G=O/255,H=U/255;return 0.2126*(j<=0.03928?j/12.92:Math.pow((j+0.055)/1.055,2.4))+0.7152*(G<=0.03928?G/12.92:Math.pow((G+0.055)/1.055,2.4))+0.0722*(H<=0.03928?H/12.92:Math.pow((H+0.055)/1.055,2.4))}W.relativeLuminance=function(g){return s(g>>16&255,g>>8&255,255&g)},W.relativeLuminance2=s}(z||(b.rgb=z={})),function(W){function s(O,U,j){const G=O>>24&255,H=O>>16&255,D=O>>8&255;let l=U>>24&255,p=U>>16&255,f=U>>8&255,n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));for(;n<j&&(l>0||p>0||f>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),f-=Math.max(0,Math.ceil(0.1*f)),n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));return(l<<24|p<<16|f<<8|255)>>>0}function g(O,U,j){const G=O>>24&255,H=O>>16&255,D=O>>8&255;let l=U>>24&255,p=U>>16&255,f=U>>8&255,n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));for(;n<j&&(l<255||p<255||f<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),f=Math.min(255,f+Math.ceil(0.1*(255-f))),n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));return(l<<24|p<<16|f<<8|255)>>>0}W.ensureContrastRatio=function(O,U,j){const G=z.relativeLuminance(O>>8),H=z.relativeLuminance(U>>8);if(Z(G,H)<j){if(H<G){const p=s(O,U,j),f=Z(G,z.relativeLuminance(p>>8));if(f<j){const n=g(O,U,j);return f>Z(G,z.relativeLuminance(n>>8))?p:n}return p}const D=g(O,U,j),l=Z(G,z.relativeLuminance(D>>8));if(l<j){const p=s(O,U,j);return l>Z(G,z.relativeLuminance(p>>8))?D:p}return D}},W.reduceLuminance=s,W.increaseLuminance=g,W.toChannels=function(O){return[O>>24&255,O>>16&255,O>>8&255,255&O]},W.toColor=function(O,U,j,G){return{css:S.toCss(O,U,j,G),rgba:S.toRgba(O,U,j,G)}}}(T||(b.rgba=T={})),b.toPaddedHex=$,b.contrastRatio=Z},8969:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CoreTerminal=void 0;const h=u(844),V=u(2585),a=u(4348),L=u(7866),v=u(744),S=u(7302),x=u(6975),d=u(8460),z=u(1753),T=u(1480),$=u(7994),Z=u(9282),W=u(5435),s=u(5981),g=u(2660);let O=!1;class U extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new d.EventEmitter),this._onScroll.event((j)=>{var G;(G=this._onScrollApi)===null||G===void 0||G.fire(j.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(j){for(let G in j)this.optionsService.options[G]=j[G]}constructor(j){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new d.EventEmitter),this._instantiationService=new a.InstantiationService,this.optionsService=this.register(new S.OptionsService(j)),this._instantiationService.setService(V.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(V.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(L.LogService)),this._instantiationService.setService(V.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(V.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(z.CoreMouseService)),this._instantiationService.setService(V.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(T.UnicodeService)),this._instantiationService.setService(V.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance($.CharsetService),this._instantiationService.setService(V.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(g.OscLinkService),this._instantiationService.setService(V.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new W.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register(d.forwardEvent(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register(d.forwardEvent(this._bufferService.onResize,this._onResize)),this.register(d.forwardEvent(this.coreService.onData,this._onData)),this.register(d.forwardEvent(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll((G)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll((G)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new s.WriteBuffer((G,H)=>this._inputHandler.parse(G,H))),this.register(d.forwardEvent(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(j,G){this._writeBuffer.write(j,G)}writeSync(j,G){this._logService.logLevel<=V.LogLevelEnum.WARN&&!O&&(this._logService.warn("writeSync is unreliable and will be removed soon."),O=!0),this._writeBuffer.writeSync(j,G)}resize(j,G){isNaN(j)||isNaN(G)||(j=Math.max(j,v.MINIMUM_COLS),G=Math.max(G,v.MINIMUM_ROWS),this._bufferService.resize(j,G))}scroll(j,G=!1){this._bufferService.scroll(j,G)}scrollLines(j,G,H){this._bufferService.scrollLines(j,G,H)}scrollPages(j){this.scrollLines(j*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(j){const G=j-this._bufferService.buffer.ydisp;G!==0&&this.scrollLines(G)}registerEscHandler(j,G){return this._inputHandler.registerEscHandler(j,G)}registerDcsHandler(j,G){return this._inputHandler.registerDcsHandler(j,G)}registerCsiHandler(j,G){return this._inputHandler.registerCsiHandler(j,G)}registerOscHandler(j,G){return this._inputHandler.registerOscHandler(j,G)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let j=!1;const G=this.optionsService.rawOptions.windowsPty;G&&G.buildNumber!==void 0&&G.buildNumber!==void 0?j=G.backend==="conpty"&&G.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(j=!0),j?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const j=[];j.push(this.onLineFeed(Z.updateWindowsModeWrappedState.bind(null,this._bufferService))),j.push(this.registerCsiHandler({final:"H"},()=>(Z.updateWindowsModeWrappedState(this._bufferService),!1))),this._windowsWrappingHeuristics.value=h.toDisposable(()=>{for(let G of j)G.dispose()})}}}b.CoreTerminal=U},8460:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.forwardEvent=b.EventEmitter=void 0,b.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){const V=[];for(let a=0;a<this._listeners.length;a++)V.push(this._listeners[a]);for(let a=0;a<V.length;a++)V[a].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},b.forwardEvent=function(u,h){return u((V)=>h.fire(V))}},5435:function(N,b,u){var h=this&&this.__decorate||function(n,c,y,q){var r,o=arguments.length,m=o<3?c:q===null?q=Object.getOwnPropertyDescriptor(c,y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(n,c,y,q);else for(var P=n.length-1;P>=0;P--)(r=n[P])&&(m=(o<3?r(m):o>3?r(c,y,m):r(c,y))||m);return o>3&&m&&Object.defineProperty(c,y,m),m},V=this&&this.__param||function(n,c){return function(y,q){c(y,q,n)}};Object.defineProperty(b,"__esModule",{value:!0}),b.InputHandler=b.WindowsOptionsReportType=void 0;const a=u(2584),L=u(7116),v=u(2015),S=u(844),x=u(482),d=u(8437),z=u(8460),T=u(643),$=u(511),Z=u(3734),W=u(2585),s=u(6242),g=u(6351),O=u(5941),U={"(":0,")":1,"*":2,"+":3,"-":1,".":2},j=131072;function G(n,c){if(n>24)return c.setWinLines||!1;switch(n){case 1:return!!c.restoreWin;case 2:return!!c.minimizeWin;case 3:return!!c.setWinPosition;case 4:return!!c.setWinSizePixels;case 5:return!!c.raiseWin;case 6:return!!c.lowerWin;case 7:return!!c.refreshWin;case 8:return!!c.setWinSizeChars;case 9:return!!c.maximizeWin;case 10:return!!c.fullscreenWin;case 11:return!!c.getWinState;case 13:return!!c.getWinPosition;case 14:return!!c.getWinSizePixels;case 15:return!!c.getScreenSizePixels;case 16:return!!c.getCellSizePixels;case 18:return!!c.getWinSizeChars;case 19:return!!c.getScreenSizeChars;case 20:return!!c.getIconTitle;case 21:return!!c.getWinTitle;case 22:return!!c.pushTitle;case 23:return!!c.popTitle;case 24:return!!c.setWinLines}return!1}var H;(function(n){n[n.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",n[n.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H||(b.WindowsOptionsReportType=H={}));let D=0;class l extends S.Disposable{getAttrData(){return this._curAttrData}constructor(n,c,y,q,r,o,m,P,X=new v.EscapeSequenceParser){super(),this._bufferService=n,this._charsetService=c,this._coreService=y,this._logService=q,this._optionsService=r,this._oscLinkService=o,this._coreMouseService=m,this._unicodeService=P,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new $.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new z.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new z.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new z.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new z.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new z.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new z.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new z.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new z.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new z.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new z.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new z.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new z.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new z.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new p(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((k)=>this._activeBuffer=k.activeBuffer)),this._parser.setCsiHandlerFallback((k,I)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:I.toArray()})}),this._parser.setEscHandlerFallback((k)=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})}),this._parser.setExecuteHandlerFallback((k)=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})}),this._parser.setOscHandlerFallback((k,I,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:I,data:Q})}),this._parser.setDcsHandlerFallback((k,I,Q)=>{I==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:I,payload:Q})}),this._parser.setPrintHandler((k,I,Q)=>this.print(k,I,Q)),this._parser.registerCsiHandler({final:"@"},(k)=>this.insertChars(k)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(k)=>this.scrollLeft(k)),this._parser.registerCsiHandler({final:"A"},(k)=>this.cursorUp(k)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(k)=>this.scrollRight(k)),this._parser.registerCsiHandler({final:"B"},(k)=>this.cursorDown(k)),this._parser.registerCsiHandler({final:"C"},(k)=>this.cursorForward(k)),this._parser.registerCsiHandler({final:"D"},(k)=>this.cursorBackward(k)),this._parser.registerCsiHandler({final:"E"},(k)=>this.cursorNextLine(k)),this._parser.registerCsiHandler({final:"F"},(k)=>this.cursorPrecedingLine(k)),this._parser.registerCsiHandler({final:"G"},(k)=>this.cursorCharAbsolute(k)),this._parser.registerCsiHandler({final:"H"},(k)=>this.cursorPosition(k)),this._parser.registerCsiHandler({final:"I"},(k)=>this.cursorForwardTab(k)),this._parser.registerCsiHandler({final:"J"},(k)=>this.eraseInDisplay(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},(k)=>this.eraseInDisplay(k,!0)),this._parser.registerCsiHandler({final:"K"},(k)=>this.eraseInLine(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},(k)=>this.eraseInLine(k,!0)),this._parser.registerCsiHandler({final:"L"},(k)=>this.insertLines(k)),this._parser.registerCsiHandler({final:"M"},(k)=>this.deleteLines(k)),this._parser.registerCsiHandler({final:"P"},(k)=>this.deleteChars(k)),this._parser.registerCsiHandler({final:"S"},(k)=>this.scrollUp(k)),this._parser.registerCsiHandler({final:"T"},(k)=>this.scrollDown(k)),this._parser.registerCsiHandler({final:"X"},(k)=>this.eraseChars(k)),this._parser.registerCsiHandler({final:"Z"},(k)=>this.cursorBackwardTab(k)),this._parser.registerCsiHandler({final:"`"},(k)=>this.charPosAbsolute(k)),this._parser.registerCsiHandler({final:"a"},(k)=>this.hPositionRelative(k)),this._parser.registerCsiHandler({final:"b"},(k)=>this.repeatPrecedingCharacter(k)),this._parser.registerCsiHandler({final:"c"},(k)=>this.sendDeviceAttributesPrimary(k)),this._parser.registerCsiHandler({prefix:">",final:"c"},(k)=>this.sendDeviceAttributesSecondary(k)),this._parser.registerCsiHandler({final:"d"},(k)=>this.linePosAbsolute(k)),this._parser.registerCsiHandler({final:"e"},(k)=>this.vPositionRelative(k)),this._parser.registerCsiHandler({final:"f"},(k)=>this.hVPosition(k)),this._parser.registerCsiHandler({final:"g"},(k)=>this.tabClear(k)),this._parser.registerCsiHandler({final:"h"},(k)=>this.setMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"h"},(k)=>this.setModePrivate(k)),this._parser.registerCsiHandler({final:"l"},(k)=>this.resetMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"l"},(k)=>this.resetModePrivate(k)),this._parser.registerCsiHandler({final:"m"},(k)=>this.charAttributes(k)),this._parser.registerCsiHandler({final:"n"},(k)=>this.deviceStatus(k)),this._parser.registerCsiHandler({prefix:"?",final:"n"},(k)=>this.deviceStatusPrivate(k)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(k)=>this.softReset(k)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(k)=>this.setCursorStyle(k)),this._parser.registerCsiHandler({final:"r"},(k)=>this.setScrollRegion(k)),this._parser.registerCsiHandler({final:"s"},(k)=>this.saveCursor(k)),this._parser.registerCsiHandler({final:"t"},(k)=>this.windowOptions(k)),this._parser.registerCsiHandler({final:"u"},(k)=>this.restoreCursor(k)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(k)=>this.insertColumns(k)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(k)=>this.deleteColumns(k)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(k)=>this.selectProtected(k)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(k)=>this.requestMode(k,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(k)=>this.requestMode(k,!1)),this._parser.setExecuteHandler(a.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(a.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(a.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(a.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(a.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(a.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(a.C1.IND,()=>this.index()),this._parser.setExecuteHandler(a.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(a.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new s.OscHandler((k)=>(this.setTitle(k),this.setIconName(k),!0))),this._parser.registerOscHandler(1,new s.OscHandler((k)=>this.setIconName(k))),this._parser.registerOscHandler(2,new s.OscHandler((k)=>this.setTitle(k))),this._parser.registerOscHandler(4,new s.OscHandler((k)=>this.setOrReportIndexedColor(k))),this._parser.registerOscHandler(8,new s.OscHandler((k)=>this.setHyperlink(k))),this._parser.registerOscHandler(10,new s.OscHandler((k)=>this.setOrReportFgColor(k))),this._parser.registerOscHandler(11,new s.OscHandler((k)=>this.setOrReportBgColor(k))),this._parser.registerOscHandler(12,new s.OscHandler((k)=>this.setOrReportCursorColor(k))),this._parser.registerOscHandler(104,new s.OscHandler((k)=>this.restoreIndexedColor(k))),this._parser.registerOscHandler(110,new s.OscHandler((k)=>this.restoreFgColor(k))),this._parser.registerOscHandler(111,new s.OscHandler((k)=>this.restoreBgColor(k))),this._parser.registerOscHandler(112,new s.OscHandler((k)=>this.restoreCursorColor(k))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let k in L.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},()=>this.selectCharset("("+k)),this._parser.registerEscHandler({intermediates:")",final:k},()=>this.selectCharset(")"+k)),this._parser.registerEscHandler({intermediates:"*",final:k},()=>this.selectCharset("*"+k)),this._parser.registerEscHandler({intermediates:"+",final:k},()=>this.selectCharset("+"+k)),this._parser.registerEscHandler({intermediates:"-",final:k},()=>this.selectCharset("-"+k)),this._parser.registerEscHandler({intermediates:".",final:k},()=>this.selectCharset("."+k)),this._parser.registerEscHandler({intermediates:"/",final:k},()=>this.selectCharset("/"+k));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler((k)=>(this._logService.error("Parsing error: ",k),k)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new g.DcsHandler((k,I)=>this.requestStatusString(k,I)))}_preserveStack(n,c,y,q){this._parseStack.paused=!0,this._parseStack.cursorStartX=n,this._parseStack.cursorStartY=c,this._parseStack.decodedLength=y,this._parseStack.position=q}_logSlowResolvingAsync(n){this._logService.logLevel<=W.LogLevelEnum.WARN&&Promise.race([n,new Promise((c,y)=>setTimeout(()=>y("#SLOW_TIMEOUT"),5000))]).catch((c)=>{if(c!=="#SLOW_TIMEOUT")throw c;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(n,c){let y,q=this._activeBuffer.x,r=this._activeBuffer.y,o=0;const m=this._parseStack.paused;if(m){if(y=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,c))return this._logSlowResolvingAsync(y),y;q=this._parseStack.cursorStartX,r=this._parseStack.cursorStartY,this._parseStack.paused=!1,n.length>j&&(o=this._parseStack.position+j)}if(this._logService.logLevel<=W.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof n=="string"?` "${n}"`:` "${Array.prototype.map.call(n,(P)=>String.fromCharCode(P)).join("")}"`),typeof n=="string"?n.split("").map((P)=>P.charCodeAt(0)):n),this._parseBuffer.length<n.length&&this._parseBuffer.length<j&&(this._parseBuffer=new Uint32Array(Math.min(n.length,j))),m||this._dirtyRowTracker.clearRange(),n.length>j)for(let P=o;P<n.length;P+=j){const X=P+j<n.length?P+j:n.length,k=typeof n=="string"?this._stringDecoder.decode(n.substring(P,X),this._parseBuffer):this._utf8Decoder.decode(n.subarray(P,X),this._parseBuffer);if(y=this._parser.parse(this._parseBuffer,k))return this._preserveStack(q,r,k,P),this._logSlowResolvingAsync(y),y}else if(!m){const P=typeof n=="string"?this._stringDecoder.decode(n,this._parseBuffer):this._utf8Decoder.decode(n,this._parseBuffer);if(y=this._parser.parse(this._parseBuffer,P))return this._preserveStack(q,r,P,0),this._logSlowResolvingAsync(y),y}this._activeBuffer.x===q&&this._activeBuffer.y===r||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(n,c,y){let q,r;const o=this._charsetService.charset,m=this._optionsService.rawOptions.screenReaderMode,P=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,I=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&y-c>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,I.fg,I.bg,I.extended);for(let e=c;e<y;++e){if(q=n[e],r=this._unicodeService.wcwidth(q),q<127&&o){const B=o[String.fromCharCode(q)];B&&(q=B.charCodeAt(0))}if(m&&this._onA11yChar.fire(x.stringFromCodePoint(q)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),r||!this._activeBuffer.x){if(this._activeBuffer.x+r-1>=P){if(X){for(;this._activeBuffer.x<P;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,I.fg,I.bg,I.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=P-1,r===2)continue}if(k&&(Q.insertCells(this._activeBuffer.x,r,this._activeBuffer.getNullCell(I),I),Q.getWidth(P-1)===2&&Q.setCellFromCodePoint(P-1,T.NULL_CELL_CODE,T.NULL_CELL_WIDTH,I.fg,I.bg,I.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,q,r,I.fg,I.bg,I.extended),r>0)for(;--r;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,I.fg,I.bg,I.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,q):Q.addCodepointToCell(this._activeBuffer.x-2,q)}y-c>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<P&&y-c>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,I.fg,I.bg,I.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(n,c){return n.final!=="t"||n.prefix||n.intermediates?this._parser.registerCsiHandler(n,c):this._parser.registerCsiHandler(n,(y)=>!G(y.params[0],this._optionsService.rawOptions.windowOptions)||c(y))}registerDcsHandler(n,c){return this._parser.registerDcsHandler(n,new g.DcsHandler(c))}registerEscHandler(n,c){return this._parser.registerEscHandler(n,c)}registerOscHandler(n,c){return this._parser.registerOscHandler(n,new s.OscHandler(c))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var n;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((n=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||n===void 0?void 0:n.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);c.hasWidth(this._activeBuffer.x)&&!c.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const n=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-n),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(n=this._bufferService.cols-1){this._activeBuffer.x=Math.min(n,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(n,c){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=n,this._activeBuffer.y=this._activeBuffer.scrollTop+c):(this._activeBuffer.x=n,this._activeBuffer.y=c),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(n,c){this._restrictCursor(),this._setCursor(this._activeBuffer.x+n,this._activeBuffer.y+c)}cursorUp(n){const c=this._activeBuffer.y-this._activeBuffer.scrollTop;return c>=0?this._moveCursor(0,-Math.min(c,n.params[0]||1)):this._moveCursor(0,-(n.params[0]||1)),!0}cursorDown(n){const c=this._activeBuffer.scrollBottom-this._activeBuffer.y;return c>=0?this._moveCursor(0,Math.min(c,n.params[0]||1)):this._moveCursor(0,n.params[0]||1),!0}cursorForward(n){return this._moveCursor(n.params[0]||1,0),!0}cursorBackward(n){return this._moveCursor(-(n.params[0]||1),0),!0}cursorNextLine(n){return this.cursorDown(n),this._activeBuffer.x=0,!0}cursorPrecedingLine(n){return this.cursorUp(n),this._activeBuffer.x=0,!0}cursorCharAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(n){return this._setCursor(n.length>=2?(n.params[1]||1)-1:0,(n.params[0]||1)-1),!0}charPosAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(n){return this._moveCursor(n.params[0]||1,0),!0}linePosAbsolute(n){return this._setCursor(this._activeBuffer.x,(n.params[0]||1)-1),!0}vPositionRelative(n){return this._moveCursor(0,n.params[0]||1),!0}hVPosition(n){return this.cursorPosition(n),!0}tabClear(n){const c=n.params[0];return c===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:c===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(n){const c=n.params[0];return c===1&&(this._curAttrData.bg|=536870912),c!==2&&c!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(n,c,y,q=!1,r=!1){const o=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);o.replaceCells(c,y,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),r),q&&(o.isWrapped=!1)}_resetBufferLine(n,c=!1){const y=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);y&&(y.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),c),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+n),y.isWrapped=!1)}eraseInDisplay(n,c=!1){let y;switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:for(y=this._activeBuffer.y,this._dirtyRowTracker.markDirty(y),this._eraseInBufferLine(y++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);y<this._bufferService.rows;y++)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(y);break;case 1:for(y=this._activeBuffer.y,this._dirtyRowTracker.markDirty(y),this._eraseInBufferLine(y,0,this._activeBuffer.x+1,!0,c),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(y+1).isWrapped=!1);y--;)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(0);break;case 2:for(y=this._bufferService.rows,this._dirtyRowTracker.markDirty(y-1);y--;)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(0);break;case 3:const q=this._activeBuffer.lines.length-this._bufferService.rows;q>0&&(this._activeBuffer.lines.trimStart(q),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-q,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-q,0),this._onScroll.fire(0))}return!0}eraseInLine(n,c=!1){switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,c);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,c)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const y=this._activeBuffer.ybase+this._activeBuffer.y,q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,r=this._bufferService.rows-1+this._activeBuffer.ybase-q+1;for(;c--;)this._activeBuffer.lines.splice(r-1,1),this._activeBuffer.lines.splice(y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const y=this._activeBuffer.ybase+this._activeBuffer.y;let q;for(q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,q=this._bufferService.rows-1+this._activeBuffer.ybase-q;c--;)this._activeBuffer.lines.splice(y,1),this._activeBuffer.lines.splice(q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.insertCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.deleteCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.deleteCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.insertCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.insertCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.deleteCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(n){this._restrictCursor();const c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(n.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(n){if(!this._parser.precedingCodepoint)return!0;const c=n.params[0]||1,y=new Uint32Array(c);for(let q=0;q<c;++q)y[q]=this._parser.precedingCodepoint;return this.print(y,0,y.length),!0}sendDeviceAttributesPrimary(n){return n.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(a.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(a.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(n){return n.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(a.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(a.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(n.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(a.C0.ESC+"[>83;40003;0c")),!0}_is(n){return(this._optionsService.rawOptions.termName+"").indexOf(n)===0}setMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),this._charsetService.setgCharset(1,L.DEFAULT_CHARSET),this._charsetService.setgCharset(2,L.DEFAULT_CHARSET),this._charsetService.setgCharset(3,L.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1000:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1000:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),n.params[c]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(n,c){const y=this._coreService.decPrivateModes,{activeProtocol:q,activeEncoding:r}=this._coreMouseService,o=this._coreService,{buffers:m,cols:P}=this._bufferService,{active:X,alt:k}=m,I=this._optionsService.rawOptions,Q=(A)=>A?1:2,e=n.params[0];return B=e,E=c?e===2?4:e===4?Q(o.modes.insertMode):e===12?3:e===20?Q(I.convertEol):0:e===1?Q(y.applicationCursorKeys):e===3?I.windowOptions.setWinLines?P===80?2:P===132?1:0:0:e===6?Q(y.origin):e===7?Q(y.wraparound):e===8?3:e===9?Q(q==="X10"):e===12?Q(I.cursorBlink):e===25?Q(!o.isCursorHidden):e===45?Q(y.reverseWraparound):e===66?Q(y.applicationKeypad):e===67?4:e===1000?Q(q==="VT200"):e===1002?Q(q==="DRAG"):e===1003?Q(q==="ANY"):e===1004?Q(y.sendFocus):e===1005?4:e===1006?Q(r==="SGR"):e===1015?4:e===1016?Q(r==="SGR_PIXELS"):e===1048?1:e===47||e===1047||e===1049?Q(X===k):e===2004?Q(y.bracketedPasteMode):0,o.triggerDataEvent(`${a.C0.ESC}[${c?"":"?"}${B};${E}\$y`),!0;var B,E}_updateAttrColor(n,c,y,q,r){return c===2?(n|=50331648,n&=-16777216,n|=Z.AttributeData.fromColorRGB([y,q,r])):c===5&&(n&=-50331904,n|=33554432|255&y),n}_extractColor(n,c,y){const q=[0,0,-1,0,0,0];let r=0,o=0;do{if(q[o+r]=n.params[c+o],n.hasSubParams(c+o)){const m=n.getSubParams(c+o);let P=0;do q[1]===5&&(r=1),q[o+P+1+r]=m[P];while(++P<m.length&&P+o+1+r<q.length);break}if(q[1]===5&&o+r>=2||q[1]===2&&o+r>=5)break;q[1]&&(r=1)}while(++o+c<n.length&&o+r<q.length);for(let m=2;m<q.length;++m)q[m]===-1&&(q[m]=0);switch(q[0]){case 38:y.fg=this._updateAttrColor(y.fg,q[1],q[3],q[4],q[5]);break;case 48:y.bg=this._updateAttrColor(y.bg,q[1],q[3],q[4],q[5]);break;case 58:y.extended=y.extended.clone(),y.extended.underlineColor=this._updateAttrColor(y.extended.underlineColor,q[1],q[3],q[4],q[5])}return o}_processUnderline(n,c){c.extended=c.extended.clone(),(!~n||n>5)&&(n=1),c.extended.underlineStyle=n,c.fg|=268435456,n===0&&(c.fg&=-268435457),c.updateExtended()}_processSGR0(n){n.fg=d.DEFAULT_ATTR_DATA.fg,n.bg=d.DEFAULT_ATTR_DATA.bg,n.extended=n.extended.clone(),n.extended.underlineStyle=0,n.extended.underlineColor&=-67108864,n.updateExtended()}charAttributes(n){if(n.length===1&&n.params[0]===0)return this._processSGR0(this._curAttrData),!0;const c=n.length;let y;const q=this._curAttrData;for(let r=0;r<c;r++)y=n.params[r],y>=30&&y<=37?(q.fg&=-50331904,q.fg|=16777216|y-30):y>=40&&y<=47?(q.bg&=-50331904,q.bg|=16777216|y-40):y>=90&&y<=97?(q.fg&=-50331904,q.fg|=16777224|y-90):y>=100&&y<=107?(q.bg&=-50331904,q.bg|=16777224|y-100):y===0?this._processSGR0(q):y===1?q.fg|=134217728:y===3?q.bg|=67108864:y===4?(q.fg|=268435456,this._processUnderline(n.hasSubParams(r)?n.getSubParams(r)[0]:1,q)):y===5?q.fg|=536870912:y===7?q.fg|=67108864:y===8?q.fg|=1073741824:y===9?q.fg|=2147483648:y===2?q.bg|=134217728:y===21?this._processUnderline(2,q):y===22?(q.fg&=-134217729,q.bg&=-134217729):y===23?q.bg&=-67108865:y===24?(q.fg&=-268435457,this._processUnderline(0,q)):y===25?q.fg&=-536870913:y===27?q.fg&=-67108865:y===28?q.fg&=-1073741825:y===29?q.fg&=2147483647:y===39?(q.fg&=-67108864,q.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):y===49?(q.bg&=-67108864,q.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):y===38||y===48||y===58?r+=this._extractColor(n,r,q):y===53?q.bg|=1073741824:y===55?q.bg&=-1073741825:y===59?(q.extended=q.extended.clone(),q.extended.underlineColor=-1,q.updateExtended()):y===100?(q.fg&=-67108864,q.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,q.bg&=-67108864,q.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",y);return!0}deviceStatus(n){switch(n.params[0]){case 5:this._coreService.triggerDataEvent(`${a.C0.ESC}[0n`);break;case 6:const c=this._activeBuffer.y+1,y=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[${c};${y}R`)}return!0}deviceStatusPrivate(n){if(n.params[0]===6){const c=this._activeBuffer.y+1,y=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${a.C0.ESC}[?${c};${y}R`)}return!0}softReset(n){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(n){const c=n.params[0]||1;switch(c){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const y=c%2==1;return this._optionsService.options.cursorBlink=y,!0}setScrollRegion(n){const c=n.params[0]||1;let y;return(n.length<2||(y=n.params[1])>this._bufferService.rows||y===0)&&(y=this._bufferService.rows),y>c&&(this._activeBuffer.scrollTop=c-1,this._activeBuffer.scrollBottom=y-1,this._setCursor(0,0)),!0}windowOptions(n){if(!G(n.params[0],this._optionsService.rawOptions.windowOptions))return!0;const c=n.length>1?n.params[1]:0;switch(n.params[0]){case 14:c!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${a.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:c!==0&&c!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),c!==0&&c!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:c!==0&&c!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),c!==0&&c!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(n){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(n){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(n){return this._windowTitle=n,this._onTitleChange.fire(n),!0}setIconName(n){return this._iconName=n,!0}setOrReportIndexedColor(n){const c=[],y=n.split(";");for(;y.length>1;){const q=y.shift(),r=y.shift();if(/^\d+$/.exec(q)){const o=parseInt(q);if(f(o))if(r==="?")c.push({type:0,index:o});else{const m=O.parseColor(r);m&&c.push({type:1,index:o,color:m})}}}return c.length&&this._onColor.fire(c),!0}setHyperlink(n){const c=n.split(";");return!(c.length<2)&&(c[1]?this._createHyperlink(c[0],c[1]):!c[0]&&this._finishHyperlink())}_createHyperlink(n,c){this._getCurrentLinkId()&&this._finishHyperlink();const y=n.split(":");let q;const r=y.findIndex((o)=>o.startsWith("id="));return r!==-1&&(q=y[r].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:q,uri:c}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(n,c){const y=n.split(";");for(let q=0;q<y.length&&!(c>=this._specialColors.length);++q,++c)if(y[q]==="?")this._onColor.fire([{type:0,index:this._specialColors[c]}]);else{const r=O.parseColor(y[q]);r&&this._onColor.fire([{type:1,index:this._specialColors[c],color:r}])}return!0}setOrReportFgColor(n){return this._setOrReportSpecialColor(n,0)}setOrReportBgColor(n){return this._setOrReportSpecialColor(n,1)}setOrReportCursorColor(n){return this._setOrReportSpecialColor(n,2)}restoreIndexedColor(n){if(!n)return this._onColor.fire([{type:2}]),!0;const c=[],y=n.split(";");for(let q=0;q<y.length;++q)if(/^\d+$/.exec(y[q])){const r=parseInt(y[q]);f(r)&&c.push({type:2,index:r})}return c.length&&this._onColor.fire(c),!0}restoreFgColor(n){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(n){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(n){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),!0}selectCharset(n){return n.length!==2?(this.selectDefaultCharset(),!0):(n[0]==="/"||this._charsetService.setgCharset(U[n[0]],L.CHARSETS[n[1]]||L.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const n=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,n,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(n){return this._charsetService.setgLevel(n),!0}screenAlignmentPattern(){const n=new $.CellData;n.content=4194304|"E".charCodeAt(0),n.fg=this._curAttrData.fg,n.bg=this._curAttrData.bg,this._setCursor(0,0);for(let c=0;c<this._bufferService.rows;++c){const y=this._activeBuffer.ybase+this._activeBuffer.y+c,q=this._activeBuffer.lines.get(y);q&&(q.fill(n),q.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(n,c){const y=this._bufferService.buffer,q=this._optionsService.rawOptions;return((r)=>(this._coreService.triggerDataEvent(`${a.C0.ESC}${r}${a.C0.ESC}\\`),!0))(n==='"q'?`P1\$r${this._curAttrData.isProtected()?1:0}"q`:n==='"p'?'P1$r61;1"p':n==="r"?`P1\$r${y.scrollTop+1};${y.scrollBottom+1}r`:n==="m"?"P1$r0m":n===" q"?`P1\$r${{block:2,underline:4,bar:6}[q.cursorStyle]-(q.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(n,c){this._dirtyRowTracker.markRangeDirty(n,c)}}b.InputHandler=l;let p=class{constructor(n){this._bufferService=n,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(n){n<this.start?this.start=n:n>this.end&&(this.end=n)}markRangeDirty(n,c){n>c&&(D=n,n=c,c=D),n<this.start&&(this.start=n),c>this.end&&(this.end=c)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function f(n){return 0<=n&&n<256}p=h([V(0,W.IBufferService)],p)},844:(N,b)=>{function u(h){for(let V of h)V.dispose();h.length=0}Object.defineProperty(b,"__esModule",{value:!0}),b.getDisposeArrayDisposable=b.disposeArray=b.toDisposable=b.MutableDisposable=b.Disposable=void 0,b.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const V=this._disposables.indexOf(h);V!==-1&&this._disposables.splice(V,1)}},b.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var V;this._isDisposed||h===this._value||((V=this._value)===null||V===void 0||V.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},b.toDisposable=function(h){return{dispose:h}},b.disposeArray=u,b.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},1505:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FourKeyMap=b.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(h,V,a){this._data[h]||(this._data[h]={}),this._data[h][V]=a}get(h,V){return this._data[h]?this._data[h][V]:void 0}clear(){this._data={}}}b.TwoKeyMap=u,b.FourKeyMap=class{constructor(){this._data=new u}set(h,V,a,L,v){this._data.get(h,V)||this._data.set(h,V,new u),this._data.get(h,V).set(a,L,v)}get(h,V,a,L){var v;return(v=this._data.get(h,V))===null||v===void 0?void 0:v.get(a,L)}clear(){this._data.clear()}}},6114:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isChromeOS=b.isLinux=b.isWindows=b.isIphone=b.isIpad=b.isMac=b.getSafariVersion=b.isSafari=b.isLegacyEdge=b.isFirefox=b.isNode=void 0,b.isNode=typeof navigator=="undefined";const u=b.isNode?"node":navigator.userAgent,h=b.isNode?"node":navigator.platform;b.isFirefox=u.includes("Firefox"),b.isLegacyEdge=u.includes("Edge"),b.isSafari=/^((?!chrome|android).)*safari/i.test(u),b.getSafariVersion=function(){if(!b.isSafari)return 0;const V=u.match(/Version\/(\d+)/);return V===null||V.length<2?0:parseInt(V[1])},b.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),b.isIpad=h==="iPad",b.isIphone=h==="iPhone",b.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),b.isLinux=h.indexOf("Linux")>=0,b.isChromeOS=/\bCrOS\b/.test(u)},6106:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SortedList=void 0;let u=0;b.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(u=this._search(this._getKey(h)),this._array.splice(u,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const V=this._getKey(h);if(V===void 0)return!1;if(u=this._search(V),u===-1)return!1;if(this._getKey(this._array[u])!==V)return!1;do if(this._array[u]===h)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===V);return!1}*getKeyIterator(h){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===h)}forEachByKey(h,V){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do V(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===h)}values(){return[...this._array].values()}_search(h){let V=0,a=this._array.length-1;for(;a>=V;){let L=V+a>>1;const v=this._getKey(this._array[L]);if(v>h)a=L-1;else{if(!(v<h)){for(;L>0&&this._getKey(this._array[L-1])===h;)L--;return L}V=L+1}}return V}}},7226:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DebouncedIdleTask=b.IdleTaskQueue=b.PriorityTaskQueue=void 0;const h=u(6114);class V{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let v=0,S=0,x=L.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),S=Math.max(v,S),d=L.timeRemaining(),1.5*S>d)return x-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(x-v))}ms`),void this._start();x=d}this.clear()}}class a extends V{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const v=Date.now()+L;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}b.PriorityTaskQueue=a,b.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends V{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:a,b.DebouncedIdleTask=class{constructor(){this._queue=new b.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},9282:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.updateWindowsModeWrappedState=void 0;const h=u(643);b.updateWindowsModeWrappedState=function(V){const a=V.buffer.lines.get(V.buffer.ybase+V.buffer.y-1),L=a==null?void 0:a.get(V.cols-1),v=V.buffer.lines.get(V.buffer.ybase+V.buffer.y);v&&L&&(v.isWrapped=L[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&L[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ExtendedAttrs=b.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(V){return[V>>>16&255,V>>>8&255,255&V]}static fromColorRGB(V){return(255&V[0])<<16|(255&V[1])<<8|255&V[2]}clone(){const V=new u;return V.fg=this.fg,V.bg=this.bg,V.extended=this.extended.clone(),V}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}b.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(V){this._ext=V}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(V){this._ext&=-469762049,this._ext|=V<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(V){this._ext&=-67108864,this._ext|=67108863&V}get urlId(){return this._urlId}set urlId(V){this._urlId=V}constructor(V=0,a=0){this._ext=0,this._urlId=0,this._ext=V,this._urlId=a}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}b.ExtendedAttrs=h},9092:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Buffer=b.MAX_BUFFER_SIZE=void 0;const h=u(6349),V=u(7226),a=u(3734),L=u(8437),v=u(4634),S=u(511),x=u(643),d=u(4863),z=u(7116);b.MAX_BUFFER_SIZE=4294967295,b.Buffer=class{constructor(T,$,Z){this._hasScrollback=T,this._optionsService=$,this._bufferService=Z,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=L.DEFAULT_ATTR_DATA.clone(),this.savedCharset=z.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new V.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(T){return T?(this._nullCell.fg=T.fg,this._nullCell.bg=T.bg,this._nullCell.extended=T.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(T){return T?(this._whitespaceCell.fg=T.fg,this._whitespaceCell.bg=T.bg,this._whitespaceCell.extended=T.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(T,$){return new L.BufferLine(this._bufferService.cols,this.getNullCell(T),$)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const T=this.ybase+this.y-this.ydisp;return T>=0&&T<this._rows}_getCorrectBufferLength(T){if(!this._hasScrollback)return T;const $=T+this._optionsService.rawOptions.scrollback;return $>b.MAX_BUFFER_SIZE?b.MAX_BUFFER_SIZE:$}fillViewportRows(T){if(this.lines.length===0){T===void 0&&(T=L.DEFAULT_ATTR_DATA);let $=this._rows;for(;$--;)this.lines.push(this.getBlankLine(T))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(T,$){const Z=this.getNullCell(L.DEFAULT_ATTR_DATA);let W=0;const s=this._getCorrectBufferLength($);if(s>this.lines.maxLength&&(this.lines.maxLength=s),this.lines.length>0){if(this._cols<T)for(let O=0;O<this.lines.length;O++)W+=+this.lines.get(O).resize(T,Z);let g=0;if(this._rows<$)for(let O=this._rows;O<$;O++)this.lines.length<$+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new L.BufferLine(T,Z)):this.ybase>0&&this.lines.length<=this.ybase+this.y+g+1?(this.ybase--,g++,this.ydisp>0&&this.ydisp--):this.lines.push(new L.BufferLine(T,Z)));else for(let O=this._rows;O>$;O--)this.lines.length>$+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(s<this.lines.maxLength){const O=this.lines.length-s;O>0&&(this.lines.trimStart(O),this.ybase=Math.max(this.ybase-O,0),this.ydisp=Math.max(this.ydisp-O,0),this.savedY=Math.max(this.savedY-O,0)),this.lines.maxLength=s}this.x=Math.min(this.x,T-1),this.y=Math.min(this.y,$-1),g&&(this.y+=g),this.savedX=Math.min(this.savedX,T-1),this.scrollTop=0}if(this.scrollBottom=$-1,this._isReflowEnabled&&(this._reflow(T,$),this._cols>T))for(let g=0;g<this.lines.length;g++)W+=+this.lines.get(g).resize(T,Z);this._cols=T,this._rows=$,this._memoryCleanupQueue.clear(),W>0.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let T=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,T=!1);let $=0;for(;this._memoryCleanupPosition<this.lines.length;)if($+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),$>100)return!0;return T}get _isReflowEnabled(){const T=this._optionsService.rawOptions.windowsPty;return T&&T.buildNumber?this._hasScrollback&&T.backend==="conpty"&&T.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(T,$){this._cols!==T&&(T>this._cols?this._reflowLarger(T,$):this._reflowSmaller(T,$))}_reflowLarger(T,$){const Z=v.reflowLargerGetLinesToRemove(this.lines,this._cols,T,this.ybase+this.y,this.getNullCell(L.DEFAULT_ATTR_DATA));if(Z.length>0){const W=v.reflowLargerCreateNewLayout(this.lines,Z);v.reflowLargerApplyNewLayout(this.lines,W.layout),this._reflowLargerAdjustViewport(T,$,W.countRemoved)}}_reflowLargerAdjustViewport(T,$,Z){const W=this.getNullCell(L.DEFAULT_ATTR_DATA);let s=Z;for(;s-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<$&&this.lines.push(new L.BufferLine(T,W))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-Z,0)}_reflowSmaller(T,$){const Z=this.getNullCell(L.DEFAULT_ATTR_DATA),W=[];let s=0;for(let g=this.lines.length-1;g>=0;g--){let O=this.lines.get(g);if(!O||!O.isWrapped&&O.getTrimmedLength()<=T)continue;const U=[O];for(;O.isWrapped&&g>0;)O=this.lines.get(--g),U.unshift(O);const j=this.ybase+this.y;if(j>=g&&j<g+U.length)continue;const G=U[U.length-1].getTrimmedLength(),H=v.reflowSmallerGetNewLineLengths(U,this._cols,T),D=H.length-U.length;let l;l=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const p=[];for(let r=0;r<D;r++){const o=this.getBlankLine(L.DEFAULT_ATTR_DATA,!0);p.push(o)}p.length>0&&(W.push({start:g+U.length+s,newLines:p}),s+=p.length),U.push(...p);let f=H.length-1,n=H[f];n===0&&(f--,n=H[f]);let c=U.length-D-1,y=G;for(;c>=0;){const r=Math.min(y,n);if(U[f]===void 0)break;if(U[f].copyCellsFrom(U[c],y-r,n-r,r,!0),n-=r,n===0&&(f--,n=H[f]),y-=r,y===0){c--;const o=Math.max(c,0);y=v.getWrappedLineTrimmedLength(U,o,this._cols)}}for(let r=0;r<U.length;r++)H[r]<T&&U[r].setCell(H[r],Z);let q=D-l;for(;q-- >0;)this.ybase===0?this.y<$-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-$&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+$-1)}if(W.length>0){const g=[],O=[];for(let f=0;f<this.lines.length;f++)O.push(this.lines.get(f));const U=this.lines.length;let j=U-1,G=0,H=W[G];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);let D=0;for(let f=Math.min(this.lines.maxLength-1,U+s-1);f>=0;f--)if(H&&H.start>j+D){for(let n=H.newLines.length-1;n>=0;n--)this.lines.set(f--,H.newLines[n]);f++,g.push({index:j+1,amount:H.newLines.length}),D+=H.newLines.length,H=W[++G]}else this.lines.set(f,O[j--]);let l=0;for(let f=g.length-1;f>=0;f--)g[f].index+=l,this.lines.onInsertEmitter.fire(g[f]),l+=g[f].amount;const p=Math.max(0,U+s-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(T,$,Z=0,W){const s=this.lines.get(T);return s?s.translateToString($,Z,W):""}getWrappedRangeForLine(T){let $=T,Z=T;for(;$>0&&this.lines.get($).isWrapped;)$--;for(;Z+1<this.lines.length&&this.lines.get(Z+1).isWrapped;)Z++;return{first:$,last:Z}}setupTabStops(T){for(T!=null?this.tabs[T]||(T=this.prevStop(T)):(this.tabs={},T=0);T<this._cols;T+=this._optionsService.rawOptions.tabStopWidth)this.tabs[T]=!0}prevStop(T){for(T==null&&(T=this.x);!this.tabs[--T]&&T>0;);return T>=this._cols?this._cols-1:T<0?0:T}nextStop(T){for(T==null&&(T=this.x);!this.tabs[++T]&&T<this._cols;);return T>=this._cols?this._cols-1:T<0?0:T}clearMarkers(T){this._isClearing=!0;for(let $=0;$<this.markers.length;$++)this.markers[$].line===T&&(this.markers[$].dispose(),this.markers.splice($--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let T=0;T<this.markers.length;T++)this.markers[T].dispose(),this.markers.splice(T--,1);this._isClearing=!1}addMarker(T){const $=new d.Marker(T);return this.markers.push($),$.register(this.lines.onTrim((Z)=>{$.line-=Z,$.line<0&&$.dispose()})),$.register(this.lines.onInsert((Z)=>{$.line>=Z.index&&($.line+=Z.amount)})),$.register(this.lines.onDelete((Z)=>{$.line>=Z.index&&$.line<Z.index+Z.amount&&$.dispose(),$.line>Z.index&&($.line-=Z.amount)})),$.register($.onDispose(()=>this._removeMarker($))),$}_removeMarker(T){this._isClearing||this.markers.splice(this.markers.indexOf(T),1)}}},8437:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferLine=b.DEFAULT_ATTR_DATA=void 0;const h=u(3734),V=u(511),a=u(643),L=u(482);b.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let v=0;class S{constructor(x,d,z=!1){this.isWrapped=z,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*x);const T=d||V.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);for(let $=0;$<x;++$)this.setCell($,T);this.length=x}get(x){const d=this._data[3*x+0],z=2097151&d;return[this._data[3*x+1],2097152&d?this._combined[x]:z?L.stringFromCodePoint(z):"",d>>22,2097152&d?this._combined[x].charCodeAt(this._combined[x].length-1):z]}set(x,d){this._data[3*x+1]=d[a.CHAR_DATA_ATTR_INDEX],d[a.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[x]=d[1],this._data[3*x+0]=2097152|x|d[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*x+0]=d[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[a.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(x){return this._data[3*x+0]>>22}hasWidth(x){return 12582912&this._data[3*x+0]}getFg(x){return this._data[3*x+1]}getBg(x){return this._data[3*x+2]}hasContent(x){return 4194303&this._data[3*x+0]}getCodePoint(x){const d=this._data[3*x+0];return 2097152&d?this._combined[x].charCodeAt(this._combined[x].length-1):2097151&d}isCombined(x){return 2097152&this._data[3*x+0]}getString(x){const d=this._data[3*x+0];return 2097152&d?this._combined[x]:2097151&d?L.stringFromCodePoint(2097151&d):""}isProtected(x){return 536870912&this._data[3*x+2]}loadCell(x,d){return v=3*x,d.content=this._data[v+0],d.fg=this._data[v+1],d.bg=this._data[v+2],2097152&d.content&&(d.combinedData=this._combined[x]),268435456&d.bg&&(d.extended=this._extendedAttrs[x]),d}setCell(x,d){2097152&d.content&&(this._combined[x]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[x]=d.extended),this._data[3*x+0]=d.content,this._data[3*x+1]=d.fg,this._data[3*x+2]=d.bg}setCellFromCodePoint(x,d,z,T,$,Z){268435456&$&&(this._extendedAttrs[x]=Z),this._data[3*x+0]=d|z<<22,this._data[3*x+1]=T,this._data[3*x+2]=$}addCodepointToCell(x,d){let z=this._data[3*x+0];2097152&z?this._combined[x]+=L.stringFromCodePoint(d):(2097151&z?(this._combined[x]=L.stringFromCodePoint(2097151&z)+L.stringFromCodePoint(d),z&=-2097152,z|=2097152):z=d|4194304,this._data[3*x+0]=z)}insertCells(x,d,z,T){if((x%=this.length)&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs),d<this.length-x){const $=new V.CellData;for(let Z=this.length-x-d-1;Z>=0;--Z)this.setCell(x+d+Z,this.loadCell(x+Z,$));for(let Z=0;Z<d;++Z)this.setCell(x+Z,z)}else for(let $=x;$<this.length;++$)this.setCell($,z);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs)}deleteCells(x,d,z,T){if(x%=this.length,d<this.length-x){const $=new V.CellData;for(let Z=0;Z<this.length-x-d;++Z)this.setCell(x+Z,this.loadCell(x+d+Z,$));for(let Z=this.length-d;Z<this.length;++Z)this.setCell(Z,z)}else for(let $=x;$<this.length;++$)this.setCell($,z);x&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs),this.getWidth(x)!==0||this.hasContent(x)||this.setCellFromCodePoint(x,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs)}replaceCells(x,d,z,T,$=!1){if($)for(x&&this.getWidth(x-1)===2&&!this.isProtected(x-1)&&this.setCellFromCodePoint(x-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs);x<d&&x<this.length;)this.isProtected(x)||this.setCell(x,z),x++;else for(x&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(T==null?void 0:T.fg)||0,(T==null?void 0:T.bg)||0,(T==null?void 0:T.extended)||new h.ExtendedAttrs);x<d&&x<this.length;)this.setCell(x++,z)}resize(x,d){if(x===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const z=3*x;if(x>this.length){if(this._data.buffer.byteLength>=4*z)this._data=new Uint32Array(this._data.buffer,0,z);else{const T=new Uint32Array(z);T.set(this._data),this._data=T}for(let T=this.length;T<x;++T)this.setCell(T,d)}else{this._data=this._data.subarray(0,z);const T=Object.keys(this._combined);for(let Z=0;Z<T.length;Z++){const W=parseInt(T[Z],10);W>=x&&delete this._combined[W]}const $=Object.keys(this._extendedAttrs);for(let Z=0;Z<$.length;Z++){const W=parseInt($[Z],10);W>=x&&delete this._extendedAttrs[W]}}return this.length=x,4*z*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const x=new Uint32Array(this._data.length);return x.set(this._data),this._data=x,1}return 0}fill(x,d=!1){if(d)for(let z=0;z<this.length;++z)this.isProtected(z)||this.setCell(z,x);else{this._combined={},this._extendedAttrs={};for(let z=0;z<this.length;++z)this.setCell(z,x)}}copyFrom(x){this.length!==x.length?this._data=new Uint32Array(x._data):this._data.set(x._data),this.length=x.length,this._combined={};for(let d in x._combined)this._combined[d]=x._combined[d];this._extendedAttrs={};for(let d in x._extendedAttrs)this._extendedAttrs[d]=x._extendedAttrs[d];this.isWrapped=x.isWrapped}clone(){const x=new S(0);x._data=new Uint32Array(this._data),x.length=this.length;for(let d in this._combined)x._combined[d]=this._combined[d];for(let d in this._extendedAttrs)x._extendedAttrs[d]=this._extendedAttrs[d];return x.isWrapped=this.isWrapped,x}getTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0])return x+(this._data[3*x+0]>>22);return 0}getNoBgTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0]||50331648&this._data[3*x+2])return x+(this._data[3*x+0]>>22);return 0}copyCellsFrom(x,d,z,T,$){const Z=x._data;if($)for(let s=T-1;s>=0;s--){for(let g=0;g<3;g++)this._data[3*(z+s)+g]=Z[3*(d+s)+g];268435456&Z[3*(d+s)+2]&&(this._extendedAttrs[z+s]=x._extendedAttrs[d+s])}else for(let s=0;s<T;s++){for(let g=0;g<3;g++)this._data[3*(z+s)+g]=Z[3*(d+s)+g];268435456&Z[3*(d+s)+2]&&(this._extendedAttrs[z+s]=x._extendedAttrs[d+s])}const W=Object.keys(x._combined);for(let s=0;s<W.length;s++){const g=parseInt(W[s],10);g>=d&&(this._combined[g-d+z]=x._combined[g])}}translateToString(x=!1,d=0,z=this.length){x&&(z=Math.min(z,this.getTrimmedLength()));let T="";for(;d<z;){const $=this._data[3*d+0],Z=2097151&$;T+=2097152&$?this._combined[d]:Z?L.stringFromCodePoint(Z):a.WHITESPACE_CELL_CHAR,d+=$>>22||1}return T}}b.BufferLine=S},4841:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getRangeLength=void 0,b.getRangeLength=function(u,h){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return h*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(N,b)=>{function u(h,V,a){if(V===h.length-1)return h[V].getTrimmedLength();const L=!h[V].hasContent(a-1)&&h[V].getWidth(a-1)===1,v=h[V+1].getWidth(0)===2;return L&&v?a-1:a}Object.defineProperty(b,"__esModule",{value:!0}),b.getWrappedLineTrimmedLength=b.reflowSmallerGetNewLineLengths=b.reflowLargerApplyNewLayout=b.reflowLargerCreateNewLayout=b.reflowLargerGetLinesToRemove=void 0,b.reflowLargerGetLinesToRemove=function(h,V,a,L,v){const S=[];for(let x=0;x<h.length-1;x++){let d=x,z=h.get(++d);if(!z.isWrapped)continue;const T=[h.get(x)];for(;d<h.length&&z.isWrapped;)T.push(z),z=h.get(++d);if(L>=x&&L<d){x+=T.length-1;continue}let $=0,Z=u(T,$,V),W=1,s=0;for(;W<T.length;){const O=u(T,W,V),U=O-s,j=a-Z,G=Math.min(U,j);T[$].copyCellsFrom(T[W],s,Z,G,!1),Z+=G,Z===a&&($++,Z=0),s+=G,s===O&&(W++,s=0),Z===0&&$!==0&&T[$-1].getWidth(a-1)===2&&(T[$].copyCellsFrom(T[$-1],a-1,Z++,1,!1),T[$-1].setCell(a-1,v))}T[$].replaceCells(Z,a,v);let g=0;for(let O=T.length-1;O>0&&(O>$||T[O].getTrimmedLength()===0);O--)g++;g>0&&(S.push(x+T.length-g),S.push(g)),x+=T.length-1}return S},b.reflowLargerCreateNewLayout=function(h,V){const a=[];let L=0,v=V[L],S=0;for(let x=0;x<h.length;x++)if(v===x){const d=V[++L];h.onDeleteEmitter.fire({index:x-S,amount:d}),x+=d-1,S+=d,v=V[++L]}else a.push(x);return{layout:a,countRemoved:S}},b.reflowLargerApplyNewLayout=function(h,V){const a=[];for(let L=0;L<V.length;L++)a.push(h.get(V[L]));for(let L=0;L<a.length;L++)h.set(L,a[L]);h.length=V.length},b.reflowSmallerGetNewLineLengths=function(h,V,a){const L=[],v=h.map((z,T)=>u(h,T,V)).reduce((z,T)=>z+T);let S=0,x=0,d=0;for(;d<v;){if(v-d<a){L.push(v-d);break}S+=a;const z=u(h,x,V);S>z&&(S-=z,x++);const T=h[x].getWidth(S-1)===2;T&&S--;const $=T?a-1:a;L.push($),d+=$}return L},b.getWrappedLineTrimmedLength=u},5295:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferSet=void 0;const h=u(8460),V=u(844),a=u(9092);class L extends V.Disposable{constructor(v,S){super(),this._optionsService=v,this._bufferService=S,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new a.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new a.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,S){this._normal.resize(v,S),this._alt.resize(v,S),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}b.BufferSet=L},511:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellData=void 0;const h=u(482),V=u(643),a=u(3734);class L extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const S=new L;return S.setFromCharData(v),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?h.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[V.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(v[V.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(v[V.CHAR_DATA_CHAR_INDEX].length===2){const x=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=x&&x<=56319){const d=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(x-55296)+d-56320+65536|v[V.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[V.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=v[V.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[V.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.CellData=L},643:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WHITESPACE_CELL_CODE=b.WHITESPACE_CELL_WIDTH=b.WHITESPACE_CELL_CHAR=b.NULL_CELL_CODE=b.NULL_CELL_WIDTH=b.NULL_CELL_CHAR=b.CHAR_DATA_CODE_INDEX=b.CHAR_DATA_WIDTH_INDEX=b.CHAR_DATA_CHAR_INDEX=b.CHAR_DATA_ATTR_INDEX=b.DEFAULT_EXT=b.DEFAULT_ATTR=b.DEFAULT_COLOR=void 0,b.DEFAULT_COLOR=0,b.DEFAULT_ATTR=256|b.DEFAULT_COLOR<<9,b.DEFAULT_EXT=0,b.CHAR_DATA_ATTR_INDEX=0,b.CHAR_DATA_CHAR_INDEX=1,b.CHAR_DATA_WIDTH_INDEX=2,b.CHAR_DATA_CODE_INDEX=3,b.NULL_CELL_CHAR="",b.NULL_CELL_WIDTH=1,b.NULL_CELL_CODE=0,b.WHITESPACE_CELL_CHAR=" ",b.WHITESPACE_CELL_WIDTH=1,b.WHITESPACE_CELL_CODE=32},4863:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Marker=void 0;const h=u(8460),V=u(844);class a{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=a._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),V.disposeArray(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}b.Marker=a,a._nextId=1},7116:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_CHARSET=b.CHARSETS=void 0,b.CHARSETS={},b.DEFAULT_CHARSET=b.CHARSETS.B,b.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},b.CHARSETS.A={"#":"\xA3"},b.CHARSETS.B=void 0,b.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},b.CHARSETS.C=b.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},b.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},b.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},b.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},b.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},b.CHARSETS.E=b.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},b.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},b.CHARSETS.H=b.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},b.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(N,b)=>{var u,h,V;Object.defineProperty(b,"__esModule",{value:!0}),b.C1_ESCAPED=b.C1=b.C0=void 0,function(a){a.NUL="\0",a.SOH="",a.STX="",a.ETX="",a.EOT="",a.ENQ="",a.ACK="",a.BEL="",a.BS="\b",a.HT="\t",a.LF="\n",a.VT="\v",a.FF="\f",a.CR="\r",a.SO="",a.SI="",a.DLE="",a.DC1="",a.DC2="",a.DC3="",a.DC4="",a.NAK="",a.SYN="",a.ETB="",a.CAN="",a.EM="",a.SUB="",a.ESC="",a.FS="",a.GS="",a.RS="",a.US="",a.SP=" ",a.DEL=""}(u||(b.C0=u={})),function(a){a.PAD="\x80",a.HOP="\x81",a.BPH="\x82",a.NBH="\x83",a.IND="\x84",a.NEL="\x85",a.SSA="\x86",a.ESA="\x87",a.HTS="\x88",a.HTJ="\x89",a.VTS="\x8A",a.PLD="\x8B",a.PLU="\x8C",a.RI="\x8D",a.SS2="\x8E",a.SS3="\x8F",a.DCS="\x90",a.PU1="\x91",a.PU2="\x92",a.STS="\x93",a.CCH="\x94",a.MW="\x95",a.SPA="\x96",a.EPA="\x97",a.SOS="\x98",a.SGCI="\x99",a.SCI="\x9A",a.CSI="\x9B",a.ST="\x9C",a.OSC="\x9D",a.PM="\x9E",a.APC="\x9F"}(h||(b.C1=h={})),function(a){a.ST=`${u.ESC}\\`}(V||(b.C1_ESCAPED=V={}))},7399:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.evaluateKeyboardEvent=void 0;const h=u(2584),V={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};b.evaluateKeyboardEvent=function(a,L,v,S){const x={type:0,cancel:!1,key:void 0},d=(a.shiftKey?1:0)|(a.altKey?2:0)|(a.ctrlKey?4:0)|(a.metaKey?8:0);switch(a.keyCode){case 0:a.key==="UIKeyInputUpArrow"?x.key=L?h.C0.ESC+"OA":h.C0.ESC+"[A":a.key==="UIKeyInputLeftArrow"?x.key=L?h.C0.ESC+"OD":h.C0.ESC+"[D":a.key==="UIKeyInputRightArrow"?x.key=L?h.C0.ESC+"OC":h.C0.ESC+"[C":a.key==="UIKeyInputDownArrow"&&(x.key=L?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(a.altKey){x.key=h.C0.ESC+h.C0.DEL;break}x.key=h.C0.DEL;break;case 9:if(a.shiftKey){x.key=h.C0.ESC+"[Z";break}x.key=h.C0.HT,x.cancel=!0;break;case 13:x.key=a.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,x.cancel=!0;break;case 27:x.key=h.C0.ESC,a.altKey&&(x.key=h.C0.ESC+h.C0.ESC),x.cancel=!0;break;case 37:if(a.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"D",x.key===h.C0.ESC+"[1;3D"&&(x.key=h.C0.ESC+(v?"b":"[1;5D"))):x.key=L?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(a.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"C",x.key===h.C0.ESC+"[1;3C"&&(x.key=h.C0.ESC+(v?"f":"[1;5C"))):x.key=L?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(a.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"A",v||x.key!==h.C0.ESC+"[1;3A"||(x.key=h.C0.ESC+"[1;5A")):x.key=L?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(a.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"B",v||x.key!==h.C0.ESC+"[1;3B"||(x.key=h.C0.ESC+"[1;5B")):x.key=L?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:a.shiftKey||a.ctrlKey||(x.key=h.C0.ESC+"[2~");break;case 46:x.key=d?h.C0.ESC+"[3;"+(d+1)+"~":h.C0.ESC+"[3~";break;case 36:x.key=d?h.C0.ESC+"[1;"+(d+1)+"H":L?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:x.key=d?h.C0.ESC+"[1;"+(d+1)+"F":L?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:a.shiftKey?x.type=2:a.ctrlKey?x.key=h.C0.ESC+"[5;"+(d+1)+"~":x.key=h.C0.ESC+"[5~";break;case 34:a.shiftKey?x.type=3:a.ctrlKey?x.key=h.C0.ESC+"[6;"+(d+1)+"~":x.key=h.C0.ESC+"[6~";break;case 112:x.key=d?h.C0.ESC+"[1;"+(d+1)+"P":h.C0.ESC+"OP";break;case 113:x.key=d?h.C0.ESC+"[1;"+(d+1)+"Q":h.C0.ESC+"OQ";break;case 114:x.key=d?h.C0.ESC+"[1;"+(d+1)+"R":h.C0.ESC+"OR";break;case 115:x.key=d?h.C0.ESC+"[1;"+(d+1)+"S":h.C0.ESC+"OS";break;case 116:x.key=d?h.C0.ESC+"[15;"+(d+1)+"~":h.C0.ESC+"[15~";break;case 117:x.key=d?h.C0.ESC+"[17;"+(d+1)+"~":h.C0.ESC+"[17~";break;case 118:x.key=d?h.C0.ESC+"[18;"+(d+1)+"~":h.C0.ESC+"[18~";break;case 119:x.key=d?h.C0.ESC+"[19;"+(d+1)+"~":h.C0.ESC+"[19~";break;case 120:x.key=d?h.C0.ESC+"[20;"+(d+1)+"~":h.C0.ESC+"[20~";break;case 121:x.key=d?h.C0.ESC+"[21;"+(d+1)+"~":h.C0.ESC+"[21~";break;case 122:x.key=d?h.C0.ESC+"[23;"+(d+1)+"~":h.C0.ESC+"[23~";break;case 123:x.key=d?h.C0.ESC+"[24;"+(d+1)+"~":h.C0.ESC+"[24~";break;default:if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)if(v&&!S||!a.altKey||a.metaKey)!v||a.altKey||a.ctrlKey||a.shiftKey||!a.metaKey?a.key&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&a.keyCode>=48&&a.key.length===1?x.key=a.key:a.key&&a.ctrlKey&&(a.key==="_"&&(x.key=h.C0.US),a.key==="@"&&(x.key=h.C0.NUL)):a.keyCode===65&&(x.type=1);else{const z=V[a.keyCode],T=z==null?void 0:z[a.shiftKey?1:0];if(T)x.key=h.C0.ESC+T;else if(a.keyCode>=65&&a.keyCode<=90){const $=a.ctrlKey?a.keyCode-64:a.keyCode+32;let Z=String.fromCharCode($);a.shiftKey&&(Z=Z.toUpperCase()),x.key=h.C0.ESC+Z}else if(a.keyCode===32)x.key=h.C0.ESC+(a.ctrlKey?h.C0.NUL:" ");else if(a.key==="Dead"&&a.code.startsWith("Key")){let $=a.code.slice(3,4);a.shiftKey||($=$.toLowerCase()),x.key=h.C0.ESC+$,x.cancel=!0}}else a.keyCode>=65&&a.keyCode<=90?x.key=String.fromCharCode(a.keyCode-64):a.keyCode===32?x.key=h.C0.NUL:a.keyCode>=51&&a.keyCode<=55?x.key=String.fromCharCode(a.keyCode-51+27):a.keyCode===56?x.key=h.C0.DEL:a.keyCode===219?x.key=h.C0.ESC:a.keyCode===220?x.key=h.C0.FS:a.keyCode===221&&(x.key=h.C0.GS)}return x}},482:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Utf8ToUtf32=b.StringToUtf32=b.utf32ToString=b.stringFromCodePoint=void 0,b.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},b.utf32ToString=function(u,h=0,V=u.length){let a="";for(let L=h;L<V;++L){let v=u[L];v>65535?(v-=65536,a+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):a+=String.fromCharCode(v)}return a},b.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){const V=u.length;if(!V)return 0;let a=0,L=0;if(this._interim){const v=u.charCodeAt(L++);56320<=v&&v<=57343?h[a++]=1024*(this._interim-55296)+v-56320+65536:(h[a++]=this._interim,h[a++]=v),this._interim=0}for(let v=L;v<V;++v){const S=u.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=V)return this._interim=S,a;const x=u.charCodeAt(v);56320<=x&&x<=57343?h[a++]=1024*(S-55296)+x-56320+65536:(h[a++]=S,h[a++]=x)}else S!==65279&&(h[a++]=S)}return a}},b.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){const V=u.length;if(!V)return 0;let a,L,v,S,x=0,d=0,z=0;if(this.interim[0]){let Z=!1,W=this.interim[0];W&=(224&W)==192?31:(240&W)==224?15:7;let s,g=0;for(;(s=63&this.interim[++g])&&g<4;)W<<=6,W|=s;const O=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,U=O-g;for(;z<U;){if(z>=V)return 0;if(s=u[z++],(192&s)!=128){z--,Z=!0;break}this.interim[g++]=s,W<<=6,W|=63&s}Z||(O===2?W<128?z--:h[x++]=W:O===3?W<2048||W>=55296&&W<=57343||W===65279||(h[x++]=W):W<65536||W>1114111||(h[x++]=W)),this.interim.fill(0)}const T=V-4;let $=z;for(;$<V;){for(;!(!($<T)||128&(a=u[$])||128&(L=u[$+1])||128&(v=u[$+2])||128&(S=u[$+3]));)h[x++]=a,h[x++]=L,h[x++]=v,h[x++]=S,$+=4;if(a=u[$++],a<128)h[x++]=a;else if((224&a)==192){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if(d=(31&a)<<6|63&L,d<128){$--;continue}h[x++]=d}else if((240&a)==224){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,x;if(v=u[$++],(192&v)!=128){$--;continue}if(d=(15&a)<<12|(63&L)<<6|63&v,d<2048||d>=55296&&d<=57343||d===65279)continue;h[x++]=d}else if((248&a)==240){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,x;if(v=u[$++],(192&v)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,this.interim[2]=v,x;if(S=u[$++],(192&S)!=128){$--;continue}if(d=(7&a)<<18|(63&L)<<12|(63&v)<<6|63&S,d<65536||d>1114111)continue;h[x++]=d}}return x}}},225:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let V;b.UnicodeV6=class{constructor(){if(this.version="6",!V){V=new Uint8Array(65536),V.fill(1),V[0]=0,V.fill(0,1,32),V.fill(0,127,160),V.fill(2,4352,4448),V[9001]=2,V[9002]=2,V.fill(2,11904,42192),V[12351]=1,V.fill(2,44032,55204),V.fill(2,63744,64256),V.fill(2,65040,65050),V.fill(2,65072,65136),V.fill(2,65280,65377),V.fill(2,65504,65511);for(let a=0;a<u.length;++a)V.fill(0,u[a][0],u[a][1]+1)}}wcwidth(a){return a<32?0:a<127?1:a<65536?V[a]:function(L,v){let S,x=0,d=v.length-1;if(L<v[0][0]||L>v[d][1])return!1;for(;d>=x;)if(S=x+d>>1,L>v[S][1])x=S+1;else{if(!(L<v[S][0]))return!0;d=S-1}return!1}(a,h)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}},5981:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WriteBuffer=void 0;const h=u(8460),V=u(844);class a extends V.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const x=this._callbacks.shift();x&&x()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,v){if(this._pendingData>50000000)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(v)}_innerWrite(L=0,v=!0){const S=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const x=this._writeBuffer[this._bufferOffset],d=this._action(x,v);if(d){const T=($)=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,$)):this._innerWrite(S,$);return void d.catch(($)=>(queueMicrotask(()=>{throw $}),Promise.resolve(!1))).then(T)}const z=this._callbacks[this._bufferOffset];if(z&&z(),this._bufferOffset++,this._pendingData-=x.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}b.WriteBuffer=a},5941:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.toRgbString=b.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function V(a,L){const v=a.toString(16),S=v.length<2?"0"+v:v;switch(L){case 4:return v[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}b.parseColor=function(a){if(!a)return;let L=a.toLowerCase();if(L.indexOf("rgb:")===0){L=L.slice(4);const v=u.exec(L);if(v){const S=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/S*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/S*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/S*255)]}}else if(L.indexOf("#")===0&&(L=L.slice(1),h.exec(L)&&[3,6,9,12].includes(L.length))){const v=L.length/3,S=[0,0,0];for(let x=0;x<3;++x){const d=parseInt(L.slice(v*x,v*x+v),16);S[x]=v===1?d<<4:v===2?d:v===3?d>>4:d>>8}return S}},b.toRgbString=function(a,L=16){const[v,S,x]=a;return`rgb:${V(v,L)}/${V(S,L)}/${V(x,L)}`}},5770:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PAYLOAD_LIMIT=void 0,b.PAYLOAD_LIMIT=1e7},6351:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DcsHandler=b.DcsParser=void 0;const h=u(482),V=u(8742),a=u(5770),L=[];b.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=L,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=L}registerHandler(S,x){this._handlers[S]===void 0&&(this._handlers[S]=[]);const d=this._handlers[S];return d.push(x),{dispose:()=>{const z=d.indexOf(x);z!==-1&&d.splice(z,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=L,this._ident=0}hook(S,x){if(this.reset(),this._ident=S,this._active=this._handlers[S]||L,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(S,x,d){if(this._active.length)for(let z=this._active.length-1;z>=0;z--)this._active[z].put(S,x,d);else this._handlerFb(this._ident,"PUT",h.utf32ToString(S,x,d))}unhook(S,x=!0){if(this._active.length){let d=!1,z=this._active.length-1,T=!1;if(this._stack.paused&&(z=this._stack.loopPosition-1,d=x,T=this._stack.fallThrough,this._stack.paused=!1),!T&&d===!1){for(;z>=0&&(d=this._active[z].unhook(S),d!==!0);z--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=z,this._stack.fallThrough=!1,d;z--}for(;z>=0;z--)if(d=this._active[z].unhook(!1),d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=z,this._stack.fallThrough=!0,d}else this._handlerFb(this._ident,"UNHOOK",S);this._active=L,this._ident=0}};const v=new V.Params;v.addParam(0),b.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=v,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():v,this._data="",this._hitLimit=!1}put(S,x,d){this._hitLimit||(this._data+=h.utf32ToString(S,x,d),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then((d)=>(this._params=v,this._data="",this._hitLimit=!1,d));return this._params=v,this._data="",this._hitLimit=!1,x}}},2015:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.EscapeSequenceParser=b.VT500_TRANSITION_TABLE=b.TransitionTable=void 0;const h=u(844),V=u(8742),a=u(6242),L=u(6351);class v{constructor(d){this.table=new Uint8Array(d)}setDefault(d,z){this.table.fill(d<<4|z)}add(d,z,T,$){this.table[z<<8|d]=T<<4|$}addMany(d,z,T,$){for(let Z=0;Z<d.length;Z++)this.table[z<<8|d[Z]]=T<<4|$}}b.TransitionTable=v;const S=160;b.VT500_TRANSITION_TABLE=function(){const d=new v(4095),z=Array.apply(null,Array(256)).map((g,O)=>O),T=(g,O)=>z.slice(g,O),$=T(32,127),Z=T(0,24);Z.push(25),Z.push.apply(Z,T(28,32));const W=T(0,14);let s;for(s in d.setDefault(1,0),d.addMany($,0,2,0),W)d.addMany([24,26,153,154],s,3,0),d.addMany(T(128,144),s,3,0),d.addMany(T(144,152),s,3,0),d.add(156,s,0,0),d.add(27,s,11,1),d.add(157,s,4,8),d.addMany([152,158,159],s,0,7),d.add(155,s,11,3),d.add(144,s,11,9);return d.addMany(Z,0,3,0),d.addMany(Z,1,3,1),d.add(127,1,0,1),d.addMany(Z,8,0,8),d.addMany(Z,3,3,3),d.add(127,3,0,3),d.addMany(Z,4,3,4),d.add(127,4,0,4),d.addMany(Z,6,3,6),d.addMany(Z,5,3,5),d.add(127,5,0,5),d.addMany(Z,2,3,2),d.add(127,2,0,2),d.add(93,1,4,8),d.addMany($,8,5,8),d.add(127,8,5,8),d.addMany([156,27,24,26,7],8,6,0),d.addMany(T(28,32),8,0,8),d.addMany([88,94,95],1,0,7),d.addMany($,7,0,7),d.addMany(Z,7,0,7),d.add(156,7,0,0),d.add(127,7,0,7),d.add(91,1,11,3),d.addMany(T(64,127),3,7,0),d.addMany(T(48,60),3,8,4),d.addMany([60,61,62,63],3,9,4),d.addMany(T(48,60),4,8,4),d.addMany(T(64,127),4,7,0),d.addMany([60,61,62,63],4,0,6),d.addMany(T(32,64),6,0,6),d.add(127,6,0,6),d.addMany(T(64,127),6,0,0),d.addMany(T(32,48),3,9,5),d.addMany(T(32,48),5,9,5),d.addMany(T(48,64),5,0,6),d.addMany(T(64,127),5,7,0),d.addMany(T(32,48),4,9,5),d.addMany(T(32,48),1,9,2),d.addMany(T(32,48),2,9,2),d.addMany(T(48,127),2,10,0),d.addMany(T(48,80),1,10,0),d.addMany(T(81,88),1,10,0),d.addMany([89,90,92],1,10,0),d.addMany(T(96,127),1,10,0),d.add(80,1,11,9),d.addMany(Z,9,0,9),d.add(127,9,0,9),d.addMany(T(28,32),9,0,9),d.addMany(T(32,48),9,9,12),d.addMany(T(48,60),9,8,10),d.addMany([60,61,62,63],9,9,10),d.addMany(Z,11,0,11),d.addMany(T(32,128),11,0,11),d.addMany(T(28,32),11,0,11),d.addMany(Z,10,0,10),d.add(127,10,0,10),d.addMany(T(28,32),10,0,10),d.addMany(T(48,60),10,8,10),d.addMany([60,61,62,63],10,0,11),d.addMany(T(32,48),10,9,12),d.addMany(Z,12,0,12),d.add(127,12,0,12),d.addMany(T(28,32),12,0,12),d.addMany(T(32,48),12,9,12),d.addMany(T(48,64),12,0,11),d.addMany(T(64,127),12,12,13),d.addMany(T(64,127),10,12,13),d.addMany(T(64,127),9,12,13),d.addMany(Z,13,13,13),d.addMany($,13,13,13),d.add(127,13,0,13),d.addMany([27,156,24,26],13,14,0),d.add(S,0,2,0),d.add(S,8,5,8),d.add(S,6,0,6),d.add(S,11,0,11),d.add(S,13,13,13),d}();class x extends h.Disposable{constructor(d=b.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new V.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(z,T,$)=>{},this._executeHandlerFb=(z)=>{},this._csiHandlerFb=(z,T)=>{},this._escHandlerFb=(z)=>{},this._errorHandlerFb=(z)=>z,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register(h.toDisposable(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new a.OscParser),this._dcsParser=this.register(new L.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,z=[64,126]){let T=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(T=d.prefix.charCodeAt(0),T&&60>T||T>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let Z=0;Z<d.intermediates.length;++Z){const W=d.intermediates.charCodeAt(Z);if(32>W||W>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");T<<=8,T|=W}}if(d.final.length!==1)throw new Error("final must be a single byte");const $=d.final.charCodeAt(0);if(z[0]>$||$>z[1])throw new Error(`final must be in range ${z[0]} .. ${z[1]}`);return T<<=8,T|=$,T}identToString(d){const z=[];for(;d;)z.push(String.fromCharCode(255&d)),d>>=8;return z.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,z){const T=this._identifier(d,[48,126]);this._escHandlers[T]===void 0&&(this._escHandlers[T]=[]);const $=this._escHandlers[T];return $.push(z),{dispose:()=>{const Z=$.indexOf(z);Z!==-1&&$.splice(Z,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,z){this._executeHandlers[d.charCodeAt(0)]=z}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,z){const T=this._identifier(d);this._csiHandlers[T]===void 0&&(this._csiHandlers[T]=[]);const $=this._csiHandlers[T];return $.push(z),{dispose:()=>{const Z=$.indexOf(z);Z!==-1&&$.splice(Z,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,z){return this._dcsParser.registerHandler(this._identifier(d),z)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,z){return this._oscParser.registerHandler(d,z)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,z,T,$,Z){this._parseStack.state=d,this._parseStack.handlers=z,this._parseStack.handlerPos=T,this._parseStack.transition=$,this._parseStack.chunkPos=Z}parse(d,z,T){let $,Z=0,W=0,s=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(T===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const g=this._parseStack.handlers;let O=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(T===!1&&O>-1){for(;O>=0&&($=g[O](this._params),$!==!0);O--)if($ instanceof Promise)return this._parseStack.handlerPos=O,$}this._parseStack.handlers=[];break;case 4:if(T===!1&&O>-1){for(;O>=0&&($=g[O](),$!==!0);O--)if($ instanceof Promise)return this._parseStack.handlerPos=O,$}this._parseStack.handlers=[];break;case 6:if(Z=d[this._parseStack.chunkPos],$=this._dcsParser.unhook(Z!==24&&Z!==26,T),$)return $;Z===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(Z=d[this._parseStack.chunkPos],$=this._oscParser.end(Z!==24&&Z!==26,T),$)return $;Z===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let g=s;g<z;++g){switch(Z=d[g],W=this._transitions.table[this.currentState<<8|(Z<160?Z:S)],W>>4){case 2:for(let H=g+1;;++H){if(H>=z||(Z=d[H])<32||Z>126&&Z<S){this._printHandler(d,g,H),g=H-1;break}if(++H>=z||(Z=d[H])<32||Z>126&&Z<S){this._printHandler(d,g,H),g=H-1;break}if(++H>=z||(Z=d[H])<32||Z>126&&Z<S){this._printHandler(d,g,H),g=H-1;break}if(++H>=z||(Z=d[H])<32||Z>126&&Z<S){this._printHandler(d,g,H),g=H-1;break}}break;case 3:this._executeHandlers[Z]?this._executeHandlers[Z]():this._executeHandlerFb(Z),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:g,code:Z,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const O=this._csiHandlers[this._collect<<8|Z];let U=O?O.length-1:-1;for(;U>=0&&($=O[U](this._params),$!==!0);U--)if($ instanceof Promise)return this._preserveStack(3,O,U,W,g),$;U<0&&this._csiHandlerFb(this._collect<<8|Z,this._params),this.precedingCodepoint=0;break;case 8:do switch(Z){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(Z-48)}while(++g<z&&(Z=d[g])>47&&Z<60);g--;break;case 9:this._collect<<=8,this._collect|=Z;break;case 10:const j=this._escHandlers[this._collect<<8|Z];let G=j?j.length-1:-1;for(;G>=0&&($=j[G](),$!==!0);G--)if($ instanceof Promise)return this._preserveStack(4,j,G,W,g),$;G<0&&this._escHandlerFb(this._collect<<8|Z),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|Z,this._params);break;case 13:for(let H=g+1;;++H)if(H>=z||(Z=d[H])===24||Z===26||Z===27||Z>127&&Z<S){this._dcsParser.put(d,g,H),g=H-1;break}break;case 14:if($=this._dcsParser.unhook(Z!==24&&Z!==26),$)return this._preserveStack(6,[],0,W,g),$;Z===27&&(W|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let H=g+1;;H++)if(H>=z||(Z=d[H])<32||Z>127&&Z<S){this._oscParser.put(d,g,H),g=H-1;break}break;case 6:if($=this._oscParser.end(Z!==24&&Z!==26),$)return this._preserveStack(5,[],0,W,g),$;Z===27&&(W|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&W}}}b.EscapeSequenceParser=x},6242:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OscHandler=b.OscParser=void 0;const h=u(5770),V=u(482),a=[];b.OscParser=class{constructor(){this._state=0,this._active=a,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(L,v){this._handlers[L]===void 0&&(this._handlers[L]=[]);const S=this._handlers[L];return S.push(v),{dispose:()=>{const x=S.indexOf(v);x!==-1&&S.splice(x,1)}}}clearHandler(L){this._handlers[L]&&delete this._handlers[L]}setHandlerFallback(L){this._handlerFb=L}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}reset(){if(this._state===2)for(let L=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;L>=0;--L)this._active[L].end(!1);this._stack.paused=!1,this._active=a,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||a,this._active.length)for(let L=this._active.length-1;L>=0;L--)this._active[L].start();else this._handlerFb(this._id,"START")}_put(L,v,S){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(L,v,S);else this._handlerFb(this._id,"PUT",V.utf32ToString(L,v,S))}start(){this.reset(),this._state=1}put(L,v,S){if(this._state!==3){if(this._state===1)for(;v<S;){const x=L[v++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&S-v>0&&this._put(L,v,S)}}end(L,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,x=this._active.length-1,d=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,S=v,d=this._stack.fallThrough,this._stack.paused=!1),!d&&S===!1){for(;x>=0&&(S=this._active[x].end(L),S!==!0);x--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,S;x--}for(;x>=0;x--)if(S=this._active[x].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",L);this._active=a,this._id=-1,this._state=0}}},b.OscHandler=class{constructor(L){this._handler=L,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(L,v,S){this._hitLimit||(this._data+=V.utf32ToString(L,v,S),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(L){let v=!1;if(this._hitLimit)v=!1;else if(L&&(v=this._handler(this._data),v instanceof Promise))return v.then((S)=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,v}}},8742:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Params=void 0;const u=2147483647;class h{static fromArray(V){const a=new h;if(!V.length)return a;for(let L=Array.isArray(V[0])?1:0;L<V.length;++L){const v=V[L];if(Array.isArray(v))for(let S=0;S<v.length;++S)a.addSubParam(v[S]);else a.addParam(v)}return a}constructor(V=32,a=32){if(this.maxLength=V,this.maxSubParamsLength=a,a>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(V),this.length=0,this._subParams=new Int32Array(a),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(V),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const V=new h(this.maxLength,this.maxSubParamsLength);return V.params.set(this.params),V.length=this.length,V._subParams.set(this._subParams),V._subParamsLength=this._subParamsLength,V._subParamsIdx.set(this._subParamsIdx),V._rejectDigits=this._rejectDigits,V._rejectSubDigits=this._rejectSubDigits,V._digitIsSub=this._digitIsSub,V}toArray(){const V=[];for(let a=0;a<this.length;++a){V.push(this.params[a]);const L=this._subParamsIdx[a]>>8,v=255&this._subParamsIdx[a];v-L>0&&V.push(Array.prototype.slice.call(this._subParams,L,v))}return V}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(V){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(V<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=V>u?u:V}}addSubParam(V){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(V<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=V>u?u:V,this._subParamsIdx[this.length-1]++}}hasSubParams(V){return(255&this._subParamsIdx[V])-(this._subParamsIdx[V]>>8)>0}getSubParams(V){const a=this._subParamsIdx[V]>>8,L=255&this._subParamsIdx[V];return L-a>0?this._subParams.subarray(a,L):null}getSubParamsAll(){const V={};for(let a=0;a<this.length;++a){const L=this._subParamsIdx[a]>>8,v=255&this._subParamsIdx[a];v-L>0&&(V[a]=this._subParams.slice(L,v))}return V}addDigit(V){let a;if(this._rejectDigits||!(a=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const L=this._digitIsSub?this._subParams:this.params,v=L[a-1];L[a-1]=~v?Math.min(10*v+V,u):V}}b.Params=h},5741:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AddonManager=void 0,b.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,h){const V={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(V),h.dispose=()=>this._wrappedAddonDispose(V),h.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let h=-1;for(let V=0;V<this._addons.length;V++)if(this._addons[V]===u){h=V;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(h,1)}}},8771:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferApiView=void 0;const h=u(3785),V=u(511);b.BufferApiView=class{constructor(a,L){this._buffer=a,this.type=L}init(a){return this._buffer=a,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(a){const L=this._buffer.lines.get(a);if(L)return new h.BufferLineApiView(L)}getNullCell(){return new V.CellData}}},3785:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferLineApiView=void 0;const h=u(511);b.BufferLineApiView=class{constructor(V){this._line=V}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(V,a){if(!(V<0||V>=this._line.length))return a?(this._line.loadCell(V,a),a):this._line.loadCell(V,new h.CellData)}translateToString(V,a,L){return this._line.translateToString(V,a,L)}}},8285:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferNamespaceApi=void 0;const h=u(8771),V=u(8460),a=u(844);class L extends a.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new V.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}b.BufferNamespaceApi=L},7975:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ParserApi=void 0,b.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,h){return this._core.registerCsiHandler(u,(V)=>h(V.toArray()))}addCsiHandler(u,h){return this.registerCsiHandler(u,h)}registerDcsHandler(u,h){return this._core.registerDcsHandler(u,(V,a)=>h(V,a.toArray()))}addDcsHandler(u,h){return this.registerDcsHandler(u,h)}registerEscHandler(u,h){return this._core.registerEscHandler(u,h)}addEscHandler(u,h){return this.registerEscHandler(u,h)}registerOscHandler(u,h){return this._core.registerOscHandler(u,h)}addOscHandler(u,h){return this.registerOscHandler(u,h)}}},7090:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeApi=void 0,b.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.BufferService=b.MINIMUM_ROWS=b.MINIMUM_COLS=void 0;const a=u(8460),L=u(844),v=u(5295),S=u(2585);b.MINIMUM_COLS=2,b.MINIMUM_ROWS=1;let x=b.BufferService=class extends L.Disposable{get buffer(){return this.buffers.active}constructor(d){super(),this.isUserScrolling=!1,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(d.rawOptions.cols||0,b.MINIMUM_COLS),this.rows=Math.max(d.rawOptions.rows||0,b.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(d,this))}resize(d,z){this.cols=d,this.rows=z,this.buffers.resize(d,z),this._onResize.fire({cols:d,rows:z})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(d,z=!1){const T=this.buffer;let $;$=this._cachedBlankLine,$&&$.length===this.cols&&$.getFg(0)===d.fg&&$.getBg(0)===d.bg||($=T.getBlankLine(d,z),this._cachedBlankLine=$),$.isWrapped=z;const Z=T.ybase+T.scrollTop,W=T.ybase+T.scrollBottom;if(T.scrollTop===0){const s=T.lines.isFull;W===T.lines.length-1?s?T.lines.recycle().copyFrom($):T.lines.push($.clone()):T.lines.splice(W+1,0,$.clone()),s?this.isUserScrolling&&(T.ydisp=Math.max(T.ydisp-1,0)):(T.ybase++,this.isUserScrolling||T.ydisp++)}else{const s=W-Z+1;T.lines.shiftElements(Z+1,s-1,-1),T.lines.set(W,$.clone())}this.isUserScrolling||(T.ydisp=T.ybase),this._onScroll.fire(T.ydisp)}scrollLines(d,z,T){const $=this.buffer;if(d<0){if($.ydisp===0)return;this.isUserScrolling=!0}else d+$.ydisp>=$.ybase&&(this.isUserScrolling=!1);const Z=$.ydisp;$.ydisp=Math.max(Math.min($.ydisp+d,$.ybase),0),Z!==$.ydisp&&(z||this._onScroll.fire($.ydisp))}};b.BufferService=x=h([V(0,S.IOptionsService)],x)},7994:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CharsetService=void 0,b.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,h){this._charsets[u]=h,this.glevel===u&&(this.charset=h)}}},1753:function(N,b,u){var h=this&&this.__decorate||function($,Z,W,s){var g,O=arguments.length,U=O<3?Z:s===null?s=Object.getOwnPropertyDescriptor(Z,W):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate($,Z,W,s);else for(var j=$.length-1;j>=0;j--)(g=$[j])&&(U=(O<3?g(U):O>3?g(Z,W,U):g(Z,W))||U);return O>3&&U&&Object.defineProperty(Z,W,U),U},V=this&&this.__param||function($,Z){return function(W,s){Z(W,s,$)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CoreMouseService=void 0;const a=u(2585),L=u(8460),v=u(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:($)=>$.button!==4&&$.action===1&&($.ctrl=!1,$.alt=!1,$.shift=!1,!0)},VT200:{events:19,restrict:($)=>$.action!==32},DRAG:{events:23,restrict:($)=>$.action!==32||$.button!==3},ANY:{events:31,restrict:($)=>!0}};function x($,Z){let W=($.ctrl?16:0)|($.shift?4:0)|($.alt?8:0);return $.button===4?(W|=64,W|=$.action):(W|=3&$.button,4&$.button&&(W|=64),8&$.button&&(W|=128),$.action===32?W|=32:$.action!==0||Z||(W|=3)),W}const d=String.fromCharCode,z={DEFAULT:($)=>{const Z=[x($,!1)+32,$.col+32,$.row+32];return Z[0]>255||Z[1]>255||Z[2]>255?"":`[M${d(Z[0])}${d(Z[1])}${d(Z[2])}`},SGR:($)=>{const Z=$.action===0&&$.button!==4?"m":"M";return`[<${x($,!0)};${$.col};${$.row}${Z}`},SGR_PIXELS:($)=>{const Z=$.action===0&&$.button!==4?"m":"M";return`[<${x($,!0)};${$.x};${$.y}${Z}`}};let T=b.CoreMouseService=class extends v.Disposable{constructor($,Z){super(),this._bufferService=$,this._coreService=Z,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new L.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(let W of Object.keys(S))this.addProtocol(W,S[W]);for(let W of Object.keys(z))this.addEncoding(W,z[W]);this.reset()}addProtocol($,Z){this._protocols[$]=Z}addEncoding($,Z){this._encodings[$]=Z}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol($){if(!this._protocols[$])throw new Error(`unknown protocol "${$}"`);this._activeProtocol=$,this._onProtocolChange.fire(this._protocols[$].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding($){if(!this._encodings[$])throw new Error(`unknown encoding "${$}"`);this._activeEncoding=$}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent($){if($.col<0||$.col>=this._bufferService.cols||$.row<0||$.row>=this._bufferService.rows)return!1;if($.button===4&&$.action===32)return!1;if($.button===3&&$.action!==32)return!1;if($.button!==4&&($.action===2||$.action===3))return!1;if($.col++,$.row++,$.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,$,this._activeEncoding==="SGR_PIXELS"))return!1;if(!this._protocols[this._activeProtocol].restrict($))return!1;const Z=this._encodings[this._activeEncoding]($);return Z&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(Z):this._coreService.triggerDataEvent(Z,!0)),this._lastEvent=$,!0}explainEvents($){return{down:!!(1&$),up:!!(2&$),drag:!!(4&$),move:!!(8&$),wheel:!!(16&$)}}_equalEvents($,Z,W){if(W){if($.x!==Z.x)return!1;if($.y!==Z.y)return!1}else{if($.col!==Z.col)return!1;if($.row!==Z.row)return!1}return $.button===Z.button&&$.action===Z.action&&$.ctrl===Z.ctrl&&$.alt===Z.alt&&$.shift===Z.shift}};b.CoreMouseService=T=h([V(0,a.IBufferService),V(1,a.ICoreService)],T)},6975:function(N,b,u){var h=this&&this.__decorate||function(T,$,Z,W){var s,g=arguments.length,O=g<3?$:W===null?W=Object.getOwnPropertyDescriptor($,Z):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(T,$,Z,W);else for(var U=T.length-1;U>=0;U--)(s=T[U])&&(O=(g<3?s(O):g>3?s($,Z,O):s($,Z))||O);return g>3&&O&&Object.defineProperty($,Z,O),O},V=this&&this.__param||function(T,$){return function(Z,W){$(Z,W,T)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CoreService=void 0;const a=u(1439),L=u(8460),v=u(844),S=u(2585),x=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let z=b.CoreService=class extends v.Disposable{constructor(T,$,Z){super(),this._bufferService=T,this._logService=$,this._optionsService=Z,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new L.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new L.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new L.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new L.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=a.clone(x),this.decPrivateModes=a.clone(d)}reset(){this.modes=a.clone(x),this.decPrivateModes=a.clone(d)}triggerDataEvent(T,$=!1){if(this._optionsService.rawOptions.disableStdin)return;const Z=this._bufferService.buffer;$&&this._optionsService.rawOptions.scrollOnUserInput&&Z.ybase!==Z.ydisp&&this._onRequestScrollToBottom.fire(),$&&this._onUserInput.fire(),this._logService.debug(`sending data "${T}"`,()=>T.split("").map((W)=>W.charCodeAt(0))),this._onData.fire(T)}triggerBinaryEvent(T){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${T}"`,()=>T.split("").map(($)=>$.charCodeAt(0))),this._onBinary.fire(T))}};b.CoreService=z=h([V(0,S.IBufferService),V(1,S.ILogService),V(2,S.IOptionsService)],z)},9074:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DecorationService=void 0;const h=u(8055),V=u(8460),a=u(844),L=u(6106);let v=0,S=0;class x extends a.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new L.SortedList((z)=>z==null?void 0:z.marker.line),this._onDecorationRegistered=this.register(new V.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new V.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register(a.toDisposable(()=>this.reset()))}registerDecoration(z){if(z.marker.isDisposed)return;const T=new d(z);if(T){const $=T.marker.onDispose(()=>T.dispose());T.onDispose(()=>{T&&(this._decorations.delete(T)&&this._onDecorationRemoved.fire(T),$.dispose())}),this._decorations.insert(T),this._onDecorationRegistered.fire(T)}return T}reset(){for(let z of this._decorations.values())z.dispose();this._decorations.clear()}*getDecorationsAtCell(z,T,$){var Z,W,s;let g=0,O=0;for(let U of this._decorations.getKeyIterator(T))g=(Z=U.options.x)!==null&&Z!==void 0?Z:0,O=g+((W=U.options.width)!==null&&W!==void 0?W:1),z>=g&&z<O&&(!$||((s=U.options.layer)!==null&&s!==void 0?s:"bottom")===$)&&(yield U)}forEachDecorationAtCell(z,T,$,Z){this._decorations.forEachByKey(T,(W)=>{var s,g,O;v=(s=W.options.x)!==null&&s!==void 0?s:0,S=v+((g=W.options.width)!==null&&g!==void 0?g:1),z>=v&&z<S&&(!$||((O=W.options.layer)!==null&&O!==void 0?O:"bottom")===$)&&Z(W)})}}b.DecorationService=x;class d extends a.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(z){super(),this.options=z,this.onRenderEmitter=this.register(new V.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new V.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=z.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.InstantiationService=b.ServiceCollection=void 0;const h=u(2585),V=u(8343);class a{constructor(...L){this._entries=new Map;for(let[v,S]of L)this.set(v,S)}set(L,v){const S=this._entries.get(L);return this._entries.set(L,v),S}forEach(L){for(let[v,S]of this._entries.entries())L(v,S)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}b.ServiceCollection=a,b.InstantiationService=class{constructor(){this._services=new a,this._services.set(h.IInstantiationService,this)}setService(L,v){this._services.set(L,v)}getService(L){return this._services.get(L)}createInstance(L,...v){const S=V.getServiceDependencies(L).sort((z,T)=>z.index-T.index),x=[];for(let z of S){const T=this._services.get(z.id);if(!T)throw new Error(`[createInstance] ${L.name} depends on UNKNOWN service ${z.id}.`);x.push(T)}const d=S.length>0?S[0].index:v.length;if(v.length!==d)throw new Error(`[createInstance] First service dependency of ${L.name} at position ${d+1} conflicts with ${v.length} static arguments`);return new L(...[...v,...x])}}},7866:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.traceCall=b.setTraceLogger=b.LogService=void 0;const a=u(844),L=u(2585),v={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF};let S,x=b.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let z=0;z<d.length;z++)typeof d[z]=="function"&&(d[z]=d[z]())}_log(d,z,T){this._evalLazyOptionalParams(T),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+z,...T)}trace(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.TRACE&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.trace.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,d,z)}debug(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.debug.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,d,z)}info(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.INFO&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.info.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.info,d,z)}warn(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.WARN&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.warn.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.warn,d,z)}error(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.ERROR&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.error.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.error,d,z)}};b.LogService=x=h([V(0,L.IOptionsService)],x),b.setTraceLogger=function(d){S=d},b.traceCall=function(d,z,T){if(typeof T.value!="function")throw new Error("not supported");const $=T.value;T.value=function(...Z){if(S.logLevel!==L.LogLevelEnum.TRACE)return $.apply(this,Z);S.trace(`GlyphRenderer#${$.name}(${Z.map((s)=>JSON.stringify(s)).join(", ")})`);const W=$.apply(this,Z);return S.trace(`GlyphRenderer#${$.name} return`,W),W}}},7302:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OptionsService=b.DEFAULT_OPTIONS=void 0;const h=u(8460),V=u(844),a=u(6114);b.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1000,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:a.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const L=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends V.Disposable{constructor(S){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const x=Object.assign({},b.DEFAULT_OPTIONS);for(let d in S)if(d in x)try{const z=S[d];x[d]=this._sanitizeAndValidateOption(d,z)}catch(z){console.error(z)}this.rawOptions=x,this.options=Object.assign({},x),this._setupOptions()}onSpecificOptionChange(S,x){return this.onOptionChange((d)=>{d===S&&x(this.rawOptions[S])})}onMultipleOptionChange(S,x){return this.onOptionChange((d)=>{S.indexOf(d)!==-1&&x()})}_setupOptions(){const S=(d)=>{if(!(d in b.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},x=(d,z)=>{if(!(d in b.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);z=this._sanitizeAndValidateOption(d,z),this.rawOptions[d]!==z&&(this.rawOptions[d]=z,this._onOptionChange.fire(d))};for(let d in this.rawOptions){const z={get:S.bind(this,d),set:x.bind(this,d)};Object.defineProperty(this.options,d,z)}}_sanitizeAndValidateOption(S,x){switch(S){case"cursorStyle":if(x||(x=b.DEFAULT_OPTIONS[S]),!function(d){return d==="block"||d==="underline"||d==="bar"}(x))throw new Error(`"${x}" is not a valid value for ${S}`);break;case"wordSeparator":x||(x=b.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof x=="number"&&1<=x&&x<=1000)break;x=L.includes(x)?x:b.DEFAULT_OPTIONS[S];break;case"cursorWidth":x=Math.floor(x);case"lineHeight":case"tabStopWidth":if(x<1)throw new Error(`${S} cannot be less than 1, value: ${x}`);break;case"minimumContrastRatio":x=Math.max(1,Math.min(21,Math.round(10*x)/10));break;case"scrollback":if((x=Math.min(x,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${x}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(x<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${x}`);break;case"rows":case"cols":if(!x&&x!==0)throw new Error(`${S} must be numeric, value: ${x}`);break;case"windowsPty":x=x!=null?x:{}}return x}}b.OptionsService=v},2660:function(N,b,u){var h=this&&this.__decorate||function(v,S,x,d){var z,T=arguments.length,$=T<3?S:d===null?d=Object.getOwnPropertyDescriptor(S,x):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(v,S,x,d);else for(var Z=v.length-1;Z>=0;Z--)(z=v[Z])&&($=(T<3?z($):T>3?z(S,x,$):z(S,x))||$);return T>3&&$&&Object.defineProperty(S,x,$),$},V=this&&this.__param||function(v,S){return function(x,d){S(x,d,v)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OscLinkService=void 0;const a=u(2585);let L=b.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const S=this._bufferService.buffer;if(v.id===void 0){const Z=S.addMarker(S.ybase+S.y),W={data:v,id:this._nextId++,lines:[Z]};return Z.onDispose(()=>this._removeMarkerFromLink(W,Z)),this._dataByLinkId.set(W.id,W),W.id}const x=v,d=this._getEntryIdKey(x),z=this._entriesWithId.get(d);if(z)return this.addLineToLink(z.id,S.ybase+S.y),z.id;const T=S.addMarker(S.ybase+S.y),$={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[T]};return T.onDispose(()=>this._removeMarkerFromLink($,T)),this._entriesWithId.set($.key,$),this._dataByLinkId.set($.id,$),$.id}addLineToLink(v,S){const x=this._dataByLinkId.get(v);if(x&&x.lines.every((d)=>d.line!==S)){const d=this._bufferService.buffer.addMarker(S);x.lines.push(d),d.onDispose(()=>this._removeMarkerFromLink(x,d))}}getLinkData(v){var S;return(S=this._dataByLinkId.get(v))===null||S===void 0?void 0:S.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,S){const x=v.lines.indexOf(S);x!==-1&&(v.lines.splice(x,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};b.OscLinkService=L=h([V(0,a.IBufferService)],L)},8343:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createDecorator=b.getServiceDependencies=b.serviceRegistry=void 0;const u="di$target",h="di$dependencies";b.serviceRegistry=new Map,b.getServiceDependencies=function(V){return V[h]||[]},b.createDecorator=function(V){if(b.serviceRegistry.has(V))return b.serviceRegistry.get(V);const a=function(L,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,d,z){d[u]===d?d[h].push({id:x,index:z}):(d[h]=[{id:x,index:z}],d[u]=d)})(a,L,S)};return a.toString=()=>V,b.serviceRegistry.set(V,a),a}},2585:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IDecorationService=b.IUnicodeService=b.IOscLinkService=b.IOptionsService=b.ILogService=b.LogLevelEnum=b.IInstantiationService=b.ICharsetService=b.ICoreService=b.ICoreMouseService=b.IBufferService=void 0;const h=u(8343);var V;b.IBufferService=h.createDecorator("BufferService"),b.ICoreMouseService=h.createDecorator("CoreMouseService"),b.ICoreService=h.createDecorator("CoreService"),b.ICharsetService=h.createDecorator("CharsetService"),b.IInstantiationService=h.createDecorator("InstantiationService"),function(a){a[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF"}(V||(b.LogLevelEnum=V={})),b.ILogService=h.createDecorator("LogService"),b.IOptionsService=h.createDecorator("OptionsService"),b.IOscLinkService=h.createDecorator("OscLinkService"),b.IUnicodeService=h.createDecorator("UnicodeService"),b.IDecorationService=h.createDecorator("DecorationService")},1480:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeService=void 0;const h=u(8460),V=u(225);b.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const a=new V.UnicodeV6;this.register(a),this._active=a.version,this._activeProvider=a}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(a){if(!this._providers[a])throw new Error(`unknown Unicode version "${a}"`);this._active=a,this._activeProvider=this._providers[a],this._onChange.fire(a)}register(a){this._providers[a.version]=a}wcwidth(a){return this._activeProvider.wcwidth(a)}getStringCellWidth(a){let L=0;const v=a.length;for(let S=0;S<v;++S){let x=a.charCodeAt(S);if(55296<=x&&x<=56319){if(++S>=v)return L+this.wcwidth(x);const d=a.charCodeAt(S);56320<=d&&d<=57343?x=1024*(x-55296)+d-56320+65536:L+=this.wcwidth(d)}L+=this.wcwidth(x)}return L}}}},w={};function _(N){var b=w[N];if(b!==void 0)return b.exports;var u=w[N]={exports:{}};return M[N].call(u.exports,u,u.exports,_),u.exports}var R={};return(()=>{var N=R;Object.defineProperty(N,"__esModule",{value:!0}),N.Terminal=void 0;const b=_(9042),u=_(3236),h=_(844),V=_(5741),a=_(8285),L=_(7975),v=_(7090),S=["cols","rows"];class x extends h.Disposable{constructor(d){super(),this._core=this.register(new u.Terminal(d)),this._addonManager=this.register(new V.AddonManager),this._publicOptions=Object.assign({},this._core.options);const z=($)=>this._core.options[$],T=($,Z)=>{this._checkReadonlyOptions($),this._core.options[$]=Z};for(let $ in this._core.options){const Z={get:z.bind(this,$),set:T.bind(this,$)};Object.defineProperty(this._publicOptions,$,Z)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new L.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let z="none";switch(this._core.coreMouseService.activeProtocol){case"X10":z="x10";break;case"VT200":z="vt200";break;case"DRAG":z="drag";break;case"ANY":z="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:z,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(let z in d)this._publicOptions[z]=d[z]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,z){this._verifyIntegers(d,z),this._core.resize(d,z)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var z,T,$;return this._checkProposedApi(),this._verifyPositiveIntegers((z=d.x)!==null&&z!==void 0?z:0,(T=d.width)!==null&&T!==void 0?T:0,($=d.height)!==null&&$!==void 0?$:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,z,T){this._verifyIntegers(d,z,T),this._core.select(d,z,T)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,z){this._verifyIntegers(d,z),this._core.selectLines(d,z)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,z){this._core.write(d,z)}writeln(d,z){this._core.write(d),this._core.write("\r\n",z)}paste(d){this._core.paste(d)}refresh(d,z){this._verifyIntegers(d,z),this._core.refresh(d,z)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return b}_verifyIntegers(...d){for(let z of d)if(z===1/0||isNaN(z)||z%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(let z of d)if(z&&(z===1/0||isNaN(z)||z%1!=0||z<0))throw new Error("This API only accepts positive integers")}}N.Terminal=x})(),R})())});var j4=q0((M6,V0)=>{(function(M,w){typeof M6=="object"&&typeof V0=="object"?V0.exports=w():typeof define=="function"&&define.amd?define([],w):typeof M6=="object"?M6.WebglAddon=w():M.WebglAddon=w()})(self,()=>(()=>{var M={965:function(N,b,u){var h=this&&this.__decorate||function(g,O,U,j){var G,H=arguments.length,D=H<3?O:j===null?j=Object.getOwnPropertyDescriptor(O,U):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(g,O,U,j);else for(var l=g.length-1;l>=0;l--)(G=g[l])&&(D=(H<3?G(D):H>3?G(O,U,D):G(O,U))||D);return H>3&&D&&Object.defineProperty(O,U,D),D};Object.defineProperty(b,"__esModule",{value:!0}),b.GlyphRenderer=void 0;const V=u(374),a=u(509),L=u(855),v=u(859),S=u(776),x=u(381),d=11,z=d*Float32Array.BYTES_PER_ELEMENT;let T,$=0,Z=0,W=0;class s extends v.Disposable{constructor(g,O,U){super(),this._terminal=g,this._gl=O,this._dimensions=U,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};const j=this._gl;a.TextureAtlas.maxAtlasPages===void 0&&(a.TextureAtlas.maxAtlasPages=Math.min(32,V.throwIfFalsy(j.getParameter(j.MAX_TEXTURE_IMAGE_UNITS))),a.TextureAtlas.maxTextureSize=V.throwIfFalsy(j.getParameter(j.MAX_TEXTURE_SIZE))),this._program=V.throwIfFalsy(x.createProgram(j,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in float a_texpage;\nlayout (location = 5) in vec2 a_texcoord;\nlayout (location = 6) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\nflat out int v_texpage;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texpage = int(a_texpage);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}",function(f){let n="";for(let c=1;c<f;c++)n+=` else if (v_texpage == ${c}) { outColor = texture(u_texture[${c}], v_texcoord); }`;return`#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\nflat in int v_texpage;\n\nuniform sampler2D u_texture[${f}];\n\nout vec4 outColor;\n\nvoid main() {\n  if (v_texpage == 0) {\n    outColor = texture(u_texture[0], v_texcoord);\n  } ${n}\n}`}(a.TextureAtlas.maxAtlasPages))),this.register(v.toDisposable(()=>j.deleteProgram(this._program))),this._projectionLocation=V.throwIfFalsy(j.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=V.throwIfFalsy(j.getUniformLocation(this._program,"u_resolution")),this._textureLocation=V.throwIfFalsy(j.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=j.createVertexArray(),j.bindVertexArray(this._vertexArrayObject);const G=new Float32Array([0,0,1,0,0,1,1,1]),H=j.createBuffer();this.register(v.toDisposable(()=>j.deleteBuffer(H))),j.bindBuffer(j.ARRAY_BUFFER,H),j.bufferData(j.ARRAY_BUFFER,G,j.STATIC_DRAW),j.enableVertexAttribArray(0),j.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);const D=new Uint8Array([0,1,2,3]),l=j.createBuffer();this.register(v.toDisposable(()=>j.deleteBuffer(l))),j.bindBuffer(j.ELEMENT_ARRAY_BUFFER,l),j.bufferData(j.ELEMENT_ARRAY_BUFFER,D,j.STATIC_DRAW),this._attributesBuffer=V.throwIfFalsy(j.createBuffer()),this.register(v.toDisposable(()=>j.deleteBuffer(this._attributesBuffer))),j.bindBuffer(j.ARRAY_BUFFER,this._attributesBuffer),j.enableVertexAttribArray(2),j.vertexAttribPointer(2,2,j.FLOAT,!1,z,0),j.vertexAttribDivisor(2,1),j.enableVertexAttribArray(3),j.vertexAttribPointer(3,2,j.FLOAT,!1,z,2*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(3,1),j.enableVertexAttribArray(4),j.vertexAttribPointer(4,1,j.FLOAT,!1,z,4*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(4,1),j.enableVertexAttribArray(5),j.vertexAttribPointer(5,2,j.FLOAT,!1,z,5*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(5,1),j.enableVertexAttribArray(6),j.vertexAttribPointer(6,2,j.FLOAT,!1,z,7*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(6,1),j.enableVertexAttribArray(1),j.vertexAttribPointer(1,2,j.FLOAT,!1,z,9*Float32Array.BYTES_PER_ELEMENT),j.vertexAttribDivisor(1,1),j.useProgram(this._program);const p=new Int32Array(a.TextureAtlas.maxAtlasPages);for(let f=0;f<a.TextureAtlas.maxAtlasPages;f++)p[f]=f;j.uniform1iv(this._textureLocation,p),j.uniformMatrix4fv(this._projectionLocation,!1,x.PROJECTION_MATRIX),this._atlasTextures=[];for(let f=0;f<a.TextureAtlas.maxAtlasPages;f++){const n=new x.GLTexture(V.throwIfFalsy(j.createTexture()));this.register(v.toDisposable(()=>j.deleteTexture(n.texture))),j.activeTexture(j.TEXTURE0+f),j.bindTexture(j.TEXTURE_2D,n.texture),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_S,j.CLAMP_TO_EDGE),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_WRAP_T,j.CLAMP_TO_EDGE),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,1,1,0,j.RGBA,j.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[f]=n}j.enable(j.BLEND),j.blendFunc(j.SRC_ALPHA,j.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(g,O,U,j,G,H,D,l){this._updateCell(this._vertices.attributes,g,O,U,j,G,H,D,l)}_updateCell(g,O,U,j,G,H,D,l,p){$=(U*this._terminal.cols+O)*d,j!==L.NULL_CELL_CODE&&j!==void 0?this._atlas&&(T=l&&l.length>1?this._atlas.getRasterizedGlyphCombinedChar(l,G,H,D,!1):this._atlas.getRasterizedGlyph(j,G,H,D,!1),Z=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),G!==p&&T.offset.x>Z?(W=T.offset.x-Z,g[$]=-(T.offset.x-W)+this._dimensions.device.char.left,g[$+1]=-T.offset.y+this._dimensions.device.char.top,g[$+2]=(T.size.x-W)/this._dimensions.device.canvas.width,g[$+3]=T.size.y/this._dimensions.device.canvas.height,g[$+4]=T.texturePage,g[$+5]=T.texturePositionClipSpace.x+W/this._atlas.pages[T.texturePage].canvas.width,g[$+6]=T.texturePositionClipSpace.y,g[$+7]=T.sizeClipSpace.x-W/this._atlas.pages[T.texturePage].canvas.width,g[$+8]=T.sizeClipSpace.y):(g[$]=-T.offset.x+this._dimensions.device.char.left,g[$+1]=-T.offset.y+this._dimensions.device.char.top,g[$+2]=T.size.x/this._dimensions.device.canvas.width,g[$+3]=T.size.y/this._dimensions.device.canvas.height,g[$+4]=T.texturePage,g[$+5]=T.texturePositionClipSpace.x,g[$+6]=T.texturePositionClipSpace.y,g[$+7]=T.sizeClipSpace.x,g[$+8]=T.sizeClipSpace.y)):g.fill(0,$,$+d-1-2)}clear(){const g=this._terminal,O=g.cols*g.rows*d;this._vertices.count!==O?this._vertices.attributes=new Float32Array(O):this._vertices.attributes.fill(0);let U=0;for(;U<this._vertices.attributesBuffers.length;U++)this._vertices.count!==O?this._vertices.attributesBuffers[U]=new Float32Array(O):this._vertices.attributesBuffers[U].fill(0);this._vertices.count=O,U=0;for(let j=0;j<g.rows;j++)for(let G=0;G<g.cols;G++)this._vertices.attributes[U+9]=G/g.cols,this._vertices.attributes[U+10]=j/g.rows,U+=d}handleResize(){const g=this._gl;g.useProgram(this._program),g.viewport(0,0,g.canvas.width,g.canvas.height),g.uniform2f(this._resolutionLocation,g.canvas.width,g.canvas.height),this.clear()}render(g){if(!this._atlas)return;const O=this._gl;O.useProgram(this._program),O.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;const U=this._vertices.attributesBuffers[this._activeBuffer];let j=0;for(let G=0;G<g.lineLengths.length;G++){const H=G*this._terminal.cols*d,D=this._vertices.attributes.subarray(H,H+g.lineLengths[G]*d);U.set(D,j),j+=D.length}O.bindBuffer(O.ARRAY_BUFFER,this._attributesBuffer),O.bufferData(O.ARRAY_BUFFER,U.subarray(0,j),O.STREAM_DRAW);for(let G=0;G<this._atlas.pages.length;G++)this._atlas.pages[G].version!==this._atlasTextures[G].version&&this._bindAtlasPageTexture(O,this._atlas,G);O.drawElementsInstanced(O.TRIANGLE_STRIP,4,O.UNSIGNED_BYTE,0,j/d)}setAtlas(g){this._atlas=g;for(let O of this._atlasTextures)O.version=-1}_bindAtlasPageTexture(g,O,U){g.activeTexture(g.TEXTURE0+U),g.bindTexture(g.TEXTURE_2D,this._atlasTextures[U].texture),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,O.pages[U].canvas),g.generateMipmap(g.TEXTURE_2D),this._atlasTextures[U].version=O.pages[U].version}setDimensions(g){this._dimensions=g}}b.GlyphRenderer=s,h([S.traceCall],s.prototype,"updateCell",null)},742:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RectangleRenderer=void 0;const h=u(374),V=u(859),a=u(310),L=u(381),v=8*Float32Array.BYTES_PER_ELEMENT;class S{constructor(){this.attributes=new Float32Array(160),this.count=0}}let x=0,d=0,z=0,T=0,$=0,Z=0,W=0;class s extends V.Disposable{constructor(g,O,U,j){super(),this._terminal=g,this._gl=O,this._dimensions=U,this._themeService=j,this._vertices=new S,this._verticesCursor=new S;const G=this._gl;this._program=h.throwIfFalsy(L.createProgram(G,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = a_position + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this.register(V.toDisposable(()=>G.deleteProgram(this._program))),this._projectionLocation=h.throwIfFalsy(G.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=G.createVertexArray(),G.bindVertexArray(this._vertexArrayObject);const H=new Float32Array([0,0,1,0,0,1,1,1]),D=G.createBuffer();this.register(V.toDisposable(()=>G.deleteBuffer(D))),G.bindBuffer(G.ARRAY_BUFFER,D),G.bufferData(G.ARRAY_BUFFER,H,G.STATIC_DRAW),G.enableVertexAttribArray(3),G.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);const l=new Uint8Array([0,1,2,3]),p=G.createBuffer();this.register(V.toDisposable(()=>G.deleteBuffer(p))),G.bindBuffer(G.ELEMENT_ARRAY_BUFFER,p),G.bufferData(G.ELEMENT_ARRAY_BUFFER,l,G.STATIC_DRAW),this._attributesBuffer=h.throwIfFalsy(G.createBuffer()),this.register(V.toDisposable(()=>G.deleteBuffer(this._attributesBuffer))),G.bindBuffer(G.ARRAY_BUFFER,this._attributesBuffer),G.enableVertexAttribArray(0),G.vertexAttribPointer(0,2,G.FLOAT,!1,v,0),G.vertexAttribDivisor(0,1),G.enableVertexAttribArray(1),G.vertexAttribPointer(1,2,G.FLOAT,!1,v,2*Float32Array.BYTES_PER_ELEMENT),G.vertexAttribDivisor(1,1),G.enableVertexAttribArray(2),G.vertexAttribPointer(2,4,G.FLOAT,!1,v,4*Float32Array.BYTES_PER_ELEMENT),G.vertexAttribDivisor(2,1),this._updateCachedColors(j.colors),this.register(this._themeService.onChangeColors((f)=>{this._updateCachedColors(f),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(g){const O=this._gl;O.useProgram(this._program),O.bindVertexArray(this._vertexArrayObject),O.uniformMatrix4fv(this._projectionLocation,!1,L.PROJECTION_MATRIX),O.bindBuffer(O.ARRAY_BUFFER,this._attributesBuffer),O.bufferData(O.ARRAY_BUFFER,g.attributes,O.DYNAMIC_DRAW),O.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,O.UNSIGNED_BYTE,0,g.count)}handleResize(){this._updateViewportRectangle()}setDimensions(g){this._dimensions=g}_updateCachedColors(g){this._bgFloat=this._colorToFloat32Array(g.background),this._cursorFloat=this._colorToFloat32Array(g.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(g){const O=this._terminal,U=this._vertices;let j,G,H,D,l,p,f,n,c,y,q,r=1;for(j=0;j<O.rows;j++){for(H=-1,D=0,l=0,p=!1,G=0;G<O.cols;G++)f=(j*O.cols+G)*a.RENDER_MODEL_INDICIES_PER_CELL,n=g.cells[f+a.RENDER_MODEL_BG_OFFSET],c=g.cells[f+a.RENDER_MODEL_FG_OFFSET],y=!!(67108864&c),(n!==D||c!==l&&(p||y))&&((D!==0||p&&l!==0)&&(q=8*r++,this._updateRectangle(U,q,l,D,H,G,j)),H=G,D=n,l=c,p=y);(D!==0||p&&l!==0)&&(q=8*r++,this._updateRectangle(U,q,l,D,H,O.cols,j))}U.count=r}updateCursor(g){const O=this._verticesCursor,U=g.cursor;if(!U||U.style==="block")return void(O.count=0);let j,G=0;U.style!=="bar"&&U.style!=="outline"||(j=8*G++,this._addRectangleFloat(O.attributes,j,U.x*this._dimensions.device.cell.width,U.y*this._dimensions.device.cell.height,U.style==="bar"?U.dpr*U.cursorWidth:U.dpr,this._dimensions.device.cell.height,this._cursorFloat)),U.style!=="underline"&&U.style!=="outline"||(j=8*G++,this._addRectangleFloat(O.attributes,j,U.x*this._dimensions.device.cell.width,(U.y+1)*this._dimensions.device.cell.height-U.dpr,U.width*this._dimensions.device.cell.width,U.dpr,this._cursorFloat)),U.style==="outline"&&(j=8*G++,this._addRectangleFloat(O.attributes,j,U.x*this._dimensions.device.cell.width,U.y*this._dimensions.device.cell.height,U.width*this._dimensions.device.cell.width,U.dpr,this._cursorFloat),j=8*G++,this._addRectangleFloat(O.attributes,j,(U.x+U.width)*this._dimensions.device.cell.width-U.dpr,U.y*this._dimensions.device.cell.height,U.dpr,this._dimensions.device.cell.height,this._cursorFloat)),O.count=G}_updateRectangle(g,O,U,j,G,H,D){if(67108864&U)switch(50331648&U){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&U].rgba;break;case 50331648:x=(16777215&U)<<8;break;default:x=this._themeService.colors.foreground.rgba}else switch(50331648&j){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&j].rgba;break;case 50331648:x=(16777215&j)<<8;break;default:x=this._themeService.colors.background.rgba}g.attributes.length<O+4&&(g.attributes=L.expandFloat32Array(g.attributes,this._terminal.rows*this._terminal.cols*8)),d=G*this._dimensions.device.cell.width,z=D*this._dimensions.device.cell.height,T=(x>>24&255)/255,$=(x>>16&255)/255,Z=(x>>8&255)/255,W=1,this._addRectangle(g.attributes,O,d,z,(H-G)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,T,$,Z,W)}_addRectangle(g,O,U,j,G,H,D,l,p,f){g[O]=U/this._dimensions.device.canvas.width,g[O+1]=j/this._dimensions.device.canvas.height,g[O+2]=G/this._dimensions.device.canvas.width,g[O+3]=H/this._dimensions.device.canvas.height,g[O+4]=D,g[O+5]=l,g[O+6]=p,g[O+7]=f}_addRectangleFloat(g,O,U,j,G,H,D){g[O]=U/this._dimensions.device.canvas.width,g[O+1]=j/this._dimensions.device.canvas.height,g[O+2]=G/this._dimensions.device.canvas.width,g[O+3]=H/this._dimensions.device.canvas.height,g[O+4]=D[0],g[O+5]=D[1],g[O+6]=D[2],g[O+7]=D[3]}_colorToFloat32Array(g){return new Float32Array([(g.rgba>>24&255)/255,(g.rgba>>16&255)/255,(g.rgba>>8&255)/255,(255&g.rgba)/255])}}b.RectangleRenderer=s},310:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RenderModel=b.COMBINED_CHAR_BIT_MASK=b.RENDER_MODEL_EXT_OFFSET=b.RENDER_MODEL_FG_OFFSET=b.RENDER_MODEL_BG_OFFSET=b.RENDER_MODEL_INDICIES_PER_CELL=void 0;const h=u(296);b.RENDER_MODEL_INDICIES_PER_CELL=4,b.RENDER_MODEL_BG_OFFSET=1,b.RENDER_MODEL_FG_OFFSET=2,b.RENDER_MODEL_EXT_OFFSET=3,b.COMBINED_CHAR_BIT_MASK=2147483648,b.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=h.createSelectionRenderModel()}resize(V,a){const L=V*a*b.RENDER_MODEL_INDICIES_PER_CELL;L!==this.cells.length&&(this.cells=new Uint32Array(L),this.lineLengths=new Uint32Array(a))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(N,b,u){var h=this&&this.__decorate||function(D,l,p,f){var n,c=arguments.length,y=c<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,p):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(D,l,p,f);else for(var q=D.length-1;q>=0;q--)(n=D[q])&&(y=(c<3?n(y):c>3?n(l,p,y):n(l,p))||y);return c>3&&y&&Object.defineProperty(l,p,y),y};Object.defineProperty(b,"__esModule",{value:!0}),b.JoinedCellData=b.WebglRenderer=void 0;const V=u(820),a=u(274),L=u(627),v=u(457),S=u(56),x=u(374),d=u(345),z=u(859),T=u(147),$=u(782),Z=u(855),W=u(776),s=u(965),g=u(742),O=u(310),U=u(733);class j extends z.Disposable{constructor(D,l,p,f,n,c,y,q,r){super(),this._terminal=D,this._characterJoinerService=l,this._charSizeService=p,this._coreBrowserService=f,this._coreService=n,this._decorationService=c,this._optionsService=y,this._themeService=q,this._cursorBlinkStateManager=new z.MutableDisposable,this._charAtlasDisposable=this.register(new z.MutableDisposable),this._model=new O.RenderModel,this._workCell=new $.CellData,this._rectangleRenderer=this.register(new z.MutableDisposable),this._glyphRenderer=this.register(new z.MutableDisposable),this._onChangeTextureAtlas=this.register(new d.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new d.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new d.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new d.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new d.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new a.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new U.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,y,this._themeService)],this.dimensions=x.createRenderDimensions(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=document.createElement("canvas");const o={antialias:!1,depth:!1,preserveDrawingBuffer:r};if(this._gl=this._canvas.getContext("webgl2",o),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register(V.addDisposableDomListener(this._canvas,"webglcontextlost",(m)=>{console.log("webglcontextlost event received"),m.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(m)},3000)})),this.register(V.addDisposableDomListener(this._canvas,"webglcontextrestored",(m)=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,L.removeTerminalFromCache(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this.register(S.observeDevicePixelDimensions(this._canvas,this._coreBrowserService.window,(m,P)=>this._setCanvasDevicePixelDimensions(m,P))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register(z.toDisposable(()=>{var m;for(let P of this._renderLayers)P.dispose();(m=this._canvas.parentElement)===null||m===void 0||m.removeChild(this._canvas),L.removeTerminalFromCache(this._terminal)}))}get textureAtlas(){var D;return(D=this._charAtlas)===null||D===void 0?void 0:D.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(D,l){var p,f,n,c;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(let y of this._renderLayers)y.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,(p=this._rectangleRenderer.value)===null||p===void 0||p.setDimensions(this.dimensions),(f=this._rectangleRenderer.value)===null||f===void 0||f.handleResize(),(n=this._glyphRenderer.value)===null||n===void 0||n.setDimensions(this.dimensions),(c=this._glyphRenderer.value)===null||c===void 0||c.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var D;for(let l of this._renderLayers)l.handleBlur(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.pause(),this._requestRedrawViewport()}handleFocus(){var D;for(let l of this._renderLayers)l.handleFocus(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.resume(),this._requestRedrawViewport()}handleSelectionChanged(D,l,p){for(let f of this._renderLayers)f.handleSelectionChanged(this._terminal,D,l,p);this._model.selection.update(this._terminal,D,l,p),this._requestRedrawViewport()}handleCursorMove(){var D;for(let l of this._renderLayers)l.handleCursorMove(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new g.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new s.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var D;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);const l=L.acquireTextureAtlas(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==l&&(this._onChangeTextureAtlas.fire(l.pages[0].canvas),this._charAtlasDisposable.value=z.getDisposeArrayDisposable([d.forwardEvent(l.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),d.forwardEvent(l.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=l,this._charAtlas.warmUp(),(D=this._glyphRenderer.value)===null||D===void 0||D.setAtlas(this._charAtlas)}_clearModel(D){var l;this._model.clear(),D&&((l=this._glyphRenderer.value)===null||l===void 0||l.clear())}clearTextureAtlas(){var D;(D=this._charAtlas)===null||D===void 0||D.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var D;this._clearModel(!0);for(let l of this._renderLayers)l.reset(this._terminal);(D=this._cursorBlinkStateManager.value)===null||D===void 0||D.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(D){return-1}deregisterCharacterJoiner(D){return!1}renderRows(D,l){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(let p of this._renderLayers)p.handleGridChanged(this._terminal,D,l);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(D,l),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new v.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(D,l){const p=this._core;let f,n,c,y,q,r,o,m,P,X,k,I,Q,e=this._workCell;D=H(D,p.rows-1,0),l=H(l,p.rows-1,0);const B=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,E=Math.min(this._terminal.buffer.active.cursorX,p.cols-1);let A=-1;const h1=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let n1=!1;for(n=D;n<=l;n++)for(c=n+p.buffer.ydisp,y=p.buffer.lines.get(c),this._model.lineLengths[n]=0,q=this._characterJoinerService.getJoinedCharacters(c),I=0;I<p.cols;I++)if(f=this._cellColorResolver.result.bg,y.loadCell(I,e),I===0&&(f=this._cellColorResolver.result.bg),r=!1,o=I,q.length>0&&I===q[0][0]&&(r=!0,m=q.shift(),e=new G(e,y.translateToString(!0,m[0],m[1]),m[1]-m[0]),o=m[1]-1),P=e.getChars(),X=e.getCode(),k=(n*p.cols+I)*O.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(e,I,c),h1&&c===B&&(I===E&&(this._model.cursor={x:E,y:this._terminal.buffer.active.cursorY,width:e.getWidth(),style:this._coreBrowserService.isFocused?p.options.cursorStyle||"block":p.options.cursorInactiveStyle,cursorWidth:p.options.cursorWidth,dpr:this._devicePixelRatio},A=E+e.getWidth()-1),I>=E&&I<=A&&(this._coreBrowserService.isFocused&&(p.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&p.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),X!==Z.NULL_CELL_CODE&&(this._model.lineLengths[n]=I+1),(this._model.cells[k]!==X||this._model.cells[k+O.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[k+O.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[k+O.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(n1=!0,P.length>1&&(X|=O.COMBINED_CHAR_BIT_MASK),this._model.cells[k]=X,this._model.cells[k+O.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[k+O.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[k+O.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(I,n,X,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,P,f),r))for(e=this._workCell,I++;I<o;I++)Q=(n*p.cols+I)*O.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(I,n,Z.NULL_CELL_CODE,0,0,0,Z.NULL_CELL_CHAR,0),this._model.cells[Q]=Z.NULL_CELL_CODE,this._model.cells[Q+O.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[Q+O.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[Q+O.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;n1&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(D,l){this._canvas.width===D&&this._canvas.height===l||(this._canvas.width=D,this._canvas.height=l,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){const D=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:D,end:D})}}b.WebglRenderer=j,h([W.traceCall],j.prototype,"renderRows",null);class G extends T.AttributeData{constructor(D,l,p){super(),this.content=0,this.combinedData="",this.fg=D.fg,this.bg=D.bg,this.combinedData=l,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(D){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function H(D,l,p=0){return Math.max(Math.min(D,l),p)}b.JoinedCellData=G},381:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GLTexture=b.expandFloat32Array=b.createShader=b.createProgram=b.PROJECTION_MATRIX=void 0;const h=u(374);function V(a,L,v){const S=h.throwIfFalsy(a.createShader(L));if(a.shaderSource(S,v),a.compileShader(S),a.getShaderParameter(S,a.COMPILE_STATUS))return S;console.error(a.getShaderInfoLog(S)),a.deleteShader(S)}b.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),b.createProgram=function(a,L,v){const S=h.throwIfFalsy(a.createProgram());if(a.attachShader(S,h.throwIfFalsy(V(a,a.VERTEX_SHADER,L))),a.attachShader(S,h.throwIfFalsy(V(a,a.FRAGMENT_SHADER,v))),a.linkProgram(S),a.getProgramParameter(S,a.LINK_STATUS))return S;console.error(a.getProgramInfoLog(S)),a.deleteProgram(S)},b.createShader=V,b.expandFloat32Array=function(a,L){const v=Math.min(2*a.length,L),S=new Float32Array(v);for(let x=0;x<a.length;x++)S[x]=a[x];return S},b.GLTexture=class{constructor(a){this.texture=a,this.version=-1}}},592:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaseRenderLayer=void 0;const h=u(627),V=u(237),a=u(374),L=u(859);class v extends L.Disposable{constructor(S,x,d,z,T,$,Z,W){super(),this._container=x,this._alpha=T,this._coreBrowserService=$,this._optionsService=Z,this._themeService=W,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${d}-layer`),this._canvas.style.zIndex=z.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((s)=>{this._refreshCharAtlas(S,s),this.reset(S)})),this.register(L.toDisposable(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(S){}handleFocus(S){}handleCursorMove(S){}handleGridChanged(S,x,d){}handleSelectionChanged(S,x,d,z=!1){}_setTransparency(S,x){if(x===this._alpha)return;const d=this._canvas;this._alpha=x,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,d),this._refreshCharAtlas(S,this._themeService.colors),this.handleGridChanged(S,0,S.rows-1)}_refreshCharAtlas(S,x){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=h.acquireTextureAtlas(S,this._optionsService.rawOptions,x,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(S,x){this._deviceCellWidth=x.device.cell.width,this._deviceCellHeight=x.device.cell.height,this._deviceCharWidth=x.device.char.width,this._deviceCharHeight=x.device.char.height,this._deviceCharLeft=x.device.char.left,this._deviceCharTop=x.device.char.top,this._canvas.width=x.device.canvas.width,this._canvas.height=x.device.canvas.height,this._canvas.style.width=`${x.css.canvas.width}px`,this._canvas.style.height=`${x.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(S,this._themeService.colors)}_fillBottomLineAtCells(S,x,d=1){this._ctx.fillRect(S*this._deviceCellWidth,(x+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,d*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(S,x,d,z){this._alpha?this._ctx.clearRect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,z*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,z*this._deviceCellHeight))}_fillCharTrueColor(S,x,d,z){this._ctx.font=this._getFont(S,!1,!1),this._ctx.textBaseline=V.TEXT_BASELINE,this._clipCell(d,z,x.getWidth()),this._ctx.fillText(x.getChars(),d*this._deviceCellWidth+this._deviceCharLeft,z*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(S,x,d){this._ctx.beginPath(),this._ctx.rect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(S,x,d){return`${d?"italic":""} ${x?S.options.fontWeightBold:S.options.fontWeight} ${S.options.fontSize*this._coreBrowserService.dpr}px ${S.options.fontFamily}`}}b.BaseRenderLayer=v},733:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LinkRenderLayer=void 0;const h=u(197),V=u(237),a=u(592);class L extends a.BaseRenderLayer{constructor(v,S,x,d,z,T,$){super(x,v,"link",S,!0,z,T,$),this.register(d.onShowLinkUnderline((Z)=>this._handleShowLinkUnderline(Z))),this.register(d.onHideLinkUnderline((Z)=>this._handleHideLinkUnderline(Z)))}resize(v,S){super.resize(v,S),this._state=void 0}reset(v){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const v=this._state.y2-this._state.y1-1;v>0&&this._clearCells(0,this._state.y1+1,this._state.cols,v),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(v){if(v.fg===V.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:v.fg!==void 0&&h.is256Color(v.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[v.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,v.y1===v.y2)this._fillBottomLineAtCells(v.x1,v.y1,v.x2-v.x1);else{this._fillBottomLineAtCells(v.x1,v.y1,v.cols-v.x1);for(let S=v.y1+1;S<v.y2;S++)this._fillBottomLineAtCells(0,S,v.cols);this._fillBottomLineAtCells(0,v.y2,v.x2)}this._state=v}_handleHideLinkUnderline(v){this._clearCurrentLink()}}b.LinkRenderLayer=L},820:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.addDisposableDomListener=void 0,b.addDisposableDomListener=function(u,h,V,a){u.addEventListener(h,V,a);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(h,V,a))}}}},274:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellColorResolver=void 0;let u,h=0,V=0,a=!1,L=!1,v=!1;b.CellColorResolver=class{constructor(S,x,d,z,T){this._terminal=S,this._selectionRenderModel=x,this._decorationService=d,this._coreBrowserService=z,this._themeService=T,this.result={fg:0,bg:0,ext:0}}resolve(S,x,d){this.result.bg=S.bg,this.result.fg=S.fg,this.result.ext=268435456&S.bg?S.extended.ext:0,V=0,h=0,L=!1,a=!1,v=!1,u=this._themeService.colors,this._decorationService.forEachDecorationAtCell(x,d,"bottom",(z)=>{z.backgroundColorRGB&&(V=z.backgroundColorRGB.rgba>>8&16777215,L=!0),z.foregroundColorRGB&&(h=z.foregroundColorRGB.rgba>>8&16777215,a=!0)}),v=this._selectionRenderModel.isCellSelected(this._terminal,x,d),v&&(V=(this._coreBrowserService.isFocused?u.selectionBackgroundOpaque:u.selectionInactiveBackgroundOpaque).rgba>>8&16777215,L=!0,u.selectionForeground&&(h=u.selectionForeground.rgba>>8&16777215,a=!0)),this._decorationService.forEachDecorationAtCell(x,d,"top",(z)=>{z.backgroundColorRGB&&(V=z.backgroundColorRGB.rgba>>8&16777215,L=!0),z.foregroundColorRGB&&(h=z.foregroundColorRGB.rgba>>8&16777215,a=!0)}),L&&(V=v?-16777216&S.bg&-134217729|V|50331648:-16777216&S.bg|V|50331648),a&&(h=-16777216&S.fg&-67108865|h|50331648),67108864&this.result.fg&&(L&&!a&&(h=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&u.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,a=!0),!L&&a&&(V=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&u.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,L=!0)),u=void 0,this.result.bg=L?V:this.result.bg,this.result.fg=a?h:this.result.fg}}},627:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.removeTerminalFromCache=b.acquireTextureAtlas=void 0;const h=u(509),V=u(197),a=[];b.acquireTextureAtlas=function(L,v,S,x,d,z,T,$){const Z=V.generateConfig(x,d,z,T,v,S,$);for(let g=0;g<a.length;g++){const O=a[g],U=O.ownedBy.indexOf(L);if(U>=0){if(V.configEquals(O.config,Z))return O.atlas;O.ownedBy.length===1?(O.atlas.dispose(),a.splice(g,1)):O.ownedBy.splice(U,1);break}}for(let g=0;g<a.length;g++){const O=a[g];if(V.configEquals(O.config,Z))return O.ownedBy.push(L),O.atlas}const W=L._core,s={atlas:new h.TextureAtlas(document,Z,W.unicodeService),config:Z,ownedBy:[L]};return a.push(s),s.atlas},b.removeTerminalFromCache=function(L){for(let v=0;v<a.length;v++){const S=a[v].ownedBy.indexOf(L);if(S!==-1){a[v].ownedBy.length===1?(a[v].atlas.dispose(),a.splice(v,1)):a[v].ownedBy.splice(S,1);break}}}},197:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.is256Color=b.configEquals=b.generateConfig=void 0;const h=u(160);b.generateConfig=function(V,a,L,v,S,x,d){const z={foreground:x.foreground,background:x.background,cursor:h.NULL_COLOR,cursorAccent:h.NULL_COLOR,selectionForeground:h.NULL_COLOR,selectionBackgroundTransparent:h.NULL_COLOR,selectionBackgroundOpaque:h.NULL_COLOR,selectionInactiveBackgroundTransparent:h.NULL_COLOR,selectionInactiveBackgroundOpaque:h.NULL_COLOR,ansi:x.ansi.slice(),contrastCache:x.contrastCache,halfContrastCache:x.halfContrastCache};return{customGlyphs:S.customGlyphs,devicePixelRatio:d,letterSpacing:S.letterSpacing,lineHeight:S.lineHeight,deviceCellWidth:V,deviceCellHeight:a,deviceCharWidth:L,deviceCharHeight:v,fontFamily:S.fontFamily,fontSize:S.fontSize,fontWeight:S.fontWeight,fontWeightBold:S.fontWeightBold,allowTransparency:S.allowTransparency,drawBoldTextInBrightColors:S.drawBoldTextInBrightColors,minimumContrastRatio:S.minimumContrastRatio,colors:z}},b.configEquals=function(V,a){for(let L=0;L<V.colors.ansi.length;L++)if(V.colors.ansi[L].rgba!==a.colors.ansi[L].rgba)return!1;return V.devicePixelRatio===a.devicePixelRatio&&V.customGlyphs===a.customGlyphs&&V.lineHeight===a.lineHeight&&V.letterSpacing===a.letterSpacing&&V.fontFamily===a.fontFamily&&V.fontSize===a.fontSize&&V.fontWeight===a.fontWeight&&V.fontWeightBold===a.fontWeightBold&&V.allowTransparency===a.allowTransparency&&V.deviceCharWidth===a.deviceCharWidth&&V.deviceCharHeight===a.deviceCharHeight&&V.drawBoldTextInBrightColors===a.drawBoldTextInBrightColors&&V.minimumContrastRatio===a.minimumContrastRatio&&V.colors.foreground.rgba===a.colors.foreground.rgba&&V.colors.background.rgba===a.colors.background.rgba},b.is256Color=function(V){return(50331648&V)==16777216||(50331648&V)==33554432}},237:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TEXT_BASELINE=b.DIM_OPACITY=b.INVERTED_DEFAULT_COLOR=void 0;const h=u(399);b.INVERTED_DEFAULT_COLOR=257,b.DIM_OPACITY=0.5,b.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},457:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CursorBlinkStateManager=void 0,b.CursorBlinkStateManager=class{constructor(u,h){this._renderCallback=u,this._coreBrowserService=h,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(u=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const h=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,h>0)return void this._restartInterval(h)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const h=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(h)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},u)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tryDrawCustomChar=b.powerlineDefinitions=b.boxDrawingDefinitions=b.blockElementDefinitions=void 0;const h=u(374);b.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258A":[{x:0,y:0,w:6,h:8}],"\u258B":[{x:0,y:0,w:5,h:8}],"\u258C":[{x:0,y:0,w:4,h:8}],"\u258D":[{x:0,y:0,w:3,h:8}],"\u258E":[{x:0,y:0,w:2,h:8}],"\u258F":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:8,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259A":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259B":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"\u259C":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259D":[{x:4,y:0,w:4,h:4}],"\u259E":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259F":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\uD83E\uDF70":[{x:1,y:0,w:1,h:8}],"\uD83E\uDF71":[{x:2,y:0,w:1,h:8}],"\uD83E\uDF72":[{x:3,y:0,w:1,h:8}],"\uD83E\uDF73":[{x:4,y:0,w:1,h:8}],"\uD83E\uDF74":[{x:5,y:0,w:1,h:8}],"\uD83E\uDF75":[{x:6,y:0,w:1,h:8}],"\uD83E\uDF76":[{x:0,y:1,w:8,h:1}],"\uD83E\uDF77":[{x:0,y:2,w:8,h:1}],"\uD83E\uDF78":[{x:0,y:3,w:8,h:1}],"\uD83E\uDF79":[{x:0,y:4,w:8,h:1}],"\uD83E\uDF7A":[{x:0,y:5,w:8,h:1}],"\uD83E\uDF7B":[{x:0,y:6,w:8,h:1}],"\uD83E\uDF7C":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF7D":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7E":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7F":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF82":[{x:0,y:0,w:8,h:2}],"\uD83E\uDF83":[{x:0,y:0,w:8,h:3}],"\uD83E\uDF84":[{x:0,y:0,w:8,h:5}],"\uD83E\uDF85":[{x:0,y:0,w:8,h:6}],"\uD83E\uDF86":[{x:0,y:0,w:8,h:7}],"\uD83E\uDF87":[{x:6,y:0,w:2,h:8}],"\uD83E\uDF88":[{x:5,y:0,w:3,h:8}],"\uD83E\uDF89":[{x:3,y:0,w:5,h:8}],"\uD83E\uDF8A":[{x:2,y:0,w:6,h:8}],"\uD83E\uDF8B":[{x:1,y:0,w:7,h:8}],"\uD83E\uDF95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\uD83E\uDF96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\uD83E\uDF97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const V={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};b.boxDrawingDefinitions={"\u2500":{1:"M0,.5 L1,.5"},"\u2501":{3:"M0,.5 L1,.5"},"\u2502":{1:"M.5,0 L.5,1"},"\u2503":{3:"M.5,0 L.5,1"},"\u250C":{1:"M0.5,1 L.5,.5 L1,.5"},"\u250F":{3:"M0.5,1 L.5,.5 L1,.5"},"\u2510":{1:"M0,.5 L.5,.5 L.5,1"},"\u2513":{3:"M0,.5 L.5,.5 L.5,1"},"\u2514":{1:"M.5,0 L.5,.5 L1,.5"},"\u2517":{3:"M.5,0 L.5,.5 L1,.5"},"\u2518":{1:"M.5,0 L.5,.5 L0,.5"},"\u251B":{3:"M.5,0 L.5,.5 L0,.5"},"\u251C":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2523":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u2524":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252B":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u252C":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2533":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2534":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253B":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"\u253C":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u254B":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"\u2574":{1:"M.5,.5 L0,.5"},"\u2578":{3:"M.5,.5 L0,.5"},"\u2575":{1:"M.5,.5 L.5,0"},"\u2579":{3:"M.5,.5 L.5,0"},"\u2576":{1:"M.5,.5 L1,.5"},"\u257A":{3:"M.5,.5 L1,.5"},"\u2577":{1:"M.5,.5 L.5,1"},"\u257B":{3:"M.5,.5 L.5,1"},"\u2550":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"\u2551":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"\u2552":{1:(x,d)=>`M.5,1 L.5,${0.5-d} L1,${0.5-d} M.5,${0.5+d} L1,${0.5+d}`},"\u2553":{1:(x,d)=>`M${0.5-x},1 L${0.5-x},.5 L1,.5 M${0.5+x},.5 L${0.5+x},1`},"\u2554":{1:(x,d)=>`M1,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1`},"\u2555":{1:(x,d)=>`M0,${0.5-d} L.5,${0.5-d} L.5,1 M0,${0.5+d} L.5,${0.5+d}`},"\u2556":{1:(x,d)=>`M${0.5+x},1 L${0.5+x},.5 L0,.5 M${0.5-x},.5 L${0.5-x},1`},"\u2557":{1:(x,d)=>`M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M0,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},1`},"\u2558":{1:(x,d)=>`M.5,0 L.5,${0.5+d} L1,${0.5+d} M.5,${0.5-d} L1,${0.5-d}`},"\u2559":{1:(x,d)=>`M1,.5 L${0.5-x},.5 L${0.5-x},0 M${0.5+x},.5 L${0.5+x},0`},"\u255A":{1:(x,d)=>`M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0 M1,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},0`},"\u255B":{1:(x,d)=>`M0,${0.5+d} L.5,${0.5+d} L.5,0 M0,${0.5-d} L.5,${0.5-d}`},"\u255C":{1:(x,d)=>`M0,.5 L${0.5+x},.5 L${0.5+x},0 M${0.5-x},.5 L${0.5-x},0`},"\u255D":{1:(x,d)=>`M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M0,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},0`},"\u255E":{1:(x,d)=>`M.5,0 L.5,1 M.5,${0.5-d} L1,${0.5-d} M.5,${0.5+d} L1,${0.5+d}`},"\u255F":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1 M${0.5+x},.5 L1,.5`},"\u2560":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"\u2561":{1:(x,d)=>`M.5,0 L.5,1 M0,${0.5-d} L.5,${0.5-d} M0,${0.5+d} L.5,${0.5+d}`},"\u2562":{1:(x,d)=>`M0,.5 L${0.5-x},.5 M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"\u2563":{1:(x,d)=>`M${0.5+x},0 L${0.5+x},1 M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0`},"\u2564":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d} M.5,${0.5+d} L.5,1`},"\u2565":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},.5 L${0.5-x},1 M${0.5+x},.5 L${0.5+x},1`},"\u2566":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1`},"\u2567":{1:(x,d)=>`M.5,0 L.5,${0.5-d} M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"\u2568":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},.5 L${0.5-x},0 M${0.5+x},.5 L${0.5+x},0`},"\u2569":{1:(x,d)=>`M0,${0.5+d} L1,${0.5+d} M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"\u256A":{1:(x,d)=>`M.5,0 L.5,1 M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"\u256B":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"\u256C":{1:(x,d)=>`M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1 M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"\u2571":{1:"M1,0 L0,1"},"\u2572":{1:"M0,0 L1,1"},"\u2573":{1:"M1,0 L0,1 M0,0 L1,1"},"\u257C":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u257D":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"\u257E":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u257F":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u250D":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u250E":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2511":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"\u2512":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2515":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"\u2516":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2519":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"\u251A":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"\u251D":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"\u251E":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u251F":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2520":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2521":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2522":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"\u2525":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"\u2526":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2527":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"\u2528":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"\u2529":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"\u252A":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"\u252D":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u252E":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"\u252F":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"\u2530":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2531":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2532":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2535":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u2536":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u2537":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"\u2538":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"\u2539":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u253A":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"\u253D":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"\u253E":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"\u253F":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"\u2540":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"\u2541":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"\u2542":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"\u2543":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"\u2544":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"\u2545":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"\u2546":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"\u2547":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"\u2548":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"\u2549":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"\u254A":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"\u254C":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u254D":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"\u2504":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2505":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"\u2508":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u2509":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"\u254E":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u254F":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"\u2506":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u2507":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"\u250A":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u250B":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"\u256D":{1:(x,d)=>`M.5,1 L.5,${0.5+d/0.15*0.5} C.5,${0.5+d/0.15*0.5},.5,.5,1,.5`},"\u256E":{1:(x,d)=>`M.5,1 L.5,${0.5+d/0.15*0.5} C.5,${0.5+d/0.15*0.5},.5,.5,0,.5`},"\u256F":{1:(x,d)=>`M.5,0 L.5,${0.5-d/0.15*0.5} C.5,${0.5-d/0.15*0.5},.5,.5,0,.5`},"\u2570":{1:(x,d)=>`M.5,0 L.5,${0.5-d/0.15*0.5} C.5,${0.5-d/0.15*0.5},.5,.5,1,.5`}},b.powerlineDefinitions={"\uE0B0":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"\uE0B1":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0B2":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"\uE0B3":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0B4":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"\uE0B5":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"\uE0B6":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"\uE0B7":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"\uE0B8":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"\uE0B9":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0BA":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"\uE0BC":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"\uE0BD":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"\uE0BE":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},b.powerlineDefinitions["\uE0BB"]=b.powerlineDefinitions["\uE0BD"],b.powerlineDefinitions["\uE0BF"]=b.powerlineDefinitions["\uE0B9"],b.tryDrawCustomChar=function(x,d,z,T,$,Z,W,s){const g=b.blockElementDefinitions[d];if(g)return function(G,H,D,l,p,f){for(let n=0;n<H.length;n++){const c=H[n],y=p/8,q=f/8;G.fillRect(D+c.x*y,l+c.y*q,c.w*y,c.h*q)}}(x,g,z,T,$,Z),!0;const O=V[d];if(O)return function(G,H,D,l,p,f){let n=a.get(H);n||(n=new Map,a.set(H,n));const c=G.fillStyle;if(typeof c!="string")throw new Error(`Unexpected fillStyle type "${c}"`);let y=n.get(c);if(!y){const q=H[0].length,r=H.length,o=document.createElement("canvas");o.width=q,o.height=r;const m=h.throwIfFalsy(o.getContext("2d")),P=new ImageData(q,r);let X,k,I,Q;if(c.startsWith("#"))X=parseInt(c.slice(1,3),16),k=parseInt(c.slice(3,5),16),I=parseInt(c.slice(5,7),16),Q=c.length>7&&parseInt(c.slice(7,9),16)||1;else{if(!c.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${c}" when drawing pattern glyph`);[X,k,I,Q]=c.substring(5,c.length-1).split(",").map((e)=>parseFloat(e))}for(let e=0;e<r;e++)for(let B=0;B<q;B++)P.data[4*(e*q+B)]=X,P.data[4*(e*q+B)+1]=k,P.data[4*(e*q+B)+2]=I,P.data[4*(e*q+B)+3]=H[e][B]*(255*Q);m.putImageData(P,0,0),y=h.throwIfFalsy(G.createPattern(o,null)),n.set(c,y)}G.fillStyle=y,G.fillRect(D,l,p,f)}(x,O,z,T,$,Z),!0;const U=b.boxDrawingDefinitions[d];if(U)return function(G,H,D,l,p,f,n){G.strokeStyle=G.fillStyle;for(let[c,y]of Object.entries(H)){let q;G.beginPath(),G.lineWidth=n*Number.parseInt(c),q=typeof y=="function"?y(0.15,0.15/f*p):y;for(let r of q.split(" ")){const o=r[0],m=v[o];if(!m){console.error(`Could not find drawing instructions for "${o}"`);continue}const P=r.substring(1).split(",");P[0]&&P[1]&&m(G,S(P,p,f,D,l,!0,n))}G.stroke(),G.closePath()}}(x,U,z,T,$,Z,s),!0;const j=b.powerlineDefinitions[d];return!!j&&(function(G,H,D,l,p,f,n,c){var y,q;const r=new Path2D;r.rect(D,l,p,f),G.clip(r),G.beginPath();const o=n/12;G.lineWidth=c*o;for(let m of H.d.split(" ")){const P=m[0],X=v[P];if(!X){console.error(`Could not find drawing instructions for "${P}"`);continue}const k=m.substring(1).split(",");k[0]&&k[1]&&X(G,S(k,p,f,D,l,!1,c,((y=H.leftPadding)!==null&&y!==void 0?y:0)*(o/2),((q=H.rightPadding)!==null&&q!==void 0?q:0)*(o/2)))}H.type===1?(G.strokeStyle=G.fillStyle,G.stroke()):G.fill(),G.closePath()}(x,j,z,T,$,Z,W,s),!0)};const a=new Map;function L(x,d,z=0){return Math.max(Math.min(x,d),z)}const v={C:(x,d)=>x.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]),L:(x,d)=>x.lineTo(d[0],d[1]),M:(x,d)=>x.moveTo(d[0],d[1])};function S(x,d,z,T,$,Z,W,s=0,g=0){const O=x.map((U)=>parseFloat(U)||parseInt(U));if(O.length<2)throw new Error("Too few arguments for instruction");for(let U=0;U<O.length;U+=2)O[U]*=d-s*W-g*W,Z&&O[U]!==0&&(O[U]=L(Math.round(O[U]+0.5)-0.5,d,0)),O[U]+=T+s*W;for(let U=1;U<O.length;U+=2)O[U]*=z,Z&&O[U]!==0&&(O[U]=L(Math.round(O[U]+0.5)-0.5,z,0)),O[U]+=$;return O}},56:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.observeDevicePixelDimensions=void 0;const h=u(859);b.observeDevicePixelDimensions=function(V,a,L){let v=new a.ResizeObserver((S)=>{const x=S.find((T)=>T.target===V);if(!x)return;if(!("devicePixelContentBoxSize"in x))return v==null||v.disconnect(),void(v=void 0);const d=x.devicePixelContentBoxSize[0].inlineSize,z=x.devicePixelContentBoxSize[0].blockSize;d>0&&z>0&&L(d,z)});try{v.observe(V,{box:["device-pixel-content-box"]})}catch(S){v.disconnect(),v=void 0}return h.toDisposable(()=>v==null?void 0:v.disconnect())}},374:(N,b)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(b,"__esModule",{value:!0}),b.createRenderDimensions=b.excludeFromContrastRatioDemands=b.isRestrictedPowerlineGlyph=b.isPowerlineGlyph=b.throwIfFalsy=void 0,b.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},b.isPowerlineGlyph=u,b.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},b.excludeFromContrastRatioDemands=function(h){return u(h)||function(V){return 9472<=V&&V<=9631}(h)},b.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createSelectionRenderModel=void 0;class u{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(h,V,a,L=!1){if(this.selectionStart=V,this.selectionEnd=a,!V||!a||V[0]===a[0]&&V[1]===a[1])return void this.clear();const v=V[1]-h.buffer.active.viewportY,S=a[1]-h.buffer.active.viewportY,x=Math.max(v,0),d=Math.min(S,h.rows-1);x>=h.rows||d<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=L,this.viewportStartRow=v,this.viewportEndRow=S,this.viewportCappedStartRow=x,this.viewportCappedEndRow=d,this.startCol=V[0],this.endCol=a[0])}isCellSelected(h,V,a){return!!this.hasSelection&&(a-=h.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?V>=this.startCol&&a>=this.viewportCappedStartRow&&V<this.endCol&&a<=this.viewportCappedEndRow:V<this.startCol&&a>=this.viewportCappedStartRow&&V>=this.endCol&&a<=this.viewportCappedEndRow:a>this.viewportStartRow&&a<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&a===this.viewportStartRow&&V>=this.startCol&&V<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportEndRow&&V<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportStartRow&&V>=this.startCol)}}b.createSelectionRenderModel=function(){return new u}},509:function(N,b,u){var h=this&&this.__decorate||function(j,G,H,D){var l,p=arguments.length,f=p<3?G:D===null?D=Object.getOwnPropertyDescriptor(G,H):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(j,G,H,D);else for(var n=j.length-1;n>=0;n--)(l=j[n])&&(f=(p<3?l(f):p>3?l(G,H,f):l(G,H))||f);return p>3&&f&&Object.defineProperty(G,H,f),f};Object.defineProperty(b,"__esModule",{value:!0}),b.TextureAtlas=void 0;const V=u(237),a=u(860),L=u(374),v=u(160),S=u(345),x=u(485),d=u(385),z=u(147),T=u(855),$=u(776),Z={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let W;class s{get pages(){return this._pages}constructor(j,G,H){this._document=j,this._config=G,this._unicodeService=H,this._didWarmUp=!1,this._cacheMap=new x.FourKeyMap,this._cacheMapCombined=new x.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new z.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new S.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new S.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=U(j,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=L.throwIfFalsy(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(let j of this.pages)j.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const j=new d.IdleTaskQueue;for(let G=33;G<126;G++)j.enqueue(()=>{if(!this._cacheMap.get(G,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT)){const H=this._drawToCache(G,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT);this._cacheMap.set(G,T.DEFAULT_COLOR,T.DEFAULT_COLOR,T.DEFAULT_EXT,H)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(let j of this._pages)j.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(s.maxAtlasPages&&this._pages.length>=Math.max(4,s.maxAtlasPages)){const G=this._pages.filter((c)=>2*c.canvas.width<=(s.maxTextureSize||4096)).sort((c,y)=>y.canvas.width!==c.canvas.width?y.canvas.width-c.canvas.width:y.percentageUsed-c.percentageUsed);let H=-1,D=0;for(let c=0;c<G.length;c++)if(G[c].canvas.width!==D)H=c,D=G[c].canvas.width;else if(c-H==3)break;const l=G.slice(H,H+4),p=l.map((c)=>c.glyphs[0].texturePage).sort((c,y)=>c>y?1:-1),f=this.pages.length-l.length,n=this._mergePages(l,f);n.version++;for(let c=p.length-1;c>=0;c--)this._deletePage(p[c]);this.pages.push(n),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(n.canvas)}const j=new g(this._document,this._textureSize);return this._pages.push(j),this._activePages.push(j),this._onAddTextureAtlasCanvas.fire(j.canvas),j}_mergePages(j,G){const H=2*j[0].canvas.width,D=new g(this._document,H,j);for(let[l,p]of j.entries()){const f=l*p.canvas.width%H,n=Math.floor(l/2)*p.canvas.height;D.ctx.drawImage(p.canvas,f,n);for(let y of p.glyphs)y.texturePage=G,y.sizeClipSpace.x=y.size.x/H,y.sizeClipSpace.y=y.size.y/H,y.texturePosition.x+=f,y.texturePosition.y+=n,y.texturePositionClipSpace.x=y.texturePosition.x/H,y.texturePositionClipSpace.y=y.texturePosition.y/H;this._onRemoveTextureAtlasCanvas.fire(p.canvas);const c=this._activePages.indexOf(p);c!==-1&&this._activePages.splice(c,1)}return D}_deletePage(j){this._pages.splice(j,1);for(let G=j;G<this._pages.length;G++){const H=this._pages[G];for(let D of H.glyphs)D.texturePage--;H.version++}}getRasterizedGlyphCombinedChar(j,G,H,D,l){return this._getFromCacheMap(this._cacheMapCombined,j,G,H,D,l)}getRasterizedGlyph(j,G,H,D,l){return this._getFromCacheMap(this._cacheMap,j,G,H,D,l)}_getFromCacheMap(j,G,H,D,l,p=!1){return W=j.get(G,H,D,l),W||(W=this._drawToCache(G,H,D,l,p),j.set(G,H,D,l,W)),W}_getColorFromAnsiIndex(j){if(j>=this._config.colors.ansi.length)throw new Error("No color found for idx "+j);return this._config.colors.ansi[j]}_getBackgroundColor(j,G,H,D){if(this._config.allowTransparency)return v.NULL_COLOR;let l;switch(j){case 16777216:case 33554432:l=this._getColorFromAnsiIndex(G);break;case 50331648:const p=z.AttributeData.toColorRGB(G);l=v.rgba.toColor(p[0],p[1],p[2]);break;default:l=H?v.color.opaque(this._config.colors.foreground):this._config.colors.background}return l}_getForegroundColor(j,G,H,D,l,p,f,n,c,y){const q=this._getMinimumContrastColor(j,G,H,D,l,p,!1,c,n,y);if(q)return q;let r;switch(l){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&c&&p<8&&(p+=8),r=this._getColorFromAnsiIndex(p);break;case 50331648:const o=z.AttributeData.toColorRGB(p);r=v.rgba.toColor(o[0],o[1],o[2]);break;default:r=f?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(r=v.color.opaque(r)),n&&(r=v.color.multiplyOpacity(r,V.DIM_OPACITY)),r}_resolveBackgroundRgba(j,G,H){switch(j){case 16777216:case 33554432:return this._getColorFromAnsiIndex(G).rgba;case 50331648:return G<<8;default:return H?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(j,G,H,D){switch(j){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&D&&G<8&&(G+=8),this._getColorFromAnsiIndex(G).rgba;case 50331648:return G<<8;default:return H?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(j,G,H,D,l,p,f,n,c,y){if(this._config.minimumContrastRatio===1||y)return;const q=this._getContrastCache(c),r=q.getColor(j,D);if(r!==void 0)return r||void 0;const o=this._resolveBackgroundRgba(G,H,f),m=this._resolveForegroundRgba(l,p,f,n),P=v.rgba.ensureContrastRatio(o,m,this._config.minimumContrastRatio/(c?2:1));if(!P)return void q.setColor(j,D,null);const X=v.rgba.toColor(P>>24&255,P>>16&255,P>>8&255);return q.setColor(j,D,X),X}_getContrastCache(j){return j?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(j,G,H,D,l=!1){const p=typeof j=="number"?String.fromCharCode(j):j,f=Math.min(this._config.deviceCellWidth*Math.max(p.length,2)+4,this._textureSize);this._tmpCanvas.width<f&&(this._tmpCanvas.width=f);const n=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<n&&(this._tmpCanvas.height=n),this._tmpCtx.save(),this._workAttributeData.fg=H,this._workAttributeData.bg=G,this._workAttributeData.extended.ext=D,this._workAttributeData.isInvisible())return Z;const c=!!this._workAttributeData.isBold(),y=!!this._workAttributeData.isInverse(),q=!!this._workAttributeData.isDim(),r=!!this._workAttributeData.isItalic(),o=!!this._workAttributeData.isUnderline(),m=!!this._workAttributeData.isStrikethrough(),P=!!this._workAttributeData.isOverline();let X=this._workAttributeData.getFgColor(),k=this._workAttributeData.getFgColorMode(),I=this._workAttributeData.getBgColor(),Q=this._workAttributeData.getBgColorMode();if(y){const r1=X;X=I,I=r1;const F1=k;k=Q,Q=F1}const e=this._getBackgroundColor(Q,I,y,q);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const B=c?this._config.fontWeightBold:this._config.fontWeight,E=r?"italic":"";this._tmpCtx.font=`${E} ${B} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=V.TEXT_BASELINE;const A=p.length===1&&L.isPowerlineGlyph(p.charCodeAt(0)),h1=p.length===1&&L.isRestrictedPowerlineGlyph(p.charCodeAt(0)),n1=this._getForegroundColor(G,Q,I,H,k,X,y,q,c,L.excludeFromContrastRatioDemands(p.charCodeAt(0)));this._tmpCtx.fillStyle=n1.css;const c1=h1?0:4;let J=!1;this._config.customGlyphs!==!1&&(J=a.tryDrawCustomChar(this._tmpCtx,p,c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let K,Y=!A;if(K=typeof j=="number"?this._unicodeService.wcwidth(j):this._unicodeService.getStringCellWidth(j),o){this._tmpCtx.save();const r1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),F1=r1%2==1?0.5:0;if(this._tmpCtx.lineWidth=r1,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())Y=!1,this._tmpCtx.strokeStyle=`rgb(${z.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{Y=!1;let i=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&i<8&&(i+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(i).css}this._tmpCtx.beginPath();const m1=c1,a1=Math.ceil(c1+this._config.deviceCharHeight)-F1-(l?2*r1:0),k1=a1+r1,F=a1+2*r1;for(let i=0;i<K;i++){this._tmpCtx.save();const t=m1+i*this._config.deviceCellWidth,C=m1+(i+1)*this._config.deviceCellWidth,l1=t+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1),this._tmpCtx.moveTo(t,F),this._tmpCtx.lineTo(C,F);break;case 3:const x1=r1<=1?F:Math.ceil(c1+this._config.deviceCharHeight-r1/2)-F1,f1=r1<=1?a1:Math.ceil(c1+this._config.deviceCharHeight+r1/2)-F1,y1=new Path2D;y1.rect(t,a1,this._config.deviceCellWidth,F-a1),this._tmpCtx.clip(y1),this._tmpCtx.moveTo(t-this._config.deviceCellWidth/2,k1),this._tmpCtx.bezierCurveTo(t-this._config.deviceCellWidth/2,f1,t,f1,t,k1),this._tmpCtx.bezierCurveTo(t,x1,l1,x1,l1,k1),this._tmpCtx.bezierCurveTo(l1,f1,C,f1,C,k1),this._tmpCtx.bezierCurveTo(C,x1,C+this._config.deviceCellWidth/2,x1,C+this._config.deviceCellWidth/2,k1);break;case 4:this._tmpCtx.setLineDash([Math.round(r1),Math.round(r1)]),this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1);break;default:this._tmpCtx.moveTo(t,a1),this._tmpCtx.lineTo(C,a1)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!J&&this._config.fontSize>=12&&!this._config.allowTransparency&&p!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const i=this._tmpCtx.measureText(p);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in i&&i.actualBoundingBoxDescent>0){this._tmpCtx.save();const t=new Path2D;t.rect(m1,a1-Math.ceil(r1/2),this._config.deviceCellWidth*K,F-a1+Math.ceil(r1/2)),this._tmpCtx.clip(t),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=e.css,this._tmpCtx.strokeText(p,c1,c1+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(P){const r1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),F1=r1%2==1?0.5:0;this._tmpCtx.lineWidth=r1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+F1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*K,c1+F1),this._tmpCtx.stroke()}if(J||this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight),p==="_"&&!this._config.allowTransparency){let r1=O(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,Y);if(r1)for(let F1=1;F1<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight-F1),r1=O(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,Y),r1);F1++);}if(m){const r1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),F1=this._tmpCtx.lineWidth%2==1?0.5:0;this._tmpCtx.lineWidth=r1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+Math.floor(this._config.deviceCharHeight/2)-F1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*K,c1+Math.floor(this._config.deviceCharHeight/2)-F1),this._tmpCtx.stroke()}this._tmpCtx.restore();const p1=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let u1;if(u1=this._config.allowTransparency?function(r1){for(let F1=0;F1<r1.data.length;F1+=4)if(r1.data[F1+3]>0)return!1;return!0}(p1):O(p1,e,n1,Y),u1)return Z;const o1=this._findGlyphBoundingBox(p1,this._workBoundingBox,f,h1,J,c1);let M1,d1;for(;;){if(this._activePages.length===0){const r1=this._createNewPage();M1=r1,d1=r1.currentRow,d1.height=o1.size.y;break}M1=this._activePages[this._activePages.length-1],d1=M1.currentRow;for(let r1 of this._activePages)o1.size.y<=r1.currentRow.height&&(M1=r1,d1=r1.currentRow);for(let r1=this._activePages.length-1;r1>=0;r1--)for(let F1 of this._activePages[r1].fixedRows)F1.height<=d1.height&&o1.size.y<=F1.height&&(M1=this._activePages[r1],d1=F1);if(d1.y+o1.size.y>=M1.canvas.height||d1.height>o1.size.y+2){let r1=!1;if(M1.currentRow.y+M1.currentRow.height+o1.size.y>=M1.canvas.height){let F1;for(let m1 of this._activePages)if(m1.currentRow.y+m1.currentRow.height+o1.size.y<m1.canvas.height){F1=m1;break}if(F1)M1=F1;else if(s.maxAtlasPages&&this._pages.length>=s.maxAtlasPages&&d1.y+o1.size.y<=M1.canvas.height&&d1.height>=o1.size.y&&d1.x+o1.size.x<=M1.canvas.width)r1=!0;else{const m1=this._createNewPage();M1=m1,d1=m1.currentRow,d1.height=o1.size.y,r1=!0}}r1||(M1.currentRow.height>0&&M1.fixedRows.push(M1.currentRow),d1={x:0,y:M1.currentRow.y+M1.currentRow.height,height:o1.size.y},M1.fixedRows.push(d1),M1.currentRow={x:0,y:d1.y+d1.height,height:0})}if(d1.x+o1.size.x<=M1.canvas.width)break;d1===M1.currentRow?(d1.x=0,d1.y+=d1.height,d1.height=0):M1.fixedRows.splice(M1.fixedRows.indexOf(d1),1)}return o1.texturePage=this._pages.indexOf(M1),o1.texturePosition.x=d1.x,o1.texturePosition.y=d1.y,o1.texturePositionClipSpace.x=d1.x/M1.canvas.width,o1.texturePositionClipSpace.y=d1.y/M1.canvas.height,o1.sizeClipSpace.x/=M1.canvas.width,o1.sizeClipSpace.y/=M1.canvas.height,d1.height=Math.max(d1.height,o1.size.y),d1.x+=o1.size.x,M1.ctx.putImageData(p1,o1.texturePosition.x-this._workBoundingBox.left,o1.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,o1.size.x,o1.size.y),M1.addGlyph(o1),M1.version++,o1}_findGlyphBoundingBox(j,G,H,D,l,p){G.top=0;const f=D?this._config.deviceCellHeight:this._tmpCanvas.height,n=D?this._config.deviceCellWidth:H;let c=!1;for(let y=0;y<f;y++){for(let q=0;q<n;q++){const r=y*this._tmpCanvas.width*4+4*q+3;if(j.data[r]!==0){G.top=y,c=!0;break}}if(c)break}G.left=0,c=!1;for(let y=0;y<p+n;y++){for(let q=0;q<f;q++){const r=q*this._tmpCanvas.width*4+4*y+3;if(j.data[r]!==0){G.left=y,c=!0;break}}if(c)break}G.right=n,c=!1;for(let y=p+n-1;y>=p;y--){for(let q=0;q<f;q++){const r=q*this._tmpCanvas.width*4+4*y+3;if(j.data[r]!==0){G.right=y,c=!0;break}}if(c)break}G.bottom=f,c=!1;for(let y=f-1;y>=0;y--){for(let q=0;q<n;q++){const r=y*this._tmpCanvas.width*4+4*q+3;if(j.data[r]!==0){G.bottom=y,c=!0;break}}if(c)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:G.right-G.left+1,y:G.bottom-G.top+1},sizeClipSpace:{x:G.right-G.left+1,y:G.bottom-G.top+1},offset:{x:-G.left+p+(D||l?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-G.top+p+(D||l?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}b.TextureAtlas=s,h([$.traceCall],s.prototype,"_drawToCache",null);class g{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(j){this._glyphs.push(j),this._usedPixels+=j.size.x*j.size.y}constructor(j,G,H){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],H)for(let D of H)this._glyphs.push(...D.glyphs),this._usedPixels+=D._usedPixels;this.canvas=U(j,G,G),this.ctx=L.throwIfFalsy(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function O(j,G,H,D){const l=G.rgba>>>24,p=G.rgba>>>16&255,f=G.rgba>>>8&255,n=H.rgba>>>24,c=H.rgba>>>16&255,y=H.rgba>>>8&255,q=Math.floor((Math.abs(l-n)+Math.abs(p-c)+Math.abs(f-y))/12);let r=!0;for(let o=0;o<j.data.length;o+=4)j.data[o]===l&&j.data[o+1]===p&&j.data[o+2]===f||D&&Math.abs(j.data[o]-l)+Math.abs(j.data[o+1]-p)+Math.abs(j.data[o+2]-f)<q?j.data[o+3]=0:r=!1;return r}function U(j,G,H){const D=j.createElement("canvas");return D.width=G,D.height=H,D}},160:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.contrastRatio=b.toPaddedHex=b.rgba=b.rgb=b.css=b.color=b.channels=b.NULL_COLOR=void 0;const h=u(399);let V=0,a=0,L=0,v=0;var S,x,d,z,T;function $(W){const s=W.toString(16);return s.length<2?"0"+s:s}function Z(W,s){return W<s?(s+0.05)/(W+0.05):(W+0.05)/(s+0.05)}b.NULL_COLOR={css:"#00000000",rgba:0},function(W){W.toCss=function(s,g,O,U){return U!==void 0?`#${$(s)}${$(g)}${$(O)}${$(U)}`:`#${$(s)}${$(g)}${$(O)}`},W.toRgba=function(s,g,O,U=255){return(s<<24|g<<16|O<<8|U)>>>0}}(S||(b.channels=S={})),function(W){function s(g,O){return v=Math.round(255*O),[V,a,L]=T.toChannels(g.rgba),{css:S.toCss(V,a,L,v),rgba:S.toRgba(V,a,L,v)}}W.blend=function(g,O){if(v=(255&O.rgba)/255,v===1)return{css:O.css,rgba:O.rgba};const U=O.rgba>>24&255,j=O.rgba>>16&255,G=O.rgba>>8&255,H=g.rgba>>24&255,D=g.rgba>>16&255,l=g.rgba>>8&255;return V=H+Math.round((U-H)*v),a=D+Math.round((j-D)*v),L=l+Math.round((G-l)*v),{css:S.toCss(V,a,L),rgba:S.toRgba(V,a,L)}},W.isOpaque=function(g){return(255&g.rgba)==255},W.ensureContrastRatio=function(g,O,U){const j=T.ensureContrastRatio(g.rgba,O.rgba,U);if(j)return T.toColor(j>>24&255,j>>16&255,j>>8&255)},W.opaque=function(g){const O=(255|g.rgba)>>>0;return[V,a,L]=T.toChannels(O),{css:S.toCss(V,a,L),rgba:O}},W.opacity=s,W.multiplyOpacity=function(g,O){return v=255&g.rgba,s(g,v*O/255)},W.toColorRGB=function(g){return[g.rgba>>24&255,g.rgba>>16&255,g.rgba>>8&255]}}(x||(b.color=x={})),function(W){let s,g;if(!h.isNode){const O=document.createElement("canvas");O.width=1,O.height=1;const U=O.getContext("2d",{willReadFrequently:!0});U&&(s=U,s.globalCompositeOperation="copy",g=s.createLinearGradient(0,0,1,1))}W.toColor=function(O){if(O.match(/#[\da-f]{3,8}/i))switch(O.length){case 4:return V=parseInt(O.slice(1,2).repeat(2),16),a=parseInt(O.slice(2,3).repeat(2),16),L=parseInt(O.slice(3,4).repeat(2),16),T.toColor(V,a,L);case 5:return V=parseInt(O.slice(1,2).repeat(2),16),a=parseInt(O.slice(2,3).repeat(2),16),L=parseInt(O.slice(3,4).repeat(2),16),v=parseInt(O.slice(4,5).repeat(2),16),T.toColor(V,a,L,v);case 7:return{css:O,rgba:(parseInt(O.slice(1),16)<<8|255)>>>0};case 9:return{css:O,rgba:parseInt(O.slice(1),16)>>>0}}const U=O.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(U)return V=parseInt(U[1]),a=parseInt(U[2]),L=parseInt(U[3]),v=Math.round(255*(U[5]===void 0?1:parseFloat(U[5]))),T.toColor(V,a,L,v);if(!s||!g)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=g,s.fillStyle=O,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[V,a,L,v]=s.getImageData(0,0,1,1).data,v!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(V,a,L,v),css:O}}}(d||(b.css=d={})),function(W){function s(g,O,U){const j=g/255,G=O/255,H=U/255;return 0.2126*(j<=0.03928?j/12.92:Math.pow((j+0.055)/1.055,2.4))+0.7152*(G<=0.03928?G/12.92:Math.pow((G+0.055)/1.055,2.4))+0.0722*(H<=0.03928?H/12.92:Math.pow((H+0.055)/1.055,2.4))}W.relativeLuminance=function(g){return s(g>>16&255,g>>8&255,255&g)},W.relativeLuminance2=s}(z||(b.rgb=z={})),function(W){function s(O,U,j){const G=O>>24&255,H=O>>16&255,D=O>>8&255;let l=U>>24&255,p=U>>16&255,f=U>>8&255,n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));for(;n<j&&(l>0||p>0||f>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),f-=Math.max(0,Math.ceil(0.1*f)),n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));return(l<<24|p<<16|f<<8|255)>>>0}function g(O,U,j){const G=O>>24&255,H=O>>16&255,D=O>>8&255;let l=U>>24&255,p=U>>16&255,f=U>>8&255,n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));for(;n<j&&(l<255||p<255||f<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),f=Math.min(255,f+Math.ceil(0.1*(255-f))),n=Z(z.relativeLuminance2(l,p,f),z.relativeLuminance2(G,H,D));return(l<<24|p<<16|f<<8|255)>>>0}W.ensureContrastRatio=function(O,U,j){const G=z.relativeLuminance(O>>8),H=z.relativeLuminance(U>>8);if(Z(G,H)<j){if(H<G){const p=s(O,U,j),f=Z(G,z.relativeLuminance(p>>8));if(f<j){const n=g(O,U,j);return f>Z(G,z.relativeLuminance(n>>8))?p:n}return p}const D=g(O,U,j),l=Z(G,z.relativeLuminance(D>>8));if(l<j){const p=s(O,U,j);return l>Z(G,z.relativeLuminance(p>>8))?D:p}return D}},W.reduceLuminance=s,W.increaseLuminance=g,W.toChannels=function(O){return[O>>24&255,O>>16&255,O>>8&255,255&O]},W.toColor=function(O,U,j,G){return{css:S.toCss(O,U,j,G),rgba:S.toRgba(O,U,j,G)}}}(T||(b.rgba=T={})),b.toPaddedHex=$,b.contrastRatio=Z},345:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.forwardEvent=b.EventEmitter=void 0,b.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){const V=[];for(let a=0;a<this._listeners.length;a++)V.push(this._listeners[a]);for(let a=0;a<V.length;a++)V[a].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},b.forwardEvent=function(u,h){return u((V)=>h.fire(V))}},859:(N,b)=>{function u(h){for(let V of h)V.dispose();h.length=0}Object.defineProperty(b,"__esModule",{value:!0}),b.getDisposeArrayDisposable=b.disposeArray=b.toDisposable=b.MutableDisposable=b.Disposable=void 0,b.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const V=this._disposables.indexOf(h);V!==-1&&this._disposables.splice(V,1)}},b.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var V;this._isDisposed||h===this._value||((V=this._value)===null||V===void 0||V.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},b.toDisposable=function(h){return{dispose:h}},b.disposeArray=u,b.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},485:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FourKeyMap=b.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(h,V,a){this._data[h]||(this._data[h]={}),this._data[h][V]=a}get(h,V){return this._data[h]?this._data[h][V]:void 0}clear(){this._data={}}}b.TwoKeyMap=u,b.FourKeyMap=class{constructor(){this._data=new u}set(h,V,a,L,v){this._data.get(h,V)||this._data.set(h,V,new u),this._data.get(h,V).set(a,L,v)}get(h,V,a,L){var v;return(v=this._data.get(h,V))===null||v===void 0?void 0:v.get(a,L)}clear(){this._data.clear()}}},399:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isChromeOS=b.isLinux=b.isWindows=b.isIphone=b.isIpad=b.isMac=b.getSafariVersion=b.isSafari=b.isLegacyEdge=b.isFirefox=b.isNode=void 0,b.isNode=typeof navigator=="undefined";const u=b.isNode?"node":navigator.userAgent,h=b.isNode?"node":navigator.platform;b.isFirefox=u.includes("Firefox"),b.isLegacyEdge=u.includes("Edge"),b.isSafari=/^((?!chrome|android).)*safari/i.test(u),b.getSafariVersion=function(){if(!b.isSafari)return 0;const V=u.match(/Version\/(\d+)/);return V===null||V.length<2?0:parseInt(V[1])},b.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),b.isIpad=h==="iPad",b.isIphone=h==="iPhone",b.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),b.isLinux=h.indexOf("Linux")>=0,b.isChromeOS=/\bCrOS\b/.test(u)},385:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DebouncedIdleTask=b.IdleTaskQueue=b.PriorityTaskQueue=void 0;const h=u(399);class V{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let v=0,S=0,x=L.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),S=Math.max(v,S),d=L.timeRemaining(),1.5*S>d)return x-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(x-v))}ms`),void this._start();x=d}this.clear()}}class a extends V{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){const v=Date.now()+L;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}b.PriorityTaskQueue=a,b.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends V{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:a,b.DebouncedIdleTask=class{constructor(){this._queue=new b.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},147:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ExtendedAttrs=b.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(V){return[V>>>16&255,V>>>8&255,255&V]}static fromColorRGB(V){return(255&V[0])<<16|(255&V[1])<<8|255&V[2]}clone(){const V=new u;return V.fg=this.fg,V.bg=this.bg,V.extended=this.extended.clone(),V}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}b.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(V){this._ext=V}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(V){this._ext&=-469762049,this._ext|=V<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(V){this._ext&=-67108864,this._ext|=67108863&V}get urlId(){return this._urlId}set urlId(V){this._urlId=V}constructor(V=0,a=0){this._ext=0,this._urlId=0,this._ext=V,this._urlId=a}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}b.ExtendedAttrs=h},782:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellData=void 0;const h=u(133),V=u(855),a=u(147);class L extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const S=new L;return S.setFromCharData(v),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?h.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[V.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(v[V.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(v[V.CHAR_DATA_CHAR_INDEX].length===2){const x=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=x&&x<=56319){const d=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(x-55296)+d-56320+65536|v[V.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=v[V.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[V.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=v[V.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[V.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.CellData=L},855:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WHITESPACE_CELL_CODE=b.WHITESPACE_CELL_WIDTH=b.WHITESPACE_CELL_CHAR=b.NULL_CELL_CODE=b.NULL_CELL_WIDTH=b.NULL_CELL_CHAR=b.CHAR_DATA_CODE_INDEX=b.CHAR_DATA_WIDTH_INDEX=b.CHAR_DATA_CHAR_INDEX=b.CHAR_DATA_ATTR_INDEX=b.DEFAULT_EXT=b.DEFAULT_ATTR=b.DEFAULT_COLOR=void 0,b.DEFAULT_COLOR=0,b.DEFAULT_ATTR=256|b.DEFAULT_COLOR<<9,b.DEFAULT_EXT=0,b.CHAR_DATA_ATTR_INDEX=0,b.CHAR_DATA_CHAR_INDEX=1,b.CHAR_DATA_WIDTH_INDEX=2,b.CHAR_DATA_CODE_INDEX=3,b.NULL_CELL_CHAR="",b.NULL_CELL_WIDTH=1,b.NULL_CELL_CODE=0,b.WHITESPACE_CELL_CHAR=" ",b.WHITESPACE_CELL_WIDTH=1,b.WHITESPACE_CELL_CODE=32},133:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Utf8ToUtf32=b.StringToUtf32=b.utf32ToString=b.stringFromCodePoint=void 0,b.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},b.utf32ToString=function(u,h=0,V=u.length){let a="";for(let L=h;L<V;++L){let v=u[L];v>65535?(v-=65536,a+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):a+=String.fromCharCode(v)}return a},b.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){const V=u.length;if(!V)return 0;let a=0,L=0;if(this._interim){const v=u.charCodeAt(L++);56320<=v&&v<=57343?h[a++]=1024*(this._interim-55296)+v-56320+65536:(h[a++]=this._interim,h[a++]=v),this._interim=0}for(let v=L;v<V;++v){const S=u.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=V)return this._interim=S,a;const x=u.charCodeAt(v);56320<=x&&x<=57343?h[a++]=1024*(S-55296)+x-56320+65536:(h[a++]=S,h[a++]=x)}else S!==65279&&(h[a++]=S)}return a}},b.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){const V=u.length;if(!V)return 0;let a,L,v,S,x=0,d=0,z=0;if(this.interim[0]){let Z=!1,W=this.interim[0];W&=(224&W)==192?31:(240&W)==224?15:7;let s,g=0;for(;(s=63&this.interim[++g])&&g<4;)W<<=6,W|=s;const O=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,U=O-g;for(;z<U;){if(z>=V)return 0;if(s=u[z++],(192&s)!=128){z--,Z=!0;break}this.interim[g++]=s,W<<=6,W|=63&s}Z||(O===2?W<128?z--:h[x++]=W:O===3?W<2048||W>=55296&&W<=57343||W===65279||(h[x++]=W):W<65536||W>1114111||(h[x++]=W)),this.interim.fill(0)}const T=V-4;let $=z;for(;$<V;){for(;!(!($<T)||128&(a=u[$])||128&(L=u[$+1])||128&(v=u[$+2])||128&(S=u[$+3]));)h[x++]=a,h[x++]=L,h[x++]=v,h[x++]=S,$+=4;if(a=u[$++],a<128)h[x++]=a;else if((224&a)==192){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if(d=(31&a)<<6|63&L,d<128){$--;continue}h[x++]=d}else if((240&a)==224){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,x;if(v=u[$++],(192&v)!=128){$--;continue}if(d=(15&a)<<12|(63&L)<<6|63&v,d<2048||d>=55296&&d<=57343||d===65279)continue;h[x++]=d}else if((248&a)==240){if($>=V)return this.interim[0]=a,x;if(L=u[$++],(192&L)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,x;if(v=u[$++],(192&v)!=128){$--;continue}if($>=V)return this.interim[0]=a,this.interim[1]=L,this.interim[2]=v,x;if(S=u[$++],(192&S)!=128){$--;continue}if(d=(7&a)<<18|(63&L)<<12|(63&v)<<6|63&S,d<65536||d>1114111)continue;h[x++]=d}}return x}}},776:function(N,b,u){var h=this&&this.__decorate||function(d,z,T,$){var Z,W=arguments.length,s=W<3?z:$===null?$=Object.getOwnPropertyDescriptor(z,T):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,z,T,$);else for(var g=d.length-1;g>=0;g--)(Z=d[g])&&(s=(W<3?Z(s):W>3?Z(z,T,s):Z(z,T))||s);return W>3&&s&&Object.defineProperty(z,T,s),s},V=this&&this.__param||function(d,z){return function(T,$){z(T,$,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.traceCall=b.setTraceLogger=b.LogService=void 0;const a=u(859),L=u(97),v={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF};let S,x=b.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let z=0;z<d.length;z++)typeof d[z]=="function"&&(d[z]=d[z]())}_log(d,z,T){this._evalLazyOptionalParams(T),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+z,...T)}trace(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.TRACE&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.trace.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,d,z)}debug(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.debug.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.log,d,z)}info(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.INFO&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.info.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.info,d,z)}warn(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.WARN&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.warn.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.warn,d,z)}error(d,...z){var T,$;this._logLevel<=L.LogLevelEnum.ERROR&&this._log(($=(T=this._optionsService.options.logger)===null||T===void 0?void 0:T.error.bind(this._optionsService.options.logger))!==null&&$!==void 0?$:console.error,d,z)}};b.LogService=x=h([V(0,L.IOptionsService)],x),b.setTraceLogger=function(d){S=d},b.traceCall=function(d,z,T){if(typeof T.value!="function")throw new Error("not supported");const $=T.value;T.value=function(...Z){if(S.logLevel!==L.LogLevelEnum.TRACE)return $.apply(this,Z);S.trace(`GlyphRenderer#${$.name}(${Z.map((s)=>JSON.stringify(s)).join(", ")})`);const W=$.apply(this,Z);return S.trace(`GlyphRenderer#${$.name} return`,W),W}}},726:(N,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createDecorator=b.getServiceDependencies=b.serviceRegistry=void 0;const u="di$target",h="di$dependencies";b.serviceRegistry=new Map,b.getServiceDependencies=function(V){return V[h]||[]},b.createDecorator=function(V){if(b.serviceRegistry.has(V))return b.serviceRegistry.get(V);const a=function(L,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,d,z){d[u]===d?d[h].push({id:x,index:z}):(d[h]=[{id:x,index:z}],d[u]=d)})(a,L,S)};return a.toString=()=>V,b.serviceRegistry.set(V,a),a}},97:(N,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IDecorationService=b.IUnicodeService=b.IOscLinkService=b.IOptionsService=b.ILogService=b.LogLevelEnum=b.IInstantiationService=b.ICharsetService=b.ICoreService=b.ICoreMouseService=b.IBufferService=void 0;const h=u(726);var V;b.IBufferService=h.createDecorator("BufferService"),b.ICoreMouseService=h.createDecorator("CoreMouseService"),b.ICoreService=h.createDecorator("CoreService"),b.ICharsetService=h.createDecorator("CharsetService"),b.IInstantiationService=h.createDecorator("InstantiationService"),function(a){a[a.TRACE=0]="TRACE",a[a.DEBUG=1]="DEBUG",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.OFF=5]="OFF"}(V||(b.LogLevelEnum=V={})),b.ILogService=h.createDecorator("LogService"),b.IOptionsService=h.createDecorator("OptionsService"),b.IOscLinkService=h.createDecorator("OscLinkService"),b.IUnicodeService=h.createDecorator("UnicodeService"),b.IDecorationService=h.createDecorator("DecorationService")}},w={};function _(N){var b=w[N];if(b!==void 0)return b.exports;var u=w[N]={exports:{}};return M[N].call(u.exports,u,u.exports,_),u.exports}var R={};return(()=>{var N=R;Object.defineProperty(N,"__esModule",{value:!0}),N.WebglAddon=void 0;const b=_(345),u=_(859),h=_(399),V=_(666),a=_(776);class L extends u.Disposable{constructor(v){if(h.isSafari&&h.getSafariVersion()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=v,this._onChangeTextureAtlas=this.register(new b.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new b.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new b.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new b.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(v){const S=v._core;if(!v.element)return void this.register(S.onWillOpen(()=>this.activate(v)));this._terminal=v;const{coreService:x,optionsService:d}=S,z=S,T=z._renderService,$=z._characterJoinerService,Z=z._charSizeService,W=z._coreBrowserService,s=z._decorationService,g=z._logService,O=z._themeService;a.setTraceLogger(g),this._renderer=this.register(new V.WebglRenderer(v,$,Z,W,x,s,d,O,this._preserveDrawingBuffer)),this.register(b.forwardEvent(this._renderer.onContextLoss,this._onContextLoss)),this.register(b.forwardEvent(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register(b.forwardEvent(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register(b.forwardEvent(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),T.setRenderer(this._renderer),this.register(u.toDisposable(()=>{const U=this._terminal._core._renderService;U.setRenderer(this._terminal._core._createRenderer()),U.handleResize(v.cols,v.rows)}))}get textureAtlas(){var v;return(v=this._renderer)===null||v===void 0?void 0:v.textureAtlas}clearTextureAtlas(){var v;(v=this._renderer)===null||v===void 0||v.clearTextureAtlas()}}N.WebglAddon=L})(),R})())});var H4=q0((z6,S0)=>{(function(M,w){typeof z6=="object"&&typeof S0=="object"?S0.exports=w():typeof define=="function"&&define.amd?define([],w):typeof z6=="object"?z6.FitAddon=w():M.FitAddon=w()})(self,()=>(()=>{var M={};return(()=>{var w=M;Object.defineProperty(w,"__esModule",{value:!0}),w.FitAddon=void 0,w.FitAddon=class{activate(_){this._terminal=_}dispose(){}fit(){const _=this.proposeDimensions();if(!_||!this._terminal||isNaN(_.cols)||isNaN(_.rows))return;const R=this._terminal._core;this._terminal.rows===_.rows&&this._terminal.cols===_.cols||(R._renderService.clear(),this._terminal.resize(_.cols,_.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;const _=this._terminal._core,R=_._renderService.dimensions;if(R.css.cell.width===0||R.css.cell.height===0)return;const N=this._terminal.options.scrollback===0?0:_.viewport.scrollBarWidth,b=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(b.getPropertyValue("height")),h=Math.max(0,parseInt(b.getPropertyValue("width"))),V=window.getComputedStyle(this._terminal.element),a=u-(parseInt(V.getPropertyValue("padding-top"))+parseInt(V.getPropertyValue("padding-bottom"))),L=h-(parseInt(V.getPropertyValue("padding-right"))+parseInt(V.getPropertyValue("padding-left")))-N;return{cols:Math.max(2,Math.floor(L/R.css.cell.width)),rows:Math.max(1,Math.floor(a/R.css.cell.height))}}}})(),M})())});import{Text as F4}from"@blockcode/ui";import{Keys as Gu}from"@blockcode/core";import{Text as Eu}from"@blockcode/ui";import{jsx as Yu}from"preact/jsx-runtime";var Du=/Mac/i.test(navigator.platform||navigator.userAgent);import{useLayout as tl}from"@blockcode/core";import{ContextMenu as Cl}from"@blockcode/ui";import{CodeEditor as Bl}from"@blockcode/code-editor";import{useLocale as Dl}from"@blockcode/core";import{ComingSoon as Il}from"@blockcode/ui";function h2(M){const w=globalThis.document,_=w.createElement("style");_.appendChild(w.createTextNode(M)),w.head.append(_)}h2(".chtJGa_package-list{background:var(--ui-white);border-right:1px solid var(--ui-black-transparent);border-radius:inherit;flex-direction:column;display:flex;position:relative}.chtJGa_list-wrapper{width:60px}.chtJGa_package-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;height:3.25rem;position:absolute;bottom:-1px;left:-1px;right:-1px}.chtJGa_package-button:before{--fade-out-distance:15px;content:\"\";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.chtJGa_button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.chtJGa_button-icon{width:1.75rem;height:1.75rem}");var q3={packageList:"chtJGa_package-list",button:"chtJGa_button",listWrapper:"chtJGa_list-wrapper",packageButton:"chtJGa_package-button",buttonIcon:"chtJGa_button-icon"};var U4="./assets/icon-add-package-2ffhep4t.svg";import{jsx as E3,jsxs as Yl}from"preact/jsx-runtime";function N0(){const{getText:M}=Dl();return Yl("div",{className:q3.packageList,children:[E3("div",{className:q3.listWrapper}),E3(Il,{placement:"right",children:E3("div",{className:q3.packageButton,children:E3("button",{className:q3.button,title:M("micropython.packageList.addPackage","Add"),children:E3("img",{className:q3.buttonIcon,src:U4,title:"Add"})})})})]})}h2(".MlHfAq_code-editor-wrapper{flex-direction:row;width:100%;height:100%;display:flex}");var K4={codeEditorWrapper:"MlHfAq_code-editor-wrapper"};import{jsx as T0,jsxs as Ql}from"preact/jsx-runtime";function M0(){const{setSplash:M}=tl(),w=()=>{M(!1)};return Ql("div",{className:K4.codeEditorWrapper,children:[T0(N0,{}),T0(Cl,{children:T0(Bl,{onSetup:w})})]})}import{useRef as Al,useEffect as lo}from"preact/hooks";import{useEditor as oo}from"@blockcode/core";import{classNames as no}from"@blockcode/ui";var J4=L0(i4(),1),E4=L0(j4(),1),D4=L0(H4(),1);var $0={cursor:"#f8f8f8",foreground:"#f8f8f8",background:"#2d2e2c",selection:"#5da5d5",black:"#1e1e1d",brightblack:"#262625",red:"#ce5c5c",brightred:"#ff7272",green:"#5bcc5b",brightgreen:"#72ff72",yellow:"#cccc5b",brightyellow:"#ffff72",blue:"#5d5dd3",brightblue:"#7279ff",magenta:"#bc5ed1",brightmagenta:"#e572ff",cyan:"#5da5d5",brightcyan:"#72f0ff",white:"#f8f8f8",brightwhite:"#ffffff"};h2(".xterm{cursor:text;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{z-index:5;position:absolute;top:0}.xterm .xterm-helper-textarea{opacity:0;z-index:-5;white-space:nowrap;resize:none;border:0;width:0;height:0;margin:0;padding:0;position:absolute;top:0;left:-9999em;overflow:hidden}.xterm .composition-view{color:#fff;white-space:nowrap;z-index:1;background:#000;display:none;position:absolute}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{cursor:default;background-color:#000;position:absolute;inset:0;overflow-y:scroll}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;top:0;left:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{visibility:hidden;line-height:normal;display:inline-block;position:absolute;top:0;left:-9999em}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{z-index:10;color:#0000;pointer-events:none;position:absolute;inset:0}.xterm .live-region{width:1px;height:1px;position:absolute;left:-9999px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:underline double}.xterm-underline-3{text-decoration:underline wavy}.xterm-underline-4{text-decoration:underline dotted}.xterm-underline-5{text-decoration:underline dashed}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:underline overline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;pointer-events:none;position:absolute;top:0;right:0}.xterm-decoration-top{z-index:2;position:relative}");var G4=/Mac/i.test(navigator.platform||navigator.userAgent),el=/Win/i.test(navigator.platform||navigator.userAgent);function Z0(M){const w=new J4.Terminal({convertEol:!0,cursorBlink:!0,cursorInactiveStyle:"none",fontFamily:'"Cascadia Code", Menlo, monospace',fontSize:12,lineHeight:1.2,windowsMode:el,macOptionIsMeta:G4,macOptionClickForcesSelection:G4,theme:$0});w.open(M),M.style.background=$0.background;const _=new E4.WebglAddon;w.loadAddon(_),_.onContextLoss(()=>_.dispose());const R=new D4.FitAddon;return w.fit=()=>R.fit(),w.loadAddon(R),w.onWriteParsed(()=>w.fit()),w.element.addEventListener("focusin",()=>w.fit()),window.addEventListener("resize",()=>w.fit()),w}h2("._9aME7W_terminal-wrapper{border-radius:inherit;flex:1;padding:2px;display:flex;position:relative;overflow:hidden}._9aME7W_terminal-wrapper .xterm{position:absolute}");var I4={terminalWrapper:"_9aME7W_terminal-wrapper"};import{jsx as po}from"preact/jsx-runtime";function W0({className:M}){const w=Al(null),{device:_}=oo();if(w.term)if(_){if(w.term.disabled=!1,_.serial.listenerCount("data")===0)_.serial.on("data",(R)=>w.term.write(R)),w.term.onData((R)=>_.writeAndReadUntil(R)),w.term.clear()}else w.term.disabled=!0,w.term._core._onData.clearListeners();return lo(()=>{if(w.current)w.term=Z0(w.current),w.term.disabled=!0,w.term.element.addEventListener("focusin",()=>{if(w.term.disabled)w.term.blur()}),w.resizeObserver=new window.ResizeObserver(()=>w.term.fit(!0)),w.resizeObserver.observe(w.current);return()=>{if(w.term)w.resizeObserver.unobserve(w.current),w.term=null}},[w]),po("div",{className:no(I4.terminalWrapper,M),ref:w})}import{useLocale as du,useEditor as ru}from"@blockcode/core";import{classNames as ql}from"@blockcode/ui";import{useLocale as nu,useEditor as pu}from"@blockcode/core";function A5(){return z9}import{Serial as Xo,sleep as k5}from"@blockcode/core";function Z7(M){return M.replaceAll("\r\n","\n")}function W7(M){return M.slice(2,-3)}function j3(M){let w=M.length;while(--w>=0)M[w]=0}function i5(M,w,_,R,N){this.static_tree=M,this.extra_bits=w,this.extra_base=_,this.elems=R,this.max_length=N,this.has_stree=M&&M.length}function j5(M,w){this.dyn_tree=M,this.max_code=0,this.stat_desc=w}function P2(M,w,_,R,N){this.good_length=M,this.max_lazy=w,this.nice_length=_,this.max_chain=R,this.func=N}function Po(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=a0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(gn*2),this.dyn_dtree=new Uint16Array((2*Rn+1)*2),this.bl_tree=new Uint16Array((2*sn+1)*2),B2(this.dyn_ltree),B2(this.dyn_dtree),B2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Xn+1),this.heap=new Uint16Array(2*f4+1),B2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*f4+1),B2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Uo(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function x4(M){this.options=h0.assign({level:vp,method:xp,chunkSize:16384,windowBits:15,memLevel:8,strategy:_p},M||{});let w=this.options;if(w.raw&&w.windowBits>0)w.windowBits=-w.windowBits;else if(w.gzip&&w.windowBits>0&&w.windowBits<16)w.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e9,this.strm.avail_out=0;let _=c6.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(_!==c0)throw new Error(y6[_]);if(w.header)c6.deflateSetHeader(this.strm,w.header);if(w.dictionary){let R;if(typeof w.dictionary==="string")R=_6.string2buf(w.dictionary);else if(A9.call(w.dictionary)==="[object ArrayBuffer]")R=new Uint8Array(w.dictionary);else R=w.dictionary;if(_=c6.deflateSetDictionary(this.strm,R),_!==c0)throw new Error(y6[_]);this._dict_set=!0}}function Ko(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function io(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function L4(M){this.options=h0.assign({chunkSize:65536,windowBits:15,to:""},M||{});const w=this.options;if(w.raw&&w.windowBits>=0&&w.windowBits<16){if(w.windowBits=-w.windowBits,w.windowBits===0)w.windowBits=-15}if(w.windowBits>=0&&w.windowBits<16&&!(M&&M.windowBits))w.windowBits+=32;if(w.windowBits>15&&w.windowBits<48){if((w.windowBits&15)===0)w.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e9,this.strm.avail_out=0;let _=E2.inflateInit2(this.strm,w.windowBits);if(_!==x6)throw new Error(y6[_]);if(this.header=new Cp,E2.inflateGetHeader(this.strm,this.header),w.dictionary){if(typeof w.dictionary==="string")w.dictionary=_6.string2buf(w.dictionary);else if(bl.call(w.dictionary)==="[object ArrayBuffer]")w.dictionary=new Uint8Array(w.dictionary);if(w.raw){if(_=E2.inflateSetDictionary(this.strm,w.dictionary),_!==x6)throw new Error(y6[_])}}}var uo=Object.create,{getPrototypeOf:co,defineProperty:d6,getOwnPropertyNames:v9,getOwnPropertyDescriptor:fo}=Object,_9=Object.prototype.hasOwnProperty,m4=(M,w,_)=>{_=M!=null?uo(co(M)):{};const R=w||!M||!M.__esModule?d6(_,"default",{value:M,enumerable:!0}):_;for(let N of v9(M))if(!_9.call(R,N))d6(R,N,{get:()=>M[N],enumerable:!0});return R},Y4=new WeakMap,ro=(M)=>{var w=Y4.get(M),_;if(w)return w;if(w=d6({},"__esModule",{value:!0}),M&&typeof M==="object"||typeof M==="function")v9(M).map((R)=>!_9.call(w,R)&&d6(w,R,{get:()=>M[R],enumerable:!(_=fo(M,R))||_.enumerable}));return Y4.set(M,w),w},d0=(M,w)=>()=>(w||M((w={exports:{}}).exports,w),w.exports),j2=(M,w)=>{for(var _ in w)d6(M,_,{get:w[_],enumerable:!0,configurable:!0,set:(R)=>w[_]=()=>R})},L2=(M,w)=>()=>(M&&(w=M(M=0)),w),x9={};j2(x9,{webcrypto:()=>o0,timingSafeEqual:()=>W3,scryptSync:()=>l6,scrypt:()=>o6,randomUUID:()=>o4,getRandomValues:()=>l4,getCurves:()=>A5,default:()=>n4,DEFAULT_ENCODING:()=>Z3});var L9,L6,q9,N9,T9,M9,w0=(M,w)=>()=>(M&&(w=M(M=0)),w),b1=(M,w)=>()=>(w||M((w={exports:{}}).exports,w),w.exports),V6=(M,w)=>{for(var _ in w)L6(M,_,{get:w[_],enumerable:!0})},p0=(M,w,_,R)=>{if(w&&typeof w=="object"||typeof w=="function")for(let N of N9(w))!M9.call(M,N)&&N!==_&&L6(M,N,{get:()=>w[N],enumerable:!(R=q9(w,N))||R.enumerable});return M},O0=(M,w,_)=>(p0(M,w,"default"),_&&p0(_,w,"default")),p3=(M,w,_)=>(_=M!=null?L9(T9(M)):{},p0(w||!M||!M.__esModule?L6(_,"default",{value:M,enumerable:!0}):_,M)),w2=(M)=>p0(L6({},"__esModule",{value:!0}),M),t4,C4,N2,H1,u3,i1,D2,R0,D3,B4,s0,c3,g0,X0,F0,f3,S6,N3,k0,I3,$6,Q4,e4,P0,U0,A4,l8,o8,K0,Z6,W6,d3,n8,p8,i0,u8,j0,c8,w6,x2,g2,O6,M2,Y3,H0,X2,f8,I2,Y2,t2,d8,r3,R6,s6,r8,g6,G0,t3,J0,a8,F2,E0,D0,X6,h8,I0,b8,Y0,F6,m8,y8,H2,T3,v8,t0,C0,B0,_8,Q0,e0,A0,l5,x8,o5,n5,S2,k6,p5,L8,q8,N8,T8,M8,M3,z8,V8,S8,$8,Z8,u5,c5,f5,P6,C3,W8,d5,r5,B3,w8,O8,U6,R8,s8,C2,a5,g8,X8,K6,h5,b5,F8,k8,P8,m5,U8,y5,a3,v5,_5,h3,i6,K8,i8,x5,L5,j8,H8,G8,j6,H6,J8,k2,q5,$2,Q3,E8,D8,I8,N5,s2,z3,T5,Y8,M5,t8,z5,C8,B8,Q8,e8,G6,A8,J6,l7,o7,n7,p7,u7,c7,f7,E6,V5,D6,I6,V3,Y6,t6,S5,d7,$5,Z5,r7,W5,a7,h7,b7,w5,m7,y7,v7,_7,e3,O5,x7,L7,q7,N7,T7,R5,s5,C6,g5,M7,z7,V7,S7,X5,F5,$7,Z3="buffer",l4=(M)=>crypto.getRandomValues(M),o4=()=>crypto.randomUUID(),z9,W3,l6,o6,o0,n4,ao=L2(()=>{L9=Object.create,L6=Object.defineProperty,q9=Object.getOwnPropertyDescriptor,N9=Object.getOwnPropertyNames,T9=Object.getPrototypeOf,M9=Object.prototype.hasOwnProperty,t4=b1((M)=>{M.byteLength=V,M.toByteArray=L,M.fromByteArray=x;var w=[],_=[],R=typeof Uint8Array<"u"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(b=0,u=N.length;b<u;++b)w[b]=N[b],_[N.charCodeAt(b)]=b;var b,u;_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63;function h(d){var z=d.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=d.indexOf("=");T===-1&&(T=z);var $=T===z?0:4-T%4;return[T,$]}function V(d){var z=h(d),T=z[0],$=z[1];return(T+$)*3/4-$}function a(d,z,T){return(z+T)*3/4-T}function L(d){var z,T=h(d),$=T[0],Z=T[1],W=new R(a(d,$,Z)),s=0,g=Z>0?$-4:$,O;for(O=0;O<g;O+=4)z=_[d.charCodeAt(O)]<<18|_[d.charCodeAt(O+1)]<<12|_[d.charCodeAt(O+2)]<<6|_[d.charCodeAt(O+3)],W[s++]=z>>16&255,W[s++]=z>>8&255,W[s++]=z&255;return Z===2&&(z=_[d.charCodeAt(O)]<<2|_[d.charCodeAt(O+1)]>>4,W[s++]=z&255),Z===1&&(z=_[d.charCodeAt(O)]<<10|_[d.charCodeAt(O+1)]<<4|_[d.charCodeAt(O+2)]>>2,W[s++]=z>>8&255,W[s++]=z&255),W}function v(d){return w[d>>18&63]+w[d>>12&63]+w[d>>6&63]+w[d&63]}function S(d,z,T){for(var $,Z=[],W=z;W<T;W+=3)$=(d[W]<<16&16711680)+(d[W+1]<<8&65280)+(d[W+2]&255),Z.push(v($));return Z.join("")}function x(d){for(var z,T=d.length,$=T%3,Z=[],W=16383,s=0,g=T-$;s<g;s+=W)Z.push(S(d,s,s+W>g?g:s+W));return $===1?(z=d[T-1],Z.push(w[z>>2]+w[z<<4&63]+"==")):$===2&&(z=(d[T-2]<<8)+d[T-1],Z.push(w[z>>10]+w[z>>4&63]+w[z<<2&63]+"=")),Z.join("")}}),C4=b1((M)=>{M.read=function(w,_,R,N,b){var u,h,V=b*8-N-1,a=(1<<V)-1,L=a>>1,v=-7,S=R?b-1:0,x=R?-1:1,d=w[_+S];for(S+=x,u=d&(1<<-v)-1,d>>=-v,v+=V;v>0;u=u*256+w[_+S],S+=x,v-=8);for(h=u&(1<<-v)-1,u>>=-v,v+=N;v>0;h=h*256+w[_+S],S+=x,v-=8);if(u===0)u=1-L;else{if(u===a)return h?NaN:(d?-1:1)*(1/0);h=h+Math.pow(2,N),u=u-L}return(d?-1:1)*h*Math.pow(2,u-N)},M.write=function(w,_,R,N,b,u){var h,V,a,L=u*8-b-1,v=(1<<L)-1,S=v>>1,x=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=N?0:u-1,z=N?1:-1,T=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(V=isNaN(_)?1:0,h=v):(h=Math.floor(Math.log(_)/Math.LN2),_*(a=Math.pow(2,-h))<1&&(h--,a*=2),h+S>=1?_+=x/a:_+=x*Math.pow(2,1-S),_*a>=2&&(h++,a/=2),h+S>=v?(V=0,h=v):h+S>=1?(V=(_*a-1)*Math.pow(2,b),h=h+S):(V=_*Math.pow(2,S-1)*Math.pow(2,b),h=0));b>=8;w[R+d]=V&255,d+=z,V/=256,b-=8);for(h=h<<b|V,L+=b;L>0;w[R+d]=h&255,d+=z,h/=256,L-=8);w[R+d-z]|=T*128}}),N2=b1((M)=>{var w=t4(),_=C4(),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;M.Buffer=h,M.SlowBuffer=Z,M.INSPECT_MAX_BYTES=50;var N=2147483647;M.kMaxLength=N,h.TYPED_ARRAY_SUPPORT=b(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{let F=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(F,i),F.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function u(F){if(F>N)throw new RangeError('The value "'+F+'" is invalid for option "size"');let i=new Uint8Array(F);return Object.setPrototypeOf(i,h.prototype),i}function h(F,i,t){if(typeof F=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(F)}return V(F,i,t)}h.poolSize=8192;function V(F,i,t){if(typeof F=="string")return S(F,i);if(ArrayBuffer.isView(F))return d(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(r1(F,ArrayBuffer)||F&&r1(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(r1(F,SharedArrayBuffer)||F&&r1(F.buffer,SharedArrayBuffer)))return z(F,i,t);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=F.valueOf&&F.valueOf();if(C!=null&&C!==F)return h.from(C,i,t);let l1=T(F);if(l1)return l1;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return h.from(F[Symbol.toPrimitive]("string"),i,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}h.from=function(F,i,t){return V(F,i,t)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function a(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function L(F,i,t){return a(F),F<=0?u(F):i!==void 0?typeof t=="string"?u(F).fill(i,t):u(F).fill(i):u(F)}h.alloc=function(F,i,t){return L(F,i,t)};function v(F){return a(F),u(F<0?0:$(F)|0)}h.allocUnsafe=function(F){return v(F)},h.allocUnsafeSlow=function(F){return v(F)};function S(F,i){if((typeof i!="string"||i==="")&&(i="utf8"),!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);let t=W(F,i)|0,C=u(t),l1=C.write(F,i);return l1!==t&&(C=C.slice(0,l1)),C}function x(F){let i=F.length<0?0:$(F.length)|0,t=u(i);for(let C=0;C<i;C+=1)t[C]=F[C]&255;return t}function d(F){if(r1(F,Uint8Array)){let i=new Uint8Array(F);return z(i.buffer,i.byteOffset,i.byteLength)}return x(F)}function z(F,i,t){if(i<0||F.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<i+(t||0))throw new RangeError('"length" is outside of buffer bounds');let C;return i===void 0&&t===void 0?C=new Uint8Array(F):t===void 0?C=new Uint8Array(F,i):C=new Uint8Array(F,i,t),Object.setPrototypeOf(C,h.prototype),C}function T(F){if(h.isBuffer(F)){let i=$(F.length)|0,t=u(i);return t.length===0||F.copy(t,0,0,i),t}if(F.length!==void 0)return typeof F.length!="number"||F1(F.length)?u(0):x(F);if(F.type==="Buffer"&&Array.isArray(F.data))return x(F.data)}function $(F){if(F>=N)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+N.toString(16)+" bytes");return F|0}function Z(F){return+F!=F&&(F=0),h.alloc(+F)}h.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==h.prototype},h.compare=function(F,i){if(r1(F,Uint8Array)&&(F=h.from(F,F.offset,F.byteLength)),r1(i,Uint8Array)&&(i=h.from(i,i.offset,i.byteLength)),!h.isBuffer(F)||!h.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===i)return 0;let t=F.length,C=i.length;for(let l1=0,x1=Math.min(t,C);l1<x1;++l1)if(F[l1]!==i[l1]){t=F[l1],C=i[l1];break}return t<C?-1:C<t?1:0},h.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(F,i){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return h.alloc(0);let t;if(i===void 0)for(i=0,t=0;t<F.length;++t)i+=F[t].length;let C=h.allocUnsafe(i),l1=0;for(t=0;t<F.length;++t){let x1=F[t];if(r1(x1,Uint8Array))l1+x1.length>C.length?(h.isBuffer(x1)||(x1=h.from(x1)),x1.copy(C,l1)):Uint8Array.prototype.set.call(C,x1,l1);else if(h.isBuffer(x1))x1.copy(C,l1);else throw new TypeError('"list" argument must be an Array of Buffers');l1+=x1.length}return C};function W(F,i){if(h.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||r1(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);let t=F.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&t===0)return 0;let l1=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return p1(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return M1(F).length;default:if(l1)return C?-1:p1(F).length;i=(""+i).toLowerCase(),l1=!0}}h.byteLength=W;function s(F,i,t){let C=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,i>>>=0,t<=i))return"";for(F||(F="utf8");;)switch(F){case"hex":return r(this,i,t);case"utf8":case"utf-8":return f(this,i,t);case"ascii":return y(this,i,t);case"latin1":case"binary":return q(this,i,t);case"base64":return p(this,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,i,t);default:if(C)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),C=!0}}h.prototype._isBuffer=!0;function g(F,i,t){let C=F[i];F[i]=F[t],F[t]=C}h.prototype.swap16=function(){let F=this.length;if(F%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<F;i+=2)g(this,i,i+1);return this},h.prototype.swap32=function(){let F=this.length;if(F%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<F;i+=4)g(this,i,i+3),g(this,i+1,i+2);return this},h.prototype.swap64=function(){let F=this.length;if(F%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<F;i+=8)g(this,i,i+7),g(this,i+1,i+6),g(this,i+2,i+5),g(this,i+3,i+4);return this},h.prototype.toString=function(){let F=this.length;return F===0?"":arguments.length===0?f(this,0,F):s.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(F){if(!h.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:h.compare(this,F)===0},h.prototype.inspect=function(){let F="",i=M.INSPECT_MAX_BYTES;return F=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(F+=" ... "),"<Buffer "+F+">"},R&&(h.prototype[R]=h.prototype.inspect),h.prototype.compare=function(F,i,t,C,l1){if(r1(F,Uint8Array)&&(F=h.from(F,F.offset,F.byteLength)),!h.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(i===void 0&&(i=0),t===void 0&&(t=F?F.length:0),C===void 0&&(C=0),l1===void 0&&(l1=this.length),i<0||t>F.length||C<0||l1>this.length)throw new RangeError("out of range index");if(C>=l1&&i>=t)return 0;if(C>=l1)return-1;if(i>=t)return 1;if(i>>>=0,t>>>=0,C>>>=0,l1>>>=0,this===F)return 0;let x1=l1-C,f1=t-i,y1=Math.min(x1,f1),j1=this.slice(C,l1),_1=F.slice(i,t);for(let v1=0;v1<y1;++v1)if(j1[v1]!==_1[v1]){x1=j1[v1],f1=_1[v1];break}return x1<f1?-1:f1<x1?1:0};function O(F,i,t,C,l1){if(F.length===0)return-1;if(typeof t=="string"?(C=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,F1(t)&&(t=l1?0:F.length-1),t<0&&(t=F.length+t),t>=F.length){if(l1)return-1;t=F.length-1}else if(t<0)if(l1)t=0;else return-1;if(typeof i=="string"&&(i=h.from(i,C)),h.isBuffer(i))return i.length===0?-1:U(F,i,t,C,l1);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?l1?Uint8Array.prototype.indexOf.call(F,i,t):Uint8Array.prototype.lastIndexOf.call(F,i,t):U(F,[i],t,C,l1);throw new TypeError("val must be string, number or Buffer")}function U(F,i,t,C,l1){let x1=1,f1=F.length,y1=i.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(F.length<2||i.length<2)return-1;x1=2,f1/=2,y1/=2,t/=2}function j1(v1,P1){return x1===1?v1[P1]:v1.readUInt16BE(P1*x1)}let _1;if(l1){let v1=-1;for(_1=t;_1<f1;_1++)if(j1(F,_1)===j1(i,v1===-1?0:_1-v1)){if(v1===-1&&(v1=_1),_1-v1+1===y1)return v1*x1}else v1!==-1&&(_1-=_1-v1),v1=-1}else for(t+y1>f1&&(t=f1-y1),_1=t;_1>=0;_1--){let v1=!0;for(let P1=0;P1<y1;P1++)if(j1(F,_1+P1)!==j1(i,P1)){v1=!1;break}if(v1)return _1}return-1}h.prototype.includes=function(F,i,t){return this.indexOf(F,i,t)!==-1},h.prototype.indexOf=function(F,i,t){return O(this,F,i,t,!0)},h.prototype.lastIndexOf=function(F,i,t){return O(this,F,i,t,!1)};function j(F,i,t,C){t=Number(t)||0;let l1=F.length-t;C?(C=Number(C),C>l1&&(C=l1)):C=l1;let x1=i.length;C>x1/2&&(C=x1/2);let f1;for(f1=0;f1<C;++f1){let y1=parseInt(i.substr(f1*2,2),16);if(F1(y1))return f1;F[t+f1]=y1}return f1}function G(F,i,t,C){return d1(p1(i,F.length-t),F,t,C)}function H(F,i,t,C){return d1(u1(i),F,t,C)}function D(F,i,t,C){return d1(M1(i),F,t,C)}function l(F,i,t,C){return d1(o1(i,F.length-t),F,t,C)}h.prototype.write=function(F,i,t,C){if(i===void 0)C="utf8",t=this.length,i=0;else if(t===void 0&&typeof i=="string")C=i,t=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(t)?(t=t>>>0,C===void 0&&(C="utf8")):(C=t,t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let l1=this.length-i;if((t===void 0||t>l1)&&(t=l1),F.length>0&&(t<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let x1=!1;for(;;)switch(C){case"hex":return j(this,F,i,t);case"utf8":case"utf-8":return G(this,F,i,t);case"ascii":case"latin1":case"binary":return H(this,F,i,t);case"base64":return D(this,F,i,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,F,i,t);default:if(x1)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),x1=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(F,i,t){return i===0&&t===F.length?w.fromByteArray(F):w.fromByteArray(F.slice(i,t))}function f(F,i,t){t=Math.min(F.length,t);let C=[],l1=i;for(;l1<t;){let x1=F[l1],f1=null,y1=x1>239?4:x1>223?3:x1>191?2:1;if(l1+y1<=t){let j1,_1,v1,P1;switch(y1){case 1:x1<128&&(f1=x1);break;case 2:j1=F[l1+1],(j1&192)===128&&(P1=(x1&31)<<6|j1&63,P1>127&&(f1=P1));break;case 3:j1=F[l1+1],_1=F[l1+2],(j1&192)===128&&(_1&192)===128&&(P1=(x1&15)<<12|(j1&63)<<6|_1&63,P1>2047&&(P1<55296||P1>57343)&&(f1=P1));break;case 4:j1=F[l1+1],_1=F[l1+2],v1=F[l1+3],(j1&192)===128&&(_1&192)===128&&(v1&192)===128&&(P1=(x1&15)<<18|(j1&63)<<12|(_1&63)<<6|v1&63,P1>65535&&P1<1114112&&(f1=P1))}}f1===null?(f1=65533,y1=1):f1>65535&&(f1-=65536,C.push(f1>>>10&1023|55296),f1=56320|f1&1023),C.push(f1),l1+=y1}return c(C)}var n=4096;function c(F){let i=F.length;if(i<=n)return String.fromCharCode.apply(String,F);let t="",C=0;for(;C<i;)t+=String.fromCharCode.apply(String,F.slice(C,C+=n));return t}function y(F,i,t){let C="";t=Math.min(F.length,t);for(let l1=i;l1<t;++l1)C+=String.fromCharCode(F[l1]&127);return C}function q(F,i,t){let C="";t=Math.min(F.length,t);for(let l1=i;l1<t;++l1)C+=String.fromCharCode(F[l1]);return C}function r(F,i,t){let C=F.length;(!i||i<0)&&(i=0),(!t||t<0||t>C)&&(t=C);let l1="";for(let x1=i;x1<t;++x1)l1+=m1[F[x1]];return l1}function o(F,i,t){let C=F.slice(i,t),l1="";for(let x1=0;x1<C.length-1;x1+=2)l1+=String.fromCharCode(C[x1]+C[x1+1]*256);return l1}h.prototype.slice=function(F,i){let t=this.length;F=~~F,i=i===void 0?t:~~i,F<0?(F+=t,F<0&&(F=0)):F>t&&(F=t),i<0?(i+=t,i<0&&(i=0)):i>t&&(i=t),i<F&&(i=F);let C=this.subarray(F,i);return Object.setPrototypeOf(C,h.prototype),C};function m(F,i,t){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+i>t)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(F,i,t){F=F>>>0,i=i>>>0,t||m(F,i,this.length);let C=this[F],l1=1,x1=0;for(;++x1<i&&(l1*=256);)C+=this[F+x1]*l1;return C},h.prototype.readUintBE=h.prototype.readUIntBE=function(F,i,t){F=F>>>0,i=i>>>0,t||m(F,i,this.length);let C=this[F+--i],l1=1;for(;i>0&&(l1*=256);)C+=this[F+--i]*l1;return C},h.prototype.readUint8=h.prototype.readUInt8=function(F,i){return F=F>>>0,i||m(F,1,this.length),this[F]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(F,i){return F=F>>>0,i||m(F,2,this.length),this[F]|this[F+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(F,i){return F=F>>>0,i||m(F,2,this.length),this[F]<<8|this[F+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(F,i){return F=F>>>0,i||m(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(F,i){return F=F>>>0,i||m(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},h.prototype.readBigUInt64LE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&J(F,this.length-8);let C=i+this[++F]*256+this[++F]*65536+this[++F]*16777216,l1=this[++F]+this[++F]*256+this[++F]*65536+t*16777216;return BigInt(C)+(BigInt(l1)<<BigInt(32))}),h.prototype.readBigUInt64BE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&J(F,this.length-8);let C=i*16777216+this[++F]*65536+this[++F]*256+this[++F],l1=this[++F]*16777216+this[++F]*65536+this[++F]*256+t;return(BigInt(C)<<BigInt(32))+BigInt(l1)}),h.prototype.readIntLE=function(F,i,t){F=F>>>0,i=i>>>0,t||m(F,i,this.length);let C=this[F],l1=1,x1=0;for(;++x1<i&&(l1*=256);)C+=this[F+x1]*l1;return l1*=128,C>=l1&&(C-=Math.pow(2,8*i)),C},h.prototype.readIntBE=function(F,i,t){F=F>>>0,i=i>>>0,t||m(F,i,this.length);let C=i,l1=1,x1=this[F+--C];for(;C>0&&(l1*=256);)x1+=this[F+--C]*l1;return l1*=128,x1>=l1&&(x1-=Math.pow(2,8*i)),x1},h.prototype.readInt8=function(F,i){return F=F>>>0,i||m(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},h.prototype.readInt16LE=function(F,i){F=F>>>0,i||m(F,2,this.length);let t=this[F]|this[F+1]<<8;return t&32768?t|4294901760:t},h.prototype.readInt16BE=function(F,i){F=F>>>0,i||m(F,2,this.length);let t=this[F+1]|this[F]<<8;return t&32768?t|4294901760:t},h.prototype.readInt32LE=function(F,i){return F=F>>>0,i||m(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},h.prototype.readInt32BE=function(F,i){return F=F>>>0,i||m(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},h.prototype.readBigInt64LE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&J(F,this.length-8);let C=this[F+4]+this[F+5]*256+this[F+6]*65536+(t<<24);return(BigInt(C)<<BigInt(32))+BigInt(i+this[++F]*256+this[++F]*65536+this[++F]*16777216)}),h.prototype.readBigInt64BE=a1(function(F){F=F>>>0,c1(F,"offset");let i=this[F],t=this[F+7];(i===void 0||t===void 0)&&J(F,this.length-8);let C=(i<<24)+this[++F]*65536+this[++F]*256+this[++F];return(BigInt(C)<<BigInt(32))+BigInt(this[++F]*16777216+this[++F]*65536+this[++F]*256+t)}),h.prototype.readFloatLE=function(F,i){return F=F>>>0,i||m(F,4,this.length),_.read(this,F,!0,23,4)},h.prototype.readFloatBE=function(F,i){return F=F>>>0,i||m(F,4,this.length),_.read(this,F,!1,23,4)},h.prototype.readDoubleLE=function(F,i){return F=F>>>0,i||m(F,8,this.length),_.read(this,F,!0,52,8)},h.prototype.readDoubleBE=function(F,i){return F=F>>>0,i||m(F,8,this.length),_.read(this,F,!1,52,8)};function P(F,i,t,C,l1,x1){if(!h.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>l1||i<x1)throw new RangeError('"value" argument is out of bounds');if(t+C>F.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(F,i,t,C){if(F=+F,i=i>>>0,t=t>>>0,!C){let f1=Math.pow(2,8*t)-1;P(this,F,i,t,f1,0)}let l1=1,x1=0;for(this[i]=F&255;++x1<t&&(l1*=256);)this[i+x1]=F/l1&255;return i+t},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(F,i,t,C){if(F=+F,i=i>>>0,t=t>>>0,!C){let f1=Math.pow(2,8*t)-1;P(this,F,i,t,f1,0)}let l1=t-1,x1=1;for(this[i+l1]=F&255;--l1>=0&&(x1*=256);)this[i+l1]=F/x1&255;return i+t},h.prototype.writeUint8=h.prototype.writeUInt8=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,1,255,0),this[i]=F&255,i+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,65535,0),this[i]=F&255,this[i+1]=F>>>8,i+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,65535,0),this[i]=F>>>8,this[i+1]=F&255,i+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,4294967295,0),this[i+3]=F>>>24,this[i+2]=F>>>16,this[i+1]=F>>>8,this[i]=F&255,i+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,4294967295,0),this[i]=F>>>24,this[i+1]=F>>>16,this[i+2]=F>>>8,this[i+3]=F&255,i+4};function X(F,i,t,C,l1){n1(i,C,l1,F,t,7);let x1=Number(i&BigInt(4294967295));F[t++]=x1,x1=x1>>8,F[t++]=x1,x1=x1>>8,F[t++]=x1,x1=x1>>8,F[t++]=x1;let f1=Number(i>>BigInt(32)&BigInt(4294967295));return F[t++]=f1,f1=f1>>8,F[t++]=f1,f1=f1>>8,F[t++]=f1,f1=f1>>8,F[t++]=f1,t}function k(F,i,t,C,l1){n1(i,C,l1,F,t,7);let x1=Number(i&BigInt(4294967295));F[t+7]=x1,x1=x1>>8,F[t+6]=x1,x1=x1>>8,F[t+5]=x1,x1=x1>>8,F[t+4]=x1;let f1=Number(i>>BigInt(32)&BigInt(4294967295));return F[t+3]=f1,f1=f1>>8,F[t+2]=f1,f1=f1>>8,F[t+1]=f1,f1=f1>>8,F[t]=f1,t+8}h.prototype.writeBigUInt64LE=a1(function(F,i=0){return X(this,F,i,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=a1(function(F,i=0){return k(this,F,i,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(F,i,t,C){if(F=+F,i=i>>>0,!C){let y1=Math.pow(2,8*t-1);P(this,F,i,t,y1-1,-y1)}let l1=0,x1=1,f1=0;for(this[i]=F&255;++l1<t&&(x1*=256);)F<0&&f1===0&&this[i+l1-1]!==0&&(f1=1),this[i+l1]=(F/x1>>0)-f1&255;return i+t},h.prototype.writeIntBE=function(F,i,t,C){if(F=+F,i=i>>>0,!C){let y1=Math.pow(2,8*t-1);P(this,F,i,t,y1-1,-y1)}let l1=t-1,x1=1,f1=0;for(this[i+l1]=F&255;--l1>=0&&(x1*=256);)F<0&&f1===0&&this[i+l1+1]!==0&&(f1=1),this[i+l1]=(F/x1>>0)-f1&255;return i+t},h.prototype.writeInt8=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,1,127,-128),F<0&&(F=255+F+1),this[i]=F&255,i+1},h.prototype.writeInt16LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,32767,-32768),this[i]=F&255,this[i+1]=F>>>8,i+2},h.prototype.writeInt16BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,2,32767,-32768),this[i]=F>>>8,this[i+1]=F&255,i+2},h.prototype.writeInt32LE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,2147483647,-2147483648),this[i]=F&255,this[i+1]=F>>>8,this[i+2]=F>>>16,this[i+3]=F>>>24,i+4},h.prototype.writeInt32BE=function(F,i,t){return F=+F,i=i>>>0,t||P(this,F,i,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[i]=F>>>24,this[i+1]=F>>>16,this[i+2]=F>>>8,this[i+3]=F&255,i+4},h.prototype.writeBigInt64LE=a1(function(F,i=0){return X(this,F,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=a1(function(F,i=0){return k(this,F,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function I(F,i,t,C,l1,x1){if(t+C>F.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Q(F,i,t,C,l1){return i=+i,t=t>>>0,l1||I(F,i,t,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),_.write(F,i,t,C,23,4),t+4}h.prototype.writeFloatLE=function(F,i,t){return Q(this,F,i,!0,t)},h.prototype.writeFloatBE=function(F,i,t){return Q(this,F,i,!1,t)};function e(F,i,t,C,l1){return i=+i,t=t>>>0,l1||I(F,i,t,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),_.write(F,i,t,C,52,8),t+8}h.prototype.writeDoubleLE=function(F,i,t){return e(this,F,i,!0,t)},h.prototype.writeDoubleBE=function(F,i,t){return e(this,F,i,!1,t)},h.prototype.copy=function(F,i,t,C){if(!h.isBuffer(F))throw new TypeError("argument should be a Buffer");if(t||(t=0),!C&&C!==0&&(C=this.length),i>=F.length&&(i=F.length),i||(i=0),C>0&&C<t&&(C=t),C===t||F.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),F.length-i<C-t&&(C=F.length-i+t);let l1=C-t;return this===F&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,t,C):Uint8Array.prototype.set.call(F,this.subarray(t,C),i),l1},h.prototype.fill=function(F,i,t,C){if(typeof F=="string"){if(typeof i=="string"?(C=i,i=0,t=this.length):typeof t=="string"&&(C=t,t=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!h.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(F.length===1){let x1=F.charCodeAt(0);(C==="utf8"&&x1<128||C==="latin1")&&(F=x1)}}else typeof F=="number"?F=F&255:typeof F=="boolean"&&(F=Number(F));if(i<0||this.length<i||this.length<t)throw new RangeError("Out of range index");if(t<=i)return this;i=i>>>0,t=t===void 0?this.length:t>>>0,F||(F=0);let l1;if(typeof F=="number")for(l1=i;l1<t;++l1)this[l1]=F;else{let x1=h.isBuffer(F)?F:h.from(F,C),f1=x1.length;if(f1===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(l1=0;l1<t-i;++l1)this[l1+i]=x1[l1%f1]}return this};var B={};function E(F,i,t){B[F]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E("ERR_INVALID_ARG_TYPE",function(F,i){return`The "${F}" argument must be of type number. Received type ${typeof i}`},TypeError),E("ERR_OUT_OF_RANGE",function(F,i,t){let C=`The value of "${F}" is out of range.`,l1=t;return Number.isInteger(t)&&Math.abs(t)>4294967296?l1=A(String(t)):typeof t=="bigint"&&(l1=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(l1=A(l1)),l1+="n"),C+=` It must be ${i}. Received ${l1}`,C},RangeError);function A(F){let i="",t=F.length,C=F[0]==="-"?1:0;for(;t>=C+4;t-=3)i=`_${F.slice(t-3,t)}${i}`;return`${F.slice(0,t)}${i}`}function h1(F,i,t){c1(i,"offset"),(F[i]===void 0||F[i+t]===void 0)&&J(i,F.length-(t+1))}function n1(F,i,t,C,l1,x1){if(F>t||F<i){let f1=typeof i=="bigint"?"n":"",y1;throw x1>3?i===0||i===BigInt(0)?y1=`>= 0${f1} and < 2${f1} ** ${(x1+1)*8}${f1}`:y1=`>= -(2${f1} ** ${(x1+1)*8-1}${f1}) and < 2 ** ${(x1+1)*8-1}${f1}`:y1=`>= ${i}${f1} and <= ${t}${f1}`,new B.ERR_OUT_OF_RANGE("value",y1,F)}h1(C,l1,x1)}function c1(F,i){if(typeof F!="number")throw new B.ERR_INVALID_ARG_TYPE(i,"number",F)}function J(F,i,t){throw Math.floor(F)!==F?(c1(F,t),new B.ERR_OUT_OF_RANGE(t||"offset","an integer",F)):i<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${i}`,F)}var K=/[^+/0-9A-Za-z-_]/g;function Y(F){if(F=F.split("=")[0],F=F.trim().replace(K,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function p1(F,i){i=i||1/0;let t,C=F.length,l1=null,x1=[];for(let f1=0;f1<C;++f1){if(t=F.charCodeAt(f1),t>55295&&t<57344){if(!l1){if(t>56319){(i-=3)>-1&&x1.push(239,191,189);continue}else if(f1+1===C){(i-=3)>-1&&x1.push(239,191,189);continue}l1=t;continue}if(t<56320){(i-=3)>-1&&x1.push(239,191,189),l1=t;continue}t=(l1-55296<<10|t-56320)+65536}else l1&&(i-=3)>-1&&x1.push(239,191,189);if(l1=null,t<128){if((i-=1)<0)break;x1.push(t)}else if(t<2048){if((i-=2)<0)break;x1.push(t>>6|192,t&63|128)}else if(t<65536){if((i-=3)<0)break;x1.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((i-=4)<0)break;x1.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return x1}function u1(F){let i=[];for(let t=0;t<F.length;++t)i.push(F.charCodeAt(t)&255);return i}function o1(F,i){let t,C,l1,x1=[];for(let f1=0;f1<F.length&&!((i-=2)<0);++f1)t=F.charCodeAt(f1),C=t>>8,l1=t%256,x1.push(l1),x1.push(C);return x1}function M1(F){return w.toByteArray(Y(F))}function d1(F,i,t,C){let l1;for(l1=0;l1<C&&!(l1+t>=i.length||l1>=F.length);++l1)i[l1+t]=F[l1];return l1}function r1(F,i){return F instanceof i||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===i.name}function F1(F){return F!==F}var m1=function(){let F="0123456789abcdef",i=new Array(256);for(let t=0;t<16;++t){let C=t*16;for(let l1=0;l1<16;++l1)i[C+l1]=F[t]+F[l1]}return i}();function a1(F){return typeof BigInt>"u"?k1:F}function k1(){throw new Error("BigInt not supported")}}),H1=b1((M,w)=>{var _=N2(),R=_.Buffer;function N(u,h){for(var V in u)h[V]=u[V]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?w.exports=_:(N(_,M),M.Buffer=b);function b(u,h,V){return R(u,h,V)}b.prototype=Object.create(R.prototype),N(R,b),b.from=function(u,h,V){if(typeof u=="number")throw new TypeError("Argument must not be a number");return R(u,h,V)},b.alloc=function(u,h,V){if(typeof u!="number")throw new TypeError("Argument must be a number");var a=R(u);return h!==void 0?typeof V=="string"?a.fill(h,V):a.fill(h):a.fill(0),a},b.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return R(u)},b.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(u)}}),u3=b1((M,w)=>{var _=65536,R=4294967295;function N(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var b=H1().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?w.exports=h:w.exports=N;function h(V,a){if(V>R)throw new RangeError("requested too many random bytes");var L=b.allocUnsafe(V);if(V>0)if(V>_)for(var v=0;v<V;v+=_)u.getRandomValues(L.slice(v,v+_));else u.getRandomValues(L);return typeof a=="function"?process.nextTick(function(){a(null,L)}):L}}),i1=b1((M,w)=>{typeof Object.create=="function"?w.exports=function(_,R){R&&(_.super_=R,_.prototype=Object.create(R.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:w.exports=function(_,R){if(R){_.super_=R;var N=function(){};N.prototype=R.prototype,_.prototype=new N,_.prototype.constructor=_}}}),D2=b1((M,w)=>{var _=typeof Reflect=="object"?Reflect:null,R=_&&typeof _.apply=="function"?_.apply:function(O,U,j){return Function.prototype.apply.call(O,U,j)},N;_&&typeof _.ownKeys=="function"?N=_.ownKeys:Object.getOwnPropertySymbols?N=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:N=function(O){return Object.getOwnPropertyNames(O)};function b(O){console&&console.warn&&console.warn(O)}var u=Number.isNaN||function(O){return O!==O};function h(){h.init.call(this)}w.exports=h,w.exports.once=W,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var V=10;function a(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return V},set:function(O){if(typeof O!="number"||O<0||u(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");V=O}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||u(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function L(O){return O._maxListeners===void 0?h.defaultMaxListeners:O._maxListeners}h.prototype.getMaxListeners=function(){return L(this)},h.prototype.emit=function(O){for(var U=[],j=1;j<arguments.length;j++)U.push(arguments[j]);var G=O==="error",H=this._events;if(H!==void 0)G=G&&H.error===void 0;else if(!G)return!1;if(G){var D;if(U.length>0&&(D=U[0]),D instanceof Error)throw D;var l=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw l.context=D,l}var p=H[O];if(p===void 0)return!1;if(typeof p=="function")R(p,this,U);else for(var f=p.length,n=T(p,f),j=0;j<f;++j)R(n[j],this,U);return!0};function v(O,U,j,G){var H,D,l;if(a(j),D=O._events,D===void 0?(D=O._events=Object.create(null),O._eventsCount=0):(D.newListener!==void 0&&(O.emit("newListener",U,j.listener?j.listener:j),D=O._events),l=D[U]),l===void 0)l=D[U]=j,++O._eventsCount;else if(typeof l=="function"?l=D[U]=G?[j,l]:[l,j]:G?l.unshift(j):l.push(j),H=L(O),H>0&&l.length>H&&!l.warned){l.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(U)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=O,p.type=U,p.count=l.length,b(p)}return O}h.prototype.addListener=function(O,U){return v(this,O,U,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(O,U){return v(this,O,U,!0)};function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(O,U,j){var G={fired:!1,wrapFn:void 0,target:O,type:U,listener:j},H=S.bind(G);return H.listener=j,G.wrapFn=H,H}h.prototype.once=function(O,U){return a(U),this.on(O,x(this,O,U)),this},h.prototype.prependOnceListener=function(O,U){return a(U),this.prependListener(O,x(this,O,U)),this},h.prototype.removeListener=function(O,U){var j,G,H,D,l;if(a(U),G=this._events,G===void 0)return this;if(j=G[O],j===void 0)return this;if(j===U||j.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete G[O],G.removeListener&&this.emit("removeListener",O,j.listener||U));else if(typeof j!="function"){for(H=-1,D=j.length-1;D>=0;D--)if(j[D]===U||j[D].listener===U){l=j[D].listener,H=D;break}if(H<0)return this;H===0?j.shift():$(j,H),j.length===1&&(G[O]=j[0]),G.removeListener!==void 0&&this.emit("removeListener",O,l||U)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(O){var U,j,G;if(j=this._events,j===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete j[O]),this;if(arguments.length===0){var H=Object.keys(j),D;for(G=0;G<H.length;++G)D=H[G],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=j[O],typeof U=="function")this.removeListener(O,U);else if(U!==void 0)for(G=U.length-1;G>=0;G--)this.removeListener(O,U[G]);return this};function d(O,U,j){var G=O._events;if(G===void 0)return[];var H=G[U];return H===void 0?[]:typeof H=="function"?j?[H.listener||H]:[H]:j?Z(H):T(H,H.length)}h.prototype.listeners=function(O){return d(this,O,!0)},h.prototype.rawListeners=function(O){return d(this,O,!1)},h.listenerCount=function(O,U){return typeof O.listenerCount=="function"?O.listenerCount(U):z.call(O,U)},h.prototype.listenerCount=z;function z(O){var U=this._events;if(U!==void 0){var j=U[O];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?N(this._events):[]};function T(O,U){for(var j=new Array(U),G=0;G<U;++G)j[G]=O[G];return j}function $(O,U){for(;U+1<O.length;U++)O[U]=O[U+1];O.pop()}function Z(O){for(var U=new Array(O.length),j=0;j<U.length;++j)U[j]=O[j].listener||O[j];return U}function W(O,U){return new Promise(function(j,G){function H(l){O.removeListener(U,D),G(l)}function D(){typeof O.removeListener=="function"&&O.removeListener("error",H),j([].slice.call(arguments))}g(O,U,D,{once:!0}),U!=="error"&&s(O,H,{once:!0})})}function s(O,U,j){typeof O.on=="function"&&g(O,"error",U,j)}function g(O,U,j,G){if(typeof O.on=="function")G.once?O.once(U,j):O.on(U,j);else if(typeof O.addEventListener=="function")O.addEventListener(U,function H(D){G.once&&O.removeEventListener(U,H),j(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}}),R0=b1((M,w)=>{w.exports=D2().EventEmitter}),D3=b1(()=>{}),B4=b1((M,w)=>{function _(d,z){var T=Object.keys(d);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(d);z&&($=$.filter(function(Z){return Object.getOwnPropertyDescriptor(d,Z).enumerable})),T.push.apply(T,$)}return T}function R(d){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?_(Object(T),!0).forEach(function($){N(d,$,T[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(T)):_(Object(T)).forEach(function($){Object.defineProperty(d,$,Object.getOwnPropertyDescriptor(T,$))})}return d}function N(d,z,T){return z in d?Object.defineProperty(d,z,{value:T,enumerable:!0,configurable:!0,writable:!0}):d[z]=T,d}function b(d,z){if(!(d instanceof z))throw new TypeError("Cannot call a class as a function")}function u(d,z){for(var T=0;T<z.length;T++){var $=z[T];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(d,$.key,$)}}function h(d,z,T){return z&&u(d.prototype,z),T&&u(d,T),d}var V=N2(),a=V.Buffer,L=D3(),v=L.inspect,S=v&&v.custom||"inspect";function x(d,z,T){a.prototype.copy.call(d,z,T)}w.exports=function(){function d(){b(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(z){var T={data:z,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(z){var T={data:z,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(this.length===0)return"";for(var T=this.head,$=""+T.data;T=T.next;)$+=z+T.data;return $}},{key:"concat",value:function(z){if(this.length===0)return a.alloc(0);for(var T=a.allocUnsafe(z>>>0),$=this.head,Z=0;$;)x($.data,T,Z),Z+=$.data.length,$=$.next;return T}},{key:"consume",value:function(z,T){var $;return z<this.head.data.length?($=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):z===this.head.data.length?$=this.shift():$=T?this._getString(z):this._getBuffer(z),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var T=this.head,$=1,Z=T.data;for(z-=Z.length;T=T.next;){var W=T.data,s=z>W.length?W.length:z;if(s===W.length?Z+=W:Z+=W.slice(0,z),z-=s,z===0){s===W.length?(++$,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=W.slice(s));break}++$}return this.length-=$,Z}},{key:"_getBuffer",value:function(z){var T=a.allocUnsafe(z),$=this.head,Z=1;for($.data.copy(T),z-=$.data.length;$=$.next;){var W=$.data,s=z>W.length?W.length:z;if(W.copy(T,T.length-z,0,s),z-=s,z===0){s===W.length?(++Z,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=W.slice(s));break}++Z}return this.length-=Z,T}},{key:S,value:function(z,T){return v(this,R({},T,{depth:0,customInspect:!1}))}}]),d}()}),s0=b1((M,w)=>{function _(V,a){var L=this,v=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return v||S?(a?a(V):V&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,V)):process.nextTick(u,this,V)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(V||null,function(x){!a&&x?L._writableState?L._writableState.errorEmitted?process.nextTick(N,L):(L._writableState.errorEmitted=!0,process.nextTick(R,L,x)):process.nextTick(R,L,x):a?(process.nextTick(N,L),a(x)):process.nextTick(N,L)}),this)}function R(V,a){u(V,a),N(V)}function N(V){V._writableState&&!V._writableState.emitClose||V._readableState&&!V._readableState.emitClose||V.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(V,a){V.emit("error",a)}function h(V,a){var{_readableState:L,_writableState:v}=V;L&&L.autoDestroy||v&&v.autoDestroy?V.destroy(a):V.emit("error",a)}w.exports={destroy:_,undestroy:b,errorOrDestroy:h}}),c3=b1((M,w)=>{function _(a,L){a.prototype=Object.create(L.prototype),a.prototype.constructor=a,a.__proto__=L}var R={};function N(a,L,v){v||(v=Error);function S(d,z,T){return typeof L=="string"?L:L(d,z,T)}var x=function(d){_(z,d);function z(T,$,Z){return d.call(this,S(T,$,Z))||this}return z}(v);x.prototype.name=v.name,x.prototype.code=a,R[a]=x}function b(a,L){if(Array.isArray(a)){var v=a.length;return a=a.map(function(S){return String(S)}),v>2?"one of ".concat(L," ").concat(a.slice(0,v-1).join(", "),", or ")+a[v-1]:v===2?"one of ".concat(L," ").concat(a[0]," or ").concat(a[1]):"of ".concat(L," ").concat(a[0])}else return"of ".concat(L," ").concat(String(a))}function u(a,L,v){return a.substr(!v||v<0?0:+v,L.length)===L}function h(a,L,v){return(v===void 0||v>a.length)&&(v=a.length),a.substring(v-L.length,v)===L}function V(a,L,v){return typeof v!="number"&&(v=0),v+L.length>a.length?!1:a.indexOf(L,v)!==-1}N("ERR_INVALID_OPT_VALUE",function(a,L){return'The value "'+L+'" is invalid for option "'+a+'"'},TypeError),N("ERR_INVALID_ARG_TYPE",function(a,L,v){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var x;if(h(a," argument"))x="The ".concat(a," ").concat(S," ").concat(b(L,"type"));else{var d=V(a,".")?"property":"argument";x='The "'.concat(a,'" ').concat(d," ").concat(S," ").concat(b(L,"type"))}return x+=". Received type ".concat(typeof v),x},TypeError),N("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),N("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),N("ERR_STREAM_PREMATURE_CLOSE","Premature close"),N("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),N("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),N("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),N("ERR_STREAM_WRITE_AFTER_END","write after end"),N("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),N("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),N("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),w.exports.codes=R}),g0=b1((M,w)=>{var _=c3().codes.ERR_INVALID_OPT_VALUE;function R(b,u,h){return b.highWaterMark!=null?b.highWaterMark:u?b[h]:null}function N(b,u,h,V){var a=R(u,V,h);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var L=V?h:"highWaterMark";throw new _(L,a)}return Math.floor(a)}return b.objectMode?16:16384}w.exports={getHighWaterMark:N}}),X0=b1((M,w)=>{w.exports=_;function _(N,b){if(R("noDeprecation"))return N;var u=!1;function h(){if(!u){if(R("throwDeprecation"))throw new Error(b);R("traceDeprecation")?console.trace(b):console.warn(b),u=!0}return N.apply(this,arguments)}return h}function R(N){try{if(!global.localStorage)return!1}catch{return!1}var b=global.localStorage[N];return b==null?!1:String(b).toLowerCase()==="true"}}),F0=b1((M,w)=>{w.exports=H;function _(B){var E=this;this.next=null,this.entry=null,this.finish=function(){e(E,B)}}var R;H.WritableState=j;var N={deprecate:X0()},b=R0(),u=N2().Buffer,h=global.Uint8Array||function(){};function V(B){return u.from(B)}function a(B){return u.isBuffer(B)||B instanceof h}var L=s0(),v=g0(),S=v.getHighWaterMark,x=c3().codes,d=x.ERR_INVALID_ARG_TYPE,z=x.ERR_METHOD_NOT_IMPLEMENTED,T=x.ERR_MULTIPLE_CALLBACK,$=x.ERR_STREAM_CANNOT_PIPE,Z=x.ERR_STREAM_DESTROYED,W=x.ERR_STREAM_NULL_VALUES,s=x.ERR_STREAM_WRITE_AFTER_END,g=x.ERR_UNKNOWN_ENCODING,O=L.errorOrDestroy;i1()(H,b);function U(){}function j(B,E,A){R=R||f3(),B=B||{},typeof A!="boolean"&&(A=E instanceof R),this.objectMode=!!B.objectMode,A&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=S(this,B,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h1=B.decodeStrings===!1;this.decodeStrings=!h1,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){q(E,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}j.prototype.getBuffer=function(){for(var B=this.bufferedRequest,E=[];B;)E.push(B),B=B.next;return E},function(){try{Object.defineProperty(j.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var G;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(B){return G.call(this,B)?!0:this!==H?!1:B&&B._writableState instanceof j}})):G=function(B){return B instanceof this};function H(B){R=R||f3();var E=this instanceof R;if(!E&&!G.call(H,this))return new H(B);this._writableState=new j(B,this,E),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),b.call(this)}H.prototype.pipe=function(){O(this,new $)};function D(B,E){var A=new s;O(B,A),process.nextTick(E,A)}function l(B,E,A,h1){var n1;return A===null?n1=new W:typeof A!="string"&&!E.objectMode&&(n1=new d("chunk",["string","Buffer"],A)),n1?(O(B,n1),process.nextTick(h1,n1),!1):!0}H.prototype.write=function(B,E,A){var h1=this._writableState,n1=!1,c1=!h1.objectMode&&a(B);return c1&&!u.isBuffer(B)&&(B=V(B)),typeof E=="function"&&(A=E,E=null),c1?E="buffer":E||(E=h1.defaultEncoding),typeof A!="function"&&(A=U),h1.ending?D(this,A):(c1||l(this,h1,B,A))&&(h1.pendingcb++,n1=f(this,h1,c1,B,E,A)),n1},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&m(this,B))},H.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new g(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(B,E,A){return!B.objectMode&&B.decodeStrings!==!1&&typeof E=="string"&&(E=u.from(E,A)),E}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(B,E,A,h1,n1,c1){if(!A){var J=p(E,h1,n1);h1!==J&&(A=!0,n1="buffer",h1=J)}var K=E.objectMode?1:h1.length;E.length+=K;var Y=E.length<E.highWaterMark;if(Y||(E.needDrain=!0),E.writing||E.corked){var p1=E.lastBufferedRequest;E.lastBufferedRequest={chunk:h1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else n(B,E,!1,K,h1,n1,c1);return Y}function n(B,E,A,h1,n1,c1,J){E.writelen=h1,E.writecb=J,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new Z("write")):A?B._writev(n1,E.onwrite):B._write(n1,c1,E.onwrite),E.sync=!1}function c(B,E,A,h1,n1){--E.pendingcb,A?(process.nextTick(n1,h1),process.nextTick(I,B,E),B._writableState.errorEmitted=!0,O(B,h1)):(n1(h1),B._writableState.errorEmitted=!0,O(B,h1),I(B,E))}function y(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function q(B,E){var A=B._writableState,h1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new T;if(y(A),E)c(B,A,h1,E,n1);else{var c1=P(A)||B.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&m(B,A),h1?process.nextTick(r,B,A,c1,n1):r(B,A,c1,n1)}}function r(B,E,A,h1){A||o(B,E),E.pendingcb--,h1(),I(B,E)}function o(B,E){E.length===0&&E.needDrain&&(E.needDrain=!1,B.emit("drain"))}function m(B,E){E.bufferProcessing=!0;var A=E.bufferedRequest;if(B._writev&&A&&A.next){var h1=E.bufferedRequestCount,n1=new Array(h1),c1=E.corkedRequestsFree;c1.entry=A;for(var J=0,K=!0;A;)n1[J]=A,A.isBuf||(K=!1),A=A.next,J+=1;n1.allBuffers=K,n(B,E,!0,E.length,n1,"",c1.finish),E.pendingcb++,E.lastBufferedRequest=null,c1.next?(E.corkedRequestsFree=c1.next,c1.next=null):E.corkedRequestsFree=new _(E),E.bufferedRequestCount=0}else{for(;A;){var{chunk:Y,encoding:p1,callback:u1}=A,o1=E.objectMode?1:Y.length;if(n(B,E,!1,o1,Y,p1,u1),A=A.next,E.bufferedRequestCount--,E.writing)break}A===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=A,E.bufferProcessing=!1}H.prototype._write=function(B,E,A){A(new z("_write()"))},H.prototype._writev=null,H.prototype.end=function(B,E,A){var h1=this._writableState;return typeof B=="function"?(A=B,B=null,E=null):typeof E=="function"&&(A=E,E=null),B!=null&&this.write(B,E),h1.corked&&(h1.corked=1,this.uncork()),h1.ending||Q(this,h1,A),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function X(B,E){B._final(function(A){E.pendingcb--,A&&O(B,A),E.prefinished=!0,B.emit("prefinish"),I(B,E)})}function k(B,E){!E.prefinished&&!E.finalCalled&&(typeof B._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(X,B,E)):(E.prefinished=!0,B.emit("prefinish")))}function I(B,E){var A=P(E);if(A&&(k(B,E),E.pendingcb===0&&(E.finished=!0,B.emit("finish"),E.autoDestroy))){var h1=B._readableState;(!h1||h1.autoDestroy&&h1.endEmitted)&&B.destroy()}return A}function Q(B,E,A){E.ending=!0,I(B,E),A&&(E.finished?process.nextTick(A):B.once("finish",A)),E.ended=!0,B.writable=!1}function e(B,E,A){var h1=B.entry;for(B.entry=null;h1;){var n1=h1.callback;E.pendingcb--,n1(A),h1=h1.next}E.corkedRequestsFree.next=B}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){!this._writableState||(this._writableState.destroyed=B)}}),H.prototype.destroy=L.destroy,H.prototype._undestroy=L.undestroy,H.prototype._destroy=function(B,E){E(B)}}),f3=b1((M,w)=>{var _=Object.keys||function(v){var S=[];for(var x in v)S.push(x);return S};w.exports=V;var R=P0(),N=F0();i1()(V,R);for(b=_(N.prototype),h=0;h<b.length;h++)u=b[h],V.prototype[u]||(V.prototype[u]=N.prototype[u]);var b,u,h;function V(v){if(!(this instanceof V))return new V(v);R.call(this,v),N.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(L,this)}function L(v){v.end()}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),S6=b1((M)=>{var w=H1().Buffer,_=w.isEncoding||function(Z){switch(Z=""+Z,Z&&Z.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(Z){if(!Z)return"utf8";for(var W;;)switch(Z){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Z;default:if(W)return;Z=(""+Z).toLowerCase(),W=!0}}function N(Z){var W=R(Z);if(typeof W!="string"&&(w.isEncoding===_||!_(Z)))throw new Error("Unknown encoding: "+Z);return W||Z}M.StringDecoder=b;function b(Z){this.encoding=N(Z);var W;switch(this.encoding){case"utf16le":this.text=S,this.end=x,W=4;break;case"utf8":this.fillLast=a,W=4;break;case"base64":this.text=d,this.end=z,W=3;break;default:this.write=T,this.end=$;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(W)}b.prototype.write=function(Z){if(Z.length===0)return"";var W,s;if(this.lastNeed){if(W=this.fillLast(Z),W===void 0)return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<Z.length?W?W+this.text(Z,s):this.text(Z,s):W||""},b.prototype.end=v,b.prototype.text=L,b.prototype.fillLast=function(Z){if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Z.length),this.lastNeed-=Z.length};function u(Z){return Z<=127?0:Z>>5===6?2:Z>>4===14?3:Z>>3===30?4:Z>>6===2?-1:-2}function h(Z,W,s){var g=W.length-1;if(g<s)return 0;var O=u(W[g]);return O>=0?(O>0&&(Z.lastNeed=O-1),O):--g<s||O===-2?0:(O=u(W[g]),O>=0?(O>0&&(Z.lastNeed=O-2),O):--g<s||O===-2?0:(O=u(W[g]),O>=0?(O>0&&(O===2?O=0:Z.lastNeed=O-3),O):0))}function V(Z,W,s){if((W[0]&192)!==128)return Z.lastNeed=0,"\uFFFD";if(Z.lastNeed>1&&W.length>1){if((W[1]&192)!==128)return Z.lastNeed=1,"\uFFFD";if(Z.lastNeed>2&&W.length>2&&(W[2]&192)!==128)return Z.lastNeed=2,"\uFFFD"}}function a(Z){var W=this.lastTotal-this.lastNeed,s=V(this,Z,W);if(s!==void 0)return s;if(this.lastNeed<=Z.length)return Z.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Z.copy(this.lastChar,W,0,Z.length),this.lastNeed-=Z.length}function L(Z,W){var s=h(this,Z,W);if(!this.lastNeed)return Z.toString("utf8",W);this.lastTotal=s;var g=Z.length-(s-this.lastNeed);return Z.copy(this.lastChar,0,g),Z.toString("utf8",W,g)}function v(Z){var W=Z&&Z.length?this.write(Z):"";return this.lastNeed?W+"\uFFFD":W}function S(Z,W){if((Z.length-W)%2===0){var s=Z.toString("utf16le",W);if(s){var g=s.charCodeAt(s.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Z[Z.length-1],Z.toString("utf16le",W,Z.length-1)}function x(Z){var W=Z&&Z.length?this.write(Z):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return W+this.lastChar.toString("utf16le",0,s)}return W}function d(Z,W){var s=(Z.length-W)%3;return s===0?Z.toString("base64",W):(this.lastNeed=3-s,this.lastTotal=3,s===1?this.lastChar[0]=Z[Z.length-1]:(this.lastChar[0]=Z[Z.length-2],this.lastChar[1]=Z[Z.length-1]),Z.toString("base64",W,Z.length-s))}function z(Z){var W=Z&&Z.length?this.write(Z):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function T(Z){return Z.toString(this.encoding)}function $(Z){return Z&&Z.length?this.write(Z):""}}),N3={},V6(N3,{StringDecoder:()=>k0.StringDecoder,default:()=>k0.StringDecoder}),I3=w0(()=>{k0=p3(S6())}),$6=b1((M,w)=>{var _=c3().codes.ERR_STREAM_PREMATURE_CLOSE;function R(h){var V=!1;return function(){if(!V){V=!0;for(var a=arguments.length,L=new Array(a),v=0;v<a;v++)L[v]=arguments[v];h.apply(this,L)}}}function N(){}function b(h){return h.setHeader&&typeof h.abort=="function"}function u(h,V,a){if(typeof V=="function")return u(h,null,V);V||(V={}),a=R(a||N);var L=V.readable||V.readable!==!1&&h.readable,v=V.writable||V.writable!==!1&&h.writable,S=function(){h.writable||d()},x=h._writableState&&h._writableState.finished,d=function(){v=!1,x=!0,L||a.call(h)},z=h._readableState&&h._readableState.endEmitted,T=function(){L=!1,z=!0,v||a.call(h)},$=function(s){a.call(h,s)},Z=function(){var s;if(L&&!z)return(!h._readableState||!h._readableState.ended)&&(s=new _),a.call(h,s);if(v&&!x)return(!h._writableState||!h._writableState.ended)&&(s=new _),a.call(h,s)},W=function(){h.req.on("finish",d)};return b(h)?(h.on("complete",d),h.on("abort",Z),h.req?W():h.on("request",W)):v&&!h._writableState&&(h.on("end",S),h.on("close",S)),h.on("end",T),h.on("finish",d),V.error!==!1&&h.on("error",$),h.on("close",Z),function(){h.removeListener("complete",d),h.removeListener("abort",Z),h.removeListener("request",W),h.req&&h.req.removeListener("finish",d),h.removeListener("end",S),h.removeListener("close",S),h.removeListener("finish",d),h.removeListener("end",T),h.removeListener("error",$),h.removeListener("close",Z)}}w.exports=u}),Q4=b1((M,w)=>{var _;function R(W,s,g){return s in W?Object.defineProperty(W,s,{value:g,enumerable:!0,configurable:!0,writable:!0}):W[s]=g,W}var N=$6(),b=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),V=Symbol("ended"),a=Symbol("lastPromise"),L=Symbol("handlePromise"),v=Symbol("stream");function S(W,s){return{value:W,done:s}}function x(W){var s=W[b];if(s!==null){var g=W[v].read();g!==null&&(W[a]=null,W[b]=null,W[u]=null,s(S(g,!1)))}}function d(W){process.nextTick(x,W)}function z(W,s){return function(g,O){W.then(function(){if(s[V]){g(S(void 0,!0));return}s[L](g,O)},O)}}var T=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((_={get stream(){return this[v]},next:function(){var W=this,s=this[h];if(s!==null)return Promise.reject(s);if(this[V])return Promise.resolve(S(void 0,!0));if(this[v].destroyed)return new Promise(function(j,G){process.nextTick(function(){W[h]?G(W[h]):j(S(void 0,!0))})});var g=this[a],O;if(g)O=new Promise(z(g,this));else{var U=this[v].read();if(U!==null)return Promise.resolve(S(U,!1));O=new Promise(this[L])}return this[a]=O,O}},R(_,Symbol.asyncIterator,function(){return this}),R(_,"return",function(){var W=this;return new Promise(function(s,g){W[v].destroy(null,function(O){if(O){g(O);return}s(S(void 0,!0))})})}),_),T),Z=function(W){var s,g=Object.create($,(s={},R(s,v,{value:W,writable:!0}),R(s,b,{value:null,writable:!0}),R(s,u,{value:null,writable:!0}),R(s,h,{value:null,writable:!0}),R(s,V,{value:W._readableState.endEmitted,writable:!0}),R(s,L,{value:function(O,U){var j=g[v].read();j?(g[a]=null,g[b]=null,g[u]=null,O(S(j,!1))):(g[b]=O,g[u]=U)},writable:!0}),s));return g[a]=null,N(W,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=g[u];U!==null&&(g[a]=null,g[b]=null,g[u]=null,U(O)),g[h]=O;return}var j=g[b];j!==null&&(g[a]=null,g[b]=null,g[u]=null,j(S(void 0,!0))),g[V]=!0}),W.on("readable",d.bind(null,g)),g};w.exports=Z}),e4=b1((M,w)=>{w.exports=function(){throw new Error("Readable.from is not available in the browser")}}),P0=b1((M,w)=>{w.exports=l;var _;l.ReadableState=D;var R=D2().EventEmitter,N=function(J,K){return J.listeners(K).length},b=R0(),u=N2().Buffer,h=global.Uint8Array||function(){};function V(J){return u.from(J)}function a(J){return u.isBuffer(J)||J instanceof h}var L=D3(),v;L&&L.debuglog?v=L.debuglog("stream"):v=function(){};var S=B4(),x=s0(),d=g0(),z=d.getHighWaterMark,T=c3().codes,$=T.ERR_INVALID_ARG_TYPE,Z=T.ERR_STREAM_PUSH_AFTER_EOF,W=T.ERR_METHOD_NOT_IMPLEMENTED,s=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,O,U;i1()(l,b);var j=x.errorOrDestroy,G=["error","close","destroy","pause","resume"];function H(J,K,Y){if(typeof J.prependListener=="function")return J.prependListener(K,Y);!J._events||!J._events[K]?J.on(K,Y):Array.isArray(J._events[K])?J._events[K].unshift(Y):J._events[K]=[Y,J._events[K]]}function D(J,K,Y){_=_||f3(),J=J||{},typeof Y!="boolean"&&(Y=K instanceof _),this.objectMode=!!J.objectMode,Y&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=z(this,J,"readableHighWaterMark",Y),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(g||(g=(I3(),w2(N3)).StringDecoder),this.decoder=new g(J.encoding),this.encoding=J.encoding)}function l(J){if(_=_||f3(),!(this instanceof l))return new l(J);var K=this instanceof _;this._readableState=new D(J,this,K),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),b.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){!this._readableState||(this._readableState.destroyed=J)}}),l.prototype.destroy=x.destroy,l.prototype._undestroy=x.undestroy,l.prototype._destroy=function(J,K){K(J)},l.prototype.push=function(J,K){var Y=this._readableState,p1;return Y.objectMode?p1=!0:typeof J=="string"&&(K=K||Y.defaultEncoding,K!==Y.encoding&&(J=u.from(J,K),K=""),p1=!0),p(this,J,K,!1,p1)},l.prototype.unshift=function(J){return p(this,J,null,!0,!1)};function p(J,K,Y,p1,u1){v("readableAddChunk",K);var o1=J._readableState;if(K===null)o1.reading=!1,r(J,o1);else{var M1;if(u1||(M1=n(o1,K)),M1)j(J,M1);else if(o1.objectMode||K&&K.length>0)if(typeof K!="string"&&!o1.objectMode&&Object.getPrototypeOf(K)!==u.prototype&&(K=V(K)),p1)o1.endEmitted?j(J,new s):f(J,o1,K,!0);else if(o1.ended)j(J,new Z);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!Y?(K=o1.decoder.write(K),o1.objectMode||K.length!==0?f(J,o1,K,!1):P(J,o1)):f(J,o1,K,!1)}else p1||(o1.reading=!1,P(J,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function f(J,K,Y,p1){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,J.emit("data",Y)):(K.length+=K.objectMode?1:Y.length,p1?K.buffer.unshift(Y):K.buffer.push(Y),K.needReadable&&o(J)),P(J,K)}function n(J,K){var Y;return!a(K)&&typeof K!="string"&&K!==void 0&&!J.objectMode&&(Y=new $("chunk",["string","Buffer","Uint8Array"],K)),Y}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(J){g||(g=(I3(),w2(N3)).StringDecoder);var K=new g(J);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,p1="";Y!==null;)p1+=K.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function y(J){return J>=c?J=c:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function q(J,K){return J<=0||K.length===0&&K.ended?0:K.objectMode?1:J!==J?K.flowing&&K.length?K.buffer.head.data.length:K.length:(J>K.highWaterMark&&(K.highWaterMark=y(J)),J<=K.length?J:K.ended?K.length:(K.needReadable=!0,0))}l.prototype.read=function(J){v("read",J),J=parseInt(J,10);var K=this._readableState,Y=J;if(J!==0&&(K.emittedReadable=!1),J===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return v("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?h1(this):o(this),null;if(J=q(J,K),J===0&&K.ended)return K.length===0&&h1(this),null;var p1=K.needReadable;v("need readable",p1),(K.length===0||K.length-J<K.highWaterMark)&&(p1=!0,v("length less than watermark",p1)),K.ended||K.reading?(p1=!1,v("reading or ended",p1)):p1&&(v("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(J=q(Y,K)));var u1;return J>0?u1=A(J,K):u1=null,u1===null?(K.needReadable=K.length<=K.highWaterMark,J=0):(K.length-=J,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Y!==J&&K.ended&&h1(this)),u1!==null&&this.emit("data",u1),u1};function r(J,K){if(v("onEofChunk"),!K.ended){if(K.decoder){var Y=K.decoder.end();Y&&Y.length&&(K.buffer.push(Y),K.length+=K.objectMode?1:Y.length)}K.ended=!0,K.sync?o(J):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,m(J)))}}function o(J){var K=J._readableState;v("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(v("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(m,J))}function m(J){var K=J._readableState;v("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(J.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,E(J)}function P(J,K){K.readingMore||(K.readingMore=!0,process.nextTick(X,J,K))}function X(J,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Y=K.length;if(v("maybeReadMore read 0"),J.read(0),Y===K.length)break}K.readingMore=!1}l.prototype._read=function(J){j(this,new W("_read()"))},l.prototype.pipe=function(J,K){var Y=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=J;break;case 1:p1.pipes=[p1.pipes,J];break;default:p1.pipes.push(J);break}p1.pipesCount+=1,v("pipe count=%d opts=%j",p1.pipesCount,K);var u1=(!K||K.end!==!1)&&J!==process.stdout&&J!==process.stderr,o1=u1?d1:t;p1.endEmitted?process.nextTick(o1):Y.once("end",o1),J.on("unpipe",M1);function M1(C,l1){v("onunpipe"),C===Y&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,m1())}function d1(){v("onend"),J.end()}var r1=k(Y);J.on("drain",r1);var F1=!1;function m1(){v("cleanup"),J.removeListener("close",F),J.removeListener("finish",i),J.removeListener("drain",r1),J.removeListener("error",k1),J.removeListener("unpipe",M1),Y.removeListener("end",d1),Y.removeListener("end",t),Y.removeListener("data",a1),F1=!0,p1.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&r1()}Y.on("data",a1);function a1(C){v("ondata");var l1=J.write(C);v("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===J||p1.pipesCount>1&&c1(p1.pipes,J)!==-1)&&!F1&&(v("false write response, pause",p1.awaitDrain),p1.awaitDrain++),Y.pause())}function k1(C){v("onerror",C),t(),J.removeListener("error",k1),N(J,"error")===0&&j(J,C)}H(J,"error",k1);function F(){J.removeListener("finish",i),t()}J.once("close",F);function i(){v("onfinish"),J.removeListener("close",F),t()}J.once("finish",i);function t(){v("unpipe"),Y.unpipe(J)}return J.emit("pipe",Y),p1.flowing||(v("pipe resume"),Y.resume()),J};function k(J){return function(){var K=J._readableState;v("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&N(J,"data")&&(K.flowing=!0,E(J))}}l.prototype.unpipe=function(J){var K=this._readableState,Y={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return J&&J!==K.pipes?this:(J||(J=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,J&&J.emit("unpipe",this,Y),this);if(!J){var{pipes:p1,pipesCount:u1}=K;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var M1=c1(K.pipes,J);return M1===-1?this:(K.pipes.splice(M1,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),J.emit("unpipe",this,Y),this)},l.prototype.on=function(J,K){var Y=b.prototype.on.call(this,J,K),p1=this._readableState;return J==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):J==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,v("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(Q,this)),Y},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(J,K){var Y=b.prototype.removeListener.call(this,J,K);return J==="readable"&&process.nextTick(I,this),Y},l.prototype.removeAllListeners=function(J){var K=b.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&process.nextTick(I,this),K};function I(J){var K=J._readableState;K.readableListening=J.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:J.listenerCount("data")>0&&J.resume()}function Q(J){v("readable nexttick read 0"),J.read(0)}l.prototype.resume=function(){var J=this._readableState;return J.flowing||(v("resume"),J.flowing=!J.readableListening,e(this,J)),J.paused=!1,this};function e(J,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(B,J,K))}function B(J,K){v("resume",K.reading),K.reading||J.read(0),K.resumeScheduled=!1,J.emit("resume"),E(J),K.flowing&&!K.reading&&J.read(0)}l.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(J){var K=J._readableState;for(v("flow",K.flowing);K.flowing&&J.read()!==null;);}l.prototype.wrap=function(J){var K=this,Y=this._readableState,p1=!1;J.on("end",function(){if(v("wrapped end"),Y.decoder&&!Y.ended){var M1=Y.decoder.end();M1&&M1.length&&K.push(M1)}K.push(null)}),J.on("data",function(M1){if(v("wrapped data"),Y.decoder&&(M1=Y.decoder.write(M1)),!(Y.objectMode&&M1==null)&&!(!Y.objectMode&&(!M1||!M1.length))){var d1=K.push(M1);d1||(p1=!0,J.pause())}});for(var u1 in J)this[u1]===void 0&&typeof J[u1]=="function"&&(this[u1]=function(M1){return function(){return J[M1].apply(J,arguments)}}(u1));for(var o1=0;o1<G.length;o1++)J.on(G[o1],this.emit.bind(this,G[o1]));return this._read=function(M1){v("wrapped _read",M1),p1&&(p1=!1,J.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=Q4()),O(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(J,K){if(K.length===0)return null;var Y;return K.objectMode?Y=K.buffer.shift():!J||J>=K.length?(K.decoder?Y=K.buffer.join(""):K.buffer.length===1?Y=K.buffer.first():Y=K.buffer.concat(K.length),K.buffer.clear()):Y=K.buffer.consume(J,K.decoder),Y}function h1(J){var K=J._readableState;v("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(n1,K,J))}function n1(J,K){if(v("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,K.readable=!1,K.emit("end"),J.autoDestroy)){var Y=K._writableState;(!Y||Y.autoDestroy&&Y.finished)&&K.destroy()}}typeof Symbol=="function"&&(l.from=function(J,K){return U===void 0&&(U=e4()),U(l,J,K)});function c1(J,K){for(var Y=0,p1=J.length;Y<p1;Y++)if(J[Y]===K)return Y;return-1}}),U0=b1((M,w)=>{w.exports=a;var _=c3().codes,R=_.ERR_METHOD_NOT_IMPLEMENTED,N=_.ERR_MULTIPLE_CALLBACK,b=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=_.ERR_TRANSFORM_WITH_LENGTH_0,h=f3();i1()(a,h);function V(S,x){var d=this._transformState;d.transforming=!1;var z=d.writecb;if(z===null)return this.emit("error",new N);d.writechunk=null,d.writecb=null,x!=null&&this.push(x),z(S);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function a(S){if(!(this instanceof a))return new a(S);h.call(this,S),this._transformState={afterTransform:V.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,d){v(S,x,d)}):v(this,null,null)}a.prototype.push=function(S,x){return this._transformState.needTransform=!1,h.prototype.push.call(this,S,x)},a.prototype._transform=function(S,x,d){d(new R("_transform()"))},a.prototype._write=function(S,x,d){var z=this._transformState;if(z.writecb=d,z.writechunk=S,z.writeencoding=x,!z.transforming){var T=this._readableState;(z.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},a.prototype._read=function(S){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},a.prototype._destroy=function(S,x){h.prototype._destroy.call(this,S,function(d){x(d)})};function v(S,x,d){if(x)return S.emit("error",x);if(d!=null&&S.push(d),S._writableState.length)throw new u;if(S._transformState.transforming)throw new b;return S.push(null)}}),A4=b1((M,w)=>{w.exports=R;var _=U0();i1()(R,_);function R(N){if(!(this instanceof R))return new R(N);_.call(this,N)}R.prototype._transform=function(N,b,u){u(null,N)}}),l8=b1((M,w)=>{var _;function R(d){var z=!1;return function(){z||(z=!0,d.apply(void 0,arguments))}}var N=c3().codes,b=N.ERR_MISSING_ARGS,u=N.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function V(d){return d.setHeader&&typeof d.abort=="function"}function a(d,z,T,$){$=R($);var Z=!1;d.on("close",function(){Z=!0}),_===void 0&&(_=$6()),_(d,{readable:z,writable:T},function(s){if(s)return $(s);Z=!0,$()});var W=!1;return function(s){if(!Z&&!W){if(W=!0,V(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();$(s||new u("pipe"))}}}function L(d){d()}function v(d,z){return d.pipe(z)}function S(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function x(){for(var d=arguments.length,z=new Array(d),T=0;T<d;T++)z[T]=arguments[T];var $=S(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new b("streams");var Z,W=z.map(function(s,g){var O=g<z.length-1,U=g>0;return a(s,O,U,function(j){Z||(Z=j),j&&W.forEach(L),!O&&(W.forEach(L),$(Z))})});return z.reduce(v)}w.exports=x}),o8=b1((M,w)=>{M=w.exports=P0(),M.Stream=M,M.Readable=M,M.Writable=F0(),M.Duplex=f3(),M.Transform=U0(),M.PassThrough=A4(),M.finished=$6(),M.pipeline=l8()}),K0=b1((M,w)=>{var _=H1().Buffer,R=o8().Transform,N=i1();function b(h,V){if(!_.isBuffer(h)&&typeof h!="string")throw new TypeError(V+" must be a string or a buffer")}function u(h){R.call(this),this._block=_.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}N(u,R),u.prototype._transform=function(h,V,a){var L=null;try{this.update(h,V)}catch(v){L=v}a(L)},u.prototype._flush=function(h){var V=null;try{this.push(this.digest())}catch(a){V=a}h(V)},u.prototype.update=function(h,V){if(b(h,"Data"),this._finalized)throw new Error("Digest already called");_.isBuffer(h)||(h=_.from(h,V));for(var a=this._block,L=0;this._blockOffset+h.length-L>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)a[v++]=h[L++];this._update(),this._blockOffset=0}for(;L<h.length;)a[this._blockOffset++]=h[L++];for(var S=0,x=h.length*8;x>0;++S)this._length[S]+=x,x=this._length[S]/4294967296|0,x>0&&(this._length[S]-=4294967296*x);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var V=this._digest();h!==void 0&&(V=V.toString(h)),this._block.fill(0),this._blockOffset=0;for(var a=0;a<4;++a)this._length[a]=0;return V},u.prototype._digest=function(){throw new Error("_digest is not implemented")},w.exports=u}),Z6=b1((M,w)=>{var _=i1(),R=K0(),N=H1().Buffer,b=new Array(16);function u(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_(u,R),u.prototype._update=function(){for(var S=b,x=0;x<16;++x)S[x]=this._block.readInt32LE(x*4);var d=this._a,z=this._b,T=this._c,$=this._d;d=V(d,z,T,$,S[0],3614090360,7),$=V($,d,z,T,S[1],3905402710,12),T=V(T,$,d,z,S[2],606105819,17),z=V(z,T,$,d,S[3],3250441966,22),d=V(d,z,T,$,S[4],4118548399,7),$=V($,d,z,T,S[5],1200080426,12),T=V(T,$,d,z,S[6],2821735955,17),z=V(z,T,$,d,S[7],4249261313,22),d=V(d,z,T,$,S[8],1770035416,7),$=V($,d,z,T,S[9],2336552879,12),T=V(T,$,d,z,S[10],4294925233,17),z=V(z,T,$,d,S[11],2304563134,22),d=V(d,z,T,$,S[12],1804603682,7),$=V($,d,z,T,S[13],4254626195,12),T=V(T,$,d,z,S[14],2792965006,17),z=V(z,T,$,d,S[15],1236535329,22),d=a(d,z,T,$,S[1],4129170786,5),$=a($,d,z,T,S[6],3225465664,9),T=a(T,$,d,z,S[11],643717713,14),z=a(z,T,$,d,S[0],3921069994,20),d=a(d,z,T,$,S[5],3593408605,5),$=a($,d,z,T,S[10],38016083,9),T=a(T,$,d,z,S[15],3634488961,14),z=a(z,T,$,d,S[4],3889429448,20),d=a(d,z,T,$,S[9],568446438,5),$=a($,d,z,T,S[14],3275163606,9),T=a(T,$,d,z,S[3],4107603335,14),z=a(z,T,$,d,S[8],1163531501,20),d=a(d,z,T,$,S[13],2850285829,5),$=a($,d,z,T,S[2],4243563512,9),T=a(T,$,d,z,S[7],1735328473,14),z=a(z,T,$,d,S[12],2368359562,20),d=L(d,z,T,$,S[5],4294588738,4),$=L($,d,z,T,S[8],2272392833,11),T=L(T,$,d,z,S[11],1839030562,16),z=L(z,T,$,d,S[14],4259657740,23),d=L(d,z,T,$,S[1],2763975236,4),$=L($,d,z,T,S[4],1272893353,11),T=L(T,$,d,z,S[7],4139469664,16),z=L(z,T,$,d,S[10],3200236656,23),d=L(d,z,T,$,S[13],681279174,4),$=L($,d,z,T,S[0],3936430074,11),T=L(T,$,d,z,S[3],3572445317,16),z=L(z,T,$,d,S[6],76029189,23),d=L(d,z,T,$,S[9],3654602809,4),$=L($,d,z,T,S[12],3873151461,11),T=L(T,$,d,z,S[15],530742520,16),z=L(z,T,$,d,S[2],3299628645,23),d=v(d,z,T,$,S[0],4096336452,6),$=v($,d,z,T,S[7],1126891415,10),T=v(T,$,d,z,S[14],2878612391,15),z=v(z,T,$,d,S[5],4237533241,21),d=v(d,z,T,$,S[12],1700485571,6),$=v($,d,z,T,S[3],2399980690,10),T=v(T,$,d,z,S[10],4293915773,15),z=v(z,T,$,d,S[1],2240044497,21),d=v(d,z,T,$,S[8],1873313359,6),$=v($,d,z,T,S[15],4264355552,10),T=v(T,$,d,z,S[6],2734768916,15),z=v(z,T,$,d,S[13],1309151649,21),d=v(d,z,T,$,S[4],4149444226,6),$=v($,d,z,T,S[11],3174756917,10),T=v(T,$,d,z,S[2],718787259,15),z=v(z,T,$,d,S[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+z|0,this._c=this._c+T|0,this._d=this._d+$|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var S=N.allocUnsafe(16);return S.writeInt32LE(this._a,0),S.writeInt32LE(this._b,4),S.writeInt32LE(this._c,8),S.writeInt32LE(this._d,12),S};function h(S,x){return S<<x|S>>>32-x}function V(S,x,d,z,T,$,Z){return h(S+(x&d|~x&z)+T+$|0,Z)+x|0}function a(S,x,d,z,T,$,Z){return h(S+(x&z|d&~z)+T+$|0,Z)+x|0}function L(S,x,d,z,T,$,Z){return h(S+(x^d^z)+T+$|0,Z)+x|0}function v(S,x,d,z,T,$,Z){return h(S+(d^(x|~z))+T+$|0,Z)+x|0}w.exports=u}),W6=b1((M,w)=>{var _=N2().Buffer,R=i1(),N=K0(),b=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],V=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function S(){N.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}R(S,N),S.prototype._update=function(){for(var W=b,s=0;s<16;++s)W[s]=this._block.readInt32LE(s*4);for(var g=this._a|0,O=this._b|0,U=this._c|0,j=this._d|0,G=this._e|0,H=this._a|0,D=this._b|0,l=this._c|0,p=this._d|0,f=this._e|0,n=0;n<80;n+=1){var c,y;n<16?(c=d(g,O,U,j,G,W[u[n]],L[0],V[n]),y=Z(H,D,l,p,f,W[h[n]],v[0],a[n])):n<32?(c=z(g,O,U,j,G,W[u[n]],L[1],V[n]),y=$(H,D,l,p,f,W[h[n]],v[1],a[n])):n<48?(c=T(g,O,U,j,G,W[u[n]],L[2],V[n]),y=T(H,D,l,p,f,W[h[n]],v[2],a[n])):n<64?(c=$(g,O,U,j,G,W[u[n]],L[3],V[n]),y=z(H,D,l,p,f,W[h[n]],v[3],a[n])):(c=Z(g,O,U,j,G,W[u[n]],L[4],V[n]),y=d(H,D,l,p,f,W[h[n]],v[4],a[n])),g=G,G=j,j=x(U,10),U=O,O=c,H=f,f=p,p=x(l,10),l=D,D=y}var q=this._b+U+p|0;this._b=this._c+j+f|0,this._c=this._d+G+H|0,this._d=this._e+g+D|0,this._e=this._a+O+l|0,this._a=q},S.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var W=_.alloc?_.alloc(20):new _(20);return W.writeInt32LE(this._a,0),W.writeInt32LE(this._b,4),W.writeInt32LE(this._c,8),W.writeInt32LE(this._d,12),W.writeInt32LE(this._e,16),W};function x(W,s){return W<<s|W>>>32-s}function d(W,s,g,O,U,j,G,H){return x(W+(s^g^O)+j+G|0,H)+U|0}function z(W,s,g,O,U,j,G,H){return x(W+(s&g|~s&O)+j+G|0,H)+U|0}function T(W,s,g,O,U,j,G,H){return x(W+((s|~g)^O)+j+G|0,H)+U|0}function $(W,s,g,O,U,j,G,H){return x(W+(s&O|g&~O)+j+G|0,H)+U|0}function Z(W,s,g,O,U,j,G,H){return x(W+(s^(g|~O))+j+G|0,H)+U|0}w.exports=S}),d3=b1((M,w)=>{var _=H1().Buffer;function R(N,b){this._block=_.alloc(N),this._finalSize=b,this._blockSize=N,this._len=0}R.prototype.update=function(N,b){typeof N=="string"&&(b=b||"utf8",N=_.from(N,b));for(var u=this._block,h=this._blockSize,V=N.length,a=this._len,L=0;L<V;){for(var v=a%h,S=Math.min(V-L,h-v),x=0;x<S;x++)u[v+x]=N[L+x];a+=S,L+=S,a%h===0&&this._update(u)}return this._len+=V,this},R.prototype.digest=function(N){var b=this._len%this._blockSize;this._block[b]=128,this._block.fill(0,b+1),b>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var h=(u&4294967295)>>>0,V=(u-h)/4294967296;this._block.writeUInt32BE(V,this._blockSize-8),this._block.writeUInt32BE(h,this._blockSize-4)}this._update(this._block);var a=this._hash();return N?a.toString(N):a},R.prototype._update=function(){throw new Error("_update must be implemented by subclass")},w.exports=R}),n8=b1((M,w)=>{var _=i1(),R=d3(),N=H1().Buffer,b=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,R.call(this,64,56)}_(h,R),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function V(v){return v<<5|v>>>27}function a(v){return v<<30|v>>>2}function L(v,S,x,d){return v===0?S&x|~S&d:v===2?S&x|S&d|x&d:S^x^d}h.prototype._update=function(v){for(var S=this._w,x=this._a|0,d=this._b|0,z=this._c|0,T=this._d|0,$=this._e|0,Z=0;Z<16;++Z)S[Z]=v.readInt32BE(Z*4);for(;Z<80;++Z)S[Z]=S[Z-3]^S[Z-8]^S[Z-14]^S[Z-16];for(var W=0;W<80;++W){var s=~~(W/20),g=V(x)+L(s,d,z,T)+$+S[W]+b[s]|0;$=T,T=z,z=a(d),d=x,x=g}this._a=x+this._a|0,this._b=d+this._b|0,this._c=z+this._c|0,this._d=T+this._d|0,this._e=$+this._e|0},h.prototype._hash=function(){var v=N.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},w.exports=h}),p8=b1((M,w)=>{var _=i1(),R=d3(),N=H1().Buffer,b=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,R.call(this,64,56)}_(h,R),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function V(S){return S<<1|S>>>31}function a(S){return S<<5|S>>>27}function L(S){return S<<30|S>>>2}function v(S,x,d,z){return S===0?x&d|~x&z:S===2?x&d|x&z|d&z:x^d^z}h.prototype._update=function(S){for(var x=this._w,d=this._a|0,z=this._b|0,T=this._c|0,$=this._d|0,Z=this._e|0,W=0;W<16;++W)x[W]=S.readInt32BE(W*4);for(;W<80;++W)x[W]=V(x[W-3]^x[W-8]^x[W-14]^x[W-16]);for(var s=0;s<80;++s){var g=~~(s/20),O=a(d)+v(g,z,T,$)+Z+x[s]+b[g]|0;Z=$,$=T,T=L(z),z=d,d=O}this._a=d+this._a|0,this._b=z+this._b|0,this._c=T+this._c|0,this._d=$+this._d|0,this._e=Z+this._e|0},h.prototype._hash=function(){var S=N.allocUnsafe(20);return S.writeInt32BE(this._a|0,0),S.writeInt32BE(this._b|0,4),S.writeInt32BE(this._c|0,8),S.writeInt32BE(this._d|0,12),S.writeInt32BE(this._e|0,16),S},w.exports=h}),i0=b1((M,w)=>{var _=i1(),R=d3(),N=H1().Buffer,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function h(){this.init(),this._w=u,R.call(this,64,56)}_(h,R),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function V(d,z,T){return T^d&(z^T)}function a(d,z,T){return d&z|T&(d|z)}function L(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function v(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function S(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function x(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}h.prototype._update=function(d){for(var z=this._w,T=this._a|0,$=this._b|0,Z=this._c|0,W=this._d|0,s=this._e|0,g=this._f|0,O=this._g|0,U=this._h|0,j=0;j<16;++j)z[j]=d.readInt32BE(j*4);for(;j<64;++j)z[j]=x(z[j-2])+z[j-7]+S(z[j-15])+z[j-16]|0;for(var G=0;G<64;++G){var H=U+v(s)+V(s,g,O)+b[G]+z[G]|0,D=L(T)+a(T,$,Z)|0;U=O,O=g,g=s,s=W+H|0,W=Z,Z=$,$=T,T=H+D|0}this._a=T+this._a|0,this._b=$+this._b|0,this._c=Z+this._c|0,this._d=W+this._d|0,this._e=s+this._e|0,this._f=g+this._f|0,this._g=O+this._g|0,this._h=U+this._h|0},h.prototype._hash=function(){var d=N.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},w.exports=h}),u8=b1((M,w)=>{var _=i1(),R=i0(),N=d3(),b=H1().Buffer,u=new Array(64);function h(){this.init(),this._w=u,N.call(this,64,56)}_(h,R),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var V=b.allocUnsafe(28);return V.writeInt32BE(this._a,0),V.writeInt32BE(this._b,4),V.writeInt32BE(this._c,8),V.writeInt32BE(this._d,12),V.writeInt32BE(this._e,16),V.writeInt32BE(this._f,20),V.writeInt32BE(this._g,24),V},w.exports=h}),j0=b1((M,w)=>{var _=i1(),R=d3(),N=H1().Buffer,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function h(){this.init(),this._w=u,R.call(this,128,112)}_(h,R),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function V($,Z,W){return W^$&(Z^W)}function a($,Z,W){return $&Z|W&($|Z)}function L($,Z){return($>>>28|Z<<4)^(Z>>>2|$<<30)^(Z>>>7|$<<25)}function v($,Z){return($>>>14|Z<<18)^($>>>18|Z<<14)^(Z>>>9|$<<23)}function S($,Z){return($>>>1|Z<<31)^($>>>8|Z<<24)^$>>>7}function x($,Z){return($>>>1|Z<<31)^($>>>8|Z<<24)^($>>>7|Z<<25)}function d($,Z){return($>>>19|Z<<13)^(Z>>>29|$<<3)^$>>>6}function z($,Z){return($>>>19|Z<<13)^(Z>>>29|$<<3)^($>>>6|Z<<26)}function T($,Z){return $>>>0<Z>>>0?1:0}h.prototype._update=function($){for(var Z=this._w,W=this._ah|0,s=this._bh|0,g=this._ch|0,O=this._dh|0,U=this._eh|0,j=this._fh|0,G=this._gh|0,H=this._hh|0,D=this._al|0,l=this._bl|0,p=this._cl|0,f=this._dl|0,n=this._el|0,c=this._fl|0,y=this._gl|0,q=this._hl|0,r=0;r<32;r+=2)Z[r]=$.readInt32BE(r*4),Z[r+1]=$.readInt32BE(r*4+4);for(;r<160;r+=2){var o=Z[r-30],m=Z[r-30+1],P=S(o,m),X=x(m,o);o=Z[r-4],m=Z[r-4+1];var k=d(o,m),I=z(m,o),Q=Z[r-14],e=Z[r-14+1],B=Z[r-32],E=Z[r-32+1],A=X+e|0,h1=P+Q+T(A,X)|0;A=A+I|0,h1=h1+k+T(A,I)|0,A=A+E|0,h1=h1+B+T(A,E)|0,Z[r]=h1,Z[r+1]=A}for(var n1=0;n1<160;n1+=2){h1=Z[n1],A=Z[n1+1];var c1=a(W,s,g),J=a(D,l,p),K=L(W,D),Y=L(D,W),p1=v(U,n),u1=v(n,U),o1=b[n1],M1=b[n1+1],d1=V(U,j,G),r1=V(n,c,y),F1=q+u1|0,m1=H+p1+T(F1,q)|0;F1=F1+r1|0,m1=m1+d1+T(F1,r1)|0,F1=F1+M1|0,m1=m1+o1+T(F1,M1)|0,F1=F1+A|0,m1=m1+h1+T(F1,A)|0;var a1=Y+J|0,k1=K+c1+T(a1,Y)|0;H=G,q=y,G=j,y=c,j=U,c=n,n=f+F1|0,U=O+m1+T(n,f)|0,O=g,f=p,g=s,p=l,s=W,l=D,D=F1+a1|0,W=m1+k1+T(D,F1)|0}this._al=this._al+D|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+f|0,this._el=this._el+n|0,this._fl=this._fl+c|0,this._gl=this._gl+y|0,this._hl=this._hl+q|0,this._ah=this._ah+W+T(this._al,D)|0,this._bh=this._bh+s+T(this._bl,l)|0,this._ch=this._ch+g+T(this._cl,p)|0,this._dh=this._dh+O+T(this._dl,f)|0,this._eh=this._eh+U+T(this._el,n)|0,this._fh=this._fh+j+T(this._fl,c)|0,this._gh=this._gh+G+T(this._gl,y)|0,this._hh=this._hh+H+T(this._hl,q)|0},h.prototype._hash=function(){var $=N.allocUnsafe(64);function Z(W,s,g){$.writeInt32BE(W,g),$.writeInt32BE(s,g+4)}return Z(this._ah,this._al,0),Z(this._bh,this._bl,8),Z(this._ch,this._cl,16),Z(this._dh,this._dl,24),Z(this._eh,this._el,32),Z(this._fh,this._fl,40),Z(this._gh,this._gl,48),Z(this._hh,this._hl,56),$},w.exports=h}),c8=b1((M,w)=>{var _=i1(),R=j0(),N=d3(),b=H1().Buffer,u=new Array(160);function h(){this.init(),this._w=u,N.call(this,128,112)}_(h,R),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var V=b.allocUnsafe(48);function a(L,v,S){V.writeInt32BE(L,S),V.writeInt32BE(v,S+4)}return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),V},w.exports=h}),w6=b1((_,w)=>{var _=w.exports=function(R){R=R.toLowerCase();var N=_[R];if(!N)throw new Error(R+" is not supported (we accept pull requests)");return new N};_.sha=n8(),_.sha1=p8(),_.sha224=u8(),_.sha256=i0(),_.sha384=c8(),_.sha512=j0()}),x2=b1((M,w)=>{w.exports={ArrayIsArray(_){return Array.isArray(_)},ArrayPrototypeIncludes(_,R){return _.includes(R)},ArrayPrototypeIndexOf(_,R){return _.indexOf(R)},ArrayPrototypeJoin(_,R){return _.join(R)},ArrayPrototypeMap(_,R){return _.map(R)},ArrayPrototypePop(_,R){return _.pop(R)},ArrayPrototypePush(_,R){return _.push(R)},ArrayPrototypeSlice(_,R,N){return _.slice(R,N)},Error,FunctionPrototypeCall(_,R,...N){return _.call(R,...N)},FunctionPrototypeSymbolHasInstance(_,R){return Function.prototype[Symbol.hasInstance].call(_,R)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(_,R){return Object.defineProperties(_,R)},ObjectDefineProperty(_,R,N){return Object.defineProperty(_,R,N)},ObjectGetOwnPropertyDescriptor(_,R){return Object.getOwnPropertyDescriptor(_,R)},ObjectKeys(_){return Object.keys(_)},ObjectSetPrototypeOf(_,R){return Object.setPrototypeOf(_,R)},Promise,PromisePrototypeCatch(_,R){return _.catch(R)},PromisePrototypeThen(_,R,N){return _.then(R,N)},PromiseReject(_){return Promise.reject(_)},ReflectApply:Reflect.apply,RegExpPrototypeTest(_,R){return _.test(R)},SafeSet:Set,String,StringPrototypeSlice(_,R,N){return _.slice(R,N)},StringPrototypeToLowerCase(_){return _.toLowerCase()},StringPrototypeToUpperCase(_){return _.toUpperCase()},StringPrototypeTrim(_){return _.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(_,R,N){return _.set(R,N)},Uint8Array}}),g2=b1((M,w)=>{var _=N2(),R=Object.getPrototypeOf(async function(){}).constructor,N=globalThis.Blob||_.Blob,b=typeof N<"u"?function(h){return h instanceof N}:function(h){return!1},u=class extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let V="";for(let a=0;a<h.length;a++)V+=`    ${h[a].stack}
`;super(V),this.name="AggregateError",this.errors=h}};w.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(h){let V=!1;return function(...a){V||(V=!0,h.apply(this,a))}},createDeferredPromise:function(){let h,V;return{promise:new Promise((a,L)=>{h=a,V=L}),resolve:h,reject:V}},promisify(h){return new Promise((V,a)=>{h((L,...v)=>L?a(L):V(...v))})},debuglog(){return function(){}},format(h,...V){return h.replace(/%([sdifj])/g,function(...[a,L]){let v=V.shift();return L==="f"?v.toFixed(6):L==="j"?JSON.stringify(v):L==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof R},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:b},w.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),O6=b1((M,w)=>{var{AbortController:_,AbortSignal:R}=typeof self<"u"?self:typeof window<"u"?window:void 0;w.exports=_,w.exports.AbortSignal=R,w.exports.default=_}),M2=b1((M,w)=>{var{format:_,inspect:R,AggregateError:N}=g2(),b=globalThis.AggregateError||N,u=Symbol("kIsNodeError"),h=["string","function","number","object","Function","Object","boolean","bigint","symbol"],V=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",L={};function v(Z,W){if(!Z)throw new L.ERR_INTERNAL_ASSERTION(W)}function S(Z){let W="",s=Z.length,g=Z[0]==="-"?1:0;for(;s>=g+4;s-=3)W=`_${Z.slice(s-3,s)}${W}`;return`${Z.slice(0,s)}${W}`}function x(Z,W,s){if(typeof W=="function")return v(W.length<=s.length,`Code: ${Z}; The provided arguments length (${s.length}) does not match the required ones (${W.length}).`),W(...s);let g=(W.match(/%[dfijoOs]/g)||[]).length;return v(g===s.length,`Code: ${Z}; The provided arguments length (${s.length}) does not match the required ones (${g}).`),s.length===0?W:_(W,...s)}function d(Z,W,s){s||(s=Error);class g extends s{constructor(...O){super(x(Z,W,O))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(g.prototype,{name:{value:s.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),g.prototype.code=Z,g.prototype[u]=!0,L[Z]=g}function z(Z){let W=a+Z.name;return Object.defineProperty(Z,"name",{value:W}),Z}function T(Z,W){if(Z&&W&&Z!==W){if(Array.isArray(W.errors))return W.errors.push(Z),W;let s=new b([W,Z],W.message);return s.code=W.code,s}return Z||W}var $=class extends Error{constructor(Z="The operation was aborted",W=void 0){if(W!==void 0&&typeof W!="object")throw new L.ERR_INVALID_ARG_TYPE("options","Object",W);super(Z,W),this.code="ABORT_ERR",this.name="AbortError"}};d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(Z,W,s)=>{v(typeof Z=="string","'name' must be a string"),Array.isArray(W)||(W=[W]);let g="The ";Z.endsWith(" argument")?g+=`${Z} `:g+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,g+="must be ";let O=[],U=[],j=[];for(let H of W)v(typeof H=="string","All expected entries have to be of type string"),h.includes(H)?O.push(H.toLowerCase()):V.test(H)?U.push(H):(v(H!=="object",'The value "object" should be written as "Object"'),j.push(H));if(U.length>0){let H=O.indexOf("object");H!==-1&&(O.splice(O,H,1),U.push("Object"))}if(O.length>0){switch(O.length){case 1:g+=`of type ${O[0]}`;break;case 2:g+=`one of type ${O[0]} or ${O[1]}`;break;default:{let H=O.pop();g+=`one of type ${O.join(", ")}, or ${H}`}}(U.length>0||j.length>0)&&(g+=" or ")}if(U.length>0){switch(U.length){case 1:g+=`an instance of ${U[0]}`;break;case 2:g+=`an instance of ${U[0]} or ${U[1]}`;break;default:{let H=U.pop();g+=`an instance of ${U.join(", ")}, or ${H}`}}j.length>0&&(g+=" or ")}switch(j.length){case 0:break;case 1:j[0].toLowerCase()!==j[0]&&(g+="an "),g+=`${j[0]}`;break;case 2:g+=`one of ${j[0]} or ${j[1]}`;break;default:{let H=j.pop();g+=`one of ${j.join(", ")}, or ${H}`}}if(s==null)g+=`. Received ${s}`;else if(typeof s=="function"&&s.name)g+=`. Received function ${s.name}`;else if(typeof s=="object"){var G;(G=s.constructor)!==null&&G!==void 0&&G.name?g+=`. Received an instance of ${s.constructor.name}`:g+=`. Received ${R(s,{depth:-1})}`}else{let H=R(s,{colors:!1});H.length>25&&(H=`${H.slice(0,25)}...`),g+=`. Received type ${typeof s} (${H})`}return g},TypeError),d("ERR_INVALID_ARG_VALUE",(Z,W,s="is invalid")=>{let g=R(W);return g.length>128&&(g=g.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${s}. Received ${g}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(Z,W,s)=>{var g;let O=s!=null&&(g=s.constructor)!==null&&g!==void 0&&g.name?`instance of ${s.constructor.name}`:`type ${typeof s}`;return`Expected ${Z} to be returned from the "${W}" function but got ${O}.`},TypeError),d("ERR_MISSING_ARGS",(...Z)=>{v(Z.length>0,"At least one arg needs to be specified");let W,s=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map((g)=>`"${g}"`).join(" or "),s){case 1:W+=`The ${Z[0]} argument`;break;case 2:W+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{let g=Z.pop();W+=`The ${Z.join(", ")}, and ${g} arguments`}break}return`${W} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(Z,W,s)=>{v(W,'Missing "range" argument');let g;return Number.isInteger(s)&&Math.abs(s)>4294967296?g=S(String(s)):typeof s=="bigint"?(g=String(s),(s>2n**32n||s<-(2n**32n))&&(g=S(g)),g+="n"):g=R(s),`The value of "${Z}" is out of range. It must be ${W}. Received ${g}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),w.exports={AbortError:$,aggregateTwoErrors:z(T),hideStackFrames:z,codes:L}}),Y3=b1((M,w)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:R,ArrayPrototypeJoin:N,ArrayPrototypeMap:b,NumberIsInteger:u,NumberIsNaN:h,NumberMAX_SAFE_INTEGER:V,NumberMIN_SAFE_INTEGER:a,NumberParseInt:L,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:S,String:x,StringPrototypeToUpperCase:d,StringPrototypeTrim:z}=x2(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:$,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:W,ERR_OUT_OF_RANGE:s,ERR_UNKNOWN_SIGNAL:g}}=M2(),{normalizeEncoding:O}=g2(),{isAsyncFunction:U,isArrayBufferView:j}=g2().types,G={};function H(J){return J===(J|0)}function D(J){return J===J>>>0}var l=/^[0-7]+$/,p="must be a 32-bit unsigned integer or an octal string";function f(J,K,Y){if(typeof J>"u"&&(J=Y),typeof J=="string"){if(S(l,J)===null)throw new W(K,J,p);J=L(J,8)}return y(J,K),J}var n=T((J,K,Y=a,p1=V)=>{if(typeof J!="number")throw new Z(K,"number",J);if(!u(J))throw new s(K,"an integer",J);if(J<Y||J>p1)throw new s(K,`>= ${Y} && <= ${p1}`,J)}),c=T((J,K,Y=-2147483648,p1=2147483647)=>{if(typeof J!="number")throw new Z(K,"number",J);if(!u(J))throw new s(K,"an integer",J);if(J<Y||J>p1)throw new s(K,`>= ${Y} && <= ${p1}`,J)}),y=T((J,K,Y=!1)=>{if(typeof J!="number")throw new Z(K,"number",J);if(!u(J))throw new s(K,"an integer",J);let p1=Y?1:0,u1=4294967295;if(J<p1||J>u1)throw new s(K,`>= ${p1} && <= ${u1}`,J)});function q(J,K){if(typeof J!="string")throw new Z(K,"string",J)}function r(J,K,Y=void 0,p1){if(typeof J!="number")throw new Z(K,"number",J);if(Y!=null&&J<Y||p1!=null&&J>p1||(Y!=null||p1!=null)&&h(J))throw new s(K,`${Y!=null?`>= ${Y}`:""}${Y!=null&&p1!=null?" && ":""}${p1!=null?`<= ${p1}`:""}`,J)}var o=T((J,K,Y)=>{if(!R(Y,J)){let p1=N(b(Y,(o1)=>typeof o1=="string"?`'${o1}'`:x(o1)),", "),u1="must be one of: "+p1;throw new W(K,J,u1)}});function m(J,K){if(typeof J!="boolean")throw new Z(K,"boolean",J)}function P(J,K,Y){return J==null||!v(J,K)?Y:J[K]}var X=T((J,K,Y=null)=>{let p1=P(Y,"allowArray",!1),u1=P(Y,"allowFunction",!1);if(!P(Y,"nullable",!1)&&J===null||!p1&&_(J)||typeof J!="object"&&(!u1||typeof J!="function"))throw new Z(K,"Object",J)}),k=T((J,K,Y=0)=>{if(!_(J))throw new Z(K,"Array",J);if(J.length<Y){let p1=`must be longer than ${Y}`;throw new W(K,J,p1)}});function I(J,K="signal"){if(q(J,K),G[J]===void 0)throw G[d(J)]!==void 0?new g(J+" (signals must use all capital letters)"):new g(J)}var Q=T((J,K="buffer")=>{if(!j(J))throw new Z(K,["Buffer","TypedArray","DataView"],J)});function e(J,K){let Y=O(K),p1=J.length;if(Y==="hex"&&p1%2!==0)throw new W("encoding",K,`is invalid for data of length ${p1}`)}function B(J,K="Port",Y=!0){if(typeof J!="number"&&typeof J!="string"||typeof J=="string"&&z(J).length===0||+J!==+J>>>0||J>65535||J===0&&!Y)throw new $(K,J,Y);return J|0}var E=T((J,K)=>{if(J!==void 0&&(J===null||typeof J!="object"||!("aborted"in J)))throw new Z(K,"AbortSignal",J)}),A=T((J,K)=>{if(typeof J!="function")throw new Z(K,"Function",J)}),h1=T((J,K)=>{if(typeof J!="function"||U(J))throw new Z(K,"Function",J)}),n1=T((J,K)=>{if(J!==void 0)throw new Z(K,"undefined",J)});function c1(J,K,Y){if(!R(Y,J))throw new Z(K,`('${N(Y,"|")}')`,J)}w.exports={isInt32:H,isUint32:D,parseFileMode:f,validateArray:k,validateBoolean:m,validateBuffer:Q,validateEncoding:e,validateFunction:A,validateInt32:c,validateInteger:n,validateNumber:r,validateObject:X,validateOneOf:o,validatePlainFunction:h1,validatePort:B,validateSignalName:I,validateString:q,validateUint32:y,validateUndefined:n1,validateUnion:c1,validateAbortSignal:E}}),H0=b1((M,w)=>{var _=w.exports={},R,N;function b(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?R=setTimeout:R=b}catch{R=b}try{typeof clearTimeout=="function"?N=clearTimeout:N=u}catch{N=u}})();function h($){if(R===setTimeout)return setTimeout($,0);if((R===b||!R)&&setTimeout)return R=setTimeout,setTimeout($,0);try{return R($,0)}catch{try{return R.call(null,$,0)}catch{return R.call(this,$,0)}}}function V($){if(N===clearTimeout)return clearTimeout($);if((N===u||!N)&&clearTimeout)return N=clearTimeout,clearTimeout($);try{return N($)}catch{try{return N.call(null,$)}catch{return N.call(this,$)}}}var a=[],L=!1,v,S=-1;function x(){!L||!v||(L=!1,v.length?a=v.concat(a):S=-1,a.length&&d())}function d(){if(!L){var $=h(x);L=!0;for(var Z=a.length;Z;){for(v=a,a=[];++S<Z;)v&&v[S].run();S=-1,Z=a.length}v=null,L=!1,V($)}}_.nextTick=function($){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var W=1;W<arguments.length;W++)Z[W-1]=arguments[W];a.push(new z($,Z)),a.length===1&&!L&&h(d)};function z($,Z){this.fun=$,this.array=Z}z.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={};function T(){}_.on=T,_.addListener=T,_.once=T,_.off=T,_.removeListener=T,_.removeAllListeners=T,_.emit=T,_.prependListener=T,_.prependOnceListener=T,_.listeners=function($){return[]},_.binding=function($){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function($){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}}),X2={},V6(X2,{default:()=>f8}),I2=w0(()=>{O0(X2,p3(H0())),f8=p3(H0())}),Y2=b1((M,w)=>{var{Symbol:_,SymbolAsyncIterator:R,SymbolIterator:N}=x2(),b=_("kDestroyed"),u=_("kIsErrored"),h=_("kIsReadable"),V=_("kIsDisturbed");function a(n,c=!1){var y;return!!(n&&typeof n.pipe=="function"&&typeof n.on=="function"&&(!c||typeof n.pause=="function"&&typeof n.resume=="function")&&(!n._writableState||((y=n._readableState)===null||y===void 0?void 0:y.readable)!==!1)&&(!n._writableState||n._readableState))}function L(n){var c;return!!(n&&typeof n.write=="function"&&typeof n.on=="function"&&(!n._readableState||((c=n._writableState)===null||c===void 0?void 0:c.writable)!==!1))}function v(n){return!!(n&&typeof n.pipe=="function"&&n._readableState&&typeof n.on=="function"&&typeof n.write=="function")}function S(n){return n&&(n._readableState||n._writableState||typeof n.write=="function"&&typeof n.on=="function"||typeof n.pipe=="function"&&typeof n.on=="function")}function x(n,c){return n==null?!1:c===!0?typeof n[R]=="function":c===!1?typeof n[N]=="function":typeof n[R]=="function"||typeof n[N]=="function"}function d(n){if(!S(n))return null;let{_writableState:c,_readableState:y}=n,q=c||y;return!!(n.destroyed||n[b]||q!=null&&q.destroyed)}function z(n){if(!L(n))return null;if(n.writableEnded===!0)return!0;let c=n._writableState;return c!=null&&c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function T(n,c){if(!L(n))return null;if(n.writableFinished===!0)return!0;let y=n._writableState;return y!=null&&y.errored?!1:typeof y?.finished!="boolean"?null:!!(y.finished||c===!1&&y.ended===!0&&y.length===0)}function $(n){if(!a(n))return null;if(n.readableEnded===!0)return!0;let c=n._readableState;return!c||c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function Z(n,c){if(!a(n))return null;let y=n._readableState;return y!=null&&y.errored?!1:typeof y?.endEmitted!="boolean"?null:!!(y.endEmitted||c===!1&&y.ended===!0&&y.length===0)}function W(n){return n&&n[h]!=null?n[h]:typeof n?.readable!="boolean"?null:d(n)?!1:a(n)&&n.readable&&!Z(n)}function s(n){return typeof n?.writable!="boolean"?null:d(n)?!1:L(n)&&n.writable&&!z(n)}function g(n,c){return S(n)?d(n)?!0:!(c?.readable!==!1&&W(n)||c?.writable!==!1&&s(n)):null}function O(n){var c,y;return S(n)?n.writableErrored?n.writableErrored:(c=(y=n._writableState)===null||y===void 0?void 0:y.errored)!==null&&c!==void 0?c:null:null}function U(n){var c,y;return S(n)?n.readableErrored?n.readableErrored:(c=(y=n._readableState)===null||y===void 0?void 0:y.errored)!==null&&c!==void 0?c:null:null}function j(n){if(!S(n))return null;if(typeof n.closed=="boolean")return n.closed;let{_writableState:c,_readableState:y}=n;return typeof c?.closed=="boolean"||typeof y?.closed=="boolean"?c?.closed||y?.closed:typeof n._closed=="boolean"&&G(n)?n._closed:null}function G(n){return typeof n._closed=="boolean"&&typeof n._defaultKeepAlive=="boolean"&&typeof n._removedConnection=="boolean"&&typeof n._removedContLen=="boolean"}function H(n){return typeof n._sent100=="boolean"&&G(n)}function D(n){var c;return typeof n._consuming=="boolean"&&typeof n._dumped=="boolean"&&((c=n.req)===null||c===void 0?void 0:c.upgradeOrConnect)===void 0}function l(n){if(!S(n))return null;let{_writableState:c,_readableState:y}=n,q=c||y;return!q&&H(n)||!!(q&&q.autoDestroy&&q.emitClose&&q.closed===!1)}function p(n){var c;return!!(n&&((c=n[V])!==null&&c!==void 0?c:n.readableDidRead||n.readableAborted))}function f(n){var c,y,q,r,o,m,P,X,k,I;return!!(n&&((c=(y=(q=(r=(o=(m=n[u])!==null&&m!==void 0?m:n.readableErrored)!==null&&o!==void 0?o:n.writableErrored)!==null&&r!==void 0?r:(P=n._readableState)===null||P===void 0?void 0:P.errorEmitted)!==null&&q!==void 0?q:(X=n._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&y!==void 0?y:(k=n._readableState)===null||k===void 0?void 0:k.errored)!==null&&c!==void 0?c:(I=n._writableState)===null||I===void 0?void 0:I.errored))}w.exports={kDestroyed:b,isDisturbed:p,kIsDisturbed:V,isErrored:f,kIsErrored:u,isReadable:W,kIsReadable:h,isClosed:j,isDestroyed:d,isDuplexNodeStream:v,isFinished:g,isIterable:x,isReadableNodeStream:a,isReadableEnded:$,isReadableFinished:Z,isReadableErrored:U,isNodeStream:S,isWritable:s,isWritableNodeStream:L,isWritableEnded:z,isWritableFinished:T,isWritableErrored:O,isServerRequest:D,isServerResponse:H,willEmitClose:l}}),t2=b1((M,w)=>{var _=(I2(),w2(X2)),{AbortError:R,codes:N}=M2(),{ERR_INVALID_ARG_TYPE:b,ERR_STREAM_PREMATURE_CLOSE:u}=N,{kEmptyObject:h,once:V}=g2(),{validateAbortSignal:a,validateFunction:L,validateObject:v}=Y3(),{Promise:S}=x2(),{isClosed:x,isReadable:d,isReadableNodeStream:z,isReadableFinished:T,isReadableErrored:$,isWritable:Z,isWritableNodeStream:W,isWritableFinished:s,isWritableErrored:g,isNodeStream:O,willEmitClose:U}=Y2();function j(l){return l.setHeader&&typeof l.abort=="function"}var G=()=>{};function H(l,p,f){var n,c;arguments.length===2?(f=p,p=h):p==null?p=h:v(p,"options"),L(f,"callback"),a(p.signal,"options.signal"),f=V(f);let y=(n=p.readable)!==null&&n!==void 0?n:z(l),q=(c=p.writable)!==null&&c!==void 0?c:W(l);if(!O(l))throw new b("stream","Stream",l);let{_writableState:r,_readableState:o}=l,m=()=>{l.writable||k()},P=U(l)&&z(l)===y&&W(l)===q,X=s(l,!1),k=()=>{X=!0,l.destroyed&&(P=!1),!(P&&(!l.readable||y))&&(!y||I)&&f.call(l)},I=T(l,!1),Q=()=>{I=!0,l.destroyed&&(P=!1),!(P&&(!l.writable||q))&&(!q||X)&&f.call(l)},e=(n1)=>{f.call(l,n1)},B=x(l),E=()=>{B=!0;let n1=g(l)||$(l);if(n1&&typeof n1!="boolean")return f.call(l,n1);if(y&&!I&&z(l,!0)&&!T(l,!1))return f.call(l,new u);if(q&&!X&&!s(l,!1))return f.call(l,new u);f.call(l)},A=()=>{l.req.on("finish",k)};j(l)?(l.on("complete",k),P||l.on("abort",E),l.req?A():l.on("request",A)):q&&!r&&(l.on("end",m),l.on("close",m)),!P&&typeof l.aborted=="boolean"&&l.on("aborted",E),l.on("end",Q),l.on("finish",k),p.error!==!1&&l.on("error",e),l.on("close",E),B?_.nextTick(E):r!=null&&r.errorEmitted||o!=null&&o.errorEmitted?P||_.nextTick(E):(!y&&(!P||d(l))&&(X||Z(l)===!1)||!q&&(!P||Z(l))&&(I||d(l)===!1)||o&&l.req&&l.aborted)&&_.nextTick(E);let h1=()=>{f=G,l.removeListener("aborted",E),l.removeListener("complete",k),l.removeListener("abort",E),l.removeListener("request",A),l.req&&l.req.removeListener("finish",k),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",k),l.removeListener("end",Q),l.removeListener("error",e),l.removeListener("close",E)};if(p.signal&&!B){let n1=()=>{let c1=f;h1(),c1.call(l,new R(void 0,{cause:p.signal.reason}))};if(p.signal.aborted)_.nextTick(n1);else{let c1=f;f=V((...J)=>{p.signal.removeEventListener("abort",n1),c1.apply(l,J)}),p.signal.addEventListener("abort",n1)}}return h1}function D(l,p){return new S((f,n)=>{H(l,p,(c)=>{c?n(c):f()})})}w.exports=H,w.exports.finished=D}),d8=b1((M,w)=>{var _=globalThis.AbortController||O6().AbortController,{codes:{ERR_INVALID_ARG_TYPE:R,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:b},AbortError:u}=M2(),{validateAbortSignal:h,validateInteger:V,validateObject:a}=Y3(),L=x2().Symbol("kWeak"),{finished:v}=t2(),{ArrayPrototypePush:S,MathFloor:x,Number:d,NumberIsNaN:z,Promise:T,PromiseReject:$,PromisePrototypeThen:Z,Symbol:W}=x2(),s=W("kEmpty"),g=W("kEof");function O(o,m){if(typeof o!="function")throw new R("fn",["Function","AsyncFunction"],o);m!=null&&a(m,"options"),m?.signal!=null&&h(m.signal,"options.signal");let P=1;return m?.concurrency!=null&&(P=x(m.concurrency)),V(P,"concurrency",1),async function*(){var X,k;let I=new _,Q=this,e=[],B=I.signal,E={signal:B},A=()=>I.abort();m!=null&&(X=m.signal)!==null&&X!==void 0&&X.aborted&&A(),m==null||(k=m.signal)===null||k===void 0||k.addEventListener("abort",A);let h1,n1,c1=!1;function J(){c1=!0}async function K(){try{for await(let u1 of Q){var Y;if(c1)return;if(B.aborted)throw new u;try{u1=o(u1,E)}catch(o1){u1=$(o1)}u1!==s&&(typeof((Y=u1)===null||Y===void 0?void 0:Y.catch)=="function"&&u1.catch(J),e.push(u1),h1&&(h1(),h1=null),!c1&&e.length&&e.length>=P&&await new T((o1)=>{n1=o1}))}e.push(g)}catch(u1){let o1=$(u1);Z(o1,void 0,J),e.push(o1)}finally{var p1;c1=!0,h1&&(h1(),h1=null),m==null||(p1=m.signal)===null||p1===void 0||p1.removeEventListener("abort",A)}}K();try{for(;;){for(;e.length>0;){let Y=await e[0];if(Y===g)return;if(B.aborted)throw new u;Y!==s&&(yield Y),e.shift(),n1&&(n1(),n1=null)}await new T((Y)=>{h1=Y})}}finally{I.abort(),c1=!0,n1&&(n1(),n1=null)}}.call(this)}function U(o=void 0){return o!=null&&a(o,"options"),o?.signal!=null&&h(o.signal,"options.signal"),async function*(){let m=0;for await(let X of this){var P;if(o!=null&&(P=o.signal)!==null&&P!==void 0&&P.aborted)throw new u({cause:o.signal.reason});yield[m++,X]}}.call(this)}async function j(o,m=void 0){for await(let P of l.call(this,o,m))return!0;return!1}async function G(o,m=void 0){if(typeof o!="function")throw new R("fn",["Function","AsyncFunction"],o);return!await j.call(this,async(...P)=>!await o(...P),m)}async function H(o,m){for await(let P of l.call(this,o,m))return P}async function D(o,m){if(typeof o!="function")throw new R("fn",["Function","AsyncFunction"],o);async function P(X,k){return await o(X,k),s}for await(let X of O.call(this,P,m));}function l(o,m){if(typeof o!="function")throw new R("fn",["Function","AsyncFunction"],o);async function P(X,k){return await o(X,k)?X:s}return O.call(this,P,m)}var p=class extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function f(o,m,P){var X;if(typeof o!="function")throw new R("reducer",["Function","AsyncFunction"],o);P!=null&&a(P,"options"),P?.signal!=null&&h(P.signal,"options.signal");let k=arguments.length>1;if(P!=null&&(X=P.signal)!==null&&X!==void 0&&X.aborted){let E=new u(void 0,{cause:P.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(E)),E}let I=new _,Q=I.signal;if(P!=null&&P.signal){let E={once:!0,[L]:this};P.signal.addEventListener("abort",()=>I.abort(),E)}let e=!1;try{for await(let E of this){var B;if(e=!0,P!=null&&(B=P.signal)!==null&&B!==void 0&&B.aborted)throw new u;k?m=await o(m,E,{signal:Q}):(m=E,k=!0)}if(!e&&!k)throw new p}finally{I.abort()}return m}async function n(o){o!=null&&a(o,"options"),o?.signal!=null&&h(o.signal,"options.signal");let m=[];for await(let X of this){var P;if(o!=null&&(P=o.signal)!==null&&P!==void 0&&P.aborted)throw new u(void 0,{cause:o.signal.reason});S(m,X)}return m}function c(o,m){let P=O.call(this,o,m);return async function*(){for await(let X of P)yield*X}.call(this)}function y(o){if(o=d(o),z(o))return 0;if(o<0)throw new b("number",">= 0",o);return o}function q(o,m=void 0){return m!=null&&a(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),o=y(o),async function*(){var P;if(m!=null&&(P=m.signal)!==null&&P!==void 0&&P.aborted)throw new u;for await(let k of this){var X;if(m!=null&&(X=m.signal)!==null&&X!==void 0&&X.aborted)throw new u;o--<=0&&(yield k)}}.call(this)}function r(o,m=void 0){return m!=null&&a(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),o=y(o),async function*(){var P;if(m!=null&&(P=m.signal)!==null&&P!==void 0&&P.aborted)throw new u;for await(let k of this){var X;if(m!=null&&(X=m.signal)!==null&&X!==void 0&&X.aborted)throw new u;if(o-- >0)yield k;else return}}.call(this)}w.exports.streamReturningOperators={asIndexedPairs:U,drop:q,filter:l,flatMap:c,map:O,take:r},w.exports.promiseReturningOperators={every:G,forEach:D,reduce:f,toArray:n,some:j,find:H}}),r3=b1((M,w)=>{var _=(I2(),w2(X2)),{aggregateTwoErrors:R,codes:{ERR_MULTIPLE_CALLBACK:N},AbortError:b}=M2(),{Symbol:u}=x2(),{kDestroyed:h,isDestroyed:V,isFinished:a,isServerRequest:L}=Y2(),v=u("kDestroy"),S=u("kConstruct");function x(l,p,f){l&&(l.stack,p&&!p.errored&&(p.errored=l),f&&!f.errored&&(f.errored=l))}function d(l,p){let f=this._readableState,n=this._writableState,c=n||f;return n&&n.destroyed||f&&f.destroyed?(typeof p=="function"&&p(),this):(x(l,n,f),n&&(n.destroyed=!0),f&&(f.destroyed=!0),c.constructed?z(this,l,p):this.once(v,function(y){z(this,R(y,l),p)}),this)}function z(l,p,f){let n=!1;function c(y){if(n)return;n=!0;let{_readableState:q,_writableState:r}=l;x(y,r,q),r&&(r.closed=!0),q&&(q.closed=!0),typeof f=="function"&&f(y),y?_.nextTick(T,l,y):_.nextTick($,l)}try{l._destroy(p||null,c)}catch(y){c(y)}}function T(l,p){Z(l,p),$(l)}function $(l){let{_readableState:p,_writableState:f}=l;f&&(f.closeEmitted=!0),p&&(p.closeEmitted=!0),(f&&f.emitClose||p&&p.emitClose)&&l.emit("close")}function Z(l,p){let{_readableState:f,_writableState:n}=l;n&&n.errorEmitted||f&&f.errorEmitted||(n&&(n.errorEmitted=!0),f&&(f.errorEmitted=!0),l.emit("error",p))}function W(){let l=this._readableState,p=this._writableState;l&&(l.constructed=!0,l.closed=!1,l.closeEmitted=!1,l.destroyed=!1,l.errored=null,l.errorEmitted=!1,l.reading=!1,l.ended=l.readable===!1,l.endEmitted=l.readable===!1),p&&(p.constructed=!0,p.destroyed=!1,p.closed=!1,p.closeEmitted=!1,p.errored=null,p.errorEmitted=!1,p.finalCalled=!1,p.prefinished=!1,p.ended=p.writable===!1,p.ending=p.writable===!1,p.finished=p.writable===!1)}function s(l,p,f){let{_readableState:n,_writableState:c}=l;if(c&&c.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||c&&c.autoDestroy?l.destroy(p):p&&(p.stack,c&&!c.errored&&(c.errored=p),n&&!n.errored&&(n.errored=p),f?_.nextTick(Z,l,p):Z(l,p))}function g(l,p){if(typeof l._construct!="function")return;let{_readableState:f,_writableState:n}=l;f&&(f.constructed=!1),n&&(n.constructed=!1),l.once(S,p),!(l.listenerCount(S)>1)&&_.nextTick(O,l)}function O(l){let p=!1;function f(n){if(p){s(l,n??new N);return}p=!0;let{_readableState:c,_writableState:y}=l,q=y||c;c&&(c.constructed=!0),y&&(y.constructed=!0),q.destroyed?l.emit(v,n):n?s(l,n,!0):_.nextTick(U,l)}try{l._construct(f)}catch(n){f(n)}}function U(l){l.emit(S)}function j(l){return l&&l.setHeader&&typeof l.abort=="function"}function G(l){l.emit("close")}function H(l,p){l.emit("error",p),_.nextTick(G,l)}function D(l,p){!l||V(l)||(!p&&!a(l)&&(p=new b),L(l)?(l.socket=null,l.destroy(p)):j(l)?l.abort():j(l.req)?l.req.abort():typeof l.destroy=="function"?l.destroy(p):typeof l.close=="function"?l.close():p?_.nextTick(H,l,p):_.nextTick(G,l),l.destroyed||(l[h]=!0))}w.exports={construct:g,destroyer:D,destroy:d,undestroy:W,errorOrDestroy:s}}),R6=b1((M,w)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:R}=x2(),{EventEmitter:N}=D2();function b(h){N.call(this,h)}R(b.prototype,N.prototype),R(b,N),b.prototype.pipe=function(h,V){let a=this;function L($){h.writable&&h.write($)===!1&&a.pause&&a.pause()}a.on("data",L);function v(){a.readable&&a.resume&&a.resume()}h.on("drain",v),!h._isStdio&&(!V||V.end!==!1)&&(a.on("end",x),a.on("close",d));let S=!1;function x(){S||(S=!0,h.end())}function d(){S||(S=!0,typeof h.destroy=="function"&&h.destroy())}function z($){T(),N.listenerCount(this,"error")===0&&this.emit("error",$)}u(a,"error",z),u(h,"error",z);function T(){a.removeListener("data",L),h.removeListener("drain",v),a.removeListener("end",x),a.removeListener("close",d),a.removeListener("error",z),h.removeListener("error",z),a.removeListener("end",T),a.removeListener("close",T),h.removeListener("close",T)}return a.on("end",T),a.on("close",T),h.on("close",T),h.emit("pipe",a),h};function u(h,V,a){if(typeof h.prependListener=="function")return h.prependListener(V,a);!h._events||!h._events[V]?h.on(V,a):_(h._events[V])?h._events[V].unshift(a):h._events[V]=[a,h._events[V]]}w.exports={Stream:b,prependListener:u}}),s6=b1((M,w)=>{var{AbortError:_,codes:R}=M2(),N=t2(),{ERR_INVALID_ARG_TYPE:b}=R,u=(V,a)=>{if(typeof V!="object"||!("aborted"in V))throw new b(a,"AbortSignal",V)};function h(V){return!!(V&&typeof V.pipe=="function")}w.exports.addAbortSignal=function(V,a){if(u(V,"signal"),!h(a))throw new b("stream","stream.Stream",a);return w.exports.addAbortSignalNoValidate(V,a)},w.exports.addAbortSignalNoValidate=function(V,a){if(typeof V!="object"||!("aborted"in V))return a;let L=()=>{a.destroy(new _(void 0,{cause:V.reason}))};return V.aborted?L():(V.addEventListener("abort",L),N(a,()=>V.removeEventListener("abort",L))),a}}),r8=b1((M,w)=>{var{StringPrototypeSlice:_,SymbolIterator:R,TypedArrayPrototypeSet:N,Uint8Array:b}=x2(),{Buffer:u}=N2(),{inspect:h}=g2();w.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(V){let a={data:V,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(V){let a={data:V,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let V=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,V}clear(){this.head=this.tail=null,this.length=0}join(V){if(this.length===0)return"";let a=this.head,L=""+a.data;for(;(a=a.next)!==null;)L+=V+a.data;return L}concat(V){if(this.length===0)return u.alloc(0);let a=u.allocUnsafe(V>>>0),L=this.head,v=0;for(;L;)N(a,L.data,v),v+=L.data.length,L=L.next;return a}consume(V,a){let L=this.head.data;if(V<L.length){let v=L.slice(0,V);return this.head.data=L.slice(V),v}return V===L.length?this.shift():a?this._getString(V):this._getBuffer(V)}first(){return this.head.data}*[R](){for(let V=this.head;V;V=V.next)yield V.data}_getString(V){let a="",L=this.head,v=0;do{let S=L.data;if(V>S.length)a+=S,V-=S.length;else{V===S.length?(a+=S,++v,L.next?this.head=L.next:this.head=this.tail=null):(a+=_(S,0,V),this.head=L,L.data=_(S,V));break}++v}while((L=L.next)!==null);return this.length-=v,a}_getBuffer(V){let a=u.allocUnsafe(V),L=V,v=this.head,S=0;do{let x=v.data;if(V>x.length)N(a,x,L-V),V-=x.length;else{V===x.length?(N(a,x,L-V),++S,v.next?this.head=v.next:this.head=this.tail=null):(N(a,new b(x.buffer,x.byteOffset,V),L-V),this.head=v,v.data=x.slice(V));break}++S}while((v=v.next)!==null);return this.length-=S,a}[Symbol.for("nodejs.util.inspect.custom")](V,a){return h(this,{...a,depth:0,customInspect:!1})}}}),g6=b1((M,w)=>{var{MathFloor:_,NumberIsInteger:R}=x2(),{ERR_INVALID_ARG_VALUE:N}=M2().codes;function b(V,a,L){return V.highWaterMark!=null?V.highWaterMark:a?V[L]:null}function u(V){return V?16:16384}function h(V,a,L,v){let S=b(a,v,L);if(S!=null){if(!R(S)||S<0){let x=v?`options.${L}`:"options.highWaterMark";throw new N(x,S)}return _(S)}return u(V.objectMode)}w.exports={getHighWaterMark:h,getDefaultHighWaterMark:u}}),G0=b1((M,w)=>{var _=(I2(),w2(X2)),{PromisePrototypeThen:R,SymbolAsyncIterator:N,SymbolIterator:b}=x2(),{Buffer:u}=N2(),{ERR_INVALID_ARG_TYPE:h,ERR_STREAM_NULL_VALUES:V}=M2().codes;function a(L,v,S){let x;if(typeof v=="string"||v instanceof u)return new L({objectMode:!0,...S,read(){this.push(v),this.push(null)}});let d;if(v&&v[N])d=!0,x=v[N]();else if(v&&v[b])d=!1,x=v[b]();else throw new h("iterable",["Iterable"],v);let z=new L({objectMode:!0,highWaterMark:1,...S}),T=!1;z._read=function(){T||(T=!0,Z())},z._destroy=function(W,s){R($(W),()=>_.nextTick(s,W),(g)=>_.nextTick(s,g||W))};async function $(W){let s=W!=null,g=typeof x.throw=="function";if(s&&g){let{value:O,done:U}=await x.throw(W);if(await O,U)return}if(typeof x.return=="function"){let{value:O}=await x.return();await O}}async function Z(){for(;;){try{let{value:W,done:s}=d?await x.next():x.next();if(s)z.push(null);else{let g=W&&typeof W.then=="function"?await W:W;if(g===null)throw T=!1,new V;if(z.push(g))continue;T=!1}}catch(W){z.destroy(W)}break}}return z}w.exports=a}),t3=b1((M,w)=>{var _=(I2(),w2(X2)),{ArrayPrototypeIndexOf:R,NumberIsInteger:N,NumberIsNaN:b,NumberParseInt:u,ObjectDefineProperties:h,ObjectKeys:V,ObjectSetPrototypeOf:a,Promise:L,SafeSet:v,SymbolAsyncIterator:S,Symbol:x}=x2();w.exports=P,P.ReadableState=m;var{EventEmitter:d}=D2(),{Stream:z,prependListener:T}=R6(),{Buffer:$}=N2(),{addAbortSignal:Z}=s6(),W=t2(),s=g2().debuglog("stream",(F)=>{s=F}),g=r8(),O=r3(),{getHighWaterMark:U,getDefaultHighWaterMark:j}=g6(),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:D,ERR_OUT_OF_RANGE:l,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f}}=M2(),{validateObject:n}=Y3(),c=x("kPaused"),{StringDecoder:y}=S6(),q=G0();a(P.prototype,z.prototype),a(P,z);var r=()=>{},{errorOrDestroy:o}=O;function m(F,i,t){typeof t!="boolean"&&(t=i instanceof F2()),this.objectMode=!!(F&&F.objectMode),t&&(this.objectMode=this.objectMode||!!(F&&F.readableObjectMode)),this.highWaterMark=F?U(this,F,"readableHighWaterMark",t):j(!1),this.buffer=new g,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[c]=null,this.errorEmitted=!1,this.emitClose=!F||F.emitClose!==!1,this.autoDestroy=!F||F.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=F&&F.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,F&&F.encoding&&(this.decoder=new y(F.encoding),this.encoding=F.encoding)}function P(F){if(!(this instanceof P))return new P(F);let i=this instanceof F2();this._readableState=new m(F,this,i),F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.construct=="function"&&(this._construct=F.construct),F.signal&&!i&&Z(F.signal,this)),z.call(this,F),O.construct(this,()=>{this._readableState.needReadable&&h1(this,this._readableState)})}P.prototype.destroy=O.destroy,P.prototype._undestroy=O.undestroy,P.prototype._destroy=function(F,i){i(F)},P.prototype[d.captureRejectionSymbol]=function(F){this.destroy(F)},P.prototype.push=function(F,i){return X(this,F,i,!1)},P.prototype.unshift=function(F,i){return X(this,F,i,!0)};function X(F,i,t,C){s("readableAddChunk",i);let l1=F._readableState,x1;if(l1.objectMode||(typeof i=="string"?(t=t||l1.defaultEncoding,l1.encoding!==t&&(C&&l1.encoding?i=$.from(i,t).toString(l1.encoding):(i=$.from(i,t),t=""))):i instanceof $?t="":z._isUint8Array(i)?(i=z._uint8ArrayToBuffer(i),t=""):i!=null&&(x1=new H("chunk",["string","Buffer","Uint8Array"],i))),x1)o(F,x1);else if(i===null)l1.reading=!1,B(F,l1);else if(l1.objectMode||i&&i.length>0)if(C)if(l1.endEmitted)o(F,new f);else{if(l1.destroyed||l1.errored)return!1;k(F,l1,i,!0)}else if(l1.ended)o(F,new p);else{if(l1.destroyed||l1.errored)return!1;l1.reading=!1,l1.decoder&&!t?(i=l1.decoder.write(i),l1.objectMode||i.length!==0?k(F,l1,i,!1):h1(F,l1)):k(F,l1,i,!1)}else C||(l1.reading=!1,h1(F,l1));return!l1.ended&&(l1.length<l1.highWaterMark||l1.length===0)}function k(F,i,t,C){i.flowing&&i.length===0&&!i.sync&&F.listenerCount("data")>0?(i.multiAwaitDrain?i.awaitDrainWriters.clear():i.awaitDrainWriters=null,i.dataEmitted=!0,F.emit("data",t)):(i.length+=i.objectMode?1:t.length,C?i.buffer.unshift(t):i.buffer.push(t),i.needReadable&&E(F)),h1(F,i)}P.prototype.isPaused=function(){let F=this._readableState;return F[c]===!0||F.flowing===!1},P.prototype.setEncoding=function(F){let i=new y(F);this._readableState.decoder=i,this._readableState.encoding=this._readableState.decoder.encoding;let t=this._readableState.buffer,C="";for(let l1 of t)C+=i.write(l1);return t.clear(),C!==""&&t.push(C),this._readableState.length=C.length,this};var I=1073741824;function Q(F){if(F>I)throw new l("size","<= 1GiB",F);return F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++,F}function e(F,i){return F<=0||i.length===0&&i.ended?0:i.objectMode?1:b(F)?i.flowing&&i.length?i.buffer.first().length:i.length:F<=i.length?F:i.ended?i.length:0}P.prototype.read=function(F){s("read",F),F===void 0?F=NaN:N(F)||(F=u(F,10));let i=this._readableState,t=F;if(F>i.highWaterMark&&(i.highWaterMark=Q(F)),F!==0&&(i.emittedReadable=!1),F===0&&i.needReadable&&((i.highWaterMark!==0?i.length>=i.highWaterMark:i.length>0)||i.ended))return s("read: emitReadable",i.length,i.ended),i.length===0&&i.ended?r1(this):E(this),null;if(F=e(F,i),F===0&&i.ended)return i.length===0&&r1(this),null;let C=i.needReadable;if(s("need readable",C),(i.length===0||i.length-F<i.highWaterMark)&&(C=!0,s("length less than watermark",C)),i.ended||i.reading||i.destroyed||i.errored||!i.constructed)C=!1,s("reading, ended or constructing",C);else if(C){s("do read"),i.reading=!0,i.sync=!0,i.length===0&&(i.needReadable=!0);try{this._read(i.highWaterMark)}catch(x1){o(this,x1)}i.sync=!1,i.reading||(F=e(t,i))}let l1;return F>0?l1=d1(F,i):l1=null,l1===null?(i.needReadable=i.length<=i.highWaterMark,F=0):(i.length-=F,i.multiAwaitDrain?i.awaitDrainWriters.clear():i.awaitDrainWriters=null),i.length===0&&(i.ended||(i.needReadable=!0),t!==F&&i.ended&&r1(this)),l1!==null&&!i.errorEmitted&&!i.closeEmitted&&(i.dataEmitted=!0,this.emit("data",l1)),l1};function B(F,i){if(s("onEofChunk"),!i.ended){if(i.decoder){let t=i.decoder.end();t&&t.length&&(i.buffer.push(t),i.length+=i.objectMode?1:t.length)}i.ended=!0,i.sync?E(F):(i.needReadable=!1,i.emittedReadable=!0,A(F))}}function E(F){let i=F._readableState;s("emitReadable",i.needReadable,i.emittedReadable),i.needReadable=!1,i.emittedReadable||(s("emitReadable",i.flowing),i.emittedReadable=!0,_.nextTick(A,F))}function A(F){let i=F._readableState;s("emitReadable_",i.destroyed,i.length,i.ended),!i.destroyed&&!i.errored&&(i.length||i.ended)&&(F.emit("readable"),i.emittedReadable=!1),i.needReadable=!i.flowing&&!i.ended&&i.length<=i.highWaterMark,u1(F)}function h1(F,i){!i.readingMore&&i.constructed&&(i.readingMore=!0,_.nextTick(n1,F,i))}function n1(F,i){for(;!i.reading&&!i.ended&&(i.length<i.highWaterMark||i.flowing&&i.length===0);){let t=i.length;if(s("maybeReadMore read 0"),F.read(0),t===i.length)break}i.readingMore=!1}P.prototype._read=function(F){throw new D("_read()")},P.prototype.pipe=function(F,i){let t=this,C=this._readableState;C.pipes.length===1&&(C.multiAwaitDrain||(C.multiAwaitDrain=!0,C.awaitDrainWriters=new v(C.awaitDrainWriters?[C.awaitDrainWriters]:[]))),C.pipes.push(F),s("pipe count=%d opts=%j",C.pipes.length,i);let l1=(!i||i.end!==!1)&&F!==_.stdout&&F!==_.stderr?f1:q1;C.endEmitted?_.nextTick(l1):t.once("end",l1),F.on("unpipe",x1);function x1(L1,E1){s("onunpipe"),L1===t&&E1&&E1.hasUnpiped===!1&&(E1.hasUnpiped=!0,_1())}function f1(){s("onend"),F.end()}let y1,j1=!1;function _1(){s("cleanup"),F.removeListener("close",T1),F.removeListener("finish",r2),y1&&F.removeListener("drain",y1),F.removeListener("error",N1),F.removeListener("unpipe",x1),t.removeListener("end",f1),t.removeListener("end",q1),t.removeListener("data",P1),j1=!0,y1&&C.awaitDrainWriters&&(!F._writableState||F._writableState.needDrain)&&y1()}function v1(){j1||(C.pipes.length===1&&C.pipes[0]===F?(s("false write response, pause",0),C.awaitDrainWriters=F,C.multiAwaitDrain=!1):C.pipes.length>1&&C.pipes.includes(F)&&(s("false write response, pause",C.awaitDrainWriters.size),C.awaitDrainWriters.add(F)),t.pause()),y1||(y1=c1(t,F),F.on("drain",y1))}t.on("data",P1);function P1(L1){s("ondata");let E1=F.write(L1);s("dest.write",E1),E1===!1&&v1()}function N1(L1){if(s("onerror",L1),q1(),F.removeListener("error",N1),F.listenerCount("error")===0){let E1=F._writableState||F._readableState;E1&&!E1.errorEmitted?o(F,L1):F.emit("error",L1)}}T(F,"error",N1);function T1(){F.removeListener("finish",r2),q1()}F.once("close",T1);function r2(){s("onfinish"),F.removeListener("close",T1),q1()}F.once("finish",r2);function q1(){s("unpipe"),t.unpipe(F)}return F.emit("pipe",t),F.writableNeedDrain===!0?C.flowing&&v1():C.flowing||(s("pipe resume"),t.resume()),F};function c1(F,i){return function(){let t=F._readableState;t.awaitDrainWriters===i?(s("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(s("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(i)),(!t.awaitDrainWriters||t.awaitDrainWriters.size===0)&&F.listenerCount("data")&&F.resume()}}P.prototype.unpipe=function(F){let i=this._readableState,t={hasUnpiped:!1};if(i.pipes.length===0)return this;if(!F){let l1=i.pipes;i.pipes=[],this.pause();for(let x1=0;x1<l1.length;x1++)l1[x1].emit("unpipe",this,{hasUnpiped:!1});return this}let C=R(i.pipes,F);return C===-1?this:(i.pipes.splice(C,1),i.pipes.length===0&&this.pause(),F.emit("unpipe",this,t),this)},P.prototype.on=function(F,i){let t=z.prototype.on.call(this,F,i),C=this._readableState;return F==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):F==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,s("on readable",C.length,C.reading),C.length?E(this):C.reading||_.nextTick(K,this)),t},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(F,i){let t=z.prototype.removeListener.call(this,F,i);return F==="readable"&&_.nextTick(J,this),t},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(F){let i=z.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&_.nextTick(J,this),i};function J(F){let i=F._readableState;i.readableListening=F.listenerCount("readable")>0,i.resumeScheduled&&i[c]===!1?i.flowing=!0:F.listenerCount("data")>0?F.resume():i.readableListening||(i.flowing=null)}function K(F){s("readable nexttick read 0"),F.read(0)}P.prototype.resume=function(){let F=this._readableState;return F.flowing||(s("resume"),F.flowing=!F.readableListening,Y(this,F)),F[c]=!1,this};function Y(F,i){i.resumeScheduled||(i.resumeScheduled=!0,_.nextTick(p1,F,i))}function p1(F,i){s("resume",i.reading),i.reading||F.read(0),i.resumeScheduled=!1,F.emit("resume"),u1(F),i.flowing&&!i.reading&&F.read(0)}P.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[c]=!0,this};function u1(F){let i=F._readableState;for(s("flow",i.flowing);i.flowing&&F.read()!==null;);}P.prototype.wrap=function(F){let i=!1;F.on("data",(C)=>{!this.push(C)&&F.pause&&(i=!0,F.pause())}),F.on("end",()=>{this.push(null)}),F.on("error",(C)=>{o(this,C)}),F.on("close",()=>{this.destroy()}),F.on("destroy",()=>{this.destroy()}),this._read=()=>{i&&F.resume&&(i=!1,F.resume())};let t=V(F);for(let C=1;C<t.length;C++){let l1=t[C];this[l1]===void 0&&typeof F[l1]=="function"&&(this[l1]=F[l1].bind(F))}return this},P.prototype[S]=function(){return o1(this)},P.prototype.iterator=function(F){return F!==void 0&&n(F,"options"),o1(this,F)};function o1(F,i){typeof F.read!="function"&&(F=P.wrap(F,{objectMode:!0}));let t=M1(F,i);return t.stream=F,t}async function*M1(F,i){let t=r;function C(f1){this===F?(t(),t=r):t=f1}F.on("readable",C);let l1,x1=W(F,{writable:!1},(f1)=>{l1=f1?G(l1,f1):null,t(),t=r});try{for(;;){let f1=F.destroyed?null:F.read();if(f1!==null)yield f1;else{if(l1)throw l1;if(l1===null)return;await new L(C)}}}catch(f1){throw l1=G(l1,f1),l1}finally{(l1||i?.destroyOnReturn!==!1)&&(l1===void 0||F._readableState.autoDestroy)?O.destroyer(F,null):(F.off("readable",C),x1())}}h(P.prototype,{readable:{__proto__:null,get(){let F=this._readableState;return!!F&&F.readable!==!1&&!F.destroyed&&!F.errorEmitted&&!F.endEmitted},set(F){this._readableState&&(this._readableState.readable=!!F)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(F){!this._readableState||(this._readableState.destroyed=F)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),h(m.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[c]!==!1},set(F){this[c]=!!F}}}),P._fromList=d1;function d1(F,i){if(i.length===0)return null;let t;return i.objectMode?t=i.buffer.shift():!F||F>=i.length?(i.decoder?t=i.buffer.join(""):i.buffer.length===1?t=i.buffer.first():t=i.buffer.concat(i.length),i.buffer.clear()):t=i.buffer.consume(F,i.decoder),t}function r1(F){let i=F._readableState;s("endReadable",i.endEmitted),i.endEmitted||(i.ended=!0,_.nextTick(F1,i,F))}function F1(F,i){if(s("endReadableNT",F.endEmitted,F.length),!F.errored&&!F.closeEmitted&&!F.endEmitted&&F.length===0){if(F.endEmitted=!0,i.emit("end"),i.writable&&i.allowHalfOpen===!1)_.nextTick(m1,i);else if(F.autoDestroy){let t=i._writableState;(!t||t.autoDestroy&&(t.finished||t.writable===!1))&&i.destroy()}}}function m1(F){F.writable&&!F.writableEnded&&!F.destroyed&&F.end()}P.from=function(F,i){return q(P,F,i)};var a1;function k1(){return a1===void 0&&(a1={}),a1}P.fromWeb=function(F,i){return k1().newStreamReadableFromReadableStream(F,i)},P.toWeb=function(F,i){return k1().newReadableStreamFromStreamReadable(F,i)},P.wrap=function(F,i){var t,C;return new P({objectMode:(t=(C=F.readableObjectMode)!==null&&C!==void 0?C:F.objectMode)!==null&&t!==void 0?t:!0,...i,destroy(l1,x1){O.destroyer(F,l1),x1(l1)}}).wrap(F)}}),J0=b1((M,w)=>{var _=(I2(),w2(X2)),{ArrayPrototypeSlice:R,Error:N,FunctionPrototypeSymbolHasInstance:b,ObjectDefineProperty:u,ObjectDefineProperties:h,ObjectSetPrototypeOf:V,StringPrototypeToLowerCase:a,Symbol:L,SymbolHasInstance:v}=x2();w.exports=y,y.WritableState=n;var{EventEmitter:S}=D2(),x=R6().Stream,{Buffer:d}=N2(),z=r3(),{addAbortSignal:T}=s6(),{getHighWaterMark:$,getDefaultHighWaterMark:Z}=g6(),{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:s,ERR_MULTIPLE_CALLBACK:g,ERR_STREAM_CANNOT_PIPE:O,ERR_STREAM_DESTROYED:U,ERR_STREAM_ALREADY_FINISHED:j,ERR_STREAM_NULL_VALUES:G,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:D}=M2().codes,{errorOrDestroy:l}=z;V(y.prototype,x.prototype),V(y,x);function p(){}var f=L("kOnFinished");function n(K,Y,p1){typeof p1!="boolean"&&(p1=Y instanceof F2()),this.objectMode=!!(K&&K.objectMode),p1&&(this.objectMode=this.objectMode||!!(K&&K.writableObjectMode)),this.highWaterMark=K?$(this,K,"writableHighWaterMark",p1):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let u1=!!(K&&K.decodeStrings===!1);this.decodeStrings=!u1,this.defaultEncoding=K&&K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,Y),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,c(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!K||K.emitClose!==!1,this.autoDestroy=!K||K.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function c(K){K.buffered=[],K.bufferedIndex=0,K.allBuffers=!0,K.allNoop=!0}n.prototype.getBuffer=function(){return R(this.buffered,this.bufferedIndex)},u(n.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function y(K){let Y=this instanceof F2();if(!Y&&!b(y,this))return new y(K);this._writableState=new n(K,this,Y),K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final),typeof K.construct=="function"&&(this._construct=K.construct),K.signal&&T(K.signal,this)),x.call(this,K),z.construct(this,()=>{let p1=this._writableState;p1.writing||Q(this,p1),A(this,p1)})}u(y,v,{__proto__:null,value:function(K){return b(this,K)?!0:this!==y?!1:K&&K._writableState instanceof n}}),y.prototype.pipe=function(){l(this,new O)};function q(K,Y,p1,u1){let o1=K._writableState;if(typeof p1=="function")u1=p1,p1=o1.defaultEncoding;else{if(!p1)p1=o1.defaultEncoding;else if(p1!=="buffer"&&!d.isEncoding(p1))throw new D(p1);typeof u1!="function"&&(u1=p)}if(Y===null)throw new G;if(!o1.objectMode)if(typeof Y=="string")o1.decodeStrings!==!1&&(Y=d.from(Y,p1),p1="buffer");else if(Y instanceof d)p1="buffer";else if(x._isUint8Array(Y))Y=x._uint8ArrayToBuffer(Y),p1="buffer";else throw new W("chunk",["string","Buffer","Uint8Array"],Y);let M1;return o1.ending?M1=new H:o1.destroyed&&(M1=new U("write")),M1?(_.nextTick(u1,M1),l(K,M1,!0),M1):(o1.pendingcb++,r(K,o1,Y,p1,u1))}y.prototype.write=function(K,Y,p1){return q(this,K,Y,p1)===!0},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){let K=this._writableState;K.corked&&(K.corked--,K.writing||Q(this,K))},y.prototype.setDefaultEncoding=function(K){if(typeof K=="string"&&(K=a(K)),!d.isEncoding(K))throw new D(K);return this._writableState.defaultEncoding=K,this};function r(K,Y,p1,u1,o1){let M1=Y.objectMode?1:p1.length;Y.length+=M1;let d1=Y.length<Y.highWaterMark;return d1||(Y.needDrain=!0),Y.writing||Y.corked||Y.errored||!Y.constructed?(Y.buffered.push({chunk:p1,encoding:u1,callback:o1}),Y.allBuffers&&u1!=="buffer"&&(Y.allBuffers=!1),Y.allNoop&&o1!==p&&(Y.allNoop=!1)):(Y.writelen=M1,Y.writecb=o1,Y.writing=!0,Y.sync=!0,K._write(p1,u1,Y.onwrite),Y.sync=!1),d1&&!Y.errored&&!Y.destroyed}function o(K,Y,p1,u1,o1,M1,d1){Y.writelen=u1,Y.writecb=d1,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new U("write")):p1?K._writev(o1,Y.onwrite):K._write(o1,M1,Y.onwrite),Y.sync=!1}function m(K,Y,p1,u1){--Y.pendingcb,u1(p1),I(Y),l(K,p1)}function P(K,Y){let p1=K._writableState,u1=p1.sync,o1=p1.writecb;if(typeof o1!="function"){l(K,new g);return}p1.writing=!1,p1.writecb=null,p1.length-=p1.writelen,p1.writelen=0,Y?(Y.stack,p1.errored||(p1.errored=Y),K._readableState&&!K._readableState.errored&&(K._readableState.errored=Y),u1?_.nextTick(m,K,p1,Y,o1):m(K,p1,Y,o1)):(p1.buffered.length>p1.bufferedIndex&&Q(K,p1),u1?p1.afterWriteTickInfo!==null&&p1.afterWriteTickInfo.cb===o1?p1.afterWriteTickInfo.count++:(p1.afterWriteTickInfo={count:1,cb:o1,stream:K,state:p1},_.nextTick(X,p1.afterWriteTickInfo)):k(K,p1,1,o1))}function X({stream:K,state:Y,count:p1,cb:u1}){return Y.afterWriteTickInfo=null,k(K,Y,p1,u1)}function k(K,Y,p1,u1){for(!Y.ending&&!K.destroyed&&Y.length===0&&Y.needDrain&&(Y.needDrain=!1,K.emit("drain"));p1-- >0;)Y.pendingcb--,u1();Y.destroyed&&I(Y),A(K,Y)}function I(K){if(K.writing)return;for(let o1=K.bufferedIndex;o1<K.buffered.length;++o1){var Y;let{chunk:M1,callback:d1}=K.buffered[o1],r1=K.objectMode?1:M1.length;K.length-=r1,d1((Y=K.errored)!==null&&Y!==void 0?Y:new U("write"))}let p1=K[f].splice(0);for(let o1=0;o1<p1.length;o1++){var u1;p1[o1]((u1=K.errored)!==null&&u1!==void 0?u1:new U("end"))}c(K)}function Q(K,Y){if(Y.corked||Y.bufferProcessing||Y.destroyed||!Y.constructed)return;let{buffered:p1,bufferedIndex:u1,objectMode:o1}=Y,M1=p1.length-u1;if(!M1)return;let d1=u1;if(Y.bufferProcessing=!0,M1>1&&K._writev){Y.pendingcb-=M1-1;let r1=Y.allNoop?p:(m1)=>{for(let a1=d1;a1<p1.length;++a1)p1[a1].callback(m1)},F1=Y.allNoop&&d1===0?p1:R(p1,d1);F1.allBuffers=Y.allBuffers,o(K,Y,!0,Y.length,F1,"",r1),c(Y)}else{do{let{chunk:r1,encoding:F1,callback:m1}=p1[d1];p1[d1++]=null;let a1=o1?1:r1.length;o(K,Y,!1,a1,r1,F1,m1)}while(d1<p1.length&&!Y.writing);d1===p1.length?c(Y):d1>256?(p1.splice(0,d1),Y.bufferedIndex=0):Y.bufferedIndex=d1}Y.bufferProcessing=!1}y.prototype._write=function(K,Y,p1){if(this._writev)this._writev([{chunk:K,encoding:Y}],p1);else throw new s("_write()")},y.prototype._writev=null,y.prototype.end=function(K,Y,p1){let u1=this._writableState;typeof K=="function"?(p1=K,K=null,Y=null):typeof Y=="function"&&(p1=Y,Y=null);let o1;if(K!=null){let M1=q(this,K,Y);M1 instanceof N&&(o1=M1)}return u1.corked&&(u1.corked=1,this.uncork()),o1||(!u1.errored&&!u1.ending?(u1.ending=!0,A(this,u1,!0),u1.ended=!0):u1.finished?o1=new j("end"):u1.destroyed&&(o1=new U("end"))),typeof p1=="function"&&(o1||u1.finished?_.nextTick(p1,o1):u1[f].push(p1)),this};function e(K){return K.ending&&!K.destroyed&&K.constructed&&K.length===0&&!K.errored&&K.buffered.length===0&&!K.finished&&!K.writing&&!K.errorEmitted&&!K.closeEmitted}function B(K,Y){let p1=!1;function u1(o1){if(p1){l(K,o1??g());return}if(p1=!0,Y.pendingcb--,o1){let M1=Y[f].splice(0);for(let d1=0;d1<M1.length;d1++)M1[d1](o1);l(K,o1,Y.sync)}else e(Y)&&(Y.prefinished=!0,K.emit("prefinish"),Y.pendingcb++,_.nextTick(h1,K,Y))}Y.sync=!0,Y.pendingcb++;try{K._final(u1)}catch(o1){u1(o1)}Y.sync=!1}function E(K,Y){!Y.prefinished&&!Y.finalCalled&&(typeof K._final=="function"&&!Y.destroyed?(Y.finalCalled=!0,B(K,Y)):(Y.prefinished=!0,K.emit("prefinish")))}function A(K,Y,p1){e(Y)&&(E(K,Y),Y.pendingcb===0&&(p1?(Y.pendingcb++,_.nextTick((u1,o1)=>{e(o1)?h1(u1,o1):o1.pendingcb--},K,Y)):e(Y)&&(Y.pendingcb++,h1(K,Y))))}function h1(K,Y){Y.pendingcb--,Y.finished=!0;let p1=Y[f].splice(0);for(let u1=0;u1<p1.length;u1++)p1[u1]();if(K.emit("finish"),Y.autoDestroy){let u1=K._readableState;(!u1||u1.autoDestroy&&(u1.endEmitted||u1.readable===!1))&&K.destroy()}}h(y.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(K){this._writableState&&(this._writableState.destroyed=K)}},writable:{__proto__:null,get(){let K=this._writableState;return!!K&&K.writable!==!1&&!K.destroyed&&!K.errored&&!K.ending&&!K.ended},set(K){this._writableState&&(this._writableState.writable=!!K)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let K=this._writableState;return K?!K.destroyed&&!K.ending&&K.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var n1=z.destroy;y.prototype.destroy=function(K,Y){let p1=this._writableState;return!p1.destroyed&&(p1.bufferedIndex<p1.buffered.length||p1[f].length)&&_.nextTick(I,p1),n1.call(this,K,Y),this},y.prototype._undestroy=z.undestroy,y.prototype._destroy=function(K,Y){Y(K)},y.prototype[S.captureRejectionSymbol]=function(K){this.destroy(K)};var c1;function J(){return c1===void 0&&(c1={}),c1}y.fromWeb=function(K,Y){return J().newStreamWritableFromWritableStream(K,Y)},y.toWeb=function(K){return J().newWritableStreamFromStreamWritable(K)}}),a8=b1((M,w)=>{var _=(I2(),w2(X2)),R=N2(),{isReadable:N,isWritable:b,isIterable:u,isNodeStream:h,isReadableNodeStream:V,isWritableNodeStream:a,isDuplexNodeStream:L}=Y2(),v=t2(),{AbortError:S,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:d}}=M2(),{destroyer:z}=r3(),T=F2(),$=t3(),{createDeferredPromise:Z}=g2(),W=G0(),s=globalThis.Blob||R.Blob,g=typeof s<"u"?function(D){return D instanceof s}:function(D){return!1},O=globalThis.AbortController||O6().AbortController,{FunctionPrototypeCall:U}=x2(),j=class extends T{constructor(D){super(D),D?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),D?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};w.exports=function D(l,p){if(L(l))return l;if(V(l))return H({readable:l});if(a(l))return H({writable:l});if(h(l))return H({writable:!1,readable:!1});if(typeof l=="function"){let{value:n,write:c,final:y,destroy:q}=G(l);if(u(n))return W(j,n,{objectMode:!0,write:c,final:y,destroy:q});let r=n?.then;if(typeof r=="function"){let o,m=U(r,n,(P)=>{if(P!=null)throw new d("nully","body",P)},(P)=>{z(o,P)});return o=new j({objectMode:!0,readable:!1,write:c,final(P){y(async()=>{try{await m,_.nextTick(P,null)}catch(X){_.nextTick(P,X)}})},destroy:q})}throw new d("Iterable, AsyncIterable or AsyncFunction",p,n)}if(g(l))return D(l.arrayBuffer());if(u(l))return W(j,l,{objectMode:!0,writable:!1});if(typeof l?.writable=="object"||typeof l?.readable=="object"){let n=l!=null&&l.readable?V(l?.readable)?l?.readable:D(l.readable):void 0,c=l!=null&&l.writable?a(l?.writable)?l?.writable:D(l.writable):void 0;return H({readable:n,writable:c})}let f=l?.then;if(typeof f=="function"){let n;return U(f,l,(c)=>{c!=null&&n.push(c),n.push(null)},(c)=>{z(n,c)}),n=new j({objectMode:!0,writable:!1,read(){}})}throw new x(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],l)};function G(D){let{promise:l,resolve:p}=Z(),f=new O,n=f.signal;return{value:D(async function*(){for(;;){let c=l;l=null;let{chunk:y,done:q,cb:r}=await c;if(_.nextTick(r),q)return;if(n.aborted)throw new S(void 0,{cause:n.reason});({promise:l,resolve:p}=Z()),yield y}}(),{signal:n}),write(c,y,q){let r=p;p=null,r({chunk:c,done:!1,cb:q})},final(c){let y=p;p=null,y({done:!0,cb:c})},destroy(c,y){f.abort(),y(c)}}}function H(D){let l=D.readable&&typeof D.readable.read!="function"?$.wrap(D.readable):D.readable,p=D.writable,f=!!N(l),n=!!b(p),c,y,q,r,o;function m(P){let X=r;r=null,X?X(P):P?o.destroy(P):!f&&!n&&o.destroy()}return o=new j({readableObjectMode:!!(l!=null&&l.readableObjectMode),writableObjectMode:!!(p!=null&&p.writableObjectMode),readable:f,writable:n}),n&&(v(p,(P)=>{n=!1,P&&z(l,P),m(P)}),o._write=function(P,X,k){p.write(P,X)?k():c=k},o._final=function(P){p.end(),y=P},p.on("drain",function(){if(c){let P=c;c=null,P()}}),p.on("finish",function(){if(y){let P=y;y=null,P()}})),f&&(v(l,(P)=>{f=!1,P&&z(l,P),m(P)}),l.on("readable",function(){if(q){let P=q;q=null,P()}}),l.on("end",function(){o.push(null)}),o._read=function(){for(;;){let P=l.read();if(P===null){q=o._read;return}if(!o.push(P))return}}),o._destroy=function(P,X){!P&&r!==null&&(P=new S),q=null,c=null,y=null,r===null?X(P):(r=X,z(p,P),z(l,P))},o}}),F2=b1((M,w)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:R,ObjectKeys:N,ObjectSetPrototypeOf:b}=x2();w.exports=V;var u=t3(),h=J0();b(V.prototype,u.prototype),b(V,u);{let S=N(h.prototype);for(let x=0;x<S.length;x++){let d=S[x];V.prototype[d]||(V.prototype[d]=h.prototype[d])}}function V(S){if(!(this instanceof V))return new V(S);u.call(this,S),h.call(this,S),S?(this.allowHalfOpen=S.allowHalfOpen!==!1,S.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),S.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}_(V.prototype,{writable:{__proto__:null,...R(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...R(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...R(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...R(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...R(h.prototype,"writableLength")},writableFinished:{__proto__:null,...R(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...R(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...R(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...R(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(S){this._readableState&&this._writableState&&(this._readableState.destroyed=S,this._writableState.destroyed=S)}}});var a;function L(){return a===void 0&&(a={}),a}V.fromWeb=function(S,x){return L().newStreamDuplexFromReadableWritablePair(S,x)},V.toWeb=function(S){return L().newReadableWritablePairFromDuplex(S)};var v;V.from=function(S){return v||(v=a8()),v(S,"body")}}),E0=b1((M,w)=>{var{ObjectSetPrototypeOf:_,Symbol:R}=x2();w.exports=V;var{ERR_METHOD_NOT_IMPLEMENTED:N}=M2().codes,b=F2(),{getHighWaterMark:u}=g6();_(V.prototype,b.prototype),_(V,b);var h=R("kCallback");function V(v){if(!(this instanceof V))return new V(v);let S=v?u(this,v,"readableHighWaterMark",!0):null;S===0&&(v={...v,highWaterMark:null,readableHighWaterMark:S,writableHighWaterMark:v.writableHighWaterMark||0}),b.call(this,v),this._readableState.sync=!1,this[h]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",L)}function a(v){typeof this._flush=="function"&&!this.destroyed?this._flush((S,x)=>{if(S){v?v(S):this.destroy(S);return}x!=null&&this.push(x),this.push(null),v&&v()}):(this.push(null),v&&v())}function L(){this._final!==a&&a.call(this)}V.prototype._final=a,V.prototype._transform=function(v,S,x){throw new N("_transform()")},V.prototype._write=function(v,S,x){let d=this._readableState,z=this._writableState,T=d.length;this._transform(v,S,($,Z)=>{if($){x($);return}Z!=null&&this.push(Z),z.ended||T===d.length||d.length<d.highWaterMark?x():this[h]=x})},V.prototype._read=function(){if(this[h]){let v=this[h];this[h]=null,v()}}}),D0=b1((M,w)=>{var{ObjectSetPrototypeOf:_}=x2();w.exports=N;var R=E0();_(N.prototype,R.prototype),_(N,R);function N(b){if(!(this instanceof N))return new N(b);R.call(this,b)}N.prototype._transform=function(b,u,h){h(null,b)}}),X6=b1((M,w)=>{var _=(I2(),w2(X2)),{ArrayIsArray:R,Promise:N,SymbolAsyncIterator:b}=x2(),u=t2(),{once:h}=g2(),V=r3(),a=F2(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:d,ERR_STREAM_PREMATURE_CLOSE:z},AbortError:T}=M2(),{validateFunction:$,validateAbortSignal:Z}=Y3(),{isIterable:W,isReadable:s,isReadableNodeStream:g,isNodeStream:O}=Y2(),U=globalThis.AbortController||O6().AbortController,j,G;function H(q,r,o){let m=!1;q.on("close",()=>{m=!0});let P=u(q,{readable:r,writable:o},(X)=>{m=!X});return{destroy:(X)=>{m||(m=!0,V.destroyer(q,X||new d("pipe")))},cleanup:P}}function D(q){return $(q[q.length-1],"streams[stream.length - 1]"),q.pop()}function l(q){if(W(q))return q;if(g(q))return p(q);throw new v("val",["Readable","Iterable","AsyncIterable"],q)}async function*p(q){G||(G=t3()),yield*G.prototype[b].call(q)}async function f(q,r,o,{end:m}){let P,X=null,k=(e)=>{if(e&&(P=e),X){let B=X;X=null,B()}},I=()=>new N((e,B)=>{P?B(P):X=()=>{P?B(P):e()}});r.on("drain",k);let Q=u(r,{readable:!1},k);try{r.writableNeedDrain&&await I();for await(let e of q)r.write(e)||await I();m&&r.end(),await I(),o()}catch(e){o(P!==e?L(P,e):e)}finally{Q(),r.off("drain",k)}}function n(...q){return c(q,h(D(q)))}function c(q,r,o){if(q.length===1&&R(q[0])&&(q=q[0]),q.length<2)throw new x("streams");let m=new U,P=m.signal,X=o?.signal,k=[];Z(X,"options.signal");function I(){h1(new T)}X?.addEventListener("abort",I);let Q,e,B=[],E=0;function A(K){h1(K,--E===0)}function h1(K,Y){if(K&&(!Q||Q.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Q=K),!(!Q&&!Y)){for(;B.length;)B.shift()(Q);X?.removeEventListener("abort",I),m.abort(),Y&&(Q||k.forEach((p1)=>p1()),_.nextTick(r,Q,e))}}let n1;for(let K=0;K<q.length;K++){let Y=q[K],p1=K<q.length-1,u1=K>0,o1=p1||o?.end!==!1,M1=K===q.length-1;if(O(Y)){let d1=function(r1){r1&&r1.name!=="AbortError"&&r1.code!=="ERR_STREAM_PREMATURE_CLOSE"&&A(r1)};var c1=d1;if(o1){let{destroy:r1,cleanup:F1}=H(Y,p1,u1);B.push(r1),s(Y)&&M1&&k.push(F1)}Y.on("error",d1),s(Y)&&M1&&k.push(()=>{Y.removeListener("error",d1)})}if(K===0)if(typeof Y=="function"){if(n1=Y({signal:P}),!W(n1))throw new S("Iterable, AsyncIterable or Stream","source",n1)}else W(Y)||g(Y)?n1=Y:n1=a.from(Y);else if(typeof Y=="function")if(n1=l(n1),n1=Y(n1,{signal:P}),p1){if(!W(n1,!0))throw new S("AsyncIterable",`transform[${K-1}]`,n1)}else{var J;j||(j=D0());let d1=new j({objectMode:!0}),r1=(J=n1)===null||J===void 0?void 0:J.then;if(typeof r1=="function")E++,r1.call(n1,(a1)=>{e=a1,a1!=null&&d1.write(a1),o1&&d1.end(),_.nextTick(A)},(a1)=>{d1.destroy(a1),_.nextTick(A,a1)});else if(W(n1,!0))E++,f(n1,d1,A,{end:o1});else throw new S("AsyncIterable or Promise","destination",n1);n1=d1;let{destroy:F1,cleanup:m1}=H(n1,!1,!0);B.push(F1),M1&&k.push(m1)}else if(O(Y)){if(g(n1)){E+=2;let d1=y(n1,Y,A,{end:o1});s(Y)&&M1&&k.push(d1)}else if(W(n1))E++,f(n1,Y,A,{end:o1});else throw new v("val",["Readable","Iterable","AsyncIterable"],n1);n1=Y}else n1=a.from(Y)}return(P!=null&&P.aborted||X!=null&&X.aborted)&&_.nextTick(I),n1}function y(q,r,o,{end:m}){let P=!1;return r.on("close",()=>{P||o(new z)}),q.pipe(r,{end:m}),m?q.once("end",()=>{P=!0,r.end()}):o(),u(q,{readable:!0,writable:!1},(X)=>{let k=q._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&k&&k.ended&&!k.errored&&!k.errorEmitted?q.once("end",o).once("error",o):o(X)}),u(r,{readable:!1,writable:!0},o)}w.exports={pipelineImpl:c,pipeline:n}}),h8=b1((M,w)=>{var{pipeline:_}=X6(),R=F2(),{destroyer:N}=r3(),{isNodeStream:b,isReadable:u,isWritable:h}=Y2(),{AbortError:V,codes:{ERR_INVALID_ARG_VALUE:a,ERR_MISSING_ARGS:L}}=M2();w.exports=function(...v){if(v.length===0)throw new L("streams");if(v.length===1)return R.from(v[0]);let S=[...v];if(typeof v[0]=="function"&&(v[0]=R.from(v[0])),typeof v[v.length-1]=="function"){let U=v.length-1;v[U]=R.from(v[U])}for(let U=0;U<v.length;++U)if(b(v[U])){if(U<v.length-1&&!u(v[U]))throw new a(`streams[${U}]`,S[U],"must be readable");if(U>0&&!h(v[U]))throw new a(`streams[${U}]`,S[U],"must be writable")}let x,d,z,T,$;function Z(U){let j=T;T=null,j?j(U):U?$.destroy(U):!O&&!g&&$.destroy()}let W=v[0],s=_(v,Z),g=!!h(W),O=!!u(s);return $=new R({writableObjectMode:!!(W!=null&&W.writableObjectMode),readableObjectMode:!!(s!=null&&s.writableObjectMode),writable:g,readable:O}),g&&($._write=function(U,j,G){W.write(U,j)?G():x=G},$._final=function(U){W.end(),d=U},W.on("drain",function(){if(x){let U=x;x=null,U()}}),s.on("finish",function(){if(d){let U=d;d=null,U()}})),O&&(s.on("readable",function(){if(z){let U=z;z=null,U()}}),s.on("end",function(){$.push(null)}),$._read=function(){for(;;){let U=s.read();if(U===null){z=$._read;return}if(!$.push(U))return}}),$._destroy=function(U,j){!U&&T!==null&&(U=new V),z=null,x=null,d=null,T===null?j(U):(T=j,N(s,U))},$}}),I0=b1((M,w)=>{var{ArrayPrototypePop:_,Promise:R}=x2(),{isIterable:N,isNodeStream:b}=Y2(),{pipelineImpl:u}=X6(),{finished:h}=t2();function V(...a){return new R((L,v)=>{let S,x,d=a[a.length-1];if(d&&typeof d=="object"&&!b(d)&&!N(d)){let z=_(a);S=z.signal,x=z.end}u(a,(z,T)=>{z?v(z):L(T)},{signal:S,end:x})})}w.exports={finished:h,pipeline:V}}),b8=b1((M,w)=>{var{Buffer:_}=N2(),{ObjectDefineProperty:R,ObjectKeys:N,ReflectApply:b}=x2(),{promisify:{custom:u}}=g2(),{streamReturningOperators:h,promiseReturningOperators:V}=d8(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=M2(),L=h8(),{pipeline:v}=X6(),{destroyer:S}=r3(),x=t2(),d=I0(),z=Y2(),T=w.exports=R6().Stream;T.isDisturbed=z.isDisturbed,T.isErrored=z.isErrored,T.isReadable=z.isReadable,T.Readable=t3();for(let W of N(h)){let s=function(...O){if(new.target)throw a();return T.Readable.from(b(g,this,O))};$=s;let g=h[W];R(s,"name",{__proto__:null,value:g.name}),R(s,"length",{__proto__:null,value:g.length}),R(T.Readable.prototype,W,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var $;for(let W of N(V)){let s=function(...O){if(new.target)throw a();return b(g,this,O)};$=s;let g=V[W];R(s,"name",{__proto__:null,value:g.name}),R(s,"length",{__proto__:null,value:g.length}),R(T.Readable.prototype,W,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var $;T.Writable=J0(),T.Duplex=F2(),T.Transform=E0(),T.PassThrough=D0(),T.pipeline=v;var{addAbortSignal:Z}=s6();T.addAbortSignal=Z,T.finished=x,T.destroy=S,T.compose=L,R(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return d}}),R(v,u,{__proto__:null,enumerable:!0,get(){return d.pipeline}}),R(x,u,{__proto__:null,enumerable:!0,get(){return d.finished}}),T.Stream=T,T._isUint8Array=function(W){return W instanceof Uint8Array},T._uint8ArrayToBuffer=function(W){return _.from(W.buffer,W.byteOffset,W.byteLength)}}),Y0=b1((M,w)=>{var _=b8(),R=I0(),N=_.Readable.destroy;w.exports=_.Readable,w.exports._uint8ArrayToBuffer=_._uint8ArrayToBuffer,w.exports._isUint8Array=_._isUint8Array,w.exports.isDisturbed=_.isDisturbed,w.exports.isErrored=_.isErrored,w.exports.isReadable=_.isReadable,w.exports.Readable=_.Readable,w.exports.Writable=_.Writable,w.exports.Duplex=_.Duplex,w.exports.Transform=_.Transform,w.exports.PassThrough=_.PassThrough,w.exports.addAbortSignal=_.addAbortSignal,w.exports.finished=_.finished,w.exports.destroy=_.destroy,w.exports.destroy=N,w.exports.pipeline=_.pipeline,w.exports.compose=_.compose,Object.defineProperty(_,"promises",{configurable:!0,enumerable:!0,get(){return R}}),w.exports.Stream=_.Stream,w.exports.default=w.exports}),F6={},V6(F6,{default:()=>m8}),y8=w0(()=>{O0(F6,p3(Y0())),m8=p3(Y0())}),H2=b1((M,w)=>{var _=H1().Buffer,R=(y8(),w2(F6)).Transform,N=S6().StringDecoder,b=i1();function u(h){R.call(this),this.hashMode=typeof h=="string",this.hashMode?this[h]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}b(u,R),u.prototype.update=function(h,V,a){typeof h=="string"&&(h=_.from(h,V));var L=this._update(h);return this.hashMode?this:(a&&(L=this._toString(L,a)),L)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(h,V,a){var L;try{this.hashMode?this._update(h):this.push(this._update(h))}catch(v){L=v}finally{a(L)}},u.prototype._flush=function(h){var V;try{this.push(this.__final())}catch(a){V=a}h(V)},u.prototype._finalOrDigest=function(h){var V=this.__final()||_.alloc(0);return h&&(V=this._toString(V,h,!0)),V},u.prototype._toString=function(h,V,a){if(this._decoder||(this._decoder=new N(V),this._encoding=V),this._encoding!==V)throw new Error("can't switch encodings");var L=this._decoder.write(h);return a&&(L+=this._decoder.end()),L},w.exports=u}),T3=b1((M,w)=>{var _=i1(),R=Z6(),N=W6(),b=w6(),u=H2();function h(V){u.call(this,"digest"),this._hash=V}_(h,u),h.prototype._update=function(V){this._hash.update(V)},h.prototype._final=function(){return this._hash.digest()},w.exports=function(V){return V=V.toLowerCase(),V==="md5"?new R:V==="rmd160"||V==="ripemd160"?new N:new h(b(V))}}),v8=b1((M,w)=>{var _=i1(),R=H1().Buffer,N=H2(),b=R.alloc(128),u=64;function h(V,a){N.call(this,"digest"),typeof a=="string"&&(a=R.from(a)),this._alg=V,this._key=a,a.length>u?a=V(a):a.length<u&&(a=R.concat([a,b],u));for(var L=this._ipad=R.allocUnsafe(u),v=this._opad=R.allocUnsafe(u),S=0;S<u;S++)L[S]=a[S]^54,v[S]=a[S]^92;this._hash=[L]}_(h,N),h.prototype._update=function(V){this._hash.push(V)},h.prototype._final=function(){var V=this._alg(R.concat(this._hash));return this._alg(R.concat([this._opad,V]))},w.exports=h}),t0=b1((M,w)=>{var _=Z6();w.exports=function(R){return new _().update(R).digest()}}),C0=b1((M,w)=>{var _=i1(),R=v8(),N=H2(),b=H1().Buffer,u=t0(),h=W6(),V=w6(),a=b.alloc(128);function L(v,S){N.call(this,"digest"),typeof S=="string"&&(S=b.from(S));var x=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=S,S.length>x){var d=v==="rmd160"?new h:V(v);S=d.update(S).digest()}else S.length<x&&(S=b.concat([S,a],x));for(var z=this._ipad=b.allocUnsafe(x),T=this._opad=b.allocUnsafe(x),$=0;$<x;$++)z[$]=S[$]^54,T[$]=S[$]^92;this._hash=v==="rmd160"?new h:V(v),this._hash.update(z)}_(L,N),L.prototype._update=function(v){this._hash.update(v)},L.prototype._final=function(){var v=this._hash.digest(),S=this._alg==="rmd160"?new h:V(this._alg);return S.update(this._opad).update(v).digest()},w.exports=function(v,S){return v=v.toLowerCase(),v==="rmd160"||v==="ripemd160"?new L("rmd160",S):v==="md5"?new R(u,S):new L(v,S)}}),B0=b1((M,w)=>{w.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),_8=b1((M,w)=>{w.exports=B0()}),Q0=b1((M,w)=>{var _=Math.pow(2,30)-1;w.exports=function(R,N){if(typeof R!="number")throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if(typeof N!="number")throw new TypeError("Key length not a number");if(N<0||N>_||N!==N)throw new TypeError("Bad key length")}}),e0=b1((M,w)=>{var _;global.process&&global.process.browser?_="utf-8":global.process&&global.process.version?(R=parseInt(process.version.split(".")[0].slice(1),10),_=R>=6?"utf-8":"binary"):_="utf-8";var R;w.exports=_}),A0=b1((M,w)=>{var _=H1().Buffer;w.exports=function(R,N,b){if(_.isBuffer(R))return R;if(typeof R=="string")return _.from(R,N);if(ArrayBuffer.isView(R))return _.from(R.buffer);throw new TypeError(b+" must be a string, a Buffer, a typed array or a DataView")}}),l5=b1((M,w)=>{var _=t0(),R=W6(),N=w6(),b=H1().Buffer,u=Q0(),h=e0(),V=A0(),a=b.alloc(128),L={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(d,z,T){var $=S(d),Z=d==="sha512"||d==="sha384"?128:64;z.length>Z?z=$(z):z.length<Z&&(z=b.concat([z,a],Z));for(var W=b.allocUnsafe(Z+L[d]),s=b.allocUnsafe(Z+L[d]),g=0;g<Z;g++)W[g]=z[g]^54,s[g]=z[g]^92;var O=b.allocUnsafe(Z+T+4);W.copy(O,0,0,Z),this.ipad1=O,this.ipad2=W,this.opad=s,this.alg=d,this.blocksize=Z,this.hash=$,this.size=L[d]}v.prototype.run=function(d,z){d.copy(z,this.blocksize);var T=this.hash(z);return T.copy(this.opad,this.blocksize),this.hash(this.opad)};function S(d){function z($){return N(d).update($).digest()}function T($){return new R().update($).digest()}return d==="rmd160"||d==="ripemd160"?T:d==="md5"?_:z}function x(d,z,T,$,Z){u(T,$),d=V(d,h,"Password"),z=V(z,h,"Salt"),Z=Z||"sha1";var W=new v(Z,d,z.length),s=b.allocUnsafe($),g=b.allocUnsafe(z.length+4);z.copy(g,0,0,z.length);for(var O=0,U=L[Z],j=Math.ceil($/U),G=1;G<=j;G++){g.writeUInt32BE(G,z.length);for(var H=W.run(g,W.ipad1),D=H,l=1;l<T;l++){D=W.run(D,W.ipad2);for(var p=0;p<U;p++)H[p]^=D[p]}H.copy(s,O),O+=U}return s}w.exports=x}),x8=b1((M,w)=>{var _=H1().Buffer,R=Q0(),N=e0(),b=l5(),u=A0(),h,V=global.crypto&&global.crypto.subtle,a={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},L=[];function v(T){if(global.process&&!global.process.browser||!V||!V.importKey||!V.deriveBits)return Promise.resolve(!1);if(L[T]!==void 0)return L[T];h=h||_.alloc(8);var $=d(h,h,10,128,T).then(function(){return!0}).catch(function(){return!1});return L[T]=$,$}var S;function x(){return S||(global.process&&global.process.nextTick?S=global.process.nextTick:global.queueMicrotask?S=global.queueMicrotask:global.setImmediate?S=global.setImmediate:S=global.setTimeout,S)}function d(T,$,Z,W,s){return V.importKey("raw",T,{name:"PBKDF2"},!1,["deriveBits"]).then(function(g){return V.deriveBits({name:"PBKDF2",salt:$,iterations:Z,hash:{name:s}},g,W<<3)}).then(function(g){return _.from(g)})}function z(T,$){T.then(function(Z){x()(function(){$(null,Z)})},function(Z){x()(function(){$(Z)})})}w.exports=function(T,$,Z,W,s,g){typeof s=="function"&&(g=s,s=void 0),s=s||"sha1";var O=a[s.toLowerCase()];if(!O||typeof global.Promise!="function"){x()(function(){var U;try{U=b(T,$,Z,W,s)}catch(j){return g(j)}g(null,U)});return}if(R(Z,W),T=u(T,N,"Password"),$=u($,N,"Salt"),typeof g!="function")throw new Error("No callback provided to pbkdf2");z(v(O).then(function(U){return U?d(T,$,Z,W,O):b(T,$,Z,W,s)}),g)}}),o5=b1((M)=>{M.pbkdf2=x8(),M.pbkdf2Sync=l5()}),n5=b1((M)=>{M.readUInt32BE=function(N,b){var u=N[0+b]<<24|N[1+b]<<16|N[2+b]<<8|N[3+b];return u>>>0},M.writeUInt32BE=function(N,b,u){N[0+u]=b>>>24,N[1+u]=b>>>16&255,N[2+u]=b>>>8&255,N[3+u]=b&255},M.ip=function(N,b,u,h){for(var V=0,a=0,L=6;L>=0;L-=2){for(var v=0;v<=24;v+=8)V<<=1,V|=b>>>v+L&1;for(var v=0;v<=24;v+=8)V<<=1,V|=N>>>v+L&1}for(var L=6;L>=0;L-=2){for(var v=1;v<=25;v+=8)a<<=1,a|=b>>>v+L&1;for(var v=1;v<=25;v+=8)a<<=1,a|=N>>>v+L&1}u[h+0]=V>>>0,u[h+1]=a>>>0},M.rip=function(N,b,u,h){for(var V=0,a=0,L=0;L<4;L++)for(var v=24;v>=0;v-=8)V<<=1,V|=b>>>v+L&1,V<<=1,V|=N>>>v+L&1;for(var L=4;L<8;L++)for(var v=24;v>=0;v-=8)a<<=1,a|=b>>>v+L&1,a<<=1,a|=N>>>v+L&1;u[h+0]=V>>>0,u[h+1]=a>>>0},M.pc1=function(N,b,u,h){for(var V=0,a=0,L=7;L>=5;L--){for(var v=0;v<=24;v+=8)V<<=1,V|=b>>v+L&1;for(var v=0;v<=24;v+=8)V<<=1,V|=N>>v+L&1}for(var v=0;v<=24;v+=8)V<<=1,V|=b>>v+L&1;for(var L=1;L<=3;L++){for(var v=0;v<=24;v+=8)a<<=1,a|=b>>v+L&1;for(var v=0;v<=24;v+=8)a<<=1,a|=N>>v+L&1}for(var v=0;v<=24;v+=8)a<<=1,a|=N>>v+L&1;u[h+0]=V>>>0,u[h+1]=a>>>0},M.r28shl=function(N,b){return N<<b&268435455|N>>>28-b};var w=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];M.pc2=function(N,b,u,h){for(var V=0,a=0,L=w.length>>>1,v=0;v<L;v++)V<<=1,V|=N>>>w[v]&1;for(var v=L;v<w.length;v++)a<<=1,a|=b>>>w[v]&1;u[h+0]=V>>>0,u[h+1]=a>>>0},M.expand=function(N,b,u){var h=0,V=0;h=(N&1)<<5|N>>>27;for(var a=23;a>=15;a-=4)h<<=6,h|=N>>>a&63;for(var a=11;a>=3;a-=4)V|=N>>>a&63,V<<=6;V|=(N&31)<<1|N>>>31,b[u+0]=h>>>0,b[u+1]=V>>>0};var _=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];M.substitute=function(N,b){for(var u=0,h=0;h<4;h++){var V=N>>>18-h*6&63,a=_[h*64+V];u<<=4,u|=a}for(var h=0;h<4;h++){var V=b>>>18-h*6&63,a=_[256+h*64+V];u<<=4,u|=a}return u>>>0};var R=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];M.permute=function(N){for(var b=0,u=0;u<R.length;u++)b<<=1,b|=N>>>R[u]&1;return b>>>0},M.padSplit=function(N,b,u){for(var h=N.toString(2);h.length<b;)h="0"+h;for(var V=[],a=0;a<b;a+=u)V.push(h.slice(a,a+u));return V.join(" ")}}),S2=b1((M,w)=>{w.exports=_;function _(R,N){if(!R)throw new Error(N||"Assertion failed")}_.equal=function(R,N,b){if(R!=N)throw new Error(b||"Assertion failed: "+R+" != "+N)}}),k6=b1((M,w)=>{var _=S2();function R(N){this.options=N,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}w.exports=R,R.prototype._init=function(){},R.prototype.update=function(N){return N.length===0?[]:this.type==="decrypt"?this._updateDecrypt(N):this._updateEncrypt(N)},R.prototype._buffer=function(N,b){for(var u=Math.min(this.buffer.length-this.bufferOff,N.length-b),h=0;h<u;h++)this.buffer[this.bufferOff+h]=N[b+h];return this.bufferOff+=u,u},R.prototype._flushBuffer=function(N,b){return this._update(this.buffer,0,N,b),this.bufferOff=0,this.blockSize},R.prototype._updateEncrypt=function(N){var b=0,u=0,h=(this.bufferOff+N.length)/this.blockSize|0,V=new Array(h*this.blockSize);this.bufferOff!==0&&(b+=this._buffer(N,b),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(V,u)));for(var a=N.length-(N.length-b)%this.blockSize;b<a;b+=this.blockSize)this._update(N,b,V,u),u+=this.blockSize;for(;b<N.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=N[b];return V},R.prototype._updateDecrypt=function(N){for(var b=0,u=0,h=Math.ceil((this.bufferOff+N.length)/this.blockSize)-1,V=new Array(h*this.blockSize);h>0;h--)b+=this._buffer(N,b),u+=this._flushBuffer(V,u);return b+=this._buffer(N,b),V},R.prototype.final=function(N){var b;N&&(b=this.update(N));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),b?b.concat(u):u},R.prototype._pad=function(N,b){if(b===0)return!1;for(;b<N.length;)N[b++]=0;return!0},R.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var N=new Array(this.blockSize);return this._update(this.buffer,0,N,0),N},R.prototype._unpad=function(N){return N},R.prototype._finalDecrypt=function(){_.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var N=new Array(this.blockSize);return this._flushBuffer(N,0),this._unpad(N)}}),p5=b1((M,w)=>{var _=S2(),R=i1(),N=n5(),b=k6();function u(){this.tmp=new Array(2),this.keys=null}function h(a){b.call(this,a);var L=new u;this._desState=L,this.deriveKeys(L,a.key)}R(h,b),w.exports=h,h.create=function(a){return new h(a)};var V=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(a,L){a.keys=new Array(32),_.equal(L.length,this.blockSize,"Invalid key length");var v=N.readUInt32BE(L,0),S=N.readUInt32BE(L,4);N.pc1(v,S,a.tmp,0),v=a.tmp[0],S=a.tmp[1];for(var x=0;x<a.keys.length;x+=2){var d=V[x>>>1];v=N.r28shl(v,d),S=N.r28shl(S,d),N.pc2(v,S,a.keys,x)}},h.prototype._update=function(a,L,v,S){var x=this._desState,d=N.readUInt32BE(a,L),z=N.readUInt32BE(a,L+4);N.ip(d,z,x.tmp,0),d=x.tmp[0],z=x.tmp[1],this.type==="encrypt"?this._encrypt(x,d,z,x.tmp,0):this._decrypt(x,d,z,x.tmp,0),d=x.tmp[0],z=x.tmp[1],N.writeUInt32BE(v,d,S),N.writeUInt32BE(v,z,S+4)},h.prototype._pad=function(a,L){for(var v=a.length-L,S=L;S<a.length;S++)a[S]=v;return!0},h.prototype._unpad=function(a){for(var L=a[a.length-1],v=a.length-L;v<a.length;v++)_.equal(a[v],L);return a.slice(0,a.length-L)},h.prototype._encrypt=function(a,L,v,S,x){for(var d=L,z=v,T=0;T<a.keys.length;T+=2){var $=a.keys[T],Z=a.keys[T+1];N.expand(z,a.tmp,0),$^=a.tmp[0],Z^=a.tmp[1];var W=N.substitute($,Z),s=N.permute(W),g=z;z=(d^s)>>>0,d=g}N.rip(z,d,S,x)},h.prototype._decrypt=function(a,L,v,S,x){for(var d=v,z=L,T=a.keys.length-2;T>=0;T-=2){var $=a.keys[T],Z=a.keys[T+1];N.expand(d,a.tmp,0),$^=a.tmp[0],Z^=a.tmp[1];var W=N.substitute($,Z),s=N.permute(W),g=d;d=(z^s)>>>0,z=g}N.rip(d,z,S,x)}}),L8=b1((M)=>{var w=S2(),_=i1(),R={};function N(u){w.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=u[h]}function b(u){function h(v){u.call(this,v),this._cbcInit()}_(h,u);for(var V=Object.keys(R),a=0;a<V.length;a++){var L=V[a];h.prototype[L]=R[L]}return h.create=function(v){return new h(v)},h}M.instantiate=b,R._cbcInit=function(){var u=new N(this.options.iv);this._cbcState=u},R._update=function(u,h,V,a){var L=this._cbcState,v=this.constructor.super_.prototype,S=L.iv;if(this.type==="encrypt"){for(var x=0;x<this.blockSize;x++)S[x]^=u[h+x];v._update.call(this,S,0,V,a);for(var x=0;x<this.blockSize;x++)S[x]=V[a+x]}else{v._update.call(this,u,h,V,a);for(var x=0;x<this.blockSize;x++)V[a+x]^=S[x];for(var x=0;x<this.blockSize;x++)S[x]=u[h+x]}}}),q8=b1((M,w)=>{var _=S2(),R=i1(),N=k6(),b=p5();function u(V,a){_.equal(a.length,24,"Invalid key length");var L=a.slice(0,8),v=a.slice(8,16),S=a.slice(16,24);V==="encrypt"?this.ciphers=[b.create({type:"encrypt",key:L}),b.create({type:"decrypt",key:v}),b.create({type:"encrypt",key:S})]:this.ciphers=[b.create({type:"decrypt",key:S}),b.create({type:"encrypt",key:v}),b.create({type:"decrypt",key:L})]}function h(V){N.call(this,V);var a=new u(this.type,this.options.key);this._edeState=a}R(h,N),w.exports=h,h.create=function(V){return new h(V)},h.prototype._update=function(V,a,L,v){var S=this._edeState;S.ciphers[0]._update(V,a,L,v),S.ciphers[1]._update(L,v,L,v),S.ciphers[2]._update(L,v,L,v)},h.prototype._pad=b.prototype._pad,h.prototype._unpad=b.prototype._unpad}),N8=b1((M)=>{M.utils=n5(),M.Cipher=k6(),M.DES=p5(),M.CBC=L8(),M.EDE=q8()}),T8=b1((M,w)=>{var _=H2(),R=N8(),N=i1(),b=H1().Buffer,u={"des-ede3-cbc":R.CBC.instantiate(R.EDE),"des-ede3":R.EDE,"des-ede-cbc":R.CBC.instantiate(R.EDE),"des-ede":R.EDE,"des-cbc":R.CBC.instantiate(R.DES),"des-ecb":R.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],w.exports=h,N(h,_);function h(V){_.call(this);var a=V.mode.toLowerCase(),L=u[a],v;V.decrypt?v="decrypt":v="encrypt";var S=V.key;b.isBuffer(S)||(S=b.from(S)),(a==="des-ede"||a==="des-ede-cbc")&&(S=b.concat([S,S.slice(0,8)]));var x=V.iv;b.isBuffer(x)||(x=b.from(x)),this._des=L.create({key:S,iv:x,type:v})}h.prototype._update=function(V){return b.from(this._des.update(V))},h.prototype._final=function(){return b.from(this._des.final())}}),M8=b1((M)=>{M.encrypt=function(w,_){return w._cipher.encryptBlock(_)},M.decrypt=function(w,_){return w._cipher.decryptBlock(_)}}),M3=b1((M,w)=>{w.exports=function(_,R){for(var N=Math.min(_.length,R.length),b=new Buffer(N),u=0;u<N;++u)b[u]=_[u]^R[u];return b}}),z8=b1((M)=>{var w=M3();M.encrypt=function(_,R){var N=w(R,_._prev);return _._prev=_._cipher.encryptBlock(N),_._prev},M.decrypt=function(_,R){var N=_._prev;_._prev=R;var b=_._cipher.decryptBlock(R);return w(b,N)}}),V8=b1((M)=>{var w=H1().Buffer,_=M3();function R(N,b,u){var h=b.length,V=_(b,N._cache);return N._cache=N._cache.slice(h),N._prev=w.concat([N._prev,u?b:V]),V}M.encrypt=function(N,b,u){for(var h=w.allocUnsafe(0),V;b.length;)if(N._cache.length===0&&(N._cache=N._cipher.encryptBlock(N._prev),N._prev=w.allocUnsafe(0)),N._cache.length<=b.length)V=N._cache.length,h=w.concat([h,R(N,b.slice(0,V),u)]),b=b.slice(V);else{h=w.concat([h,R(N,b,u)]);break}return h}}),S8=b1((M)=>{var w=H1().Buffer;function _(R,N,b){var u=R._cipher.encryptBlock(R._prev),h=u[0]^N;return R._prev=w.concat([R._prev.slice(1),w.from([b?N:h])]),h}M.encrypt=function(R,N,b){for(var u=N.length,h=w.allocUnsafe(u),V=-1;++V<u;)h[V]=_(R,N[V],b);return h}}),$8=b1((M)=>{var w=H1().Buffer;function _(N,b,u){for(var h,V=-1,a=8,L=0,v,S;++V<a;)h=N._cipher.encryptBlock(N._prev),v=b&1<<7-V?128:0,S=h[0]^v,L+=(S&128)>>V%8,N._prev=R(N._prev,u?v:S);return L}function R(N,b){var u=N.length,h=-1,V=w.allocUnsafe(N.length);for(N=w.concat([N,w.from([b])]);++h<u;)V[h]=N[h]<<1|N[h+1]>>7;return V}M.encrypt=function(N,b,u){for(var h=b.length,V=w.allocUnsafe(h),a=-1;++a<h;)V[a]=_(N,b[a],u);return V}}),Z8=b1((M)=>{var w=M3();function _(R){return R._prev=R._cipher.encryptBlock(R._prev),R._prev}M.encrypt=function(R,N){for(;R._cache.length<N.length;)R._cache=Buffer.concat([R._cache,_(R)]);var b=R._cache.slice(0,N.length);return R._cache=R._cache.slice(N.length),w(N,b)}}),u5=b1((M,w)=>{function _(R){for(var N=R.length,b;N--;)if(b=R.readUInt8(N),b===255)R.writeUInt8(0,N);else{b++,R.writeUInt8(b,N);break}}w.exports=_}),c5=b1((M)=>{var w=M3(),_=H1().Buffer,R=u5();function N(u){var h=u._cipher.encryptBlockRaw(u._prev);return R(u._prev),h}var b=16;M.encrypt=function(u,h){var V=Math.ceil(h.length/b),a=u._cache.length;u._cache=_.concat([u._cache,_.allocUnsafe(V*b)]);for(var L=0;L<V;L++){var v=N(u),S=a+L*b;u._cache.writeUInt32BE(v[0],S+0),u._cache.writeUInt32BE(v[1],S+4),u._cache.writeUInt32BE(v[2],S+8),u._cache.writeUInt32BE(v[3],S+12)}var x=u._cache.slice(0,h.length);return u._cache=u._cache.slice(h.length),w(h,x)}}),f5=b1((M,w)=>{w.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),P6=b1((M,w)=>{var _={ECB:M8(),CBC:z8(),CFB:V8(),CFB8:S8(),CFB1:$8(),OFB:Z8(),CTR:c5(),GCM:c5()},R=f5();for(N in R)R[N].module=_[R[N].mode];var N;w.exports=R}),C3=b1((M,w)=>{var _=H1().Buffer;function R(a){_.isBuffer(a)||(a=_.from(a));for(var L=a.length/4|0,v=new Array(L),S=0;S<L;S++)v[S]=a.readUInt32BE(S*4);return v}function N(a){for(var L=0;L<a.length;a++)a[L]=0}function b(a,L,v,S,x){for(var d=v[0],z=v[1],T=v[2],$=v[3],Z=a[0]^L[0],W=a[1]^L[1],s=a[2]^L[2],g=a[3]^L[3],O,U,j,G,H=4,D=1;D<x;D++)O=d[Z>>>24]^z[W>>>16&255]^T[s>>>8&255]^$[g&255]^L[H++],U=d[W>>>24]^z[s>>>16&255]^T[g>>>8&255]^$[Z&255]^L[H++],j=d[s>>>24]^z[g>>>16&255]^T[Z>>>8&255]^$[W&255]^L[H++],G=d[g>>>24]^z[Z>>>16&255]^T[W>>>8&255]^$[s&255]^L[H++],Z=O,W=U,s=j,g=G;return O=(S[Z>>>24]<<24|S[W>>>16&255]<<16|S[s>>>8&255]<<8|S[g&255])^L[H++],U=(S[W>>>24]<<24|S[s>>>16&255]<<16|S[g>>>8&255]<<8|S[Z&255])^L[H++],j=(S[s>>>24]<<24|S[g>>>16&255]<<16|S[Z>>>8&255]<<8|S[W&255])^L[H++],G=(S[g>>>24]<<24|S[Z>>>16&255]<<16|S[W>>>8&255]<<8|S[s&255])^L[H++],O=O>>>0,U=U>>>0,j=j>>>0,G=G>>>0,[O,U,j,G]}var u=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var a=new Array(256),L=0;L<256;L++)L<128?a[L]=L<<1:a[L]=L<<1^283;for(var v=[],S=[],x=[[],[],[],[]],d=[[],[],[],[]],z=0,T=0,$=0;$<256;++$){var Z=T^T<<1^T<<2^T<<3^T<<4;Z=Z>>>8^Z&255^99,v[z]=Z,S[Z]=z;var W=a[z],s=a[W],g=a[s],O=a[Z]*257^Z*16843008;x[0][z]=O<<24|O>>>8,x[1][z]=O<<16|O>>>16,x[2][z]=O<<8|O>>>24,x[3][z]=O,O=g*16843009^s*65537^W*257^z*16843008,d[0][Z]=O<<24|O>>>8,d[1][Z]=O<<16|O>>>16,d[2][Z]=O<<8|O>>>24,d[3][Z]=O,z===0?z=T=1:(z=W^a[a[a[g^W]]],T^=a[a[T]])}return{SBOX:v,INV_SBOX:S,SUB_MIX:x,INV_SUB_MIX:d}}();function V(a){this._key=R(a),this._reset()}V.blockSize=16,V.keySize=32,V.prototype.blockSize=V.blockSize,V.prototype.keySize=V.keySize,V.prototype._reset=function(){for(var a=this._key,L=a.length,v=L+6,S=(v+1)*4,x=[],d=0;d<L;d++)x[d]=a[d];for(d=L;d<S;d++){var z=x[d-1];d%L===0?(z=z<<8|z>>>24,z=h.SBOX[z>>>24]<<24|h.SBOX[z>>>16&255]<<16|h.SBOX[z>>>8&255]<<8|h.SBOX[z&255],z^=u[d/L|0]<<24):L>6&&d%L===4&&(z=h.SBOX[z>>>24]<<24|h.SBOX[z>>>16&255]<<16|h.SBOX[z>>>8&255]<<8|h.SBOX[z&255]),x[d]=x[d-L]^z}for(var T=[],$=0;$<S;$++){var Z=S-$,W=x[Z-($%4?0:4)];$<4||Z<=4?T[$]=W:T[$]=h.INV_SUB_MIX[0][h.SBOX[W>>>24]]^h.INV_SUB_MIX[1][h.SBOX[W>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[W>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[W&255]]}this._nRounds=v,this._keySchedule=x,this._invKeySchedule=T},V.prototype.encryptBlockRaw=function(a){return a=R(a),b(a,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},V.prototype.encryptBlock=function(a){var L=this.encryptBlockRaw(a),v=_.allocUnsafe(16);return v.writeUInt32BE(L[0],0),v.writeUInt32BE(L[1],4),v.writeUInt32BE(L[2],8),v.writeUInt32BE(L[3],12),v},V.prototype.decryptBlock=function(a){a=R(a);var L=a[1];a[1]=a[3],a[3]=L;var v=b(a,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),S=_.allocUnsafe(16);return S.writeUInt32BE(v[0],0),S.writeUInt32BE(v[3],4),S.writeUInt32BE(v[2],8),S.writeUInt32BE(v[1],12),S},V.prototype.scrub=function(){N(this._keySchedule),N(this._invKeySchedule),N(this._key)},w.exports.AES=V}),W8=b1((M,w)=>{var _=H1().Buffer,R=_.alloc(16,0);function N(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function b(h){var V=_.allocUnsafe(16);return V.writeUInt32BE(h[0]>>>0,0),V.writeUInt32BE(h[1]>>>0,4),V.writeUInt32BE(h[2]>>>0,8),V.writeUInt32BE(h[3]>>>0,12),V}function u(h){this.h=h,this.state=_.alloc(16,0),this.cache=_.allocUnsafe(0)}u.prototype.ghash=function(h){for(var V=-1;++V<h.length;)this.state[V]^=h[V];this._multiply()},u.prototype._multiply=function(){for(var h=N(this.h),V=[0,0,0,0],a,L,v,S=-1;++S<128;){for(L=(this.state[~~(S/8)]&1<<7-S%8)!==0,L&&(V[0]^=h[0],V[1]^=h[1],V[2]^=h[2],V[3]^=h[3]),v=(h[3]&1)!==0,a=3;a>0;a--)h[a]=h[a]>>>1|(h[a-1]&1)<<31;h[0]=h[0]>>>1,v&&(h[0]=h[0]^-520093696)}this.state=b(V)},u.prototype.update=function(h){this.cache=_.concat([this.cache,h]);for(var V;this.cache.length>=16;)V=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(V)},u.prototype.final=function(h,V){return this.cache.length&&this.ghash(_.concat([this.cache,R],16)),this.ghash(b([0,h,0,V])),this.state},w.exports=u}),d5=b1((M,w)=>{var _=C3(),R=H1().Buffer,N=H2(),b=i1(),u=W8(),h=M3(),V=u5();function a(S,x){var d=0;S.length!==x.length&&d++;for(var z=Math.min(S.length,x.length),T=0;T<z;++T)d+=S[T]^x[T];return d}function L(S,x,d){if(x.length===12)return S._finID=R.concat([x,R.from([0,0,0,1])]),R.concat([x,R.from([0,0,0,2])]);var z=new u(d),T=x.length,$=T%16;z.update(x),$&&($=16-$,z.update(R.alloc($,0))),z.update(R.alloc(8,0));var Z=T*8,W=R.alloc(8);W.writeUIntBE(Z,0,8),z.update(W),S._finID=z.state;var s=R.from(S._finID);return V(s),s}function v(S,x,d,z){N.call(this);var T=R.alloc(4,0);this._cipher=new _.AES(x);var $=this._cipher.encryptBlock(T);this._ghash=new u($),d=L(this,d,$),this._prev=R.from(d),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=z,this._alen=0,this._len=0,this._mode=S,this._authTag=null,this._called=!1}b(v,N),v.prototype._update=function(S){if(!this._called&&this._alen){var x=16-this._alen%16;x<16&&(x=R.alloc(x,0),this._ghash.update(x))}this._called=!0;var d=this._mode.encrypt(this,S);return this._decrypt?this._ghash.update(S):this._ghash.update(d),this._len+=S.length,d},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var S=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&a(S,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=S,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!R.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(S){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=S},v.prototype.setAAD=function(S){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(S),this._alen+=S.length},w.exports=v}),r5=b1((M,w)=>{var _=C3(),R=H1().Buffer,N=H2(),b=i1();function u(h,V,a,L){N.call(this),this._cipher=new _.AES(V),this._prev=R.from(a),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=L,this._mode=h}b(u,N),u.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},w.exports=u}),B3=b1((M,w)=>{var _=H1().Buffer,R=Z6();function N(b,u,h,V){if(_.isBuffer(b)||(b=_.from(b,"binary")),u&&(_.isBuffer(u)||(u=_.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=h/8,L=_.alloc(a),v=_.alloc(V||0),S=_.alloc(0);a>0||V>0;){var x=new R;x.update(S),x.update(b),u&&x.update(u),S=x.digest();var d=0;if(a>0){var z=L.length-a;d=Math.min(a,S.length),S.copy(L,z,0,d),a-=d}if(d<S.length&&V>0){var T=v.length-V,$=Math.min(V,S.length-d);S.copy(v,T,d,d+$),V-=$}}return S.fill(0),{key:L,iv:v}}w.exports=N}),w8=b1((M)=>{var w=P6(),_=d5(),R=H1().Buffer,N=r5(),b=H2(),u=C3(),h=B3(),V=i1();function a(d,z,T){b.call(this),this._cache=new v,this._cipher=new u.AES(z),this._prev=R.from(T),this._mode=d,this._autopadding=!0}V(a,b),a.prototype._update=function(d){this._cache.add(d);for(var z,T,$=[];z=this._cache.get();)T=this._mode.encrypt(this,z),$.push(T);return R.concat($)};var L=R.alloc(16,16);a.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return d=this._mode.encrypt(this,d),this._cipher.scrub(),d;if(!d.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this};function v(){this.cache=R.allocUnsafe(0)}v.prototype.add=function(d){this.cache=R.concat([this.cache,d])},v.prototype.get=function(){if(this.cache.length>15){var d=this.cache.slice(0,16);return this.cache=this.cache.slice(16),d}return null},v.prototype.flush=function(){for(var d=16-this.cache.length,z=R.allocUnsafe(d),T=-1;++T<d;)z.writeUInt8(d,T);return R.concat([this.cache,z])};function S(d,z,T){var $=w[d.toLowerCase()];if(!$)throw new TypeError("invalid suite type");if(typeof z=="string"&&(z=R.from(z)),z.length!==$.key/8)throw new TypeError("invalid key length "+z.length);if(typeof T=="string"&&(T=R.from(T)),$.mode!=="GCM"&&T.length!==$.iv)throw new TypeError("invalid iv length "+T.length);return $.type==="stream"?new N($.module,z,T):$.type==="auth"?new _($.module,z,T):new a($.module,z,T)}function x(d,z){var T=w[d.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var $=h(z,!1,T.key,T.iv);return S(d,$.key,$.iv)}M.createCipheriv=S,M.createCipher=x}),O8=b1((M)=>{var w=d5(),_=H1().Buffer,R=P6(),N=r5(),b=H2(),u=C3(),h=B3(),V=i1();function a(d,z,T){b.call(this),this._cache=new L,this._last=void 0,this._cipher=new u.AES(z),this._prev=_.from(T),this._mode=d,this._autopadding=!0}V(a,b),a.prototype._update=function(d){this._cache.add(d);for(var z,T,$=[];z=this._cache.get(this._autopadding);)T=this._mode.decrypt(this,z),$.push(T);return _.concat($)},a.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,d));if(d)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this};function L(){this.cache=_.allocUnsafe(0)}L.prototype.add=function(d){this.cache=_.concat([this.cache,d])},L.prototype.get=function(d){var z;if(d){if(this.cache.length>16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z}else if(this.cache.length>=16)return z=this.cache.slice(0,16),this.cache=this.cache.slice(16),z;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache};function v(d){var z=d[15];if(z<1||z>16)throw new Error("unable to decrypt data");for(var T=-1;++T<z;)if(d[T+(16-z)]!==z)throw new Error("unable to decrypt data");if(z!==16)return d.slice(0,16-z)}function S(d,z,T){var $=R[d.toLowerCase()];if(!$)throw new TypeError("invalid suite type");if(typeof T=="string"&&(T=_.from(T)),$.mode!=="GCM"&&T.length!==$.iv)throw new TypeError("invalid iv length "+T.length);if(typeof z=="string"&&(z=_.from(z)),z.length!==$.key/8)throw new TypeError("invalid key length "+z.length);return $.type==="stream"?new N($.module,z,T,!0):$.type==="auth"?new w($.module,z,T,!0):new a($.module,z,T)}function x(d,z){var T=R[d.toLowerCase()];if(!T)throw new TypeError("invalid suite type");var $=h(z,!1,T.key,T.iv);return S(d,$.key,$.iv)}M.createDecipher=x,M.createDecipheriv=S}),U6=b1((M)=>{var w=w8(),_=O8(),R=f5();function N(){return Object.keys(R)}M.createCipher=M.Cipher=w.createCipher,M.createCipheriv=M.Cipheriv=w.createCipheriv,M.createDecipher=M.Decipher=_.createDecipher,M.createDecipheriv=M.Decipheriv=_.createDecipheriv,M.listCiphers=M.getCiphers=N}),R8=b1((M)=>{M["des-ecb"]={key:8,iv:0},M["des-cbc"]=M.des={key:8,iv:8},M["des-ede3-cbc"]=M.des3={key:24,iv:8},M["des-ede3"]={key:24,iv:0},M["des-ede-cbc"]={key:16,iv:8},M["des-ede"]={key:16,iv:0}}),s8=b1((M)=>{var w=T8(),_=U6(),R=P6(),N=R8(),b=B3();function u(v,S){v=v.toLowerCase();var x,d;if(R[v])x=R[v].key,d=R[v].iv;else if(N[v])x=N[v].key*8,d=N[v].iv;else throw new TypeError("invalid suite type");var z=b(S,!1,x,d);return V(v,z.key,z.iv)}function h(v,S){v=v.toLowerCase();var x,d;if(R[v])x=R[v].key,d=R[v].iv;else if(N[v])x=N[v].key*8,d=N[v].iv;else throw new TypeError("invalid suite type");var z=b(S,!1,x,d);return a(v,z.key,z.iv)}function V(v,S,x){if(v=v.toLowerCase(),R[v])return _.createCipheriv(v,S,x);if(N[v])return new w({key:S,iv:x,mode:v});throw new TypeError("invalid suite type")}function a(v,S,x){if(v=v.toLowerCase(),R[v])return _.createDecipheriv(v,S,x);if(N[v])return new w({key:S,iv:x,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}function L(){return Object.keys(N).concat(_.getCiphers())}M.createCipher=M.Cipher=u,M.createCipheriv=M.Cipheriv=V,M.createDecipher=M.Decipher=h,M.createDecipheriv=M.Decipheriv=a,M.listCiphers=M.getCiphers=L}),C2=b1(()=>{}),a5=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),g8=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),X8=b1(()=>{}),K6=b1((M,w)=>{var _;w.exports=function(b){return _||(_=new R(null)),_.generate(b)};function R(b){this.rand=b}if(w.exports.Rand=R,R.prototype.generate=function(b){return this._rand(b)},R.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var u=new Uint8Array(b),h=0;h<u.length;h++)u[h]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?R.prototype._rand=function(b){var u=new Uint8Array(b);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?R.prototype._rand=function(b){var u=new Uint8Array(b);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(R.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(N=X8(),typeof N.randomBytes!="function")throw new Error("Not supported");R.prototype._rand=function(b){return N.randomBytes(b)}}catch{}var N}),h5=b1((M,w)=>{var _=g8(),R=K6();function N(b){this.rand=b||new R.Rand}w.exports=N,N.create=function(b){return new N(b)},N.prototype._randbelow=function(b){var u=b.bitLength(),h=Math.ceil(u/8);do var V=new _(this.rand.generate(h));while(V.cmp(b)>=0);return V},N.prototype._randrange=function(b,u){var h=u.sub(b);return b.add(this._randbelow(h))},N.prototype.test=function(b,u,h){var V=b.bitLength(),a=_.mont(b),L=new _(1).toRed(a);u||(u=Math.max(1,V/48|0));for(var v=b.subn(1),S=0;!v.testn(S);S++);for(var x=b.shrn(S),d=v.toRed(a),z=!0;u>0;u--){var T=this._randrange(new _(2),v);h&&h(T);var $=T.toRed(a).redPow(x);if(!($.cmp(L)===0||$.cmp(d)===0)){for(var Z=1;Z<S;Z++){if($=$.redSqr(),$.cmp(L)===0)return!1;if($.cmp(d)===0)break}if(Z===S)return!1}}return z},N.prototype.getDivisor=function(b,u){var h=b.bitLength(),V=_.mont(b),a=new _(1).toRed(V);u||(u=Math.max(1,h/48|0));for(var L=b.subn(1),v=0;!L.testn(v);v++);for(var S=b.shrn(v),x=L.toRed(V);u>0;u--){var d=this._randrange(new _(2),L),z=b.gcd(d);if(z.cmpn(1)!==0)return z;var T=d.toRed(V).redPow(S);if(!(T.cmp(a)===0||T.cmp(x)===0)){for(var $=1;$<v;$++){if(T=T.redSqr(),T.cmp(a)===0)return T.fromRed().subn(1).gcd(b);if(T.cmp(x)===0)break}if($===v)return T=T.redSqr(),T.fromRed().subn(1).gcd(b)}}return!1}}),b5=b1((M,w)=>{var _=u3();w.exports=O,O.simpleSieve=s,O.fermatTest=g;var R=a5(),N=new R(24),b=h5(),u=new b,h=new R(1),V=new R(2),a=new R(5),L=new R(16),v=new R(8),S=new R(10),x=new R(3),d=new R(7),z=new R(11),T=new R(4),$=new R(12),Z=null;function W(){if(Z!==null)return Z;var U=1048576,j=[];j[0]=2;for(var G=1,H=3;H<U;H+=2){for(var D=Math.ceil(Math.sqrt(H)),l=0;l<G&&j[l]<=D&&H%j[l]!==0;l++);G!==l&&j[l]<=D||(j[G++]=H)}return Z=j,j}function s(U){for(var j=W(),G=0;G<j.length;G++)if(U.modn(j[G])===0)return U.cmpn(j[G])===0;return!0}function g(U){var j=R.mont(U);return V.toRed(j).redPow(U.subn(1)).fromRed().cmpn(1)===0}function O(U,j){if(U<16)return j===2||j===5?new R([140,123]):new R([140,39]);j=new R(j);for(var G,H;;){for(G=new R(_(Math.ceil(U/8)));G.bitLength()>U;)G.ishrn(1);if(G.isEven()&&G.iadd(h),G.testn(1)||G.iadd(V),j.cmp(V)){if(!j.cmp(a))for(;G.mod(S).cmp(x);)G.iadd(T)}else for(;G.mod(N).cmp(z);)G.iadd(T);if(H=G.shrn(1),s(H)&&s(G)&&g(H)&&g(G)&&u.test(H)&&u.test(G))return G}}}),F8=b1((M,w)=>{w.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),k8=b1((M,w)=>{var _=a5(),R=h5(),N=new R,b=new _(24),u=new _(11),h=new _(10),V=new _(3),a=new _(7),L=b5(),v=u3();w.exports=T;function S(Z,W){return W=W||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,W)),this._pub=new _(Z),this}function x(Z,W){return W=W||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,W)),this._priv=new _(Z),this}var d={};function z(Z,W){var s=W.toString("hex"),g=[s,Z.toString(16)].join("_");if(g in d)return d[g];var O=0;if(Z.isEven()||!L.simpleSieve||!L.fermatTest(Z)||!N.test(Z))return O+=1,s==="02"||s==="05"?O+=8:O+=4,d[g]=O,O;N.test(Z.shrn(1))||(O+=2);var U;switch(s){case"02":Z.mod(b).cmp(u)&&(O+=8);break;case"05":U=Z.mod(h),U.cmp(V)&&U.cmp(a)&&(O+=8);break;default:O+=4}return d[g]=O,O}function T(Z,W,s){this.setGenerator(W),this.__prime=new _(Z),this._prime=_.mont(this.__prime),this._primeLen=Z.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,s?(this.setPublicKey=S,this.setPrivateKey=x):this._primeCode=8}Object.defineProperty(T.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=z(this.__prime,this.__gen)),this._primeCode}}),T.prototype.generateKeys=function(){return this._priv||(this._priv=new _(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},T.prototype.computeSecret=function(Z){Z=new _(Z),Z=Z.toRed(this._prime);var W=Z.redPow(this._priv).fromRed(),s=new Buffer(W.toArray()),g=this.getPrime();if(s.length<g.length){var O=new Buffer(g.length-s.length);O.fill(0),s=Buffer.concat([O,s])}return s},T.prototype.getPublicKey=function(Z){return $(this._pub,Z)},T.prototype.getPrivateKey=function(Z){return $(this._priv,Z)},T.prototype.getPrime=function(Z){return $(this.__prime,Z)},T.prototype.getGenerator=function(Z){return $(this._gen,Z)},T.prototype.setGenerator=function(Z,W){return W=W||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,W)),this.__gen=Z,this._gen=new _(Z),this};function $(Z,W){var s=new Buffer(Z.toArray());return W?s.toString(W):s}}),P8=b1((M)=>{var w=b5(),_=F8(),R=k8();function N(h){var V=new Buffer(_[h].prime,"hex"),a=new Buffer(_[h].gen,"hex");return new R(V,a)}var b={binary:!0,hex:!0,base64:!0};function u(h,V,a,L){return Buffer.isBuffer(V)||b[V]===void 0?u(h,"binary",V,a):(V=V||"binary",L=L||"binary",a=a||new Buffer([2]),Buffer.isBuffer(a)||(a=new Buffer(a,L)),typeof h=="number"?new R(w(h,a),a,!0):(Buffer.isBuffer(h)||(h=new Buffer(h,V)),new R(h,a,!0)))}M.DiffieHellmanGroup=M.createDiffieHellmanGroup=M.getDiffieHellman=N,M.createDiffieHellman=M.DiffieHellman=u}),m5=b1((M,w)=>{w.exports=D2().EventEmitter}),U8=b1((M,w)=>{function _(d,z){var T=Object.keys(d);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(d);z&&($=$.filter(function(Z){return Object.getOwnPropertyDescriptor(d,Z).enumerable})),T.push.apply(T,$)}return T}function R(d){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?_(Object(T),!0).forEach(function($){N(d,$,T[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(T)):_(Object(T)).forEach(function($){Object.defineProperty(d,$,Object.getOwnPropertyDescriptor(T,$))})}return d}function N(d,z,T){return z in d?Object.defineProperty(d,z,{value:T,enumerable:!0,configurable:!0,writable:!0}):d[z]=T,d}function b(d,z){if(!(d instanceof z))throw new TypeError("Cannot call a class as a function")}function u(d,z){for(var T=0;T<z.length;T++){var $=z[T];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(d,$.key,$)}}function h(d,z,T){return z&&u(d.prototype,z),T&&u(d,T),d}var V=N2(),a=V.Buffer,L=D3(),v=L.inspect,S=v&&v.custom||"inspect";function x(d,z,T){a.prototype.copy.call(d,z,T)}w.exports=function(){function d(){b(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(z){var T={data:z,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(z){var T={data:z,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(this.length===0)return"";for(var T=this.head,$=""+T.data;T=T.next;)$+=z+T.data;return $}},{key:"concat",value:function(z){if(this.length===0)return a.alloc(0);for(var T=a.allocUnsafe(z>>>0),$=this.head,Z=0;$;)x($.data,T,Z),Z+=$.data.length,$=$.next;return T}},{key:"consume",value:function(z,T){var $;return z<this.head.data.length?($=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):z===this.head.data.length?$=this.shift():$=T?this._getString(z):this._getBuffer(z),$}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var T=this.head,$=1,Z=T.data;for(z-=Z.length;T=T.next;){var W=T.data,s=z>W.length?W.length:z;if(s===W.length?Z+=W:Z+=W.slice(0,z),z-=s,z===0){s===W.length?(++$,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=W.slice(s));break}++$}return this.length-=$,Z}},{key:"_getBuffer",value:function(z){var T=a.allocUnsafe(z),$=this.head,Z=1;for($.data.copy(T),z-=$.data.length;$=$.next;){var W=$.data,s=z>W.length?W.length:z;if(W.copy(T,T.length-z,0,s),z-=s,z===0){s===W.length?(++Z,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=W.slice(s));break}++Z}return this.length-=Z,T}},{key:S,value:function(z,T){return v(this,R({},T,{depth:0,customInspect:!1}))}}]),d}()}),y5=b1((M,w)=>{function _(V,a){var L=this,v=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return v||S?(a?a(V):V&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,V)):process.nextTick(u,this,V)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(V||null,function(x){!a&&x?L._writableState?L._writableState.errorEmitted?process.nextTick(N,L):(L._writableState.errorEmitted=!0,process.nextTick(R,L,x)):process.nextTick(R,L,x):a?(process.nextTick(N,L),a(x)):process.nextTick(N,L)}),this)}function R(V,a){u(V,a),N(V)}function N(V){V._writableState&&!V._writableState.emitClose||V._readableState&&!V._readableState.emitClose||V.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(V,a){V.emit("error",a)}function h(V,a){var{_readableState:L,_writableState:v}=V;L&&L.autoDestroy||v&&v.autoDestroy?V.destroy(a):V.emit("error",a)}w.exports={destroy:_,undestroy:b,errorOrDestroy:h}}),a3=b1((M,w)=>{function _(a,L){a.prototype=Object.create(L.prototype),a.prototype.constructor=a,a.__proto__=L}var R={};function N(a,L,v){v||(v=Error);function S(d,z,T){return typeof L=="string"?L:L(d,z,T)}var x=function(d){_(z,d);function z(T,$,Z){return d.call(this,S(T,$,Z))||this}return z}(v);x.prototype.name=v.name,x.prototype.code=a,R[a]=x}function b(a,L){if(Array.isArray(a)){var v=a.length;return a=a.map(function(S){return String(S)}),v>2?"one of ".concat(L," ").concat(a.slice(0,v-1).join(", "),", or ")+a[v-1]:v===2?"one of ".concat(L," ").concat(a[0]," or ").concat(a[1]):"of ".concat(L," ").concat(a[0])}else return"of ".concat(L," ").concat(String(a))}function u(a,L,v){return a.substr(!v||v<0?0:+v,L.length)===L}function h(a,L,v){return(v===void 0||v>a.length)&&(v=a.length),a.substring(v-L.length,v)===L}function V(a,L,v){return typeof v!="number"&&(v=0),v+L.length>a.length?!1:a.indexOf(L,v)!==-1}N("ERR_INVALID_OPT_VALUE",function(a,L){return'The value "'+L+'" is invalid for option "'+a+'"'},TypeError),N("ERR_INVALID_ARG_TYPE",function(a,L,v){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var x;if(h(a," argument"))x="The ".concat(a," ").concat(S," ").concat(b(L,"type"));else{var d=V(a,".")?"property":"argument";x='The "'.concat(a,'" ').concat(d," ").concat(S," ").concat(b(L,"type"))}return x+=". Received type ".concat(typeof v),x},TypeError),N("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),N("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),N("ERR_STREAM_PREMATURE_CLOSE","Premature close"),N("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),N("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),N("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),N("ERR_STREAM_WRITE_AFTER_END","write after end"),N("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),N("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),N("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),w.exports.codes=R}),v5=b1((M,w)=>{var _=a3().codes.ERR_INVALID_OPT_VALUE;function R(b,u,h){return b.highWaterMark!=null?b.highWaterMark:u?b[h]:null}function N(b,u,h,V){var a=R(u,V,h);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var L=V?h:"highWaterMark";throw new _(L,a)}return Math.floor(a)}return b.objectMode?16:16384}w.exports={getHighWaterMark:N}}),_5=b1((M,w)=>{w.exports=H;function _(B){var E=this;this.next=null,this.entry=null,this.finish=function(){e(E,B)}}var R;H.WritableState=j;var N={deprecate:X0()},b=m5(),u=N2().Buffer,h=global.Uint8Array||function(){};function V(B){return u.from(B)}function a(B){return u.isBuffer(B)||B instanceof h}var L=y5(),v=v5(),S=v.getHighWaterMark,x=a3().codes,d=x.ERR_INVALID_ARG_TYPE,z=x.ERR_METHOD_NOT_IMPLEMENTED,T=x.ERR_MULTIPLE_CALLBACK,$=x.ERR_STREAM_CANNOT_PIPE,Z=x.ERR_STREAM_DESTROYED,W=x.ERR_STREAM_NULL_VALUES,s=x.ERR_STREAM_WRITE_AFTER_END,g=x.ERR_UNKNOWN_ENCODING,O=L.errorOrDestroy;i1()(H,b);function U(){}function j(B,E,A){R=R||h3(),B=B||{},typeof A!="boolean"&&(A=E instanceof R),this.objectMode=!!B.objectMode,A&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=S(this,B,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h1=B.decodeStrings===!1;this.decodeStrings=!h1,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){q(E,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}j.prototype.getBuffer=function(){for(var B=this.bufferedRequest,E=[];B;)E.push(B),B=B.next;return E},function(){try{Object.defineProperty(j.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var G;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(G=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(B){return G.call(this,B)?!0:this!==H?!1:B&&B._writableState instanceof j}})):G=function(B){return B instanceof this};function H(B){R=R||h3();var E=this instanceof R;if(!E&&!G.call(H,this))return new H(B);this._writableState=new j(B,this,E),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),b.call(this)}H.prototype.pipe=function(){O(this,new $)};function D(B,E){var A=new s;O(B,A),process.nextTick(E,A)}function l(B,E,A,h1){var n1;return A===null?n1=new W:typeof A!="string"&&!E.objectMode&&(n1=new d("chunk",["string","Buffer"],A)),n1?(O(B,n1),process.nextTick(h1,n1),!1):!0}H.prototype.write=function(B,E,A){var h1=this._writableState,n1=!1,c1=!h1.objectMode&&a(B);return c1&&!u.isBuffer(B)&&(B=V(B)),typeof E=="function"&&(A=E,E=null),c1?E="buffer":E||(E=h1.defaultEncoding),typeof A!="function"&&(A=U),h1.ending?D(this,A):(c1||l(this,h1,B,A))&&(h1.pendingcb++,n1=f(this,h1,c1,B,E,A)),n1},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&m(this,B))},H.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new g(B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(B,E,A){return!B.objectMode&&B.decodeStrings!==!1&&typeof E=="string"&&(E=u.from(E,A)),E}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(B,E,A,h1,n1,c1){if(!A){var J=p(E,h1,n1);h1!==J&&(A=!0,n1="buffer",h1=J)}var K=E.objectMode?1:h1.length;E.length+=K;var Y=E.length<E.highWaterMark;if(Y||(E.needDrain=!0),E.writing||E.corked){var p1=E.lastBufferedRequest;E.lastBufferedRequest={chunk:h1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else n(B,E,!1,K,h1,n1,c1);return Y}function n(B,E,A,h1,n1,c1,J){E.writelen=h1,E.writecb=J,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new Z("write")):A?B._writev(n1,E.onwrite):B._write(n1,c1,E.onwrite),E.sync=!1}function c(B,E,A,h1,n1){--E.pendingcb,A?(process.nextTick(n1,h1),process.nextTick(I,B,E),B._writableState.errorEmitted=!0,O(B,h1)):(n1(h1),B._writableState.errorEmitted=!0,O(B,h1),I(B,E))}function y(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function q(B,E){var A=B._writableState,h1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new T;if(y(A),E)c(B,A,h1,E,n1);else{var c1=P(A)||B.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&m(B,A),h1?process.nextTick(r,B,A,c1,n1):r(B,A,c1,n1)}}function r(B,E,A,h1){A||o(B,E),E.pendingcb--,h1(),I(B,E)}function o(B,E){E.length===0&&E.needDrain&&(E.needDrain=!1,B.emit("drain"))}function m(B,E){E.bufferProcessing=!0;var A=E.bufferedRequest;if(B._writev&&A&&A.next){var h1=E.bufferedRequestCount,n1=new Array(h1),c1=E.corkedRequestsFree;c1.entry=A;for(var J=0,K=!0;A;)n1[J]=A,A.isBuf||(K=!1),A=A.next,J+=1;n1.allBuffers=K,n(B,E,!0,E.length,n1,"",c1.finish),E.pendingcb++,E.lastBufferedRequest=null,c1.next?(E.corkedRequestsFree=c1.next,c1.next=null):E.corkedRequestsFree=new _(E),E.bufferedRequestCount=0}else{for(;A;){var{chunk:Y,encoding:p1,callback:u1}=A,o1=E.objectMode?1:Y.length;if(n(B,E,!1,o1,Y,p1,u1),A=A.next,E.bufferedRequestCount--,E.writing)break}A===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=A,E.bufferProcessing=!1}H.prototype._write=function(B,E,A){A(new z("_write()"))},H.prototype._writev=null,H.prototype.end=function(B,E,A){var h1=this._writableState;return typeof B=="function"?(A=B,B=null,E=null):typeof E=="function"&&(A=E,E=null),B!=null&&this.write(B,E),h1.corked&&(h1.corked=1,this.uncork()),h1.ending||Q(this,h1,A),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function X(B,E){B._final(function(A){E.pendingcb--,A&&O(B,A),E.prefinished=!0,B.emit("prefinish"),I(B,E)})}function k(B,E){!E.prefinished&&!E.finalCalled&&(typeof B._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(X,B,E)):(E.prefinished=!0,B.emit("prefinish")))}function I(B,E){var A=P(E);if(A&&(k(B,E),E.pendingcb===0&&(E.finished=!0,B.emit("finish"),E.autoDestroy))){var h1=B._readableState;(!h1||h1.autoDestroy&&h1.endEmitted)&&B.destroy()}return A}function Q(B,E,A){E.ending=!0,I(B,E),A&&(E.finished?process.nextTick(A):B.once("finish",A)),E.ended=!0,B.writable=!1}function e(B,E,A){var h1=B.entry;for(B.entry=null;h1;){var n1=h1.callback;E.pendingcb--,n1(A),h1=h1.next}E.corkedRequestsFree.next=B}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(B){!this._writableState||(this._writableState.destroyed=B)}}),H.prototype.destroy=L.destroy,H.prototype._undestroy=L.undestroy,H.prototype._destroy=function(B,E){E(B)}}),h3=b1((M,w)=>{var _=Object.keys||function(v){var S=[];for(var x in v)S.push(x);return S};w.exports=V;var R=x5(),N=_5();i1()(V,R);for(b=_(N.prototype),h=0;h<b.length;h++)u=b[h],V.prototype[u]||(V.prototype[u]=N.prototype[u]);var b,u,h;function V(v){if(!(this instanceof V))return new V(v);R.call(this,v),N.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(L,this)}function L(v){v.end()}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),i6=b1((M,w)=>{var _=a3().codes.ERR_STREAM_PREMATURE_CLOSE;function R(h){var V=!1;return function(){if(!V){V=!0;for(var a=arguments.length,L=new Array(a),v=0;v<a;v++)L[v]=arguments[v];h.apply(this,L)}}}function N(){}function b(h){return h.setHeader&&typeof h.abort=="function"}function u(h,V,a){if(typeof V=="function")return u(h,null,V);V||(V={}),a=R(a||N);var L=V.readable||V.readable!==!1&&h.readable,v=V.writable||V.writable!==!1&&h.writable,S=function(){h.writable||d()},x=h._writableState&&h._writableState.finished,d=function(){v=!1,x=!0,L||a.call(h)},z=h._readableState&&h._readableState.endEmitted,T=function(){L=!1,z=!0,v||a.call(h)},$=function(s){a.call(h,s)},Z=function(){var s;if(L&&!z)return(!h._readableState||!h._readableState.ended)&&(s=new _),a.call(h,s);if(v&&!x)return(!h._writableState||!h._writableState.ended)&&(s=new _),a.call(h,s)},W=function(){h.req.on("finish",d)};return b(h)?(h.on("complete",d),h.on("abort",Z),h.req?W():h.on("request",W)):v&&!h._writableState&&(h.on("end",S),h.on("close",S)),h.on("end",T),h.on("finish",d),V.error!==!1&&h.on("error",$),h.on("close",Z),function(){h.removeListener("complete",d),h.removeListener("abort",Z),h.removeListener("request",W),h.req&&h.req.removeListener("finish",d),h.removeListener("end",S),h.removeListener("close",S),h.removeListener("finish",d),h.removeListener("end",T),h.removeListener("error",$),h.removeListener("close",Z)}}w.exports=u}),K8=b1((M,w)=>{var _;function R(W,s,g){return s in W?Object.defineProperty(W,s,{value:g,enumerable:!0,configurable:!0,writable:!0}):W[s]=g,W}var N=i6(),b=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),V=Symbol("ended"),a=Symbol("lastPromise"),L=Symbol("handlePromise"),v=Symbol("stream");function S(W,s){return{value:W,done:s}}function x(W){var s=W[b];if(s!==null){var g=W[v].read();g!==null&&(W[a]=null,W[b]=null,W[u]=null,s(S(g,!1)))}}function d(W){process.nextTick(x,W)}function z(W,s){return function(g,O){W.then(function(){if(s[V]){g(S(void 0,!0));return}s[L](g,O)},O)}}var T=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((_={get stream(){return this[v]},next:function(){var W=this,s=this[h];if(s!==null)return Promise.reject(s);if(this[V])return Promise.resolve(S(void 0,!0));if(this[v].destroyed)return new Promise(function(j,G){process.nextTick(function(){W[h]?G(W[h]):j(S(void 0,!0))})});var g=this[a],O;if(g)O=new Promise(z(g,this));else{var U=this[v].read();if(U!==null)return Promise.resolve(S(U,!1));O=new Promise(this[L])}return this[a]=O,O}},R(_,Symbol.asyncIterator,function(){return this}),R(_,"return",function(){var W=this;return new Promise(function(s,g){W[v].destroy(null,function(O){if(O){g(O);return}s(S(void 0,!0))})})}),_),T),Z=function(W){var s,g=Object.create($,(s={},R(s,v,{value:W,writable:!0}),R(s,b,{value:null,writable:!0}),R(s,u,{value:null,writable:!0}),R(s,h,{value:null,writable:!0}),R(s,V,{value:W._readableState.endEmitted,writable:!0}),R(s,L,{value:function(O,U){var j=g[v].read();j?(g[a]=null,g[b]=null,g[u]=null,O(S(j,!1))):(g[b]=O,g[u]=U)},writable:!0}),s));return g[a]=null,N(W,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=g[u];U!==null&&(g[a]=null,g[b]=null,g[u]=null,U(O)),g[h]=O;return}var j=g[b];j!==null&&(g[a]=null,g[b]=null,g[u]=null,j(S(void 0,!0))),g[V]=!0}),W.on("readable",d.bind(null,g)),g};w.exports=Z}),i8=b1((M,w)=>{w.exports=function(){throw new Error("Readable.from is not available in the browser")}}),x5=b1((M,w)=>{w.exports=l;var _;l.ReadableState=D;var R=D2().EventEmitter,N=function(J,K){return J.listeners(K).length},b=m5(),u=N2().Buffer,h=global.Uint8Array||function(){};function V(J){return u.from(J)}function a(J){return u.isBuffer(J)||J instanceof h}var L=D3(),v;L&&L.debuglog?v=L.debuglog("stream"):v=function(){};var S=U8(),x=y5(),d=v5(),z=d.getHighWaterMark,T=a3().codes,$=T.ERR_INVALID_ARG_TYPE,Z=T.ERR_STREAM_PUSH_AFTER_EOF,W=T.ERR_METHOD_NOT_IMPLEMENTED,s=T.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,O,U;i1()(l,b);var j=x.errorOrDestroy,G=["error","close","destroy","pause","resume"];function H(J,K,Y){if(typeof J.prependListener=="function")return J.prependListener(K,Y);!J._events||!J._events[K]?J.on(K,Y):Array.isArray(J._events[K])?J._events[K].unshift(Y):J._events[K]=[Y,J._events[K]]}function D(J,K,Y){_=_||h3(),J=J||{},typeof Y!="boolean"&&(Y=K instanceof _),this.objectMode=!!J.objectMode,Y&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=z(this,J,"readableHighWaterMark",Y),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(g||(g=(I3(),w2(N3)).StringDecoder),this.decoder=new g(J.encoding),this.encoding=J.encoding)}function l(J){if(_=_||h3(),!(this instanceof l))return new l(J);var K=this instanceof _;this._readableState=new D(J,this,K),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),b.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){!this._readableState||(this._readableState.destroyed=J)}}),l.prototype.destroy=x.destroy,l.prototype._undestroy=x.undestroy,l.prototype._destroy=function(J,K){K(J)},l.prototype.push=function(J,K){var Y=this._readableState,p1;return Y.objectMode?p1=!0:typeof J=="string"&&(K=K||Y.defaultEncoding,K!==Y.encoding&&(J=u.from(J,K),K=""),p1=!0),p(this,J,K,!1,p1)},l.prototype.unshift=function(J){return p(this,J,null,!0,!1)};function p(J,K,Y,p1,u1){v("readableAddChunk",K);var o1=J._readableState;if(K===null)o1.reading=!1,r(J,o1);else{var M1;if(u1||(M1=n(o1,K)),M1)j(J,M1);else if(o1.objectMode||K&&K.length>0)if(typeof K!="string"&&!o1.objectMode&&Object.getPrototypeOf(K)!==u.prototype&&(K=V(K)),p1)o1.endEmitted?j(J,new s):f(J,o1,K,!0);else if(o1.ended)j(J,new Z);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!Y?(K=o1.decoder.write(K),o1.objectMode||K.length!==0?f(J,o1,K,!1):P(J,o1)):f(J,o1,K,!1)}else p1||(o1.reading=!1,P(J,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function f(J,K,Y,p1){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,J.emit("data",Y)):(K.length+=K.objectMode?1:Y.length,p1?K.buffer.unshift(Y):K.buffer.push(Y),K.needReadable&&o(J)),P(J,K)}function n(J,K){var Y;return!a(K)&&typeof K!="string"&&K!==void 0&&!J.objectMode&&(Y=new $("chunk",["string","Buffer","Uint8Array"],K)),Y}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(J){g||(g=(I3(),w2(N3)).StringDecoder);var K=new g(J);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,p1="";Y!==null;)p1+=K.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function y(J){return J>=c?J=c:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function q(J,K){return J<=0||K.length===0&&K.ended?0:K.objectMode?1:J!==J?K.flowing&&K.length?K.buffer.head.data.length:K.length:(J>K.highWaterMark&&(K.highWaterMark=y(J)),J<=K.length?J:K.ended?K.length:(K.needReadable=!0,0))}l.prototype.read=function(J){v("read",J),J=parseInt(J,10);var K=this._readableState,Y=J;if(J!==0&&(K.emittedReadable=!1),J===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return v("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?h1(this):o(this),null;if(J=q(J,K),J===0&&K.ended)return K.length===0&&h1(this),null;var p1=K.needReadable;v("need readable",p1),(K.length===0||K.length-J<K.highWaterMark)&&(p1=!0,v("length less than watermark",p1)),K.ended||K.reading?(p1=!1,v("reading or ended",p1)):p1&&(v("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(J=q(Y,K)));var u1;return J>0?u1=A(J,K):u1=null,u1===null?(K.needReadable=K.length<=K.highWaterMark,J=0):(K.length-=J,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Y!==J&&K.ended&&h1(this)),u1!==null&&this.emit("data",u1),u1};function r(J,K){if(v("onEofChunk"),!K.ended){if(K.decoder){var Y=K.decoder.end();Y&&Y.length&&(K.buffer.push(Y),K.length+=K.objectMode?1:Y.length)}K.ended=!0,K.sync?o(J):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,m(J)))}}function o(J){var K=J._readableState;v("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(v("emitReadable",K.flowing),K.emittedReadable=!0,process.nextTick(m,J))}function m(J){var K=J._readableState;v("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(J.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,E(J)}function P(J,K){K.readingMore||(K.readingMore=!0,process.nextTick(X,J,K))}function X(J,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Y=K.length;if(v("maybeReadMore read 0"),J.read(0),Y===K.length)break}K.readingMore=!1}l.prototype._read=function(J){j(this,new W("_read()"))},l.prototype.pipe=function(J,K){var Y=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=J;break;case 1:p1.pipes=[p1.pipes,J];break;default:p1.pipes.push(J);break}p1.pipesCount+=1,v("pipe count=%d opts=%j",p1.pipesCount,K);var u1=(!K||K.end!==!1)&&J!==process.stdout&&J!==process.stderr,o1=u1?d1:t;p1.endEmitted?process.nextTick(o1):Y.once("end",o1),J.on("unpipe",M1);function M1(C,l1){v("onunpipe"),C===Y&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,m1())}function d1(){v("onend"),J.end()}var r1=k(Y);J.on("drain",r1);var F1=!1;function m1(){v("cleanup"),J.removeListener("close",F),J.removeListener("finish",i),J.removeListener("drain",r1),J.removeListener("error",k1),J.removeListener("unpipe",M1),Y.removeListener("end",d1),Y.removeListener("end",t),Y.removeListener("data",a1),F1=!0,p1.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&r1()}Y.on("data",a1);function a1(C){v("ondata");var l1=J.write(C);v("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===J||p1.pipesCount>1&&c1(p1.pipes,J)!==-1)&&!F1&&(v("false write response, pause",p1.awaitDrain),p1.awaitDrain++),Y.pause())}function k1(C){v("onerror",C),t(),J.removeListener("error",k1),N(J,"error")===0&&j(J,C)}H(J,"error",k1);function F(){J.removeListener("finish",i),t()}J.once("close",F);function i(){v("onfinish"),J.removeListener("close",F),t()}J.once("finish",i);function t(){v("unpipe"),Y.unpipe(J)}return J.emit("pipe",Y),p1.flowing||(v("pipe resume"),Y.resume()),J};function k(J){return function(){var K=J._readableState;v("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&N(J,"data")&&(K.flowing=!0,E(J))}}l.prototype.unpipe=function(J){var K=this._readableState,Y={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return J&&J!==K.pipes?this:(J||(J=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,J&&J.emit("unpipe",this,Y),this);if(!J){var{pipes:p1,pipesCount:u1}=K;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var M1=c1(K.pipes,J);return M1===-1?this:(K.pipes.splice(M1,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),J.emit("unpipe",this,Y),this)},l.prototype.on=function(J,K){var Y=b.prototype.on.call(this,J,K),p1=this._readableState;return J==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):J==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,v("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(Q,this)),Y},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(J,K){var Y=b.prototype.removeListener.call(this,J,K);return J==="readable"&&process.nextTick(I,this),Y},l.prototype.removeAllListeners=function(J){var K=b.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&process.nextTick(I,this),K};function I(J){var K=J._readableState;K.readableListening=J.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:J.listenerCount("data")>0&&J.resume()}function Q(J){v("readable nexttick read 0"),J.read(0)}l.prototype.resume=function(){var J=this._readableState;return J.flowing||(v("resume"),J.flowing=!J.readableListening,e(this,J)),J.paused=!1,this};function e(J,K){K.resumeScheduled||(K.resumeScheduled=!0,process.nextTick(B,J,K))}function B(J,K){v("resume",K.reading),K.reading||J.read(0),K.resumeScheduled=!1,J.emit("resume"),E(J),K.flowing&&!K.reading&&J.read(0)}l.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function E(J){var K=J._readableState;for(v("flow",K.flowing);K.flowing&&J.read()!==null;);}l.prototype.wrap=function(J){var K=this,Y=this._readableState,p1=!1;J.on("end",function(){if(v("wrapped end"),Y.decoder&&!Y.ended){var M1=Y.decoder.end();M1&&M1.length&&K.push(M1)}K.push(null)}),J.on("data",function(M1){if(v("wrapped data"),Y.decoder&&(M1=Y.decoder.write(M1)),!(Y.objectMode&&M1==null)&&!(!Y.objectMode&&(!M1||!M1.length))){var d1=K.push(M1);d1||(p1=!0,J.pause())}});for(var u1 in J)this[u1]===void 0&&typeof J[u1]=="function"&&(this[u1]=function(M1){return function(){return J[M1].apply(J,arguments)}}(u1));for(var o1=0;o1<G.length;o1++)J.on(G[o1],this.emit.bind(this,G[o1]));return this._read=function(M1){v("wrapped _read",M1),p1&&(p1=!1,J.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=K8()),O(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(J,K){if(K.length===0)return null;var Y;return K.objectMode?Y=K.buffer.shift():!J||J>=K.length?(K.decoder?Y=K.buffer.join(""):K.buffer.length===1?Y=K.buffer.first():Y=K.buffer.concat(K.length),K.buffer.clear()):Y=K.buffer.consume(J,K.decoder),Y}function h1(J){var K=J._readableState;v("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,process.nextTick(n1,K,J))}function n1(J,K){if(v("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,K.readable=!1,K.emit("end"),J.autoDestroy)){var Y=K._writableState;(!Y||Y.autoDestroy&&Y.finished)&&K.destroy()}}typeof Symbol=="function"&&(l.from=function(J,K){return U===void 0&&(U=i8()),U(l,J,K)});function c1(J,K){for(var Y=0,p1=J.length;Y<p1;Y++)if(J[Y]===K)return Y;return-1}}),L5=b1((M,w)=>{w.exports=a;var _=a3().codes,R=_.ERR_METHOD_NOT_IMPLEMENTED,N=_.ERR_MULTIPLE_CALLBACK,b=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=_.ERR_TRANSFORM_WITH_LENGTH_0,h=h3();i1()(a,h);function V(S,x){var d=this._transformState;d.transforming=!1;var z=d.writecb;if(z===null)return this.emit("error",new N);d.writechunk=null,d.writecb=null,x!=null&&this.push(x),z(S);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function a(S){if(!(this instanceof a))return new a(S);h.call(this,S),this._transformState={afterTransform:V.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,d){v(S,x,d)}):v(this,null,null)}a.prototype.push=function(S,x){return this._transformState.needTransform=!1,h.prototype.push.call(this,S,x)},a.prototype._transform=function(S,x,d){d(new R("_transform()"))},a.prototype._write=function(S,x,d){var z=this._transformState;if(z.writecb=d,z.writechunk=S,z.writeencoding=x,!z.transforming){var T=this._readableState;(z.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},a.prototype._read=function(S){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},a.prototype._destroy=function(S,x){h.prototype._destroy.call(this,S,function(d){x(d)})};function v(S,x,d){if(x)return S.emit("error",x);if(d!=null&&S.push(d),S._writableState.length)throw new u;if(S._transformState.transforming)throw new b;return S.push(null)}}),j8=b1((M,w)=>{w.exports=R;var _=L5();i1()(R,_);function R(N){if(!(this instanceof R))return new R(N);_.call(this,N)}R.prototype._transform=function(N,b,u){u(null,N)}}),H8=b1((M,w)=>{var _;function R(d){var z=!1;return function(){z||(z=!0,d.apply(void 0,arguments))}}var N=a3().codes,b=N.ERR_MISSING_ARGS,u=N.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function V(d){return d.setHeader&&typeof d.abort=="function"}function a(d,z,T,$){$=R($);var Z=!1;d.on("close",function(){Z=!0}),_===void 0&&(_=i6()),_(d,{readable:z,writable:T},function(s){if(s)return $(s);Z=!0,$()});var W=!1;return function(s){if(!Z&&!W){if(W=!0,V(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();$(s||new u("pipe"))}}}function L(d){d()}function v(d,z){return d.pipe(z)}function S(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function x(){for(var d=arguments.length,z=new Array(d),T=0;T<d;T++)z[T]=arguments[T];var $=S(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new b("streams");var Z,W=z.map(function(s,g){var O=g<z.length-1,U=g>0;return a(s,O,U,function(j){Z||(Z=j),j&&W.forEach(L),!O&&(W.forEach(L),$(Z))})});return z.reduce(v)}w.exports=x}),G8=b1((M,w)=>{M=w.exports=x5(),M.Stream=M,M.Readable=M,M.Writable=_5(),M.Duplex=h3(),M.Transform=L5(),M.PassThrough=j8(),M.finished=i6(),M.pipeline=H8()}),j6=b1((M,w)=>{(function(_,R){function N(n,c){if(!n)throw new Error(c||"Assertion failed")}function b(n,c){n.super_=c;var y=function(){};y.prototype=c.prototype,n.prototype=new y,n.prototype.constructor=n}function u(n,c,y){if(u.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((c==="le"||c==="be")&&(y=c,c=10),this._init(n||0,c||10,y||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(n){return n instanceof u?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===u.wordSize&&Array.isArray(n.words)},u.max=function(n,c){return n.cmp(c)>0?n:c},u.min=function(n,c){return n.cmp(c)<0?n:c},u.prototype._init=function(n,c,y){if(typeof n=="number")return this._initNumber(n,c,y);if(typeof n=="object")return this._initArray(n,c,y);c==="hex"&&(c=16),N(c===(c|0)&&c>=2&&c<=36),n=n.toString().replace(/\s+/g,"");var q=0;n[0]==="-"&&(q++,this.negative=1),q<n.length&&(c===16?this._parseHex(n,q,y):(this._parseBase(n,c,q),y==="le"&&this._initArray(this.toArray(),c,y)))},u.prototype._initNumber=function(n,c,y){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(N(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),c,y)},u.prototype._initArray=function(n,c,y){if(N(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var r,o,m=0;if(y==="be")for(q=n.length-1,r=0;q>=0;q-=3)o=n[q]|n[q-1]<<8|n[q-2]<<16,this.words[r]|=o<<m&67108863,this.words[r+1]=o>>>26-m&67108863,m+=24,m>=26&&(m-=26,r++);else if(y==="le")for(q=0,r=0;q<n.length;q+=3)o=n[q]|n[q+1]<<8|n[q+2]<<16,this.words[r]|=o<<m&67108863,this.words[r+1]=o>>>26-m&67108863,m+=24,m>=26&&(m-=26,r++);return this._strip()};function V(n,c){var y=n.charCodeAt(c);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;N(!1,"Invalid character in "+n)}function a(n,c,y){var q=V(n,y);return y-1>=c&&(q|=V(n,y-1)<<4),q}u.prototype._parseHex=function(n,c,y){this.length=Math.ceil((n.length-c)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var r=0,o=0,m;if(y==="be")for(q=n.length-1;q>=c;q-=2)m=a(n,c,q)<<r,this.words[o]|=m&67108863,r>=18?(r-=18,o+=1,this.words[o]|=m>>>26):r+=8;else{var P=n.length-c;for(q=P%2===0?c+1:c;q<n.length;q+=2)m=a(n,c,q)<<r,this.words[o]|=m&67108863,r>=18?(r-=18,o+=1,this.words[o]|=m>>>26):r+=8}this._strip()};function L(n,c,y,q){for(var r=0,o=0,m=Math.min(n.length,y),P=c;P<m;P++){var X=n.charCodeAt(P)-48;r*=q,X>=49?o=X-49+10:X>=17?o=X-17+10:o=X,N(X>=0&&o<q,"Invalid character"),r+=o}return r}u.prototype._parseBase=function(n,c,y){this.words=[0],this.length=1;for(var q=0,r=1;r<=67108863;r*=c)q++;q--,r=r/c|0;for(var o=n.length-y,m=o%q,P=Math.min(o,o-m)+y,X=0,k=y;k<P;k+=q)X=L(n,k,k+q,c),this.imuln(r),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(m!==0){var I=1;for(X=L(n,k,n.length,c),k=0;k<m;k++)I*=c;this.imuln(I),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},u.prototype.copy=function(n){n.words=new Array(this.length);for(var c=0;c<this.length;c++)n.words[c]=this.words[c];n.length=this.length,n.negative=this.negative,n.red=this.red};function v(n,c){n.words=c.words,n.length=c.length,n.negative=c.negative,n.red=c.red}if(u.prototype._move=function(n){v(n,this)},u.prototype.clone=function(){var n=new u(null);return this.copy(n),n},u.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{u.prototype.inspect=S}else u.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(n,c){n=n||10,c=c|0||1;var y;if(n===16||n==="hex"){y="";for(var q=0,r=0,o=0;o<this.length;o++){var m=this.words[o],P=((m<<q|r)&16777215).toString(16);r=m>>>24-q&16777215,q+=2,q>=26&&(q-=26,o--),r!==0||o!==this.length-1?y=x[6-P.length]+P+y:y=P+y}for(r!==0&&(y=r.toString(16)+y);y.length%c!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(n===(n|0)&&n>=2&&n<=36){var X=d[n],k=z[n];y="";var I=this.clone();for(I.negative=0;!I.isZero();){var Q=I.modrn(k).toString(n);I=I.idivn(k),I.isZero()?y=Q+y:y=x[X-Q.length]+Q+y}for(this.isZero()&&(y="0"+y);y.length%c!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},u.prototype.toJSON=function(){return this.toString(16,2)},h&&(u.prototype.toBuffer=function(n,c){return this.toArrayLike(h,n,c)}),u.prototype.toArray=function(n,c){return this.toArrayLike(Array,n,c)};var T=function(n,c){return n.allocUnsafe?n.allocUnsafe(c):new n(c)};u.prototype.toArrayLike=function(n,c,y){this._strip();var q=this.byteLength(),r=y||Math.max(1,q);N(q<=r,"byte array longer than desired length"),N(r>0,"Requested array length <= 0");var o=T(n,r),m=c==="le"?"LE":"BE";return this["_toArrayLike"+m](o,q),o},u.prototype._toArrayLikeLE=function(n,c){for(var y=0,q=0,r=0,o=0;r<this.length;r++){var m=this.words[r]<<o|q;n[y++]=m&255,y<n.length&&(n[y++]=m>>8&255),y<n.length&&(n[y++]=m>>16&255),o===6?(y<n.length&&(n[y++]=m>>24&255),q=0,o=0):(q=m>>>24,o+=2)}if(y<n.length)for(n[y++]=q;y<n.length;)n[y++]=0},u.prototype._toArrayLikeBE=function(n,c){for(var y=n.length-1,q=0,r=0,o=0;r<this.length;r++){var m=this.words[r]<<o|q;n[y--]=m&255,y>=0&&(n[y--]=m>>8&255),y>=0&&(n[y--]=m>>16&255),o===6?(y>=0&&(n[y--]=m>>24&255),q=0,o=0):(q=m>>>24,o+=2)}if(y>=0)for(n[y--]=q;y>=0;)n[y--]=0},Math.clz32?u.prototype._countBits=function(n){return 32-Math.clz32(n)}:u.prototype._countBits=function(n){var c=n,y=0;return c>=4096&&(y+=13,c>>>=13),c>=64&&(y+=7,c>>>=7),c>=8&&(y+=4,c>>>=4),c>=2&&(y+=2,c>>>=2),y+c},u.prototype._zeroBits=function(n){if(n===0)return 26;var c=n,y=0;return(c&8191)===0&&(y+=13,c>>>=13),(c&127)===0&&(y+=7,c>>>=7),(c&15)===0&&(y+=4,c>>>=4),(c&3)===0&&(y+=2,c>>>=2),(c&1)===0&&y++,y},u.prototype.bitLength=function(){var n=this.words[this.length-1],c=this._countBits(n);return(this.length-1)*26+c};function $(n){for(var c=new Array(n.bitLength()),y=0;y<c.length;y++){var q=y/26|0,r=y%26;c[y]=n.words[q]>>>r&1}return c}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,c=0;c<this.length;c++){var y=this._zeroBits(this.words[c]);if(n+=y,y!==26)break}return n},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},u.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]|n.words[c];return this._strip()},u.prototype.ior=function(n){return N((this.negative|n.negative)===0),this.iuor(n)},u.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},u.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},u.prototype.iuand=function(n){var c;this.length>n.length?c=n:c=this;for(var y=0;y<c.length;y++)this.words[y]=this.words[y]&n.words[y];return this.length=c.length,this._strip()},u.prototype.iand=function(n){return N((this.negative|n.negative)===0),this.iuand(n)},u.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},u.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},u.prototype.iuxor=function(n){var c,y;this.length>n.length?(c=this,y=n):(c=n,y=this);for(var q=0;q<y.length;q++)this.words[q]=c.words[q]^y.words[q];if(this!==c)for(;q<c.length;q++)this.words[q]=c.words[q];return this.length=c.length,this._strip()},u.prototype.ixor=function(n){return N((this.negative|n.negative)===0),this.iuxor(n)},u.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},u.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},u.prototype.inotn=function(n){N(typeof n=="number"&&n>=0);var c=Math.ceil(n/26)|0,y=n%26;this._expand(c),y>0&&c--;for(var q=0;q<c;q++)this.words[q]=~this.words[q]&67108863;return y>0&&(this.words[q]=~this.words[q]&67108863>>26-y),this._strip()},u.prototype.notn=function(n){return this.clone().inotn(n)},u.prototype.setn=function(n,c){N(typeof n=="number"&&n>=0);var y=n/26|0,q=n%26;return this._expand(y+1),c?this.words[y]=this.words[y]|1<<q:this.words[y]=this.words[y]&~(1<<q),this._strip()},u.prototype.iadd=function(n){var c;if(this.negative!==0&&n.negative===0)return this.negative=0,c=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,c=this.isub(n),n.negative=1,c._normSign();var y,q;this.length>n.length?(y=this,q=n):(y=n,q=this);for(var r=0,o=0;o<q.length;o++)c=(y.words[o]|0)+(q.words[o]|0)+r,this.words[o]=c&67108863,r=c>>>26;for(;r!==0&&o<y.length;o++)c=(y.words[o]|0)+r,this.words[o]=c&67108863,r=c>>>26;if(this.length=y.length,r!==0)this.words[this.length]=r,this.length++;else if(y!==this)for(;o<y.length;o++)this.words[o]=y.words[o];return this},u.prototype.add=function(n){var c;return n.negative!==0&&this.negative===0?(n.negative=0,c=this.sub(n),n.negative^=1,c):n.negative===0&&this.negative!==0?(this.negative=0,c=n.sub(this),this.negative=1,c):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},u.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var c=this.iadd(n);return n.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var y=this.cmp(n);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,r;y>0?(q=this,r=n):(q=n,r=this);for(var o=0,m=0;m<r.length;m++)c=(q.words[m]|0)-(r.words[m]|0)+o,o=c>>26,this.words[m]=c&67108863;for(;o!==0&&m<q.length;m++)c=(q.words[m]|0)+o,o=c>>26,this.words[m]=c&67108863;if(o===0&&m<q.length&&q!==this)for(;m<q.length;m++)this.words[m]=q.words[m];return this.length=Math.max(this.length,m),q!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(n){return this.clone().isub(n)};function Z(n,c,y){y.negative=c.negative^n.negative;var q=n.length+c.length|0;y.length=q,q=q-1|0;var r=n.words[0]|0,o=c.words[0]|0,m=r*o,P=m&67108863,X=m/67108864|0;y.words[0]=P;for(var k=1;k<q;k++){for(var I=X>>>26,Q=X&67108863,e=Math.min(k,c.length-1),B=Math.max(0,k-n.length+1);B<=e;B++){var E=k-B|0;r=n.words[E]|0,o=c.words[B]|0,m=r*o+Q,I+=m/67108864|0,Q=m&67108863}y.words[k]=Q|0,X=I|0}return X!==0?y.words[k]=X|0:y.length--,y._strip()}var W=function(n,c,y){var q=n.words,r=c.words,o=y.words,m=0,P,X,k,I=q[0]|0,Q=I&8191,e=I>>>13,B=q[1]|0,E=B&8191,A=B>>>13,h1=q[2]|0,n1=h1&8191,c1=h1>>>13,J=q[3]|0,K=J&8191,Y=J>>>13,p1=q[4]|0,u1=p1&8191,o1=p1>>>13,M1=q[5]|0,d1=M1&8191,r1=M1>>>13,F1=q[6]|0,m1=F1&8191,a1=F1>>>13,k1=q[7]|0,F=k1&8191,i=k1>>>13,t=q[8]|0,C=t&8191,l1=t>>>13,x1=q[9]|0,f1=x1&8191,y1=x1>>>13,j1=r[0]|0,_1=j1&8191,v1=j1>>>13,P1=r[1]|0,N1=P1&8191,T1=P1>>>13,r2=r[2]|0,q1=r2&8191,L1=r2>>>13,E1=r[3]|0,z1=E1&8191,V1=E1>>>13,b2=r[4]|0,S1=b2&8191,$1=b2>>>13,m2=r[5]|0,Z1=m2&8191,W1=m2>>>13,y2=r[6]|0,w1=y2&8191,O1=y2>>>13,v2=r[7]|0,R1=v2&8191,s1=v2>>>13,_2=r[8]|0,g1=_2&8191,X1=_2>>>13,d2=r[9]|0,U1=d2&8191,K1=d2>>>13;y.negative=n.negative^c.negative,y.length=19,P=Math.imul(Q,_1),X=Math.imul(Q,v1),X=X+Math.imul(e,_1)|0,k=Math.imul(e,v1);var D1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(D1>>>26)|0,D1&=67108863,P=Math.imul(E,_1),X=Math.imul(E,v1),X=X+Math.imul(A,_1)|0,k=Math.imul(A,v1),P=P+Math.imul(Q,N1)|0,X=X+Math.imul(Q,T1)|0,X=X+Math.imul(e,N1)|0,k=k+Math.imul(e,T1)|0;var I1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(I1>>>26)|0,I1&=67108863,P=Math.imul(n1,_1),X=Math.imul(n1,v1),X=X+Math.imul(c1,_1)|0,k=Math.imul(c1,v1),P=P+Math.imul(E,N1)|0,X=X+Math.imul(E,T1)|0,X=X+Math.imul(A,N1)|0,k=k+Math.imul(A,T1)|0,P=P+Math.imul(Q,q1)|0,X=X+Math.imul(Q,L1)|0,X=X+Math.imul(e,q1)|0,k=k+Math.imul(e,L1)|0;var Y1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,P=Math.imul(K,_1),X=Math.imul(K,v1),X=X+Math.imul(Y,_1)|0,k=Math.imul(Y,v1),P=P+Math.imul(n1,N1)|0,X=X+Math.imul(n1,T1)|0,X=X+Math.imul(c1,N1)|0,k=k+Math.imul(c1,T1)|0,P=P+Math.imul(E,q1)|0,X=X+Math.imul(E,L1)|0,X=X+Math.imul(A,q1)|0,k=k+Math.imul(A,L1)|0,P=P+Math.imul(Q,z1)|0,X=X+Math.imul(Q,V1)|0,X=X+Math.imul(e,z1)|0,k=k+Math.imul(e,V1)|0;var t1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(t1>>>26)|0,t1&=67108863,P=Math.imul(u1,_1),X=Math.imul(u1,v1),X=X+Math.imul(o1,_1)|0,k=Math.imul(o1,v1),P=P+Math.imul(K,N1)|0,X=X+Math.imul(K,T1)|0,X=X+Math.imul(Y,N1)|0,k=k+Math.imul(Y,T1)|0,P=P+Math.imul(n1,q1)|0,X=X+Math.imul(n1,L1)|0,X=X+Math.imul(c1,q1)|0,k=k+Math.imul(c1,L1)|0,P=P+Math.imul(E,z1)|0,X=X+Math.imul(E,V1)|0,X=X+Math.imul(A,z1)|0,k=k+Math.imul(A,V1)|0,P=P+Math.imul(Q,S1)|0,X=X+Math.imul(Q,$1)|0,X=X+Math.imul(e,S1)|0,k=k+Math.imul(e,$1)|0;var C1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(C1>>>26)|0,C1&=67108863,P=Math.imul(d1,_1),X=Math.imul(d1,v1),X=X+Math.imul(r1,_1)|0,k=Math.imul(r1,v1),P=P+Math.imul(u1,N1)|0,X=X+Math.imul(u1,T1)|0,X=X+Math.imul(o1,N1)|0,k=k+Math.imul(o1,T1)|0,P=P+Math.imul(K,q1)|0,X=X+Math.imul(K,L1)|0,X=X+Math.imul(Y,q1)|0,k=k+Math.imul(Y,L1)|0,P=P+Math.imul(n1,z1)|0,X=X+Math.imul(n1,V1)|0,X=X+Math.imul(c1,z1)|0,k=k+Math.imul(c1,V1)|0,P=P+Math.imul(E,S1)|0,X=X+Math.imul(E,$1)|0,X=X+Math.imul(A,S1)|0,k=k+Math.imul(A,$1)|0,P=P+Math.imul(Q,Z1)|0,X=X+Math.imul(Q,W1)|0,X=X+Math.imul(e,Z1)|0,k=k+Math.imul(e,W1)|0;var B1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(B1>>>26)|0,B1&=67108863,P=Math.imul(m1,_1),X=Math.imul(m1,v1),X=X+Math.imul(a1,_1)|0,k=Math.imul(a1,v1),P=P+Math.imul(d1,N1)|0,X=X+Math.imul(d1,T1)|0,X=X+Math.imul(r1,N1)|0,k=k+Math.imul(r1,T1)|0,P=P+Math.imul(u1,q1)|0,X=X+Math.imul(u1,L1)|0,X=X+Math.imul(o1,q1)|0,k=k+Math.imul(o1,L1)|0,P=P+Math.imul(K,z1)|0,X=X+Math.imul(K,V1)|0,X=X+Math.imul(Y,z1)|0,k=k+Math.imul(Y,V1)|0,P=P+Math.imul(n1,S1)|0,X=X+Math.imul(n1,$1)|0,X=X+Math.imul(c1,S1)|0,k=k+Math.imul(c1,$1)|0,P=P+Math.imul(E,Z1)|0,X=X+Math.imul(E,W1)|0,X=X+Math.imul(A,Z1)|0,k=k+Math.imul(A,W1)|0,P=P+Math.imul(Q,w1)|0,X=X+Math.imul(Q,O1)|0,X=X+Math.imul(e,w1)|0,k=k+Math.imul(e,O1)|0;var Q1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,P=Math.imul(F,_1),X=Math.imul(F,v1),X=X+Math.imul(i,_1)|0,k=Math.imul(i,v1),P=P+Math.imul(m1,N1)|0,X=X+Math.imul(m1,T1)|0,X=X+Math.imul(a1,N1)|0,k=k+Math.imul(a1,T1)|0,P=P+Math.imul(d1,q1)|0,X=X+Math.imul(d1,L1)|0,X=X+Math.imul(r1,q1)|0,k=k+Math.imul(r1,L1)|0,P=P+Math.imul(u1,z1)|0,X=X+Math.imul(u1,V1)|0,X=X+Math.imul(o1,z1)|0,k=k+Math.imul(o1,V1)|0,P=P+Math.imul(K,S1)|0,X=X+Math.imul(K,$1)|0,X=X+Math.imul(Y,S1)|0,k=k+Math.imul(Y,$1)|0,P=P+Math.imul(n1,Z1)|0,X=X+Math.imul(n1,W1)|0,X=X+Math.imul(c1,Z1)|0,k=k+Math.imul(c1,W1)|0,P=P+Math.imul(E,w1)|0,X=X+Math.imul(E,O1)|0,X=X+Math.imul(A,w1)|0,k=k+Math.imul(A,O1)|0,P=P+Math.imul(Q,R1)|0,X=X+Math.imul(Q,s1)|0,X=X+Math.imul(e,R1)|0,k=k+Math.imul(e,s1)|0;var e1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(e1>>>26)|0,e1&=67108863,P=Math.imul(C,_1),X=Math.imul(C,v1),X=X+Math.imul(l1,_1)|0,k=Math.imul(l1,v1),P=P+Math.imul(F,N1)|0,X=X+Math.imul(F,T1)|0,X=X+Math.imul(i,N1)|0,k=k+Math.imul(i,T1)|0,P=P+Math.imul(m1,q1)|0,X=X+Math.imul(m1,L1)|0,X=X+Math.imul(a1,q1)|0,k=k+Math.imul(a1,L1)|0,P=P+Math.imul(d1,z1)|0,X=X+Math.imul(d1,V1)|0,X=X+Math.imul(r1,z1)|0,k=k+Math.imul(r1,V1)|0,P=P+Math.imul(u1,S1)|0,X=X+Math.imul(u1,$1)|0,X=X+Math.imul(o1,S1)|0,k=k+Math.imul(o1,$1)|0,P=P+Math.imul(K,Z1)|0,X=X+Math.imul(K,W1)|0,X=X+Math.imul(Y,Z1)|0,k=k+Math.imul(Y,W1)|0,P=P+Math.imul(n1,w1)|0,X=X+Math.imul(n1,O1)|0,X=X+Math.imul(c1,w1)|0,k=k+Math.imul(c1,O1)|0,P=P+Math.imul(E,R1)|0,X=X+Math.imul(E,s1)|0,X=X+Math.imul(A,R1)|0,k=k+Math.imul(A,s1)|0,P=P+Math.imul(Q,g1)|0,X=X+Math.imul(Q,X1)|0,X=X+Math.imul(e,g1)|0,k=k+Math.imul(e,X1)|0;var A1=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(A1>>>26)|0,A1&=67108863,P=Math.imul(f1,_1),X=Math.imul(f1,v1),X=X+Math.imul(y1,_1)|0,k=Math.imul(y1,v1),P=P+Math.imul(C,N1)|0,X=X+Math.imul(C,T1)|0,X=X+Math.imul(l1,N1)|0,k=k+Math.imul(l1,T1)|0,P=P+Math.imul(F,q1)|0,X=X+Math.imul(F,L1)|0,X=X+Math.imul(i,q1)|0,k=k+Math.imul(i,L1)|0,P=P+Math.imul(m1,z1)|0,X=X+Math.imul(m1,V1)|0,X=X+Math.imul(a1,z1)|0,k=k+Math.imul(a1,V1)|0,P=P+Math.imul(d1,S1)|0,X=X+Math.imul(d1,$1)|0,X=X+Math.imul(r1,S1)|0,k=k+Math.imul(r1,$1)|0,P=P+Math.imul(u1,Z1)|0,X=X+Math.imul(u1,W1)|0,X=X+Math.imul(o1,Z1)|0,k=k+Math.imul(o1,W1)|0,P=P+Math.imul(K,w1)|0,X=X+Math.imul(K,O1)|0,X=X+Math.imul(Y,w1)|0,k=k+Math.imul(Y,O1)|0,P=P+Math.imul(n1,R1)|0,X=X+Math.imul(n1,s1)|0,X=X+Math.imul(c1,R1)|0,k=k+Math.imul(c1,s1)|0,P=P+Math.imul(E,g1)|0,X=X+Math.imul(E,X1)|0,X=X+Math.imul(A,g1)|0,k=k+Math.imul(A,X1)|0,P=P+Math.imul(Q,U1)|0,X=X+Math.imul(Q,K1)|0,X=X+Math.imul(e,U1)|0,k=k+Math.imul(e,K1)|0;var l2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(l2>>>26)|0,l2&=67108863,P=Math.imul(f1,N1),X=Math.imul(f1,T1),X=X+Math.imul(y1,N1)|0,k=Math.imul(y1,T1),P=P+Math.imul(C,q1)|0,X=X+Math.imul(C,L1)|0,X=X+Math.imul(l1,q1)|0,k=k+Math.imul(l1,L1)|0,P=P+Math.imul(F,z1)|0,X=X+Math.imul(F,V1)|0,X=X+Math.imul(i,z1)|0,k=k+Math.imul(i,V1)|0,P=P+Math.imul(m1,S1)|0,X=X+Math.imul(m1,$1)|0,X=X+Math.imul(a1,S1)|0,k=k+Math.imul(a1,$1)|0,P=P+Math.imul(d1,Z1)|0,X=X+Math.imul(d1,W1)|0,X=X+Math.imul(r1,Z1)|0,k=k+Math.imul(r1,W1)|0,P=P+Math.imul(u1,w1)|0,X=X+Math.imul(u1,O1)|0,X=X+Math.imul(o1,w1)|0,k=k+Math.imul(o1,O1)|0,P=P+Math.imul(K,R1)|0,X=X+Math.imul(K,s1)|0,X=X+Math.imul(Y,R1)|0,k=k+Math.imul(Y,s1)|0,P=P+Math.imul(n1,g1)|0,X=X+Math.imul(n1,X1)|0,X=X+Math.imul(c1,g1)|0,k=k+Math.imul(c1,X1)|0,P=P+Math.imul(E,U1)|0,X=X+Math.imul(E,K1)|0,X=X+Math.imul(A,U1)|0,k=k+Math.imul(A,K1)|0;var o2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(o2>>>26)|0,o2&=67108863,P=Math.imul(f1,q1),X=Math.imul(f1,L1),X=X+Math.imul(y1,q1)|0,k=Math.imul(y1,L1),P=P+Math.imul(C,z1)|0,X=X+Math.imul(C,V1)|0,X=X+Math.imul(l1,z1)|0,k=k+Math.imul(l1,V1)|0,P=P+Math.imul(F,S1)|0,X=X+Math.imul(F,$1)|0,X=X+Math.imul(i,S1)|0,k=k+Math.imul(i,$1)|0,P=P+Math.imul(m1,Z1)|0,X=X+Math.imul(m1,W1)|0,X=X+Math.imul(a1,Z1)|0,k=k+Math.imul(a1,W1)|0,P=P+Math.imul(d1,w1)|0,X=X+Math.imul(d1,O1)|0,X=X+Math.imul(r1,w1)|0,k=k+Math.imul(r1,O1)|0,P=P+Math.imul(u1,R1)|0,X=X+Math.imul(u1,s1)|0,X=X+Math.imul(o1,R1)|0,k=k+Math.imul(o1,s1)|0,P=P+Math.imul(K,g1)|0,X=X+Math.imul(K,X1)|0,X=X+Math.imul(Y,g1)|0,k=k+Math.imul(Y,X1)|0,P=P+Math.imul(n1,U1)|0,X=X+Math.imul(n1,K1)|0,X=X+Math.imul(c1,U1)|0,k=k+Math.imul(c1,K1)|0;var n2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(n2>>>26)|0,n2&=67108863,P=Math.imul(f1,z1),X=Math.imul(f1,V1),X=X+Math.imul(y1,z1)|0,k=Math.imul(y1,V1),P=P+Math.imul(C,S1)|0,X=X+Math.imul(C,$1)|0,X=X+Math.imul(l1,S1)|0,k=k+Math.imul(l1,$1)|0,P=P+Math.imul(F,Z1)|0,X=X+Math.imul(F,W1)|0,X=X+Math.imul(i,Z1)|0,k=k+Math.imul(i,W1)|0,P=P+Math.imul(m1,w1)|0,X=X+Math.imul(m1,O1)|0,X=X+Math.imul(a1,w1)|0,k=k+Math.imul(a1,O1)|0,P=P+Math.imul(d1,R1)|0,X=X+Math.imul(d1,s1)|0,X=X+Math.imul(r1,R1)|0,k=k+Math.imul(r1,s1)|0,P=P+Math.imul(u1,g1)|0,X=X+Math.imul(u1,X1)|0,X=X+Math.imul(o1,g1)|0,k=k+Math.imul(o1,X1)|0,P=P+Math.imul(K,U1)|0,X=X+Math.imul(K,K1)|0,X=X+Math.imul(Y,U1)|0,k=k+Math.imul(Y,K1)|0;var p2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(p2>>>26)|0,p2&=67108863,P=Math.imul(f1,S1),X=Math.imul(f1,$1),X=X+Math.imul(y1,S1)|0,k=Math.imul(y1,$1),P=P+Math.imul(C,Z1)|0,X=X+Math.imul(C,W1)|0,X=X+Math.imul(l1,Z1)|0,k=k+Math.imul(l1,W1)|0,P=P+Math.imul(F,w1)|0,X=X+Math.imul(F,O1)|0,X=X+Math.imul(i,w1)|0,k=k+Math.imul(i,O1)|0,P=P+Math.imul(m1,R1)|0,X=X+Math.imul(m1,s1)|0,X=X+Math.imul(a1,R1)|0,k=k+Math.imul(a1,s1)|0,P=P+Math.imul(d1,g1)|0,X=X+Math.imul(d1,X1)|0,X=X+Math.imul(r1,g1)|0,k=k+Math.imul(r1,X1)|0,P=P+Math.imul(u1,U1)|0,X=X+Math.imul(u1,K1)|0,X=X+Math.imul(o1,U1)|0,k=k+Math.imul(o1,K1)|0;var u2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(u2>>>26)|0,u2&=67108863,P=Math.imul(f1,Z1),X=Math.imul(f1,W1),X=X+Math.imul(y1,Z1)|0,k=Math.imul(y1,W1),P=P+Math.imul(C,w1)|0,X=X+Math.imul(C,O1)|0,X=X+Math.imul(l1,w1)|0,k=k+Math.imul(l1,O1)|0,P=P+Math.imul(F,R1)|0,X=X+Math.imul(F,s1)|0,X=X+Math.imul(i,R1)|0,k=k+Math.imul(i,s1)|0,P=P+Math.imul(m1,g1)|0,X=X+Math.imul(m1,X1)|0,X=X+Math.imul(a1,g1)|0,k=k+Math.imul(a1,X1)|0,P=P+Math.imul(d1,U1)|0,X=X+Math.imul(d1,K1)|0,X=X+Math.imul(r1,U1)|0,k=k+Math.imul(r1,K1)|0;var c2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(c2>>>26)|0,c2&=67108863,P=Math.imul(f1,w1),X=Math.imul(f1,O1),X=X+Math.imul(y1,w1)|0,k=Math.imul(y1,O1),P=P+Math.imul(C,R1)|0,X=X+Math.imul(C,s1)|0,X=X+Math.imul(l1,R1)|0,k=k+Math.imul(l1,s1)|0,P=P+Math.imul(F,g1)|0,X=X+Math.imul(F,X1)|0,X=X+Math.imul(i,g1)|0,k=k+Math.imul(i,X1)|0,P=P+Math.imul(m1,U1)|0,X=X+Math.imul(m1,K1)|0,X=X+Math.imul(a1,U1)|0,k=k+Math.imul(a1,K1)|0;var f2=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(f2>>>26)|0,f2&=67108863,P=Math.imul(f1,R1),X=Math.imul(f1,s1),X=X+Math.imul(y1,R1)|0,k=Math.imul(y1,s1),P=P+Math.imul(C,g1)|0,X=X+Math.imul(C,X1)|0,X=X+Math.imul(l1,g1)|0,k=k+Math.imul(l1,X1)|0,P=P+Math.imul(F,U1)|0,X=X+Math.imul(F,K1)|0,X=X+Math.imul(i,U1)|0,k=k+Math.imul(i,K1)|0;var v0=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(v0>>>26)|0,v0&=67108863,P=Math.imul(f1,g1),X=Math.imul(f1,X1),X=X+Math.imul(y1,g1)|0,k=Math.imul(y1,X1),P=P+Math.imul(C,U1)|0,X=X+Math.imul(C,K1)|0,X=X+Math.imul(l1,U1)|0,k=k+Math.imul(l1,K1)|0;var _0=(m+P|0)+((X&8191)<<13)|0;m=(k+(X>>>13)|0)+(_0>>>26)|0,_0&=67108863,P=Math.imul(f1,U1),X=Math.imul(f1,K1),X=X+Math.imul(y1,U1)|0,k=Math.imul(y1,K1);var x0=(m+P|0)+((X&8191)<<13)|0;return m=(k+(X>>>13)|0)+(x0>>>26)|0,x0&=67108863,o[0]=D1,o[1]=I1,o[2]=Y1,o[3]=t1,o[4]=C1,o[5]=B1,o[6]=Q1,o[7]=e1,o[8]=A1,o[9]=l2,o[10]=o2,o[11]=n2,o[12]=p2,o[13]=u2,o[14]=c2,o[15]=f2,o[16]=v0,o[17]=_0,o[18]=x0,m!==0&&(o[19]=m,y.length++),y};Math.imul||(W=Z);function s(n,c,y){y.negative=c.negative^n.negative,y.length=n.length+c.length;for(var q=0,r=0,o=0;o<y.length-1;o++){var m=r;r=0;for(var P=q&67108863,X=Math.min(o,c.length-1),k=Math.max(0,o-n.length+1);k<=X;k++){var I=o-k,Q=n.words[I]|0,e=c.words[k]|0,B=Q*e,E=B&67108863;m=m+(B/67108864|0)|0,E=E+P|0,P=E&67108863,m=m+(E>>>26)|0,r+=m>>>26,m&=67108863}y.words[o]=P,q=m,m=r}return q!==0?y.words[o]=q:y.length--,y._strip()}function g(n,c,y){return s(n,c,y)}u.prototype.mulTo=function(n,c){var y,q=this.length+n.length;return this.length===10&&n.length===10?y=W(this,n,c):q<63?y=Z(this,n,c):q<1024?y=s(this,n,c):y=g(this,n,c),y};function O(n,c){this.x=n,this.y=c}O.prototype.makeRBT=function(n){for(var c=new Array(n),y=u.prototype._countBits(n)-1,q=0;q<n;q++)c[q]=this.revBin(q,y,n);return c},O.prototype.revBin=function(n,c,y){if(n===0||n===y-1)return n;for(var q=0,r=0;r<c;r++)q|=(n&1)<<c-r-1,n>>=1;return q},O.prototype.permute=function(n,c,y,q,r,o){for(var m=0;m<o;m++)q[m]=c[n[m]],r[m]=y[n[m]]},O.prototype.transform=function(n,c,y,q,r,o){this.permute(o,n,c,y,q,r);for(var m=1;m<r;m<<=1)for(var P=m<<1,X=Math.cos(2*Math.PI/P),k=Math.sin(2*Math.PI/P),I=0;I<r;I+=P)for(var Q=X,e=k,B=0;B<m;B++){var E=y[I+B],A=q[I+B],h1=y[I+B+m],n1=q[I+B+m],c1=Q*h1-e*n1;n1=Q*n1+e*h1,h1=c1,y[I+B]=E+h1,q[I+B]=A+n1,y[I+B+m]=E-h1,q[I+B+m]=A-n1,B!==P&&(c1=X*Q-k*e,e=X*e+k*Q,Q=c1)}},O.prototype.guessLen13b=function(n,c){var y=Math.max(c,n)|1,q=y&1,r=0;for(y=y/2|0;y;y=y>>>1)r++;return 1<<r+1+q},O.prototype.conjugate=function(n,c,y){if(!(y<=1))for(var q=0;q<y/2;q++){var r=n[q];n[q]=n[y-q-1],n[y-q-1]=r,r=c[q],c[q]=-c[y-q-1],c[y-q-1]=-r}},O.prototype.normalize13b=function(n,c){for(var y=0,q=0;q<c/2;q++){var r=Math.round(n[2*q+1]/c)*8192+Math.round(n[2*q]/c)+y;n[q]=r&67108863,r<67108864?y=0:y=r/67108864|0}return n},O.prototype.convert13b=function(n,c,y,q){for(var r=0,o=0;o<c;o++)r=r+(n[o]|0),y[2*o]=r&8191,r=r>>>13,y[2*o+1]=r&8191,r=r>>>13;for(o=2*c;o<q;++o)y[o]=0;N(r===0),N((r&-8192)===0)},O.prototype.stub=function(n){for(var c=new Array(n),y=0;y<n;y++)c[y]=0;return c},O.prototype.mulp=function(n,c,y){var q=2*this.guessLen13b(n.length,c.length),r=this.makeRBT(q),o=this.stub(q),m=new Array(q),P=new Array(q),X=new Array(q),k=new Array(q),I=new Array(q),Q=new Array(q),e=y.words;e.length=q,this.convert13b(n.words,n.length,m,q),this.convert13b(c.words,c.length,k,q),this.transform(m,o,P,X,q,r),this.transform(k,o,I,Q,q,r);for(var B=0;B<q;B++){var E=P[B]*I[B]-X[B]*Q[B];X[B]=P[B]*Q[B]+X[B]*I[B],P[B]=E}return this.conjugate(P,X,q),this.transform(P,X,e,o,q,r),this.conjugate(e,o,q),this.normalize13b(e,q),y.negative=n.negative^c.negative,y.length=n.length+c.length,y._strip()},u.prototype.mul=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),this.mulTo(n,c)},u.prototype.mulf=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),g(this,n,c)},u.prototype.imul=function(n){return this.clone().mulTo(n,this)},u.prototype.imuln=function(n){var c=n<0;c&&(n=-n),N(typeof n=="number"),N(n<67108864);for(var y=0,q=0;q<this.length;q++){var r=(this.words[q]|0)*n,o=(r&67108863)+(y&67108863);y>>=26,y+=r/67108864|0,y+=o>>>26,this.words[q]=o&67108863}return y!==0&&(this.words[q]=y,this.length++),c?this.ineg():this},u.prototype.muln=function(n){return this.clone().imuln(n)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(n){var c=$(n);if(c.length===0)return new u(1);for(var y=this,q=0;q<c.length&&c[q]===0;q++,y=y.sqr());if(++q<c.length)for(var r=y.sqr();q<c.length;q++,r=r.sqr())c[q]!==0&&(y=y.mul(r));return y},u.prototype.iushln=function(n){N(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26,q=67108863>>>26-c<<26-c,r;if(c!==0){var o=0;for(r=0;r<this.length;r++){var m=this.words[r]&q,P=(this.words[r]|0)-m<<c;this.words[r]=P|o,o=m>>>26-c}o&&(this.words[r]=o,this.length++)}if(y!==0){for(r=this.length-1;r>=0;r--)this.words[r+y]=this.words[r];for(r=0;r<y;r++)this.words[r]=0;this.length+=y}return this._strip()},u.prototype.ishln=function(n){return N(this.negative===0),this.iushln(n)},u.prototype.iushrn=function(n,c,y){N(typeof n=="number"&&n>=0);var q;c?q=(c-c%26)/26:q=0;var r=n%26,o=Math.min((n-r)/26,this.length),m=67108863^67108863>>>r<<r,P=y;if(q-=o,q=Math.max(0,q),P){for(var X=0;X<o;X++)P.words[X]=this.words[X];P.length=o}if(o!==0)if(this.length>o)for(this.length-=o,X=0;X<this.length;X++)this.words[X]=this.words[X+o];else this.words[0]=0,this.length=1;var k=0;for(X=this.length-1;X>=0&&(k!==0||X>=q);X--){var I=this.words[X]|0;this.words[X]=k<<26-r|I>>>r,k=I&m}return P&&k!==0&&(P.words[P.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(n,c,y){return N(this.negative===0),this.iushrn(n,c,y)},u.prototype.shln=function(n){return this.clone().ishln(n)},u.prototype.ushln=function(n){return this.clone().iushln(n)},u.prototype.shrn=function(n){return this.clone().ishrn(n)},u.prototype.ushrn=function(n){return this.clone().iushrn(n)},u.prototype.testn=function(n){N(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26,q=1<<c;if(this.length<=y)return!1;var r=this.words[y];return!!(r&q)},u.prototype.imaskn=function(n){N(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(c!==0&&y++,this.length=Math.min(y,this.length),c!==0){var q=67108863^67108863>>>c<<c;this.words[this.length-1]&=q}return this._strip()},u.prototype.maskn=function(n){return this.clone().imaskn(n)},u.prototype.iaddn=function(n){return N(typeof n=="number"),N(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},u.prototype._iaddn=function(n){this.words[0]+=n;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},u.prototype.isubn=function(n){if(N(typeof n=="number"),N(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},u.prototype.addn=function(n){return this.clone().iaddn(n)},u.prototype.subn=function(n){return this.clone().isubn(n)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(n,c,y){var q=n.length+y,r;this._expand(q);var o,m=0;for(r=0;r<n.length;r++){o=(this.words[r+y]|0)+m;var P=(n.words[r]|0)*c;o-=P&67108863,m=(o>>26)-(P/67108864|0),this.words[r+y]=o&67108863}for(;r<this.length-y;r++)o=(this.words[r+y]|0)+m,m=o>>26,this.words[r+y]=o&67108863;if(m===0)return this._strip();for(N(m===-1),m=0,r=0;r<this.length;r++)o=-(this.words[r]|0)+m,m=o>>26,this.words[r]=o&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(n,c){var y=this.length-n.length,q=this.clone(),r=n,o=r.words[r.length-1]|0,m=this._countBits(o);y=26-m,y!==0&&(r=r.ushln(y),q.iushln(y),o=r.words[r.length-1]|0);var P=q.length-r.length,X;if(c!=="mod"){X=new u(null),X.length=P+1,X.words=new Array(X.length);for(var k=0;k<X.length;k++)X.words[k]=0}var I=q.clone()._ishlnsubmul(r,1,P);I.negative===0&&(q=I,X&&(X.words[P]=1));for(var Q=P-1;Q>=0;Q--){var e=(q.words[r.length+Q]|0)*67108864+(q.words[r.length+Q-1]|0);for(e=Math.min(e/o|0,67108863),q._ishlnsubmul(r,e,Q);q.negative!==0;)e--,q.negative=0,q._ishlnsubmul(r,1,Q),q.isZero()||(q.negative^=1);X&&(X.words[Q]=e)}return X&&X._strip(),q._strip(),c!=="div"&&y!==0&&q.iushrn(y),{div:X||null,mod:q}},u.prototype.divmod=function(n,c,y){if(N(!n.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,r,o;return this.negative!==0&&n.negative===0?(o=this.neg().divmod(n,c),c!=="mod"&&(q=o.div.neg()),c!=="div"&&(r=o.mod.neg(),y&&r.negative!==0&&r.iadd(n)),{div:q,mod:r}):this.negative===0&&n.negative!==0?(o=this.divmod(n.neg(),c),c!=="mod"&&(q=o.div.neg()),{div:q,mod:o.mod}):(this.negative&n.negative)!==0?(o=this.neg().divmod(n.neg(),c),c!=="div"&&(r=o.mod.neg(),y&&r.negative!==0&&r.isub(n)),{div:o.div,mod:r}):n.length>this.length||this.cmp(n)<0?{div:new u(0),mod:this}:n.length===1?c==="div"?{div:this.divn(n.words[0]),mod:null}:c==="mod"?{div:null,mod:new u(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new u(this.modrn(n.words[0]))}:this._wordDiv(n,c)},u.prototype.div=function(n){return this.divmod(n,"div",!1).div},u.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},u.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},u.prototype.divRound=function(n){var c=this.divmod(n);if(c.mod.isZero())return c.div;var y=c.div.negative!==0?c.mod.isub(n):c.mod,q=n.ushrn(1),r=n.andln(1),o=y.cmp(q);return o<0||r===1&&o===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},u.prototype.modrn=function(n){var c=n<0;c&&(n=-n),N(n<=67108863);for(var y=67108864%n,q=0,r=this.length-1;r>=0;r--)q=(y*q+(this.words[r]|0))%n;return c?-q:q},u.prototype.modn=function(n){return this.modrn(n)},u.prototype.idivn=function(n){var c=n<0;c&&(n=-n),N(n<=67108863);for(var y=0,q=this.length-1;q>=0;q--){var r=(this.words[q]|0)+y*67108864;this.words[q]=r/n|0,y=r%n}return this._strip(),c?this.ineg():this},u.prototype.divn=function(n){return this.clone().idivn(n)},u.prototype.egcd=function(n){N(n.negative===0),N(!n.isZero());var c=this,y=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var q=new u(1),r=new u(0),o=new u(0),m=new u(1),P=0;c.isEven()&&y.isEven();)c.iushrn(1),y.iushrn(1),++P;for(var X=y.clone(),k=c.clone();!c.isZero();){for(var I=0,Q=1;(c.words[0]&Q)===0&&I<26;++I,Q<<=1);if(I>0)for(c.iushrn(I);I-- >0;)(q.isOdd()||r.isOdd())&&(q.iadd(X),r.isub(k)),q.iushrn(1),r.iushrn(1);for(var e=0,B=1;(y.words[0]&B)===0&&e<26;++e,B<<=1);if(e>0)for(y.iushrn(e);e-- >0;)(o.isOdd()||m.isOdd())&&(o.iadd(X),m.isub(k)),o.iushrn(1),m.iushrn(1);c.cmp(y)>=0?(c.isub(y),q.isub(o),r.isub(m)):(y.isub(c),o.isub(q),m.isub(r))}return{a:o,b:m,gcd:y.iushln(P)}},u.prototype._invmp=function(n){N(n.negative===0),N(!n.isZero());var c=this,y=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var q=new u(1),r=new u(0),o=y.clone();c.cmpn(1)>0&&y.cmpn(1)>0;){for(var m=0,P=1;(c.words[0]&P)===0&&m<26;++m,P<<=1);if(m>0)for(c.iushrn(m);m-- >0;)q.isOdd()&&q.iadd(o),q.iushrn(1);for(var X=0,k=1;(y.words[0]&k)===0&&X<26;++X,k<<=1);if(X>0)for(y.iushrn(X);X-- >0;)r.isOdd()&&r.iadd(o),r.iushrn(1);c.cmp(y)>=0?(c.isub(y),q.isub(r)):(y.isub(c),r.isub(q))}var I;return c.cmpn(1)===0?I=q:I=r,I.cmpn(0)<0&&I.iadd(n),I},u.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var c=this.clone(),y=n.clone();c.negative=0,y.negative=0;for(var q=0;c.isEven()&&y.isEven();q++)c.iushrn(1),y.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;y.isEven();)y.iushrn(1);var r=c.cmp(y);if(r<0){var o=c;c=y,y=o}else if(r===0||y.cmpn(1)===0)break;c.isub(y)}while(!0);return y.iushln(q)},u.prototype.invm=function(n){return this.egcd(n).a.umod(n)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(n){return this.words[0]&n},u.prototype.bincn=function(n){N(typeof n=="number");var c=n%26,y=(n-c)/26,q=1<<c;if(this.length<=y)return this._expand(y+1),this.words[y]|=q,this;for(var r=q,o=y;r!==0&&o<this.length;o++){var m=this.words[o]|0;m+=r,r=m>>>26,m&=67108863,this.words[o]=m}return r!==0&&(this.words[o]=r,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(n){var c=n<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var y;if(this.length>1)y=1;else{c&&(n=-n),N(n<=67108863,"Number is too big");var q=this.words[0]|0;y=q===n?0:q<n?-1:1}return this.negative!==0?-y|0:y},u.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var c=this.ucmp(n);return this.negative!==0?-c|0:c},u.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var c=0,y=this.length-1;y>=0;y--){var q=this.words[y]|0,r=n.words[y]|0;if(q!==r){q<r?c=-1:q>r&&(c=1);break}}return c},u.prototype.gtn=function(n){return this.cmpn(n)===1},u.prototype.gt=function(n){return this.cmp(n)===1},u.prototype.gten=function(n){return this.cmpn(n)>=0},u.prototype.gte=function(n){return this.cmp(n)>=0},u.prototype.ltn=function(n){return this.cmpn(n)===-1},u.prototype.lt=function(n){return this.cmp(n)===-1},u.prototype.lten=function(n){return this.cmpn(n)<=0},u.prototype.lte=function(n){return this.cmp(n)<=0},u.prototype.eqn=function(n){return this.cmpn(n)===0},u.prototype.eq=function(n){return this.cmp(n)===0},u.red=function(n){return new p(n)},u.prototype.toRed=function(n){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(n){return this.red=n,this},u.prototype.forceRed=function(n){return N(!this.red,"Already a number in reduction context"),this._forceRed(n)},u.prototype.redAdd=function(n){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},u.prototype.redIAdd=function(n){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},u.prototype.redSub=function(n){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},u.prototype.redISub=function(n){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},u.prototype.redShl=function(n){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},u.prototype.redMul=function(n){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},u.prototype.redIMul=function(n){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(n){return N(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var U={k256:null,p224:null,p192:null,p25519:null};function j(n,c){this.name=n,this.p=new u(c,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var n=new u(null);return n.words=new Array(Math.ceil(this.n/13)),n},j.prototype.ireduce=function(n){var c=n,y;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),y=c.bitLength();while(y>this.n);var q=y<this.n?-1:c.ucmp(this.p);return q===0?(c.words[0]=0,c.length=1):q>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},j.prototype.split=function(n,c){n.iushrn(this.n,0,c)},j.prototype.imulK=function(n){return n.imul(this.k)};function G(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(G,j),G.prototype.split=function(n,c){for(var y=4194303,q=Math.min(n.length,9),r=0;r<q;r++)c.words[r]=n.words[r];if(c.length=q,n.length<=9){n.words[0]=0,n.length=1;return}var o=n.words[9];for(c.words[c.length++]=o&y,r=10;r<n.length;r++){var m=n.words[r]|0;n.words[r-10]=(m&y)<<4|o>>>22,o=m}o>>>=22,n.words[r-10]=o,o===0&&n.length>10?n.length-=10:n.length-=9},G.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var c=0,y=0;y<n.length;y++){var q=n.words[y]|0;c+=q*977,n.words[y]=c&67108863,c=q*64+(c/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function H(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(H,j);function D(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(D,j);function l(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(l,j),l.prototype.imulK=function(n){for(var c=0,y=0;y<n.length;y++){var q=(n.words[y]|0)*19+c,r=q&67108863;q>>>=26,n.words[y]=r,c=q}return c!==0&&(n.words[n.length++]=c),n},u._prime=function(n){if(U[n])return U[n];var c;if(n==="k256")c=new G;else if(n==="p224")c=new H;else if(n==="p192")c=new D;else if(n==="p25519")c=new l;else throw new Error("Unknown prime "+n);return U[n]=c,c};function p(n){if(typeof n=="string"){var c=u._prime(n);this.m=c.p,this.prime=c}else N(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}p.prototype._verify1=function(n){N(n.negative===0,"red works only with positives"),N(n.red,"red works only with red numbers")},p.prototype._verify2=function(n,c){N((n.negative|c.negative)===0,"red works only with positives"),N(n.red&&n.red===c.red,"red works only with red numbers")},p.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(v(n,n.umod(this.m)._forceRed(this)),n)},p.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},p.prototype.add=function(n,c){this._verify2(n,c);var y=n.add(c);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},p.prototype.iadd=function(n,c){this._verify2(n,c);var y=n.iadd(c);return y.cmp(this.m)>=0&&y.isub(this.m),y},p.prototype.sub=function(n,c){this._verify2(n,c);var y=n.sub(c);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},p.prototype.isub=function(n,c){this._verify2(n,c);var y=n.isub(c);return y.cmpn(0)<0&&y.iadd(this.m),y},p.prototype.shl=function(n,c){return this._verify1(n),this.imod(n.ushln(c))},p.prototype.imul=function(n,c){return this._verify2(n,c),this.imod(n.imul(c))},p.prototype.mul=function(n,c){return this._verify2(n,c),this.imod(n.mul(c))},p.prototype.isqr=function(n){return this.imul(n,n.clone())},p.prototype.sqr=function(n){return this.mul(n,n)},p.prototype.sqrt=function(n){if(n.isZero())return n.clone();var c=this.m.andln(3);if(N(c%2===1),c===3){var y=this.m.add(new u(1)).iushrn(2);return this.pow(n,y)}for(var q=this.m.subn(1),r=0;!q.isZero()&&q.andln(1)===0;)r++,q.iushrn(1);N(!q.isZero());var o=new u(1).toRed(this),m=o.redNeg(),P=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new u(2*X*X).toRed(this);this.pow(X,P).cmp(m)!==0;)X.redIAdd(m);for(var k=this.pow(X,q),I=this.pow(n,q.addn(1).iushrn(1)),Q=this.pow(n,q),e=r;Q.cmp(o)!==0;){for(var B=Q,E=0;B.cmp(o)!==0;E++)B=B.redSqr();N(E<e);var A=this.pow(k,new u(1).iushln(e-E-1));I=I.redMul(A),k=A.redSqr(),Q=Q.redMul(k),e=E}return I},p.prototype.invm=function(n){var c=n._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},p.prototype.pow=function(n,c){if(c.isZero())return new u(1).toRed(this);if(c.cmpn(1)===0)return n.clone();var y=4,q=new Array(1<<y);q[0]=new u(1).toRed(this),q[1]=n;for(var r=2;r<q.length;r++)q[r]=this.mul(q[r-1],n);var o=q[0],m=0,P=0,X=c.bitLength()%26;for(X===0&&(X=26),r=c.length-1;r>=0;r--){for(var k=c.words[r],I=X-1;I>=0;I--){var Q=k>>I&1;if(o!==q[0]&&(o=this.sqr(o)),Q===0&&m===0){P=0;continue}m<<=1,m|=Q,P++,!(P!==y&&(r!==0||I!==0))&&(o=this.mul(o,q[m]),P=0,m=0)}X=26}return o},p.prototype.convertTo=function(n){var c=n.umod(this.m);return c===n?c.clone():c},p.prototype.convertFrom=function(n){var c=n.clone();return c.red=null,c},u.mont=function(n){return new f(n)};function f(n){p.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(f,p),f.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},f.prototype.convertFrom=function(n){var c=this.imod(n.mul(this.rinv));return c.red=null,c},f.prototype.imul=function(n,c){if(n.isZero()||c.isZero())return n.words[0]=0,n.length=1,n;var y=n.imul(c),q=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=y.isub(q).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},f.prototype.mul=function(n,c){if(n.isZero()||c.isZero())return new u(0)._forceRed(this);var y=n.mul(c),q=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=y.isub(q).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},f.prototype.invm=function(n){var c=this.imod(n._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof w>"u"||w,M)}),H6=b1((M,w)=>{var _=j6(),R=u3();function N(h){var V=b(h),a=V.toRed(_.mont(h.modulus)).redPow(new _(h.publicExponent)).fromRed();return{blinder:a,unblinder:V.invm(h.modulus)}}function b(h){var V=h.modulus.byteLength(),a;do a=new _(R(V));while(a.cmp(h.modulus)>=0||!a.umod(h.prime1)||!a.umod(h.prime2));return a}function u(h,V){var a=N(V),L=V.modulus.byteLength(),v=new _(h).mul(a.blinder).umod(V.modulus),S=v.toRed(_.mont(V.prime1)),x=v.toRed(_.mont(V.prime2)),d=V.coefficient,z=V.prime1,T=V.prime2,$=S.redPow(V.exponent1).fromRed(),Z=x.redPow(V.exponent2).fromRed(),W=$.isub(Z).imul(d).umod(z).imul(T);return Z.iadd(W).imul(a.unblinder).umod(V.modulus).toArrayLike(Buffer,"be",L)}u.getr=b,w.exports=u}),J8=b1((M,w)=>{w.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),k2=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),q5=b1((M)=>{var w=M;function _(b,u){if(Array.isArray(b))return b.slice();if(!b)return[];var h=[];if(typeof b!="string"){for(var V=0;V<b.length;V++)h[V]=b[V]|0;return h}if(u==="hex"){b=b.replace(/[^a-z0-9]+/ig,""),b.length%2!==0&&(b="0"+b);for(var V=0;V<b.length;V+=2)h.push(parseInt(b[V]+b[V+1],16))}else for(var V=0;V<b.length;V++){var a=b.charCodeAt(V),L=a>>8,v=a&255;L?h.push(L,v):h.push(v)}return h}w.toArray=_;function R(b){return b.length===1?"0"+b:b}w.zero2=R;function N(b){for(var u="",h=0;h<b.length;h++)u+=R(b[h].toString(16));return u}w.toHex=N,w.encode=function(b,u){return u==="hex"?N(b):b}}),$2=b1((M)=>{var w=M,_=k2(),R=S2(),N=q5();w.assert=R,w.toArray=N.toArray,w.zero2=N.zero2,w.toHex=N.toHex,w.encode=N.encode;function b(L,v,S){var x=new Array(Math.max(L.bitLength(),S)+1);x.fill(0);for(var d=1<<v+1,z=L.clone(),T=0;T<x.length;T++){var $,Z=z.andln(d-1);z.isOdd()?(Z>(d>>1)-1?$=(d>>1)-Z:$=Z,z.isubn($)):$=0,x[T]=$,z.iushrn(1)}return x}w.getNAF=b;function u(L,v){var S=[[],[]];L=L.clone(),v=v.clone();for(var x=0,d=0,z;L.cmpn(-x)>0||v.cmpn(-d)>0;){var T=L.andln(3)+x&3,$=v.andln(3)+d&3;T===3&&(T=-1),$===3&&($=-1);var Z;(T&1)===0?Z=0:(z=L.andln(7)+x&7,(z===3||z===5)&&$===2?Z=-T:Z=T),S[0].push(Z);var W;($&1)===0?W=0:(z=v.andln(7)+d&7,(z===3||z===5)&&T===2?W=-$:W=$),S[1].push(W),2*x===Z+1&&(x=1-x),2*d===W+1&&(d=1-d),L.iushrn(1),v.iushrn(1)}return S}w.getJSF=u;function h(L,v,S){var x="_"+v;L.prototype[v]=function(){return this[x]!==void 0?this[x]:this[x]=S.call(this)}}w.cachedProperty=h;function V(L){return typeof L=="string"?w.toArray(L,"hex"):L}w.parseBytes=V;function a(L){return new _(L,"hex","le")}w.intFromLE=a}),Q3=b1((M,w)=>{var _=k2(),R=$2(),N=R.getNAF,b=R.getJSF,u=R.assert;function h(a,L){this.type=a,this.p=new _(L.p,16),this.red=L.prime?_.red(L.prime):_.mont(this.p),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=L.n&&new _(L.n,16),this.g=L.g&&this.pointFromJSON(L.g,L.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}w.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(a,L){u(a.precomputed);var v=a._getDoubles(),S=N(L,1,this._bitLength),x=(1<<v.step+1)-(v.step%2===0?2:1);x/=3;var d=[],z,T;for(z=0;z<S.length;z+=v.step){T=0;for(var $=z+v.step-1;$>=z;$--)T=(T<<1)+S[$];d.push(T)}for(var Z=this.jpoint(null,null,null),W=this.jpoint(null,null,null),s=x;s>0;s--){for(z=0;z<d.length;z++)T=d[z],T===s?W=W.mixedAdd(v.points[z]):T===-s&&(W=W.mixedAdd(v.points[z].neg()));Z=Z.add(W)}return Z.toP()},h.prototype._wnafMul=function(a,L){var v=4,S=a._getNAFPoints(v);v=S.wnd;for(var x=S.points,d=N(L,v,this._bitLength),z=this.jpoint(null,null,null),T=d.length-1;T>=0;T--){for(var $=0;T>=0&&d[T]===0;T--)$++;if(T>=0&&$++,z=z.dblp($),T<0)break;var Z=d[T];u(Z!==0),a.type==="affine"?Z>0?z=z.mixedAdd(x[Z-1>>1]):z=z.mixedAdd(x[-Z-1>>1].neg()):Z>0?z=z.add(x[Z-1>>1]):z=z.add(x[-Z-1>>1].neg())}return a.type==="affine"?z.toP():z},h.prototype._wnafMulAdd=function(a,L,v,S,x){var d=this._wnafT1,z=this._wnafT2,T=this._wnafT3,$=0,Z,W,s;for(Z=0;Z<S;Z++){s=L[Z];var g=s._getNAFPoints(a);d[Z]=g.wnd,z[Z]=g.points}for(Z=S-1;Z>=1;Z-=2){var O=Z-1,U=Z;if(d[O]!==1||d[U]!==1){T[O]=N(v[O],d[O],this._bitLength),T[U]=N(v[U],d[U],this._bitLength),$=Math.max(T[O].length,$),$=Math.max(T[U].length,$);continue}var j=[L[O],null,null,L[U]];L[O].y.cmp(L[U].y)===0?(j[1]=L[O].add(L[U]),j[2]=L[O].toJ().mixedAdd(L[U].neg())):L[O].y.cmp(L[U].y.redNeg())===0?(j[1]=L[O].toJ().mixedAdd(L[U]),j[2]=L[O].add(L[U].neg())):(j[1]=L[O].toJ().mixedAdd(L[U]),j[2]=L[O].toJ().mixedAdd(L[U].neg()));var G=[-3,-1,-5,-7,0,7,5,1,3],H=b(v[O],v[U]);for($=Math.max(H[0].length,$),T[O]=new Array($),T[U]=new Array($),W=0;W<$;W++){var D=H[0][W]|0,l=H[1][W]|0;T[O][W]=G[(D+1)*3+(l+1)],T[U][W]=0,z[O]=j}}var p=this.jpoint(null,null,null),f=this._wnafT4;for(Z=$;Z>=0;Z--){for(var n=0;Z>=0;){var c=!0;for(W=0;W<S;W++)f[W]=T[W][Z]|0,f[W]!==0&&(c=!1);if(!c)break;n++,Z--}if(Z>=0&&n++,p=p.dblp(n),Z<0)break;for(W=0;W<S;W++){var y=f[W];y!==0&&(y>0?s=z[W][y-1>>1]:y<0&&(s=z[W][-y-1>>1].neg()),s.type==="affine"?p=p.mixedAdd(s):p=p.add(s))}}for(Z=0;Z<S;Z++)z[Z]=null;return x?p:p.toP()};function V(a,L){this.curve=a,this.type=L,this.precomputed=null}h.BasePoint=V,V.prototype.eq=function(){throw new Error("Not implemented")},V.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(a,L){a=R.toArray(a,L);var v=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*v){a[0]===6?u(a[a.length-1]%2===0):a[0]===7&&u(a[a.length-1]%2===1);var S=this.point(a.slice(1,1+v),a.slice(1+v,1+2*v));return S}else if((a[0]===2||a[0]===3)&&a.length-1===v)return this.pointFromX(a.slice(1,1+v),a[0]===3);throw new Error("Unknown point format")},V.prototype.encodeCompressed=function(a){return this.encode(a,!0)},V.prototype._encode=function(a){var L=this.curve.p.byteLength(),v=this.getX().toArray("be",L);return a?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",L))},V.prototype.encode=function(a,L){return R.encode(this._encode(L),a)},V.prototype.precompute=function(a){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,a),L.beta=this._getBeta(),this.precomputed=L,this},V.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return L?L.points.length>=Math.ceil((a.bitLength()+1)/L.step):!1},V.prototype._getDoubles=function(a,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],S=this,x=0;x<L;x+=a){for(var d=0;d<a;d++)S=S.dbl();v.push(S)}return{step:a,points:v}},V.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],v=(1<<a)-1,S=v===1?null:this.dbl(),x=1;x<v;x++)L[x]=L[x-1].add(S);return{wnd:a,points:L}},V.prototype._getBeta=function(){return null},V.prototype.dblp=function(a){for(var L=this,v=0;v<a;v++)L=L.dbl();return L}}),E8=b1((M,w)=>{var _=$2(),R=k2(),N=i1(),b=Q3(),u=_.assert;function h(L){b.call(this,"short",L),this.a=new R(L.a,16).toRed(this.red),this.b=new R(L.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(L),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}N(h,b),w.exports=h,h.prototype._getEndomorphism=function(L){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var v,S;if(L.beta)v=new R(L.beta,16).toRed(this.red);else{var x=this._getEndoRoots(this.p);v=x[0].cmp(x[1])<0?x[0]:x[1],v=v.toRed(this.red)}if(L.lambda)S=new R(L.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(v))===0?S=d[0]:(S=d[1],u(this.g.mul(S).x.cmp(this.g.x.redMul(v))===0))}var z;return L.basis?z=L.basis.map(function(T){return{a:new R(T.a,16),b:new R(T.b,16)}}):z=this._getEndoBasis(S),{beta:v,lambda:S,basis:z}}},h.prototype._getEndoRoots=function(L){var v=L===this.p?this.red:R.mont(L),S=new R(2).toRed(v).redInvm(),x=S.redNeg(),d=new R(3).toRed(v).redNeg().redSqrt().redMul(S),z=x.redAdd(d).fromRed(),T=x.redSub(d).fromRed();return[z,T]},h.prototype._getEndoBasis=function(L){for(var v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),S=L,x=this.n.clone(),d=new R(1),z=new R(0),T=new R(0),$=new R(1),Z,W,s,g,O,U,j,G=0,H,D;S.cmpn(0)!==0;){var l=x.div(S);H=x.sub(l.mul(S)),D=T.sub(l.mul(d));var p=$.sub(l.mul(z));if(!s&&H.cmp(v)<0)Z=j.neg(),W=d,s=H.neg(),g=D;else if(s&&++G===2)break;j=H,x=S,S=H,T=d,d=D,$=z,z=p}O=H.neg(),U=D;var f=s.sqr().add(g.sqr()),n=O.sqr().add(U.sqr());return n.cmp(f)>=0&&(O=Z,U=W),s.negative&&(s=s.neg(),g=g.neg()),O.negative&&(O=O.neg(),U=U.neg()),[{a:s,b:g},{a:O,b:U}]},h.prototype._endoSplit=function(L){var v=this.endo.basis,S=v[0],x=v[1],d=x.b.mul(L).divRound(this.n),z=S.b.neg().mul(L).divRound(this.n),T=d.mul(S.a),$=z.mul(x.a),Z=d.mul(S.b),W=z.mul(x.b),s=L.sub(T).sub($),g=Z.add(W).neg();return{k1:s,k2:g}},h.prototype.pointFromX=function(L,v){L=new R(L,16),L.red||(L=L.toRed(this.red));var S=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),x=S.redSqrt();if(x.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var d=x.fromRed().isOdd();return(v&&!d||!v&&d)&&(x=x.redNeg()),this.point(L,x)},h.prototype.validate=function(L){if(L.inf)return!0;var{x:v,y:S}=L,x=this.a.redMul(v),d=v.redSqr().redMul(v).redIAdd(x).redIAdd(this.b);return S.redSqr().redISub(d).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(L,v,S){for(var x=this._endoWnafT1,d=this._endoWnafT2,z=0;z<L.length;z++){var T=this._endoSplit(v[z]),$=L[z],Z=$._getBeta();T.k1.negative&&(T.k1.ineg(),$=$.neg(!0)),T.k2.negative&&(T.k2.ineg(),Z=Z.neg(!0)),x[z*2]=$,x[z*2+1]=Z,d[z*2]=T.k1,d[z*2+1]=T.k2}for(var W=this._wnafMulAdd(1,x,d,z*2,S),s=0;s<z*2;s++)x[s]=null,d[s]=null;return W};function V(L,v,S,x){b.BasePoint.call(this,L,"affine"),v===null&&S===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new R(v,16),this.y=new R(S,16),x&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}N(V,b.BasePoint),h.prototype.point=function(L,v,S){return new V(this,L,v,S)},h.prototype.pointFromJSON=function(L,v){return V.fromJSON(this,L,v)},V.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var S=this.curve,x=function(d){return S.point(d.x.redMul(S.endo.beta),d.y)};L.beta=v,v.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(x)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(x)}}}return v}},V.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},V.fromJSON=function(L,v,S){typeof v=="string"&&(v=JSON.parse(v));var x=L.point(v[0],v[1],S);if(!v[2])return x;function d(T){return L.point(T[0],T[1],S)}var z=v[2];return x.precomputed={beta:null,doubles:z.doubles&&{step:z.doubles.step,points:[x].concat(z.doubles.points.map(d))},naf:z.naf&&{wnd:z.naf.wnd,points:[x].concat(z.naf.points.map(d))}},x},V.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},V.prototype.isInfinity=function(){return this.inf},V.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(this.x.cmp(L.x)===0)return this.curve.point(null,null);var v=this.y.redSub(L.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(L.x).redInvm()));var S=v.redSqr().redISub(this.x).redISub(L.x),x=v.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,x)},V.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(L.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,S=this.x.redSqr(),x=L.redInvm(),d=S.redAdd(S).redIAdd(S).redIAdd(v).redMul(x),z=d.redSqr().redISub(this.x.redAdd(this.x)),T=d.redMul(this.x.redSub(z)).redISub(this.y);return this.curve.point(z,T)},V.prototype.getX=function(){return this.x.fromRed()},V.prototype.getY=function(){return this.y.fromRed()},V.prototype.mul=function(L){return L=new R(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},V.prototype.mulAdd=function(L,v,S){var x=[this,v],d=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(x,d):this.curve._wnafMulAdd(1,x,d,2)},V.prototype.jmulAdd=function(L,v,S){var x=[this,v],d=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(x,d,!0):this.curve._wnafMulAdd(1,x,d,2,!0)},V.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||this.x.cmp(L.x)===0&&this.y.cmp(L.y)===0)},V.prototype.neg=function(L){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var S=this.precomputed,x=function(d){return d.neg()};v.precomputed={naf:S.naf&&{wnd:S.naf.wnd,points:S.naf.points.map(x)},doubles:S.doubles&&{step:S.doubles.step,points:S.doubles.points.map(x)}}}return v},V.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var L=this.curve.jpoint(this.x,this.y,this.curve.one);return L};function a(L,v,S,x){b.BasePoint.call(this,L,"jacobian"),v===null&&S===null&&x===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new R(0)):(this.x=new R(v,16),this.y=new R(S,16),this.z=new R(x,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N(a,b.BasePoint),h.prototype.jpoint=function(L,v,S){return new a(this,L,v,S)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),v=L.redSqr(),S=this.x.redMul(v),x=this.y.redMul(v).redMul(L);return this.curve.point(S,x)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var v=L.z.redSqr(),S=this.z.redSqr(),x=this.x.redMul(v),d=L.x.redMul(S),z=this.y.redMul(v.redMul(L.z)),T=L.y.redMul(S.redMul(this.z)),$=x.redSub(d),Z=z.redSub(T);if($.cmpn(0)===0)return Z.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var W=$.redSqr(),s=W.redMul($),g=x.redMul(W),O=Z.redSqr().redIAdd(s).redISub(g).redISub(g),U=Z.redMul(g.redISub(O)).redISub(z.redMul(s)),j=this.z.redMul(L.z).redMul($);return this.curve.jpoint(O,U,j)},a.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var v=this.z.redSqr(),S=this.x,x=L.x.redMul(v),d=this.y,z=L.y.redMul(v).redMul(this.z),T=S.redSub(x),$=d.redSub(z);if(T.cmpn(0)===0)return $.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Z=T.redSqr(),W=Z.redMul(T),s=S.redMul(Z),g=$.redSqr().redIAdd(W).redISub(s).redISub(s),O=$.redMul(s.redISub(g)).redISub(d.redMul(W)),U=this.z.redMul(T);return this.curve.jpoint(g,O,U)},a.prototype.dblp=function(L){if(L===0)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var S=this;for(v=0;v<L;v++)S=S.dbl();return S}var x=this.curve.a,d=this.curve.tinv,z=this.x,T=this.y,$=this.z,Z=$.redSqr().redSqr(),W=T.redAdd(T);for(v=0;v<L;v++){var s=z.redSqr(),g=W.redSqr(),O=g.redSqr(),U=s.redAdd(s).redIAdd(s).redIAdd(x.redMul(Z)),j=z.redMul(g),G=U.redSqr().redISub(j.redAdd(j)),H=j.redISub(G),D=U.redMul(H);D=D.redIAdd(D).redISub(O);var l=W.redMul($);v+1<L&&(Z=Z.redMul(O)),z=G,$=l,W=D}return this.curve.jpoint(z,W.redMul(d),$)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var L,v,S;if(this.zOne){var x=this.x.redSqr(),d=this.y.redSqr(),z=d.redSqr(),T=this.x.redAdd(d).redSqr().redISub(x).redISub(z);T=T.redIAdd(T);var $=x.redAdd(x).redIAdd(x),Z=$.redSqr().redISub(T).redISub(T),W=z.redIAdd(z);W=W.redIAdd(W),W=W.redIAdd(W),L=Z,v=$.redMul(T.redISub(Z)).redISub(W),S=this.y.redAdd(this.y)}else{var s=this.x.redSqr(),g=this.y.redSqr(),O=g.redSqr(),U=this.x.redAdd(g).redSqr().redISub(s).redISub(O);U=U.redIAdd(U);var j=s.redAdd(s).redIAdd(s),G=j.redSqr(),H=O.redIAdd(O);H=H.redIAdd(H),H=H.redIAdd(H),L=G.redISub(U).redISub(U),v=j.redMul(U.redISub(L)).redISub(H),S=this.y.redMul(this.z),S=S.redIAdd(S)}return this.curve.jpoint(L,v,S)},a.prototype._threeDbl=function(){var L,v,S;if(this.zOne){var x=this.x.redSqr(),d=this.y.redSqr(),z=d.redSqr(),T=this.x.redAdd(d).redSqr().redISub(x).redISub(z);T=T.redIAdd(T);var $=x.redAdd(x).redIAdd(x).redIAdd(this.curve.a),Z=$.redSqr().redISub(T).redISub(T);L=Z;var W=z.redIAdd(z);W=W.redIAdd(W),W=W.redIAdd(W),v=$.redMul(T.redISub(Z)).redISub(W),S=this.y.redAdd(this.y)}else{var s=this.z.redSqr(),g=this.y.redSqr(),O=this.x.redMul(g),U=this.x.redSub(s).redMul(this.x.redAdd(s));U=U.redAdd(U).redIAdd(U);var j=O.redIAdd(O);j=j.redIAdd(j);var G=j.redAdd(j);L=U.redSqr().redISub(G),S=this.y.redAdd(this.z).redSqr().redISub(g).redISub(s);var H=g.redSqr();H=H.redIAdd(H),H=H.redIAdd(H),H=H.redIAdd(H),v=U.redMul(j.redISub(L)).redISub(H)}return this.curve.jpoint(L,v,S)},a.prototype._dbl=function(){var L=this.curve.a,v=this.x,S=this.y,x=this.z,d=x.redSqr().redSqr(),z=v.redSqr(),T=S.redSqr(),$=z.redAdd(z).redIAdd(z).redIAdd(L.redMul(d)),Z=v.redAdd(v);Z=Z.redIAdd(Z);var W=Z.redMul(T),s=$.redSqr().redISub(W.redAdd(W)),g=W.redISub(s),O=T.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var U=$.redMul(g).redISub(O),j=S.redAdd(S).redMul(x);return this.curve.jpoint(s,U,j)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),v=this.y.redSqr(),S=this.z.redSqr(),x=v.redSqr(),d=L.redAdd(L).redIAdd(L),z=d.redSqr(),T=this.x.redAdd(v).redSqr().redISub(L).redISub(x);T=T.redIAdd(T),T=T.redAdd(T).redIAdd(T),T=T.redISub(z);var $=T.redSqr(),Z=x.redIAdd(x);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z);var W=d.redIAdd(T).redSqr().redISub(z).redISub($).redISub(Z),s=v.redMul(W);s=s.redIAdd(s),s=s.redIAdd(s);var g=this.x.redMul($).redISub(s);g=g.redIAdd(g),g=g.redIAdd(g);var O=this.y.redMul(W.redMul(Z.redISub(W)).redISub(T.redMul($)));O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var U=this.z.redAdd(T).redSqr().redISub(S).redISub($);return this.curve.jpoint(g,O,U)},a.prototype.mul=function(L,v){return L=new R(L,v),this.curve._wnafMul(this,L)},a.prototype.eq=function(L){if(L.type==="affine")return this.eq(L.toJ());if(this===L)return!0;var v=this.z.redSqr(),S=L.z.redSqr();if(this.x.redMul(S).redISub(L.x.redMul(v)).cmpn(0)!==0)return!1;var x=v.redMul(this.z),d=S.redMul(L.z);return this.y.redMul(d).redISub(L.y.redMul(x)).cmpn(0)===0},a.prototype.eqXToP=function(L){var v=this.z.redSqr(),S=L.toRed(this.curve.red).redMul(v);if(this.x.cmp(S)===0)return!0;for(var x=L.clone(),d=this.curve.redN.redMul(v);;){if(x.iadd(this.curve.n),x.cmp(this.curve.p)>=0)return!1;if(S.redIAdd(d),this.x.cmp(S)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),D8=b1((M,w)=>{var _=k2(),R=i1(),N=Q3(),b=$2();function u(V){N.call(this,"mont",V),this.a=new _(V.a,16).toRed(this.red),this.b=new _(V.b,16).toRed(this.red),this.i4=new _(4).toRed(this.red).redInvm(),this.two=new _(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}R(u,N),w.exports=u,u.prototype.validate=function(V){var a=V.normalize().x,L=a.redSqr(),v=L.redMul(a).redAdd(L.redMul(this.a)).redAdd(a),S=v.redSqrt();return S.redSqr().cmp(v)===0};function h(V,a,L){N.BasePoint.call(this,V,"projective"),a===null&&L===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new _(a,16),this.z=new _(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R(h,N.BasePoint),u.prototype.decodePoint=function(V,a){return this.point(b.toArray(V,a),1)},u.prototype.point=function(V,a){return new h(this,V,a)},u.prototype.pointFromJSON=function(V){return h.fromJSON(this,V)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(V,a){return new h(V,a[0],a[1]||V.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var V=this.x.redAdd(this.z),a=V.redSqr(),L=this.x.redSub(this.z),v=L.redSqr(),S=a.redSub(v),x=a.redMul(v),d=S.redMul(v.redAdd(this.curve.a24.redMul(S)));return this.curve.point(x,d)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(V,a){var L=this.x.redAdd(this.z),v=this.x.redSub(this.z),S=V.x.redAdd(V.z),x=V.x.redSub(V.z),d=x.redMul(L),z=S.redMul(v),T=a.z.redMul(d.redAdd(z).redSqr()),$=a.x.redMul(d.redISub(z).redSqr());return this.curve.point(T,$)},h.prototype.mul=function(V){for(var a=V.clone(),L=this,v=this.curve.point(null,null),S=this,x=[];a.cmpn(0)!==0;a.iushrn(1))x.push(a.andln(1));for(var d=x.length-1;d>=0;d--)x[d]===0?(L=L.diffAdd(v,S),v=v.dbl()):(v=L.diffAdd(v,S),L=L.dbl());return v},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(V){return this.getX().cmp(V.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),I8=b1((M,w)=>{var _=$2(),R=k2(),N=i1(),b=Q3(),u=_.assert;function h(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,b.call(this,"edwards",a),this.a=new R(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new R(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new R(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}N(h,b),w.exports=h,h.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)},h.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)},h.prototype.jpoint=function(a,L,v,S){return this.point(a,L,v,S)},h.prototype.pointFromX=function(a,L){a=new R(a,16),a.red||(a=a.toRed(this.red));var v=a.redSqr(),S=this.c2.redSub(this.a.redMul(v)),x=this.one.redSub(this.c2.redMul(this.d).redMul(v)),d=S.redMul(x.redInvm()),z=d.redSqrt();if(z.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var T=z.fromRed().isOdd();return(L&&!T||!L&&T)&&(z=z.redNeg()),this.point(a,z)},h.prototype.pointFromY=function(a,L){a=new R(a,16),a.red||(a=a.toRed(this.red));var v=a.redSqr(),S=v.redSub(this.c2),x=v.redMul(this.d).redMul(this.c2).redSub(this.a),d=S.redMul(x.redInvm());if(d.cmp(this.zero)===0){if(L)throw new Error("invalid point");return this.point(this.zero,a)}var z=d.redSqrt();if(z.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return z.fromRed().isOdd()!==L&&(z=z.redNeg()),this.point(z,a)},h.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var L=a.x.redSqr(),v=a.y.redSqr(),S=L.redMul(this.a).redAdd(v),x=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(v)));return S.cmp(x)===0};function V(a,L,v,S,x){b.BasePoint.call(this,a,"projective"),L===null&&v===null&&S===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new R(L,16),this.y=new R(v,16),this.z=S?new R(S,16):this.curve.one,this.t=x&&new R(x,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N(V,b.BasePoint),h.prototype.pointFromJSON=function(a){return V.fromJSON(this,a)},h.prototype.point=function(a,L,v,S){return new V(this,a,L,v,S)},V.fromJSON=function(a,L){return new V(a,L[0],L[1],L[2])},V.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},V.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},V.prototype._extDbl=function(){var a=this.x.redSqr(),L=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var S=this.curve._mulA(a),x=this.x.redAdd(this.y).redSqr().redISub(a).redISub(L),d=S.redAdd(L),z=d.redSub(v),T=S.redSub(L),$=x.redMul(z),Z=d.redMul(T),W=x.redMul(T),s=z.redMul(d);return this.curve.point($,Z,s,W)},V.prototype._projDbl=function(){var a=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),v=this.y.redSqr(),S,x,d,z,T,$;if(this.curve.twisted){z=this.curve._mulA(L);var Z=z.redAdd(v);this.zOne?(S=a.redSub(L).redSub(v).redMul(Z.redSub(this.curve.two)),x=Z.redMul(z.redSub(v)),d=Z.redSqr().redSub(Z).redSub(Z)):(T=this.z.redSqr(),$=Z.redSub(T).redISub(T),S=a.redSub(L).redISub(v).redMul($),x=Z.redMul(z.redSub(v)),d=Z.redMul($))}else z=L.redAdd(v),T=this.curve._mulC(this.z).redSqr(),$=z.redSub(T).redSub(T),S=this.curve._mulC(a.redISub(z)).redMul($),x=this.curve._mulC(z).redMul(L.redISub(v)),d=z.redMul($);return this.curve.point(S,x,d)},V.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},V.prototype._extAdd=function(a){var L=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),v=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),S=this.t.redMul(this.curve.dd).redMul(a.t),x=this.z.redMul(a.z.redAdd(a.z)),d=v.redSub(L),z=x.redSub(S),T=x.redAdd(S),$=v.redAdd(L),Z=d.redMul(z),W=T.redMul($),s=d.redMul($),g=z.redMul(T);return this.curve.point(Z,W,g,s)},V.prototype._projAdd=function(a){var L=this.z.redMul(a.z),v=L.redSqr(),S=this.x.redMul(a.x),x=this.y.redMul(a.y),d=this.curve.d.redMul(S).redMul(x),z=v.redSub(d),T=v.redAdd(d),$=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(S).redISub(x),Z=L.redMul(z).redMul($),W,s;return this.curve.twisted?(W=L.redMul(T).redMul(x.redSub(this.curve._mulA(S))),s=z.redMul(T)):(W=L.redMul(T).redMul(x.redSub(S)),s=this.curve._mulC(z).redMul(T)),this.curve.point(Z,W,s)},V.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)},V.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)},V.prototype.mulAdd=function(a,L,v){return this.curve._wnafMulAdd(1,[this,L],[a,v],2,!1)},V.prototype.jmulAdd=function(a,L,v){return this.curve._wnafMulAdd(1,[this,L],[a,v],2,!0)},V.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this},V.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},V.prototype.getX=function(){return this.normalize(),this.x.fromRed()},V.prototype.getY=function(){return this.normalize(),this.y.fromRed()},V.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0},V.prototype.eqXToP=function(a){var L=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(L)===0)return!0;for(var v=a.clone(),S=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(S),this.x.cmp(L)===0)return!0}},V.prototype.toP=V.prototype.normalize,V.prototype.mixedAdd=V.prototype.add}),N5=b1((M)=>{var w=M;w.base=Q3(),w.short=E8(),w.mont=D8(),w.edwards=I8()}),s2=b1((M)=>{var w=S2(),_=i1();M.inherits=_;function R(p,f){return(p.charCodeAt(f)&64512)!==55296||f<0||f+1>=p.length?!1:(p.charCodeAt(f+1)&64512)===56320}function N(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var n=[];if(typeof p=="string")if(f){if(f==="hex")for(p=p.replace(/[^a-z0-9]+/ig,""),p.length%2!==0&&(p="0"+p),y=0;y<p.length;y+=2)n.push(parseInt(p[y]+p[y+1],16))}else for(var c=0,y=0;y<p.length;y++){var q=p.charCodeAt(y);q<128?n[c++]=q:q<2048?(n[c++]=q>>6|192,n[c++]=q&63|128):R(p,y)?(q=65536+((q&1023)<<10)+(p.charCodeAt(++y)&1023),n[c++]=q>>18|240,n[c++]=q>>12&63|128,n[c++]=q>>6&63|128,n[c++]=q&63|128):(n[c++]=q>>12|224,n[c++]=q>>6&63|128,n[c++]=q&63|128)}else for(y=0;y<p.length;y++)n[y]=p[y]|0;return n}M.toArray=N;function b(p){for(var f="",n=0;n<p.length;n++)f+=V(p[n].toString(16));return f}M.toHex=b;function u(p){var f=p>>>24|p>>>8&65280|p<<8&16711680|(p&255)<<24;return f>>>0}M.htonl=u;function h(p,f){for(var n="",c=0;c<p.length;c++){var y=p[c];f==="little"&&(y=u(y)),n+=a(y.toString(16))}return n}M.toHex32=h;function V(p){return p.length===1?"0"+p:p}M.zero2=V;function a(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}M.zero8=a;function L(p,f,n,c){var y=n-f;w(y%4===0);for(var q=new Array(y/4),r=0,o=f;r<q.length;r++,o+=4){var m;c==="big"?m=p[o]<<24|p[o+1]<<16|p[o+2]<<8|p[o+3]:m=p[o+3]<<24|p[o+2]<<16|p[o+1]<<8|p[o],q[r]=m>>>0}return q}M.join32=L;function v(p,f){for(var n=new Array(p.length*4),c=0,y=0;c<p.length;c++,y+=4){var q=p[c];f==="big"?(n[y]=q>>>24,n[y+1]=q>>>16&255,n[y+2]=q>>>8&255,n[y+3]=q&255):(n[y+3]=q>>>24,n[y+2]=q>>>16&255,n[y+1]=q>>>8&255,n[y]=q&255)}return n}M.split32=v;function S(p,f){return p>>>f|p<<32-f}M.rotr32=S;function x(p,f){return p<<f|p>>>32-f}M.rotl32=x;function d(p,f){return p+f>>>0}M.sum32=d;function z(p,f,n){return p+f+n>>>0}M.sum32_3=z;function T(p,f,n,c){return p+f+n+c>>>0}M.sum32_4=T;function $(p,f,n,c,y){return p+f+n+c+y>>>0}M.sum32_5=$;function Z(p,f,n,c){var y=p[f],q=p[f+1],r=c+q>>>0,o=(r<c?1:0)+n+y;p[f]=o>>>0,p[f+1]=r}M.sum64=Z;function W(p,f,n,c){var y=f+c>>>0,q=(y<f?1:0)+p+n;return q>>>0}M.sum64_hi=W;function s(p,f,n,c){var y=f+c;return y>>>0}M.sum64_lo=s;function g(p,f,n,c,y,q,r,o){var m=0,P=f;P=P+c>>>0,m+=P<f?1:0,P=P+q>>>0,m+=P<q?1:0,P=P+o>>>0,m+=P<o?1:0;var X=p+n+y+r+m;return X>>>0}M.sum64_4_hi=g;function O(p,f,n,c,y,q,r,o){var m=f+c+q+o;return m>>>0}M.sum64_4_lo=O;function U(p,f,n,c,y,q,r,o,m,P){var X=0,k=f;k=k+c>>>0,X+=k<f?1:0,k=k+q>>>0,X+=k<q?1:0,k=k+o>>>0,X+=k<o?1:0,k=k+P>>>0,X+=k<P?1:0;var I=p+n+y+r+m+X;return I>>>0}M.sum64_5_hi=U;function j(p,f,n,c,y,q,r,o,m,P){var X=f+c+q+o+P;return X>>>0}M.sum64_5_lo=j;function G(p,f,n){var c=f<<32-n|p>>>n;return c>>>0}M.rotr64_hi=G;function H(p,f,n){var c=p<<32-n|f>>>n;return c>>>0}M.rotr64_lo=H;function D(p,f,n){return p>>>n}M.shr64_hi=D;function l(p,f,n){var c=p<<32-n|f>>>n;return c>>>0}M.shr64_lo=l}),z3=b1((M)=>{var w=s2(),_=S2();function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}M.BlockHash=R,R.prototype.update=function(N,b){if(N=w.toArray(N,b),this.pending?this.pending=this.pending.concat(N):this.pending=N,this.pendingTotal+=N.length,this.pending.length>=this._delta8){N=this.pending;var u=N.length%this._delta8;this.pending=N.slice(N.length-u,N.length),this.pending.length===0&&(this.pending=null),N=w.join32(N,0,N.length-u,this.endian);for(var h=0;h<N.length;h+=this._delta32)this._update(N,h,h+this._delta32)}return this},R.prototype.digest=function(N){return this.update(this._pad()),_(this.pending===null),this._digest(N)},R.prototype._pad=function(){var N=this.pendingTotal,b=this._delta8,u=b-(N+this.padLength)%b,h=new Array(u+this.padLength);h[0]=128;for(var V=1;V<u;V++)h[V]=0;if(N<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)h[V++]=0;h[V++]=0,h[V++]=0,h[V++]=0,h[V++]=0,h[V++]=N>>>24&255,h[V++]=N>>>16&255,h[V++]=N>>>8&255,h[V++]=N&255}else for(h[V++]=N&255,h[V++]=N>>>8&255,h[V++]=N>>>16&255,h[V++]=N>>>24&255,h[V++]=0,h[V++]=0,h[V++]=0,h[V++]=0,a=8;a<this.padLength;a++)h[V++]=0;return h}}),T5=b1((M)=>{var w=s2(),_=w.rotr32;function R(v,S,x,d){if(v===0)return N(S,x,d);if(v===1||v===3)return u(S,x,d);if(v===2)return b(S,x,d)}M.ft_1=R;function N(v,S,x){return v&S^~v&x}M.ch32=N;function b(v,S,x){return v&S^v&x^S&x}M.maj32=b;function u(v,S,x){return v^S^x}M.p32=u;function h(v){return _(v,2)^_(v,13)^_(v,22)}M.s0_256=h;function V(v){return _(v,6)^_(v,11)^_(v,25)}M.s1_256=V;function a(v){return _(v,7)^_(v,18)^v>>>3}M.g0_256=a;function L(v){return _(v,17)^_(v,19)^v>>>10}M.g1_256=L}),Y8=b1((M,w)=>{var _=s2(),R=z3(),N=T5(),b=_.rotl32,u=_.sum32,h=_.sum32_5,V=N.ft_1,a=R.BlockHash,L=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_.inherits(v,a),w.exports=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=function(S,x){for(var d=this.W,z=0;z<16;z++)d[z]=S[x+z];for(;z<d.length;z++)d[z]=b(d[z-3]^d[z-8]^d[z-14]^d[z-16],1);var T=this.h[0],$=this.h[1],Z=this.h[2],W=this.h[3],s=this.h[4];for(z=0;z<d.length;z++){var g=~~(z/20),O=h(b(T,5),V(g,$,Z,W),s,d[z],L[g]);s=W,W=Z,Z=b($,30),$=T,T=O}this.h[0]=u(this.h[0],T),this.h[1]=u(this.h[1],$),this.h[2]=u(this.h[2],Z),this.h[3]=u(this.h[3],W),this.h[4]=u(this.h[4],s)},v.prototype._digest=function(S){return S==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}}),M5=b1((M,w)=>{var _=s2(),R=z3(),N=T5(),b=S2(),u=_.sum32,h=_.sum32_4,V=_.sum32_5,a=N.ch32,L=N.maj32,v=N.s0_256,S=N.s1_256,x=N.g0_256,d=N.g1_256,z=R.BlockHash,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $(){if(!(this instanceof $))return new $;z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=T,this.W=new Array(64)}_.inherits($,z),w.exports=$,$.blockSize=512,$.outSize=256,$.hmacStrength=192,$.padLength=64,$.prototype._update=function(Z,W){for(var s=this.W,g=0;g<16;g++)s[g]=Z[W+g];for(;g<s.length;g++)s[g]=h(d(s[g-2]),s[g-7],x(s[g-15]),s[g-16]);var O=this.h[0],U=this.h[1],j=this.h[2],G=this.h[3],H=this.h[4],D=this.h[5],l=this.h[6],p=this.h[7];for(b(this.k.length===s.length),g=0;g<s.length;g++){var f=V(p,S(H),a(H,D,l),this.k[g],s[g]),n=u(v(O),L(O,U,j));p=l,l=D,D=H,H=u(G,f),G=j,j=U,U=O,O=u(f,n)}this.h[0]=u(this.h[0],O),this.h[1]=u(this.h[1],U),this.h[2]=u(this.h[2],j),this.h[3]=u(this.h[3],G),this.h[4]=u(this.h[4],H),this.h[5]=u(this.h[5],D),this.h[6]=u(this.h[6],l),this.h[7]=u(this.h[7],p)},$.prototype._digest=function(Z){return Z==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}}),t8=b1((M,w)=>{var _=s2(),R=M5();function N(){if(!(this instanceof N))return new N;R.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_.inherits(N,R),w.exports=N,N.blockSize=512,N.outSize=224,N.hmacStrength=192,N.padLength=64,N.prototype._digest=function(b){return b==="hex"?_.toHex32(this.h.slice(0,7),"big"):_.split32(this.h.slice(0,7),"big")}}),z5=b1((M,w)=>{var _=s2(),R=z3(),N=S2(),b=_.rotr64_hi,u=_.rotr64_lo,h=_.shr64_hi,V=_.shr64_lo,a=_.sum64,L=_.sum64_hi,v=_.sum64_lo,S=_.sum64_4_hi,x=_.sum64_4_lo,d=_.sum64_5_hi,z=_.sum64_5_lo,T=R.BlockHash,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(){if(!(this instanceof Z))return new Z;T.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=$,this.W=new Array(160)}_.inherits(Z,T),w.exports=Z,Z.blockSize=1024,Z.outSize=512,Z.hmacStrength=192,Z.padLength=128,Z.prototype._prepareBlock=function(n,c){for(var y=this.W,q=0;q<32;q++)y[q]=n[c+q];for(;q<y.length;q+=2){var r=p(y[q-4],y[q-3]),o=f(y[q-4],y[q-3]),m=y[q-14],P=y[q-13],X=D(y[q-30],y[q-29]),k=l(y[q-30],y[q-29]),I=y[q-32],Q=y[q-31];y[q]=S(r,o,m,P,X,k,I,Q),y[q+1]=x(r,o,m,P,X,k,I,Q)}},Z.prototype._update=function(n,c){this._prepareBlock(n,c);var y=this.W,q=this.h[0],r=this.h[1],o=this.h[2],m=this.h[3],P=this.h[4],X=this.h[5],k=this.h[6],I=this.h[7],Q=this.h[8],e=this.h[9],B=this.h[10],E=this.h[11],A=this.h[12],h1=this.h[13],n1=this.h[14],c1=this.h[15];N(this.k.length===y.length);for(var J=0;J<y.length;J+=2){var K=n1,Y=c1,p1=G(Q,e),u1=H(Q,e),o1=W(Q,e,B,E,A,h1),M1=s(Q,e,B,E,A,h1),d1=this.k[J],r1=this.k[J+1],F1=y[J],m1=y[J+1],a1=d(K,Y,p1,u1,o1,M1,d1,r1,F1,m1),k1=z(K,Y,p1,u1,o1,M1,d1,r1,F1,m1);K=U(q,r),Y=j(q,r),p1=g(q,r,o,m,P,X),u1=O(q,r,o,m,P,X);var F=L(K,Y,p1,u1),i=v(K,Y,p1,u1);n1=A,c1=h1,A=B,h1=E,B=Q,E=e,Q=L(k,I,a1,k1),e=v(I,I,a1,k1),k=P,I=X,P=o,X=m,o=q,m=r,q=L(a1,k1,F,i),r=v(a1,k1,F,i)}a(this.h,0,q,r),a(this.h,2,o,m),a(this.h,4,P,X),a(this.h,6,k,I),a(this.h,8,Q,e),a(this.h,10,B,E),a(this.h,12,A,h1),a(this.h,14,n1,c1)},Z.prototype._digest=function(n){return n==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")};function W(n,c,y,q,r){var o=n&y^~n&r;return o<0&&(o+=4294967296),o}function s(n,c,y,q,r,o){var m=c&q^~c&o;return m<0&&(m+=4294967296),m}function g(n,c,y,q,r){var o=n&y^n&r^y&r;return o<0&&(o+=4294967296),o}function O(n,c,y,q,r,o){var m=c&q^c&o^q&o;return m<0&&(m+=4294967296),m}function U(n,c){var y=b(n,c,28),q=b(c,n,2),r=b(c,n,7),o=y^q^r;return o<0&&(o+=4294967296),o}function j(n,c){var y=u(n,c,28),q=u(c,n,2),r=u(c,n,7),o=y^q^r;return o<0&&(o+=4294967296),o}function G(n,c){var y=b(n,c,14),q=b(n,c,18),r=b(c,n,9),o=y^q^r;return o<0&&(o+=4294967296),o}function H(n,c){var y=u(n,c,14),q=u(n,c,18),r=u(c,n,9),o=y^q^r;return o<0&&(o+=4294967296),o}function D(n,c){var y=b(n,c,1),q=b(n,c,8),r=h(n,c,7),o=y^q^r;return o<0&&(o+=4294967296),o}function l(n,c){var y=u(n,c,1),q=u(n,c,8),r=V(n,c,7),o=y^q^r;return o<0&&(o+=4294967296),o}function p(n,c){var y=b(n,c,19),q=b(c,n,29),r=h(n,c,6),o=y^q^r;return o<0&&(o+=4294967296),o}function f(n,c){var y=u(n,c,19),q=u(c,n,29),r=V(n,c,6),o=y^q^r;return o<0&&(o+=4294967296),o}}),C8=b1((M,w)=>{var _=s2(),R=z5();function N(){if(!(this instanceof N))return new N;R.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_.inherits(N,R),w.exports=N,N.blockSize=1024,N.outSize=384,N.hmacStrength=192,N.padLength=128,N.prototype._digest=function(b){return b==="hex"?_.toHex32(this.h.slice(0,12),"big"):_.split32(this.h.slice(0,12),"big")}}),B8=b1((M)=>{M.sha1=Y8(),M.sha224=t8(),M.sha256=M5(),M.sha384=C8(),M.sha512=z5()}),Q8=b1((M)=>{var w=s2(),_=z3(),R=w.rotl32,N=w.sum32,b=w.sum32_3,u=w.sum32_4,h=_.BlockHash;function V(){if(!(this instanceof V))return new V;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}w.inherits(V,h),M.ripemd160=V,V.blockSize=512,V.outSize=160,V.hmacStrength=192,V.padLength=64,V.prototype._update=function(T,$){for(var Z=this.h[0],W=this.h[1],s=this.h[2],g=this.h[3],O=this.h[4],U=Z,j=W,G=s,H=g,D=O,l=0;l<80;l++){var p=N(R(u(Z,a(l,W,s,g),T[S[l]+$],L(l)),d[l]),O);Z=O,O=g,g=R(s,10),s=W,W=p,p=N(R(u(U,a(79-l,j,G,H),T[x[l]+$],v(l)),z[l]),D),U=D,D=H,H=R(G,10),G=j,j=p}p=b(this.h[1],s,H),this.h[1]=b(this.h[2],g,D),this.h[2]=b(this.h[3],O,U),this.h[3]=b(this.h[4],Z,j),this.h[4]=b(this.h[0],W,G),this.h[0]=p},V.prototype._digest=function(T){return T==="hex"?w.toHex32(this.h,"little"):w.split32(this.h,"little")};function a(T,$,Z,W){return T<=15?$^Z^W:T<=31?$&Z|~$&W:T<=47?($|~Z)^W:T<=63?$&W|Z&~W:$^(Z|~W)}function L(T){return T<=15?0:T<=31?1518500249:T<=47?1859775393:T<=63?2400959708:2840853838}function v(T){return T<=15?1352829926:T<=31?1548603684:T<=47?1836072691:T<=63?2053994217:0}var S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],z=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),e8=b1((M,w)=>{var _=s2(),R=S2();function N(b,u,h){if(!(this instanceof N))return new N(b,u,h);this.Hash=b,this.blockSize=b.blockSize/8,this.outSize=b.outSize/8,this.inner=null,this.outer=null,this._init(_.toArray(u,h))}w.exports=N,N.prototype._init=function(b){b.length>this.blockSize&&(b=new this.Hash().update(b).digest()),R(b.length<=this.blockSize);for(var u=b.length;u<this.blockSize;u++)b.push(0);for(u=0;u<b.length;u++)b[u]^=54;for(this.inner=new this.Hash().update(b),u=0;u<b.length;u++)b[u]^=106;this.outer=new this.Hash().update(b)},N.prototype.update=function(b,u){return this.inner.update(b,u),this},N.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)}}),G6=b1((M)=>{var w=M;w.utils=s2(),w.common=z3(),w.sha=B8(),w.ripemd=Q8(),w.hmac=e8(),w.sha1=w.sha.sha1,w.sha256=w.sha.sha256,w.sha224=w.sha.sha224,w.sha384=w.sha.sha384,w.sha512=w.sha.sha512,w.ripemd160=w.ripemd.ripemd160}),A8=b1((M,w)=>{w.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),J6=b1((M)=>{var w=M,_=G6(),R=N5(),N=$2(),b=N.assert;function u(a){a.type==="short"?this.curve=new R.short(a):a.type==="edwards"?this.curve=new R.edwards(a):this.curve=new R.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}w.PresetCurve=u;function h(a,L){Object.defineProperty(w,a,{configurable:!0,enumerable:!0,get:function(){var v=new u(L);return Object.defineProperty(w,a,{configurable:!0,enumerable:!0,value:v}),v}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var V;try{V=A8()}catch{V=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",V]})}),l7=b1((M,w)=>{var _=G6(),R=q5(),N=S2();function b(u){if(!(this instanceof b))return new b(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=R.toArray(u.entropy,u.entropyEnc||"hex"),V=R.toArray(u.nonce,u.nonceEnc||"hex"),a=R.toArray(u.pers,u.persEnc||"hex");N(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,V,a)}w.exports=b,b.prototype._init=function(u,h,V){var a=u.concat(h).concat(V);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},b.prototype._hmac=function(){return new _.hmac(this.hash,this.K)},b.prototype._update=function(u){var h=this._hmac().update(this.V).update([0]);u&&(h=h.update(u)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},b.prototype.reseed=function(u,h,V,a){typeof h!="string"&&(a=V,V=h,h=null),u=R.toArray(u,h),V=R.toArray(V,a),N(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(V||[])),this._reseed=1},b.prototype.generate=function(u,h,V,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(a=V,V=h,h=null),V&&(V=R.toArray(V,a||"hex"),this._update(V));for(var L=[];L.length<u;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var v=L.slice(0,u);return this._update(V),this._reseed++,R.encode(v,h)}}),o7=b1((M,w)=>{var _=k2(),R=$2(),N=R.assert;function b(u,h){this.ec=u,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}w.exports=b,b.fromPublic=function(u,h,V){return h instanceof b?h:new b(u,{pub:h,pubEnc:V})},b.fromPrivate=function(u,h,V){return h instanceof b?h:new b(u,{priv:h,privEnc:V})},b.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},b.prototype.getPublic=function(u,h){return typeof u=="string"&&(h=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,u):this.pub},b.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},b.prototype._importPrivate=function(u,h){this.priv=new _(u,h||16),this.priv=this.priv.umod(this.ec.curve.n)},b.prototype._importPublic=function(u,h){if(u.x||u.y){this.ec.curve.type==="mont"?N(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&N(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,h)},b.prototype.derive=function(u){return u.validate()||N(u.validate(),"public point not validated"),u.mul(this.priv).getX()},b.prototype.sign=function(u,h,V){return this.ec.sign(u,this,h,V)},b.prototype.verify=function(u,h){return this.ec.verify(u,h,this)},b.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),n7=b1((M,w)=>{var _=k2(),R=$2(),N=R.assert;function b(L,v){if(L instanceof b)return L;this._importDER(L,v)||(N(L.r&&L.s,"Signature without r or s"),this.r=new _(L.r,16),this.s=new _(L.s,16),L.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=L.recoveryParam)}w.exports=b;function u(){this.place=0}function h(L,v){var S=L[v.place++];if(!(S&128))return S;var x=S&15;if(x===0||x>4)return!1;for(var d=0,z=0,T=v.place;z<x;z++,T++)d<<=8,d|=L[T],d>>>=0;return d<=127?!1:(v.place=T,d)}function V(L){for(var v=0,S=L.length-1;!L[v]&&!(L[v+1]&128)&&v<S;)v++;return v===0?L:L.slice(v)}b.prototype._importDER=function(L,v){L=R.toArray(L,v);var S=new u;if(L[S.place++]!==48)return!1;var x=h(L,S);if(x===!1||x+S.place!==L.length||L[S.place++]!==2)return!1;var d=h(L,S);if(d===!1)return!1;var z=L.slice(S.place,d+S.place);if(S.place+=d,L[S.place++]!==2)return!1;var T=h(L,S);if(T===!1||L.length!==T+S.place)return!1;var $=L.slice(S.place,T+S.place);if(z[0]===0)if(z[1]&128)z=z.slice(1);else return!1;if($[0]===0)if($[1]&128)$=$.slice(1);else return!1;return this.r=new _(z),this.s=new _($),this.recoveryParam=null,!0};function a(L,v){if(v<128){L.push(v);return}var S=1+(Math.log(v)/Math.LN2>>>3);for(L.push(S|128);--S;)L.push(v>>>(S<<3)&255);L.push(v)}b.prototype.toDER=function(L){var v=this.r.toArray(),S=this.s.toArray();for(v[0]&128&&(v=[0].concat(v)),S[0]&128&&(S=[0].concat(S)),v=V(v),S=V(S);!S[0]&&!(S[1]&128);)S=S.slice(1);var x=[2];a(x,v.length),x=x.concat(v),x.push(2),a(x,S.length);var d=x.concat(S),z=[48];return a(z,d.length),z=z.concat(d),R.encode(z,L)}}),p7=b1((M,w)=>{var _=k2(),R=l7(),N=$2(),b=J6(),u=K6(),h=N.assert,V=o7(),a=n7();function L(v){if(!(this instanceof L))return new L(v);typeof v=="string"&&(h(Object.prototype.hasOwnProperty.call(b,v),"Unknown curve "+v),v=b[v]),v instanceof b.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}w.exports=L,L.prototype.keyPair=function(v){return new V(this,v)},L.prototype.keyFromPrivate=function(v,S){return V.fromPrivate(this,v,S)},L.prototype.keyFromPublic=function(v,S){return V.fromPublic(this,v,S)},L.prototype.genKeyPair=function(v){v||(v={});for(var S=new R({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||u(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),x=this.n.byteLength(),d=this.n.sub(new _(2));;){var z=new _(S.generate(x));if(!(z.cmp(d)>0))return z.iaddn(1),this.keyFromPrivate(z)}},L.prototype._truncateToN=function(v,S){var x=v.byteLength()*8-this.n.bitLength();return x>0&&(v=v.ushrn(x)),!S&&v.cmp(this.n)>=0?v.sub(this.n):v},L.prototype.sign=function(v,S,x,d){typeof x=="object"&&(d=x,x=null),d||(d={}),S=this.keyFromPrivate(S,x),v=this._truncateToN(new _(v,16));for(var z=this.n.byteLength(),T=S.getPrivate().toArray("be",z),$=v.toArray("be",z),Z=new R({hash:this.hash,entropy:T,nonce:$,pers:d.pers,persEnc:d.persEnc||"utf8"}),W=this.n.sub(new _(1)),s=0;;s++){var g=d.k?d.k(s):new _(Z.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(W)>=0)){var O=this.g.mul(g);if(!O.isInfinity()){var U=O.getX(),j=U.umod(this.n);if(j.cmpn(0)!==0){var G=g.invm(this.n).mul(j.mul(S.getPrivate()).iadd(v));if(G=G.umod(this.n),G.cmpn(0)!==0){var H=(O.getY().isOdd()?1:0)|(U.cmp(j)!==0?2:0);return d.canonical&&G.cmp(this.nh)>0&&(G=this.n.sub(G),H^=1),new a({r:j,s:G,recoveryParam:H})}}}}}},L.prototype.verify=function(v,S,x,d){v=this._truncateToN(new _(v,16)),x=this.keyFromPublic(x,d),S=new a(S,"hex");var{r:z,s:T}=S;if(z.cmpn(1)<0||z.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var $=T.invm(this.n),Z=$.mul(v).umod(this.n),W=$.mul(z).umod(this.n),s;return this.curve._maxwellTrick?(s=this.g.jmulAdd(Z,x.getPublic(),W),s.isInfinity()?!1:s.eqXToP(z)):(s=this.g.mulAdd(Z,x.getPublic(),W),s.isInfinity()?!1:s.getX().umod(this.n).cmp(z)===0)},L.prototype.recoverPubKey=function(v,S,x,d){h((3&x)===x,"The recovery param is more than two bits"),S=new a(S,d);var z=this.n,T=new _(v),$=S.r,Z=S.s,W=x&1,s=x>>1;if($.cmp(this.curve.p.umod(this.curve.n))>=0&&s)throw new Error("Unable to find sencond key candinate");s?$=this.curve.pointFromX($.add(this.curve.n),W):$=this.curve.pointFromX($,W);var g=S.r.invm(z),O=z.sub(T).mul(g).umod(z),U=Z.mul(g).umod(z);return this.g.mulAdd(O,$,U)},L.prototype.getKeyRecoveryParam=function(v,S,x,d){if(S=new a(S,d),S.recoveryParam!==null)return S.recoveryParam;for(var z=0;z<4;z++){var T;try{T=this.recoverPubKey(v,S,z)}catch{continue}if(T.eq(x))return z}throw new Error("Unable to find valid recovery factor")}}),u7=b1((M,w)=>{var _=$2(),R=_.assert,N=_.parseBytes,b=_.cachedProperty;function u(h,V){this.eddsa=h,this._secret=N(V.secret),h.isPoint(V.pub)?this._pub=V.pub:this._pubBytes=N(V.pub)}u.fromPublic=function(h,V){return V instanceof u?V:new u(h,{pub:V})},u.fromSecret=function(h,V){return V instanceof u?V:new u(h,{secret:V})},u.prototype.secret=function(){return this._secret},b(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),b(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),b(u,"privBytes",function(){var h=this.eddsa,V=this.hash(),a=h.encodingLength-1,L=V.slice(0,h.encodingLength);return L[0]&=248,L[a]&=127,L[a]|=64,L}),b(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),b(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),b(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(h){return R(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},u.prototype.verify=function(h,V){return this.eddsa.verify(h,V,this)},u.prototype.getSecret=function(h){return R(this._secret,"KeyPair is public only"),_.encode(this.secret(),h)},u.prototype.getPublic=function(h){return _.encode(this.pubBytes(),h)},w.exports=u}),c7=b1((M,w)=>{var _=k2(),R=$2(),N=R.assert,b=R.cachedProperty,u=R.parseBytes;function h(V,a){this.eddsa=V,typeof a!="object"&&(a=u(a)),Array.isArray(a)&&(a={R:a.slice(0,V.encodingLength),S:a.slice(V.encodingLength)}),N(a.R&&a.S,"Signature without R or S"),V.isPoint(a.R)&&(this._R=a.R),a.S instanceof _&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}b(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),b(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),b(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),b(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return R.encode(this.toBytes(),"hex").toUpperCase()},w.exports=h}),f7=b1((M,w)=>{var _=G6(),R=J6(),N=$2(),b=N.assert,u=N.parseBytes,h=u7(),V=c7();function a(L){if(b(L==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(L);L=R[L].curve,this.curve=L,this.g=L.g,this.g.precompute(L.n.bitLength()+1),this.pointClass=L.point().constructor,this.encodingLength=Math.ceil(L.n.bitLength()/8),this.hash=_.sha512}w.exports=a,a.prototype.sign=function(L,v){L=u(L);var S=this.keyFromSecret(v),x=this.hashInt(S.messagePrefix(),L),d=this.g.mul(x),z=this.encodePoint(d),T=this.hashInt(z,S.pubBytes(),L).mul(S.priv()),$=x.add(T).umod(this.curve.n);return this.makeSignature({R:d,S:$,Rencoded:z})},a.prototype.verify=function(L,v,S){L=u(L),v=this.makeSignature(v);var x=this.keyFromPublic(S),d=this.hashInt(v.Rencoded(),x.pubBytes(),L),z=this.g.mul(v.S()),T=v.R().add(x.pub().mul(d));return T.eq(z)},a.prototype.hashInt=function(){for(var L=this.hash(),v=0;v<arguments.length;v++)L.update(arguments[v]);return N.intFromLE(L.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(L){return h.fromPublic(this,L)},a.prototype.keyFromSecret=function(L){return h.fromSecret(this,L)},a.prototype.makeSignature=function(L){return L instanceof V?L:new V(this,L)},a.prototype.encodePoint=function(L){var v=L.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=L.getX().isOdd()?128:0,v},a.prototype.decodePoint=function(L){L=N.parseBytes(L);var v=L.length-1,S=L.slice(0,v).concat(L[v]&-129),x=(L[v]&128)!==0,d=N.intFromLE(S);return this.curve.pointFromY(d,x)},a.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(L){return N.intFromLE(L)},a.prototype.isPoint=function(L){return L instanceof this.pointClass}}),E6=b1((M)=>{var w=M;w.version=J8().version,w.utils=$2(),w.rand=K6(),w.curve=N5(),w.curves=J6(),w.ec=p7(),w.eddsa=f7()}),V5=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),D6=b1((M,w)=>{var _=N2(),R=_.Buffer,N={},b;for(b in _)!_.hasOwnProperty(b)||b==="SlowBuffer"||b==="Buffer"||(N[b]=_[b]);var u=N.Buffer={};for(b in R)!R.hasOwnProperty(b)||b==="allocUnsafe"||b==="allocUnsafeSlow"||(u[b]=R[b]);if(N.Buffer.prototype=R.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(h,V,a){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return R(h,V,a)}),u.alloc||(u.alloc=function(h,V,a){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2147483648)throw new RangeError('The value "'+h+'" is invalid for option "size"');var L=R(h);return!V||V.length===0?L.fill(0):typeof a=="string"?L.fill(V,a):L.fill(V),L}),!N.kStringMaxLength)try{N.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}N.constants||(N.constants={MAX_LENGTH:N.kMaxLength},N.kStringMaxLength&&(N.constants.MAX_STRING_LENGTH=N.kStringMaxLength)),w.exports=N}),I6=b1((M)=>{var w=i1();function _(N){this._reporterState={obj:null,path:[],options:N||{},errors:[]}}M.Reporter=_,_.prototype.isError=function(N){return N instanceof R},_.prototype.save=function(){let N=this._reporterState;return{obj:N.obj,pathLen:N.path.length}},_.prototype.restore=function(N){let b=this._reporterState;b.obj=N.obj,b.path=b.path.slice(0,N.pathLen)},_.prototype.enterKey=function(N){return this._reporterState.path.push(N)},_.prototype.exitKey=function(N){let b=this._reporterState;b.path=b.path.slice(0,N-1)},_.prototype.leaveKey=function(N,b,u){let h=this._reporterState;this.exitKey(N),h.obj!==null&&(h.obj[b]=u)},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){let N=this._reporterState,b=N.obj;return N.obj={},b},_.prototype.leaveObject=function(N){let b=this._reporterState,u=b.obj;return b.obj=N,u},_.prototype.error=function(N){let b,u=this._reporterState,h=N instanceof R;if(h?b=N:b=new R(u.path.map(function(V){return"["+JSON.stringify(V)+"]"}).join(""),N.message||N,N.stack),!u.options.partial)throw b;return h||u.errors.push(b),b},_.prototype.wrapResult=function(N){let b=this._reporterState;return b.options.partial?{result:this.isError(N)?null:N,errors:b.errors}:N};function R(N,b){this.path=N,this.rethrow(b)}w(R,Error),R.prototype.rethrow=function(N){if(this.message=N+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,R),!this.stack)try{throw new Error(this.message)}catch(b){this.stack=b.stack}return this}}),V3=b1((M)=>{var w=i1(),_=I6().Reporter,R=D6().Buffer;function N(u,h){if(_.call(this,h),!R.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}w(N,_),M.DecoderBuffer=N,N.isDecoderBuffer=function(u){return u instanceof N?!0:typeof u=="object"&&R.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},N.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},N.prototype.restore=function(u){let h=new N(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,_.prototype.restore.call(this,u.reporter),h},N.prototype.isEmpty=function(){return this.offset===this.length},N.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},N.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");let V=new N(this.base);return V._reporterState=this._reporterState,V.offset=this.offset,V.length=this.offset+u,this.offset+=u,V},N.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function b(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(V){return b.isEncoderBuffer(V)||(V=new b(V,h)),this.length+=V.length,V},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=R.byteLength(u);else if(R.isBuffer(u))this.value=u,this.length=u.length;else return h.error("Unsupported type: "+typeof u)}M.EncoderBuffer=b,b.isEncoderBuffer=function(u){return u instanceof b?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},b.prototype.join=function(u,h){return u||(u=R.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(V){V.join(u,h),h+=V.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):R.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}}),Y6=b1((M,w)=>{var _=I6().Reporter,R=V3().EncoderBuffer,N=V3().DecoderBuffer,b=S2(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),V=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(v,S,x){let d={};this._baseState=d,d.name=x,d.enc=v,d.parent=S||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}w.exports=a;var L=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){let v=this._baseState,S={};L.forEach(function(d){S[d]=v[d]});let x=new this.constructor(S.parent);return x._baseState=S,x},a.prototype._wrap=function(){let v=this._baseState;h.forEach(function(S){this[S]=function(){let x=new this.constructor(this);return v.children.push(x),x[S].apply(x,arguments)}},this)},a.prototype._init=function(v){let S=this._baseState;b(S.parent===null),v.call(this),S.children=S.children.filter(function(x){return x._baseState.parent===this},this),b.equal(S.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(v){let S=this._baseState,x=v.filter(function(d){return d instanceof this.constructor},this);v=v.filter(function(d){return!(d instanceof this.constructor)},this),x.length!==0&&(b(S.children===null),S.children=x,x.forEach(function(d){d._baseState.parent=this},this)),v.length!==0&&(b(S.args===null),S.args=v,S.reverseArgs=v.map(function(d){if(typeof d!="object"||d.constructor!==Object)return d;let z={};return Object.keys(d).forEach(function(T){T==(T|0)&&(T|=0);let $=d[T];z[$]=T}),z}))},V.forEach(function(v){a.prototype[v]=function(){let S=this._baseState;throw new Error(v+" not implemented for encoding: "+S.enc)}}),u.forEach(function(v){a.prototype[v]=function(){let S=this._baseState,x=Array.prototype.slice.call(arguments);return b(S.tag===null),S.tag=v,this._useArgs(x),this}}),a.prototype.use=function(v){b(v);let S=this._baseState;return b(S.use===null),S.use=v,this},a.prototype.optional=function(){let v=this._baseState;return v.optional=!0,this},a.prototype.def=function(v){let S=this._baseState;return b(S.default===null),S.default=v,S.optional=!0,this},a.prototype.explicit=function(v){let S=this._baseState;return b(S.explicit===null&&S.implicit===null),S.explicit=v,this},a.prototype.implicit=function(v){let S=this._baseState;return b(S.explicit===null&&S.implicit===null),S.implicit=v,this},a.prototype.obj=function(){let v=this._baseState,S=Array.prototype.slice.call(arguments);return v.obj=!0,S.length!==0&&this._useArgs(S),this},a.prototype.key=function(v){let S=this._baseState;return b(S.key===null),S.key=v,this},a.prototype.any=function(){let v=this._baseState;return v.any=!0,this},a.prototype.choice=function(v){let S=this._baseState;return b(S.choice===null),S.choice=v,this._useArgs(Object.keys(v).map(function(x){return v[x]})),this},a.prototype.contains=function(v){let S=this._baseState;return b(S.use===null),S.contains=v,this},a.prototype._decode=function(v,S){let x=this._baseState;if(x.parent===null)return v.wrapResult(x.children[0]._decode(v,S));let d=x.default,z=!0,T=null;if(x.key!==null&&(T=v.enterKey(x.key)),x.optional){let Z=null;if(x.explicit!==null?Z=x.explicit:x.implicit!==null?Z=x.implicit:x.tag!==null&&(Z=x.tag),Z===null&&!x.any){let W=v.save();try{x.choice===null?this._decodeGeneric(x.tag,v,S):this._decodeChoice(v,S),z=!0}catch{z=!1}v.restore(W)}else if(z=this._peekTag(v,Z,x.any),v.isError(z))return z}let $;if(x.obj&&z&&($=v.enterObject()),z){if(x.explicit!==null){let W=this._decodeTag(v,x.explicit);if(v.isError(W))return W;v=W}let Z=v.offset;if(x.use===null&&x.choice===null){let W;x.any&&(W=v.save());let s=this._decodeTag(v,x.implicit!==null?x.implicit:x.tag,x.any);if(v.isError(s))return s;x.any?d=v.raw(W):v=s}if(S&&S.track&&x.tag!==null&&S.track(v.path(),Z,v.length,"tagged"),S&&S.track&&x.tag!==null&&S.track(v.path(),v.offset,v.length,"content"),x.any||(x.choice===null?d=this._decodeGeneric(x.tag,v,S):d=this._decodeChoice(v,S)),v.isError(d))return d;if(!x.any&&x.choice===null&&x.children!==null&&x.children.forEach(function(W){W._decode(v,S)}),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){let W=new N(d);d=this._getUse(x.contains,v._reporterState.obj)._decode(W,S)}}return x.obj&&z&&(d=v.leaveObject($)),x.key!==null&&(d!==null||z===!0)?v.leaveKey(T,x.key,d):T!==null&&v.exitKey(T),d},a.prototype._decodeGeneric=function(v,S,x){let d=this._baseState;return v==="seq"||v==="set"?null:v==="seqof"||v==="setof"?this._decodeList(S,v,d.args[0],x):/str$/.test(v)?this._decodeStr(S,v,x):v==="objid"&&d.args?this._decodeObjid(S,d.args[0],d.args[1],x):v==="objid"?this._decodeObjid(S,null,null,x):v==="gentime"||v==="utctime"?this._decodeTime(S,v,x):v==="null_"?this._decodeNull(S,x):v==="bool"?this._decodeBool(S,x):v==="objDesc"?this._decodeStr(S,v,x):v==="int"||v==="enum"?this._decodeInt(S,d.args&&d.args[0],x):d.use!==null?this._getUse(d.use,S._reporterState.obj)._decode(S,x):S.error("unknown tag: "+v)},a.prototype._getUse=function(v,S){let x=this._baseState;return x.useDecoder=this._use(v,S),b(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},a.prototype._decodeChoice=function(v,S){let x=this._baseState,d=null,z=!1;return Object.keys(x.choice).some(function(T){let $=v.save(),Z=x.choice[T];try{let W=Z._decode(v,S);if(v.isError(W))return!1;d={type:T,value:W},z=!0}catch{return v.restore($),!1}return!0},this),z?d:v.error("Choice not matched")},a.prototype._createEncoderBuffer=function(v){return new R(v,this.reporter)},a.prototype._encode=function(v,S,x){let d=this._baseState;if(d.default!==null&&d.default===v)return;let z=this._encodeValue(v,S,x);if(z!==void 0&&!this._skipDefault(z,S,x))return z},a.prototype._encodeValue=function(v,S,x){let d=this._baseState;if(d.parent===null)return d.children[0]._encode(v,S||new _);let z=null;if(this.reporter=S,d.optional&&v===void 0)if(d.default!==null)v=d.default;else return;let T=null,$=!1;if(d.any)z=this._createEncoderBuffer(v);else if(d.choice)z=this._encodeChoice(v,S);else if(d.contains)T=this._getUse(d.contains,x)._encode(v,S),$=!0;else if(d.children)T=d.children.map(function(Z){if(Z._baseState.tag==="null_")return Z._encode(null,S,v);if(Z._baseState.key===null)return S.error("Child should have a key");let W=S.enterKey(Z._baseState.key);if(typeof v!="object")return S.error("Child expected, but input is not object");let s=Z._encode(v[Z._baseState.key],S,v);return S.leaveKey(W),s},this).filter(function(Z){return Z}),T=this._createEncoderBuffer(T);else if(d.tag==="seqof"||d.tag==="setof"){if(!(d.args&&d.args.length===1))return S.error("Too many args for : "+d.tag);if(!Array.isArray(v))return S.error("seqof/setof, but data is not Array");let Z=this.clone();Z._baseState.implicit=null,T=this._createEncoderBuffer(v.map(function(W){let s=this._baseState;return this._getUse(s.args[0],v)._encode(W,S)},Z))}else d.use!==null?z=this._getUse(d.use,x)._encode(v,S):(T=this._encodePrimitive(d.tag,v),$=!0);if(!d.any&&d.choice===null){let Z=d.implicit!==null?d.implicit:d.tag,W=d.implicit===null?"universal":"context";Z===null?d.use===null&&S.error("Tag could be omitted only for .use()"):d.use===null&&(z=this._encodeComposite(Z,$,W,T))}return d.explicit!==null&&(z=this._encodeComposite(d.explicit,!1,"context",z)),z},a.prototype._encodeChoice=function(v,S){let x=this._baseState,d=x.choice[v.type];return d||b(!1,v.type+" not found in "+JSON.stringify(Object.keys(x.choice))),d._encode(v.value,S)},a.prototype._encodePrimitive=function(v,S){let x=this._baseState;if(/str$/.test(v))return this._encodeStr(S,v);if(v==="objid"&&x.args)return this._encodeObjid(S,x.reverseArgs[0],x.args[1]);if(v==="objid")return this._encodeObjid(S,null,null);if(v==="gentime"||v==="utctime")return this._encodeTime(S,v);if(v==="null_")return this._encodeNull();if(v==="int"||v==="enum")return this._encodeInt(S,x.args&&x.reverseArgs[0]);if(v==="bool")return this._encodeBool(S);if(v==="objDesc")return this._encodeStr(S,v);throw new Error("Unsupported tag: "+v)},a.prototype._isNumstr=function(v){return/^[0-9 ]*$/.test(v)},a.prototype._isPrintstr=function(v){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(v)}}),t6=b1((M)=>{function w(_){let R={};return Object.keys(_).forEach(function(N){(N|0)==N&&(N=N|0);let b=_[N];R[b]=N}),R}M.tagClass={0:"universal",1:"application",2:"context",3:"private"},M.tagClassByName=w(M.tagClass),M.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},M.tagByName=w(M.tag)}),S5=b1((M,w)=>{var _=i1(),R=D6().Buffer,N=Y6(),b=t6();function u(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new h,this.tree._init(L.body)}w.exports=u,u.prototype.encode=function(L,v){return this.tree._encode(L,v).join()};function h(L){N.call(this,"der",L)}_(h,N),h.prototype._encodeComposite=function(L,v,S,x){let d=a(L,v,S,this.reporter);if(x.length<128){let $=R.alloc(2);return $[0]=d,$[1]=x.length,this._createEncoderBuffer([$,x])}let z=1;for(let $=x.length;$>=256;$>>=8)z++;let T=R.alloc(2+z);T[0]=d,T[1]=128|z;for(let $=1+z,Z=x.length;Z>0;$--,Z>>=8)T[$]=Z&255;return this._createEncoderBuffer([T,x])},h.prototype._encodeStr=function(L,v){if(v==="bitstr")return this._createEncoderBuffer([L.unused|0,L.data]);if(v==="bmpstr"){let S=R.alloc(L.length*2);for(let x=0;x<L.length;x++)S.writeUInt16BE(L.charCodeAt(x),x*2);return this._createEncoderBuffer(S)}else return v==="numstr"?this._isNumstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(L):v==="objDesc"?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: "+v+" unsupported")},h.prototype._encodeObjid=function(L,v,S){if(typeof L=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(L))return this.reporter.error("objid not found in values map");L=v[L].split(/[\s.]+/g);for(let T=0;T<L.length;T++)L[T]|=0}else if(Array.isArray(L)){L=L.slice();for(let T=0;T<L.length;T++)L[T]|=0}if(!Array.isArray(L))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(L));if(!S){if(L[1]>=40)return this.reporter.error("Second objid identifier OOB");L.splice(0,2,L[0]*40+L[1])}let x=0;for(let T=0;T<L.length;T++){let $=L[T];for(x++;$>=128;$>>=7)x++}let d=R.alloc(x),z=d.length-1;for(let T=L.length-1;T>=0;T--){let $=L[T];for(d[z--]=$&127;($>>=7)>0;)d[z--]=128|$&127}return this._createEncoderBuffer(d)};function V(L){return L<10?"0"+L:L}h.prototype._encodeTime=function(L,v){let S,x=new Date(L);return v==="gentime"?S=[V(x.getUTCFullYear()),V(x.getUTCMonth()+1),V(x.getUTCDate()),V(x.getUTCHours()),V(x.getUTCMinutes()),V(x.getUTCSeconds()),"Z"].join(""):v==="utctime"?S=[V(x.getUTCFullYear()%100),V(x.getUTCMonth()+1),V(x.getUTCDate()),V(x.getUTCHours()),V(x.getUTCMinutes()),V(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr(S,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(L,v){if(typeof L=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(L))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(L));L=v[L]}if(typeof L!="number"&&!R.isBuffer(L)){let d=L.toArray();!L.sign&&d[0]&128&&d.unshift(0),L=R.from(d)}if(R.isBuffer(L)){let d=L.length;L.length===0&&d++;let z=R.alloc(d);return L.copy(z),L.length===0&&(z[0]=0),this._createEncoderBuffer(z)}if(L<128)return this._createEncoderBuffer(L);if(L<256)return this._createEncoderBuffer([0,L]);let S=1;for(let d=L;d>=256;d>>=8)S++;let x=new Array(S);for(let d=x.length-1;d>=0;d--)x[d]=L&255,L>>=8;return x[0]&128&&x.unshift(0),this._createEncoderBuffer(R.from(x))},h.prototype._encodeBool=function(L){return this._createEncoderBuffer(L?255:0)},h.prototype._use=function(L,v){return typeof L=="function"&&(L=L(v)),L._getEncoder("der").tree},h.prototype._skipDefault=function(L,v,S){let x=this._baseState,d;if(x.default===null)return!1;let z=L.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,v,S).join()),z.length!==x.defaultBuffer.length)return!1;for(d=0;d<z.length;d++)if(z[d]!==x.defaultBuffer[d])return!1;return!0};function a(L,v,S,x){let d;if(L==="seqof"?L="seq":L==="setof"&&(L="set"),b.tagByName.hasOwnProperty(L))d=b.tagByName[L];else if(typeof L=="number"&&(L|0)===L)d=L;else return x.error("Unknown tag: "+L);return d>=31?x.error("Multi-octet tag encoding unsupported"):(v||(d|=32),d|=b.tagClassByName[S||"universal"]<<6,d)}}),d7=b1((M,w)=>{var _=i1(),R=S5();function N(b){R.call(this,b),this.enc="pem"}_(N,R),w.exports=N,N.prototype.encode=function(b,u){let h=R.prototype.encode.call(this,b).toString("base64"),V=["-----BEGIN "+u.label+"-----"];for(let a=0;a<h.length;a+=64)V.push(h.slice(a,a+64));return V.push("-----END "+u.label+"-----"),V.join(`
`)}}),$5=b1((M)=>{var w=M;w.der=S5(),w.pem=d7()}),Z5=b1((M,w)=>{var _=i1(),R=V5(),N=V3().DecoderBuffer,b=Y6(),u=t6();function h(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new V,this.tree._init(v.body)}w.exports=h,h.prototype.decode=function(v,S){return N.isDecoderBuffer(v)||(v=new N(v,S)),this.tree._decode(v,S)};function V(v){b.call(this,"der",v)}_(V,b),V.prototype._peekTag=function(v,S,x){if(v.isEmpty())return!1;let d=v.save(),z=a(v,'Failed to peek tag: "'+S+'"');return v.isError(z)?z:(v.restore(d),z.tag===S||z.tagStr===S||z.tagStr+"of"===S||x)},V.prototype._decodeTag=function(v,S,x){let d=a(v,'Failed to decode tag of "'+S+'"');if(v.isError(d))return d;let z=L(v,d.primitive,'Failed to get length of "'+S+'"');if(v.isError(z))return z;if(!x&&d.tag!==S&&d.tagStr!==S&&d.tagStr+"of"!==S)return v.error('Failed to match tag: "'+S+'"');if(d.primitive||z!==null)return v.skip(z,'Failed to match body of: "'+S+'"');let T=v.save(),$=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError($)?$:(z=v.offset-T.offset,v.restore(T),v.skip(z,'Failed to match body of: "'+S+'"'))},V.prototype._skipUntilEnd=function(v,S){for(;;){let x=a(v,S);if(v.isError(x))return x;let d=L(v,x.primitive,S);if(v.isError(d))return d;let z;if(x.primitive||d!==null?z=v.skip(d):z=this._skipUntilEnd(v,S),v.isError(z))return z;if(x.tagStr==="end")break}},V.prototype._decodeList=function(v,S,x,d){let z=[];for(;!v.isEmpty();){let T=this._peekTag(v,"end");if(v.isError(T))return T;let $=x.decode(v,"der",d);if(v.isError($)&&T)break;z.push($)}return z},V.prototype._decodeStr=function(v,S){if(S==="bitstr"){let x=v.readUInt8();return v.isError(x)?x:{unused:x,data:v.raw()}}else if(S==="bmpstr"){let x=v.raw();if(x.length%2===1)return v.error("Decoding of string type: bmpstr length mismatch");let d="";for(let z=0;z<x.length/2;z++)d+=String.fromCharCode(x.readUInt16BE(z*2));return d}else if(S==="numstr"){let x=v.raw().toString("ascii");return this._isNumstr(x)?x:v.error("Decoding of string type: numstr unsupported characters")}else{if(S==="octstr")return v.raw();if(S==="objDesc")return v.raw();if(S==="printstr"){let x=v.raw().toString("ascii");return this._isPrintstr(x)?x:v.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(S)?v.raw().toString():v.error("Decoding of string type: "+S+" unsupported")}},V.prototype._decodeObjid=function(v,S,x){let d,z=[],T=0,$=0;for(;!v.isEmpty();)$=v.readUInt8(),T<<=7,T|=$&127,($&128)===0&&(z.push(T),T=0);$&128&&z.push(T);let Z=z[0]/40|0,W=z[0]%40;if(x?d=z:d=[Z,W].concat(z.slice(1)),S){let s=S[d.join(" ")];s===void 0&&(s=S[d.join(".")]),s!==void 0&&(d=s)}return d},V.prototype._decodeTime=function(v,S){let x=v.raw().toString(),d,z,T,$,Z,W;if(S==="gentime")d=x.slice(0,4)|0,z=x.slice(4,6)|0,T=x.slice(6,8)|0,$=x.slice(8,10)|0,Z=x.slice(10,12)|0,W=x.slice(12,14)|0;else if(S==="utctime")d=x.slice(0,2)|0,z=x.slice(2,4)|0,T=x.slice(4,6)|0,$=x.slice(6,8)|0,Z=x.slice(8,10)|0,W=x.slice(10,12)|0,d<70?d=2000+d:d=1900+d;else return v.error("Decoding "+S+" time is not supported yet");return Date.UTC(d,z-1,T,$,Z,W,0)},V.prototype._decodeNull=function(){return null},V.prototype._decodeBool=function(v){let S=v.readUInt8();return v.isError(S)?S:S!==0},V.prototype._decodeInt=function(v,S){let x=v.raw(),d=new R(x);return S&&(d=S[d.toString(10)]||d),d},V.prototype._use=function(v,S){return typeof v=="function"&&(v=v(S)),v._getDecoder("der").tree};function a(v,S){let x=v.readUInt8(S);if(v.isError(x))return x;let d=u.tagClass[x>>6],z=(x&32)===0;if((x&31)===31){let $=x;for(x=0;($&128)===128;){if($=v.readUInt8(S),v.isError($))return $;x<<=7,x|=$&127}}else x&=31;let T=u.tag[x];return{cls:d,primitive:z,tag:x,tagStr:T}}function L(v,S,x){let d=v.readUInt8(x);if(v.isError(d))return d;if(!S&&d===128)return null;if((d&128)===0)return d;let z=d&127;if(z>4)return v.error("length octect is too long");d=0;for(let T=0;T<z;T++){d<<=8;let $=v.readUInt8(x);if(v.isError($))return $;d|=$}return d}}),r7=b1((M,w)=>{var _=i1(),R=D6().Buffer,N=Z5();function b(u){N.call(this,u),this.enc="pem"}_(b,N),w.exports=b,b.prototype.decode=function(u,h){let V=u.toString().split(/[\r\n]+/g),a=h.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,v=-1,S=-1;for(let z=0;z<V.length;z++){let T=V[z].match(L);if(T!==null&&T[2]===a)if(v===-1){if(T[1]!=="BEGIN")break;v=z}else{if(T[1]!=="END")break;S=z;break}}if(v===-1||S===-1)throw new Error("PEM section not found for: "+a);let x=V.slice(v+1,S).join("");x.replace(/[^a-z0-9+/=]+/gi,"");let d=R.from(x,"base64");return N.prototype.decode.call(this,d,h)}}),W5=b1((M)=>{var w=M;w.der=Z5(),w.pem=r7()}),a7=b1((M)=>{var w=$5(),_=W5(),R=i1(),N=M;N.define=function(u,h){return new b(u,h)};function b(u,h){this.name=u,this.body=h,this.decoders={},this.encoders={}}b.prototype._createNamed=function(u){let h=this.name;function V(a){this._initNamed(a,h)}return R(V,u),V.prototype._initNamed=function(a,L){u.call(this,a,L)},new V(this)},b.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(_[u])),this.decoders[u]},b.prototype.decode=function(u,h,V){return this._getDecoder(h).decode(u,V)},b.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(w[u])),this.encoders[u]},b.prototype.encode=function(u,h,V){return this._getEncoder(h).encode(u,V)}}),h7=b1((M)=>{var w=M;w.Reporter=I6().Reporter,w.DecoderBuffer=V3().DecoderBuffer,w.EncoderBuffer=V3().EncoderBuffer,w.Node=Y6()}),b7=b1((M)=>{var w=M;w._reverse=function(_){let R={};return Object.keys(_).forEach(function(N){(N|0)==N&&(N=N|0);let b=_[N];R[b]=N}),R},w.der=t6()}),w5=b1((M)=>{var w=M;w.bignum=V5(),w.define=a7().define,w.base=h7(),w.constants=b7(),w.decoders=W5(),w.encoders=$5()}),m7=b1((M,w)=>{var _=w5(),R=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),N=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),b=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())}),h=_.define("RelativeDistinguishedName",function(){this.setof(N)}),V=_.define("RDNSequence",function(){this.seqof(h)}),a=_.define("Name",function(){this.choice({rdnSequence:this.use(V)})}),L=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(R),this.key("notAfter").use(R))}),v=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),S=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(b),this.key("issuer").use(a),this.key("validity").use(L),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),x=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(S),this.key("signatureAlgorithm").use(b),this.key("signatureValue").bitstr())});w.exports=x}),y7=b1((M)=>{var w=w5();M.certificate=m7();var _=w.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});M.RSAPrivateKey=_;var R=w.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});M.RSAPublicKey=R;var N=w.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())});M.PublicKey=N;var b=w.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=w.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b),this.key("subjectPrivateKey").octstr())});M.PrivateKey=u;var h=w.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});M.EncryptedPrivateKey=h;var V=w.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});M.DSAPrivateKey=V,M.DSAparam=w.define("DSAparam",function(){this.int()});var a=w.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(L),this.key("publicKey").optional().explicit(1).bitstr())});M.ECPrivateKey=a;var L=w.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});M.signature=w.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),v7=b1((M,w)=>{w.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),_7=b1((M,w)=>{var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,N=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,b=B3(),u=U6(),h=H1().Buffer;w.exports=function(V,a){var L=V.toString(),v=L.match(_),S;if(v){var x="aes"+v[1],d=h.from(v[2],"hex"),z=h.from(v[3].replace(/[\r\n]/g,""),"base64"),T=b(a,d.slice(0,8),parseInt(v[1],10)).key,$=[],Z=u.createDecipheriv(x,T,d);$.push(Z.update(z)),$.push(Z.final()),S=h.concat($)}else{var W=L.match(N);S=h.from(W[2].replace(/[\r\n]/g,""),"base64")}var s=L.match(R)[1];return{tag:s,data:S}}}),e3=b1((M,w)=>{var _=y7(),R=v7(),N=_7(),b=U6(),u=o5(),h=H1().Buffer;w.exports=V;function V(L){var v;typeof L=="object"&&!h.isBuffer(L)&&(v=L.passphrase,L=L.key),typeof L=="string"&&(L=h.from(L));var S=N(L,v),x=S.tag,d=S.data,z,T;switch(x){case"CERTIFICATE":T=_.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(T||(T=_.PublicKey.decode(d,"der")),z=T.algorithm.algorithm.join("."),z){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(T.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return T.subjectPrivateKey=T.subjectPublicKey,{type:"ec",data:T};case"1.2.840.10040.4.1":return T.algorithm.params.pub_key=_.DSAparam.decode(T.subjectPublicKey.data,"der"),{type:"dsa",data:T.algorithm.params};default:throw new Error("unknown key id "+z)}case"ENCRYPTED PRIVATE KEY":d=_.EncryptedPrivateKey.decode(d,"der"),d=a(d,v);case"PRIVATE KEY":switch(T=_.PrivateKey.decode(d,"der"),z=T.algorithm.algorithm.join("."),z){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(T.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:T.algorithm.curve,privateKey:_.ECPrivateKey.decode(T.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return T.algorithm.params.priv_key=_.DSAparam.decode(T.subjectPrivateKey,"der"),{type:"dsa",params:T.algorithm.params};default:throw new Error("unknown key id "+z)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=_.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+x)}}V.signature=_.signature;function a(L,v){var S=L.algorithm.decrypt.kde.kdeparams.salt,x=parseInt(L.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=R[L.algorithm.decrypt.cipher.algo.join(".")],z=L.algorithm.decrypt.cipher.iv,T=L.subjectPrivateKey,$=parseInt(d.split("-")[1],10)/8,Z=u.pbkdf2Sync(v,S,x,$,"sha1"),W=b.createDecipheriv(d,Z,z),s=[];return s.push(W.update(T)),s.push(W.final()),h.concat(s)}}),O5=b1((M,w)=>{w.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),x7=b1((M,w)=>{var _=H1().Buffer,R=C0(),N=H6(),b=E6().ec,u=j6(),h=e3(),V=O5();function a(Z,W,s,g,O){var U=h(W);if(U.curve){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong private key type");return L(Z,U)}else if(U.type==="dsa"){if(g!=="dsa")throw new Error("wrong private key type");return v(Z,U,s)}else if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong private key type");Z=_.concat([O,Z]);for(var j=U.modulus.byteLength(),G=[0,1];Z.length+G.length+1<j;)G.push(255);G.push(0);for(var H=-1;++H<Z.length;)G.push(Z[H]);var D=N(G,U);return D}function L(Z,W){var s=V[W.curve.join(".")];if(!s)throw new Error("unknown curve "+W.curve.join("."));var g=new b(s),O=g.keyFromPrivate(W.privateKey),U=O.sign(Z);return _.from(U.toDER())}function v(Z,W,s){for(var g=W.params.priv_key,O=W.params.p,U=W.params.q,j=W.params.g,G=new u(0),H,D=d(Z,U).mod(U),l=!1,p=x(g,U,Z,s);l===!1;)H=T(U,p,s),G=$(j,H,O,U),l=H.invm(U).imul(D.add(g.mul(G))).mod(U),l.cmpn(0)===0&&(l=!1,G=new u(0));return S(G,l)}function S(Z,W){Z=Z.toArray(),W=W.toArray(),Z[0]&128&&(Z=[0].concat(Z)),W[0]&128&&(W=[0].concat(W));var s=Z.length+W.length+4,g=[48,s,2,Z.length];return g=g.concat(Z,[2,W.length],W),_.from(g)}function x(Z,W,s,g){if(Z=_.from(Z.toArray()),Z.length<W.byteLength()){var O=_.alloc(W.byteLength()-Z.length);Z=_.concat([O,Z])}var U=s.length,j=z(s,W),G=_.alloc(U);G.fill(1);var H=_.alloc(U);return H=R(g,H).update(G).update(_.from([0])).update(Z).update(j).digest(),G=R(g,H).update(G).digest(),H=R(g,H).update(G).update(_.from([1])).update(Z).update(j).digest(),G=R(g,H).update(G).digest(),{k:H,v:G}}function d(Z,W){var s=new u(Z),g=(Z.length<<3)-W.bitLength();return g>0&&s.ishrn(g),s}function z(Z,W){Z=d(Z,W),Z=Z.mod(W);var s=_.from(Z.toArray());if(s.length<W.byteLength()){var g=_.alloc(W.byteLength()-s.length);s=_.concat([g,s])}return s}function T(Z,W,s){var g,O;do{for(g=_.alloc(0);g.length*8<Z.bitLength();)W.v=R(s,W.k).update(W.v).digest(),g=_.concat([g,W.v]);O=d(g,Z),W.k=R(s,W.k).update(W.v).update(_.from([0])).digest(),W.v=R(s,W.k).update(W.v).digest()}while(O.cmp(Z)!==-1);return O}function $(Z,W,s,g){return Z.toRed(u.mont(s)).redPow(W).fromRed().mod(g)}w.exports=a,w.exports.getKey=x,w.exports.makeKey=T}),L7=b1((M,w)=>{var _=H1().Buffer,R=j6(),N=E6().ec,b=e3(),u=O5();function h(v,S,x,d,z){var T=b(x);if(T.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return V(v,S,T)}else if(T.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return a(v,S,T)}else if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");S=_.concat([z,S]);for(var $=T.modulus.byteLength(),Z=[1],W=0;S.length+Z.length+2<$;)Z.push(255),W++;Z.push(0);for(var s=-1;++s<S.length;)Z.push(S[s]);Z=_.from(Z);var g=R.mont(T.modulus);v=new R(v).toRed(g),v=v.redPow(new R(T.publicExponent)),v=_.from(v.fromRed().toArray());var O=W<8?1:0;for($=Math.min(v.length,Z.length),v.length!==Z.length&&(O=1),s=-1;++s<$;)O|=v[s]^Z[s];return O===0}function V(v,S,x){var d=u[x.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+x.data.algorithm.curve.join("."));var z=new N(d),T=x.data.subjectPrivateKey.data;return z.verify(S,v,T)}function a(v,S,x){var d=x.data.p,z=x.data.q,T=x.data.g,$=x.data.pub_key,Z=b.signature.decode(v,"der"),W=Z.s,s=Z.r;L(W,z),L(s,z);var g=R.mont(d),O=W.invm(z),U=T.toRed(g).redPow(new R(S).mul(O).mod(z)).fromRed().mul($.toRed(g).redPow(s.mul(O).mod(z)).fromRed()).mod(d).mod(z);return U.cmp(s)===0}function L(v,S){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(S)>=S)throw new Error("invalid sig")}w.exports=h}),q7=b1((M,w)=>{var _=H1().Buffer,R=T3(),N=G8(),b=i1(),u=x7(),h=L7(),V=B0();Object.keys(V).forEach(function(x){V[x].id=_.from(V[x].id,"hex"),V[x.toLowerCase()]=V[x]});function a(x){N.Writable.call(this);var d=V[x];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=R(d.hash),this._tag=d.id,this._signType=d.sign}b(a,N.Writable),a.prototype._write=function(x,d,z){this._hash.update(x),z()},a.prototype.update=function(x,d){return typeof x=="string"&&(x=_.from(x,d)),this._hash.update(x),this},a.prototype.sign=function(x,d){this.end();var z=this._hash.digest(),T=u(z,x,this._hashType,this._signType,this._tag);return d?T.toString(d):T};function L(x){N.Writable.call(this);var d=V[x];if(!d)throw new Error("Unknown message digest");this._hash=R(d.hash),this._tag=d.id,this._signType=d.sign}b(L,N.Writable),L.prototype._write=function(x,d,z){this._hash.update(x),z()},L.prototype.update=function(x,d){return typeof x=="string"&&(x=_.from(x,d)),this._hash.update(x),this},L.prototype.verify=function(x,d,z){typeof d=="string"&&(d=_.from(d,z)),this.end();var T=this._hash.digest();return h(d,T,x,this._signType,this._tag)};function v(x){return new a(x)}function S(x){return new L(x)}w.exports={Sign:v,Verify:S,createSign:v,createVerify:S}}),N7=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),T7=b1((M,w)=>{var _=E6(),R=N7();w.exports=function(h){return new b(h)};var N={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};N.p224=N.secp224r1,N.p256=N.secp256r1=N.prime256v1,N.p192=N.secp192r1=N.prime192v1,N.p384=N.secp384r1,N.p521=N.secp521r1;function b(h){this.curveType=N[h],this.curveType||(this.curveType={name:h}),this.curve=new _.ec(this.curveType.name),this.keys=void 0}b.prototype.generateKeys=function(h,V){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,V)},b.prototype.computeSecret=function(h,V,a){V=V||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,V));var L=this.curve.keyFromPublic(h).getPublic(),v=L.mul(this.keys.getPrivate()).getX();return u(v,a,this.curveType.byteLength)},b.prototype.getPublicKey=function(h,V){var a=this.keys.getPublic(V==="compressed",!0);return V==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),u(a,h)},b.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},b.prototype.setPublicKey=function(h,V){return V=V||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,V)),this.keys._importPublic(h),this},b.prototype.setPrivateKey=function(h,V){V=V||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,V));var a=new R(h);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function u(h,V,a){Array.isArray(h)||(h=h.toArray());var L=new Buffer(h);if(a&&L.length<a){var v=new Buffer(a-L.length);v.fill(0),L=Buffer.concat([v,L])}return V?L.toString(V):L}}),R5=b1((M,w)=>{var _=T3(),R=H1().Buffer;w.exports=function(b,u){for(var h=R.alloc(0),V=0,a;h.length<u;)a=N(V++),h=R.concat([h,_("sha1").update(b).update(a).digest()]);return h.slice(0,u)};function N(b){var u=R.allocUnsafe(4);return u.writeUInt32BE(b,0),u}}),s5=b1((M,w)=>{w.exports=function(_,R){for(var N=_.length,b=-1;++b<N;)_[b]^=R[b];return _}}),C6=b1((M,w)=>{(function(_,R){function N(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:R.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),N(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(N(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function V(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(l,p,f){var n=V(l,f);return f-1>=p&&(n|=V(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var r=l.length-p;for(n=r%2===0?p+1:p;n<l.length;n+=2)q=a(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var r=l.charCodeAt(q)-48;c*=n,r>=49?c+=r-49+10:r>=17?c+=r-17+10:c+=r}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,r=Math.min(y,y-q)+f,o=0,m=f;m<r;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var P=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)P*=p;this.imuln(P),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],r=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-r.length]+r+f:f=r+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var P=this.clone();for(P.negative=0;!P.isZero();){var X=P.modn(m).toString(l);P=P.idivn(m),P.isZero()?f=X+f:f=v[o-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}N(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return N(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);N(n<=c,"byte array longer than desired length"),N(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),r,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[o]=r;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)r=m.andln(255),m.iushrn(8),q[c-o-1]=r}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return N((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return N((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return N((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){N(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){N(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function z(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,r=q&67108863,o=q/67108864|0;f.words[0]=r;for(var m=1;m<n;m++){for(var P=o>>>26,X=o&67108863,k=Math.min(m,p.length-1),I=Math.max(0,m-l.length+1);I<=k;I++){var Q=m-I|0;c=l.words[Q]|0,y=p.words[I]|0,q=c*y+X,P+=q/67108864|0,X=q&67108863}f.words[m]=X|0,o=P|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var T=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,r,o,m,P=n[0]|0,X=P&8191,k=P>>>13,I=n[1]|0,Q=I&8191,e=I>>>13,B=n[2]|0,E=B&8191,A=B>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,J=n[4]|0,K=J&8191,Y=J>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,M1=n[6]|0,d1=M1&8191,r1=M1>>>13,F1=n[7]|0,m1=F1&8191,a1=F1>>>13,k1=n[8]|0,F=k1&8191,i=k1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,j1=c[1]|0,_1=j1&8191,v1=j1>>>13,P1=c[2]|0,N1=P1&8191,T1=P1>>>13,r2=c[3]|0,q1=r2&8191,L1=r2>>>13,E1=c[4]|0,z1=E1&8191,V1=E1>>>13,b2=c[5]|0,S1=b2&8191,$1=b2>>>13,m2=c[6]|0,Z1=m2&8191,W1=m2>>>13,y2=c[7]|0,w1=y2&8191,O1=y2>>>13,v2=c[8]|0,R1=v2&8191,s1=v2>>>13,_2=c[9]|0,g1=_2&8191,X1=_2>>>13;f.negative=l.negative^p.negative,f.length=19,r=Math.imul(X,f1),o=Math.imul(X,y1),o=o+Math.imul(k,f1)|0,m=Math.imul(k,y1);var d2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,r=Math.imul(Q,f1),o=Math.imul(Q,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),r=r+Math.imul(X,_1)|0,o=o+Math.imul(X,v1)|0,o=o+Math.imul(k,_1)|0,m=m+Math.imul(k,v1)|0;var U1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(U1>>>26)|0,U1&=67108863,r=Math.imul(E,f1),o=Math.imul(E,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),r=r+Math.imul(Q,_1)|0,o=o+Math.imul(Q,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,r=r+Math.imul(X,N1)|0,o=o+Math.imul(X,T1)|0,o=o+Math.imul(k,N1)|0,m=m+Math.imul(k,T1)|0;var K1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,r=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),r=r+Math.imul(E,_1)|0,o=o+Math.imul(E,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,r=r+Math.imul(Q,N1)|0,o=o+Math.imul(Q,T1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,T1)|0,r=r+Math.imul(X,q1)|0,o=o+Math.imul(X,L1)|0,o=o+Math.imul(k,q1)|0,m=m+Math.imul(k,L1)|0;var D1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,r=Math.imul(K,f1),o=Math.imul(K,y1),o=o+Math.imul(Y,f1)|0,m=Math.imul(Y,y1),r=r+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,r=r+Math.imul(E,N1)|0,o=o+Math.imul(E,T1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,T1)|0,r=r+Math.imul(Q,q1)|0,o=o+Math.imul(Q,L1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,L1)|0,r=r+Math.imul(X,z1)|0,o=o+Math.imul(X,V1)|0,o=o+Math.imul(k,z1)|0,m=m+Math.imul(k,V1)|0;var I1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(I1>>>26)|0,I1&=67108863,r=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),r=r+Math.imul(K,_1)|0,o=o+Math.imul(K,v1)|0,o=o+Math.imul(Y,_1)|0,m=m+Math.imul(Y,v1)|0,r=r+Math.imul(n1,N1)|0,o=o+Math.imul(n1,T1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,T1)|0,r=r+Math.imul(E,q1)|0,o=o+Math.imul(E,L1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,L1)|0,r=r+Math.imul(Q,z1)|0,o=o+Math.imul(Q,V1)|0,o=o+Math.imul(e,z1)|0,m=m+Math.imul(e,V1)|0,r=r+Math.imul(X,S1)|0,o=o+Math.imul(X,$1)|0,o=o+Math.imul(k,S1)|0,m=m+Math.imul(k,$1)|0;var Y1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,r=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),r=r+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,r=r+Math.imul(K,N1)|0,o=o+Math.imul(K,T1)|0,o=o+Math.imul(Y,N1)|0,m=m+Math.imul(Y,T1)|0,r=r+Math.imul(n1,q1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,L1)|0,r=r+Math.imul(E,z1)|0,o=o+Math.imul(E,V1)|0,o=o+Math.imul(A,z1)|0,m=m+Math.imul(A,V1)|0,r=r+Math.imul(Q,S1)|0,o=o+Math.imul(Q,$1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,$1)|0,r=r+Math.imul(X,Z1)|0,o=o+Math.imul(X,W1)|0,o=o+Math.imul(k,Z1)|0,m=m+Math.imul(k,W1)|0;var t1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,r=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),r=r+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,r=r+Math.imul(u1,N1)|0,o=o+Math.imul(u1,T1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,T1)|0,r=r+Math.imul(K,q1)|0,o=o+Math.imul(K,L1)|0,o=o+Math.imul(Y,q1)|0,m=m+Math.imul(Y,L1)|0,r=r+Math.imul(n1,z1)|0,o=o+Math.imul(n1,V1)|0,o=o+Math.imul(c1,z1)|0,m=m+Math.imul(c1,V1)|0,r=r+Math.imul(E,S1)|0,o=o+Math.imul(E,$1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,$1)|0,r=r+Math.imul(Q,Z1)|0,o=o+Math.imul(Q,W1)|0,o=o+Math.imul(e,Z1)|0,m=m+Math.imul(e,W1)|0,r=r+Math.imul(X,w1)|0,o=o+Math.imul(X,O1)|0,o=o+Math.imul(k,w1)|0,m=m+Math.imul(k,O1)|0;var C1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,r=Math.imul(F,f1),o=Math.imul(F,y1),o=o+Math.imul(i,f1)|0,m=Math.imul(i,y1),r=r+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,r=r+Math.imul(d1,N1)|0,o=o+Math.imul(d1,T1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,T1)|0,r=r+Math.imul(u1,q1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,L1)|0,r=r+Math.imul(K,z1)|0,o=o+Math.imul(K,V1)|0,o=o+Math.imul(Y,z1)|0,m=m+Math.imul(Y,V1)|0,r=r+Math.imul(n1,S1)|0,o=o+Math.imul(n1,$1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,$1)|0,r=r+Math.imul(E,Z1)|0,o=o+Math.imul(E,W1)|0,o=o+Math.imul(A,Z1)|0,m=m+Math.imul(A,W1)|0,r=r+Math.imul(Q,w1)|0,o=o+Math.imul(Q,O1)|0,o=o+Math.imul(e,w1)|0,m=m+Math.imul(e,O1)|0,r=r+Math.imul(X,R1)|0,o=o+Math.imul(X,s1)|0,o=o+Math.imul(k,R1)|0,m=m+Math.imul(k,s1)|0;var B1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,r=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),r=r+Math.imul(F,_1)|0,o=o+Math.imul(F,v1)|0,o=o+Math.imul(i,_1)|0,m=m+Math.imul(i,v1)|0,r=r+Math.imul(m1,N1)|0,o=o+Math.imul(m1,T1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,T1)|0,r=r+Math.imul(d1,q1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,L1)|0,r=r+Math.imul(u1,z1)|0,o=o+Math.imul(u1,V1)|0,o=o+Math.imul(o1,z1)|0,m=m+Math.imul(o1,V1)|0,r=r+Math.imul(K,S1)|0,o=o+Math.imul(K,$1)|0,o=o+Math.imul(Y,S1)|0,m=m+Math.imul(Y,$1)|0,r=r+Math.imul(n1,Z1)|0,o=o+Math.imul(n1,W1)|0,o=o+Math.imul(c1,Z1)|0,m=m+Math.imul(c1,W1)|0,r=r+Math.imul(E,w1)|0,o=o+Math.imul(E,O1)|0,o=o+Math.imul(A,w1)|0,m=m+Math.imul(A,O1)|0,r=r+Math.imul(Q,R1)|0,o=o+Math.imul(Q,s1)|0,o=o+Math.imul(e,R1)|0,m=m+Math.imul(e,s1)|0,r=r+Math.imul(X,g1)|0,o=o+Math.imul(X,X1)|0,o=o+Math.imul(k,g1)|0,m=m+Math.imul(k,X1)|0;var Q1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,r=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),r=r+Math.imul(F,N1)|0,o=o+Math.imul(F,T1)|0,o=o+Math.imul(i,N1)|0,m=m+Math.imul(i,T1)|0,r=r+Math.imul(m1,q1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,L1)|0,r=r+Math.imul(d1,z1)|0,o=o+Math.imul(d1,V1)|0,o=o+Math.imul(r1,z1)|0,m=m+Math.imul(r1,V1)|0,r=r+Math.imul(u1,S1)|0,o=o+Math.imul(u1,$1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,$1)|0,r=r+Math.imul(K,Z1)|0,o=o+Math.imul(K,W1)|0,o=o+Math.imul(Y,Z1)|0,m=m+Math.imul(Y,W1)|0,r=r+Math.imul(n1,w1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,w1)|0,m=m+Math.imul(c1,O1)|0,r=r+Math.imul(E,R1)|0,o=o+Math.imul(E,s1)|0,o=o+Math.imul(A,R1)|0,m=m+Math.imul(A,s1)|0,r=r+Math.imul(Q,g1)|0,o=o+Math.imul(Q,X1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,X1)|0;var e1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,r=Math.imul(C,N1),o=Math.imul(C,T1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,T1),r=r+Math.imul(F,q1)|0,o=o+Math.imul(F,L1)|0,o=o+Math.imul(i,q1)|0,m=m+Math.imul(i,L1)|0,r=r+Math.imul(m1,z1)|0,o=o+Math.imul(m1,V1)|0,o=o+Math.imul(a1,z1)|0,m=m+Math.imul(a1,V1)|0,r=r+Math.imul(d1,S1)|0,o=o+Math.imul(d1,$1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,$1)|0,r=r+Math.imul(u1,Z1)|0,o=o+Math.imul(u1,W1)|0,o=o+Math.imul(o1,Z1)|0,m=m+Math.imul(o1,W1)|0,r=r+Math.imul(K,w1)|0,o=o+Math.imul(K,O1)|0,o=o+Math.imul(Y,w1)|0,m=m+Math.imul(Y,O1)|0,r=r+Math.imul(n1,R1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,R1)|0,m=m+Math.imul(c1,s1)|0,r=r+Math.imul(E,g1)|0,o=o+Math.imul(E,X1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,X1)|0;var A1=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,r=Math.imul(C,q1),o=Math.imul(C,L1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,L1),r=r+Math.imul(F,z1)|0,o=o+Math.imul(F,V1)|0,o=o+Math.imul(i,z1)|0,m=m+Math.imul(i,V1)|0,r=r+Math.imul(m1,S1)|0,o=o+Math.imul(m1,$1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,$1)|0,r=r+Math.imul(d1,Z1)|0,o=o+Math.imul(d1,W1)|0,o=o+Math.imul(r1,Z1)|0,m=m+Math.imul(r1,W1)|0,r=r+Math.imul(u1,w1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,w1)|0,m=m+Math.imul(o1,O1)|0,r=r+Math.imul(K,R1)|0,o=o+Math.imul(K,s1)|0,o=o+Math.imul(Y,R1)|0,m=m+Math.imul(Y,s1)|0,r=r+Math.imul(n1,g1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,X1)|0;var l2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,r=Math.imul(C,z1),o=Math.imul(C,V1),o=o+Math.imul(l1,z1)|0,m=Math.imul(l1,V1),r=r+Math.imul(F,S1)|0,o=o+Math.imul(F,$1)|0,o=o+Math.imul(i,S1)|0,m=m+Math.imul(i,$1)|0,r=r+Math.imul(m1,Z1)|0,o=o+Math.imul(m1,W1)|0,o=o+Math.imul(a1,Z1)|0,m=m+Math.imul(a1,W1)|0,r=r+Math.imul(d1,w1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(r1,w1)|0,m=m+Math.imul(r1,O1)|0,r=r+Math.imul(u1,R1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,R1)|0,m=m+Math.imul(o1,s1)|0,r=r+Math.imul(K,g1)|0,o=o+Math.imul(K,X1)|0,o=o+Math.imul(Y,g1)|0,m=m+Math.imul(Y,X1)|0;var o2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,r=Math.imul(C,S1),o=Math.imul(C,$1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,$1),r=r+Math.imul(F,Z1)|0,o=o+Math.imul(F,W1)|0,o=o+Math.imul(i,Z1)|0,m=m+Math.imul(i,W1)|0,r=r+Math.imul(m1,w1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(a1,w1)|0,m=m+Math.imul(a1,O1)|0,r=r+Math.imul(d1,R1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(r1,R1)|0,m=m+Math.imul(r1,s1)|0,r=r+Math.imul(u1,g1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,X1)|0;var n2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,r=Math.imul(C,Z1),o=Math.imul(C,W1),o=o+Math.imul(l1,Z1)|0,m=Math.imul(l1,W1),r=r+Math.imul(F,w1)|0,o=o+Math.imul(F,O1)|0,o=o+Math.imul(i,w1)|0,m=m+Math.imul(i,O1)|0,r=r+Math.imul(m1,R1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(a1,R1)|0,m=m+Math.imul(a1,s1)|0,r=r+Math.imul(d1,g1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,X1)|0;var p2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,r=Math.imul(C,w1),o=Math.imul(C,O1),o=o+Math.imul(l1,w1)|0,m=Math.imul(l1,O1),r=r+Math.imul(F,R1)|0,o=o+Math.imul(F,s1)|0,o=o+Math.imul(i,R1)|0,m=m+Math.imul(i,s1)|0,r=r+Math.imul(m1,g1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,X1)|0;var u2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,r=Math.imul(C,R1),o=Math.imul(C,s1),o=o+Math.imul(l1,R1)|0,m=Math.imul(l1,s1),r=r+Math.imul(F,g1)|0,o=o+Math.imul(F,X1)|0,o=o+Math.imul(i,g1)|0,m=m+Math.imul(i,X1)|0;var c2=(q+r|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,r=Math.imul(C,g1),o=Math.imul(C,X1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,X1);var f2=(q+r|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=U1,y[2]=K1,y[3]=D1,y[4]=I1,y[5]=Y1,y[6]=t1,y[7]=C1,y[8]=B1,y[9]=Q1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(T=z);function $(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var r=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var P=y-m,X=l.words[P]|0,k=p.words[m]|0,I=X*k,Q=I&67108863;q=q+(I/67108864|0)|0,Q=Q+r|0,r=Q&67108863,q=q+(Q>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=r,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function Z(l,p,f){var n=new W;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=T(this,l,p):n<63?f=z(this,l,p):n<1024?f=$(this,l,p):f=Z(this,l,p),f};function W(l,p){this.x=l,this.y=p}W.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},W.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},W.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},W.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var r=q<<1,o=Math.cos(2*Math.PI/r),m=Math.sin(2*Math.PI/r),P=0;P<c;P+=r)for(var X=o,k=m,I=0;I<q;I++){var Q=f[P+I],e=n[P+I],B=f[P+I+q],E=n[P+I+q],A=X*B-k*E;E=X*E+k*B,B=A,f[P+I]=Q+B,n[P+I]=e+E,f[P+I+q]=Q-B,n[P+I+q]=e-E,I!==r&&(A=o*X-m*k,k=o*k+m*X,X=A)}},W.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},W.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},W.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},W.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;N(c===0),N((c&-8192)===0)},W.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},W.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),r=new Array(n),o=new Array(n),m=new Array(n),P=new Array(n),X=new Array(n),k=f.words;k.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,r,o,n,c),this.transform(m,y,P,X,n,c);for(var I=0;I<n;I++){var Q=r[I]*P[I]-o[I]*X[I];o[I]=r[I]*X[I]+o[I]*P[I],r[I]=Q}return this.conjugate(r,o,n),this.transform(r,o,k,y,n,c),this.conjugate(k,y,n),this.normalize13b(k,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),Z(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){N(typeof l=="number"),N(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,r=(this.words[c]|0)-q<<p;this.words[c]=r|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return N(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){N(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,r=f;if(n-=y,n=Math.max(0,n),r){for(var o=0;o<y;o++)r.words[o]=this.words[o];r.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var P=this.words[o]|0;this.words[o]=m<<26-c|P>>>c,m=P&q}return r&&m!==0&&(r.words[r.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return N(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){N(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(N(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return N(typeof l=="number"),N(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(N(typeof l=="number"),N(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var r=(l.words[c]|0)*p;y-=r&67108863,q=(y>>26)-(r/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(N(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var r=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=r+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var P=n.clone()._ishlnsubmul(c,1,r);P.negative===0&&(n=P,o&&(o.words[r]=1));for(var X=r-1;X>=0;X--){var k=(n.words[c.length+X]|0)*67108864+(n.words[c.length+X-1]|0);for(k=Math.min(k/y|0,67108863),n._ishlnsubmul(c,k,X);n.negative!==0;)k--,n.negative=0,n._ishlnsubmul(c,1,X),n.isZero()||(n.negative^=1);o&&(o.words[X]=k)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(N(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){N(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){N(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),r=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++r;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var P=0,X=1;(p.words[0]&X)===0&&P<26;++P,X<<=1);if(P>0)for(p.iushrn(P);P-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var k=0,I=1;(f.words[0]&I)===0&&k<26;++k,I<<=1);if(k>0)for(f.iushrn(k);k-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(r)}},u.prototype._invmp=function(l){N(l.negative===0),N(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,r=1;(p.words[0]&r)===0&&q<26;++q,r<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var P;return p.cmpn(1)===0?P=n:P=c,P.cmpn(0)<0&&P.iadd(l),P},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){N(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),N(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new H(l)},u.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function g(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}g.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},g.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},g.prototype.split=function(l,p){l.iushrn(this.n,0,p)},g.prototype.imulK=function(l){return l.imul(this.k)};function O(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(O,g),O.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},O.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function U(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(U,g);function j(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(j,g);function G(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(G,g),G.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new O;else if(l==="p224")p=new U;else if(l==="p192")p=new j;else if(l==="p25519")p=new G;else throw new Error("Unknown prime "+l);return s[l]=p,p};function H(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else N(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}H.prototype._verify1=function(l){N(l.negative===0,"red works only with positives"),N(l.red,"red works only with red numbers")},H.prototype._verify2=function(l,p){N((l.negative|p.negative)===0,"red works only with positives"),N(l.red&&l.red===p.red,"red works only with red numbers")},H.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},H.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},H.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},H.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},H.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},H.prototype.isqr=function(l){return this.imul(l,l.clone())},H.prototype.sqr=function(l){return this.mul(l,l)},H.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(N(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);N(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),r=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,r).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),P=this.pow(l,n.addn(1).iushrn(1)),X=this.pow(l,n),k=c;X.cmp(y)!==0;){for(var I=X,Q=0;I.cmp(y)!==0;Q++)I=I.redSqr();N(Q<k);var e=this.pow(m,new u(1).iushln(k-Q-1));P=P.redMul(e),m=e.redSqr(),X=X.redMul(m),k=Q}return P},H.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},H.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,r=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],P=o-1;P>=0;P--){var X=m>>P&1;if(y!==n[0]&&(y=this.sqr(y)),X===0&&q===0){r=0;continue}q<<=1,q|=X,r++,!(r!==f&&(c!==0||P!==0))&&(y=this.mul(y,n[q]),r=0,q=0)}o=26}return y},H.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},H.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new D(l)};function D(l){H.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(D,H),D.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},D.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},D.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},D.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof w>"u"||w,M)}),g5=b1((M,w)=>{var _=C6(),R=H1().Buffer;function N(b,u){return R.from(b.toRed(_.mont(u.modulus)).redPow(new _(u.publicExponent)).fromRed().toArray())}w.exports=N}),M7=b1((M,w)=>{var _=e3(),R=u3(),N=T3(),b=R5(),u=s5(),h=C6(),V=g5(),a=H6(),L=H1().Buffer;w.exports=function(d,z,T){var $;d.padding?$=d.padding:T?$=1:$=4;var Z=_(d),W;if($===4)W=v(Z,z);else if($===1)W=S(Z,z,T);else if($===3){if(W=new h(z),W.cmp(Z.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return T?a(W,Z):V(W,Z)};function v(d,z){var T=d.modulus.byteLength(),$=z.length,Z=N("sha1").update(L.alloc(0)).digest(),W=Z.length,s=2*W;if($>T-s-2)throw new Error("message too long");var g=L.alloc(T-$-s-2),O=T-W-1,U=R(W),j=u(L.concat([Z,g,L.alloc(1,1),z],O),b(U,O)),G=u(U,b(j,W));return new h(L.concat([L.alloc(1),G,j],T))}function S(d,z,T){var $=z.length,Z=d.modulus.byteLength();if($>Z-11)throw new Error("message too long");var W;return T?W=L.alloc(Z-$-3,255):W=x(Z-$-3),new h(L.concat([L.from([0,T?1:2]),W,L.alloc(1),z],Z))}function x(d){for(var z=L.allocUnsafe(d),T=0,$=R(d*2),Z=0,W;T<d;)Z===$.length&&($=R(d*2),Z=0),W=$[Z++],W&&(z[T++]=W);return z}}),z7=b1((M,w)=>{var _=e3(),R=R5(),N=s5(),b=C6(),u=H6(),h=T3(),V=g5(),a=H1().Buffer;w.exports=function(x,d,z){var T;x.padding?T=x.padding:z?T=1:T=4;var $=_(x),Z=$.modulus.byteLength();if(d.length>Z||new b(d).cmp($.modulus)>=0)throw new Error("decryption error");var W;z?W=V(new b(d),$):W=u(d,$);var s=a.alloc(Z-W.length);if(W=a.concat([s,W],Z),T===4)return L($,W);if(T===1)return v($,W,z);if(T===3)return W;throw new Error("unknown padding")};function L(x,d){var z=x.modulus.byteLength(),T=h("sha1").update(a.alloc(0)).digest(),$=T.length;if(d[0]!==0)throw new Error("decryption error");var Z=d.slice(1,$+1),W=d.slice($+1),s=N(Z,R(W,$)),g=N(W,R(s,z-$-1));if(S(T,g.slice(0,$)))throw new Error("decryption error");for(var O=$;g[O]===0;)O++;if(g[O++]!==1)throw new Error("decryption error");return g.slice(O)}function v(x,d,z){for(var T=d.slice(0,2),$=2,Z=0;d[$++]!==0;)if($>=d.length){Z++;break}var W=d.slice(2,$-1);if((T.toString("hex")!=="0002"&&!z||T.toString("hex")!=="0001"&&z)&&Z++,W.length<8&&Z++,Z)throw new Error("decryption error");return d.slice($)}function S(x,d){x=a.from(x),d=a.from(d);var z=0,T=x.length;x.length!==d.length&&(z++,T=Math.min(x.length,d.length));for(var $=-1;++$<T;)z+=x[$]^d[$];return z}}),V7=b1((M)=>{M.publicEncrypt=M7(),M.privateDecrypt=z7(),M.privateEncrypt=function(w,_){return M.publicEncrypt(w,_,!0)},M.publicDecrypt=function(w,_){return M.privateDecrypt(w,_,!0)}}),S7=b1((M)=>{function w(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var _=H1(),R=u3(),N=_.Buffer,b=_.kMaxLength,u=global.crypto||global.msCrypto,h=Math.pow(2,32)-1;function V(x,d){if(typeof x!="number"||x!==x)throw new TypeError("offset must be a number");if(x>h||x<0)throw new TypeError("offset must be a uint32");if(x>b||x>d)throw new RangeError("offset out of range")}function a(x,d,z){if(typeof x!="number"||x!==x)throw new TypeError("size must be a number");if(x>h||x<0)throw new TypeError("size must be a uint32");if(x+d>z||x>b)throw new RangeError("buffer too small")}u&&u.getRandomValues?(M.randomFill=L,M.randomFillSync=S):(M.randomFill=w,M.randomFillSync=w);function L(x,d,z,T){if(!N.isBuffer(x)&&!(x instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof d=="function")T=d,d=0,z=x.length;else if(typeof z=="function")T=z,z=x.length-d;else if(typeof T!="function")throw new TypeError('"cb" argument must be a function');return V(d,x.length),a(z,d,x.length),v(x,d,z,T)}function v(x,d,z,T){var $=x.buffer,Z=new Uint8Array($,d,z);if(u.getRandomValues(Z),T){process.nextTick(function(){T(null,x)});return}return x;var W}function S(x,d,z){if(typeof d>"u"&&(d=0),!N.isBuffer(x)&&!(x instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return V(d,x.length),z===void 0&&(z=x.length-d),a(z,d,x.length),v(x,d,z)}}),X5=b1((M)=>{M.randomBytes=M.rng=M.pseudoRandomBytes=M.prng=u3(),M.createHash=M.Hash=T3(),M.createHmac=M.Hmac=C0();var w=_8(),_=Object.keys(w),R=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);M.getHashes=function(){return R};var N=o5();M.pbkdf2=N.pbkdf2,M.pbkdf2Sync=N.pbkdf2Sync;var b=s8();M.Cipher=b.Cipher,M.createCipher=b.createCipher,M.Cipheriv=b.Cipheriv,M.createCipheriv=b.createCipheriv,M.Decipher=b.Decipher,M.createDecipher=b.createDecipher,M.Decipheriv=b.Decipheriv,M.createDecipheriv=b.createDecipheriv,M.getCiphers=b.getCiphers,M.listCiphers=b.listCiphers;var u=P8();M.DiffieHellmanGroup=u.DiffieHellmanGroup,M.createDiffieHellmanGroup=u.createDiffieHellmanGroup,M.getDiffieHellman=u.getDiffieHellman,M.createDiffieHellman=u.createDiffieHellman,M.DiffieHellman=u.DiffieHellman;var h=q7();M.createSign=h.createSign,M.Sign=h.Sign,M.createVerify=h.createVerify,M.Verify=h.Verify,M.createECDH=T7();var V=V7();M.publicEncrypt=V.publicEncrypt,M.privateEncrypt=V.privateEncrypt,M.publicDecrypt=V.publicDecrypt,M.privateDecrypt=V.privateDecrypt;var a=S7();M.randomFill=a.randomFill,M.randomFillSync=a.randomFillSync,M.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},M.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),F5={},V6(F5,{DEFAULT_ENCODING:()=>Z3,default:()=>n4,getCurves:()=>A5,getRandomValues:()=>l4,randomUUID:()=>o4,scrypt:()=>o6,scryptSync:()=>l6,timingSafeEqual:()=>W3,webcrypto:()=>o0}),O0(F5,p3(X5())),$7=p3(X5()),z9=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],W3="timingSafeEqual"in crypto?(M,w)=>{let{byteLength:_}=M,{byteLength:R}=w;if(typeof _!="number"||typeof R!="number")throw new TypeError("Input must be an array buffer view");if(_!==R)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(M,w)}:void 0,l6="scryptSync"in crypto?(M,w,_,R)=>{let N=crypto.scryptSync(M,w,_,R);return Z3!=="buffer"?new Buffer(N).toString(Z3):new Buffer(N)}:void 0,o6="scryptSync"in crypto?function(M,w,_,R,N){if(typeof R=="function"&&(N=R,R=void 0),typeof N!="function"){var b=new TypeError("callback must be a function");throw b.code="ERR_INVALID_CALLBACK",b}try{let u=crypto.scryptSync(M,w,_,R);process.nextTick(N,null,Z3!=="buffer"?new Buffer(u).toString(Z3):new Buffer(u))}catch(u){throw u}}:void 0,W3&&(Object.defineProperty(W3,"name",{value:"::bunternal::"}),Object.defineProperty(o6,"name",{value:"::bunternal::"}),Object.defineProperty(l6,"name",{value:"::bunternal::"})),o0=crypto,n4={...$7,getRandomValues:l4,randomUUID:o4,timingSafeEqual:W3,scryptSync:l6,scrypt:o6,webcrypto:o0,getCurves:A5};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),V9=d0((M,w)=>{(function(_,R){if(typeof M==="object")w.exports=M=R();else if(typeof define==="function"&&define.amd)define([],R);else _.CryptoJS=R()})(M,function(){var _=_||function(R,N){var b;if(typeof window!=="undefined"&&window.crypto)b=window.crypto;if(typeof self!=="undefined"&&self.crypto)b=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)b=globalThis.crypto;if(!b&&typeof window!=="undefined"&&window.msCrypto)b=window.msCrypto;if(!b&&typeof global!=="undefined"&&global.crypto)b=global.crypto;if(!b)try{b=(ao(),ro(x9))}catch(W){}var u=function(){if(b){if(typeof b.getRandomValues==="function")try{return b.getRandomValues(new Uint32Array(1))[0]}catch(W){}if(typeof b.randomBytes==="function")try{return b.randomBytes(4).readInt32LE()}catch(W){}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function W(){}return function(s){var g;return W.prototype=s,g=new W,W.prototype=null,g}}(),V={},a=V.lib={},L=a.Base=function(){return{extend:function(W){var s=h(this);if(W)s.mixIn(W);if(!s.hasOwnProperty("init")||this.init===s.init)s.init=function(){s.$super.init.apply(this,arguments)};return s.init.prototype=s,s.$super=this,s},create:function(){var W=this.extend();return W.init.apply(W,arguments),W},init:function(){},mixIn:function(W){for(var s in W)if(W.hasOwnProperty(s))this[s]=W[s];if(W.hasOwnProperty("toString"))this.toString=W.toString},clone:function(){return this.init.prototype.extend(this)}}}(),v=a.WordArray=L.extend({init:function(W,s){if(W=this.words=W||[],s!=N)this.sigBytes=s;else this.sigBytes=W.length*4},toString:function(W){return(W||x).stringify(this)},concat:function(W){var s=this.words,g=W.words,O=this.sigBytes,U=W.sigBytes;if(this.clamp(),O%4)for(var j=0;j<U;j++){var G=g[j>>>2]>>>24-j%4*8&255;s[O+j>>>2]|=G<<24-(O+j)%4*8}else for(var H=0;H<U;H+=4)s[O+H>>>2]=g[H>>>2];return this.sigBytes+=U,this},clamp:function(){var W=this.words,s=this.sigBytes;W[s>>>2]&=4294967295<<32-s%4*8,W.length=R.ceil(s/4)},clone:function(){var W=L.clone.call(this);return W.words=this.words.slice(0),W},random:function(W){var s=[];for(var g=0;g<W;g+=4)s.push(u());return new v.init(s,W)}}),S=V.enc={},x=S.Hex={stringify:function(W){var{words:s,sigBytes:g}=W,O=[];for(var U=0;U<g;U++){var j=s[U>>>2]>>>24-U%4*8&255;O.push((j>>>4).toString(16)),O.push((j&15).toString(16))}return O.join("")},parse:function(W){var s=W.length,g=[];for(var O=0;O<s;O+=2)g[O>>>3]|=parseInt(W.substr(O,2),16)<<24-O%8*4;return new v.init(g,s/2)}},d=S.Latin1={stringify:function(W){var{words:s,sigBytes:g}=W,O=[];for(var U=0;U<g;U++){var j=s[U>>>2]>>>24-U%4*8&255;O.push(String.fromCharCode(j))}return O.join("")},parse:function(W){var s=W.length,g=[];for(var O=0;O<s;O++)g[O>>>2]|=(W.charCodeAt(O)&255)<<24-O%4*8;return new v.init(g,s)}},z=S.Utf8={stringify:function(W){try{return decodeURIComponent(escape(d.stringify(W)))}catch(s){throw new Error("Malformed UTF-8 data")}},parse:function(W){return d.parse(unescape(encodeURIComponent(W)))}},T=a.BufferedBlockAlgorithm=L.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(W){if(typeof W=="string")W=z.parse(W);this._data.concat(W),this._nDataBytes+=W.sigBytes},_process:function(W){var s,g=this._data,O=g.words,U=g.sigBytes,j=this.blockSize,G=j*4,H=U/G;if(W)H=R.ceil(H);else H=R.max((H|0)-this._minBufferSize,0);var D=H*j,l=R.min(D*4,U);if(D){for(var p=0;p<D;p+=j)this._doProcessBlock(O,p);s=O.splice(0,D),g.sigBytes-=l}return new v.init(s,l)},clone:function(){var W=L.clone.call(this);return W._data=this._data.clone(),W},_minBufferSize:0}),$=a.Hasher=T.extend({cfg:L.extend(),init:function(W){this.cfg=this.cfg.extend(W),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(W){return this._append(W),this._process(),this},finalize:function(W){if(W)this._append(W);var s=this._doFinalize();return s},blockSize:16,_createHelper:function(W){return function(s,g){return new W.init(g).finalize(s)}},_createHmacHelper:function(W){return function(s,g){return new Z.HMAC.init(W,g).finalize(s)}}}),Z=V.algo={};return V}(Math);return _})}),ho=d0((M,w)=>{(function(_,R){if(typeof M==="object")w.exports=M=R(V9());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(_.CryptoJS)})(M,function(_){return function(R){var N=_,b=N.lib,u=b.WordArray,h=b.Hasher,V=N.algo,a=[];(function(){for(var z=0;z<64;z++)a[z]=R.abs(R.sin(z+1))*4294967296|0})();var L=V.MD5=h.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(z,T){for(var $=0;$<16;$++){var Z=T+$,W=z[Z];z[Z]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}var s=this._hash.words,g=z[T+0],O=z[T+1],U=z[T+2],j=z[T+3],G=z[T+4],H=z[T+5],D=z[T+6],l=z[T+7],p=z[T+8],f=z[T+9],n=z[T+10],c=z[T+11],y=z[T+12],q=z[T+13],r=z[T+14],o=z[T+15],m=s[0],P=s[1],X=s[2],k=s[3];m=v(m,P,X,k,g,7,a[0]),k=v(k,m,P,X,O,12,a[1]),X=v(X,k,m,P,U,17,a[2]),P=v(P,X,k,m,j,22,a[3]),m=v(m,P,X,k,G,7,a[4]),k=v(k,m,P,X,H,12,a[5]),X=v(X,k,m,P,D,17,a[6]),P=v(P,X,k,m,l,22,a[7]),m=v(m,P,X,k,p,7,a[8]),k=v(k,m,P,X,f,12,a[9]),X=v(X,k,m,P,n,17,a[10]),P=v(P,X,k,m,c,22,a[11]),m=v(m,P,X,k,y,7,a[12]),k=v(k,m,P,X,q,12,a[13]),X=v(X,k,m,P,r,17,a[14]),P=v(P,X,k,m,o,22,a[15]),m=S(m,P,X,k,O,5,a[16]),k=S(k,m,P,X,D,9,a[17]),X=S(X,k,m,P,c,14,a[18]),P=S(P,X,k,m,g,20,a[19]),m=S(m,P,X,k,H,5,a[20]),k=S(k,m,P,X,n,9,a[21]),X=S(X,k,m,P,o,14,a[22]),P=S(P,X,k,m,G,20,a[23]),m=S(m,P,X,k,f,5,a[24]),k=S(k,m,P,X,r,9,a[25]),X=S(X,k,m,P,j,14,a[26]),P=S(P,X,k,m,p,20,a[27]),m=S(m,P,X,k,q,5,a[28]),k=S(k,m,P,X,U,9,a[29]),X=S(X,k,m,P,l,14,a[30]),P=S(P,X,k,m,y,20,a[31]),m=x(m,P,X,k,H,4,a[32]),k=x(k,m,P,X,p,11,a[33]),X=x(X,k,m,P,c,16,a[34]),P=x(P,X,k,m,r,23,a[35]),m=x(m,P,X,k,O,4,a[36]),k=x(k,m,P,X,G,11,a[37]),X=x(X,k,m,P,l,16,a[38]),P=x(P,X,k,m,n,23,a[39]),m=x(m,P,X,k,q,4,a[40]),k=x(k,m,P,X,g,11,a[41]),X=x(X,k,m,P,j,16,a[42]),P=x(P,X,k,m,D,23,a[43]),m=x(m,P,X,k,f,4,a[44]),k=x(k,m,P,X,y,11,a[45]),X=x(X,k,m,P,o,16,a[46]),P=x(P,X,k,m,U,23,a[47]),m=d(m,P,X,k,g,6,a[48]),k=d(k,m,P,X,l,10,a[49]),X=d(X,k,m,P,r,15,a[50]),P=d(P,X,k,m,H,21,a[51]),m=d(m,P,X,k,y,6,a[52]),k=d(k,m,P,X,j,10,a[53]),X=d(X,k,m,P,n,15,a[54]),P=d(P,X,k,m,O,21,a[55]),m=d(m,P,X,k,p,6,a[56]),k=d(k,m,P,X,o,10,a[57]),X=d(X,k,m,P,D,15,a[58]),P=d(P,X,k,m,q,21,a[59]),m=d(m,P,X,k,G,6,a[60]),k=d(k,m,P,X,c,10,a[61]),X=d(X,k,m,P,U,15,a[62]),P=d(P,X,k,m,f,21,a[63]),s[0]=s[0]+m|0,s[1]=s[1]+P|0,s[2]=s[2]+X|0,s[3]=s[3]+k|0},_doFinalize:function(){var z=this._data,T=z.words,$=this._nDataBytes*8,Z=z.sigBytes*8;T[Z>>>5]|=128<<24-Z%32;var W=R.floor($/4294967296),s=$;T[(Z+64>>>9<<4)+15]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,T[(Z+64>>>9<<4)+14]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,z.sigBytes=(T.length+1)*4,this._process();var g=this._hash,O=g.words;for(var U=0;U<4;U++){var j=O[U];O[U]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return g},clone:function(){var z=h.clone.call(this);return z._hash=this._hash.clone(),z}});function v(z,T,$,Z,W,s,g){var O=z+(T&$|~T&Z)+W+g;return(O<<s|O>>>32-s)+T}function S(z,T,$,Z,W,s,g){var O=z+(T&Z|$&~Z)+W+g;return(O<<s|O>>>32-s)+T}function x(z,T,$,Z,W,s,g){var O=z+(T^$^Z)+W+g;return(O<<s|O>>>32-s)+T}function d(z,T,$,Z,W,s,g){var O=z+($^(T|~Z))+W+g;return(O<<s|O>>>32-s)+T}N.MD5=h._createHelper(L),N.HmacMD5=h._createHmacHelper(L)}(Math),_.MD5})}),bo=d0((M,w)=>{(function(_,R){if(typeof M==="object")w.exports=M=R(V9());else if(typeof define==="function"&&define.amd)define(["./core"],R);else R(_.CryptoJS)})(M,function(_){return _.enc.Latin1})}),mo=d0((M,w)=>{w.exports=function _(R){return atob(R)}});class o3{getEraseSize(M,w){return w}}var w3,yo=L2(()=>{w3={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),vo={};j2(vo,{ESP32ROM:()=>y4});var y4,_o=L2(()=>{yo(),y4=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=w3.text_start,this.ENTRY=w3.entry,this.DATA_START=w3.data_start,this.ROM_DATA=w3.data,this.ROM_TEXT=w3.text}async readEfuse(w,_){const R=this.EFUSE_RD_REG_BASE+4*_;return w.debug("Read efuse "+R),await w.readReg(R)}async getPkgVersion(w){const _=await this.readEfuse(w,3);let R=_>>9&7;return R+=(_>>2&1)<<3,R}async getChipRevision(w){const _=await this.readEfuse(w,3),R=await this.readEfuse(w,5),N=await w.readReg(this.DR_REG_SYSCON_BASE+124),b=_>>15&1,u=R>>20&1,h=N>>31&1;if(b!=0)if(u!=0)if(h!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(w){const _=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"];let R="";const N=await this.getPkgVersion(w),b=await this.getChipRevision(w),u=b==3;if((await this.readEfuse(w,3)&1)!=0)_[0]="ESP32-S0WDQ6",_[1]="ESP32-S0WD";if(u)_[5]="ESP32-PICO-V3";if(N>=0&&N<=6)R=_[N];else R="Unknown ESP32";if(u&&(N===0||N===1))R+="-V3";return R+" (revision "+b+")"}async getChipFeatures(w){const _=["Wi-Fi"],R=await this.readEfuse(w,3);if((R&2)===0)_.push(" BT");if((R&1)!==0)_.push(" Single Core");else _.push(" Dual Core");if((R&8192)!==0)if((R&4096)!==0)_.push(" 160MHz");else _.push(" 240MHz");const N=await this.getPkgVersion(w);if([2,4,5,6].indexOf(N)!==-1)_.push(" Embedded Flash");if(N===6)_.push(" Embedded PSRAM");if((await this.readEfuse(w,4)>>8&31)!==0)_.push(" VRef calibration in efuse");if((R>>14&1)!==0)_.push(" BLK3 partially reserved");const b=await this.readEfuse(w,6)&3,u=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return _.push(" Coding Scheme "+u[b]),_}async getCrystalFreq(w){const _=await w.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=w.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER;let N;if(R>33)N=40;else N=26;if(Math.abs(N-R)>1)w.info("WARNING: Unsupported crystal in use");return N}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await this.readEfuse(w,1);_=_>>>0;let R=await this.readEfuse(w,2);R=R>>>0;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}}}),O3,xo=L2(()=>{O3={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),Lo={};j2(Lo,{ESP32C3ROM:()=>v4});var v4,qo=L2(()=>{xo(),v4=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=O3.text_start,this.ENTRY=O3.entry,this.DATA_START=O3.data_start,this.ROM_DATA=O3.data,this.ROM_TEXT=O3.text}async getPkgVersion(w){const _=this.EFUSE_BASE+68+12;return await w.readReg(_)>>21&7}async getChipRevision(w){const _=this.EFUSE_BASE+68+12;return(await w.readReg(_)&1835008)>>18}async getChipDescription(w){let _;if(await this.getPkgVersion(w)===0)_="ESP32-C3";else _="unknown ESP32-C3";const R=await this.getChipRevision(w);return _+=" (revision "+R+")",_}async getChipFeatures(w){return["Wi-Fi"]}async getCrystalFreq(w){return 40}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),R3,No=L2(()=>{R3={entry:1077413304,text:"ARG3BwBgTsaDqYcASsg3Sco/JspSxAbOIsy3BABgfVoTCQkAwEwTdPQ/DeDyQGJEI6g0AUJJ0kSySSJKBWGCgIhAgycJABN19Q+Cl30U4xlE/8m/EwcADJRBqodjGOUAhUeFxiOgBQB5VYKABUdjh+YACUZjjcYAfVWCgEIFEwewDUGFY5XnAolHnMH1t5MGwA1jFtUAmMETBQAMgoCTBtANfVVjldcAmMETBbANgoC3dcs/QRGThQW6BsZhP2NFBQa3d8s/k4eHsQOnBwgD1kcIE3X1D5MGFgDCBsGCI5LXCDKXIwCnAAPXRwiRZ5OHBwRjHvcCN/fKPxMHh7GhZ7qXA6YHCLc2yz+3d8s/k4eHsZOGhrVjH+YAI6bHCCOg1wgjkgcIIaD5V+MG9fyyQEEBgoAjptcII6DnCN23NycAYHxLnYv1/zc3AGB8S52L9f+CgEERBsbdN7cnAGAjpgcCNwcACJjDmEN9/8hXskATRfX/BYlBAYKAQREGxtk/fd03BwBAtycAYJjDNycAYBxD/f+yQEEBgoBBESLEN8TKP5MHxABKwAOpBwEGxibCYwoJBEU3OcW9RxMExACBRGPWJwEERL2Ik7QUAH03hT8cRDcGgAATl8cAmeA3BgABt/b/AHWPtyYAYNjCkMKYQn3/QUeR4AVHMwnpQLqXIygkARzEskAiRJJEAklBAYKAQREGxhMHAAxjEOUCEwWwDZcAyP/ngIDjEwXADbJAQQEXA8j/ZwCD4hMHsA3jGOX+lwDI/+eAgOETBdANxbdBESLEJsIGxiqEswS1AGMXlACyQCJEkkRBAYKAA0UEAAUERTfttxMFAAwXA8j/ZwAD3nVxJsPO3v10hWn9cpOEhPqThwkHIsVKwdLc1tqmlwbHFpGzhCcAKokmhS6ElzDI/+eAgJOThwkHBWqKl7OKR0Ep5AVnfXUTBIX5kwcHB6KXM4QnABMFhfqTBwcHqpeihTOFJwCXMMj/54CAkCKFwUW5PwFFhWIWkbpAKkSaRApJ9llmWtZaSWGCgKKJY3OKAIVpTobWhUqFlwDI/+eAQOITdfUPAe1OhtaFJoWXMMj/54DAi06ZMwQ0QVm3EwUwBlW/cXH9ck7PUs1Wy17HBtci1SbTStFayWLFZsNqwe7eqokWkRMFAAIuirKKtosCwpcAyP/ngEBIhWdj7FcRhWR9dBMEhPqThwQHopczhCcAIoWXMMj/54AghX17Eww7+ZMMi/kThwQHk4cEB2KX5pcBSTMMJwCzjCcAEk1je00JY3GpA3mgfTWmhYgYSTVdNSaGjBgihZcwyP/ngCCBppkmmWN1SQOzB6lBY/F3A7MEKkFj85oA1oQmhowYToWXAMj/54Dg0xN19Q9V3QLEgUR5XY1NowEBAGKFlwDI/+eAYMR9+QNFMQDmhS0xY04FAOPinf6FZ5OHBweml4qX2pcjiqf4hQT5t+MWpf2RR+OG9PYFZ311kwcHBxMEhfmilzOEJwATBYX6kwcHB6qXM4UnAKKFlyDI/+eAgHflOyKFwUXxM8U7EwUAApcAyP/ngOA2hWIWkbpQKlSaVApZ+klqStpKSku6SypMmkwKTfZdTWGCgAERBs4izFExNwTOP2wAEwVE/5cAyP/ngKDKqocFRZXnskeT9wcgPsZ5OTcnAGAcR7cGQAATBUT/1Y8cx7JFlwDI/+eAIMgzNaAA8kBiRAVhgoBBEbfHyj8GxpOHxwAFRyOA5wAT18UAmMcFZ30XzMPIx/mNOpWqlbGBjMsjqgcAQTcZwRMFUAyyQEEBgoABESLMN8TKP5MHxAAmysRHTsYGzkrIqokTBMQAY/OVAK6EqcADKUQAJpkTWckAHEhjVfAAHERjXvkC4T593UhAJobOhZcAyP/ngCC7E3X1DwHFkwdADFzIXECml1zAXESFj1zE8kBiRNJEQkmySQVhgoDdNm2/t1dBSRlxk4f3hAFFPs6G3qLcptrK2M7W0tTW0trQ3s7izObK6sjuxpcAyP/ngICtt0fKPzd3yz+ThwcAEweHumPg5xSlOZFFaAixMYU5t/fKP5OHh7EhZz6XIyD3CLcFOEC3BzhAAUaThwcLk4UFADdJyj8VRSMg+QCXAMj/54DgGzcHAGBcRxMFAAK3xMo/k+cXEFzHlwDI/+eAoBq3RwBgiF+BRbd5yz9xiWEVEzUVAJcAyP/ngOCwwWf9FxMHABCFZkFmtwUAAQFFk4TEALdKyj8NapcAyP/ngOCrk4mJsRMJCQATi8oAJpqDp8kI9d+Dq8kIhUcjpgkIIwLxAoPHGwAJRyMT4QKjAvECAtRNR2OL5wZRR2OJ5wYpR2Of5wCDxzsAA8crAKIH2Y8RR2OW5wCDp4sAnEM+1EE2oUVIEJE+g8c7AAPHKwCiB9mPEWdBB2N+9wITBbANlwDI/+eAQJQTBcANlwDI/+eAgJMTBeAOlwDI/+eAwJKBNr23I6AHAJEHbb3JRyMT8QJ9twPHGwDRRmPn5gKFRmPm5gABTBME8A+dqHkXE3f3D8lG4+jm/rd2yz8KB5OGxro2lxhDAoeTBgcDk/b2DxFG42nW/BMH9wITd/cPjUZj7uYIt3bLPwoHk4aGvzaXGEMChxMHQAJjmucQAtQdRAFFlwDI/+eAIIoBRYE8TTxFPKFFSBB9FEk0ffABTAFEE3X0DyU8E3X8Dw08UTzjEQTsg8cbAElHY2X3MAlH43n36vUXk/f3Dz1H42P36jd3yz+KBxMHh8C6l5xDgocFRJ3rcBCBRQFFlwDI/+eAQIkd4dFFaBAVNAFEMagFRIHvlwDI/+eAwI0zNKAAKaAhR2OF5wAFRAFMYbcDrIsAA6TLALNnjADSB/X3mTll9cFsIpz9HH19MwWMQF3cs3eVAZXjwWwzBYxAY+aMAv18MwWMQF3QMYGXAMj/54Bgil35ZpT1tzGBlwDI/+eAYIld8WqU0bdBgZcAyP/ngKCIWfkzBJRBwbchR+OK5/ABTBMEAAw5t0FHzb9BRwVE453n9oOlywADpYsAVTK5v0FHBUTjk+f2A6cLAZFnY+jnHoOlSwEDpYsAMTGBt0FHBUTjlOf0g6cLARFnY2n3HAOnywCDpUsBA6WLADOE5wLdNiOsBAAjJIqwCb8DxwQAYwMHFAOniwDBFxMEAAxjE/cAwEgBR5MG8A5jRvcCg8dbAAPHSwABTKIH2Y8Dx2sAQgddj4PHewDiB9mP44T25hMEEAyFtTOG6wADRoYBBQexjuG3g8cEAP3H3ERjnQcUwEgjgAQAVb1hR2OW5wKDp8sBA6eLAYOmSwEDpgsBg6XLAAOliwCX8Mf/54BgeSqMMzSgAAG9AUwFRCm1EUcFROOd5+a3lwBgtENld30XBWb5jtGOA6WLALTDtEeBRfmO0Y60x/RD+Y7RjvTD1F91j1GP2N+X8Mf/54BAdwW1E/f3AOMXB+qT3EcAE4SLAAFMfV3jd5zbSESX8Mf/54DAYRhEVEAQQPmOYwenARxCE0f3/32P2Y4UwgUMQQTZvxFHtbVBRwVE45rn3oOniwADp0sBIyT5ACMi6QDJs4MlSQDBF5Hlic8BTBMEYAyhuwMniQBjZvcGE/c3AOMbB+IDKIkAAUYBRzMF6ECzhuUAY2n3AOMHBtIjJKkAIyLZAA2zM4brABBOEQeQwgVG6b8hRwVE45Tn2AMkiQAZwBMEgAwjJAkAIyIJADM0gAC9swFMEwQgDMW5AUwTBIAM5bEBTBMEkAzFsRMHIA1jg+cMEwdADeOR57oDxDsAg8crACIEXYyX8Mf/54BgXwOsxABBFGNzhAEijOMPDLbAQGKUMYCcSGNV8ACcRGNa9Arv8I/hdd3IQGKGk4WLAZfwx//ngGBbAcWTB0AM3MjcQOKX3MDcRLOHh0HcxJfwx//ngEBaFb4JZRMFBXEDrMsAA6SLAJfwx//ngEBMtwcAYNhLtwYAAcEWk1dHARIHdY+9i9mPs4eHAwFFs9WHApfwx//ngOBMEwWAPpfwx//ngOBI3bSDpksBA6YLAYOlywADpYsA7/Av98G8g8U7AIPHKwAThYsBogXdjcEVqTptvO/w79qBtwPEOwCDxysAE4yLASIEXYzcREEUxeORR4VLY/6HCJMHkAzcyHm0A6cNACLQBUizh+xAPtaDJ4qwY3P0AA1IQsY6xO/wb9YiRzJIN8XKP+KFfBCThsoAEBATBUUCl/DH/+eA4Ek398o/kwjHAIJXA6eIsIOlDQAdjB2PPpyyVyOk6LCqi76VI6C9AJOHygCdjQHFoWdjlvUAWoVdOCOgbQEJxNxEmcPjQHD5Y98LAJMHcAyFv4VLt33LP7fMyj+TjY26k4zMAOm/45ULntxE44IHnpMHgAyxt4OniwDjmwecAUWX8Mf/54DAOQllEwUFcZfwx//ngCA2l/DH/+eA4DlNugOkywDjBgSaAUWX8Mf/54AgNxMFgD6X8Mf/54CgMwKUQbr2UGZU1lRGWbZZJlqWWgZb9ktmTNZMRk22TQlhgoA=",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),To={};j2(To,{ESP32C2ROM:()=>S9});var S9,Kf=L2(()=>{qo(),No(),S9=class M extends v4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=R3.text_start,this.ENTRY=R3.entry,this.DATA_START=R3.data_start,this.ROM_DATA=R3.data,this.ROM_TEXT=R3.text}async getPkgVersion(w){const _=this.EFUSE_BASE+64+4;return await w.readReg(_)>>22&7}async getChipRevision(w){const _=this.EFUSE_BASE+64+4;return(await w.readReg(_)&3145728)>>20}async getChipDescription(w){let _;const R=await this.getPkgVersion(w);if(R===0||R===1)_="ESP32-C2";else _="unknown ESP32-C2";const N=await this.getChipRevision(w);return _+=" (revision "+N+")",_}async getChipFeatures(w){return["Wi-Fi","BLE"]}async getCrystalFreq(w){const _=await w.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=w.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER;let N;if(R>33)N=40;else N=26;if(Math.abs(N-R)>1)w.info("WARNING: Unsupported crystal in use");return N}async changeBaudRate(w){if(await this.getCrystalFreq(w)===26)w.changeBaud()}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),s3,Mo=L2(()=>{s3={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),zo={};j2(zo,{ESP32C6ROM:()=>$9});var $9,jf=L2(()=>{Mo(),$9=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=s3.text_start,this.ENTRY=s3.entry,this.DATA_START=s3.data_start,this.ROM_DATA=s3.data,this.ROM_TEXT=s3.text}async getPkgVersion(w){const _=this.EFUSE_BASE+68+12;return await w.readReg(_)>>21&7}async getChipRevision(w){const _=this.EFUSE_BASE+68+12;return(await w.readReg(_)&1835008)>>18}async getChipDescription(w){let _;if(await this.getPkgVersion(w)===0)_="ESP32-C6";else _="unknown ESP32-C6";const R=await this.getChipRevision(w);return _+=" (revision "+R+")",_}async getChipFeatures(w){return["Wi-Fi"]}async getCrystalFreq(w){return 40}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),g3,Vo=L2(()=>{g3={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),So={};j2(So,{ESP32H2ROM:()=>Z9});var Z9,Hf=L2(()=>{Vo(),Z9=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=g3.text_start,this.ENTRY=g3.entry,this.DATA_START=g3.data_start,this.ROM_DATA=g3.data,this.ROM_TEXT=g3.text}async getChipDescription(w){return this.CHIP_NAME}async getChipFeatures(w){return["BLE","IEEE802.15.4"]}async getCrystalFreq(w){return 32}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async postConnect(w){const _=await w.readReg(this.UARTDEV_BUF_NO)&255;if(w.debug("In _post_connect "+_),_==this.UARTDEV_BUF_NO_USB)w.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),X3,$o=L2(()=>{X3={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),Zo={};j2(Zo,{ESP32S3ROM:()=>W9});var W9,Gf=L2(()=>{$o(),W9=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=X3.text_start,this.ENTRY=X3.entry,this.DATA_START=X3.data_start,this.ROM_DATA=X3.data,this.ROM_TEXT=X3.text}async getChipDescription(w){return"ESP32-S3"}async getChipFeatures(w){return["Wi-Fi","BLE"]}async getCrystalFreq(w){return 40}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async postConnect(w){const _=await w.readReg(this.UARTDEV_BUF_NO)&255;if(w.debug("In _post_connect "+_),_==this.UARTDEV_BUF_NO_USB)w.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),F3,Wo=L2(()=>{F3={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),wo={};j2(wo,{ESP32S2ROM:()=>w9});var w9,Jf=L2(()=>{Wo(),w9=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=F3.text_start,this.ENTRY=F3.entry,this.DATA_START=F3.data_start,this.ROM_DATA=F3.data,this.ROM_TEXT=F3.text}async getPkgVersion(w){const _=this.EFUSE_BASE+68+12;return await w.readReg(_)>>21&15}async getChipDescription(w){const _=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],R=await this.getPkgVersion(w);if(R>=0&&R<=2)return _[R];else return"unknown ESP32-S2"}async getChipFeatures(w){const _=["Wi-Fi"],R=await this.getPkgVersion(w);if(R==1)_.push("Embedded 2MB Flash");else if(R==2)_.push("Embedded 4MB Flash");const N=4,b=this.EFUSE_BASE+92+4*N;if((await w.readReg(b)>>4&7)==1)_.push("ADC and temperature sensor calibration in BLK2 of efuse");return _}async getCrystalFreq(w){return 40}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}getEraseSize(w,_){return _}}}),k3,Oo=L2(()=>{k3={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),Ro={};j2(Ro,{ESP8266ROM:()=>O9});var O9,Ef=L2(()=>{Oo(),O9=class M extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=k3.text_start,this.ENTRY=k3.entry,this.DATA_START=k3.data_start,this.ROM_DATA=k3.data,this.ROM_TEXT=k3.text,this.getChipFeatures=async(w)=>{const _=["WiFi"];if(await this.getChipDescription(w)=="ESP8285")_.push("Embedded Flash");return _}}async readEfuse(w,_){const R=this.EFUSE_RD_REG_BASE+4*_;return w.debug("Read efuse "+R),await w.readReg(R)}async getChipDescription(w){const _=await this.readEfuse(w,2);return(await this.readEfuse(w,0)&16|_&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(w){const _=await w.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,R=w.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER;let N;if(R>33)N=40;else N=26;if(Math.abs(N-R)>1)w.info("WARNING: Detected crystal freq "+R+"MHz is quite different to normalized freq "+N+"MHz. Unsupported crystal in use?");return N}_d2h(w){const _=(+w).toString(16);return _.length===1?"0"+_:_}async readMac(w){let _=await this.readEfuse(w,0);_=_>>>0;let R=await this.readEfuse(w,1);R=R>>>0;let N=await this.readEfuse(w,3);N=N>>>0;const b=new Uint8Array(6);if(N!=0)b[0]=N>>16&255,b[1]=N>>8&255,b[2]=N&255;else if((R>>16&255)==0)b[0]=24,b[1]=254,b[2]=52;else if((R>>16&255)==1)b[0]=172,b[1]=208,b[2]=116;else w.error("Unknown OUI");return b[3]=R>>8&255,b[4]=R&255,b[5]=_>>24&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(w,_){return _}}}),P3,so=L2(()=>{P3={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),go={};j2(go,{ESP32P4ROM:()=>R9});var R9,Df=L2(()=>{_o(),so(),R9=class M extends y4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=P3.text_start,this.ENTRY=P3.entry,this.DATA_START=P3.data_start,this.ROM_DATA=P3.data,this.ROM_TEXT=P3.text}async getPkgVersion(w){const _=this.EFUSE_BLOCK1_ADDR+8;return await w.readReg(_)>>27&7}async getMinorChipVersion(w){const _=this.EFUSE_BLOCK1_ADDR+8;return await w.readReg(_)>>0&15}async getMajorChipVersion(w){const _=this.EFUSE_BLOCK1_ADDR+8;return await w.readReg(_)>>4&3}async getChipDescription(w){const _=await this.getPkgVersion(w)===0?"ESP32-P4":"unknown ESP32-P4",R=await this.getMajorChipVersion(w),N=await this.getMinorChipVersion(w);return`${_} (revision v${R}.${N})`}async getChipFeatures(w){return["High-Performance MCU"]}async getCrystalFreq(w){return 40}async getFlashVoltage(w){return}async overrideVddsdio(w){w.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(w){let _=await w.readReg(this.MAC_EFUSE_REG);_=_>>>0;let R=await w.readReg(this.MAC_EFUSE_REG+4);R=R>>>0&65535;const N=new Uint8Array(6);return N[0]=R>>8&255,N[1]=R&255,N[2]=_>>24&255,N[3]=_>>16&255,N[4]=_>>8&255,N[5]=_&255,this._d2h(N[0])+":"+this._d2h(N[1])+":"+this._d2h(N[2])+":"+this._d2h(N[3])+":"+this._d2h(N[4])+":"+this._d2h(N[5])}async getFlashCryptConfig(w){return}async getSecureBootEnabled(w){return await w.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(w,_){if(_<0||_>this.EFUSE_MAX_KEY){w.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}const R=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[N,b]=R[_];return await w.readReg(N)>>b&15}async isFlashEncryptionKeyValid(w){const _=[];for(let b=0;b<=this.EFUSE_MAX_KEY;b++){const u=await this.getKeyBlockPurpose(w,b);_.push(u)}if(typeof _.find((b)=>b===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;const R=_.find((b)=>b===this.PURPOSE_VAL_XTS_AES256_KEY_1),N=_.find((b)=>b===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof R!==void 0&&typeof N!==void 0)return!0;return!1}}}),Fo="\x01",w7="\x02",P5="\x03",U5="\x04",O7=512,K5=80,ko=1152000;class _4{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(M=[]){return navigator.serial.requestPort({filters:M}).then((w)=>{if(w._serial){this.serial=w._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new Xo(w),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(M={}){return new Promise((w,_)=>{if(this.serial)this.serial.open({baudRate:ko,...M}).then(()=>w()).catch((R)=>{if(R.name==="InvalidStateError")this._connected=!0,w();_(R)});else _(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(M,w){return new Promise((_)=>{let R="";const N=async(b)=>{if(b){if(R+=this._decoder.decode(b),w)w(b)}if(R.indexOf(M)!==-1)this.serial.off("data",N),_(R)};this.serial.on("data",N)})}writeAndReadUntil(M,w,_){return new Promise(async(R)=>{if(w)this.readUntil(w,_).then(R);for(let N=0;N<M.length;N+=O7)await this.serial.write(M.slice(N,N+O7)),await k5(10);if(!w)R()})}async getPrompt(){return await k5(150),await this.stop(),await k5(150),await this.writeAndReadUntil(`\r${P5}${w7}`,"\r\n>>>")}async enterRawRepl(){return await this.writeAndReadUntil(Fo,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(w7,"\r\n>>>")}async execRaw(M,w){return await this.writeAndReadUntil(M),await this.writeAndReadUntil(U5,`${U5}>`,w)}async execFile(M,w){if(w=w||function(){},M){await this.enterRawRepl();const _=await this.execRaw(M,w);return await this.exitRawRepl(),_}return Promise.reject()}async run(M,w){return w=w||function(){},new Promise(async(_,R)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=R;try{await this.enterRawRepl();const N=await this.execRaw(M||"#",w);return await this.exitRawRepl(),_(N)}catch(N){R(N),this.rejectRun=null}})}async eval(M){await this.serial.write(M)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(P5)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(P5),await this.serial.write(U5)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw("import machine\nmachine.reset()")}async exists(M){M=M||"";let w="";w+="try:\n",w+=`  f = open('${M}', 'r')\n`,w+="  print(1)\n",w+="except OSError:\n",w+="  print(0)\n",await this.enterRawRepl();const _=await this.execRaw(w);return await this.exitRawRepl(),_[2]=="1"}async listdir(M){M=M||"";let w="";w+="import os\n",w+="try:\n",w+=`  print(os.listdir('${M}'))\n`,w+="except OSError:\n",w+="  print([])\n",await this.enterRawRepl();let _=await this.execRaw(w);return await this.exitRawRepl(),_=W7(_),_=_.replace(/'/g,'"'),JSON.parse(_)}async mkdir(M){if(M){await this.enterRawRepl();const w=await this.execRaw(`import os\nos.mkdir('${M}')`);return await this.exitRawRepl(),w}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(M){if(M){let w="";w+="import os\n",w+="try:\n",w+=`  os.rmdir("${M}")\n`,w+="except OSError:\n",w+="  print(0)\n",await this.enterRawRepl();const _=await this.execRaw(w);return await this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async remove(M){if(M){let w="";w+="import os\n",w+="try:\n",w+=`  os.remove("${M}")\n`,w+="except OSError:\n",w+="  print(0)\n",await this.enterRawRepl();const _=await this.execRaw(w);return this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async rename(M,w){if(M&&w){await this.enterRawRepl();const _=await this.execRaw(`import os\nos.rename('${M}', '${w}')`);return this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async cat(M){if(M){await this.enterRawRepl();let w=await this.execRaw(`with open('${M}','r') as f:\n while 1:\n  b=f.read(256)\n  if not b:break\n  print(b,end='')`);return await this.exitRawRepl(),w=W7(w),Z7(w)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(M,w){if(M){let _="";_+="import os\n",_+="import hashlib\n",_+="import binascii\n",_+="hash = hashlib.sha256()\n",_+=`with open('${M}', 'rb') as f:\n`,_+="  while True:\n",_+=`    c = f.read(${K5})\n`,_+="    if not c: break\n",_+="    hash.update(c)\n",_+="print(binascii.hexlify(hash.digest()).decode())\n",await this.enterRawRepl();let R=await this.execRaw(_);return await this.exitRawRepl(),R=R.slice(2,R.indexOf("\n")-1),w===R}return Promise.reject(new Error("Path to file was not specified"))}async put(M,w,_){if(!w){Promise.reject(new Error("Must specify content and destination path"));return}let R;if(typeof M==="string")R=this._encoder.encode(Z7(M));else if(M instanceof ArrayBuffer)R=new Uint8Array(M);else if(M instanceof Uint8Array)R=M;else Promise.reject(new Error(`${M} must string, Uint8Array or ArrayBuffer`));if(_=_||function(){},await this.exists(w)){const h=await crypto.subtle.digest("SHA-256",R),V=Array.from(new Uint8Array(h)).map((a)=>a.toString(16).padStart(2,"0")).join("");if(await this.checkHash(w,V)){_(100);return}}const N=Array.from(R).map((h)=>h.toString(16).padStart(2,"0"));let b="";b+=await this.enterRawRepl();let u=w.split("/");if(u.pop(),u.length>0){b+=await this.execRaw("import os");const h=[];u.reduce((V,a)=>{if(a===""||V!==""&&V.at(-1)!=="/")V+="/";if(V+=a,V!=="/")h.push(V);return V},"");for(let V of h)b+=await this.execRaw(`os.mkdir('${V}')`)}b+=await this.execRaw(`f=open('${w}','w')\nw=f.write`);for(let h=0;h<N.length;h+=K5){const V=N.slice(h,h+K5).map((a)=>`\\x${a}`);b+=await this.execRaw(`w(b"${V.join("")}")`),_(parseInt(h/N.length*100))}return b+=await this.execRaw("f.close()"),b+=await this.exitRawRepl(),_(100),b}}var Yf=m4(ho(),1),tf=m4(bo(),1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */var jo=0,s9=1,Ho=2,Go=3,Jo=258,q4=29,q6=256,r6=q6+1+q4,U3=30,N4=19,g9=2*r6+1,b3=15,H5=16,Eo=7,T4=256,X9=16,F9=17,k9=18,p4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Do=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),P9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Io=512,J2=new Array((r6+2)*2);j3(J2);var u6=new Array(U3*2);j3(u6);var a6=new Array(Io);j3(a6);var h6=new Array(Jo-Go+1);j3(h6);var M4=new Array(q4);j3(M4);var u0=new Array(U3);j3(u0);var U9,K9,i9,j9=(M)=>{return M<256?a6[M]:a6[256+(M>>>7)]},b6=(M,w)=>{M.pending_buf[M.pending++]=w&255,M.pending_buf[M.pending++]=w>>>8&255},V2=(M,w,_)=>{if(M.bi_valid>H5-_)M.bi_buf|=w<<M.bi_valid&65535,b6(M,M.bi_buf),M.bi_buf=w>>H5-M.bi_valid,M.bi_valid+=_-H5;else M.bi_buf|=w<<M.bi_valid&65535,M.bi_valid+=_},U2=(M,w,_)=>{V2(M,_[w*2],_[w*2+1])},H9=(M,w)=>{let _=0;do _|=M&1,M>>>=1,_<<=1;while(--w>0);return _>>>1},Yo=(M)=>{if(M.bi_valid===16)b6(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0;else if(M.bi_valid>=8)M.pending_buf[M.pending++]=M.bi_buf&255,M.bi_buf>>=8,M.bi_valid-=8},to=(M,w)=>{const{dyn_tree:_,max_code:R}=w,N=w.stat_desc.static_tree,b=w.stat_desc.has_stree,u=w.stat_desc.extra_bits,h=w.stat_desc.extra_base,V=w.stat_desc.max_length;let a,L,v,S,x,d,z=0;for(S=0;S<=b3;S++)M.bl_count[S]=0;_[M.heap[M.heap_max]*2+1]=0;for(a=M.heap_max+1;a<g9;a++){if(L=M.heap[a],S=_[_[L*2+1]*2+1]+1,S>V)S=V,z++;if(_[L*2+1]=S,L>R)continue;if(M.bl_count[S]++,x=0,L>=h)x=u[L-h];if(d=_[L*2],M.opt_len+=d*(S+x),b)M.static_len+=d*(N[L*2+1]+x)}if(z===0)return;do{S=V-1;while(M.bl_count[S]===0)S--;M.bl_count[S]--,M.bl_count[S+1]+=2,M.bl_count[V]--,z-=2}while(z>0);for(S=V;S!==0;S--){L=M.bl_count[S];while(L!==0){if(v=M.heap[--a],v>R)continue;if(_[v*2+1]!==S)M.opt_len+=(S-_[v*2+1])*_[v*2],_[v*2+1]=S;L--}}},G9=(M,w,_)=>{const R=new Array(b3+1);let N=0,b,u;for(b=1;b<=b3;b++)N=N+_[b-1]<<1,R[b]=N;for(u=0;u<=w;u++){let h=M[u*2+1];if(h===0)continue;M[u*2]=H9(R[h]++,h)}},Co=()=>{let M,w,_,R,N;const b=new Array(b3+1);_=0;for(R=0;R<q4-1;R++){M4[R]=_;for(M=0;M<1<<p4[R];M++)h6[_++]=R}h6[_-1]=R,N=0;for(R=0;R<16;R++){u0[R]=N;for(M=0;M<1<<n0[R];M++)a6[N++]=R}N>>=7;for(;R<U3;R++){u0[R]=N<<7;for(M=0;M<1<<n0[R]-7;M++)a6[256+N++]=R}for(w=0;w<=b3;w++)b[w]=0;M=0;while(M<=143)J2[M*2+1]=8,M++,b[8]++;while(M<=255)J2[M*2+1]=9,M++,b[9]++;while(M<=279)J2[M*2+1]=7,M++,b[7]++;while(M<=287)J2[M*2+1]=8,M++,b[8]++;G9(J2,r6+1,b);for(M=0;M<U3;M++)u6[M*2+1]=5,u6[M*2]=H9(M,5);U9=new i5(J2,p4,q6+1,r6,b3),K9=new i5(u6,n0,0,U3,b3),i9=new i5(new Array(0),Do,0,N4,Eo)},J9=(M)=>{let w;for(w=0;w<r6;w++)M.dyn_ltree[w*2]=0;for(w=0;w<U3;w++)M.dyn_dtree[w*2]=0;for(w=0;w<N4;w++)M.bl_tree[w*2]=0;M.dyn_ltree[T4*2]=1,M.opt_len=M.static_len=0,M.sym_next=M.matches=0},E9=(M)=>{if(M.bi_valid>8)b6(M,M.bi_buf);else if(M.bi_valid>0)M.pending_buf[M.pending++]=M.bi_buf;M.bi_buf=0,M.bi_valid=0},R7=(M,w,_,R)=>{const N=w*2,b=_*2;return M[N]<M[b]||M[N]===M[b]&&R[w]<=R[_]},G5=(M,w,_)=>{const R=M.heap[_];let N=_<<1;while(N<=M.heap_len){if(N<M.heap_len&&R7(w,M.heap[N+1],M.heap[N],M.depth))N++;if(R7(w,R,M.heap[N],M.depth))break;M.heap[_]=M.heap[N],_=N,N<<=1}M.heap[_]=R},s7=(M,w,_)=>{let R,N,b=0,u,h;if(M.sym_next!==0)do if(R=M.pending_buf[M.sym_buf+b++]&255,R+=(M.pending_buf[M.sym_buf+b++]&255)<<8,N=M.pending_buf[M.sym_buf+b++],R===0)U2(M,N,w);else{if(u=h6[N],U2(M,u+q6+1,w),h=p4[u],h!==0)N-=M4[u],V2(M,N,h);if(R--,u=j9(R),U2(M,u,_),h=n0[u],h!==0)R-=u0[u],V2(M,R,h)}while(b<M.sym_next);U2(M,T4,w)},u4=(M,w)=>{const _=w.dyn_tree,R=w.stat_desc.static_tree,N=w.stat_desc.has_stree,b=w.stat_desc.elems;let u,h,V=-1,a;M.heap_len=0,M.heap_max=g9;for(u=0;u<b;u++)if(_[u*2]!==0)M.heap[++M.heap_len]=V=u,M.depth[u]=0;else _[u*2+1]=0;while(M.heap_len<2)if(a=M.heap[++M.heap_len]=V<2?++V:0,_[a*2]=1,M.depth[a]=0,M.opt_len--,N)M.static_len-=R[a*2+1];w.max_code=V;for(u=M.heap_len>>1;u>=1;u--)G5(M,_,u);a=b;do u=M.heap[1],M.heap[1]=M.heap[M.heap_len--],G5(M,_,1),h=M.heap[1],M.heap[--M.heap_max]=u,M.heap[--M.heap_max]=h,_[a*2]=_[u*2]+_[h*2],M.depth[a]=(M.depth[u]>=M.depth[h]?M.depth[u]:M.depth[h])+1,_[u*2+1]=_[h*2+1]=a,M.heap[1]=a++,G5(M,_,1);while(M.heap_len>=2);M.heap[--M.heap_max]=M.heap[1],to(M,w),G9(_,V,M.bl_count)},g7=(M,w,_)=>{let R,N=-1,b,u=w[1],h=0,V=7,a=4;if(u===0)V=138,a=3;w[(_+1)*2+1]=65535;for(R=0;R<=_;R++){if(b=u,u=w[(R+1)*2+1],++h<V&&b===u)continue;else if(h<a)M.bl_tree[b*2]+=h;else if(b!==0){if(b!==N)M.bl_tree[b*2]++;M.bl_tree[X9*2]++}else if(h<=10)M.bl_tree[F9*2]++;else M.bl_tree[k9*2]++;if(h=0,N=b,u===0)V=138,a=3;else if(b===u)V=6,a=3;else V=7,a=4}},X7=(M,w,_)=>{let R,N=-1,b,u=w[1],h=0,V=7,a=4;if(u===0)V=138,a=3;for(R=0;R<=_;R++){if(b=u,u=w[(R+1)*2+1],++h<V&&b===u)continue;else if(h<a)do U2(M,b,M.bl_tree);while(--h!==0);else if(b!==0){if(b!==N)U2(M,b,M.bl_tree),h--;U2(M,X9,M.bl_tree),V2(M,h-3,2)}else if(h<=10)U2(M,F9,M.bl_tree),V2(M,h-3,3);else U2(M,k9,M.bl_tree),V2(M,h-11,7);if(h=0,N=b,u===0)V=138,a=3;else if(b===u)V=6,a=3;else V=7,a=4}},Bo=(M)=>{let w;g7(M,M.dyn_ltree,M.l_desc.max_code),g7(M,M.dyn_dtree,M.d_desc.max_code),u4(M,M.bl_desc);for(w=N4-1;w>=3;w--)if(M.bl_tree[P9[w]*2+1]!==0)break;return M.opt_len+=3*(w+1)+5+5+4,w},Qo=(M,w,_,R)=>{let N;V2(M,w-257,5),V2(M,_-1,5),V2(M,R-4,4);for(N=0;N<R;N++)V2(M,M.bl_tree[P9[N]*2+1],3);X7(M,M.dyn_ltree,w-1),X7(M,M.dyn_dtree,_-1)},eo=(M)=>{let w=4093624447,_;for(_=0;_<=31;_++,w>>>=1)if(w&1&&M.dyn_ltree[_*2]!==0)return 0;if(M.dyn_ltree[18]!==0||M.dyn_ltree[20]!==0||M.dyn_ltree[26]!==0)return 1;for(_=32;_<q6;_++)if(M.dyn_ltree[_*2]!==0)return 1;return 0},F7=!1,Ao=(M)=>{if(!F7)Co(),F7=!0;M.l_desc=new j5(M.dyn_ltree,U9),M.d_desc=new j5(M.dyn_dtree,K9),M.bl_desc=new j5(M.bl_tree,i9),M.bi_buf=0,M.bi_valid=0,J9(M)},D9=(M,w,_,R)=>{if(V2(M,(jo<<1)+(R?1:0),3),E9(M),b6(M,_),b6(M,~_),_)M.pending_buf.set(M.window.subarray(w,w+_),M.pending);M.pending+=_},ln=(M)=>{V2(M,s9<<1,3),U2(M,T4,J2),Yo(M)},on=(M,w,_,R)=>{let N,b,u=0;if(M.level>0){if(M.strm.data_type===2)M.strm.data_type=eo(M);if(u4(M,M.l_desc),u4(M,M.d_desc),u=Bo(M),N=M.opt_len+3+7>>>3,b=M.static_len+3+7>>>3,b<=N)N=b}else N=b=_+5;if(_+4<=N&&w!==-1)D9(M,w,_,R);else if(M.strategy===4||b===N)V2(M,(s9<<1)+(R?1:0),3),s7(M,J2,u6);else V2(M,(Ho<<1)+(R?1:0),3),Qo(M,M.l_desc.max_code+1,M.d_desc.max_code+1,u+1),s7(M,M.dyn_ltree,M.dyn_dtree);if(J9(M),R)E9(M)},nn=(M,w,_)=>{if(M.pending_buf[M.sym_buf+M.sym_next++]=w,M.pending_buf[M.sym_buf+M.sym_next++]=w>>8,M.pending_buf[M.sym_buf+M.sym_next++]=_,w===0)M.dyn_ltree[_*2]++;else M.matches++,w--,M.dyn_ltree[(h6[_]+q6+1)*2]++,M.dyn_dtree[j9(w)*2]++;return M.sym_next===M.sym_end},pn=Ao,un=D9,cn=on,fn=nn,dn=ln,rn={_tr_init:pn,_tr_stored_block:un,_tr_flush_block:cn,_tr_tally:fn,_tr_align:dn},an=(M,w,_,R)=>{let N=M&65535|0,b=M>>>16&65535|0,u=0;while(_!==0){u=_>2000?2000:_,_-=u;do N=N+w[R++]|0,b=b+N|0;while(--u);N%=65521,b%=65521}return N|b<<16|0},m6=an,hn=()=>{let M,w=[];for(var _=0;_<256;_++){M=_;for(var R=0;R<8;R++)M=M&1?3988292384^M>>>1:M>>>1;w[_]=M}return w},bn=new Uint32Array(hn()),mn=(M,w,_,R)=>{const N=bn,b=R+_;M^=-1;for(let u=R;u<b;u++)M=M>>>8^N[(M^w[u])&255];return M^-1},q2=mn,y6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},r0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:yn,_tr_stored_block:c4,_tr_flush_block:vn,_tr_tally:e2,_tr_align:_n}=rn,{Z_NO_FLUSH:A2,Z_PARTIAL_FLUSH:xn,Z_FULL_FLUSH:Ln,Z_FINISH:O2,Z_BLOCK:k7,Z_OK:T2,Z_STREAM_END:P7,Z_STREAM_ERROR:K2,Z_DATA_ERROR:qn,Z_BUF_ERROR:J5,Z_DEFAULT_COMPRESSION:Nn,Z_FILTERED:Tn,Z_HUFFMAN_ONLY:B6,Z_RLE:Mn,Z_FIXED:zn,Z_DEFAULT_STRATEGY:Vn,Z_UNKNOWN:Sn,Z_DEFLATED:a0}=r0,$n=9,Zn=15,Wn=8,wn=29,On=256,f4=On+1+wn,Rn=30,sn=19,gn=2*f4+1,Xn=15,G1=3,Q2=258,i2=Q2+G1+1,Fn=32,K3=42,z4=57,d4=69,r4=73,a4=91,h4=103,m3=113,n6=666,z2=1,H3=2,v3=3,G3=4,kn=3,y3=(M,w)=>{return M.msg=y6[w],w},U7=(M)=>{return M*2-(M>4?9:0)},B2=(M)=>{let w=M.length;while(--w>=0)M[w]=0},Pn=(M)=>{let w,_,R,N=M.w_size;w=M.hash_size,R=w;do _=M.head[--R],M.head[R]=_>=N?_-N:0;while(--w);w=N,R=w;do _=M.prev[--R],M.prev[R]=_>=N?_-N:0;while(--w)},Un=(M,w,_)=>(w<<M.hash_shift^_)&M.hash_mask,l3=Un,Z2=(M)=>{const w=M.state;let _=w.pending;if(_>M.avail_out)_=M.avail_out;if(_===0)return;if(M.output.set(w.pending_buf.subarray(w.pending_out,w.pending_out+_),M.next_out),M.next_out+=_,w.pending_out+=_,M.total_out+=_,M.avail_out-=_,w.pending-=_,w.pending===0)w.pending_out=0},W2=(M,w)=>{vn(M,M.block_start>=0?M.block_start:-1,M.strstart-M.block_start,w),M.block_start=M.strstart,Z2(M.strm)},J1=(M,w)=>{M.pending_buf[M.pending++]=w},A3=(M,w)=>{M.pending_buf[M.pending++]=w>>>8&255,M.pending_buf[M.pending++]=w&255},b4=(M,w,_,R)=>{let N=M.avail_in;if(N>R)N=R;if(N===0)return 0;if(M.avail_in-=N,w.set(M.input.subarray(M.next_in,M.next_in+N),_),M.state.wrap===1)M.adler=m6(M.adler,w,N,_);else if(M.state.wrap===2)M.adler=q2(M.adler,w,N,_);return M.next_in+=N,M.total_in+=N,N},I9=(M,w)=>{let{max_chain_length:_,strstart:R}=M,N,b,u=M.prev_length,h=M.nice_match;const V=M.strstart>M.w_size-i2?M.strstart-(M.w_size-i2):0,a=M.window,L=M.w_mask,v=M.prev,S=M.strstart+Q2;let x=a[R+u-1],d=a[R+u];if(M.prev_length>=M.good_match)_>>=2;if(h>M.lookahead)h=M.lookahead;do{if(N=w,a[N+u]!==d||a[N+u-1]!==x||a[N]!==a[R]||a[++N]!==a[R+1])continue;R+=2,N++;do;while(a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&a[++R]===a[++N]&&R<S);if(b=Q2-(S-R),R=S-Q2,b>u){if(M.match_start=w,u=b,b>=h)break;x=a[R+u-1],d=a[R+u]}}while((w=v[w&L])>V&&--_!==0);if(u<=M.lookahead)return u;return M.lookahead},i3=(M)=>{const w=M.w_size;let _,R,N;do{if(R=M.window_size-M.lookahead-M.strstart,M.strstart>=w+(w-i2)){if(M.window.set(M.window.subarray(w,w+w-R),0),M.match_start-=w,M.strstart-=w,M.block_start-=w,M.insert>M.strstart)M.insert=M.strstart;Pn(M),R+=w}if(M.strm.avail_in===0)break;if(_=b4(M.strm,M.window,M.strstart+M.lookahead,R),M.lookahead+=_,M.lookahead+M.insert>=G1){N=M.strstart-M.insert,M.ins_h=M.window[N],M.ins_h=l3(M,M.ins_h,M.window[N+1]);while(M.insert)if(M.ins_h=l3(M,M.ins_h,M.window[N+G1-1]),M.prev[N&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=N,N++,M.insert--,M.lookahead+M.insert<G1)break}}while(M.lookahead<i2&&M.strm.avail_in!==0)},Y9=(M,w)=>{let _=M.pending_buf_size-5>M.w_size?M.w_size:M.pending_buf_size-5,R,N,b,u=0,h=M.strm.avail_in;do{if(R=65535,b=M.bi_valid+42>>3,M.strm.avail_out<b)break;if(b=M.strm.avail_out-b,N=M.strstart-M.block_start,R>N+M.strm.avail_in)R=N+M.strm.avail_in;if(R>b)R=b;if(R<_&&(R===0&&w!==O2||w===A2||R!==N+M.strm.avail_in))break;if(u=w===O2&&R===N+M.strm.avail_in?1:0,c4(M,0,0,u),M.pending_buf[M.pending-4]=R,M.pending_buf[M.pending-3]=R>>8,M.pending_buf[M.pending-2]=~R,M.pending_buf[M.pending-1]=~R>>8,Z2(M.strm),N){if(N>R)N=R;M.strm.output.set(M.window.subarray(M.block_start,M.block_start+N),M.strm.next_out),M.strm.next_out+=N,M.strm.avail_out-=N,M.strm.total_out+=N,M.block_start+=N,R-=N}if(R)b4(M.strm,M.strm.output,M.strm.next_out,R),M.strm.next_out+=R,M.strm.avail_out-=R,M.strm.total_out+=R}while(u===0);if(h-=M.strm.avail_in,h){if(h>=M.w_size)M.matches=2,M.window.set(M.strm.input.subarray(M.strm.next_in-M.w_size,M.strm.next_in),0),M.strstart=M.w_size,M.insert=M.strstart;else{if(M.window_size-M.strstart<=h){if(M.strstart-=M.w_size,M.window.set(M.window.subarray(M.w_size,M.w_size+M.strstart),0),M.matches<2)M.matches++;if(M.insert>M.strstart)M.insert=M.strstart}M.window.set(M.strm.input.subarray(M.strm.next_in-h,M.strm.next_in),M.strstart),M.strstart+=h,M.insert+=h>M.w_size-M.insert?M.w_size-M.insert:h}M.block_start=M.strstart}if(M.high_water<M.strstart)M.high_water=M.strstart;if(u)return G3;if(w!==A2&&w!==O2&&M.strm.avail_in===0&&M.strstart===M.block_start)return H3;if(b=M.window_size-M.strstart,M.strm.avail_in>b&&M.block_start>=M.w_size){if(M.block_start-=M.w_size,M.strstart-=M.w_size,M.window.set(M.window.subarray(M.w_size,M.w_size+M.strstart),0),M.matches<2)M.matches++;if(b+=M.w_size,M.insert>M.strstart)M.insert=M.strstart}if(b>M.strm.avail_in)b=M.strm.avail_in;if(b)b4(M.strm,M.window,M.strstart,b),M.strstart+=b,M.insert+=b>M.w_size-M.insert?M.w_size-M.insert:b;if(M.high_water<M.strstart)M.high_water=M.strstart;if(b=M.bi_valid+42>>3,b=M.pending_buf_size-b>65535?65535:M.pending_buf_size-b,_=b>M.w_size?M.w_size:b,N=M.strstart-M.block_start,N>=_||(N||w===O2)&&w!==A2&&M.strm.avail_in===0&&N<=b)R=N>b?b:N,u=w===O2&&M.strm.avail_in===0&&R===N?1:0,c4(M,M.block_start,R,u),M.block_start+=R,Z2(M.strm);return u?v3:z2},E5=(M,w)=>{let _,R;for(;;){if(M.lookahead<i2){if(i3(M),M.lookahead<i2&&w===A2)return z2;if(M.lookahead===0)break}if(_=0,M.lookahead>=G1)M.ins_h=l3(M,M.ins_h,M.window[M.strstart+G1-1]),_=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart;if(_!==0&&M.strstart-_<=M.w_size-i2)M.match_length=I9(M,_);if(M.match_length>=G1)if(R=e2(M,M.strstart-M.match_start,M.match_length-G1),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=G1){M.match_length--;do M.strstart++,M.ins_h=l3(M,M.ins_h,M.window[M.strstart+G1-1]),_=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart;while(--M.match_length!==0);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=l3(M,M.ins_h,M.window[M.strstart+1]);else R=e2(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(R){if(W2(M,!1),M.strm.avail_out===0)return z2}}if(M.insert=M.strstart<G1-1?M.strstart:G1-1,w===O2){if(W2(M,!0),M.strm.avail_out===0)return v3;return G3}if(M.sym_next){if(W2(M,!1),M.strm.avail_out===0)return z2}return H3},S3=(M,w)=>{let _,R,N;for(;;){if(M.lookahead<i2){if(i3(M),M.lookahead<i2&&w===A2)return z2;if(M.lookahead===0)break}if(_=0,M.lookahead>=G1)M.ins_h=l3(M,M.ins_h,M.window[M.strstart+G1-1]),_=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart;if(M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=G1-1,_!==0&&M.prev_length<M.max_lazy_match&&M.strstart-_<=M.w_size-i2){if(M.match_length=I9(M,_),M.match_length<=5&&(M.strategy===Tn||M.match_length===G1&&M.strstart-M.match_start>4096))M.match_length=G1-1}if(M.prev_length>=G1&&M.match_length<=M.prev_length){N=M.strstart+M.lookahead-G1,R=e2(M,M.strstart-1-M.prev_match,M.prev_length-G1),M.lookahead-=M.prev_length-1,M.prev_length-=2;do if(++M.strstart<=N)M.ins_h=l3(M,M.ins_h,M.window[M.strstart+G1-1]),_=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart;while(--M.prev_length!==0);if(M.match_available=0,M.match_length=G1-1,M.strstart++,R){if(W2(M,!1),M.strm.avail_out===0)return z2}}else if(M.match_available){if(R=e2(M,0,M.window[M.strstart-1]),R)W2(M,!1);if(M.strstart++,M.lookahead--,M.strm.avail_out===0)return z2}else M.match_available=1,M.strstart++,M.lookahead--}if(M.match_available)R=e2(M,0,M.window[M.strstart-1]),M.match_available=0;if(M.insert=M.strstart<G1-1?M.strstart:G1-1,w===O2){if(W2(M,!0),M.strm.avail_out===0)return v3;return G3}if(M.sym_next){if(W2(M,!1),M.strm.avail_out===0)return z2}return H3},Kn=(M,w)=>{let _,R,N,b;const u=M.window;for(;;){if(M.lookahead<=Q2){if(i3(M),M.lookahead<=Q2&&w===A2)return z2;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=G1&&M.strstart>0){if(N=M.strstart-1,R=u[N],R===u[++N]&&R===u[++N]&&R===u[++N]){b=M.strstart+Q2;do;while(R===u[++N]&&R===u[++N]&&R===u[++N]&&R===u[++N]&&R===u[++N]&&R===u[++N]&&R===u[++N]&&R===u[++N]&&N<b);if(M.match_length=Q2-(b-N),M.match_length>M.lookahead)M.match_length=M.lookahead}}if(M.match_length>=G1)_=e2(M,1,M.match_length-G1),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0;else _=e2(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(_){if(W2(M,!1),M.strm.avail_out===0)return z2}}if(M.insert=0,w===O2){if(W2(M,!0),M.strm.avail_out===0)return v3;return G3}if(M.sym_next){if(W2(M,!1),M.strm.avail_out===0)return z2}return H3},jn=(M,w)=>{let _;for(;;){if(M.lookahead===0){if(i3(M),M.lookahead===0){if(w===A2)return z2;break}}if(M.match_length=0,_=e2(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,_){if(W2(M,!1),M.strm.avail_out===0)return z2}}if(M.insert=0,w===O2){if(W2(M,!0),M.strm.avail_out===0)return v3;return G3}if(M.sym_next){if(W2(M,!1),M.strm.avail_out===0)return z2}return H3},p6=[new P2(0,0,0,0,Y9),new P2(4,4,8,4,E5),new P2(4,5,16,8,E5),new P2(4,6,32,32,E5),new P2(4,4,16,16,S3),new P2(8,16,32,32,S3),new P2(8,16,128,128,S3),new P2(8,32,128,256,S3),new P2(32,128,258,1024,S3),new P2(32,258,258,4096,S3)],Hn=(M)=>{M.window_size=2*M.w_size,B2(M.head),M.max_lazy_match=p6[M.level].max_lazy,M.good_match=p6[M.level].good_length,M.nice_match=p6[M.level].nice_length,M.max_chain_length=p6[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=G1-1,M.match_available=0,M.ins_h=0},N6=(M)=>{if(!M)return 1;const w=M.state;if(!w||w.strm!==M||w.status!==K3&&w.status!==z4&&w.status!==d4&&w.status!==r4&&w.status!==a4&&w.status!==h4&&w.status!==m3&&w.status!==n6)return 1;return 0},t9=(M)=>{if(N6(M))return y3(M,K2);M.total_in=M.total_out=0,M.data_type=Sn;const w=M.state;if(w.pending=0,w.pending_out=0,w.wrap<0)w.wrap=-w.wrap;return w.status=w.wrap===2?z4:w.wrap?K3:m3,M.adler=w.wrap===2?0:1,w.last_flush=-2,yn(w),T2},C9=(M)=>{const w=t9(M);if(w===T2)Hn(M.state);return w},Gn=(M,w)=>{if(N6(M)||M.state.wrap!==2)return K2;return M.state.gzhead=w,T2},B9=(M,w,_,R,N,b)=>{if(!M)return K2;let u=1;if(w===Nn)w=6;if(R<0)u=0,R=-R;else if(R>15)u=2,R-=16;if(N<1||N>$n||_!==a0||R<8||R>15||w<0||w>9||b<0||b>zn||R===8&&u!==1)return y3(M,K2);if(R===8)R=9;const h=new Po;return M.state=h,h.strm=M,h.status=K3,h.wrap=u,h.gzhead=null,h.w_bits=R,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=N+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+G1-1)/G1),h.window=new Uint8Array(h.w_size*2),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<N+6,h.pending_buf_size=h.lit_bufsize*4,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=(h.lit_bufsize-1)*3,h.level=w,h.strategy=b,h.method=_,C9(M)},Jn=(M,w)=>{return B9(M,w,a0,Zn,Wn,Vn)},En=(M,w)=>{if(N6(M)||w>k7||w<0)return M?y3(M,K2):K2;const _=M.state;if(!M.output||M.avail_in!==0&&!M.input||_.status===n6&&w!==O2)return y3(M,M.avail_out===0?J5:K2);const R=_.last_flush;if(_.last_flush=w,_.pending!==0){if(Z2(M),M.avail_out===0)return _.last_flush=-1,T2}else if(M.avail_in===0&&U7(w)<=U7(R)&&w!==O2)return y3(M,J5);if(_.status===n6&&M.avail_in!==0)return y3(M,J5);if(_.status===K3&&_.wrap===0)_.status=m3;if(_.status===K3){let N=a0+(_.w_bits-8<<4)<<8,b=-1;if(_.strategy>=B6||_.level<2)b=0;else if(_.level<6)b=1;else if(_.level===6)b=2;else b=3;if(N|=b<<6,_.strstart!==0)N|=Fn;if(N+=31-N%31,A3(_,N),_.strstart!==0)A3(_,M.adler>>>16),A3(_,M.adler&65535);if(M.adler=1,_.status=m3,Z2(M),_.pending!==0)return _.last_flush=-1,T2}if(_.status===z4)if(M.adler=0,J1(_,31),J1(_,139),J1(_,8),!_.gzhead){if(J1(_,0),J1(_,0),J1(_,0),J1(_,0),J1(_,0),J1(_,_.level===9?2:_.strategy>=B6||_.level<2?4:0),J1(_,kn),_.status=m3,Z2(M),_.pending!==0)return _.last_flush=-1,T2}else{if(J1(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(!_.gzhead.extra?0:4)+(!_.gzhead.name?0:8)+(!_.gzhead.comment?0:16)),J1(_,_.gzhead.time&255),J1(_,_.gzhead.time>>8&255),J1(_,_.gzhead.time>>16&255),J1(_,_.gzhead.time>>24&255),J1(_,_.level===9?2:_.strategy>=B6||_.level<2?4:0),J1(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length)J1(_,_.gzhead.extra.length&255),J1(_,_.gzhead.extra.length>>8&255);if(_.gzhead.hcrc)M.adler=q2(M.adler,_.pending_buf,_.pending,0);_.gzindex=0,_.status=d4}if(_.status===d4){if(_.gzhead.extra){let N=_.pending,b=(_.gzhead.extra.length&65535)-_.gzindex;while(_.pending+b>_.pending_buf_size){let h=_.pending_buf_size-_.pending;if(_.pending_buf.set(_.gzhead.extra.subarray(_.gzindex,_.gzindex+h),_.pending),_.pending=_.pending_buf_size,_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N);if(_.gzindex+=h,Z2(M),_.pending!==0)return _.last_flush=-1,T2;N=0,b-=h}let u=new Uint8Array(_.gzhead.extra);if(_.pending_buf.set(u.subarray(_.gzindex,_.gzindex+b),_.pending),_.pending+=b,_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N);_.gzindex=0}_.status=r4}if(_.status===r4){if(_.gzhead.name){let N=_.pending,b;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N);if(Z2(M),_.pending!==0)return _.last_flush=-1,T2;N=0}if(_.gzindex<_.gzhead.name.length)b=_.gzhead.name.charCodeAt(_.gzindex++)&255;else b=0;J1(_,b)}while(b!==0);if(_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N);_.gzindex=0}_.status=a4}if(_.status===a4){if(_.gzhead.comment){let N=_.pending,b;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N);if(Z2(M),_.pending!==0)return _.last_flush=-1,T2;N=0}if(_.gzindex<_.gzhead.comment.length)b=_.gzhead.comment.charCodeAt(_.gzindex++)&255;else b=0;J1(_,b)}while(b!==0);if(_.gzhead.hcrc&&_.pending>N)M.adler=q2(M.adler,_.pending_buf,_.pending-N,N)}_.status=h4}if(_.status===h4){if(_.gzhead.hcrc){if(_.pending+2>_.pending_buf_size){if(Z2(M),_.pending!==0)return _.last_flush=-1,T2}J1(_,M.adler&255),J1(_,M.adler>>8&255),M.adler=0}if(_.status=m3,Z2(M),_.pending!==0)return _.last_flush=-1,T2}if(M.avail_in!==0||_.lookahead!==0||w!==A2&&_.status!==n6){let N=_.level===0?Y9(_,w):_.strategy===B6?jn(_,w):_.strategy===Mn?Kn(_,w):p6[_.level].func(_,w);if(N===v3||N===G3)_.status=n6;if(N===z2||N===v3){if(M.avail_out===0)_.last_flush=-1;return T2}if(N===H3){if(w===xn)_n(_);else if(w!==k7){if(c4(_,0,0,!1),w===Ln){if(B2(_.head),_.lookahead===0)_.strstart=0,_.block_start=0,_.insert=0}}if(Z2(M),M.avail_out===0)return _.last_flush=-1,T2}}if(w!==O2)return T2;if(_.wrap<=0)return P7;if(_.wrap===2)J1(_,M.adler&255),J1(_,M.adler>>8&255),J1(_,M.adler>>16&255),J1(_,M.adler>>24&255),J1(_,M.total_in&255),J1(_,M.total_in>>8&255),J1(_,M.total_in>>16&255),J1(_,M.total_in>>24&255);else A3(_,M.adler>>>16),A3(_,M.adler&65535);if(Z2(M),_.wrap>0)_.wrap=-_.wrap;return _.pending!==0?T2:P7},Dn=(M)=>{if(N6(M))return K2;const w=M.state.status;return M.state=null,w===m3?y3(M,qn):T2},In=(M,w)=>{let _=w.length;if(N6(M))return K2;const R=M.state,N=R.wrap;if(N===2||N===1&&R.status!==K3||R.lookahead)return K2;if(N===1)M.adler=m6(M.adler,w,_,0);if(R.wrap=0,_>=R.w_size){if(N===0)B2(R.head),R.strstart=0,R.block_start=0,R.insert=0;let V=new Uint8Array(R.w_size);V.set(w.subarray(_-R.w_size,_),0),w=V,_=R.w_size}const{avail_in:b,next_in:u,input:h}=M;M.avail_in=_,M.next_in=0,M.input=w,i3(R);while(R.lookahead>=G1){let V=R.strstart,a=R.lookahead-(G1-1);do R.ins_h=l3(R,R.ins_h,R.window[V+G1-1]),R.prev[V&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=V,V++;while(--a);R.strstart=V,R.lookahead=G1-1,i3(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=G1-1,R.match_available=0,M.next_in=u,M.input=h,M.avail_in=b,R.wrap=N,T2},Yn=Jn,tn=B9,Cn=C9,Bn=t9,Qn=Gn,en=En,An=Dn,lp=In,op="pako deflate (from Nodeca project)",c6={deflateInit:Yn,deflateInit2:tn,deflateReset:Cn,deflateResetKeep:Bn,deflateSetHeader:Qn,deflate:en,deflateEnd:An,deflateSetDictionary:lp,deflateInfo:op},np=(M,w)=>{return Object.prototype.hasOwnProperty.call(M,w)},pp=function(M){const w=Array.prototype.slice.call(arguments,1);while(w.length){const _=w.shift();if(!_)continue;if(typeof _!=="object")throw new TypeError(_+"must be non-object");for(let R in _)if(np(_,R))M[R]=_[R]}return M},up=(M)=>{let w=0;for(let R=0,N=M.length;R<N;R++)w+=M[R].length;const _=new Uint8Array(w);for(let R=0,N=0,b=M.length;R<b;R++){let u=M[R];_.set(u,N),N+=u.length}return _},h0={assign:pp,flattenChunks:up},Q9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(M){Q9=!1}var v6=new Uint8Array(256);for(let M=0;M<256;M++)v6[M]=M>=252?6:M>=248?5:M>=240?4:M>=224?3:M>=192?2:1;v6[254]=v6[254]=1;var cp=(M)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(M);let w,_,R,N,b,u=M.length,h=0;for(N=0;N<u;N++){if(_=M.charCodeAt(N),(_&64512)===55296&&N+1<u){if(R=M.charCodeAt(N+1),(R&64512)===56320)_=65536+(_-55296<<10)+(R-56320),N++}h+=_<128?1:_<2048?2:_<65536?3:4}w=new Uint8Array(h);for(b=0,N=0;b<h;N++){if(_=M.charCodeAt(N),(_&64512)===55296&&N+1<u){if(R=M.charCodeAt(N+1),(R&64512)===56320)_=65536+(_-55296<<10)+(R-56320),N++}if(_<128)w[b++]=_;else if(_<2048)w[b++]=192|_>>>6,w[b++]=128|_&63;else if(_<65536)w[b++]=224|_>>>12,w[b++]=128|_>>>6&63,w[b++]=128|_&63;else w[b++]=240|_>>>18,w[b++]=128|_>>>12&63,w[b++]=128|_>>>6&63,w[b++]=128|_&63}return w},fp=(M,w)=>{if(w<65534){if(M.subarray&&Q9)return String.fromCharCode.apply(null,M.length===w?M:M.subarray(0,w))}let _="";for(let R=0;R<w;R++)_+=String.fromCharCode(M[R]);return _},dp=(M,w)=>{const _=w||M.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(M.subarray(0,w));let R,N;const b=new Array(_*2);for(N=0,R=0;R<_;){let u=M[R++];if(u<128){b[N++]=u;continue}let h=v6[u];if(h>4){b[N++]=65533,R+=h-1;continue}u&=h===2?31:h===3?15:7;while(h>1&&R<_)u=u<<6|M[R++]&63,h--;if(h>1){b[N++]=65533;continue}if(u<65536)b[N++]=u;else u-=65536,b[N++]=55296|u>>10&1023,b[N++]=56320|u&1023}return fp(b,N)},rp=(M,w)=>{if(w=w||M.length,w>M.length)w=M.length;let _=w-1;while(_>=0&&(M[_]&192)===128)_--;if(_<0)return w;if(_===0)return w;return _+v6[M[_]]>w?_:w},_6={string2buf:cp,buf2string:dp,utf8border:rp},e9=Uo,A9=Object.prototype.toString,{Z_NO_FLUSH:ap,Z_SYNC_FLUSH:hp,Z_FULL_FLUSH:bp,Z_FINISH:mp,Z_OK:c0,Z_STREAM_END:yp,Z_DEFAULT_COMPRESSION:vp,Z_DEFAULT_STRATEGY:_p,Z_DEFLATED:xp}=r0;x4.prototype.push=function(M,w){const _=this.strm,R=this.options.chunkSize;let N,b;if(this.ended)return!1;if(w===~~w)b=w;else b=w===!0?mp:ap;if(typeof M==="string")_.input=_6.string2buf(M);else if(A9.call(M)==="[object ArrayBuffer]")_.input=new Uint8Array(M);else _.input=M;_.next_in=0,_.avail_in=_.input.length;for(;;){if(_.avail_out===0)_.output=new Uint8Array(R),_.next_out=0,_.avail_out=R;if((b===hp||b===bp)&&_.avail_out<=6){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(N=c6.deflate(_,b),N===yp){if(_.next_out>0)this.onData(_.output.subarray(0,_.next_out));return N=c6.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===c0}if(_.avail_out===0){this.onData(_.output);continue}if(b>0&&_.next_out>0){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(_.avail_in===0)break}return!0};x4.prototype.onData=function(M){this.chunks.push(M)};x4.prototype.onEnd=function(M){if(M===c0)this.result=h0.flattenChunks(this.chunks);this.chunks=[],this.err=M,this.msg=this.strm.msg};var Q6=16209,Lp=16191,qp=function M(w,_){let R,N,b,u,h,V,a,L,v,S,x,d,z,T,$,Z,W,s,g,O,U,j,G,H;const D=w.state;R=w.next_in,G=w.input,N=R+(w.avail_in-5),b=w.next_out,H=w.output,u=b-(_-w.avail_out),h=b+(w.avail_out-257),V=D.dmax,a=D.wsize,L=D.whave,v=D.wnext,S=D.window,x=D.hold,d=D.bits,z=D.lencode,T=D.distcode,$=(1<<D.lenbits)-1,Z=(1<<D.distbits)-1;l:do{if(d<15)x+=G[R++]<<d,d+=8,x+=G[R++]<<d,d+=8;W=z[x&$];o:for(;;){if(s=W>>>24,x>>>=s,d-=s,s=W>>>16&255,s===0)H[b++]=W&65535;else if(s&16){if(g=W&65535,s&=15,s){if(d<s)x+=G[R++]<<d,d+=8;g+=x&(1<<s)-1,x>>>=s,d-=s}if(d<15)x+=G[R++]<<d,d+=8,x+=G[R++]<<d,d+=8;W=T[x&Z];n:for(;;){if(s=W>>>24,x>>>=s,d-=s,s=W>>>16&255,s&16){if(O=W&65535,s&=15,d<s){if(x+=G[R++]<<d,d+=8,d<s)x+=G[R++]<<d,d+=8}if(O+=x&(1<<s)-1,O>V){w.msg="invalid distance too far back",D.mode=Q6;break l}if(x>>>=s,d-=s,s=b-u,O>s){if(s=O-s,s>L){if(D.sane){w.msg="invalid distance too far back",D.mode=Q6;break l}}if(U=0,j=S,v===0){if(U+=a-s,s<g){g-=s;do H[b++]=S[U++];while(--s);U=b-O,j=H}}else if(v<s){if(U+=a+v-s,s-=v,s<g){g-=s;do H[b++]=S[U++];while(--s);if(U=0,v<g){s=v,g-=s;do H[b++]=S[U++];while(--s);U=b-O,j=H}}}else if(U+=v-s,s<g){g-=s;do H[b++]=S[U++];while(--s);U=b-O,j=H}while(g>2)H[b++]=j[U++],H[b++]=j[U++],H[b++]=j[U++],g-=3;if(g){if(H[b++]=j[U++],g>1)H[b++]=j[U++]}}else{U=b-O;do H[b++]=H[U++],H[b++]=H[U++],H[b++]=H[U++],g-=3;while(g>2);if(g){if(H[b++]=H[U++],g>1)H[b++]=H[U++]}}}else if((s&64)===0){W=T[(W&65535)+(x&(1<<s)-1)];continue n}else{w.msg="invalid distance code",D.mode=Q6;break l}break}}else if((s&64)===0){W=z[(W&65535)+(x&(1<<s)-1)];continue o}else if(s&32){D.mode=Lp;break l}else{w.msg="invalid literal/length code",D.mode=Q6;break l}break}}while(R<N&&b<h);g=d>>3,R-=g,d-=g<<3,x&=(1<<d)-1,w.next_in=R,w.next_out=b,w.avail_in=R<N?5+(N-R):5-(R-N),w.avail_out=b<h?257+(h-b):257-(b-h),D.hold=x,D.bits=d;return},$3=15,K7=852,i7=592,j7=0,D5=1,H7=2,Np=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Vp=(M,w,_,R,N,b,u,h)=>{const V=h.bits;let a=0,L=0,v=0,S=0,x=0,d=0,z=0,T=0,$=0,Z=0,W,s,g,O,U,j=null,G;const H=new Uint16Array($3+1),D=new Uint16Array($3+1);let l=null,p,f,n;for(a=0;a<=$3;a++)H[a]=0;for(L=0;L<R;L++)H[w[_+L]]++;x=V;for(S=$3;S>=1;S--)if(H[S]!==0)break;if(x>S)x=S;if(S===0)return N[b++]=20971520,N[b++]=20971520,h.bits=1,0;for(v=1;v<S;v++)if(H[v]!==0)break;if(x<v)x=v;T=1;for(a=1;a<=$3;a++)if(T<<=1,T-=H[a],T<0)return-1;if(T>0&&(M===j7||S!==1))return-1;D[1]=0;for(a=1;a<$3;a++)D[a+1]=D[a]+H[a];for(L=0;L<R;L++)if(w[_+L]!==0)u[D[w[_+L]]++]=L;if(M===j7)j=l=u,G=20;else if(M===D5)j=Np,l=Tp,G=257;else j=Mp,l=zp,G=0;if(Z=0,L=0,a=v,U=b,d=x,z=0,g=-1,$=1<<x,O=$-1,M===D5&&$>K7||M===H7&&$>i7)return 1;for(;;){if(p=a-z,u[L]+1<G)f=0,n=u[L];else if(u[L]>=G)f=l[u[L]-G],n=j[u[L]-G];else f=96,n=0;W=1<<a-z,s=1<<d,v=s;do s-=W,N[U+(Z>>z)+s]=p<<24|f<<16|n|0;while(s!==0);W=1<<a-1;while(Z&W)W>>=1;if(W!==0)Z&=W-1,Z+=W;else Z=0;if(L++,--H[a]===0){if(a===S)break;a=w[_+u[L]]}if(a>x&&(Z&O)!==g){if(z===0)z=x;U+=v,d=a-z,T=1<<d;while(d+z<S){if(T-=H[d+z],T<=0)break;d++,T<<=1}if($+=1<<d,M===D5&&$>K7||M===H7&&$>i7)return 1;g=Z&O,N[g]=x<<24|d<<16|U-b|0}}if(Z!==0)N[U+Z]=a-z<<24|4194304|0;return h.bits=x,0},f6=Vp,Sp=0,ll=1,ol=2,{Z_FINISH:G7,Z_BLOCK:$p,Z_TREES:e6,Z_OK:_3,Z_STREAM_END:Zp,Z_NEED_DICT:Wp,Z_STREAM_ERROR:R2,Z_DATA_ERROR:nl,Z_MEM_ERROR:pl,Z_BUF_ERROR:wp,Z_DEFLATED:J7}=r0,b0=16180,E7=16181,D7=16182,I7=16183,Y7=16184,t7=16185,C7=16186,B7=16187,Q7=16188,e7=16189,f0=16190,G2=16191,I5=16192,A7=16193,Y5=16194,l9=16195,o9=16196,n9=16197,p9=16198,A6=16199,l0=16200,u9=16201,c9=16202,f9=16203,d9=16204,r9=16205,t5=16206,a9=16207,h9=16208,a2=16209,ul=16210,cl=16211,Op=852,Rp=592,sp=15,gp=sp,b9=(M)=>{return(M>>>24&255)+(M>>>8&65280)+((M&65280)<<8)+((M&255)<<24)},x3=(M)=>{if(!M)return 1;const w=M.state;if(!w||w.strm!==M||w.mode<b0||w.mode>cl)return 1;return 0},fl=(M)=>{if(x3(M))return R2;const w=M.state;if(M.total_in=M.total_out=w.total=0,M.msg="",w.wrap)M.adler=w.wrap&1;return w.mode=b0,w.last=0,w.havedict=0,w.flags=-1,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new Int32Array(Op),w.distcode=w.distdyn=new Int32Array(Rp),w.sane=1,w.back=-1,_3},dl=(M)=>{if(x3(M))return R2;const w=M.state;return w.wsize=0,w.whave=0,w.wnext=0,fl(M)},rl=(M,w)=>{let _;if(x3(M))return R2;const R=M.state;if(w<0)_=0,w=-w;else if(_=(w>>4)+5,w<48)w&=15;if(w&&(w<8||w>15))return R2;if(R.window!==null&&R.wbits!==w)R.window=null;return R.wrap=_,R.wbits=w,dl(M)},al=(M,w)=>{if(!M)return R2;const _=new Ko;M.state=_,_.strm=M,_.window=null,_.mode=b0;const R=rl(M,w);if(R!==_3)M.state=null;return R},Xp=(M)=>{return al(M,gp)},m9=!0,C5,B5,Fp=(M)=>{if(m9){C5=new Int32Array(512),B5=new Int32Array(32);let w=0;while(w<144)M.lens[w++]=8;while(w<256)M.lens[w++]=9;while(w<280)M.lens[w++]=7;while(w<288)M.lens[w++]=8;f6(ll,M.lens,0,288,C5,0,M.work,{bits:9}),w=0;while(w<32)M.lens[w++]=5;f6(ol,M.lens,0,32,B5,0,M.work,{bits:5}),m9=!1}M.lencode=C5,M.lenbits=9,M.distcode=B5,M.distbits=5},hl=(M,w,_,R)=>{let N;const b=M.state;if(b.window===null)b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new Uint8Array(b.wsize);if(R>=b.wsize)b.window.set(w.subarray(_-b.wsize,_),0),b.wnext=0,b.whave=b.wsize;else{if(N=b.wsize-b.wnext,N>R)N=R;if(b.window.set(w.subarray(_-R,_-R+N),b.wnext),R-=N,R)b.window.set(w.subarray(_-R,_),0),b.wnext=R,b.whave=b.wsize;else{if(b.wnext+=N,b.wnext===b.wsize)b.wnext=0;if(b.whave<b.wsize)b.whave+=N}}return 0},kp=(M,w)=>{let _,R,N,b,u,h,V,a,L,v,S,x,d,z,T=0,$,Z,W,s,g,O,U,j;const G=new Uint8Array(4);let H,D;const l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(x3(M)||!M.output||!M.input&&M.avail_in!==0)return R2;if(_=M.state,_.mode===G2)_.mode=I5;u=M.next_out,N=M.output,V=M.avail_out,b=M.next_in,R=M.input,h=M.avail_in,a=_.hold,L=_.bits,v=h,S=V,j=_3;l:for(;;)switch(_.mode){case b0:if(_.wrap===0){_.mode=I5;break}while(L<16){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.wrap&2&&a===35615){if(_.wbits===0)_.wbits=15;_.check=0,G[0]=a&255,G[1]=a>>>8&255,_.check=q2(_.check,G,2,0),a=0,L=0,_.mode=E7;break}if(_.head)_.head.done=!1;if(!(_.wrap&1)||(((a&255)<<8)+(a>>8))%31){M.msg="incorrect header check",_.mode=a2;break}if((a&15)!==J7){M.msg="unknown compression method",_.mode=a2;break}if(a>>>=4,L-=4,U=(a&15)+8,_.wbits===0)_.wbits=U;if(U>15||U>_.wbits){M.msg="invalid window size",_.mode=a2;break}_.dmax=1<<_.wbits,_.flags=0,M.adler=_.check=1,_.mode=a&512?e7:G2,a=0,L=0;break;case E7:while(L<16){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.flags=a,(_.flags&255)!==J7){M.msg="unknown compression method",_.mode=a2;break}if(_.flags&57344){M.msg="unknown header flags set",_.mode=a2;break}if(_.head)_.head.text=a>>8&1;if(_.flags&512&&_.wrap&4)G[0]=a&255,G[1]=a>>>8&255,_.check=q2(_.check,G,2,0);a=0,L=0,_.mode=D7;case D7:while(L<32){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.head)_.head.time=a;if(_.flags&512&&_.wrap&4)G[0]=a&255,G[1]=a>>>8&255,G[2]=a>>>16&255,G[3]=a>>>24&255,_.check=q2(_.check,G,4,0);a=0,L=0,_.mode=I7;case I7:while(L<16){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.head)_.head.xflags=a&255,_.head.os=a>>8;if(_.flags&512&&_.wrap&4)G[0]=a&255,G[1]=a>>>8&255,_.check=q2(_.check,G,2,0);a=0,L=0,_.mode=Y7;case Y7:if(_.flags&1024){while(L<16){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.length=a,_.head)_.head.extra_len=a;if(_.flags&512&&_.wrap&4)G[0]=a&255,G[1]=a>>>8&255,_.check=q2(_.check,G,2,0);a=0,L=0}else if(_.head)_.head.extra=null;_.mode=t7;case t7:if(_.flags&1024){if(x=_.length,x>h)x=h;if(x){if(_.head){if(U=_.head.extra_len-_.length,!_.head.extra)_.head.extra=new Uint8Array(_.head.extra_len);_.head.extra.set(R.subarray(b,b+x),U)}if(_.flags&512&&_.wrap&4)_.check=q2(_.check,R,x,b);h-=x,b+=x,_.length-=x}if(_.length)break l}_.length=0,_.mode=C7;case C7:if(_.flags&2048){if(h===0)break l;x=0;do if(U=R[b+x++],_.head&&U&&_.length<65536)_.head.name+=String.fromCharCode(U);while(U&&x<h);if(_.flags&512&&_.wrap&4)_.check=q2(_.check,R,x,b);if(h-=x,b+=x,U)break l}else if(_.head)_.head.name=null;_.length=0,_.mode=B7;case B7:if(_.flags&4096){if(h===0)break l;x=0;do if(U=R[b+x++],_.head&&U&&_.length<65536)_.head.comment+=String.fromCharCode(U);while(U&&x<h);if(_.flags&512&&_.wrap&4)_.check=q2(_.check,R,x,b);if(h-=x,b+=x,U)break l}else if(_.head)_.head.comment=null;_.mode=Q7;case Q7:if(_.flags&512){while(L<16){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.wrap&4&&a!==(_.check&65535)){M.msg="header crc mismatch",_.mode=a2;break}a=0,L=0}if(_.head)_.head.hcrc=_.flags>>9&1,_.head.done=!0;M.adler=_.check=0,_.mode=G2;break;case e7:while(L<32){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}M.adler=_.check=b9(a),a=0,L=0,_.mode=f0;case f0:if(_.havedict===0)return M.next_out=u,M.avail_out=V,M.next_in=b,M.avail_in=h,_.hold=a,_.bits=L,Wp;M.adler=_.check=1,_.mode=G2;case G2:if(w===$p||w===e6)break l;case I5:if(_.last){a>>>=L&7,L-=L&7,_.mode=t5;break}while(L<3){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}switch(_.last=a&1,a>>>=1,L-=1,a&3){case 0:_.mode=A7;break;case 1:if(Fp(_),_.mode=A6,w===e6){a>>>=2,L-=2;break l}break;case 2:_.mode=o9;break;case 3:M.msg="invalid block type",_.mode=a2}a>>>=2,L-=2;break;case A7:a>>>=L&7,L-=L&7;while(L<32){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if((a&65535)!==(a>>>16^65535)){M.msg="invalid stored block lengths",_.mode=a2;break}if(_.length=a&65535,a=0,L=0,_.mode=Y5,w===e6)break l;case Y5:_.mode=l9;case l9:if(x=_.length,x){if(x>h)x=h;if(x>V)x=V;if(x===0)break l;N.set(R.subarray(b,b+x),u),h-=x,b+=x,V-=x,u+=x,_.length-=x;break}_.mode=G2;break;case o9:while(L<14){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.nlen=(a&31)+257,a>>>=5,L-=5,_.ndist=(a&31)+1,a>>>=5,L-=5,_.ncode=(a&15)+4,a>>>=4,L-=4,_.nlen>286||_.ndist>30){M.msg="too many length or distance symbols",_.mode=a2;break}_.have=0,_.mode=n9;case n9:while(_.have<_.ncode){while(L<3){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}_.lens[l[_.have++]]=a&7,a>>>=3,L-=3}while(_.have<19)_.lens[l[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,H={bits:_.lenbits},j=f6(Sp,_.lens,0,19,_.lencode,0,_.work,H),_.lenbits=H.bits,j){M.msg="invalid code lengths set",_.mode=a2;break}_.have=0,_.mode=p9;case p9:while(_.have<_.nlen+_.ndist){for(;;){if(T=_.lencode[a&(1<<_.lenbits)-1],$=T>>>24,Z=T>>>16&255,W=T&65535,$<=L)break;if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(W<16)a>>>=$,L-=$,_.lens[_.have++]=W;else{if(W===16){D=$+2;while(L<D){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(a>>>=$,L-=$,_.have===0){M.msg="invalid bit length repeat",_.mode=a2;break}U=_.lens[_.have-1],x=3+(a&3),a>>>=2,L-=2}else if(W===17){D=$+3;while(L<D){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}a>>>=$,L-=$,U=0,x=3+(a&7),a>>>=3,L-=3}else{D=$+7;while(L<D){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}a>>>=$,L-=$,U=0,x=11+(a&127),a>>>=7,L-=7}if(_.have+x>_.nlen+_.ndist){M.msg="invalid bit length repeat",_.mode=a2;break}while(x--)_.lens[_.have++]=U}}if(_.mode===a2)break;if(_.lens[256]===0){M.msg="invalid code -- missing end-of-block",_.mode=a2;break}if(_.lenbits=9,H={bits:_.lenbits},j=f6(ll,_.lens,0,_.nlen,_.lencode,0,_.work,H),_.lenbits=H.bits,j){M.msg="invalid literal/lengths set",_.mode=a2;break}if(_.distbits=6,_.distcode=_.distdyn,H={bits:_.distbits},j=f6(ol,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,H),_.distbits=H.bits,j){M.msg="invalid distances set",_.mode=a2;break}if(_.mode=A6,w===e6)break l;case A6:_.mode=l0;case l0:if(h>=6&&V>=258){if(M.next_out=u,M.avail_out=V,M.next_in=b,M.avail_in=h,_.hold=a,_.bits=L,qp(M,S),u=M.next_out,N=M.output,V=M.avail_out,b=M.next_in,R=M.input,h=M.avail_in,a=_.hold,L=_.bits,_.mode===G2)_.back=-1;break}_.back=0;for(;;){if(T=_.lencode[a&(1<<_.lenbits)-1],$=T>>>24,Z=T>>>16&255,W=T&65535,$<=L)break;if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(Z&&(Z&240)===0){s=$,g=Z,O=W;for(;;){if(T=_.lencode[O+((a&(1<<s+g)-1)>>s)],$=T>>>24,Z=T>>>16&255,W=T&65535,s+$<=L)break;if(h===0)break l;h--,a+=R[b++]<<L,L+=8}a>>>=s,L-=s,_.back+=s}if(a>>>=$,L-=$,_.back+=$,_.length=W,Z===0){_.mode=r9;break}if(Z&32){_.back=-1,_.mode=G2;break}if(Z&64){M.msg="invalid literal/length code",_.mode=a2;break}_.extra=Z&15,_.mode=u9;case u9:if(_.extra){D=_.extra;while(L<D){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}_.length+=a&(1<<_.extra)-1,a>>>=_.extra,L-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=c9;case c9:for(;;){if(T=_.distcode[a&(1<<_.distbits)-1],$=T>>>24,Z=T>>>16&255,W=T&65535,$<=L)break;if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if((Z&240)===0){s=$,g=Z,O=W;for(;;){if(T=_.distcode[O+((a&(1<<s+g)-1)>>s)],$=T>>>24,Z=T>>>16&255,W=T&65535,s+$<=L)break;if(h===0)break l;h--,a+=R[b++]<<L,L+=8}a>>>=s,L-=s,_.back+=s}if(a>>>=$,L-=$,_.back+=$,Z&64){M.msg="invalid distance code",_.mode=a2;break}_.offset=W,_.extra=Z&15,_.mode=f9;case f9:if(_.extra){D=_.extra;while(L<D){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}_.offset+=a&(1<<_.extra)-1,a>>>=_.extra,L-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){M.msg="invalid distance too far back",_.mode=a2;break}_.mode=d9;case d9:if(V===0)break l;if(x=S-V,_.offset>x){if(x=_.offset-x,x>_.whave){if(_.sane){M.msg="invalid distance too far back",_.mode=a2;break}}if(x>_.wnext)x-=_.wnext,d=_.wsize-x;else d=_.wnext-x;if(x>_.length)x=_.length;z=_.window}else z=N,d=u-_.offset,x=_.length;if(x>V)x=V;V-=x,_.length-=x;do N[u++]=z[d++];while(--x);if(_.length===0)_.mode=l0;break;case r9:if(V===0)break l;N[u++]=_.length,V--,_.mode=l0;break;case t5:if(_.wrap){while(L<32){if(h===0)break l;h--,a|=R[b++]<<L,L+=8}if(S-=V,M.total_out+=S,_.total+=S,_.wrap&4&&S)M.adler=_.check=_.flags?q2(_.check,N,S,u-S):m6(_.check,N,S,u-S);if(S=V,_.wrap&4&&(_.flags?a:b9(a))!==_.check){M.msg="incorrect data check",_.mode=a2;break}a=0,L=0}_.mode=a9;case a9:if(_.wrap&&_.flags){while(L<32){if(h===0)break l;h--,a+=R[b++]<<L,L+=8}if(_.wrap&4&&a!==(_.total&4294967295)){M.msg="incorrect length check",_.mode=a2;break}a=0,L=0}_.mode=h9;case h9:j=Zp;break l;case a2:j=nl;break l;case ul:return pl;case cl:default:return R2}if(M.next_out=u,M.avail_out=V,M.next_in=b,M.avail_in=h,_.hold=a,_.bits=L,_.wsize||S!==M.avail_out&&_.mode<a2&&(_.mode<t5||w!==G7)){if(hl(M,M.output,M.next_out,S-M.avail_out));}if(v-=M.avail_in,S-=M.avail_out,M.total_in+=v,M.total_out+=S,_.total+=S,_.wrap&4&&S)M.adler=_.check=_.flags?q2(_.check,N,S,M.next_out-S):m6(_.check,N,S,M.next_out-S);if(M.data_type=_.bits+(_.last?64:0)+(_.mode===G2?128:0)+(_.mode===A6||_.mode===Y5?256:0),(v===0&&S===0||w===G7)&&j===_3)j=wp;return j},Pp=(M)=>{if(x3(M))return R2;let w=M.state;if(w.window)w.window=null;return M.state=null,_3},Up=(M,w)=>{if(x3(M))return R2;const _=M.state;if((_.wrap&2)===0)return R2;return _.head=w,w.done=!1,_3},Kp=(M,w)=>{const _=w.length;let R,N,b;if(x3(M))return R2;if(R=M.state,R.wrap!==0&&R.mode!==f0)return R2;if(R.mode===f0){if(N=1,N=m6(N,w,_,0),N!==R.check)return nl}if(b=hl(M,w,_,_),b)return R.mode=ul,pl;return R.havedict=1,_3},ip=dl,jp=rl,Hp=fl,Gp=Xp,Jp=al,Ep=kp,Dp=Pp,Ip=Up,Yp=Kp,tp="pako inflate (from Nodeca project)",E2={inflateReset:ip,inflateReset2:jp,inflateResetKeep:Hp,inflateInit:Gp,inflateInit2:Jp,inflate:Ep,inflateEnd:Dp,inflateGetHeader:Ip,inflateSetDictionary:Yp,inflateInfo:tp},Cp=io,bl=Object.prototype.toString,{Z_NO_FLUSH:Bp,Z_FINISH:Qp,Z_OK:x6,Z_STREAM_END:Q5,Z_NEED_DICT:e5,Z_STREAM_ERROR:ep,Z_DATA_ERROR:y9,Z_MEM_ERROR:Ap}=r0;L4.prototype.push=function(M,w){const _=this.strm,R=this.options.chunkSize,N=this.options.dictionary;let b,u,h;if(this.ended)return!1;if(w===~~w)u=w;else u=w===!0?Qp:Bp;if(bl.call(M)==="[object ArrayBuffer]")_.input=new Uint8Array(M);else _.input=M;_.next_in=0,_.avail_in=_.input.length;for(;;){if(_.avail_out===0)_.output=new Uint8Array(R),_.next_out=0,_.avail_out=R;if(b=E2.inflate(_,u),b===e5&&N){if(b=E2.inflateSetDictionary(_,N),b===x6)b=E2.inflate(_,u);else if(b===y9)b=e5}while(_.avail_in>0&&b===Q5&&_.state.wrap>0&&M[_.next_in]!==0)E2.inflateReset(_),b=E2.inflate(_,u);switch(b){case ep:case y9:case e5:case Ap:return this.onEnd(b),this.ended=!0,!1}if(h=_.avail_out,_.next_out){if(_.avail_out===0||b===Q5)if(this.options.to==="string"){let V=_6.utf8border(_.output,_.next_out),a=_.next_out-V,L=_6.buf2string(_.output,V);if(_.next_out=a,_.avail_out=R-a,a)_.output.set(_.output.subarray(V,V+a),0);this.onData(L)}else this.onData(_.output.length===_.next_out?_.output:_.output.subarray(0,_.next_out))}if(b===x6&&h===0)continue;if(b===Q5)return b=E2.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,!0;if(_.avail_in===0)break}return!0};L4.prototype.onData=function(M){this.chunks.push(M)};L4.prototype.onEnd=function(M){if(M===x6)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=h0.flattenChunks(this.chunks);this.chunks=[],this.err=M,this.msg=this.strm.msg};var Cf=m4(mo(),1);var ml=[{usbVendorId:12346},{usbVendorId:11914}];h2(".bbJK1q_status-icon{cursor:pointer;height:1.25rem}.bbJK1q_status-text{flex:1}");var yl={statusIcon:"bbJK1q_status-icon",statusText:"bbJK1q_status-text"};var vl="./assets/status-not-ready-3vyqeqxf.svg";var _l="./assets/status-ready-r8e65h73.svg";import{jsx as uu}from"preact/jsx-runtime";function V4(){const{getText:M}=nu(),{device:w,setDevice:_}=pu(),R=w?M("micropython.deviceManager.ready","Ready"):M("micropython.deviceManager.notReady","Not Ready"),N=async()=>{if(w){try{await w.disconnect()}catch(b){console.error(b)}_(null)}else{const b=new _4;try{await b.requestPort(ml),await b.connect(),await b.stop(),_(b)}catch(h){console.error(h)}const u=()=>setTimeout(async()=>{if(b.connected)u();else _(null)},1000);u()}};return uu("img",{className:yl.statusIcon,src:w?_l:vl,title:R,onClick:N})}h2(".e8OLkq_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}.e8OLkq_run-code,.e8OLkq_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}.e8OLkq_run-code img,.e8OLkq_stop-all img{width:100%;height:100%}.e8OLkq_run-code:hover,.e8OLkq_stop-all:hover{background:var(--motion-light-transparent)}.e8OLkq_run-code.e8OLkq_actived{background:var(--motion-transparent)}.e8OLkq_stop-all{opacity:.5}.e8OLkq_stop-all.e8OLkq_actived{opacity:1}.e8OLkq_run-code.e8OLkq_disabled,.e8OLkq_stop-all.e8OLkq_disabled{cursor:default;opacity:.5}.e8OLkq_run-code.e8OLkq_disabled:hover,.e8OLkq_stop-all.e8OLkq_disabled:hover{background:0 0}.e8OLkq_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.e8OLkq_button-icon{vertical-align:middle;width:100%;height:100%}.e8OLkq_space{margin-left:.2rem}.e8OLkq_toolbar-button-group{display:flex}.e8OLkq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.e8OLkq_group-button{border-left:none;border-radius:0}.e8OLkq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.e8OLkq_group-button-toggled-off{filter:saturate(0)}");var n3={toolbarButton:"e8OLkq_toolbar-button",groupButton:"e8OLkq_group-button",space:"e8OLkq_space",stopAll:"e8OLkq_stop-all",disabled:"e8OLkq_disabled",toolbarWrapper:"e8OLkq_toolbar-wrapper",actived:"e8OLkq_actived",toolbarButtonGroup:"e8OLkq_toolbar-button-group",groupButtonToggledOff:"e8OLkq_group-button-toggled-off",runCode:"e8OLkq_run-code",groupButtonLast:"e8OLkq_group-button-last",buttonIcon:"e8OLkq_button-icon",groupButtonFirst:"e8OLkq_group-button-first"};var xl="./assets/icon-run-code-4hvgk72w.svg";var Ll="./assets/icon-stop-all-ctzgb1bx.svg";import{jsx as m0,jsxs as Nl}from"preact/jsx-runtime";function S4(){const{getText:M}=du(),{device:w}=ru(),_=!w;return Nl("div",{className:n3.toolbarWrapper,children:[Nl("div",{className:n3.toolbarButtonGroup,children:[m0("img",{className:ql(n3.runCode,{[n3.disabled]:_}),src:xl,title:M("micropython.runCode","Run")}),m0("img",{className:ql(n3.stopAll,{[n3.disabled]:_}),src:Ll,title:M("micropython.stopAll","Stop")})]}),m0("div",{className:n3.toolbarButtonGroup,children:m0(V4,{})})]})}import{useEditor as Wu,useLocale as wu,exportFile as Ou}from"@blockcode/core";import{IconSelector as Ru,ActionButton as su}from"@blockcode/ui";import{useLocale as au,useEditor as hu}from"@blockcode/core";import{classNames as bu,Label as $4,BufferedInput as Tl,Input as mu}from"@blockcode/ui";h2(".RuiFna_file-info-wrapper{background:var(--ui-white);color:var(--text-primary);border-top-left-radius:var(--space);border-top-right-radius:var(--space);border-bottom:1px solid var(--ui-black-transparent);padding:.75rem}.RuiFna_row{justify-content:space-between;display:flex}.RuiFna_row-primary{margin-bottom:.5rem}.RuiFna_group{flex-direction:row;align-items:center;display:inline-flex}.RuiFna_filename-input{flex:1}.RuiFna_filesize-input{width:4rem}");var L3={fileInfoWrapper:"RuiFna_file-info-wrapper",filesizeInput:"RuiFna_filesize-input",row:"RuiFna_row",filenameInput:"RuiFna_filename-input",group:"RuiFna_group",rowPrimary:"RuiFna_row-primary"};import{jsx as J3,jsxs as Z4}from"preact/jsx-runtime";var yu=(M)=>{if(M>1048576)return`${(M/1024/1024).toFixed(2)}MB`;if(M>1024)return`${(M/1024).toFixed(2)}KB`;return`${M}B`};function W4(){const{getText:M}=au(),{fileList:w,selectedFileId:_,renameFile:R}=hu(),N=_===null,b=w.find((a)=>a.id===_),u=(a)=>R(a),h=b?b.name.slice(0,b.name.lastIndexOf(".")):"",V=b?b.name.slice(b.name.lastIndexOf(".")+1):"";return Z4("div",{className:L3.fileInfoWrapper,children:[Z4("div",{className:bu(L3.row,L3.rowPrimary),children:[J3($4,{text:M("micropython.fileInfo.name","File")}),J3(Tl,{className:L3.filenameInput,disabled:N,onSubmit:(a)=>u(`${a}.${V}`),value:h})]}),Z4("div",{className:L3.row,children:[J3($4,{secondary:!0,text:M("micropython.fileInfo.type","Type"),children:J3(Tl,{small:!0,disabled:N||b.readOnly,onSubmit:(a)=>u(`${h}.${a}`),value:V})}),J3($4,{secondary:!0,text:M("micropython.fileInfo.size","Size"),children:J3(mu,{small:!0,disabled:!0,className:L3.filesizeInput,value:b?yu(b.buffer?b.buffer.byteLength:b.content.length):""})})]})]})}h2(".vtc49a_file-selector-wrapper{background-color:var(--ui-secondary);border-top-right-radius:var(--space);border-top-left-radius:var(--space);border:1px solid var(--ui-black-transparent);border-bottom:0;flex:1;position:relative}.vtc49a_delete-menu-item:hover{background:var(--error-primary)}.vtc49a_add-button{position:absolute;bottom:.75rem;right:1rem}");var y0={deleteMenuItem:"vtc49a_delete-menu-item",addButton:"vtc49a_add-button",fileSelectorWrapper:"vtc49a_file-selector-wrapper"};var Ml="./assets/icon-new-0c488na1.svg";var zl="./assets/icon-file-upload-277yt7z2.svg";var Vl="./assets/icon-new-code-5sg35y7s.svg";var Sl="./assets/icon-new-json-dncn3mrv.svg";var $l="./assets/icon-binary-0y6eykzx.svg";var Zl="./assets/icon-csv-f87gtqc1.svg";var Wl="./assets/icon-ini-g5awdq1g.svg";var wl="./assets/icon-json-j4r5jfrj.svg";var Ol="./assets/icon-markdown-wp2rmp87.svg";var Rl="./assets/icon-micropython-1k63var0.svg";var sl="./assets/icon-text-qkvyztw3.svg";var gl="./assets/icon-image-6rhwn9se.svg";var Xl="./assets/icon-svg-jvkexp9k.svg";import{jsx as w4,jsxs as Fu}from"preact/jsx-runtime";var gu=(M)=>{if(M>1048576)return`${(M/1024/1024).toFixed(2)}MB`;if(M>1024)return`${(M/1024).toFixed(2)}KB`;return`${M}B`},Xu=(M)=>{if(M.endsWith(".csv"))return Zl;if(M.endsWith(".ini"))return Wl;if(M.endsWith(".json"))return wl;if(M.endsWith(".md"))return Ol;if(M.endsWith(".py"))return Rl;if(M.endsWith(".txt"))return sl;if(M.endsWith(".svg"))return Xl;if(/$.*\.(png|jpg|jpeg|gif|bmp)$/.test(M))return gl;return $l};function O4(){const{getText:M}=wu(),{fileList:w,selectedFileId:_,addFile:R,openFile:N,deleteFile:b}=Wu(),u=async({target:h})=>{for(let V of h.files)R({name:V.name,.../^(text|image\/svg).*$/i.test(V.type)?{content:await V.text()}:{content:`------------------------------
${M("micropython.fileInfo.title","File Info")}
------------------------------
${M("micropython.fileInfo.name","File")}: ${V.name}
${M("micropython.fileInfo.type","Type")}: ${V.type}
${M("micropython.fileInfo.size","Size")}: ${gu(V.size)}
${M("micropython.fileInfo.modified","Modified")}: ${new Date(V.lastModified).toLocaleString()}`,buffer:await V.arrayBuffer(),readOnly:!0}})};return Fu("div",{className:y0.fileSelectorWrapper,children:[w4(W4,{}),w4(Ru,{items:w.map((h,V)=>({...h,icon:Xu(h.name),order:h.order||V,contextMenu:[[{label:M("micropython.contextMenu.duplicate","duplicate"),onClick:()=>R({...h,name:`${h.name.split(".")[0]}-${w.length+1}.py`})},{label:M("micropython.contextMenu.export","export"),onClick:()=>Ou(h.content,h.name)}],[{label:M("micropython.contextMenu.delete","delete"),className:y0.deleteMenuItem,onClick:()=>b(h.id)}]]})),selectedIndex:w.findIndex((h)=>h.id===_),onSelect:(h)=>N(w[h].id),onDelete:(h)=>b(w[h].id)}),w4(su,{className:y0.addButton,icon:Ml,tooltip:M("micropython.actionButton.newCode","Create new Code"),onClick:()=>R({name:`code-${w.length+1}.py`,content:""}),moreButtons:[{icon:zl,tooltip:M("micropython.actionButton.upload","Upload File"),fileAccept:"image/*,audio/*,video/*,text/*",fileMultiple:!0,onFileChange:u},{icon:Sl,tooltip:M("micropython.actionButton.newJSON","Create new JSON"),onClick:()=>R({name:`text-${w.length+1}.json`,content:"{\n    \n}"})},{icon:Vl,tooltip:M("micropython.actionButton.newCode","Create new Code"),onClick:()=>R({name:`code-${w.length+1}.py`,content:""})}]})]})}h2(".pl4-KG_sidebar-wrapper{flex-direction:column;width:20rem;height:100%;display:flex}.pl4-KG_list-wrapper{flex-direction:row;height:100%;display:flex}");var R4={listWrapper:"pl4-KG_list-wrapper",sidebarWrapper:"pl4-KG_sidebar-wrapper"};import{jsx as s4,jsxs as ku}from"preact/jsx-runtime";function g4(){return ku("div",{className:R4.sidebarWrapper,children:[s4(S4,{}),s4("div",{className:R4.listWrapper,children:s4(O4,{})})]})}h2("._9Qonrq_pane{height:8rem}");var Fl={pane:"_9Qonrq_pane"};import{jsx as Pu}from"preact/jsx-runtime";function X4(){return Pu("div",{className:Fl.pane})}var kl={fileList:[{id:"main",name:"main.py",type:"text/x-python",content:`# hello world!
import machine

print("hello world!")
`},{id:"test",name:"test.py",type:"text/x-python",content:'print("test")'}]};var Pl="./assets/icon-code-878xp7s8.svg";var Ul="./assets/icon-repl-r7m1q667.svg";var Kl={"micropython.menu.file":"File","micropython.menu.newProject":"New","micropython.menu.openProject":"Open","micropython.menu.saveProject":"Save","micropython.menu.uploadProject":"Load from your computer","micropython.menu.downloadProject":"Save to your computer","micropython.menu.edit":"Edit","micropython.menu.undo":"Undo","micropython.menu.redo":"Redo","micropython.runCode":"Run","micropython.stopAll":"Stop","micropython.syncDevice":"Sync","micropython.codeTab":"Code","micropython.replTab":"REPL","micropython.deviceManager.connect":"Connect Hardware...","micropython.deviceManager.notReady":"Not ready","micropython.deviceManager.ready":"Ready","micropython.packageList.title":"Modules","micropython.packageList.addPackage":"Add Package","micropython.fileInfo.title":"File Info","micropython.fileInfo.name":"File","micropython.fileInfo.type":"Type","micropython.fileInfo.size":"Size","micropython.fileInfo.modified":"Modified","micropython.actionButton.newCode":"Create new Code","micropython.actionButton.newJSON":"Create new JSON","micropython.actionButton.upload":"Upload File","micropython.contextMenu.duplicate":"duplicate","micropython.contextMenu.export":"export","micropython.contextMenu.delete":"delete","micropython.recordPane.title":"Record"};var il={"micropython.menu.file":"\u6587\u4EF6","micropython.menu.newProject":"\u65B0\u4F5C\u54C1","micropython.menu.openProject":"\u6253\u5F00","micropython.menu.saveProject":"\u4FDD\u5B58","micropython.menu.uploadProject":"\u4ECE\u7535\u8111\u4E2D\u6253\u5F00","micropython.menu.downloadProject":"\u4FDD\u5B58\u5230\u7535\u8111","micropython.menu.edit":"\u7F16\u8F91","micropython.menu.undo":"\u64A4\u9500","micropython.menu.redo":"\u6062\u590D","micropython.runCode":"\u8FD0\u884C","micropython.stopAll":"\u505C\u6B62","micropython.syncDevice":"\u540C\u6B65","micropython.codeTab":"\u4EE3\u7801","micropython.replTab":"\u4EA4\u4E92\u6267\u884C","micropython.deviceManager.connect":"\u8FDE\u63A5\u786C\u4EF6...","micropython.deviceManager.notReady":"\u672A\u8FDE\u63A5","micropython.deviceManager.ready":"\u5DF2\u8FDE\u63A5","micropython.packageList.title":"\u6269\u5C55\u5305","micropython.packageList.addPackage":"\u6DFB\u52A0\u6269\u5C55\u5305","micropython.fileInfo.title":"\u6587\u4EF6\u4FE1\u606F","micropython.fileInfo.name":"\u6587\u4EF6","micropython.fileInfo.type":"\u7C7B\u578B","micropython.fileInfo.size":"\u5927\u5C0F","micropython.fileInfo.modified":"\u4FEE\u6539\u65E5\u671F","micropython.actionButton.newCode":"\u521B\u5EFA\u65B0\u4EE3\u7801","micropython.actionButton.newJSON":"\u521B\u5EFA\u65B0 JSON","micropython.actionButton.upload":"\u4E0A\u4F20\u6587\u4EF6","micropython.contextMenu.duplicate":"\u590D\u5236","micropython.contextMenu.export":"\u5BFC\u51FA","micropython.contextMenu.delete":"\u5220\u9664","micropython.recordPane.title":"\u8BB0\u5F55"};import{jsx as k4}from"preact/jsx-runtime";function iu({addLocaleData:M,createLayout:w,openProject:_,project:R}){M({en:Kl,"zh-Hans":il}),((b)=>{b=b??kl,_(Object.assign({selectedFileId:b.fileList(0).id},b))})(R),w({tabs:[{icon:Pl,label:k4(F4,{id:"micropython.codeTab",defaultMessage:"Code"}),Content:M0},{icon:Ul,label:k4(F4,{id:"micropython.replTab",defaultMessage:"REPL"}),Content:W0}],sidebars:[{expand:"left",Content:g4}],pane:{label:k4(F4,{id:"micropython.recordPane.title",defaultMessage:"Record"}),Content:X4},tutorials:!0,canEditProjectName:!0})}export{iu as default};
