var Yl=Object.create;var{getPrototypeOf:El,defineProperty:H4,getOwnPropertyNames:Dl}=Object;var tl=Object.prototype.hasOwnProperty;var O0=(V,k,_)=>{_=V!=null?Yl(El(V)):{};let X=k||!V||!V.__esModule?H4(_,"default",{value:V,enumerable:!0}):_;for(let T of Dl(V))if(!tl.call(X,T))H4(X,T,{get:()=>V[T],enumerable:!0});return X};var V0=(V,k)=>()=>(k||V((k={exports:{}}).exports,k),k.exports);var J4=V0((N6,Z0)=>{(function(V,k){if(typeof N6=="object"&&typeof Z0=="object")Z0.exports=k();else if(typeof define=="function"&&define.amd)define([],k);else{var _=k();for(var X in _)(typeof N6=="object"?N6:V)[X]=_[X]}})(self,()=>(()=>{var V={4567:function(T,b,u){var h=this&&this.__decorate||function(Z,$,U,s){var W,g=arguments.length,K=g<3?$:s===null?s=Object.getOwnPropertyDescriptor($,U):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(Z,$,U,s);else for(var i=Z.length-1;i>=0;i--)(W=Z[i])&&(K=(g<3?W(K):g>3?W($,U,K):W($,U))||K);return g>3&&K&&Object.defineProperty($,U,K),K},M=this&&this.__param||function(Z,$){return function(U,s){$(U,s,Z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.AccessibilityManager=void 0;let r=u(9042),L=u(6114),v=u(9924),S=u(844),x=u(5596),d=u(4725),N=u(3656),O=b.AccessibilityManager=class extends S.Disposable{constructor(Z,$){super(),this._terminal=Z,this._renderService=$,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let U=0;U<this._terminal.rows;U++)this._rowElements[U]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[U]);if(this._topBoundaryFocusListener=(U)=>this._handleBoundaryFocus(U,0),this._bottomBoundaryFocusListener=(U)=>this._handleBoundaryFocus(U,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new v.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((U)=>this._handleResize(U.rows))),this.register(this._terminal.onRender((U)=>this._refreshRows(U.start,U.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar((U)=>this._handleChar(U))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab((U)=>this._handleTab(U))),this.register(this._terminal.onKey((U)=>this._handleKey(U.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register(N.addDisposableDomListener(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register(S.toDisposable(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(Z){for(let $=0;$<Z;$++)this._handleChar(" ")}_handleChar(Z){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==Z&&(this._charsToAnnounce+=Z):this._charsToAnnounce+=Z,Z===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=r.tooMuchOutput)),L.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,L.isMac&&this._liveRegion.remove()}_handleKey(Z){this._clearLiveRegion(),/\p{Control}/u.test(Z)||this._charsToConsume.push(Z)}_refreshRows(Z,$){this._liveRegionDebouncer.refresh(Z,$,this._terminal.rows)}_renderRows(Z,$){let U=this._terminal.buffer,s=U.lines.length.toString();for(let W=Z;W<=$;W++){let g=U.translateBufferLineToString(U.ydisp+W,!0),K=(U.ydisp+W+1).toString(),i=this._rowElements[W];i&&(g.length===0?i.innerText="Â ":i.textContent=g,i.setAttribute("aria-posinset",K),i.setAttribute("aria-setsize",s))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(Z,$){let U=Z.target,s=this._rowElements[$===0?1:this._rowElements.length-2];if(U.getAttribute("aria-posinset")===($===0?"1":`${this._terminal.buffer.lines.length}`))return;if(Z.relatedTarget!==s)return;let W,g;if($===0?(W=U,g=this._rowElements.pop(),this._rowContainer.removeChild(g)):(W=this._rowElements.shift(),g=U,this._rowContainer.removeChild(W)),W.removeEventListener("focus",this._topBoundaryFocusListener),g.removeEventListener("focus",this._bottomBoundaryFocusListener),$===0){let K=this._createAccessibilityTreeNode();this._rowElements.unshift(K),this._rowContainer.insertAdjacentElement("afterbegin",K)}else{let K=this._createAccessibilityTreeNode();this._rowElements.push(K),this._rowContainer.appendChild(K)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines($===0?-1:1),this._rowElements[$===0?1:this._rowElements.length-2].focus(),Z.preventDefault(),Z.stopImmediatePropagation()}_handleResize(Z){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let $=this._rowContainer.children.length;$<this._terminal.rows;$++)this._rowElements[$]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[$]);for(;this._rowElements.length>Z;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let Z=document.createElement("div");return Z.setAttribute("role","listitem"),Z.tabIndex=-1,this._refreshRowDimensions(Z),Z}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let Z=0;Z<this._terminal.rows;Z++)this._refreshRowDimensions(this._rowElements[Z])}}_refreshRowDimensions(Z){Z.style.height=`${this._renderService.dimensions.css.cell.height}px`}};b.AccessibilityManager=O=h([M(1,d.IRenderService)],O)},3614:(T,b)=>{function u(L){return L.replace(/\r?\n/g,"\r")}function h(L,v){return v?"\x1B[200~"+L+"\x1B[201~":L}function M(L,v,S,x){L=h(L=u(L),S.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(L,!0),v.value=""}function r(L,v,S){let x=S.getBoundingClientRect(),d=L.clientX-x.left-10,N=L.clientY-x.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${d}px`,v.style.top=`${N}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(b,"__esModule",{value:!0}),b.rightClickHandler=b.moveTextAreaUnderMouseCursor=b.paste=b.handlePasteEvent=b.copyHandler=b.bracketTextForPaste=b.prepareTextForTerminal=void 0,b.prepareTextForTerminal=u,b.bracketTextForPaste=h,b.copyHandler=function(L,v){L.clipboardData&&L.clipboardData.setData("text/plain",v.selectionText),L.preventDefault()},b.handlePasteEvent=function(L,v,S,x){L.stopPropagation(),L.clipboardData&&M(L.clipboardData.getData("text/plain"),v,S,x)},b.paste=M,b.moveTextAreaUnderMouseCursor=r,b.rightClickHandler=function(L,v,S,x,d){r(L,v,S),d&&x.rightClickSelect(L),v.value=x.selectionText,v.select()}},7239:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ColorContrastCache=void 0;let h=u(1505);b.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(M,r,L){this._css.set(M,r,L)}getCss(M,r){return this._css.get(M,r)}setColor(M,r,L){this._color.set(M,r,L)}getColor(M,r){return this._color.get(M,r)}clear(){this._color.clear(),this._css.clear()}}},3656:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.addDisposableDomListener=void 0,b.addDisposableDomListener=function(u,h,M,r){u.addEventListener(h,M,r);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(h,M,r))}}}},6465:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.Linkifier2=void 0;let r=u(3656),L=u(8460),v=u(844),S=u(2585),x=b.Linkifier2=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(d){super(),this._bufferService=d,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new L.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new L.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register(v.getDisposeArrayDisposable(this._linkCacheDisposables)),this.register(v.toDisposable(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(d){return this._linkProviders.push(d),{dispose:()=>{let N=this._linkProviders.indexOf(d);N!==-1&&this._linkProviders.splice(N,1)}}}attachToDom(d,N,O){this._element=d,this._mouseService=N,this._renderService=O,this.register(r.addDisposableDomListener(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register(r.addDisposableDomListener(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register(r.addDisposableDomListener(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register(r.addDisposableDomListener(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){if(this._lastMouseEvent=d,!this._element||!this._mouseService)return;let N=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!N)return;this._isMouseOut=!1;let O=d.composedPath();for(let Z=0;Z<O.length;Z++){let $=O[Z];if($.classList.contains("xterm"))break;if($.classList.contains("xterm-hover"))return}this._lastBufferCell&&N.x===this._lastBufferCell.x&&N.y===this._lastBufferCell.y||(this._handleHover(N),this._lastBufferCell=N)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,N){var O,Z;this._activeProviderReplies&&N||((O=this._activeProviderReplies)===null||O===void 0||O.forEach((U)=>{U==null||U.forEach((s)=>{s.link.dispose&&s.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let $=!1;for(let[U,s]of this._linkProviders.entries())N?((Z=this._activeProviderReplies)===null||Z===void 0?void 0:Z.get(U))&&($=this._checkLinkProviderResult(U,d,$)):s.provideLinks(d.y,(W)=>{var g,K;if(this._isMouseOut)return;let i=W==null?void 0:W.map((J)=>({link:J}));(g=this._activeProviderReplies)===null||g===void 0||g.set(U,i),$=this._checkLinkProviderResult(U,d,$),((K=this._activeProviderReplies)===null||K===void 0?void 0:K.size)===this._linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,N){let O=new Set;for(let Z=0;Z<N.size;Z++){let $=N.get(Z);if($)for(let U=0;U<$.length;U++){let s=$[U],W=s.link.range.start.y<d?0:s.link.range.start.x,g=s.link.range.end.y>d?this._bufferService.cols:s.link.range.end.x;for(let K=W;K<=g;K++){if(O.has(K)){$.splice(U--,1);break}O.add(K)}}}}_checkLinkProviderResult(d,N,O){var Z;if(!this._activeProviderReplies)return O;let $=this._activeProviderReplies.get(d),U=!1;for(let s=0;s<d;s++)this._activeProviderReplies.has(s)&&!this._activeProviderReplies.get(s)||(U=!0);if(!U&&$){let s=$.find((W)=>this._linkAtPosition(W.link,N));s&&(O=!0,this._handleNewLink(s))}if(this._activeProviderReplies.size===this._linkProviders.length&&!O)for(let s=0;s<this._activeProviderReplies.size;s++){let W=(Z=this._activeProviderReplies.get(s))===null||Z===void 0?void 0:Z.find((g)=>this._linkAtPosition(g.link,N));if(W){O=!0,this._handleNewLink(W);break}}return O}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._element||!this._mouseService||!this._currentLink)return;let N=this._positionFromMouseEvent(d,this._element,this._mouseService);N&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,N)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,N){this._element&&this._currentLink&&this._lastMouseEvent&&(!d||!N||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=N)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,v.disposeArray(this._linkCacheDisposables))}_handleNewLink(d){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;let N=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);N&&this._linkAtPosition(d.link,N)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>{var O,Z;return(Z=(O=this._currentLink)===null||O===void 0?void 0:O.state)===null||Z===void 0?void 0:Z.decorations.pointerCursor},set:(O)=>{var Z,$;((Z=this._currentLink)===null||Z===void 0?void 0:Z.state)&&this._currentLink.state.decorations.pointerCursor!==O&&(this._currentLink.state.decorations.pointerCursor=O,this._currentLink.state.isHovered&&(($=this._element)===null||$===void 0||$.classList.toggle("xterm-cursor-pointer",O)))}},underline:{get:()=>{var O,Z;return(Z=(O=this._currentLink)===null||O===void 0?void 0:O.state)===null||Z===void 0?void 0:Z.decorations.underline},set:(O)=>{var Z,$,U;((Z=this._currentLink)===null||Z===void 0?void 0:Z.state)&&((U=($=this._currentLink)===null||$===void 0?void 0:$.state)===null||U===void 0?void 0:U.decorations.underline)!==O&&(this._currentLink.state.decorations.underline=O,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,O))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((O)=>{if(!this._currentLink)return;let Z=O.start===0?0:O.start+1+this._bufferService.buffer.ydisp,$=this._bufferService.buffer.ydisp+1+O.end;if(this._currentLink.link.range.start.y>=Z&&this._currentLink.link.range.end.y<=$&&(this._clearCurrentLink(Z,$),this._lastMouseEvent&&this._element)){let U=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);U&&this._askForLink(U,!1)}})))}_linkHover(d,N,O){var Z;((Z=this._currentLink)===null||Z===void 0?void 0:Z.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(N,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),N.hover&&N.hover(O,N.text)}_fireUnderlineEvent(d,N){let O=d.range,Z=this._bufferService.buffer.ydisp,$=this._createLinkUnderlineEvent(O.start.x-1,O.start.y-Z-1,O.end.x,O.end.y-Z-1,void 0);(N?this._onShowLinkUnderline:this._onHideLinkUnderline).fire($)}_linkLeave(d,N,O){var Z;((Z=this._currentLink)===null||Z===void 0?void 0:Z.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(N,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),N.leave&&N.leave(O,N.text)}_linkAtPosition(d,N){let O=d.range.start.y*this._bufferService.cols+d.range.start.x,Z=d.range.end.y*this._bufferService.cols+d.range.end.x,$=N.y*this._bufferService.cols+N.x;return O<=$&&$<=Z}_positionFromMouseEvent(d,N,O){let Z=O.getCoords(d,N,this._bufferService.cols,this._bufferService.rows);if(Z)return{x:Z[0],y:Z[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,N,O,Z,$){return{x1:d,y1:N,x2:O,y2:Z,cols:this._bufferService.cols,fg:$}}};b.Linkifier2=x=h([M(0,S.IBufferService)],x)},9042:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tooMuchOutput=b.promptLabel=void 0,b.promptLabel="Terminal input",b.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(T,b,u){var h=this&&this.__decorate||function(x,d,N,O){var Z,$=arguments.length,U=$<3?d:O===null?O=Object.getOwnPropertyDescriptor(d,N):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(x,d,N,O);else for(var s=x.length-1;s>=0;s--)(Z=x[s])&&(U=($<3?Z(U):$>3?Z(d,N,U):Z(d,N))||U);return $>3&&U&&Object.defineProperty(d,N,U),U},M=this&&this.__param||function(x,d){return function(N,O){d(N,O,x)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OscLinkProvider=void 0;let r=u(511),L=u(2585),v=b.OscLinkProvider=class{constructor(x,d,N){this._bufferService=x,this._optionsService=d,this._oscLinkService=N}provideLinks(x,d){var N;let O=this._bufferService.buffer.lines.get(x-1);if(!O)return void d(void 0);let Z=[],$=this._optionsService.rawOptions.linkHandler,U=new r.CellData,s=O.getTrimmedLength(),W=-1,g=-1,K=!1;for(let i=0;i<s;i++)if(g!==-1||O.hasContent(i)){if(O.loadCell(i,U),U.hasExtendedAttrs()&&U.extended.urlId){if(g===-1){g=i,W=U.extended.urlId;continue}K=U.extended.urlId!==W}else g!==-1&&(K=!0);if(K||g!==-1&&i===s-1){let J=(N=this._oscLinkService.getLinkData(W))===null||N===void 0?void 0:N.uri;if(J){let F={start:{x:g+1,y:x},end:{x:i+(K||i!==s-1?0:1),y:x}},Y=!1;if(!($==null?void 0:$.allowNonHttpProtocols))try{let l=new URL(J);["http:","https:"].includes(l.protocol)||(Y=!0)}catch(l){Y=!0}Y||Z.push({text:J,range:F,activate:(l,p)=>$?$.activate(l,p,F):S(0,p),hover:(l,p)=>{var f;return(f=$==null?void 0:$.hover)===null||f===void 0?void 0:f.call($,l,p,F)},leave:(l,p)=>{var f;return(f=$==null?void 0:$.leave)===null||f===void 0?void 0:f.call($,l,p,F)}})}K=!1,U.hasExtendedAttrs()&&U.extended.urlId?(g=i,W=U.extended.urlId):(g=-1,W=-1)}}d(Z)}};function S(x,d){if(confirm(`Do you want to navigate to ${d}?

WARNING: This link could potentially be dangerous`)){let N=window.open();if(N){try{N.opener=null}catch(O){}N.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}}b.OscLinkProvider=v=h([M(0,L.IBufferService),M(1,L.IOptionsService),M(2,L.IOscLinkService)],v)},6193:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RenderDebouncer=void 0,b.RenderDebouncer=class{constructor(u,h){this._parentWindow=u,this._renderCallback=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,h,M){this._rowCount=M,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();let u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ScreenDprMonitor=void 0;let h=u(844);class M extends h.Disposable{constructor(r){super(),this._parentWindow=r,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register(h.toDisposable(()=>{this.clearListener()}))}setListener(r){this._listener&&this.clearListener(),this._listener=r,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var r;this._outerListener&&((r=this._resolutionMediaMatchList)===null||r===void 0||r.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}b.ScreenDprMonitor=M},3236:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Terminal=void 0;let h=u(3614),M=u(3656),r=u(6465),L=u(9042),v=u(3730),S=u(1680),x=u(3107),d=u(5744),N=u(2950),O=u(1296),Z=u(428),$=u(4269),U=u(5114),s=u(8934),W=u(3230),g=u(9312),K=u(4725),i=u(6731),J=u(8055),F=u(8969),Y=u(8460),l=u(844),p=u(6114),f=u(8437),n=u(2584),c=u(7399),y=u(5941),q=u(9074),a=u(2585),o=u(5435),m=u(4567),j=typeof window!="undefined"?window.document:null;class R extends F.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(w={}){super(w),this.browser=p,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new l.MutableDisposable),this._onCursorMove=this.register(new Y.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new Y.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new Y.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new Y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new Y.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new Y.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new Y.EventEmitter),this._onBlur=this.register(new Y.EventEmitter),this._onA11yCharEmitter=this.register(new Y.EventEmitter),this._onA11yTabEmitter=this.register(new Y.EventEmitter),this._onWillOpen=this.register(new Y.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(r.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(q.DecorationService),this._instantiationService.setService(a.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((E,B)=>this.refresh(E,B))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport((E)=>this._reportWindowsOptions(E))),this.register(this._inputHandler.onColor((E)=>this._handleColorEvent(E))),this.register(Y.forwardEvent(this._inputHandler.onCursorMove,this._onCursorMove)),this.register(Y.forwardEvent(this._inputHandler.onTitleChange,this._onTitleChange)),this.register(Y.forwardEvent(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register(Y.forwardEvent(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((E)=>this._afterResize(E.cols,E.rows))),this.register(l.toDisposable(()=>{var E,B;this._customKeyEventHandler=void 0,(B=(E=this.element)===null||E===void 0?void 0:E.parentNode)===null||B===void 0||B.removeChild(this.element)}))}_handleColorEvent(w){if(this._themeService)for(let E of w){let B,e="";switch(E.index){case 256:B="foreground",e="10";break;case 257:B="background",e="11";break;case 258:B="cursor",e="12";break;default:B="ansi",e="4;"+E.index}switch(E.type){case 0:let Q=J.color.toColorRGB(B==="ansi"?this._themeService.colors.ansi[E.index]:this._themeService.colors[B]);this.coreService.triggerDataEvent(`${n.C0.ESC}]${e};${y.toRgbString(Q)}${n.C1_ESCAPED.ST}`);break;case 1:if(B==="ansi")this._themeService.modifyColors((I)=>I.ansi[E.index]=J.rgba.toColor(...E.color));else{let I=B;this._themeService.modifyColors((A)=>A[I]=J.rgba.toColor(...E.color))}break;case 2:this._themeService.restoreColor(E.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(w){w?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(m.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(w){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[I"),this.updateCursorStyle(w),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var w;return(w=this.textarea)===null||w===void 0?void 0:w.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(n.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let w=this.buffer.ybase+this.buffer.y,E=this.buffer.lines.get(w);if(!E)return;let B=Math.min(this.buffer.x,this.cols-1),e=this._renderService.dimensions.css.cell.height,Q=E.getWidth(B),I=this._renderService.dimensions.css.cell.width*Q,A=this.buffer.y*this._renderService.dimensions.css.cell.height,h1=B*this._renderService.dimensions.css.cell.width;this.textarea.style.left=h1+"px",this.textarea.style.top=A+"px",this.textarea.style.width=I+"px",this.textarea.style.height=e+"px",this.textarea.style.lineHeight=e+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register(M.addDisposableDomListener(this.element,"copy",(E)=>{this.hasSelection()&&h.copyHandler(E,this._selectionService)}));let w=(E)=>h.handlePasteEvent(E,this.textarea,this.coreService,this.optionsService);this.register(M.addDisposableDomListener(this.textarea,"paste",w)),this.register(M.addDisposableDomListener(this.element,"paste",w)),p.isFirefox?this.register(M.addDisposableDomListener(this.element,"mousedown",(E)=>{E.button===2&&h.rightClickHandler(E,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register(M.addDisposableDomListener(this.element,"contextmenu",(E)=>{h.rightClickHandler(E,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),p.isLinux&&this.register(M.addDisposableDomListener(this.element,"auxclick",(E)=>{E.button===1&&h.moveTextAreaUnderMouseCursor(E,this.textarea,this.screenElement)}))}_bindKeys(){this.register(M.addDisposableDomListener(this.textarea,"keyup",(w)=>this._keyUp(w),!0)),this.register(M.addDisposableDomListener(this.textarea,"keydown",(w)=>this._keyDown(w),!0)),this.register(M.addDisposableDomListener(this.textarea,"keypress",(w)=>this._keyPress(w),!0)),this.register(M.addDisposableDomListener(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register(M.addDisposableDomListener(this.textarea,"compositionupdate",(w)=>this._compositionHelper.compositionupdate(w))),this.register(M.addDisposableDomListener(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register(M.addDisposableDomListener(this.textarea,"input",(w)=>this._inputEvent(w),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(w){var E;if(!w)throw new Error("Terminal requires a parent element.");w.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=w.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),w.appendChild(this.element);let B=j.createDocumentFragment();this._viewportElement=j.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),B.appendChild(this._viewportElement),this._viewportScrollArea=j.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=j.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=j.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),B.appendChild(this.screenElement),this.textarea=j.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",L.promptLabel),p.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(U.CoreBrowserService,this.textarea,(E=this._document.defaultView)!==null&&E!==void 0?E:window),this._instantiationService.setService(K.ICoreBrowserService,this._coreBrowserService),this.register(M.addDisposableDomListener(this.textarea,"focus",(e)=>this._handleTextAreaFocus(e))),this.register(M.addDisposableDomListener(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(Z.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(K.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(i.ThemeService),this._instantiationService.setService(K.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance($.CharacterJoinerService),this._instantiationService.setService(K.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(W.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(K.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((e)=>this._onRender.fire(e))),this.onResize((e)=>this._renderService.resize(e.cols,e.rows)),this._compositionView=j.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(N.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(B);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(s.MouseService),this._instantiationService.setService(K.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(g.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(K.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((e)=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw((e)=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection((e)=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event((e)=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register(M.addDisposableDomListener(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register(M.addDisposableDomListener(this.element,"mousedown",(e)=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(m.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(e)=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(e)=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(O.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){let w=this,E=this.element;function B(I){let A=w._mouseService.getMouseReportCoords(I,w.screenElement);if(!A)return!1;let h1,n1;switch(I.overrideType||I.type){case"mousemove":n1=32,I.buttons===void 0?(h1=3,I.button!==void 0&&(h1=I.button<3?I.button:3)):h1=1&I.buttons?0:4&I.buttons?1:2&I.buttons?2:3;break;case"mouseup":n1=0,h1=I.button<3?I.button:3;break;case"mousedown":n1=1,h1=I.button<3?I.button:3;break;case"wheel":if(w.viewport.getLinesScrolled(I)===0)return!1;n1=I.deltaY<0?0:1,h1=4;break;default:return!1}return!(n1===void 0||h1===void 0||h1>4)&&w.coreMouseService.triggerMouseEvent({col:A.col,row:A.row,x:A.x,y:A.y,button:h1,action:n1,ctrl:I.ctrlKey,alt:I.altKey,shift:I.shiftKey})}let e={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:(I)=>(B(I),I.buttons||(this._document.removeEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.removeEventListener("mousemove",e.mousedrag)),this.cancel(I)),wheel:(I)=>(B(I),this.cancel(I,!0)),mousedrag:(I)=>{I.buttons&&B(I)},mousemove:(I)=>{I.buttons||B(I)}};this.register(this.coreMouseService.onProtocolChange((I)=>{I?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(I)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&I?e.mousemove||(E.addEventListener("mousemove",Q.mousemove),e.mousemove=Q.mousemove):(E.removeEventListener("mousemove",e.mousemove),e.mousemove=null),16&I?e.wheel||(E.addEventListener("wheel",Q.wheel,{passive:!1}),e.wheel=Q.wheel):(E.removeEventListener("wheel",e.wheel),e.wheel=null),2&I?e.mouseup||(E.addEventListener("mouseup",Q.mouseup),e.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",e.mouseup),E.removeEventListener("mouseup",e.mouseup),e.mouseup=null),4&I?e.mousedrag||(e.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",e.mousedrag),e.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register(M.addDisposableDomListener(E,"mousedown",(I)=>{if(I.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(I))return B(I),e.mouseup&&this._document.addEventListener("mouseup",e.mouseup),e.mousedrag&&this._document.addEventListener("mousemove",e.mousedrag),this.cancel(I)})),this.register(M.addDisposableDomListener(E,"wheel",(I)=>{if(!e.wheel){if(!this.buffer.hasScrollback){let A=this.viewport.getLinesScrolled(I);if(A===0)return;let h1=n.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(I.deltaY<0?"A":"B"),n1="";for(let c1=0;c1<Math.abs(A);c1++)n1+=h1;return this.coreService.triggerDataEvent(n1,!0),this.cancel(I,!0)}return this.viewport.handleWheel(I)?this.cancel(I):void 0}},{passive:!1})),this.register(M.addDisposableDomListener(E,"touchstart",(I)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(I),this.cancel(I)},{passive:!0})),this.register(M.addDisposableDomListener(E,"touchmove",(I)=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(I)?void 0:this.cancel(I)},{passive:!1}))}refresh(w,E){var B;(B=this._renderService)===null||B===void 0||B.refreshRows(w,E)}updateCursorStyle(w){var E;((E=this._selectionService)===null||E===void 0?void 0:E.shouldColumnSelect(w))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(w,E,B=0){var e;B===1?(super.scrollLines(w,E,B),this.refresh(0,this.rows-1)):(e=this.viewport)===null||e===void 0||e.scrollLines(w)}paste(w){h.paste(w,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(w){this._customKeyEventHandler=w}registerLinkProvider(w){return this.linkifier2.registerLinkProvider(w)}registerCharacterJoiner(w){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let E=this._characterJoinerService.register(w);return this.refresh(0,this.rows-1),E}deregisterCharacterJoiner(w){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(w)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(w){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+w)}registerDecoration(w){return this._decorationService.registerDecoration(w)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(w,E,B){this._selectionService.setSelection(w,E,B)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var w;(w=this._selectionService)===null||w===void 0||w.clearSelection()}selectAll(){var w;(w=this._selectionService)===null||w===void 0||w.selectAll()}selectLines(w,E){var B;(B=this._selectionService)===null||B===void 0||B.selectLines(w,E)}_keyDown(w){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(w)===!1)return!1;let E=this.browser.isMac&&this.options.macOptionIsMeta&&w.altKey;if(!E&&!this._compositionHelper.keydown(w))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;E||w.key!=="Dead"&&w.key!=="AltGraph"||(this._unprocessedDeadKey=!0);let B=c.evaluateKeyboardEvent(w,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(w),B.type===3||B.type===2){let e=this.rows-1;return this.scrollLines(B.type===2?-e:e),this.cancel(w,!0)}return B.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,w)||(B.cancel&&this.cancel(w,!0),!B.key||!!(w.key&&!w.ctrlKey&&!w.altKey&&!w.metaKey&&w.key.length===1&&w.key.charCodeAt(0)>=65&&w.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(B.key!==n.C0.ETX&&B.key!==n.C0.CR||(this.textarea.value=""),this._onKey.fire({key:B.key,domEvent:w}),this._showCursor(),this.coreService.triggerDataEvent(B.key,!0),!this.optionsService.rawOptions.screenReaderMode||w.altKey||w.ctrlKey?this.cancel(w,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(w,E){let B=w.isMac&&!this.options.macOptionIsMeta&&E.altKey&&!E.ctrlKey&&!E.metaKey||w.isWindows&&E.altKey&&E.ctrlKey&&!E.metaKey||w.isWindows&&E.getModifierState("AltGraph");return E.type==="keypress"?B:B&&(!E.keyCode||E.keyCode>47)}_keyUp(w){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(w)===!1||(function(E){return E.keyCode===16||E.keyCode===17||E.keyCode===18}(w)||this.focus(),this.updateCursorStyle(w),this._keyPressHandled=!1)}_keyPress(w){let E;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&this._customKeyEventHandler(w)===!1)return!1;if(this.cancel(w),w.charCode)E=w.charCode;else if(w.which===null||w.which===void 0)E=w.keyCode;else{if(w.which===0||w.charCode===0)return!1;E=w.which}return!(!E||(w.altKey||w.ctrlKey||w.metaKey)&&!this._isThirdLevelShift(this.browser,w)||(E=String.fromCharCode(E),this._onKey.fire({key:E,domEvent:w}),this._showCursor(),this.coreService.triggerDataEvent(E,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(w){if(w.data&&w.inputType==="insertText"&&(!w.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let E=w.data;return this.coreService.triggerDataEvent(E,!0),this.cancel(w),!0}return!1}resize(w,E){w!==this.cols||E!==this.rows?super.resize(w,E):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(w,E){var B,e;(B=this._charSizeService)===null||B===void 0||B.measure(),(e=this.viewport)===null||e===void 0||e.syncScrollArea(!0)}clear(){var w;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let E=1;E<this.rows;E++)this.buffer.lines.push(this.buffer.getBlankLine(f.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(w=this.viewport)===null||w===void 0||w.reset(),this.refresh(0,this.rows-1)}}reset(){var w,E;this.options.rows=this.rows,this.options.cols=this.cols;let B=this._customKeyEventHandler;this._setup(),super.reset(),(w=this._selectionService)===null||w===void 0||w.reset(),this._decorationService.reset(),(E=this.viewport)===null||E===void 0||E.reset(),this._customKeyEventHandler=B,this.refresh(0,this.rows-1)}clearTextureAtlas(){var w;(w=this._renderService)===null||w===void 0||w.clearTextureAtlas()}_reportFocus(){var w;((w=this.element)===null||w===void 0?void 0:w.classList.contains("focus"))?this.coreService.triggerDataEvent(n.C0.ESC+"[I"):this.coreService.triggerDataEvent(n.C0.ESC+"[O")}_reportWindowsOptions(w){if(this._renderService)switch(w){case o.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:let E=this._renderService.dimensions.css.canvas.width.toFixed(0),B=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[4;${B};${E}t`);break;case o.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:let e=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${n.C0.ESC}[6;${Q};${e}t`)}}cancel(w,E){if(this.options.cancelEvents||E)return w.preventDefault(),w.stopPropagation(),!1}}b.Terminal=R},9924:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TimeBasedDebouncer=void 0,b.TimeBasedDebouncer=class{constructor(u,h=1000){this._renderCallback=u,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,h,M){this._rowCount=M,u=u!==void 0?u:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;let r=Date.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){let L=r-this._lastRefreshMs,v=this._debounceThresholdMS-L;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let u=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,h)}}},1680:function(T,b,u){var h=this&&this.__decorate||function(N,O,Z,$){var U,s=arguments.length,W=s<3?O:$===null?$=Object.getOwnPropertyDescriptor(O,Z):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(N,O,Z,$);else for(var g=N.length-1;g>=0;g--)(U=N[g])&&(W=(s<3?U(W):s>3?U(O,Z,W):U(O,Z))||W);return s>3&&W&&Object.defineProperty(O,Z,W),W},M=this&&this.__param||function(N,O){return function(Z,$){O(Z,$,N)}};Object.defineProperty(b,"__esModule",{value:!0}),b.Viewport=void 0;let r=u(3656),L=u(4725),v=u(8460),S=u(844),x=u(2585),d=b.Viewport=class extends S.Disposable{constructor(N,O,Z,$,U,s,W,g){super(),this._viewportElement=N,this._scrollArea=O,this._bufferService=Z,this._optionsService=$,this._charSizeService=U,this._renderService=s,this._coreBrowserService=W,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register(r.addDisposableDomListener(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((K)=>this._activeBuffer=K.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((K)=>this._renderDimensions=K)),this._handleThemeChange(g.colors),this.register(g.onChangeColors((K)=>this._handleThemeChange(K))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(N){this._viewportElement.style.backgroundColor=N.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(N){if(N)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;let O=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==O&&(this._lastRecordedBufferHeight=O,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}let N=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==N&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=N),this._refreshAnimationFrame=null}syncScrollArea(N=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(N);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(N)}_handleScroll(N){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});let O=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:O,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;let N=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(N*(this._smoothScrollState.target-this._smoothScrollState.origin)),N<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(N,O){let Z=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(O<0&&this._viewportElement.scrollTop!==0||O>0&&Z<this._lastRecordedBufferHeight)||(N.cancelable&&N.preventDefault(),!1)}handleWheel(N){let O=this._getPixelsScrolled(N);return O!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+O:this._smoothScrollState.target+=O,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=O,this._bubbleScroll(N,O))}scrollLines(N){if(N!==0)if(this._optionsService.rawOptions.smoothScrollDuration){let O=N*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+O,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:N,suppressScrollEvent:!1})}_getPixelsScrolled(N){if(N.deltaY===0||N.shiftKey)return 0;let O=this._applyScrollModifier(N.deltaY,N);return N.deltaMode===WheelEvent.DOM_DELTA_LINE?O*=this._currentRowHeight:N.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(O*=this._currentRowHeight*this._bufferService.rows),O}getBufferElements(N,O){var Z;let $,U="",s=[],W=O!=null?O:this._bufferService.buffer.lines.length,g=this._bufferService.buffer.lines;for(let K=N;K<W;K++){let i=g.get(K);if(!i)continue;let J=(Z=g.get(K+1))===null||Z===void 0?void 0:Z.isWrapped;if(U+=i.translateToString(!J),!J||K===g.length-1){let F=document.createElement("div");F.textContent=U,s.push(F),U.length>0&&($=F),U=""}}return{bufferElements:s,cursorElement:$}}getLinesScrolled(N){if(N.deltaY===0||N.shiftKey)return 0;let O=this._applyScrollModifier(N.deltaY,N);return N.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(O/=this._currentRowHeight+0,this._wheelPartialScroll+=O,O=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):N.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(O*=this._bufferService.rows),O}_applyScrollModifier(N,O){let Z=this._optionsService.rawOptions.fastScrollModifier;return Z==="alt"&&O.altKey||Z==="ctrl"&&O.ctrlKey||Z==="shift"&&O.shiftKey?N*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:N*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(N){this._lastTouchY=N.touches[0].pageY}handleTouchMove(N){let O=this._lastTouchY-N.touches[0].pageY;return this._lastTouchY=N.touches[0].pageY,O!==0&&(this._viewportElement.scrollTop+=O,this._bubbleScroll(N,O))}};b.Viewport=d=h([M(2,x.IBufferService),M(3,x.IOptionsService),M(4,L.ICharSizeService),M(5,L.IRenderService),M(6,L.ICoreBrowserService),M(7,L.IThemeService)],d)},3107:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.BufferDecorationRenderer=void 0;let r=u(3656),L=u(4725),v=u(844),S=u(2585),x=b.BufferDecorationRenderer=class extends v.Disposable{constructor(d,N,O,Z){super(),this._screenElement=d,this._bufferService=N,this._decorationService=O,this._renderService=Z,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(r.addDisposableDomListener(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(($)=>this._removeDecoration($))),this.register(v.toDisposable(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let d of this._decorationService.decorations)this._renderDecoration(d);this._dimensionsChanged=!1}_renderDecoration(d){this._refreshStyle(d),this._dimensionsChanged&&this._refreshXPosition(d)}_createElement(d){var N,O;let Z=document.createElement("div");Z.classList.add("xterm-decoration"),Z.classList.toggle("xterm-decoration-top-layer",((N=d==null?void 0:d.options)===null||N===void 0?void 0:N.layer)==="top"),Z.style.width=`${Math.round((d.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,Z.style.height=(d.options.height||1)*this._renderService.dimensions.css.cell.height+"px",Z.style.top=(d.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",Z.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let $=(O=d.options.x)!==null&&O!==void 0?O:0;return $&&$>this._bufferService.cols&&(Z.style.display="none"),this._refreshXPosition(d,Z),Z}_refreshStyle(d){let N=d.marker.line-this._bufferService.buffers.active.ydisp;if(N<0||N>=this._bufferService.rows)d.element&&(d.element.style.display="none",d.onRenderEmitter.fire(d.element));else{let O=this._decorationElements.get(d);O||(O=this._createElement(d),d.element=O,this._decorationElements.set(d,O),this._container.appendChild(O),d.onDispose(()=>{this._decorationElements.delete(d),O.remove()})),O.style.top=N*this._renderService.dimensions.css.cell.height+"px",O.style.display=this._altBufferIsActive?"none":"block",d.onRenderEmitter.fire(O)}}_refreshXPosition(d,N=d.element){var O;if(!N)return;let Z=(O=d.options.x)!==null&&O!==void 0?O:0;(d.options.anchor||"left")==="right"?N.style.right=Z?Z*this._renderService.dimensions.css.cell.width+"px":"":N.style.left=Z?Z*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(d){var N;(N=this._decorationElements.get(d))===null||N===void 0||N.remove(),this._decorationElements.delete(d),d.dispose()}};b.BufferDecorationRenderer=x=h([M(1,S.IBufferService),M(2,S.IDecorationService),M(3,L.IRenderService)],x)},5871:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ColorZoneStore=void 0,b.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(let h of this._zones)if(h.color===u.options.overviewRulerOptions.color&&h.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,u.marker.line))return;if(this._lineAdjacentToZone(h,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(h,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,h){return h>=u.startBufferLine&&h<=u.endBufferLine}_lineAdjacentToZone(u,h,M){return h>=u.startBufferLine-this._linePadding[M||"full"]&&h<=u.endBufferLine+this._linePadding[M||"full"]}_addLineToZone(u,h){u.startBufferLine=Math.min(u.startBufferLine,h),u.endBufferLine=Math.max(u.endBufferLine,h)}}},5744:function(T,b,u){var h=this&&this.__decorate||function($,U,s,W){var g,K=arguments.length,i=K<3?U:W===null?W=Object.getOwnPropertyDescriptor(U,s):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate($,U,s,W);else for(var J=$.length-1;J>=0;J--)(g=$[J])&&(i=(K<3?g(i):K>3?g(U,s,i):g(U,s))||i);return K>3&&i&&Object.defineProperty(U,s,i),i},M=this&&this.__param||function($,U){return function(s,W){U(s,W,$)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OverviewRulerRenderer=void 0;let r=u(5871),L=u(3656),v=u(4725),S=u(844),x=u(2585),d={full:0,left:0,center:0,right:0},N={full:0,left:0,center:0,right:0},O={full:0,left:0,center:0,right:0},Z=b.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor($,U,s,W,g,K,i){var J;super(),this._viewportElement=$,this._screenElement=U,this._bufferService=s,this._decorationService=W,this._renderService=g,this._optionsService=K,this._coreBrowseService=i,this._colorZoneStore=new r.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(J=this._viewportElement.parentElement)===null||J===void 0||J.insertBefore(this._canvas,this._viewportElement);let F=this._canvas.getContext("2d");if(!F)throw new Error("Ctx cannot be null");this._ctx=F,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register(S.toDisposable(()=>{var Y;(Y=this._canvas)===null||Y===void 0||Y.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(L.addDisposableDomListener(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){let $=Math.floor(this._canvas.width/3),U=Math.ceil(this._canvas.width/3);N.full=this._canvas.width,N.left=$,N.center=U,N.right=$,this._refreshDrawHeightConstants(),O.full=0,O.left=0,O.center=N.left,O.right=N.left+N.center}_refreshDrawHeightConstants(){d.full=Math.round(2*this._coreBrowseService.dpr);let $=this._canvas.height/this._bufferService.buffer.lines.length,U=Math.round(Math.max(Math.min($,12),6)*this._coreBrowseService.dpr);d.left=U,d.center=U,d.right=U}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*d.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let U of this._decorationService.decorations)this._colorZoneStore.addDecoration(U);this._ctx.lineWidth=1;let $=this._colorZoneStore.zones;for(let U of $)U.position!=="full"&&this._renderColorZone(U);for(let U of $)U.position==="full"&&this._renderColorZone(U);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone($){this._ctx.fillStyle=$.color,this._ctx.fillRect(O[$.position||"full"],Math.round((this._canvas.height-1)*($.startBufferLine/this._bufferService.buffers.active.lines.length)-d[$.position||"full"]/2),N[$.position||"full"],Math.round((this._canvas.height-1)*(($.endBufferLine-$.startBufferLine)/this._bufferService.buffers.active.lines.length)+d[$.position||"full"]))}_queueRefresh($,U){this._shouldUpdateDimensions=$||this._shouldUpdateDimensions,this._shouldUpdateAnchor=U||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};b.OverviewRulerRenderer=Z=h([M(2,x.IBufferService),M(3,x.IDecorationService),M(4,v.IRenderService),M(5,x.IOptionsService),M(6,v.ICoreBrowserService)],Z)},2950:function(T,b,u){var h=this&&this.__decorate||function(x,d,N,O){var Z,$=arguments.length,U=$<3?d:O===null?O=Object.getOwnPropertyDescriptor(d,N):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(x,d,N,O);else for(var s=x.length-1;s>=0;s--)(Z=x[s])&&(U=($<3?Z(U):$>3?Z(d,N,U):Z(d,N))||U);return $>3&&U&&Object.defineProperty(d,N,U),U},M=this&&this.__param||function(x,d){return function(N,O){d(N,O,x)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CompositionHelper=void 0;let r=u(4725),L=u(2585),v=u(2584),S=b.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,d,N,O,Z,$){this._textarea=x,this._compositionView=d,this._bufferService=N,this._optionsService=O,this._coreService=Z,this._renderService=$,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229)return!1;if(x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){let d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let N;this._isSendingComposition=!1,d.start+=this._dataAlreadySent.length,N=this._isComposing?this._textarea.value.substring(d.start,d.end):this._textarea.value.substring(d.start),N.length>0&&this._coreService.triggerDataEvent(N,!0)}},0)}else{this._isSendingComposition=!1;let d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}}_handleAnyTextareaChanges(){let x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let d=this._textarea.value,N=d.replace(x,"");this._dataAlreadySent=N,d.length>x.length?this._coreService.triggerDataEvent(N,!0):d.length<x.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):d.length===x.length&&d!==x&&this._coreService.triggerDataEvent(d,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),N=this._renderService.dimensions.css.cell.height,O=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,Z=d*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=Z+"px",this._compositionView.style.top=O+"px",this._compositionView.style.height=N+"px",this._compositionView.style.lineHeight=N+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let $=this._compositionView.getBoundingClientRect();this._textarea.style.left=Z+"px",this._textarea.style.top=O+"px",this._textarea.style.width=Math.max($.width,1)+"px",this._textarea.style.height=Math.max($.height,1)+"px",this._textarea.style.lineHeight=$.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};b.CompositionHelper=S=h([M(2,L.IBufferService),M(3,L.IOptionsService),M(4,L.ICoreService),M(5,r.IRenderService)],S)},9806:(T,b)=>{function u(h,M,r){let L=r.getBoundingClientRect(),v=h.getComputedStyle(r),S=parseInt(v.getPropertyValue("padding-left")),x=parseInt(v.getPropertyValue("padding-top"));return[M.clientX-L.left-S,M.clientY-L.top-x]}Object.defineProperty(b,"__esModule",{value:!0}),b.getCoords=b.getCoordsRelativeToElement=void 0,b.getCoordsRelativeToElement=u,b.getCoords=function(h,M,r,L,v,S,x,d,N){if(!S)return;let O=u(h,M,r);return O?(O[0]=Math.ceil((O[0]+(N?x/2:0))/x),O[1]=Math.ceil(O[1]/d),O[0]=Math.min(Math.max(O[0],1),L+(N?1:0)),O[1]=Math.min(Math.max(O[1],1),v),O):void 0}},9504:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.moveToCellSequence=void 0;let h=u(2584);function M(d,N,O,Z){let $=d-r(d,O),U=N-r(N,O),s=Math.abs($-U)-function(W,g,K){let i=0,J=W-r(W,K),F=g-r(g,K);for(let Y=0;Y<Math.abs(J-F);Y++){let l=L(W,g)==="A"?-1:1,p=K.buffer.lines.get(J+l*Y);(p==null?void 0:p.isWrapped)&&i++}return i}(d,N,O);return x(s,S(L(d,N),Z))}function r(d,N){let O=0,Z=N.buffer.lines.get(d),$=Z==null?void 0:Z.isWrapped;for(;$&&d>=0&&d<N.rows;)O++,Z=N.buffer.lines.get(--d),$=Z==null?void 0:Z.isWrapped;return O}function L(d,N){return d>N?"A":"B"}function v(d,N,O,Z,$,U){let s=d,W=N,g="";for(;s!==O||W!==Z;)s+=$?1:-1,$&&s>U.cols-1?(g+=U.buffer.translateBufferLineToString(W,!1,d,s),s=0,d=0,W++):!$&&s<0&&(g+=U.buffer.translateBufferLineToString(W,!1,0,d+1),s=U.cols-1,d=s,W--);return g+U.buffer.translateBufferLineToString(W,!1,d,s)}function S(d,N){let O=N?"O":"[";return h.C0.ESC+O+d}function x(d,N){d=Math.floor(d);let O="";for(let Z=0;Z<d;Z++)O+=N;return O}b.moveToCellSequence=function(d,N,O,Z){let $=O.buffer.x,U=O.buffer.y;if(!O.buffer.hasScrollback)return function(g,K,i,J,F,Y){return M(K,J,F,Y).length===0?"":x(v(g,K,g,K-r(K,F),!1,F).length,S("D",Y))}($,U,0,N,O,Z)+M(U,N,O,Z)+function(g,K,i,J,F,Y){let l;l=M(K,J,F,Y).length>0?J-r(J,F):K;let p=J,f=function(n,c,y,q,a,o){let m;return m=M(y,q,a,o).length>0?q-r(q,a):c,n<y&&m<=q||n>=y&&m<q?"C":"D"}(g,K,i,J,F,Y);return x(v(g,l,i,p,f==="C",F).length,S(f,Y))}($,U,d,N,O,Z);let s;if(U===N)return s=$>d?"D":"C",x(Math.abs($-d),S(s,Z));s=U>N?"D":"C";let W=Math.abs(U-N);return x(function(g,K){return K.cols-g}(U>N?d:$,O)+(W-1)*O.cols+1+((U>N?$:d)-1),S(s,Z))}},1296:function(T,b,u){var h=this&&this.__decorate||function(F,Y,l,p){var f,n=arguments.length,c=n<3?Y:p===null?p=Object.getOwnPropertyDescriptor(Y,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(F,Y,l,p);else for(var y=F.length-1;y>=0;y--)(f=F[y])&&(c=(n<3?f(c):n>3?f(Y,l,c):f(Y,l))||c);return n>3&&c&&Object.defineProperty(Y,l,c),c},M=this&&this.__param||function(F,Y){return function(l,p){Y(l,p,F)}};Object.defineProperty(b,"__esModule",{value:!0}),b.DomRenderer=void 0;let r=u(3787),L=u(2550),v=u(2223),S=u(6171),x=u(4725),d=u(8055),N=u(8460),O=u(844),Z=u(2585),$="xterm-dom-renderer-owner-",U="xterm-rows",s="xterm-fg-",W="xterm-bg-",g="xterm-focus",K="xterm-selection",i=1,J=b.DomRenderer=class extends O.Disposable{constructor(F,Y,l,p,f,n,c,y,q,a){super(),this._element=F,this._screenElement=Y,this._viewportElement=l,this._linkifier2=p,this._charSizeService=n,this._optionsService=c,this._bufferService=y,this._coreBrowserService=q,this._themeService=a,this._terminalClass=i++,this._rowElements=[],this.onRequestRedraw=this.register(new N.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(U),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(K),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=S.createRenderDimensions(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors((o)=>this._injectCss(o))),this._injectCss(this._themeService.colors),this._rowFactory=f.createInstance(r.DomRendererRowFactory,document),this._element.classList.add($+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((o)=>this._handleLinkHover(o))),this.register(this._linkifier2.onHideLinkUnderline((o)=>this._handleLinkLeave(o))),this.register(O.toDisposable(()=>{this._element.classList.remove($+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new L.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let F=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*F,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*F),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/F),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/F),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let l of this._rowElements)l.style.width=`${this.dimensions.css.canvas.width}px`,l.style.height=`${this.dimensions.css.cell.height}px`,l.style.lineHeight=`${this.dimensions.css.cell.height}px`,l.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let Y=`${this._terminalSelector} .${U} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=Y,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(F){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let Y=`${this._terminalSelector} .${U} { color: ${F.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;Y+=`${this._terminalSelector} .${U} .xterm-dim { color: ${d.color.multiplyOpacity(F.foreground,0.5).css};}`,Y+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,Y+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",Y+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${F.cursor.css};  color: ${F.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${F.cursor.css}; }}`,Y+=`${this._terminalSelector} .${U}.${g} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${U}.${g} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-block { background-color: ${F.cursor.css}; color: ${F.cursorAccent.css};}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${F.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${F.cursor.css} inset;}${this._terminalSelector} .${U} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${F.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,Y+=`${this._terminalSelector} .${K} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${K} div { position: absolute; background-color: ${F.selectionBackgroundOpaque.css};}${this._terminalSelector} .${K} div { position: absolute; background-color: ${F.selectionInactiveBackgroundOpaque.css};}`;for(let[l,p]of F.ansi.entries())Y+=`${this._terminalSelector} .${s}${l} { color: ${p.css}; }${this._terminalSelector} .${s}${l}.xterm-dim { color: ${d.color.multiplyOpacity(p,0.5).css}; }${this._terminalSelector} .${W}${l} { background-color: ${p.css}; }`;Y+=`${this._terminalSelector} .${s}${v.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(F.background).css}; }${this._terminalSelector} .${s}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(F.background),0.5).css}; }${this._terminalSelector} .${W}${v.INVERTED_DEFAULT_COLOR} { background-color: ${F.foreground.css}; }`,this._themeStyleElement.textContent=Y}_setDefaultSpacing(){let F=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${F}px`,this._rowFactory.defaultSpacing=F}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(F,Y){for(let l=this._rowElements.length;l<=Y;l++){let p=document.createElement("div");this._rowContainer.appendChild(p),this._rowElements.push(p)}for(;this._rowElements.length>Y;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(F,Y){this._refreshRowElements(F,Y),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(g)}handleFocus(){this._rowContainer.classList.add(g),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(F,Y,l){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(F,Y,l),this.renderRows(0,this._bufferService.rows-1),!F||!Y)return;let p=F[1]-this._bufferService.buffer.ydisp,f=Y[1]-this._bufferService.buffer.ydisp,n=Math.max(p,0),c=Math.min(f,this._bufferService.rows-1);if(n>=this._bufferService.rows||c<0)return;let y=document.createDocumentFragment();if(l){let q=F[0]>Y[0];y.appendChild(this._createSelectionElement(n,q?Y[0]:F[0],q?F[0]:Y[0],c-n+1))}else{let q=p===n?F[0]:0,a=n===f?Y[0]:this._bufferService.cols;y.appendChild(this._createSelectionElement(n,q,a));let o=c-n-1;if(y.appendChild(this._createSelectionElement(n+1,0,this._bufferService.cols,o)),n!==c){let m=f===c?Y[0]:this._bufferService.cols;y.appendChild(this._createSelectionElement(c,0,m))}}this._selectionContainer.appendChild(y)}_createSelectionElement(F,Y,l,p=1){let f=document.createElement("div");return f.style.height=p*this.dimensions.css.cell.height+"px",f.style.top=F*this.dimensions.css.cell.height+"px",f.style.left=Y*this.dimensions.css.cell.width+"px",f.style.width=this.dimensions.css.cell.width*(l-Y)+"px",f}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let F of this._rowElements)F.replaceChildren()}renderRows(F,Y){let l=this._bufferService.buffer,p=l.ybase+l.y,f=Math.min(l.x,this._bufferService.cols-1),n=this._optionsService.rawOptions.cursorBlink,c=this._optionsService.rawOptions.cursorStyle,y=this._optionsService.rawOptions.cursorInactiveStyle;for(let q=F;q<=Y;q++){let a=q+l.ydisp,o=this._rowElements[q],m=l.lines.get(a);if(!o||!m)break;o.replaceChildren(...this._rowFactory.createRow(m,a,a===p,c,y,f,n,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${$}${this._terminalClass}`}_handleLinkHover(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!0)}_handleLinkLeave(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!1)}_setCellUnderline(F,Y,l,p,f,n){l<0&&(F=0),p<0&&(Y=0);let c=this._bufferService.rows-1;l=Math.max(Math.min(l,c),0),p=Math.max(Math.min(p,c),0),f=Math.min(f,this._bufferService.cols);let y=this._bufferService.buffer,q=y.ybase+y.y,a=Math.min(y.x,f-1),o=this._optionsService.rawOptions.cursorBlink,m=this._optionsService.rawOptions.cursorStyle,j=this._optionsService.rawOptions.cursorInactiveStyle;for(let R=l;R<=p;++R){let w=R+y.ydisp,E=this._rowElements[R],B=y.lines.get(w);if(!E||!B)break;E.replaceChildren(...this._rowFactory.createRow(B,w,w===q,m,j,a,o,this.dimensions.css.cell.width,this._widthCache,n?R===l?F:0:-1,n?(R===p?Y:f)-1:-1))}}};b.DomRenderer=J=h([M(4,Z.IInstantiationService),M(5,x.ICharSizeService),M(6,Z.IOptionsService),M(7,Z.IBufferService),M(8,x.ICoreBrowserService),M(9,x.IThemeService)],J)},3787:function(T,b,u){var h=this&&this.__decorate||function(s,W,g,K){var i,J=arguments.length,F=J<3?W:K===null?K=Object.getOwnPropertyDescriptor(W,g):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(s,W,g,K);else for(var Y=s.length-1;Y>=0;Y--)(i=s[Y])&&(F=(J<3?i(F):J>3?i(W,g,F):i(W,g))||F);return J>3&&F&&Object.defineProperty(W,g,F),F},M=this&&this.__param||function(s,W){return function(g,K){W(g,K,s)}};Object.defineProperty(b,"__esModule",{value:!0}),b.DomRendererRowFactory=void 0;let r=u(2223),L=u(643),v=u(511),S=u(2585),x=u(8055),d=u(4725),N=u(4269),O=u(6171),Z=u(3734),$=b.DomRendererRowFactory=class{constructor(s,W,g,K,i,J,F){this._document=s,this._characterJoinerService=W,this._optionsService=g,this._coreBrowserService=K,this._coreService=i,this._decorationService=J,this._themeService=F,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(s,W,g){this._selectionStart=s,this._selectionEnd=W,this._columnSelectMode=g}createRow(s,W,g,K,i,J,F,Y,l,p,f){let n=[],c=this._characterJoinerService.getJoinedCharacters(W),y=this._themeService.colors,q,a=s.getNoBgTrimmedLength();g&&a<J+1&&(a=J+1);let o=0,m="",j=0,R=0,w=0,E=!1,B=0,e=!1,Q=0,I=[],A=p!==-1&&f!==-1;for(let h1=0;h1<a;h1++){s.loadCell(h1,this._workCell);let n1=this._workCell.getWidth();if(n1===0)continue;let c1=!1,G=h1,P=this._workCell;if(c.length>0&&h1===c[0][0]){c1=!0;let C=c.shift();P=new N.JoinedCellData(this._workCell,s.translateToString(!0,C[0],C[1]),C[1]-C[0]),G=C[1]-1,n1=P.getWidth()}let D=this._isCellInSelection(h1,W),p1=g&&h1===J,u1=A&&h1>=p&&h1<=f,o1=!1;this._decorationService.forEachDecorationAtCell(h1,W,void 0,(C)=>{o1=!0});let V1=P.getChars()||L.WHITESPACE_CELL_CHAR;if(V1===" "&&(P.isUnderline()||P.isOverline())&&(V1="Â "),Q=n1*Y-l.get(V1,P.isBold(),P.isItalic()),q){if(o&&(D&&e||!D&&!e&&P.bg===j)&&(D&&e&&y.selectionForeground||P.fg===R)&&P.extended.ext===w&&u1===E&&Q===B&&!p1&&!c1&&!o1){m+=V1,o++;continue}o&&(q.textContent=m),q=this._document.createElement("span"),o=0,m=""}else q=this._document.createElement("span");if(j=P.bg,R=P.fg,w=P.extended.ext,E=u1,B=Q,e=D,c1&&J>=h1&&J<=G&&(J=h1),!this._coreService.isCursorHidden&&p1){if(I.push("xterm-cursor"),this._coreBrowserService.isFocused)F&&I.push("xterm-cursor-blink"),I.push(K==="bar"?"xterm-cursor-bar":K==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(i)switch(i){case"outline":I.push("xterm-cursor-outline");break;case"block":I.push("xterm-cursor-block");break;case"bar":I.push("xterm-cursor-bar");break;case"underline":I.push("xterm-cursor-underline")}}if(P.isBold()&&I.push("xterm-bold"),P.isItalic()&&I.push("xterm-italic"),P.isDim()&&I.push("xterm-dim"),m=P.isInvisible()?L.WHITESPACE_CELL_CHAR:P.getChars()||L.WHITESPACE_CELL_CHAR,P.isUnderline()&&(I.push(`xterm-underline-${P.extended.underlineStyle}`),m===" "&&(m="Â "),!P.isUnderlineColorDefault()))if(P.isUnderlineColorRGB())q.style.textDecorationColor=`rgb(${Z.AttributeData.toColorRGB(P.getUnderlineColor()).join(",")})`;else{let C=P.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&P.isBold()&&C<8&&(C+=8),q.style.textDecorationColor=y.ansi[C].css}P.isOverline()&&(I.push("xterm-overline"),m===" "&&(m="Â ")),P.isStrikethrough()&&I.push("xterm-strikethrough"),u1&&(q.style.textDecoration="underline");let d1=P.getFgColor(),a1=P.getFgColorMode(),z1=P.getBgColor(),m1=P.getBgColorMode(),r1=!!P.isInverse();if(r1){let C=d1;d1=z1,z1=C;let l1=a1;a1=m1,m1=l1}let w1,z,H,t=!1;switch(this._decorationService.forEachDecorationAtCell(h1,W,void 0,(C)=>{C.options.layer!=="top"&&t||(C.backgroundColorRGB&&(m1=50331648,z1=C.backgroundColorRGB.rgba>>8&16777215,w1=C.backgroundColorRGB),C.foregroundColorRGB&&(a1=50331648,d1=C.foregroundColorRGB.rgba>>8&16777215,z=C.foregroundColorRGB),t=C.options.layer==="top")}),!t&&D&&(w1=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,z1=w1.rgba>>8&16777215,m1=50331648,t=!0,y.selectionForeground&&(a1=50331648,d1=y.selectionForeground.rgba>>8&16777215,z=y.selectionForeground)),t&&I.push("xterm-decoration-top"),m1){case 16777216:case 33554432:H=y.ansi[z1],I.push(`xterm-bg-${z1}`);break;case 50331648:H=x.rgba.toColor(z1>>16,z1>>8&255,255&z1),this._addStyle(q,`background-color:#${U((z1>>>0).toString(16),"0",6)}`);break;default:r1?(H=y.foreground,I.push(`xterm-bg-${r.INVERTED_DEFAULT_COLOR}`)):H=y.background}switch(w1||P.isDim()&&(w1=x.color.multiplyOpacity(H,0.5)),a1){case 16777216:case 33554432:P.isBold()&&d1<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(d1+=8),this._applyMinimumContrast(q,H,y.ansi[d1],P,w1,void 0)||I.push(`xterm-fg-${d1}`);break;case 50331648:let C=x.rgba.toColor(d1>>16&255,d1>>8&255,255&d1);this._applyMinimumContrast(q,H,C,P,w1,z)||this._addStyle(q,`color:#${U(d1.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(q,H,y.foreground,P,w1,void 0)||r1&&I.push(`xterm-fg-${r.INVERTED_DEFAULT_COLOR}`)}I.length&&(q.className=I.join(" "),I.length=0),p1||c1||o1?q.textContent=m:o++,Q!==this.defaultSpacing&&(q.style.letterSpacing=`${Q}px`),n.push(q),h1=G}return q&&o&&(q.textContent=m),n}_applyMinimumContrast(s,W,g,K,i,J){if(this._optionsService.rawOptions.minimumContrastRatio===1||O.excludeFromContrastRatioDemands(K.getCode()))return!1;let F=this._getContrastCache(K),Y;if(i||J||(Y=F.getColor(W.rgba,g.rgba)),Y===void 0){let l=this._optionsService.rawOptions.minimumContrastRatio/(K.isDim()?2:1);Y=x.color.ensureContrastRatio(i||W,J||g,l),F.setColor((i||W).rgba,(J||g).rgba,Y!=null?Y:null)}return!!Y&&(this._addStyle(s,`color:${Y.css}`),!0)}_getContrastCache(s){return s.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(s,W){s.setAttribute("style",`${s.getAttribute("style")||""}${W};`)}_isCellInSelection(s,W){let g=this._selectionStart,K=this._selectionEnd;return!(!g||!K)&&(this._columnSelectMode?g[0]<=K[0]?s>=g[0]&&W>=g[1]&&s<K[0]&&W<=K[1]:s<g[0]&&W>=g[1]&&s>=K[0]&&W<=K[1]:W>g[1]&&W<K[1]||g[1]===K[1]&&W===g[1]&&s>=g[0]&&s<K[0]||g[1]<K[1]&&W===K[1]&&s<K[0]||g[1]<K[1]&&W===g[1]&&s>=g[0])}};function U(s,W,g){for(;s.length<g;)s=W+s;return s}b.DomRendererRowFactory=$=h([M(1,d.ICharacterJoinerService),M(2,S.IOptionsService),M(3,d.ICoreBrowserService),M(4,S.ICoreService),M(5,S.IDecorationService),M(6,d.IThemeService)],$)},2550:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WidthCache=void 0,b.WidthCache=class{constructor(u){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let h=u.createElement("span"),M=u.createElement("span");M.style.fontWeight="bold";let r=u.createElement("span");r.style.fontStyle="italic";let L=u.createElement("span");L.style.fontWeight="bold",L.style.fontStyle="italic",this._measureElements=[h,M,r,L],this._container.appendChild(h),this._container.appendChild(M),this._container.appendChild(r),this._container.appendChild(L),u.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,h,M,r){u===this._font&&h===this._fontSize&&M===this._weight&&r===this._weightBold||(this._font=u,this._fontSize=h,this._weight=M,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${M}`,this._measureElements[1].style.fontWeight=`${r}`,this._measureElements[2].style.fontWeight=`${M}`,this._measureElements[3].style.fontWeight=`${r}`,this.clear())}get(u,h,M){let r=0;if(!h&&!M&&u.length===1&&(r=u.charCodeAt(0))<256)return this._flat[r]!==-9999?this._flat[r]:this._flat[r]=this._measure(u,0);let L=u;h&&(L+="B"),M&&(L+="I");let v=this._holey.get(L);if(v===void 0){let S=0;h&&(S|=1),M&&(S|=2),v=this._measure(u,S),this._holey.set(L,v)}return v}_measure(u,h){let M=this._measureElements[h];return M.textContent=u.repeat(32),M.offsetWidth/32}}},2223:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TEXT_BASELINE=b.DIM_OPACITY=b.INVERTED_DEFAULT_COLOR=void 0;let h=u(6114);b.INVERTED_DEFAULT_COLOR=257,b.DIM_OPACITY=0.5,b.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(T,b)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(b,"__esModule",{value:!0}),b.createRenderDimensions=b.excludeFromContrastRatioDemands=b.isRestrictedPowerlineGlyph=b.isPowerlineGlyph=b.throwIfFalsy=void 0,b.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},b.isPowerlineGlyph=u,b.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},b.excludeFromContrastRatioDemands=function(h){return u(h)||function(M){return 9472<=M&&M<=9631}(h)},b.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SelectionModel=void 0,b.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let u=this.selectionStart,h=this.selectionEnd;return!(!u||!h)&&(u[1]>h[1]||u[1]===h[1]&&u[0]>h[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CharSizeService=void 0;let r=u(2585),L=u(8460),v=u(844),S=b.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(d,N,O){super(),this._optionsService=O,this.width=0,this.height=0,this._onCharSizeChange=this.register(new L.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(d,N,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){let d=this._measureStrategy.measure();d.width===this.width&&d.height===this.height||(this.width=d.width,this.height=d.height,this._onCharSizeChange.fire())}};b.CharSizeService=S=h([M(2,r.IOptionsService)],S);class x{constructor(d,N,O){this._document=d,this._parentElement=N,this._optionsService=O,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;let d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(T,b,u){var h=this&&this.__decorate||function(N,O,Z,$){var U,s=arguments.length,W=s<3?O:$===null?$=Object.getOwnPropertyDescriptor(O,Z):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(N,O,Z,$);else for(var g=N.length-1;g>=0;g--)(U=N[g])&&(W=(s<3?U(W):s>3?U(O,Z,W):U(O,Z))||W);return s>3&&W&&Object.defineProperty(O,Z,W),W},M=this&&this.__param||function(N,O){return function(Z,$){O(Z,$,N)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CharacterJoinerService=b.JoinedCellData=void 0;let r=u(3734),L=u(643),v=u(511),S=u(2585);class x extends r.AttributeData{constructor(N,O,Z){super(),this.content=0,this.combinedData="",this.fg=N.fg,this.bg=N.bg,this.combinedData=O,this._width=Z}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(N){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.JoinedCellData=x;let d=b.CharacterJoinerService=class N{constructor(O){this._bufferService=O,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(O){let Z={id:this._nextCharacterJoinerId++,handler:O};return this._characterJoiners.push(Z),Z.id}deregister(O){for(let Z=0;Z<this._characterJoiners.length;Z++)if(this._characterJoiners[Z].id===O)return this._characterJoiners.splice(Z,1),!0;return!1}getJoinedCharacters(O){if(this._characterJoiners.length===0)return[];let Z=this._bufferService.buffer.lines.get(O);if(!Z||Z.length===0)return[];let $=[],U=Z.translateToString(!0),s=0,W=0,g=0,K=Z.getFg(0),i=Z.getBg(0);for(let J=0;J<Z.getTrimmedLength();J++)if(Z.loadCell(J,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==K||this._workCell.bg!==i){if(J-s>1){let F=this._getJoinedRanges(U,g,W,Z,s);for(let Y=0;Y<F.length;Y++)$.push(F[Y])}s=J,g=W,K=this._workCell.fg,i=this._workCell.bg}W+=this._workCell.getChars().length||L.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-s>1){let J=this._getJoinedRanges(U,g,W,Z,s);for(let F=0;F<J.length;F++)$.push(J[F])}return $}_getJoinedRanges(O,Z,$,U,s){let W=O.substring(Z,$),g=[];try{g=this._characterJoiners[0].handler(W)}catch(K){console.error(K)}for(let K=1;K<this._characterJoiners.length;K++)try{let i=this._characterJoiners[K].handler(W);for(let J=0;J<i.length;J++)N._mergeRanges(g,i[J])}catch(i){console.error(i)}return this._stringRangesToCellRanges(g,U,s),g}_stringRangesToCellRanges(O,Z,$){let U=0,s=!1,W=0,g=O[U];if(g){for(let K=$;K<this._bufferService.cols;K++){let i=Z.getWidth(K),J=Z.getString(K).length||L.WHITESPACE_CELL_CHAR.length;if(i!==0){if(!s&&g[0]<=W&&(g[0]=K,s=!0),g[1]<=W){if(g[1]=K,g=O[++U],!g)break;g[0]<=W?(g[0]=K,s=!0):s=!1}W+=J}}g&&(g[1]=this._bufferService.cols)}}static _mergeRanges(O,Z){let $=!1;for(let U=0;U<O.length;U++){let s=O[U];if($){if(Z[1]<=s[0])return O[U-1][1]=Z[1],O;if(Z[1]<=s[1])return O[U-1][1]=Math.max(Z[1],s[1]),O.splice(U,1),O;O.splice(U,1),U--}else{if(Z[1]<=s[0])return O.splice(U,0,Z),O;if(Z[1]<=s[1])return s[0]=Math.min(Z[0],s[0]),O;Z[0]<s[1]&&(s[0]=Math.min(Z[0],s[0]),$=!0)}}return $?O[O.length-1][1]=Z[1]:O.push(Z),O}};b.CharacterJoinerService=d=h([M(0,S.IBufferService)],d)},5114:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CoreBrowserService=void 0,b.CoreBrowserService=class{constructor(u,h){this._textarea=u,this.window=h,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(T,b,u){var h=this&&this.__decorate||function(S,x,d,N){var O,Z=arguments.length,$=Z<3?x:N===null?N=Object.getOwnPropertyDescriptor(x,d):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(S,x,d,N);else for(var U=S.length-1;U>=0;U--)(O=S[U])&&($=(Z<3?O($):Z>3?O(x,d,$):O(x,d))||$);return Z>3&&$&&Object.defineProperty(x,d,$),$},M=this&&this.__param||function(S,x){return function(d,N){x(d,N,S)}};Object.defineProperty(b,"__esModule",{value:!0}),b.MouseService=void 0;let r=u(4725),L=u(9806),v=b.MouseService=class{constructor(S,x){this._renderService=S,this._charSizeService=x}getCoords(S,x,d,N,O){return L.getCoords(window,S,x,d,N,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,O)}getMouseReportCoords(S,x){let d=L.getCoordsRelativeToElement(window,S,x);if(this._charSizeService.hasValidSize)return d[0]=Math.min(Math.max(d[0],0),this._renderService.dimensions.css.canvas.width-1),d[1]=Math.min(Math.max(d[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(d[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(d[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(d[0]),y:Math.floor(d[1])}}};b.MouseService=v=h([M(0,r.IRenderService),M(1,r.ICharSizeService)],v)},3230:function(T,b,u){var h=this&&this.__decorate||function($,U,s,W){var g,K=arguments.length,i=K<3?U:W===null?W=Object.getOwnPropertyDescriptor(U,s):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate($,U,s,W);else for(var J=$.length-1;J>=0;J--)(g=$[J])&&(i=(K<3?g(i):K>3?g(U,s,i):g(U,s))||i);return K>3&&i&&Object.defineProperty(U,s,i),i},M=this&&this.__param||function($,U){return function(s,W){U(s,W,$)}};Object.defineProperty(b,"__esModule",{value:!0}),b.RenderService=void 0;let r=u(3656),L=u(6193),v=u(5596),S=u(4725),x=u(8460),d=u(844),N=u(7226),O=u(2585),Z=b.RenderService=class extends d.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor($,U,s,W,g,K,i,J){if(super(),this._rowCount=$,this._charSizeService=W,this._renderer=this.register(new d.MutableDisposable),this._pausedResizeTask=new N.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new L.RenderDebouncer(i.window,(F,Y)=>this._renderRows(F,Y)),this.register(this._renderDebouncer),this._screenDprMonitor=new v.ScreenDprMonitor(i.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(K.onResize(()=>this._fullRefresh())),this.register(K.buffers.onBufferActivate(()=>{var F;return(F=this._renderer.value)===null||F===void 0?void 0:F.clear()})),this.register(s.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(g.onDecorationRegistered(()=>this._fullRefresh())),this.register(g.onDecorationRemoved(()=>this._fullRefresh())),this.register(s.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(K.cols,K.rows),this._fullRefresh()})),this.register(s.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(K.buffer.y,K.buffer.y,!0))),this.register(r.addDisposableDomListener(i.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(J.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in i.window){let F=new i.window.IntersectionObserver((Y)=>this._handleIntersectionChange(Y[Y.length-1]),{threshold:0});F.observe(U),this.register({dispose:()=>F.disconnect()})}}_handleIntersectionChange($){this._isPaused=$.isIntersecting===void 0?$.intersectionRatio===0:!$.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows($,U,s=!1){this._isPaused?this._needsFullRefresh=!0:(s||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh($,U,this._rowCount))}_renderRows($,U){this._renderer.value&&($=Math.min($,this._rowCount-1),U=Math.min(U,this._rowCount-1),this._renderer.value.renderRows($,U),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:$,end:U}),this._onRender.fire({start:$,end:U}),this._isNextRenderRedrawOnly=!0)}resize($,U){this._rowCount=U,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer($){this._renderer.value=$,this._renderer.value.onRequestRedraw((U)=>this.refreshRows(U.start,U.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback($){return this._renderDebouncer.addRefreshCallback($)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var $,U;this._renderer.value&&((U=($=this._renderer.value).clearTextureAtlas)===null||U===void 0||U.call($),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize($,U){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize($,U)):this._renderer.value.handleResize($,U),this._fullRefresh())}handleCharSizeChanged(){var $;($=this._renderer.value)===null||$===void 0||$.handleCharSizeChanged()}handleBlur(){var $;($=this._renderer.value)===null||$===void 0||$.handleBlur()}handleFocus(){var $;($=this._renderer.value)===null||$===void 0||$.handleFocus()}handleSelectionChanged($,U,s){var W;this._selectionState.start=$,this._selectionState.end=U,this._selectionState.columnSelectMode=s,(W=this._renderer.value)===null||W===void 0||W.handleSelectionChanged($,U,s)}handleCursorMove(){var $;($=this._renderer.value)===null||$===void 0||$.handleCursorMove()}clear(){var $;($=this._renderer.value)===null||$===void 0||$.clear()}};b.RenderService=Z=h([M(2,O.IOptionsService),M(3,S.ICharSizeService),M(4,O.IDecorationService),M(5,O.IBufferService),M(6,S.ICoreBrowserService),M(7,S.IThemeService)],Z)},9312:function(T,b,u){var h=this&&this.__decorate||function(g,K,i,J){var F,Y=arguments.length,l=Y<3?K:J===null?J=Object.getOwnPropertyDescriptor(K,i):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(g,K,i,J);else for(var p=g.length-1;p>=0;p--)(F=g[p])&&(l=(Y<3?F(l):Y>3?F(K,i,l):F(K,i))||l);return Y>3&&l&&Object.defineProperty(K,i,l),l},M=this&&this.__param||function(g,K){return function(i,J){K(i,J,g)}};Object.defineProperty(b,"__esModule",{value:!0}),b.SelectionService=void 0;let r=u(9806),L=u(9504),v=u(456),S=u(4725),x=u(8460),d=u(844),N=u(6114),O=u(4841),Z=u(511),$=u(2585),U=String.fromCharCode(160),s=new RegExp(U,"g"),W=b.SelectionService=class extends d.Disposable{constructor(g,K,i,J,F,Y,l,p,f){super(),this._element=g,this._screenElement=K,this._linkifier=i,this._bufferService=J,this._coreService=F,this._mouseService=Y,this._optionsService=l,this._renderService=p,this._coreBrowserService=f,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new Z.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=(n)=>this._handleMouseMove(n),this._mouseUpListener=(n)=>this._handleMouseUp(n),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim((n)=>this._handleTrim(n)),this.register(this._bufferService.buffers.onBufferActivate((n)=>this._handleBufferActivate(n))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register(d.toDisposable(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let g=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!(!g||!K||g[0]===K[0]&&g[1]===K[1])}get selectionText(){let g=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;if(!g||!K)return"";let i=this._bufferService.buffer,J=[];if(this._activeSelectionMode===3){if(g[0]===K[0])return"";let F=g[0]<K[0]?g[0]:K[0],Y=g[0]<K[0]?K[0]:g[0];for(let l=g[1];l<=K[1];l++){let p=i.translateBufferLineToString(l,!0,F,Y);J.push(p)}}else{let F=g[1]===K[1]?K[0]:void 0;J.push(i.translateBufferLineToString(g[1],!0,g[0],F));for(let Y=g[1]+1;Y<=K[1]-1;Y++){let l=i.lines.get(Y),p=i.translateBufferLineToString(Y,!0);(l==null?void 0:l.isWrapped)?J[J.length-1]+=p:J.push(p)}if(g[1]!==K[1]){let Y=i.lines.get(K[1]),l=i.translateBufferLineToString(K[1],!0,0,K[0]);Y&&Y.isWrapped?J[J.length-1]+=l:J.push(l)}}return J.map((F)=>F.replace(s," ")).join(N.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(g){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),N.isLinux&&g&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(g){let K=this._getMouseBufferCoords(g),i=this._model.finalSelectionStart,J=this._model.finalSelectionEnd;return!!(i&&J&&K)&&this._areCoordsInSelection(K,i,J)}isCellInSelection(g,K){let i=this._model.finalSelectionStart,J=this._model.finalSelectionEnd;return!(!i||!J)&&this._areCoordsInSelection([g,K],i,J)}_areCoordsInSelection(g,K,i){return g[1]>K[1]&&g[1]<i[1]||K[1]===i[1]&&g[1]===K[1]&&g[0]>=K[0]&&g[0]<i[0]||K[1]<i[1]&&g[1]===i[1]&&g[0]<i[0]||K[1]<i[1]&&g[1]===K[1]&&g[0]>=K[0]}_selectWordAtCursor(g,K){var i,J;let F=(J=(i=this._linkifier.currentLink)===null||i===void 0?void 0:i.link)===null||J===void 0?void 0:J.range;if(F)return this._model.selectionStart=[F.start.x-1,F.start.y-1],this._model.selectionStartLength=O.getRangeLength(F,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let Y=this._getMouseBufferCoords(g);return!!Y&&(this._selectWordAt(Y,K),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(g,K){this._model.clearSelection(),g=Math.max(g,0),K=Math.min(K,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,g],this._model.selectionEnd=[this._bufferService.cols,K],this.refresh(),this._onSelectionChange.fire()}_handleTrim(g){this._model.handleTrim(g)&&this.refresh()}_getMouseBufferCoords(g){let K=this._mouseService.getCoords(g,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(K)return K[0]--,K[1]--,K[1]+=this._bufferService.buffer.ydisp,K}_getMouseEventScrollAmount(g){let K=r.getCoordsRelativeToElement(this._coreBrowserService.window,g,this._screenElement)[1],i=this._renderService.dimensions.css.canvas.height;return K>=0&&K<=i?0:(K>i&&(K-=i),K=Math.min(Math.max(K,-50),50),K/=50,K/Math.abs(K)+Math.round(14*K))}shouldForceSelection(g){return N.isMac?g.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:g.shiftKey}handleMouseDown(g){if(this._mouseDownTimeStamp=g.timeStamp,(g.button!==2||!this.hasSelection)&&g.button===0){if(!this._enabled){if(!this.shouldForceSelection(g))return;g.stopPropagation()}g.preventDefault(),this._dragScrollAmount=0,this._enabled&&g.shiftKey?this._handleIncrementalClick(g):g.detail===1?this._handleSingleClick(g):g.detail===2?this._handleDoubleClick(g):g.detail===3&&this._handleTripleClick(g),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(g){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(g))}_handleSingleClick(g){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(g)?3:0,this._model.selectionStart=this._getMouseBufferCoords(g),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let K=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);K&&K.length!==this._model.selectionStart[0]&&K.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(g){this._selectWordAtCursor(g,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(g){let K=this._getMouseBufferCoords(g);K&&(this._activeSelectionMode=2,this._selectLineAt(K[1]))}shouldColumnSelect(g){return g.altKey&&!(N.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(g){if(g.stopImmediatePropagation(),!this._model.selectionStart)return;let K=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(g),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(g),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){let J=i.lines.get(this._model.selectionEnd[1]);J&&J.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}K&&K[0]===this._model.selectionEnd[0]&&K[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let g=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(g.ydisp+this._bufferService.rows,g.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=g.ydisp),this.refresh()}}_handleMouseUp(g){let K=g.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&K<500&&g.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let i=this._mouseService.getCoords(g,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(i&&i[0]!==void 0&&i[1]!==void 0){let J=L.moveToCellSequence(i[0]-1,i[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(J,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let g=this._model.finalSelectionStart,K=this._model.finalSelectionEnd,i=!(!g||!K||g[0]===K[0]&&g[1]===K[1]);i?g&&K&&(this._oldSelectionStart&&this._oldSelectionEnd&&g[0]===this._oldSelectionStart[0]&&g[1]===this._oldSelectionStart[1]&&K[0]===this._oldSelectionEnd[0]&&K[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(g,K,i)):this._oldHasSelection&&this._fireOnSelectionChange(g,K,i)}_fireOnSelectionChange(g,K,i){this._oldSelectionStart=g,this._oldSelectionEnd=K,this._oldHasSelection=i,this._onSelectionChange.fire()}_handleBufferActivate(g){this.clearSelection(),this._trimListener.dispose(),this._trimListener=g.activeBuffer.lines.onTrim((K)=>this._handleTrim(K))}_convertViewportColToCharacterIndex(g,K){let i=K;for(let J=0;K>=J;J++){let F=g.loadCell(J,this._workCell).getChars().length;this._workCell.getWidth()===0?i--:F>1&&K!==J&&(i+=F-1)}return i}setSelection(g,K,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[g,K],this._model.selectionStartLength=i,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(g){this._isClickInSelection(g)||(this._selectWordAtCursor(g,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(g,K,i=!0,J=!0){if(g[0]>=this._bufferService.cols)return;let F=this._bufferService.buffer,Y=F.lines.get(g[1]);if(!Y)return;let l=F.translateBufferLineToString(g[1],!1),p=this._convertViewportColToCharacterIndex(Y,g[0]),f=p,n=g[0]-p,c=0,y=0,q=0,a=0;if(l.charAt(p)===" "){for(;p>0&&l.charAt(p-1)===" ";)p--;for(;f<l.length&&l.charAt(f+1)===" ";)f++}else{let j=g[0],R=g[0];Y.getWidth(j)===0&&(c++,j--),Y.getWidth(R)===2&&(y++,R++);let w=Y.getString(R).length;for(w>1&&(a+=w-1,f+=w-1);j>0&&p>0&&!this._isCharWordSeparator(Y.loadCell(j-1,this._workCell));){Y.loadCell(j-1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===0?(c++,j--):E>1&&(q+=E-1,p-=E-1),p--,j--}for(;R<Y.length&&f+1<l.length&&!this._isCharWordSeparator(Y.loadCell(R+1,this._workCell));){Y.loadCell(R+1,this._workCell);let E=this._workCell.getChars().length;this._workCell.getWidth()===2?(y++,R++):E>1&&(a+=E-1,f+=E-1),f++,R++}}f++;let o=p+n-c+q,m=Math.min(this._bufferService.cols,f-p+c+y-q-a);if(K||l.slice(p,f).trim()!==""){if(i&&o===0&&Y.getCodePoint(0)!==32){let j=F.lines.get(g[1]-1);if(j&&Y.isWrapped&&j.getCodePoint(this._bufferService.cols-1)!==32){let R=this._getWordAt([this._bufferService.cols-1,g[1]-1],!1,!0,!1);if(R){let w=this._bufferService.cols-R.start;o-=w,m+=w}}}if(J&&o+m===this._bufferService.cols&&Y.getCodePoint(this._bufferService.cols-1)!==32){let j=F.lines.get(g[1]+1);if((j==null?void 0:j.isWrapped)&&j.getCodePoint(0)!==32){let R=this._getWordAt([0,g[1]+1],!1,!1,!0);R&&(m+=R.length)}}return{start:o,length:m}}}_selectWordAt(g,K){let i=this._getWordAt(g,K);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,g[1]--;this._model.selectionStart=[i.start,g[1]],this._model.selectionStartLength=i.length}}_selectToWordAt(g){let K=this._getWordAt(g,!0);if(K){let i=g[1];for(;K.start<0;)K.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;K.start+K.length>this._bufferService.cols;)K.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?K.start:K.start+K.length,i]}}_isCharWordSeparator(g){return g.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(g.getChars())>=0}_selectLineAt(g){let K=this._bufferService.buffer.getWrappedRangeForLine(g),i={start:{x:0,y:K.first},end:{x:this._bufferService.cols-1,y:K.last}};this._model.selectionStart=[0,K.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=O.getRangeLength(i,this._bufferService.cols)}};b.SelectionService=W=h([M(3,$.IBufferService),M(4,$.ICoreService),M(5,S.IMouseService),M(6,$.IOptionsService),M(7,S.IRenderService),M(8,S.ICoreBrowserService)],W)},4725:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IThemeService=b.ICharacterJoinerService=b.ISelectionService=b.IRenderService=b.IMouseService=b.ICoreBrowserService=b.ICharSizeService=void 0;let h=u(8343);b.ICharSizeService=h.createDecorator("CharSizeService"),b.ICoreBrowserService=h.createDecorator("CoreBrowserService"),b.IMouseService=h.createDecorator("MouseService"),b.IRenderService=h.createDecorator("RenderService"),b.ISelectionService=h.createDecorator("SelectionService"),b.ICharacterJoinerService=h.createDecorator("CharacterJoinerService"),b.IThemeService=h.createDecorator("ThemeService")},6731:function(T,b,u){var h=this&&this.__decorate||function(W,g,K,i){var J,F=arguments.length,Y=F<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,K):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(W,g,K,i);else for(var l=W.length-1;l>=0;l--)(J=W[l])&&(Y=(F<3?J(Y):F>3?J(g,K,Y):J(g,K))||Y);return F>3&&Y&&Object.defineProperty(g,K,Y),Y},M=this&&this.__param||function(W,g){return function(K,i){g(K,i,W)}};Object.defineProperty(b,"__esModule",{value:!0}),b.ThemeService=b.DEFAULT_ANSI_COLORS=void 0;let r=u(7239),L=u(8055),v=u(8460),S=u(844),x=u(2585),d=L.css.toColor("#ffffff"),N=L.css.toColor("#000000"),O=L.css.toColor("#ffffff"),Z=L.css.toColor("#000000"),$={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};b.DEFAULT_ANSI_COLORS=Object.freeze((()=>{let W=[L.css.toColor("#2e3436"),L.css.toColor("#cc0000"),L.css.toColor("#4e9a06"),L.css.toColor("#c4a000"),L.css.toColor("#3465a4"),L.css.toColor("#75507b"),L.css.toColor("#06989a"),L.css.toColor("#d3d7cf"),L.css.toColor("#555753"),L.css.toColor("#ef2929"),L.css.toColor("#8ae234"),L.css.toColor("#fce94f"),L.css.toColor("#729fcf"),L.css.toColor("#ad7fa8"),L.css.toColor("#34e2e2"),L.css.toColor("#eeeeec")],g=[0,95,135,175,215,255];for(let K=0;K<216;K++){let i=g[K/36%6|0],J=g[K/6%6|0],F=g[K%6];W.push({css:L.channels.toCss(i,J,F),rgba:L.channels.toRgba(i,J,F)})}for(let K=0;K<24;K++){let i=8+10*K;W.push({css:L.channels.toCss(i,i,i),rgba:L.channels.toRgba(i,i,i)})}return W})());let U=b.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(W){super(),this._optionsService=W,this._contrastCache=new r.ColorContrastCache,this._halfContrastCache=new r.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:d,background:N,cursor:O,cursorAccent:Z,selectionForeground:void 0,selectionBackgroundTransparent:$,selectionBackgroundOpaque:L.color.blend(N,$),selectionInactiveBackgroundTransparent:$,selectionInactiveBackgroundOpaque:L.color.blend(N,$),ansi:b.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(W={}){let g=this._colors;if(g.foreground=s(W.foreground,d),g.background=s(W.background,N),g.cursor=s(W.cursor,O),g.cursorAccent=s(W.cursorAccent,Z),g.selectionBackgroundTransparent=s(W.selectionBackground,$),g.selectionBackgroundOpaque=L.color.blend(g.background,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundTransparent=s(W.selectionInactiveBackground,g.selectionBackgroundTransparent),g.selectionInactiveBackgroundOpaque=L.color.blend(g.background,g.selectionInactiveBackgroundTransparent),g.selectionForeground=W.selectionForeground?s(W.selectionForeground,L.NULL_COLOR):void 0,g.selectionForeground===L.NULL_COLOR&&(g.selectionForeground=void 0),L.color.isOpaque(g.selectionBackgroundTransparent))g.selectionBackgroundTransparent=L.color.opacity(g.selectionBackgroundTransparent,0.3);if(L.color.isOpaque(g.selectionInactiveBackgroundTransparent))g.selectionInactiveBackgroundTransparent=L.color.opacity(g.selectionInactiveBackgroundTransparent,0.3);if(g.ansi=b.DEFAULT_ANSI_COLORS.slice(),g.ansi[0]=s(W.black,b.DEFAULT_ANSI_COLORS[0]),g.ansi[1]=s(W.red,b.DEFAULT_ANSI_COLORS[1]),g.ansi[2]=s(W.green,b.DEFAULT_ANSI_COLORS[2]),g.ansi[3]=s(W.yellow,b.DEFAULT_ANSI_COLORS[3]),g.ansi[4]=s(W.blue,b.DEFAULT_ANSI_COLORS[4]),g.ansi[5]=s(W.magenta,b.DEFAULT_ANSI_COLORS[5]),g.ansi[6]=s(W.cyan,b.DEFAULT_ANSI_COLORS[6]),g.ansi[7]=s(W.white,b.DEFAULT_ANSI_COLORS[7]),g.ansi[8]=s(W.brightBlack,b.DEFAULT_ANSI_COLORS[8]),g.ansi[9]=s(W.brightRed,b.DEFAULT_ANSI_COLORS[9]),g.ansi[10]=s(W.brightGreen,b.DEFAULT_ANSI_COLORS[10]),g.ansi[11]=s(W.brightYellow,b.DEFAULT_ANSI_COLORS[11]),g.ansi[12]=s(W.brightBlue,b.DEFAULT_ANSI_COLORS[12]),g.ansi[13]=s(W.brightMagenta,b.DEFAULT_ANSI_COLORS[13]),g.ansi[14]=s(W.brightCyan,b.DEFAULT_ANSI_COLORS[14]),g.ansi[15]=s(W.brightWhite,b.DEFAULT_ANSI_COLORS[15]),W.extendedAnsi){let K=Math.min(g.ansi.length-16,W.extendedAnsi.length);for(let i=0;i<K;i++)g.ansi[i+16]=s(W.extendedAnsi[i],b.DEFAULT_ANSI_COLORS[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(W){this._restoreColor(W),this._onChangeColors.fire(this.colors)}_restoreColor(W){if(W!==void 0)switch(W){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[W]=this._restoreColors.ansi[W]}else for(let g=0;g<this._restoreColors.ansi.length;++g)this._colors.ansi[g]=this._restoreColors.ansi[g]}modifyColors(W){W(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function s(W,g){if(W!==void 0)try{return L.css.toColor(W)}catch(K){}return g}b.ThemeService=U=h([M(0,x.IOptionsService)],U)},6349:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CircularList=void 0;let h=u(8460),M=u(844);class r extends M.Disposable{constructor(L){super(),this._maxLength=L,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(L){if(this._maxLength===L)return;let v=new Array(L);for(let S=0;S<Math.min(L,this.length);S++)v[S]=this._array[this._getCyclicIndex(S)];this._array=v,this._maxLength=L,this._startIndex=0}get length(){return this._length}set length(L){if(L>this._length)for(let v=this._length;v<L;v++)this._array[v]=void 0;this._length=L}get(L){return this._array[this._getCyclicIndex(L)]}set(L,v){this._array[this._getCyclicIndex(L)]=v}push(L){this._array[this._getCyclicIndex(this._length)]=L,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(L,v,...S){if(v){for(let x=L;x<this._length-v;x++)this._array[this._getCyclicIndex(x)]=this._array[this._getCyclicIndex(x+v)];this._length-=v,this.onDeleteEmitter.fire({index:L,amount:v})}for(let x=this._length-1;x>=L;x--)this._array[this._getCyclicIndex(x+S.length)]=this._array[this._getCyclicIndex(x)];for(let x=0;x<S.length;x++)this._array[this._getCyclicIndex(L+x)]=S[x];if(S.length&&this.onInsertEmitter.fire({index:L,amount:S.length}),this._length+S.length>this._maxLength){let x=this._length+S.length-this._maxLength;this._startIndex+=x,this._length=this._maxLength,this.onTrimEmitter.fire(x)}else this._length+=S.length}trimStart(L){L>this._length&&(L=this._length),this._startIndex+=L,this._length-=L,this.onTrimEmitter.fire(L)}shiftElements(L,v,S){if(!(v<=0)){if(L<0||L>=this._length)throw new Error("start argument out of range");if(L+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let d=v-1;d>=0;d--)this.set(L+d+S,this.get(L+d));let x=L+v+S-this._length;if(x>0)for(this._length+=x;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let x=0;x<v;x++)this.set(L+x+S,this.get(L+x))}}_getCyclicIndex(L){return(this._startIndex+L)%this._maxLength}}b.CircularList=r},1439:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.clone=void 0,b.clone=function u(h,M=5){if(typeof h!="object")return h;let r=Array.isArray(h)?[]:{};for(let L in h)r[L]=M<=1?h[L]:h[L]&&u(h[L],M-1);return r}},8055:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.contrastRatio=b.toPaddedHex=b.rgba=b.rgb=b.css=b.color=b.channels=b.NULL_COLOR=void 0;let h=u(6114),M=0,r=0,L=0,v=0;var S,x,d,N,O;function Z(U){let s=U.toString(16);return s.length<2?"0"+s:s}function $(U,s){return U<s?(s+0.05)/(U+0.05):(U+0.05)/(s+0.05)}b.NULL_COLOR={css:"#00000000",rgba:0},function(U){U.toCss=function(s,W,g,K){return K!==void 0?`#${Z(s)}${Z(W)}${Z(g)}${Z(K)}`:`#${Z(s)}${Z(W)}${Z(g)}`},U.toRgba=function(s,W,g,K=255){return(s<<24|W<<16|g<<8|K)>>>0}}(S||(b.channels=S={})),function(U){function s(W,g){return v=Math.round(255*g),[M,r,L]=O.toChannels(W.rgba),{css:S.toCss(M,r,L,v),rgba:S.toRgba(M,r,L,v)}}U.blend=function(W,g){if(v=(255&g.rgba)/255,v===1)return{css:g.css,rgba:g.rgba};let K=g.rgba>>24&255,i=g.rgba>>16&255,J=g.rgba>>8&255,F=W.rgba>>24&255,Y=W.rgba>>16&255,l=W.rgba>>8&255;return M=F+Math.round((K-F)*v),r=Y+Math.round((i-Y)*v),L=l+Math.round((J-l)*v),{css:S.toCss(M,r,L),rgba:S.toRgba(M,r,L)}},U.isOpaque=function(W){return(255&W.rgba)==255},U.ensureContrastRatio=function(W,g,K){let i=O.ensureContrastRatio(W.rgba,g.rgba,K);if(i)return O.toColor(i>>24&255,i>>16&255,i>>8&255)},U.opaque=function(W){let g=(255|W.rgba)>>>0;return[M,r,L]=O.toChannels(g),{css:S.toCss(M,r,L),rgba:g}},U.opacity=s,U.multiplyOpacity=function(W,g){return v=255&W.rgba,s(W,v*g/255)},U.toColorRGB=function(W){return[W.rgba>>24&255,W.rgba>>16&255,W.rgba>>8&255]}}(x||(b.color=x={})),function(U){let s,W;if(!h.isNode){let g=document.createElement("canvas");g.width=1,g.height=1;let K=g.getContext("2d",{willReadFrequently:!0});K&&(s=K,s.globalCompositeOperation="copy",W=s.createLinearGradient(0,0,1,1))}U.toColor=function(g){if(g.match(/#[\da-f]{3,8}/i))switch(g.length){case 4:return M=parseInt(g.slice(1,2).repeat(2),16),r=parseInt(g.slice(2,3).repeat(2),16),L=parseInt(g.slice(3,4).repeat(2),16),O.toColor(M,r,L);case 5:return M=parseInt(g.slice(1,2).repeat(2),16),r=parseInt(g.slice(2,3).repeat(2),16),L=parseInt(g.slice(3,4).repeat(2),16),v=parseInt(g.slice(4,5).repeat(2),16),O.toColor(M,r,L,v);case 7:return{css:g,rgba:(parseInt(g.slice(1),16)<<8|255)>>>0};case 9:return{css:g,rgba:parseInt(g.slice(1),16)>>>0}}let K=g.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(K)return M=parseInt(K[1]),r=parseInt(K[2]),L=parseInt(K[3]),v=Math.round(255*(K[5]===void 0?1:parseFloat(K[5]))),O.toColor(M,r,L,v);if(!s||!W)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=W,s.fillStyle=g,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[M,r,L,v]=s.getImageData(0,0,1,1).data,v!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(M,r,L,v),css:g}}}(d||(b.css=d={})),function(U){function s(W,g,K){let i=W/255,J=g/255,F=K/255;return 0.2126*(i<=0.03928?i/12.92:Math.pow((i+0.055)/1.055,2.4))+0.7152*(J<=0.03928?J/12.92:Math.pow((J+0.055)/1.055,2.4))+0.0722*(F<=0.03928?F/12.92:Math.pow((F+0.055)/1.055,2.4))}U.relativeLuminance=function(W){return s(W>>16&255,W>>8&255,255&W)},U.relativeLuminance2=s}(N||(b.rgb=N={})),function(U){function s(g,K,i){let J=g>>24&255,F=g>>16&255,Y=g>>8&255,l=K>>24&255,p=K>>16&255,f=K>>8&255,n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));for(;n<i&&(l>0||p>0||f>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),f-=Math.max(0,Math.ceil(0.1*f)),n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));return(l<<24|p<<16|f<<8|255)>>>0}function W(g,K,i){let J=g>>24&255,F=g>>16&255,Y=g>>8&255,l=K>>24&255,p=K>>16&255,f=K>>8&255,n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));for(;n<i&&(l<255||p<255||f<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),f=Math.min(255,f+Math.ceil(0.1*(255-f))),n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));return(l<<24|p<<16|f<<8|255)>>>0}U.ensureContrastRatio=function(g,K,i){let J=N.relativeLuminance(g>>8),F=N.relativeLuminance(K>>8);if($(J,F)<i){if(F<J){let p=s(g,K,i),f=$(J,N.relativeLuminance(p>>8));if(f<i){let n=W(g,K,i);return f>$(J,N.relativeLuminance(n>>8))?p:n}return p}let Y=W(g,K,i),l=$(J,N.relativeLuminance(Y>>8));if(l<i){let p=s(g,K,i);return l>$(J,N.relativeLuminance(p>>8))?Y:p}return Y}},U.reduceLuminance=s,U.increaseLuminance=W,U.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},U.toColor=function(g,K,i,J){return{css:S.toCss(g,K,i,J),rgba:S.toRgba(g,K,i,J)}}}(O||(b.rgba=O={})),b.toPaddedHex=Z,b.contrastRatio=$},8969:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CoreTerminal=void 0;let h=u(844),M=u(2585),r=u(4348),L=u(7866),v=u(744),S=u(7302),x=u(6975),d=u(8460),N=u(1753),O=u(1480),Z=u(7994),$=u(9282),U=u(5435),s=u(5981),W=u(2660),g=!1;class K extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new d.EventEmitter),this._onScroll.event((i)=>{var J;(J=this._onScrollApi)===null||J===void 0||J.fire(i.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(i){for(let J in i)this.optionsService.options[J]=i[J]}constructor(i){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new d.EventEmitter),this._instantiationService=new r.InstantiationService,this.optionsService=this.register(new S.OptionsService(i)),this._instantiationService.setService(M.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(M.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(L.LogService)),this._instantiationService.setService(M.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(M.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(N.CoreMouseService)),this._instantiationService.setService(M.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(O.UnicodeService)),this._instantiationService.setService(M.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(Z.CharsetService),this._instantiationService.setService(M.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(W.OscLinkService),this._instantiationService.setService(M.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new U.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register(d.forwardEvent(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register(d.forwardEvent(this._bufferService.onResize,this._onResize)),this.register(d.forwardEvent(this.coreService.onData,this._onData)),this.register(d.forwardEvent(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll((J)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll((J)=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new s.WriteBuffer((J,F)=>this._inputHandler.parse(J,F))),this.register(d.forwardEvent(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(i,J){this._writeBuffer.write(i,J)}writeSync(i,J){this._logService.logLevel<=M.LogLevelEnum.WARN&&!g&&(this._logService.warn("writeSync is unreliable and will be removed soon."),g=!0),this._writeBuffer.writeSync(i,J)}resize(i,J){isNaN(i)||isNaN(J)||(i=Math.max(i,v.MINIMUM_COLS),J=Math.max(J,v.MINIMUM_ROWS),this._bufferService.resize(i,J))}scroll(i,J=!1){this._bufferService.scroll(i,J)}scrollLines(i,J,F){this._bufferService.scrollLines(i,J,F)}scrollPages(i){this.scrollLines(i*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(i){let J=i-this._bufferService.buffer.ydisp;J!==0&&this.scrollLines(J)}registerEscHandler(i,J){return this._inputHandler.registerEscHandler(i,J)}registerDcsHandler(i,J){return this._inputHandler.registerDcsHandler(i,J)}registerCsiHandler(i,J){return this._inputHandler.registerCsiHandler(i,J)}registerOscHandler(i,J){return this._inputHandler.registerOscHandler(i,J)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let i=!1,J=this.optionsService.rawOptions.windowsPty;J&&J.buildNumber!==void 0&&J.buildNumber!==void 0?i=J.backend==="conpty"&&J.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(i=!0),i?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let i=[];i.push(this.onLineFeed($.updateWindowsModeWrappedState.bind(null,this._bufferService))),i.push(this.registerCsiHandler({final:"H"},()=>($.updateWindowsModeWrappedState(this._bufferService),!1))),this._windowsWrappingHeuristics.value=h.toDisposable(()=>{for(let J of i)J.dispose()})}}}b.CoreTerminal=K},8460:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.forwardEvent=b.EventEmitter=void 0,b.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){let M=[];for(let r=0;r<this._listeners.length;r++)M.push(this._listeners[r]);for(let r=0;r<M.length;r++)M[r].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},b.forwardEvent=function(u,h){return u((M)=>h.fire(M))}},5435:function(T,b,u){var h=this&&this.__decorate||function(n,c,y,q){var a,o=arguments.length,m=o<3?c:q===null?q=Object.getOwnPropertyDescriptor(c,y):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(n,c,y,q);else for(var j=n.length-1;j>=0;j--)(a=n[j])&&(m=(o<3?a(m):o>3?a(c,y,m):a(c,y))||m);return o>3&&m&&Object.defineProperty(c,y,m),m},M=this&&this.__param||function(n,c){return function(y,q){c(y,q,n)}};Object.defineProperty(b,"__esModule",{value:!0}),b.InputHandler=b.WindowsOptionsReportType=void 0;let r=u(2584),L=u(7116),v=u(2015),S=u(844),x=u(482),d=u(8437),N=u(8460),O=u(643),Z=u(511),$=u(3734),U=u(2585),s=u(6242),W=u(6351),g=u(5941),K={"(":0,")":1,"*":2,"+":3,"-":1,".":2},i=131072;function J(n,c){if(n>24)return c.setWinLines||!1;switch(n){case 1:return!!c.restoreWin;case 2:return!!c.minimizeWin;case 3:return!!c.setWinPosition;case 4:return!!c.setWinSizePixels;case 5:return!!c.raiseWin;case 6:return!!c.lowerWin;case 7:return!!c.refreshWin;case 8:return!!c.setWinSizeChars;case 9:return!!c.maximizeWin;case 10:return!!c.fullscreenWin;case 11:return!!c.getWinState;case 13:return!!c.getWinPosition;case 14:return!!c.getWinSizePixels;case 15:return!!c.getScreenSizePixels;case 16:return!!c.getCellSizePixels;case 18:return!!c.getWinSizeChars;case 19:return!!c.getScreenSizeChars;case 20:return!!c.getIconTitle;case 21:return!!c.getWinTitle;case 22:return!!c.pushTitle;case 23:return!!c.popTitle;case 24:return!!c.setWinLines}return!1}var F;(function(n){n[n.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",n[n.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(F||(b.WindowsOptionsReportType=F={}));let Y=0;class l extends S.Disposable{getAttrData(){return this._curAttrData}constructor(n,c,y,q,a,o,m,j,R=new v.EscapeSequenceParser){super(),this._bufferService=n,this._charsetService=c,this._coreService=y,this._logService=q,this._optionsService=a,this._oscLinkService=o,this._coreMouseService=m,this._unicodeService=j,this._parser=R,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new Z.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new N.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new N.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new N.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new N.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new N.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new N.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new N.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new N.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new N.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new N.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new N.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new N.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new N.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new p(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((w)=>this._activeBuffer=w.activeBuffer)),this._parser.setCsiHandlerFallback((w,E)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(w),params:E.toArray()})}),this._parser.setEscHandlerFallback((w)=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(w)})}),this._parser.setExecuteHandlerFallback((w)=>{this._logService.debug("Unknown EXECUTE code: ",{code:w})}),this._parser.setOscHandlerFallback((w,E,B)=>{this._logService.debug("Unknown OSC code: ",{identifier:w,action:E,data:B})}),this._parser.setDcsHandlerFallback((w,E,B)=>{E==="HOOK"&&(B=B.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(w),action:E,payload:B})}),this._parser.setPrintHandler((w,E,B)=>this.print(w,E,B)),this._parser.registerCsiHandler({final:"@"},(w)=>this.insertChars(w)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(w)=>this.scrollLeft(w)),this._parser.registerCsiHandler({final:"A"},(w)=>this.cursorUp(w)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(w)=>this.scrollRight(w)),this._parser.registerCsiHandler({final:"B"},(w)=>this.cursorDown(w)),this._parser.registerCsiHandler({final:"C"},(w)=>this.cursorForward(w)),this._parser.registerCsiHandler({final:"D"},(w)=>this.cursorBackward(w)),this._parser.registerCsiHandler({final:"E"},(w)=>this.cursorNextLine(w)),this._parser.registerCsiHandler({final:"F"},(w)=>this.cursorPrecedingLine(w)),this._parser.registerCsiHandler({final:"G"},(w)=>this.cursorCharAbsolute(w)),this._parser.registerCsiHandler({final:"H"},(w)=>this.cursorPosition(w)),this._parser.registerCsiHandler({final:"I"},(w)=>this.cursorForwardTab(w)),this._parser.registerCsiHandler({final:"J"},(w)=>this.eraseInDisplay(w,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},(w)=>this.eraseInDisplay(w,!0)),this._parser.registerCsiHandler({final:"K"},(w)=>this.eraseInLine(w,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},(w)=>this.eraseInLine(w,!0)),this._parser.registerCsiHandler({final:"L"},(w)=>this.insertLines(w)),this._parser.registerCsiHandler({final:"M"},(w)=>this.deleteLines(w)),this._parser.registerCsiHandler({final:"P"},(w)=>this.deleteChars(w)),this._parser.registerCsiHandler({final:"S"},(w)=>this.scrollUp(w)),this._parser.registerCsiHandler({final:"T"},(w)=>this.scrollDown(w)),this._parser.registerCsiHandler({final:"X"},(w)=>this.eraseChars(w)),this._parser.registerCsiHandler({final:"Z"},(w)=>this.cursorBackwardTab(w)),this._parser.registerCsiHandler({final:"`"},(w)=>this.charPosAbsolute(w)),this._parser.registerCsiHandler({final:"a"},(w)=>this.hPositionRelative(w)),this._parser.registerCsiHandler({final:"b"},(w)=>this.repeatPrecedingCharacter(w)),this._parser.registerCsiHandler({final:"c"},(w)=>this.sendDeviceAttributesPrimary(w)),this._parser.registerCsiHandler({prefix:">",final:"c"},(w)=>this.sendDeviceAttributesSecondary(w)),this._parser.registerCsiHandler({final:"d"},(w)=>this.linePosAbsolute(w)),this._parser.registerCsiHandler({final:"e"},(w)=>this.vPositionRelative(w)),this._parser.registerCsiHandler({final:"f"},(w)=>this.hVPosition(w)),this._parser.registerCsiHandler({final:"g"},(w)=>this.tabClear(w)),this._parser.registerCsiHandler({final:"h"},(w)=>this.setMode(w)),this._parser.registerCsiHandler({prefix:"?",final:"h"},(w)=>this.setModePrivate(w)),this._parser.registerCsiHandler({final:"l"},(w)=>this.resetMode(w)),this._parser.registerCsiHandler({prefix:"?",final:"l"},(w)=>this.resetModePrivate(w)),this._parser.registerCsiHandler({final:"m"},(w)=>this.charAttributes(w)),this._parser.registerCsiHandler({final:"n"},(w)=>this.deviceStatus(w)),this._parser.registerCsiHandler({prefix:"?",final:"n"},(w)=>this.deviceStatusPrivate(w)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(w)=>this.softReset(w)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(w)=>this.setCursorStyle(w)),this._parser.registerCsiHandler({final:"r"},(w)=>this.setScrollRegion(w)),this._parser.registerCsiHandler({final:"s"},(w)=>this.saveCursor(w)),this._parser.registerCsiHandler({final:"t"},(w)=>this.windowOptions(w)),this._parser.registerCsiHandler({final:"u"},(w)=>this.restoreCursor(w)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(w)=>this.insertColumns(w)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(w)=>this.deleteColumns(w)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(w)=>this.selectProtected(w)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(w)=>this.requestMode(w,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(w)=>this.requestMode(w,!1)),this._parser.setExecuteHandler(r.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(r.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(r.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(r.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(r.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(r.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(r.C1.IND,()=>this.index()),this._parser.setExecuteHandler(r.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(r.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new s.OscHandler((w)=>(this.setTitle(w),this.setIconName(w),!0))),this._parser.registerOscHandler(1,new s.OscHandler((w)=>this.setIconName(w))),this._parser.registerOscHandler(2,new s.OscHandler((w)=>this.setTitle(w))),this._parser.registerOscHandler(4,new s.OscHandler((w)=>this.setOrReportIndexedColor(w))),this._parser.registerOscHandler(8,new s.OscHandler((w)=>this.setHyperlink(w))),this._parser.registerOscHandler(10,new s.OscHandler((w)=>this.setOrReportFgColor(w))),this._parser.registerOscHandler(11,new s.OscHandler((w)=>this.setOrReportBgColor(w))),this._parser.registerOscHandler(12,new s.OscHandler((w)=>this.setOrReportCursorColor(w))),this._parser.registerOscHandler(104,new s.OscHandler((w)=>this.restoreIndexedColor(w))),this._parser.registerOscHandler(110,new s.OscHandler((w)=>this.restoreFgColor(w))),this._parser.registerOscHandler(111,new s.OscHandler((w)=>this.restoreBgColor(w))),this._parser.registerOscHandler(112,new s.OscHandler((w)=>this.restoreCursorColor(w))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let w in L.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:w},()=>this.selectCharset("("+w)),this._parser.registerEscHandler({intermediates:")",final:w},()=>this.selectCharset(")"+w)),this._parser.registerEscHandler({intermediates:"*",final:w},()=>this.selectCharset("*"+w)),this._parser.registerEscHandler({intermediates:"+",final:w},()=>this.selectCharset("+"+w)),this._parser.registerEscHandler({intermediates:"-",final:w},()=>this.selectCharset("-"+w)),this._parser.registerEscHandler({intermediates:".",final:w},()=>this.selectCharset("."+w)),this._parser.registerEscHandler({intermediates:"/",final:w},()=>this.selectCharset("/"+w));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler((w)=>(this._logService.error("Parsing error: ",w),w)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new W.DcsHandler((w,E)=>this.requestStatusString(w,E)))}_preserveStack(n,c,y,q){this._parseStack.paused=!0,this._parseStack.cursorStartX=n,this._parseStack.cursorStartY=c,this._parseStack.decodedLength=y,this._parseStack.position=q}_logSlowResolvingAsync(n){this._logService.logLevel<=U.LogLevelEnum.WARN&&Promise.race([n,new Promise((c,y)=>setTimeout(()=>y("#SLOW_TIMEOUT"),5000))]).catch((c)=>{if(c!=="#SLOW_TIMEOUT")throw c;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(n,c){let y,q=this._activeBuffer.x,a=this._activeBuffer.y,o=0,m=this._parseStack.paused;if(m){if(y=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,c))return this._logSlowResolvingAsync(y),y;q=this._parseStack.cursorStartX,a=this._parseStack.cursorStartY,this._parseStack.paused=!1,n.length>i&&(o=this._parseStack.position+i)}if(this._logService.logLevel<=U.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof n=="string"?` "${n}"`:` "${Array.prototype.map.call(n,(j)=>String.fromCharCode(j)).join("")}"`),typeof n=="string"?n.split("").map((j)=>j.charCodeAt(0)):n),this._parseBuffer.length<n.length&&this._parseBuffer.length<i&&(this._parseBuffer=new Uint32Array(Math.min(n.length,i))),m||this._dirtyRowTracker.clearRange(),n.length>i)for(let j=o;j<n.length;j+=i){let R=j+i<n.length?j+i:n.length,w=typeof n=="string"?this._stringDecoder.decode(n.substring(j,R),this._parseBuffer):this._utf8Decoder.decode(n.subarray(j,R),this._parseBuffer);if(y=this._parser.parse(this._parseBuffer,w))return this._preserveStack(q,a,w,j),this._logSlowResolvingAsync(y),y}else if(!m){let j=typeof n=="string"?this._stringDecoder.decode(n,this._parseBuffer):this._utf8Decoder.decode(n,this._parseBuffer);if(y=this._parser.parse(this._parseBuffer,j))return this._preserveStack(q,a,j,0),this._logSlowResolvingAsync(y),y}this._activeBuffer.x===q&&this._activeBuffer.y===a||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(n,c,y){let q,a,o=this._charsetService.charset,m=this._optionsService.rawOptions.screenReaderMode,j=this._bufferService.cols,R=this._coreService.decPrivateModes.wraparound,w=this._coreService.modes.insertMode,E=this._curAttrData,B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&y-c>0&&B.getWidth(this._activeBuffer.x-1)===2&&B.setCellFromCodePoint(this._activeBuffer.x-1,0,1,E.fg,E.bg,E.extended);for(let e=c;e<y;++e){if(q=n[e],a=this._unicodeService.wcwidth(q),q<127&&o){let Q=o[String.fromCharCode(q)];Q&&(q=Q.charCodeAt(0))}if(m&&this._onA11yChar.fire(x.stringFromCodePoint(q)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),a||!this._activeBuffer.x){if(this._activeBuffer.x+a-1>=j){if(R){for(;this._activeBuffer.x<j;)B.setCellFromCodePoint(this._activeBuffer.x++,0,1,E.fg,E.bg,E.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=j-1,a===2)continue}if(w&&(B.insertCells(this._activeBuffer.x,a,this._activeBuffer.getNullCell(E),E),B.getWidth(j-1)===2&&B.setCellFromCodePoint(j-1,O.NULL_CELL_CODE,O.NULL_CELL_WIDTH,E.fg,E.bg,E.extended)),B.setCellFromCodePoint(this._activeBuffer.x++,q,a,E.fg,E.bg,E.extended),a>0)for(;--a;)B.setCellFromCodePoint(this._activeBuffer.x++,0,0,E.fg,E.bg,E.extended)}else B.getWidth(this._activeBuffer.x-1)?B.addCodepointToCell(this._activeBuffer.x-1,q):B.addCodepointToCell(this._activeBuffer.x-2,q)}y-c>0&&(B.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<j&&y-c>0&&B.getWidth(this._activeBuffer.x)===0&&!B.hasContent(this._activeBuffer.x)&&B.setCellFromCodePoint(this._activeBuffer.x,0,1,E.fg,E.bg,E.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(n,c){return n.final!=="t"||n.prefix||n.intermediates?this._parser.registerCsiHandler(n,c):this._parser.registerCsiHandler(n,(y)=>!J(y.params[0],this._optionsService.rawOptions.windowOptions)||c(y))}registerDcsHandler(n,c){return this._parser.registerDcsHandler(n,new W.DcsHandler(c))}registerEscHandler(n,c){return this._parser.registerEscHandler(n,c)}registerOscHandler(n,c){return this._parser.registerOscHandler(n,new s.OscHandler(c))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var n;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((n=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||n===void 0?void 0:n.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);c.hasWidth(this._activeBuffer.x)&&!c.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let n=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-n),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(n=this._bufferService.cols-1){this._activeBuffer.x=Math.min(n,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(n,c){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=n,this._activeBuffer.y=this._activeBuffer.scrollTop+c):(this._activeBuffer.x=n,this._activeBuffer.y=c),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(n,c){this._restrictCursor(),this._setCursor(this._activeBuffer.x+n,this._activeBuffer.y+c)}cursorUp(n){let c=this._activeBuffer.y-this._activeBuffer.scrollTop;return c>=0?this._moveCursor(0,-Math.min(c,n.params[0]||1)):this._moveCursor(0,-(n.params[0]||1)),!0}cursorDown(n){let c=this._activeBuffer.scrollBottom-this._activeBuffer.y;return c>=0?this._moveCursor(0,Math.min(c,n.params[0]||1)):this._moveCursor(0,n.params[0]||1),!0}cursorForward(n){return this._moveCursor(n.params[0]||1,0),!0}cursorBackward(n){return this._moveCursor(-(n.params[0]||1),0),!0}cursorNextLine(n){return this.cursorDown(n),this._activeBuffer.x=0,!0}cursorPrecedingLine(n){return this.cursorUp(n),this._activeBuffer.x=0,!0}cursorCharAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(n){return this._setCursor(n.length>=2?(n.params[1]||1)-1:0,(n.params[0]||1)-1),!0}charPosAbsolute(n){return this._setCursor((n.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(n){return this._moveCursor(n.params[0]||1,0),!0}linePosAbsolute(n){return this._setCursor(this._activeBuffer.x,(n.params[0]||1)-1),!0}vPositionRelative(n){return this._moveCursor(0,n.params[0]||1),!0}hVPosition(n){return this.cursorPosition(n),!0}tabClear(n){let c=n.params[0];return c===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:c===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(n){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let c=n.params[0]||1;for(;c--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(n){let c=n.params[0];return c===1&&(this._curAttrData.bg|=536870912),c!==2&&c!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(n,c,y,q=!1,a=!1){let o=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);o.replaceCells(c,y,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),a),q&&(o.isWrapped=!1)}_resetBufferLine(n,c=!1){let y=this._activeBuffer.lines.get(this._activeBuffer.ybase+n);y&&(y.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),c),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+n),y.isWrapped=!1)}eraseInDisplay(n,c=!1){let y;switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:for(y=this._activeBuffer.y,this._dirtyRowTracker.markDirty(y),this._eraseInBufferLine(y++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);y<this._bufferService.rows;y++)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(y);break;case 1:for(y=this._activeBuffer.y,this._dirtyRowTracker.markDirty(y),this._eraseInBufferLine(y,0,this._activeBuffer.x+1,!0,c),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(y+1).isWrapped=!1);y--;)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(0);break;case 2:for(y=this._bufferService.rows,this._dirtyRowTracker.markDirty(y-1);y--;)this._resetBufferLine(y,c);this._dirtyRowTracker.markDirty(0);break;case 3:let q=this._activeBuffer.lines.length-this._bufferService.rows;q>0&&(this._activeBuffer.lines.trimStart(q),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-q,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-q,0),this._onScroll.fire(0))}return!0}eraseInLine(n,c=!1){switch(this._restrictCursor(this._bufferService.cols),n.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,c);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,c);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,c)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let y=this._activeBuffer.ybase+this._activeBuffer.y,q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,a=this._bufferService.rows-1+this._activeBuffer.ybase-q+1;for(;c--;)this._activeBuffer.lines.splice(a-1,1),this._activeBuffer.lines.splice(y,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(n){this._restrictCursor();let c=n.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let y=this._activeBuffer.ybase+this._activeBuffer.y,q;for(q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,q=this._bufferService.rows-1+this._activeBuffer.ybase-q;c--;)this._activeBuffer.lines.splice(y,1),this._activeBuffer.lines.splice(q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(n){this._restrictCursor();let c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.insertCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(n){this._restrictCursor();let c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.deleteCells(this._activeBuffer.x,n.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(n){let c=n.params[0]||1;for(;c--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.deleteCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.insertCells(0,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.insertCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(n){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let c=n.params[0]||1;for(let y=this._activeBuffer.scrollTop;y<=this._activeBuffer.scrollBottom;++y){let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+y);q.deleteCells(this._activeBuffer.x,c,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(n){this._restrictCursor();let c=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return c&&(c.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(n.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(n){if(!this._parser.precedingCodepoint)return!0;let c=n.params[0]||1,y=new Uint32Array(c);for(let q=0;q<c;++q)y[q]=this._parser.precedingCodepoint;return this.print(y,0,y.length),!0}sendDeviceAttributesPrimary(n){return n.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(r.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(r.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(n){return n.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(r.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(r.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(n.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(r.C0.ESC+"[>83;40003;0c")),!0}_is(n){return(this._optionsService.rawOptions.termName+"").indexOf(n)===0}setMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),this._charsetService.setgCharset(1,L.DEFAULT_CHARSET),this._charsetService.setgCharset(2,L.DEFAULT_CHARSET),this._charsetService.setgCharset(3,L.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1000:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(n){for(let c=0;c<n.length;c++)switch(n.params[c]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1000:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),n.params[c]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(n,c){let y=this._coreService.decPrivateModes,{activeProtocol:q,activeEncoding:a}=this._coreMouseService,o=this._coreService,{buffers:m,cols:j}=this._bufferService,{active:R,alt:w}=m,E=this._optionsService.rawOptions,B=(A)=>A?1:2,e=n.params[0];return Q=e,I=c?e===2?4:e===4?B(o.modes.insertMode):e===12?3:e===20?B(E.convertEol):0:e===1?B(y.applicationCursorKeys):e===3?E.windowOptions.setWinLines?j===80?2:j===132?1:0:0:e===6?B(y.origin):e===7?B(y.wraparound):e===8?3:e===9?B(q==="X10"):e===12?B(E.cursorBlink):e===25?B(!o.isCursorHidden):e===45?B(y.reverseWraparound):e===66?B(y.applicationKeypad):e===67?4:e===1000?B(q==="VT200"):e===1002?B(q==="DRAG"):e===1003?B(q==="ANY"):e===1004?B(y.sendFocus):e===1005?4:e===1006?B(a==="SGR"):e===1015?4:e===1016?B(a==="SGR_PIXELS"):e===1048?1:e===47||e===1047||e===1049?B(R===w):e===2004?B(y.bracketedPasteMode):0,o.triggerDataEvent(`${r.C0.ESC}[${c?"":"?"}${Q};${I}$y`),!0;var Q,I}_updateAttrColor(n,c,y,q,a){return c===2?(n|=50331648,n&=-16777216,n|=$.AttributeData.fromColorRGB([y,q,a])):c===5&&(n&=-50331904,n|=33554432|255&y),n}_extractColor(n,c,y){let q=[0,0,-1,0,0,0],a=0,o=0;do{if(q[o+a]=n.params[c+o],n.hasSubParams(c+o)){let m=n.getSubParams(c+o),j=0;do q[1]===5&&(a=1),q[o+j+1+a]=m[j];while(++j<m.length&&j+o+1+a<q.length);break}if(q[1]===5&&o+a>=2||q[1]===2&&o+a>=5)break;q[1]&&(a=1)}while(++o+c<n.length&&o+a<q.length);for(let m=2;m<q.length;++m)q[m]===-1&&(q[m]=0);switch(q[0]){case 38:y.fg=this._updateAttrColor(y.fg,q[1],q[3],q[4],q[5]);break;case 48:y.bg=this._updateAttrColor(y.bg,q[1],q[3],q[4],q[5]);break;case 58:y.extended=y.extended.clone(),y.extended.underlineColor=this._updateAttrColor(y.extended.underlineColor,q[1],q[3],q[4],q[5])}return o}_processUnderline(n,c){c.extended=c.extended.clone(),(!~n||n>5)&&(n=1),c.extended.underlineStyle=n,c.fg|=268435456,n===0&&(c.fg&=-268435457),c.updateExtended()}_processSGR0(n){n.fg=d.DEFAULT_ATTR_DATA.fg,n.bg=d.DEFAULT_ATTR_DATA.bg,n.extended=n.extended.clone(),n.extended.underlineStyle=0,n.extended.underlineColor&=-67108864,n.updateExtended()}charAttributes(n){if(n.length===1&&n.params[0]===0)return this._processSGR0(this._curAttrData),!0;let c=n.length,y,q=this._curAttrData;for(let a=0;a<c;a++)y=n.params[a],y>=30&&y<=37?(q.fg&=-50331904,q.fg|=16777216|y-30):y>=40&&y<=47?(q.bg&=-50331904,q.bg|=16777216|y-40):y>=90&&y<=97?(q.fg&=-50331904,q.fg|=16777224|y-90):y>=100&&y<=107?(q.bg&=-50331904,q.bg|=16777224|y-100):y===0?this._processSGR0(q):y===1?q.fg|=134217728:y===3?q.bg|=67108864:y===4?(q.fg|=268435456,this._processUnderline(n.hasSubParams(a)?n.getSubParams(a)[0]:1,q)):y===5?q.fg|=536870912:y===7?q.fg|=67108864:y===8?q.fg|=1073741824:y===9?q.fg|=2147483648:y===2?q.bg|=134217728:y===21?this._processUnderline(2,q):y===22?(q.fg&=-134217729,q.bg&=-134217729):y===23?q.bg&=-67108865:y===24?(q.fg&=-268435457,this._processUnderline(0,q)):y===25?q.fg&=-536870913:y===27?q.fg&=-67108865:y===28?q.fg&=-1073741825:y===29?q.fg&=2147483647:y===39?(q.fg&=-67108864,q.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):y===49?(q.bg&=-67108864,q.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):y===38||y===48||y===58?a+=this._extractColor(n,a,q):y===53?q.bg|=1073741824:y===55?q.bg&=-1073741825:y===59?(q.extended=q.extended.clone(),q.extended.underlineColor=-1,q.updateExtended()):y===100?(q.fg&=-67108864,q.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,q.bg&=-67108864,q.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",y);return!0}deviceStatus(n){switch(n.params[0]){case 5:this._coreService.triggerDataEvent(`${r.C0.ESC}[0n`);break;case 6:let c=this._activeBuffer.y+1,y=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${r.C0.ESC}[${c};${y}R`)}return!0}deviceStatusPrivate(n){if(n.params[0]===6){let c=this._activeBuffer.y+1,y=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${r.C0.ESC}[?${c};${y}R`)}return!0}softReset(n){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(n){let c=n.params[0]||1;switch(c){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}let y=c%2==1;return this._optionsService.options.cursorBlink=y,!0}setScrollRegion(n){let c=n.params[0]||1,y;return(n.length<2||(y=n.params[1])>this._bufferService.rows||y===0)&&(y=this._bufferService.rows),y>c&&(this._activeBuffer.scrollTop=c-1,this._activeBuffer.scrollBottom=y-1,this._setCursor(0,0)),!0}windowOptions(n){if(!J(n.params[0],this._optionsService.rawOptions.windowOptions))return!0;let c=n.length>1?n.params[1]:0;switch(n.params[0]){case 14:c!==2&&this._onRequestWindowsOptionsReport.fire(F.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(F.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${r.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:c!==0&&c!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),c!==0&&c!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:c!==0&&c!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),c!==0&&c!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(n){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(n){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(n){return this._windowTitle=n,this._onTitleChange.fire(n),!0}setIconName(n){return this._iconName=n,!0}setOrReportIndexedColor(n){let c=[],y=n.split(";");for(;y.length>1;){let q=y.shift(),a=y.shift();if(/^\d+$/.exec(q)){let o=parseInt(q);if(f(o))if(a==="?")c.push({type:0,index:o});else{let m=g.parseColor(a);m&&c.push({type:1,index:o,color:m})}}}return c.length&&this._onColor.fire(c),!0}setHyperlink(n){let c=n.split(";");return!(c.length<2)&&(c[1]?this._createHyperlink(c[0],c[1]):!c[0]&&this._finishHyperlink())}_createHyperlink(n,c){this._getCurrentLinkId()&&this._finishHyperlink();let y=n.split(":"),q,a=y.findIndex((o)=>o.startsWith("id="));return a!==-1&&(q=y[a].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:q,uri:c}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(n,c){let y=n.split(";");for(let q=0;q<y.length&&!(c>=this._specialColors.length);++q,++c)if(y[q]==="?")this._onColor.fire([{type:0,index:this._specialColors[c]}]);else{let a=g.parseColor(y[q]);a&&this._onColor.fire([{type:1,index:this._specialColors[c],color:a}])}return!0}setOrReportFgColor(n){return this._setOrReportSpecialColor(n,0)}setOrReportBgColor(n){return this._setOrReportSpecialColor(n,1)}setOrReportCursorColor(n){return this._setOrReportSpecialColor(n,2)}restoreIndexedColor(n){if(!n)return this._onColor.fire([{type:2}]),!0;let c=[],y=n.split(";");for(let q=0;q<y.length;++q)if(/^\d+$/.exec(y[q])){let a=parseInt(y[q]);f(a)&&c.push({type:2,index:a})}return c.length&&this._onColor.fire(c),!0}restoreFgColor(n){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(n){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(n){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,L.DEFAULT_CHARSET),!0}selectCharset(n){return n.length!==2?(this.selectDefaultCharset(),!0):(n[0]==="/"||this._charsetService.setgCharset(K[n[0]],L.CHARSETS[n[1]]||L.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let n=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,n,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(n){return this._charsetService.setgLevel(n),!0}screenAlignmentPattern(){let n=new Z.CellData;n.content=4194373,n.fg=this._curAttrData.fg,n.bg=this._curAttrData.bg,this._setCursor(0,0);for(let c=0;c<this._bufferService.rows;++c){let y=this._activeBuffer.ybase+this._activeBuffer.y+c,q=this._activeBuffer.lines.get(y);q&&(q.fill(n),q.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(n,c){let y=this._bufferService.buffer,q=this._optionsService.rawOptions;return((a)=>(this._coreService.triggerDataEvent(`${r.C0.ESC}${a}${r.C0.ESC}\\`),!0))(n==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:n==='"p'?'P1$r61;1"p':n==="r"?`P1$r${y.scrollTop+1};${y.scrollBottom+1}r`:n==="m"?"P1$r0m":n===" q"?`P1$r${{block:2,underline:4,bar:6}[q.cursorStyle]-(q.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(n,c){this._dirtyRowTracker.markRangeDirty(n,c)}}b.InputHandler=l;let p=class{constructor(n){this._bufferService=n,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(n){n<this.start?this.start=n:n>this.end&&(this.end=n)}markRangeDirty(n,c){n>c&&(Y=n,n=c,c=Y),n<this.start&&(this.start=n),c>this.end&&(this.end=c)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function f(n){return 0<=n&&n<256}p=h([M(0,U.IBufferService)],p)},844:(T,b)=>{function u(h){for(let M of h)M.dispose();h.length=0}Object.defineProperty(b,"__esModule",{value:!0}),b.getDisposeArrayDisposable=b.disposeArray=b.toDisposable=b.MutableDisposable=b.Disposable=void 0,b.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){let M=this._disposables.indexOf(h);M!==-1&&this._disposables.splice(M,1)}},b.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var M;this._isDisposed||h===this._value||((M=this._value)===null||M===void 0||M.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},b.toDisposable=function(h){return{dispose:h}},b.disposeArray=u,b.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},1505:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FourKeyMap=b.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(h,M,r){this._data[h]||(this._data[h]={}),this._data[h][M]=r}get(h,M){return this._data[h]?this._data[h][M]:void 0}clear(){this._data={}}}b.TwoKeyMap=u,b.FourKeyMap=class{constructor(){this._data=new u}set(h,M,r,L,v){this._data.get(h,M)||this._data.set(h,M,new u),this._data.get(h,M).set(r,L,v)}get(h,M,r,L){var v;return(v=this._data.get(h,M))===null||v===void 0?void 0:v.get(r,L)}clear(){this._data.clear()}}},6114:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isChromeOS=b.isLinux=b.isWindows=b.isIphone=b.isIpad=b.isMac=b.getSafariVersion=b.isSafari=b.isLegacyEdge=b.isFirefox=b.isNode=void 0,b.isNode=typeof navigator=="undefined";let u=b.isNode?"node":navigator.userAgent,h=b.isNode?"node":navigator.platform;b.isFirefox=u.includes("Firefox"),b.isLegacyEdge=u.includes("Edge"),b.isSafari=/^((?!chrome|android).)*safari/i.test(u),b.getSafariVersion=function(){if(!b.isSafari)return 0;let M=u.match(/Version\/(\d+)/);return M===null||M.length<2?0:parseInt(M[1])},b.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),b.isIpad=h==="iPad",b.isIphone=h==="iPhone",b.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),b.isLinux=h.indexOf("Linux")>=0,b.isChromeOS=/\bCrOS\b/.test(u)},6106:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SortedList=void 0;let u=0;b.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(u=this._search(this._getKey(h)),this._array.splice(u,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;let M=this._getKey(h);if(M===void 0)return!1;if(u=this._search(M),u===-1)return!1;if(this._getKey(this._array[u])!==M)return!1;do if(this._array[u]===h)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===M);return!1}*getKeyIterator(h){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===h)}forEachByKey(h,M){if(this._array.length!==0&&(u=this._search(h),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===h))do M(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===h)}values(){return[...this._array].values()}_search(h){let M=0,r=this._array.length-1;for(;r>=M;){let L=M+r>>1,v=this._getKey(this._array[L]);if(v>h)r=L-1;else{if(!(v<h)){for(;L>0&&this._getKey(this._array[L-1])===h;)L--;return L}M=L+1}}return M}}},7226:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DebouncedIdleTask=b.IdleTaskQueue=b.PriorityTaskQueue=void 0;let h=u(6114);class M{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let v=0,S=0,x=L.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),S=Math.max(v,S),d=L.timeRemaining(),1.5*S>d)return x-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(x-v))}ms`),void this._start();x=d}this.clear()}}class r extends M{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){let v=Date.now()+L;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}b.PriorityTaskQueue=r,b.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends M{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:r,b.DebouncedIdleTask=class{constructor(){this._queue=new b.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},9282:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.updateWindowsModeWrappedState=void 0;let h=u(643);b.updateWindowsModeWrappedState=function(M){let r=M.buffer.lines.get(M.buffer.ybase+M.buffer.y-1),L=r==null?void 0:r.get(M.cols-1),v=M.buffer.lines.get(M.buffer.ybase+M.buffer.y);v&&L&&(v.isWrapped=L[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&L[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ExtendedAttrs=b.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(M){return[M>>>16&255,M>>>8&255,255&M]}static fromColorRGB(M){return(255&M[0])<<16|(255&M[1])<<8|255&M[2]}clone(){let M=new u;return M.fg=this.fg,M.bg=this.bg,M.extended=this.extended.clone(),M}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}b.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(M){this._ext=M}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(M){this._ext&=-469762049,this._ext|=M<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(M){this._ext&=-67108864,this._ext|=67108863&M}get urlId(){return this._urlId}set urlId(M){this._urlId=M}constructor(M=0,r=0){this._ext=0,this._urlId=0,this._ext=M,this._urlId=r}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}b.ExtendedAttrs=h},9092:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Buffer=b.MAX_BUFFER_SIZE=void 0;let h=u(6349),M=u(7226),r=u(3734),L=u(8437),v=u(4634),S=u(511),x=u(643),d=u(4863),N=u(7116);b.MAX_BUFFER_SIZE=4294967295,b.Buffer=class{constructor(O,Z,$){this._hasScrollback=O,this._optionsService=Z,this._bufferService=$,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=L.DEFAULT_ATTR_DATA.clone(),this.savedCharset=N.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new M.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(O){return O?(this._nullCell.fg=O.fg,this._nullCell.bg=O.bg,this._nullCell.extended=O.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(O){return O?(this._whitespaceCell.fg=O.fg,this._whitespaceCell.bg=O.bg,this._whitespaceCell.extended=O.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(O,Z){return new L.BufferLine(this._bufferService.cols,this.getNullCell(O),Z)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let O=this.ybase+this.y-this.ydisp;return O>=0&&O<this._rows}_getCorrectBufferLength(O){if(!this._hasScrollback)return O;let Z=O+this._optionsService.rawOptions.scrollback;return Z>b.MAX_BUFFER_SIZE?b.MAX_BUFFER_SIZE:Z}fillViewportRows(O){if(this.lines.length===0){O===void 0&&(O=L.DEFAULT_ATTR_DATA);let Z=this._rows;for(;Z--;)this.lines.push(this.getBlankLine(O))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(O,Z){let $=this.getNullCell(L.DEFAULT_ATTR_DATA),U=0,s=this._getCorrectBufferLength(Z);if(s>this.lines.maxLength&&(this.lines.maxLength=s),this.lines.length>0){if(this._cols<O)for(let g=0;g<this.lines.length;g++)U+=+this.lines.get(g).resize(O,$);let W=0;if(this._rows<Z)for(let g=this._rows;g<Z;g++)this.lines.length<Z+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new L.BufferLine(O,$)):this.ybase>0&&this.lines.length<=this.ybase+this.y+W+1?(this.ybase--,W++,this.ydisp>0&&this.ydisp--):this.lines.push(new L.BufferLine(O,$)));else for(let g=this._rows;g>Z;g--)this.lines.length>Z+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(s<this.lines.maxLength){let g=this.lines.length-s;g>0&&(this.lines.trimStart(g),this.ybase=Math.max(this.ybase-g,0),this.ydisp=Math.max(this.ydisp-g,0),this.savedY=Math.max(this.savedY-g,0)),this.lines.maxLength=s}this.x=Math.min(this.x,O-1),this.y=Math.min(this.y,Z-1),W&&(this.y+=W),this.savedX=Math.min(this.savedX,O-1),this.scrollTop=0}if(this.scrollBottom=Z-1,this._isReflowEnabled&&(this._reflow(O,Z),this._cols>O))for(let W=0;W<this.lines.length;W++)U+=+this.lines.get(W).resize(O,$);this._cols=O,this._rows=Z,this._memoryCleanupQueue.clear(),U>0.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let O=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,O=!1);let Z=0;for(;this._memoryCleanupPosition<this.lines.length;)if(Z+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),Z>100)return!0;return O}get _isReflowEnabled(){let O=this._optionsService.rawOptions.windowsPty;return O&&O.buildNumber?this._hasScrollback&&O.backend==="conpty"&&O.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(O,Z){this._cols!==O&&(O>this._cols?this._reflowLarger(O,Z):this._reflowSmaller(O,Z))}_reflowLarger(O,Z){let $=v.reflowLargerGetLinesToRemove(this.lines,this._cols,O,this.ybase+this.y,this.getNullCell(L.DEFAULT_ATTR_DATA));if($.length>0){let U=v.reflowLargerCreateNewLayout(this.lines,$);v.reflowLargerApplyNewLayout(this.lines,U.layout),this._reflowLargerAdjustViewport(O,Z,U.countRemoved)}}_reflowLargerAdjustViewport(O,Z,$){let U=this.getNullCell(L.DEFAULT_ATTR_DATA),s=$;for(;s-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<Z&&this.lines.push(new L.BufferLine(O,U))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-$,0)}_reflowSmaller(O,Z){let $=this.getNullCell(L.DEFAULT_ATTR_DATA),U=[],s=0;for(let W=this.lines.length-1;W>=0;W--){let g=this.lines.get(W);if(!g||!g.isWrapped&&g.getTrimmedLength()<=O)continue;let K=[g];for(;g.isWrapped&&W>0;)g=this.lines.get(--W),K.unshift(g);let i=this.ybase+this.y;if(i>=W&&i<W+K.length)continue;let J=K[K.length-1].getTrimmedLength(),F=v.reflowSmallerGetNewLineLengths(K,this._cols,O),Y=F.length-K.length,l;l=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+Y):Math.max(0,this.lines.length-this.lines.maxLength+Y);let p=[];for(let a=0;a<Y;a++){let o=this.getBlankLine(L.DEFAULT_ATTR_DATA,!0);p.push(o)}p.length>0&&(U.push({start:W+K.length+s,newLines:p}),s+=p.length),K.push(...p);let f=F.length-1,n=F[f];n===0&&(f--,n=F[f]);let c=K.length-Y-1,y=J;for(;c>=0;){let a=Math.min(y,n);if(K[f]===void 0)break;if(K[f].copyCellsFrom(K[c],y-a,n-a,a,!0),n-=a,n===0&&(f--,n=F[f]),y-=a,y===0){c--;let o=Math.max(c,0);y=v.getWrappedLineTrimmedLength(K,o,this._cols)}}for(let a=0;a<K.length;a++)F[a]<O&&K[a].setCell(F[a],$);let q=Y-l;for(;q-- >0;)this.ybase===0?this.y<Z-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+s)-Z&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+Y,this.ybase+Z-1)}if(U.length>0){let W=[],g=[];for(let f=0;f<this.lines.length;f++)g.push(this.lines.get(f));let K=this.lines.length,i=K-1,J=0,F=U[J];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+s);let Y=0;for(let f=Math.min(this.lines.maxLength-1,K+s-1);f>=0;f--)if(F&&F.start>i+Y){for(let n=F.newLines.length-1;n>=0;n--)this.lines.set(f--,F.newLines[n]);f++,W.push({index:i+1,amount:F.newLines.length}),Y+=F.newLines.length,F=U[++J]}else this.lines.set(f,g[i--]);let l=0;for(let f=W.length-1;f>=0;f--)W[f].index+=l,this.lines.onInsertEmitter.fire(W[f]),l+=W[f].amount;let p=Math.max(0,K+s-this.lines.maxLength);p>0&&this.lines.onTrimEmitter.fire(p)}}translateBufferLineToString(O,Z,$=0,U){let s=this.lines.get(O);return s?s.translateToString(Z,$,U):""}getWrappedRangeForLine(O){let Z=O,$=O;for(;Z>0&&this.lines.get(Z).isWrapped;)Z--;for(;$+1<this.lines.length&&this.lines.get($+1).isWrapped;)$++;return{first:Z,last:$}}setupTabStops(O){for(O!=null?this.tabs[O]||(O=this.prevStop(O)):(this.tabs={},O=0);O<this._cols;O+=this._optionsService.rawOptions.tabStopWidth)this.tabs[O]=!0}prevStop(O){for(O==null&&(O=this.x);!this.tabs[--O]&&O>0;);return O>=this._cols?this._cols-1:O<0?0:O}nextStop(O){for(O==null&&(O=this.x);!this.tabs[++O]&&O<this._cols;);return O>=this._cols?this._cols-1:O<0?0:O}clearMarkers(O){this._isClearing=!0;for(let Z=0;Z<this.markers.length;Z++)this.markers[Z].line===O&&(this.markers[Z].dispose(),this.markers.splice(Z--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let O=0;O<this.markers.length;O++)this.markers[O].dispose(),this.markers.splice(O--,1);this._isClearing=!1}addMarker(O){let Z=new d.Marker(O);return this.markers.push(Z),Z.register(this.lines.onTrim(($)=>{Z.line-=$,Z.line<0&&Z.dispose()})),Z.register(this.lines.onInsert(($)=>{Z.line>=$.index&&(Z.line+=$.amount)})),Z.register(this.lines.onDelete(($)=>{Z.line>=$.index&&Z.line<$.index+$.amount&&Z.dispose(),Z.line>$.index&&(Z.line-=$.amount)})),Z.register(Z.onDispose(()=>this._removeMarker(Z))),Z}_removeMarker(O){this._isClearing||this.markers.splice(this.markers.indexOf(O),1)}}},8437:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferLine=b.DEFAULT_ATTR_DATA=void 0;let h=u(3734),M=u(511),r=u(643),L=u(482);b.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let v=0;class S{constructor(x,d,N=!1){this.isWrapped=N,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*x);let O=d||M.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]);for(let Z=0;Z<x;++Z)this.setCell(Z,O);this.length=x}get(x){let d=this._data[3*x+0],N=2097151&d;return[this._data[3*x+1],2097152&d?this._combined[x]:N?L.stringFromCodePoint(N):"",d>>22,2097152&d?this._combined[x].charCodeAt(this._combined[x].length-1):N]}set(x,d){this._data[3*x+1]=d[r.CHAR_DATA_ATTR_INDEX],d[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[x]=d[1],this._data[3*x+0]=2097152|x|d[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*x+0]=d[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[r.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(x){return this._data[3*x+0]>>22}hasWidth(x){return 12582912&this._data[3*x+0]}getFg(x){return this._data[3*x+1]}getBg(x){return this._data[3*x+2]}hasContent(x){return 4194303&this._data[3*x+0]}getCodePoint(x){let d=this._data[3*x+0];return 2097152&d?this._combined[x].charCodeAt(this._combined[x].length-1):2097151&d}isCombined(x){return 2097152&this._data[3*x+0]}getString(x){let d=this._data[3*x+0];return 2097152&d?this._combined[x]:2097151&d?L.stringFromCodePoint(2097151&d):""}isProtected(x){return 536870912&this._data[3*x+2]}loadCell(x,d){return v=3*x,d.content=this._data[v+0],d.fg=this._data[v+1],d.bg=this._data[v+2],2097152&d.content&&(d.combinedData=this._combined[x]),268435456&d.bg&&(d.extended=this._extendedAttrs[x]),d}setCell(x,d){2097152&d.content&&(this._combined[x]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[x]=d.extended),this._data[3*x+0]=d.content,this._data[3*x+1]=d.fg,this._data[3*x+2]=d.bg}setCellFromCodePoint(x,d,N,O,Z,$){268435456&Z&&(this._extendedAttrs[x]=$),this._data[3*x+0]=d|N<<22,this._data[3*x+1]=O,this._data[3*x+2]=Z}addCodepointToCell(x,d){let N=this._data[3*x+0];2097152&N?this._combined[x]+=L.stringFromCodePoint(d):(2097151&N?(this._combined[x]=L.stringFromCodePoint(2097151&N)+L.stringFromCodePoint(d),N&=-2097152,N|=2097152):N=d|4194304,this._data[3*x+0]=N)}insertCells(x,d,N,O){if((x%=this.length)&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs),d<this.length-x){let Z=new M.CellData;for(let $=this.length-x-d-1;$>=0;--$)this.setCell(x+d+$,this.loadCell(x+$,Z));for(let $=0;$<d;++$)this.setCell(x+$,N)}else for(let Z=x;Z<this.length;++Z)this.setCell(Z,N);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs)}deleteCells(x,d,N,O){if(x%=this.length,d<this.length-x){let Z=new M.CellData;for(let $=0;$<this.length-x-d;++$)this.setCell(x+$,this.loadCell(x+d+$,Z));for(let $=this.length-d;$<this.length;++$)this.setCell($,N)}else for(let Z=x;Z<this.length;++Z)this.setCell(Z,N);x&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs),this.getWidth(x)!==0||this.hasContent(x)||this.setCellFromCodePoint(x,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs)}replaceCells(x,d,N,O,Z=!1){if(Z)for(x&&this.getWidth(x-1)===2&&!this.isProtected(x-1)&&this.setCellFromCodePoint(x-1,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs);x<d&&x<this.length;)this.isProtected(x)||this.setCell(x,N),x++;else for(x&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x-1,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(O==null?void 0:O.fg)||0,(O==null?void 0:O.bg)||0,(O==null?void 0:O.extended)||new h.ExtendedAttrs);x<d&&x<this.length;)this.setCell(x++,N)}resize(x,d){if(x===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;let N=3*x;if(x>this.length){if(this._data.buffer.byteLength>=4*N)this._data=new Uint32Array(this._data.buffer,0,N);else{let O=new Uint32Array(N);O.set(this._data),this._data=O}for(let O=this.length;O<x;++O)this.setCell(O,d)}else{this._data=this._data.subarray(0,N);let O=Object.keys(this._combined);for(let $=0;$<O.length;$++){let U=parseInt(O[$],10);U>=x&&delete this._combined[U]}let Z=Object.keys(this._extendedAttrs);for(let $=0;$<Z.length;$++){let U=parseInt(Z[$],10);U>=x&&delete this._extendedAttrs[U]}}return this.length=x,4*N*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){let x=new Uint32Array(this._data.length);return x.set(this._data),this._data=x,1}return 0}fill(x,d=!1){if(d)for(let N=0;N<this.length;++N)this.isProtected(N)||this.setCell(N,x);else{this._combined={},this._extendedAttrs={};for(let N=0;N<this.length;++N)this.setCell(N,x)}}copyFrom(x){this.length!==x.length?this._data=new Uint32Array(x._data):this._data.set(x._data),this.length=x.length,this._combined={};for(let d in x._combined)this._combined[d]=x._combined[d];this._extendedAttrs={};for(let d in x._extendedAttrs)this._extendedAttrs[d]=x._extendedAttrs[d];this.isWrapped=x.isWrapped}clone(){let x=new S(0);x._data=new Uint32Array(this._data),x.length=this.length;for(let d in this._combined)x._combined[d]=this._combined[d];for(let d in this._extendedAttrs)x._extendedAttrs[d]=this._extendedAttrs[d];return x.isWrapped=this.isWrapped,x}getTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0])return x+(this._data[3*x+0]>>22);return 0}getNoBgTrimmedLength(){for(let x=this.length-1;x>=0;--x)if(4194303&this._data[3*x+0]||50331648&this._data[3*x+2])return x+(this._data[3*x+0]>>22);return 0}copyCellsFrom(x,d,N,O,Z){let $=x._data;if(Z)for(let s=O-1;s>=0;s--){for(let W=0;W<3;W++)this._data[3*(N+s)+W]=$[3*(d+s)+W];268435456&$[3*(d+s)+2]&&(this._extendedAttrs[N+s]=x._extendedAttrs[d+s])}else for(let s=0;s<O;s++){for(let W=0;W<3;W++)this._data[3*(N+s)+W]=$[3*(d+s)+W];268435456&$[3*(d+s)+2]&&(this._extendedAttrs[N+s]=x._extendedAttrs[d+s])}let U=Object.keys(x._combined);for(let s=0;s<U.length;s++){let W=parseInt(U[s],10);W>=d&&(this._combined[W-d+N]=x._combined[W])}}translateToString(x=!1,d=0,N=this.length){x&&(N=Math.min(N,this.getTrimmedLength()));let O="";for(;d<N;){let Z=this._data[3*d+0],$=2097151&Z;O+=2097152&Z?this._combined[d]:$?L.stringFromCodePoint($):r.WHITESPACE_CELL_CHAR,d+=Z>>22||1}return O}}b.BufferLine=S},4841:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getRangeLength=void 0,b.getRangeLength=function(u,h){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return h*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(T,b)=>{function u(h,M,r){if(M===h.length-1)return h[M].getTrimmedLength();let L=!h[M].hasContent(r-1)&&h[M].getWidth(r-1)===1,v=h[M+1].getWidth(0)===2;return L&&v?r-1:r}Object.defineProperty(b,"__esModule",{value:!0}),b.getWrappedLineTrimmedLength=b.reflowSmallerGetNewLineLengths=b.reflowLargerApplyNewLayout=b.reflowLargerCreateNewLayout=b.reflowLargerGetLinesToRemove=void 0,b.reflowLargerGetLinesToRemove=function(h,M,r,L,v){let S=[];for(let x=0;x<h.length-1;x++){let d=x,N=h.get(++d);if(!N.isWrapped)continue;let O=[h.get(x)];for(;d<h.length&&N.isWrapped;)O.push(N),N=h.get(++d);if(L>=x&&L<d){x+=O.length-1;continue}let Z=0,$=u(O,Z,M),U=1,s=0;for(;U<O.length;){let g=u(O,U,M),K=g-s,i=r-$,J=Math.min(K,i);O[Z].copyCellsFrom(O[U],s,$,J,!1),$+=J,$===r&&(Z++,$=0),s+=J,s===g&&(U++,s=0),$===0&&Z!==0&&O[Z-1].getWidth(r-1)===2&&(O[Z].copyCellsFrom(O[Z-1],r-1,$++,1,!1),O[Z-1].setCell(r-1,v))}O[Z].replaceCells($,r,v);let W=0;for(let g=O.length-1;g>0&&(g>Z||O[g].getTrimmedLength()===0);g--)W++;W>0&&(S.push(x+O.length-W),S.push(W)),x+=O.length-1}return S},b.reflowLargerCreateNewLayout=function(h,M){let r=[],L=0,v=M[L],S=0;for(let x=0;x<h.length;x++)if(v===x){let d=M[++L];h.onDeleteEmitter.fire({index:x-S,amount:d}),x+=d-1,S+=d,v=M[++L]}else r.push(x);return{layout:r,countRemoved:S}},b.reflowLargerApplyNewLayout=function(h,M){let r=[];for(let L=0;L<M.length;L++)r.push(h.get(M[L]));for(let L=0;L<r.length;L++)h.set(L,r[L]);h.length=M.length},b.reflowSmallerGetNewLineLengths=function(h,M,r){let L=[],v=h.map((N,O)=>u(h,O,M)).reduce((N,O)=>N+O),S=0,x=0,d=0;for(;d<v;){if(v-d<r){L.push(v-d);break}S+=r;let N=u(h,x,M);S>N&&(S-=N,x++);let O=h[x].getWidth(S-1)===2;O&&S--;let Z=O?r-1:r;L.push(Z),d+=Z}return L},b.getWrappedLineTrimmedLength=u},5295:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferSet=void 0;let h=u(8460),M=u(844),r=u(9092);class L extends M.Disposable{constructor(v,S){super(),this._optionsService=v,this._bufferService=S,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new r.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new r.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,S){this._normal.resize(v,S),this._alt.resize(v,S),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}b.BufferSet=L},511:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellData=void 0;let h=u(482),M=u(643),r=u(3734);class L extends r.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new r.ExtendedAttrs,this.combinedData=""}static fromCharData(v){let S=new L;return S.setFromCharData(v),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?h.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[M.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(v[M.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(v[M.CHAR_DATA_CHAR_INDEX].length===2){let x=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=x&&x<=56319){let d=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(x-55296)+d-56320+65536|v[M.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[M.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=v[M.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[M.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.CellData=L},643:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WHITESPACE_CELL_CODE=b.WHITESPACE_CELL_WIDTH=b.WHITESPACE_CELL_CHAR=b.NULL_CELL_CODE=b.NULL_CELL_WIDTH=b.NULL_CELL_CHAR=b.CHAR_DATA_CODE_INDEX=b.CHAR_DATA_WIDTH_INDEX=b.CHAR_DATA_CHAR_INDEX=b.CHAR_DATA_ATTR_INDEX=b.DEFAULT_EXT=b.DEFAULT_ATTR=b.DEFAULT_COLOR=void 0,b.DEFAULT_COLOR=0,b.DEFAULT_ATTR=256|b.DEFAULT_COLOR<<9,b.DEFAULT_EXT=0,b.CHAR_DATA_ATTR_INDEX=0,b.CHAR_DATA_CHAR_INDEX=1,b.CHAR_DATA_WIDTH_INDEX=2,b.CHAR_DATA_CODE_INDEX=3,b.NULL_CELL_CHAR="",b.NULL_CELL_WIDTH=1,b.NULL_CELL_CODE=0,b.WHITESPACE_CELL_CHAR=" ",b.WHITESPACE_CELL_WIDTH=1,b.WHITESPACE_CELL_CODE=32},4863:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Marker=void 0;let h=u(8460),M=u(844);class r{get id(){return this._id}constructor(L){this.line=L,this.isDisposed=!1,this._disposables=[],this._id=r._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),M.disposeArray(this._disposables),this._disposables.length=0)}register(L){return this._disposables.push(L),L}}b.Marker=r,r._nextId=1},7116:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_CHARSET=b.CHARSETS=void 0,b.CHARSETS={},b.DEFAULT_CHARSET=b.CHARSETS.B,b.CHARSETS[0]={"`":"â",a:"â",b:"â",c:"â",d:"â",e:"â",f:"Â°",g:"Â±",h:"â¤",i:"â",j:"â",k:"â",l:"â",m:"â",n:"â¼",o:"âº",p:"â»",q:"â",r:"â¼",s:"â½",t:"â",u:"â¤",v:"â´",w:"â¬",x:"â",y:"â¤",z:"â¥","{":"Ï","|":"â ","}":"Â£","~":"Â·"},b.CHARSETS.A={"#":"Â£"},b.CHARSETS.B=void 0,b.CHARSETS[4]={"#":"Â£","@":"Â¾","[":"ij","\\":"Â½","]":"|","{":"Â¨","|":"f","}":"Â¼","~":"Â´"},b.CHARSETS.C=b.CHARSETS[5]={"[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},b.CHARSETS.R={"#":"Â£","@":"Ã ","[":"Â°","\\":"Ã§","]":"Â§","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Â¨"},b.CHARSETS.Q={"@":"Ã ","[":"Ã¢","\\":"Ã§","]":"Ãª","^":"Ã®","`":"Ã´","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Ã»"},b.CHARSETS.K={"@":"Â§","[":"Ã","\\":"Ã","]":"Ã","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã"},b.CHARSETS.Y={"#":"Â£","@":"Â§","[":"Â°","\\":"Ã§","]":"Ã©","`":"Ã¹","{":"Ã ","|":"Ã²","}":"Ã¨","~":"Ã¬"},b.CHARSETS.E=b.CHARSETS[6]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã¤","{":"Ã¦","|":"Ã¸","}":"Ã¥","~":"Ã¼"},b.CHARSETS.Z={"#":"Â£","@":"Â§","[":"Â¡","\\":"Ã","]":"Â¿","{":"Â°","|":"Ã±","}":"Ã§"},b.CHARSETS.H=b.CHARSETS[7]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},b.CHARSETS["="]={"#":"Ã¹","@":"Ã ","[":"Ã©","\\":"Ã§","]":"Ãª","^":"Ã®",_:"Ã¨","`":"Ã´","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã»"}},2584:(T,b)=>{var u,h,M;Object.defineProperty(b,"__esModule",{value:!0}),b.C1_ESCAPED=b.C1=b.C0=void 0,function(r){r.NUL="\x00",r.SOH="\x01",r.STX="\x02",r.ETX="\x03",r.EOT="\x04",r.ENQ="\x05",r.ACK="\x06",r.BEL="\x07",r.BS="\b",r.HT="\t",r.LF=`
`,r.VT="\v",r.FF="\f",r.CR="\r",r.SO="\x0E",r.SI="\x0F",r.DLE="\x10",r.DC1="\x11",r.DC2="\x12",r.DC3="\x13",r.DC4="\x14",r.NAK="\x15",r.SYN="\x16",r.ETB="\x17",r.CAN="\x18",r.EM="\x19",r.SUB="\x1A",r.ESC="\x1B",r.FS="\x1C",r.GS="\x1D",r.RS="\x1E",r.US="\x1F",r.SP=" ",r.DEL=""}(u||(b.C0=u={})),function(r){r.PAD="Â",r.HOP="Â",r.BPH="Â",r.NBH="Â",r.IND="Â",r.NEL="Â",r.SSA="Â",r.ESA="Â",r.HTS="Â",r.HTJ="Â",r.VTS="Â",r.PLD="Â",r.PLU="Â",r.RI="Â",r.SS2="Â",r.SS3="Â",r.DCS="Â",r.PU1="Â",r.PU2="Â",r.STS="Â",r.CCH="Â",r.MW="Â",r.SPA="Â",r.EPA="Â",r.SOS="Â",r.SGCI="Â",r.SCI="Â",r.CSI="Â",r.ST="Â",r.OSC="Â",r.PM="Â",r.APC="Â"}(h||(b.C1=h={})),function(r){r.ST=`${u.ESC}\\`}(M||(b.C1_ESCAPED=M={}))},7399:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.evaluateKeyboardEvent=void 0;let h=u(2584),M={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};b.evaluateKeyboardEvent=function(r,L,v,S){let x={type:0,cancel:!1,key:void 0},d=(r.shiftKey?1:0)|(r.altKey?2:0)|(r.ctrlKey?4:0)|(r.metaKey?8:0);switch(r.keyCode){case 0:r.key==="UIKeyInputUpArrow"?x.key=L?h.C0.ESC+"OA":h.C0.ESC+"[A":r.key==="UIKeyInputLeftArrow"?x.key=L?h.C0.ESC+"OD":h.C0.ESC+"[D":r.key==="UIKeyInputRightArrow"?x.key=L?h.C0.ESC+"OC":h.C0.ESC+"[C":r.key==="UIKeyInputDownArrow"&&(x.key=L?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:if(r.altKey){x.key=h.C0.ESC+h.C0.DEL;break}x.key=h.C0.DEL;break;case 9:if(r.shiftKey){x.key=h.C0.ESC+"[Z";break}x.key=h.C0.HT,x.cancel=!0;break;case 13:x.key=r.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,x.cancel=!0;break;case 27:x.key=h.C0.ESC,r.altKey&&(x.key=h.C0.ESC+h.C0.ESC),x.cancel=!0;break;case 37:if(r.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"D",x.key===h.C0.ESC+"[1;3D"&&(x.key=h.C0.ESC+(v?"b":"[1;5D"))):x.key=L?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(r.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"C",x.key===h.C0.ESC+"[1;3C"&&(x.key=h.C0.ESC+(v?"f":"[1;5C"))):x.key=L?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(r.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"A",v||x.key!==h.C0.ESC+"[1;3A"||(x.key=h.C0.ESC+"[1;5A")):x.key=L?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(r.metaKey)break;d?(x.key=h.C0.ESC+"[1;"+(d+1)+"B",v||x.key!==h.C0.ESC+"[1;3B"||(x.key=h.C0.ESC+"[1;5B")):x.key=L?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:r.shiftKey||r.ctrlKey||(x.key=h.C0.ESC+"[2~");break;case 46:x.key=d?h.C0.ESC+"[3;"+(d+1)+"~":h.C0.ESC+"[3~";break;case 36:x.key=d?h.C0.ESC+"[1;"+(d+1)+"H":L?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:x.key=d?h.C0.ESC+"[1;"+(d+1)+"F":L?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:r.shiftKey?x.type=2:r.ctrlKey?x.key=h.C0.ESC+"[5;"+(d+1)+"~":x.key=h.C0.ESC+"[5~";break;case 34:r.shiftKey?x.type=3:r.ctrlKey?x.key=h.C0.ESC+"[6;"+(d+1)+"~":x.key=h.C0.ESC+"[6~";break;case 112:x.key=d?h.C0.ESC+"[1;"+(d+1)+"P":h.C0.ESC+"OP";break;case 113:x.key=d?h.C0.ESC+"[1;"+(d+1)+"Q":h.C0.ESC+"OQ";break;case 114:x.key=d?h.C0.ESC+"[1;"+(d+1)+"R":h.C0.ESC+"OR";break;case 115:x.key=d?h.C0.ESC+"[1;"+(d+1)+"S":h.C0.ESC+"OS";break;case 116:x.key=d?h.C0.ESC+"[15;"+(d+1)+"~":h.C0.ESC+"[15~";break;case 117:x.key=d?h.C0.ESC+"[17;"+(d+1)+"~":h.C0.ESC+"[17~";break;case 118:x.key=d?h.C0.ESC+"[18;"+(d+1)+"~":h.C0.ESC+"[18~";break;case 119:x.key=d?h.C0.ESC+"[19;"+(d+1)+"~":h.C0.ESC+"[19~";break;case 120:x.key=d?h.C0.ESC+"[20;"+(d+1)+"~":h.C0.ESC+"[20~";break;case 121:x.key=d?h.C0.ESC+"[21;"+(d+1)+"~":h.C0.ESC+"[21~";break;case 122:x.key=d?h.C0.ESC+"[23;"+(d+1)+"~":h.C0.ESC+"[23~";break;case 123:x.key=d?h.C0.ESC+"[24;"+(d+1)+"~":h.C0.ESC+"[24~";break;default:if(!r.ctrlKey||r.shiftKey||r.altKey||r.metaKey)if(v&&!S||!r.altKey||r.metaKey)!v||r.altKey||r.ctrlKey||r.shiftKey||!r.metaKey?r.key&&!r.ctrlKey&&!r.altKey&&!r.metaKey&&r.keyCode>=48&&r.key.length===1?x.key=r.key:r.key&&r.ctrlKey&&(r.key==="_"&&(x.key=h.C0.US),r.key==="@"&&(x.key=h.C0.NUL)):r.keyCode===65&&(x.type=1);else{let N=M[r.keyCode],O=N==null?void 0:N[r.shiftKey?1:0];if(O)x.key=h.C0.ESC+O;else if(r.keyCode>=65&&r.keyCode<=90){let Z=r.ctrlKey?r.keyCode-64:r.keyCode+32,$=String.fromCharCode(Z);r.shiftKey&&($=$.toUpperCase()),x.key=h.C0.ESC+$}else if(r.keyCode===32)x.key=h.C0.ESC+(r.ctrlKey?h.C0.NUL:" ");else if(r.key==="Dead"&&r.code.startsWith("Key")){let Z=r.code.slice(3,4);r.shiftKey||(Z=Z.toLowerCase()),x.key=h.C0.ESC+Z,x.cancel=!0}}else r.keyCode>=65&&r.keyCode<=90?x.key=String.fromCharCode(r.keyCode-64):r.keyCode===32?x.key=h.C0.NUL:r.keyCode>=51&&r.keyCode<=55?x.key=String.fromCharCode(r.keyCode-51+27):r.keyCode===56?x.key=h.C0.DEL:r.keyCode===219?x.key=h.C0.ESC:r.keyCode===220?x.key=h.C0.FS:r.keyCode===221&&(x.key=h.C0.GS)}return x}},482:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Utf8ToUtf32=b.StringToUtf32=b.utf32ToString=b.stringFromCodePoint=void 0,b.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},b.utf32ToString=function(u,h=0,M=u.length){let r="";for(let L=h;L<M;++L){let v=u[L];v>65535?(v-=65536,r+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):r+=String.fromCharCode(v)}return r},b.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){let M=u.length;if(!M)return 0;let r=0,L=0;if(this._interim){let v=u.charCodeAt(L++);56320<=v&&v<=57343?h[r++]=1024*(this._interim-55296)+v-56320+65536:(h[r++]=this._interim,h[r++]=v),this._interim=0}for(let v=L;v<M;++v){let S=u.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=M)return this._interim=S,r;let x=u.charCodeAt(v);56320<=x&&x<=57343?h[r++]=1024*(S-55296)+x-56320+65536:(h[r++]=S,h[r++]=x)}else S!==65279&&(h[r++]=S)}return r}},b.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){let M=u.length;if(!M)return 0;let r,L,v,S,x=0,d=0,N=0;if(this.interim[0]){let $=!1,U=this.interim[0];U&=(224&U)==192?31:(240&U)==224?15:7;let s,W=0;for(;(s=63&this.interim[++W])&&W<4;)U<<=6,U|=s;let g=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,K=g-W;for(;N<K;){if(N>=M)return 0;if(s=u[N++],(192&s)!=128){N--,$=!0;break}this.interim[W++]=s,U<<=6,U|=63&s}$||(g===2?U<128?N--:h[x++]=U:g===3?U<2048||U>=55296&&U<=57343||U===65279||(h[x++]=U):U<65536||U>1114111||(h[x++]=U)),this.interim.fill(0)}let O=M-4,Z=N;for(;Z<M;){for(;!(!(Z<O)||128&(r=u[Z])||128&(L=u[Z+1])||128&(v=u[Z+2])||128&(S=u[Z+3]));)h[x++]=r,h[x++]=L,h[x++]=v,h[x++]=S,Z+=4;if(r=u[Z++],r<128)h[x++]=r;else if((224&r)==192){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(d=(31&r)<<6|63&L,d<128){Z--;continue}h[x++]=d}else if((240&r)==224){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,x;if(v=u[Z++],(192&v)!=128){Z--;continue}if(d=(15&r)<<12|(63&L)<<6|63&v,d<2048||d>=55296&&d<=57343||d===65279)continue;h[x++]=d}else if((248&r)==240){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,x;if(v=u[Z++],(192&v)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,this.interim[2]=v,x;if(S=u[Z++],(192&S)!=128){Z--;continue}if(d=(7&r)<<18|(63&L)<<12|(63&v)<<6|63&S,d<65536||d>1114111)continue;h[x++]=d}}return x}}},225:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeV6=void 0;let u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],M;b.UnicodeV6=class{constructor(){if(this.version="6",!M){M=new Uint8Array(65536),M.fill(1),M[0]=0,M.fill(0,1,32),M.fill(0,127,160),M.fill(2,4352,4448),M[9001]=2,M[9002]=2,M.fill(2,11904,42192),M[12351]=1,M.fill(2,44032,55204),M.fill(2,63744,64256),M.fill(2,65040,65050),M.fill(2,65072,65136),M.fill(2,65280,65377),M.fill(2,65504,65511);for(let r=0;r<u.length;++r)M.fill(0,u[r][0],u[r][1]+1)}}wcwidth(r){return r<32?0:r<127?1:r<65536?M[r]:function(L,v){let S,x=0,d=v.length-1;if(L<v[0][0]||L>v[d][1])return!1;for(;d>=x;)if(S=x+d>>1,L>v[S][1])x=S+1;else{if(!(L<v[S][0]))return!0;d=S-1}return!1}(r,h)?0:r>=131072&&r<=196605||r>=196608&&r<=262141?2:1}}},5981:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WriteBuffer=void 0;let h=u(8460),M=u(844);class r extends M.Disposable{constructor(L){super(),this._action=L,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(L,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);let x=this._callbacks.shift();x&&x()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(L,v){if(this._pendingData>50000000)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=L.length,this._writeBuffer.push(L),this._callbacks.push(v)}_innerWrite(L=0,v=!0){let S=L||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let x=this._writeBuffer[this._bufferOffset],d=this._action(x,v);if(d){let O=(Z)=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,Z)):this._innerWrite(S,Z);return void d.catch((Z)=>(queueMicrotask(()=>{throw Z}),Promise.resolve(!1))).then(O)}let N=this._callbacks[this._bufferOffset];if(N&&N(),this._bufferOffset++,this._pendingData-=x.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}b.WriteBuffer=r},5941:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.toRgbString=b.parseColor=void 0;let u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function M(r,L){let v=r.toString(16),S=v.length<2?"0"+v:v;switch(L){case 4:return v[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}b.parseColor=function(r){if(!r)return;let L=r.toLowerCase();if(L.indexOf("rgb:")===0){L=L.slice(4);let v=u.exec(L);if(v){let S=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/S*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/S*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/S*255)]}}else if(L.indexOf("#")===0&&(L=L.slice(1),h.exec(L)&&[3,6,9,12].includes(L.length))){let v=L.length/3,S=[0,0,0];for(let x=0;x<3;++x){let d=parseInt(L.slice(v*x,v*x+v),16);S[x]=v===1?d<<4:v===2?d:v===3?d>>4:d>>8}return S}},b.toRgbString=function(r,L=16){let[v,S,x]=r;return`rgb:${M(v,L)}/${M(S,L)}/${M(x,L)}`}},5770:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PAYLOAD_LIMIT=void 0,b.PAYLOAD_LIMIT=1e7},6351:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DcsHandler=b.DcsParser=void 0;let h=u(482),M=u(8742),r=u(5770),L=[];b.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=L,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=L}registerHandler(S,x){this._handlers[S]===void 0&&(this._handlers[S]=[]);let d=this._handlers[S];return d.push(x),{dispose:()=>{let N=d.indexOf(x);N!==-1&&d.splice(N,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=L,this._ident=0}hook(S,x){if(this.reset(),this._ident=S,this._active=this._handlers[S]||L,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(S,x,d){if(this._active.length)for(let N=this._active.length-1;N>=0;N--)this._active[N].put(S,x,d);else this._handlerFb(this._ident,"PUT",h.utf32ToString(S,x,d))}unhook(S,x=!0){if(this._active.length){let d=!1,N=this._active.length-1,O=!1;if(this._stack.paused&&(N=this._stack.loopPosition-1,d=x,O=this._stack.fallThrough,this._stack.paused=!1),!O&&d===!1){for(;N>=0&&(d=this._active[N].unhook(S),d!==!0);N--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!1,d;N--}for(;N>=0;N--)if(d=this._active[N].unhook(!1),d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=N,this._stack.fallThrough=!0,d}else this._handlerFb(this._ident,"UNHOOK",S);this._active=L,this._ident=0}};let v=new M.Params;v.addParam(0),b.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=v,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():v,this._data="",this._hitLimit=!1}put(S,x,d){this._hitLimit||(this._data+=h.utf32ToString(S,x,d),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then((d)=>(this._params=v,this._data="",this._hitLimit=!1,d));return this._params=v,this._data="",this._hitLimit=!1,x}}},2015:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.EscapeSequenceParser=b.VT500_TRANSITION_TABLE=b.TransitionTable=void 0;let h=u(844),M=u(8742),r=u(6242),L=u(6351);class v{constructor(d){this.table=new Uint8Array(d)}setDefault(d,N){this.table.fill(d<<4|N)}add(d,N,O,Z){this.table[N<<8|d]=O<<4|Z}addMany(d,N,O,Z){for(let $=0;$<d.length;$++)this.table[N<<8|d[$]]=O<<4|Z}}b.TransitionTable=v;let S=160;b.VT500_TRANSITION_TABLE=function(){let d=new v(4095),N=Array.apply(null,Array(256)).map((W,g)=>g),O=(W,g)=>N.slice(W,g),Z=O(32,127),$=O(0,24);$.push(25),$.push.apply($,O(28,32));let U=O(0,14),s;for(s in d.setDefault(1,0),d.addMany(Z,0,2,0),U)d.addMany([24,26,153,154],s,3,0),d.addMany(O(128,144),s,3,0),d.addMany(O(144,152),s,3,0),d.add(156,s,0,0),d.add(27,s,11,1),d.add(157,s,4,8),d.addMany([152,158,159],s,0,7),d.add(155,s,11,3),d.add(144,s,11,9);return d.addMany($,0,3,0),d.addMany($,1,3,1),d.add(127,1,0,1),d.addMany($,8,0,8),d.addMany($,3,3,3),d.add(127,3,0,3),d.addMany($,4,3,4),d.add(127,4,0,4),d.addMany($,6,3,6),d.addMany($,5,3,5),d.add(127,5,0,5),d.addMany($,2,3,2),d.add(127,2,0,2),d.add(93,1,4,8),d.addMany(Z,8,5,8),d.add(127,8,5,8),d.addMany([156,27,24,26,7],8,6,0),d.addMany(O(28,32),8,0,8),d.addMany([88,94,95],1,0,7),d.addMany(Z,7,0,7),d.addMany($,7,0,7),d.add(156,7,0,0),d.add(127,7,0,7),d.add(91,1,11,3),d.addMany(O(64,127),3,7,0),d.addMany(O(48,60),3,8,4),d.addMany([60,61,62,63],3,9,4),d.addMany(O(48,60),4,8,4),d.addMany(O(64,127),4,7,0),d.addMany([60,61,62,63],4,0,6),d.addMany(O(32,64),6,0,6),d.add(127,6,0,6),d.addMany(O(64,127),6,0,0),d.addMany(O(32,48),3,9,5),d.addMany(O(32,48),5,9,5),d.addMany(O(48,64),5,0,6),d.addMany(O(64,127),5,7,0),d.addMany(O(32,48),4,9,5),d.addMany(O(32,48),1,9,2),d.addMany(O(32,48),2,9,2),d.addMany(O(48,127),2,10,0),d.addMany(O(48,80),1,10,0),d.addMany(O(81,88),1,10,0),d.addMany([89,90,92],1,10,0),d.addMany(O(96,127),1,10,0),d.add(80,1,11,9),d.addMany($,9,0,9),d.add(127,9,0,9),d.addMany(O(28,32),9,0,9),d.addMany(O(32,48),9,9,12),d.addMany(O(48,60),9,8,10),d.addMany([60,61,62,63],9,9,10),d.addMany($,11,0,11),d.addMany(O(32,128),11,0,11),d.addMany(O(28,32),11,0,11),d.addMany($,10,0,10),d.add(127,10,0,10),d.addMany(O(28,32),10,0,10),d.addMany(O(48,60),10,8,10),d.addMany([60,61,62,63],10,0,11),d.addMany(O(32,48),10,9,12),d.addMany($,12,0,12),d.add(127,12,0,12),d.addMany(O(28,32),12,0,12),d.addMany(O(32,48),12,9,12),d.addMany(O(48,64),12,0,11),d.addMany(O(64,127),12,12,13),d.addMany(O(64,127),10,12,13),d.addMany(O(64,127),9,12,13),d.addMany($,13,13,13),d.addMany(Z,13,13,13),d.add(127,13,0,13),d.addMany([27,156,24,26],13,14,0),d.add(S,0,2,0),d.add(S,8,5,8),d.add(S,6,0,6),d.add(S,11,0,11),d.add(S,13,13,13),d}();class x extends h.Disposable{constructor(d=b.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new M.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(N,O,Z)=>{},this._executeHandlerFb=(N)=>{},this._csiHandlerFb=(N,O)=>{},this._escHandlerFb=(N)=>{},this._errorHandlerFb=(N)=>N,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register(h.toDisposable(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new r.OscParser),this._dcsParser=this.register(new L.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,N=[64,126]){let O=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(O=d.prefix.charCodeAt(0),O&&60>O||O>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let $=0;$<d.intermediates.length;++$){let U=d.intermediates.charCodeAt($);if(32>U||U>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");O<<=8,O|=U}}if(d.final.length!==1)throw new Error("final must be a single byte");let Z=d.final.charCodeAt(0);if(N[0]>Z||Z>N[1])throw new Error(`final must be in range ${N[0]} .. ${N[1]}`);return O<<=8,O|=Z,O}identToString(d){let N=[];for(;d;)N.push(String.fromCharCode(255&d)),d>>=8;return N.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,N){let O=this._identifier(d,[48,126]);this._escHandlers[O]===void 0&&(this._escHandlers[O]=[]);let Z=this._escHandlers[O];return Z.push(N),{dispose:()=>{let $=Z.indexOf(N);$!==-1&&Z.splice($,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,N){this._executeHandlers[d.charCodeAt(0)]=N}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,N){let O=this._identifier(d);this._csiHandlers[O]===void 0&&(this._csiHandlers[O]=[]);let Z=this._csiHandlers[O];return Z.push(N),{dispose:()=>{let $=Z.indexOf(N);$!==-1&&Z.splice($,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,N){return this._dcsParser.registerHandler(this._identifier(d),N)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,N){return this._oscParser.registerHandler(d,N)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,N,O,Z,$){this._parseStack.state=d,this._parseStack.handlers=N,this._parseStack.handlerPos=O,this._parseStack.transition=Z,this._parseStack.chunkPos=$}parse(d,N,O){let Z,$=0,U=0,s=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(O===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let W=this._parseStack.handlers,g=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(O===!1&&g>-1){for(;g>=0&&(Z=W[g](this._params),Z!==!0);g--)if(Z instanceof Promise)return this._parseStack.handlerPos=g,Z}this._parseStack.handlers=[];break;case 4:if(O===!1&&g>-1){for(;g>=0&&(Z=W[g](),Z!==!0);g--)if(Z instanceof Promise)return this._parseStack.handlerPos=g,Z}this._parseStack.handlers=[];break;case 6:if($=d[this._parseStack.chunkPos],Z=this._dcsParser.unhook($!==24&&$!==26,O),Z)return Z;$===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if($=d[this._parseStack.chunkPos],Z=this._oscParser.end($!==24&&$!==26,O),Z)return Z;$===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let W=s;W<N;++W){switch($=d[W],U=this._transitions.table[this.currentState<<8|($<160?$:S)],U>>4){case 2:for(let F=W+1;;++F){if(F>=N||($=d[F])<32||$>126&&$<S){this._printHandler(d,W,F),W=F-1;break}if(++F>=N||($=d[F])<32||$>126&&$<S){this._printHandler(d,W,F),W=F-1;break}if(++F>=N||($=d[F])<32||$>126&&$<S){this._printHandler(d,W,F),W=F-1;break}if(++F>=N||($=d[F])<32||$>126&&$<S){this._printHandler(d,W,F),W=F-1;break}}break;case 3:this._executeHandlers[$]?this._executeHandlers[$]():this._executeHandlerFb($),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:W,code:$,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let g=this._csiHandlers[this._collect<<8|$],K=g?g.length-1:-1;for(;K>=0&&(Z=g[K](this._params),Z!==!0);K--)if(Z instanceof Promise)return this._preserveStack(3,g,K,U,W),Z;K<0&&this._csiHandlerFb(this._collect<<8|$,this._params),this.precedingCodepoint=0;break;case 8:do switch($){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit($-48)}while(++W<N&&($=d[W])>47&&$<60);W--;break;case 9:this._collect<<=8,this._collect|=$;break;case 10:let i=this._escHandlers[this._collect<<8|$],J=i?i.length-1:-1;for(;J>=0&&(Z=i[J](),Z!==!0);J--)if(Z instanceof Promise)return this._preserveStack(4,i,J,U,W),Z;J<0&&this._escHandlerFb(this._collect<<8|$),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|$,this._params);break;case 13:for(let F=W+1;;++F)if(F>=N||($=d[F])===24||$===26||$===27||$>127&&$<S){this._dcsParser.put(d,W,F),W=F-1;break}break;case 14:if(Z=this._dcsParser.unhook($!==24&&$!==26),Z)return this._preserveStack(6,[],0,U,W),Z;$===27&&(U|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let F=W+1;;F++)if(F>=N||($=d[F])<32||$>127&&$<S){this._oscParser.put(d,W,F),W=F-1;break}break;case 6:if(Z=this._oscParser.end($!==24&&$!==26),Z)return this._preserveStack(5,[],0,U,W),Z;$===27&&(U|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&U}}}b.EscapeSequenceParser=x},6242:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OscHandler=b.OscParser=void 0;let h=u(5770),M=u(482),r=[];b.OscParser=class{constructor(){this._state=0,this._active=r,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(L,v){this._handlers[L]===void 0&&(this._handlers[L]=[]);let S=this._handlers[L];return S.push(v),{dispose:()=>{let x=S.indexOf(v);x!==-1&&S.splice(x,1)}}}clearHandler(L){this._handlers[L]&&delete this._handlers[L]}setHandlerFallback(L){this._handlerFb=L}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=r}reset(){if(this._state===2)for(let L=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;L>=0;--L)this._active[L].end(!1);this._stack.paused=!1,this._active=r,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||r,this._active.length)for(let L=this._active.length-1;L>=0;L--)this._active[L].start();else this._handlerFb(this._id,"START")}_put(L,v,S){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(L,v,S);else this._handlerFb(this._id,"PUT",M.utf32ToString(L,v,S))}start(){this.reset(),this._state=1}put(L,v,S){if(this._state!==3){if(this._state===1)for(;v<S;){let x=L[v++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&S-v>0&&this._put(L,v,S)}}end(L,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,x=this._active.length-1,d=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,S=v,d=this._stack.fallThrough,this._stack.paused=!1),!d&&S===!1){for(;x>=0&&(S=this._active[x].end(L),S!==!0);x--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,S;x--}for(;x>=0;x--)if(S=this._active[x].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",L);this._active=r,this._id=-1,this._state=0}}},b.OscHandler=class{constructor(L){this._handler=L,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(L,v,S){this._hitLimit||(this._data+=M.utf32ToString(L,v,S),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(L){let v=!1;if(this._hitLimit)v=!1;else if(L&&(v=this._handler(this._data),v instanceof Promise))return v.then((S)=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,v}}},8742:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Params=void 0;let u=2147483647;class h{static fromArray(M){let r=new h;if(!M.length)return r;for(let L=Array.isArray(M[0])?1:0;L<M.length;++L){let v=M[L];if(Array.isArray(v))for(let S=0;S<v.length;++S)r.addSubParam(v[S]);else r.addParam(v)}return r}constructor(M=32,r=32){if(this.maxLength=M,this.maxSubParamsLength=r,r>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(M),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(M),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){let M=new h(this.maxLength,this.maxSubParamsLength);return M.params.set(this.params),M.length=this.length,M._subParams.set(this._subParams),M._subParamsLength=this._subParamsLength,M._subParamsIdx.set(this._subParamsIdx),M._rejectDigits=this._rejectDigits,M._rejectSubDigits=this._rejectSubDigits,M._digitIsSub=this._digitIsSub,M}toArray(){let M=[];for(let r=0;r<this.length;++r){M.push(this.params[r]);let L=this._subParamsIdx[r]>>8,v=255&this._subParamsIdx[r];v-L>0&&M.push(Array.prototype.slice.call(this._subParams,L,v))}return M}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(M){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(M<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=M>u?u:M}}addSubParam(M){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(M<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=M>u?u:M,this._subParamsIdx[this.length-1]++}}hasSubParams(M){return(255&this._subParamsIdx[M])-(this._subParamsIdx[M]>>8)>0}getSubParams(M){let r=this._subParamsIdx[M]>>8,L=255&this._subParamsIdx[M];return L-r>0?this._subParams.subarray(r,L):null}getSubParamsAll(){let M={};for(let r=0;r<this.length;++r){let L=this._subParamsIdx[r]>>8,v=255&this._subParamsIdx[r];v-L>0&&(M[r]=this._subParams.slice(L,v))}return M}addDigit(M){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let L=this._digitIsSub?this._subParams:this.params,v=L[r-1];L[r-1]=~v?Math.min(10*v+M,u):M}}b.Params=h},5741:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AddonManager=void 0,b.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,h){let M={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(M),h.dispose=()=>this._wrappedAddonDispose(M),h.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let h=-1;for(let M=0;M<this._addons.length;M++)if(this._addons[M]===u){h=M;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(h,1)}}},8771:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferApiView=void 0;let h=u(3785),M=u(511);b.BufferApiView=class{constructor(r,L){this._buffer=r,this.type=L}init(r){return this._buffer=r,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(r){let L=this._buffer.lines.get(r);if(L)return new h.BufferLineApiView(L)}getNullCell(){return new M.CellData}}},3785:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferLineApiView=void 0;let h=u(511);b.BufferLineApiView=class{constructor(M){this._line=M}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(M,r){if(!(M<0||M>=this._line.length))return r?(this._line.loadCell(M,r),r):this._line.loadCell(M,new h.CellData)}translateToString(M,r,L){return this._line.translateToString(M,r,L)}}},8285:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BufferNamespaceApi=void 0;let h=u(8771),M=u(8460),r=u(844);class L extends r.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new M.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}b.BufferNamespaceApi=L},7975:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ParserApi=void 0,b.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,h){return this._core.registerCsiHandler(u,(M)=>h(M.toArray()))}addCsiHandler(u,h){return this.registerCsiHandler(u,h)}registerDcsHandler(u,h){return this._core.registerDcsHandler(u,(M,r)=>h(M,r.toArray()))}addDcsHandler(u,h){return this.registerDcsHandler(u,h)}registerEscHandler(u,h){return this._core.registerEscHandler(u,h)}addEscHandler(u,h){return this.registerEscHandler(u,h)}registerOscHandler(u,h){return this._core.registerOscHandler(u,h)}addOscHandler(u,h){return this.registerOscHandler(u,h)}}},7090:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeApi=void 0,b.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.BufferService=b.MINIMUM_ROWS=b.MINIMUM_COLS=void 0;let r=u(8460),L=u(844),v=u(5295),S=u(2585);b.MINIMUM_COLS=2,b.MINIMUM_ROWS=1;let x=b.BufferService=class extends L.Disposable{get buffer(){return this.buffers.active}constructor(d){super(),this.isUserScrolling=!1,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new r.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(d.rawOptions.cols||0,b.MINIMUM_COLS),this.rows=Math.max(d.rawOptions.rows||0,b.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(d,this))}resize(d,N){this.cols=d,this.rows=N,this.buffers.resize(d,N),this._onResize.fire({cols:d,rows:N})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(d,N=!1){let O=this.buffer,Z;Z=this._cachedBlankLine,Z&&Z.length===this.cols&&Z.getFg(0)===d.fg&&Z.getBg(0)===d.bg||(Z=O.getBlankLine(d,N),this._cachedBlankLine=Z),Z.isWrapped=N;let $=O.ybase+O.scrollTop,U=O.ybase+O.scrollBottom;if(O.scrollTop===0){let s=O.lines.isFull;U===O.lines.length-1?s?O.lines.recycle().copyFrom(Z):O.lines.push(Z.clone()):O.lines.splice(U+1,0,Z.clone()),s?this.isUserScrolling&&(O.ydisp=Math.max(O.ydisp-1,0)):(O.ybase++,this.isUserScrolling||O.ydisp++)}else{let s=U-$+1;O.lines.shiftElements($+1,s-1,-1),O.lines.set(U,Z.clone())}this.isUserScrolling||(O.ydisp=O.ybase),this._onScroll.fire(O.ydisp)}scrollLines(d,N,O){let Z=this.buffer;if(d<0){if(Z.ydisp===0)return;this.isUserScrolling=!0}else d+Z.ydisp>=Z.ybase&&(this.isUserScrolling=!1);let $=Z.ydisp;Z.ydisp=Math.max(Math.min(Z.ydisp+d,Z.ybase),0),$!==Z.ydisp&&(N||this._onScroll.fire(Z.ydisp))}};b.BufferService=x=h([M(0,S.IOptionsService)],x)},7994:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CharsetService=void 0,b.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,h){this._charsets[u]=h,this.glevel===u&&(this.charset=h)}}},1753:function(T,b,u){var h=this&&this.__decorate||function(Z,$,U,s){var W,g=arguments.length,K=g<3?$:s===null?s=Object.getOwnPropertyDescriptor($,U):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(Z,$,U,s);else for(var i=Z.length-1;i>=0;i--)(W=Z[i])&&(K=(g<3?W(K):g>3?W($,U,K):W($,U))||K);return g>3&&K&&Object.defineProperty($,U,K),K},M=this&&this.__param||function(Z,$){return function(U,s){$(U,s,Z)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CoreMouseService=void 0;let r=u(2585),L=u(8460),v=u(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:(Z)=>Z.button!==4&&Z.action===1&&(Z.ctrl=!1,Z.alt=!1,Z.shift=!1,!0)},VT200:{events:19,restrict:(Z)=>Z.action!==32},DRAG:{events:23,restrict:(Z)=>Z.action!==32||Z.button!==3},ANY:{events:31,restrict:(Z)=>!0}};function x(Z,$){let U=(Z.ctrl?16:0)|(Z.shift?4:0)|(Z.alt?8:0);return Z.button===4?(U|=64,U|=Z.action):(U|=3&Z.button,4&Z.button&&(U|=64),8&Z.button&&(U|=128),Z.action===32?U|=32:Z.action!==0||$||(U|=3)),U}let d=String.fromCharCode,N={DEFAULT:(Z)=>{let $=[x(Z,!1)+32,Z.col+32,Z.row+32];return $[0]>255||$[1]>255||$[2]>255?"":`\x1B[M${d($[0])}${d($[1])}${d($[2])}`},SGR:(Z)=>{let $=Z.action===0&&Z.button!==4?"m":"M";return`\x1B[<${x(Z,!0)};${Z.col};${Z.row}${$}`},SGR_PIXELS:(Z)=>{let $=Z.action===0&&Z.button!==4?"m":"M";return`\x1B[<${x(Z,!0)};${Z.x};${Z.y}${$}`}},O=b.CoreMouseService=class extends v.Disposable{constructor(Z,$){super(),this._bufferService=Z,this._coreService=$,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new L.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(let U of Object.keys(S))this.addProtocol(U,S[U]);for(let U of Object.keys(N))this.addEncoding(U,N[U]);this.reset()}addProtocol(Z,$){this._protocols[Z]=$}addEncoding(Z,$){this._encodings[Z]=$}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(Z){if(!this._protocols[Z])throw new Error(`unknown protocol "${Z}"`);this._activeProtocol=Z,this._onProtocolChange.fire(this._protocols[Z].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(Z){if(!this._encodings[Z])throw new Error(`unknown encoding "${Z}"`);this._activeEncoding=Z}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(Z){if(Z.col<0||Z.col>=this._bufferService.cols||Z.row<0||Z.row>=this._bufferService.rows)return!1;if(Z.button===4&&Z.action===32)return!1;if(Z.button===3&&Z.action!==32)return!1;if(Z.button!==4&&(Z.action===2||Z.action===3))return!1;if(Z.col++,Z.row++,Z.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,Z,this._activeEncoding==="SGR_PIXELS"))return!1;if(!this._protocols[this._activeProtocol].restrict(Z))return!1;let $=this._encodings[this._activeEncoding](Z);return $&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent($):this._coreService.triggerDataEvent($,!0)),this._lastEvent=Z,!0}explainEvents(Z){return{down:!!(1&Z),up:!!(2&Z),drag:!!(4&Z),move:!!(8&Z),wheel:!!(16&Z)}}_equalEvents(Z,$,U){if(U){if(Z.x!==$.x)return!1;if(Z.y!==$.y)return!1}else{if(Z.col!==$.col)return!1;if(Z.row!==$.row)return!1}return Z.button===$.button&&Z.action===$.action&&Z.ctrl===$.ctrl&&Z.alt===$.alt&&Z.shift===$.shift}};b.CoreMouseService=O=h([M(0,r.IBufferService),M(1,r.ICoreService)],O)},6975:function(T,b,u){var h=this&&this.__decorate||function(O,Z,$,U){var s,W=arguments.length,g=W<3?Z:U===null?U=Object.getOwnPropertyDescriptor(Z,$):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(O,Z,$,U);else for(var K=O.length-1;K>=0;K--)(s=O[K])&&(g=(W<3?s(g):W>3?s(Z,$,g):s(Z,$))||g);return W>3&&g&&Object.defineProperty(Z,$,g),g},M=this&&this.__param||function(O,Z){return function($,U){Z($,U,O)}};Object.defineProperty(b,"__esModule",{value:!0}),b.CoreService=void 0;let r=u(1439),L=u(8460),v=u(844),S=u(2585),x=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),N=b.CoreService=class extends v.Disposable{constructor(O,Z,$){super(),this._bufferService=O,this._logService=Z,this._optionsService=$,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new L.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new L.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new L.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new L.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=r.clone(x),this.decPrivateModes=r.clone(d)}reset(){this.modes=r.clone(x),this.decPrivateModes=r.clone(d)}triggerDataEvent(O,Z=!1){if(this._optionsService.rawOptions.disableStdin)return;let $=this._bufferService.buffer;Z&&this._optionsService.rawOptions.scrollOnUserInput&&$.ybase!==$.ydisp&&this._onRequestScrollToBottom.fire(),Z&&this._onUserInput.fire(),this._logService.debug(`sending data "${O}"`,()=>O.split("").map((U)=>U.charCodeAt(0))),this._onData.fire(O)}triggerBinaryEvent(O){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${O}"`,()=>O.split("").map((Z)=>Z.charCodeAt(0))),this._onBinary.fire(O))}};b.CoreService=N=h([M(0,S.IBufferService),M(1,S.ILogService),M(2,S.IOptionsService)],N)},9074:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DecorationService=void 0;let h=u(8055),M=u(8460),r=u(844),L=u(6106),v=0,S=0;class x extends r.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new L.SortedList((N)=>N==null?void 0:N.marker.line),this._onDecorationRegistered=this.register(new M.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new M.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register(r.toDisposable(()=>this.reset()))}registerDecoration(N){if(N.marker.isDisposed)return;let O=new d(N);if(O){let Z=O.marker.onDispose(()=>O.dispose());O.onDispose(()=>{O&&(this._decorations.delete(O)&&this._onDecorationRemoved.fire(O),Z.dispose())}),this._decorations.insert(O),this._onDecorationRegistered.fire(O)}return O}reset(){for(let N of this._decorations.values())N.dispose();this._decorations.clear()}*getDecorationsAtCell(N,O,Z){var $,U,s;let W=0,g=0;for(let K of this._decorations.getKeyIterator(O))W=($=K.options.x)!==null&&$!==void 0?$:0,g=W+((U=K.options.width)!==null&&U!==void 0?U:1),N>=W&&N<g&&(!Z||((s=K.options.layer)!==null&&s!==void 0?s:"bottom")===Z)&&(yield K)}forEachDecorationAtCell(N,O,Z,$){this._decorations.forEachByKey(O,(U)=>{var s,W,g;v=(s=U.options.x)!==null&&s!==void 0?s:0,S=v+((W=U.options.width)!==null&&W!==void 0?W:1),N>=v&&N<S&&(!Z||((g=U.options.layer)!==null&&g!==void 0?g:"bottom")===Z)&&$(U)})}}b.DecorationService=x;class d extends r.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(N){super(),this.options=N,this.onRenderEmitter=this.register(new M.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new M.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=N.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.InstantiationService=b.ServiceCollection=void 0;let h=u(2585),M=u(8343);class r{constructor(...L){this._entries=new Map;for(let[v,S]of L)this.set(v,S)}set(L,v){let S=this._entries.get(L);return this._entries.set(L,v),S}forEach(L){for(let[v,S]of this._entries.entries())L(v,S)}has(L){return this._entries.has(L)}get(L){return this._entries.get(L)}}b.ServiceCollection=r,b.InstantiationService=class{constructor(){this._services=new r,this._services.set(h.IInstantiationService,this)}setService(L,v){this._services.set(L,v)}getService(L){return this._services.get(L)}createInstance(L,...v){let S=M.getServiceDependencies(L).sort((N,O)=>N.index-O.index),x=[];for(let N of S){let O=this._services.get(N.id);if(!O)throw new Error(`[createInstance] ${L.name} depends on UNKNOWN service ${N.id}.`);x.push(O)}let d=S.length>0?S[0].index:v.length;if(v.length!==d)throw new Error(`[createInstance] First service dependency of ${L.name} at position ${d+1} conflicts with ${v.length} static arguments`);return new L(...[...v,...x])}}},7866:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.traceCall=b.setTraceLogger=b.LogService=void 0;let r=u(844),L=u(2585),v={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF},S,x=b.LogService=class extends r.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let N=0;N<d.length;N++)typeof d[N]=="function"&&(d[N]=d[N]())}_log(d,N,O){this._evalLazyOptionalParams(O),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+N,...O)}trace(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.TRACE&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.trace.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.log,d,N)}debug(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.debug.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.log,d,N)}info(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.INFO&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.info.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.info,d,N)}warn(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.WARN&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.warn.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.warn,d,N)}error(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.ERROR&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.error.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.error,d,N)}};b.LogService=x=h([M(0,L.IOptionsService)],x),b.setTraceLogger=function(d){S=d},b.traceCall=function(d,N,O){if(typeof O.value!="function")throw new Error("not supported");let Z=O.value;O.value=function(...$){if(S.logLevel!==L.LogLevelEnum.TRACE)return Z.apply(this,$);S.trace(`GlyphRenderer#${Z.name}(${$.map((s)=>JSON.stringify(s)).join(", ")})`);let U=Z.apply(this,$);return S.trace(`GlyphRenderer#${Z.name} return`,U),U}}},7302:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.OptionsService=b.DEFAULT_OPTIONS=void 0;let h=u(8460),M=u(844),r=u(6114);b.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1000,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};let L=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends M.Disposable{constructor(S){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;let x=Object.assign({},b.DEFAULT_OPTIONS);for(let d in S)if(d in x)try{let N=S[d];x[d]=this._sanitizeAndValidateOption(d,N)}catch(N){console.error(N)}this.rawOptions=x,this.options=Object.assign({},x),this._setupOptions()}onSpecificOptionChange(S,x){return this.onOptionChange((d)=>{d===S&&x(this.rawOptions[S])})}onMultipleOptionChange(S,x){return this.onOptionChange((d)=>{S.indexOf(d)!==-1&&x()})}_setupOptions(){let S=(d)=>{if(!(d in b.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},x=(d,N)=>{if(!(d in b.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);N=this._sanitizeAndValidateOption(d,N),this.rawOptions[d]!==N&&(this.rawOptions[d]=N,this._onOptionChange.fire(d))};for(let d in this.rawOptions){let N={get:S.bind(this,d),set:x.bind(this,d)};Object.defineProperty(this.options,d,N)}}_sanitizeAndValidateOption(S,x){switch(S){case"cursorStyle":if(x||(x=b.DEFAULT_OPTIONS[S]),!function(d){return d==="block"||d==="underline"||d==="bar"}(x))throw new Error(`"${x}" is not a valid value for ${S}`);break;case"wordSeparator":x||(x=b.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof x=="number"&&1<=x&&x<=1000)break;x=L.includes(x)?x:b.DEFAULT_OPTIONS[S];break;case"cursorWidth":x=Math.floor(x);case"lineHeight":case"tabStopWidth":if(x<1)throw new Error(`${S} cannot be less than 1, value: ${x}`);break;case"minimumContrastRatio":x=Math.max(1,Math.min(21,Math.round(10*x)/10));break;case"scrollback":if((x=Math.min(x,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${x}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(x<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${x}`);break;case"rows":case"cols":if(!x&&x!==0)throw new Error(`${S} must be numeric, value: ${x}`);break;case"windowsPty":x=x!=null?x:{}}return x}}b.OptionsService=v},2660:function(T,b,u){var h=this&&this.__decorate||function(v,S,x,d){var N,O=arguments.length,Z=O<3?S:d===null?d=Object.getOwnPropertyDescriptor(S,x):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(v,S,x,d);else for(var $=v.length-1;$>=0;$--)(N=v[$])&&(Z=(O<3?N(Z):O>3?N(S,x,Z):N(S,x))||Z);return O>3&&Z&&Object.defineProperty(S,x,Z),Z},M=this&&this.__param||function(v,S){return function(x,d){S(x,d,v)}};Object.defineProperty(b,"__esModule",{value:!0}),b.OscLinkService=void 0;let r=u(2585),L=b.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){let S=this._bufferService.buffer;if(v.id===void 0){let $=S.addMarker(S.ybase+S.y),U={data:v,id:this._nextId++,lines:[$]};return $.onDispose(()=>this._removeMarkerFromLink(U,$)),this._dataByLinkId.set(U.id,U),U.id}let x=v,d=this._getEntryIdKey(x),N=this._entriesWithId.get(d);if(N)return this.addLineToLink(N.id,S.ybase+S.y),N.id;let O=S.addMarker(S.ybase+S.y),Z={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[O]};return O.onDispose(()=>this._removeMarkerFromLink(Z,O)),this._entriesWithId.set(Z.key,Z),this._dataByLinkId.set(Z.id,Z),Z.id}addLineToLink(v,S){let x=this._dataByLinkId.get(v);if(x&&x.lines.every((d)=>d.line!==S)){let d=this._bufferService.buffer.addMarker(S);x.lines.push(d),d.onDispose(()=>this._removeMarkerFromLink(x,d))}}getLinkData(v){var S;return(S=this._dataByLinkId.get(v))===null||S===void 0?void 0:S.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,S){let x=v.lines.indexOf(S);x!==-1&&(v.lines.splice(x,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};b.OscLinkService=L=h([M(0,r.IBufferService)],L)},8343:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createDecorator=b.getServiceDependencies=b.serviceRegistry=void 0;let u="di$target",h="di$dependencies";b.serviceRegistry=new Map,b.getServiceDependencies=function(M){return M[h]||[]},b.createDecorator=function(M){if(b.serviceRegistry.has(M))return b.serviceRegistry.get(M);let r=function(L,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,d,N){d[u]===d?d[h].push({id:x,index:N}):(d[h]=[{id:x,index:N}],d[u]=d)})(r,L,S)};return r.toString=()=>M,b.serviceRegistry.set(M,r),r}},2585:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IDecorationService=b.IUnicodeService=b.IOscLinkService=b.IOptionsService=b.ILogService=b.LogLevelEnum=b.IInstantiationService=b.ICharsetService=b.ICoreService=b.ICoreMouseService=b.IBufferService=void 0;let h=u(8343);var M;b.IBufferService=h.createDecorator("BufferService"),b.ICoreMouseService=h.createDecorator("CoreMouseService"),b.ICoreService=h.createDecorator("CoreService"),b.ICharsetService=h.createDecorator("CharsetService"),b.IInstantiationService=h.createDecorator("InstantiationService"),function(r){r[r.TRACE=0]="TRACE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF"}(M||(b.LogLevelEnum=M={})),b.ILogService=h.createDecorator("LogService"),b.IOptionsService=h.createDecorator("OptionsService"),b.IOscLinkService=h.createDecorator("OscLinkService"),b.IUnicodeService=h.createDecorator("UnicodeService"),b.IDecorationService=h.createDecorator("DecorationService")},1480:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UnicodeService=void 0;let h=u(8460),M=u(225);b.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;let r=new M.UnicodeV6;this.register(r),this._active=r.version,this._activeProvider=r}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(r){if(!this._providers[r])throw new Error(`unknown Unicode version "${r}"`);this._active=r,this._activeProvider=this._providers[r],this._onChange.fire(r)}register(r){this._providers[r.version]=r}wcwidth(r){return this._activeProvider.wcwidth(r)}getStringCellWidth(r){let L=0,v=r.length;for(let S=0;S<v;++S){let x=r.charCodeAt(S);if(55296<=x&&x<=56319){if(++S>=v)return L+this.wcwidth(x);let d=r.charCodeAt(S);56320<=d&&d<=57343?x=1024*(x-55296)+d-56320+65536:L+=this.wcwidth(d)}L+=this.wcwidth(x)}return L}}}},k={};function _(T){var b=k[T];if(b!==void 0)return b.exports;var u=k[T]={exports:{}};return V[T].call(u.exports,u,u.exports,_),u.exports}var X={};return(()=>{var T=X;Object.defineProperty(T,"__esModule",{value:!0}),T.Terminal=void 0;let b=_(9042),u=_(3236),h=_(844),M=_(5741),r=_(8285),L=_(7975),v=_(7090),S=["cols","rows"];class x extends h.Disposable{constructor(d){super(),this._core=this.register(new u.Terminal(d)),this._addonManager=this.register(new M.AddonManager),this._publicOptions=Object.assign({},this._core.options);let N=(Z)=>this._core.options[Z],O=(Z,$)=>{this._checkReadonlyOptions(Z),this._core.options[Z]=$};for(let Z in this._core.options){let $={get:N.bind(this,Z),set:O.bind(this,Z)};Object.defineProperty(this._publicOptions,Z,$)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new L.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new r.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let d=this._core.coreService.decPrivateModes,N="none";switch(this._core.coreMouseService.activeProtocol){case"X10":N="x10";break;case"VT200":N="vt200";break;case"DRAG":N="drag";break;case"ANY":N="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:N,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(let N in d)this._publicOptions[N]=d[N]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,N){this._verifyIntegers(d,N),this._core.resize(d,N)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var N,O,Z;return this._checkProposedApi(),this._verifyPositiveIntegers((N=d.x)!==null&&N!==void 0?N:0,(O=d.width)!==null&&O!==void 0?O:0,(Z=d.height)!==null&&Z!==void 0?Z:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,N,O){this._verifyIntegers(d,N,O),this._core.select(d,N,O)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,N){this._verifyIntegers(d,N),this._core.selectLines(d,N)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,N){this._core.write(d,N)}writeln(d,N){this._core.write(d),this._core.write(`\r
`,N)}paste(d){this._core.paste(d)}refresh(d,N){this._verifyIntegers(d,N),this._core.refresh(d,N)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return b}_verifyIntegers(...d){for(let N of d)if(N===1/0||isNaN(N)||N%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(let N of d)if(N&&(N===1/0||isNaN(N)||N%1!=0||N<0))throw new Error("This API only accepts positive integers")}}T.Terminal=x})(),X})())});var G4=V0((M6,$0)=>{(function(V,k){typeof M6=="object"&&typeof $0=="object"?$0.exports=k():typeof define=="function"&&define.amd?define([],k):typeof M6=="object"?M6.WebglAddon=k():V.WebglAddon=k()})(self,()=>(()=>{var V={965:function(T,b,u){var h=this&&this.__decorate||function(W,g,K,i){var J,F=arguments.length,Y=F<3?g:i===null?i=Object.getOwnPropertyDescriptor(g,K):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(W,g,K,i);else for(var l=W.length-1;l>=0;l--)(J=W[l])&&(Y=(F<3?J(Y):F>3?J(g,K,Y):J(g,K))||Y);return F>3&&Y&&Object.defineProperty(g,K,Y),Y};Object.defineProperty(b,"__esModule",{value:!0}),b.GlyphRenderer=void 0;let M=u(374),r=u(509),L=u(855),v=u(859),S=u(776),x=u(381),d=11,N=d*Float32Array.BYTES_PER_ELEMENT,O,Z=0,$=0,U=0;class s extends v.Disposable{constructor(W,g,K){super(),this._terminal=W,this._gl=g,this._dimensions=K,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};let i=this._gl;r.TextureAtlas.maxAtlasPages===void 0&&(r.TextureAtlas.maxAtlasPages=Math.min(32,M.throwIfFalsy(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS))),r.TextureAtlas.maxTextureSize=M.throwIfFalsy(i.getParameter(i.MAX_TEXTURE_SIZE))),this._program=M.throwIfFalsy(x.createProgram(i,`#version 300 es
layout (location = 0) in vec2 a_unitquad;
layout (location = 1) in vec2 a_cellpos;
layout (location = 2) in vec2 a_offset;
layout (location = 3) in vec2 a_size;
layout (location = 4) in float a_texpage;
layout (location = 5) in vec2 a_texcoord;
layout (location = 6) in vec2 a_texsize;

uniform mat4 u_projection;
uniform vec2 u_resolution;

out vec2 v_texcoord;
flat out int v_texpage;

void main() {
  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_texpage = int(a_texpage);
  v_texcoord = a_texcoord + a_unitquad * a_texsize;
}`,function(f){let n="";for(let c=1;c<f;c++)n+=` else if (v_texpage == ${c}) { outColor = texture(u_texture[${c}], v_texcoord); }`;return`#version 300 es
precision lowp float;

in vec2 v_texcoord;
flat in int v_texpage;

uniform sampler2D u_texture[${f}];

out vec4 outColor;

void main() {
  if (v_texpage == 0) {
    outColor = texture(u_texture[0], v_texcoord);
  } ${n}
}`}(r.TextureAtlas.maxAtlasPages))),this.register(v.toDisposable(()=>i.deleteProgram(this._program))),this._projectionLocation=M.throwIfFalsy(i.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=M.throwIfFalsy(i.getUniformLocation(this._program,"u_resolution")),this._textureLocation=M.throwIfFalsy(i.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=i.createVertexArray(),i.bindVertexArray(this._vertexArrayObject);let J=new Float32Array([0,0,1,0,0,1,1,1]),F=i.createBuffer();this.register(v.toDisposable(()=>i.deleteBuffer(F))),i.bindBuffer(i.ARRAY_BUFFER,F),i.bufferData(i.ARRAY_BUFFER,J,i.STATIC_DRAW),i.enableVertexAttribArray(0),i.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);let Y=new Uint8Array([0,1,2,3]),l=i.createBuffer();this.register(v.toDisposable(()=>i.deleteBuffer(l))),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,l),i.bufferData(i.ELEMENT_ARRAY_BUFFER,Y,i.STATIC_DRAW),this._attributesBuffer=M.throwIfFalsy(i.createBuffer()),this.register(v.toDisposable(()=>i.deleteBuffer(this._attributesBuffer))),i.bindBuffer(i.ARRAY_BUFFER,this._attributesBuffer),i.enableVertexAttribArray(2),i.vertexAttribPointer(2,2,i.FLOAT,!1,N,0),i.vertexAttribDivisor(2,1),i.enableVertexAttribArray(3),i.vertexAttribPointer(3,2,i.FLOAT,!1,N,2*Float32Array.BYTES_PER_ELEMENT),i.vertexAttribDivisor(3,1),i.enableVertexAttribArray(4),i.vertexAttribPointer(4,1,i.FLOAT,!1,N,4*Float32Array.BYTES_PER_ELEMENT),i.vertexAttribDivisor(4,1),i.enableVertexAttribArray(5),i.vertexAttribPointer(5,2,i.FLOAT,!1,N,5*Float32Array.BYTES_PER_ELEMENT),i.vertexAttribDivisor(5,1),i.enableVertexAttribArray(6),i.vertexAttribPointer(6,2,i.FLOAT,!1,N,7*Float32Array.BYTES_PER_ELEMENT),i.vertexAttribDivisor(6,1),i.enableVertexAttribArray(1),i.vertexAttribPointer(1,2,i.FLOAT,!1,N,9*Float32Array.BYTES_PER_ELEMENT),i.vertexAttribDivisor(1,1),i.useProgram(this._program);let p=new Int32Array(r.TextureAtlas.maxAtlasPages);for(let f=0;f<r.TextureAtlas.maxAtlasPages;f++)p[f]=f;i.uniform1iv(this._textureLocation,p),i.uniformMatrix4fv(this._projectionLocation,!1,x.PROJECTION_MATRIX),this._atlasTextures=[];for(let f=0;f<r.TextureAtlas.maxAtlasPages;f++){let n=new x.GLTexture(M.throwIfFalsy(i.createTexture()));this.register(v.toDisposable(()=>i.deleteTexture(n.texture))),i.activeTexture(i.TEXTURE0+f),i.bindTexture(i.TEXTURE_2D,n.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array([255,0,0,255])),this._atlasTextures[f]=n}i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),this.handleResize()}beginFrame(){return!this._atlas||this._atlas.beginFrame()}updateCell(W,g,K,i,J,F,Y,l){this._updateCell(this._vertices.attributes,W,g,K,i,J,F,Y,l)}_updateCell(W,g,K,i,J,F,Y,l,p){Z=(K*this._terminal.cols+g)*d,i!==L.NULL_CELL_CODE&&i!==void 0?this._atlas&&(O=l&&l.length>1?this._atlas.getRasterizedGlyphCombinedChar(l,J,F,Y,!1):this._atlas.getRasterizedGlyph(i,J,F,Y,!1),$=Math.floor((this._dimensions.device.cell.width-this._dimensions.device.char.width)/2),J!==p&&O.offset.x>$?(U=O.offset.x-$,W[Z]=-(O.offset.x-U)+this._dimensions.device.char.left,W[Z+1]=-O.offset.y+this._dimensions.device.char.top,W[Z+2]=(O.size.x-U)/this._dimensions.device.canvas.width,W[Z+3]=O.size.y/this._dimensions.device.canvas.height,W[Z+4]=O.texturePage,W[Z+5]=O.texturePositionClipSpace.x+U/this._atlas.pages[O.texturePage].canvas.width,W[Z+6]=O.texturePositionClipSpace.y,W[Z+7]=O.sizeClipSpace.x-U/this._atlas.pages[O.texturePage].canvas.width,W[Z+8]=O.sizeClipSpace.y):(W[Z]=-O.offset.x+this._dimensions.device.char.left,W[Z+1]=-O.offset.y+this._dimensions.device.char.top,W[Z+2]=O.size.x/this._dimensions.device.canvas.width,W[Z+3]=O.size.y/this._dimensions.device.canvas.height,W[Z+4]=O.texturePage,W[Z+5]=O.texturePositionClipSpace.x,W[Z+6]=O.texturePositionClipSpace.y,W[Z+7]=O.sizeClipSpace.x,W[Z+8]=O.sizeClipSpace.y)):W.fill(0,Z,Z+d-1-2)}clear(){let W=this._terminal,g=W.cols*W.rows*d;this._vertices.count!==g?this._vertices.attributes=new Float32Array(g):this._vertices.attributes.fill(0);let K=0;for(;K<this._vertices.attributesBuffers.length;K++)this._vertices.count!==g?this._vertices.attributesBuffers[K]=new Float32Array(g):this._vertices.attributesBuffers[K].fill(0);this._vertices.count=g,K=0;for(let i=0;i<W.rows;i++)for(let J=0;J<W.cols;J++)this._vertices.attributes[K+9]=J/W.cols,this._vertices.attributes[K+10]=i/W.rows,K+=d}handleResize(){let W=this._gl;W.useProgram(this._program),W.viewport(0,0,W.canvas.width,W.canvas.height),W.uniform2f(this._resolutionLocation,W.canvas.width,W.canvas.height),this.clear()}render(W){if(!this._atlas)return;let g=this._gl;g.useProgram(this._program),g.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;let K=this._vertices.attributesBuffers[this._activeBuffer],i=0;for(let J=0;J<W.lineLengths.length;J++){let F=J*this._terminal.cols*d,Y=this._vertices.attributes.subarray(F,F+W.lineLengths[J]*d);K.set(Y,i),i+=Y.length}g.bindBuffer(g.ARRAY_BUFFER,this._attributesBuffer),g.bufferData(g.ARRAY_BUFFER,K.subarray(0,i),g.STREAM_DRAW);for(let J=0;J<this._atlas.pages.length;J++)this._atlas.pages[J].version!==this._atlasTextures[J].version&&this._bindAtlasPageTexture(g,this._atlas,J);g.drawElementsInstanced(g.TRIANGLE_STRIP,4,g.UNSIGNED_BYTE,0,i/d)}setAtlas(W){this._atlas=W;for(let g of this._atlasTextures)g.version=-1}_bindAtlasPageTexture(W,g,K){W.activeTexture(W.TEXTURE0+K),W.bindTexture(W.TEXTURE_2D,this._atlasTextures[K].texture),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),W.texImage2D(W.TEXTURE_2D,0,W.RGBA,W.RGBA,W.UNSIGNED_BYTE,g.pages[K].canvas),W.generateMipmap(W.TEXTURE_2D),this._atlasTextures[K].version=g.pages[K].version}setDimensions(W){this._dimensions=W}}b.GlyphRenderer=s,h([S.traceCall],s.prototype,"updateCell",null)},742:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RectangleRenderer=void 0;let h=u(374),M=u(859),r=u(310),L=u(381),v=8*Float32Array.BYTES_PER_ELEMENT;class S{constructor(){this.attributes=new Float32Array(160),this.count=0}}let x=0,d=0,N=0,O=0,Z=0,$=0,U=0;class s extends M.Disposable{constructor(W,g,K,i){super(),this._terminal=W,this._gl=g,this._dimensions=K,this._themeService=i,this._vertices=new S,this._verticesCursor=new S;let J=this._gl;this._program=h.throwIfFalsy(L.createProgram(J,`#version 300 es
layout (location = 0) in vec2 a_position;
layout (location = 1) in vec2 a_size;
layout (location = 2) in vec4 a_color;
layout (location = 3) in vec2 a_unitquad;

uniform mat4 u_projection;

out vec4 v_color;

void main() {
  vec2 zeroToOne = a_position + (a_unitquad * a_size);
  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);
  v_color = a_color;
}`,`#version 300 es
precision lowp float;

in vec4 v_color;

out vec4 outColor;

void main() {
  outColor = v_color;
}`)),this.register(M.toDisposable(()=>J.deleteProgram(this._program))),this._projectionLocation=h.throwIfFalsy(J.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=J.createVertexArray(),J.bindVertexArray(this._vertexArrayObject);let F=new Float32Array([0,0,1,0,0,1,1,1]),Y=J.createBuffer();this.register(M.toDisposable(()=>J.deleteBuffer(Y))),J.bindBuffer(J.ARRAY_BUFFER,Y),J.bufferData(J.ARRAY_BUFFER,F,J.STATIC_DRAW),J.enableVertexAttribArray(3),J.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);let l=new Uint8Array([0,1,2,3]),p=J.createBuffer();this.register(M.toDisposable(()=>J.deleteBuffer(p))),J.bindBuffer(J.ELEMENT_ARRAY_BUFFER,p),J.bufferData(J.ELEMENT_ARRAY_BUFFER,l,J.STATIC_DRAW),this._attributesBuffer=h.throwIfFalsy(J.createBuffer()),this.register(M.toDisposable(()=>J.deleteBuffer(this._attributesBuffer))),J.bindBuffer(J.ARRAY_BUFFER,this._attributesBuffer),J.enableVertexAttribArray(0),J.vertexAttribPointer(0,2,J.FLOAT,!1,v,0),J.vertexAttribDivisor(0,1),J.enableVertexAttribArray(1),J.vertexAttribPointer(1,2,J.FLOAT,!1,v,2*Float32Array.BYTES_PER_ELEMENT),J.vertexAttribDivisor(1,1),J.enableVertexAttribArray(2),J.vertexAttribPointer(2,4,J.FLOAT,!1,v,4*Float32Array.BYTES_PER_ELEMENT),J.vertexAttribDivisor(2,1),this._updateCachedColors(i.colors),this.register(this._themeService.onChangeColors((f)=>{this._updateCachedColors(f),this._updateViewportRectangle()}))}renderBackgrounds(){this._renderVertices(this._vertices)}renderCursor(){this._renderVertices(this._verticesCursor)}_renderVertices(W){let g=this._gl;g.useProgram(this._program),g.bindVertexArray(this._vertexArrayObject),g.uniformMatrix4fv(this._projectionLocation,!1,L.PROJECTION_MATRIX),g.bindBuffer(g.ARRAY_BUFFER,this._attributesBuffer),g.bufferData(g.ARRAY_BUFFER,W.attributes,g.DYNAMIC_DRAW),g.drawElementsInstanced(this._gl.TRIANGLE_STRIP,4,g.UNSIGNED_BYTE,0,W.count)}handleResize(){this._updateViewportRectangle()}setDimensions(W){this._dimensions=W}_updateCachedColors(W){this._bgFloat=this._colorToFloat32Array(W.background),this._cursorFloat=this._colorToFloat32Array(W.cursor)}_updateViewportRectangle(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.device.cell.width,this._terminal.rows*this._dimensions.device.cell.height,this._bgFloat)}updateBackgrounds(W){let g=this._terminal,K=this._vertices,i,J,F,Y,l,p,f,n,c,y,q,a=1;for(i=0;i<g.rows;i++){for(F=-1,Y=0,l=0,p=!1,J=0;J<g.cols;J++)f=(i*g.cols+J)*r.RENDER_MODEL_INDICIES_PER_CELL,n=W.cells[f+r.RENDER_MODEL_BG_OFFSET],c=W.cells[f+r.RENDER_MODEL_FG_OFFSET],y=!!(67108864&c),(n!==Y||c!==l&&(p||y))&&((Y!==0||p&&l!==0)&&(q=8*a++,this._updateRectangle(K,q,l,Y,F,J,i)),F=J,Y=n,l=c,p=y);(Y!==0||p&&l!==0)&&(q=8*a++,this._updateRectangle(K,q,l,Y,F,g.cols,i))}K.count=a}updateCursor(W){let g=this._verticesCursor,K=W.cursor;if(!K||K.style==="block")return void(g.count=0);let i,J=0;K.style!=="bar"&&K.style!=="outline"||(i=8*J++,this._addRectangleFloat(g.attributes,i,K.x*this._dimensions.device.cell.width,K.y*this._dimensions.device.cell.height,K.style==="bar"?K.dpr*K.cursorWidth:K.dpr,this._dimensions.device.cell.height,this._cursorFloat)),K.style!=="underline"&&K.style!=="outline"||(i=8*J++,this._addRectangleFloat(g.attributes,i,K.x*this._dimensions.device.cell.width,(K.y+1)*this._dimensions.device.cell.height-K.dpr,K.width*this._dimensions.device.cell.width,K.dpr,this._cursorFloat)),K.style==="outline"&&(i=8*J++,this._addRectangleFloat(g.attributes,i,K.x*this._dimensions.device.cell.width,K.y*this._dimensions.device.cell.height,K.width*this._dimensions.device.cell.width,K.dpr,this._cursorFloat),i=8*J++,this._addRectangleFloat(g.attributes,i,(K.x+K.width)*this._dimensions.device.cell.width-K.dpr,K.y*this._dimensions.device.cell.height,K.dpr,this._dimensions.device.cell.height,this._cursorFloat)),g.count=J}_updateRectangle(W,g,K,i,J,F,Y){if(67108864&K)switch(50331648&K){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&K].rgba;break;case 50331648:x=(16777215&K)<<8;break;default:x=this._themeService.colors.foreground.rgba}else switch(50331648&i){case 16777216:case 33554432:x=this._themeService.colors.ansi[255&i].rgba;break;case 50331648:x=(16777215&i)<<8;break;default:x=this._themeService.colors.background.rgba}W.attributes.length<g+4&&(W.attributes=L.expandFloat32Array(W.attributes,this._terminal.rows*this._terminal.cols*8)),d=J*this._dimensions.device.cell.width,N=Y*this._dimensions.device.cell.height,O=(x>>24&255)/255,Z=(x>>16&255)/255,$=(x>>8&255)/255,U=1,this._addRectangle(W.attributes,g,d,N,(F-J)*this._dimensions.device.cell.width,this._dimensions.device.cell.height,O,Z,$,U)}_addRectangle(W,g,K,i,J,F,Y,l,p,f){W[g]=K/this._dimensions.device.canvas.width,W[g+1]=i/this._dimensions.device.canvas.height,W[g+2]=J/this._dimensions.device.canvas.width,W[g+3]=F/this._dimensions.device.canvas.height,W[g+4]=Y,W[g+5]=l,W[g+6]=p,W[g+7]=f}_addRectangleFloat(W,g,K,i,J,F,Y){W[g]=K/this._dimensions.device.canvas.width,W[g+1]=i/this._dimensions.device.canvas.height,W[g+2]=J/this._dimensions.device.canvas.width,W[g+3]=F/this._dimensions.device.canvas.height,W[g+4]=Y[0],W[g+5]=Y[1],W[g+6]=Y[2],W[g+7]=Y[3]}_colorToFloat32Array(W){return new Float32Array([(W.rgba>>24&255)/255,(W.rgba>>16&255)/255,(W.rgba>>8&255)/255,(255&W.rgba)/255])}}b.RectangleRenderer=s},310:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RenderModel=b.COMBINED_CHAR_BIT_MASK=b.RENDER_MODEL_EXT_OFFSET=b.RENDER_MODEL_FG_OFFSET=b.RENDER_MODEL_BG_OFFSET=b.RENDER_MODEL_INDICIES_PER_CELL=void 0;let h=u(296);b.RENDER_MODEL_INDICIES_PER_CELL=4,b.RENDER_MODEL_BG_OFFSET=1,b.RENDER_MODEL_FG_OFFSET=2,b.RENDER_MODEL_EXT_OFFSET=3,b.COMBINED_CHAR_BIT_MASK=2147483648,b.RenderModel=class{constructor(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection=h.createSelectionRenderModel()}resize(M,r){let L=M*r*b.RENDER_MODEL_INDICIES_PER_CELL;L!==this.cells.length&&(this.cells=new Uint32Array(L),this.lineLengths=new Uint32Array(r))}clear(){this.cells.fill(0,0),this.lineLengths.fill(0,0)}}},666:function(T,b,u){var h=this&&this.__decorate||function(Y,l,p,f){var n,c=arguments.length,y=c<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,p):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(Y,l,p,f);else for(var q=Y.length-1;q>=0;q--)(n=Y[q])&&(y=(c<3?n(y):c>3?n(l,p,y):n(l,p))||y);return c>3&&y&&Object.defineProperty(l,p,y),y};Object.defineProperty(b,"__esModule",{value:!0}),b.JoinedCellData=b.WebglRenderer=void 0;let M=u(820),r=u(274),L=u(627),v=u(457),S=u(56),x=u(374),d=u(345),N=u(859),O=u(147),Z=u(782),$=u(855),U=u(776),s=u(965),W=u(742),g=u(310),K=u(733);class i extends N.Disposable{constructor(Y,l,p,f,n,c,y,q,a){super(),this._terminal=Y,this._characterJoinerService=l,this._charSizeService=p,this._coreBrowserService=f,this._coreService=n,this._decorationService=c,this._optionsService=y,this._themeService=q,this._cursorBlinkStateManager=new N.MutableDisposable,this._charAtlasDisposable=this.register(new N.MutableDisposable),this._model=new g.RenderModel,this._workCell=new Z.CellData,this._rectangleRenderer=this.register(new N.MutableDisposable),this._glyphRenderer=this.register(new N.MutableDisposable),this._onChangeTextureAtlas=this.register(new d.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new d.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new d.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onRequestRedraw=this.register(new d.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onContextLoss=this.register(new d.EventEmitter),this.onContextLoss=this._onContextLoss.event,this.register(this._themeService.onChangeColors(()=>this._handleColorChange())),this._cellColorResolver=new r.CellColorResolver(this._terminal,this._model.selection,this._decorationService,this._coreBrowserService,this._themeService),this._core=this._terminal._core,this._renderLayers=[new K.LinkRenderLayer(this._core.screenElement,2,this._terminal,this._core.linkifier2,this._coreBrowserService,y,this._themeService)],this.dimensions=x.createRenderDimensions(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._updateCursorBlink(),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this._canvas=document.createElement("canvas");let o={antialias:!1,depth:!1,preserveDrawingBuffer:a};if(this._gl=this._canvas.getContext("webgl2",o),!this._gl)throw new Error("WebGL2 not supported "+this._gl);this.register(M.addDisposableDomListener(this._canvas,"webglcontextlost",(m)=>{console.log("webglcontextlost event received"),m.preventDefault(),this._contextRestorationTimeout=setTimeout(()=>{this._contextRestorationTimeout=void 0,console.warn("webgl context not restored; firing onContextLoss"),this._onContextLoss.fire(m)},3000)})),this.register(M.addDisposableDomListener(this._canvas,"webglcontextrestored",(m)=>{console.warn("webglcontextrestored event received"),clearTimeout(this._contextRestorationTimeout),this._contextRestorationTimeout=void 0,L.removeTerminalFromCache(this._terminal),this._initializeWebGLState(),this._requestRedrawViewport()})),this.register(S.observeDevicePixelDimensions(this._canvas,this._coreBrowserService.window,(m,j)=>this._setCanvasDevicePixelDimensions(m,j))),this._core.screenElement.appendChild(this._canvas),[this._rectangleRenderer.value,this._glyphRenderer.value]=this._initializeWebGLState(),this._isAttached=this._coreBrowserService.window.document.body.contains(this._core.screenElement),this.register(N.toDisposable(()=>{var m;for(let j of this._renderLayers)j.dispose();(m=this._canvas.parentElement)===null||m===void 0||m.removeChild(this._canvas),L.removeTerminalFromCache(this._terminal)}))}get textureAtlas(){var Y;return(Y=this._charAtlas)===null||Y===void 0?void 0:Y.pages[0].canvas}_handleColorChange(){this._refreshCharAtlas(),this._clearModel(!0)}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._terminal.cols,this._terminal.rows))}handleResize(Y,l){var p,f,n,c;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);for(let y of this._renderLayers)y.resize(this._terminal,this.dimensions);this._canvas.width=this.dimensions.device.canvas.width,this._canvas.height=this.dimensions.device.canvas.height,this._canvas.style.width=`${this.dimensions.css.canvas.width}px`,this._canvas.style.height=`${this.dimensions.css.canvas.height}px`,this._core.screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._core.screenElement.style.height=`${this.dimensions.css.canvas.height}px`,(p=this._rectangleRenderer.value)===null||p===void 0||p.setDimensions(this.dimensions),(f=this._rectangleRenderer.value)===null||f===void 0||f.handleResize(),(n=this._glyphRenderer.value)===null||n===void 0||n.setDimensions(this.dimensions),(c=this._glyphRenderer.value)===null||c===void 0||c.handleResize(),this._refreshCharAtlas(),this._clearModel(!1)}handleCharSizeChanged(){this.handleResize(this._terminal.cols,this._terminal.rows)}handleBlur(){var Y;for(let l of this._renderLayers)l.handleBlur(this._terminal);(Y=this._cursorBlinkStateManager.value)===null||Y===void 0||Y.pause(),this._requestRedrawViewport()}handleFocus(){var Y;for(let l of this._renderLayers)l.handleFocus(this._terminal);(Y=this._cursorBlinkStateManager.value)===null||Y===void 0||Y.resume(),this._requestRedrawViewport()}handleSelectionChanged(Y,l,p){for(let f of this._renderLayers)f.handleSelectionChanged(this._terminal,Y,l,p);this._model.selection.update(this._terminal,Y,l,p),this._requestRedrawViewport()}handleCursorMove(){var Y;for(let l of this._renderLayers)l.handleCursorMove(this._terminal);(Y=this._cursorBlinkStateManager.value)===null||Y===void 0||Y.restartBlinkAnimation()}_handleOptionsChanged(){this._updateDimensions(),this._refreshCharAtlas(),this._updateCursorBlink()}_initializeWebGLState(){return this._rectangleRenderer.value=new W.RectangleRenderer(this._terminal,this._gl,this.dimensions,this._themeService),this._glyphRenderer.value=new s.GlyphRenderer(this._terminal,this._gl,this.dimensions),this.handleCharSizeChanged(),[this._rectangleRenderer.value,this._glyphRenderer.value]}_refreshCharAtlas(){var Y;if(this.dimensions.device.char.width<=0&&this.dimensions.device.char.height<=0)return void(this._isAttached=!1);let l=L.acquireTextureAtlas(this._terminal,this._optionsService.rawOptions,this._themeService.colors,this.dimensions.device.cell.width,this.dimensions.device.cell.height,this.dimensions.device.char.width,this.dimensions.device.char.height,this._coreBrowserService.dpr);this._charAtlas!==l&&(this._onChangeTextureAtlas.fire(l.pages[0].canvas),this._charAtlasDisposable.value=N.getDisposeArrayDisposable([d.forwardEvent(l.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),d.forwardEvent(l.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)])),this._charAtlas=l,this._charAtlas.warmUp(),(Y=this._glyphRenderer.value)===null||Y===void 0||Y.setAtlas(this._charAtlas)}_clearModel(Y){var l;this._model.clear(),Y&&((l=this._glyphRenderer.value)===null||l===void 0||l.clear())}clearTextureAtlas(){var Y;(Y=this._charAtlas)===null||Y===void 0||Y.clearTexture(),this._clearModel(!0),this._requestRedrawViewport()}clear(){var Y;this._clearModel(!0);for(let l of this._renderLayers)l.reset(this._terminal);(Y=this._cursorBlinkStateManager.value)===null||Y===void 0||Y.restartBlinkAnimation(),this._updateCursorBlink()}registerCharacterJoiner(Y){return-1}deregisterCharacterJoiner(Y){return!1}renderRows(Y,l){if(!this._isAttached){if(!(this._coreBrowserService.window.document.body.contains(this._core.screenElement)&&this._charSizeService.width&&this._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}for(let p of this._renderLayers)p.handleGridChanged(this._terminal,Y,l);this._glyphRenderer.value&&this._rectangleRenderer.value&&(this._glyphRenderer.value.beginFrame()?(this._clearModel(!0),this._updateModel(0,this._terminal.rows-1)):this._updateModel(Y,l),this._rectangleRenderer.value.renderBackgrounds(),this._glyphRenderer.value.render(this._model),this._cursorBlinkStateManager.value&&!this._cursorBlinkStateManager.value.isCursorVisible||this._rectangleRenderer.value.renderCursor())}_updateCursorBlink(){this._terminal.options.cursorBlink?this._cursorBlinkStateManager.value=new v.CursorBlinkStateManager(()=>{this._requestRedrawCursor()},this._coreBrowserService):this._cursorBlinkStateManager.clear(),this._requestRedrawCursor()}_updateModel(Y,l){let p=this._core,f,n,c,y,q,a,o,m,j,R,w,E,B,e=this._workCell;Y=F(Y,p.rows-1,0),l=F(l,p.rows-1,0);let Q=this._terminal.buffer.active.baseY+this._terminal.buffer.active.cursorY,I=Math.min(this._terminal.buffer.active.cursorX,p.cols-1),A=-1,h1=this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden&&(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible);this._model.cursor=void 0;let n1=!1;for(n=Y;n<=l;n++)for(c=n+p.buffer.ydisp,y=p.buffer.lines.get(c),this._model.lineLengths[n]=0,q=this._characterJoinerService.getJoinedCharacters(c),E=0;E<p.cols;E++)if(f=this._cellColorResolver.result.bg,y.loadCell(E,e),E===0&&(f=this._cellColorResolver.result.bg),a=!1,o=E,q.length>0&&E===q[0][0]&&(a=!0,m=q.shift(),e=new J(e,y.translateToString(!0,m[0],m[1]),m[1]-m[0]),o=m[1]-1),j=e.getChars(),R=e.getCode(),w=(n*p.cols+E)*g.RENDER_MODEL_INDICIES_PER_CELL,this._cellColorResolver.resolve(e,E,c),h1&&c===Q&&(E===I&&(this._model.cursor={x:I,y:this._terminal.buffer.active.cursorY,width:e.getWidth(),style:this._coreBrowserService.isFocused?p.options.cursorStyle||"block":p.options.cursorInactiveStyle,cursorWidth:p.options.cursorWidth,dpr:this._devicePixelRatio},A=I+e.getWidth()-1),E>=I&&E<=A&&(this._coreBrowserService.isFocused&&(p.options.cursorStyle||"block")==="block"||this._coreBrowserService.isFocused===!1&&p.options.cursorInactiveStyle==="block")&&(this._cellColorResolver.result.fg=50331648|this._themeService.colors.cursorAccent.rgba>>8&16777215,this._cellColorResolver.result.bg=50331648|this._themeService.colors.cursor.rgba>>8&16777215)),R!==$.NULL_CELL_CODE&&(this._model.lineLengths[n]=E+1),(this._model.cells[w]!==R||this._model.cells[w+g.RENDER_MODEL_BG_OFFSET]!==this._cellColorResolver.result.bg||this._model.cells[w+g.RENDER_MODEL_FG_OFFSET]!==this._cellColorResolver.result.fg||this._model.cells[w+g.RENDER_MODEL_EXT_OFFSET]!==this._cellColorResolver.result.ext)&&(n1=!0,j.length>1&&(R|=g.COMBINED_CHAR_BIT_MASK),this._model.cells[w]=R,this._model.cells[w+g.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[w+g.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[w+g.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext,this._glyphRenderer.value.updateCell(E,n,R,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,j,f),a))for(e=this._workCell,E++;E<o;E++)B=(n*p.cols+E)*g.RENDER_MODEL_INDICIES_PER_CELL,this._glyphRenderer.value.updateCell(E,n,$.NULL_CELL_CODE,0,0,0,$.NULL_CELL_CHAR,0),this._model.cells[B]=$.NULL_CELL_CODE,this._model.cells[B+g.RENDER_MODEL_BG_OFFSET]=this._cellColorResolver.result.bg,this._model.cells[B+g.RENDER_MODEL_FG_OFFSET]=this._cellColorResolver.result.fg,this._model.cells[B+g.RENDER_MODEL_EXT_OFFSET]=this._cellColorResolver.result.ext;n1&&this._rectangleRenderer.value.updateBackgrounds(this._model),this._rectangleRenderer.value.updateCursor(this._model)}_updateDimensions(){this._charSizeService.width&&this._charSizeService.height&&(this.dimensions.device.char.width=Math.floor(this._charSizeService.width*this._devicePixelRatio),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*this._devicePixelRatio),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._terminal.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._terminal.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/this._devicePixelRatio),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/this._devicePixelRatio),this.dimensions.css.cell.height=this.dimensions.device.cell.height/this._devicePixelRatio,this.dimensions.css.cell.width=this.dimensions.device.cell.width/this._devicePixelRatio)}_setCanvasDevicePixelDimensions(Y,l){this._canvas.width===Y&&this._canvas.height===l||(this._canvas.width=Y,this._canvas.height=l,this._requestRedrawViewport())}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})}_requestRedrawCursor(){let Y=this._terminal.buffer.active.cursorY;this._onRequestRedraw.fire({start:Y,end:Y})}}b.WebglRenderer=i,h([U.traceCall],i.prototype,"renderRows",null);class J extends O.AttributeData{constructor(Y,l,p){super(),this.content=0,this.combinedData="",this.fg=Y.fg,this.bg=Y.bg,this.combinedData=l,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(Y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}function F(Y,l,p=0){return Math.max(Math.min(Y,l),p)}b.JoinedCellData=J},381:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GLTexture=b.expandFloat32Array=b.createShader=b.createProgram=b.PROJECTION_MATRIX=void 0;let h=u(374);function M(r,L,v){let S=h.throwIfFalsy(r.createShader(L));if(r.shaderSource(S,v),r.compileShader(S),r.getShaderParameter(S,r.COMPILE_STATUS))return S;console.error(r.getShaderInfoLog(S)),r.deleteShader(S)}b.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),b.createProgram=function(r,L,v){let S=h.throwIfFalsy(r.createProgram());if(r.attachShader(S,h.throwIfFalsy(M(r,r.VERTEX_SHADER,L))),r.attachShader(S,h.throwIfFalsy(M(r,r.FRAGMENT_SHADER,v))),r.linkProgram(S),r.getProgramParameter(S,r.LINK_STATUS))return S;console.error(r.getProgramInfoLog(S)),r.deleteProgram(S)},b.createShader=M,b.expandFloat32Array=function(r,L){let v=Math.min(2*r.length,L),S=new Float32Array(v);for(let x=0;x<r.length;x++)S[x]=r[x];return S},b.GLTexture=class{constructor(r){this.texture=r,this.version=-1}}},592:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaseRenderLayer=void 0;let h=u(627),M=u(237),r=u(374),L=u(859);class v extends L.Disposable{constructor(S,x,d,N,O,Z,$,U){super(),this._container=x,this._alpha=O,this._coreBrowserService=Z,this._optionsService=$,this._themeService=U,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add(`xterm-${d}-layer`),this._canvas.style.zIndex=N.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this.register(this._themeService.onChangeColors((s)=>{this._refreshCharAtlas(S,s),this.reset(S)})),this.register(L.toDisposable(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=r.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(S){}handleFocus(S){}handleCursorMove(S){}handleGridChanged(S,x,d){}handleSelectionChanged(S,x,d,N=!1){}_setTransparency(S,x){if(x===this._alpha)return;let d=this._canvas;this._alpha=x,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,d),this._refreshCharAtlas(S,this._themeService.colors),this.handleGridChanged(S,0,S.rows-1)}_refreshCharAtlas(S,x){this._deviceCharWidth<=0&&this._deviceCharHeight<=0||(this._charAtlas=h.acquireTextureAtlas(S,this._optionsService.rawOptions,x,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlas.warmUp())}resize(S,x){this._deviceCellWidth=x.device.cell.width,this._deviceCellHeight=x.device.cell.height,this._deviceCharWidth=x.device.char.width,this._deviceCharHeight=x.device.char.height,this._deviceCharLeft=x.device.char.left,this._deviceCharTop=x.device.char.top,this._canvas.width=x.device.canvas.width,this._canvas.height=x.device.canvas.height,this._canvas.style.width=`${x.css.canvas.width}px`,this._canvas.style.height=`${x.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(S,this._themeService.colors)}_fillBottomLineAtCells(S,x,d=1){this._ctx.fillRect(S*this._deviceCellWidth,(x+1)*this._deviceCellHeight-this._coreBrowserService.dpr-1,d*this._deviceCellWidth,this._coreBrowserService.dpr)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(S,x,d,N){this._alpha?this._ctx.clearRect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,N*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,N*this._deviceCellHeight))}_fillCharTrueColor(S,x,d,N){this._ctx.font=this._getFont(S,!1,!1),this._ctx.textBaseline=M.TEXT_BASELINE,this._clipCell(d,N,x.getWidth()),this._ctx.fillText(x.getChars(),d*this._deviceCellWidth+this._deviceCharLeft,N*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_clipCell(S,x,d){this._ctx.beginPath(),this._ctx.rect(S*this._deviceCellWidth,x*this._deviceCellHeight,d*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(S,x,d){return`${d?"italic":""} ${x?S.options.fontWeightBold:S.options.fontWeight} ${S.options.fontSize*this._coreBrowserService.dpr}px ${S.options.fontFamily}`}}b.BaseRenderLayer=v},733:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.LinkRenderLayer=void 0;let h=u(197),M=u(237),r=u(592);class L extends r.BaseRenderLayer{constructor(v,S,x,d,N,O,Z){super(x,v,"link",S,!0,N,O,Z),this.register(d.onShowLinkUnderline(($)=>this._handleShowLinkUnderline($))),this.register(d.onHideLinkUnderline(($)=>this._handleHideLinkUnderline($)))}resize(v,S){super.resize(v,S),this._state=void 0}reset(v){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);let v=this._state.y2-this._state.y1-1;v>0&&this._clearCells(0,this._state.y1+1,this._state.cols,v),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(v){if(v.fg===M.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:v.fg!==void 0&&h.is256Color(v.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[v.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,v.y1===v.y2)this._fillBottomLineAtCells(v.x1,v.y1,v.x2-v.x1);else{this._fillBottomLineAtCells(v.x1,v.y1,v.cols-v.x1);for(let S=v.y1+1;S<v.y2;S++)this._fillBottomLineAtCells(0,S,v.cols);this._fillBottomLineAtCells(0,v.y2,v.x2)}this._state=v}_handleHideLinkUnderline(v){this._clearCurrentLink()}}b.LinkRenderLayer=L},820:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.addDisposableDomListener=void 0,b.addDisposableDomListener=function(u,h,M,r){u.addEventListener(h,M,r);let L=!1;return{dispose:()=>{L||(L=!0,u.removeEventListener(h,M,r))}}}},274:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellColorResolver=void 0;let u,h=0,M=0,r=!1,L=!1,v=!1;b.CellColorResolver=class{constructor(S,x,d,N,O){this._terminal=S,this._selectionRenderModel=x,this._decorationService=d,this._coreBrowserService=N,this._themeService=O,this.result={fg:0,bg:0,ext:0}}resolve(S,x,d){this.result.bg=S.bg,this.result.fg=S.fg,this.result.ext=268435456&S.bg?S.extended.ext:0,M=0,h=0,L=!1,r=!1,v=!1,u=this._themeService.colors,this._decorationService.forEachDecorationAtCell(x,d,"bottom",(N)=>{N.backgroundColorRGB&&(M=N.backgroundColorRGB.rgba>>8&16777215,L=!0),N.foregroundColorRGB&&(h=N.foregroundColorRGB.rgba>>8&16777215,r=!0)}),v=this._selectionRenderModel.isCellSelected(this._terminal,x,d),v&&(M=(this._coreBrowserService.isFocused?u.selectionBackgroundOpaque:u.selectionInactiveBackgroundOpaque).rgba>>8&16777215,L=!0,u.selectionForeground&&(h=u.selectionForeground.rgba>>8&16777215,r=!0)),this._decorationService.forEachDecorationAtCell(x,d,"top",(N)=>{N.backgroundColorRGB&&(M=N.backgroundColorRGB.rgba>>8&16777215,L=!0),N.foregroundColorRGB&&(h=N.foregroundColorRGB.rgba>>8&16777215,r=!0)}),L&&(M=v?-16777216&S.bg&-134217729|M|50331648:-16777216&S.bg|M|50331648),r&&(h=-16777216&S.fg&-67108865|h|50331648),67108864&this.result.fg&&(L&&!r&&(h=(50331648&this.result.bg)==0?-134217728&this.result.fg|16777215&u.background.rgba>>8|50331648:-134217728&this.result.fg|67108863&this.result.bg,r=!0),!L&&r&&(M=(50331648&this.result.fg)==0?-67108864&this.result.bg|16777215&u.foreground.rgba>>8|50331648:-67108864&this.result.bg|67108863&this.result.fg,L=!0)),u=void 0,this.result.bg=L?M:this.result.bg,this.result.fg=r?h:this.result.fg}}},627:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.removeTerminalFromCache=b.acquireTextureAtlas=void 0;let h=u(509),M=u(197),r=[];b.acquireTextureAtlas=function(L,v,S,x,d,N,O,Z){let $=M.generateConfig(x,d,N,O,v,S,Z);for(let W=0;W<r.length;W++){let g=r[W],K=g.ownedBy.indexOf(L);if(K>=0){if(M.configEquals(g.config,$))return g.atlas;g.ownedBy.length===1?(g.atlas.dispose(),r.splice(W,1)):g.ownedBy.splice(K,1);break}}for(let W=0;W<r.length;W++){let g=r[W];if(M.configEquals(g.config,$))return g.ownedBy.push(L),g.atlas}let U=L._core,s={atlas:new h.TextureAtlas(document,$,U.unicodeService),config:$,ownedBy:[L]};return r.push(s),s.atlas},b.removeTerminalFromCache=function(L){for(let v=0;v<r.length;v++){let S=r[v].ownedBy.indexOf(L);if(S!==-1){r[v].ownedBy.length===1?(r[v].atlas.dispose(),r.splice(v,1)):r[v].ownedBy.splice(S,1);break}}}},197:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.is256Color=b.configEquals=b.generateConfig=void 0;let h=u(160);b.generateConfig=function(M,r,L,v,S,x,d){let N={foreground:x.foreground,background:x.background,cursor:h.NULL_COLOR,cursorAccent:h.NULL_COLOR,selectionForeground:h.NULL_COLOR,selectionBackgroundTransparent:h.NULL_COLOR,selectionBackgroundOpaque:h.NULL_COLOR,selectionInactiveBackgroundTransparent:h.NULL_COLOR,selectionInactiveBackgroundOpaque:h.NULL_COLOR,ansi:x.ansi.slice(),contrastCache:x.contrastCache,halfContrastCache:x.halfContrastCache};return{customGlyphs:S.customGlyphs,devicePixelRatio:d,letterSpacing:S.letterSpacing,lineHeight:S.lineHeight,deviceCellWidth:M,deviceCellHeight:r,deviceCharWidth:L,deviceCharHeight:v,fontFamily:S.fontFamily,fontSize:S.fontSize,fontWeight:S.fontWeight,fontWeightBold:S.fontWeightBold,allowTransparency:S.allowTransparency,drawBoldTextInBrightColors:S.drawBoldTextInBrightColors,minimumContrastRatio:S.minimumContrastRatio,colors:N}},b.configEquals=function(M,r){for(let L=0;L<M.colors.ansi.length;L++)if(M.colors.ansi[L].rgba!==r.colors.ansi[L].rgba)return!1;return M.devicePixelRatio===r.devicePixelRatio&&M.customGlyphs===r.customGlyphs&&M.lineHeight===r.lineHeight&&M.letterSpacing===r.letterSpacing&&M.fontFamily===r.fontFamily&&M.fontSize===r.fontSize&&M.fontWeight===r.fontWeight&&M.fontWeightBold===r.fontWeightBold&&M.allowTransparency===r.allowTransparency&&M.deviceCharWidth===r.deviceCharWidth&&M.deviceCharHeight===r.deviceCharHeight&&M.drawBoldTextInBrightColors===r.drawBoldTextInBrightColors&&M.minimumContrastRatio===r.minimumContrastRatio&&M.colors.foreground.rgba===r.colors.foreground.rgba&&M.colors.background.rgba===r.colors.background.rgba},b.is256Color=function(M){return(50331648&M)==16777216||(50331648&M)==33554432}},237:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TEXT_BASELINE=b.DIM_OPACITY=b.INVERTED_DEFAULT_COLOR=void 0;let h=u(399);b.INVERTED_DEFAULT_COLOR=257,b.DIM_OPACITY=0.5,b.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},457:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CursorBlinkStateManager=void 0,b.CursorBlinkStateManager=class{constructor(u,h){this._renderCallback=u,this._coreBrowserService=h,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(u=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){let h=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,h>0)return void this._restartInterval(h)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){let h=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(h)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},u)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tryDrawCustomChar=b.powerlineDefinitions=b.boxDrawingDefinitions=b.blockElementDefinitions=void 0;let h=u(374);b.blockElementDefinitions={"â":[{x:0,y:0,w:8,h:4}],"â":[{x:0,y:7,w:8,h:1}],"â":[{x:0,y:6,w:8,h:2}],"â":[{x:0,y:5,w:8,h:3}],"â":[{x:0,y:4,w:8,h:4}],"â":[{x:0,y:3,w:8,h:5}],"â":[{x:0,y:2,w:8,h:6}],"â":[{x:0,y:1,w:8,h:7}],"â":[{x:0,y:0,w:8,h:8}],"â":[{x:0,y:0,w:7,h:8}],"â":[{x:0,y:0,w:6,h:8}],"â":[{x:0,y:0,w:5,h:8}],"â":[{x:0,y:0,w:4,h:8}],"â":[{x:0,y:0,w:3,h:8}],"â":[{x:0,y:0,w:2,h:8}],"â":[{x:0,y:0,w:1,h:8}],"â":[{x:4,y:0,w:4,h:8}],"â":[{x:0,y:0,w:8,h:1}],"â":[{x:7,y:0,w:1,h:8}],"â":[{x:0,y:4,w:4,h:4}],"â":[{x:4,y:4,w:4,h:4}],"â":[{x:0,y:0,w:4,h:4}],"â":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"â":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"â":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"â":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"â":[{x:4,y:0,w:4,h:4}],"â":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"â":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\uD83E\uDF70":[{x:1,y:0,w:1,h:8}],"\uD83E\uDF71":[{x:2,y:0,w:1,h:8}],"\uD83E\uDF72":[{x:3,y:0,w:1,h:8}],"\uD83E\uDF73":[{x:4,y:0,w:1,h:8}],"\uD83E\uDF74":[{x:5,y:0,w:1,h:8}],"\uD83E\uDF75":[{x:6,y:0,w:1,h:8}],"\uD83E\uDF76":[{x:0,y:1,w:8,h:1}],"\uD83E\uDF77":[{x:0,y:2,w:8,h:1}],"\uD83E\uDF78":[{x:0,y:3,w:8,h:1}],"\uD83E\uDF79":[{x:0,y:4,w:8,h:1}],"\uD83E\uDF7A":[{x:0,y:5,w:8,h:1}],"\uD83E\uDF7B":[{x:0,y:6,w:8,h:1}],"\uD83E\uDF7C":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF7D":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7E":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\uD83E\uDF7F":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\uD83E\uDF80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\uD83E\uDF82":[{x:0,y:0,w:8,h:2}],"\uD83E\uDF83":[{x:0,y:0,w:8,h:3}],"\uD83E\uDF84":[{x:0,y:0,w:8,h:5}],"\uD83E\uDF85":[{x:0,y:0,w:8,h:6}],"\uD83E\uDF86":[{x:0,y:0,w:8,h:7}],"\uD83E\uDF87":[{x:6,y:0,w:2,h:8}],"\uD83E\uDF88":[{x:5,y:0,w:3,h:8}],"\uD83E\uDF89":[{x:3,y:0,w:5,h:8}],"\uD83E\uDF8A":[{x:2,y:0,w:6,h:8}],"\uD83E\uDF8B":[{x:1,y:0,w:7,h:8}],"\uD83E\uDF95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\uD83E\uDF96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\uD83E\uDF97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};let M={"â":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"â":[[1,0],[0,0],[0,1],[0,0]],"â":[[0,1],[1,1],[1,0],[1,1]]};b.boxDrawingDefinitions={"â":{1:"M0,.5 L1,.5"},"â":{3:"M0,.5 L1,.5"},"â":{1:"M.5,0 L.5,1"},"â":{3:"M.5,0 L.5,1"},"â":{1:"M0.5,1 L.5,.5 L1,.5"},"â":{3:"M0.5,1 L.5,.5 L1,.5"},"â":{1:"M0,.5 L.5,.5 L.5,1"},"â":{3:"M0,.5 L.5,.5 L.5,1"},"â":{1:"M.5,0 L.5,.5 L1,.5"},"â":{3:"M.5,0 L.5,.5 L1,.5"},"â":{1:"M.5,0 L.5,.5 L0,.5"},"â":{3:"M.5,0 L.5,.5 L0,.5"},"â":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â£":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â¤":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â«":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â¬":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â³":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â´":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"â»":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"â¼":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"â":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"â´":{1:"M.5,.5 L0,.5"},"â¸":{3:"M.5,.5 L0,.5"},"âµ":{1:"M.5,.5 L.5,0"},"â¹":{3:"M.5,.5 L.5,0"},"â¶":{1:"M.5,.5 L1,.5"},"âº":{3:"M.5,.5 L1,.5"},"â·":{1:"M.5,.5 L.5,1"},"â»":{3:"M.5,.5 L.5,1"},"â":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"â":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"â":{1:(x,d)=>`M.5,1 L.5,${0.5-d} L1,${0.5-d} M.5,${0.5+d} L1,${0.5+d}`},"â":{1:(x,d)=>`M${0.5-x},1 L${0.5-x},.5 L1,.5 M${0.5+x},.5 L${0.5+x},1`},"â":{1:(x,d)=>`M1,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1`},"â":{1:(x,d)=>`M0,${0.5-d} L.5,${0.5-d} L.5,1 M0,${0.5+d} L.5,${0.5+d}`},"â":{1:(x,d)=>`M${0.5+x},1 L${0.5+x},.5 L0,.5 M${0.5-x},.5 L${0.5-x},1`},"â":{1:(x,d)=>`M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M0,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},1`},"â":{1:(x,d)=>`M.5,0 L.5,${0.5+d} L1,${0.5+d} M.5,${0.5-d} L1,${0.5-d}`},"â":{1:(x,d)=>`M1,.5 L${0.5-x},.5 L${0.5-x},0 M${0.5+x},.5 L${0.5+x},0`},"â":{1:(x,d)=>`M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0 M1,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},0`},"â":{1:(x,d)=>`M0,${0.5+d} L.5,${0.5+d} L.5,0 M0,${0.5-d} L.5,${0.5-d}`},"â":{1:(x,d)=>`M0,.5 L${0.5+x},.5 L${0.5+x},0 M${0.5-x},.5 L${0.5-x},0`},"â":{1:(x,d)=>`M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M0,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},0`},"â":{1:(x,d)=>`M.5,0 L.5,1 M.5,${0.5-d} L1,${0.5-d} M.5,${0.5+d} L1,${0.5+d}`},"â":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1 M${0.5+x},.5 L1,.5`},"â ":{1:(x,d)=>`M${0.5-x},0 L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"â¡":{1:(x,d)=>`M.5,0 L.5,1 M0,${0.5-d} L.5,${0.5-d} M0,${0.5+d} L.5,${0.5+d}`},"â¢":{1:(x,d)=>`M0,.5 L${0.5-x},.5 M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"â£":{1:(x,d)=>`M${0.5+x},0 L${0.5+x},1 M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0`},"â¤":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d} M.5,${0.5+d} L.5,1`},"â¥":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},.5 L${0.5-x},1 M${0.5+x},.5 L${0.5+x},1`},"â¦":{1:(x,d)=>`M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1`},"â§":{1:(x,d)=>`M.5,0 L.5,${0.5-d} M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"â¨":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},.5 L${0.5-x},0 M${0.5+x},.5 L${0.5+x},0`},"â©":{1:(x,d)=>`M0,${0.5+d} L1,${0.5+d} M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"âª":{1:(x,d)=>`M.5,0 L.5,1 M0,${0.5-d} L1,${0.5-d} M0,${0.5+d} L1,${0.5+d}`},"â«":{1:(x,d)=>`M0,.5 L1,.5 M${0.5-x},0 L${0.5-x},1 M${0.5+x},0 L${0.5+x},1`},"â¬":{1:(x,d)=>`M0,${0.5+d} L${0.5-x},${0.5+d} L${0.5-x},1 M1,${0.5+d} L${0.5+x},${0.5+d} L${0.5+x},1 M0,${0.5-d} L${0.5-x},${0.5-d} L${0.5-x},0 M1,${0.5-d} L${0.5+x},${0.5-d} L${0.5+x},0`},"â±":{1:"M1,0 L0,1"},"â²":{1:"M0,0 L1,1"},"â³":{1:"M1,0 L0,1 M0,0 L1,1"},"â¼":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â½":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"â¾":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â¿":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"â":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"â":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"â":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"â":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"â":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"â":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"â":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"â":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"â":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"â":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"â ":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"â¡":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"â¢":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"â¥":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"â¦":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â§":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"â¨":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"â©":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"âª":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"â­":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â®":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"â¯":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"â°":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"â±":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"â²":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"âµ":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â¶":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â·":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"â¸":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"â¹":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"âº":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"â½":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â¾":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â¿":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"â":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"â":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"â":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"â":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"â":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"â":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"â":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"â":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"â":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"â":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"â":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"â":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"â":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"â":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"â":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"â":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"â":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"â":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"â":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"â­":{1:(x,d)=>`M.5,1 L.5,${0.5+d/0.15*0.5} C.5,${0.5+d/0.15*0.5},.5,.5,1,.5`},"â®":{1:(x,d)=>`M.5,1 L.5,${0.5+d/0.15*0.5} C.5,${0.5+d/0.15*0.5},.5,.5,0,.5`},"â¯":{1:(x,d)=>`M.5,0 L.5,${0.5-d/0.15*0.5} C.5,${0.5-d/0.15*0.5},.5,.5,0,.5`},"â°":{1:(x,d)=>`M.5,0 L.5,${0.5-d/0.15*0.5} C.5,${0.5-d/0.15*0.5},.5,.5,1,.5`}},b.powerlineDefinitions={"î°":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"î±":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"î²":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"î³":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"î´":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"îµ":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"î¶":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"î·":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"î¸":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"î¹":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"îº":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"î¼":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"î½":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"î¾":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},b.powerlineDefinitions["î»"]=b.powerlineDefinitions["î½"],b.powerlineDefinitions["î¿"]=b.powerlineDefinitions["î¹"],b.tryDrawCustomChar=function(x,d,N,O,Z,$,U,s){let W=b.blockElementDefinitions[d];if(W)return function(J,F,Y,l,p,f){for(let n=0;n<F.length;n++){let c=F[n],y=p/8,q=f/8;J.fillRect(Y+c.x*y,l+c.y*q,c.w*y,c.h*q)}}(x,W,N,O,Z,$),!0;let g=M[d];if(g)return function(J,F,Y,l,p,f){let n=r.get(F);n||(n=new Map,r.set(F,n));let c=J.fillStyle;if(typeof c!="string")throw new Error(`Unexpected fillStyle type "${c}"`);let y=n.get(c);if(!y){let q=F[0].length,a=F.length,o=document.createElement("canvas");o.width=q,o.height=a;let m=h.throwIfFalsy(o.getContext("2d")),j=new ImageData(q,a),R,w,E,B;if(c.startsWith("#"))R=parseInt(c.slice(1,3),16),w=parseInt(c.slice(3,5),16),E=parseInt(c.slice(5,7),16),B=c.length>7&&parseInt(c.slice(7,9),16)||1;else{if(!c.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${c}" when drawing pattern glyph`);[R,w,E,B]=c.substring(5,c.length-1).split(",").map((e)=>parseFloat(e))}for(let e=0;e<a;e++)for(let Q=0;Q<q;Q++)j.data[4*(e*q+Q)]=R,j.data[4*(e*q+Q)+1]=w,j.data[4*(e*q+Q)+2]=E,j.data[4*(e*q+Q)+3]=F[e][Q]*(255*B);m.putImageData(j,0,0),y=h.throwIfFalsy(J.createPattern(o,null)),n.set(c,y)}J.fillStyle=y,J.fillRect(Y,l,p,f)}(x,g,N,O,Z,$),!0;let K=b.boxDrawingDefinitions[d];if(K)return function(J,F,Y,l,p,f,n){J.strokeStyle=J.fillStyle;for(let[c,y]of Object.entries(F)){let q;J.beginPath(),J.lineWidth=n*Number.parseInt(c),q=typeof y=="function"?y(0.15,0.15/f*p):y;for(let a of q.split(" ")){let o=a[0],m=v[o];if(!m){console.error(`Could not find drawing instructions for "${o}"`);continue}let j=a.substring(1).split(",");j[0]&&j[1]&&m(J,S(j,p,f,Y,l,!0,n))}J.stroke(),J.closePath()}}(x,K,N,O,Z,$,s),!0;let i=b.powerlineDefinitions[d];return!!i&&(function(J,F,Y,l,p,f,n,c){var y,q;let a=new Path2D;a.rect(Y,l,p,f),J.clip(a),J.beginPath();let o=n/12;J.lineWidth=c*o;for(let m of F.d.split(" ")){let j=m[0],R=v[j];if(!R){console.error(`Could not find drawing instructions for "${j}"`);continue}let w=m.substring(1).split(",");w[0]&&w[1]&&R(J,S(w,p,f,Y,l,!1,c,((y=F.leftPadding)!==null&&y!==void 0?y:0)*(o/2),((q=F.rightPadding)!==null&&q!==void 0?q:0)*(o/2)))}F.type===1?(J.strokeStyle=J.fillStyle,J.stroke()):J.fill(),J.closePath()}(x,i,N,O,Z,$,U,s),!0)};let r=new Map;function L(x,d,N=0){return Math.max(Math.min(x,d),N)}let v={C:(x,d)=>x.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]),L:(x,d)=>x.lineTo(d[0],d[1]),M:(x,d)=>x.moveTo(d[0],d[1])};function S(x,d,N,O,Z,$,U,s=0,W=0){let g=x.map((K)=>parseFloat(K)||parseInt(K));if(g.length<2)throw new Error("Too few arguments for instruction");for(let K=0;K<g.length;K+=2)g[K]*=d-s*U-W*U,$&&g[K]!==0&&(g[K]=L(Math.round(g[K]+0.5)-0.5,d,0)),g[K]+=O+s*U;for(let K=1;K<g.length;K+=2)g[K]*=N,$&&g[K]!==0&&(g[K]=L(Math.round(g[K]+0.5)-0.5,N,0)),g[K]+=Z;return g}},56:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.observeDevicePixelDimensions=void 0;let h=u(859);b.observeDevicePixelDimensions=function(M,r,L){let v=new r.ResizeObserver((S)=>{let x=S.find((O)=>O.target===M);if(!x)return;if(!("devicePixelContentBoxSize"in x))return v==null||v.disconnect(),void(v=void 0);let d=x.devicePixelContentBoxSize[0].inlineSize,N=x.devicePixelContentBoxSize[0].blockSize;d>0&&N>0&&L(d,N)});try{v.observe(M,{box:["device-pixel-content-box"]})}catch(S){v.disconnect(),v=void 0}return h.toDisposable(()=>v==null?void 0:v.disconnect())}},374:(T,b)=>{function u(h){return 57508<=h&&h<=57558}Object.defineProperty(b,"__esModule",{value:!0}),b.createRenderDimensions=b.excludeFromContrastRatioDemands=b.isRestrictedPowerlineGlyph=b.isPowerlineGlyph=b.throwIfFalsy=void 0,b.throwIfFalsy=function(h){if(!h)throw new Error("value must not be falsy");return h},b.isPowerlineGlyph=u,b.isRestrictedPowerlineGlyph=function(h){return 57520<=h&&h<=57527},b.excludeFromContrastRatioDemands=function(h){return u(h)||function(M){return 9472<=M&&M<=9631}(h)},b.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},296:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createSelectionRenderModel=void 0;class u{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(h,M,r,L=!1){if(this.selectionStart=M,this.selectionEnd=r,!M||!r||M[0]===r[0]&&M[1]===r[1])return void this.clear();let v=M[1]-h.buffer.active.viewportY,S=r[1]-h.buffer.active.viewportY,x=Math.max(v,0),d=Math.min(S,h.rows-1);x>=h.rows||d<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=L,this.viewportStartRow=v,this.viewportEndRow=S,this.viewportCappedStartRow=x,this.viewportCappedEndRow=d,this.startCol=M[0],this.endCol=r[0])}isCellSelected(h,M,r){return!!this.hasSelection&&(r-=h.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?M>=this.startCol&&r>=this.viewportCappedStartRow&&M<this.endCol&&r<=this.viewportCappedEndRow:M<this.startCol&&r>=this.viewportCappedStartRow&&M>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&M>=this.startCol&&M<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&M<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&M>=this.startCol)}}b.createSelectionRenderModel=function(){return new u}},509:function(T,b,u){var h=this&&this.__decorate||function(i,J,F,Y){var l,p=arguments.length,f=p<3?J:Y===null?Y=Object.getOwnPropertyDescriptor(J,F):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(i,J,F,Y);else for(var n=i.length-1;n>=0;n--)(l=i[n])&&(f=(p<3?l(f):p>3?l(J,F,f):l(J,F))||f);return p>3&&f&&Object.defineProperty(J,F,f),f};Object.defineProperty(b,"__esModule",{value:!0}),b.TextureAtlas=void 0;let M=u(237),r=u(860),L=u(374),v=u(160),S=u(345),x=u(485),d=u(385),N=u(147),O=u(855),Z=u(776),$={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}},U;class s{get pages(){return this._pages}constructor(i,J,F){this._document=i,this._config=J,this._unicodeService=F,this._didWarmUp=!1,this._cacheMap=new x.FourKeyMap,this._cacheMapCombined=new x.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new N.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new S.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new S.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=K(i,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=L.throwIfFalsy(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(let i of this.pages)i.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){let i=new d.IdleTaskQueue;for(let J=33;J<126;J++)i.enqueue(()=>{if(!this._cacheMap.get(J,O.DEFAULT_COLOR,O.DEFAULT_COLOR,O.DEFAULT_EXT)){let F=this._drawToCache(J,O.DEFAULT_COLOR,O.DEFAULT_COLOR,O.DEFAULT_EXT);this._cacheMap.set(J,O.DEFAULT_COLOR,O.DEFAULT_COLOR,O.DEFAULT_EXT,F)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(let i of this._pages)i.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(s.maxAtlasPages&&this._pages.length>=Math.max(4,s.maxAtlasPages)){let J=this._pages.filter((c)=>2*c.canvas.width<=(s.maxTextureSize||4096)).sort((c,y)=>y.canvas.width!==c.canvas.width?y.canvas.width-c.canvas.width:y.percentageUsed-c.percentageUsed),F=-1,Y=0;for(let c=0;c<J.length;c++)if(J[c].canvas.width!==Y)F=c,Y=J[c].canvas.width;else if(c-F==3)break;let l=J.slice(F,F+4),p=l.map((c)=>c.glyphs[0].texturePage).sort((c,y)=>c>y?1:-1),f=this.pages.length-l.length,n=this._mergePages(l,f);n.version++;for(let c=p.length-1;c>=0;c--)this._deletePage(p[c]);this.pages.push(n),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(n.canvas)}let i=new W(this._document,this._textureSize);return this._pages.push(i),this._activePages.push(i),this._onAddTextureAtlasCanvas.fire(i.canvas),i}_mergePages(i,J){let F=2*i[0].canvas.width,Y=new W(this._document,F,i);for(let[l,p]of i.entries()){let f=l*p.canvas.width%F,n=Math.floor(l/2)*p.canvas.height;Y.ctx.drawImage(p.canvas,f,n);for(let y of p.glyphs)y.texturePage=J,y.sizeClipSpace.x=y.size.x/F,y.sizeClipSpace.y=y.size.y/F,y.texturePosition.x+=f,y.texturePosition.y+=n,y.texturePositionClipSpace.x=y.texturePosition.x/F,y.texturePositionClipSpace.y=y.texturePosition.y/F;this._onRemoveTextureAtlasCanvas.fire(p.canvas);let c=this._activePages.indexOf(p);c!==-1&&this._activePages.splice(c,1)}return Y}_deletePage(i){this._pages.splice(i,1);for(let J=i;J<this._pages.length;J++){let F=this._pages[J];for(let Y of F.glyphs)Y.texturePage--;F.version++}}getRasterizedGlyphCombinedChar(i,J,F,Y,l){return this._getFromCacheMap(this._cacheMapCombined,i,J,F,Y,l)}getRasterizedGlyph(i,J,F,Y,l){return this._getFromCacheMap(this._cacheMap,i,J,F,Y,l)}_getFromCacheMap(i,J,F,Y,l,p=!1){return U=i.get(J,F,Y,l),U||(U=this._drawToCache(J,F,Y,l,p),i.set(J,F,Y,l,U)),U}_getColorFromAnsiIndex(i){if(i>=this._config.colors.ansi.length)throw new Error("No color found for idx "+i);return this._config.colors.ansi[i]}_getBackgroundColor(i,J,F,Y){if(this._config.allowTransparency)return v.NULL_COLOR;let l;switch(i){case 16777216:case 33554432:l=this._getColorFromAnsiIndex(J);break;case 50331648:let p=N.AttributeData.toColorRGB(J);l=v.rgba.toColor(p[0],p[1],p[2]);break;default:l=F?v.color.opaque(this._config.colors.foreground):this._config.colors.background}return l}_getForegroundColor(i,J,F,Y,l,p,f,n,c,y){let q=this._getMinimumContrastColor(i,J,F,Y,l,p,!1,c,n,y);if(q)return q;let a;switch(l){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&c&&p<8&&(p+=8),a=this._getColorFromAnsiIndex(p);break;case 50331648:let o=N.AttributeData.toColorRGB(p);a=v.rgba.toColor(o[0],o[1],o[2]);break;default:a=f?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(a=v.color.opaque(a)),n&&(a=v.color.multiplyOpacity(a,M.DIM_OPACITY)),a}_resolveBackgroundRgba(i,J,F){switch(i){case 16777216:case 33554432:return this._getColorFromAnsiIndex(J).rgba;case 50331648:return J<<8;default:return F?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(i,J,F,Y){switch(i){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&Y&&J<8&&(J+=8),this._getColorFromAnsiIndex(J).rgba;case 50331648:return J<<8;default:return F?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(i,J,F,Y,l,p,f,n,c,y){if(this._config.minimumContrastRatio===1||y)return;let q=this._getContrastCache(c),a=q.getColor(i,Y);if(a!==void 0)return a||void 0;let o=this._resolveBackgroundRgba(J,F,f),m=this._resolveForegroundRgba(l,p,f,n),j=v.rgba.ensureContrastRatio(o,m,this._config.minimumContrastRatio/(c?2:1));if(!j)return void q.setColor(i,Y,null);let R=v.rgba.toColor(j>>24&255,j>>16&255,j>>8&255);return q.setColor(i,Y,R),R}_getContrastCache(i){return i?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(i,J,F,Y,l=!1){let p=typeof i=="number"?String.fromCharCode(i):i,f=Math.min(this._config.deviceCellWidth*Math.max(p.length,2)+4,this._textureSize);this._tmpCanvas.width<f&&(this._tmpCanvas.width=f);let n=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<n&&(this._tmpCanvas.height=n),this._tmpCtx.save(),this._workAttributeData.fg=F,this._workAttributeData.bg=J,this._workAttributeData.extended.ext=Y,this._workAttributeData.isInvisible())return $;let c=!!this._workAttributeData.isBold(),y=!!this._workAttributeData.isInverse(),q=!!this._workAttributeData.isDim(),a=!!this._workAttributeData.isItalic(),o=!!this._workAttributeData.isUnderline(),m=!!this._workAttributeData.isStrikethrough(),j=!!this._workAttributeData.isOverline(),R=this._workAttributeData.getFgColor(),w=this._workAttributeData.getFgColorMode(),E=this._workAttributeData.getBgColor(),B=this._workAttributeData.getBgColorMode();if(y){let a1=R;R=E,E=a1;let z1=w;w=B,B=z1}let e=this._getBackgroundColor(B,E,y,q);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";let Q=c?this._config.fontWeightBold:this._config.fontWeight,I=a?"italic":"";this._tmpCtx.font=`${I} ${Q} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=M.TEXT_BASELINE;let A=p.length===1&&L.isPowerlineGlyph(p.charCodeAt(0)),h1=p.length===1&&L.isRestrictedPowerlineGlyph(p.charCodeAt(0)),n1=this._getForegroundColor(J,B,E,F,w,R,y,q,c,L.excludeFromContrastRatioDemands(p.charCodeAt(0)));this._tmpCtx.fillStyle=n1.css;let c1=h1?0:4,G=!1;this._config.customGlyphs!==!1&&(G=r.tryDrawCustomChar(this._tmpCtx,p,c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let P,D=!A;if(P=typeof i=="number"?this._unicodeService.wcwidth(i):this._unicodeService.getStringCellWidth(i),o){this._tmpCtx.save();let a1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),z1=a1%2==1?0.5:0;if(this._tmpCtx.lineWidth=a1,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())D=!1,this._tmpCtx.strokeStyle=`rgb(${N.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{D=!1;let H=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&H<8&&(H+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(H).css}this._tmpCtx.beginPath();let m1=c1,r1=Math.ceil(c1+this._config.deviceCharHeight)-z1-(l?2*a1:0),w1=r1+a1,z=r1+2*a1;for(let H=0;H<P;H++){this._tmpCtx.save();let t=m1+H*this._config.deviceCellWidth,C=m1+(H+1)*this._config.deviceCellWidth,l1=t+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(t,r1),this._tmpCtx.lineTo(C,r1),this._tmpCtx.moveTo(t,z),this._tmpCtx.lineTo(C,z);break;case 3:let x1=a1<=1?z:Math.ceil(c1+this._config.deviceCharHeight-a1/2)-z1,f1=a1<=1?r1:Math.ceil(c1+this._config.deviceCharHeight+a1/2)-z1,y1=new Path2D;y1.rect(t,r1,this._config.deviceCellWidth,z-r1),this._tmpCtx.clip(y1),this._tmpCtx.moveTo(t-this._config.deviceCellWidth/2,w1),this._tmpCtx.bezierCurveTo(t-this._config.deviceCellWidth/2,f1,t,f1,t,w1),this._tmpCtx.bezierCurveTo(t,x1,l1,x1,l1,w1),this._tmpCtx.bezierCurveTo(l1,f1,C,f1,C,w1),this._tmpCtx.bezierCurveTo(C,x1,C+this._config.deviceCellWidth/2,x1,C+this._config.deviceCellWidth/2,w1);break;case 4:this._tmpCtx.setLineDash([Math.round(a1),Math.round(a1)]),this._tmpCtx.moveTo(t,r1),this._tmpCtx.lineTo(C,r1);break;case 5:this._tmpCtx.setLineDash([4*this._config.devicePixelRatio,3*this._config.devicePixelRatio]),this._tmpCtx.moveTo(t,r1),this._tmpCtx.lineTo(C,r1);break;default:this._tmpCtx.moveTo(t,r1),this._tmpCtx.lineTo(C,r1)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!G&&this._config.fontSize>=12&&!this._config.allowTransparency&&p!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";let H=this._tmpCtx.measureText(p);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in H&&H.actualBoundingBoxDescent>0){this._tmpCtx.save();let t=new Path2D;t.rect(m1,r1-Math.ceil(a1/2),this._config.deviceCellWidth*P,z-r1+Math.ceil(a1/2)),this._tmpCtx.clip(t),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=e.css,this._tmpCtx.strokeText(p,c1,c1+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if(j){let a1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),z1=a1%2==1?0.5:0;this._tmpCtx.lineWidth=a1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+z1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*P,c1+z1),this._tmpCtx.stroke()}if(G||this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight),p==="_"&&!this._config.allowTransparency){let a1=g(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,D);if(a1)for(let z1=1;z1<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=e.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(p,c1,c1+this._config.deviceCharHeight-z1),a1=g(this._tmpCtx.getImageData(c1,c1,this._config.deviceCellWidth,this._config.deviceCellHeight),e,n1,D),a1);z1++);}if(m){let a1=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),z1=this._tmpCtx.lineWidth%2==1?0.5:0;this._tmpCtx.lineWidth=a1,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(c1,c1+Math.floor(this._config.deviceCharHeight/2)-z1),this._tmpCtx.lineTo(c1+this._config.deviceCharWidth*P,c1+Math.floor(this._config.deviceCharHeight/2)-z1),this._tmpCtx.stroke()}this._tmpCtx.restore();let p1=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height),u1;if(u1=this._config.allowTransparency?function(a1){for(let z1=0;z1<a1.data.length;z1+=4)if(a1.data[z1+3]>0)return!1;return!0}(p1):g(p1,e,n1,D),u1)return $;let o1=this._findGlyphBoundingBox(p1,this._workBoundingBox,f,h1,G,c1),V1,d1;for(;;){if(this._activePages.length===0){let a1=this._createNewPage();V1=a1,d1=a1.currentRow,d1.height=o1.size.y;break}V1=this._activePages[this._activePages.length-1],d1=V1.currentRow;for(let a1 of this._activePages)o1.size.y<=a1.currentRow.height&&(V1=a1,d1=a1.currentRow);for(let a1=this._activePages.length-1;a1>=0;a1--)for(let z1 of this._activePages[a1].fixedRows)z1.height<=d1.height&&o1.size.y<=z1.height&&(V1=this._activePages[a1],d1=z1);if(d1.y+o1.size.y>=V1.canvas.height||d1.height>o1.size.y+2){let a1=!1;if(V1.currentRow.y+V1.currentRow.height+o1.size.y>=V1.canvas.height){let z1;for(let m1 of this._activePages)if(m1.currentRow.y+m1.currentRow.height+o1.size.y<m1.canvas.height){z1=m1;break}if(z1)V1=z1;else if(s.maxAtlasPages&&this._pages.length>=s.maxAtlasPages&&d1.y+o1.size.y<=V1.canvas.height&&d1.height>=o1.size.y&&d1.x+o1.size.x<=V1.canvas.width)a1=!0;else{let m1=this._createNewPage();V1=m1,d1=m1.currentRow,d1.height=o1.size.y,a1=!0}}a1||(V1.currentRow.height>0&&V1.fixedRows.push(V1.currentRow),d1={x:0,y:V1.currentRow.y+V1.currentRow.height,height:o1.size.y},V1.fixedRows.push(d1),V1.currentRow={x:0,y:d1.y+d1.height,height:0})}if(d1.x+o1.size.x<=V1.canvas.width)break;d1===V1.currentRow?(d1.x=0,d1.y+=d1.height,d1.height=0):V1.fixedRows.splice(V1.fixedRows.indexOf(d1),1)}return o1.texturePage=this._pages.indexOf(V1),o1.texturePosition.x=d1.x,o1.texturePosition.y=d1.y,o1.texturePositionClipSpace.x=d1.x/V1.canvas.width,o1.texturePositionClipSpace.y=d1.y/V1.canvas.height,o1.sizeClipSpace.x/=V1.canvas.width,o1.sizeClipSpace.y/=V1.canvas.height,d1.height=Math.max(d1.height,o1.size.y),d1.x+=o1.size.x,V1.ctx.putImageData(p1,o1.texturePosition.x-this._workBoundingBox.left,o1.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,o1.size.x,o1.size.y),V1.addGlyph(o1),V1.version++,o1}_findGlyphBoundingBox(i,J,F,Y,l,p){J.top=0;let f=Y?this._config.deviceCellHeight:this._tmpCanvas.height,n=Y?this._config.deviceCellWidth:F,c=!1;for(let y=0;y<f;y++){for(let q=0;q<n;q++){let a=y*this._tmpCanvas.width*4+4*q+3;if(i.data[a]!==0){J.top=y,c=!0;break}}if(c)break}J.left=0,c=!1;for(let y=0;y<p+n;y++){for(let q=0;q<f;q++){let a=q*this._tmpCanvas.width*4+4*y+3;if(i.data[a]!==0){J.left=y,c=!0;break}}if(c)break}J.right=n,c=!1;for(let y=p+n-1;y>=p;y--){for(let q=0;q<f;q++){let a=q*this._tmpCanvas.width*4+4*y+3;if(i.data[a]!==0){J.right=y,c=!0;break}}if(c)break}J.bottom=f,c=!1;for(let y=f-1;y>=0;y--){for(let q=0;q<n;q++){let a=y*this._tmpCanvas.width*4+4*q+3;if(i.data[a]!==0){J.bottom=y,c=!0;break}}if(c)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:J.right-J.left+1,y:J.bottom-J.top+1},sizeClipSpace:{x:J.right-J.left+1,y:J.bottom-J.top+1},offset:{x:-J.left+p+(Y||l?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-J.top+p+(Y||l?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}b.TextureAtlas=s,h([Z.traceCall],s.prototype,"_drawToCache",null);class W{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(i){this._glyphs.push(i),this._usedPixels+=i.size.x*i.size.y}constructor(i,J,F){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],F)for(let Y of F)this._glyphs.push(...Y.glyphs),this._usedPixels+=Y._usedPixels;this.canvas=K(i,J,J),this.ctx=L.throwIfFalsy(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function g(i,J,F,Y){let l=J.rgba>>>24,p=J.rgba>>>16&255,f=J.rgba>>>8&255,n=F.rgba>>>24,c=F.rgba>>>16&255,y=F.rgba>>>8&255,q=Math.floor((Math.abs(l-n)+Math.abs(p-c)+Math.abs(f-y))/12),a=!0;for(let o=0;o<i.data.length;o+=4)i.data[o]===l&&i.data[o+1]===p&&i.data[o+2]===f||Y&&Math.abs(i.data[o]-l)+Math.abs(i.data[o+1]-p)+Math.abs(i.data[o+2]-f)<q?i.data[o+3]=0:a=!1;return a}function K(i,J,F){let Y=i.createElement("canvas");return Y.width=J,Y.height=F,Y}},160:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.contrastRatio=b.toPaddedHex=b.rgba=b.rgb=b.css=b.color=b.channels=b.NULL_COLOR=void 0;let h=u(399),M=0,r=0,L=0,v=0;var S,x,d,N,O;function Z(U){let s=U.toString(16);return s.length<2?"0"+s:s}function $(U,s){return U<s?(s+0.05)/(U+0.05):(U+0.05)/(s+0.05)}b.NULL_COLOR={css:"#00000000",rgba:0},function(U){U.toCss=function(s,W,g,K){return K!==void 0?`#${Z(s)}${Z(W)}${Z(g)}${Z(K)}`:`#${Z(s)}${Z(W)}${Z(g)}`},U.toRgba=function(s,W,g,K=255){return(s<<24|W<<16|g<<8|K)>>>0}}(S||(b.channels=S={})),function(U){function s(W,g){return v=Math.round(255*g),[M,r,L]=O.toChannels(W.rgba),{css:S.toCss(M,r,L,v),rgba:S.toRgba(M,r,L,v)}}U.blend=function(W,g){if(v=(255&g.rgba)/255,v===1)return{css:g.css,rgba:g.rgba};let K=g.rgba>>24&255,i=g.rgba>>16&255,J=g.rgba>>8&255,F=W.rgba>>24&255,Y=W.rgba>>16&255,l=W.rgba>>8&255;return M=F+Math.round((K-F)*v),r=Y+Math.round((i-Y)*v),L=l+Math.round((J-l)*v),{css:S.toCss(M,r,L),rgba:S.toRgba(M,r,L)}},U.isOpaque=function(W){return(255&W.rgba)==255},U.ensureContrastRatio=function(W,g,K){let i=O.ensureContrastRatio(W.rgba,g.rgba,K);if(i)return O.toColor(i>>24&255,i>>16&255,i>>8&255)},U.opaque=function(W){let g=(255|W.rgba)>>>0;return[M,r,L]=O.toChannels(g),{css:S.toCss(M,r,L),rgba:g}},U.opacity=s,U.multiplyOpacity=function(W,g){return v=255&W.rgba,s(W,v*g/255)},U.toColorRGB=function(W){return[W.rgba>>24&255,W.rgba>>16&255,W.rgba>>8&255]}}(x||(b.color=x={})),function(U){let s,W;if(!h.isNode){let g=document.createElement("canvas");g.width=1,g.height=1;let K=g.getContext("2d",{willReadFrequently:!0});K&&(s=K,s.globalCompositeOperation="copy",W=s.createLinearGradient(0,0,1,1))}U.toColor=function(g){if(g.match(/#[\da-f]{3,8}/i))switch(g.length){case 4:return M=parseInt(g.slice(1,2).repeat(2),16),r=parseInt(g.slice(2,3).repeat(2),16),L=parseInt(g.slice(3,4).repeat(2),16),O.toColor(M,r,L);case 5:return M=parseInt(g.slice(1,2).repeat(2),16),r=parseInt(g.slice(2,3).repeat(2),16),L=parseInt(g.slice(3,4).repeat(2),16),v=parseInt(g.slice(4,5).repeat(2),16),O.toColor(M,r,L,v);case 7:return{css:g,rgba:(parseInt(g.slice(1),16)<<8|255)>>>0};case 9:return{css:g,rgba:parseInt(g.slice(1),16)>>>0}}let K=g.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(K)return M=parseInt(K[1]),r=parseInt(K[2]),L=parseInt(K[3]),v=Math.round(255*(K[5]===void 0?1:parseFloat(K[5]))),O.toColor(M,r,L,v);if(!s||!W)throw new Error("css.toColor: Unsupported css format");if(s.fillStyle=W,s.fillStyle=g,typeof s.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(s.fillRect(0,0,1,1),[M,r,L,v]=s.getImageData(0,0,1,1).data,v!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(M,r,L,v),css:g}}}(d||(b.css=d={})),function(U){function s(W,g,K){let i=W/255,J=g/255,F=K/255;return 0.2126*(i<=0.03928?i/12.92:Math.pow((i+0.055)/1.055,2.4))+0.7152*(J<=0.03928?J/12.92:Math.pow((J+0.055)/1.055,2.4))+0.0722*(F<=0.03928?F/12.92:Math.pow((F+0.055)/1.055,2.4))}U.relativeLuminance=function(W){return s(W>>16&255,W>>8&255,255&W)},U.relativeLuminance2=s}(N||(b.rgb=N={})),function(U){function s(g,K,i){let J=g>>24&255,F=g>>16&255,Y=g>>8&255,l=K>>24&255,p=K>>16&255,f=K>>8&255,n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));for(;n<i&&(l>0||p>0||f>0);)l-=Math.max(0,Math.ceil(0.1*l)),p-=Math.max(0,Math.ceil(0.1*p)),f-=Math.max(0,Math.ceil(0.1*f)),n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));return(l<<24|p<<16|f<<8|255)>>>0}function W(g,K,i){let J=g>>24&255,F=g>>16&255,Y=g>>8&255,l=K>>24&255,p=K>>16&255,f=K>>8&255,n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));for(;n<i&&(l<255||p<255||f<255);)l=Math.min(255,l+Math.ceil(0.1*(255-l))),p=Math.min(255,p+Math.ceil(0.1*(255-p))),f=Math.min(255,f+Math.ceil(0.1*(255-f))),n=$(N.relativeLuminance2(l,p,f),N.relativeLuminance2(J,F,Y));return(l<<24|p<<16|f<<8|255)>>>0}U.ensureContrastRatio=function(g,K,i){let J=N.relativeLuminance(g>>8),F=N.relativeLuminance(K>>8);if($(J,F)<i){if(F<J){let p=s(g,K,i),f=$(J,N.relativeLuminance(p>>8));if(f<i){let n=W(g,K,i);return f>$(J,N.relativeLuminance(n>>8))?p:n}return p}let Y=W(g,K,i),l=$(J,N.relativeLuminance(Y>>8));if(l<i){let p=s(g,K,i);return l>$(J,N.relativeLuminance(p>>8))?Y:p}return Y}},U.reduceLuminance=s,U.increaseLuminance=W,U.toChannels=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},U.toColor=function(g,K,i,J){return{css:S.toCss(g,K,i,J),rgba:S.toRgba(g,K,i,J)}}}(O||(b.rgba=O={})),b.toPaddedHex=Z,b.contrastRatio=$},345:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.forwardEvent=b.EventEmitter=void 0,b.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=(u)=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===u)return void this._listeners.splice(h,1)}}})),this._event}fire(u,h){let M=[];for(let r=0;r<this._listeners.length;r++)M.push(this._listeners[r]);for(let r=0;r<M.length;r++)M[r].call(void 0,u,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},b.forwardEvent=function(u,h){return u((M)=>h.fire(M))}},859:(T,b)=>{function u(h){for(let M of h)M.dispose();h.length=0}Object.defineProperty(b,"__esModule",{value:!0}),b.getDisposeArrayDisposable=b.disposeArray=b.toDisposable=b.MutableDisposable=b.Disposable=void 0,b.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){let M=this._disposables.indexOf(h);M!==-1&&this._disposables.splice(M,1)}},b.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var M;this._isDisposed||h===this._value||((M=this._value)===null||M===void 0||M.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}},b.toDisposable=function(h){return{dispose:h}},b.disposeArray=u,b.getDisposeArrayDisposable=function(h){return{dispose:()=>u(h)}}},485:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.FourKeyMap=b.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(h,M,r){this._data[h]||(this._data[h]={}),this._data[h][M]=r}get(h,M){return this._data[h]?this._data[h][M]:void 0}clear(){this._data={}}}b.TwoKeyMap=u,b.FourKeyMap=class{constructor(){this._data=new u}set(h,M,r,L,v){this._data.get(h,M)||this._data.set(h,M,new u),this._data.get(h,M).set(r,L,v)}get(h,M,r,L){var v;return(v=this._data.get(h,M))===null||v===void 0?void 0:v.get(r,L)}clear(){this._data.clear()}}},399:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isChromeOS=b.isLinux=b.isWindows=b.isIphone=b.isIpad=b.isMac=b.getSafariVersion=b.isSafari=b.isLegacyEdge=b.isFirefox=b.isNode=void 0,b.isNode=typeof navigator=="undefined";let u=b.isNode?"node":navigator.userAgent,h=b.isNode?"node":navigator.platform;b.isFirefox=u.includes("Firefox"),b.isLegacyEdge=u.includes("Edge"),b.isSafari=/^((?!chrome|android).)*safari/i.test(u),b.getSafariVersion=function(){if(!b.isSafari)return 0;let M=u.match(/Version\/(\d+)/);return M===null||M.length<2?0:parseInt(M[1])},b.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),b.isIpad=h==="iPad",b.isIphone=h==="iPhone",b.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),b.isLinux=h.indexOf("Linux")>=0,b.isChromeOS=/\bCrOS\b/.test(u)},385:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DebouncedIdleTask=b.IdleTaskQueue=b.PriorityTaskQueue=void 0;let h=u(399);class M{constructor(){this._tasks=[],this._i=0}enqueue(L){this._tasks.push(L),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(L){this._idleCallback=void 0;let v=0,S=0,x=L.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),S=Math.max(v,S),d=L.timeRemaining(),1.5*S>d)return x-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(x-v))}ms`),void this._start();x=d}this.clear()}}class r extends M{_requestCallback(L){return setTimeout(()=>L(this._createDeadline(16)))}_cancelCallback(L){clearTimeout(L)}_createDeadline(L){let v=Date.now()+L;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}b.PriorityTaskQueue=r,b.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends M{_requestCallback(L){return requestIdleCallback(L)}_cancelCallback(L){cancelIdleCallback(L)}}:r,b.DebouncedIdleTask=class{constructor(){this._queue=new b.IdleTaskQueue}set(L){this._queue.clear(),this._queue.enqueue(L)}flush(){this._queue.flush()}}},147:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ExtendedAttrs=b.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(M){return[M>>>16&255,M>>>8&255,255&M]}static fromColorRGB(M){return(255&M[0])<<16|(255&M[1])<<8|255&M[2]}clone(){let M=new u;return M.fg=this.fg,M.bg=this.bg,M.extended=this.extended.clone(),M}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}b.AttributeData=u;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(M){this._ext=M}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(M){this._ext&=-469762049,this._ext|=M<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(M){this._ext&=-67108864,this._ext|=67108863&M}get urlId(){return this._urlId}set urlId(M){this._urlId=M}constructor(M=0,r=0){this._ext=0,this._urlId=0,this._ext=M,this._urlId=r}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}b.ExtendedAttrs=h},782:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CellData=void 0;let h=u(133),M=u(855),r=u(147);class L extends r.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new r.ExtendedAttrs,this.combinedData=""}static fromCharData(v){let S=new L;return S.setFromCharData(v),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?h.stringFromCodePoint(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[M.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(v[M.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(v[M.CHAR_DATA_CHAR_INDEX].length===2){let x=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=x&&x<=56319){let d=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(x-55296)+d-56320+65536|v[M.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=v[M.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[M.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=v[M.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[M.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}b.CellData=L},855:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.WHITESPACE_CELL_CODE=b.WHITESPACE_CELL_WIDTH=b.WHITESPACE_CELL_CHAR=b.NULL_CELL_CODE=b.NULL_CELL_WIDTH=b.NULL_CELL_CHAR=b.CHAR_DATA_CODE_INDEX=b.CHAR_DATA_WIDTH_INDEX=b.CHAR_DATA_CHAR_INDEX=b.CHAR_DATA_ATTR_INDEX=b.DEFAULT_EXT=b.DEFAULT_ATTR=b.DEFAULT_COLOR=void 0,b.DEFAULT_COLOR=0,b.DEFAULT_ATTR=256|b.DEFAULT_COLOR<<9,b.DEFAULT_EXT=0,b.CHAR_DATA_ATTR_INDEX=0,b.CHAR_DATA_CHAR_INDEX=1,b.CHAR_DATA_WIDTH_INDEX=2,b.CHAR_DATA_CODE_INDEX=3,b.NULL_CELL_CHAR="",b.NULL_CELL_WIDTH=1,b.NULL_CELL_CODE=0,b.WHITESPACE_CELL_CHAR=" ",b.WHITESPACE_CELL_WIDTH=1,b.WHITESPACE_CELL_CODE=32},133:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Utf8ToUtf32=b.StringToUtf32=b.utf32ToString=b.stringFromCodePoint=void 0,b.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},b.utf32ToString=function(u,h=0,M=u.length){let r="";for(let L=h;L<M;++L){let v=u[L];v>65535?(v-=65536,r+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):r+=String.fromCharCode(v)}return r},b.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,h){let M=u.length;if(!M)return 0;let r=0,L=0;if(this._interim){let v=u.charCodeAt(L++);56320<=v&&v<=57343?h[r++]=1024*(this._interim-55296)+v-56320+65536:(h[r++]=this._interim,h[r++]=v),this._interim=0}for(let v=L;v<M;++v){let S=u.charCodeAt(v);if(55296<=S&&S<=56319){if(++v>=M)return this._interim=S,r;let x=u.charCodeAt(v);56320<=x&&x<=57343?h[r++]=1024*(S-55296)+x-56320+65536:(h[r++]=S,h[r++]=x)}else S!==65279&&(h[r++]=S)}return r}},b.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,h){let M=u.length;if(!M)return 0;let r,L,v,S,x=0,d=0,N=0;if(this.interim[0]){let $=!1,U=this.interim[0];U&=(224&U)==192?31:(240&U)==224?15:7;let s,W=0;for(;(s=63&this.interim[++W])&&W<4;)U<<=6,U|=s;let g=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,K=g-W;for(;N<K;){if(N>=M)return 0;if(s=u[N++],(192&s)!=128){N--,$=!0;break}this.interim[W++]=s,U<<=6,U|=63&s}$||(g===2?U<128?N--:h[x++]=U:g===3?U<2048||U>=55296&&U<=57343||U===65279||(h[x++]=U):U<65536||U>1114111||(h[x++]=U)),this.interim.fill(0)}let O=M-4,Z=N;for(;Z<M;){for(;!(!(Z<O)||128&(r=u[Z])||128&(L=u[Z+1])||128&(v=u[Z+2])||128&(S=u[Z+3]));)h[x++]=r,h[x++]=L,h[x++]=v,h[x++]=S,Z+=4;if(r=u[Z++],r<128)h[x++]=r;else if((224&r)==192){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(d=(31&r)<<6|63&L,d<128){Z--;continue}h[x++]=d}else if((240&r)==224){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,x;if(v=u[Z++],(192&v)!=128){Z--;continue}if(d=(15&r)<<12|(63&L)<<6|63&v,d<2048||d>=55296&&d<=57343||d===65279)continue;h[x++]=d}else if((248&r)==240){if(Z>=M)return this.interim[0]=r,x;if(L=u[Z++],(192&L)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,x;if(v=u[Z++],(192&v)!=128){Z--;continue}if(Z>=M)return this.interim[0]=r,this.interim[1]=L,this.interim[2]=v,x;if(S=u[Z++],(192&S)!=128){Z--;continue}if(d=(7&r)<<18|(63&L)<<12|(63&v)<<6|63&S,d<65536||d>1114111)continue;h[x++]=d}}return x}}},776:function(T,b,u){var h=this&&this.__decorate||function(d,N,O,Z){var $,U=arguments.length,s=U<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,O):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(d,N,O,Z);else for(var W=d.length-1;W>=0;W--)($=d[W])&&(s=(U<3?$(s):U>3?$(N,O,s):$(N,O))||s);return U>3&&s&&Object.defineProperty(N,O,s),s},M=this&&this.__param||function(d,N){return function(O,Z){N(O,Z,d)}};Object.defineProperty(b,"__esModule",{value:!0}),b.traceCall=b.setTraceLogger=b.LogService=void 0;let r=u(859),L=u(97),v={trace:L.LogLevelEnum.TRACE,debug:L.LogLevelEnum.DEBUG,info:L.LogLevelEnum.INFO,warn:L.LogLevelEnum.WARN,error:L.LogLevelEnum.ERROR,off:L.LogLevelEnum.OFF},S,x=b.LogService=class extends r.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=L.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let N=0;N<d.length;N++)typeof d[N]=="function"&&(d[N]=d[N]())}_log(d,N,O){this._evalLazyOptionalParams(O),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+N,...O)}trace(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.TRACE&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.trace.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.log,d,N)}debug(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.DEBUG&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.debug.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.log,d,N)}info(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.INFO&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.info.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.info,d,N)}warn(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.WARN&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.warn.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.warn,d,N)}error(d,...N){var O,Z;this._logLevel<=L.LogLevelEnum.ERROR&&this._log((Z=(O=this._optionsService.options.logger)===null||O===void 0?void 0:O.error.bind(this._optionsService.options.logger))!==null&&Z!==void 0?Z:console.error,d,N)}};b.LogService=x=h([M(0,L.IOptionsService)],x),b.setTraceLogger=function(d){S=d},b.traceCall=function(d,N,O){if(typeof O.value!="function")throw new Error("not supported");let Z=O.value;O.value=function(...$){if(S.logLevel!==L.LogLevelEnum.TRACE)return Z.apply(this,$);S.trace(`GlyphRenderer#${Z.name}(${$.map((s)=>JSON.stringify(s)).join(", ")})`);let U=Z.apply(this,$);return S.trace(`GlyphRenderer#${Z.name} return`,U),U}}},726:(T,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createDecorator=b.getServiceDependencies=b.serviceRegistry=void 0;let u="di$target",h="di$dependencies";b.serviceRegistry=new Map,b.getServiceDependencies=function(M){return M[h]||[]},b.createDecorator=function(M){if(b.serviceRegistry.has(M))return b.serviceRegistry.get(M);let r=function(L,v,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,d,N){d[u]===d?d[h].push({id:x,index:N}):(d[h]=[{id:x,index:N}],d[u]=d)})(r,L,S)};return r.toString=()=>M,b.serviceRegistry.set(M,r),r}},97:(T,b,u)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.IDecorationService=b.IUnicodeService=b.IOscLinkService=b.IOptionsService=b.ILogService=b.LogLevelEnum=b.IInstantiationService=b.ICharsetService=b.ICoreService=b.ICoreMouseService=b.IBufferService=void 0;let h=u(726);var M;b.IBufferService=h.createDecorator("BufferService"),b.ICoreMouseService=h.createDecorator("CoreMouseService"),b.ICoreService=h.createDecorator("CoreService"),b.ICharsetService=h.createDecorator("CharsetService"),b.IInstantiationService=h.createDecorator("InstantiationService"),function(r){r[r.TRACE=0]="TRACE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF"}(M||(b.LogLevelEnum=M={})),b.ILogService=h.createDecorator("LogService"),b.IOptionsService=h.createDecorator("OptionsService"),b.IOscLinkService=h.createDecorator("OscLinkService"),b.IUnicodeService=h.createDecorator("UnicodeService"),b.IDecorationService=h.createDecorator("DecorationService")}},k={};function _(T){var b=k[T];if(b!==void 0)return b.exports;var u=k[T]={exports:{}};return V[T].call(u.exports,u,u.exports,_),u.exports}var X={};return(()=>{var T=X;Object.defineProperty(T,"__esModule",{value:!0}),T.WebglAddon=void 0;let b=_(345),u=_(859),h=_(399),M=_(666),r=_(776);class L extends u.Disposable{constructor(v){if(h.isSafari&&h.getSafariVersion()<16)throw new Error("Webgl2 is only supported on Safari 16 and above");super(),this._preserveDrawingBuffer=v,this._onChangeTextureAtlas=this.register(new b.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new b.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=this.register(new b.EventEmitter),this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._onContextLoss=this.register(new b.EventEmitter),this.onContextLoss=this._onContextLoss.event}activate(v){let S=v._core;if(!v.element)return void this.register(S.onWillOpen(()=>this.activate(v)));this._terminal=v;let{coreService:x,optionsService:d}=S,N=S,O=N._renderService,Z=N._characterJoinerService,$=N._charSizeService,U=N._coreBrowserService,s=N._decorationService,W=N._logService,g=N._themeService;r.setTraceLogger(W),this._renderer=this.register(new M.WebglRenderer(v,Z,$,U,x,s,d,g,this._preserveDrawingBuffer)),this.register(b.forwardEvent(this._renderer.onContextLoss,this._onContextLoss)),this.register(b.forwardEvent(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register(b.forwardEvent(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),this.register(b.forwardEvent(this._renderer.onRemoveTextureAtlasCanvas,this._onRemoveTextureAtlasCanvas)),O.setRenderer(this._renderer),this.register(u.toDisposable(()=>{let K=this._terminal._core._renderService;K.setRenderer(this._terminal._core._createRenderer()),K.handleResize(v.cols,v.rows)}))}get textureAtlas(){var v;return(v=this._renderer)===null||v===void 0?void 0:v.textureAtlas}clearTextureAtlas(){var v;(v=this._renderer)===null||v===void 0||v.clearTextureAtlas()}}T.WebglAddon=L})(),X})())});var I4=V0((S6,k0)=>{(function(V,k){typeof S6=="object"&&typeof k0=="object"?k0.exports=k():typeof define=="function"&&define.amd?define([],k):typeof S6=="object"?S6.FitAddon=k():V.FitAddon=k()})(self,()=>(()=>{var V={};return(()=>{var k=V;Object.defineProperty(k,"__esModule",{value:!0}),k.FitAddon=void 0,k.FitAddon=class{activate(_){this._terminal=_}dispose(){}fit(){let _=this.proposeDimensions();if(!_||!this._terminal||isNaN(_.cols)||isNaN(_.rows))return;let X=this._terminal._core;this._terminal.rows===_.rows&&this._terminal.cols===_.cols||(X._renderService.clear(),this._terminal.resize(_.cols,_.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;let _=this._terminal._core,X=_._renderService.dimensions;if(X.css.cell.width===0||X.css.cell.height===0)return;let T=this._terminal.options.scrollback===0?0:_.viewport.scrollBarWidth,b=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(b.getPropertyValue("height")),h=Math.max(0,parseInt(b.getPropertyValue("width"))),M=window.getComputedStyle(this._terminal.element),r=u-(parseInt(M.getPropertyValue("padding-top"))+parseInt(M.getPropertyValue("padding-bottom"))),L=h-(parseInt(M.getPropertyValue("padding-right"))+parseInt(M.getPropertyValue("padding-left")))-T;return{cols:Math.max(2,Math.floor(L/X.css.cell.width)),rows:Math.max(1,Math.floor(r/X.css.cell.height))}}}})(),V})())});import{Text as K4}from"@blockcode/ui";import{Keys as Bu}from"@blockcode/core";import{Text as Au}from"@blockcode/ui";import{jsx as nc}from"preact/jsx-runtime";var lc=/Mac/i.test(navigator.platform||navigator.userAgent);import{useLayout as Al}from"@blockcode/core";import{ContextMenu as lo}from"@blockcode/ui";import{CodeEditor as oo}from"@blockcode/code-editor";import{useLocale as Ql}from"@blockcode/core";import{ComingSoon as Bl}from"@blockcode/ui";function b2(V){let k=globalThis.document,_=k.createElement("style");_.appendChild(k.createTextNode(V)),k.head.append(_)}b2('.chtJGa_package-list{background:var(--ui-white);border-right:1px solid var(--ui-black-transparent);border-radius:inherit;flex-direction:column;display:flex;position:relative}.chtJGa_list-wrapper{width:60px}.chtJGa_package-button{z-index:var(--z-index-extension-button);background:var(--motion-primary);box-sizing:content-box;border-bottom-left-radius:inherit;height:3.25rem;position:absolute;bottom:-1px;left:-1px;right:-1px}.chtJGa_package-button:before{--fade-out-distance:15px;content:"";top:calc(calc(-1*var(--fade-out-distance)));height:var(--fade-out-distance);background:linear-gradient(#0000,#00000026);position:absolute;left:0;right:0}.chtJGa_button{cursor:pointer;background:0 0;border:none;outline:none;width:100%;height:100%}.chtJGa_button-icon{width:1.75rem;height:1.75rem}');var T3={listWrapper:"chtJGa_list-wrapper",buttonIcon:"chtJGa_button-icon",button:"chtJGa_button",packageList:"chtJGa_package-list",packageButton:"chtJGa_package-button"};var i4="./assets/icon-add-package-2ffhep4t.svg";import{jsx as E3,jsxs as el}from"preact/jsx-runtime";function N0(){let{getText:V}=Ql();return el("div",{className:T3.packageList,children:[E3("div",{className:T3.listWrapper}),E3(Bl,{placement:"right",children:E3("div",{className:T3.packageButton,children:E3("button",{className:T3.button,title:V("micropython.packageList.addPackage","Add"),children:E3("img",{className:T3.buttonIcon,src:i4,title:"Add"})})})})]})}b2(".MlHfAq_code-editor-wrapper{flex-direction:row;width:100%;height:100%;display:flex}");var F4={codeEditorWrapper:"MlHfAq_code-editor-wrapper"};import{jsx as M0,jsxs as no}from"preact/jsx-runtime";function S0(){let{setSplash:V}=Al(),k=()=>{V(!1)};return no("div",{className:F4.codeEditorWrapper,children:[M0(N0,{}),M0(lo,{children:M0(oo,{onSetup:k})})]})}import{useRef as uo,useEffect as co}from"preact/hooks";import{useEditor as fo}from"@blockcode/core";import{classNames as ao}from"@blockcode/ui";var E4=O0(J4(),1),D4=O0(G4(),1),t4=O0(I4(),1);var U0={cursor:"#f8f8f8",foreground:"#f8f8f8",background:"#2d2e2c",selection:"#5da5d5",black:"#1e1e1d",brightblack:"#262625",red:"#ce5c5c",brightred:"#ff7272",green:"#5bcc5b",brightgreen:"#72ff72",yellow:"#cccc5b",brightyellow:"#ffff72",blue:"#5d5dd3",brightblue:"#7279ff",magenta:"#bc5ed1",brightmagenta:"#e572ff",cyan:"#5da5d5",brightcyan:"#72f0ff",white:"#f8f8f8",brightwhite:"#ffffff"};b2(".xterm{cursor:text;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{z-index:5;position:absolute;top:0}.xterm .xterm-helper-textarea{opacity:0;z-index:-5;white-space:nowrap;resize:none;border:0;width:0;height:0;margin:0;padding:0;position:absolute;top:0;left:-9999em;overflow:hidden}.xterm .composition-view{color:#fff;white-space:nowrap;z-index:1;background:#000;display:none;position:absolute}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{cursor:default;background-color:#000;position:absolute;inset:0;overflow-y:scroll}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;top:0;left:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{visibility:hidden;line-height:normal;display:inline-block;position:absolute;top:0;left:-9999em}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{z-index:10;color:#0000;pointer-events:none;position:absolute;inset:0}.xterm .live-region{width:1px;height:1px;position:absolute;left:-9999px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:underline double}.xterm-underline-3{text-decoration:underline wavy}.xterm-underline-4{text-decoration:underline dotted}.xterm-underline-5{text-decoration:underline dashed}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:underline overline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;pointer-events:none;position:absolute;top:0;right:0}.xterm-decoration-top{z-index:2;position:relative}");var Y4=/Mac/i.test(navigator.platform||navigator.userAgent),po=/Win/i.test(navigator.platform||navigator.userAgent);function X0(V){let k=new E4.Terminal({convertEol:!0,cursorBlink:!0,cursorInactiveStyle:"none",fontFamily:'"Cascadia Code", Menlo, monospace',fontSize:12,lineHeight:1.2,windowsMode:po,macOptionIsMeta:Y4,macOptionClickForcesSelection:Y4,theme:U0});k.open(V),V.style.background=U0.background;let _=new D4.WebglAddon;k.loadAddon(_),_.onContextLoss(()=>_.dispose());let X=new t4.FitAddon;return k.fit=()=>X.fit(),k.loadAddon(X),k.onWriteParsed(()=>k.fit()),k.element.addEventListener("focusin",()=>k.fit()),window.addEventListener("resize",()=>k.fit()),k}b2("._9aME7W_terminal-wrapper{border-radius:inherit;flex:1;padding:2px;display:flex;position:relative;overflow:hidden}._9aME7W_terminal-wrapper .xterm{position:absolute}");var C4={terminalWrapper:"_9aME7W_terminal-wrapper"};import{jsx as ro}from"preact/jsx-runtime";function g0({className:V}){let k=uo(null),{device:_}=fo();if(k.term)if(_){if(k.term.disabled=!1,_.serial.listenerCount("data")===0)_.serial.on("data",(X)=>k.term.write(X)),k.term.onData((X)=>_.writeAndReadUntil(X)),k.term.clear()}else k.term.disabled=!0,k.term._core._onData.clearListeners();return co(()=>{if(k.current)k.term=X0(k.current),k.term.disabled=!0,k.term.element.addEventListener("focusin",()=>{if(k.term.disabled)k.term.blur()}),k.resizeObserver=new window.ResizeObserver(()=>k.term.fit(!0)),k.resizeObserver.observe(k.current);return()=>{if(k.term)k.resizeObserver.unobserve(k.current),k.term=null}},[k]),ro("div",{className:ao(C4.terminalWrapper,V),ref:k})}import{useLocale as xu,useEditor as Lu}from"@blockcode/core";import{classNames as Ml}from"@blockcode/ui";import{useLocale as bu,useEditor as mu}from"@blockcode/core";import{Serial as Jo,sleep as P5}from"@blockcode/core";var ho=Object.create,{getPrototypeOf:bo,defineProperty:r6,getOwnPropertyNames:L9,getOwnPropertyDescriptor:mo}=Object,T9=Object.prototype.hasOwnProperty,_4=(V,k,_)=>{_=V!=null?ho(bo(V)):{};let X=k||!V||!V.__esModule?r6(_,"default",{value:V,enumerable:!0}):_;for(let T of L9(V))if(!T9.call(X,T))r6(X,T,{get:()=>V[T],enumerable:!0});return X},Q4=new WeakMap,yo=(V)=>{var k=Q4.get(V),_;if(k)return k;if(k=r6({},"__esModule",{value:!0}),V&&typeof V==="object"||typeof V==="function")L9(V).map((X)=>!T9.call(k,X)&&r6(k,X,{get:()=>V[X],enumerable:!(_=mo(V,X))||_.enumerable}));return Q4.set(V,k),k},r0=(V,k)=>()=>(k||V((k={exports:{}}).exports,k),k.exports),s2=(V,k)=>{for(var _ in k)r6(V,_,{get:k[_],enumerable:!0,configurable:!0,set:(X)=>k[_]=()=>X})},h2=(V,k)=>()=>(V&&(k=V(V=0)),k),q9={};s2(q9,{webcrypto:()=>p0,timingSafeEqual:()=>k3,scryptSync:()=>n6,scrypt:()=>p6,randomUUID:()=>u4,getRandomValues:()=>p4,getCurves:()=>n4,default:()=>c4,DEFAULT_ENCODING:()=>$3});function n4(){return Z9}var O9,q6,V9,N9,M9,S9,s0=(V,k)=>()=>(V&&(k=V(V=0)),k),b1=(V,k)=>()=>(k||V((k={exports:{}}).exports,k),k.exports),Z6=(V,k)=>{for(var _ in k)q6(V,_,{get:k[_],enumerable:!0})},c0=(V,k,_,X)=>{if(k&&typeof k=="object"||typeof k=="function")for(let T of N9(k))!S9.call(V,T)&&T!==_&&q6(V,T,{get:()=>k[T],enumerable:!(X=V9(k,T))||X.enumerable});return V},W0=(V,k,_)=>(c0(V,k,"default"),_&&c0(_,k,"default")),p3=(V,k,_)=>(_=V!=null?O9(M9(V)):{},c0(k||!V||!V.__esModule?q6(_,"default",{value:V,enumerable:!0}):_,V)),U2=(V)=>c0(q6({},"__esModule",{value:!0}),V),B4,e4,q2,F1,u3,H1,Y2,R0,D3,A4,z0,c3,w0,j0,K0,f3,$6,q3,P0,t3,k6,l8,o8,H0,i0,n8,p8,u8,F0,U6,X6,d3,c8,f8,J0,d8,G0,a8,g6,L2,R2,s6,V2,C3,I0,z2,r8,E2,D2,t2,h8,a3,W6,R6,b8,z6,Y0,Q3,E0,m8,w2,D0,t0,w6,y8,C0,v8,Q0,j6,_8,x8,F2,O3,L8,B0,e0,A0,T8,l5,o5,n5,p5,q8,u5,c5,S2,K6,f5,O8,V8,N8,M8,S8,V3,Z8,$8,k8,U8,X8,d5,a5,r5,P6,B3,g8,h5,b5,e3,s8,W8,H6,R8,z8,C2,m5,w8,j8,i6,y5,v5,K8,P8,H8,_5,i8,x5,r3,L5,T5,h3,F6,F8,J8,q5,O5,G8,I8,Y8,J6,G6,E8,j2,V5,Z2,A3,D8,t8,C8,N5,W2,N3,M5,Q8,S5,B8,Z5,e8,A8,l7,o7,I6,n7,Y6,p7,u7,c7,f7,d7,a7,r7,E6,$5,D6,t6,M3,C6,Q6,k5,h7,U5,X5,b7,g5,m7,y7,v7,s5,_7,x7,L7,T7,l6,W5,q7,O7,V7,N7,M7,R5,z5,B6,w5,S7,Z7,$7,k7,j5,K5,U7,$3="buffer",p4=(V)=>crypto.getRandomValues(V),u4=()=>crypto.randomUUID(),Z9,k3,n6,p6,p0,c4,vo=h2(()=>{O9=Object.create,q6=Object.defineProperty,V9=Object.getOwnPropertyDescriptor,N9=Object.getOwnPropertyNames,M9=Object.getPrototypeOf,S9=Object.prototype.hasOwnProperty,B4=b1((V)=>{V.byteLength=M,V.toByteArray=L,V.fromByteArray=x;var k=[],_=[],X=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(b=0,u=T.length;b<u;++b)k[b]=T[b],_[T.charCodeAt(b)]=b;var b,u;_[45]=62,_[95]=63;function h(d){var N=d.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=d.indexOf("=");O===-1&&(O=N);var Z=O===N?0:4-O%4;return[O,Z]}function M(d){var N=h(d),O=N[0],Z=N[1];return(O+Z)*3/4-Z}function r(d,N,O){return(N+O)*3/4-O}function L(d){var N,O=h(d),Z=O[0],$=O[1],U=new X(r(d,Z,$)),s=0,W=$>0?Z-4:Z,g;for(g=0;g<W;g+=4)N=_[d.charCodeAt(g)]<<18|_[d.charCodeAt(g+1)]<<12|_[d.charCodeAt(g+2)]<<6|_[d.charCodeAt(g+3)],U[s++]=N>>16&255,U[s++]=N>>8&255,U[s++]=N&255;return $===2&&(N=_[d.charCodeAt(g)]<<2|_[d.charCodeAt(g+1)]>>4,U[s++]=N&255),$===1&&(N=_[d.charCodeAt(g)]<<10|_[d.charCodeAt(g+1)]<<4|_[d.charCodeAt(g+2)]>>2,U[s++]=N>>8&255,U[s++]=N&255),U}function v(d){return k[d>>18&63]+k[d>>12&63]+k[d>>6&63]+k[d&63]}function S(d,N,O){for(var Z,$=[],U=N;U<O;U+=3)Z=(d[U]<<16&16711680)+(d[U+1]<<8&65280)+(d[U+2]&255),$.push(v(Z));return $.join("")}function x(d){for(var N,O=d.length,Z=O%3,$=[],U=16383,s=0,W=O-Z;s<W;s+=U)$.push(S(d,s,s+U>W?W:s+U));return Z===1?(N=d[O-1],$.push(k[N>>2]+k[N<<4&63]+"==")):Z===2&&(N=(d[O-2]<<8)+d[O-1],$.push(k[N>>10]+k[N>>4&63]+k[N<<2&63]+"=")),$.join("")}}),e4=b1((V)=>{V.read=function(k,_,X,T,b){var u,h,M=b*8-T-1,r=(1<<M)-1,L=r>>1,v=-7,S=X?b-1:0,x=X?-1:1,d=k[_+S];for(S+=x,u=d&(1<<-v)-1,d>>=-v,v+=M;v>0;u=u*256+k[_+S],S+=x,v-=8);for(h=u&(1<<-v)-1,u>>=-v,v+=T;v>0;h=h*256+k[_+S],S+=x,v-=8);if(u===0)u=1-L;else{if(u===r)return h?NaN:(d?-1:1)*(1/0);h=h+Math.pow(2,T),u=u-L}return(d?-1:1)*h*Math.pow(2,u-T)},V.write=function(k,_,X,T,b,u){var h,M,r,L=u*8-b-1,v=(1<<L)-1,S=v>>1,x=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=T?0:u-1,N=T?1:-1,O=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(M=isNaN(_)?1:0,h=v):(h=Math.floor(Math.log(_)/Math.LN2),_*(r=Math.pow(2,-h))<1&&(h--,r*=2),h+S>=1?_+=x/r:_+=x*Math.pow(2,1-S),_*r>=2&&(h++,r/=2),h+S>=v?(M=0,h=v):h+S>=1?(M=(_*r-1)*Math.pow(2,b),h=h+S):(M=_*Math.pow(2,S-1)*Math.pow(2,b),h=0));b>=8;k[X+d]=M&255,d+=N,M/=256,b-=8);for(h=h<<b|M,L+=b;L>0;k[X+d]=h&255,d+=N,h/=256,L-=8);k[X+d-N]|=O*128}}),q2=b1((V)=>{var k=B4(),_=e4(),X=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=h,V.SlowBuffer=$,V.INSPECT_MAX_BYTES=50;var T=2147483647;V.kMaxLength=T,h.TYPED_ARRAY_SUPPORT=b(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function b(){try{let z=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(z,H),z.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function u(z){if(z>T)throw new RangeError('The value "'+z+'" is invalid for option "size"');let H=new Uint8Array(z);return Object.setPrototypeOf(H,h.prototype),H}function h(z,H,t){if(typeof z=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(z)}return M(z,H,t)}h.poolSize=8192;function M(z,H,t){if(typeof z=="string")return S(z,H);if(ArrayBuffer.isView(z))return d(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(a1(z,ArrayBuffer)||z&&a1(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(a1(z,SharedArrayBuffer)||z&&a1(z.buffer,SharedArrayBuffer)))return N(z,H,t);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=z.valueOf&&z.valueOf();if(C!=null&&C!==z)return h.from(C,H,t);let l1=O(z);if(l1)return l1;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return h.from(z[Symbol.toPrimitive]("string"),H,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}h.from=function(z,H,t){return M(z,H,t)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function r(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function L(z,H,t){return r(z),z<=0?u(z):H!==void 0?typeof t=="string"?u(z).fill(H,t):u(z).fill(H):u(z)}h.alloc=function(z,H,t){return L(z,H,t)};function v(z){return r(z),u(z<0?0:Z(z)|0)}h.allocUnsafe=function(z){return v(z)},h.allocUnsafeSlow=function(z){return v(z)};function S(z,H){if((typeof H!="string"||H==="")&&(H="utf8"),!h.isEncoding(H))throw new TypeError("Unknown encoding: "+H);let t=U(z,H)|0,C=u(t),l1=C.write(z,H);return l1!==t&&(C=C.slice(0,l1)),C}function x(z){let H=z.length<0?0:Z(z.length)|0,t=u(H);for(let C=0;C<H;C+=1)t[C]=z[C]&255;return t}function d(z){if(a1(z,Uint8Array)){let H=new Uint8Array(z);return N(H.buffer,H.byteOffset,H.byteLength)}return x(z)}function N(z,H,t){if(H<0||z.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<H+(t||0))throw new RangeError('"length" is outside of buffer bounds');let C;return H===void 0&&t===void 0?C=new Uint8Array(z):t===void 0?C=new Uint8Array(z,H):C=new Uint8Array(z,H,t),Object.setPrototypeOf(C,h.prototype),C}function O(z){if(h.isBuffer(z)){let H=Z(z.length)|0,t=u(H);return t.length===0||z.copy(t,0,0,H),t}if(z.length!==void 0)return typeof z.length!="number"||z1(z.length)?u(0):x(z);if(z.type==="Buffer"&&Array.isArray(z.data))return x(z.data)}function Z(z){if(z>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return z|0}function $(z){return+z!=z&&(z=0),h.alloc(+z)}h.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==h.prototype},h.compare=function(z,H){if(a1(z,Uint8Array)&&(z=h.from(z,z.offset,z.byteLength)),a1(H,Uint8Array)&&(H=h.from(H,H.offset,H.byteLength)),!h.isBuffer(z)||!h.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===H)return 0;let t=z.length,C=H.length;for(let l1=0,x1=Math.min(t,C);l1<x1;++l1)if(z[l1]!==H[l1]){t=z[l1],C=H[l1];break}return t<C?-1:C<t?1:0},h.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(z,H){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return h.alloc(0);let t;if(H===void 0)for(H=0,t=0;t<z.length;++t)H+=z[t].length;let C=h.allocUnsafe(H),l1=0;for(t=0;t<z.length;++t){let x1=z[t];if(a1(x1,Uint8Array))l1+x1.length>C.length?(h.isBuffer(x1)||(x1=h.from(x1)),x1.copy(C,l1)):Uint8Array.prototype.set.call(C,x1,l1);else if(h.isBuffer(x1))x1.copy(C,l1);else throw new TypeError('"list" argument must be an Array of Buffers');l1+=x1.length}return C};function U(z,H){if(h.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||a1(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);let t=z.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&t===0)return 0;let l1=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return p1(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return V1(z).length;default:if(l1)return C?-1:p1(z).length;H=(""+H).toLowerCase(),l1=!0}}h.byteLength=U;function s(z,H,t){let C=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,H>>>=0,t<=H))return"";for(z||(z="utf8");;)switch(z){case"hex":return a(this,H,t);case"utf8":case"utf-8":return f(this,H,t);case"ascii":return y(this,H,t);case"latin1":case"binary":return q(this,H,t);case"base64":return p(this,H,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,H,t);default:if(C)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),C=!0}}h.prototype._isBuffer=!0;function W(z,H,t){let C=z[H];z[H]=z[t],z[t]=C}h.prototype.swap16=function(){let z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<z;H+=2)W(this,H,H+1);return this},h.prototype.swap32=function(){let z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<z;H+=4)W(this,H,H+3),W(this,H+1,H+2);return this},h.prototype.swap64=function(){let z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<z;H+=8)W(this,H,H+7),W(this,H+1,H+6),W(this,H+2,H+5),W(this,H+3,H+4);return this},h.prototype.toString=function(){let z=this.length;return z===0?"":arguments.length===0?f(this,0,z):s.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(z){if(!h.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:h.compare(this,z)===0},h.prototype.inspect=function(){let z="",H=V.INSPECT_MAX_BYTES;return z=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(z+=" ... "),"<Buffer "+z+">"},X&&(h.prototype[X]=h.prototype.inspect),h.prototype.compare=function(z,H,t,C,l1){if(a1(z,Uint8Array)&&(z=h.from(z,z.offset,z.byteLength)),!h.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(H===void 0&&(H=0),t===void 0&&(t=z?z.length:0),C===void 0&&(C=0),l1===void 0&&(l1=this.length),H<0||t>z.length||C<0||l1>this.length)throw new RangeError("out of range index");if(C>=l1&&H>=t)return 0;if(C>=l1)return-1;if(H>=t)return 1;if(H>>>=0,t>>>=0,C>>>=0,l1>>>=0,this===z)return 0;let x1=l1-C,f1=t-H,y1=Math.min(x1,f1),i1=this.slice(C,l1),_1=z.slice(H,t);for(let v1=0;v1<y1;++v1)if(i1[v1]!==_1[v1]){x1=i1[v1],f1=_1[v1];break}return x1<f1?-1:f1<x1?1:0};function g(z,H,t,C,l1){if(z.length===0)return-1;if(typeof t=="string"?(C=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,z1(t)&&(t=l1?0:z.length-1),t<0&&(t=z.length+t),t>=z.length){if(l1)return-1;t=z.length-1}else if(t<0)if(l1)t=0;else return-1;if(typeof H=="string"&&(H=h.from(H,C)),h.isBuffer(H))return H.length===0?-1:K(z,H,t,C,l1);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?l1?Uint8Array.prototype.indexOf.call(z,H,t):Uint8Array.prototype.lastIndexOf.call(z,H,t):K(z,[H],t,C,l1);throw new TypeError("val must be string, number or Buffer")}function K(z,H,t,C,l1){let x1=1,f1=z.length,y1=H.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(z.length<2||H.length<2)return-1;x1=2,f1/=2,y1/=2,t/=2}function i1(v1,j1){return x1===1?v1[j1]:v1.readUInt16BE(j1*x1)}let _1;if(l1){let v1=-1;for(_1=t;_1<f1;_1++)if(i1(z,_1)===i1(H,v1===-1?0:_1-v1)){if(v1===-1&&(v1=_1),_1-v1+1===y1)return v1*x1}else v1!==-1&&(_1-=_1-v1),v1=-1}else for(t+y1>f1&&(t=f1-y1),_1=t;_1>=0;_1--){let v1=!0;for(let j1=0;j1<y1;j1++)if(i1(z,_1+j1)!==i1(H,j1)){v1=!1;break}if(v1)return _1}return-1}h.prototype.includes=function(z,H,t){return this.indexOf(z,H,t)!==-1},h.prototype.indexOf=function(z,H,t){return g(this,z,H,t,!0)},h.prototype.lastIndexOf=function(z,H,t){return g(this,z,H,t,!1)};function i(z,H,t,C){t=Number(t)||0;let l1=z.length-t;C?(C=Number(C),C>l1&&(C=l1)):C=l1;let x1=H.length;C>x1/2&&(C=x1/2);let f1;for(f1=0;f1<C;++f1){let y1=parseInt(H.substr(f1*2,2),16);if(z1(y1))return f1;z[t+f1]=y1}return f1}function J(z,H,t,C){return d1(p1(H,z.length-t),z,t,C)}function F(z,H,t,C){return d1(u1(H),z,t,C)}function Y(z,H,t,C){return d1(V1(H),z,t,C)}function l(z,H,t,C){return d1(o1(H,z.length-t),z,t,C)}h.prototype.write=function(z,H,t,C){if(H===void 0)C="utf8",t=this.length,H=0;else if(t===void 0&&typeof H=="string")C=H,t=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(t)?(t=t>>>0,C===void 0&&(C="utf8")):(C=t,t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let l1=this.length-H;if((t===void 0||t>l1)&&(t=l1),z.length>0&&(t<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let x1=!1;for(;;)switch(C){case"hex":return i(this,z,H,t);case"utf8":case"utf-8":return J(this,z,H,t);case"ascii":case"latin1":case"binary":return F(this,z,H,t);case"base64":return Y(this,z,H,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,z,H,t);default:if(x1)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),x1=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(z,H,t){return H===0&&t===z.length?k.fromByteArray(z):k.fromByteArray(z.slice(H,t))}function f(z,H,t){t=Math.min(z.length,t);let C=[],l1=H;for(;l1<t;){let x1=z[l1],f1=null,y1=x1>239?4:x1>223?3:x1>191?2:1;if(l1+y1<=t){let i1,_1,v1,j1;switch(y1){case 1:x1<128&&(f1=x1);break;case 2:i1=z[l1+1],(i1&192)===128&&(j1=(x1&31)<<6|i1&63,j1>127&&(f1=j1));break;case 3:i1=z[l1+1],_1=z[l1+2],(i1&192)===128&&(_1&192)===128&&(j1=(x1&15)<<12|(i1&63)<<6|_1&63,j1>2047&&(j1<55296||j1>57343)&&(f1=j1));break;case 4:i1=z[l1+1],_1=z[l1+2],v1=z[l1+3],(i1&192)===128&&(_1&192)===128&&(v1&192)===128&&(j1=(x1&15)<<18|(i1&63)<<12|(_1&63)<<6|v1&63,j1>65535&&j1<1114112&&(f1=j1))}}f1===null?(f1=65533,y1=1):f1>65535&&(f1-=65536,C.push(f1>>>10&1023|55296),f1=56320|f1&1023),C.push(f1),l1+=y1}return c(C)}var n=4096;function c(z){let H=z.length;if(H<=n)return String.fromCharCode.apply(String,z);let t="",C=0;for(;C<H;)t+=String.fromCharCode.apply(String,z.slice(C,C+=n));return t}function y(z,H,t){let C="";t=Math.min(z.length,t);for(let l1=H;l1<t;++l1)C+=String.fromCharCode(z[l1]&127);return C}function q(z,H,t){let C="";t=Math.min(z.length,t);for(let l1=H;l1<t;++l1)C+=String.fromCharCode(z[l1]);return C}function a(z,H,t){let C=z.length;(!H||H<0)&&(H=0),(!t||t<0||t>C)&&(t=C);let l1="";for(let x1=H;x1<t;++x1)l1+=m1[z[x1]];return l1}function o(z,H,t){let C=z.slice(H,t),l1="";for(let x1=0;x1<C.length-1;x1+=2)l1+=String.fromCharCode(C[x1]+C[x1+1]*256);return l1}h.prototype.slice=function(z,H){let t=this.length;z=~~z,H=H===void 0?t:~~H,z<0?(z+=t,z<0&&(z=0)):z>t&&(z=t),H<0?(H+=t,H<0&&(H=0)):H>t&&(H=t),H<z&&(H=z);let C=this.subarray(z,H);return Object.setPrototypeOf(C,h.prototype),C};function m(z,H,t){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+H>t)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(z,H,t){z=z>>>0,H=H>>>0,t||m(z,H,this.length);let C=this[z],l1=1,x1=0;for(;++x1<H&&(l1*=256);)C+=this[z+x1]*l1;return C},h.prototype.readUintBE=h.prototype.readUIntBE=function(z,H,t){z=z>>>0,H=H>>>0,t||m(z,H,this.length);let C=this[z+--H],l1=1;for(;H>0&&(l1*=256);)C+=this[z+--H]*l1;return C},h.prototype.readUint8=h.prototype.readUInt8=function(z,H){return z=z>>>0,H||m(z,1,this.length),this[z]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(z,H){return z=z>>>0,H||m(z,2,this.length),this[z]|this[z+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(z,H){return z=z>>>0,H||m(z,2,this.length),this[z]<<8|this[z+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(z,H){return z=z>>>0,H||m(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(z,H){return z=z>>>0,H||m(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},h.prototype.readBigUInt64LE=r1(function(z){z=z>>>0,c1(z,"offset");let H=this[z],t=this[z+7];(H===void 0||t===void 0)&&G(z,this.length-8);let C=H+this[++z]*256+this[++z]*65536+this[++z]*16777216,l1=this[++z]+this[++z]*256+this[++z]*65536+t*16777216;return BigInt(C)+(BigInt(l1)<<BigInt(32))}),h.prototype.readBigUInt64BE=r1(function(z){z=z>>>0,c1(z,"offset");let H=this[z],t=this[z+7];(H===void 0||t===void 0)&&G(z,this.length-8);let C=H*16777216+this[++z]*65536+this[++z]*256+this[++z],l1=this[++z]*16777216+this[++z]*65536+this[++z]*256+t;return(BigInt(C)<<BigInt(32))+BigInt(l1)}),h.prototype.readIntLE=function(z,H,t){z=z>>>0,H=H>>>0,t||m(z,H,this.length);let C=this[z],l1=1,x1=0;for(;++x1<H&&(l1*=256);)C+=this[z+x1]*l1;return l1*=128,C>=l1&&(C-=Math.pow(2,8*H)),C},h.prototype.readIntBE=function(z,H,t){z=z>>>0,H=H>>>0,t||m(z,H,this.length);let C=H,l1=1,x1=this[z+--C];for(;C>0&&(l1*=256);)x1+=this[z+--C]*l1;return l1*=128,x1>=l1&&(x1-=Math.pow(2,8*H)),x1},h.prototype.readInt8=function(z,H){return z=z>>>0,H||m(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},h.prototype.readInt16LE=function(z,H){z=z>>>0,H||m(z,2,this.length);let t=this[z]|this[z+1]<<8;return t&32768?t|4294901760:t},h.prototype.readInt16BE=function(z,H){z=z>>>0,H||m(z,2,this.length);let t=this[z+1]|this[z]<<8;return t&32768?t|4294901760:t},h.prototype.readInt32LE=function(z,H){return z=z>>>0,H||m(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},h.prototype.readInt32BE=function(z,H){return z=z>>>0,H||m(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},h.prototype.readBigInt64LE=r1(function(z){z=z>>>0,c1(z,"offset");let H=this[z],t=this[z+7];(H===void 0||t===void 0)&&G(z,this.length-8);let C=this[z+4]+this[z+5]*256+this[z+6]*65536+(t<<24);return(BigInt(C)<<BigInt(32))+BigInt(H+this[++z]*256+this[++z]*65536+this[++z]*16777216)}),h.prototype.readBigInt64BE=r1(function(z){z=z>>>0,c1(z,"offset");let H=this[z],t=this[z+7];(H===void 0||t===void 0)&&G(z,this.length-8);let C=(H<<24)+this[++z]*65536+this[++z]*256+this[++z];return(BigInt(C)<<BigInt(32))+BigInt(this[++z]*16777216+this[++z]*65536+this[++z]*256+t)}),h.prototype.readFloatLE=function(z,H){return z=z>>>0,H||m(z,4,this.length),_.read(this,z,!0,23,4)},h.prototype.readFloatBE=function(z,H){return z=z>>>0,H||m(z,4,this.length),_.read(this,z,!1,23,4)},h.prototype.readDoubleLE=function(z,H){return z=z>>>0,H||m(z,8,this.length),_.read(this,z,!0,52,8)},h.prototype.readDoubleBE=function(z,H){return z=z>>>0,H||m(z,8,this.length),_.read(this,z,!1,52,8)};function j(z,H,t,C,l1,x1){if(!h.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>l1||H<x1)throw new RangeError('"value" argument is out of bounds');if(t+C>z.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(z,H,t,C){if(z=+z,H=H>>>0,t=t>>>0,!C){let f1=Math.pow(2,8*t)-1;j(this,z,H,t,f1,0)}let l1=1,x1=0;for(this[H]=z&255;++x1<t&&(l1*=256);)this[H+x1]=z/l1&255;return H+t},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(z,H,t,C){if(z=+z,H=H>>>0,t=t>>>0,!C){let f1=Math.pow(2,8*t)-1;j(this,z,H,t,f1,0)}let l1=t-1,x1=1;for(this[H+l1]=z&255;--l1>=0&&(x1*=256);)this[H+l1]=z/x1&255;return H+t},h.prototype.writeUint8=h.prototype.writeUInt8=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,1,255,0),this[H]=z&255,H+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,2,65535,0),this[H]=z&255,this[H+1]=z>>>8,H+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,2,65535,0),this[H]=z>>>8,this[H+1]=z&255,H+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,4,4294967295,0),this[H+3]=z>>>24,this[H+2]=z>>>16,this[H+1]=z>>>8,this[H]=z&255,H+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,4,4294967295,0),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=z&255,H+4};function R(z,H,t,C,l1){n1(H,C,l1,z,t,7);let x1=Number(H&BigInt(4294967295));z[t++]=x1,x1=x1>>8,z[t++]=x1,x1=x1>>8,z[t++]=x1,x1=x1>>8,z[t++]=x1;let f1=Number(H>>BigInt(32)&BigInt(4294967295));return z[t++]=f1,f1=f1>>8,z[t++]=f1,f1=f1>>8,z[t++]=f1,f1=f1>>8,z[t++]=f1,t}function w(z,H,t,C,l1){n1(H,C,l1,z,t,7);let x1=Number(H&BigInt(4294967295));z[t+7]=x1,x1=x1>>8,z[t+6]=x1,x1=x1>>8,z[t+5]=x1,x1=x1>>8,z[t+4]=x1;let f1=Number(H>>BigInt(32)&BigInt(4294967295));return z[t+3]=f1,f1=f1>>8,z[t+2]=f1,f1=f1>>8,z[t+1]=f1,f1=f1>>8,z[t]=f1,t+8}h.prototype.writeBigUInt64LE=r1(function(z,H=0){return R(this,z,H,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=r1(function(z,H=0){return w(this,z,H,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(z,H,t,C){if(z=+z,H=H>>>0,!C){let y1=Math.pow(2,8*t-1);j(this,z,H,t,y1-1,-y1)}let l1=0,x1=1,f1=0;for(this[H]=z&255;++l1<t&&(x1*=256);)z<0&&f1===0&&this[H+l1-1]!==0&&(f1=1),this[H+l1]=(z/x1>>0)-f1&255;return H+t},h.prototype.writeIntBE=function(z,H,t,C){if(z=+z,H=H>>>0,!C){let y1=Math.pow(2,8*t-1);j(this,z,H,t,y1-1,-y1)}let l1=t-1,x1=1,f1=0;for(this[H+l1]=z&255;--l1>=0&&(x1*=256);)z<0&&f1===0&&this[H+l1+1]!==0&&(f1=1),this[H+l1]=(z/x1>>0)-f1&255;return H+t},h.prototype.writeInt8=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,1,127,-128),z<0&&(z=255+z+1),this[H]=z&255,H+1},h.prototype.writeInt16LE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,2,32767,-32768),this[H]=z&255,this[H+1]=z>>>8,H+2},h.prototype.writeInt16BE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,2,32767,-32768),this[H]=z>>>8,this[H+1]=z&255,H+2},h.prototype.writeInt32LE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,4,2147483647,-2147483648),this[H]=z&255,this[H+1]=z>>>8,this[H+2]=z>>>16,this[H+3]=z>>>24,H+4},h.prototype.writeInt32BE=function(z,H,t){return z=+z,H=H>>>0,t||j(this,z,H,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=z&255,H+4},h.prototype.writeBigInt64LE=r1(function(z,H=0){return R(this,z,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=r1(function(z,H=0){return w(this,z,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function E(z,H,t,C,l1,x1){if(t+C>z.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function B(z,H,t,C,l1){return H=+H,t=t>>>0,l1||E(z,H,t,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),_.write(z,H,t,C,23,4),t+4}h.prototype.writeFloatLE=function(z,H,t){return B(this,z,H,!0,t)},h.prototype.writeFloatBE=function(z,H,t){return B(this,z,H,!1,t)};function e(z,H,t,C,l1){return H=+H,t=t>>>0,l1||E(z,H,t,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),_.write(z,H,t,C,52,8),t+8}h.prototype.writeDoubleLE=function(z,H,t){return e(this,z,H,!0,t)},h.prototype.writeDoubleBE=function(z,H,t){return e(this,z,H,!1,t)},h.prototype.copy=function(z,H,t,C){if(!h.isBuffer(z))throw new TypeError("argument should be a Buffer");if(t||(t=0),!C&&C!==0&&(C=this.length),H>=z.length&&(H=z.length),H||(H=0),C>0&&C<t&&(C=t),C===t||z.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),z.length-H<C-t&&(C=z.length-H+t);let l1=C-t;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,t,C):Uint8Array.prototype.set.call(z,this.subarray(t,C),H),l1},h.prototype.fill=function(z,H,t,C){if(typeof z=="string"){if(typeof H=="string"?(C=H,H=0,t=this.length):typeof t=="string"&&(C=t,t=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!h.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(z.length===1){let x1=z.charCodeAt(0);(C==="utf8"&&x1<128||C==="latin1")&&(z=x1)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(H<0||this.length<H||this.length<t)throw new RangeError("Out of range index");if(t<=H)return this;H=H>>>0,t=t===void 0?this.length:t>>>0,z||(z=0);let l1;if(typeof z=="number")for(l1=H;l1<t;++l1)this[l1]=z;else{let x1=h.isBuffer(z)?z:h.from(z,C),f1=x1.length;if(f1===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(l1=0;l1<t-H;++l1)this[l1+H]=x1[l1%f1]}return this};var Q={};function I(z,H,t){Q[z]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}I("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(z,H){return`The "${z}" argument must be of type number. Received type ${typeof H}`},TypeError),I("ERR_OUT_OF_RANGE",function(z,H,t){let C=`The value of "${z}" is out of range.`,l1=t;return Number.isInteger(t)&&Math.abs(t)>4294967296?l1=A(String(t)):typeof t=="bigint"&&(l1=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(l1=A(l1)),l1+="n"),C+=` It must be ${H}. Received ${l1}`,C},RangeError);function A(z){let H="",t=z.length,C=z[0]==="-"?1:0;for(;t>=C+4;t-=3)H=`_${z.slice(t-3,t)}${H}`;return`${z.slice(0,t)}${H}`}function h1(z,H,t){c1(H,"offset"),(z[H]===void 0||z[H+t]===void 0)&&G(H,z.length-(t+1))}function n1(z,H,t,C,l1,x1){if(z>t||z<H){let f1=typeof H=="bigint"?"n":"",y1;throw x1>3?H===0||H===BigInt(0)?y1=`>= 0${f1} and < 2${f1} ** ${(x1+1)*8}${f1}`:y1=`>= -(2${f1} ** ${(x1+1)*8-1}${f1}) and < 2 ** ${(x1+1)*8-1}${f1}`:y1=`>= ${H}${f1} and <= ${t}${f1}`,new Q.ERR_OUT_OF_RANGE("value",y1,z)}h1(C,l1,x1)}function c1(z,H){if(typeof z!="number")throw new Q.ERR_INVALID_ARG_TYPE(H,"number",z)}function G(z,H,t){throw Math.floor(z)!==z?(c1(z,t),new Q.ERR_OUT_OF_RANGE(t||"offset","an integer",z)):H<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${H}`,z)}var P=/[^+/0-9A-Za-z-_]/g;function D(z){if(z=z.split("=")[0],z=z.trim().replace(P,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function p1(z,H){H=H||1/0;let t,C=z.length,l1=null,x1=[];for(let f1=0;f1<C;++f1){if(t=z.charCodeAt(f1),t>55295&&t<57344){if(!l1){if(t>56319){(H-=3)>-1&&x1.push(239,191,189);continue}else if(f1+1===C){(H-=3)>-1&&x1.push(239,191,189);continue}l1=t;continue}if(t<56320){(H-=3)>-1&&x1.push(239,191,189),l1=t;continue}t=(l1-55296<<10|t-56320)+65536}else l1&&(H-=3)>-1&&x1.push(239,191,189);if(l1=null,t<128){if((H-=1)<0)break;x1.push(t)}else if(t<2048){if((H-=2)<0)break;x1.push(t>>6|192,t&63|128)}else if(t<65536){if((H-=3)<0)break;x1.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((H-=4)<0)break;x1.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return x1}function u1(z){let H=[];for(let t=0;t<z.length;++t)H.push(z.charCodeAt(t)&255);return H}function o1(z,H){let t,C,l1,x1=[];for(let f1=0;f1<z.length&&!((H-=2)<0);++f1)t=z.charCodeAt(f1),C=t>>8,l1=t%256,x1.push(l1),x1.push(C);return x1}function V1(z){return k.toByteArray(D(z))}function d1(z,H,t,C){let l1;for(l1=0;l1<C&&!(l1+t>=H.length||l1>=z.length);++l1)H[l1+t]=z[l1];return l1}function a1(z,H){return z instanceof H||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===H.name}function z1(z){return z!==z}var m1=function(){let z="0123456789abcdef",H=new Array(256);for(let t=0;t<16;++t){let C=t*16;for(let l1=0;l1<16;++l1)H[C+l1]=z[t]+z[l1]}return H}();function r1(z){return typeof BigInt>"u"?w1:z}function w1(){throw new Error("BigInt not supported")}}),F1=b1((V,k)=>{var _=q2(),X=_.Buffer;function T(u,h){for(var M in u)h[M]=u[M]}X.from&&X.alloc&&X.allocUnsafe&&X.allocUnsafeSlow?k.exports=_:(T(_,V),V.Buffer=b);function b(u,h,M){return X(u,h,M)}b.prototype=Object.create(X.prototype),T(X,b),b.from=function(u,h,M){if(typeof u=="number")throw new TypeError("Argument must not be a number");return X(u,h,M)},b.alloc=function(u,h,M){if(typeof u!="number")throw new TypeError("Argument must be a number");var r=X(u);return h!==void 0?typeof M=="string"?r.fill(h,M):r.fill(h):r.fill(0),r},b.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return X(u)},b.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(u)}}),u3=b1((V,k)=>{var _=65536,X=4294967295;function T(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var b=F1().Buffer,u=global.crypto||global.msCrypto;u&&u.getRandomValues?k.exports=h:k.exports=T;function h(M,r){if(M>X)throw new RangeError("requested too many random bytes");var L=b.allocUnsafe(M);if(M>0)if(M>_)for(var v=0;v<M;v+=_)u.getRandomValues(L.slice(v,v+_));else u.getRandomValues(L);return typeof r=="function"?process.nextTick(function(){r(null,L)}):L}}),H1=b1((V,k)=>{typeof Object.create=="function"?k.exports=function(_,X){X&&(_.super_=X,_.prototype=Object.create(X.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:k.exports=function(_,X){if(X){_.super_=X;var T=function(){};T.prototype=X.prototype,_.prototype=new T,_.prototype.constructor=_}}}),Y2=b1((V,k)=>{var _=typeof Reflect=="object"?Reflect:null,X=_&&typeof _.apply=="function"?_.apply:function(g,K,i){return Function.prototype.apply.call(g,K,i)},T;_&&typeof _.ownKeys=="function"?T=_.ownKeys:Object.getOwnPropertySymbols?T=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:T=function(g){return Object.getOwnPropertyNames(g)};function b(g){console&&console.warn&&console.warn(g)}var u=Number.isNaN||function(g){return g!==g};function h(){h.init.call(this)}k.exports=h,k.exports.once=U,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var M=10;function r(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(g){if(typeof g!="number"||g<0||u(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");M=g}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||u(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function L(g){return g._maxListeners===void 0?h.defaultMaxListeners:g._maxListeners}h.prototype.getMaxListeners=function(){return L(this)},h.prototype.emit=function(g){for(var K=[],i=1;i<arguments.length;i++)K.push(arguments[i]);var J=g==="error",F=this._events;if(F!==void 0)J=J&&F.error===void 0;else if(!J)return!1;if(J){var Y;if(K.length>0&&(Y=K[0]),Y instanceof Error)throw Y;var l=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw l.context=Y,l}var p=F[g];if(p===void 0)return!1;if(typeof p=="function")X(p,this,K);else for(var f=p.length,n=O(p,f),i=0;i<f;++i)X(n[i],this,K);return!0};function v(g,K,i,J){var F,Y,l;if(r(i),Y=g._events,Y===void 0?(Y=g._events=Object.create(null),g._eventsCount=0):(Y.newListener!==void 0&&(g.emit("newListener",K,i.listener?i.listener:i),Y=g._events),l=Y[K]),l===void 0)l=Y[K]=i,++g._eventsCount;else if(typeof l=="function"?l=Y[K]=J?[i,l]:[l,i]:J?l.unshift(i):l.push(i),F=L(g),F>0&&l.length>F&&!l.warned){l.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(K)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=g,p.type=K,p.count=l.length,b(p)}return g}h.prototype.addListener=function(g,K){return v(this,g,K,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(g,K){return v(this,g,K,!0)};function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(g,K,i){var J={fired:!1,wrapFn:void 0,target:g,type:K,listener:i},F=S.bind(J);return F.listener=i,J.wrapFn=F,F}h.prototype.once=function(g,K){return r(K),this.on(g,x(this,g,K)),this},h.prototype.prependOnceListener=function(g,K){return r(K),this.prependListener(g,x(this,g,K)),this},h.prototype.removeListener=function(g,K){var i,J,F,Y,l;if(r(K),J=this._events,J===void 0)return this;if(i=J[g],i===void 0)return this;if(i===K||i.listener===K)--this._eventsCount===0?this._events=Object.create(null):(delete J[g],J.removeListener&&this.emit("removeListener",g,i.listener||K));else if(typeof i!="function"){for(F=-1,Y=i.length-1;Y>=0;Y--)if(i[Y]===K||i[Y].listener===K){l=i[Y].listener,F=Y;break}if(F<0)return this;F===0?i.shift():Z(i,F),i.length===1&&(J[g]=i[0]),J.removeListener!==void 0&&this.emit("removeListener",g,l||K)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(g){var K,i,J;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[g]),this;if(arguments.length===0){var F=Object.keys(i),Y;for(J=0;J<F.length;++J)Y=F[J],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=i[g],typeof K=="function")this.removeListener(g,K);else if(K!==void 0)for(J=K.length-1;J>=0;J--)this.removeListener(g,K[J]);return this};function d(g,K,i){var J=g._events;if(J===void 0)return[];var F=J[K];return F===void 0?[]:typeof F=="function"?i?[F.listener||F]:[F]:i?$(F):O(F,F.length)}h.prototype.listeners=function(g){return d(this,g,!0)},h.prototype.rawListeners=function(g){return d(this,g,!1)},h.listenerCount=function(g,K){return typeof g.listenerCount=="function"?g.listenerCount(K):N.call(g,K)},h.prototype.listenerCount=N;function N(g){var K=this._events;if(K!==void 0){var i=K[g];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?T(this._events):[]};function O(g,K){for(var i=new Array(K),J=0;J<K;++J)i[J]=g[J];return i}function Z(g,K){for(;K+1<g.length;K++)g[K]=g[K+1];g.pop()}function $(g){for(var K=new Array(g.length),i=0;i<K.length;++i)K[i]=g[i].listener||g[i];return K}function U(g,K){return new Promise(function(i,J){function F(l){g.removeListener(K,Y),J(l)}function Y(){typeof g.removeListener=="function"&&g.removeListener("error",F),i([].slice.call(arguments))}W(g,K,Y,{once:!0}),K!=="error"&&s(g,F,{once:!0})})}function s(g,K,i){typeof g.on=="function"&&W(g,"error",K,i)}function W(g,K,i,J){if(typeof g.on=="function")J.once?g.once(K,i):g.on(K,i);else if(typeof g.addEventListener=="function")g.addEventListener(K,function F(Y){J.once&&g.removeEventListener(K,F),i(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}}),R0=b1((V,k)=>{k.exports=Y2().EventEmitter}),D3=b1(()=>{}),A4=b1((V,k)=>{function _(d,N){var O=Object.keys(d);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);N&&(Z=Z.filter(function($){return Object.getOwnPropertyDescriptor(d,$).enumerable})),O.push.apply(O,Z)}return O}function X(d){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{};N%2?_(Object(O),!0).forEach(function(Z){T(d,Z,O[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(O)):_(Object(O)).forEach(function(Z){Object.defineProperty(d,Z,Object.getOwnPropertyDescriptor(O,Z))})}return d}function T(d,N,O){return N in d?Object.defineProperty(d,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):d[N]=O,d}function b(d,N){if(!(d instanceof N))throw new TypeError("Cannot call a class as a function")}function u(d,N){for(var O=0;O<N.length;O++){var Z=N[O];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(d,Z.key,Z)}}function h(d,N,O){return N&&u(d.prototype,N),O&&u(d,O),d}var M=q2(),r=M.Buffer,L=D3(),v=L.inspect,S=v&&v.custom||"inspect";function x(d,N,O){r.prototype.copy.call(d,N,O)}k.exports=function(){function d(){b(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(N){var O={data:N,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(N){var O={data:N,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var O=this.head,Z=""+O.data;O=O.next;)Z+=N+O.data;return Z}},{key:"concat",value:function(N){if(this.length===0)return r.alloc(0);for(var O=r.allocUnsafe(N>>>0),Z=this.head,$=0;Z;)x(Z.data,O,$),$+=Z.data.length,Z=Z.next;return O}},{key:"consume",value:function(N,O){var Z;return N<this.head.data.length?(Z=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?Z=this.shift():Z=O?this._getString(N):this._getBuffer(N),Z}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var O=this.head,Z=1,$=O.data;for(N-=$.length;O=O.next;){var U=O.data,s=N>U.length?U.length:N;if(s===U.length?$+=U:$+=U.slice(0,N),N-=s,N===0){s===U.length?(++Z,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=U.slice(s));break}++Z}return this.length-=Z,$}},{key:"_getBuffer",value:function(N){var O=r.allocUnsafe(N),Z=this.head,$=1;for(Z.data.copy(O),N-=Z.data.length;Z=Z.next;){var U=Z.data,s=N>U.length?U.length:N;if(U.copy(O,O.length-N,0,s),N-=s,N===0){s===U.length?(++$,Z.next?this.head=Z.next:this.head=this.tail=null):(this.head=Z,Z.data=U.slice(s));break}++$}return this.length-=$,O}},{key:S,value:function(N,O){return v(this,X({},O,{depth:0,customInspect:!1}))}}]),d}()}),z0=b1((V,k)=>{function _(M,r){var L=this,v=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return v||S?(r?r(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,M)):process.nextTick(u,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(x){!r&&x?L._writableState?L._writableState.errorEmitted?process.nextTick(T,L):(L._writableState.errorEmitted=!0,process.nextTick(X,L,x)):process.nextTick(X,L,x):r?(process.nextTick(T,L),r(x)):process.nextTick(T,L)}),this)}function X(M,r){u(M,r),T(M)}function T(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(M,r){M.emit("error",r)}function h(M,r){var{_readableState:L,_writableState:v}=M;L&&L.autoDestroy||v&&v.autoDestroy?M.destroy(r):M.emit("error",r)}k.exports={destroy:_,undestroy:b,errorOrDestroy:h}}),c3=b1((V,k)=>{function _(r,L){r.prototype=Object.create(L.prototype),r.prototype.constructor=r,r.__proto__=L}var X={};function T(r,L,v){v||(v=Error);function S(d,N,O){return typeof L=="string"?L:L(d,N,O)}var x=function(d){_(N,d);function N(O,Z,$){return d.call(this,S(O,Z,$))||this}return N}(v);x.prototype.name=v.name,x.prototype.code=r,X[r]=x}function b(r,L){if(Array.isArray(r)){var v=r.length;return r=r.map(function(S){return String(S)}),v>2?"one of ".concat(L," ").concat(r.slice(0,v-1).join(", "),", or ")+r[v-1]:v===2?"one of ".concat(L," ").concat(r[0]," or ").concat(r[1]):"of ".concat(L," ").concat(r[0])}else return"of ".concat(L," ").concat(String(r))}function u(r,L,v){return r.substr(!v||v<0?0:+v,L.length)===L}function h(r,L,v){return(v===void 0||v>r.length)&&(v=r.length),r.substring(v-L.length,v)===L}function M(r,L,v){return typeof v!="number"&&(v=0),v+L.length>r.length?!1:r.indexOf(L,v)!==-1}T("ERR_INVALID_OPT_VALUE",function(r,L){return'The value "'+L+'" is invalid for option "'+r+'"'},TypeError),T("ERR_INVALID_ARG_TYPE",function(r,L,v){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var x;if(h(r," argument"))x="The ".concat(r," ").concat(S," ").concat(b(L,"type"));else{var d=M(r,".")?"property":"argument";x='The "'.concat(r,'" ').concat(d," ").concat(S," ").concat(b(L,"type"))}return x+=". Received type ".concat(typeof v),x},TypeError),T("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),T("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),T("ERR_STREAM_PREMATURE_CLOSE","Premature close"),T("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),T("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),T("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),T("ERR_STREAM_WRITE_AFTER_END","write after end"),T("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),T("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),T("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),k.exports.codes=X}),w0=b1((V,k)=>{var _=c3().codes.ERR_INVALID_OPT_VALUE;function X(b,u,h){return b.highWaterMark!=null?b.highWaterMark:u?b[h]:null}function T(b,u,h,M){var r=X(u,M,h);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var L=M?h:"highWaterMark";throw new _(L,r)}return Math.floor(r)}return b.objectMode?16:16384}k.exports={getHighWaterMark:T}}),j0=b1((V,k)=>{k.exports=_;function _(T,b){if(X("noDeprecation"))return T;var u=!1;function h(){if(!u){if(X("throwDeprecation"))throw new Error(b);X("traceDeprecation")?console.trace(b):console.warn(b),u=!0}return T.apply(this,arguments)}return h}function X(T){try{if(!global.localStorage)return!1}catch{return!1}var b=global.localStorage[T];return b==null?!1:String(b).toLowerCase()==="true"}}),K0=b1((V,k)=>{k.exports=F;function _(Q){var I=this;this.next=null,this.entry=null,this.finish=function(){e(I,Q)}}var X;F.WritableState=i;var T={deprecate:j0()},b=R0(),u=q2().Buffer,h=global.Uint8Array||function(){};function M(Q){return u.from(Q)}function r(Q){return u.isBuffer(Q)||Q instanceof h}var L=z0(),v=w0(),S=v.getHighWaterMark,x=c3().codes,d=x.ERR_INVALID_ARG_TYPE,N=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_MULTIPLE_CALLBACK,Z=x.ERR_STREAM_CANNOT_PIPE,$=x.ERR_STREAM_DESTROYED,U=x.ERR_STREAM_NULL_VALUES,s=x.ERR_STREAM_WRITE_AFTER_END,W=x.ERR_UNKNOWN_ENCODING,g=L.errorOrDestroy;H1()(F,b);function K(){}function i(Q,I,A){X=X||f3(),Q=Q||{},typeof A!="boolean"&&(A=I instanceof X),this.objectMode=!!Q.objectMode,A&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=S(this,Q,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h1=Q.decodeStrings===!1;this.decodeStrings=!h1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){q(I,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}i.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,I=[];Q;)I.push(Q),Q=Q.next;return I},function(){try{Object.defineProperty(i.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(Q){return J.call(this,Q)?!0:this!==F?!1:Q&&Q._writableState instanceof i}})):J=function(Q){return Q instanceof this};function F(Q){X=X||f3();var I=this instanceof X;if(!I&&!J.call(F,this))return new F(Q);this._writableState=new i(Q,this,I),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),b.call(this)}F.prototype.pipe=function(){g(this,new Z)};function Y(Q,I){var A=new s;g(Q,A),process.nextTick(I,A)}function l(Q,I,A,h1){var n1;return A===null?n1=new U:typeof A!="string"&&!I.objectMode&&(n1=new d("chunk",["string","Buffer"],A)),n1?(g(Q,n1),process.nextTick(h1,n1),!1):!0}F.prototype.write=function(Q,I,A){var h1=this._writableState,n1=!1,c1=!h1.objectMode&&r(Q);return c1&&!u.isBuffer(Q)&&(Q=M(Q)),typeof I=="function"&&(A=I,I=null),c1?I="buffer":I||(I=h1.defaultEncoding),typeof A!="function"&&(A=K),h1.ending?Y(this,A):(c1||l(this,h1,Q,A))&&(h1.pendingcb++,n1=f(this,h1,c1,Q,I,A)),n1},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&m(this,Q))},F.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new W(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(Q,I,A){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof I=="string"&&(I=u.from(I,A)),I}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(Q,I,A,h1,n1,c1){if(!A){var G=p(I,h1,n1);h1!==G&&(A=!0,n1="buffer",h1=G)}var P=I.objectMode?1:h1.length;I.length+=P;var D=I.length<I.highWaterMark;if(D||(I.needDrain=!0),I.writing||I.corked){var p1=I.lastBufferedRequest;I.lastBufferedRequest={chunk:h1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else n(Q,I,!1,P,h1,n1,c1);return D}function n(Q,I,A,h1,n1,c1,G){I.writelen=h1,I.writecb=G,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new $("write")):A?Q._writev(n1,I.onwrite):Q._write(n1,c1,I.onwrite),I.sync=!1}function c(Q,I,A,h1,n1){--I.pendingcb,A?(process.nextTick(n1,h1),process.nextTick(E,Q,I),Q._writableState.errorEmitted=!0,g(Q,h1)):(n1(h1),Q._writableState.errorEmitted=!0,g(Q,h1),E(Q,I))}function y(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function q(Q,I){var A=Q._writableState,h1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new O;if(y(A),I)c(Q,A,h1,I,n1);else{var c1=j(A)||Q.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&m(Q,A),h1?process.nextTick(a,Q,A,c1,n1):a(Q,A,c1,n1)}}function a(Q,I,A,h1){A||o(Q,I),I.pendingcb--,h1(),E(Q,I)}function o(Q,I){I.length===0&&I.needDrain&&(I.needDrain=!1,Q.emit("drain"))}function m(Q,I){I.bufferProcessing=!0;var A=I.bufferedRequest;if(Q._writev&&A&&A.next){var h1=I.bufferedRequestCount,n1=new Array(h1),c1=I.corkedRequestsFree;c1.entry=A;for(var G=0,P=!0;A;)n1[G]=A,A.isBuf||(P=!1),A=A.next,G+=1;n1.allBuffers=P,n(Q,I,!0,I.length,n1,"",c1.finish),I.pendingcb++,I.lastBufferedRequest=null,c1.next?(I.corkedRequestsFree=c1.next,c1.next=null):I.corkedRequestsFree=new _(I),I.bufferedRequestCount=0}else{for(;A;){var{chunk:D,encoding:p1,callback:u1}=A,o1=I.objectMode?1:D.length;if(n(Q,I,!1,o1,D,p1,u1),A=A.next,I.bufferedRequestCount--,I.writing)break}A===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=A,I.bufferProcessing=!1}F.prototype._write=function(Q,I,A){A(new N("_write()"))},F.prototype._writev=null,F.prototype.end=function(Q,I,A){var h1=this._writableState;return typeof Q=="function"?(A=Q,Q=null,I=null):typeof I=="function"&&(A=I,I=null),Q!=null&&this.write(Q,I),h1.corked&&(h1.corked=1,this.uncork()),h1.ending||B(this,h1,A),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function R(Q,I){Q._final(function(A){I.pendingcb--,A&&g(Q,A),I.prefinished=!0,Q.emit("prefinish"),E(Q,I)})}function w(Q,I){!I.prefinished&&!I.finalCalled&&(typeof Q._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,process.nextTick(R,Q,I)):(I.prefinished=!0,Q.emit("prefinish")))}function E(Q,I){var A=j(I);if(A&&(w(Q,I),I.pendingcb===0&&(I.finished=!0,Q.emit("finish"),I.autoDestroy))){var h1=Q._readableState;(!h1||h1.autoDestroy&&h1.endEmitted)&&Q.destroy()}return A}function B(Q,I,A){I.ending=!0,E(Q,I),A&&(I.finished?process.nextTick(A):Q.once("finish",A)),I.ended=!0,Q.writable=!1}function e(Q,I,A){var h1=Q.entry;for(Q.entry=null;h1;){var n1=h1.callback;I.pendingcb--,n1(A),h1=h1.next}I.corkedRequestsFree.next=Q}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){!this._writableState||(this._writableState.destroyed=Q)}}),F.prototype.destroy=L.destroy,F.prototype._undestroy=L.undestroy,F.prototype._destroy=function(Q,I){I(Q)}}),f3=b1((V,k)=>{var _=Object.keys||function(v){var S=[];for(var x in v)S.push(x);return S};k.exports=M;var X=H0(),T=K0();H1()(M,X);for(b=_(T.prototype),h=0;h<b.length;h++)u=b[h],M.prototype[u]||(M.prototype[u]=T.prototype[u]);var b,u,h;function M(v){if(!(this instanceof M))return new M(v);X.call(this,v),T.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||process.nextTick(L,this)}function L(v){v.end()}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),$6=b1((V)=>{var k=F1().Buffer,_=k.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function X($){if(!$)return"utf8";for(var U;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(U)return;$=(""+$).toLowerCase(),U=!0}}function T($){var U=X($);if(typeof U!="string"&&(k.isEncoding===_||!_($)))throw new Error("Unknown encoding: "+$);return U||$}V.StringDecoder=b;function b($){this.encoding=T($);var U;switch(this.encoding){case"utf16le":this.text=S,this.end=x,U=4;break;case"utf8":this.fillLast=r,U=4;break;case"base64":this.text=d,this.end=N,U=3;break;default:this.write=O,this.end=Z;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(U)}b.prototype.write=function($){if($.length===0)return"";var U,s;if(this.lastNeed){if(U=this.fillLast($),U===void 0)return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<$.length?U?U+this.text($,s):this.text($,s):U||""},b.prototype.end=v,b.prototype.text=L,b.prototype.fillLast=function($){if(this.lastNeed<=$.length)return $.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),this.lastNeed-=$.length};function u($){return $<=127?0:$>>5===6?2:$>>4===14?3:$>>3===30?4:$>>6===2?-1:-2}function h($,U,s){var W=U.length-1;if(W<s)return 0;var g=u(U[W]);return g>=0?(g>0&&($.lastNeed=g-1),g):--W<s||g===-2?0:(g=u(U[W]),g>=0?(g>0&&($.lastNeed=g-2),g):--W<s||g===-2?0:(g=u(U[W]),g>=0?(g>0&&(g===2?g=0:$.lastNeed=g-3),g):0))}function M($,U,s){if((U[0]&192)!==128)return $.lastNeed=0,"ï¿½";if($.lastNeed>1&&U.length>1){if((U[1]&192)!==128)return $.lastNeed=1,"ï¿½";if($.lastNeed>2&&U.length>2&&(U[2]&192)!==128)return $.lastNeed=2,"ï¿½"}}function r($){var U=this.lastTotal-this.lastNeed,s=M(this,$,U);if(s!==void 0)return s;if(this.lastNeed<=$.length)return $.copy(this.lastChar,U,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,U,0,$.length),this.lastNeed-=$.length}function L($,U){var s=h(this,$,U);if(!this.lastNeed)return $.toString("utf8",U);this.lastTotal=s;var W=$.length-(s-this.lastNeed);return $.copy(this.lastChar,0,W),$.toString("utf8",U,W)}function v($){var U=$&&$.length?this.write($):"";return this.lastNeed?U+"ï¿½":U}function S($,U){if(($.length-U)%2===0){var s=$.toString("utf16le",U);if(s){var W=s.charCodeAt(s.length-1);if(W>=55296&&W<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",U,$.length-1)}function x($){var U=$&&$.length?this.write($):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return U+this.lastChar.toString("utf16le",0,s)}return U}function d($,U){var s=($.length-U)%3;return s===0?$.toString("base64",U):(this.lastNeed=3-s,this.lastTotal=3,s===1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",U,$.length-s))}function N($){var U=$&&$.length?this.write($):"";return this.lastNeed?U+this.lastChar.toString("base64",0,3-this.lastNeed):U}function O($){return $.toString(this.encoding)}function Z($){return $&&$.length?this.write($):""}}),q3={},Z6(q3,{StringDecoder:()=>P0.StringDecoder,default:()=>P0.StringDecoder}),t3=s0(()=>{P0=p3($6())}),k6=b1((V,k)=>{var _=c3().codes.ERR_STREAM_PREMATURE_CLOSE;function X(h){var M=!1;return function(){if(!M){M=!0;for(var r=arguments.length,L=new Array(r),v=0;v<r;v++)L[v]=arguments[v];h.apply(this,L)}}}function T(){}function b(h){return h.setHeader&&typeof h.abort=="function"}function u(h,M,r){if(typeof M=="function")return u(h,null,M);M||(M={}),r=X(r||T);var L=M.readable||M.readable!==!1&&h.readable,v=M.writable||M.writable!==!1&&h.writable,S=function(){h.writable||d()},x=h._writableState&&h._writableState.finished,d=function(){v=!1,x=!0,L||r.call(h)},N=h._readableState&&h._readableState.endEmitted,O=function(){L=!1,N=!0,v||r.call(h)},Z=function(s){r.call(h,s)},$=function(){var s;if(L&&!N)return(!h._readableState||!h._readableState.ended)&&(s=new _),r.call(h,s);if(v&&!x)return(!h._writableState||!h._writableState.ended)&&(s=new _),r.call(h,s)},U=function(){h.req.on("finish",d)};return b(h)?(h.on("complete",d),h.on("abort",$),h.req?U():h.on("request",U)):v&&!h._writableState&&(h.on("end",S),h.on("close",S)),h.on("end",O),h.on("finish",d),M.error!==!1&&h.on("error",Z),h.on("close",$),function(){h.removeListener("complete",d),h.removeListener("abort",$),h.removeListener("request",U),h.req&&h.req.removeListener("finish",d),h.removeListener("end",S),h.removeListener("close",S),h.removeListener("finish",d),h.removeListener("end",O),h.removeListener("error",Z),h.removeListener("close",$)}}k.exports=u}),l8=b1((V,k)=>{var _;function X(U,s,W){return s in U?Object.defineProperty(U,s,{value:W,enumerable:!0,configurable:!0,writable:!0}):U[s]=W,U}var T=k6(),b=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),M=Symbol("ended"),r=Symbol("lastPromise"),L=Symbol("handlePromise"),v=Symbol("stream");function S(U,s){return{value:U,done:s}}function x(U){var s=U[b];if(s!==null){var W=U[v].read();W!==null&&(U[r]=null,U[b]=null,U[u]=null,s(S(W,!1)))}}function d(U){process.nextTick(x,U)}function N(U,s){return function(W,g){U.then(function(){if(s[M]){W(S(void 0,!0));return}s[L](W,g)},g)}}var O=Object.getPrototypeOf(function(){}),Z=Object.setPrototypeOf((_={get stream(){return this[v]},next:function(){var U=this,s=this[h];if(s!==null)return Promise.reject(s);if(this[M])return Promise.resolve(S(void 0,!0));if(this[v].destroyed)return new Promise(function(i,J){process.nextTick(function(){U[h]?J(U[h]):i(S(void 0,!0))})});var W=this[r],g;if(W)g=new Promise(N(W,this));else{var K=this[v].read();if(K!==null)return Promise.resolve(S(K,!1));g=new Promise(this[L])}return this[r]=g,g}},X(_,Symbol.asyncIterator,function(){return this}),X(_,"return",function(){var U=this;return new Promise(function(s,W){U[v].destroy(null,function(g){if(g){W(g);return}s(S(void 0,!0))})})}),_),O),$=function(U){var s,W=Object.create(Z,(s={},X(s,v,{value:U,writable:!0}),X(s,b,{value:null,writable:!0}),X(s,u,{value:null,writable:!0}),X(s,h,{value:null,writable:!0}),X(s,M,{value:U._readableState.endEmitted,writable:!0}),X(s,L,{value:function(g,K){var i=W[v].read();i?(W[r]=null,W[b]=null,W[u]=null,g(S(i,!1))):(W[b]=g,W[u]=K)},writable:!0}),s));return W[r]=null,T(U,function(g){if(g&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=W[u];K!==null&&(W[r]=null,W[b]=null,W[u]=null,K(g)),W[h]=g;return}var i=W[b];i!==null&&(W[r]=null,W[b]=null,W[u]=null,i(S(void 0,!0))),W[M]=!0}),U.on("readable",d.bind(null,W)),W};k.exports=$}),o8=b1((V,k)=>{k.exports=function(){throw new Error("Readable.from is not available in the browser")}}),H0=b1((V,k)=>{k.exports=l;var _;l.ReadableState=Y;var X=Y2().EventEmitter,T=function(G,P){return G.listeners(P).length},b=R0(),u=q2().Buffer,h=global.Uint8Array||function(){};function M(G){return u.from(G)}function r(G){return u.isBuffer(G)||G instanceof h}var L=D3(),v;L&&L.debuglog?v=L.debuglog("stream"):v=function(){};var S=A4(),x=z0(),d=w0(),N=d.getHighWaterMark,O=c3().codes,Z=O.ERR_INVALID_ARG_TYPE,$=O.ERR_STREAM_PUSH_AFTER_EOF,U=O.ERR_METHOD_NOT_IMPLEMENTED,s=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,W,g,K;H1()(l,b);var i=x.errorOrDestroy,J=["error","close","destroy","pause","resume"];function F(G,P,D){if(typeof G.prependListener=="function")return G.prependListener(P,D);!G._events||!G._events[P]?G.on(P,D):Array.isArray(G._events[P])?G._events[P].unshift(D):G._events[P]=[D,G._events[P]]}function Y(G,P,D){_=_||f3(),G=G||{},typeof D!="boolean"&&(D=P instanceof _),this.objectMode=!!G.objectMode,D&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=N(this,G,"readableHighWaterMark",D),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(W||(W=(t3(),U2(q3)).StringDecoder),this.decoder=new W(G.encoding),this.encoding=G.encoding)}function l(G){if(_=_||f3(),!(this instanceof l))return new l(G);var P=this instanceof _;this._readableState=new Y(G,this,P),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),b.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),l.prototype.destroy=x.destroy,l.prototype._undestroy=x.undestroy,l.prototype._destroy=function(G,P){P(G)},l.prototype.push=function(G,P){var D=this._readableState,p1;return D.objectMode?p1=!0:typeof G=="string"&&(P=P||D.defaultEncoding,P!==D.encoding&&(G=u.from(G,P),P=""),p1=!0),p(this,G,P,!1,p1)},l.prototype.unshift=function(G){return p(this,G,null,!0,!1)};function p(G,P,D,p1,u1){v("readableAddChunk",P);var o1=G._readableState;if(P===null)o1.reading=!1,a(G,o1);else{var V1;if(u1||(V1=n(o1,P)),V1)i(G,V1);else if(o1.objectMode||P&&P.length>0)if(typeof P!="string"&&!o1.objectMode&&Object.getPrototypeOf(P)!==u.prototype&&(P=M(P)),p1)o1.endEmitted?i(G,new s):f(G,o1,P,!0);else if(o1.ended)i(G,new $);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!D?(P=o1.decoder.write(P),o1.objectMode||P.length!==0?f(G,o1,P,!1):j(G,o1)):f(G,o1,P,!1)}else p1||(o1.reading=!1,j(G,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function f(G,P,D,p1){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,G.emit("data",D)):(P.length+=P.objectMode?1:D.length,p1?P.buffer.unshift(D):P.buffer.push(D),P.needReadable&&o(G)),j(G,P)}function n(G,P){var D;return!r(P)&&typeof P!="string"&&P!==void 0&&!G.objectMode&&(D=new Z("chunk",["string","Buffer","Uint8Array"],P)),D}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(G){W||(W=(t3(),U2(q3)).StringDecoder);var P=new W(G);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var D=this._readableState.buffer.head,p1="";D!==null;)p1+=P.write(D.data),D=D.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function y(G){return G>=c?G=c:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function q(G,P){return G<=0||P.length===0&&P.ended?0:P.objectMode?1:G!==G?P.flowing&&P.length?P.buffer.head.data.length:P.length:(G>P.highWaterMark&&(P.highWaterMark=y(G)),G<=P.length?G:P.ended?P.length:(P.needReadable=!0,0))}l.prototype.read=function(G){v("read",G),G=parseInt(G,10);var P=this._readableState,D=G;if(G!==0&&(P.emittedReadable=!1),G===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return v("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?h1(this):o(this),null;if(G=q(G,P),G===0&&P.ended)return P.length===0&&h1(this),null;var p1=P.needReadable;v("need readable",p1),(P.length===0||P.length-G<P.highWaterMark)&&(p1=!0,v("length less than watermark",p1)),P.ended||P.reading?(p1=!1,v("reading or ended",p1)):p1&&(v("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(G=q(D,P)));var u1;return G>0?u1=A(G,P):u1=null,u1===null?(P.needReadable=P.length<=P.highWaterMark,G=0):(P.length-=G,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),D!==G&&P.ended&&h1(this)),u1!==null&&this.emit("data",u1),u1};function a(G,P){if(v("onEofChunk"),!P.ended){if(P.decoder){var D=P.decoder.end();D&&D.length&&(P.buffer.push(D),P.length+=P.objectMode?1:D.length)}P.ended=!0,P.sync?o(G):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,m(G)))}}function o(G){var P=G._readableState;v("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(v("emitReadable",P.flowing),P.emittedReadable=!0,process.nextTick(m,G))}function m(G){var P=G._readableState;v("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(G.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,I(G)}function j(G,P){P.readingMore||(P.readingMore=!0,process.nextTick(R,G,P))}function R(G,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var D=P.length;if(v("maybeReadMore read 0"),G.read(0),D===P.length)break}P.readingMore=!1}l.prototype._read=function(G){i(this,new U("_read()"))},l.prototype.pipe=function(G,P){var D=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=G;break;case 1:p1.pipes=[p1.pipes,G];break;default:p1.pipes.push(G);break}p1.pipesCount+=1,v("pipe count=%d opts=%j",p1.pipesCount,P);var u1=(!P||P.end!==!1)&&G!==process.stdout&&G!==process.stderr,o1=u1?d1:t;p1.endEmitted?process.nextTick(o1):D.once("end",o1),G.on("unpipe",V1);function V1(C,l1){v("onunpipe"),C===D&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,m1())}function d1(){v("onend"),G.end()}var a1=w(D);G.on("drain",a1);var z1=!1;function m1(){v("cleanup"),G.removeListener("close",z),G.removeListener("finish",H),G.removeListener("drain",a1),G.removeListener("error",w1),G.removeListener("unpipe",V1),D.removeListener("end",d1),D.removeListener("end",t),D.removeListener("data",r1),z1=!0,p1.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&a1()}D.on("data",r1);function r1(C){v("ondata");var l1=G.write(C);v("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===G||p1.pipesCount>1&&c1(p1.pipes,G)!==-1)&&!z1&&(v("false write response, pause",p1.awaitDrain),p1.awaitDrain++),D.pause())}function w1(C){v("onerror",C),t(),G.removeListener("error",w1),T(G,"error")===0&&i(G,C)}F(G,"error",w1);function z(){G.removeListener("finish",H),t()}G.once("close",z);function H(){v("onfinish"),G.removeListener("close",z),t()}G.once("finish",H);function t(){v("unpipe"),D.unpipe(G)}return G.emit("pipe",D),p1.flowing||(v("pipe resume"),D.resume()),G};function w(G){return function(){var P=G._readableState;v("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&T(G,"data")&&(P.flowing=!0,I(G))}}l.prototype.unpipe=function(G){var P=this._readableState,D={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return G&&G!==P.pipes?this:(G||(G=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,G&&G.emit("unpipe",this,D),this);if(!G){var{pipes:p1,pipesCount:u1}=P;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var V1=c1(P.pipes,G);return V1===-1?this:(P.pipes.splice(V1,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),G.emit("unpipe",this,D),this)},l.prototype.on=function(G,P){var D=b.prototype.on.call(this,G,P),p1=this._readableState;return G==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):G==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,v("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(B,this)),D},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(G,P){var D=b.prototype.removeListener.call(this,G,P);return G==="readable"&&process.nextTick(E,this),D},l.prototype.removeAllListeners=function(G){var P=b.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(E,this),P};function E(G){var P=G._readableState;P.readableListening=G.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:G.listenerCount("data")>0&&G.resume()}function B(G){v("readable nexttick read 0"),G.read(0)}l.prototype.resume=function(){var G=this._readableState;return G.flowing||(v("resume"),G.flowing=!G.readableListening,e(this,G)),G.paused=!1,this};function e(G,P){P.resumeScheduled||(P.resumeScheduled=!0,process.nextTick(Q,G,P))}function Q(G,P){v("resume",P.reading),P.reading||G.read(0),P.resumeScheduled=!1,G.emit("resume"),I(G),P.flowing&&!P.reading&&G.read(0)}l.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function I(G){var P=G._readableState;for(v("flow",P.flowing);P.flowing&&G.read()!==null;);}l.prototype.wrap=function(G){var P=this,D=this._readableState,p1=!1;G.on("end",function(){if(v("wrapped end"),D.decoder&&!D.ended){var V1=D.decoder.end();V1&&V1.length&&P.push(V1)}P.push(null)}),G.on("data",function(V1){if(v("wrapped data"),D.decoder&&(V1=D.decoder.write(V1)),!(D.objectMode&&V1==null)&&!(!D.objectMode&&(!V1||!V1.length))){var d1=P.push(V1);d1||(p1=!0,G.pause())}});for(var u1 in G)this[u1]===void 0&&typeof G[u1]=="function"&&(this[u1]=function(V1){return function(){return G[V1].apply(G,arguments)}}(u1));for(var o1=0;o1<J.length;o1++)G.on(J[o1],this.emit.bind(this,J[o1]));return this._read=function(V1){v("wrapped _read",V1),p1&&(p1=!1,G.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=l8()),g(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(G,P){if(P.length===0)return null;var D;return P.objectMode?D=P.buffer.shift():!G||G>=P.length?(P.decoder?D=P.buffer.join(""):P.buffer.length===1?D=P.buffer.first():D=P.buffer.concat(P.length),P.buffer.clear()):D=P.buffer.consume(G,P.decoder),D}function h1(G){var P=G._readableState;v("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,process.nextTick(n1,P,G))}function n1(G,P){if(v("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,P.readable=!1,P.emit("end"),G.autoDestroy)){var D=P._writableState;(!D||D.autoDestroy&&D.finished)&&P.destroy()}}typeof Symbol=="function"&&(l.from=function(G,P){return K===void 0&&(K=o8()),K(l,G,P)});function c1(G,P){for(var D=0,p1=G.length;D<p1;D++)if(G[D]===P)return D;return-1}}),i0=b1((V,k)=>{k.exports=r;var _=c3().codes,X=_.ERR_METHOD_NOT_IMPLEMENTED,T=_.ERR_MULTIPLE_CALLBACK,b=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=_.ERR_TRANSFORM_WITH_LENGTH_0,h=f3();H1()(r,h);function M(S,x){var d=this._transformState;d.transforming=!1;var N=d.writecb;if(N===null)return this.emit("error",new T);d.writechunk=null,d.writecb=null,x!=null&&this.push(x),N(S);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function r(S){if(!(this instanceof r))return new r(S);h.call(this,S),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,d){v(S,x,d)}):v(this,null,null)}r.prototype.push=function(S,x){return this._transformState.needTransform=!1,h.prototype.push.call(this,S,x)},r.prototype._transform=function(S,x,d){d(new X("_transform()"))},r.prototype._write=function(S,x,d){var N=this._transformState;if(N.writecb=d,N.writechunk=S,N.writeencoding=x,!N.transforming){var O=this._readableState;(N.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},r.prototype._read=function(S){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},r.prototype._destroy=function(S,x){h.prototype._destroy.call(this,S,function(d){x(d)})};function v(S,x,d){if(x)return S.emit("error",x);if(d!=null&&S.push(d),S._writableState.length)throw new u;if(S._transformState.transforming)throw new b;return S.push(null)}}),n8=b1((V,k)=>{k.exports=X;var _=i0();H1()(X,_);function X(T){if(!(this instanceof X))return new X(T);_.call(this,T)}X.prototype._transform=function(T,b,u){u(null,T)}}),p8=b1((V,k)=>{var _;function X(d){var N=!1;return function(){N||(N=!0,d.apply(void 0,arguments))}}var T=c3().codes,b=T.ERR_MISSING_ARGS,u=T.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function M(d){return d.setHeader&&typeof d.abort=="function"}function r(d,N,O,Z){Z=X(Z);var $=!1;d.on("close",function(){$=!0}),_===void 0&&(_=k6()),_(d,{readable:N,writable:O},function(s){if(s)return Z(s);$=!0,Z()});var U=!1;return function(s){if(!$&&!U){if(U=!0,M(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();Z(s||new u("pipe"))}}}function L(d){d()}function v(d,N){return d.pipe(N)}function S(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function x(){for(var d=arguments.length,N=new Array(d),O=0;O<d;O++)N[O]=arguments[O];var Z=S(N);if(Array.isArray(N[0])&&(N=N[0]),N.length<2)throw new b("streams");var $,U=N.map(function(s,W){var g=W<N.length-1,K=W>0;return r(s,g,K,function(i){$||($=i),i&&U.forEach(L),!g&&(U.forEach(L),Z($))})});return N.reduce(v)}k.exports=x}),u8=b1((V,k)=>{V=k.exports=H0(),V.Stream=V,V.Readable=V,V.Writable=K0(),V.Duplex=f3(),V.Transform=i0(),V.PassThrough=n8(),V.finished=k6(),V.pipeline=p8()}),F0=b1((V,k)=>{var _=F1().Buffer,X=u8().Transform,T=H1();function b(h,M){if(!_.isBuffer(h)&&typeof h!="string")throw new TypeError(M+" must be a string or a buffer")}function u(h){X.call(this),this._block=_.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}T(u,X),u.prototype._transform=function(h,M,r){var L=null;try{this.update(h,M)}catch(v){L=v}r(L)},u.prototype._flush=function(h){var M=null;try{this.push(this.digest())}catch(r){M=r}h(M)},u.prototype.update=function(h,M){if(b(h,"Data"),this._finalized)throw new Error("Digest already called");_.isBuffer(h)||(h=_.from(h,M));for(var r=this._block,L=0;this._blockOffset+h.length-L>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)r[v++]=h[L++];this._update(),this._blockOffset=0}for(;L<h.length;)r[this._blockOffset++]=h[L++];for(var S=0,x=h.length*8;x>0;++S)this._length[S]+=x,x=this._length[S]/4294967296|0,x>0&&(this._length[S]-=4294967296*x);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var M=this._digest();h!==void 0&&(M=M.toString(h)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return M},u.prototype._digest=function(){throw new Error("_digest is not implemented")},k.exports=u}),U6=b1((V,k)=>{var _=H1(),X=F0(),T=F1().Buffer,b=new Array(16);function u(){X.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}_(u,X),u.prototype._update=function(){for(var S=b,x=0;x<16;++x)S[x]=this._block.readInt32LE(x*4);var d=this._a,N=this._b,O=this._c,Z=this._d;d=M(d,N,O,Z,S[0],3614090360,7),Z=M(Z,d,N,O,S[1],3905402710,12),O=M(O,Z,d,N,S[2],606105819,17),N=M(N,O,Z,d,S[3],3250441966,22),d=M(d,N,O,Z,S[4],4118548399,7),Z=M(Z,d,N,O,S[5],1200080426,12),O=M(O,Z,d,N,S[6],2821735955,17),N=M(N,O,Z,d,S[7],4249261313,22),d=M(d,N,O,Z,S[8],1770035416,7),Z=M(Z,d,N,O,S[9],2336552879,12),O=M(O,Z,d,N,S[10],4294925233,17),N=M(N,O,Z,d,S[11],2304563134,22),d=M(d,N,O,Z,S[12],1804603682,7),Z=M(Z,d,N,O,S[13],4254626195,12),O=M(O,Z,d,N,S[14],2792965006,17),N=M(N,O,Z,d,S[15],1236535329,22),d=r(d,N,O,Z,S[1],4129170786,5),Z=r(Z,d,N,O,S[6],3225465664,9),O=r(O,Z,d,N,S[11],643717713,14),N=r(N,O,Z,d,S[0],3921069994,20),d=r(d,N,O,Z,S[5],3593408605,5),Z=r(Z,d,N,O,S[10],38016083,9),O=r(O,Z,d,N,S[15],3634488961,14),N=r(N,O,Z,d,S[4],3889429448,20),d=r(d,N,O,Z,S[9],568446438,5),Z=r(Z,d,N,O,S[14],3275163606,9),O=r(O,Z,d,N,S[3],4107603335,14),N=r(N,O,Z,d,S[8],1163531501,20),d=r(d,N,O,Z,S[13],2850285829,5),Z=r(Z,d,N,O,S[2],4243563512,9),O=r(O,Z,d,N,S[7],1735328473,14),N=r(N,O,Z,d,S[12],2368359562,20),d=L(d,N,O,Z,S[5],4294588738,4),Z=L(Z,d,N,O,S[8],2272392833,11),O=L(O,Z,d,N,S[11],1839030562,16),N=L(N,O,Z,d,S[14],4259657740,23),d=L(d,N,O,Z,S[1],2763975236,4),Z=L(Z,d,N,O,S[4],1272893353,11),O=L(O,Z,d,N,S[7],4139469664,16),N=L(N,O,Z,d,S[10],3200236656,23),d=L(d,N,O,Z,S[13],681279174,4),Z=L(Z,d,N,O,S[0],3936430074,11),O=L(O,Z,d,N,S[3],3572445317,16),N=L(N,O,Z,d,S[6],76029189,23),d=L(d,N,O,Z,S[9],3654602809,4),Z=L(Z,d,N,O,S[12],3873151461,11),O=L(O,Z,d,N,S[15],530742520,16),N=L(N,O,Z,d,S[2],3299628645,23),d=v(d,N,O,Z,S[0],4096336452,6),Z=v(Z,d,N,O,S[7],1126891415,10),O=v(O,Z,d,N,S[14],2878612391,15),N=v(N,O,Z,d,S[5],4237533241,21),d=v(d,N,O,Z,S[12],1700485571,6),Z=v(Z,d,N,O,S[3],2399980690,10),O=v(O,Z,d,N,S[10],4293915773,15),N=v(N,O,Z,d,S[1],2240044497,21),d=v(d,N,O,Z,S[8],1873313359,6),Z=v(Z,d,N,O,S[15],4264355552,10),O=v(O,Z,d,N,S[6],2734768916,15),N=v(N,O,Z,d,S[13],1309151649,21),d=v(d,N,O,Z,S[4],4149444226,6),Z=v(Z,d,N,O,S[11],3174756917,10),O=v(O,Z,d,N,S[2],718787259,15),N=v(N,O,Z,d,S[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+N|0,this._c=this._c+O|0,this._d=this._d+Z|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var S=T.allocUnsafe(16);return S.writeInt32LE(this._a,0),S.writeInt32LE(this._b,4),S.writeInt32LE(this._c,8),S.writeInt32LE(this._d,12),S};function h(S,x){return S<<x|S>>>32-x}function M(S,x,d,N,O,Z,$){return h(S+(x&d|~x&N)+O+Z|0,$)+x|0}function r(S,x,d,N,O,Z,$){return h(S+(x&N|d&~N)+O+Z|0,$)+x|0}function L(S,x,d,N,O,Z,$){return h(S+(x^d^N)+O+Z|0,$)+x|0}function v(S,x,d,N,O,Z,$){return h(S+(d^(x|~N))+O+Z|0,$)+x|0}k.exports=u}),X6=b1((V,k)=>{var _=q2().Buffer,X=H1(),T=F0(),b=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],r=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],L=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];function S(){T.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}X(S,T),S.prototype._update=function(){for(var U=b,s=0;s<16;++s)U[s]=this._block.readInt32LE(s*4);for(var W=this._a|0,g=this._b|0,K=this._c|0,i=this._d|0,J=this._e|0,F=this._a|0,Y=this._b|0,l=this._c|0,p=this._d|0,f=this._e|0,n=0;n<80;n+=1){var c,y;n<16?(c=d(W,g,K,i,J,U[u[n]],L[0],M[n]),y=$(F,Y,l,p,f,U[h[n]],v[0],r[n])):n<32?(c=N(W,g,K,i,J,U[u[n]],L[1],M[n]),y=Z(F,Y,l,p,f,U[h[n]],v[1],r[n])):n<48?(c=O(W,g,K,i,J,U[u[n]],L[2],M[n]),y=O(F,Y,l,p,f,U[h[n]],v[2],r[n])):n<64?(c=Z(W,g,K,i,J,U[u[n]],L[3],M[n]),y=N(F,Y,l,p,f,U[h[n]],v[3],r[n])):(c=$(W,g,K,i,J,U[u[n]],L[4],M[n]),y=d(F,Y,l,p,f,U[h[n]],v[4],r[n])),W=J,J=i,i=x(K,10),K=g,g=c,F=f,f=p,p=x(l,10),l=Y,Y=y}var q=this._b+K+p|0;this._b=this._c+i+f|0,this._c=this._d+J+F|0,this._d=this._e+W+Y|0,this._e=this._a+g+l|0,this._a=q},S.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var U=_.alloc?_.alloc(20):new _(20);return U.writeInt32LE(this._a,0),U.writeInt32LE(this._b,4),U.writeInt32LE(this._c,8),U.writeInt32LE(this._d,12),U.writeInt32LE(this._e,16),U};function x(U,s){return U<<s|U>>>32-s}function d(U,s,W,g,K,i,J,F){return x(U+(s^W^g)+i+J|0,F)+K|0}function N(U,s,W,g,K,i,J,F){return x(U+(s&W|~s&g)+i+J|0,F)+K|0}function O(U,s,W,g,K,i,J,F){return x(U+((s|~W)^g)+i+J|0,F)+K|0}function Z(U,s,W,g,K,i,J,F){return x(U+(s&g|W&~g)+i+J|0,F)+K|0}function $(U,s,W,g,K,i,J,F){return x(U+(s^(W|~g))+i+J|0,F)+K|0}k.exports=S}),d3=b1((V,k)=>{var _=F1().Buffer;function X(T,b){this._block=_.alloc(T),this._finalSize=b,this._blockSize=T,this._len=0}X.prototype.update=function(T,b){typeof T=="string"&&(b=b||"utf8",T=_.from(T,b));for(var u=this._block,h=this._blockSize,M=T.length,r=this._len,L=0;L<M;){for(var v=r%h,S=Math.min(M-L,h-v),x=0;x<S;x++)u[v+x]=T[L+x];r+=S,L+=S,r%h===0&&this._update(u)}return this._len+=M,this},X.prototype.digest=function(T){var b=this._len%this._blockSize;this._block[b]=128,this._block.fill(0,b+1),b>=this._finalSize&&(this._update(this._block),this._block.fill(0));var u=this._len*8;if(u<=4294967295)this._block.writeUInt32BE(u,this._blockSize-4);else{var h=(u&4294967295)>>>0,M=(u-h)/4294967296;this._block.writeUInt32BE(M,this._blockSize-8),this._block.writeUInt32BE(h,this._blockSize-4)}this._update(this._block);var r=this._hash();return T?r.toString(T):r},X.prototype._update=function(){throw new Error("_update must be implemented by subclass")},k.exports=X}),c8=b1((V,k)=>{var _=H1(),X=d3(),T=F1().Buffer,b=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,X.call(this,64,56)}_(h,X),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function M(v){return v<<5|v>>>27}function r(v){return v<<30|v>>>2}function L(v,S,x,d){return v===0?S&x|~S&d:v===2?S&x|S&d|x&d:S^x^d}h.prototype._update=function(v){for(var S=this._w,x=this._a|0,d=this._b|0,N=this._c|0,O=this._d|0,Z=this._e|0,$=0;$<16;++$)S[$]=v.readInt32BE($*4);for(;$<80;++$)S[$]=S[$-3]^S[$-8]^S[$-14]^S[$-16];for(var U=0;U<80;++U){var s=~~(U/20),W=M(x)+L(s,d,N,O)+Z+S[U]+b[s]|0;Z=O,O=N,N=r(d),d=x,x=W}this._a=x+this._a|0,this._b=d+this._b|0,this._c=N+this._c|0,this._d=O+this._d|0,this._e=Z+this._e|0},h.prototype._hash=function(){var v=T.allocUnsafe(20);return v.writeInt32BE(this._a|0,0),v.writeInt32BE(this._b|0,4),v.writeInt32BE(this._c|0,8),v.writeInt32BE(this._d|0,12),v.writeInt32BE(this._e|0,16),v},k.exports=h}),f8=b1((V,k)=>{var _=H1(),X=d3(),T=F1().Buffer,b=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function h(){this.init(),this._w=u,X.call(this,64,56)}_(h,X),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function M(S){return S<<1|S>>>31}function r(S){return S<<5|S>>>27}function L(S){return S<<30|S>>>2}function v(S,x,d,N){return S===0?x&d|~x&N:S===2?x&d|x&N|d&N:x^d^N}h.prototype._update=function(S){for(var x=this._w,d=this._a|0,N=this._b|0,O=this._c|0,Z=this._d|0,$=this._e|0,U=0;U<16;++U)x[U]=S.readInt32BE(U*4);for(;U<80;++U)x[U]=M(x[U-3]^x[U-8]^x[U-14]^x[U-16]);for(var s=0;s<80;++s){var W=~~(s/20),g=r(d)+v(W,N,O,Z)+$+x[s]+b[W]|0;$=Z,Z=O,O=L(N),N=d,d=g}this._a=d+this._a|0,this._b=N+this._b|0,this._c=O+this._c|0,this._d=Z+this._d|0,this._e=$+this._e|0},h.prototype._hash=function(){var S=T.allocUnsafe(20);return S.writeInt32BE(this._a|0,0),S.writeInt32BE(this._b|0,4),S.writeInt32BE(this._c|0,8),S.writeInt32BE(this._d|0,12),S.writeInt32BE(this._e|0,16),S},k.exports=h}),J0=b1((V,k)=>{var _=H1(),X=d3(),T=F1().Buffer,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function h(){this.init(),this._w=u,X.call(this,64,56)}_(h,X),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function M(d,N,O){return O^d&(N^O)}function r(d,N,O){return d&N|O&(d|N)}function L(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function v(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function S(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function x(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}h.prototype._update=function(d){for(var N=this._w,O=this._a|0,Z=this._b|0,$=this._c|0,U=this._d|0,s=this._e|0,W=this._f|0,g=this._g|0,K=this._h|0,i=0;i<16;++i)N[i]=d.readInt32BE(i*4);for(;i<64;++i)N[i]=x(N[i-2])+N[i-7]+S(N[i-15])+N[i-16]|0;for(var J=0;J<64;++J){var F=K+v(s)+M(s,W,g)+b[J]+N[J]|0,Y=L(O)+r(O,Z,$)|0;K=g,g=W,W=s,s=U+F|0,U=$,$=Z,Z=O,O=F+Y|0}this._a=O+this._a|0,this._b=Z+this._b|0,this._c=$+this._c|0,this._d=U+this._d|0,this._e=s+this._e|0,this._f=W+this._f|0,this._g=g+this._g|0,this._h=K+this._h|0},h.prototype._hash=function(){var d=T.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},k.exports=h}),d8=b1((V,k)=>{var _=H1(),X=J0(),T=d3(),b=F1().Buffer,u=new Array(64);function h(){this.init(),this._w=u,T.call(this,64,56)}_(h,X),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var M=b.allocUnsafe(28);return M.writeInt32BE(this._a,0),M.writeInt32BE(this._b,4),M.writeInt32BE(this._c,8),M.writeInt32BE(this._d,12),M.writeInt32BE(this._e,16),M.writeInt32BE(this._f,20),M.writeInt32BE(this._g,24),M},k.exports=h}),G0=b1((V,k)=>{var _=H1(),X=d3(),T=F1().Buffer,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function h(){this.init(),this._w=u,X.call(this,128,112)}_(h,X),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function M(Z,$,U){return U^Z&($^U)}function r(Z,$,U){return Z&$|U&(Z|$)}function L(Z,$){return(Z>>>28|$<<4)^($>>>2|Z<<30)^($>>>7|Z<<25)}function v(Z,$){return(Z>>>14|$<<18)^(Z>>>18|$<<14)^($>>>9|Z<<23)}function S(Z,$){return(Z>>>1|$<<31)^(Z>>>8|$<<24)^Z>>>7}function x(Z,$){return(Z>>>1|$<<31)^(Z>>>8|$<<24)^(Z>>>7|$<<25)}function d(Z,$){return(Z>>>19|$<<13)^($>>>29|Z<<3)^Z>>>6}function N(Z,$){return(Z>>>19|$<<13)^($>>>29|Z<<3)^(Z>>>6|$<<26)}function O(Z,$){return Z>>>0<$>>>0?1:0}h.prototype._update=function(Z){for(var $=this._w,U=this._ah|0,s=this._bh|0,W=this._ch|0,g=this._dh|0,K=this._eh|0,i=this._fh|0,J=this._gh|0,F=this._hh|0,Y=this._al|0,l=this._bl|0,p=this._cl|0,f=this._dl|0,n=this._el|0,c=this._fl|0,y=this._gl|0,q=this._hl|0,a=0;a<32;a+=2)$[a]=Z.readInt32BE(a*4),$[a+1]=Z.readInt32BE(a*4+4);for(;a<160;a+=2){var o=$[a-30],m=$[a-30+1],j=S(o,m),R=x(m,o);o=$[a-4],m=$[a-4+1];var w=d(o,m),E=N(m,o),B=$[a-14],e=$[a-14+1],Q=$[a-32],I=$[a-32+1],A=R+e|0,h1=j+B+O(A,R)|0;A=A+E|0,h1=h1+w+O(A,E)|0,A=A+I|0,h1=h1+Q+O(A,I)|0,$[a]=h1,$[a+1]=A}for(var n1=0;n1<160;n1+=2){h1=$[n1],A=$[n1+1];var c1=r(U,s,W),G=r(Y,l,p),P=L(U,Y),D=L(Y,U),p1=v(K,n),u1=v(n,K),o1=b[n1],V1=b[n1+1],d1=M(K,i,J),a1=M(n,c,y),z1=q+u1|0,m1=F+p1+O(z1,q)|0;z1=z1+a1|0,m1=m1+d1+O(z1,a1)|0,z1=z1+V1|0,m1=m1+o1+O(z1,V1)|0,z1=z1+A|0,m1=m1+h1+O(z1,A)|0;var r1=D+G|0,w1=P+c1+O(r1,D)|0;F=J,q=y,J=i,y=c,i=K,c=n,n=f+z1|0,K=g+m1+O(n,f)|0,g=W,f=p,W=s,p=l,s=U,l=Y,Y=z1+r1|0,U=m1+w1+O(Y,z1)|0}this._al=this._al+Y|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+f|0,this._el=this._el+n|0,this._fl=this._fl+c|0,this._gl=this._gl+y|0,this._hl=this._hl+q|0,this._ah=this._ah+U+O(this._al,Y)|0,this._bh=this._bh+s+O(this._bl,l)|0,this._ch=this._ch+W+O(this._cl,p)|0,this._dh=this._dh+g+O(this._dl,f)|0,this._eh=this._eh+K+O(this._el,n)|0,this._fh=this._fh+i+O(this._fl,c)|0,this._gh=this._gh+J+O(this._gl,y)|0,this._hh=this._hh+F+O(this._hl,q)|0},h.prototype._hash=function(){var Z=T.allocUnsafe(64);function $(U,s,W){Z.writeInt32BE(U,W),Z.writeInt32BE(s,W+4)}return $(this._ah,this._al,0),$(this._bh,this._bl,8),$(this._ch,this._cl,16),$(this._dh,this._dl,24),$(this._eh,this._el,32),$(this._fh,this._fl,40),$(this._gh,this._gl,48),$(this._hh,this._hl,56),Z},k.exports=h}),a8=b1((V,k)=>{var _=H1(),X=G0(),T=d3(),b=F1().Buffer,u=new Array(160);function h(){this.init(),this._w=u,T.call(this,128,112)}_(h,X),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var M=b.allocUnsafe(48);function r(L,v,S){M.writeInt32BE(L,S),M.writeInt32BE(v,S+4)}return r(this._ah,this._al,0),r(this._bh,this._bl,8),r(this._ch,this._cl,16),r(this._dh,this._dl,24),r(this._eh,this._el,32),r(this._fh,this._fl,40),M},k.exports=h}),g6=b1((_,k)=>{var _=k.exports=function(X){X=X.toLowerCase();var T=_[X];if(!T)throw new Error(X+" is not supported (we accept pull requests)");return new T};_.sha=c8(),_.sha1=f8(),_.sha224=d8(),_.sha256=J0(),_.sha384=a8(),_.sha512=G0()}),L2=b1((V,k)=>{k.exports={ArrayIsArray(_){return Array.isArray(_)},ArrayPrototypeIncludes(_,X){return _.includes(X)},ArrayPrototypeIndexOf(_,X){return _.indexOf(X)},ArrayPrototypeJoin(_,X){return _.join(X)},ArrayPrototypeMap(_,X){return _.map(X)},ArrayPrototypePop(_,X){return _.pop(X)},ArrayPrototypePush(_,X){return _.push(X)},ArrayPrototypeSlice(_,X,T){return _.slice(X,T)},Error,FunctionPrototypeCall(_,X,...T){return _.call(X,...T)},FunctionPrototypeSymbolHasInstance(_,X){return Function.prototype[Symbol.hasInstance].call(_,X)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(_,X){return Object.defineProperties(_,X)},ObjectDefineProperty(_,X,T){return Object.defineProperty(_,X,T)},ObjectGetOwnPropertyDescriptor(_,X){return Object.getOwnPropertyDescriptor(_,X)},ObjectKeys(_){return Object.keys(_)},ObjectSetPrototypeOf(_,X){return Object.setPrototypeOf(_,X)},Promise,PromisePrototypeCatch(_,X){return _.catch(X)},PromisePrototypeThen(_,X,T){return _.then(X,T)},PromiseReject(_){return Promise.reject(_)},ReflectApply:Reflect.apply,RegExpPrototypeTest(_,X){return _.test(X)},SafeSet:Set,String,StringPrototypeSlice(_,X,T){return _.slice(X,T)},StringPrototypeToLowerCase(_){return _.toLowerCase()},StringPrototypeToUpperCase(_){return _.toUpperCase()},StringPrototypeTrim(_){return _.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(_,X,T){return _.set(X,T)},Uint8Array}}),R2=b1((V,k)=>{var _=q2(),X=Object.getPrototypeOf(async function(){}).constructor,T=globalThis.Blob||_.Blob,b=typeof T<"u"?function(h){return h instanceof T}:function(h){return!1},u=class extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let M="";for(let r=0;r<h.length;r++)M+=`    ${h[r].stack}
`;super(M),this.name="AggregateError",this.errors=h}};k.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(h){let M=!1;return function(...r){M||(M=!0,h.apply(this,r))}},createDeferredPromise:function(){let h,M;return{promise:new Promise((r,L)=>{h=r,M=L}),resolve:h,reject:M}},promisify(h){return new Promise((M,r)=>{h((L,...v)=>L?r(L):M(...v))})},debuglog(){return function(){}},format(h,...M){return h.replace(/%([sdifj])/g,function(...[r,L]){let v=M.shift();return L==="f"?v.toFixed(6):L==="j"?JSON.stringify(v):L==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(h){switch(typeof h){case"string":if(h.includes("'"))if(h.includes('"')){if(!h.includes("`")&&!h.includes("${"))return`\`${h}\``}else return`"${h}"`;return`'${h}'`;case"number":return isNaN(h)?"NaN":Object.is(h,-0)?String(h):h;case"bigint":return`${String(h)}n`;case"boolean":case"undefined":return String(h);case"object":return"{}"}},types:{isAsyncFunction(h){return h instanceof X},isArrayBufferView(h){return ArrayBuffer.isView(h)}},isBlob:b},k.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),s6=b1((V,k)=>{var{AbortController:_,AbortSignal:X}=typeof self<"u"?self:typeof window<"u"?window:void 0;k.exports=_,k.exports.AbortSignal=X,k.exports.default=_}),V2=b1((V,k)=>{var{format:_,inspect:X,AggregateError:T}=R2(),b=globalThis.AggregateError||T,u=Symbol("kIsNodeError"),h=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,r="__node_internal_",L={};function v($,U){if(!$)throw new L.ERR_INTERNAL_ASSERTION(U)}function S($){let U="",s=$.length,W=$[0]==="-"?1:0;for(;s>=W+4;s-=3)U=`_${$.slice(s-3,s)}${U}`;return`${$.slice(0,s)}${U}`}function x($,U,s){if(typeof U=="function")return v(U.length<=s.length,`Code: ${$}; The provided arguments length (${s.length}) does not match the required ones (${U.length}).`),U(...s);let W=(U.match(/%[dfijoOs]/g)||[]).length;return v(W===s.length,`Code: ${$}; The provided arguments length (${s.length}) does not match the required ones (${W}).`),s.length===0?U:_(U,...s)}function d($,U,s){s||(s=Error);class W extends s{constructor(...g){super(x($,U,g))}toString(){return`${this.name} [${$}]: ${this.message}`}}Object.defineProperties(W.prototype,{name:{value:s.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${$}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),W.prototype.code=$,W.prototype[u]=!0,L[$]=W}function N($){let U=r+$.name;return Object.defineProperty($,"name",{value:U}),$}function O($,U){if($&&U&&$!==U){if(Array.isArray(U.errors))return U.errors.push($),U;let s=new b([U,$],U.message);return s.code=U.code,s}return $||U}var Z=class extends Error{constructor($="The operation was aborted",U=void 0){if(U!==void 0&&typeof U!="object")throw new L.ERR_INVALID_ARG_TYPE("options","Object",U);super($,U),this.code="ABORT_ERR",this.name="AbortError"}};d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",($,U,s)=>{v(typeof $=="string","'name' must be a string"),Array.isArray(U)||(U=[U]);let W="The ";$.endsWith(" argument")?W+=`${$} `:W+=`"${$}" ${$.includes(".")?"property":"argument"} `,W+="must be ";let g=[],K=[],i=[];for(let F of U)v(typeof F=="string","All expected entries have to be of type string"),h.includes(F)?g.push(F.toLowerCase()):M.test(F)?K.push(F):(v(F!=="object",'The value "object" should be written as "Object"'),i.push(F));if(K.length>0){let F=g.indexOf("object");F!==-1&&(g.splice(g,F,1),K.push("Object"))}if(g.length>0){switch(g.length){case 1:W+=`of type ${g[0]}`;break;case 2:W+=`one of type ${g[0]} or ${g[1]}`;break;default:{let F=g.pop();W+=`one of type ${g.join(", ")}, or ${F}`}}(K.length>0||i.length>0)&&(W+=" or ")}if(K.length>0){switch(K.length){case 1:W+=`an instance of ${K[0]}`;break;case 2:W+=`an instance of ${K[0]} or ${K[1]}`;break;default:{let F=K.pop();W+=`an instance of ${K.join(", ")}, or ${F}`}}i.length>0&&(W+=" or ")}switch(i.length){case 0:break;case 1:i[0].toLowerCase()!==i[0]&&(W+="an "),W+=`${i[0]}`;break;case 2:W+=`one of ${i[0]} or ${i[1]}`;break;default:{let F=i.pop();W+=`one of ${i.join(", ")}, or ${F}`}}if(s==null)W+=`. Received ${s}`;else if(typeof s=="function"&&s.name)W+=`. Received function ${s.name}`;else if(typeof s=="object"){var J;(J=s.constructor)!==null&&J!==void 0&&J.name?W+=`. Received an instance of ${s.constructor.name}`:W+=`. Received ${X(s,{depth:-1})}`}else{let F=X(s,{colors:!1});F.length>25&&(F=`${F.slice(0,25)}...`),W+=`. Received type ${typeof s} (${F})`}return W},TypeError),d("ERR_INVALID_ARG_VALUE",($,U,s="is invalid")=>{let W=X(U);return W.length>128&&(W=W.slice(0,128)+"..."),`The ${$.includes(".")?"property":"argument"} '${$}' ${s}. Received ${W}`},TypeError),d("ERR_INVALID_RETURN_VALUE",($,U,s)=>{var W;let g=s!=null&&(W=s.constructor)!==null&&W!==void 0&&W.name?`instance of ${s.constructor.name}`:`type ${typeof s}`;return`Expected ${$} to be returned from the "${U}" function but got ${g}.`},TypeError),d("ERR_MISSING_ARGS",(...$)=>{v($.length>0,"At least one arg needs to be specified");let U,s=$.length;switch($=(Array.isArray($)?$:[$]).map((W)=>`"${W}"`).join(" or "),s){case 1:U+=`The ${$[0]} argument`;break;case 2:U+=`The ${$[0]} and ${$[1]} arguments`;break;default:{let W=$.pop();U+=`The ${$.join(", ")}, and ${W} arguments`}break}return`${U} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",($,U,s)=>{v(U,'Missing "range" argument');let W;return Number.isInteger(s)&&Math.abs(s)>4294967296?W=S(String(s)):typeof s=="bigint"?(W=String(s),(s>2n**32n||s<-(2n**32n))&&(W=S(W)),W+="n"):W=X(s),`The value of "${$}" is out of range. It must be ${U}. Received ${W}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),k.exports={AbortError:Z,aggregateTwoErrors:N(O),hideStackFrames:N,codes:L}}),C3=b1((V,k)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:X,ArrayPrototypeJoin:T,ArrayPrototypeMap:b,NumberIsInteger:u,NumberIsNaN:h,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:r,NumberParseInt:L,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:S,String:x,StringPrototypeToUpperCase:d,StringPrototypeTrim:N}=L2(),{hideStackFrames:O,codes:{ERR_SOCKET_BAD_PORT:Z,ERR_INVALID_ARG_TYPE:$,ERR_INVALID_ARG_VALUE:U,ERR_OUT_OF_RANGE:s,ERR_UNKNOWN_SIGNAL:W}}=V2(),{normalizeEncoding:g}=R2(),{isAsyncFunction:K,isArrayBufferView:i}=R2().types,J={};function F(G){return G===(G|0)}function Y(G){return G===G>>>0}var l=/^[0-7]+$/,p="must be a 32-bit unsigned integer or an octal string";function f(G,P,D){if(typeof G>"u"&&(G=D),typeof G=="string"){if(S(l,G)===null)throw new U(P,G,p);G=L(G,8)}return y(G,P),G}var n=O((G,P,D=r,p1=M)=>{if(typeof G!="number")throw new $(P,"number",G);if(!u(G))throw new s(P,"an integer",G);if(G<D||G>p1)throw new s(P,`>= ${D} && <= ${p1}`,G)}),c=O((G,P,D=-2147483648,p1=2147483647)=>{if(typeof G!="number")throw new $(P,"number",G);if(!u(G))throw new s(P,"an integer",G);if(G<D||G>p1)throw new s(P,`>= ${D} && <= ${p1}`,G)}),y=O((G,P,D=!1)=>{if(typeof G!="number")throw new $(P,"number",G);if(!u(G))throw new s(P,"an integer",G);let p1=D?1:0,u1=4294967295;if(G<p1||G>u1)throw new s(P,`>= ${p1} && <= ${u1}`,G)});function q(G,P){if(typeof G!="string")throw new $(P,"string",G)}function a(G,P,D=void 0,p1){if(typeof G!="number")throw new $(P,"number",G);if(D!=null&&G<D||p1!=null&&G>p1||(D!=null||p1!=null)&&h(G))throw new s(P,`${D!=null?`>= ${D}`:""}${D!=null&&p1!=null?" && ":""}${p1!=null?`<= ${p1}`:""}`,G)}var o=O((G,P,D)=>{if(!X(D,G)){let p1=T(b(D,(o1)=>typeof o1=="string"?`'${o1}'`:x(o1)),", "),u1="must be one of: "+p1;throw new U(P,G,u1)}});function m(G,P){if(typeof G!="boolean")throw new $(P,"boolean",G)}function j(G,P,D){return G==null||!v(G,P)?D:G[P]}var R=O((G,P,D=null)=>{let p1=j(D,"allowArray",!1),u1=j(D,"allowFunction",!1);if(!j(D,"nullable",!1)&&G===null||!p1&&_(G)||typeof G!="object"&&(!u1||typeof G!="function"))throw new $(P,"Object",G)}),w=O((G,P,D=0)=>{if(!_(G))throw new $(P,"Array",G);if(G.length<D){let p1=`must be longer than ${D}`;throw new U(P,G,p1)}});function E(G,P="signal"){if(q(G,P),J[G]===void 0)throw J[d(G)]!==void 0?new W(G+" (signals must use all capital letters)"):new W(G)}var B=O((G,P="buffer")=>{if(!i(G))throw new $(P,["Buffer","TypedArray","DataView"],G)});function e(G,P){let D=g(P),p1=G.length;if(D==="hex"&&p1%2!==0)throw new U("encoding",P,`is invalid for data of length ${p1}`)}function Q(G,P="Port",D=!0){if(typeof G!="number"&&typeof G!="string"||typeof G=="string"&&N(G).length===0||+G!==+G>>>0||G>65535||G===0&&!D)throw new Z(P,G,D);return G|0}var I=O((G,P)=>{if(G!==void 0&&(G===null||typeof G!="object"||!("aborted"in G)))throw new $(P,"AbortSignal",G)}),A=O((G,P)=>{if(typeof G!="function")throw new $(P,"Function",G)}),h1=O((G,P)=>{if(typeof G!="function"||K(G))throw new $(P,"Function",G)}),n1=O((G,P)=>{if(G!==void 0)throw new $(P,"undefined",G)});function c1(G,P,D){if(!X(D,G))throw new $(P,`('${T(D,"|")}')`,G)}k.exports={isInt32:F,isUint32:Y,parseFileMode:f,validateArray:w,validateBoolean:m,validateBuffer:B,validateEncoding:e,validateFunction:A,validateInt32:c,validateInteger:n,validateNumber:a,validateObject:R,validateOneOf:o,validatePlainFunction:h1,validatePort:Q,validateSignalName:E,validateString:q,validateUint32:y,validateUndefined:n1,validateUnion:c1,validateAbortSignal:I}}),I0=b1((V,k)=>{var _=k.exports={},X,T;function b(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?X=setTimeout:X=b}catch{X=b}try{typeof clearTimeout=="function"?T=clearTimeout:T=u}catch{T=u}})();function h(Z){if(X===setTimeout)return setTimeout(Z,0);if((X===b||!X)&&setTimeout)return X=setTimeout,setTimeout(Z,0);try{return X(Z,0)}catch{try{return X.call(null,Z,0)}catch{return X.call(this,Z,0)}}}function M(Z){if(T===clearTimeout)return clearTimeout(Z);if((T===u||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(Z);try{return T(Z)}catch{try{return T.call(null,Z)}catch{return T.call(this,Z)}}}var r=[],L=!1,v,S=-1;function x(){!L||!v||(L=!1,v.length?r=v.concat(r):S=-1,r.length&&d())}function d(){if(!L){var Z=h(x);L=!0;for(var $=r.length;$;){for(v=r,r=[];++S<$;)v&&v[S].run();S=-1,$=r.length}v=null,L=!1,M(Z)}}_.nextTick=function(Z){var $=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)$[U-1]=arguments[U];r.push(new N(Z,$)),r.length===1&&!L&&h(d)};function N(Z,$){this.fun=Z,this.array=$}N.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={};function O(){}_.on=O,_.addListener=O,_.once=O,_.off=O,_.removeListener=O,_.removeAllListeners=O,_.emit=O,_.prependListener=O,_.prependOnceListener=O,_.listeners=function(Z){return[]},_.binding=function(Z){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(Z){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}}),z2={},Z6(z2,{default:()=>r8}),E2=s0(()=>{W0(z2,p3(I0())),r8=p3(I0())}),D2=b1((V,k)=>{var{Symbol:_,SymbolAsyncIterator:X,SymbolIterator:T}=L2(),b=_("kDestroyed"),u=_("kIsErrored"),h=_("kIsReadable"),M=_("kIsDisturbed");function r(n,c=!1){var y;return!!(n&&typeof n.pipe=="function"&&typeof n.on=="function"&&(!c||typeof n.pause=="function"&&typeof n.resume=="function")&&(!n._writableState||((y=n._readableState)===null||y===void 0?void 0:y.readable)!==!1)&&(!n._writableState||n._readableState))}function L(n){var c;return!!(n&&typeof n.write=="function"&&typeof n.on=="function"&&(!n._readableState||((c=n._writableState)===null||c===void 0?void 0:c.writable)!==!1))}function v(n){return!!(n&&typeof n.pipe=="function"&&n._readableState&&typeof n.on=="function"&&typeof n.write=="function")}function S(n){return n&&(n._readableState||n._writableState||typeof n.write=="function"&&typeof n.on=="function"||typeof n.pipe=="function"&&typeof n.on=="function")}function x(n,c){return n==null?!1:c===!0?typeof n[X]=="function":c===!1?typeof n[T]=="function":typeof n[X]=="function"||typeof n[T]=="function"}function d(n){if(!S(n))return null;let{_writableState:c,_readableState:y}=n,q=c||y;return!!(n.destroyed||n[b]||q!=null&&q.destroyed)}function N(n){if(!L(n))return null;if(n.writableEnded===!0)return!0;let c=n._writableState;return c!=null&&c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function O(n,c){if(!L(n))return null;if(n.writableFinished===!0)return!0;let y=n._writableState;return y!=null&&y.errored?!1:typeof y?.finished!="boolean"?null:!!(y.finished||c===!1&&y.ended===!0&&y.length===0)}function Z(n){if(!r(n))return null;if(n.readableEnded===!0)return!0;let c=n._readableState;return!c||c.errored?!1:typeof c?.ended!="boolean"?null:c.ended}function $(n,c){if(!r(n))return null;let y=n._readableState;return y!=null&&y.errored?!1:typeof y?.endEmitted!="boolean"?null:!!(y.endEmitted||c===!1&&y.ended===!0&&y.length===0)}function U(n){return n&&n[h]!=null?n[h]:typeof n?.readable!="boolean"?null:d(n)?!1:r(n)&&n.readable&&!$(n)}function s(n){return typeof n?.writable!="boolean"?null:d(n)?!1:L(n)&&n.writable&&!N(n)}function W(n,c){return S(n)?d(n)?!0:!(c?.readable!==!1&&U(n)||c?.writable!==!1&&s(n)):null}function g(n){var c,y;return S(n)?n.writableErrored?n.writableErrored:(c=(y=n._writableState)===null||y===void 0?void 0:y.errored)!==null&&c!==void 0?c:null:null}function K(n){var c,y;return S(n)?n.readableErrored?n.readableErrored:(c=(y=n._readableState)===null||y===void 0?void 0:y.errored)!==null&&c!==void 0?c:null:null}function i(n){if(!S(n))return null;if(typeof n.closed=="boolean")return n.closed;let{_writableState:c,_readableState:y}=n;return typeof c?.closed=="boolean"||typeof y?.closed=="boolean"?c?.closed||y?.closed:typeof n._closed=="boolean"&&J(n)?n._closed:null}function J(n){return typeof n._closed=="boolean"&&typeof n._defaultKeepAlive=="boolean"&&typeof n._removedConnection=="boolean"&&typeof n._removedContLen=="boolean"}function F(n){return typeof n._sent100=="boolean"&&J(n)}function Y(n){var c;return typeof n._consuming=="boolean"&&typeof n._dumped=="boolean"&&((c=n.req)===null||c===void 0?void 0:c.upgradeOrConnect)===void 0}function l(n){if(!S(n))return null;let{_writableState:c,_readableState:y}=n,q=c||y;return!q&&F(n)||!!(q&&q.autoDestroy&&q.emitClose&&q.closed===!1)}function p(n){var c;return!!(n&&((c=n[M])!==null&&c!==void 0?c:n.readableDidRead||n.readableAborted))}function f(n){var c,y,q,a,o,m,j,R,w,E;return!!(n&&((c=(y=(q=(a=(o=(m=n[u])!==null&&m!==void 0?m:n.readableErrored)!==null&&o!==void 0?o:n.writableErrored)!==null&&a!==void 0?a:(j=n._readableState)===null||j===void 0?void 0:j.errorEmitted)!==null&&q!==void 0?q:(R=n._writableState)===null||R===void 0?void 0:R.errorEmitted)!==null&&y!==void 0?y:(w=n._readableState)===null||w===void 0?void 0:w.errored)!==null&&c!==void 0?c:(E=n._writableState)===null||E===void 0?void 0:E.errored))}k.exports={kDestroyed:b,isDisturbed:p,kIsDisturbed:M,isErrored:f,kIsErrored:u,isReadable:U,kIsReadable:h,isClosed:i,isDestroyed:d,isDuplexNodeStream:v,isFinished:W,isIterable:x,isReadableNodeStream:r,isReadableEnded:Z,isReadableFinished:$,isReadableErrored:K,isNodeStream:S,isWritable:s,isWritableNodeStream:L,isWritableEnded:N,isWritableFinished:O,isWritableErrored:g,isServerRequest:Y,isServerResponse:F,willEmitClose:l}}),t2=b1((V,k)=>{var _=(E2(),U2(z2)),{AbortError:X,codes:T}=V2(),{ERR_INVALID_ARG_TYPE:b,ERR_STREAM_PREMATURE_CLOSE:u}=T,{kEmptyObject:h,once:M}=R2(),{validateAbortSignal:r,validateFunction:L,validateObject:v}=C3(),{Promise:S}=L2(),{isClosed:x,isReadable:d,isReadableNodeStream:N,isReadableFinished:O,isReadableErrored:Z,isWritable:$,isWritableNodeStream:U,isWritableFinished:s,isWritableErrored:W,isNodeStream:g,willEmitClose:K}=D2();function i(l){return l.setHeader&&typeof l.abort=="function"}var J=()=>{};function F(l,p,f){var n,c;arguments.length===2?(f=p,p=h):p==null?p=h:v(p,"options"),L(f,"callback"),r(p.signal,"options.signal"),f=M(f);let y=(n=p.readable)!==null&&n!==void 0?n:N(l),q=(c=p.writable)!==null&&c!==void 0?c:U(l);if(!g(l))throw new b("stream","Stream",l);let{_writableState:a,_readableState:o}=l,m=()=>{l.writable||w()},j=K(l)&&N(l)===y&&U(l)===q,R=s(l,!1),w=()=>{R=!0,l.destroyed&&(j=!1),!(j&&(!l.readable||y))&&(!y||E)&&f.call(l)},E=O(l,!1),B=()=>{E=!0,l.destroyed&&(j=!1),!(j&&(!l.writable||q))&&(!q||R)&&f.call(l)},e=(n1)=>{f.call(l,n1)},Q=x(l),I=()=>{Q=!0;let n1=W(l)||Z(l);if(n1&&typeof n1!="boolean")return f.call(l,n1);if(y&&!E&&N(l,!0)&&!O(l,!1))return f.call(l,new u);if(q&&!R&&!s(l,!1))return f.call(l,new u);f.call(l)},A=()=>{l.req.on("finish",w)};i(l)?(l.on("complete",w),j||l.on("abort",I),l.req?A():l.on("request",A)):q&&!a&&(l.on("end",m),l.on("close",m)),!j&&typeof l.aborted=="boolean"&&l.on("aborted",I),l.on("end",B),l.on("finish",w),p.error!==!1&&l.on("error",e),l.on("close",I),Q?_.nextTick(I):a!=null&&a.errorEmitted||o!=null&&o.errorEmitted?j||_.nextTick(I):(!y&&(!j||d(l))&&(R||$(l)===!1)||!q&&(!j||$(l))&&(E||d(l)===!1)||o&&l.req&&l.aborted)&&_.nextTick(I);let h1=()=>{f=J,l.removeListener("aborted",I),l.removeListener("complete",w),l.removeListener("abort",I),l.removeListener("request",A),l.req&&l.req.removeListener("finish",w),l.removeListener("end",m),l.removeListener("close",m),l.removeListener("finish",w),l.removeListener("end",B),l.removeListener("error",e),l.removeListener("close",I)};if(p.signal&&!Q){let n1=()=>{let c1=f;h1(),c1.call(l,new X(void 0,{cause:p.signal.reason}))};if(p.signal.aborted)_.nextTick(n1);else{let c1=f;f=M((...G)=>{p.signal.removeEventListener("abort",n1),c1.apply(l,G)}),p.signal.addEventListener("abort",n1)}}return h1}function Y(l,p){return new S((f,n)=>{F(l,p,(c)=>{c?n(c):f()})})}k.exports=F,k.exports.finished=Y}),h8=b1((V,k)=>{var _=globalThis.AbortController||s6().AbortController,{codes:{ERR_INVALID_ARG_TYPE:X,ERR_MISSING_ARGS:T,ERR_OUT_OF_RANGE:b},AbortError:u}=V2(),{validateAbortSignal:h,validateInteger:M,validateObject:r}=C3(),L=L2().Symbol("kWeak"),{finished:v}=t2(),{ArrayPrototypePush:S,MathFloor:x,Number:d,NumberIsNaN:N,Promise:O,PromiseReject:Z,PromisePrototypeThen:$,Symbol:U}=L2(),s=U("kEmpty"),W=U("kEof");function g(o,m){if(typeof o!="function")throw new X("fn",["Function","AsyncFunction"],o);m!=null&&r(m,"options"),m?.signal!=null&&h(m.signal,"options.signal");let j=1;return m?.concurrency!=null&&(j=x(m.concurrency)),M(j,"concurrency",1),async function*(){var R,w;let E=new _,B=this,e=[],Q=E.signal,I={signal:Q},A=()=>E.abort();m!=null&&(R=m.signal)!==null&&R!==void 0&&R.aborted&&A(),m==null||(w=m.signal)===null||w===void 0||w.addEventListener("abort",A);let h1,n1,c1=!1;function G(){c1=!0}async function P(){try{for await(let u1 of B){var D;if(c1)return;if(Q.aborted)throw new u;try{u1=o(u1,I)}catch(o1){u1=Z(o1)}u1!==s&&(typeof((D=u1)===null||D===void 0?void 0:D.catch)=="function"&&u1.catch(G),e.push(u1),h1&&(h1(),h1=null),!c1&&e.length&&e.length>=j&&await new O((o1)=>{n1=o1}))}e.push(W)}catch(u1){let o1=Z(u1);$(o1,void 0,G),e.push(o1)}finally{var p1;c1=!0,h1&&(h1(),h1=null),m==null||(p1=m.signal)===null||p1===void 0||p1.removeEventListener("abort",A)}}P();try{for(;;){for(;e.length>0;){let D=await e[0];if(D===W)return;if(Q.aborted)throw new u;D!==s&&(yield D),e.shift(),n1&&(n1(),n1=null)}await new O((D)=>{h1=D})}}finally{E.abort(),c1=!0,n1&&(n1(),n1=null)}}.call(this)}function K(o=void 0){return o!=null&&r(o,"options"),o?.signal!=null&&h(o.signal,"options.signal"),async function*(){let m=0;for await(let R of this){var j;if(o!=null&&(j=o.signal)!==null&&j!==void 0&&j.aborted)throw new u({cause:o.signal.reason});yield[m++,R]}}.call(this)}async function i(o,m=void 0){for await(let j of l.call(this,o,m))return!0;return!1}async function J(o,m=void 0){if(typeof o!="function")throw new X("fn",["Function","AsyncFunction"],o);return!await i.call(this,async(...j)=>!await o(...j),m)}async function F(o,m){for await(let j of l.call(this,o,m))return j}async function Y(o,m){if(typeof o!="function")throw new X("fn",["Function","AsyncFunction"],o);async function j(R,w){return await o(R,w),s}for await(let R of g.call(this,j,m));}function l(o,m){if(typeof o!="function")throw new X("fn",["Function","AsyncFunction"],o);async function j(R,w){return await o(R,w)?R:s}return g.call(this,j,m)}var p=class extends T{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function f(o,m,j){var R;if(typeof o!="function")throw new X("reducer",["Function","AsyncFunction"],o);j!=null&&r(j,"options"),j?.signal!=null&&h(j.signal,"options.signal");let w=arguments.length>1;if(j!=null&&(R=j.signal)!==null&&R!==void 0&&R.aborted){let I=new u(void 0,{cause:j.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(I)),I}let E=new _,B=E.signal;if(j!=null&&j.signal){let I={once:!0,[L]:this};j.signal.addEventListener("abort",()=>E.abort(),I)}let e=!1;try{for await(let I of this){var Q;if(e=!0,j!=null&&(Q=j.signal)!==null&&Q!==void 0&&Q.aborted)throw new u;w?m=await o(m,I,{signal:B}):(m=I,w=!0)}if(!e&&!w)throw new p}finally{E.abort()}return m}async function n(o){o!=null&&r(o,"options"),o?.signal!=null&&h(o.signal,"options.signal");let m=[];for await(let R of this){var j;if(o!=null&&(j=o.signal)!==null&&j!==void 0&&j.aborted)throw new u(void 0,{cause:o.signal.reason});S(m,R)}return m}function c(o,m){let j=g.call(this,o,m);return async function*(){for await(let R of j)yield*R}.call(this)}function y(o){if(o=d(o),N(o))return 0;if(o<0)throw new b("number",">= 0",o);return o}function q(o,m=void 0){return m!=null&&r(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),o=y(o),async function*(){var j;if(m!=null&&(j=m.signal)!==null&&j!==void 0&&j.aborted)throw new u;for await(let w of this){var R;if(m!=null&&(R=m.signal)!==null&&R!==void 0&&R.aborted)throw new u;o--<=0&&(yield w)}}.call(this)}function a(o,m=void 0){return m!=null&&r(m,"options"),m?.signal!=null&&h(m.signal,"options.signal"),o=y(o),async function*(){var j;if(m!=null&&(j=m.signal)!==null&&j!==void 0&&j.aborted)throw new u;for await(let w of this){var R;if(m!=null&&(R=m.signal)!==null&&R!==void 0&&R.aborted)throw new u;if(o-- >0)yield w;else return}}.call(this)}k.exports.streamReturningOperators={asIndexedPairs:K,drop:q,filter:l,flatMap:c,map:g,take:a},k.exports.promiseReturningOperators={every:J,forEach:Y,reduce:f,toArray:n,some:i,find:F}}),a3=b1((V,k)=>{var _=(E2(),U2(z2)),{aggregateTwoErrors:X,codes:{ERR_MULTIPLE_CALLBACK:T},AbortError:b}=V2(),{Symbol:u}=L2(),{kDestroyed:h,isDestroyed:M,isFinished:r,isServerRequest:L}=D2(),v=u("kDestroy"),S=u("kConstruct");function x(l,p,f){l&&(l.stack,p&&!p.errored&&(p.errored=l),f&&!f.errored&&(f.errored=l))}function d(l,p){let f=this._readableState,n=this._writableState,c=n||f;return n&&n.destroyed||f&&f.destroyed?(typeof p=="function"&&p(),this):(x(l,n,f),n&&(n.destroyed=!0),f&&(f.destroyed=!0),c.constructed?N(this,l,p):this.once(v,function(y){N(this,X(y,l),p)}),this)}function N(l,p,f){let n=!1;function c(y){if(n)return;n=!0;let{_readableState:q,_writableState:a}=l;x(y,a,q),a&&(a.closed=!0),q&&(q.closed=!0),typeof f=="function"&&f(y),y?_.nextTick(O,l,y):_.nextTick(Z,l)}try{l._destroy(p||null,c)}catch(y){c(y)}}function O(l,p){$(l,p),Z(l)}function Z(l){let{_readableState:p,_writableState:f}=l;f&&(f.closeEmitted=!0),p&&(p.closeEmitted=!0),(f&&f.emitClose||p&&p.emitClose)&&l.emit("close")}function $(l,p){let{_readableState:f,_writableState:n}=l;n&&n.errorEmitted||f&&f.errorEmitted||(n&&(n.errorEmitted=!0),f&&(f.errorEmitted=!0),l.emit("error",p))}function U(){let l=this._readableState,p=this._writableState;l&&(l.constructed=!0,l.closed=!1,l.closeEmitted=!1,l.destroyed=!1,l.errored=null,l.errorEmitted=!1,l.reading=!1,l.ended=l.readable===!1,l.endEmitted=l.readable===!1),p&&(p.constructed=!0,p.destroyed=!1,p.closed=!1,p.closeEmitted=!1,p.errored=null,p.errorEmitted=!1,p.finalCalled=!1,p.prefinished=!1,p.ended=p.writable===!1,p.ending=p.writable===!1,p.finished=p.writable===!1)}function s(l,p,f){let{_readableState:n,_writableState:c}=l;if(c&&c.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||c&&c.autoDestroy?l.destroy(p):p&&(p.stack,c&&!c.errored&&(c.errored=p),n&&!n.errored&&(n.errored=p),f?_.nextTick($,l,p):$(l,p))}function W(l,p){if(typeof l._construct!="function")return;let{_readableState:f,_writableState:n}=l;f&&(f.constructed=!1),n&&(n.constructed=!1),l.once(S,p),!(l.listenerCount(S)>1)&&_.nextTick(g,l)}function g(l){let p=!1;function f(n){if(p){s(l,n??new T);return}p=!0;let{_readableState:c,_writableState:y}=l,q=y||c;c&&(c.constructed=!0),y&&(y.constructed=!0),q.destroyed?l.emit(v,n):n?s(l,n,!0):_.nextTick(K,l)}try{l._construct(f)}catch(n){f(n)}}function K(l){l.emit(S)}function i(l){return l&&l.setHeader&&typeof l.abort=="function"}function J(l){l.emit("close")}function F(l,p){l.emit("error",p),_.nextTick(J,l)}function Y(l,p){!l||M(l)||(!p&&!r(l)&&(p=new b),L(l)?(l.socket=null,l.destroy(p)):i(l)?l.abort():i(l.req)?l.req.abort():typeof l.destroy=="function"?l.destroy(p):typeof l.close=="function"?l.close():p?_.nextTick(F,l,p):_.nextTick(J,l),l.destroyed||(l[h]=!0))}k.exports={construct:W,destroyer:Y,destroy:d,undestroy:U,errorOrDestroy:s}}),W6=b1((V,k)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:X}=L2(),{EventEmitter:T}=Y2();function b(h){T.call(this,h)}X(b.prototype,T.prototype),X(b,T),b.prototype.pipe=function(h,M){let r=this;function L(Z){h.writable&&h.write(Z)===!1&&r.pause&&r.pause()}r.on("data",L);function v(){r.readable&&r.resume&&r.resume()}h.on("drain",v),!h._isStdio&&(!M||M.end!==!1)&&(r.on("end",x),r.on("close",d));let S=!1;function x(){S||(S=!0,h.end())}function d(){S||(S=!0,typeof h.destroy=="function"&&h.destroy())}function N(Z){O(),T.listenerCount(this,"error")===0&&this.emit("error",Z)}u(r,"error",N),u(h,"error",N);function O(){r.removeListener("data",L),h.removeListener("drain",v),r.removeListener("end",x),r.removeListener("close",d),r.removeListener("error",N),h.removeListener("error",N),r.removeListener("end",O),r.removeListener("close",O),h.removeListener("close",O)}return r.on("end",O),r.on("close",O),h.on("close",O),h.emit("pipe",r),h};function u(h,M,r){if(typeof h.prependListener=="function")return h.prependListener(M,r);!h._events||!h._events[M]?h.on(M,r):_(h._events[M])?h._events[M].unshift(r):h._events[M]=[r,h._events[M]]}k.exports={Stream:b,prependListener:u}}),R6=b1((V,k)=>{var{AbortError:_,codes:X}=V2(),T=t2(),{ERR_INVALID_ARG_TYPE:b}=X,u=(M,r)=>{if(typeof M!="object"||!("aborted"in M))throw new b(r,"AbortSignal",M)};function h(M){return!!(M&&typeof M.pipe=="function")}k.exports.addAbortSignal=function(M,r){if(u(M,"signal"),!h(r))throw new b("stream","stream.Stream",r);return k.exports.addAbortSignalNoValidate(M,r)},k.exports.addAbortSignalNoValidate=function(M,r){if(typeof M!="object"||!("aborted"in M))return r;let L=()=>{r.destroy(new _(void 0,{cause:M.reason}))};return M.aborted?L():(M.addEventListener("abort",L),T(r,()=>M.removeEventListener("abort",L))),r}}),b8=b1((V,k)=>{var{StringPrototypeSlice:_,SymbolIterator:X,TypedArrayPrototypeSet:T,Uint8Array:b}=L2(),{Buffer:u}=q2(),{inspect:h}=R2();k.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(M){let r={data:M,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(M){let r={data:M,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let M=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,M}clear(){this.head=this.tail=null,this.length=0}join(M){if(this.length===0)return"";let r=this.head,L=""+r.data;for(;(r=r.next)!==null;)L+=M+r.data;return L}concat(M){if(this.length===0)return u.alloc(0);let r=u.allocUnsafe(M>>>0),L=this.head,v=0;for(;L;)T(r,L.data,v),v+=L.data.length,L=L.next;return r}consume(M,r){let L=this.head.data;if(M<L.length){let v=L.slice(0,M);return this.head.data=L.slice(M),v}return M===L.length?this.shift():r?this._getString(M):this._getBuffer(M)}first(){return this.head.data}*[X](){for(let M=this.head;M;M=M.next)yield M.data}_getString(M){let r="",L=this.head,v=0;do{let S=L.data;if(M>S.length)r+=S,M-=S.length;else{M===S.length?(r+=S,++v,L.next?this.head=L.next:this.head=this.tail=null):(r+=_(S,0,M),this.head=L,L.data=_(S,M));break}++v}while((L=L.next)!==null);return this.length-=v,r}_getBuffer(M){let r=u.allocUnsafe(M),L=M,v=this.head,S=0;do{let x=v.data;if(M>x.length)T(r,x,L-M),M-=x.length;else{M===x.length?(T(r,x,L-M),++S,v.next?this.head=v.next:this.head=this.tail=null):(T(r,new b(x.buffer,x.byteOffset,M),L-M),this.head=v,v.data=x.slice(M));break}++S}while((v=v.next)!==null);return this.length-=S,r}[Symbol.for("nodejs.util.inspect.custom")](M,r){return h(this,{...r,depth:0,customInspect:!1})}}}),z6=b1((V,k)=>{var{MathFloor:_,NumberIsInteger:X}=L2(),{ERR_INVALID_ARG_VALUE:T}=V2().codes;function b(M,r,L){return M.highWaterMark!=null?M.highWaterMark:r?M[L]:null}function u(M){return M?16:16384}function h(M,r,L,v){let S=b(r,v,L);if(S!=null){if(!X(S)||S<0){let x=v?`options.${L}`:"options.highWaterMark";throw new T(x,S)}return _(S)}return u(M.objectMode)}k.exports={getHighWaterMark:h,getDefaultHighWaterMark:u}}),Y0=b1((V,k)=>{var _=(E2(),U2(z2)),{PromisePrototypeThen:X,SymbolAsyncIterator:T,SymbolIterator:b}=L2(),{Buffer:u}=q2(),{ERR_INVALID_ARG_TYPE:h,ERR_STREAM_NULL_VALUES:M}=V2().codes;function r(L,v,S){let x;if(typeof v=="string"||v instanceof u)return new L({objectMode:!0,...S,read(){this.push(v),this.push(null)}});let d;if(v&&v[T])d=!0,x=v[T]();else if(v&&v[b])d=!1,x=v[b]();else throw new h("iterable",["Iterable"],v);let N=new L({objectMode:!0,highWaterMark:1,...S}),O=!1;N._read=function(){O||(O=!0,$())},N._destroy=function(U,s){X(Z(U),()=>_.nextTick(s,U),(W)=>_.nextTick(s,W||U))};async function Z(U){let s=U!=null,W=typeof x.throw=="function";if(s&&W){let{value:g,done:K}=await x.throw(U);if(await g,K)return}if(typeof x.return=="function"){let{value:g}=await x.return();await g}}async function $(){for(;;){try{let{value:U,done:s}=d?await x.next():x.next();if(s)N.push(null);else{let W=U&&typeof U.then=="function"?await U:U;if(W===null)throw O=!1,new M;if(N.push(W))continue;O=!1}}catch(U){N.destroy(U)}break}}return N}k.exports=r}),Q3=b1((V,k)=>{var _=(E2(),U2(z2)),{ArrayPrototypeIndexOf:X,NumberIsInteger:T,NumberIsNaN:b,NumberParseInt:u,ObjectDefineProperties:h,ObjectKeys:M,ObjectSetPrototypeOf:r,Promise:L,SafeSet:v,SymbolAsyncIterator:S,Symbol:x}=L2();k.exports=j,j.ReadableState=m;var{EventEmitter:d}=Y2(),{Stream:N,prependListener:O}=W6(),{Buffer:Z}=q2(),{addAbortSignal:$}=R6(),U=t2(),s=R2().debuglog("stream",(z)=>{s=z}),W=b8(),g=a3(),{getHighWaterMark:K,getDefaultHighWaterMark:i}=z6(),{aggregateTwoErrors:J,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:Y,ERR_OUT_OF_RANGE:l,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f}}=V2(),{validateObject:n}=C3(),c=x("kPaused"),{StringDecoder:y}=$6(),q=Y0();r(j.prototype,N.prototype),r(j,N);var a=()=>{},{errorOrDestroy:o}=g;function m(z,H,t){typeof t!="boolean"&&(t=H instanceof w2()),this.objectMode=!!(z&&z.objectMode),t&&(this.objectMode=this.objectMode||!!(z&&z.readableObjectMode)),this.highWaterMark=z?K(this,z,"readableHighWaterMark",t):i(!1),this.buffer=new W,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[c]=null,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,z&&z.encoding&&(this.decoder=new y(z.encoding),this.encoding=z.encoding)}function j(z){if(!(this instanceof j))return new j(z);let H=this instanceof w2();this._readableState=new m(z,this,H),z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.construct=="function"&&(this._construct=z.construct),z.signal&&!H&&$(z.signal,this)),N.call(this,z),g.construct(this,()=>{this._readableState.needReadable&&h1(this,this._readableState)})}j.prototype.destroy=g.destroy,j.prototype._undestroy=g.undestroy,j.prototype._destroy=function(z,H){H(z)},j.prototype[d.captureRejectionSymbol]=function(z){this.destroy(z)},j.prototype.push=function(z,H){return R(this,z,H,!1)},j.prototype.unshift=function(z,H){return R(this,z,H,!0)};function R(z,H,t,C){s("readableAddChunk",H);let l1=z._readableState,x1;if(l1.objectMode||(typeof H=="string"?(t=t||l1.defaultEncoding,l1.encoding!==t&&(C&&l1.encoding?H=Z.from(H,t).toString(l1.encoding):(H=Z.from(H,t),t=""))):H instanceof Z?t="":N._isUint8Array(H)?(H=N._uint8ArrayToBuffer(H),t=""):H!=null&&(x1=new F("chunk",["string","Buffer","Uint8Array"],H))),x1)o(z,x1);else if(H===null)l1.reading=!1,Q(z,l1);else if(l1.objectMode||H&&H.length>0)if(C)if(l1.endEmitted)o(z,new f);else{if(l1.destroyed||l1.errored)return!1;w(z,l1,H,!0)}else if(l1.ended)o(z,new p);else{if(l1.destroyed||l1.errored)return!1;l1.reading=!1,l1.decoder&&!t?(H=l1.decoder.write(H),l1.objectMode||H.length!==0?w(z,l1,H,!1):h1(z,l1)):w(z,l1,H,!1)}else C||(l1.reading=!1,h1(z,l1));return!l1.ended&&(l1.length<l1.highWaterMark||l1.length===0)}function w(z,H,t,C){H.flowing&&H.length===0&&!H.sync&&z.listenerCount("data")>0?(H.multiAwaitDrain?H.awaitDrainWriters.clear():H.awaitDrainWriters=null,H.dataEmitted=!0,z.emit("data",t)):(H.length+=H.objectMode?1:t.length,C?H.buffer.unshift(t):H.buffer.push(t),H.needReadable&&I(z)),h1(z,H)}j.prototype.isPaused=function(){let z=this._readableState;return z[c]===!0||z.flowing===!1},j.prototype.setEncoding=function(z){let H=new y(z);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;let t=this._readableState.buffer,C="";for(let l1 of t)C+=H.write(l1);return t.clear(),C!==""&&t.push(C),this._readableState.length=C.length,this};var E=1073741824;function B(z){if(z>E)throw new l("size","<= 1GiB",z);return z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++,z}function e(z,H){return z<=0||H.length===0&&H.ended?0:H.objectMode?1:b(z)?H.flowing&&H.length?H.buffer.first().length:H.length:z<=H.length?z:H.ended?H.length:0}j.prototype.read=function(z){s("read",z),z===void 0?z=NaN:T(z)||(z=u(z,10));let H=this._readableState,t=z;if(z>H.highWaterMark&&(H.highWaterMark=B(z)),z!==0&&(H.emittedReadable=!1),z===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return s("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?a1(this):I(this),null;if(z=e(z,H),z===0&&H.ended)return H.length===0&&a1(this),null;let C=H.needReadable;if(s("need readable",C),(H.length===0||H.length-z<H.highWaterMark)&&(C=!0,s("length less than watermark",C)),H.ended||H.reading||H.destroyed||H.errored||!H.constructed)C=!1,s("reading, ended or constructing",C);else if(C){s("do read"),H.reading=!0,H.sync=!0,H.length===0&&(H.needReadable=!0);try{this._read(H.highWaterMark)}catch(x1){o(this,x1)}H.sync=!1,H.reading||(z=e(t,H))}let l1;return z>0?l1=d1(z,H):l1=null,l1===null?(H.needReadable=H.length<=H.highWaterMark,z=0):(H.length-=z,H.multiAwaitDrain?H.awaitDrainWriters.clear():H.awaitDrainWriters=null),H.length===0&&(H.ended||(H.needReadable=!0),t!==z&&H.ended&&a1(this)),l1!==null&&!H.errorEmitted&&!H.closeEmitted&&(H.dataEmitted=!0,this.emit("data",l1)),l1};function Q(z,H){if(s("onEofChunk"),!H.ended){if(H.decoder){let t=H.decoder.end();t&&t.length&&(H.buffer.push(t),H.length+=H.objectMode?1:t.length)}H.ended=!0,H.sync?I(z):(H.needReadable=!1,H.emittedReadable=!0,A(z))}}function I(z){let H=z._readableState;s("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(s("emitReadable",H.flowing),H.emittedReadable=!0,_.nextTick(A,z))}function A(z){let H=z._readableState;s("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&!H.errored&&(H.length||H.ended)&&(z.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,u1(z)}function h1(z,H){!H.readingMore&&H.constructed&&(H.readingMore=!0,_.nextTick(n1,z,H))}function n1(z,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){let t=H.length;if(s("maybeReadMore read 0"),z.read(0),t===H.length)break}H.readingMore=!1}j.prototype._read=function(z){throw new Y("_read()")},j.prototype.pipe=function(z,H){let t=this,C=this._readableState;C.pipes.length===1&&(C.multiAwaitDrain||(C.multiAwaitDrain=!0,C.awaitDrainWriters=new v(C.awaitDrainWriters?[C.awaitDrainWriters]:[]))),C.pipes.push(z),s("pipe count=%d opts=%j",C.pipes.length,H);let l1=(!H||H.end!==!1)&&z!==_.stdout&&z!==_.stderr?f1:T1;C.endEmitted?_.nextTick(l1):t.once("end",l1),z.on("unpipe",x1);function x1(L1,I1){s("onunpipe"),L1===t&&I1&&I1.hasUnpiped===!1&&(I1.hasUnpiped=!0,_1())}function f1(){s("onend"),z.end()}let y1,i1=!1;function _1(){s("cleanup"),z.removeListener("close",O1),z.removeListener("finish",a2),y1&&z.removeListener("drain",y1),z.removeListener("error",q1),z.removeListener("unpipe",x1),t.removeListener("end",f1),t.removeListener("end",T1),t.removeListener("data",j1),i1=!0,y1&&C.awaitDrainWriters&&(!z._writableState||z._writableState.needDrain)&&y1()}function v1(){i1||(C.pipes.length===1&&C.pipes[0]===z?(s("false write response, pause",0),C.awaitDrainWriters=z,C.multiAwaitDrain=!1):C.pipes.length>1&&C.pipes.includes(z)&&(s("false write response, pause",C.awaitDrainWriters.size),C.awaitDrainWriters.add(z)),t.pause()),y1||(y1=c1(t,z),z.on("drain",y1))}t.on("data",j1);function j1(L1){s("ondata");let I1=z.write(L1);s("dest.write",I1),I1===!1&&v1()}function q1(L1){if(s("onerror",L1),T1(),z.removeListener("error",q1),z.listenerCount("error")===0){let I1=z._writableState||z._readableState;I1&&!I1.errorEmitted?o(z,L1):z.emit("error",L1)}}O(z,"error",q1);function O1(){z.removeListener("finish",a2),T1()}z.once("close",O1);function a2(){s("onfinish"),z.removeListener("close",O1),T1()}z.once("finish",a2);function T1(){s("unpipe"),t.unpipe(z)}return z.emit("pipe",t),z.writableNeedDrain===!0?C.flowing&&v1():C.flowing||(s("pipe resume"),t.resume()),z};function c1(z,H){return function(){let t=z._readableState;t.awaitDrainWriters===H?(s("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(s("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(H)),(!t.awaitDrainWriters||t.awaitDrainWriters.size===0)&&z.listenerCount("data")&&z.resume()}}j.prototype.unpipe=function(z){let H=this._readableState,t={hasUnpiped:!1};if(H.pipes.length===0)return this;if(!z){let l1=H.pipes;H.pipes=[],this.pause();for(let x1=0;x1<l1.length;x1++)l1[x1].emit("unpipe",this,{hasUnpiped:!1});return this}let C=X(H.pipes,z);return C===-1?this:(H.pipes.splice(C,1),H.pipes.length===0&&this.pause(),z.emit("unpipe",this,t),this)},j.prototype.on=function(z,H){let t=N.prototype.on.call(this,z,H),C=this._readableState;return z==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):z==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,s("on readable",C.length,C.reading),C.length?I(this):C.reading||_.nextTick(P,this)),t},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(z,H){let t=N.prototype.removeListener.call(this,z,H);return z==="readable"&&_.nextTick(G,this),t},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(z){let H=N.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&_.nextTick(G,this),H};function G(z){let H=z._readableState;H.readableListening=z.listenerCount("readable")>0,H.resumeScheduled&&H[c]===!1?H.flowing=!0:z.listenerCount("data")>0?z.resume():H.readableListening||(H.flowing=null)}function P(z){s("readable nexttick read 0"),z.read(0)}j.prototype.resume=function(){let z=this._readableState;return z.flowing||(s("resume"),z.flowing=!z.readableListening,D(this,z)),z[c]=!1,this};function D(z,H){H.resumeScheduled||(H.resumeScheduled=!0,_.nextTick(p1,z,H))}function p1(z,H){s("resume",H.reading),H.reading||z.read(0),H.resumeScheduled=!1,z.emit("resume"),u1(z),H.flowing&&!H.reading&&z.read(0)}j.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[c]=!0,this};function u1(z){let H=z._readableState;for(s("flow",H.flowing);H.flowing&&z.read()!==null;);}j.prototype.wrap=function(z){let H=!1;z.on("data",(C)=>{!this.push(C)&&z.pause&&(H=!0,z.pause())}),z.on("end",()=>{this.push(null)}),z.on("error",(C)=>{o(this,C)}),z.on("close",()=>{this.destroy()}),z.on("destroy",()=>{this.destroy()}),this._read=()=>{H&&z.resume&&(H=!1,z.resume())};let t=M(z);for(let C=1;C<t.length;C++){let l1=t[C];this[l1]===void 0&&typeof z[l1]=="function"&&(this[l1]=z[l1].bind(z))}return this},j.prototype[S]=function(){return o1(this)},j.prototype.iterator=function(z){return z!==void 0&&n(z,"options"),o1(this,z)};function o1(z,H){typeof z.read!="function"&&(z=j.wrap(z,{objectMode:!0}));let t=V1(z,H);return t.stream=z,t}async function*V1(z,H){let t=a;function C(f1){this===z?(t(),t=a):t=f1}z.on("readable",C);let l1,x1=U(z,{writable:!1},(f1)=>{l1=f1?J(l1,f1):null,t(),t=a});try{for(;;){let f1=z.destroyed?null:z.read();if(f1!==null)yield f1;else{if(l1)throw l1;if(l1===null)return;await new L(C)}}}catch(f1){throw l1=J(l1,f1),l1}finally{(l1||H?.destroyOnReturn!==!1)&&(l1===void 0||z._readableState.autoDestroy)?g.destroyer(z,null):(z.off("readable",C),x1())}}h(j.prototype,{readable:{__proto__:null,get(){let z=this._readableState;return!!z&&z.readable!==!1&&!z.destroyed&&!z.errorEmitted&&!z.endEmitted},set(z){this._readableState&&(this._readableState.readable=!!z)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(z){!this._readableState||(this._readableState.destroyed=z)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),h(m.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[c]!==!1},set(z){this[c]=!!z}}}),j._fromList=d1;function d1(z,H){if(H.length===0)return null;let t;return H.objectMode?t=H.buffer.shift():!z||z>=H.length?(H.decoder?t=H.buffer.join(""):H.buffer.length===1?t=H.buffer.first():t=H.buffer.concat(H.length),H.buffer.clear()):t=H.buffer.consume(z,H.decoder),t}function a1(z){let H=z._readableState;s("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,_.nextTick(z1,H,z))}function z1(z,H){if(s("endReadableNT",z.endEmitted,z.length),!z.errored&&!z.closeEmitted&&!z.endEmitted&&z.length===0){if(z.endEmitted=!0,H.emit("end"),H.writable&&H.allowHalfOpen===!1)_.nextTick(m1,H);else if(z.autoDestroy){let t=H._writableState;(!t||t.autoDestroy&&(t.finished||t.writable===!1))&&H.destroy()}}}function m1(z){z.writable&&!z.writableEnded&&!z.destroyed&&z.end()}j.from=function(z,H){return q(j,z,H)};var r1;function w1(){return r1===void 0&&(r1={}),r1}j.fromWeb=function(z,H){return w1().newStreamReadableFromReadableStream(z,H)},j.toWeb=function(z,H){return w1().newReadableStreamFromStreamReadable(z,H)},j.wrap=function(z,H){var t,C;return new j({objectMode:(t=(C=z.readableObjectMode)!==null&&C!==void 0?C:z.objectMode)!==null&&t!==void 0?t:!0,...H,destroy(l1,x1){g.destroyer(z,l1),x1(l1)}}).wrap(z)}}),E0=b1((V,k)=>{var _=(E2(),U2(z2)),{ArrayPrototypeSlice:X,Error:T,FunctionPrototypeSymbolHasInstance:b,ObjectDefineProperty:u,ObjectDefineProperties:h,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:r,Symbol:L,SymbolHasInstance:v}=L2();k.exports=y,y.WritableState=n;var{EventEmitter:S}=Y2(),x=W6().Stream,{Buffer:d}=q2(),N=a3(),{addAbortSignal:O}=R6(),{getHighWaterMark:Z,getDefaultHighWaterMark:$}=z6(),{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:s,ERR_MULTIPLE_CALLBACK:W,ERR_STREAM_CANNOT_PIPE:g,ERR_STREAM_DESTROYED:K,ERR_STREAM_ALREADY_FINISHED:i,ERR_STREAM_NULL_VALUES:J,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:Y}=V2().codes,{errorOrDestroy:l}=N;M(y.prototype,x.prototype),M(y,x);function p(){}var f=L("kOnFinished");function n(P,D,p1){typeof p1!="boolean"&&(p1=D instanceof w2()),this.objectMode=!!(P&&P.objectMode),p1&&(this.objectMode=this.objectMode||!!(P&&P.writableObjectMode)),this.highWaterMark=P?Z(this,P,"writableHighWaterMark",p1):$(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let u1=!!(P&&P.decodeStrings===!1);this.decodeStrings=!u1,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,c(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!P||P.emitClose!==!1,this.autoDestroy=!P||P.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function c(P){P.buffered=[],P.bufferedIndex=0,P.allBuffers=!0,P.allNoop=!0}n.prototype.getBuffer=function(){return X(this.buffered,this.bufferedIndex)},u(n.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function y(P){let D=this instanceof w2();if(!D&&!b(y,this))return new y(P);this._writableState=new n(P,this,D),P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final),typeof P.construct=="function"&&(this._construct=P.construct),P.signal&&O(P.signal,this)),x.call(this,P),N.construct(this,()=>{let p1=this._writableState;p1.writing||B(this,p1),A(this,p1)})}u(y,v,{__proto__:null,value:function(P){return b(this,P)?!0:this!==y?!1:P&&P._writableState instanceof n}}),y.prototype.pipe=function(){l(this,new g)};function q(P,D,p1,u1){let o1=P._writableState;if(typeof p1=="function")u1=p1,p1=o1.defaultEncoding;else{if(!p1)p1=o1.defaultEncoding;else if(p1!=="buffer"&&!d.isEncoding(p1))throw new Y(p1);typeof u1!="function"&&(u1=p)}if(D===null)throw new J;if(!o1.objectMode)if(typeof D=="string")o1.decodeStrings!==!1&&(D=d.from(D,p1),p1="buffer");else if(D instanceof d)p1="buffer";else if(x._isUint8Array(D))D=x._uint8ArrayToBuffer(D),p1="buffer";else throw new U("chunk",["string","Buffer","Uint8Array"],D);let V1;return o1.ending?V1=new F:o1.destroyed&&(V1=new K("write")),V1?(_.nextTick(u1,V1),l(P,V1,!0),V1):(o1.pendingcb++,a(P,o1,D,p1,u1))}y.prototype.write=function(P,D,p1){return q(this,P,D,p1)===!0},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){let P=this._writableState;P.corked&&(P.corked--,P.writing||B(this,P))},y.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=r(P)),!d.isEncoding(P))throw new Y(P);return this._writableState.defaultEncoding=P,this};function a(P,D,p1,u1,o1){let V1=D.objectMode?1:p1.length;D.length+=V1;let d1=D.length<D.highWaterMark;return d1||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:p1,encoding:u1,callback:o1}),D.allBuffers&&u1!=="buffer"&&(D.allBuffers=!1),D.allNoop&&o1!==p&&(D.allNoop=!1)):(D.writelen=V1,D.writecb=o1,D.writing=!0,D.sync=!0,P._write(p1,u1,D.onwrite),D.sync=!1),d1&&!D.errored&&!D.destroyed}function o(P,D,p1,u1,o1,V1,d1){D.writelen=u1,D.writecb=d1,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new K("write")):p1?P._writev(o1,D.onwrite):P._write(o1,V1,D.onwrite),D.sync=!1}function m(P,D,p1,u1){--D.pendingcb,u1(p1),E(D),l(P,p1)}function j(P,D){let p1=P._writableState,u1=p1.sync,o1=p1.writecb;if(typeof o1!="function"){l(P,new W);return}p1.writing=!1,p1.writecb=null,p1.length-=p1.writelen,p1.writelen=0,D?(D.stack,p1.errored||(p1.errored=D),P._readableState&&!P._readableState.errored&&(P._readableState.errored=D),u1?_.nextTick(m,P,p1,D,o1):m(P,p1,D,o1)):(p1.buffered.length>p1.bufferedIndex&&B(P,p1),u1?p1.afterWriteTickInfo!==null&&p1.afterWriteTickInfo.cb===o1?p1.afterWriteTickInfo.count++:(p1.afterWriteTickInfo={count:1,cb:o1,stream:P,state:p1},_.nextTick(R,p1.afterWriteTickInfo)):w(P,p1,1,o1))}function R({stream:P,state:D,count:p1,cb:u1}){return D.afterWriteTickInfo=null,w(P,D,p1,u1)}function w(P,D,p1,u1){for(!D.ending&&!P.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,P.emit("drain"));p1-- >0;)D.pendingcb--,u1();D.destroyed&&E(D),A(P,D)}function E(P){if(P.writing)return;for(let o1=P.bufferedIndex;o1<P.buffered.length;++o1){var D;let{chunk:V1,callback:d1}=P.buffered[o1],a1=P.objectMode?1:V1.length;P.length-=a1,d1((D=P.errored)!==null&&D!==void 0?D:new K("write"))}let p1=P[f].splice(0);for(let o1=0;o1<p1.length;o1++){var u1;p1[o1]((u1=P.errored)!==null&&u1!==void 0?u1:new K("end"))}c(P)}function B(P,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:p1,bufferedIndex:u1,objectMode:o1}=D,V1=p1.length-u1;if(!V1)return;let d1=u1;if(D.bufferProcessing=!0,V1>1&&P._writev){D.pendingcb-=V1-1;let a1=D.allNoop?p:(m1)=>{for(let r1=d1;r1<p1.length;++r1)p1[r1].callback(m1)},z1=D.allNoop&&d1===0?p1:X(p1,d1);z1.allBuffers=D.allBuffers,o(P,D,!0,D.length,z1,"",a1),c(D)}else{do{let{chunk:a1,encoding:z1,callback:m1}=p1[d1];p1[d1++]=null;let r1=o1?1:a1.length;o(P,D,!1,r1,a1,z1,m1)}while(d1<p1.length&&!D.writing);d1===p1.length?c(D):d1>256?(p1.splice(0,d1),D.bufferedIndex=0):D.bufferedIndex=d1}D.bufferProcessing=!1}y.prototype._write=function(P,D,p1){if(this._writev)this._writev([{chunk:P,encoding:D}],p1);else throw new s("_write()")},y.prototype._writev=null,y.prototype.end=function(P,D,p1){let u1=this._writableState;typeof P=="function"?(p1=P,P=null,D=null):typeof D=="function"&&(p1=D,D=null);let o1;if(P!=null){let V1=q(this,P,D);V1 instanceof T&&(o1=V1)}return u1.corked&&(u1.corked=1,this.uncork()),o1||(!u1.errored&&!u1.ending?(u1.ending=!0,A(this,u1,!0),u1.ended=!0):u1.finished?o1=new i("end"):u1.destroyed&&(o1=new K("end"))),typeof p1=="function"&&(o1||u1.finished?_.nextTick(p1,o1):u1[f].push(p1)),this};function e(P){return P.ending&&!P.destroyed&&P.constructed&&P.length===0&&!P.errored&&P.buffered.length===0&&!P.finished&&!P.writing&&!P.errorEmitted&&!P.closeEmitted}function Q(P,D){let p1=!1;function u1(o1){if(p1){l(P,o1??W());return}if(p1=!0,D.pendingcb--,o1){let V1=D[f].splice(0);for(let d1=0;d1<V1.length;d1++)V1[d1](o1);l(P,o1,D.sync)}else e(D)&&(D.prefinished=!0,P.emit("prefinish"),D.pendingcb++,_.nextTick(h1,P,D))}D.sync=!0,D.pendingcb++;try{P._final(u1)}catch(o1){u1(o1)}D.sync=!1}function I(P,D){!D.prefinished&&!D.finalCalled&&(typeof P._final=="function"&&!D.destroyed?(D.finalCalled=!0,Q(P,D)):(D.prefinished=!0,P.emit("prefinish")))}function A(P,D,p1){e(D)&&(I(P,D),D.pendingcb===0&&(p1?(D.pendingcb++,_.nextTick((u1,o1)=>{e(o1)?h1(u1,o1):o1.pendingcb--},P,D)):e(D)&&(D.pendingcb++,h1(P,D))))}function h1(P,D){D.pendingcb--,D.finished=!0;let p1=D[f].splice(0);for(let u1=0;u1<p1.length;u1++)p1[u1]();if(P.emit("finish"),D.autoDestroy){let u1=P._readableState;(!u1||u1.autoDestroy&&(u1.endEmitted||u1.readable===!1))&&P.destroy()}}h(y.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(P){this._writableState&&(this._writableState.destroyed=P)}},writable:{__proto__:null,get(){let P=this._writableState;return!!P&&P.writable!==!1&&!P.destroyed&&!P.errored&&!P.ending&&!P.ended},set(P){this._writableState&&(this._writableState.writable=!!P)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let P=this._writableState;return P?!P.destroyed&&!P.ending&&P.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var n1=N.destroy;y.prototype.destroy=function(P,D){let p1=this._writableState;return!p1.destroyed&&(p1.bufferedIndex<p1.buffered.length||p1[f].length)&&_.nextTick(E,p1),n1.call(this,P,D),this},y.prototype._undestroy=N.undestroy,y.prototype._destroy=function(P,D){D(P)},y.prototype[S.captureRejectionSymbol]=function(P){this.destroy(P)};var c1;function G(){return c1===void 0&&(c1={}),c1}y.fromWeb=function(P,D){return G().newStreamWritableFromWritableStream(P,D)},y.toWeb=function(P){return G().newWritableStreamFromStreamWritable(P)}}),m8=b1((V,k)=>{var _=(E2(),U2(z2)),X=q2(),{isReadable:T,isWritable:b,isIterable:u,isNodeStream:h,isReadableNodeStream:M,isWritableNodeStream:r,isDuplexNodeStream:L}=D2(),v=t2(),{AbortError:S,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:d}}=V2(),{destroyer:N}=a3(),O=w2(),Z=Q3(),{createDeferredPromise:$}=R2(),U=Y0(),s=globalThis.Blob||X.Blob,W=typeof s<"u"?function(Y){return Y instanceof s}:function(Y){return!1},g=globalThis.AbortController||s6().AbortController,{FunctionPrototypeCall:K}=L2(),i=class extends O{constructor(Y){super(Y),Y?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Y?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};k.exports=function Y(l,p){if(L(l))return l;if(M(l))return F({readable:l});if(r(l))return F({writable:l});if(h(l))return F({writable:!1,readable:!1});if(typeof l=="function"){let{value:n,write:c,final:y,destroy:q}=J(l);if(u(n))return U(i,n,{objectMode:!0,write:c,final:y,destroy:q});let a=n?.then;if(typeof a=="function"){let o,m=K(a,n,(j)=>{if(j!=null)throw new d("nully","body",j)},(j)=>{N(o,j)});return o=new i({objectMode:!0,readable:!1,write:c,final(j){y(async()=>{try{await m,_.nextTick(j,null)}catch(R){_.nextTick(j,R)}})},destroy:q})}throw new d("Iterable, AsyncIterable or AsyncFunction",p,n)}if(W(l))return Y(l.arrayBuffer());if(u(l))return U(i,l,{objectMode:!0,writable:!1});if(typeof l?.writable=="object"||typeof l?.readable=="object"){let n=l!=null&&l.readable?M(l?.readable)?l?.readable:Y(l.readable):void 0,c=l!=null&&l.writable?r(l?.writable)?l?.writable:Y(l.writable):void 0;return F({readable:n,writable:c})}let f=l?.then;if(typeof f=="function"){let n;return K(f,l,(c)=>{c!=null&&n.push(c),n.push(null)},(c)=>{N(n,c)}),n=new i({objectMode:!0,writable:!1,read(){}})}throw new x(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],l)};function J(Y){let{promise:l,resolve:p}=$(),f=new g,n=f.signal;return{value:Y(async function*(){for(;;){let c=l;l=null;let{chunk:y,done:q,cb:a}=await c;if(_.nextTick(a),q)return;if(n.aborted)throw new S(void 0,{cause:n.reason});({promise:l,resolve:p}=$()),yield y}}(),{signal:n}),write(c,y,q){let a=p;p=null,a({chunk:c,done:!1,cb:q})},final(c){let y=p;p=null,y({done:!0,cb:c})},destroy(c,y){f.abort(),y(c)}}}function F(Y){let l=Y.readable&&typeof Y.readable.read!="function"?Z.wrap(Y.readable):Y.readable,p=Y.writable,f=!!T(l),n=!!b(p),c,y,q,a,o;function m(j){let R=a;a=null,R?R(j):j?o.destroy(j):!f&&!n&&o.destroy()}return o=new i({readableObjectMode:!!(l!=null&&l.readableObjectMode),writableObjectMode:!!(p!=null&&p.writableObjectMode),readable:f,writable:n}),n&&(v(p,(j)=>{n=!1,j&&N(l,j),m(j)}),o._write=function(j,R,w){p.write(j,R)?w():c=w},o._final=function(j){p.end(),y=j},p.on("drain",function(){if(c){let j=c;c=null,j()}}),p.on("finish",function(){if(y){let j=y;y=null,j()}})),f&&(v(l,(j)=>{f=!1,j&&N(l,j),m(j)}),l.on("readable",function(){if(q){let j=q;q=null,j()}}),l.on("end",function(){o.push(null)}),o._read=function(){for(;;){let j=l.read();if(j===null){q=o._read;return}if(!o.push(j))return}}),o._destroy=function(j,R){!j&&a!==null&&(j=new S),q=null,c=null,y=null,a===null?R(j):(a=R,N(p,j),N(l,j))},o}}),w2=b1((V,k)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:X,ObjectKeys:T,ObjectSetPrototypeOf:b}=L2();k.exports=M;var u=Q3(),h=E0();b(M.prototype,u.prototype),b(M,u);{let S=T(h.prototype);for(let x=0;x<S.length;x++){let d=S[x];M.prototype[d]||(M.prototype[d]=h.prototype[d])}}function M(S){if(!(this instanceof M))return new M(S);u.call(this,S),h.call(this,S),S?(this.allowHalfOpen=S.allowHalfOpen!==!1,S.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),S.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}_(M.prototype,{writable:{__proto__:null,...X(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...X(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...X(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...X(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...X(h.prototype,"writableLength")},writableFinished:{__proto__:null,...X(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...X(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...X(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...X(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(S){this._readableState&&this._writableState&&(this._readableState.destroyed=S,this._writableState.destroyed=S)}}});var r;function L(){return r===void 0&&(r={}),r}M.fromWeb=function(S,x){return L().newStreamDuplexFromReadableWritablePair(S,x)},M.toWeb=function(S){return L().newReadableWritablePairFromDuplex(S)};var v;M.from=function(S){return v||(v=m8()),v(S,"body")}}),D0=b1((V,k)=>{var{ObjectSetPrototypeOf:_,Symbol:X}=L2();k.exports=M;var{ERR_METHOD_NOT_IMPLEMENTED:T}=V2().codes,b=w2(),{getHighWaterMark:u}=z6();_(M.prototype,b.prototype),_(M,b);var h=X("kCallback");function M(v){if(!(this instanceof M))return new M(v);let S=v?u(this,v,"readableHighWaterMark",!0):null;S===0&&(v={...v,highWaterMark:null,readableHighWaterMark:S,writableHighWaterMark:v.writableHighWaterMark||0}),b.call(this,v),this._readableState.sync=!1,this[h]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",L)}function r(v){typeof this._flush=="function"&&!this.destroyed?this._flush((S,x)=>{if(S){v?v(S):this.destroy(S);return}x!=null&&this.push(x),this.push(null),v&&v()}):(this.push(null),v&&v())}function L(){this._final!==r&&r.call(this)}M.prototype._final=r,M.prototype._transform=function(v,S,x){throw new T("_transform()")},M.prototype._write=function(v,S,x){let d=this._readableState,N=this._writableState,O=d.length;this._transform(v,S,(Z,$)=>{if(Z){x(Z);return}$!=null&&this.push($),N.ended||O===d.length||d.length<d.highWaterMark?x():this[h]=x})},M.prototype._read=function(){if(this[h]){let v=this[h];this[h]=null,v()}}}),t0=b1((V,k)=>{var{ObjectSetPrototypeOf:_}=L2();k.exports=T;var X=D0();_(T.prototype,X.prototype),_(T,X);function T(b){if(!(this instanceof T))return new T(b);X.call(this,b)}T.prototype._transform=function(b,u,h){h(null,b)}}),w6=b1((V,k)=>{var _=(E2(),U2(z2)),{ArrayIsArray:X,Promise:T,SymbolAsyncIterator:b}=L2(),u=t2(),{once:h}=R2(),M=a3(),r=w2(),{aggregateTwoErrors:L,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:S,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:d,ERR_STREAM_PREMATURE_CLOSE:N},AbortError:O}=V2(),{validateFunction:Z,validateAbortSignal:$}=C3(),{isIterable:U,isReadable:s,isReadableNodeStream:W,isNodeStream:g}=D2(),K=globalThis.AbortController||s6().AbortController,i,J;function F(q,a,o){let m=!1;q.on("close",()=>{m=!0});let j=u(q,{readable:a,writable:o},(R)=>{m=!R});return{destroy:(R)=>{m||(m=!0,M.destroyer(q,R||new d("pipe")))},cleanup:j}}function Y(q){return Z(q[q.length-1],"streams[stream.length - 1]"),q.pop()}function l(q){if(U(q))return q;if(W(q))return p(q);throw new v("val",["Readable","Iterable","AsyncIterable"],q)}async function*p(q){J||(J=Q3()),yield*J.prototype[b].call(q)}async function f(q,a,o,{end:m}){let j,R=null,w=(e)=>{if(e&&(j=e),R){let Q=R;R=null,Q()}},E=()=>new T((e,Q)=>{j?Q(j):R=()=>{j?Q(j):e()}});a.on("drain",w);let B=u(a,{readable:!1},w);try{a.writableNeedDrain&&await E();for await(let e of q)a.write(e)||await E();m&&a.end(),await E(),o()}catch(e){o(j!==e?L(j,e):e)}finally{B(),a.off("drain",w)}}function n(...q){return c(q,h(Y(q)))}function c(q,a,o){if(q.length===1&&X(q[0])&&(q=q[0]),q.length<2)throw new x("streams");let m=new K,j=m.signal,R=o?.signal,w=[];$(R,"options.signal");function E(){h1(new O)}R?.addEventListener("abort",E);let B,e,Q=[],I=0;function A(P){h1(P,--I===0)}function h1(P,D){if(P&&(!B||B.code==="ERR_STREAM_PREMATURE_CLOSE")&&(B=P),!(!B&&!D)){for(;Q.length;)Q.shift()(B);R?.removeEventListener("abort",E),m.abort(),D&&(B||w.forEach((p1)=>p1()),_.nextTick(a,B,e))}}let n1;for(let P=0;P<q.length;P++){let D=q[P],p1=P<q.length-1,u1=P>0,o1=p1||o?.end!==!1,V1=P===q.length-1;if(g(D)){let d1=function(a1){a1&&a1.name!=="AbortError"&&a1.code!=="ERR_STREAM_PREMATURE_CLOSE"&&A(a1)};var c1=d1;if(o1){let{destroy:a1,cleanup:z1}=F(D,p1,u1);Q.push(a1),s(D)&&V1&&w.push(z1)}D.on("error",d1),s(D)&&V1&&w.push(()=>{D.removeListener("error",d1)})}if(P===0)if(typeof D=="function"){if(n1=D({signal:j}),!U(n1))throw new S("Iterable, AsyncIterable or Stream","source",n1)}else U(D)||W(D)?n1=D:n1=r.from(D);else if(typeof D=="function")if(n1=l(n1),n1=D(n1,{signal:j}),p1){if(!U(n1,!0))throw new S("AsyncIterable",`transform[${P-1}]`,n1)}else{var G;i||(i=t0());let d1=new i({objectMode:!0}),a1=(G=n1)===null||G===void 0?void 0:G.then;if(typeof a1=="function")I++,a1.call(n1,(r1)=>{e=r1,r1!=null&&d1.write(r1),o1&&d1.end(),_.nextTick(A)},(r1)=>{d1.destroy(r1),_.nextTick(A,r1)});else if(U(n1,!0))I++,f(n1,d1,A,{end:o1});else throw new S("AsyncIterable or Promise","destination",n1);n1=d1;let{destroy:z1,cleanup:m1}=F(n1,!1,!0);Q.push(z1),V1&&w.push(m1)}else if(g(D)){if(W(n1)){I+=2;let d1=y(n1,D,A,{end:o1});s(D)&&V1&&w.push(d1)}else if(U(n1))I++,f(n1,D,A,{end:o1});else throw new v("val",["Readable","Iterable","AsyncIterable"],n1);n1=D}else n1=r.from(D)}return(j!=null&&j.aborted||R!=null&&R.aborted)&&_.nextTick(E),n1}function y(q,a,o,{end:m}){let j=!1;return a.on("close",()=>{j||o(new N)}),q.pipe(a,{end:m}),m?q.once("end",()=>{j=!0,a.end()}):o(),u(q,{readable:!0,writable:!1},(R)=>{let w=q._readableState;R&&R.code==="ERR_STREAM_PREMATURE_CLOSE"&&w&&w.ended&&!w.errored&&!w.errorEmitted?q.once("end",o).once("error",o):o(R)}),u(a,{readable:!1,writable:!0},o)}k.exports={pipelineImpl:c,pipeline:n}}),y8=b1((V,k)=>{var{pipeline:_}=w6(),X=w2(),{destroyer:T}=a3(),{isNodeStream:b,isReadable:u,isWritable:h}=D2(),{AbortError:M,codes:{ERR_INVALID_ARG_VALUE:r,ERR_MISSING_ARGS:L}}=V2();k.exports=function(...v){if(v.length===0)throw new L("streams");if(v.length===1)return X.from(v[0]);let S=[...v];if(typeof v[0]=="function"&&(v[0]=X.from(v[0])),typeof v[v.length-1]=="function"){let K=v.length-1;v[K]=X.from(v[K])}for(let K=0;K<v.length;++K)if(b(v[K])){if(K<v.length-1&&!u(v[K]))throw new r(`streams[${K}]`,S[K],"must be readable");if(K>0&&!h(v[K]))throw new r(`streams[${K}]`,S[K],"must be writable")}let x,d,N,O,Z;function $(K){let i=O;O=null,i?i(K):K?Z.destroy(K):!g&&!W&&Z.destroy()}let U=v[0],s=_(v,$),W=!!h(U),g=!!u(s);return Z=new X({writableObjectMode:!!(U!=null&&U.writableObjectMode),readableObjectMode:!!(s!=null&&s.writableObjectMode),writable:W,readable:g}),W&&(Z._write=function(K,i,J){U.write(K,i)?J():x=J},Z._final=function(K){U.end(),d=K},U.on("drain",function(){if(x){let K=x;x=null,K()}}),s.on("finish",function(){if(d){let K=d;d=null,K()}})),g&&(s.on("readable",function(){if(N){let K=N;N=null,K()}}),s.on("end",function(){Z.push(null)}),Z._read=function(){for(;;){let K=s.read();if(K===null){N=Z._read;return}if(!Z.push(K))return}}),Z._destroy=function(K,i){!K&&O!==null&&(K=new M),N=null,x=null,d=null,O===null?i(K):(O=i,T(s,K))},Z}}),C0=b1((V,k)=>{var{ArrayPrototypePop:_,Promise:X}=L2(),{isIterable:T,isNodeStream:b}=D2(),{pipelineImpl:u}=w6(),{finished:h}=t2();function M(...r){return new X((L,v)=>{let S,x,d=r[r.length-1];if(d&&typeof d=="object"&&!b(d)&&!T(d)){let N=_(r);S=N.signal,x=N.end}u(r,(N,O)=>{N?v(N):L(O)},{signal:S,end:x})})}k.exports={finished:h,pipeline:M}}),v8=b1((V,k)=>{var{Buffer:_}=q2(),{ObjectDefineProperty:X,ObjectKeys:T,ReflectApply:b}=L2(),{promisify:{custom:u}}=R2(),{streamReturningOperators:h,promiseReturningOperators:M}=h8(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:r}}=V2(),L=y8(),{pipeline:v}=w6(),{destroyer:S}=a3(),x=t2(),d=C0(),N=D2(),O=k.exports=W6().Stream;O.isDisturbed=N.isDisturbed,O.isErrored=N.isErrored,O.isReadable=N.isReadable,O.Readable=Q3();for(let U of T(h)){let s=function(...g){if(new.target)throw r();return O.Readable.from(b(W,this,g))};Z=s;let W=h[U];X(s,"name",{__proto__:null,value:W.name}),X(s,"length",{__proto__:null,value:W.length}),X(O.Readable.prototype,U,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var Z;for(let U of T(M)){let s=function(...g){if(new.target)throw r();return b(W,this,g)};Z=s;let W=M[U];X(s,"name",{__proto__:null,value:W.name}),X(s,"length",{__proto__:null,value:W.length}),X(O.Readable.prototype,U,{__proto__:null,value:s,enumerable:!1,configurable:!0,writable:!0})}var Z;O.Writable=E0(),O.Duplex=w2(),O.Transform=D0(),O.PassThrough=t0(),O.pipeline=v;var{addAbortSignal:$}=R6();O.addAbortSignal=$,O.finished=x,O.destroy=S,O.compose=L,X(O,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return d}}),X(v,u,{__proto__:null,enumerable:!0,get(){return d.pipeline}}),X(x,u,{__proto__:null,enumerable:!0,get(){return d.finished}}),O.Stream=O,O._isUint8Array=function(U){return U instanceof Uint8Array},O._uint8ArrayToBuffer=function(U){return _.from(U.buffer,U.byteOffset,U.byteLength)}}),Q0=b1((V,k)=>{var _=v8(),X=C0(),T=_.Readable.destroy;k.exports=_.Readable,k.exports._uint8ArrayToBuffer=_._uint8ArrayToBuffer,k.exports._isUint8Array=_._isUint8Array,k.exports.isDisturbed=_.isDisturbed,k.exports.isErrored=_.isErrored,k.exports.isReadable=_.isReadable,k.exports.Readable=_.Readable,k.exports.Writable=_.Writable,k.exports.Duplex=_.Duplex,k.exports.Transform=_.Transform,k.exports.PassThrough=_.PassThrough,k.exports.addAbortSignal=_.addAbortSignal,k.exports.finished=_.finished,k.exports.destroy=_.destroy,k.exports.destroy=T,k.exports.pipeline=_.pipeline,k.exports.compose=_.compose,Object.defineProperty(_,"promises",{configurable:!0,enumerable:!0,get(){return X}}),k.exports.Stream=_.Stream,k.exports.default=k.exports}),j6={},Z6(j6,{default:()=>_8}),x8=s0(()=>{W0(j6,p3(Q0())),_8=p3(Q0())}),F2=b1((V,k)=>{var _=F1().Buffer,X=(x8(),U2(j6)).Transform,T=$6().StringDecoder,b=H1();function u(h){X.call(this),this.hashMode=typeof h=="string",this.hashMode?this[h]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}b(u,X),u.prototype.update=function(h,M,r){typeof h=="string"&&(h=_.from(h,M));var L=this._update(h);return this.hashMode?this:(r&&(L=this._toString(L,r)),L)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(h,M,r){var L;try{this.hashMode?this._update(h):this.push(this._update(h))}catch(v){L=v}finally{r(L)}},u.prototype._flush=function(h){var M;try{this.push(this.__final())}catch(r){M=r}h(M)},u.prototype._finalOrDigest=function(h){var M=this.__final()||_.alloc(0);return h&&(M=this._toString(M,h,!0)),M},u.prototype._toString=function(h,M,r){if(this._decoder||(this._decoder=new T(M),this._encoding=M),this._encoding!==M)throw new Error("can't switch encodings");var L=this._decoder.write(h);return r&&(L+=this._decoder.end()),L},k.exports=u}),O3=b1((V,k)=>{var _=H1(),X=U6(),T=X6(),b=g6(),u=F2();function h(M){u.call(this,"digest"),this._hash=M}_(h,u),h.prototype._update=function(M){this._hash.update(M)},h.prototype._final=function(){return this._hash.digest()},k.exports=function(M){return M=M.toLowerCase(),M==="md5"?new X:M==="rmd160"||M==="ripemd160"?new T:new h(b(M))}}),L8=b1((V,k)=>{var _=H1(),X=F1().Buffer,T=F2(),b=X.alloc(128),u=64;function h(M,r){T.call(this,"digest"),typeof r=="string"&&(r=X.from(r)),this._alg=M,this._key=r,r.length>u?r=M(r):r.length<u&&(r=X.concat([r,b],u));for(var L=this._ipad=X.allocUnsafe(u),v=this._opad=X.allocUnsafe(u),S=0;S<u;S++)L[S]=r[S]^54,v[S]=r[S]^92;this._hash=[L]}_(h,T),h.prototype._update=function(M){this._hash.push(M)},h.prototype._final=function(){var M=this._alg(X.concat(this._hash));return this._alg(X.concat([this._opad,M]))},k.exports=h}),B0=b1((V,k)=>{var _=U6();k.exports=function(X){return new _().update(X).digest()}}),e0=b1((V,k)=>{var _=H1(),X=L8(),T=F2(),b=F1().Buffer,u=B0(),h=X6(),M=g6(),r=b.alloc(128);function L(v,S){T.call(this,"digest"),typeof S=="string"&&(S=b.from(S));var x=v==="sha512"||v==="sha384"?128:64;if(this._alg=v,this._key=S,S.length>x){var d=v==="rmd160"?new h:M(v);S=d.update(S).digest()}else S.length<x&&(S=b.concat([S,r],x));for(var N=this._ipad=b.allocUnsafe(x),O=this._opad=b.allocUnsafe(x),Z=0;Z<x;Z++)N[Z]=S[Z]^54,O[Z]=S[Z]^92;this._hash=v==="rmd160"?new h:M(v),this._hash.update(N)}_(L,T),L.prototype._update=function(v){this._hash.update(v)},L.prototype._final=function(){var v=this._hash.digest(),S=this._alg==="rmd160"?new h:M(this._alg);return S.update(this._opad).update(v).digest()},k.exports=function(v,S){return v=v.toLowerCase(),v==="rmd160"||v==="ripemd160"?new L("rmd160",S):v==="md5"?new X(u,S):new L(v,S)}}),A0=b1((V,k)=>{k.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}}),T8=b1((V,k)=>{k.exports=A0()}),l5=b1((V,k)=>{var _=Math.pow(2,30)-1;k.exports=function(X,T){if(typeof X!="number")throw new TypeError("Iterations not a number");if(X<0)throw new TypeError("Bad iterations");if(typeof T!="number")throw new TypeError("Key length not a number");if(T<0||T>_||T!==T)throw new TypeError("Bad key length")}}),o5=b1((V,k)=>{var _;global.process&&global.process.browser?_="utf-8":global.process&&global.process.version?(X=parseInt(process.version.split(".")[0].slice(1),10),_=X>=6?"utf-8":"binary"):_="utf-8";var X;k.exports=_}),n5=b1((V,k)=>{var _=F1().Buffer;k.exports=function(X,T,b){if(_.isBuffer(X))return X;if(typeof X=="string")return _.from(X,T);if(ArrayBuffer.isView(X))return _.from(X.buffer);throw new TypeError(b+" must be a string, a Buffer, a typed array or a DataView")}}),p5=b1((V,k)=>{var _=B0(),X=X6(),T=g6(),b=F1().Buffer,u=l5(),h=o5(),M=n5(),r=b.alloc(128),L={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function v(d,N,O){var Z=S(d),$=d==="sha512"||d==="sha384"?128:64;N.length>$?N=Z(N):N.length<$&&(N=b.concat([N,r],$));for(var U=b.allocUnsafe($+L[d]),s=b.allocUnsafe($+L[d]),W=0;W<$;W++)U[W]=N[W]^54,s[W]=N[W]^92;var g=b.allocUnsafe($+O+4);U.copy(g,0,0,$),this.ipad1=g,this.ipad2=U,this.opad=s,this.alg=d,this.blocksize=$,this.hash=Z,this.size=L[d]}v.prototype.run=function(d,N){d.copy(N,this.blocksize);var O=this.hash(N);return O.copy(this.opad,this.blocksize),this.hash(this.opad)};function S(d){function N(Z){return T(d).update(Z).digest()}function O(Z){return new X().update(Z).digest()}return d==="rmd160"||d==="ripemd160"?O:d==="md5"?_:N}function x(d,N,O,Z,$){u(O,Z),d=M(d,h,"Password"),N=M(N,h,"Salt"),$=$||"sha1";var U=new v($,d,N.length),s=b.allocUnsafe(Z),W=b.allocUnsafe(N.length+4);N.copy(W,0,0,N.length);for(var g=0,K=L[$],i=Math.ceil(Z/K),J=1;J<=i;J++){W.writeUInt32BE(J,N.length);for(var F=U.run(W,U.ipad1),Y=F,l=1;l<O;l++){Y=U.run(Y,U.ipad2);for(var p=0;p<K;p++)F[p]^=Y[p]}F.copy(s,g),g+=K}return s}k.exports=x}),q8=b1((V,k)=>{var _=F1().Buffer,X=l5(),T=o5(),b=p5(),u=n5(),h,M=global.crypto&&global.crypto.subtle,r={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},L=[];function v(O){if(global.process&&!global.process.browser||!M||!M.importKey||!M.deriveBits)return Promise.resolve(!1);if(L[O]!==void 0)return L[O];h=h||_.alloc(8);var Z=d(h,h,10,128,O).then(function(){return!0}).catch(function(){return!1});return L[O]=Z,Z}var S;function x(){return S||(global.process&&global.process.nextTick?S=global.process.nextTick:global.queueMicrotask?S=global.queueMicrotask:global.setImmediate?S=global.setImmediate:S=global.setTimeout,S)}function d(O,Z,$,U,s){return M.importKey("raw",O,{name:"PBKDF2"},!1,["deriveBits"]).then(function(W){return M.deriveBits({name:"PBKDF2",salt:Z,iterations:$,hash:{name:s}},W,U<<3)}).then(function(W){return _.from(W)})}function N(O,Z){O.then(function($){x()(function(){Z(null,$)})},function($){x()(function(){Z($)})})}k.exports=function(O,Z,$,U,s,W){typeof s=="function"&&(W=s,s=void 0),s=s||"sha1";var g=r[s.toLowerCase()];if(!g||typeof global.Promise!="function"){x()(function(){var K;try{K=b(O,Z,$,U,s)}catch(i){return W(i)}W(null,K)});return}if(X($,U),O=u(O,T,"Password"),Z=u(Z,T,"Salt"),typeof W!="function")throw new Error("No callback provided to pbkdf2");N(v(g).then(function(K){return K?d(O,Z,$,U,g):b(O,Z,$,U,s)}),W)}}),u5=b1((V)=>{V.pbkdf2=q8(),V.pbkdf2Sync=p5()}),c5=b1((V)=>{V.readUInt32BE=function(T,b){var u=T[0+b]<<24|T[1+b]<<16|T[2+b]<<8|T[3+b];return u>>>0},V.writeUInt32BE=function(T,b,u){T[0+u]=b>>>24,T[1+u]=b>>>16&255,T[2+u]=b>>>8&255,T[3+u]=b&255},V.ip=function(T,b,u,h){for(var M=0,r=0,L=6;L>=0;L-=2){for(var v=0;v<=24;v+=8)M<<=1,M|=b>>>v+L&1;for(var v=0;v<=24;v+=8)M<<=1,M|=T>>>v+L&1}for(var L=6;L>=0;L-=2){for(var v=1;v<=25;v+=8)r<<=1,r|=b>>>v+L&1;for(var v=1;v<=25;v+=8)r<<=1,r|=T>>>v+L&1}u[h+0]=M>>>0,u[h+1]=r>>>0},V.rip=function(T,b,u,h){for(var M=0,r=0,L=0;L<4;L++)for(var v=24;v>=0;v-=8)M<<=1,M|=b>>>v+L&1,M<<=1,M|=T>>>v+L&1;for(var L=4;L<8;L++)for(var v=24;v>=0;v-=8)r<<=1,r|=b>>>v+L&1,r<<=1,r|=T>>>v+L&1;u[h+0]=M>>>0,u[h+1]=r>>>0},V.pc1=function(T,b,u,h){for(var M=0,r=0,L=7;L>=5;L--){for(var v=0;v<=24;v+=8)M<<=1,M|=b>>v+L&1;for(var v=0;v<=24;v+=8)M<<=1,M|=T>>v+L&1}for(var v=0;v<=24;v+=8)M<<=1,M|=b>>v+L&1;for(var L=1;L<=3;L++){for(var v=0;v<=24;v+=8)r<<=1,r|=b>>v+L&1;for(var v=0;v<=24;v+=8)r<<=1,r|=T>>v+L&1}for(var v=0;v<=24;v+=8)r<<=1,r|=T>>v+L&1;u[h+0]=M>>>0,u[h+1]=r>>>0},V.r28shl=function(T,b){return T<<b&268435455|T>>>28-b};var k=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];V.pc2=function(T,b,u,h){for(var M=0,r=0,L=k.length>>>1,v=0;v<L;v++)M<<=1,M|=T>>>k[v]&1;for(var v=L;v<k.length;v++)r<<=1,r|=b>>>k[v]&1;u[h+0]=M>>>0,u[h+1]=r>>>0},V.expand=function(T,b,u){var h=0,M=0;h=(T&1)<<5|T>>>27;for(var r=23;r>=15;r-=4)h<<=6,h|=T>>>r&63;for(var r=11;r>=3;r-=4)M|=T>>>r&63,M<<=6;M|=(T&31)<<1|T>>>31,b[u+0]=h>>>0,b[u+1]=M>>>0};var _=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];V.substitute=function(T,b){for(var u=0,h=0;h<4;h++){var M=T>>>18-h*6&63,r=_[h*64+M];u<<=4,u|=r}for(var h=0;h<4;h++){var M=b>>>18-h*6&63,r=_[256+h*64+M];u<<=4,u|=r}return u>>>0};var X=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];V.permute=function(T){for(var b=0,u=0;u<X.length;u++)b<<=1,b|=T>>>X[u]&1;return b>>>0},V.padSplit=function(T,b,u){for(var h=T.toString(2);h.length<b;)h="0"+h;for(var M=[],r=0;r<b;r+=u)M.push(h.slice(r,r+u));return M.join(" ")}}),S2=b1((V,k)=>{k.exports=_;function _(X,T){if(!X)throw new Error(T||"Assertion failed")}_.equal=function(X,T,b){if(X!=T)throw new Error(b||"Assertion failed: "+X+" != "+T)}}),K6=b1((V,k)=>{var _=S2();function X(T){this.options=T,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}k.exports=X,X.prototype._init=function(){},X.prototype.update=function(T){return T.length===0?[]:this.type==="decrypt"?this._updateDecrypt(T):this._updateEncrypt(T)},X.prototype._buffer=function(T,b){for(var u=Math.min(this.buffer.length-this.bufferOff,T.length-b),h=0;h<u;h++)this.buffer[this.bufferOff+h]=T[b+h];return this.bufferOff+=u,u},X.prototype._flushBuffer=function(T,b){return this._update(this.buffer,0,T,b),this.bufferOff=0,this.blockSize},X.prototype._updateEncrypt=function(T){var b=0,u=0,h=(this.bufferOff+T.length)/this.blockSize|0,M=new Array(h*this.blockSize);this.bufferOff!==0&&(b+=this._buffer(T,b),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(M,u)));for(var r=T.length-(T.length-b)%this.blockSize;b<r;b+=this.blockSize)this._update(T,b,M,u),u+=this.blockSize;for(;b<T.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=T[b];return M},X.prototype._updateDecrypt=function(T){for(var b=0,u=0,h=Math.ceil((this.bufferOff+T.length)/this.blockSize)-1,M=new Array(h*this.blockSize);h>0;h--)b+=this._buffer(T,b),u+=this._flushBuffer(M,u);return b+=this._buffer(T,b),M},X.prototype.final=function(T){var b;T&&(b=this.update(T));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),b?b.concat(u):u},X.prototype._pad=function(T,b){if(b===0)return!1;for(;b<T.length;)T[b++]=0;return!0},X.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var T=new Array(this.blockSize);return this._update(this.buffer,0,T,0),T},X.prototype._unpad=function(T){return T},X.prototype._finalDecrypt=function(){_.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var T=new Array(this.blockSize);return this._flushBuffer(T,0),this._unpad(T)}}),f5=b1((V,k)=>{var _=S2(),X=H1(),T=c5(),b=K6();function u(){this.tmp=new Array(2),this.keys=null}function h(r){b.call(this,r);var L=new u;this._desState=L,this.deriveKeys(L,r.key)}X(h,b),k.exports=h,h.create=function(r){return new h(r)};var M=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(r,L){r.keys=new Array(32),_.equal(L.length,this.blockSize,"Invalid key length");var v=T.readUInt32BE(L,0),S=T.readUInt32BE(L,4);T.pc1(v,S,r.tmp,0),v=r.tmp[0],S=r.tmp[1];for(var x=0;x<r.keys.length;x+=2){var d=M[x>>>1];v=T.r28shl(v,d),S=T.r28shl(S,d),T.pc2(v,S,r.keys,x)}},h.prototype._update=function(r,L,v,S){var x=this._desState,d=T.readUInt32BE(r,L),N=T.readUInt32BE(r,L+4);T.ip(d,N,x.tmp,0),d=x.tmp[0],N=x.tmp[1],this.type==="encrypt"?this._encrypt(x,d,N,x.tmp,0):this._decrypt(x,d,N,x.tmp,0),d=x.tmp[0],N=x.tmp[1],T.writeUInt32BE(v,d,S),T.writeUInt32BE(v,N,S+4)},h.prototype._pad=function(r,L){for(var v=r.length-L,S=L;S<r.length;S++)r[S]=v;return!0},h.prototype._unpad=function(r){for(var L=r[r.length-1],v=r.length-L;v<r.length;v++)_.equal(r[v],L);return r.slice(0,r.length-L)},h.prototype._encrypt=function(r,L,v,S,x){for(var d=L,N=v,O=0;O<r.keys.length;O+=2){var Z=r.keys[O],$=r.keys[O+1];T.expand(N,r.tmp,0),Z^=r.tmp[0],$^=r.tmp[1];var U=T.substitute(Z,$),s=T.permute(U),W=N;N=(d^s)>>>0,d=W}T.rip(N,d,S,x)},h.prototype._decrypt=function(r,L,v,S,x){for(var d=v,N=L,O=r.keys.length-2;O>=0;O-=2){var Z=r.keys[O],$=r.keys[O+1];T.expand(d,r.tmp,0),Z^=r.tmp[0],$^=r.tmp[1];var U=T.substitute(Z,$),s=T.permute(U),W=d;d=(N^s)>>>0,N=W}T.rip(d,N,S,x)}}),O8=b1((V)=>{var k=S2(),_=H1(),X={};function T(u){k.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=u[h]}function b(u){function h(v){u.call(this,v),this._cbcInit()}_(h,u);for(var M=Object.keys(X),r=0;r<M.length;r++){var L=M[r];h.prototype[L]=X[L]}return h.create=function(v){return new h(v)},h}V.instantiate=b,X._cbcInit=function(){var u=new T(this.options.iv);this._cbcState=u},X._update=function(u,h,M,r){var L=this._cbcState,v=this.constructor.super_.prototype,S=L.iv;if(this.type==="encrypt"){for(var x=0;x<this.blockSize;x++)S[x]^=u[h+x];v._update.call(this,S,0,M,r);for(var x=0;x<this.blockSize;x++)S[x]=M[r+x]}else{v._update.call(this,u,h,M,r);for(var x=0;x<this.blockSize;x++)M[r+x]^=S[x];for(var x=0;x<this.blockSize;x++)S[x]=u[h+x]}}}),V8=b1((V,k)=>{var _=S2(),X=H1(),T=K6(),b=f5();function u(M,r){_.equal(r.length,24,"Invalid key length");var L=r.slice(0,8),v=r.slice(8,16),S=r.slice(16,24);M==="encrypt"?this.ciphers=[b.create({type:"encrypt",key:L}),b.create({type:"decrypt",key:v}),b.create({type:"encrypt",key:S})]:this.ciphers=[b.create({type:"decrypt",key:S}),b.create({type:"encrypt",key:v}),b.create({type:"decrypt",key:L})]}function h(M){T.call(this,M);var r=new u(this.type,this.options.key);this._edeState=r}X(h,T),k.exports=h,h.create=function(M){return new h(M)},h.prototype._update=function(M,r,L,v){var S=this._edeState;S.ciphers[0]._update(M,r,L,v),S.ciphers[1]._update(L,v,L,v),S.ciphers[2]._update(L,v,L,v)},h.prototype._pad=b.prototype._pad,h.prototype._unpad=b.prototype._unpad}),N8=b1((V)=>{V.utils=c5(),V.Cipher=K6(),V.DES=f5(),V.CBC=O8(),V.EDE=V8()}),M8=b1((V,k)=>{var _=F2(),X=N8(),T=H1(),b=F1().Buffer,u={"des-ede3-cbc":X.CBC.instantiate(X.EDE),"des-ede3":X.EDE,"des-ede-cbc":X.CBC.instantiate(X.EDE),"des-ede":X.EDE,"des-cbc":X.CBC.instantiate(X.DES),"des-ecb":X.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],k.exports=h,T(h,_);function h(M){_.call(this);var r=M.mode.toLowerCase(),L=u[r],v;M.decrypt?v="decrypt":v="encrypt";var S=M.key;b.isBuffer(S)||(S=b.from(S)),(r==="des-ede"||r==="des-ede-cbc")&&(S=b.concat([S,S.slice(0,8)]));var x=M.iv;b.isBuffer(x)||(x=b.from(x)),this._des=L.create({key:S,iv:x,type:v})}h.prototype._update=function(M){return b.from(this._des.update(M))},h.prototype._final=function(){return b.from(this._des.final())}}),S8=b1((V)=>{V.encrypt=function(k,_){return k._cipher.encryptBlock(_)},V.decrypt=function(k,_){return k._cipher.decryptBlock(_)}}),V3=b1((V,k)=>{k.exports=function(_,X){for(var T=Math.min(_.length,X.length),b=new Buffer(T),u=0;u<T;++u)b[u]=_[u]^X[u];return b}}),Z8=b1((V)=>{var k=V3();V.encrypt=function(_,X){var T=k(X,_._prev);return _._prev=_._cipher.encryptBlock(T),_._prev},V.decrypt=function(_,X){var T=_._prev;_._prev=X;var b=_._cipher.decryptBlock(X);return k(b,T)}}),$8=b1((V)=>{var k=F1().Buffer,_=V3();function X(T,b,u){var h=b.length,M=_(b,T._cache);return T._cache=T._cache.slice(h),T._prev=k.concat([T._prev,u?b:M]),M}V.encrypt=function(T,b,u){for(var h=k.allocUnsafe(0),M;b.length;)if(T._cache.length===0&&(T._cache=T._cipher.encryptBlock(T._prev),T._prev=k.allocUnsafe(0)),T._cache.length<=b.length)M=T._cache.length,h=k.concat([h,X(T,b.slice(0,M),u)]),b=b.slice(M);else{h=k.concat([h,X(T,b,u)]);break}return h}}),k8=b1((V)=>{var k=F1().Buffer;function _(X,T,b){var u=X._cipher.encryptBlock(X._prev),h=u[0]^T;return X._prev=k.concat([X._prev.slice(1),k.from([b?T:h])]),h}V.encrypt=function(X,T,b){for(var u=T.length,h=k.allocUnsafe(u),M=-1;++M<u;)h[M]=_(X,T[M],b);return h}}),U8=b1((V)=>{var k=F1().Buffer;function _(T,b,u){for(var h,M=-1,r=8,L=0,v,S;++M<r;)h=T._cipher.encryptBlock(T._prev),v=b&1<<7-M?128:0,S=h[0]^v,L+=(S&128)>>M%8,T._prev=X(T._prev,u?v:S);return L}function X(T,b){var u=T.length,h=-1,M=k.allocUnsafe(T.length);for(T=k.concat([T,k.from([b])]);++h<u;)M[h]=T[h]<<1|T[h+1]>>7;return M}V.encrypt=function(T,b,u){for(var h=b.length,M=k.allocUnsafe(h),r=-1;++r<h;)M[r]=_(T,b[r],u);return M}}),X8=b1((V)=>{var k=V3();function _(X){return X._prev=X._cipher.encryptBlock(X._prev),X._prev}V.encrypt=function(X,T){for(;X._cache.length<T.length;)X._cache=Buffer.concat([X._cache,_(X)]);var b=X._cache.slice(0,T.length);return X._cache=X._cache.slice(T.length),k(T,b)}}),d5=b1((V,k)=>{function _(X){for(var T=X.length,b;T--;)if(b=X.readUInt8(T),b===255)X.writeUInt8(0,T);else{b++,X.writeUInt8(b,T);break}}k.exports=_}),a5=b1((V)=>{var k=V3(),_=F1().Buffer,X=d5();function T(u){var h=u._cipher.encryptBlockRaw(u._prev);return X(u._prev),h}var b=16;V.encrypt=function(u,h){var M=Math.ceil(h.length/b),r=u._cache.length;u._cache=_.concat([u._cache,_.allocUnsafe(M*b)]);for(var L=0;L<M;L++){var v=T(u),S=r+L*b;u._cache.writeUInt32BE(v[0],S+0),u._cache.writeUInt32BE(v[1],S+4),u._cache.writeUInt32BE(v[2],S+8),u._cache.writeUInt32BE(v[3],S+12)}var x=u._cache.slice(0,h.length);return u._cache=u._cache.slice(h.length),k(h,x)}}),r5=b1((V,k)=>{k.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}}),P6=b1((V,k)=>{var _={ECB:S8(),CBC:Z8(),CFB:$8(),CFB8:k8(),CFB1:U8(),OFB:X8(),CTR:a5(),GCM:a5()},X=r5();for(T in X)X[T].module=_[X[T].mode];var T;k.exports=X}),B3=b1((V,k)=>{var _=F1().Buffer;function X(r){_.isBuffer(r)||(r=_.from(r));for(var L=r.length/4|0,v=new Array(L),S=0;S<L;S++)v[S]=r.readUInt32BE(S*4);return v}function T(r){for(var L=0;L<r.length;r++)r[L]=0}function b(r,L,v,S,x){for(var d=v[0],N=v[1],O=v[2],Z=v[3],$=r[0]^L[0],U=r[1]^L[1],s=r[2]^L[2],W=r[3]^L[3],g,K,i,J,F=4,Y=1;Y<x;Y++)g=d[$>>>24]^N[U>>>16&255]^O[s>>>8&255]^Z[W&255]^L[F++],K=d[U>>>24]^N[s>>>16&255]^O[W>>>8&255]^Z[$&255]^L[F++],i=d[s>>>24]^N[W>>>16&255]^O[$>>>8&255]^Z[U&255]^L[F++],J=d[W>>>24]^N[$>>>16&255]^O[U>>>8&255]^Z[s&255]^L[F++],$=g,U=K,s=i,W=J;return g=(S[$>>>24]<<24|S[U>>>16&255]<<16|S[s>>>8&255]<<8|S[W&255])^L[F++],K=(S[U>>>24]<<24|S[s>>>16&255]<<16|S[W>>>8&255]<<8|S[$&255])^L[F++],i=(S[s>>>24]<<24|S[W>>>16&255]<<16|S[$>>>8&255]<<8|S[U&255])^L[F++],J=(S[W>>>24]<<24|S[$>>>16&255]<<16|S[U>>>8&255]<<8|S[s&255])^L[F++],g=g>>>0,K=K>>>0,i=i>>>0,J=J>>>0,[g,K,i,J]}var u=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var r=new Array(256),L=0;L<256;L++)L<128?r[L]=L<<1:r[L]=L<<1^283;for(var v=[],S=[],x=[[],[],[],[]],d=[[],[],[],[]],N=0,O=0,Z=0;Z<256;++Z){var $=O^O<<1^O<<2^O<<3^O<<4;$=$>>>8^$&255^99,v[N]=$,S[$]=N;var U=r[N],s=r[U],W=r[s],g=r[$]*257^$*16843008;x[0][N]=g<<24|g>>>8,x[1][N]=g<<16|g>>>16,x[2][N]=g<<8|g>>>24,x[3][N]=g,g=W*16843009^s*65537^U*257^N*16843008,d[0][$]=g<<24|g>>>8,d[1][$]=g<<16|g>>>16,d[2][$]=g<<8|g>>>24,d[3][$]=g,N===0?N=O=1:(N=U^r[r[r[W^U]]],O^=r[r[O]])}return{SBOX:v,INV_SBOX:S,SUB_MIX:x,INV_SUB_MIX:d}}();function M(r){this._key=X(r),this._reset()}M.blockSize=16,M.keySize=32,M.prototype.blockSize=M.blockSize,M.prototype.keySize=M.keySize,M.prototype._reset=function(){for(var r=this._key,L=r.length,v=L+6,S=(v+1)*4,x=[],d=0;d<L;d++)x[d]=r[d];for(d=L;d<S;d++){var N=x[d-1];d%L===0?(N=N<<8|N>>>24,N=h.SBOX[N>>>24]<<24|h.SBOX[N>>>16&255]<<16|h.SBOX[N>>>8&255]<<8|h.SBOX[N&255],N^=u[d/L|0]<<24):L>6&&d%L===4&&(N=h.SBOX[N>>>24]<<24|h.SBOX[N>>>16&255]<<16|h.SBOX[N>>>8&255]<<8|h.SBOX[N&255]),x[d]=x[d-L]^N}for(var O=[],Z=0;Z<S;Z++){var $=S-Z,U=x[$-(Z%4?0:4)];Z<4||$<=4?O[Z]=U:O[Z]=h.INV_SUB_MIX[0][h.SBOX[U>>>24]]^h.INV_SUB_MIX[1][h.SBOX[U>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[U>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[U&255]]}this._nRounds=v,this._keySchedule=x,this._invKeySchedule=O},M.prototype.encryptBlockRaw=function(r){return r=X(r),b(r,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},M.prototype.encryptBlock=function(r){var L=this.encryptBlockRaw(r),v=_.allocUnsafe(16);return v.writeUInt32BE(L[0],0),v.writeUInt32BE(L[1],4),v.writeUInt32BE(L[2],8),v.writeUInt32BE(L[3],12),v},M.prototype.decryptBlock=function(r){r=X(r);var L=r[1];r[1]=r[3],r[3]=L;var v=b(r,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),S=_.allocUnsafe(16);return S.writeUInt32BE(v[0],0),S.writeUInt32BE(v[3],4),S.writeUInt32BE(v[2],8),S.writeUInt32BE(v[1],12),S},M.prototype.scrub=function(){T(this._keySchedule),T(this._invKeySchedule),T(this._key)},k.exports.AES=M}),g8=b1((V,k)=>{var _=F1().Buffer,X=_.alloc(16,0);function T(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function b(h){var M=_.allocUnsafe(16);return M.writeUInt32BE(h[0]>>>0,0),M.writeUInt32BE(h[1]>>>0,4),M.writeUInt32BE(h[2]>>>0,8),M.writeUInt32BE(h[3]>>>0,12),M}function u(h){this.h=h,this.state=_.alloc(16,0),this.cache=_.allocUnsafe(0)}u.prototype.ghash=function(h){for(var M=-1;++M<h.length;)this.state[M]^=h[M];this._multiply()},u.prototype._multiply=function(){for(var h=T(this.h),M=[0,0,0,0],r,L,v,S=-1;++S<128;){for(L=(this.state[~~(S/8)]&1<<7-S%8)!==0,L&&(M[0]^=h[0],M[1]^=h[1],M[2]^=h[2],M[3]^=h[3]),v=(h[3]&1)!==0,r=3;r>0;r--)h[r]=h[r]>>>1|(h[r-1]&1)<<31;h[0]=h[0]>>>1,v&&(h[0]=h[0]^-520093696)}this.state=b(M)},u.prototype.update=function(h){this.cache=_.concat([this.cache,h]);for(var M;this.cache.length>=16;)M=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(M)},u.prototype.final=function(h,M){return this.cache.length&&this.ghash(_.concat([this.cache,X],16)),this.ghash(b([0,h,0,M])),this.state},k.exports=u}),h5=b1((V,k)=>{var _=B3(),X=F1().Buffer,T=F2(),b=H1(),u=g8(),h=V3(),M=d5();function r(S,x){var d=0;S.length!==x.length&&d++;for(var N=Math.min(S.length,x.length),O=0;O<N;++O)d+=S[O]^x[O];return d}function L(S,x,d){if(x.length===12)return S._finID=X.concat([x,X.from([0,0,0,1])]),X.concat([x,X.from([0,0,0,2])]);var N=new u(d),O=x.length,Z=O%16;N.update(x),Z&&(Z=16-Z,N.update(X.alloc(Z,0))),N.update(X.alloc(8,0));var $=O*8,U=X.alloc(8);U.writeUIntBE($,0,8),N.update(U),S._finID=N.state;var s=X.from(S._finID);return M(s),s}function v(S,x,d,N){T.call(this);var O=X.alloc(4,0);this._cipher=new _.AES(x);var Z=this._cipher.encryptBlock(O);this._ghash=new u(Z),d=L(this,d,Z),this._prev=X.from(d),this._cache=X.allocUnsafe(0),this._secCache=X.allocUnsafe(0),this._decrypt=N,this._alen=0,this._len=0,this._mode=S,this._authTag=null,this._called=!1}b(v,T),v.prototype._update=function(S){if(!this._called&&this._alen){var x=16-this._alen%16;x<16&&(x=X.alloc(x,0),this._ghash.update(x))}this._called=!0;var d=this._mode.encrypt(this,S);return this._decrypt?this._ghash.update(S):this._ghash.update(d),this._len+=S.length,d},v.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var S=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(S,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=S,this._cipher.scrub()},v.prototype.getAuthTag=function(){if(this._decrypt||!X.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},v.prototype.setAuthTag=function(S){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=S},v.prototype.setAAD=function(S){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(S),this._alen+=S.length},k.exports=v}),b5=b1((V,k)=>{var _=B3(),X=F1().Buffer,T=F2(),b=H1();function u(h,M,r,L){T.call(this),this._cipher=new _.AES(M),this._prev=X.from(r),this._cache=X.allocUnsafe(0),this._secCache=X.allocUnsafe(0),this._decrypt=L,this._mode=h}b(u,T),u.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},k.exports=u}),e3=b1((V,k)=>{var _=F1().Buffer,X=U6();function T(b,u,h,M){if(_.isBuffer(b)||(b=_.from(b,"binary")),u&&(_.isBuffer(u)||(u=_.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var r=h/8,L=_.alloc(r),v=_.alloc(M||0),S=_.alloc(0);r>0||M>0;){var x=new X;x.update(S),x.update(b),u&&x.update(u),S=x.digest();var d=0;if(r>0){var N=L.length-r;d=Math.min(r,S.length),S.copy(L,N,0,d),r-=d}if(d<S.length&&M>0){var O=v.length-M,Z=Math.min(M,S.length-d);S.copy(v,O,d,d+Z),M-=Z}}return S.fill(0),{key:L,iv:v}}k.exports=T}),s8=b1((V)=>{var k=P6(),_=h5(),X=F1().Buffer,T=b5(),b=F2(),u=B3(),h=e3(),M=H1();function r(d,N,O){b.call(this),this._cache=new v,this._cipher=new u.AES(N),this._prev=X.from(O),this._mode=d,this._autopadding=!0}M(r,b),r.prototype._update=function(d){this._cache.add(d);for(var N,O,Z=[];N=this._cache.get();)O=this._mode.encrypt(this,N),Z.push(O);return X.concat(Z)};var L=X.alloc(16,16);r.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return d=this._mode.encrypt(this,d),this._cipher.scrub(),d;if(!d.equals(L))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this};function v(){this.cache=X.allocUnsafe(0)}v.prototype.add=function(d){this.cache=X.concat([this.cache,d])},v.prototype.get=function(){if(this.cache.length>15){var d=this.cache.slice(0,16);return this.cache=this.cache.slice(16),d}return null},v.prototype.flush=function(){for(var d=16-this.cache.length,N=X.allocUnsafe(d),O=-1;++O<d;)N.writeUInt8(d,O);return X.concat([this.cache,N])};function S(d,N,O){var Z=k[d.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if(typeof N=="string"&&(N=X.from(N)),N.length!==Z.key/8)throw new TypeError("invalid key length "+N.length);if(typeof O=="string"&&(O=X.from(O)),Z.mode!=="GCM"&&O.length!==Z.iv)throw new TypeError("invalid iv length "+O.length);return Z.type==="stream"?new T(Z.module,N,O):Z.type==="auth"?new _(Z.module,N,O):new r(Z.module,N,O)}function x(d,N){var O=k[d.toLowerCase()];if(!O)throw new TypeError("invalid suite type");var Z=h(N,!1,O.key,O.iv);return S(d,Z.key,Z.iv)}V.createCipheriv=S,V.createCipher=x}),W8=b1((V)=>{var k=h5(),_=F1().Buffer,X=P6(),T=b5(),b=F2(),u=B3(),h=e3(),M=H1();function r(d,N,O){b.call(this),this._cache=new L,this._last=void 0,this._cipher=new u.AES(N),this._prev=_.from(O),this._mode=d,this._autopadding=!0}M(r,b),r.prototype._update=function(d){this._cache.add(d);for(var N,O,Z=[];N=this._cache.get(this._autopadding);)O=this._mode.decrypt(this,N),Z.push(O);return _.concat(Z)},r.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return v(this._mode.decrypt(this,d));if(d)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this};function L(){this.cache=_.allocUnsafe(0)}L.prototype.add=function(d){this.cache=_.concat([this.cache,d])},L.prototype.get=function(d){var N;if(d){if(this.cache.length>16)return N=this.cache.slice(0,16),this.cache=this.cache.slice(16),N}else if(this.cache.length>=16)return N=this.cache.slice(0,16),this.cache=this.cache.slice(16),N;return null},L.prototype.flush=function(){if(this.cache.length)return this.cache};function v(d){var N=d[15];if(N<1||N>16)throw new Error("unable to decrypt data");for(var O=-1;++O<N;)if(d[O+(16-N)]!==N)throw new Error("unable to decrypt data");if(N!==16)return d.slice(0,16-N)}function S(d,N,O){var Z=X[d.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if(typeof O=="string"&&(O=_.from(O)),Z.mode!=="GCM"&&O.length!==Z.iv)throw new TypeError("invalid iv length "+O.length);if(typeof N=="string"&&(N=_.from(N)),N.length!==Z.key/8)throw new TypeError("invalid key length "+N.length);return Z.type==="stream"?new T(Z.module,N,O,!0):Z.type==="auth"?new k(Z.module,N,O,!0):new r(Z.module,N,O)}function x(d,N){var O=X[d.toLowerCase()];if(!O)throw new TypeError("invalid suite type");var Z=h(N,!1,O.key,O.iv);return S(d,Z.key,Z.iv)}V.createDecipher=x,V.createDecipheriv=S}),H6=b1((V)=>{var k=s8(),_=W8(),X=r5();function T(){return Object.keys(X)}V.createCipher=V.Cipher=k.createCipher,V.createCipheriv=V.Cipheriv=k.createCipheriv,V.createDecipher=V.Decipher=_.createDecipher,V.createDecipheriv=V.Decipheriv=_.createDecipheriv,V.listCiphers=V.getCiphers=T}),R8=b1((V)=>{V["des-ecb"]={key:8,iv:0},V["des-cbc"]=V.des={key:8,iv:8},V["des-ede3-cbc"]=V.des3={key:24,iv:8},V["des-ede3"]={key:24,iv:0},V["des-ede-cbc"]={key:16,iv:8},V["des-ede"]={key:16,iv:0}}),z8=b1((V)=>{var k=M8(),_=H6(),X=P6(),T=R8(),b=e3();function u(v,S){v=v.toLowerCase();var x,d;if(X[v])x=X[v].key,d=X[v].iv;else if(T[v])x=T[v].key*8,d=T[v].iv;else throw new TypeError("invalid suite type");var N=b(S,!1,x,d);return M(v,N.key,N.iv)}function h(v,S){v=v.toLowerCase();var x,d;if(X[v])x=X[v].key,d=X[v].iv;else if(T[v])x=T[v].key*8,d=T[v].iv;else throw new TypeError("invalid suite type");var N=b(S,!1,x,d);return r(v,N.key,N.iv)}function M(v,S,x){if(v=v.toLowerCase(),X[v])return _.createCipheriv(v,S,x);if(T[v])return new k({key:S,iv:x,mode:v});throw new TypeError("invalid suite type")}function r(v,S,x){if(v=v.toLowerCase(),X[v])return _.createDecipheriv(v,S,x);if(T[v])return new k({key:S,iv:x,mode:v,decrypt:!0});throw new TypeError("invalid suite type")}function L(){return Object.keys(T).concat(_.getCiphers())}V.createCipher=V.Cipher=u,V.createCipheriv=V.Cipheriv=M,V.createDecipher=V.Decipher=h,V.createDecipheriv=V.Decipheriv=r,V.listCiphers=V.getCiphers=L}),C2=b1(()=>{}),m5=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),w8=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),j8=b1(()=>{}),i6=b1((V,k)=>{var _;k.exports=function(b){return _||(_=new X(null)),_.generate(b)};function X(b){this.rand=b}if(k.exports.Rand=X,X.prototype.generate=function(b){return this._rand(b)},X.prototype._rand=function(b){if(this.rand.getBytes)return this.rand.getBytes(b);for(var u=new Uint8Array(b),h=0;h<u.length;h++)u[h]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?X.prototype._rand=function(b){var u=new Uint8Array(b);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?X.prototype._rand=function(b){var u=new Uint8Array(b);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(X.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(T=j8(),typeof T.randomBytes!="function")throw new Error("Not supported");X.prototype._rand=function(b){return T.randomBytes(b)}}catch{}var T}),y5=b1((V,k)=>{var _=w8(),X=i6();function T(b){this.rand=b||new X.Rand}k.exports=T,T.create=function(b){return new T(b)},T.prototype._randbelow=function(b){var u=b.bitLength(),h=Math.ceil(u/8);do var M=new _(this.rand.generate(h));while(M.cmp(b)>=0);return M},T.prototype._randrange=function(b,u){var h=u.sub(b);return b.add(this._randbelow(h))},T.prototype.test=function(b,u,h){var M=b.bitLength(),r=_.mont(b),L=new _(1).toRed(r);u||(u=Math.max(1,M/48|0));for(var v=b.subn(1),S=0;!v.testn(S);S++);for(var x=b.shrn(S),d=v.toRed(r),N=!0;u>0;u--){var O=this._randrange(new _(2),v);h&&h(O);var Z=O.toRed(r).redPow(x);if(!(Z.cmp(L)===0||Z.cmp(d)===0)){for(var $=1;$<S;$++){if(Z=Z.redSqr(),Z.cmp(L)===0)return!1;if(Z.cmp(d)===0)break}if($===S)return!1}}return N},T.prototype.getDivisor=function(b,u){var h=b.bitLength(),M=_.mont(b),r=new _(1).toRed(M);u||(u=Math.max(1,h/48|0));for(var L=b.subn(1),v=0;!L.testn(v);v++);for(var S=b.shrn(v),x=L.toRed(M);u>0;u--){var d=this._randrange(new _(2),L),N=b.gcd(d);if(N.cmpn(1)!==0)return N;var O=d.toRed(M).redPow(S);if(!(O.cmp(r)===0||O.cmp(x)===0)){for(var Z=1;Z<v;Z++){if(O=O.redSqr(),O.cmp(r)===0)return O.fromRed().subn(1).gcd(b);if(O.cmp(x)===0)break}if(Z===v)return O=O.redSqr(),O.fromRed().subn(1).gcd(b)}}return!1}}),v5=b1((V,k)=>{var _=u3();k.exports=g,g.simpleSieve=s,g.fermatTest=W;var X=m5(),T=new X(24),b=y5(),u=new b,h=new X(1),M=new X(2),r=new X(5),L=new X(16),v=new X(8),S=new X(10),x=new X(3),d=new X(7),N=new X(11),O=new X(4),Z=new X(12),$=null;function U(){if($!==null)return $;var K=1048576,i=[];i[0]=2;for(var J=1,F=3;F<K;F+=2){for(var Y=Math.ceil(Math.sqrt(F)),l=0;l<J&&i[l]<=Y&&F%i[l]!==0;l++);J!==l&&i[l]<=Y||(i[J++]=F)}return $=i,i}function s(K){for(var i=U(),J=0;J<i.length;J++)if(K.modn(i[J])===0)return K.cmpn(i[J])===0;return!0}function W(K){var i=X.mont(K);return M.toRed(i).redPow(K.subn(1)).fromRed().cmpn(1)===0}function g(K,i){if(K<16)return i===2||i===5?new X([140,123]):new X([140,39]);i=new X(i);for(var J,F;;){for(J=new X(_(Math.ceil(K/8)));J.bitLength()>K;)J.ishrn(1);if(J.isEven()&&J.iadd(h),J.testn(1)||J.iadd(M),i.cmp(M)){if(!i.cmp(r))for(;J.mod(S).cmp(x);)J.iadd(O)}else for(;J.mod(T).cmp(N);)J.iadd(O);if(F=J.shrn(1),s(F)&&s(J)&&W(F)&&W(J)&&u.test(F)&&u.test(J))return J}}}),K8=b1((V,k)=>{k.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}}),P8=b1((V,k)=>{var _=m5(),X=y5(),T=new X,b=new _(24),u=new _(11),h=new _(10),M=new _(3),r=new _(7),L=v5(),v=u3();k.exports=O;function S($,U){return U=U||"utf8",Buffer.isBuffer($)||($=new Buffer($,U)),this._pub=new _($),this}function x($,U){return U=U||"utf8",Buffer.isBuffer($)||($=new Buffer($,U)),this._priv=new _($),this}var d={};function N($,U){var s=U.toString("hex"),W=[s,$.toString(16)].join("_");if(W in d)return d[W];var g=0;if($.isEven()||!L.simpleSieve||!L.fermatTest($)||!T.test($))return g+=1,s==="02"||s==="05"?g+=8:g+=4,d[W]=g,g;T.test($.shrn(1))||(g+=2);var K;switch(s){case"02":$.mod(b).cmp(u)&&(g+=8);break;case"05":K=$.mod(h),K.cmp(M)&&K.cmp(r)&&(g+=8);break;default:g+=4}return d[W]=g,g}function O($,U,s){this.setGenerator(U),this.__prime=new _($),this._prime=_.mont(this.__prime),this._primeLen=$.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,s?(this.setPublicKey=S,this.setPrivateKey=x):this._primeCode=8}Object.defineProperty(O.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=N(this.__prime,this.__gen)),this._primeCode}}),O.prototype.generateKeys=function(){return this._priv||(this._priv=new _(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},O.prototype.computeSecret=function($){$=new _($),$=$.toRed(this._prime);var U=$.redPow(this._priv).fromRed(),s=new Buffer(U.toArray()),W=this.getPrime();if(s.length<W.length){var g=new Buffer(W.length-s.length);g.fill(0),s=Buffer.concat([g,s])}return s},O.prototype.getPublicKey=function($){return Z(this._pub,$)},O.prototype.getPrivateKey=function($){return Z(this._priv,$)},O.prototype.getPrime=function($){return Z(this.__prime,$)},O.prototype.getGenerator=function($){return Z(this._gen,$)},O.prototype.setGenerator=function($,U){return U=U||"utf8",Buffer.isBuffer($)||($=new Buffer($,U)),this.__gen=$,this._gen=new _($),this};function Z($,U){var s=new Buffer($.toArray());return U?s.toString(U):s}}),H8=b1((V)=>{var k=v5(),_=K8(),X=P8();function T(h){var M=new Buffer(_[h].prime,"hex"),r=new Buffer(_[h].gen,"hex");return new X(M,r)}var b={binary:!0,hex:!0,base64:!0};function u(h,M,r,L){return Buffer.isBuffer(M)||b[M]===void 0?u(h,"binary",M,r):(M=M||"binary",L=L||"binary",r=r||new Buffer([2]),Buffer.isBuffer(r)||(r=new Buffer(r,L)),typeof h=="number"?new X(k(h,r),r,!0):(Buffer.isBuffer(h)||(h=new Buffer(h,M)),new X(h,r,!0)))}V.DiffieHellmanGroup=V.createDiffieHellmanGroup=V.getDiffieHellman=T,V.createDiffieHellman=V.DiffieHellman=u}),_5=b1((V,k)=>{k.exports=Y2().EventEmitter}),i8=b1((V,k)=>{function _(d,N){var O=Object.keys(d);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(d);N&&(Z=Z.filter(function($){return Object.getOwnPropertyDescriptor(d,$).enumerable})),O.push.apply(O,Z)}return O}function X(d){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{};N%2?_(Object(O),!0).forEach(function(Z){T(d,Z,O[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(O)):_(Object(O)).forEach(function(Z){Object.defineProperty(d,Z,Object.getOwnPropertyDescriptor(O,Z))})}return d}function T(d,N,O){return N in d?Object.defineProperty(d,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):d[N]=O,d}function b(d,N){if(!(d instanceof N))throw new TypeError("Cannot call a class as a function")}function u(d,N){for(var O=0;O<N.length;O++){var Z=N[O];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(d,Z.key,Z)}}function h(d,N,O){return N&&u(d.prototype,N),O&&u(d,O),d}var M=q2(),r=M.Buffer,L=D3(),v=L.inspect,S=v&&v.custom||"inspect";function x(d,N,O){r.prototype.copy.call(d,N,O)}k.exports=function(){function d(){b(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(N){var O={data:N,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(N){var O={data:N,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var O=this.head,Z=""+O.data;O=O.next;)Z+=N+O.data;return Z}},{key:"concat",value:function(N){if(this.length===0)return r.alloc(0);for(var O=r.allocUnsafe(N>>>0),Z=this.head,$=0;Z;)x(Z.data,O,$),$+=Z.data.length,Z=Z.next;return O}},{key:"consume",value:function(N,O){var Z;return N<this.head.data.length?(Z=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?Z=this.shift():Z=O?this._getString(N):this._getBuffer(N),Z}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var O=this.head,Z=1,$=O.data;for(N-=$.length;O=O.next;){var U=O.data,s=N>U.length?U.length:N;if(s===U.length?$+=U:$+=U.slice(0,N),N-=s,N===0){s===U.length?(++Z,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=U.slice(s));break}++Z}return this.length-=Z,$}},{key:"_getBuffer",value:function(N){var O=r.allocUnsafe(N),Z=this.head,$=1;for(Z.data.copy(O),N-=Z.data.length;Z=Z.next;){var U=Z.data,s=N>U.length?U.length:N;if(U.copy(O,O.length-N,0,s),N-=s,N===0){s===U.length?(++$,Z.next?this.head=Z.next:this.head=this.tail=null):(this.head=Z,Z.data=U.slice(s));break}++$}return this.length-=$,O}},{key:S,value:function(N,O){return v(this,X({},O,{depth:0,customInspect:!1}))}}]),d}()}),x5=b1((V,k)=>{function _(M,r){var L=this,v=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return v||S?(r?r(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(u,this,M)):process.nextTick(u,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(x){!r&&x?L._writableState?L._writableState.errorEmitted?process.nextTick(T,L):(L._writableState.errorEmitted=!0,process.nextTick(X,L,x)):process.nextTick(X,L,x):r?(process.nextTick(T,L),r(x)):process.nextTick(T,L)}),this)}function X(M,r){u(M,r),T(M)}function T(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function b(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function u(M,r){M.emit("error",r)}function h(M,r){var{_readableState:L,_writableState:v}=M;L&&L.autoDestroy||v&&v.autoDestroy?M.destroy(r):M.emit("error",r)}k.exports={destroy:_,undestroy:b,errorOrDestroy:h}}),r3=b1((V,k)=>{function _(r,L){r.prototype=Object.create(L.prototype),r.prototype.constructor=r,r.__proto__=L}var X={};function T(r,L,v){v||(v=Error);function S(d,N,O){return typeof L=="string"?L:L(d,N,O)}var x=function(d){_(N,d);function N(O,Z,$){return d.call(this,S(O,Z,$))||this}return N}(v);x.prototype.name=v.name,x.prototype.code=r,X[r]=x}function b(r,L){if(Array.isArray(r)){var v=r.length;return r=r.map(function(S){return String(S)}),v>2?"one of ".concat(L," ").concat(r.slice(0,v-1).join(", "),", or ")+r[v-1]:v===2?"one of ".concat(L," ").concat(r[0]," or ").concat(r[1]):"of ".concat(L," ").concat(r[0])}else return"of ".concat(L," ").concat(String(r))}function u(r,L,v){return r.substr(!v||v<0?0:+v,L.length)===L}function h(r,L,v){return(v===void 0||v>r.length)&&(v=r.length),r.substring(v-L.length,v)===L}function M(r,L,v){return typeof v!="number"&&(v=0),v+L.length>r.length?!1:r.indexOf(L,v)!==-1}T("ERR_INVALID_OPT_VALUE",function(r,L){return'The value "'+L+'" is invalid for option "'+r+'"'},TypeError),T("ERR_INVALID_ARG_TYPE",function(r,L,v){var S;typeof L=="string"&&u(L,"not ")?(S="must not be",L=L.replace(/^not /,"")):S="must be";var x;if(h(r," argument"))x="The ".concat(r," ").concat(S," ").concat(b(L,"type"));else{var d=M(r,".")?"property":"argument";x='The "'.concat(r,'" ').concat(d," ").concat(S," ").concat(b(L,"type"))}return x+=". Received type ".concat(typeof v),x},TypeError),T("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),T("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"}),T("ERR_STREAM_PREMATURE_CLOSE","Premature close"),T("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"}),T("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),T("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),T("ERR_STREAM_WRITE_AFTER_END","write after end"),T("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),T("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError),T("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),k.exports.codes=X}),L5=b1((V,k)=>{var _=r3().codes.ERR_INVALID_OPT_VALUE;function X(b,u,h){return b.highWaterMark!=null?b.highWaterMark:u?b[h]:null}function T(b,u,h,M){var r=X(u,M,h);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var L=M?h:"highWaterMark";throw new _(L,r)}return Math.floor(r)}return b.objectMode?16:16384}k.exports={getHighWaterMark:T}}),T5=b1((V,k)=>{k.exports=F;function _(Q){var I=this;this.next=null,this.entry=null,this.finish=function(){e(I,Q)}}var X;F.WritableState=i;var T={deprecate:j0()},b=_5(),u=q2().Buffer,h=global.Uint8Array||function(){};function M(Q){return u.from(Q)}function r(Q){return u.isBuffer(Q)||Q instanceof h}var L=x5(),v=L5(),S=v.getHighWaterMark,x=r3().codes,d=x.ERR_INVALID_ARG_TYPE,N=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_MULTIPLE_CALLBACK,Z=x.ERR_STREAM_CANNOT_PIPE,$=x.ERR_STREAM_DESTROYED,U=x.ERR_STREAM_NULL_VALUES,s=x.ERR_STREAM_WRITE_AFTER_END,W=x.ERR_UNKNOWN_ENCODING,g=L.errorOrDestroy;H1()(F,b);function K(){}function i(Q,I,A){X=X||h3(),Q=Q||{},typeof A!="boolean"&&(A=I instanceof X),this.objectMode=!!Q.objectMode,A&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=S(this,Q,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h1=Q.decodeStrings===!1;this.decodeStrings=!h1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n1){q(I,n1)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}i.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,I=[];Q;)I.push(Q),Q=Q.next;return I},function(){try{Object.defineProperty(i.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(Q){return J.call(this,Q)?!0:this!==F?!1:Q&&Q._writableState instanceof i}})):J=function(Q){return Q instanceof this};function F(Q){X=X||h3();var I=this instanceof X;if(!I&&!J.call(F,this))return new F(Q);this._writableState=new i(Q,this,I),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),b.call(this)}F.prototype.pipe=function(){g(this,new Z)};function Y(Q,I){var A=new s;g(Q,A),process.nextTick(I,A)}function l(Q,I,A,h1){var n1;return A===null?n1=new U:typeof A!="string"&&!I.objectMode&&(n1=new d("chunk",["string","Buffer"],A)),n1?(g(Q,n1),process.nextTick(h1,n1),!1):!0}F.prototype.write=function(Q,I,A){var h1=this._writableState,n1=!1,c1=!h1.objectMode&&r(Q);return c1&&!u.isBuffer(Q)&&(Q=M(Q)),typeof I=="function"&&(A=I,I=null),c1?I="buffer":I||(I=h1.defaultEncoding),typeof A!="function"&&(A=K),h1.ending?Y(this,A):(c1||l(this,h1,Q,A))&&(h1.pendingcb++,n1=f(this,h1,c1,Q,I,A)),n1},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&m(this,Q))},F.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new W(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function p(Q,I,A){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof I=="string"&&(I=u.from(I,A)),I}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(Q,I,A,h1,n1,c1){if(!A){var G=p(I,h1,n1);h1!==G&&(A=!0,n1="buffer",h1=G)}var P=I.objectMode?1:h1.length;I.length+=P;var D=I.length<I.highWaterMark;if(D||(I.needDrain=!0),I.writing||I.corked){var p1=I.lastBufferedRequest;I.lastBufferedRequest={chunk:h1,encoding:n1,isBuf:A,callback:c1,next:null},p1?p1.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else n(Q,I,!1,P,h1,n1,c1);return D}function n(Q,I,A,h1,n1,c1,G){I.writelen=h1,I.writecb=G,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new $("write")):A?Q._writev(n1,I.onwrite):Q._write(n1,c1,I.onwrite),I.sync=!1}function c(Q,I,A,h1,n1){--I.pendingcb,A?(process.nextTick(n1,h1),process.nextTick(E,Q,I),Q._writableState.errorEmitted=!0,g(Q,h1)):(n1(h1),Q._writableState.errorEmitted=!0,g(Q,h1),E(Q,I))}function y(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function q(Q,I){var A=Q._writableState,h1=A.sync,n1=A.writecb;if(typeof n1!="function")throw new O;if(y(A),I)c(Q,A,h1,I,n1);else{var c1=j(A)||Q.destroyed;!c1&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&m(Q,A),h1?process.nextTick(a,Q,A,c1,n1):a(Q,A,c1,n1)}}function a(Q,I,A,h1){A||o(Q,I),I.pendingcb--,h1(),E(Q,I)}function o(Q,I){I.length===0&&I.needDrain&&(I.needDrain=!1,Q.emit("drain"))}function m(Q,I){I.bufferProcessing=!0;var A=I.bufferedRequest;if(Q._writev&&A&&A.next){var h1=I.bufferedRequestCount,n1=new Array(h1),c1=I.corkedRequestsFree;c1.entry=A;for(var G=0,P=!0;A;)n1[G]=A,A.isBuf||(P=!1),A=A.next,G+=1;n1.allBuffers=P,n(Q,I,!0,I.length,n1,"",c1.finish),I.pendingcb++,I.lastBufferedRequest=null,c1.next?(I.corkedRequestsFree=c1.next,c1.next=null):I.corkedRequestsFree=new _(I),I.bufferedRequestCount=0}else{for(;A;){var{chunk:D,encoding:p1,callback:u1}=A,o1=I.objectMode?1:D.length;if(n(Q,I,!1,o1,D,p1,u1),A=A.next,I.bufferedRequestCount--,I.writing)break}A===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=A,I.bufferProcessing=!1}F.prototype._write=function(Q,I,A){A(new N("_write()"))},F.prototype._writev=null,F.prototype.end=function(Q,I,A){var h1=this._writableState;return typeof Q=="function"?(A=Q,Q=null,I=null):typeof I=="function"&&(A=I,I=null),Q!=null&&this.write(Q,I),h1.corked&&(h1.corked=1,this.uncork()),h1.ending||B(this,h1,A),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function R(Q,I){Q._final(function(A){I.pendingcb--,A&&g(Q,A),I.prefinished=!0,Q.emit("prefinish"),E(Q,I)})}function w(Q,I){!I.prefinished&&!I.finalCalled&&(typeof Q._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,process.nextTick(R,Q,I)):(I.prefinished=!0,Q.emit("prefinish")))}function E(Q,I){var A=j(I);if(A&&(w(Q,I),I.pendingcb===0&&(I.finished=!0,Q.emit("finish"),I.autoDestroy))){var h1=Q._readableState;(!h1||h1.autoDestroy&&h1.endEmitted)&&Q.destroy()}return A}function B(Q,I,A){I.ending=!0,E(Q,I),A&&(I.finished?process.nextTick(A):Q.once("finish",A)),I.ended=!0,Q.writable=!1}function e(Q,I,A){var h1=Q.entry;for(Q.entry=null;h1;){var n1=h1.callback;I.pendingcb--,n1(A),h1=h1.next}I.corkedRequestsFree.next=Q}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){!this._writableState||(this._writableState.destroyed=Q)}}),F.prototype.destroy=L.destroy,F.prototype._undestroy=L.undestroy,F.prototype._destroy=function(Q,I){I(Q)}}),h3=b1((V,k)=>{var _=Object.keys||function(v){var S=[];for(var x in v)S.push(x);return S};k.exports=M;var X=q5(),T=T5();H1()(M,X);for(b=_(T.prototype),h=0;h<b.length;h++)u=b[h],M.prototype[u]||(M.prototype[u]=T.prototype[u]);var b,u,h;function M(v){if(!(this instanceof M))return new M(v);X.call(this,v),T.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||process.nextTick(L,this)}function L(v){v.end()}Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}),F6=b1((V,k)=>{var _=r3().codes.ERR_STREAM_PREMATURE_CLOSE;function X(h){var M=!1;return function(){if(!M){M=!0;for(var r=arguments.length,L=new Array(r),v=0;v<r;v++)L[v]=arguments[v];h.apply(this,L)}}}function T(){}function b(h){return h.setHeader&&typeof h.abort=="function"}function u(h,M,r){if(typeof M=="function")return u(h,null,M);M||(M={}),r=X(r||T);var L=M.readable||M.readable!==!1&&h.readable,v=M.writable||M.writable!==!1&&h.writable,S=function(){h.writable||d()},x=h._writableState&&h._writableState.finished,d=function(){v=!1,x=!0,L||r.call(h)},N=h._readableState&&h._readableState.endEmitted,O=function(){L=!1,N=!0,v||r.call(h)},Z=function(s){r.call(h,s)},$=function(){var s;if(L&&!N)return(!h._readableState||!h._readableState.ended)&&(s=new _),r.call(h,s);if(v&&!x)return(!h._writableState||!h._writableState.ended)&&(s=new _),r.call(h,s)},U=function(){h.req.on("finish",d)};return b(h)?(h.on("complete",d),h.on("abort",$),h.req?U():h.on("request",U)):v&&!h._writableState&&(h.on("end",S),h.on("close",S)),h.on("end",O),h.on("finish",d),M.error!==!1&&h.on("error",Z),h.on("close",$),function(){h.removeListener("complete",d),h.removeListener("abort",$),h.removeListener("request",U),h.req&&h.req.removeListener("finish",d),h.removeListener("end",S),h.removeListener("close",S),h.removeListener("finish",d),h.removeListener("end",O),h.removeListener("error",Z),h.removeListener("close",$)}}k.exports=u}),F8=b1((V,k)=>{var _;function X(U,s,W){return s in U?Object.defineProperty(U,s,{value:W,enumerable:!0,configurable:!0,writable:!0}):U[s]=W,U}var T=F6(),b=Symbol("lastResolve"),u=Symbol("lastReject"),h=Symbol("error"),M=Symbol("ended"),r=Symbol("lastPromise"),L=Symbol("handlePromise"),v=Symbol("stream");function S(U,s){return{value:U,done:s}}function x(U){var s=U[b];if(s!==null){var W=U[v].read();W!==null&&(U[r]=null,U[b]=null,U[u]=null,s(S(W,!1)))}}function d(U){process.nextTick(x,U)}function N(U,s){return function(W,g){U.then(function(){if(s[M]){W(S(void 0,!0));return}s[L](W,g)},g)}}var O=Object.getPrototypeOf(function(){}),Z=Object.setPrototypeOf((_={get stream(){return this[v]},next:function(){var U=this,s=this[h];if(s!==null)return Promise.reject(s);if(this[M])return Promise.resolve(S(void 0,!0));if(this[v].destroyed)return new Promise(function(i,J){process.nextTick(function(){U[h]?J(U[h]):i(S(void 0,!0))})});var W=this[r],g;if(W)g=new Promise(N(W,this));else{var K=this[v].read();if(K!==null)return Promise.resolve(S(K,!1));g=new Promise(this[L])}return this[r]=g,g}},X(_,Symbol.asyncIterator,function(){return this}),X(_,"return",function(){var U=this;return new Promise(function(s,W){U[v].destroy(null,function(g){if(g){W(g);return}s(S(void 0,!0))})})}),_),O),$=function(U){var s,W=Object.create(Z,(s={},X(s,v,{value:U,writable:!0}),X(s,b,{value:null,writable:!0}),X(s,u,{value:null,writable:!0}),X(s,h,{value:null,writable:!0}),X(s,M,{value:U._readableState.endEmitted,writable:!0}),X(s,L,{value:function(g,K){var i=W[v].read();i?(W[r]=null,W[b]=null,W[u]=null,g(S(i,!1))):(W[b]=g,W[u]=K)},writable:!0}),s));return W[r]=null,T(U,function(g){if(g&&g.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=W[u];K!==null&&(W[r]=null,W[b]=null,W[u]=null,K(g)),W[h]=g;return}var i=W[b];i!==null&&(W[r]=null,W[b]=null,W[u]=null,i(S(void 0,!0))),W[M]=!0}),U.on("readable",d.bind(null,W)),W};k.exports=$}),J8=b1((V,k)=>{k.exports=function(){throw new Error("Readable.from is not available in the browser")}}),q5=b1((V,k)=>{k.exports=l;var _;l.ReadableState=Y;var X=Y2().EventEmitter,T=function(G,P){return G.listeners(P).length},b=_5(),u=q2().Buffer,h=global.Uint8Array||function(){};function M(G){return u.from(G)}function r(G){return u.isBuffer(G)||G instanceof h}var L=D3(),v;L&&L.debuglog?v=L.debuglog("stream"):v=function(){};var S=i8(),x=x5(),d=L5(),N=d.getHighWaterMark,O=r3().codes,Z=O.ERR_INVALID_ARG_TYPE,$=O.ERR_STREAM_PUSH_AFTER_EOF,U=O.ERR_METHOD_NOT_IMPLEMENTED,s=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,W,g,K;H1()(l,b);var i=x.errorOrDestroy,J=["error","close","destroy","pause","resume"];function F(G,P,D){if(typeof G.prependListener=="function")return G.prependListener(P,D);!G._events||!G._events[P]?G.on(P,D):Array.isArray(G._events[P])?G._events[P].unshift(D):G._events[P]=[D,G._events[P]]}function Y(G,P,D){_=_||h3(),G=G||{},typeof D!="boolean"&&(D=P instanceof _),this.objectMode=!!G.objectMode,D&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=N(this,G,"readableHighWaterMark",D),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(W||(W=(t3(),U2(q3)).StringDecoder),this.decoder=new W(G.encoding),this.encoding=G.encoding)}function l(G){if(_=_||h3(),!(this instanceof l))return new l(G);var P=this instanceof _;this._readableState=new Y(G,this,P),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),b.call(this)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){!this._readableState||(this._readableState.destroyed=G)}}),l.prototype.destroy=x.destroy,l.prototype._undestroy=x.undestroy,l.prototype._destroy=function(G,P){P(G)},l.prototype.push=function(G,P){var D=this._readableState,p1;return D.objectMode?p1=!0:typeof G=="string"&&(P=P||D.defaultEncoding,P!==D.encoding&&(G=u.from(G,P),P=""),p1=!0),p(this,G,P,!1,p1)},l.prototype.unshift=function(G){return p(this,G,null,!0,!1)};function p(G,P,D,p1,u1){v("readableAddChunk",P);var o1=G._readableState;if(P===null)o1.reading=!1,a(G,o1);else{var V1;if(u1||(V1=n(o1,P)),V1)i(G,V1);else if(o1.objectMode||P&&P.length>0)if(typeof P!="string"&&!o1.objectMode&&Object.getPrototypeOf(P)!==u.prototype&&(P=M(P)),p1)o1.endEmitted?i(G,new s):f(G,o1,P,!0);else if(o1.ended)i(G,new $);else{if(o1.destroyed)return!1;o1.reading=!1,o1.decoder&&!D?(P=o1.decoder.write(P),o1.objectMode||P.length!==0?f(G,o1,P,!1):j(G,o1)):f(G,o1,P,!1)}else p1||(o1.reading=!1,j(G,o1))}return!o1.ended&&(o1.length<o1.highWaterMark||o1.length===0)}function f(G,P,D,p1){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,G.emit("data",D)):(P.length+=P.objectMode?1:D.length,p1?P.buffer.unshift(D):P.buffer.push(D),P.needReadable&&o(G)),j(G,P)}function n(G,P){var D;return!r(P)&&typeof P!="string"&&P!==void 0&&!G.objectMode&&(D=new Z("chunk",["string","Buffer","Uint8Array"],P)),D}l.prototype.isPaused=function(){return this._readableState.flowing===!1},l.prototype.setEncoding=function(G){W||(W=(t3(),U2(q3)).StringDecoder);var P=new W(G);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var D=this._readableState.buffer.head,p1="";D!==null;)p1+=P.write(D.data),D=D.next;return this._readableState.buffer.clear(),p1!==""&&this._readableState.buffer.push(p1),this._readableState.length=p1.length,this};var c=1073741824;function y(G){return G>=c?G=c:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function q(G,P){return G<=0||P.length===0&&P.ended?0:P.objectMode?1:G!==G?P.flowing&&P.length?P.buffer.head.data.length:P.length:(G>P.highWaterMark&&(P.highWaterMark=y(G)),G<=P.length?G:P.ended?P.length:(P.needReadable=!0,0))}l.prototype.read=function(G){v("read",G),G=parseInt(G,10);var P=this._readableState,D=G;if(G!==0&&(P.emittedReadable=!1),G===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return v("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?h1(this):o(this),null;if(G=q(G,P),G===0&&P.ended)return P.length===0&&h1(this),null;var p1=P.needReadable;v("need readable",p1),(P.length===0||P.length-G<P.highWaterMark)&&(p1=!0,v("length less than watermark",p1)),P.ended||P.reading?(p1=!1,v("reading or ended",p1)):p1&&(v("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(G=q(D,P)));var u1;return G>0?u1=A(G,P):u1=null,u1===null?(P.needReadable=P.length<=P.highWaterMark,G=0):(P.length-=G,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),D!==G&&P.ended&&h1(this)),u1!==null&&this.emit("data",u1),u1};function a(G,P){if(v("onEofChunk"),!P.ended){if(P.decoder){var D=P.decoder.end();D&&D.length&&(P.buffer.push(D),P.length+=P.objectMode?1:D.length)}P.ended=!0,P.sync?o(G):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,m(G)))}}function o(G){var P=G._readableState;v("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(v("emitReadable",P.flowing),P.emittedReadable=!0,process.nextTick(m,G))}function m(G){var P=G._readableState;v("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(G.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,I(G)}function j(G,P){P.readingMore||(P.readingMore=!0,process.nextTick(R,G,P))}function R(G,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var D=P.length;if(v("maybeReadMore read 0"),G.read(0),D===P.length)break}P.readingMore=!1}l.prototype._read=function(G){i(this,new U("_read()"))},l.prototype.pipe=function(G,P){var D=this,p1=this._readableState;switch(p1.pipesCount){case 0:p1.pipes=G;break;case 1:p1.pipes=[p1.pipes,G];break;default:p1.pipes.push(G);break}p1.pipesCount+=1,v("pipe count=%d opts=%j",p1.pipesCount,P);var u1=(!P||P.end!==!1)&&G!==process.stdout&&G!==process.stderr,o1=u1?d1:t;p1.endEmitted?process.nextTick(o1):D.once("end",o1),G.on("unpipe",V1);function V1(C,l1){v("onunpipe"),C===D&&l1&&l1.hasUnpiped===!1&&(l1.hasUnpiped=!0,m1())}function d1(){v("onend"),G.end()}var a1=w(D);G.on("drain",a1);var z1=!1;function m1(){v("cleanup"),G.removeListener("close",z),G.removeListener("finish",H),G.removeListener("drain",a1),G.removeListener("error",w1),G.removeListener("unpipe",V1),D.removeListener("end",d1),D.removeListener("end",t),D.removeListener("data",r1),z1=!0,p1.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&a1()}D.on("data",r1);function r1(C){v("ondata");var l1=G.write(C);v("dest.write",l1),l1===!1&&((p1.pipesCount===1&&p1.pipes===G||p1.pipesCount>1&&c1(p1.pipes,G)!==-1)&&!z1&&(v("false write response, pause",p1.awaitDrain),p1.awaitDrain++),D.pause())}function w1(C){v("onerror",C),t(),G.removeListener("error",w1),T(G,"error")===0&&i(G,C)}F(G,"error",w1);function z(){G.removeListener("finish",H),t()}G.once("close",z);function H(){v("onfinish"),G.removeListener("close",z),t()}G.once("finish",H);function t(){v("unpipe"),D.unpipe(G)}return G.emit("pipe",D),p1.flowing||(v("pipe resume"),D.resume()),G};function w(G){return function(){var P=G._readableState;v("pipeOnDrain",P.awaitDrain),P.awaitDrain&&P.awaitDrain--,P.awaitDrain===0&&T(G,"data")&&(P.flowing=!0,I(G))}}l.prototype.unpipe=function(G){var P=this._readableState,D={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return G&&G!==P.pipes?this:(G||(G=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,G&&G.emit("unpipe",this,D),this);if(!G){var{pipes:p1,pipesCount:u1}=P;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var o1=0;o1<u1;o1++)p1[o1].emit("unpipe",this,{hasUnpiped:!1});return this}var V1=c1(P.pipes,G);return V1===-1?this:(P.pipes.splice(V1,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),G.emit("unpipe",this,D),this)},l.prototype.on=function(G,P){var D=b.prototype.on.call(this,G,P),p1=this._readableState;return G==="data"?(p1.readableListening=this.listenerCount("readable")>0,p1.flowing!==!1&&this.resume()):G==="readable"&&!p1.endEmitted&&!p1.readableListening&&(p1.readableListening=p1.needReadable=!0,p1.flowing=!1,p1.emittedReadable=!1,v("on readable",p1.length,p1.reading),p1.length?o(this):p1.reading||process.nextTick(B,this)),D},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(G,P){var D=b.prototype.removeListener.call(this,G,P);return G==="readable"&&process.nextTick(E,this),D},l.prototype.removeAllListeners=function(G){var P=b.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(E,this),P};function E(G){var P=G._readableState;P.readableListening=G.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:G.listenerCount("data")>0&&G.resume()}function B(G){v("readable nexttick read 0"),G.read(0)}l.prototype.resume=function(){var G=this._readableState;return G.flowing||(v("resume"),G.flowing=!G.readableListening,e(this,G)),G.paused=!1,this};function e(G,P){P.resumeScheduled||(P.resumeScheduled=!0,process.nextTick(Q,G,P))}function Q(G,P){v("resume",P.reading),P.reading||G.read(0),P.resumeScheduled=!1,G.emit("resume"),I(G),P.flowing&&!P.reading&&G.read(0)}l.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function I(G){var P=G._readableState;for(v("flow",P.flowing);P.flowing&&G.read()!==null;);}l.prototype.wrap=function(G){var P=this,D=this._readableState,p1=!1;G.on("end",function(){if(v("wrapped end"),D.decoder&&!D.ended){var V1=D.decoder.end();V1&&V1.length&&P.push(V1)}P.push(null)}),G.on("data",function(V1){if(v("wrapped data"),D.decoder&&(V1=D.decoder.write(V1)),!(D.objectMode&&V1==null)&&!(!D.objectMode&&(!V1||!V1.length))){var d1=P.push(V1);d1||(p1=!0,G.pause())}});for(var u1 in G)this[u1]===void 0&&typeof G[u1]=="function"&&(this[u1]=function(V1){return function(){return G[V1].apply(G,arguments)}}(u1));for(var o1=0;o1<J.length;o1++)G.on(J[o1],this.emit.bind(this,J[o1]));return this._read=function(V1){v("wrapped _read",V1),p1&&(p1=!1,G.resume())},this},typeof Symbol=="function"&&(l.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=F8()),g(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),l._fromList=A,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(G,P){if(P.length===0)return null;var D;return P.objectMode?D=P.buffer.shift():!G||G>=P.length?(P.decoder?D=P.buffer.join(""):P.buffer.length===1?D=P.buffer.first():D=P.buffer.concat(P.length),P.buffer.clear()):D=P.buffer.consume(G,P.decoder),D}function h1(G){var P=G._readableState;v("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,process.nextTick(n1,P,G))}function n1(G,P){if(v("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,P.readable=!1,P.emit("end"),G.autoDestroy)){var D=P._writableState;(!D||D.autoDestroy&&D.finished)&&P.destroy()}}typeof Symbol=="function"&&(l.from=function(G,P){return K===void 0&&(K=J8()),K(l,G,P)});function c1(G,P){for(var D=0,p1=G.length;D<p1;D++)if(G[D]===P)return D;return-1}}),O5=b1((V,k)=>{k.exports=r;var _=r3().codes,X=_.ERR_METHOD_NOT_IMPLEMENTED,T=_.ERR_MULTIPLE_CALLBACK,b=_.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=_.ERR_TRANSFORM_WITH_LENGTH_0,h=h3();H1()(r,h);function M(S,x){var d=this._transformState;d.transforming=!1;var N=d.writecb;if(N===null)return this.emit("error",new T);d.writechunk=null,d.writecb=null,x!=null&&this.push(x),N(S);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function r(S){if(!(this instanceof r))return new r(S);h.call(this,S),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",L)}function L(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(x,d){v(S,x,d)}):v(this,null,null)}r.prototype.push=function(S,x){return this._transformState.needTransform=!1,h.prototype.push.call(this,S,x)},r.prototype._transform=function(S,x,d){d(new X("_transform()"))},r.prototype._write=function(S,x,d){var N=this._transformState;if(N.writecb=d,N.writechunk=S,N.writeencoding=x,!N.transforming){var O=this._readableState;(N.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},r.prototype._read=function(S){var x=this._transformState;x.writechunk!==null&&!x.transforming?(x.transforming=!0,this._transform(x.writechunk,x.writeencoding,x.afterTransform)):x.needTransform=!0},r.prototype._destroy=function(S,x){h.prototype._destroy.call(this,S,function(d){x(d)})};function v(S,x,d){if(x)return S.emit("error",x);if(d!=null&&S.push(d),S._writableState.length)throw new u;if(S._transformState.transforming)throw new b;return S.push(null)}}),G8=b1((V,k)=>{k.exports=X;var _=O5();H1()(X,_);function X(T){if(!(this instanceof X))return new X(T);_.call(this,T)}X.prototype._transform=function(T,b,u){u(null,T)}}),I8=b1((V,k)=>{var _;function X(d){var N=!1;return function(){N||(N=!0,d.apply(void 0,arguments))}}var T=r3().codes,b=T.ERR_MISSING_ARGS,u=T.ERR_STREAM_DESTROYED;function h(d){if(d)throw d}function M(d){return d.setHeader&&typeof d.abort=="function"}function r(d,N,O,Z){Z=X(Z);var $=!1;d.on("close",function(){$=!0}),_===void 0&&(_=F6()),_(d,{readable:N,writable:O},function(s){if(s)return Z(s);$=!0,Z()});var U=!1;return function(s){if(!$&&!U){if(U=!0,M(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();Z(s||new u("pipe"))}}}function L(d){d()}function v(d,N){return d.pipe(N)}function S(d){return!d.length||typeof d[d.length-1]!="function"?h:d.pop()}function x(){for(var d=arguments.length,N=new Array(d),O=0;O<d;O++)N[O]=arguments[O];var Z=S(N);if(Array.isArray(N[0])&&(N=N[0]),N.length<2)throw new b("streams");var $,U=N.map(function(s,W){var g=W<N.length-1,K=W>0;return r(s,g,K,function(i){$||($=i),i&&U.forEach(L),!g&&(U.forEach(L),Z($))})});return N.reduce(v)}k.exports=x}),Y8=b1((V,k)=>{V=k.exports=q5(),V.Stream=V,V.Readable=V,V.Writable=T5(),V.Duplex=h3(),V.Transform=O5(),V.PassThrough=G8(),V.finished=F6(),V.pipeline=I8()}),J6=b1((V,k)=>{(function(_,X){function T(n,c){if(!n)throw new Error(c||"Assertion failed")}function b(n,c){n.super_=c;var y=function(){};y.prototype=c.prototype,n.prototype=new y,n.prototype.constructor=n}function u(n,c,y){if(u.isBN(n))return n;this.negative=0,this.words=null,this.length=0,this.red=null,n!==null&&((c==="le"||c==="be")&&(y=c,c=10),this._init(n||0,c||10,y||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(n){return n instanceof u?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===u.wordSize&&Array.isArray(n.words)},u.max=function(n,c){return n.cmp(c)>0?n:c},u.min=function(n,c){return n.cmp(c)<0?n:c},u.prototype._init=function(n,c,y){if(typeof n=="number")return this._initNumber(n,c,y);if(typeof n=="object")return this._initArray(n,c,y);c==="hex"&&(c=16),T(c===(c|0)&&c>=2&&c<=36),n=n.toString().replace(/\s+/g,"");var q=0;n[0]==="-"&&(q++,this.negative=1),q<n.length&&(c===16?this._parseHex(n,q,y):(this._parseBase(n,c,q),y==="le"&&this._initArray(this.toArray(),c,y)))},u.prototype._initNumber=function(n,c,y){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(T(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),c,y)},u.prototype._initArray=function(n,c,y){if(T(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var a,o,m=0;if(y==="be")for(q=n.length-1,a=0;q>=0;q-=3)o=n[q]|n[q-1]<<8|n[q-2]<<16,this.words[a]|=o<<m&67108863,this.words[a+1]=o>>>26-m&67108863,m+=24,m>=26&&(m-=26,a++);else if(y==="le")for(q=0,a=0;q<n.length;q+=3)o=n[q]|n[q+1]<<8|n[q+2]<<16,this.words[a]|=o<<m&67108863,this.words[a+1]=o>>>26-m&67108863,m+=24,m>=26&&(m-=26,a++);return this._strip()};function M(n,c){var y=n.charCodeAt(c);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;T(!1,"Invalid character in "+n)}function r(n,c,y){var q=M(n,y);return y-1>=c&&(q|=M(n,y-1)<<4),q}u.prototype._parseHex=function(n,c,y){this.length=Math.ceil((n.length-c)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var a=0,o=0,m;if(y==="be")for(q=n.length-1;q>=c;q-=2)m=r(n,c,q)<<a,this.words[o]|=m&67108863,a>=18?(a-=18,o+=1,this.words[o]|=m>>>26):a+=8;else{var j=n.length-c;for(q=j%2===0?c+1:c;q<n.length;q+=2)m=r(n,c,q)<<a,this.words[o]|=m&67108863,a>=18?(a-=18,o+=1,this.words[o]|=m>>>26):a+=8}this._strip()};function L(n,c,y,q){for(var a=0,o=0,m=Math.min(n.length,y),j=c;j<m;j++){var R=n.charCodeAt(j)-48;a*=q,R>=49?o=R-49+10:R>=17?o=R-17+10:o=R,T(R>=0&&o<q,"Invalid character"),a+=o}return a}u.prototype._parseBase=function(n,c,y){this.words=[0],this.length=1;for(var q=0,a=1;a<=67108863;a*=c)q++;q--,a=a/c|0;for(var o=n.length-y,m=o%q,j=Math.min(o,o-m)+y,R=0,w=y;w<j;w+=q)R=L(n,w,w+q,c),this.imuln(a),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(m!==0){var E=1;for(R=L(n,w,n.length,c),w=0;w<m;w++)E*=c;this.imuln(E),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},u.prototype.copy=function(n){n.words=new Array(this.length);for(var c=0;c<this.length;c++)n.words[c]=this.words[c];n.length=this.length,n.negative=this.negative,n.red=this.red};function v(n,c){n.words=c.words,n.length=c.length,n.negative=c.negative,n.red=c.red}if(u.prototype._move=function(n){v(n,this)},u.prototype.clone=function(){var n=new u(null);return this.copy(n),n},u.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},u.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{u.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{u.prototype.inspect=S}else u.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(n,c){n=n||10,c=c|0||1;var y;if(n===16||n==="hex"){y="";for(var q=0,a=0,o=0;o<this.length;o++){var m=this.words[o],j=((m<<q|a)&16777215).toString(16);a=m>>>24-q&16777215,q+=2,q>=26&&(q-=26,o--),a!==0||o!==this.length-1?y=x[6-j.length]+j+y:y=j+y}for(a!==0&&(y=a.toString(16)+y);y.length%c!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(n===(n|0)&&n>=2&&n<=36){var R=d[n],w=N[n];y="";var E=this.clone();for(E.negative=0;!E.isZero();){var B=E.modrn(w).toString(n);E=E.idivn(w),E.isZero()?y=B+y:y=x[R-B.length]+B+y}for(this.isZero()&&(y="0"+y);y.length%c!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},u.prototype.toJSON=function(){return this.toString(16,2)},h&&(u.prototype.toBuffer=function(n,c){return this.toArrayLike(h,n,c)}),u.prototype.toArray=function(n,c){return this.toArrayLike(Array,n,c)};var O=function(n,c){return n.allocUnsafe?n.allocUnsafe(c):new n(c)};u.prototype.toArrayLike=function(n,c,y){this._strip();var q=this.byteLength(),a=y||Math.max(1,q);T(q<=a,"byte array longer than desired length"),T(a>0,"Requested array length <= 0");var o=O(n,a),m=c==="le"?"LE":"BE";return this["_toArrayLike"+m](o,q),o},u.prototype._toArrayLikeLE=function(n,c){for(var y=0,q=0,a=0,o=0;a<this.length;a++){var m=this.words[a]<<o|q;n[y++]=m&255,y<n.length&&(n[y++]=m>>8&255),y<n.length&&(n[y++]=m>>16&255),o===6?(y<n.length&&(n[y++]=m>>24&255),q=0,o=0):(q=m>>>24,o+=2)}if(y<n.length)for(n[y++]=q;y<n.length;)n[y++]=0},u.prototype._toArrayLikeBE=function(n,c){for(var y=n.length-1,q=0,a=0,o=0;a<this.length;a++){var m=this.words[a]<<o|q;n[y--]=m&255,y>=0&&(n[y--]=m>>8&255),y>=0&&(n[y--]=m>>16&255),o===6?(y>=0&&(n[y--]=m>>24&255),q=0,o=0):(q=m>>>24,o+=2)}if(y>=0)for(n[y--]=q;y>=0;)n[y--]=0},Math.clz32?u.prototype._countBits=function(n){return 32-Math.clz32(n)}:u.prototype._countBits=function(n){var c=n,y=0;return c>=4096&&(y+=13,c>>>=13),c>=64&&(y+=7,c>>>=7),c>=8&&(y+=4,c>>>=4),c>=2&&(y+=2,c>>>=2),y+c},u.prototype._zeroBits=function(n){if(n===0)return 26;var c=n,y=0;return(c&8191)===0&&(y+=13,c>>>=13),(c&127)===0&&(y+=7,c>>>=7),(c&15)===0&&(y+=4,c>>>=4),(c&3)===0&&(y+=2,c>>>=2),(c&1)===0&&y++,y},u.prototype.bitLength=function(){var n=this.words[this.length-1],c=this._countBits(n);return(this.length-1)*26+c};function Z(n){for(var c=new Array(n.bitLength()),y=0;y<c.length;y++){var q=y/26|0,a=y%26;c[y]=n.words[q]>>>a&1}return c}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,c=0;c<this.length;c++){var y=this._zeroBits(this.words[c]);if(n+=y,y!==26)break}return n},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},u.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var c=0;c<n.length;c++)this.words[c]=this.words[c]|n.words[c];return this._strip()},u.prototype.ior=function(n){return T((this.negative|n.negative)===0),this.iuor(n)},u.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},u.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},u.prototype.iuand=function(n){var c;this.length>n.length?c=n:c=this;for(var y=0;y<c.length;y++)this.words[y]=this.words[y]&n.words[y];return this.length=c.length,this._strip()},u.prototype.iand=function(n){return T((this.negative|n.negative)===0),this.iuand(n)},u.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},u.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},u.prototype.iuxor=function(n){var c,y;this.length>n.length?(c=this,y=n):(c=n,y=this);for(var q=0;q<y.length;q++)this.words[q]=c.words[q]^y.words[q];if(this!==c)for(;q<c.length;q++)this.words[q]=c.words[q];return this.length=c.length,this._strip()},u.prototype.ixor=function(n){return T((this.negative|n.negative)===0),this.iuxor(n)},u.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},u.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},u.prototype.inotn=function(n){T(typeof n=="number"&&n>=0);var c=Math.ceil(n/26)|0,y=n%26;this._expand(c),y>0&&c--;for(var q=0;q<c;q++)this.words[q]=~this.words[q]&67108863;return y>0&&(this.words[q]=~this.words[q]&67108863>>26-y),this._strip()},u.prototype.notn=function(n){return this.clone().inotn(n)},u.prototype.setn=function(n,c){T(typeof n=="number"&&n>=0);var y=n/26|0,q=n%26;return this._expand(y+1),c?this.words[y]=this.words[y]|1<<q:this.words[y]=this.words[y]&~(1<<q),this._strip()},u.prototype.iadd=function(n){var c;if(this.negative!==0&&n.negative===0)return this.negative=0,c=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,c=this.isub(n),n.negative=1,c._normSign();var y,q;this.length>n.length?(y=this,q=n):(y=n,q=this);for(var a=0,o=0;o<q.length;o++)c=(y.words[o]|0)+(q.words[o]|0)+a,this.words[o]=c&67108863,a=c>>>26;for(;a!==0&&o<y.length;o++)c=(y.words[o]|0)+a,this.words[o]=c&67108863,a=c>>>26;if(this.length=y.length,a!==0)this.words[this.length]=a,this.length++;else if(y!==this)for(;o<y.length;o++)this.words[o]=y.words[o];return this},u.prototype.add=function(n){var c;return n.negative!==0&&this.negative===0?(n.negative=0,c=this.sub(n),n.negative^=1,c):n.negative===0&&this.negative!==0?(this.negative=0,c=n.sub(this),this.negative=1,c):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},u.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var c=this.iadd(n);return n.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var y=this.cmp(n);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,a;y>0?(q=this,a=n):(q=n,a=this);for(var o=0,m=0;m<a.length;m++)c=(q.words[m]|0)-(a.words[m]|0)+o,o=c>>26,this.words[m]=c&67108863;for(;o!==0&&m<q.length;m++)c=(q.words[m]|0)+o,o=c>>26,this.words[m]=c&67108863;if(o===0&&m<q.length&&q!==this)for(;m<q.length;m++)this.words[m]=q.words[m];return this.length=Math.max(this.length,m),q!==this&&(this.negative=1),this._strip()},u.prototype.sub=function(n){return this.clone().isub(n)};function $(n,c,y){y.negative=c.negative^n.negative;var q=n.length+c.length|0;y.length=q,q=q-1|0;var a=n.words[0]|0,o=c.words[0]|0,m=a*o,j=m&67108863,R=m/67108864|0;y.words[0]=j;for(var w=1;w<q;w++){for(var E=R>>>26,B=R&67108863,e=Math.min(w,c.length-1),Q=Math.max(0,w-n.length+1);Q<=e;Q++){var I=w-Q|0;a=n.words[I]|0,o=c.words[Q]|0,m=a*o+B,E+=m/67108864|0,B=m&67108863}y.words[w]=B|0,R=E|0}return R!==0?y.words[w]=R|0:y.length--,y._strip()}var U=function(n,c,y){var q=n.words,a=c.words,o=y.words,m=0,j,R,w,E=q[0]|0,B=E&8191,e=E>>>13,Q=q[1]|0,I=Q&8191,A=Q>>>13,h1=q[2]|0,n1=h1&8191,c1=h1>>>13,G=q[3]|0,P=G&8191,D=G>>>13,p1=q[4]|0,u1=p1&8191,o1=p1>>>13,V1=q[5]|0,d1=V1&8191,a1=V1>>>13,z1=q[6]|0,m1=z1&8191,r1=z1>>>13,w1=q[7]|0,z=w1&8191,H=w1>>>13,t=q[8]|0,C=t&8191,l1=t>>>13,x1=q[9]|0,f1=x1&8191,y1=x1>>>13,i1=a[0]|0,_1=i1&8191,v1=i1>>>13,j1=a[1]|0,q1=j1&8191,O1=j1>>>13,a2=a[2]|0,T1=a2&8191,L1=a2>>>13,I1=a[3]|0,N1=I1&8191,M1=I1>>>13,m2=a[4]|0,S1=m2&8191,Z1=m2>>>13,y2=a[5]|0,$1=y2&8191,k1=y2>>>13,v2=a[6]|0,U1=v2&8191,X1=v2>>>13,_2=a[7]|0,g1=_2&8191,s1=_2>>>13,x2=a[8]|0,W1=x2&8191,R1=x2>>>13,d2=a[9]|0,K1=d2&8191,P1=d2>>>13;y.negative=n.negative^c.negative,y.length=19,j=Math.imul(B,_1),R=Math.imul(B,v1),R=R+Math.imul(e,_1)|0,w=Math.imul(e,v1);var Y1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,j=Math.imul(I,_1),R=Math.imul(I,v1),R=R+Math.imul(A,_1)|0,w=Math.imul(A,v1),j=j+Math.imul(B,q1)|0,R=R+Math.imul(B,O1)|0,R=R+Math.imul(e,q1)|0,w=w+Math.imul(e,O1)|0;var E1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(E1>>>26)|0,E1&=67108863,j=Math.imul(n1,_1),R=Math.imul(n1,v1),R=R+Math.imul(c1,_1)|0,w=Math.imul(c1,v1),j=j+Math.imul(I,q1)|0,R=R+Math.imul(I,O1)|0,R=R+Math.imul(A,q1)|0,w=w+Math.imul(A,O1)|0,j=j+Math.imul(B,T1)|0,R=R+Math.imul(B,L1)|0,R=R+Math.imul(e,T1)|0,w=w+Math.imul(e,L1)|0;var D1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(D1>>>26)|0,D1&=67108863,j=Math.imul(P,_1),R=Math.imul(P,v1),R=R+Math.imul(D,_1)|0,w=Math.imul(D,v1),j=j+Math.imul(n1,q1)|0,R=R+Math.imul(n1,O1)|0,R=R+Math.imul(c1,q1)|0,w=w+Math.imul(c1,O1)|0,j=j+Math.imul(I,T1)|0,R=R+Math.imul(I,L1)|0,R=R+Math.imul(A,T1)|0,w=w+Math.imul(A,L1)|0,j=j+Math.imul(B,N1)|0,R=R+Math.imul(B,M1)|0,R=R+Math.imul(e,N1)|0,w=w+Math.imul(e,M1)|0;var t1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(t1>>>26)|0,t1&=67108863,j=Math.imul(u1,_1),R=Math.imul(u1,v1),R=R+Math.imul(o1,_1)|0,w=Math.imul(o1,v1),j=j+Math.imul(P,q1)|0,R=R+Math.imul(P,O1)|0,R=R+Math.imul(D,q1)|0,w=w+Math.imul(D,O1)|0,j=j+Math.imul(n1,T1)|0,R=R+Math.imul(n1,L1)|0,R=R+Math.imul(c1,T1)|0,w=w+Math.imul(c1,L1)|0,j=j+Math.imul(I,N1)|0,R=R+Math.imul(I,M1)|0,R=R+Math.imul(A,N1)|0,w=w+Math.imul(A,M1)|0,j=j+Math.imul(B,S1)|0,R=R+Math.imul(B,Z1)|0,R=R+Math.imul(e,S1)|0,w=w+Math.imul(e,Z1)|0;var C1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(C1>>>26)|0,C1&=67108863,j=Math.imul(d1,_1),R=Math.imul(d1,v1),R=R+Math.imul(a1,_1)|0,w=Math.imul(a1,v1),j=j+Math.imul(u1,q1)|0,R=R+Math.imul(u1,O1)|0,R=R+Math.imul(o1,q1)|0,w=w+Math.imul(o1,O1)|0,j=j+Math.imul(P,T1)|0,R=R+Math.imul(P,L1)|0,R=R+Math.imul(D,T1)|0,w=w+Math.imul(D,L1)|0,j=j+Math.imul(n1,N1)|0,R=R+Math.imul(n1,M1)|0,R=R+Math.imul(c1,N1)|0,w=w+Math.imul(c1,M1)|0,j=j+Math.imul(I,S1)|0,R=R+Math.imul(I,Z1)|0,R=R+Math.imul(A,S1)|0,w=w+Math.imul(A,Z1)|0,j=j+Math.imul(B,$1)|0,R=R+Math.imul(B,k1)|0,R=R+Math.imul(e,$1)|0,w=w+Math.imul(e,k1)|0;var Q1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,j=Math.imul(m1,_1),R=Math.imul(m1,v1),R=R+Math.imul(r1,_1)|0,w=Math.imul(r1,v1),j=j+Math.imul(d1,q1)|0,R=R+Math.imul(d1,O1)|0,R=R+Math.imul(a1,q1)|0,w=w+Math.imul(a1,O1)|0,j=j+Math.imul(u1,T1)|0,R=R+Math.imul(u1,L1)|0,R=R+Math.imul(o1,T1)|0,w=w+Math.imul(o1,L1)|0,j=j+Math.imul(P,N1)|0,R=R+Math.imul(P,M1)|0,R=R+Math.imul(D,N1)|0,w=w+Math.imul(D,M1)|0,j=j+Math.imul(n1,S1)|0,R=R+Math.imul(n1,Z1)|0,R=R+Math.imul(c1,S1)|0,w=w+Math.imul(c1,Z1)|0,j=j+Math.imul(I,$1)|0,R=R+Math.imul(I,k1)|0,R=R+Math.imul(A,$1)|0,w=w+Math.imul(A,k1)|0,j=j+Math.imul(B,U1)|0,R=R+Math.imul(B,X1)|0,R=R+Math.imul(e,U1)|0,w=w+Math.imul(e,X1)|0;var B1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(B1>>>26)|0,B1&=67108863,j=Math.imul(z,_1),R=Math.imul(z,v1),R=R+Math.imul(H,_1)|0,w=Math.imul(H,v1),j=j+Math.imul(m1,q1)|0,R=R+Math.imul(m1,O1)|0,R=R+Math.imul(r1,q1)|0,w=w+Math.imul(r1,O1)|0,j=j+Math.imul(d1,T1)|0,R=R+Math.imul(d1,L1)|0,R=R+Math.imul(a1,T1)|0,w=w+Math.imul(a1,L1)|0,j=j+Math.imul(u1,N1)|0,R=R+Math.imul(u1,M1)|0,R=R+Math.imul(o1,N1)|0,w=w+Math.imul(o1,M1)|0,j=j+Math.imul(P,S1)|0,R=R+Math.imul(P,Z1)|0,R=R+Math.imul(D,S1)|0,w=w+Math.imul(D,Z1)|0,j=j+Math.imul(n1,$1)|0,R=R+Math.imul(n1,k1)|0,R=R+Math.imul(c1,$1)|0,w=w+Math.imul(c1,k1)|0,j=j+Math.imul(I,U1)|0,R=R+Math.imul(I,X1)|0,R=R+Math.imul(A,U1)|0,w=w+Math.imul(A,X1)|0,j=j+Math.imul(B,g1)|0,R=R+Math.imul(B,s1)|0,R=R+Math.imul(e,g1)|0,w=w+Math.imul(e,s1)|0;var e1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(e1>>>26)|0,e1&=67108863,j=Math.imul(C,_1),R=Math.imul(C,v1),R=R+Math.imul(l1,_1)|0,w=Math.imul(l1,v1),j=j+Math.imul(z,q1)|0,R=R+Math.imul(z,O1)|0,R=R+Math.imul(H,q1)|0,w=w+Math.imul(H,O1)|0,j=j+Math.imul(m1,T1)|0,R=R+Math.imul(m1,L1)|0,R=R+Math.imul(r1,T1)|0,w=w+Math.imul(r1,L1)|0,j=j+Math.imul(d1,N1)|0,R=R+Math.imul(d1,M1)|0,R=R+Math.imul(a1,N1)|0,w=w+Math.imul(a1,M1)|0,j=j+Math.imul(u1,S1)|0,R=R+Math.imul(u1,Z1)|0,R=R+Math.imul(o1,S1)|0,w=w+Math.imul(o1,Z1)|0,j=j+Math.imul(P,$1)|0,R=R+Math.imul(P,k1)|0,R=R+Math.imul(D,$1)|0,w=w+Math.imul(D,k1)|0,j=j+Math.imul(n1,U1)|0,R=R+Math.imul(n1,X1)|0,R=R+Math.imul(c1,U1)|0,w=w+Math.imul(c1,X1)|0,j=j+Math.imul(I,g1)|0,R=R+Math.imul(I,s1)|0,R=R+Math.imul(A,g1)|0,w=w+Math.imul(A,s1)|0,j=j+Math.imul(B,W1)|0,R=R+Math.imul(B,R1)|0,R=R+Math.imul(e,W1)|0,w=w+Math.imul(e,R1)|0;var A1=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(A1>>>26)|0,A1&=67108863,j=Math.imul(f1,_1),R=Math.imul(f1,v1),R=R+Math.imul(y1,_1)|0,w=Math.imul(y1,v1),j=j+Math.imul(C,q1)|0,R=R+Math.imul(C,O1)|0,R=R+Math.imul(l1,q1)|0,w=w+Math.imul(l1,O1)|0,j=j+Math.imul(z,T1)|0,R=R+Math.imul(z,L1)|0,R=R+Math.imul(H,T1)|0,w=w+Math.imul(H,L1)|0,j=j+Math.imul(m1,N1)|0,R=R+Math.imul(m1,M1)|0,R=R+Math.imul(r1,N1)|0,w=w+Math.imul(r1,M1)|0,j=j+Math.imul(d1,S1)|0,R=R+Math.imul(d1,Z1)|0,R=R+Math.imul(a1,S1)|0,w=w+Math.imul(a1,Z1)|0,j=j+Math.imul(u1,$1)|0,R=R+Math.imul(u1,k1)|0,R=R+Math.imul(o1,$1)|0,w=w+Math.imul(o1,k1)|0,j=j+Math.imul(P,U1)|0,R=R+Math.imul(P,X1)|0,R=R+Math.imul(D,U1)|0,w=w+Math.imul(D,X1)|0,j=j+Math.imul(n1,g1)|0,R=R+Math.imul(n1,s1)|0,R=R+Math.imul(c1,g1)|0,w=w+Math.imul(c1,s1)|0,j=j+Math.imul(I,W1)|0,R=R+Math.imul(I,R1)|0,R=R+Math.imul(A,W1)|0,w=w+Math.imul(A,R1)|0,j=j+Math.imul(B,K1)|0,R=R+Math.imul(B,P1)|0,R=R+Math.imul(e,K1)|0,w=w+Math.imul(e,P1)|0;var l2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(l2>>>26)|0,l2&=67108863,j=Math.imul(f1,q1),R=Math.imul(f1,O1),R=R+Math.imul(y1,q1)|0,w=Math.imul(y1,O1),j=j+Math.imul(C,T1)|0,R=R+Math.imul(C,L1)|0,R=R+Math.imul(l1,T1)|0,w=w+Math.imul(l1,L1)|0,j=j+Math.imul(z,N1)|0,R=R+Math.imul(z,M1)|0,R=R+Math.imul(H,N1)|0,w=w+Math.imul(H,M1)|0,j=j+Math.imul(m1,S1)|0,R=R+Math.imul(m1,Z1)|0,R=R+Math.imul(r1,S1)|0,w=w+Math.imul(r1,Z1)|0,j=j+Math.imul(d1,$1)|0,R=R+Math.imul(d1,k1)|0,R=R+Math.imul(a1,$1)|0,w=w+Math.imul(a1,k1)|0,j=j+Math.imul(u1,U1)|0,R=R+Math.imul(u1,X1)|0,R=R+Math.imul(o1,U1)|0,w=w+Math.imul(o1,X1)|0,j=j+Math.imul(P,g1)|0,R=R+Math.imul(P,s1)|0,R=R+Math.imul(D,g1)|0,w=w+Math.imul(D,s1)|0,j=j+Math.imul(n1,W1)|0,R=R+Math.imul(n1,R1)|0,R=R+Math.imul(c1,W1)|0,w=w+Math.imul(c1,R1)|0,j=j+Math.imul(I,K1)|0,R=R+Math.imul(I,P1)|0,R=R+Math.imul(A,K1)|0,w=w+Math.imul(A,P1)|0;var o2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(o2>>>26)|0,o2&=67108863,j=Math.imul(f1,T1),R=Math.imul(f1,L1),R=R+Math.imul(y1,T1)|0,w=Math.imul(y1,L1),j=j+Math.imul(C,N1)|0,R=R+Math.imul(C,M1)|0,R=R+Math.imul(l1,N1)|0,w=w+Math.imul(l1,M1)|0,j=j+Math.imul(z,S1)|0,R=R+Math.imul(z,Z1)|0,R=R+Math.imul(H,S1)|0,w=w+Math.imul(H,Z1)|0,j=j+Math.imul(m1,$1)|0,R=R+Math.imul(m1,k1)|0,R=R+Math.imul(r1,$1)|0,w=w+Math.imul(r1,k1)|0,j=j+Math.imul(d1,U1)|0,R=R+Math.imul(d1,X1)|0,R=R+Math.imul(a1,U1)|0,w=w+Math.imul(a1,X1)|0,j=j+Math.imul(u1,g1)|0,R=R+Math.imul(u1,s1)|0,R=R+Math.imul(o1,g1)|0,w=w+Math.imul(o1,s1)|0,j=j+Math.imul(P,W1)|0,R=R+Math.imul(P,R1)|0,R=R+Math.imul(D,W1)|0,w=w+Math.imul(D,R1)|0,j=j+Math.imul(n1,K1)|0,R=R+Math.imul(n1,P1)|0,R=R+Math.imul(c1,K1)|0,w=w+Math.imul(c1,P1)|0;var n2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(n2>>>26)|0,n2&=67108863,j=Math.imul(f1,N1),R=Math.imul(f1,M1),R=R+Math.imul(y1,N1)|0,w=Math.imul(y1,M1),j=j+Math.imul(C,S1)|0,R=R+Math.imul(C,Z1)|0,R=R+Math.imul(l1,S1)|0,w=w+Math.imul(l1,Z1)|0,j=j+Math.imul(z,$1)|0,R=R+Math.imul(z,k1)|0,R=R+Math.imul(H,$1)|0,w=w+Math.imul(H,k1)|0,j=j+Math.imul(m1,U1)|0,R=R+Math.imul(m1,X1)|0,R=R+Math.imul(r1,U1)|0,w=w+Math.imul(r1,X1)|0,j=j+Math.imul(d1,g1)|0,R=R+Math.imul(d1,s1)|0,R=R+Math.imul(a1,g1)|0,w=w+Math.imul(a1,s1)|0,j=j+Math.imul(u1,W1)|0,R=R+Math.imul(u1,R1)|0,R=R+Math.imul(o1,W1)|0,w=w+Math.imul(o1,R1)|0,j=j+Math.imul(P,K1)|0,R=R+Math.imul(P,P1)|0,R=R+Math.imul(D,K1)|0,w=w+Math.imul(D,P1)|0;var p2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(p2>>>26)|0,p2&=67108863,j=Math.imul(f1,S1),R=Math.imul(f1,Z1),R=R+Math.imul(y1,S1)|0,w=Math.imul(y1,Z1),j=j+Math.imul(C,$1)|0,R=R+Math.imul(C,k1)|0,R=R+Math.imul(l1,$1)|0,w=w+Math.imul(l1,k1)|0,j=j+Math.imul(z,U1)|0,R=R+Math.imul(z,X1)|0,R=R+Math.imul(H,U1)|0,w=w+Math.imul(H,X1)|0,j=j+Math.imul(m1,g1)|0,R=R+Math.imul(m1,s1)|0,R=R+Math.imul(r1,g1)|0,w=w+Math.imul(r1,s1)|0,j=j+Math.imul(d1,W1)|0,R=R+Math.imul(d1,R1)|0,R=R+Math.imul(a1,W1)|0,w=w+Math.imul(a1,R1)|0,j=j+Math.imul(u1,K1)|0,R=R+Math.imul(u1,P1)|0,R=R+Math.imul(o1,K1)|0,w=w+Math.imul(o1,P1)|0;var u2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(u2>>>26)|0,u2&=67108863,j=Math.imul(f1,$1),R=Math.imul(f1,k1),R=R+Math.imul(y1,$1)|0,w=Math.imul(y1,k1),j=j+Math.imul(C,U1)|0,R=R+Math.imul(C,X1)|0,R=R+Math.imul(l1,U1)|0,w=w+Math.imul(l1,X1)|0,j=j+Math.imul(z,g1)|0,R=R+Math.imul(z,s1)|0,R=R+Math.imul(H,g1)|0,w=w+Math.imul(H,s1)|0,j=j+Math.imul(m1,W1)|0,R=R+Math.imul(m1,R1)|0,R=R+Math.imul(r1,W1)|0,w=w+Math.imul(r1,R1)|0,j=j+Math.imul(d1,K1)|0,R=R+Math.imul(d1,P1)|0,R=R+Math.imul(a1,K1)|0,w=w+Math.imul(a1,P1)|0;var c2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(c2>>>26)|0,c2&=67108863,j=Math.imul(f1,U1),R=Math.imul(f1,X1),R=R+Math.imul(y1,U1)|0,w=Math.imul(y1,X1),j=j+Math.imul(C,g1)|0,R=R+Math.imul(C,s1)|0,R=R+Math.imul(l1,g1)|0,w=w+Math.imul(l1,s1)|0,j=j+Math.imul(z,W1)|0,R=R+Math.imul(z,R1)|0,R=R+Math.imul(H,W1)|0,w=w+Math.imul(H,R1)|0,j=j+Math.imul(m1,K1)|0,R=R+Math.imul(m1,P1)|0,R=R+Math.imul(r1,K1)|0,w=w+Math.imul(r1,P1)|0;var f2=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(f2>>>26)|0,f2&=67108863,j=Math.imul(f1,g1),R=Math.imul(f1,s1),R=R+Math.imul(y1,g1)|0,w=Math.imul(y1,s1),j=j+Math.imul(C,W1)|0,R=R+Math.imul(C,R1)|0,R=R+Math.imul(l1,W1)|0,w=w+Math.imul(l1,R1)|0,j=j+Math.imul(z,K1)|0,R=R+Math.imul(z,P1)|0,R=R+Math.imul(H,K1)|0,w=w+Math.imul(H,P1)|0;var L0=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(L0>>>26)|0,L0&=67108863,j=Math.imul(f1,W1),R=Math.imul(f1,R1),R=R+Math.imul(y1,W1)|0,w=Math.imul(y1,R1),j=j+Math.imul(C,K1)|0,R=R+Math.imul(C,P1)|0,R=R+Math.imul(l1,K1)|0,w=w+Math.imul(l1,P1)|0;var T0=(m+j|0)+((R&8191)<<13)|0;m=(w+(R>>>13)|0)+(T0>>>26)|0,T0&=67108863,j=Math.imul(f1,K1),R=Math.imul(f1,P1),R=R+Math.imul(y1,K1)|0,w=Math.imul(y1,P1);var q0=(m+j|0)+((R&8191)<<13)|0;return m=(w+(R>>>13)|0)+(q0>>>26)|0,q0&=67108863,o[0]=Y1,o[1]=E1,o[2]=D1,o[3]=t1,o[4]=C1,o[5]=Q1,o[6]=B1,o[7]=e1,o[8]=A1,o[9]=l2,o[10]=o2,o[11]=n2,o[12]=p2,o[13]=u2,o[14]=c2,o[15]=f2,o[16]=L0,o[17]=T0,o[18]=q0,m!==0&&(o[19]=m,y.length++),y};Math.imul||(U=$);function s(n,c,y){y.negative=c.negative^n.negative,y.length=n.length+c.length;for(var q=0,a=0,o=0;o<y.length-1;o++){var m=a;a=0;for(var j=q&67108863,R=Math.min(o,c.length-1),w=Math.max(0,o-n.length+1);w<=R;w++){var E=o-w,B=n.words[E]|0,e=c.words[w]|0,Q=B*e,I=Q&67108863;m=m+(Q/67108864|0)|0,I=I+j|0,j=I&67108863,m=m+(I>>>26)|0,a+=m>>>26,m&=67108863}y.words[o]=j,q=m,m=a}return q!==0?y.words[o]=q:y.length--,y._strip()}function W(n,c,y){return s(n,c,y)}u.prototype.mulTo=function(n,c){var y,q=this.length+n.length;return this.length===10&&n.length===10?y=U(this,n,c):q<63?y=$(this,n,c):q<1024?y=s(this,n,c):y=W(this,n,c),y};function g(n,c){this.x=n,this.y=c}g.prototype.makeRBT=function(n){for(var c=new Array(n),y=u.prototype._countBits(n)-1,q=0;q<n;q++)c[q]=this.revBin(q,y,n);return c},g.prototype.revBin=function(n,c,y){if(n===0||n===y-1)return n;for(var q=0,a=0;a<c;a++)q|=(n&1)<<c-a-1,n>>=1;return q},g.prototype.permute=function(n,c,y,q,a,o){for(var m=0;m<o;m++)q[m]=c[n[m]],a[m]=y[n[m]]},g.prototype.transform=function(n,c,y,q,a,o){this.permute(o,n,c,y,q,a);for(var m=1;m<a;m<<=1)for(var j=m<<1,R=Math.cos(2*Math.PI/j),w=Math.sin(2*Math.PI/j),E=0;E<a;E+=j)for(var B=R,e=w,Q=0;Q<m;Q++){var I=y[E+Q],A=q[E+Q],h1=y[E+Q+m],n1=q[E+Q+m],c1=B*h1-e*n1;n1=B*n1+e*h1,h1=c1,y[E+Q]=I+h1,q[E+Q]=A+n1,y[E+Q+m]=I-h1,q[E+Q+m]=A-n1,Q!==j&&(c1=R*B-w*e,e=R*e+w*B,B=c1)}},g.prototype.guessLen13b=function(n,c){var y=Math.max(c,n)|1,q=y&1,a=0;for(y=y/2|0;y;y=y>>>1)a++;return 1<<a+1+q},g.prototype.conjugate=function(n,c,y){if(!(y<=1))for(var q=0;q<y/2;q++){var a=n[q];n[q]=n[y-q-1],n[y-q-1]=a,a=c[q],c[q]=-c[y-q-1],c[y-q-1]=-a}},g.prototype.normalize13b=function(n,c){for(var y=0,q=0;q<c/2;q++){var a=Math.round(n[2*q+1]/c)*8192+Math.round(n[2*q]/c)+y;n[q]=a&67108863,a<67108864?y=0:y=a/67108864|0}return n},g.prototype.convert13b=function(n,c,y,q){for(var a=0,o=0;o<c;o++)a=a+(n[o]|0),y[2*o]=a&8191,a=a>>>13,y[2*o+1]=a&8191,a=a>>>13;for(o=2*c;o<q;++o)y[o]=0;T(a===0),T((a&-8192)===0)},g.prototype.stub=function(n){for(var c=new Array(n),y=0;y<n;y++)c[y]=0;return c},g.prototype.mulp=function(n,c,y){var q=2*this.guessLen13b(n.length,c.length),a=this.makeRBT(q),o=this.stub(q),m=new Array(q),j=new Array(q),R=new Array(q),w=new Array(q),E=new Array(q),B=new Array(q),e=y.words;e.length=q,this.convert13b(n.words,n.length,m,q),this.convert13b(c.words,c.length,w,q),this.transform(m,o,j,R,q,a),this.transform(w,o,E,B,q,a);for(var Q=0;Q<q;Q++){var I=j[Q]*E[Q]-R[Q]*B[Q];R[Q]=j[Q]*B[Q]+R[Q]*E[Q],j[Q]=I}return this.conjugate(j,R,q),this.transform(j,R,e,o,q,a),this.conjugate(e,o,q),this.normalize13b(e,q),y.negative=n.negative^c.negative,y.length=n.length+c.length,y._strip()},u.prototype.mul=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),this.mulTo(n,c)},u.prototype.mulf=function(n){var c=new u(null);return c.words=new Array(this.length+n.length),W(this,n,c)},u.prototype.imul=function(n){return this.clone().mulTo(n,this)},u.prototype.imuln=function(n){var c=n<0;c&&(n=-n),T(typeof n=="number"),T(n<67108864);for(var y=0,q=0;q<this.length;q++){var a=(this.words[q]|0)*n,o=(a&67108863)+(y&67108863);y>>=26,y+=a/67108864|0,y+=o>>>26,this.words[q]=o&67108863}return y!==0&&(this.words[q]=y,this.length++),c?this.ineg():this},u.prototype.muln=function(n){return this.clone().imuln(n)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(n){var c=Z(n);if(c.length===0)return new u(1);for(var y=this,q=0;q<c.length&&c[q]===0;q++,y=y.sqr());if(++q<c.length)for(var a=y.sqr();q<c.length;q++,a=a.sqr())c[q]!==0&&(y=y.mul(a));return y},u.prototype.iushln=function(n){T(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26,q=67108863>>>26-c<<26-c,a;if(c!==0){var o=0;for(a=0;a<this.length;a++){var m=this.words[a]&q,j=(this.words[a]|0)-m<<c;this.words[a]=j|o,o=m>>>26-c}o&&(this.words[a]=o,this.length++)}if(y!==0){for(a=this.length-1;a>=0;a--)this.words[a+y]=this.words[a];for(a=0;a<y;a++)this.words[a]=0;this.length+=y}return this._strip()},u.prototype.ishln=function(n){return T(this.negative===0),this.iushln(n)},u.prototype.iushrn=function(n,c,y){T(typeof n=="number"&&n>=0);var q;c?q=(c-c%26)/26:q=0;var a=n%26,o=Math.min((n-a)/26,this.length),m=67108863^67108863>>>a<<a,j=y;if(q-=o,q=Math.max(0,q),j){for(var R=0;R<o;R++)j.words[R]=this.words[R];j.length=o}if(o!==0)if(this.length>o)for(this.length-=o,R=0;R<this.length;R++)this.words[R]=this.words[R+o];else this.words[0]=0,this.length=1;var w=0;for(R=this.length-1;R>=0&&(w!==0||R>=q);R--){var E=this.words[R]|0;this.words[R]=w<<26-a|E>>>a,w=E&m}return j&&w!==0&&(j.words[j.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},u.prototype.ishrn=function(n,c,y){return T(this.negative===0),this.iushrn(n,c,y)},u.prototype.shln=function(n){return this.clone().ishln(n)},u.prototype.ushln=function(n){return this.clone().iushln(n)},u.prototype.shrn=function(n){return this.clone().ishrn(n)},u.prototype.ushrn=function(n){return this.clone().iushrn(n)},u.prototype.testn=function(n){T(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26,q=1<<c;if(this.length<=y)return!1;var a=this.words[y];return!!(a&q)},u.prototype.imaskn=function(n){T(typeof n=="number"&&n>=0);var c=n%26,y=(n-c)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(c!==0&&y++,this.length=Math.min(y,this.length),c!==0){var q=67108863^67108863>>>c<<c;this.words[this.length-1]&=q}return this._strip()},u.prototype.maskn=function(n){return this.clone().imaskn(n)},u.prototype.iaddn=function(n){return T(typeof n=="number"),T(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<=n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},u.prototype._iaddn=function(n){this.words[0]+=n;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},u.prototype.isubn=function(n){if(T(typeof n=="number"),T(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},u.prototype.addn=function(n){return this.clone().iaddn(n)},u.prototype.subn=function(n){return this.clone().isubn(n)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(n,c,y){var q=n.length+y,a;this._expand(q);var o,m=0;for(a=0;a<n.length;a++){o=(this.words[a+y]|0)+m;var j=(n.words[a]|0)*c;o-=j&67108863,m=(o>>26)-(j/67108864|0),this.words[a+y]=o&67108863}for(;a<this.length-y;a++)o=(this.words[a+y]|0)+m,m=o>>26,this.words[a+y]=o&67108863;if(m===0)return this._strip();for(T(m===-1),m=0,a=0;a<this.length;a++)o=-(this.words[a]|0)+m,m=o>>26,this.words[a]=o&67108863;return this.negative=1,this._strip()},u.prototype._wordDiv=function(n,c){var y=this.length-n.length,q=this.clone(),a=n,o=a.words[a.length-1]|0,m=this._countBits(o);y=26-m,y!==0&&(a=a.ushln(y),q.iushln(y),o=a.words[a.length-1]|0);var j=q.length-a.length,R;if(c!=="mod"){R=new u(null),R.length=j+1,R.words=new Array(R.length);for(var w=0;w<R.length;w++)R.words[w]=0}var E=q.clone()._ishlnsubmul(a,1,j);E.negative===0&&(q=E,R&&(R.words[j]=1));for(var B=j-1;B>=0;B--){var e=(q.words[a.length+B]|0)*67108864+(q.words[a.length+B-1]|0);for(e=Math.min(e/o|0,67108863),q._ishlnsubmul(a,e,B);q.negative!==0;)e--,q.negative=0,q._ishlnsubmul(a,1,B),q.isZero()||(q.negative^=1);R&&(R.words[B]=e)}return R&&R._strip(),q._strip(),c!=="div"&&y!==0&&q.iushrn(y),{div:R||null,mod:q}},u.prototype.divmod=function(n,c,y){if(T(!n.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,a,o;return this.negative!==0&&n.negative===0?(o=this.neg().divmod(n,c),c!=="mod"&&(q=o.div.neg()),c!=="div"&&(a=o.mod.neg(),y&&a.negative!==0&&a.iadd(n)),{div:q,mod:a}):this.negative===0&&n.negative!==0?(o=this.divmod(n.neg(),c),c!=="mod"&&(q=o.div.neg()),{div:q,mod:o.mod}):(this.negative&n.negative)!==0?(o=this.neg().divmod(n.neg(),c),c!=="div"&&(a=o.mod.neg(),y&&a.negative!==0&&a.isub(n)),{div:o.div,mod:a}):n.length>this.length||this.cmp(n)<0?{div:new u(0),mod:this}:n.length===1?c==="div"?{div:this.divn(n.words[0]),mod:null}:c==="mod"?{div:null,mod:new u(this.modrn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new u(this.modrn(n.words[0]))}:this._wordDiv(n,c)},u.prototype.div=function(n){return this.divmod(n,"div",!1).div},u.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},u.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},u.prototype.divRound=function(n){var c=this.divmod(n);if(c.mod.isZero())return c.div;var y=c.div.negative!==0?c.mod.isub(n):c.mod,q=n.ushrn(1),a=n.andln(1),o=y.cmp(q);return o<0||a===1&&o===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},u.prototype.modrn=function(n){var c=n<0;c&&(n=-n),T(n<=67108863);for(var y=67108864%n,q=0,a=this.length-1;a>=0;a--)q=(y*q+(this.words[a]|0))%n;return c?-q:q},u.prototype.modn=function(n){return this.modrn(n)},u.prototype.idivn=function(n){var c=n<0;c&&(n=-n),T(n<=67108863);for(var y=0,q=this.length-1;q>=0;q--){var a=(this.words[q]|0)+y*67108864;this.words[q]=a/n|0,y=a%n}return this._strip(),c?this.ineg():this},u.prototype.divn=function(n){return this.clone().idivn(n)},u.prototype.egcd=function(n){T(n.negative===0),T(!n.isZero());var c=this,y=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var q=new u(1),a=new u(0),o=new u(0),m=new u(1),j=0;c.isEven()&&y.isEven();)c.iushrn(1),y.iushrn(1),++j;for(var R=y.clone(),w=c.clone();!c.isZero();){for(var E=0,B=1;(c.words[0]&B)===0&&E<26;++E,B<<=1);if(E>0)for(c.iushrn(E);E-- >0;)(q.isOdd()||a.isOdd())&&(q.iadd(R),a.isub(w)),q.iushrn(1),a.iushrn(1);for(var e=0,Q=1;(y.words[0]&Q)===0&&e<26;++e,Q<<=1);if(e>0)for(y.iushrn(e);e-- >0;)(o.isOdd()||m.isOdd())&&(o.iadd(R),m.isub(w)),o.iushrn(1),m.iushrn(1);c.cmp(y)>=0?(c.isub(y),q.isub(o),a.isub(m)):(y.isub(c),o.isub(q),m.isub(a))}return{a:o,b:m,gcd:y.iushln(j)}},u.prototype._invmp=function(n){T(n.negative===0),T(!n.isZero());var c=this,y=n.clone();c.negative!==0?c=c.umod(n):c=c.clone();for(var q=new u(1),a=new u(0),o=y.clone();c.cmpn(1)>0&&y.cmpn(1)>0;){for(var m=0,j=1;(c.words[0]&j)===0&&m<26;++m,j<<=1);if(m>0)for(c.iushrn(m);m-- >0;)q.isOdd()&&q.iadd(o),q.iushrn(1);for(var R=0,w=1;(y.words[0]&w)===0&&R<26;++R,w<<=1);if(R>0)for(y.iushrn(R);R-- >0;)a.isOdd()&&a.iadd(o),a.iushrn(1);c.cmp(y)>=0?(c.isub(y),q.isub(a)):(y.isub(c),a.isub(q))}var E;return c.cmpn(1)===0?E=q:E=a,E.cmpn(0)<0&&E.iadd(n),E},u.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var c=this.clone(),y=n.clone();c.negative=0,y.negative=0;for(var q=0;c.isEven()&&y.isEven();q++)c.iushrn(1),y.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;y.isEven();)y.iushrn(1);var a=c.cmp(y);if(a<0){var o=c;c=y,y=o}else if(a===0||y.cmpn(1)===0)break;c.isub(y)}while(!0);return y.iushln(q)},u.prototype.invm=function(n){return this.egcd(n).a.umod(n)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(n){return this.words[0]&n},u.prototype.bincn=function(n){T(typeof n=="number");var c=n%26,y=(n-c)/26,q=1<<c;if(this.length<=y)return this._expand(y+1),this.words[y]|=q,this;for(var a=q,o=y;a!==0&&o<this.length;o++){var m=this.words[o]|0;m+=a,a=m>>>26,m&=67108863,this.words[o]=m}return a!==0&&(this.words[o]=a,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(n){var c=n<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var y;if(this.length>1)y=1;else{c&&(n=-n),T(n<=67108863,"Number is too big");var q=this.words[0]|0;y=q===n?0:q<n?-1:1}return this.negative!==0?-y|0:y},u.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var c=this.ucmp(n);return this.negative!==0?-c|0:c},u.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var c=0,y=this.length-1;y>=0;y--){var q=this.words[y]|0,a=n.words[y]|0;if(q!==a){q<a?c=-1:q>a&&(c=1);break}}return c},u.prototype.gtn=function(n){return this.cmpn(n)===1},u.prototype.gt=function(n){return this.cmp(n)===1},u.prototype.gten=function(n){return this.cmpn(n)>=0},u.prototype.gte=function(n){return this.cmp(n)>=0},u.prototype.ltn=function(n){return this.cmpn(n)===-1},u.prototype.lt=function(n){return this.cmp(n)===-1},u.prototype.lten=function(n){return this.cmpn(n)<=0},u.prototype.lte=function(n){return this.cmp(n)<=0},u.prototype.eqn=function(n){return this.cmpn(n)===0},u.prototype.eq=function(n){return this.cmp(n)===0},u.red=function(n){return new p(n)},u.prototype.toRed=function(n){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(n){return this.red=n,this},u.prototype.forceRed=function(n){return T(!this.red,"Already a number in reduction context"),this._forceRed(n)},u.prototype.redAdd=function(n){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},u.prototype.redIAdd=function(n){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},u.prototype.redSub=function(n){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},u.prototype.redISub=function(n){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},u.prototype.redShl=function(n){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},u.prototype.redMul=function(n){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},u.prototype.redIMul=function(n){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(n){return T(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var K={k256:null,p224:null,p192:null,p25519:null};function i(n,c){this.name=n,this.p=new u(c,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}i.prototype._tmp=function(){var n=new u(null);return n.words=new Array(Math.ceil(this.n/13)),n},i.prototype.ireduce=function(n){var c=n,y;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),y=c.bitLength();while(y>this.n);var q=y<this.n?-1:c.ucmp(this.p);return q===0?(c.words[0]=0,c.length=1):q>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},i.prototype.split=function(n,c){n.iushrn(this.n,0,c)},i.prototype.imulK=function(n){return n.imul(this.k)};function J(){i.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(J,i),J.prototype.split=function(n,c){for(var y=4194303,q=Math.min(n.length,9),a=0;a<q;a++)c.words[a]=n.words[a];if(c.length=q,n.length<=9){n.words[0]=0,n.length=1;return}var o=n.words[9];for(c.words[c.length++]=o&y,a=10;a<n.length;a++){var m=n.words[a]|0;n.words[a-10]=(m&y)<<4|o>>>22,o=m}o>>>=22,n.words[a-10]=o,o===0&&n.length>10?n.length-=10:n.length-=9},J.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var c=0,y=0;y<n.length;y++){var q=n.words[y]|0;c+=q*977,n.words[y]=c&67108863,c=q*64+(c/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function F(){i.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(F,i);function Y(){i.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(Y,i);function l(){i.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(l,i),l.prototype.imulK=function(n){for(var c=0,y=0;y<n.length;y++){var q=(n.words[y]|0)*19+c,a=q&67108863;q>>>=26,n.words[y]=a,c=q}return c!==0&&(n.words[n.length++]=c),n},u._prime=function(n){if(K[n])return K[n];var c;if(n==="k256")c=new J;else if(n==="p224")c=new F;else if(n==="p192")c=new Y;else if(n==="p25519")c=new l;else throw new Error("Unknown prime "+n);return K[n]=c,c};function p(n){if(typeof n=="string"){var c=u._prime(n);this.m=c.p,this.prime=c}else T(n.gtn(1),"modulus must be greater than 1"),this.m=n,this.prime=null}p.prototype._verify1=function(n){T(n.negative===0,"red works only with positives"),T(n.red,"red works only with red numbers")},p.prototype._verify2=function(n,c){T((n.negative|c.negative)===0,"red works only with positives"),T(n.red&&n.red===c.red,"red works only with red numbers")},p.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):(v(n,n.umod(this.m)._forceRed(this)),n)},p.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},p.prototype.add=function(n,c){this._verify2(n,c);var y=n.add(c);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},p.prototype.iadd=function(n,c){this._verify2(n,c);var y=n.iadd(c);return y.cmp(this.m)>=0&&y.isub(this.m),y},p.prototype.sub=function(n,c){this._verify2(n,c);var y=n.sub(c);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},p.prototype.isub=function(n,c){this._verify2(n,c);var y=n.isub(c);return y.cmpn(0)<0&&y.iadd(this.m),y},p.prototype.shl=function(n,c){return this._verify1(n),this.imod(n.ushln(c))},p.prototype.imul=function(n,c){return this._verify2(n,c),this.imod(n.imul(c))},p.prototype.mul=function(n,c){return this._verify2(n,c),this.imod(n.mul(c))},p.prototype.isqr=function(n){return this.imul(n,n.clone())},p.prototype.sqr=function(n){return this.mul(n,n)},p.prototype.sqrt=function(n){if(n.isZero())return n.clone();var c=this.m.andln(3);if(T(c%2===1),c===3){var y=this.m.add(new u(1)).iushrn(2);return this.pow(n,y)}for(var q=this.m.subn(1),a=0;!q.isZero()&&q.andln(1)===0;)a++,q.iushrn(1);T(!q.isZero());var o=new u(1).toRed(this),m=o.redNeg(),j=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new u(2*R*R).toRed(this);this.pow(R,j).cmp(m)!==0;)R.redIAdd(m);for(var w=this.pow(R,q),E=this.pow(n,q.addn(1).iushrn(1)),B=this.pow(n,q),e=a;B.cmp(o)!==0;){for(var Q=B,I=0;Q.cmp(o)!==0;I++)Q=Q.redSqr();T(I<e);var A=this.pow(w,new u(1).iushln(e-I-1));E=E.redMul(A),w=A.redSqr(),B=B.redMul(w),e=I}return E},p.prototype.invm=function(n){var c=n._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},p.prototype.pow=function(n,c){if(c.isZero())return new u(1).toRed(this);if(c.cmpn(1)===0)return n.clone();var y=4,q=new Array(1<<y);q[0]=new u(1).toRed(this),q[1]=n;for(var a=2;a<q.length;a++)q[a]=this.mul(q[a-1],n);var o=q[0],m=0,j=0,R=c.bitLength()%26;for(R===0&&(R=26),a=c.length-1;a>=0;a--){for(var w=c.words[a],E=R-1;E>=0;E--){var B=w>>E&1;if(o!==q[0]&&(o=this.sqr(o)),B===0&&m===0){j=0;continue}m<<=1,m|=B,j++,!(j!==y&&(a!==0||E!==0))&&(o=this.mul(o,q[m]),j=0,m=0)}R=26}return o},p.prototype.convertTo=function(n){var c=n.umod(this.m);return c===n?c.clone():c},p.prototype.convertFrom=function(n){var c=n.clone();return c.red=null,c},u.mont=function(n){return new f(n)};function f(n){p.call(this,n),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(f,p),f.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},f.prototype.convertFrom=function(n){var c=this.imod(n.mul(this.rinv));return c.red=null,c},f.prototype.imul=function(n,c){if(n.isZero()||c.isZero())return n.words[0]=0,n.length=1,n;var y=n.imul(c),q=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=y.isub(q).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},f.prototype.mul=function(n,c){if(n.isZero()||c.isZero())return new u(0)._forceRed(this);var y=n.mul(c),q=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=y.isub(q).iushrn(this.shift),o=a;return a.cmp(this.m)>=0?o=a.isub(this.m):a.cmpn(0)<0&&(o=a.iadd(this.m)),o._forceRed(this)},f.prototype.invm=function(n){var c=this.imod(n._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof k>"u"||k,V)}),G6=b1((V,k)=>{var _=J6(),X=u3();function T(h){var M=b(h),r=M.toRed(_.mont(h.modulus)).redPow(new _(h.publicExponent)).fromRed();return{blinder:r,unblinder:M.invm(h.modulus)}}function b(h){var M=h.modulus.byteLength(),r;do r=new _(X(M));while(r.cmp(h.modulus)>=0||!r.umod(h.prime1)||!r.umod(h.prime2));return r}function u(h,M){var r=T(M),L=M.modulus.byteLength(),v=new _(h).mul(r.blinder).umod(M.modulus),S=v.toRed(_.mont(M.prime1)),x=v.toRed(_.mont(M.prime2)),d=M.coefficient,N=M.prime1,O=M.prime2,Z=S.redPow(M.exponent1).fromRed(),$=x.redPow(M.exponent2).fromRed(),U=Z.isub($).imul(d).umod(N).imul(O);return $.iadd(U).imul(r.unblinder).umod(M.modulus).toArrayLike(Buffer,"be",L)}u.getr=b,k.exports=u}),E8=b1((V,k)=>{k.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}}),j2=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),V5=b1((V)=>{var k=V;function _(b,u){if(Array.isArray(b))return b.slice();if(!b)return[];var h=[];if(typeof b!="string"){for(var M=0;M<b.length;M++)h[M]=b[M]|0;return h}if(u==="hex"){b=b.replace(/[^a-z0-9]+/ig,""),b.length%2!==0&&(b="0"+b);for(var M=0;M<b.length;M+=2)h.push(parseInt(b[M]+b[M+1],16))}else for(var M=0;M<b.length;M++){var r=b.charCodeAt(M),L=r>>8,v=r&255;L?h.push(L,v):h.push(v)}return h}k.toArray=_;function X(b){return b.length===1?"0"+b:b}k.zero2=X;function T(b){for(var u="",h=0;h<b.length;h++)u+=X(b[h].toString(16));return u}k.toHex=T,k.encode=function(b,u){return u==="hex"?T(b):b}}),Z2=b1((V)=>{var k=V,_=j2(),X=S2(),T=V5();k.assert=X,k.toArray=T.toArray,k.zero2=T.zero2,k.toHex=T.toHex,k.encode=T.encode;function b(L,v,S){var x=new Array(Math.max(L.bitLength(),S)+1);x.fill(0);for(var d=1<<v+1,N=L.clone(),O=0;O<x.length;O++){var Z,$=N.andln(d-1);N.isOdd()?($>(d>>1)-1?Z=(d>>1)-$:Z=$,N.isubn(Z)):Z=0,x[O]=Z,N.iushrn(1)}return x}k.getNAF=b;function u(L,v){var S=[[],[]];L=L.clone(),v=v.clone();for(var x=0,d=0,N;L.cmpn(-x)>0||v.cmpn(-d)>0;){var O=L.andln(3)+x&3,Z=v.andln(3)+d&3;O===3&&(O=-1),Z===3&&(Z=-1);var $;(O&1)===0?$=0:(N=L.andln(7)+x&7,(N===3||N===5)&&Z===2?$=-O:$=O),S[0].push($);var U;(Z&1)===0?U=0:(N=v.andln(7)+d&7,(N===3||N===5)&&O===2?U=-Z:U=Z),S[1].push(U),2*x===$+1&&(x=1-x),2*d===U+1&&(d=1-d),L.iushrn(1),v.iushrn(1)}return S}k.getJSF=u;function h(L,v,S){var x="_"+v;L.prototype[v]=function(){return this[x]!==void 0?this[x]:this[x]=S.call(this)}}k.cachedProperty=h;function M(L){return typeof L=="string"?k.toArray(L,"hex"):L}k.parseBytes=M;function r(L){return new _(L,"hex","le")}k.intFromLE=r}),A3=b1((V,k)=>{var _=j2(),X=Z2(),T=X.getNAF,b=X.getJSF,u=X.assert;function h(r,L){this.type=r,this.p=new _(L.p,16),this.red=L.prime?_.red(L.prime):_.mont(this.p),this.zero=new _(0).toRed(this.red),this.one=new _(1).toRed(this.red),this.two=new _(2).toRed(this.red),this.n=L.n&&new _(L.n,16),this.g=L.g&&this.pointFromJSON(L.g,L.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var v=this.n&&this.p.div(this.n);!v||v.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}k.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(r,L){u(r.precomputed);var v=r._getDoubles(),S=T(L,1,this._bitLength),x=(1<<v.step+1)-(v.step%2===0?2:1);x/=3;var d=[],N,O;for(N=0;N<S.length;N+=v.step){O=0;for(var Z=N+v.step-1;Z>=N;Z--)O=(O<<1)+S[Z];d.push(O)}for(var $=this.jpoint(null,null,null),U=this.jpoint(null,null,null),s=x;s>0;s--){for(N=0;N<d.length;N++)O=d[N],O===s?U=U.mixedAdd(v.points[N]):O===-s&&(U=U.mixedAdd(v.points[N].neg()));$=$.add(U)}return $.toP()},h.prototype._wnafMul=function(r,L){var v=4,S=r._getNAFPoints(v);v=S.wnd;for(var x=S.points,d=T(L,v,this._bitLength),N=this.jpoint(null,null,null),O=d.length-1;O>=0;O--){for(var Z=0;O>=0&&d[O]===0;O--)Z++;if(O>=0&&Z++,N=N.dblp(Z),O<0)break;var $=d[O];u($!==0),r.type==="affine"?$>0?N=N.mixedAdd(x[$-1>>1]):N=N.mixedAdd(x[-$-1>>1].neg()):$>0?N=N.add(x[$-1>>1]):N=N.add(x[-$-1>>1].neg())}return r.type==="affine"?N.toP():N},h.prototype._wnafMulAdd=function(r,L,v,S,x){var d=this._wnafT1,N=this._wnafT2,O=this._wnafT3,Z=0,$,U,s;for($=0;$<S;$++){s=L[$];var W=s._getNAFPoints(r);d[$]=W.wnd,N[$]=W.points}for($=S-1;$>=1;$-=2){var g=$-1,K=$;if(d[g]!==1||d[K]!==1){O[g]=T(v[g],d[g],this._bitLength),O[K]=T(v[K],d[K],this._bitLength),Z=Math.max(O[g].length,Z),Z=Math.max(O[K].length,Z);continue}var i=[L[g],null,null,L[K]];L[g].y.cmp(L[K].y)===0?(i[1]=L[g].add(L[K]),i[2]=L[g].toJ().mixedAdd(L[K].neg())):L[g].y.cmp(L[K].y.redNeg())===0?(i[1]=L[g].toJ().mixedAdd(L[K]),i[2]=L[g].add(L[K].neg())):(i[1]=L[g].toJ().mixedAdd(L[K]),i[2]=L[g].toJ().mixedAdd(L[K].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],F=b(v[g],v[K]);for(Z=Math.max(F[0].length,Z),O[g]=new Array(Z),O[K]=new Array(Z),U=0;U<Z;U++){var Y=F[0][U]|0,l=F[1][U]|0;O[g][U]=J[(Y+1)*3+(l+1)],O[K][U]=0,N[g]=i}}var p=this.jpoint(null,null,null),f=this._wnafT4;for($=Z;$>=0;$--){for(var n=0;$>=0;){var c=!0;for(U=0;U<S;U++)f[U]=O[U][$]|0,f[U]!==0&&(c=!1);if(!c)break;n++,$--}if($>=0&&n++,p=p.dblp(n),$<0)break;for(U=0;U<S;U++){var y=f[U];y!==0&&(y>0?s=N[U][y-1>>1]:y<0&&(s=N[U][-y-1>>1].neg()),s.type==="affine"?p=p.mixedAdd(s):p=p.add(s))}}for($=0;$<S;$++)N[$]=null;return x?p:p.toP()};function M(r,L){this.curve=r,this.type=L,this.precomputed=null}h.BasePoint=M,M.prototype.eq=function(){throw new Error("Not implemented")},M.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(r,L){r=X.toArray(r,L);var v=this.p.byteLength();if((r[0]===4||r[0]===6||r[0]===7)&&r.length-1===2*v){r[0]===6?u(r[r.length-1]%2===0):r[0]===7&&u(r[r.length-1]%2===1);var S=this.point(r.slice(1,1+v),r.slice(1+v,1+2*v));return S}else if((r[0]===2||r[0]===3)&&r.length-1===v)return this.pointFromX(r.slice(1,1+v),r[0]===3);throw new Error("Unknown point format")},M.prototype.encodeCompressed=function(r){return this.encode(r,!0)},M.prototype._encode=function(r){var L=this.curve.p.byteLength(),v=this.getX().toArray("be",L);return r?[this.getY().isEven()?2:3].concat(v):[4].concat(v,this.getY().toArray("be",L))},M.prototype.encode=function(r,L){return X.encode(this._encode(L),r)},M.prototype.precompute=function(r){if(this.precomputed)return this;var L={doubles:null,naf:null,beta:null};return L.naf=this._getNAFPoints(8),L.doubles=this._getDoubles(4,r),L.beta=this._getBeta(),this.precomputed=L,this},M.prototype._hasDoubles=function(r){if(!this.precomputed)return!1;var L=this.precomputed.doubles;return L?L.points.length>=Math.ceil((r.bitLength()+1)/L.step):!1},M.prototype._getDoubles=function(r,L){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var v=[this],S=this,x=0;x<L;x+=r){for(var d=0;d<r;d++)S=S.dbl();v.push(S)}return{step:r,points:v}},M.prototype._getNAFPoints=function(r){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var L=[this],v=(1<<r)-1,S=v===1?null:this.dbl(),x=1;x<v;x++)L[x]=L[x-1].add(S);return{wnd:r,points:L}},M.prototype._getBeta=function(){return null},M.prototype.dblp=function(r){for(var L=this,v=0;v<r;v++)L=L.dbl();return L}}),D8=b1((V,k)=>{var _=Z2(),X=j2(),T=H1(),b=A3(),u=_.assert;function h(L){b.call(this,"short",L),this.a=new X(L.a,16).toRed(this.red),this.b=new X(L.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(L),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}T(h,b),k.exports=h,h.prototype._getEndomorphism=function(L){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var v,S;if(L.beta)v=new X(L.beta,16).toRed(this.red);else{var x=this._getEndoRoots(this.p);v=x[0].cmp(x[1])<0?x[0]:x[1],v=v.toRed(this.red)}if(L.lambda)S=new X(L.lambda,16);else{var d=this._getEndoRoots(this.n);this.g.mul(d[0]).x.cmp(this.g.x.redMul(v))===0?S=d[0]:(S=d[1],u(this.g.mul(S).x.cmp(this.g.x.redMul(v))===0))}var N;return L.basis?N=L.basis.map(function(O){return{a:new X(O.a,16),b:new X(O.b,16)}}):N=this._getEndoBasis(S),{beta:v,lambda:S,basis:N}}},h.prototype._getEndoRoots=function(L){var v=L===this.p?this.red:X.mont(L),S=new X(2).toRed(v).redInvm(),x=S.redNeg(),d=new X(3).toRed(v).redNeg().redSqrt().redMul(S),N=x.redAdd(d).fromRed(),O=x.redSub(d).fromRed();return[N,O]},h.prototype._getEndoBasis=function(L){for(var v=this.n.ushrn(Math.floor(this.n.bitLength()/2)),S=L,x=this.n.clone(),d=new X(1),N=new X(0),O=new X(0),Z=new X(1),$,U,s,W,g,K,i,J=0,F,Y;S.cmpn(0)!==0;){var l=x.div(S);F=x.sub(l.mul(S)),Y=O.sub(l.mul(d));var p=Z.sub(l.mul(N));if(!s&&F.cmp(v)<0)$=i.neg(),U=d,s=F.neg(),W=Y;else if(s&&++J===2)break;i=F,x=S,S=F,O=d,d=Y,Z=N,N=p}g=F.neg(),K=Y;var f=s.sqr().add(W.sqr()),n=g.sqr().add(K.sqr());return n.cmp(f)>=0&&(g=$,K=U),s.negative&&(s=s.neg(),W=W.neg()),g.negative&&(g=g.neg(),K=K.neg()),[{a:s,b:W},{a:g,b:K}]},h.prototype._endoSplit=function(L){var v=this.endo.basis,S=v[0],x=v[1],d=x.b.mul(L).divRound(this.n),N=S.b.neg().mul(L).divRound(this.n),O=d.mul(S.a),Z=N.mul(x.a),$=d.mul(S.b),U=N.mul(x.b),s=L.sub(O).sub(Z),W=$.add(U).neg();return{k1:s,k2:W}},h.prototype.pointFromX=function(L,v){L=new X(L,16),L.red||(L=L.toRed(this.red));var S=L.redSqr().redMul(L).redIAdd(L.redMul(this.a)).redIAdd(this.b),x=S.redSqrt();if(x.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var d=x.fromRed().isOdd();return(v&&!d||!v&&d)&&(x=x.redNeg()),this.point(L,x)},h.prototype.validate=function(L){if(L.inf)return!0;var{x:v,y:S}=L,x=this.a.redMul(v),d=v.redSqr().redMul(v).redIAdd(x).redIAdd(this.b);return S.redSqr().redISub(d).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(L,v,S){for(var x=this._endoWnafT1,d=this._endoWnafT2,N=0;N<L.length;N++){var O=this._endoSplit(v[N]),Z=L[N],$=Z._getBeta();O.k1.negative&&(O.k1.ineg(),Z=Z.neg(!0)),O.k2.negative&&(O.k2.ineg(),$=$.neg(!0)),x[N*2]=Z,x[N*2+1]=$,d[N*2]=O.k1,d[N*2+1]=O.k2}for(var U=this._wnafMulAdd(1,x,d,N*2,S),s=0;s<N*2;s++)x[s]=null,d[s]=null;return U};function M(L,v,S,x){b.BasePoint.call(this,L,"affine"),v===null&&S===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new X(v,16),this.y=new X(S,16),x&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}T(M,b.BasePoint),h.prototype.point=function(L,v,S){return new M(this,L,v,S)},h.prototype.pointFromJSON=function(L,v){return M.fromJSON(this,L,v)},M.prototype._getBeta=function(){if(this.curve.endo){var L=this.precomputed;if(L&&L.beta)return L.beta;var v=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(L){var S=this.curve,x=function(d){return S.point(d.x.redMul(S.endo.beta),d.y)};L.beta=v,v.precomputed={beta:null,naf:L.naf&&{wnd:L.naf.wnd,points:L.naf.points.map(x)},doubles:L.doubles&&{step:L.doubles.step,points:L.doubles.points.map(x)}}}return v}},M.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},M.fromJSON=function(L,v,S){typeof v=="string"&&(v=JSON.parse(v));var x=L.point(v[0],v[1],S);if(!v[2])return x;function d(O){return L.point(O[0],O[1],S)}var N=v[2];return x.precomputed={beta:null,doubles:N.doubles&&{step:N.doubles.step,points:[x].concat(N.doubles.points.map(d))},naf:N.naf&&{wnd:N.naf.wnd,points:[x].concat(N.naf.points.map(d))}},x},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.inf},M.prototype.add=function(L){if(this.inf)return L;if(L.inf)return this;if(this.eq(L))return this.dbl();if(this.neg().eq(L))return this.curve.point(null,null);if(this.x.cmp(L.x)===0)return this.curve.point(null,null);var v=this.y.redSub(L.y);v.cmpn(0)!==0&&(v=v.redMul(this.x.redSub(L.x).redInvm()));var S=v.redSqr().redISub(this.x).redISub(L.x),x=v.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,x)},M.prototype.dbl=function(){if(this.inf)return this;var L=this.y.redAdd(this.y);if(L.cmpn(0)===0)return this.curve.point(null,null);var v=this.curve.a,S=this.x.redSqr(),x=L.redInvm(),d=S.redAdd(S).redIAdd(S).redIAdd(v).redMul(x),N=d.redSqr().redISub(this.x.redAdd(this.x)),O=d.redMul(this.x.redSub(N)).redISub(this.y);return this.curve.point(N,O)},M.prototype.getX=function(){return this.x.fromRed()},M.prototype.getY=function(){return this.y.fromRed()},M.prototype.mul=function(L){return L=new X(L,16),this.isInfinity()?this:this._hasDoubles(L)?this.curve._fixedNafMul(this,L):this.curve.endo?this.curve._endoWnafMulAdd([this],[L]):this.curve._wnafMul(this,L)},M.prototype.mulAdd=function(L,v,S){var x=[this,v],d=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(x,d):this.curve._wnafMulAdd(1,x,d,2)},M.prototype.jmulAdd=function(L,v,S){var x=[this,v],d=[L,S];return this.curve.endo?this.curve._endoWnafMulAdd(x,d,!0):this.curve._wnafMulAdd(1,x,d,2,!0)},M.prototype.eq=function(L){return this===L||this.inf===L.inf&&(this.inf||this.x.cmp(L.x)===0&&this.y.cmp(L.y)===0)},M.prototype.neg=function(L){if(this.inf)return this;var v=this.curve.point(this.x,this.y.redNeg());if(L&&this.precomputed){var S=this.precomputed,x=function(d){return d.neg()};v.precomputed={naf:S.naf&&{wnd:S.naf.wnd,points:S.naf.points.map(x)},doubles:S.doubles&&{step:S.doubles.step,points:S.doubles.points.map(x)}}}return v},M.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var L=this.curve.jpoint(this.x,this.y,this.curve.one);return L};function r(L,v,S,x){b.BasePoint.call(this,L,"jacobian"),v===null&&S===null&&x===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new X(0)):(this.x=new X(v,16),this.y=new X(S,16),this.z=new X(x,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}T(r,b.BasePoint),h.prototype.jpoint=function(L,v,S){return new r(this,L,v,S)},r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var L=this.z.redInvm(),v=L.redSqr(),S=this.x.redMul(v),x=this.y.redMul(v).redMul(L);return this.curve.point(S,x)},r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},r.prototype.add=function(L){if(this.isInfinity())return L;if(L.isInfinity())return this;var v=L.z.redSqr(),S=this.z.redSqr(),x=this.x.redMul(v),d=L.x.redMul(S),N=this.y.redMul(v.redMul(L.z)),O=L.y.redMul(S.redMul(this.z)),Z=x.redSub(d),$=N.redSub(O);if(Z.cmpn(0)===0)return $.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=Z.redSqr(),s=U.redMul(Z),W=x.redMul(U),g=$.redSqr().redIAdd(s).redISub(W).redISub(W),K=$.redMul(W.redISub(g)).redISub(N.redMul(s)),i=this.z.redMul(L.z).redMul(Z);return this.curve.jpoint(g,K,i)},r.prototype.mixedAdd=function(L){if(this.isInfinity())return L.toJ();if(L.isInfinity())return this;var v=this.z.redSqr(),S=this.x,x=L.x.redMul(v),d=this.y,N=L.y.redMul(v).redMul(this.z),O=S.redSub(x),Z=d.redSub(N);if(O.cmpn(0)===0)return Z.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var $=O.redSqr(),U=$.redMul(O),s=S.redMul($),W=Z.redSqr().redIAdd(U).redISub(s).redISub(s),g=Z.redMul(s.redISub(W)).redISub(d.redMul(U)),K=this.z.redMul(O);return this.curve.jpoint(W,g,K)},r.prototype.dblp=function(L){if(L===0)return this;if(this.isInfinity())return this;if(!L)return this.dbl();var v;if(this.curve.zeroA||this.curve.threeA){var S=this;for(v=0;v<L;v++)S=S.dbl();return S}var x=this.curve.a,d=this.curve.tinv,N=this.x,O=this.y,Z=this.z,$=Z.redSqr().redSqr(),U=O.redAdd(O);for(v=0;v<L;v++){var s=N.redSqr(),W=U.redSqr(),g=W.redSqr(),K=s.redAdd(s).redIAdd(s).redIAdd(x.redMul($)),i=N.redMul(W),J=K.redSqr().redISub(i.redAdd(i)),F=i.redISub(J),Y=K.redMul(F);Y=Y.redIAdd(Y).redISub(g);var l=U.redMul(Z);v+1<L&&($=$.redMul(g)),N=J,Z=l,U=Y}return this.curve.jpoint(N,U.redMul(d),Z)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},r.prototype._zeroDbl=function(){var L,v,S;if(this.zOne){var x=this.x.redSqr(),d=this.y.redSqr(),N=d.redSqr(),O=this.x.redAdd(d).redSqr().redISub(x).redISub(N);O=O.redIAdd(O);var Z=x.redAdd(x).redIAdd(x),$=Z.redSqr().redISub(O).redISub(O),U=N.redIAdd(N);U=U.redIAdd(U),U=U.redIAdd(U),L=$,v=Z.redMul(O.redISub($)).redISub(U),S=this.y.redAdd(this.y)}else{var s=this.x.redSqr(),W=this.y.redSqr(),g=W.redSqr(),K=this.x.redAdd(W).redSqr().redISub(s).redISub(g);K=K.redIAdd(K);var i=s.redAdd(s).redIAdd(s),J=i.redSqr(),F=g.redIAdd(g);F=F.redIAdd(F),F=F.redIAdd(F),L=J.redISub(K).redISub(K),v=i.redMul(K.redISub(L)).redISub(F),S=this.y.redMul(this.z),S=S.redIAdd(S)}return this.curve.jpoint(L,v,S)},r.prototype._threeDbl=function(){var L,v,S;if(this.zOne){var x=this.x.redSqr(),d=this.y.redSqr(),N=d.redSqr(),O=this.x.redAdd(d).redSqr().redISub(x).redISub(N);O=O.redIAdd(O);var Z=x.redAdd(x).redIAdd(x).redIAdd(this.curve.a),$=Z.redSqr().redISub(O).redISub(O);L=$;var U=N.redIAdd(N);U=U.redIAdd(U),U=U.redIAdd(U),v=Z.redMul(O.redISub($)).redISub(U),S=this.y.redAdd(this.y)}else{var s=this.z.redSqr(),W=this.y.redSqr(),g=this.x.redMul(W),K=this.x.redSub(s).redMul(this.x.redAdd(s));K=K.redAdd(K).redIAdd(K);var i=g.redIAdd(g);i=i.redIAdd(i);var J=i.redAdd(i);L=K.redSqr().redISub(J),S=this.y.redAdd(this.z).redSqr().redISub(W).redISub(s);var F=W.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F),v=K.redMul(i.redISub(L)).redISub(F)}return this.curve.jpoint(L,v,S)},r.prototype._dbl=function(){var L=this.curve.a,v=this.x,S=this.y,x=this.z,d=x.redSqr().redSqr(),N=v.redSqr(),O=S.redSqr(),Z=N.redAdd(N).redIAdd(N).redIAdd(L.redMul(d)),$=v.redAdd(v);$=$.redIAdd($);var U=$.redMul(O),s=Z.redSqr().redISub(U.redAdd(U)),W=U.redISub(s),g=O.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var K=Z.redMul(W).redISub(g),i=S.redAdd(S).redMul(x);return this.curve.jpoint(s,K,i)},r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var L=this.x.redSqr(),v=this.y.redSqr(),S=this.z.redSqr(),x=v.redSqr(),d=L.redAdd(L).redIAdd(L),N=d.redSqr(),O=this.x.redAdd(v).redSqr().redISub(L).redISub(x);O=O.redIAdd(O),O=O.redAdd(O).redIAdd(O),O=O.redISub(N);var Z=O.redSqr(),$=x.redIAdd(x);$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($);var U=d.redIAdd(O).redSqr().redISub(N).redISub(Z).redISub($),s=v.redMul(U);s=s.redIAdd(s),s=s.redIAdd(s);var W=this.x.redMul(Z).redISub(s);W=W.redIAdd(W),W=W.redIAdd(W);var g=this.y.redMul(U.redMul($.redISub(U)).redISub(O.redMul(Z)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var K=this.z.redAdd(O).redSqr().redISub(S).redISub(Z);return this.curve.jpoint(W,g,K)},r.prototype.mul=function(L,v){return L=new X(L,v),this.curve._wnafMul(this,L)},r.prototype.eq=function(L){if(L.type==="affine")return this.eq(L.toJ());if(this===L)return!0;var v=this.z.redSqr(),S=L.z.redSqr();if(this.x.redMul(S).redISub(L.x.redMul(v)).cmpn(0)!==0)return!1;var x=v.redMul(this.z),d=S.redMul(L.z);return this.y.redMul(d).redISub(L.y.redMul(x)).cmpn(0)===0},r.prototype.eqXToP=function(L){var v=this.z.redSqr(),S=L.toRed(this.curve.red).redMul(v);if(this.x.cmp(S)===0)return!0;for(var x=L.clone(),d=this.curve.redN.redMul(v);;){if(x.iadd(this.curve.n),x.cmp(this.curve.p)>=0)return!1;if(S.redIAdd(d),this.x.cmp(S)===0)return!0}},r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},r.prototype.isInfinity=function(){return this.z.cmpn(0)===0}}),t8=b1((V,k)=>{var _=j2(),X=H1(),T=A3(),b=Z2();function u(M){T.call(this,"mont",M),this.a=new _(M.a,16).toRed(this.red),this.b=new _(M.b,16).toRed(this.red),this.i4=new _(4).toRed(this.red).redInvm(),this.two=new _(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}X(u,T),k.exports=u,u.prototype.validate=function(M){var r=M.normalize().x,L=r.redSqr(),v=L.redMul(r).redAdd(L.redMul(this.a)).redAdd(r),S=v.redSqrt();return S.redSqr().cmp(v)===0};function h(M,r,L){T.BasePoint.call(this,M,"projective"),r===null&&L===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new _(r,16),this.z=new _(L,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}X(h,T.BasePoint),u.prototype.decodePoint=function(M,r){return this.point(b.toArray(M,r),1)},u.prototype.point=function(M,r){return new h(this,M,r)},u.prototype.pointFromJSON=function(M){return h.fromJSON(this,M)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(M,r){return new h(M,r[0],r[1]||M.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var M=this.x.redAdd(this.z),r=M.redSqr(),L=this.x.redSub(this.z),v=L.redSqr(),S=r.redSub(v),x=r.redMul(v),d=S.redMul(v.redAdd(this.curve.a24.redMul(S)));return this.curve.point(x,d)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(M,r){var L=this.x.redAdd(this.z),v=this.x.redSub(this.z),S=M.x.redAdd(M.z),x=M.x.redSub(M.z),d=x.redMul(L),N=S.redMul(v),O=r.z.redMul(d.redAdd(N).redSqr()),Z=r.x.redMul(d.redISub(N).redSqr());return this.curve.point(O,Z)},h.prototype.mul=function(M){for(var r=M.clone(),L=this,v=this.curve.point(null,null),S=this,x=[];r.cmpn(0)!==0;r.iushrn(1))x.push(r.andln(1));for(var d=x.length-1;d>=0;d--)x[d]===0?(L=L.diffAdd(v,S),v=v.dbl()):(v=L.diffAdd(v,S),L=L.dbl());return v},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(M){return this.getX().cmp(M.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}}),C8=b1((V,k)=>{var _=Z2(),X=j2(),T=H1(),b=A3(),u=_.assert;function h(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,b.call(this,"edwards",r),this.a=new X(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new X(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new X(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}T(h,b),k.exports=h,h.prototype._mulA=function(r){return this.mOneA?r.redNeg():this.a.redMul(r)},h.prototype._mulC=function(r){return this.oneC?r:this.c.redMul(r)},h.prototype.jpoint=function(r,L,v,S){return this.point(r,L,v,S)},h.prototype.pointFromX=function(r,L){r=new X(r,16),r.red||(r=r.toRed(this.red));var v=r.redSqr(),S=this.c2.redSub(this.a.redMul(v)),x=this.one.redSub(this.c2.redMul(this.d).redMul(v)),d=S.redMul(x.redInvm()),N=d.redSqrt();if(N.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var O=N.fromRed().isOdd();return(L&&!O||!L&&O)&&(N=N.redNeg()),this.point(r,N)},h.prototype.pointFromY=function(r,L){r=new X(r,16),r.red||(r=r.toRed(this.red));var v=r.redSqr(),S=v.redSub(this.c2),x=v.redMul(this.d).redMul(this.c2).redSub(this.a),d=S.redMul(x.redInvm());if(d.cmp(this.zero)===0){if(L)throw new Error("invalid point");return this.point(this.zero,r)}var N=d.redSqrt();if(N.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");return N.fromRed().isOdd()!==L&&(N=N.redNeg()),this.point(N,r)},h.prototype.validate=function(r){if(r.isInfinity())return!0;r.normalize();var L=r.x.redSqr(),v=r.y.redSqr(),S=L.redMul(this.a).redAdd(v),x=this.c2.redMul(this.one.redAdd(this.d.redMul(L).redMul(v)));return S.cmp(x)===0};function M(r,L,v,S,x){b.BasePoint.call(this,r,"projective"),L===null&&v===null&&S===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new X(L,16),this.y=new X(v,16),this.z=S?new X(S,16):this.curve.one,this.t=x&&new X(x,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}T(M,b.BasePoint),h.prototype.pointFromJSON=function(r){return M.fromJSON(this,r)},h.prototype.point=function(r,L,v,S){return new M(this,r,L,v,S)},M.fromJSON=function(r,L){return new M(r,L[0],L[1],L[2])},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},M.prototype._extDbl=function(){var r=this.x.redSqr(),L=this.y.redSqr(),v=this.z.redSqr();v=v.redIAdd(v);var S=this.curve._mulA(r),x=this.x.redAdd(this.y).redSqr().redISub(r).redISub(L),d=S.redAdd(L),N=d.redSub(v),O=S.redSub(L),Z=x.redMul(N),$=d.redMul(O),U=x.redMul(O),s=N.redMul(d);return this.curve.point(Z,$,s,U)},M.prototype._projDbl=function(){var r=this.x.redAdd(this.y).redSqr(),L=this.x.redSqr(),v=this.y.redSqr(),S,x,d,N,O,Z;if(this.curve.twisted){N=this.curve._mulA(L);var $=N.redAdd(v);this.zOne?(S=r.redSub(L).redSub(v).redMul($.redSub(this.curve.two)),x=$.redMul(N.redSub(v)),d=$.redSqr().redSub($).redSub($)):(O=this.z.redSqr(),Z=$.redSub(O).redISub(O),S=r.redSub(L).redISub(v).redMul(Z),x=$.redMul(N.redSub(v)),d=$.redMul(Z))}else N=L.redAdd(v),O=this.curve._mulC(this.z).redSqr(),Z=N.redSub(O).redSub(O),S=this.curve._mulC(r.redISub(N)).redMul(Z),x=this.curve._mulC(N).redMul(L.redISub(v)),d=N.redMul(Z);return this.curve.point(S,x,d)},M.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},M.prototype._extAdd=function(r){var L=this.y.redSub(this.x).redMul(r.y.redSub(r.x)),v=this.y.redAdd(this.x).redMul(r.y.redAdd(r.x)),S=this.t.redMul(this.curve.dd).redMul(r.t),x=this.z.redMul(r.z.redAdd(r.z)),d=v.redSub(L),N=x.redSub(S),O=x.redAdd(S),Z=v.redAdd(L),$=d.redMul(N),U=O.redMul(Z),s=d.redMul(Z),W=N.redMul(O);return this.curve.point($,U,W,s)},M.prototype._projAdd=function(r){var L=this.z.redMul(r.z),v=L.redSqr(),S=this.x.redMul(r.x),x=this.y.redMul(r.y),d=this.curve.d.redMul(S).redMul(x),N=v.redSub(d),O=v.redAdd(d),Z=this.x.redAdd(this.y).redMul(r.x.redAdd(r.y)).redISub(S).redISub(x),$=L.redMul(N).redMul(Z),U,s;return this.curve.twisted?(U=L.redMul(O).redMul(x.redSub(this.curve._mulA(S))),s=N.redMul(O)):(U=L.redMul(O).redMul(x.redSub(S)),s=this.curve._mulC(N).redMul(O)),this.curve.point($,U,s)},M.prototype.add=function(r){return this.isInfinity()?r:r.isInfinity()?this:this.curve.extended?this._extAdd(r):this._projAdd(r)},M.prototype.mul=function(r){return this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve._wnafMul(this,r)},M.prototype.mulAdd=function(r,L,v){return this.curve._wnafMulAdd(1,[this,L],[r,v],2,!1)},M.prototype.jmulAdd=function(r,L,v){return this.curve._wnafMulAdd(1,[this,L],[r,v],2,!0)},M.prototype.normalize=function(){if(this.zOne)return this;var r=this.z.redInvm();return this.x=this.x.redMul(r),this.y=this.y.redMul(r),this.t&&(this.t=this.t.redMul(r)),this.z=this.curve.one,this.zOne=!0,this},M.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},M.prototype.getX=function(){return this.normalize(),this.x.fromRed()},M.prototype.getY=function(){return this.normalize(),this.y.fromRed()},M.prototype.eq=function(r){return this===r||this.getX().cmp(r.getX())===0&&this.getY().cmp(r.getY())===0},M.prototype.eqXToP=function(r){var L=r.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(L)===0)return!0;for(var v=r.clone(),S=this.curve.redN.redMul(this.z);;){if(v.iadd(this.curve.n),v.cmp(this.curve.p)>=0)return!1;if(L.redIAdd(S),this.x.cmp(L)===0)return!0}},M.prototype.toP=M.prototype.normalize,M.prototype.mixedAdd=M.prototype.add}),N5=b1((V)=>{var k=V;k.base=A3(),k.short=D8(),k.mont=t8(),k.edwards=C8()}),W2=b1((V)=>{var k=S2(),_=H1();V.inherits=_;function X(p,f){return(p.charCodeAt(f)&64512)!==55296||f<0||f+1>=p.length?!1:(p.charCodeAt(f+1)&64512)===56320}function T(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var n=[];if(typeof p=="string")if(f){if(f==="hex")for(p=p.replace(/[^a-z0-9]+/ig,""),p.length%2!==0&&(p="0"+p),y=0;y<p.length;y+=2)n.push(parseInt(p[y]+p[y+1],16))}else for(var c=0,y=0;y<p.length;y++){var q=p.charCodeAt(y);q<128?n[c++]=q:q<2048?(n[c++]=q>>6|192,n[c++]=q&63|128):X(p,y)?(q=65536+((q&1023)<<10)+(p.charCodeAt(++y)&1023),n[c++]=q>>18|240,n[c++]=q>>12&63|128,n[c++]=q>>6&63|128,n[c++]=q&63|128):(n[c++]=q>>12|224,n[c++]=q>>6&63|128,n[c++]=q&63|128)}else for(y=0;y<p.length;y++)n[y]=p[y]|0;return n}V.toArray=T;function b(p){for(var f="",n=0;n<p.length;n++)f+=M(p[n].toString(16));return f}V.toHex=b;function u(p){var f=p>>>24|p>>>8&65280|p<<8&16711680|(p&255)<<24;return f>>>0}V.htonl=u;function h(p,f){for(var n="",c=0;c<p.length;c++){var y=p[c];f==="little"&&(y=u(y)),n+=r(y.toString(16))}return n}V.toHex32=h;function M(p){return p.length===1?"0"+p:p}V.zero2=M;function r(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}V.zero8=r;function L(p,f,n,c){var y=n-f;k(y%4===0);for(var q=new Array(y/4),a=0,o=f;a<q.length;a++,o+=4){var m;c==="big"?m=p[o]<<24|p[o+1]<<16|p[o+2]<<8|p[o+3]:m=p[o+3]<<24|p[o+2]<<16|p[o+1]<<8|p[o],q[a]=m>>>0}return q}V.join32=L;function v(p,f){for(var n=new Array(p.length*4),c=0,y=0;c<p.length;c++,y+=4){var q=p[c];f==="big"?(n[y]=q>>>24,n[y+1]=q>>>16&255,n[y+2]=q>>>8&255,n[y+3]=q&255):(n[y+3]=q>>>24,n[y+2]=q>>>16&255,n[y+1]=q>>>8&255,n[y]=q&255)}return n}V.split32=v;function S(p,f){return p>>>f|p<<32-f}V.rotr32=S;function x(p,f){return p<<f|p>>>32-f}V.rotl32=x;function d(p,f){return p+f>>>0}V.sum32=d;function N(p,f,n){return p+f+n>>>0}V.sum32_3=N;function O(p,f,n,c){return p+f+n+c>>>0}V.sum32_4=O;function Z(p,f,n,c,y){return p+f+n+c+y>>>0}V.sum32_5=Z;function $(p,f,n,c){var y=p[f],q=p[f+1],a=c+q>>>0,o=(a<c?1:0)+n+y;p[f]=o>>>0,p[f+1]=a}V.sum64=$;function U(p,f,n,c){var y=f+c>>>0,q=(y<f?1:0)+p+n;return q>>>0}V.sum64_hi=U;function s(p,f,n,c){var y=f+c;return y>>>0}V.sum64_lo=s;function W(p,f,n,c,y,q,a,o){var m=0,j=f;j=j+c>>>0,m+=j<f?1:0,j=j+q>>>0,m+=j<q?1:0,j=j+o>>>0,m+=j<o?1:0;var R=p+n+y+a+m;return R>>>0}V.sum64_4_hi=W;function g(p,f,n,c,y,q,a,o){var m=f+c+q+o;return m>>>0}V.sum64_4_lo=g;function K(p,f,n,c,y,q,a,o,m,j){var R=0,w=f;w=w+c>>>0,R+=w<f?1:0,w=w+q>>>0,R+=w<q?1:0,w=w+o>>>0,R+=w<o?1:0,w=w+j>>>0,R+=w<j?1:0;var E=p+n+y+a+m+R;return E>>>0}V.sum64_5_hi=K;function i(p,f,n,c,y,q,a,o,m,j){var R=f+c+q+o+j;return R>>>0}V.sum64_5_lo=i;function J(p,f,n){var c=f<<32-n|p>>>n;return c>>>0}V.rotr64_hi=J;function F(p,f,n){var c=p<<32-n|f>>>n;return c>>>0}V.rotr64_lo=F;function Y(p,f,n){return p>>>n}V.shr64_hi=Y;function l(p,f,n){var c=p<<32-n|f>>>n;return c>>>0}V.shr64_lo=l}),N3=b1((V)=>{var k=W2(),_=S2();function X(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}V.BlockHash=X,X.prototype.update=function(T,b){if(T=k.toArray(T,b),this.pending?this.pending=this.pending.concat(T):this.pending=T,this.pendingTotal+=T.length,this.pending.length>=this._delta8){T=this.pending;var u=T.length%this._delta8;this.pending=T.slice(T.length-u,T.length),this.pending.length===0&&(this.pending=null),T=k.join32(T,0,T.length-u,this.endian);for(var h=0;h<T.length;h+=this._delta32)this._update(T,h,h+this._delta32)}return this},X.prototype.digest=function(T){return this.update(this._pad()),_(this.pending===null),this._digest(T)},X.prototype._pad=function(){var T=this.pendingTotal,b=this._delta8,u=b-(T+this.padLength)%b,h=new Array(u+this.padLength);h[0]=128;for(var M=1;M<u;M++)h[M]=0;if(T<<=3,this.endian==="big"){for(var r=8;r<this.padLength;r++)h[M++]=0;h[M++]=0,h[M++]=0,h[M++]=0,h[M++]=0,h[M++]=T>>>24&255,h[M++]=T>>>16&255,h[M++]=T>>>8&255,h[M++]=T&255}else for(h[M++]=T&255,h[M++]=T>>>8&255,h[M++]=T>>>16&255,h[M++]=T>>>24&255,h[M++]=0,h[M++]=0,h[M++]=0,h[M++]=0,r=8;r<this.padLength;r++)h[M++]=0;return h}}),M5=b1((V)=>{var k=W2(),_=k.rotr32;function X(v,S,x,d){if(v===0)return T(S,x,d);if(v===1||v===3)return u(S,x,d);if(v===2)return b(S,x,d)}V.ft_1=X;function T(v,S,x){return v&S^~v&x}V.ch32=T;function b(v,S,x){return v&S^v&x^S&x}V.maj32=b;function u(v,S,x){return v^S^x}V.p32=u;function h(v){return _(v,2)^_(v,13)^_(v,22)}V.s0_256=h;function M(v){return _(v,6)^_(v,11)^_(v,25)}V.s1_256=M;function r(v){return _(v,7)^_(v,18)^v>>>3}V.g0_256=r;function L(v){return _(v,17)^_(v,19)^v>>>10}V.g1_256=L}),Q8=b1((V,k)=>{var _=W2(),X=N3(),T=M5(),b=_.rotl32,u=_.sum32,h=_.sum32_5,M=T.ft_1,r=X.BlockHash,L=[1518500249,1859775393,2400959708,3395469782];function v(){if(!(this instanceof v))return new v;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_.inherits(v,r),k.exports=v,v.blockSize=512,v.outSize=160,v.hmacStrength=80,v.padLength=64,v.prototype._update=function(S,x){for(var d=this.W,N=0;N<16;N++)d[N]=S[x+N];for(;N<d.length;N++)d[N]=b(d[N-3]^d[N-8]^d[N-14]^d[N-16],1);var O=this.h[0],Z=this.h[1],$=this.h[2],U=this.h[3],s=this.h[4];for(N=0;N<d.length;N++){var W=~~(N/20),g=h(b(O,5),M(W,Z,$,U),s,d[N],L[W]);s=U,U=$,$=b(Z,30),Z=O,O=g}this.h[0]=u(this.h[0],O),this.h[1]=u(this.h[1],Z),this.h[2]=u(this.h[2],$),this.h[3]=u(this.h[3],U),this.h[4]=u(this.h[4],s)},v.prototype._digest=function(S){return S==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}}),S5=b1((V,k)=>{var _=W2(),X=N3(),T=M5(),b=S2(),u=_.sum32,h=_.sum32_4,M=_.sum32_5,r=T.ch32,L=T.maj32,v=T.s0_256,S=T.s1_256,x=T.g0_256,d=T.g1_256,N=X.BlockHash,O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Z(){if(!(this instanceof Z))return new Z;N.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O,this.W=new Array(64)}_.inherits(Z,N),k.exports=Z,Z.blockSize=512,Z.outSize=256,Z.hmacStrength=192,Z.padLength=64,Z.prototype._update=function($,U){for(var s=this.W,W=0;W<16;W++)s[W]=$[U+W];for(;W<s.length;W++)s[W]=h(d(s[W-2]),s[W-7],x(s[W-15]),s[W-16]);var g=this.h[0],K=this.h[1],i=this.h[2],J=this.h[3],F=this.h[4],Y=this.h[5],l=this.h[6],p=this.h[7];for(b(this.k.length===s.length),W=0;W<s.length;W++){var f=M(p,S(F),r(F,Y,l),this.k[W],s[W]),n=u(v(g),L(g,K,i));p=l,l=Y,Y=F,F=u(J,f),J=i,i=K,K=g,g=u(f,n)}this.h[0]=u(this.h[0],g),this.h[1]=u(this.h[1],K),this.h[2]=u(this.h[2],i),this.h[3]=u(this.h[3],J),this.h[4]=u(this.h[4],F),this.h[5]=u(this.h[5],Y),this.h[6]=u(this.h[6],l),this.h[7]=u(this.h[7],p)},Z.prototype._digest=function($){return $==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")}}),B8=b1((V,k)=>{var _=W2(),X=S5();function T(){if(!(this instanceof T))return new T;X.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_.inherits(T,X),k.exports=T,T.blockSize=512,T.outSize=224,T.hmacStrength=192,T.padLength=64,T.prototype._digest=function(b){return b==="hex"?_.toHex32(this.h.slice(0,7),"big"):_.split32(this.h.slice(0,7),"big")}}),Z5=b1((V,k)=>{var _=W2(),X=N3(),T=S2(),b=_.rotr64_hi,u=_.rotr64_lo,h=_.shr64_hi,M=_.shr64_lo,r=_.sum64,L=_.sum64_hi,v=_.sum64_lo,S=_.sum64_4_hi,x=_.sum64_4_lo,d=_.sum64_5_hi,N=_.sum64_5_lo,O=X.BlockHash,Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $(){if(!(this instanceof $))return new $;O.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Z,this.W=new Array(160)}_.inherits($,O),k.exports=$,$.blockSize=1024,$.outSize=512,$.hmacStrength=192,$.padLength=128,$.prototype._prepareBlock=function(n,c){for(var y=this.W,q=0;q<32;q++)y[q]=n[c+q];for(;q<y.length;q+=2){var a=p(y[q-4],y[q-3]),o=f(y[q-4],y[q-3]),m=y[q-14],j=y[q-13],R=Y(y[q-30],y[q-29]),w=l(y[q-30],y[q-29]),E=y[q-32],B=y[q-31];y[q]=S(a,o,m,j,R,w,E,B),y[q+1]=x(a,o,m,j,R,w,E,B)}},$.prototype._update=function(n,c){this._prepareBlock(n,c);var y=this.W,q=this.h[0],a=this.h[1],o=this.h[2],m=this.h[3],j=this.h[4],R=this.h[5],w=this.h[6],E=this.h[7],B=this.h[8],e=this.h[9],Q=this.h[10],I=this.h[11],A=this.h[12],h1=this.h[13],n1=this.h[14],c1=this.h[15];T(this.k.length===y.length);for(var G=0;G<y.length;G+=2){var P=n1,D=c1,p1=J(B,e),u1=F(B,e),o1=U(B,e,Q,I,A,h1),V1=s(B,e,Q,I,A,h1),d1=this.k[G],a1=this.k[G+1],z1=y[G],m1=y[G+1],r1=d(P,D,p1,u1,o1,V1,d1,a1,z1,m1),w1=N(P,D,p1,u1,o1,V1,d1,a1,z1,m1);P=K(q,a),D=i(q,a),p1=W(q,a,o,m,j,R),u1=g(q,a,o,m,j,R);var z=L(P,D,p1,u1),H=v(P,D,p1,u1);n1=A,c1=h1,A=Q,h1=I,Q=B,I=e,B=L(w,E,r1,w1),e=v(E,E,r1,w1),w=j,E=R,j=o,R=m,o=q,m=a,q=L(r1,w1,z,H),a=v(r1,w1,z,H)}r(this.h,0,q,a),r(this.h,2,o,m),r(this.h,4,j,R),r(this.h,6,w,E),r(this.h,8,B,e),r(this.h,10,Q,I),r(this.h,12,A,h1),r(this.h,14,n1,c1)},$.prototype._digest=function(n){return n==="hex"?_.toHex32(this.h,"big"):_.split32(this.h,"big")};function U(n,c,y,q,a){var o=n&y^~n&a;return o<0&&(o+=4294967296),o}function s(n,c,y,q,a,o){var m=c&q^~c&o;return m<0&&(m+=4294967296),m}function W(n,c,y,q,a){var o=n&y^n&a^y&a;return o<0&&(o+=4294967296),o}function g(n,c,y,q,a,o){var m=c&q^c&o^q&o;return m<0&&(m+=4294967296),m}function K(n,c){var y=b(n,c,28),q=b(c,n,2),a=b(c,n,7),o=y^q^a;return o<0&&(o+=4294967296),o}function i(n,c){var y=u(n,c,28),q=u(c,n,2),a=u(c,n,7),o=y^q^a;return o<0&&(o+=4294967296),o}function J(n,c){var y=b(n,c,14),q=b(n,c,18),a=b(c,n,9),o=y^q^a;return o<0&&(o+=4294967296),o}function F(n,c){var y=u(n,c,14),q=u(n,c,18),a=u(c,n,9),o=y^q^a;return o<0&&(o+=4294967296),o}function Y(n,c){var y=b(n,c,1),q=b(n,c,8),a=h(n,c,7),o=y^q^a;return o<0&&(o+=4294967296),o}function l(n,c){var y=u(n,c,1),q=u(n,c,8),a=M(n,c,7),o=y^q^a;return o<0&&(o+=4294967296),o}function p(n,c){var y=b(n,c,19),q=b(c,n,29),a=h(n,c,6),o=y^q^a;return o<0&&(o+=4294967296),o}function f(n,c){var y=u(n,c,19),q=u(c,n,29),a=M(n,c,6),o=y^q^a;return o<0&&(o+=4294967296),o}}),e8=b1((V,k)=>{var _=W2(),X=Z5();function T(){if(!(this instanceof T))return new T;X.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_.inherits(T,X),k.exports=T,T.blockSize=1024,T.outSize=384,T.hmacStrength=192,T.padLength=128,T.prototype._digest=function(b){return b==="hex"?_.toHex32(this.h.slice(0,12),"big"):_.split32(this.h.slice(0,12),"big")}}),A8=b1((V)=>{V.sha1=Q8(),V.sha224=B8(),V.sha256=S5(),V.sha384=e8(),V.sha512=Z5()}),l7=b1((V)=>{var k=W2(),_=N3(),X=k.rotl32,T=k.sum32,b=k.sum32_3,u=k.sum32_4,h=_.BlockHash;function M(){if(!(this instanceof M))return new M;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}k.inherits(M,h),V.ripemd160=M,M.blockSize=512,M.outSize=160,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(O,Z){for(var $=this.h[0],U=this.h[1],s=this.h[2],W=this.h[3],g=this.h[4],K=$,i=U,J=s,F=W,Y=g,l=0;l<80;l++){var p=T(X(u($,r(l,U,s,W),O[S[l]+Z],L(l)),d[l]),g);$=g,g=W,W=X(s,10),s=U,U=p,p=T(X(u(K,r(79-l,i,J,F),O[x[l]+Z],v(l)),N[l]),Y),K=Y,Y=F,F=X(J,10),J=i,i=p}p=b(this.h[1],s,F),this.h[1]=b(this.h[2],W,Y),this.h[2]=b(this.h[3],g,K),this.h[3]=b(this.h[4],$,i),this.h[4]=b(this.h[0],U,J),this.h[0]=p},M.prototype._digest=function(O){return O==="hex"?k.toHex32(this.h,"little"):k.split32(this.h,"little")};function r(O,Z,$,U){return O<=15?Z^$^U:O<=31?Z&$|~Z&U:O<=47?(Z|~$)^U:O<=63?Z&U|$&~U:Z^($|~U)}function L(O){return O<=15?0:O<=31?1518500249:O<=47?1859775393:O<=63?2400959708:2840853838}function v(O){return O<=15?1352829926:O<=31?1548603684:O<=47?1836072691:O<=63?2053994217:0}var S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]}),o7=b1((V,k)=>{var _=W2(),X=S2();function T(b,u,h){if(!(this instanceof T))return new T(b,u,h);this.Hash=b,this.blockSize=b.blockSize/8,this.outSize=b.outSize/8,this.inner=null,this.outer=null,this._init(_.toArray(u,h))}k.exports=T,T.prototype._init=function(b){b.length>this.blockSize&&(b=new this.Hash().update(b).digest()),X(b.length<=this.blockSize);for(var u=b.length;u<this.blockSize;u++)b.push(0);for(u=0;u<b.length;u++)b[u]^=54;for(this.inner=new this.Hash().update(b),u=0;u<b.length;u++)b[u]^=106;this.outer=new this.Hash().update(b)},T.prototype.update=function(b,u){return this.inner.update(b,u),this},T.prototype.digest=function(b){return this.outer.update(this.inner.digest()),this.outer.digest(b)}}),I6=b1((V)=>{var k=V;k.utils=W2(),k.common=N3(),k.sha=A8(),k.ripemd=l7(),k.hmac=o7(),k.sha1=k.sha.sha1,k.sha256=k.sha.sha256,k.sha224=k.sha.sha224,k.sha384=k.sha.sha384,k.sha512=k.sha.sha512,k.ripemd160=k.ripemd.ripemd160}),n7=b1((V,k)=>{k.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}}),Y6=b1((V)=>{var k=V,_=I6(),X=N5(),T=Z2(),b=T.assert;function u(r){r.type==="short"?this.curve=new X.short(r):r.type==="edwards"?this.curve=new X.edwards(r):this.curve=new X.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,b(this.g.validate(),"Invalid curve"),b(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}k.PresetCurve=u;function h(r,L){Object.defineProperty(k,r,{configurable:!0,enumerable:!0,get:function(){var v=new u(L);return Object.defineProperty(k,r,{configurable:!0,enumerable:!0,value:v}),v}})}h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var M;try{M=n7()}catch{M=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",M]})}),p7=b1((V,k)=>{var _=I6(),X=V5(),T=S2();function b(u){if(!(this instanceof b))return new b(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=X.toArray(u.entropy,u.entropyEnc||"hex"),M=X.toArray(u.nonce,u.nonceEnc||"hex"),r=X.toArray(u.pers,u.persEnc||"hex");T(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,M,r)}k.exports=b,b.prototype._init=function(u,h,M){var r=u.concat(h).concat(M);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var L=0;L<this.V.length;L++)this.K[L]=0,this.V[L]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},b.prototype._hmac=function(){return new _.hmac(this.hash,this.K)},b.prototype._update=function(u){var h=this._hmac().update(this.V).update([0]);u&&(h=h.update(u)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},b.prototype.reseed=function(u,h,M,r){typeof h!="string"&&(r=M,M=h,h=null),u=X.toArray(u,h),M=X.toArray(M,r),T(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(M||[])),this._reseed=1},b.prototype.generate=function(u,h,M,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof h!="string"&&(r=M,M=h,h=null),M&&(M=X.toArray(M,r||"hex"),this._update(M));for(var L=[];L.length<u;)this.V=this._hmac().update(this.V).digest(),L=L.concat(this.V);var v=L.slice(0,u);return this._update(M),this._reseed++,X.encode(v,h)}}),u7=b1((V,k)=>{var _=j2(),X=Z2(),T=X.assert;function b(u,h){this.ec=u,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}k.exports=b,b.fromPublic=function(u,h,M){return h instanceof b?h:new b(u,{pub:h,pubEnc:M})},b.fromPrivate=function(u,h,M){return h instanceof b?h:new b(u,{priv:h,privEnc:M})},b.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},b.prototype.getPublic=function(u,h){return typeof u=="string"&&(h=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,u):this.pub},b.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},b.prototype._importPrivate=function(u,h){this.priv=new _(u,h||16),this.priv=this.priv.umod(this.ec.curve.n)},b.prototype._importPublic=function(u,h){if(u.x||u.y){this.ec.curve.type==="mont"?T(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&T(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,h)},b.prototype.derive=function(u){return u.validate()||T(u.validate(),"public point not validated"),u.mul(this.priv).getX()},b.prototype.sign=function(u,h,M){return this.ec.sign(u,this,h,M)},b.prototype.verify=function(u,h){return this.ec.verify(u,h,this)},b.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}}),c7=b1((V,k)=>{var _=j2(),X=Z2(),T=X.assert;function b(L,v){if(L instanceof b)return L;this._importDER(L,v)||(T(L.r&&L.s,"Signature without r or s"),this.r=new _(L.r,16),this.s=new _(L.s,16),L.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=L.recoveryParam)}k.exports=b;function u(){this.place=0}function h(L,v){var S=L[v.place++];if(!(S&128))return S;var x=S&15;if(x===0||x>4)return!1;for(var d=0,N=0,O=v.place;N<x;N++,O++)d<<=8,d|=L[O],d>>>=0;return d<=127?!1:(v.place=O,d)}function M(L){for(var v=0,S=L.length-1;!L[v]&&!(L[v+1]&128)&&v<S;)v++;return v===0?L:L.slice(v)}b.prototype._importDER=function(L,v){L=X.toArray(L,v);var S=new u;if(L[S.place++]!==48)return!1;var x=h(L,S);if(x===!1||x+S.place!==L.length||L[S.place++]!==2)return!1;var d=h(L,S);if(d===!1)return!1;var N=L.slice(S.place,d+S.place);if(S.place+=d,L[S.place++]!==2)return!1;var O=h(L,S);if(O===!1||L.length!==O+S.place)return!1;var Z=L.slice(S.place,O+S.place);if(N[0]===0)if(N[1]&128)N=N.slice(1);else return!1;if(Z[0]===0)if(Z[1]&128)Z=Z.slice(1);else return!1;return this.r=new _(N),this.s=new _(Z),this.recoveryParam=null,!0};function r(L,v){if(v<128){L.push(v);return}var S=1+(Math.log(v)/Math.LN2>>>3);for(L.push(S|128);--S;)L.push(v>>>(S<<3)&255);L.push(v)}b.prototype.toDER=function(L){var v=this.r.toArray(),S=this.s.toArray();for(v[0]&128&&(v=[0].concat(v)),S[0]&128&&(S=[0].concat(S)),v=M(v),S=M(S);!S[0]&&!(S[1]&128);)S=S.slice(1);var x=[2];r(x,v.length),x=x.concat(v),x.push(2),r(x,S.length);var d=x.concat(S),N=[48];return r(N,d.length),N=N.concat(d),X.encode(N,L)}}),f7=b1((V,k)=>{var _=j2(),X=p7(),T=Z2(),b=Y6(),u=i6(),h=T.assert,M=u7(),r=c7();function L(v){if(!(this instanceof L))return new L(v);typeof v=="string"&&(h(Object.prototype.hasOwnProperty.call(b,v),"Unknown curve "+v),v=b[v]),v instanceof b.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}k.exports=L,L.prototype.keyPair=function(v){return new M(this,v)},L.prototype.keyFromPrivate=function(v,S){return M.fromPrivate(this,v,S)},L.prototype.keyFromPublic=function(v,S){return M.fromPublic(this,v,S)},L.prototype.genKeyPair=function(v){v||(v={});for(var S=new X({hash:this.hash,pers:v.pers,persEnc:v.persEnc||"utf8",entropy:v.entropy||u(this.hash.hmacStrength),entropyEnc:v.entropy&&v.entropyEnc||"utf8",nonce:this.n.toArray()}),x=this.n.byteLength(),d=this.n.sub(new _(2));;){var N=new _(S.generate(x));if(!(N.cmp(d)>0))return N.iaddn(1),this.keyFromPrivate(N)}},L.prototype._truncateToN=function(v,S){var x=v.byteLength()*8-this.n.bitLength();return x>0&&(v=v.ushrn(x)),!S&&v.cmp(this.n)>=0?v.sub(this.n):v},L.prototype.sign=function(v,S,x,d){typeof x=="object"&&(d=x,x=null),d||(d={}),S=this.keyFromPrivate(S,x),v=this._truncateToN(new _(v,16));for(var N=this.n.byteLength(),O=S.getPrivate().toArray("be",N),Z=v.toArray("be",N),$=new X({hash:this.hash,entropy:O,nonce:Z,pers:d.pers,persEnc:d.persEnc||"utf8"}),U=this.n.sub(new _(1)),s=0;;s++){var W=d.k?d.k(s):new _($.generate(this.n.byteLength()));if(W=this._truncateToN(W,!0),!(W.cmpn(1)<=0||W.cmp(U)>=0)){var g=this.g.mul(W);if(!g.isInfinity()){var K=g.getX(),i=K.umod(this.n);if(i.cmpn(0)!==0){var J=W.invm(this.n).mul(i.mul(S.getPrivate()).iadd(v));if(J=J.umod(this.n),J.cmpn(0)!==0){var F=(g.getY().isOdd()?1:0)|(K.cmp(i)!==0?2:0);return d.canonical&&J.cmp(this.nh)>0&&(J=this.n.sub(J),F^=1),new r({r:i,s:J,recoveryParam:F})}}}}}},L.prototype.verify=function(v,S,x,d){v=this._truncateToN(new _(v,16)),x=this.keyFromPublic(x,d),S=new r(S,"hex");var{r:N,s:O}=S;if(N.cmpn(1)<0||N.cmp(this.n)>=0||O.cmpn(1)<0||O.cmp(this.n)>=0)return!1;var Z=O.invm(this.n),$=Z.mul(v).umod(this.n),U=Z.mul(N).umod(this.n),s;return this.curve._maxwellTrick?(s=this.g.jmulAdd($,x.getPublic(),U),s.isInfinity()?!1:s.eqXToP(N)):(s=this.g.mulAdd($,x.getPublic(),U),s.isInfinity()?!1:s.getX().umod(this.n).cmp(N)===0)},L.prototype.recoverPubKey=function(v,S,x,d){h((3&x)===x,"The recovery param is more than two bits"),S=new r(S,d);var N=this.n,O=new _(v),Z=S.r,$=S.s,U=x&1,s=x>>1;if(Z.cmp(this.curve.p.umod(this.curve.n))>=0&&s)throw new Error("Unable to find sencond key candinate");s?Z=this.curve.pointFromX(Z.add(this.curve.n),U):Z=this.curve.pointFromX(Z,U);var W=S.r.invm(N),g=N.sub(O).mul(W).umod(N),K=$.mul(W).umod(N);return this.g.mulAdd(g,Z,K)},L.prototype.getKeyRecoveryParam=function(v,S,x,d){if(S=new r(S,d),S.recoveryParam!==null)return S.recoveryParam;for(var N=0;N<4;N++){var O;try{O=this.recoverPubKey(v,S,N)}catch{continue}if(O.eq(x))return N}throw new Error("Unable to find valid recovery factor")}}),d7=b1((V,k)=>{var _=Z2(),X=_.assert,T=_.parseBytes,b=_.cachedProperty;function u(h,M){this.eddsa=h,this._secret=T(M.secret),h.isPoint(M.pub)?this._pub=M.pub:this._pubBytes=T(M.pub)}u.fromPublic=function(h,M){return M instanceof u?M:new u(h,{pub:M})},u.fromSecret=function(h,M){return M instanceof u?M:new u(h,{secret:M})},u.prototype.secret=function(){return this._secret},b(u,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),b(u,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),b(u,"privBytes",function(){var h=this.eddsa,M=this.hash(),r=h.encodingLength-1,L=M.slice(0,h.encodingLength);return L[0]&=248,L[r]&=127,L[r]|=64,L}),b(u,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),b(u,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),b(u,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),u.prototype.sign=function(h){return X(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},u.prototype.verify=function(h,M){return this.eddsa.verify(h,M,this)},u.prototype.getSecret=function(h){return X(this._secret,"KeyPair is public only"),_.encode(this.secret(),h)},u.prototype.getPublic=function(h){return _.encode(this.pubBytes(),h)},k.exports=u}),a7=b1((V,k)=>{var _=j2(),X=Z2(),T=X.assert,b=X.cachedProperty,u=X.parseBytes;function h(M,r){this.eddsa=M,typeof r!="object"&&(r=u(r)),Array.isArray(r)&&(r={R:r.slice(0,M.encodingLength),S:r.slice(M.encodingLength)}),T(r.R&&r.S,"Signature without R or S"),M.isPoint(r.R)&&(this._R=r.R),r.S instanceof _&&(this._S=r.S),this._Rencoded=Array.isArray(r.R)?r.R:r.Rencoded,this._Sencoded=Array.isArray(r.S)?r.S:r.Sencoded}b(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),b(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),b(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),b(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return X.encode(this.toBytes(),"hex").toUpperCase()},k.exports=h}),r7=b1((V,k)=>{var _=I6(),X=Y6(),T=Z2(),b=T.assert,u=T.parseBytes,h=d7(),M=a7();function r(L){if(b(L==="ed25519","only tested with ed25519 so far"),!(this instanceof r))return new r(L);L=X[L].curve,this.curve=L,this.g=L.g,this.g.precompute(L.n.bitLength()+1),this.pointClass=L.point().constructor,this.encodingLength=Math.ceil(L.n.bitLength()/8),this.hash=_.sha512}k.exports=r,r.prototype.sign=function(L,v){L=u(L);var S=this.keyFromSecret(v),x=this.hashInt(S.messagePrefix(),L),d=this.g.mul(x),N=this.encodePoint(d),O=this.hashInt(N,S.pubBytes(),L).mul(S.priv()),Z=x.add(O).umod(this.curve.n);return this.makeSignature({R:d,S:Z,Rencoded:N})},r.prototype.verify=function(L,v,S){L=u(L),v=this.makeSignature(v);var x=this.keyFromPublic(S),d=this.hashInt(v.Rencoded(),x.pubBytes(),L),N=this.g.mul(v.S()),O=v.R().add(x.pub().mul(d));return O.eq(N)},r.prototype.hashInt=function(){for(var L=this.hash(),v=0;v<arguments.length;v++)L.update(arguments[v]);return T.intFromLE(L.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(L){return h.fromPublic(this,L)},r.prototype.keyFromSecret=function(L){return h.fromSecret(this,L)},r.prototype.makeSignature=function(L){return L instanceof M?L:new M(this,L)},r.prototype.encodePoint=function(L){var v=L.getY().toArray("le",this.encodingLength);return v[this.encodingLength-1]|=L.getX().isOdd()?128:0,v},r.prototype.decodePoint=function(L){L=T.parseBytes(L);var v=L.length-1,S=L.slice(0,v).concat(L[v]&-129),x=(L[v]&128)!==0,d=T.intFromLE(S);return this.curve.pointFromY(d,x)},r.prototype.encodeInt=function(L){return L.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(L){return T.intFromLE(L)},r.prototype.isPoint=function(L){return L instanceof this.pointClass}}),E6=b1((V)=>{var k=V;k.version=E8().version,k.utils=Z2(),k.rand=i6(),k.curve=N5(),k.curves=Y6(),k.ec=f7(),k.eddsa=r7()}),$5=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),D6=b1((V,k)=>{var _=q2(),X=_.Buffer,T={},b;for(b in _)!_.hasOwnProperty(b)||b==="SlowBuffer"||b==="Buffer"||(T[b]=_[b]);var u=T.Buffer={};for(b in X)!X.hasOwnProperty(b)||b==="allocUnsafe"||b==="allocUnsafeSlow"||(u[b]=X[b]);if(T.Buffer.prototype=X.prototype,(!u.from||u.from===Uint8Array.from)&&(u.from=function(h,M,r){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return X(h,M,r)}),u.alloc||(u.alloc=function(h,M,r){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2147483648)throw new RangeError('The value "'+h+'" is invalid for option "size"');var L=X(h);return!M||M.length===0?L.fill(0):typeof r=="string"?L.fill(M,r):L.fill(M),L}),!T.kStringMaxLength)try{T.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}T.constants||(T.constants={MAX_LENGTH:T.kMaxLength},T.kStringMaxLength&&(T.constants.MAX_STRING_LENGTH=T.kStringMaxLength)),k.exports=T}),t6=b1((V)=>{var k=H1();function _(T){this._reporterState={obj:null,path:[],options:T||{},errors:[]}}V.Reporter=_,_.prototype.isError=function(T){return T instanceof X},_.prototype.save=function(){let T=this._reporterState;return{obj:T.obj,pathLen:T.path.length}},_.prototype.restore=function(T){let b=this._reporterState;b.obj=T.obj,b.path=b.path.slice(0,T.pathLen)},_.prototype.enterKey=function(T){return this._reporterState.path.push(T)},_.prototype.exitKey=function(T){let b=this._reporterState;b.path=b.path.slice(0,T-1)},_.prototype.leaveKey=function(T,b,u){let h=this._reporterState;this.exitKey(T),h.obj!==null&&(h.obj[b]=u)},_.prototype.path=function(){return this._reporterState.path.join("/")},_.prototype.enterObject=function(){let T=this._reporterState,b=T.obj;return T.obj={},b},_.prototype.leaveObject=function(T){let b=this._reporterState,u=b.obj;return b.obj=T,u},_.prototype.error=function(T){let b,u=this._reporterState,h=T instanceof X;if(h?b=T:b=new X(u.path.map(function(M){return"["+JSON.stringify(M)+"]"}).join(""),T.message||T,T.stack),!u.options.partial)throw b;return h||u.errors.push(b),b},_.prototype.wrapResult=function(T){let b=this._reporterState;return b.options.partial?{result:this.isError(T)?null:T,errors:b.errors}:T};function X(T,b){this.path=T,this.rethrow(b)}k(X,Error),X.prototype.rethrow=function(T){if(this.message=T+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,X),!this.stack)try{throw new Error(this.message)}catch(b){this.stack=b.stack}return this}}),M3=b1((V)=>{var k=H1(),_=t6().Reporter,X=D6().Buffer;function T(u,h){if(_.call(this,h),!X.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}k(T,_),V.DecoderBuffer=T,T.isDecoderBuffer=function(u){return u instanceof T?!0:typeof u=="object"&&X.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},T.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},T.prototype.restore=function(u){let h=new T(this.base);return h.offset=u.offset,h.length=this.offset,this.offset=u.offset,_.prototype.restore.call(this,u.reporter),h},T.prototype.isEmpty=function(){return this.offset===this.length},T.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},T.prototype.skip=function(u,h){if(!(this.offset+u<=this.length))return this.error(h||"DecoderBuffer overrun");let M=new T(this.base);return M._reporterState=this._reporterState,M.offset=this.offset,M.length=this.offset+u,this.offset+=u,M},T.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function b(u,h){if(Array.isArray(u))this.length=0,this.value=u.map(function(M){return b.isEncoderBuffer(M)||(M=new b(M,h)),this.length+=M.length,M},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return h.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=X.byteLength(u);else if(X.isBuffer(u))this.value=u,this.length=u.length;else return h.error("Unsupported type: "+typeof u)}V.EncoderBuffer=b,b.isEncoderBuffer=function(u){return u instanceof b?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},b.prototype.join=function(u,h){return u||(u=X.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(M){M.join(u,h),h+=M.length}):(typeof this.value=="number"?u[h]=this.value:typeof this.value=="string"?u.write(this.value,h):X.isBuffer(this.value)&&this.value.copy(u,h),h+=this.length)),u}}),C6=b1((V,k)=>{var _=t6().Reporter,X=M3().EncoderBuffer,T=M3().DecoderBuffer,b=S2(),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),M=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function r(v,S,x){let d={};this._baseState=d,d.name=x,d.enc=v,d.parent=S||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}k.exports=r;var L=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){let v=this._baseState,S={};L.forEach(function(d){S[d]=v[d]});let x=new this.constructor(S.parent);return x._baseState=S,x},r.prototype._wrap=function(){let v=this._baseState;h.forEach(function(S){this[S]=function(){let x=new this.constructor(this);return v.children.push(x),x[S].apply(x,arguments)}},this)},r.prototype._init=function(v){let S=this._baseState;b(S.parent===null),v.call(this),S.children=S.children.filter(function(x){return x._baseState.parent===this},this),b.equal(S.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(v){let S=this._baseState,x=v.filter(function(d){return d instanceof this.constructor},this);v=v.filter(function(d){return!(d instanceof this.constructor)},this),x.length!==0&&(b(S.children===null),S.children=x,x.forEach(function(d){d._baseState.parent=this},this)),v.length!==0&&(b(S.args===null),S.args=v,S.reverseArgs=v.map(function(d){if(typeof d!="object"||d.constructor!==Object)return d;let N={};return Object.keys(d).forEach(function(O){O==(O|0)&&(O|=0);let Z=d[O];N[Z]=O}),N}))},M.forEach(function(v){r.prototype[v]=function(){let S=this._baseState;throw new Error(v+" not implemented for encoding: "+S.enc)}}),u.forEach(function(v){r.prototype[v]=function(){let S=this._baseState,x=Array.prototype.slice.call(arguments);return b(S.tag===null),S.tag=v,this._useArgs(x),this}}),r.prototype.use=function(v){b(v);let S=this._baseState;return b(S.use===null),S.use=v,this},r.prototype.optional=function(){let v=this._baseState;return v.optional=!0,this},r.prototype.def=function(v){let S=this._baseState;return b(S.default===null),S.default=v,S.optional=!0,this},r.prototype.explicit=function(v){let S=this._baseState;return b(S.explicit===null&&S.implicit===null),S.explicit=v,this},r.prototype.implicit=function(v){let S=this._baseState;return b(S.explicit===null&&S.implicit===null),S.implicit=v,this},r.prototype.obj=function(){let v=this._baseState,S=Array.prototype.slice.call(arguments);return v.obj=!0,S.length!==0&&this._useArgs(S),this},r.prototype.key=function(v){let S=this._baseState;return b(S.key===null),S.key=v,this},r.prototype.any=function(){let v=this._baseState;return v.any=!0,this},r.prototype.choice=function(v){let S=this._baseState;return b(S.choice===null),S.choice=v,this._useArgs(Object.keys(v).map(function(x){return v[x]})),this},r.prototype.contains=function(v){let S=this._baseState;return b(S.use===null),S.contains=v,this},r.prototype._decode=function(v,S){let x=this._baseState;if(x.parent===null)return v.wrapResult(x.children[0]._decode(v,S));let d=x.default,N=!0,O=null;if(x.key!==null&&(O=v.enterKey(x.key)),x.optional){let $=null;if(x.explicit!==null?$=x.explicit:x.implicit!==null?$=x.implicit:x.tag!==null&&($=x.tag),$===null&&!x.any){let U=v.save();try{x.choice===null?this._decodeGeneric(x.tag,v,S):this._decodeChoice(v,S),N=!0}catch{N=!1}v.restore(U)}else if(N=this._peekTag(v,$,x.any),v.isError(N))return N}let Z;if(x.obj&&N&&(Z=v.enterObject()),N){if(x.explicit!==null){let U=this._decodeTag(v,x.explicit);if(v.isError(U))return U;v=U}let $=v.offset;if(x.use===null&&x.choice===null){let U;x.any&&(U=v.save());let s=this._decodeTag(v,x.implicit!==null?x.implicit:x.tag,x.any);if(v.isError(s))return s;x.any?d=v.raw(U):v=s}if(S&&S.track&&x.tag!==null&&S.track(v.path(),$,v.length,"tagged"),S&&S.track&&x.tag!==null&&S.track(v.path(),v.offset,v.length,"content"),x.any||(x.choice===null?d=this._decodeGeneric(x.tag,v,S):d=this._decodeChoice(v,S)),v.isError(d))return d;if(!x.any&&x.choice===null&&x.children!==null&&x.children.forEach(function(U){U._decode(v,S)}),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){let U=new T(d);d=this._getUse(x.contains,v._reporterState.obj)._decode(U,S)}}return x.obj&&N&&(d=v.leaveObject(Z)),x.key!==null&&(d!==null||N===!0)?v.leaveKey(O,x.key,d):O!==null&&v.exitKey(O),d},r.prototype._decodeGeneric=function(v,S,x){let d=this._baseState;return v==="seq"||v==="set"?null:v==="seqof"||v==="setof"?this._decodeList(S,v,d.args[0],x):/str$/.test(v)?this._decodeStr(S,v,x):v==="objid"&&d.args?this._decodeObjid(S,d.args[0],d.args[1],x):v==="objid"?this._decodeObjid(S,null,null,x):v==="gentime"||v==="utctime"?this._decodeTime(S,v,x):v==="null_"?this._decodeNull(S,x):v==="bool"?this._decodeBool(S,x):v==="objDesc"?this._decodeStr(S,v,x):v==="int"||v==="enum"?this._decodeInt(S,d.args&&d.args[0],x):d.use!==null?this._getUse(d.use,S._reporterState.obj)._decode(S,x):S.error("unknown tag: "+v)},r.prototype._getUse=function(v,S){let x=this._baseState;return x.useDecoder=this._use(v,S),b(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},r.prototype._decodeChoice=function(v,S){let x=this._baseState,d=null,N=!1;return Object.keys(x.choice).some(function(O){let Z=v.save(),$=x.choice[O];try{let U=$._decode(v,S);if(v.isError(U))return!1;d={type:O,value:U},N=!0}catch{return v.restore(Z),!1}return!0},this),N?d:v.error("Choice not matched")},r.prototype._createEncoderBuffer=function(v){return new X(v,this.reporter)},r.prototype._encode=function(v,S,x){let d=this._baseState;if(d.default!==null&&d.default===v)return;let N=this._encodeValue(v,S,x);if(N!==void 0&&!this._skipDefault(N,S,x))return N},r.prototype._encodeValue=function(v,S,x){let d=this._baseState;if(d.parent===null)return d.children[0]._encode(v,S||new _);let N=null;if(this.reporter=S,d.optional&&v===void 0)if(d.default!==null)v=d.default;else return;let O=null,Z=!1;if(d.any)N=this._createEncoderBuffer(v);else if(d.choice)N=this._encodeChoice(v,S);else if(d.contains)O=this._getUse(d.contains,x)._encode(v,S),Z=!0;else if(d.children)O=d.children.map(function($){if($._baseState.tag==="null_")return $._encode(null,S,v);if($._baseState.key===null)return S.error("Child should have a key");let U=S.enterKey($._baseState.key);if(typeof v!="object")return S.error("Child expected, but input is not object");let s=$._encode(v[$._baseState.key],S,v);return S.leaveKey(U),s},this).filter(function($){return $}),O=this._createEncoderBuffer(O);else if(d.tag==="seqof"||d.tag==="setof"){if(!(d.args&&d.args.length===1))return S.error("Too many args for : "+d.tag);if(!Array.isArray(v))return S.error("seqof/setof, but data is not Array");let $=this.clone();$._baseState.implicit=null,O=this._createEncoderBuffer(v.map(function(U){let s=this._baseState;return this._getUse(s.args[0],v)._encode(U,S)},$))}else d.use!==null?N=this._getUse(d.use,x)._encode(v,S):(O=this._encodePrimitive(d.tag,v),Z=!0);if(!d.any&&d.choice===null){let $=d.implicit!==null?d.implicit:d.tag,U=d.implicit===null?"universal":"context";$===null?d.use===null&&S.error("Tag could be omitted only for .use()"):d.use===null&&(N=this._encodeComposite($,Z,U,O))}return d.explicit!==null&&(N=this._encodeComposite(d.explicit,!1,"context",N)),N},r.prototype._encodeChoice=function(v,S){let x=this._baseState,d=x.choice[v.type];return d||b(!1,v.type+" not found in "+JSON.stringify(Object.keys(x.choice))),d._encode(v.value,S)},r.prototype._encodePrimitive=function(v,S){let x=this._baseState;if(/str$/.test(v))return this._encodeStr(S,v);if(v==="objid"&&x.args)return this._encodeObjid(S,x.reverseArgs[0],x.args[1]);if(v==="objid")return this._encodeObjid(S,null,null);if(v==="gentime"||v==="utctime")return this._encodeTime(S,v);if(v==="null_")return this._encodeNull();if(v==="int"||v==="enum")return this._encodeInt(S,x.args&&x.reverseArgs[0]);if(v==="bool")return this._encodeBool(S);if(v==="objDesc")return this._encodeStr(S,v);throw new Error("Unsupported tag: "+v)},r.prototype._isNumstr=function(v){return/^[0-9 ]*$/.test(v)},r.prototype._isPrintstr=function(v){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(v)}}),Q6=b1((V)=>{function k(_){let X={};return Object.keys(_).forEach(function(T){(T|0)==T&&(T=T|0);let b=_[T];X[b]=T}),X}V.tagClass={0:"universal",1:"application",2:"context",3:"private"},V.tagClassByName=k(V.tagClass),V.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},V.tagByName=k(V.tag)}),k5=b1((V,k)=>{var _=H1(),X=D6().Buffer,T=C6(),b=Q6();function u(L){this.enc="der",this.name=L.name,this.entity=L,this.tree=new h,this.tree._init(L.body)}k.exports=u,u.prototype.encode=function(L,v){return this.tree._encode(L,v).join()};function h(L){T.call(this,"der",L)}_(h,T),h.prototype._encodeComposite=function(L,v,S,x){let d=r(L,v,S,this.reporter);if(x.length<128){let Z=X.alloc(2);return Z[0]=d,Z[1]=x.length,this._createEncoderBuffer([Z,x])}let N=1;for(let Z=x.length;Z>=256;Z>>=8)N++;let O=X.alloc(2+N);O[0]=d,O[1]=128|N;for(let Z=1+N,$=x.length;$>0;Z--,$>>=8)O[Z]=$&255;return this._createEncoderBuffer([O,x])},h.prototype._encodeStr=function(L,v){if(v==="bitstr")return this._createEncoderBuffer([L.unused|0,L.data]);if(v==="bmpstr"){let S=X.alloc(L.length*2);for(let x=0;x<L.length;x++)S.writeUInt16BE(L.charCodeAt(x),x*2);return this._createEncoderBuffer(S)}else return v==="numstr"?this._isNumstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(L)?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(L):v==="objDesc"?this._createEncoderBuffer(L):this.reporter.error("Encoding of string type: "+v+" unsupported")},h.prototype._encodeObjid=function(L,v,S){if(typeof L=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(L))return this.reporter.error("objid not found in values map");L=v[L].split(/[\s.]+/g);for(let O=0;O<L.length;O++)L[O]|=0}else if(Array.isArray(L)){L=L.slice();for(let O=0;O<L.length;O++)L[O]|=0}if(!Array.isArray(L))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(L));if(!S){if(L[1]>=40)return this.reporter.error("Second objid identifier OOB");L.splice(0,2,L[0]*40+L[1])}let x=0;for(let O=0;O<L.length;O++){let Z=L[O];for(x++;Z>=128;Z>>=7)x++}let d=X.alloc(x),N=d.length-1;for(let O=L.length-1;O>=0;O--){let Z=L[O];for(d[N--]=Z&127;(Z>>=7)>0;)d[N--]=128|Z&127}return this._createEncoderBuffer(d)};function M(L){return L<10?"0"+L:L}h.prototype._encodeTime=function(L,v){let S,x=new Date(L);return v==="gentime"?S=[M(x.getUTCFullYear()),M(x.getUTCMonth()+1),M(x.getUTCDate()),M(x.getUTCHours()),M(x.getUTCMinutes()),M(x.getUTCSeconds()),"Z"].join(""):v==="utctime"?S=[M(x.getUTCFullYear()%100),M(x.getUTCMonth()+1),M(x.getUTCDate()),M(x.getUTCHours()),M(x.getUTCMinutes()),M(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr(S,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(L,v){if(typeof L=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(L))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(L));L=v[L]}if(typeof L!="number"&&!X.isBuffer(L)){let d=L.toArray();!L.sign&&d[0]&128&&d.unshift(0),L=X.from(d)}if(X.isBuffer(L)){let d=L.length;L.length===0&&d++;let N=X.alloc(d);return L.copy(N),L.length===0&&(N[0]=0),this._createEncoderBuffer(N)}if(L<128)return this._createEncoderBuffer(L);if(L<256)return this._createEncoderBuffer([0,L]);let S=1;for(let d=L;d>=256;d>>=8)S++;let x=new Array(S);for(let d=x.length-1;d>=0;d--)x[d]=L&255,L>>=8;return x[0]&128&&x.unshift(0),this._createEncoderBuffer(X.from(x))},h.prototype._encodeBool=function(L){return this._createEncoderBuffer(L?255:0)},h.prototype._use=function(L,v){return typeof L=="function"&&(L=L(v)),L._getEncoder("der").tree},h.prototype._skipDefault=function(L,v,S){let x=this._baseState,d;if(x.default===null)return!1;let N=L.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,v,S).join()),N.length!==x.defaultBuffer.length)return!1;for(d=0;d<N.length;d++)if(N[d]!==x.defaultBuffer[d])return!1;return!0};function r(L,v,S,x){let d;if(L==="seqof"?L="seq":L==="setof"&&(L="set"),b.tagByName.hasOwnProperty(L))d=b.tagByName[L];else if(typeof L=="number"&&(L|0)===L)d=L;else return x.error("Unknown tag: "+L);return d>=31?x.error("Multi-octet tag encoding unsupported"):(v||(d|=32),d|=b.tagClassByName[S||"universal"]<<6,d)}}),h7=b1((V,k)=>{var _=H1(),X=k5();function T(b){X.call(this,b),this.enc="pem"}_(T,X),k.exports=T,T.prototype.encode=function(b,u){let h=X.prototype.encode.call(this,b).toString("base64"),M=["-----BEGIN "+u.label+"-----"];for(let r=0;r<h.length;r+=64)M.push(h.slice(r,r+64));return M.push("-----END "+u.label+"-----"),M.join(`
`)}}),U5=b1((V)=>{var k=V;k.der=k5(),k.pem=h7()}),X5=b1((V,k)=>{var _=H1(),X=$5(),T=M3().DecoderBuffer,b=C6(),u=Q6();function h(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new M,this.tree._init(v.body)}k.exports=h,h.prototype.decode=function(v,S){return T.isDecoderBuffer(v)||(v=new T(v,S)),this.tree._decode(v,S)};function M(v){b.call(this,"der",v)}_(M,b),M.prototype._peekTag=function(v,S,x){if(v.isEmpty())return!1;let d=v.save(),N=r(v,'Failed to peek tag: "'+S+'"');return v.isError(N)?N:(v.restore(d),N.tag===S||N.tagStr===S||N.tagStr+"of"===S||x)},M.prototype._decodeTag=function(v,S,x){let d=r(v,'Failed to decode tag of "'+S+'"');if(v.isError(d))return d;let N=L(v,d.primitive,'Failed to get length of "'+S+'"');if(v.isError(N))return N;if(!x&&d.tag!==S&&d.tagStr!==S&&d.tagStr+"of"!==S)return v.error('Failed to match tag: "'+S+'"');if(d.primitive||N!==null)return v.skip(N,'Failed to match body of: "'+S+'"');let O=v.save(),Z=this._skipUntilEnd(v,'Failed to skip indefinite length body: "'+this.tag+'"');return v.isError(Z)?Z:(N=v.offset-O.offset,v.restore(O),v.skip(N,'Failed to match body of: "'+S+'"'))},M.prototype._skipUntilEnd=function(v,S){for(;;){let x=r(v,S);if(v.isError(x))return x;let d=L(v,x.primitive,S);if(v.isError(d))return d;let N;if(x.primitive||d!==null?N=v.skip(d):N=this._skipUntilEnd(v,S),v.isError(N))return N;if(x.tagStr==="end")break}},M.prototype._decodeList=function(v,S,x,d){let N=[];for(;!v.isEmpty();){let O=this._peekTag(v,"end");if(v.isError(O))return O;let Z=x.decode(v,"der",d);if(v.isError(Z)&&O)break;N.push(Z)}return N},M.prototype._decodeStr=function(v,S){if(S==="bitstr"){let x=v.readUInt8();return v.isError(x)?x:{unused:x,data:v.raw()}}else if(S==="bmpstr"){let x=v.raw();if(x.length%2===1)return v.error("Decoding of string type: bmpstr length mismatch");let d="";for(let N=0;N<x.length/2;N++)d+=String.fromCharCode(x.readUInt16BE(N*2));return d}else if(S==="numstr"){let x=v.raw().toString("ascii");return this._isNumstr(x)?x:v.error("Decoding of string type: numstr unsupported characters")}else{if(S==="octstr")return v.raw();if(S==="objDesc")return v.raw();if(S==="printstr"){let x=v.raw().toString("ascii");return this._isPrintstr(x)?x:v.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(S)?v.raw().toString():v.error("Decoding of string type: "+S+" unsupported")}},M.prototype._decodeObjid=function(v,S,x){let d,N=[],O=0,Z=0;for(;!v.isEmpty();)Z=v.readUInt8(),O<<=7,O|=Z&127,(Z&128)===0&&(N.push(O),O=0);Z&128&&N.push(O);let $=N[0]/40|0,U=N[0]%40;if(x?d=N:d=[$,U].concat(N.slice(1)),S){let s=S[d.join(" ")];s===void 0&&(s=S[d.join(".")]),s!==void 0&&(d=s)}return d},M.prototype._decodeTime=function(v,S){let x=v.raw().toString(),d,N,O,Z,$,U;if(S==="gentime")d=x.slice(0,4)|0,N=x.slice(4,6)|0,O=x.slice(6,8)|0,Z=x.slice(8,10)|0,$=x.slice(10,12)|0,U=x.slice(12,14)|0;else if(S==="utctime")d=x.slice(0,2)|0,N=x.slice(2,4)|0,O=x.slice(4,6)|0,Z=x.slice(6,8)|0,$=x.slice(8,10)|0,U=x.slice(10,12)|0,d<70?d=2000+d:d=1900+d;else return v.error("Decoding "+S+" time is not supported yet");return Date.UTC(d,N-1,O,Z,$,U,0)},M.prototype._decodeNull=function(){return null},M.prototype._decodeBool=function(v){let S=v.readUInt8();return v.isError(S)?S:S!==0},M.prototype._decodeInt=function(v,S){let x=v.raw(),d=new X(x);return S&&(d=S[d.toString(10)]||d),d},M.prototype._use=function(v,S){return typeof v=="function"&&(v=v(S)),v._getDecoder("der").tree};function r(v,S){let x=v.readUInt8(S);if(v.isError(x))return x;let d=u.tagClass[x>>6],N=(x&32)===0;if((x&31)===31){let Z=x;for(x=0;(Z&128)===128;){if(Z=v.readUInt8(S),v.isError(Z))return Z;x<<=7,x|=Z&127}}else x&=31;let O=u.tag[x];return{cls:d,primitive:N,tag:x,tagStr:O}}function L(v,S,x){let d=v.readUInt8(x);if(v.isError(d))return d;if(!S&&d===128)return null;if((d&128)===0)return d;let N=d&127;if(N>4)return v.error("length octect is too long");d=0;for(let O=0;O<N;O++){d<<=8;let Z=v.readUInt8(x);if(v.isError(Z))return Z;d|=Z}return d}}),b7=b1((V,k)=>{var _=H1(),X=D6().Buffer,T=X5();function b(u){T.call(this,u),this.enc="pem"}_(b,T),k.exports=b,b.prototype.decode=function(u,h){let M=u.toString().split(/[\r\n]+/g),r=h.label.toUpperCase(),L=/^-----(BEGIN|END) ([^-]+)-----$/,v=-1,S=-1;for(let N=0;N<M.length;N++){let O=M[N].match(L);if(O!==null&&O[2]===r)if(v===-1){if(O[1]!=="BEGIN")break;v=N}else{if(O[1]!=="END")break;S=N;break}}if(v===-1||S===-1)throw new Error("PEM section not found for: "+r);let x=M.slice(v+1,S).join("");x.replace(/[^a-z0-9+/=]+/gi,"");let d=X.from(x,"base64");return T.prototype.decode.call(this,d,h)}}),g5=b1((V)=>{var k=V;k.der=X5(),k.pem=b7()}),m7=b1((V)=>{var k=U5(),_=g5(),X=H1(),T=V;T.define=function(u,h){return new b(u,h)};function b(u,h){this.name=u,this.body=h,this.decoders={},this.encoders={}}b.prototype._createNamed=function(u){let h=this.name;function M(r){this._initNamed(r,h)}return X(M,u),M.prototype._initNamed=function(r,L){u.call(this,r,L)},new M(this)},b.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(_[u])),this.decoders[u]},b.prototype.decode=function(u,h,M){return this._getDecoder(h).decode(u,M)},b.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(k[u])),this.encoders[u]},b.prototype.encode=function(u,h,M){return this._getEncoder(h).encode(u,M)}}),y7=b1((V)=>{var k=V;k.Reporter=t6().Reporter,k.DecoderBuffer=M3().DecoderBuffer,k.EncoderBuffer=M3().EncoderBuffer,k.Node=C6()}),v7=b1((V)=>{var k=V;k._reverse=function(_){let X={};return Object.keys(_).forEach(function(T){(T|0)==T&&(T=T|0);let b=_[T];X[b]=T}),X},k.der=Q6()}),s5=b1((V)=>{var k=V;k.bignum=$5(),k.define=m7().define,k.base=y7(),k.constants=v7(),k.decoders=g5(),k.encoders=U5()}),_7=b1((V,k)=>{var _=s5(),X=_.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),T=_.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),b=_.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),u=_.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())}),h=_.define("RelativeDistinguishedName",function(){this.setof(T)}),M=_.define("RDNSequence",function(){this.seqof(h)}),r=_.define("Name",function(){this.choice({rdnSequence:this.use(M)})}),L=_.define("Validity",function(){this.seq().obj(this.key("notBefore").use(X),this.key("notAfter").use(X))}),v=_.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),S=_.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(b),this.key("issuer").use(r),this.key("validity").use(L),this.key("subject").use(r),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(v).optional())}),x=_.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(S),this.key("signatureAlgorithm").use(b),this.key("signatureValue").bitstr())});k.exports=x}),x7=b1((V)=>{var k=s5();V.certificate=_7();var _=k.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});V.RSAPrivateKey=_;var X=k.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});V.RSAPublicKey=X;var T=k.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b),this.key("subjectPublicKey").bitstr())});V.PublicKey=T;var b=k.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=k.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b),this.key("subjectPrivateKey").octstr())});V.PrivateKey=u;var h=k.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});V.EncryptedPrivateKey=h;var M=k.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});V.DSAPrivateKey=M,V.DSAparam=k.define("DSAparam",function(){this.int()});var r=k.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(L),this.key("publicKey").optional().explicit(1).bitstr())});V.ECPrivateKey=r;var L=k.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});V.signature=k.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})}),L7=b1((V,k)=>{k.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}}),T7=b1((V,k)=>{var _=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,X=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,T=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,b=e3(),u=H6(),h=F1().Buffer;k.exports=function(M,r){var L=M.toString(),v=L.match(_),S;if(v){var x="aes"+v[1],d=h.from(v[2],"hex"),N=h.from(v[3].replace(/[\r\n]/g,""),"base64"),O=b(r,d.slice(0,8),parseInt(v[1],10)).key,Z=[],$=u.createDecipheriv(x,O,d);Z.push($.update(N)),Z.push($.final()),S=h.concat(Z)}else{var U=L.match(T);S=h.from(U[2].replace(/[\r\n]/g,""),"base64")}var s=L.match(X)[1];return{tag:s,data:S}}}),l6=b1((V,k)=>{var _=x7(),X=L7(),T=T7(),b=H6(),u=u5(),h=F1().Buffer;k.exports=M;function M(L){var v;typeof L=="object"&&!h.isBuffer(L)&&(v=L.passphrase,L=L.key),typeof L=="string"&&(L=h.from(L));var S=T(L,v),x=S.tag,d=S.data,N,O;switch(x){case"CERTIFICATE":O=_.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(O||(O=_.PublicKey.decode(d,"der")),N=O.algorithm.algorithm.join("."),N){case"1.2.840.113549.1.1.1":return _.RSAPublicKey.decode(O.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return O.subjectPrivateKey=O.subjectPublicKey,{type:"ec",data:O};case"1.2.840.10040.4.1":return O.algorithm.params.pub_key=_.DSAparam.decode(O.subjectPublicKey.data,"der"),{type:"dsa",data:O.algorithm.params};default:throw new Error("unknown key id "+N)}case"ENCRYPTED PRIVATE KEY":d=_.EncryptedPrivateKey.decode(d,"der"),d=r(d,v);case"PRIVATE KEY":switch(O=_.PrivateKey.decode(d,"der"),N=O.algorithm.algorithm.join("."),N){case"1.2.840.113549.1.1.1":return _.RSAPrivateKey.decode(O.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:O.algorithm.curve,privateKey:_.ECPrivateKey.decode(O.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return O.algorithm.params.priv_key=_.DSAparam.decode(O.subjectPrivateKey,"der"),{type:"dsa",params:O.algorithm.params};default:throw new Error("unknown key id "+N)}case"RSA PUBLIC KEY":return _.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return _.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:_.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=_.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+x)}}M.signature=_.signature;function r(L,v){var S=L.algorithm.decrypt.kde.kdeparams.salt,x=parseInt(L.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=X[L.algorithm.decrypt.cipher.algo.join(".")],N=L.algorithm.decrypt.cipher.iv,O=L.subjectPrivateKey,Z=parseInt(d.split("-")[1],10)/8,$=u.pbkdf2Sync(v,S,x,Z,"sha1"),U=b.createDecipheriv(d,$,N),s=[];return s.push(U.update(O)),s.push(U.final()),h.concat(s)}}),W5=b1((V,k)=>{k.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}}),q7=b1((V,k)=>{var _=F1().Buffer,X=e0(),T=G6(),b=E6().ec,u=J6(),h=l6(),M=W5();function r($,U,s,W,g){var K=h(U);if(K.curve){if(W!=="ecdsa"&&W!=="ecdsa/rsa")throw new Error("wrong private key type");return L($,K)}else if(K.type==="dsa"){if(W!=="dsa")throw new Error("wrong private key type");return v($,K,s)}else if(W!=="rsa"&&W!=="ecdsa/rsa")throw new Error("wrong private key type");$=_.concat([g,$]);for(var i=K.modulus.byteLength(),J=[0,1];$.length+J.length+1<i;)J.push(255);J.push(0);for(var F=-1;++F<$.length;)J.push($[F]);var Y=T(J,K);return Y}function L($,U){var s=M[U.curve.join(".")];if(!s)throw new Error("unknown curve "+U.curve.join("."));var W=new b(s),g=W.keyFromPrivate(U.privateKey),K=g.sign($);return _.from(K.toDER())}function v($,U,s){for(var W=U.params.priv_key,g=U.params.p,K=U.params.q,i=U.params.g,J=new u(0),F,Y=d($,K).mod(K),l=!1,p=x(W,K,$,s);l===!1;)F=O(K,p,s),J=Z(i,F,g,K),l=F.invm(K).imul(Y.add(W.mul(J))).mod(K),l.cmpn(0)===0&&(l=!1,J=new u(0));return S(J,l)}function S($,U){$=$.toArray(),U=U.toArray(),$[0]&128&&($=[0].concat($)),U[0]&128&&(U=[0].concat(U));var s=$.length+U.length+4,W=[48,s,2,$.length];return W=W.concat($,[2,U.length],U),_.from(W)}function x($,U,s,W){if($=_.from($.toArray()),$.length<U.byteLength()){var g=_.alloc(U.byteLength()-$.length);$=_.concat([g,$])}var K=s.length,i=N(s,U),J=_.alloc(K);J.fill(1);var F=_.alloc(K);return F=X(W,F).update(J).update(_.from([0])).update($).update(i).digest(),J=X(W,F).update(J).digest(),F=X(W,F).update(J).update(_.from([1])).update($).update(i).digest(),J=X(W,F).update(J).digest(),{k:F,v:J}}function d($,U){var s=new u($),W=($.length<<3)-U.bitLength();return W>0&&s.ishrn(W),s}function N($,U){$=d($,U),$=$.mod(U);var s=_.from($.toArray());if(s.length<U.byteLength()){var W=_.alloc(U.byteLength()-s.length);s=_.concat([W,s])}return s}function O($,U,s){var W,g;do{for(W=_.alloc(0);W.length*8<$.bitLength();)U.v=X(s,U.k).update(U.v).digest(),W=_.concat([W,U.v]);g=d(W,$),U.k=X(s,U.k).update(U.v).update(_.from([0])).digest(),U.v=X(s,U.k).update(U.v).digest()}while(g.cmp($)!==-1);return g}function Z($,U,s,W){return $.toRed(u.mont(s)).redPow(U).fromRed().mod(W)}k.exports=r,k.exports.getKey=x,k.exports.makeKey=O}),O7=b1((V,k)=>{var _=F1().Buffer,X=J6(),T=E6().ec,b=l6(),u=W5();function h(v,S,x,d,N){var O=b(x);if(O.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return M(v,S,O)}else if(O.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return r(v,S,O)}else if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");S=_.concat([N,S]);for(var Z=O.modulus.byteLength(),$=[1],U=0;S.length+$.length+2<Z;)$.push(255),U++;$.push(0);for(var s=-1;++s<S.length;)$.push(S[s]);$=_.from($);var W=X.mont(O.modulus);v=new X(v).toRed(W),v=v.redPow(new X(O.publicExponent)),v=_.from(v.fromRed().toArray());var g=U<8?1:0;for(Z=Math.min(v.length,$.length),v.length!==$.length&&(g=1),s=-1;++s<Z;)g|=v[s]^$[s];return g===0}function M(v,S,x){var d=u[x.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+x.data.algorithm.curve.join("."));var N=new T(d),O=x.data.subjectPrivateKey.data;return N.verify(S,v,O)}function r(v,S,x){var d=x.data.p,N=x.data.q,O=x.data.g,Z=x.data.pub_key,$=b.signature.decode(v,"der"),U=$.s,s=$.r;L(U,N),L(s,N);var W=X.mont(d),g=U.invm(N),K=O.toRed(W).redPow(new X(S).mul(g).mod(N)).fromRed().mul(Z.toRed(W).redPow(s.mul(g).mod(N)).fromRed()).mod(d).mod(N);return K.cmp(s)===0}function L(v,S){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(S)>=S)throw new Error("invalid sig")}k.exports=h}),V7=b1((V,k)=>{var _=F1().Buffer,X=O3(),T=Y8(),b=H1(),u=q7(),h=O7(),M=A0();Object.keys(M).forEach(function(x){M[x].id=_.from(M[x].id,"hex"),M[x.toLowerCase()]=M[x]});function r(x){T.Writable.call(this);var d=M[x];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=X(d.hash),this._tag=d.id,this._signType=d.sign}b(r,T.Writable),r.prototype._write=function(x,d,N){this._hash.update(x),N()},r.prototype.update=function(x,d){return typeof x=="string"&&(x=_.from(x,d)),this._hash.update(x),this},r.prototype.sign=function(x,d){this.end();var N=this._hash.digest(),O=u(N,x,this._hashType,this._signType,this._tag);return d?O.toString(d):O};function L(x){T.Writable.call(this);var d=M[x];if(!d)throw new Error("Unknown message digest");this._hash=X(d.hash),this._tag=d.id,this._signType=d.sign}b(L,T.Writable),L.prototype._write=function(x,d,N){this._hash.update(x),N()},L.prototype.update=function(x,d){return typeof x=="string"&&(x=_.from(x,d)),this._hash.update(x),this},L.prototype.verify=function(x,d,N){typeof d=="string"&&(d=_.from(d,N)),this.end();var O=this._hash.digest();return h(d,O,x,this._signType,this._tag)};function v(x){return new r(x)}function S(x){return new L(x)}k.exports={Sign:v,Verify:S,createSign:v,createVerify:S}}),N7=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),M7=b1((V,k)=>{var _=E6(),X=N7();k.exports=function(h){return new b(h)};var T={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};T.p224=T.secp224r1,T.p256=T.secp256r1=T.prime256v1,T.p192=T.secp192r1=T.prime192v1,T.p384=T.secp384r1,T.p521=T.secp521r1;function b(h){this.curveType=T[h],this.curveType||(this.curveType={name:h}),this.curve=new _.ec(this.curveType.name),this.keys=void 0}b.prototype.generateKeys=function(h,M){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,M)},b.prototype.computeSecret=function(h,M,r){M=M||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,M));var L=this.curve.keyFromPublic(h).getPublic(),v=L.mul(this.keys.getPrivate()).getX();return u(v,r,this.curveType.byteLength)},b.prototype.getPublicKey=function(h,M){var r=this.keys.getPublic(M==="compressed",!0);return M==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),u(r,h)},b.prototype.getPrivateKey=function(h){return u(this.keys.getPrivate(),h)},b.prototype.setPublicKey=function(h,M){return M=M||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,M)),this.keys._importPublic(h),this},b.prototype.setPrivateKey=function(h,M){M=M||"utf8",Buffer.isBuffer(h)||(h=new Buffer(h,M));var r=new X(h);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function u(h,M,r){Array.isArray(h)||(h=h.toArray());var L=new Buffer(h);if(r&&L.length<r){var v=new Buffer(r-L.length);v.fill(0),L=Buffer.concat([v,L])}return M?L.toString(M):L}}),R5=b1((V,k)=>{var _=O3(),X=F1().Buffer;k.exports=function(b,u){for(var h=X.alloc(0),M=0,r;h.length<u;)r=T(M++),h=X.concat([h,_("sha1").update(b).update(r).digest()]);return h.slice(0,u)};function T(b){var u=X.allocUnsafe(4);return u.writeUInt32BE(b,0),u}}),z5=b1((V,k)=>{k.exports=function(_,X){for(var T=_.length,b=-1;++b<T;)_[b]^=X[b];return _}}),B6=b1((V,k)=>{(function(_,X){function T(l,p){if(!l)throw new Error(p||"Assertion failed")}function b(l,p){l.super_=p;var f=function(){};f.prototype=p.prototype,l.prototype=new f,l.prototype.constructor=l}function u(l,p,f){if(u.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((p==="le"||p==="be")&&(f=p,p=10),this._init(l||0,p||10,f||"be"))}typeof _=="object"?_.exports=u:X.BN=u,u.BN=u,u.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=C2().Buffer}catch{}u.isBN=function(l){return l instanceof u?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===u.wordSize&&Array.isArray(l.words)},u.max=function(l,p){return l.cmp(p)>0?l:p},u.min=function(l,p){return l.cmp(p)<0?l:p},u.prototype._init=function(l,p,f){if(typeof l=="number")return this._initNumber(l,p,f);if(typeof l=="object")return this._initArray(l,p,f);p==="hex"&&(p=16),T(p===(p|0)&&p>=2&&p<=36),l=l.toString().replace(/\s+/g,"");var n=0;l[0]==="-"&&(n++,this.negative=1),n<l.length&&(p===16?this._parseHex(l,n,f):(this._parseBase(l,p,n),f==="le"&&this._initArray(this.toArray(),p,f)))},u.prototype._initNumber=function(l,p,f){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(T(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),p,f)},u.prototype._initArray=function(l,p,f){if(T(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c,y,q=0;if(f==="be")for(n=l.length-1,c=0;n>=0;n-=3)y=l[n]|l[n-1]<<8|l[n-2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);else if(f==="le")for(n=0,c=0;n<l.length;n+=3)y=l[n]|l[n+1]<<8|l[n+2]<<16,this.words[c]|=y<<q&67108863,this.words[c+1]=y>>>26-q&67108863,q+=24,q>=26&&(q-=26,c++);return this.strip()};function M(l,p){var f=l.charCodeAt(p);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function r(l,p,f){var n=M(l,f);return f-1>=p&&(n|=M(l,f-1)<<4),n}u.prototype._parseHex=function(l,p,f){this.length=Math.ceil((l.length-p)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var c=0,y=0,q;if(f==="be")for(n=l.length-1;n>=p;n-=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8;else{var a=l.length-p;for(n=a%2===0?p+1:p;n<l.length;n+=2)q=r(l,p,n)<<c,this.words[y]|=q&67108863,c>=18?(c-=18,y+=1,this.words[y]|=q>>>26):c+=8}this.strip()};function L(l,p,f,n){for(var c=0,y=Math.min(l.length,f),q=p;q<y;q++){var a=l.charCodeAt(q)-48;c*=n,a>=49?c+=a-49+10:a>=17?c+=a-17+10:c+=a}return c}u.prototype._parseBase=function(l,p,f){this.words=[0],this.length=1;for(var n=0,c=1;c<=67108863;c*=p)n++;n--,c=c/p|0;for(var y=l.length-f,q=y%n,a=Math.min(y,y-q)+f,o=0,m=f;m<a;m+=n)o=L(l,m,m+n,p),this.imuln(c),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o);if(q!==0){var j=1;for(o=L(l,m,l.length,p),m=0;m<q;m++)j*=p;this.imuln(j),this.words[0]+o<67108864?this.words[0]+=o:this._iaddn(o)}this.strip()},u.prototype.copy=function(l){l.words=new Array(this.length);for(var p=0;p<this.length;p++)l.words[p]=this.words[p];l.length=this.length,l.negative=this.negative,l.red=this.red},u.prototype.clone=function(){var l=new u(null);return this.copy(l),l},u.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(l,p){l=l||10,p=p|0||1;var f;if(l===16||l==="hex"){f="";for(var n=0,c=0,y=0;y<this.length;y++){var q=this.words[y],a=((q<<n|c)&16777215).toString(16);c=q>>>24-n&16777215,c!==0||y!==this.length-1?f=v[6-a.length]+a+f:f=a+f,n+=2,n>=26&&(n-=26,y--)}for(c!==0&&(f=c.toString(16)+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(l===(l|0)&&l>=2&&l<=36){var o=S[l],m=x[l];f="";var j=this.clone();for(j.negative=0;!j.isZero();){var R=j.modn(m).toString(l);j=j.idivn(m),j.isZero()?f=R+f:f=v[o-R.length]+R+f}for(this.isZero()&&(f="0"+f);f.length%p!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}T(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&T(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(l,p){return T(typeof h<"u"),this.toArrayLike(h,l,p)},u.prototype.toArray=function(l,p){return this.toArrayLike(Array,l,p)},u.prototype.toArrayLike=function(l,p,f){var n=this.byteLength(),c=f||Math.max(1,n);T(n<=c,"byte array longer than desired length"),T(c>0,"Requested array length <= 0"),this.strip();var y=p==="le",q=new l(c),a,o,m=this.clone();if(y){for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[o]=a;for(;o<c;o++)q[o]=0}else{for(o=0;o<c-n;o++)q[o]=0;for(o=0;!m.isZero();o++)a=m.andln(255),m.iushrn(8),q[c-o-1]=a}return q},Math.clz32?u.prototype._countBits=function(l){return 32-Math.clz32(l)}:u.prototype._countBits=function(l){var p=l,f=0;return p>=4096&&(f+=13,p>>>=13),p>=64&&(f+=7,p>>>=7),p>=8&&(f+=4,p>>>=4),p>=2&&(f+=2,p>>>=2),f+p},u.prototype._zeroBits=function(l){if(l===0)return 26;var p=l,f=0;return(p&8191)===0&&(f+=13,p>>>=13),(p&127)===0&&(f+=7,p>>>=7),(p&15)===0&&(f+=4,p>>>=4),(p&3)===0&&(f+=2,p>>>=2),(p&1)===0&&f++,f},u.prototype.bitLength=function(){var l=this.words[this.length-1],p=this._countBits(l);return(this.length-1)*26+p};function d(l){for(var p=new Array(l.bitLength()),f=0;f<p.length;f++){var n=f/26|0,c=f%26;p[f]=(l.words[n]&1<<c)>>>c}return p}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,p=0;p<this.length;p++){var f=this._zeroBits(this.words[p]);if(l+=f,f!==26)break}return l},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},u.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var p=0;p<l.length;p++)this.words[p]=this.words[p]|l.words[p];return this.strip()},u.prototype.ior=function(l){return T((this.negative|l.negative)===0),this.iuor(l)},u.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},u.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},u.prototype.iuand=function(l){var p;this.length>l.length?p=l:p=this;for(var f=0;f<p.length;f++)this.words[f]=this.words[f]&l.words[f];return this.length=p.length,this.strip()},u.prototype.iand=function(l){return T((this.negative|l.negative)===0),this.iuand(l)},u.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},u.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},u.prototype.iuxor=function(l){var p,f;this.length>l.length?(p=this,f=l):(p=l,f=this);for(var n=0;n<f.length;n++)this.words[n]=p.words[n]^f.words[n];if(this!==p)for(;n<p.length;n++)this.words[n]=p.words[n];return this.length=p.length,this.strip()},u.prototype.ixor=function(l){return T((this.negative|l.negative)===0),this.iuxor(l)},u.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},u.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},u.prototype.inotn=function(l){T(typeof l=="number"&&l>=0);var p=Math.ceil(l/26)|0,f=l%26;this._expand(p),f>0&&p--;for(var n=0;n<p;n++)this.words[n]=~this.words[n]&67108863;return f>0&&(this.words[n]=~this.words[n]&67108863>>26-f),this.strip()},u.prototype.notn=function(l){return this.clone().inotn(l)},u.prototype.setn=function(l,p){T(typeof l=="number"&&l>=0);var f=l/26|0,n=l%26;return this._expand(f+1),p?this.words[f]=this.words[f]|1<<n:this.words[f]=this.words[f]&~(1<<n),this.strip()},u.prototype.iadd=function(l){var p;if(this.negative!==0&&l.negative===0)return this.negative=0,p=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,p=this.isub(l),l.negative=1,p._normSign();var f,n;this.length>l.length?(f=this,n=l):(f=l,n=this);for(var c=0,y=0;y<n.length;y++)p=(f.words[y]|0)+(n.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;for(;c!==0&&y<f.length;y++)p=(f.words[y]|0)+c,this.words[y]=p&67108863,c=p>>>26;if(this.length=f.length,c!==0)this.words[this.length]=c,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},u.prototype.add=function(l){var p;return l.negative!==0&&this.negative===0?(l.negative=0,p=this.sub(l),l.negative^=1,p):l.negative===0&&this.negative!==0?(this.negative=0,p=l.sub(this),this.negative=1,p):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},u.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var p=this.iadd(l);return l.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var f=this.cmp(l);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,c;f>0?(n=this,c=l):(n=l,c=this);for(var y=0,q=0;q<c.length;q++)p=(n.words[q]|0)-(c.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;for(;y!==0&&q<n.length;q++)p=(n.words[q]|0)+y,y=p>>26,this.words[q]=p&67108863;if(y===0&&q<n.length&&n!==this)for(;q<n.length;q++)this.words[q]=n.words[q];return this.length=Math.max(this.length,q),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(l){return this.clone().isub(l)};function N(l,p,f){f.negative=p.negative^l.negative;var n=l.length+p.length|0;f.length=n,n=n-1|0;var c=l.words[0]|0,y=p.words[0]|0,q=c*y,a=q&67108863,o=q/67108864|0;f.words[0]=a;for(var m=1;m<n;m++){for(var j=o>>>26,R=o&67108863,w=Math.min(m,p.length-1),E=Math.max(0,m-l.length+1);E<=w;E++){var B=m-E|0;c=l.words[B]|0,y=p.words[E]|0,q=c*y+R,j+=q/67108864|0,R=q&67108863}f.words[m]=R|0,o=j|0}return o!==0?f.words[m]=o|0:f.length--,f.strip()}var O=function(l,p,f){var n=l.words,c=p.words,y=f.words,q=0,a,o,m,j=n[0]|0,R=j&8191,w=j>>>13,E=n[1]|0,B=E&8191,e=E>>>13,Q=n[2]|0,I=Q&8191,A=Q>>>13,h1=n[3]|0,n1=h1&8191,c1=h1>>>13,G=n[4]|0,P=G&8191,D=G>>>13,p1=n[5]|0,u1=p1&8191,o1=p1>>>13,V1=n[6]|0,d1=V1&8191,a1=V1>>>13,z1=n[7]|0,m1=z1&8191,r1=z1>>>13,w1=n[8]|0,z=w1&8191,H=w1>>>13,t=n[9]|0,C=t&8191,l1=t>>>13,x1=c[0]|0,f1=x1&8191,y1=x1>>>13,i1=c[1]|0,_1=i1&8191,v1=i1>>>13,j1=c[2]|0,q1=j1&8191,O1=j1>>>13,a2=c[3]|0,T1=a2&8191,L1=a2>>>13,I1=c[4]|0,N1=I1&8191,M1=I1>>>13,m2=c[5]|0,S1=m2&8191,Z1=m2>>>13,y2=c[6]|0,$1=y2&8191,k1=y2>>>13,v2=c[7]|0,U1=v2&8191,X1=v2>>>13,_2=c[8]|0,g1=_2&8191,s1=_2>>>13,x2=c[9]|0,W1=x2&8191,R1=x2>>>13;f.negative=l.negative^p.negative,f.length=19,a=Math.imul(R,f1),o=Math.imul(R,y1),o=o+Math.imul(w,f1)|0,m=Math.imul(w,y1);var d2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(d2>>>26)|0,d2&=67108863,a=Math.imul(B,f1),o=Math.imul(B,y1),o=o+Math.imul(e,f1)|0,m=Math.imul(e,y1),a=a+Math.imul(R,_1)|0,o=o+Math.imul(R,v1)|0,o=o+Math.imul(w,_1)|0,m=m+Math.imul(w,v1)|0;var K1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(K1>>>26)|0,K1&=67108863,a=Math.imul(I,f1),o=Math.imul(I,y1),o=o+Math.imul(A,f1)|0,m=Math.imul(A,y1),a=a+Math.imul(B,_1)|0,o=o+Math.imul(B,v1)|0,o=o+Math.imul(e,_1)|0,m=m+Math.imul(e,v1)|0,a=a+Math.imul(R,q1)|0,o=o+Math.imul(R,O1)|0,o=o+Math.imul(w,q1)|0,m=m+Math.imul(w,O1)|0;var P1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(P1>>>26)|0,P1&=67108863,a=Math.imul(n1,f1),o=Math.imul(n1,y1),o=o+Math.imul(c1,f1)|0,m=Math.imul(c1,y1),a=a+Math.imul(I,_1)|0,o=o+Math.imul(I,v1)|0,o=o+Math.imul(A,_1)|0,m=m+Math.imul(A,v1)|0,a=a+Math.imul(B,q1)|0,o=o+Math.imul(B,O1)|0,o=o+Math.imul(e,q1)|0,m=m+Math.imul(e,O1)|0,a=a+Math.imul(R,T1)|0,o=o+Math.imul(R,L1)|0,o=o+Math.imul(w,T1)|0,m=m+Math.imul(w,L1)|0;var Y1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Y1>>>26)|0,Y1&=67108863,a=Math.imul(P,f1),o=Math.imul(P,y1),o=o+Math.imul(D,f1)|0,m=Math.imul(D,y1),a=a+Math.imul(n1,_1)|0,o=o+Math.imul(n1,v1)|0,o=o+Math.imul(c1,_1)|0,m=m+Math.imul(c1,v1)|0,a=a+Math.imul(I,q1)|0,o=o+Math.imul(I,O1)|0,o=o+Math.imul(A,q1)|0,m=m+Math.imul(A,O1)|0,a=a+Math.imul(B,T1)|0,o=o+Math.imul(B,L1)|0,o=o+Math.imul(e,T1)|0,m=m+Math.imul(e,L1)|0,a=a+Math.imul(R,N1)|0,o=o+Math.imul(R,M1)|0,o=o+Math.imul(w,N1)|0,m=m+Math.imul(w,M1)|0;var E1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(E1>>>26)|0,E1&=67108863,a=Math.imul(u1,f1),o=Math.imul(u1,y1),o=o+Math.imul(o1,f1)|0,m=Math.imul(o1,y1),a=a+Math.imul(P,_1)|0,o=o+Math.imul(P,v1)|0,o=o+Math.imul(D,_1)|0,m=m+Math.imul(D,v1)|0,a=a+Math.imul(n1,q1)|0,o=o+Math.imul(n1,O1)|0,o=o+Math.imul(c1,q1)|0,m=m+Math.imul(c1,O1)|0,a=a+Math.imul(I,T1)|0,o=o+Math.imul(I,L1)|0,o=o+Math.imul(A,T1)|0,m=m+Math.imul(A,L1)|0,a=a+Math.imul(B,N1)|0,o=o+Math.imul(B,M1)|0,o=o+Math.imul(e,N1)|0,m=m+Math.imul(e,M1)|0,a=a+Math.imul(R,S1)|0,o=o+Math.imul(R,Z1)|0,o=o+Math.imul(w,S1)|0,m=m+Math.imul(w,Z1)|0;var D1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(D1>>>26)|0,D1&=67108863,a=Math.imul(d1,f1),o=Math.imul(d1,y1),o=o+Math.imul(a1,f1)|0,m=Math.imul(a1,y1),a=a+Math.imul(u1,_1)|0,o=o+Math.imul(u1,v1)|0,o=o+Math.imul(o1,_1)|0,m=m+Math.imul(o1,v1)|0,a=a+Math.imul(P,q1)|0,o=o+Math.imul(P,O1)|0,o=o+Math.imul(D,q1)|0,m=m+Math.imul(D,O1)|0,a=a+Math.imul(n1,T1)|0,o=o+Math.imul(n1,L1)|0,o=o+Math.imul(c1,T1)|0,m=m+Math.imul(c1,L1)|0,a=a+Math.imul(I,N1)|0,o=o+Math.imul(I,M1)|0,o=o+Math.imul(A,N1)|0,m=m+Math.imul(A,M1)|0,a=a+Math.imul(B,S1)|0,o=o+Math.imul(B,Z1)|0,o=o+Math.imul(e,S1)|0,m=m+Math.imul(e,Z1)|0,a=a+Math.imul(R,$1)|0,o=o+Math.imul(R,k1)|0,o=o+Math.imul(w,$1)|0,m=m+Math.imul(w,k1)|0;var t1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(t1>>>26)|0,t1&=67108863,a=Math.imul(m1,f1),o=Math.imul(m1,y1),o=o+Math.imul(r1,f1)|0,m=Math.imul(r1,y1),a=a+Math.imul(d1,_1)|0,o=o+Math.imul(d1,v1)|0,o=o+Math.imul(a1,_1)|0,m=m+Math.imul(a1,v1)|0,a=a+Math.imul(u1,q1)|0,o=o+Math.imul(u1,O1)|0,o=o+Math.imul(o1,q1)|0,m=m+Math.imul(o1,O1)|0,a=a+Math.imul(P,T1)|0,o=o+Math.imul(P,L1)|0,o=o+Math.imul(D,T1)|0,m=m+Math.imul(D,L1)|0,a=a+Math.imul(n1,N1)|0,o=o+Math.imul(n1,M1)|0,o=o+Math.imul(c1,N1)|0,m=m+Math.imul(c1,M1)|0,a=a+Math.imul(I,S1)|0,o=o+Math.imul(I,Z1)|0,o=o+Math.imul(A,S1)|0,m=m+Math.imul(A,Z1)|0,a=a+Math.imul(B,$1)|0,o=o+Math.imul(B,k1)|0,o=o+Math.imul(e,$1)|0,m=m+Math.imul(e,k1)|0,a=a+Math.imul(R,U1)|0,o=o+Math.imul(R,X1)|0,o=o+Math.imul(w,U1)|0,m=m+Math.imul(w,X1)|0;var C1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(C1>>>26)|0,C1&=67108863,a=Math.imul(z,f1),o=Math.imul(z,y1),o=o+Math.imul(H,f1)|0,m=Math.imul(H,y1),a=a+Math.imul(m1,_1)|0,o=o+Math.imul(m1,v1)|0,o=o+Math.imul(r1,_1)|0,m=m+Math.imul(r1,v1)|0,a=a+Math.imul(d1,q1)|0,o=o+Math.imul(d1,O1)|0,o=o+Math.imul(a1,q1)|0,m=m+Math.imul(a1,O1)|0,a=a+Math.imul(u1,T1)|0,o=o+Math.imul(u1,L1)|0,o=o+Math.imul(o1,T1)|0,m=m+Math.imul(o1,L1)|0,a=a+Math.imul(P,N1)|0,o=o+Math.imul(P,M1)|0,o=o+Math.imul(D,N1)|0,m=m+Math.imul(D,M1)|0,a=a+Math.imul(n1,S1)|0,o=o+Math.imul(n1,Z1)|0,o=o+Math.imul(c1,S1)|0,m=m+Math.imul(c1,Z1)|0,a=a+Math.imul(I,$1)|0,o=o+Math.imul(I,k1)|0,o=o+Math.imul(A,$1)|0,m=m+Math.imul(A,k1)|0,a=a+Math.imul(B,U1)|0,o=o+Math.imul(B,X1)|0,o=o+Math.imul(e,U1)|0,m=m+Math.imul(e,X1)|0,a=a+Math.imul(R,g1)|0,o=o+Math.imul(R,s1)|0,o=o+Math.imul(w,g1)|0,m=m+Math.imul(w,s1)|0;var Q1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(Q1>>>26)|0,Q1&=67108863,a=Math.imul(C,f1),o=Math.imul(C,y1),o=o+Math.imul(l1,f1)|0,m=Math.imul(l1,y1),a=a+Math.imul(z,_1)|0,o=o+Math.imul(z,v1)|0,o=o+Math.imul(H,_1)|0,m=m+Math.imul(H,v1)|0,a=a+Math.imul(m1,q1)|0,o=o+Math.imul(m1,O1)|0,o=o+Math.imul(r1,q1)|0,m=m+Math.imul(r1,O1)|0,a=a+Math.imul(d1,T1)|0,o=o+Math.imul(d1,L1)|0,o=o+Math.imul(a1,T1)|0,m=m+Math.imul(a1,L1)|0,a=a+Math.imul(u1,N1)|0,o=o+Math.imul(u1,M1)|0,o=o+Math.imul(o1,N1)|0,m=m+Math.imul(o1,M1)|0,a=a+Math.imul(P,S1)|0,o=o+Math.imul(P,Z1)|0,o=o+Math.imul(D,S1)|0,m=m+Math.imul(D,Z1)|0,a=a+Math.imul(n1,$1)|0,o=o+Math.imul(n1,k1)|0,o=o+Math.imul(c1,$1)|0,m=m+Math.imul(c1,k1)|0,a=a+Math.imul(I,U1)|0,o=o+Math.imul(I,X1)|0,o=o+Math.imul(A,U1)|0,m=m+Math.imul(A,X1)|0,a=a+Math.imul(B,g1)|0,o=o+Math.imul(B,s1)|0,o=o+Math.imul(e,g1)|0,m=m+Math.imul(e,s1)|0,a=a+Math.imul(R,W1)|0,o=o+Math.imul(R,R1)|0,o=o+Math.imul(w,W1)|0,m=m+Math.imul(w,R1)|0;var B1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(B1>>>26)|0,B1&=67108863,a=Math.imul(C,_1),o=Math.imul(C,v1),o=o+Math.imul(l1,_1)|0,m=Math.imul(l1,v1),a=a+Math.imul(z,q1)|0,o=o+Math.imul(z,O1)|0,o=o+Math.imul(H,q1)|0,m=m+Math.imul(H,O1)|0,a=a+Math.imul(m1,T1)|0,o=o+Math.imul(m1,L1)|0,o=o+Math.imul(r1,T1)|0,m=m+Math.imul(r1,L1)|0,a=a+Math.imul(d1,N1)|0,o=o+Math.imul(d1,M1)|0,o=o+Math.imul(a1,N1)|0,m=m+Math.imul(a1,M1)|0,a=a+Math.imul(u1,S1)|0,o=o+Math.imul(u1,Z1)|0,o=o+Math.imul(o1,S1)|0,m=m+Math.imul(o1,Z1)|0,a=a+Math.imul(P,$1)|0,o=o+Math.imul(P,k1)|0,o=o+Math.imul(D,$1)|0,m=m+Math.imul(D,k1)|0,a=a+Math.imul(n1,U1)|0,o=o+Math.imul(n1,X1)|0,o=o+Math.imul(c1,U1)|0,m=m+Math.imul(c1,X1)|0,a=a+Math.imul(I,g1)|0,o=o+Math.imul(I,s1)|0,o=o+Math.imul(A,g1)|0,m=m+Math.imul(A,s1)|0,a=a+Math.imul(B,W1)|0,o=o+Math.imul(B,R1)|0,o=o+Math.imul(e,W1)|0,m=m+Math.imul(e,R1)|0;var e1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(e1>>>26)|0,e1&=67108863,a=Math.imul(C,q1),o=Math.imul(C,O1),o=o+Math.imul(l1,q1)|0,m=Math.imul(l1,O1),a=a+Math.imul(z,T1)|0,o=o+Math.imul(z,L1)|0,o=o+Math.imul(H,T1)|0,m=m+Math.imul(H,L1)|0,a=a+Math.imul(m1,N1)|0,o=o+Math.imul(m1,M1)|0,o=o+Math.imul(r1,N1)|0,m=m+Math.imul(r1,M1)|0,a=a+Math.imul(d1,S1)|0,o=o+Math.imul(d1,Z1)|0,o=o+Math.imul(a1,S1)|0,m=m+Math.imul(a1,Z1)|0,a=a+Math.imul(u1,$1)|0,o=o+Math.imul(u1,k1)|0,o=o+Math.imul(o1,$1)|0,m=m+Math.imul(o1,k1)|0,a=a+Math.imul(P,U1)|0,o=o+Math.imul(P,X1)|0,o=o+Math.imul(D,U1)|0,m=m+Math.imul(D,X1)|0,a=a+Math.imul(n1,g1)|0,o=o+Math.imul(n1,s1)|0,o=o+Math.imul(c1,g1)|0,m=m+Math.imul(c1,s1)|0,a=a+Math.imul(I,W1)|0,o=o+Math.imul(I,R1)|0,o=o+Math.imul(A,W1)|0,m=m+Math.imul(A,R1)|0;var A1=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(A1>>>26)|0,A1&=67108863,a=Math.imul(C,T1),o=Math.imul(C,L1),o=o+Math.imul(l1,T1)|0,m=Math.imul(l1,L1),a=a+Math.imul(z,N1)|0,o=o+Math.imul(z,M1)|0,o=o+Math.imul(H,N1)|0,m=m+Math.imul(H,M1)|0,a=a+Math.imul(m1,S1)|0,o=o+Math.imul(m1,Z1)|0,o=o+Math.imul(r1,S1)|0,m=m+Math.imul(r1,Z1)|0,a=a+Math.imul(d1,$1)|0,o=o+Math.imul(d1,k1)|0,o=o+Math.imul(a1,$1)|0,m=m+Math.imul(a1,k1)|0,a=a+Math.imul(u1,U1)|0,o=o+Math.imul(u1,X1)|0,o=o+Math.imul(o1,U1)|0,m=m+Math.imul(o1,X1)|0,a=a+Math.imul(P,g1)|0,o=o+Math.imul(P,s1)|0,o=o+Math.imul(D,g1)|0,m=m+Math.imul(D,s1)|0,a=a+Math.imul(n1,W1)|0,o=o+Math.imul(n1,R1)|0,o=o+Math.imul(c1,W1)|0,m=m+Math.imul(c1,R1)|0;var l2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(l2>>>26)|0,l2&=67108863,a=Math.imul(C,N1),o=Math.imul(C,M1),o=o+Math.imul(l1,N1)|0,m=Math.imul(l1,M1),a=a+Math.imul(z,S1)|0,o=o+Math.imul(z,Z1)|0,o=o+Math.imul(H,S1)|0,m=m+Math.imul(H,Z1)|0,a=a+Math.imul(m1,$1)|0,o=o+Math.imul(m1,k1)|0,o=o+Math.imul(r1,$1)|0,m=m+Math.imul(r1,k1)|0,a=a+Math.imul(d1,U1)|0,o=o+Math.imul(d1,X1)|0,o=o+Math.imul(a1,U1)|0,m=m+Math.imul(a1,X1)|0,a=a+Math.imul(u1,g1)|0,o=o+Math.imul(u1,s1)|0,o=o+Math.imul(o1,g1)|0,m=m+Math.imul(o1,s1)|0,a=a+Math.imul(P,W1)|0,o=o+Math.imul(P,R1)|0,o=o+Math.imul(D,W1)|0,m=m+Math.imul(D,R1)|0;var o2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(o2>>>26)|0,o2&=67108863,a=Math.imul(C,S1),o=Math.imul(C,Z1),o=o+Math.imul(l1,S1)|0,m=Math.imul(l1,Z1),a=a+Math.imul(z,$1)|0,o=o+Math.imul(z,k1)|0,o=o+Math.imul(H,$1)|0,m=m+Math.imul(H,k1)|0,a=a+Math.imul(m1,U1)|0,o=o+Math.imul(m1,X1)|0,o=o+Math.imul(r1,U1)|0,m=m+Math.imul(r1,X1)|0,a=a+Math.imul(d1,g1)|0,o=o+Math.imul(d1,s1)|0,o=o+Math.imul(a1,g1)|0,m=m+Math.imul(a1,s1)|0,a=a+Math.imul(u1,W1)|0,o=o+Math.imul(u1,R1)|0,o=o+Math.imul(o1,W1)|0,m=m+Math.imul(o1,R1)|0;var n2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(n2>>>26)|0,n2&=67108863,a=Math.imul(C,$1),o=Math.imul(C,k1),o=o+Math.imul(l1,$1)|0,m=Math.imul(l1,k1),a=a+Math.imul(z,U1)|0,o=o+Math.imul(z,X1)|0,o=o+Math.imul(H,U1)|0,m=m+Math.imul(H,X1)|0,a=a+Math.imul(m1,g1)|0,o=o+Math.imul(m1,s1)|0,o=o+Math.imul(r1,g1)|0,m=m+Math.imul(r1,s1)|0,a=a+Math.imul(d1,W1)|0,o=o+Math.imul(d1,R1)|0,o=o+Math.imul(a1,W1)|0,m=m+Math.imul(a1,R1)|0;var p2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(p2>>>26)|0,p2&=67108863,a=Math.imul(C,U1),o=Math.imul(C,X1),o=o+Math.imul(l1,U1)|0,m=Math.imul(l1,X1),a=a+Math.imul(z,g1)|0,o=o+Math.imul(z,s1)|0,o=o+Math.imul(H,g1)|0,m=m+Math.imul(H,s1)|0,a=a+Math.imul(m1,W1)|0,o=o+Math.imul(m1,R1)|0,o=o+Math.imul(r1,W1)|0,m=m+Math.imul(r1,R1)|0;var u2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(u2>>>26)|0,u2&=67108863,a=Math.imul(C,g1),o=Math.imul(C,s1),o=o+Math.imul(l1,g1)|0,m=Math.imul(l1,s1),a=a+Math.imul(z,W1)|0,o=o+Math.imul(z,R1)|0,o=o+Math.imul(H,W1)|0,m=m+Math.imul(H,R1)|0;var c2=(q+a|0)+((o&8191)<<13)|0;q=(m+(o>>>13)|0)+(c2>>>26)|0,c2&=67108863,a=Math.imul(C,W1),o=Math.imul(C,R1),o=o+Math.imul(l1,W1)|0,m=Math.imul(l1,R1);var f2=(q+a|0)+((o&8191)<<13)|0;return q=(m+(o>>>13)|0)+(f2>>>26)|0,f2&=67108863,y[0]=d2,y[1]=K1,y[2]=P1,y[3]=Y1,y[4]=E1,y[5]=D1,y[6]=t1,y[7]=C1,y[8]=Q1,y[9]=B1,y[10]=e1,y[11]=A1,y[12]=l2,y[13]=o2,y[14]=n2,y[15]=p2,y[16]=u2,y[17]=c2,y[18]=f2,q!==0&&(y[19]=q,f.length++),f};Math.imul||(O=N);function Z(l,p,f){f.negative=p.negative^l.negative,f.length=l.length+p.length;for(var n=0,c=0,y=0;y<f.length-1;y++){var q=c;c=0;for(var a=n&67108863,o=Math.min(y,p.length-1),m=Math.max(0,y-l.length+1);m<=o;m++){var j=y-m,R=l.words[j]|0,w=p.words[m]|0,E=R*w,B=E&67108863;q=q+(E/67108864|0)|0,B=B+a|0,a=B&67108863,q=q+(B>>>26)|0,c+=q>>>26,q&=67108863}f.words[y]=a,n=q,q=c}return n!==0?f.words[y]=n:f.length--,f.strip()}function $(l,p,f){var n=new U;return n.mulp(l,p,f)}u.prototype.mulTo=function(l,p){var f,n=this.length+l.length;return this.length===10&&l.length===10?f=O(this,l,p):n<63?f=N(this,l,p):n<1024?f=Z(this,l,p):f=$(this,l,p),f};function U(l,p){this.x=l,this.y=p}U.prototype.makeRBT=function(l){for(var p=new Array(l),f=u.prototype._countBits(l)-1,n=0;n<l;n++)p[n]=this.revBin(n,f,l);return p},U.prototype.revBin=function(l,p,f){if(l===0||l===f-1)return l;for(var n=0,c=0;c<p;c++)n|=(l&1)<<p-c-1,l>>=1;return n},U.prototype.permute=function(l,p,f,n,c,y){for(var q=0;q<y;q++)n[q]=p[l[q]],c[q]=f[l[q]]},U.prototype.transform=function(l,p,f,n,c,y){this.permute(y,l,p,f,n,c);for(var q=1;q<c;q<<=1)for(var a=q<<1,o=Math.cos(2*Math.PI/a),m=Math.sin(2*Math.PI/a),j=0;j<c;j+=a)for(var R=o,w=m,E=0;E<q;E++){var B=f[j+E],e=n[j+E],Q=f[j+E+q],I=n[j+E+q],A=R*Q-w*I;I=R*I+w*Q,Q=A,f[j+E]=B+Q,n[j+E]=e+I,f[j+E+q]=B-Q,n[j+E+q]=e-I,E!==a&&(A=o*R-m*w,w=o*w+m*R,R=A)}},U.prototype.guessLen13b=function(l,p){var f=Math.max(p,l)|1,n=f&1,c=0;for(f=f/2|0;f;f=f>>>1)c++;return 1<<c+1+n},U.prototype.conjugate=function(l,p,f){if(!(f<=1))for(var n=0;n<f/2;n++){var c=l[n];l[n]=l[f-n-1],l[f-n-1]=c,c=p[n],p[n]=-p[f-n-1],p[f-n-1]=-c}},U.prototype.normalize13b=function(l,p){for(var f=0,n=0;n<p/2;n++){var c=Math.round(l[2*n+1]/p)*8192+Math.round(l[2*n]/p)+f;l[n]=c&67108863,c<67108864?f=0:f=c/67108864|0}return l},U.prototype.convert13b=function(l,p,f,n){for(var c=0,y=0;y<p;y++)c=c+(l[y]|0),f[2*y]=c&8191,c=c>>>13,f[2*y+1]=c&8191,c=c>>>13;for(y=2*p;y<n;++y)f[y]=0;T(c===0),T((c&-8192)===0)},U.prototype.stub=function(l){for(var p=new Array(l),f=0;f<l;f++)p[f]=0;return p},U.prototype.mulp=function(l,p,f){var n=2*this.guessLen13b(l.length,p.length),c=this.makeRBT(n),y=this.stub(n),q=new Array(n),a=new Array(n),o=new Array(n),m=new Array(n),j=new Array(n),R=new Array(n),w=f.words;w.length=n,this.convert13b(l.words,l.length,q,n),this.convert13b(p.words,p.length,m,n),this.transform(q,y,a,o,n,c),this.transform(m,y,j,R,n,c);for(var E=0;E<n;E++){var B=a[E]*j[E]-o[E]*R[E];o[E]=a[E]*R[E]+o[E]*j[E],a[E]=B}return this.conjugate(a,o,n),this.transform(a,o,w,y,n,c),this.conjugate(w,y,n),this.normalize13b(w,n),f.negative=l.negative^p.negative,f.length=l.length+p.length,f.strip()},u.prototype.mul=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),this.mulTo(l,p)},u.prototype.mulf=function(l){var p=new u(null);return p.words=new Array(this.length+l.length),$(this,l,p)},u.prototype.imul=function(l){return this.clone().mulTo(l,this)},u.prototype.imuln=function(l){T(typeof l=="number"),T(l<67108864);for(var p=0,f=0;f<this.length;f++){var n=(this.words[f]|0)*l,c=(n&67108863)+(p&67108863);p>>=26,p+=n/67108864|0,p+=c>>>26,this.words[f]=c&67108863}return p!==0&&(this.words[f]=p,this.length++),this},u.prototype.muln=function(l){return this.clone().imuln(l)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(l){var p=d(l);if(p.length===0)return new u(1);for(var f=this,n=0;n<p.length&&p[n]===0;n++,f=f.sqr());if(++n<p.length)for(var c=f.sqr();n<p.length;n++,c=c.sqr())p[n]!==0&&(f=f.mul(c));return f},u.prototype.iushln=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=67108863>>>26-p<<26-p,c;if(p!==0){var y=0;for(c=0;c<this.length;c++){var q=this.words[c]&n,a=(this.words[c]|0)-q<<p;this.words[c]=a|y,y=q>>>26-p}y&&(this.words[c]=y,this.length++)}if(f!==0){for(c=this.length-1;c>=0;c--)this.words[c+f]=this.words[c];for(c=0;c<f;c++)this.words[c]=0;this.length+=f}return this.strip()},u.prototype.ishln=function(l){return T(this.negative===0),this.iushln(l)},u.prototype.iushrn=function(l,p,f){T(typeof l=="number"&&l>=0);var n;p?n=(p-p%26)/26:n=0;var c=l%26,y=Math.min((l-c)/26,this.length),q=67108863^67108863>>>c<<c,a=f;if(n-=y,n=Math.max(0,n),a){for(var o=0;o<y;o++)a.words[o]=this.words[o];a.length=y}if(y!==0)if(this.length>y)for(this.length-=y,o=0;o<this.length;o++)this.words[o]=this.words[o+y];else this.words[0]=0,this.length=1;var m=0;for(o=this.length-1;o>=0&&(m!==0||o>=n);o--){var j=this.words[o]|0;this.words[o]=m<<26-c|j>>>c,m=j&q}return a&&m!==0&&(a.words[a.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(l,p,f){return T(this.negative===0),this.iushrn(l,p,f)},u.prototype.shln=function(l){return this.clone().ishln(l)},u.prototype.ushln=function(l){return this.clone().iushln(l)},u.prototype.shrn=function(l){return this.clone().ishrn(l)},u.prototype.ushrn=function(l){return this.clone().iushrn(l)},u.prototype.testn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return!1;var c=this.words[f];return!!(c&n)},u.prototype.imaskn=function(l){T(typeof l=="number"&&l>=0);var p=l%26,f=(l-p)/26;if(T(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(p!==0&&f++,this.length=Math.min(f,this.length),p!==0){var n=67108863^67108863>>>p<<p;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(l){return this.clone().imaskn(l)},u.prototype.iaddn=function(l){return T(typeof l=="number"),T(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},u.prototype._iaddn=function(l){this.words[0]+=l;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},u.prototype.isubn=function(l){if(T(typeof l=="number"),T(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},u.prototype.addn=function(l){return this.clone().iaddn(l)},u.prototype.subn=function(l){return this.clone().isubn(l)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(l,p,f){var n=l.length+f,c;this._expand(n);var y,q=0;for(c=0;c<l.length;c++){y=(this.words[c+f]|0)+q;var a=(l.words[c]|0)*p;y-=a&67108863,q=(y>>26)-(a/67108864|0),this.words[c+f]=y&67108863}for(;c<this.length-f;c++)y=(this.words[c+f]|0)+q,q=y>>26,this.words[c+f]=y&67108863;if(q===0)return this.strip();for(T(q===-1),q=0,c=0;c<this.length;c++)y=-(this.words[c]|0)+q,q=y>>26,this.words[c]=y&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(l,p){var f=this.length-l.length,n=this.clone(),c=l,y=c.words[c.length-1]|0,q=this._countBits(y);f=26-q,f!==0&&(c=c.ushln(f),n.iushln(f),y=c.words[c.length-1]|0);var a=n.length-c.length,o;if(p!=="mod"){o=new u(null),o.length=a+1,o.words=new Array(o.length);for(var m=0;m<o.length;m++)o.words[m]=0}var j=n.clone()._ishlnsubmul(c,1,a);j.negative===0&&(n=j,o&&(o.words[a]=1));for(var R=a-1;R>=0;R--){var w=(n.words[c.length+R]|0)*67108864+(n.words[c.length+R-1]|0);for(w=Math.min(w/y|0,67108863),n._ishlnsubmul(c,w,R);n.negative!==0;)w--,n.negative=0,n._ishlnsubmul(c,1,R),n.isZero()||(n.negative^=1);o&&(o.words[R]=w)}return o&&o.strip(),n.strip(),p!=="div"&&f!==0&&n.iushrn(f),{div:o||null,mod:n}},u.prototype.divmod=function(l,p,f){if(T(!l.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,c,y;return this.negative!==0&&l.negative===0?(y=this.neg().divmod(l,p),p!=="mod"&&(n=y.div.neg()),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.iadd(l)),{div:n,mod:c}):this.negative===0&&l.negative!==0?(y=this.divmod(l.neg(),p),p!=="mod"&&(n=y.div.neg()),{div:n,mod:y.mod}):(this.negative&l.negative)!==0?(y=this.neg().divmod(l.neg(),p),p!=="div"&&(c=y.mod.neg(),f&&c.negative!==0&&c.isub(l)),{div:y.div,mod:c}):l.length>this.length||this.cmp(l)<0?{div:new u(0),mod:this}:l.length===1?p==="div"?{div:this.divn(l.words[0]),mod:null}:p==="mod"?{div:null,mod:new u(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new u(this.modn(l.words[0]))}:this._wordDiv(l,p)},u.prototype.div=function(l){return this.divmod(l,"div",!1).div},u.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},u.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},u.prototype.divRound=function(l){var p=this.divmod(l);if(p.mod.isZero())return p.div;var f=p.div.negative!==0?p.mod.isub(l):p.mod,n=l.ushrn(1),c=l.andln(1),y=f.cmp(n);return y<0||c===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},u.prototype.modn=function(l){T(l<=67108863);for(var p=67108864%l,f=0,n=this.length-1;n>=0;n--)f=(p*f+(this.words[n]|0))%l;return f},u.prototype.idivn=function(l){T(l<=67108863);for(var p=0,f=this.length-1;f>=0;f--){var n=(this.words[f]|0)+p*67108864;this.words[f]=n/l|0,p=n%l}return this.strip()},u.prototype.divn=function(l){return this.clone().idivn(l)},u.prototype.egcd=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=new u(0),q=new u(1),a=0;p.isEven()&&f.isEven();)p.iushrn(1),f.iushrn(1),++a;for(var o=f.clone(),m=p.clone();!p.isZero();){for(var j=0,R=1;(p.words[0]&R)===0&&j<26;++j,R<<=1);if(j>0)for(p.iushrn(j);j-- >0;)(n.isOdd()||c.isOdd())&&(n.iadd(o),c.isub(m)),n.iushrn(1),c.iushrn(1);for(var w=0,E=1;(f.words[0]&E)===0&&w<26;++w,E<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(y.isOdd()||q.isOdd())&&(y.iadd(o),q.isub(m)),y.iushrn(1),q.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(y),c.isub(q)):(f.isub(p),y.isub(n),q.isub(c))}return{a:y,b:q,gcd:f.iushln(a)}},u.prototype._invmp=function(l){T(l.negative===0),T(!l.isZero());var p=this,f=l.clone();p.negative!==0?p=p.umod(l):p=p.clone();for(var n=new u(1),c=new u(0),y=f.clone();p.cmpn(1)>0&&f.cmpn(1)>0;){for(var q=0,a=1;(p.words[0]&a)===0&&q<26;++q,a<<=1);if(q>0)for(p.iushrn(q);q-- >0;)n.isOdd()&&n.iadd(y),n.iushrn(1);for(var o=0,m=1;(f.words[0]&m)===0&&o<26;++o,m<<=1);if(o>0)for(f.iushrn(o);o-- >0;)c.isOdd()&&c.iadd(y),c.iushrn(1);p.cmp(f)>=0?(p.isub(f),n.isub(c)):(f.isub(p),c.isub(n))}var j;return p.cmpn(1)===0?j=n:j=c,j.cmpn(0)<0&&j.iadd(l),j},u.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var p=this.clone(),f=l.clone();p.negative=0,f.negative=0;for(var n=0;p.isEven()&&f.isEven();n++)p.iushrn(1),f.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;f.isEven();)f.iushrn(1);var c=p.cmp(f);if(c<0){var y=p;p=f,f=y}else if(c===0||f.cmpn(1)===0)break;p.isub(f)}while(!0);return f.iushln(n)},u.prototype.invm=function(l){return this.egcd(l).a.umod(l)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(l){return this.words[0]&l},u.prototype.bincn=function(l){T(typeof l=="number");var p=l%26,f=(l-p)/26,n=1<<p;if(this.length<=f)return this._expand(f+1),this.words[f]|=n,this;for(var c=n,y=f;c!==0&&y<this.length;y++){var q=this.words[y]|0;q+=c,c=q>>>26,q&=67108863,this.words[y]=q}return c!==0&&(this.words[y]=c,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(l){var p=l<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var f;if(this.length>1)f=1;else{p&&(l=-l),T(l<=67108863,"Number is too big");var n=this.words[0]|0;f=n===l?0:n<l?-1:1}return this.negative!==0?-f|0:f},u.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var p=this.ucmp(l);return this.negative!==0?-p|0:p},u.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var p=0,f=this.length-1;f>=0;f--){var n=this.words[f]|0,c=l.words[f]|0;if(n!==c){n<c?p=-1:n>c&&(p=1);break}}return p},u.prototype.gtn=function(l){return this.cmpn(l)===1},u.prototype.gt=function(l){return this.cmp(l)===1},u.prototype.gten=function(l){return this.cmpn(l)>=0},u.prototype.gte=function(l){return this.cmp(l)>=0},u.prototype.ltn=function(l){return this.cmpn(l)===-1},u.prototype.lt=function(l){return this.cmp(l)===-1},u.prototype.lten=function(l){return this.cmpn(l)<=0},u.prototype.lte=function(l){return this.cmp(l)<=0},u.prototype.eqn=function(l){return this.cmpn(l)===0},u.prototype.eq=function(l){return this.cmp(l)===0},u.red=function(l){return new F(l)},u.prototype.toRed=function(l){return T(!this.red,"Already a number in reduction context"),T(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},u.prototype.fromRed=function(){return T(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(l){return this.red=l,this},u.prototype.forceRed=function(l){return T(!this.red,"Already a number in reduction context"),this._forceRed(l)},u.prototype.redAdd=function(l){return T(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},u.prototype.redIAdd=function(l){return T(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},u.prototype.redSub=function(l){return T(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},u.prototype.redISub=function(l){return T(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},u.prototype.redShl=function(l){return T(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},u.prototype.redMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},u.prototype.redIMul=function(l){return T(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},u.prototype.redSqr=function(){return T(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return T(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return T(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return T(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return T(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(l){return T(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var s={k256:null,p224:null,p192:null,p25519:null};function W(l,p){this.name=l,this.p=new u(p,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var l=new u(null);return l.words=new Array(Math.ceil(this.n/13)),l},W.prototype.ireduce=function(l){var p=l,f;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),f=p.bitLength();while(f>this.n);var n=f<this.n?-1:p.ucmp(this.p);return n===0?(p.words[0]=0,p.length=1):n>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(l,p){l.iushrn(this.n,0,p)},W.prototype.imulK=function(l){return l.imul(this.k)};function g(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}b(g,W),g.prototype.split=function(l,p){for(var f=4194303,n=Math.min(l.length,9),c=0;c<n;c++)p.words[c]=l.words[c];if(p.length=n,l.length<=9){l.words[0]=0,l.length=1;return}var y=l.words[9];for(p.words[p.length++]=y&f,c=10;c<l.length;c++){var q=l.words[c]|0;l.words[c-10]=(q&f)<<4|y>>>22,y=q}y>>>=22,l.words[c-10]=y,y===0&&l.length>10?l.length-=10:l.length-=9},g.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var p=0,f=0;f<l.length;f++){var n=l.words[f]|0;p+=n*977,l.words[f]=p&67108863,p=n*64+(p/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}b(K,W);function i(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}b(i,W);function J(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}b(J,W),J.prototype.imulK=function(l){for(var p=0,f=0;f<l.length;f++){var n=(l.words[f]|0)*19+p,c=n&67108863;n>>>=26,l.words[f]=c,p=n}return p!==0&&(l.words[l.length++]=p),l},u._prime=function(l){if(s[l])return s[l];var p;if(l==="k256")p=new g;else if(l==="p224")p=new K;else if(l==="p192")p=new i;else if(l==="p25519")p=new J;else throw new Error("Unknown prime "+l);return s[l]=p,p};function F(l){if(typeof l=="string"){var p=u._prime(l);this.m=p.p,this.prime=p}else T(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){T(l.negative===0,"red works only with positives"),T(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,p){T((l.negative|p.negative)===0,"red works only with positives"),T(l.red&&l.red===p.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,p){this._verify2(l,p);var f=l.add(p);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},F.prototype.iadd=function(l,p){this._verify2(l,p);var f=l.iadd(p);return f.cmp(this.m)>=0&&f.isub(this.m),f},F.prototype.sub=function(l,p){this._verify2(l,p);var f=l.sub(p);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},F.prototype.isub=function(l,p){this._verify2(l,p);var f=l.isub(p);return f.cmpn(0)<0&&f.iadd(this.m),f},F.prototype.shl=function(l,p){return this._verify1(l),this.imod(l.ushln(p))},F.prototype.imul=function(l,p){return this._verify2(l,p),this.imod(l.imul(p))},F.prototype.mul=function(l,p){return this._verify2(l,p),this.imod(l.mul(p))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var p=this.m.andln(3);if(T(p%2===1),p===3){var f=this.m.add(new u(1)).iushrn(2);return this.pow(l,f)}for(var n=this.m.subn(1),c=0;!n.isZero()&&n.andln(1)===0;)c++,n.iushrn(1);T(!n.isZero());var y=new u(1).toRed(this),q=y.redNeg(),a=this.m.subn(1).iushrn(1),o=this.m.bitLength();for(o=new u(2*o*o).toRed(this);this.pow(o,a).cmp(q)!==0;)o.redIAdd(q);for(var m=this.pow(o,n),j=this.pow(l,n.addn(1).iushrn(1)),R=this.pow(l,n),w=c;R.cmp(y)!==0;){for(var E=R,B=0;E.cmp(y)!==0;B++)E=E.redSqr();T(B<w);var e=this.pow(m,new u(1).iushln(w-B-1));j=j.redMul(e),m=e.redSqr(),R=R.redMul(m),w=B}return j},F.prototype.invm=function(l){var p=l._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},F.prototype.pow=function(l,p){if(p.isZero())return new u(1).toRed(this);if(p.cmpn(1)===0)return l.clone();var f=4,n=new Array(1<<f);n[0]=new u(1).toRed(this),n[1]=l;for(var c=2;c<n.length;c++)n[c]=this.mul(n[c-1],l);var y=n[0],q=0,a=0,o=p.bitLength()%26;for(o===0&&(o=26),c=p.length-1;c>=0;c--){for(var m=p.words[c],j=o-1;j>=0;j--){var R=m>>j&1;if(y!==n[0]&&(y=this.sqr(y)),R===0&&q===0){a=0;continue}q<<=1,q|=R,a++,!(a!==f&&(c!==0||j!==0))&&(y=this.mul(y,n[q]),a=0,q=0)}o=26}return y},F.prototype.convertTo=function(l){var p=l.umod(this.m);return p===l?p.clone():p},F.prototype.convertFrom=function(l){var p=l.clone();return p.red=null,p},u.mont=function(l){return new Y(l)};function Y(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b(Y,F),Y.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},Y.prototype.convertFrom=function(l){var p=this.imod(l.mul(this.rinv));return p.red=null,p},Y.prototype.imul=function(l,p){if(l.isZero()||p.isZero())return l.words[0]=0,l.length=1,l;var f=l.imul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(l,p){if(l.isZero()||p.isZero())return new u(0)._forceRed(this);var f=l.mul(p),n=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=f.isub(n).iushrn(this.shift),y=c;return c.cmp(this.m)>=0?y=c.isub(this.m):c.cmpn(0)<0&&(y=c.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(l){var p=this.imod(l._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof k>"u"||k,V)}),w5=b1((V,k)=>{var _=B6(),X=F1().Buffer;function T(b,u){return X.from(b.toRed(_.mont(u.modulus)).redPow(new _(u.publicExponent)).fromRed().toArray())}k.exports=T}),S7=b1((V,k)=>{var _=l6(),X=u3(),T=O3(),b=R5(),u=z5(),h=B6(),M=w5(),r=G6(),L=F1().Buffer;k.exports=function(d,N,O){var Z;d.padding?Z=d.padding:O?Z=1:Z=4;var $=_(d),U;if(Z===4)U=v($,N);else if(Z===1)U=S($,N,O);else if(Z===3){if(U=new h(N),U.cmp($.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return O?r(U,$):M(U,$)};function v(d,N){var O=d.modulus.byteLength(),Z=N.length,$=T("sha1").update(L.alloc(0)).digest(),U=$.length,s=2*U;if(Z>O-s-2)throw new Error("message too long");var W=L.alloc(O-Z-s-2),g=O-U-1,K=X(U),i=u(L.concat([$,W,L.alloc(1,1),N],g),b(K,g)),J=u(K,b(i,U));return new h(L.concat([L.alloc(1),J,i],O))}function S(d,N,O){var Z=N.length,$=d.modulus.byteLength();if(Z>$-11)throw new Error("message too long");var U;return O?U=L.alloc($-Z-3,255):U=x($-Z-3),new h(L.concat([L.from([0,O?1:2]),U,L.alloc(1),N],$))}function x(d){for(var N=L.allocUnsafe(d),O=0,Z=X(d*2),$=0,U;O<d;)$===Z.length&&(Z=X(d*2),$=0),U=Z[$++],U&&(N[O++]=U);return N}}),Z7=b1((V,k)=>{var _=l6(),X=R5(),T=z5(),b=B6(),u=G6(),h=O3(),M=w5(),r=F1().Buffer;k.exports=function(x,d,N){var O;x.padding?O=x.padding:N?O=1:O=4;var Z=_(x),$=Z.modulus.byteLength();if(d.length>$||new b(d).cmp(Z.modulus)>=0)throw new Error("decryption error");var U;N?U=M(new b(d),Z):U=u(d,Z);var s=r.alloc($-U.length);if(U=r.concat([s,U],$),O===4)return L(Z,U);if(O===1)return v(Z,U,N);if(O===3)return U;throw new Error("unknown padding")};function L(x,d){var N=x.modulus.byteLength(),O=h("sha1").update(r.alloc(0)).digest(),Z=O.length;if(d[0]!==0)throw new Error("decryption error");var $=d.slice(1,Z+1),U=d.slice(Z+1),s=T($,X(U,Z)),W=T(U,X(s,N-Z-1));if(S(O,W.slice(0,Z)))throw new Error("decryption error");for(var g=Z;W[g]===0;)g++;if(W[g++]!==1)throw new Error("decryption error");return W.slice(g)}function v(x,d,N){for(var O=d.slice(0,2),Z=2,$=0;d[Z++]!==0;)if(Z>=d.length){$++;break}var U=d.slice(2,Z-1);if((O.toString("hex")!=="0002"&&!N||O.toString("hex")!=="0001"&&N)&&$++,U.length<8&&$++,$)throw new Error("decryption error");return d.slice(Z)}function S(x,d){x=r.from(x),d=r.from(d);var N=0,O=x.length;x.length!==d.length&&(N++,O=Math.min(x.length,d.length));for(var Z=-1;++Z<O;)N+=x[Z]^d[Z];return N}}),$7=b1((V)=>{V.publicEncrypt=S7(),V.privateDecrypt=Z7(),V.privateEncrypt=function(k,_){return V.publicEncrypt(k,_,!0)},V.publicDecrypt=function(k,_){return V.privateDecrypt(k,_,!0)}}),k7=b1((V)=>{function k(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var _=F1(),X=u3(),T=_.Buffer,b=_.kMaxLength,u=global.crypto||global.msCrypto,h=Math.pow(2,32)-1;function M(x,d){if(typeof x!="number"||x!==x)throw new TypeError("offset must be a number");if(x>h||x<0)throw new TypeError("offset must be a uint32");if(x>b||x>d)throw new RangeError("offset out of range")}function r(x,d,N){if(typeof x!="number"||x!==x)throw new TypeError("size must be a number");if(x>h||x<0)throw new TypeError("size must be a uint32");if(x+d>N||x>b)throw new RangeError("buffer too small")}u&&u.getRandomValues?(V.randomFill=L,V.randomFillSync=S):(V.randomFill=k,V.randomFillSync=k);function L(x,d,N,O){if(!T.isBuffer(x)&&!(x instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof d=="function")O=d,d=0,N=x.length;else if(typeof N=="function")O=N,N=x.length-d;else if(typeof O!="function")throw new TypeError('"cb" argument must be a function');return M(d,x.length),r(N,d,x.length),v(x,d,N,O)}function v(x,d,N,O){var Z=x.buffer,$=new Uint8Array(Z,d,N);if(u.getRandomValues($),O){process.nextTick(function(){O(null,x)});return}return x;var U}function S(x,d,N){if(typeof d>"u"&&(d=0),!T.isBuffer(x)&&!(x instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return M(d,x.length),N===void 0&&(N=x.length-d),r(N,d,x.length),v(x,d,N)}}),j5=b1((V)=>{V.randomBytes=V.rng=V.pseudoRandomBytes=V.prng=u3(),V.createHash=V.Hash=O3(),V.createHmac=V.Hmac=e0();var k=T8(),_=Object.keys(k),X=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(_);V.getHashes=function(){return X};var T=u5();V.pbkdf2=T.pbkdf2,V.pbkdf2Sync=T.pbkdf2Sync;var b=z8();V.Cipher=b.Cipher,V.createCipher=b.createCipher,V.Cipheriv=b.Cipheriv,V.createCipheriv=b.createCipheriv,V.Decipher=b.Decipher,V.createDecipher=b.createDecipher,V.Decipheriv=b.Decipheriv,V.createDecipheriv=b.createDecipheriv,V.getCiphers=b.getCiphers,V.listCiphers=b.listCiphers;var u=H8();V.DiffieHellmanGroup=u.DiffieHellmanGroup,V.createDiffieHellmanGroup=u.createDiffieHellmanGroup,V.getDiffieHellman=u.getDiffieHellman,V.createDiffieHellman=u.createDiffieHellman,V.DiffieHellman=u.DiffieHellman;var h=V7();V.createSign=h.createSign,V.Sign=h.Sign,V.createVerify=h.createVerify,V.Verify=h.Verify,V.createECDH=M7();var M=$7();V.publicEncrypt=M.publicEncrypt,V.privateEncrypt=M.privateEncrypt,V.publicDecrypt=M.publicDecrypt,V.privateDecrypt=M.privateDecrypt;var r=k7();V.randomFill=r.randomFill,V.randomFillSync=r.randomFillSync,V.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},V.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}),K5={},Z6(K5,{DEFAULT_ENCODING:()=>$3,default:()=>c4,getCurves:()=>n4,getRandomValues:()=>p4,randomUUID:()=>u4,scrypt:()=>p6,scryptSync:()=>n6,timingSafeEqual:()=>k3,webcrypto:()=>p0}),W0(K5,p3(j5())),U7=p3(j5()),Z9=["p192","p224","p256","p384","p521","curve25519","ed25519","secp256k1","secp224r1","prime256v1","prime192v1","ed25519","secp384r1","secp521r1"],k3="timingSafeEqual"in crypto?(V,k)=>{let{byteLength:_}=V,{byteLength:X}=k;if(typeof _!="number"||typeof X!="number")throw new TypeError("Input must be an array buffer view");if(_!==X)throw new RangeError("Input buffers must have the same length");return crypto.timingSafeEqual(V,k)}:void 0,n6="scryptSync"in crypto?(V,k,_,X)=>{let T=crypto.scryptSync(V,k,_,X);return $3!=="buffer"?new Buffer(T).toString($3):new Buffer(T)}:void 0,p6="scryptSync"in crypto?function(V,k,_,X,T){if(typeof X=="function"&&(T=X,X=void 0),typeof T!="function"){var b=new TypeError("callback must be a function");throw b.code="ERR_INVALID_CALLBACK",b}try{let u=crypto.scryptSync(V,k,_,X);process.nextTick(T,null,$3!=="buffer"?new Buffer(u).toString($3):new Buffer(u))}catch(u){throw u}}:void 0,k3&&(Object.defineProperty(k3,"name",{value:"::bunternal::"}),Object.defineProperty(p6,"name",{value:"::bunternal::"}),Object.defineProperty(n6,"name",{value:"::bunternal::"})),p0=crypto,c4={...U7,getRandomValues:p4,randomUUID:u4,timingSafeEqual:k3,scryptSync:n6,scrypt:p6,webcrypto:p0,getCurves:n4};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */}),$9=r0((V,k)=>{(function(_,X){if(typeof V==="object")k.exports=V=X();else if(typeof define==="function"&&define.amd)define([],X);else _.CryptoJS=X()})(V,function(){var _=_||function(X,T){var b;if(typeof window!=="undefined"&&window.crypto)b=window.crypto;if(typeof self!=="undefined"&&self.crypto)b=self.crypto;if(typeof globalThis!=="undefined"&&globalThis.crypto)b=globalThis.crypto;if(!b&&typeof window!=="undefined"&&window.msCrypto)b=window.msCrypto;if(!b&&typeof global!=="undefined"&&global.crypto)b=global.crypto;if(!b)try{b=(vo(),yo(q9))}catch(U){}var u=function(){if(b){if(typeof b.getRandomValues==="function")try{return b.getRandomValues(new Uint32Array(1))[0]}catch(U){}if(typeof b.randomBytes==="function")try{return b.randomBytes(4).readInt32LE()}catch(U){}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function U(){}return function(s){var W;return U.prototype=s,W=new U,U.prototype=null,W}}(),M={},r=M.lib={},L=r.Base=function(){return{extend:function(U){var s=h(this);if(U)s.mixIn(U);if(!s.hasOwnProperty("init")||this.init===s.init)s.init=function(){s.$super.init.apply(this,arguments)};return s.init.prototype=s,s.$super=this,s},create:function(){var U=this.extend();return U.init.apply(U,arguments),U},init:function(){},mixIn:function(U){for(var s in U)if(U.hasOwnProperty(s))this[s]=U[s];if(U.hasOwnProperty("toString"))this.toString=U.toString},clone:function(){return this.init.prototype.extend(this)}}}(),v=r.WordArray=L.extend({init:function(U,s){if(U=this.words=U||[],s!=T)this.sigBytes=s;else this.sigBytes=U.length*4},toString:function(U){return(U||x).stringify(this)},concat:function(U){var s=this.words,W=U.words,g=this.sigBytes,K=U.sigBytes;if(this.clamp(),g%4)for(var i=0;i<K;i++){var J=W[i>>>2]>>>24-i%4*8&255;s[g+i>>>2]|=J<<24-(g+i)%4*8}else for(var F=0;F<K;F+=4)s[g+F>>>2]=W[F>>>2];return this.sigBytes+=K,this},clamp:function(){var U=this.words,s=this.sigBytes;U[s>>>2]&=4294967295<<32-s%4*8,U.length=X.ceil(s/4)},clone:function(){var U=L.clone.call(this);return U.words=this.words.slice(0),U},random:function(U){var s=[];for(var W=0;W<U;W+=4)s.push(u());return new v.init(s,U)}}),S=M.enc={},x=S.Hex={stringify:function(U){var{words:s,sigBytes:W}=U,g=[];for(var K=0;K<W;K++){var i=s[K>>>2]>>>24-K%4*8&255;g.push((i>>>4).toString(16)),g.push((i&15).toString(16))}return g.join("")},parse:function(U){var s=U.length,W=[];for(var g=0;g<s;g+=2)W[g>>>3]|=parseInt(U.substr(g,2),16)<<24-g%8*4;return new v.init(W,s/2)}},d=S.Latin1={stringify:function(U){var{words:s,sigBytes:W}=U,g=[];for(var K=0;K<W;K++){var i=s[K>>>2]>>>24-K%4*8&255;g.push(String.fromCharCode(i))}return g.join("")},parse:function(U){var s=U.length,W=[];for(var g=0;g<s;g++)W[g>>>2]|=(U.charCodeAt(g)&255)<<24-g%4*8;return new v.init(W,s)}},N=S.Utf8={stringify:function(U){try{return decodeURIComponent(escape(d.stringify(U)))}catch(s){throw new Error("Malformed UTF-8 data")}},parse:function(U){return d.parse(unescape(encodeURIComponent(U)))}},O=r.BufferedBlockAlgorithm=L.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(U){if(typeof U=="string")U=N.parse(U);this._data.concat(U),this._nDataBytes+=U.sigBytes},_process:function(U){var s,W=this._data,g=W.words,K=W.sigBytes,i=this.blockSize,J=i*4,F=K/J;if(U)F=X.ceil(F);else F=X.max((F|0)-this._minBufferSize,0);var Y=F*i,l=X.min(Y*4,K);if(Y){for(var p=0;p<Y;p+=i)this._doProcessBlock(g,p);s=g.splice(0,Y),W.sigBytes-=l}return new v.init(s,l)},clone:function(){var U=L.clone.call(this);return U._data=this._data.clone(),U},_minBufferSize:0}),Z=r.Hasher=O.extend({cfg:L.extend(),init:function(U){this.cfg=this.cfg.extend(U),this.reset()},reset:function(){O.reset.call(this),this._doReset()},update:function(U){return this._append(U),this._process(),this},finalize:function(U){if(U)this._append(U);var s=this._doFinalize();return s},blockSize:16,_createHelper:function(U){return function(s,W){return new U.init(W).finalize(s)}},_createHmacHelper:function(U){return function(s,W){return new $.HMAC.init(U,W).finalize(s)}}}),$=M.algo={};return M}(Math);return _})}),_o=r0((V,k)=>{(function(_,X){if(typeof V==="object")k.exports=V=X($9());else if(typeof define==="function"&&define.amd)define(["./core"],X);else X(_.CryptoJS)})(V,function(_){return function(X){var T=_,b=T.lib,u=b.WordArray,h=b.Hasher,M=T.algo,r=[];(function(){for(var N=0;N<64;N++)r[N]=X.abs(X.sin(N+1))*4294967296|0})();var L=M.MD5=h.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(N,O){for(var Z=0;Z<16;Z++){var $=O+Z,U=N[$];N[$]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}var s=this._hash.words,W=N[O+0],g=N[O+1],K=N[O+2],i=N[O+3],J=N[O+4],F=N[O+5],Y=N[O+6],l=N[O+7],p=N[O+8],f=N[O+9],n=N[O+10],c=N[O+11],y=N[O+12],q=N[O+13],a=N[O+14],o=N[O+15],m=s[0],j=s[1],R=s[2],w=s[3];m=v(m,j,R,w,W,7,r[0]),w=v(w,m,j,R,g,12,r[1]),R=v(R,w,m,j,K,17,r[2]),j=v(j,R,w,m,i,22,r[3]),m=v(m,j,R,w,J,7,r[4]),w=v(w,m,j,R,F,12,r[5]),R=v(R,w,m,j,Y,17,r[6]),j=v(j,R,w,m,l,22,r[7]),m=v(m,j,R,w,p,7,r[8]),w=v(w,m,j,R,f,12,r[9]),R=v(R,w,m,j,n,17,r[10]),j=v(j,R,w,m,c,22,r[11]),m=v(m,j,R,w,y,7,r[12]),w=v(w,m,j,R,q,12,r[13]),R=v(R,w,m,j,a,17,r[14]),j=v(j,R,w,m,o,22,r[15]),m=S(m,j,R,w,g,5,r[16]),w=S(w,m,j,R,Y,9,r[17]),R=S(R,w,m,j,c,14,r[18]),j=S(j,R,w,m,W,20,r[19]),m=S(m,j,R,w,F,5,r[20]),w=S(w,m,j,R,n,9,r[21]),R=S(R,w,m,j,o,14,r[22]),j=S(j,R,w,m,J,20,r[23]),m=S(m,j,R,w,f,5,r[24]),w=S(w,m,j,R,a,9,r[25]),R=S(R,w,m,j,i,14,r[26]),j=S(j,R,w,m,p,20,r[27]),m=S(m,j,R,w,q,5,r[28]),w=S(w,m,j,R,K,9,r[29]),R=S(R,w,m,j,l,14,r[30]),j=S(j,R,w,m,y,20,r[31]),m=x(m,j,R,w,F,4,r[32]),w=x(w,m,j,R,p,11,r[33]),R=x(R,w,m,j,c,16,r[34]),j=x(j,R,w,m,a,23,r[35]),m=x(m,j,R,w,g,4,r[36]),w=x(w,m,j,R,J,11,r[37]),R=x(R,w,m,j,l,16,r[38]),j=x(j,R,w,m,n,23,r[39]),m=x(m,j,R,w,q,4,r[40]),w=x(w,m,j,R,W,11,r[41]),R=x(R,w,m,j,i,16,r[42]),j=x(j,R,w,m,Y,23,r[43]),m=x(m,j,R,w,f,4,r[44]),w=x(w,m,j,R,y,11,r[45]),R=x(R,w,m,j,o,16,r[46]),j=x(j,R,w,m,K,23,r[47]),m=d(m,j,R,w,W,6,r[48]),w=d(w,m,j,R,l,10,r[49]),R=d(R,w,m,j,a,15,r[50]),j=d(j,R,w,m,F,21,r[51]),m=d(m,j,R,w,y,6,r[52]),w=d(w,m,j,R,i,10,r[53]),R=d(R,w,m,j,n,15,r[54]),j=d(j,R,w,m,g,21,r[55]),m=d(m,j,R,w,p,6,r[56]),w=d(w,m,j,R,o,10,r[57]),R=d(R,w,m,j,Y,15,r[58]),j=d(j,R,w,m,q,21,r[59]),m=d(m,j,R,w,J,6,r[60]),w=d(w,m,j,R,c,10,r[61]),R=d(R,w,m,j,K,15,r[62]),j=d(j,R,w,m,f,21,r[63]),s[0]=s[0]+m|0,s[1]=s[1]+j|0,s[2]=s[2]+R|0,s[3]=s[3]+w|0},_doFinalize:function(){var N=this._data,O=N.words,Z=this._nDataBytes*8,$=N.sigBytes*8;O[$>>>5]|=128<<24-$%32;var U=X.floor(Z/4294967296),s=Z;O[($+64>>>9<<4)+15]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,O[($+64>>>9<<4)+14]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,N.sigBytes=(O.length+1)*4,this._process();var W=this._hash,g=W.words;for(var K=0;K<4;K++){var i=g[K];g[K]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}return W},clone:function(){var N=h.clone.call(this);return N._hash=this._hash.clone(),N}});function v(N,O,Z,$,U,s,W){var g=N+(O&Z|~O&$)+U+W;return(g<<s|g>>>32-s)+O}function S(N,O,Z,$,U,s,W){var g=N+(O&$|Z&~$)+U+W;return(g<<s|g>>>32-s)+O}function x(N,O,Z,$,U,s,W){var g=N+(O^Z^$)+U+W;return(g<<s|g>>>32-s)+O}function d(N,O,Z,$,U,s,W){var g=N+(Z^(O|~$))+U+W;return(g<<s|g>>>32-s)+O}T.MD5=h._createHelper(L),T.HmacMD5=h._createHmacHelper(L)}(Math),_.MD5})}),xo=r0((V,k)=>{(function(_,X){if(typeof V==="object")k.exports=V=X($9());else if(typeof define==="function"&&define.amd)define(["./core"],X);else X(_.CryptoJS)})(V,function(_){return _.enc.Latin1})}),Lo=r0((V,k)=>{k.exports=function _(X){return atob(X)}});class o3{getEraseSize(V,k){return k}}var U3,To=h2(()=>{U3={entry:1074521560,text:"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",text_start:1074520064,data:"GOv8P9jnC0Bx6AtA8+wLQO3oC0CP6AtA7egLQEnpC0AG6gtAeOoLQCHqC0CB5wtAo+kLQPjpC0Bn6QtAmuoLQI7pC0Ca6gtAXegLQLPoC0Dt6AtASekLQHfoC0BM6wtAs+wLQKXmC0DX7AtApeYLQKXmC0Cl5gtApeYLQKXmC0Cl5gtApeYLQKXmC0Dz6gtApeYLQM3rC0Cz7AtA",data_start:1073605544}}),qo={};s2(qo,{ESP32ROM:()=>x4});var x4,Oo=h2(()=>{To(),x4=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32",this.IMAGE_CHIP_ID=0,this.EFUSE_RD_REG_BASE=1073061888,this.DR_REG_SYSCON_BASE=1073111040,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.XTAL_CLK_DIVIDER=1,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.SPI_REG_BASE=1072963584,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_W0_OFFS=128,this.SPI_MOSI_DLEN_OFFS=40,this.SPI_MISO_DLEN_OFFS=44,this.TEXT_START=U3.text_start,this.ENTRY=U3.entry,this.DATA_START=U3.data_start,this.ROM_DATA=U3.data,this.ROM_TEXT=U3.text}async readEfuse(k,_){let X=this.EFUSE_RD_REG_BASE+4*_;return k.debug("Read efuse "+X),await k.readReg(X)}async getPkgVersion(k){let _=await this.readEfuse(k,3),X=_>>9&7;return X+=(_>>2&1)<<3,X}async getChipRevision(k){let _=await this.readEfuse(k,3),X=await this.readEfuse(k,5),T=await k.readReg(this.DR_REG_SYSCON_BASE+124),b=_>>15&1,u=X>>20&1,h=T>>31&1;if(b!=0)if(u!=0)if(h!=0)return 3;else return 2;else return 1;return 0}async getChipDescription(k){let _=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"],X="",T=await this.getPkgVersion(k),b=await this.getChipRevision(k),u=b==3;if((await this.readEfuse(k,3)&1)!=0)_[0]="ESP32-S0WDQ6",_[1]="ESP32-S0WD";if(u)_[5]="ESP32-PICO-V3";if(T>=0&&T<=6)X=_[T];else X="Unknown ESP32";if(u&&(T===0||T===1))X+="-V3";return X+" (revision "+b+")"}async getChipFeatures(k){let _=["Wi-Fi"],X=await this.readEfuse(k,3);if((X&2)===0)_.push(" BT");if((X&1)!==0)_.push(" Single Core");else _.push(" Dual Core");if((X&8192)!==0)if((X&4096)!==0)_.push(" 160MHz");else _.push(" 240MHz");let T=await this.getPkgVersion(k);if([2,4,5,6].indexOf(T)!==-1)_.push(" Embedded Flash");if(T===6)_.push(" Embedded PSRAM");if((await this.readEfuse(k,4)>>8&31)!==0)_.push(" VRef calibration in efuse");if((X>>14&1)!==0)_.push(" BLK3 partially reserved");let b=await this.readEfuse(k,6)&3,u=["None","3/4","Repeat (UNSUPPORTED)","Invalid"];return _.push(" Coding Scheme "+u[b]),_}async getCrystalFreq(k){let _=await k.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,X=k.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER,T;if(X>33)T=40;else T=26;if(Math.abs(T-X)>1)k.info("WARNING: Unsupported crystal in use");return T}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await this.readEfuse(k,1);_=_>>>0;let X=await this.readEfuse(k,2);X=X>>>0;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}}}),X3,Vo=h2(()=>{X3={entry:1077413532,text:"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",text_start:1077411840,data:"IGvIP3YKOEDGCjhAHgs4QMILOEAuDDhA3As4QEIJOEB+CzhAvgs4QDILOEDyCDhAZgs4QPIIOEBQCjhAlgo4QMYKOEAeCzhAYgo4QKYJOEDWCThAXgo4QIAOOEDGCjhARg04QDgOOEAyCDhAYA44QDIIOEAyCDhAMgg4QDIIOEAyCDhAMgg4QDIIOEAyCDhA4gw4QDIIOEBkDThAOA44QA==",data_start:1070164912}}),No={};s2(No,{ESP32C3ROM:()=>L4});var L4,Mo=h2(()=>{Vo(),L4=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C3",this.IMAGE_CHIP_ID=5,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=X3.text_start,this.ENTRY=X3.entry,this.DATA_START=X3.data_start,this.ROM_DATA=X3.data,this.ROM_TEXT=X3.text}async getPkgVersion(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>21&7}async getChipRevision(k){let _=this.EFUSE_BASE+68,X=3,T=18,b=_+12;return(await k.readReg(b)&1835008)>>18}async getChipDescription(k){let _;if(await this.getPkgVersion(k)===0)_="ESP32-C3";else _="unknown ESP32-C3";let X=await this.getChipRevision(k);return _+=" (revision "+X+")",_}async getFlashCap(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>27&7}async getFlashVendor(k){let _=this.EFUSE_BASE+68+16,X=await k.readReg(_)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"ZBIT"}[X]||""}async getChipFeatures(k){let _=["Wi-Fi","BLE"],X={0:null,1:"Embedded Flash 4MB",2:"Embedded Flash 2MB",3:"Embedded Flash 1MB",4:"Embedded Flash 8MB"},T=await this.getFlashCap(k),b=await this.getFlashVendor(k),u=X[T],h=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)_.push(`${h} (${b})`);return _}async getCrystalFreq(k){return 40}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),g3,So=h2(()=>{g3={entry:1077413304,text:"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",text_start:1077411840,data:"DEDKP+AIOEAsCThAhAk4QFIKOEC+CjhAbAo4QKgHOEAOCjhATgo4QJgJOEBYBzhAzAk4QFgHOEC6CDhA/gg4QCwJOECECThAzAg4QBIIOEBCCDhAyAg4QBYNOEAsCThA1gs4QMoMOECkBjhA9Aw4QKQGOECkBjhApAY4QKQGOECkBjhApAY4QKQGOECkBjhAcgs4QKQGOEDyCzhAygw4QA==",data_start:1070295976,bss_start:1070219264}}),Zo={};s2(Zo,{ESP32C2ROM:()=>k9});var k9,tf=h2(()=>{Mo(),So(),k9=class V extends L4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C2",this.IMAGE_CHIP_ID=12,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+64,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.XTAL_CLK_DIVIDER=1,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=g3.text_start,this.ENTRY=g3.entry,this.DATA_START=g3.data_start,this.ROM_DATA=g3.data,this.ROM_TEXT=g3.text}async getPkgVersion(k){let _=this.EFUSE_BASE+64+4;return await k.readReg(_)>>22&7}async getChipRevision(k){let _=this.EFUSE_BASE+64,X=1,T=20,b=_+4;return(await k.readReg(b)&3145728)>>20}async getChipDescription(k){let _,X=await this.getPkgVersion(k);if(X===0||X===1)_="ESP32-C2";else _="unknown ESP32-C2";let T=await this.getChipRevision(k);return _+=" (revision "+T+")",_}async getChipFeatures(k){return["Wi-Fi","BLE"]}async getCrystalFreq(k){let _=await k.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,X=k.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER,T;if(X>33)T=40;else T=26;if(Math.abs(T-X)>1)k.info("WARNING: Unsupported crystal in use");return T}async changeBaudRate(k){if(await this.getCrystalFreq(k)===26)k.changeBaud()}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),s3,$o=h2(()=>{s3={entry:1082132112,text:"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",text_start:1082130432,data:"HCuEQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQEwOgECSCoBAEg2AQAQOgED+B4BALA6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBABA6AQA==",data_start:1082469292}}),ko={};s2(ko,{ESP32C6ROM:()=>h0});var h0,U9=h2(()=>{$o(),h0=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C6",this.IMAGE_CHIP_ID=13,this.EFUSE_BASE=1611335680,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.TEXT_START=s3.text_start,this.ENTRY=s3.entry,this.DATA_START=s3.data_start,this.ROM_DATA=s3.data,this.ROM_TEXT=s3.text}async getPkgVersion(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>21&7}async getChipRevision(k){let _=this.EFUSE_BASE+68,X=3,T=18,b=_+12;return(await k.readReg(b)&1835008)>>18}async getChipDescription(k){let _;if(await this.getPkgVersion(k)===0)_="ESP32-C6";else _="unknown ESP32-C6";let X=await this.getChipRevision(k);return _+=" (revision "+X+")",_}async getChipFeatures(k){return["Wi-Fi 6","BT 5","IEEE802.15.4"]}async getCrystalFreq(k){return 40}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),W3,Uo=h2(()=>{W3={entry:1082132164,text:"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",text_start:1082130432,data:"FECAQHQKgEDECoBAHAuAQOoLgEBWDIBABAyAQEAJgECmC4BA5guAQDALgEDwCIBAZAuAQPAIgEBOCoBAlAqAQMQKgEAcC4BAYAqAQKQJgEDUCYBAXAqAQK4OgEDECoBAbg2AQGYOgEAwCIBAjg6AQDAIgEAwCIBAMAiAQDAIgEAwCIBAMAiAQDAIgEAwCIBACg2AQDAIgECMDYBAZg6AQA==",data_start:1082223536,bss_start:1082146816}}),Xo={};s2(Xo,{ESP32C61ROM:()=>X9});var X9,Cf=h2(()=>{U9(),Uo(),X9=class V extends h0{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C61",this.IMAGE_CHIP_ID=20,this.CHIP_DETECT_MAGIC_VALUE=[871374959,606167151],this.TEXT_START=W3.text_start,this.ENTRY=W3.entry,this.DATA_START=W3.data_start,this.ROM_DATA=W3.data,this.ROM_TEXT=W3.text,this.UART_DATE_REG_ADDR=1610612860,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=0,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=4,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY2_SHIFT=8,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY3_SHIFT=12,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY4_SHIFT=16,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY5_SHIFT=20,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+48,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=58720256,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+52,this.EFUSE_SECURE_BOOT_EN_MASK=67108864,this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1098907648,1107296256,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1074048000,1074069504,"DROM_MASK"],[1073741824,1074048000,"IROM_MASK"],[1090519040,1098907648,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=2010665156,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY",13:"XTS_AES_256_KEY_1_PSRAM",14:"XTS_AES_256_KEY_2_PSRAM",15:"XTS_AES_128_KEY_PSRAM"}}async getPkgVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(k){let _=await this.getPkgVersion(k),X;if(_===0)X="ESP32-C61";else X="unknown ESP32-C61";let T=await this.getMajorChipVersion(k),b=await this.getMinorChipVersion(k);return`${X} (revision v${T}.${b})`}async getChipFeatures(k){return["WiFi 6","BT 5"]}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}}}),R3,go=h2(()=>{R3={entry:1082132164,text:"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",text_start:1082130432,data:"FACEQG4KgEC+CoBAFguAQOQLgEBQDIBA/guAQDoJgECgC4BA4AuAQCoLgEDqCIBAXguAQOoIgEBICoBAjgqAQL4KgEAWC4BAWgqAQJ4JgEDOCYBAVgqAQKgOgEC+CoBAaA2AQGAOgEAqCIBAiA6AQCoIgEAqCIBAKgiAQCoIgEAqCIBAKgiAQCoIgEAqCIBABA2AQCoIgECGDYBAYA6AQA==",data_start:1082469296,bss_start:1082392576}}),so={};s2(so,{ESP32C5ROM:()=>g9});var g9,Qf=h2(()=>{U9(),go(),g9=class V extends h0{constructor(){super(...arguments);this.CHIP_NAME="ESP32-C5",this.IMAGE_CHIP_ID=23,this.EFUSE_BASE=1611352064,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.TEXT_START=R3.text_start,this.ENTRY=R3.entry,this.DATA_START=R3.data_start,this.ROM_DATA=R3.data,this.ROM_TEXT=R3.text,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.IROM_MAP_START=1107296256,this.IROM_MAP_END=1115684864,this.DROM_MAP_START=1115684864,this.DROM_MAP_END=1124073472,this.PCR_SYSCLK_CONF_REG=1611227408,this.PCR_SYSCLK_XTAL_FREQ_V=2130706432,this.PCR_SYSCLK_XTAL_FREQ_S=24,this.XTAL_CLK_DIVIDER=1,this.UARTDEV_BUF_NO=1082520860,this.CHIP_DETECT_MAGIC_VALUE=[285294703],this.FLASH_FREQUENCY={"80m":15,"40m":0,"20m":2},this.MEMORY_MAP=[[0,65536,"PADDING"],[1115684864,1124073472,"DROM"],[1082130432,1082523648,"DRAM"],[1082130432,1082523648,"BYTE_ACCESSIBLE"],[1073979392,1074003968,"DROM_MASK"],[1073741824,1073979392,"IROM_MASK"],[1107296256,1115684864,"IROM"],[1082130432,1082523648,"IRAM"],[1342177280,1342193664,"RTC_IRAM"],[1342177280,1342193664,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=4145808195,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"}}async getPkgVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>26&7}async getMinorChipVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>0&15}async getMajorChipVersion(k){return await k.readReg(this.EFUSE_BLOCK1_ADDR+8)>>4&3}async getChipDescription(k){let _=await this.getPkgVersion(k),X;if(_===0)X="ESP32-C5";else X="unknown ESP32-C5";let T=await this.getMajorChipVersion(k),b=await this.getMinorChipVersion(k);return`${X} (revision v${T}.${b})`}async getCrystalFreq(k){let _=await k.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,X=k.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER,T;if(X>45)T=48;else if(X>33)T=40;else T=26;if(Math.abs(T-X)>1)k.info("WARNING: Unsupported crystal in use");return T}async getCrystalFreqRomExpect(k){return(await k.readReg(this.PCR_SYSCLK_CONF_REG)&this.PCR_SYSCLK_XTAL_FREQ_V)>>this.PCR_SYSCLK_XTAL_FREQ_S}}}),z3,Wo=h2(()=>{z3={entry:1082132112,text:"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",text_start:1082130432,data:"EACDQEIKgECSCoBA6gqAQI4LgED6C4BAqAuAQA4JgEBKC4BAiguAQP4KgEC+CIBAMguAQL4IgEAcCoBAYgqAQJIKgEDqCoBALgqAQHIJgECiCYBAKgqAQFIOgECSCoBAEg2AQAoOgED+B4BAMg6AQP4HgED+B4BA/geAQP4HgED+B4BA/geAQP4HgED+B4BArgyAQP4HgEAwDYBACg6AQA==",data_start:1082403756}}),Ro={};s2(Ro,{ESP32H2ROM:()=>s9});var s9,Bf=h2(()=>{Wo(),s9=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-H2",this.IMAGE_CHIP_ID=16,this.EFUSE_BASE=1610647552,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1072955412,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612860,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=z3.text_start,this.ENTRY=z3.entry,this.DATA_START=z3.data_start,this.ROM_DATA=z3.data,this.ROM_TEXT=z3.text}async getChipDescription(k){return this.CHIP_NAME}async getChipFeatures(k){return["BLE","IEEE802.15.4"]}async getCrystalFreq(k){return 32}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async postConnect(k){let _=await k.readReg(this.UARTDEV_BUF_NO)&255;if(k.debug("In _post_connect "+_),_==this.UARTDEV_BUF_NO_USB)k.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),w3,zo=h2(()=>{w3={entry:1077381696,text:"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",text_start:1077379072,data:"ZCvKP8qNN0CvjjdAcJM3QDqPN0DPjjdAOo83QJmPN0BmkDdA2ZA3QIGQN0BVjTdA/I83QFiQN0C8jzdA+5A3QOaPN0D7kDdAnY43QPqON0A6jzdAmY83QLWON0CWjTdAvJE3QDaTN0ByjDdAVpM3QHKMN0ByjDdAcow3QHKMN0ByjDdAcow3QHKMN0ByjDdAVpE3QHKMN0BRkjdANpM3QAQInwAAAAAAAAAYAQQIBQAAAAAAAAAIAQQIBgAAAAAAAAAAAQQIIQAAAAAAIAAAEQQI3AAAAAAAIAAAEQQIDAAAAAAAIAAAAQQIEgAAAAAAIAAAESAoDAAQAQAA",data_start:1070279668}}),wo={};s2(wo,{ESP32S3ROM:()=>W9});var W9,ef=h2(()=>{zo(),W9=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S3",this.IMAGE_CHIP_ID=9,this.EFUSE_BASE=1610641408,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612864,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=0,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1610620928,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.USB_RAM_BLOCK=2048,this.UARTDEV_BUF_NO_USB=3,this.UARTDEV_BUF_NO=1070526796,this.TEXT_START=w3.text_start,this.ENTRY=w3.entry,this.DATA_START=w3.data_start,this.ROM_DATA=w3.data,this.ROM_TEXT=w3.text}async getChipDescription(k){return"ESP32-S3"}async getFlashCap(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>27&7}async getFlashVendor(k){let _=this.EFUSE_BASE+68+16,X=await k.readReg(_)>>0&7;return{1:"XMC",2:"GD",3:"FM",4:"TT",5:"BY"}[X]||""}async getPsramCap(k){let _=this.EFUSE_BASE+68+16;return await k.readReg(_)>>3&3}async getPsramVendor(k){let _=this.EFUSE_BASE+68+16,X=await k.readReg(_)>>7&3;return{1:"AP_3v3",2:"AP_1v8"}[X]||""}async getChipFeatures(k){let _=["Wi-Fi","BLE"],X={0:null,1:"Embedded Flash 8MB",2:"Embedded Flash 4MB"},T=await this.getFlashCap(k),b=await this.getFlashVendor(k),u=X[T],h=u!==void 0?u:"Unknown Embedded Flash";if(u!==null)_.push(`${h} (${b})`);let M={0:null,1:"Embedded PSRAM 8MB",2:"Embedded PSRAM 2MB"},r=await this.getPsramCap(k),L=await this.getPsramVendor(k),v=M[r],S=v!==void 0?v:"Unknown Embedded PSRAM";if(v!==null)_.push(`${S} (${L})`);return _}async getCrystalFreq(k){return 40}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async postConnect(k){let _=await k.readReg(this.UARTDEV_BUF_NO)&255;if(k.debug("In _post_connect "+_),_==this.UARTDEV_BUF_NO_USB)k.ESP_RAM_BLOCK=this.USB_RAM_BLOCK}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),j3,jo=h2(()=>{j3={entry:1073907696,text:"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",text_start:1073905664,data:"ZCv9PzaLAkDBiwJAhpACQEqMAkDjiwJASowCQKmMAkByjQJA5Y0CQI2NAkDAigJAC40CQGSNAkDMjAJACI4CQPaMAkAIjgJAr4sCQA6MAkBKjAJAqYwCQMeLAkACiwJAx44CQD2QAkDYiQJAZZACQNiJAkDYiQJA2IkCQNiJAkDYiQJA2IkCQNiJAkDYiQJAZI4CQNiJAkBZjwJAPZACQA==",data_start:1073622012}}),Ko={};s2(Ko,{ESP32S2ROM:()=>R9});var R9,Af=h2(()=>{jo(),R9=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP32-S2",this.IMAGE_CHIP_ID=2,this.MAC_EFUSE_REG=1061265476,this.EFUSE_BASE=1061265408,this.UART_CLKDIV_REG=1061158932,this.UART_CLKDIV_MASK=1048575,this.UART_DATE_REG_ADDR=1610612856,this.FLASH_WRITE_SIZE=1024,this.BOOTLOADER_FLASH_OFFSET=4096,this.FLASH_SIZES={"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64},this.SPI_REG_BASE=1061167104,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_W0_OFFS=88,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.TEXT_START=j3.text_start,this.ENTRY=j3.entry,this.DATA_START=j3.data_start,this.ROM_DATA=j3.data,this.ROM_TEXT=j3.text}async getPkgVersion(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>21&15}async getChipDescription(k){let _=["ESP32-S2","ESP32-S2FH16","ESP32-S2FH32"],X=await this.getPkgVersion(k);if(X>=0&&X<=2)return _[X];else return"unknown ESP32-S2"}async getFlashCap(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>21&15}async getPsramCap(k){let _=this.EFUSE_BASE+68+12;return await k.readReg(_)>>28&15}async getBlock2Version(k){let _=this.EFUSE_BASE+92+16;return await k.readReg(_)>>4&7}async getChipFeatures(k){let _=["Wi-Fi"],X={0:"No Embedded Flash",1:"Embedded Flash 2MB",2:"Embedded Flash 4MB"},T=await this.getFlashCap(k),b=X[T]||"Unknown Embedded Flash";_.push(b);let u={0:"No Embedded Flash",1:"Embedded PSRAM 2MB",2:"Embedded PSRAM 4MB"},h=await this.getPsramCap(k),M=u[h]||"Unknown Embedded PSRAM";_.push(M);let r={0:"No calibration in BLK2 of efuse",1:"ADC and temperature sensor calibration in BLK2 of efuse V1",2:"ADC and temperature sensor calibration in BLK2 of efuse V2"},L=await this.getBlock2Version(k),v=r[L]||"Unknown Calibration in BLK2";return _.push(v),_}async getCrystalFreq(k){return 40}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}getEraseSize(k,_){return _}}}),K3,Po=h2(()=>{K3={entry:1074843652,text:"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",text_start:1074843648,data:"CIH+PwUFBAACAwcAAwMLALnXEEDv1xBAHdgQQLrYEEBo5xBAHtkQQHTZEEDA2RBAaOcQQILaEED/2hBAwNsQQGjnEEBo5xBAWNwQQGjnEEA33xBAAOAQQDvgEEBo5xBAaOcQQNfgEEBo5xBAv+EQQGXiEECj4xBAY+QQQDTlEEBo5xBAaOcQQGjnEEBo5xBAYuYQQGjnEEBX5xBAkN0QQI/YEECm5RBAq9oQQPzZEEBo5xBA7OYQQDHnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQGjnEEBo5xBAaOcQQCLaEEBf2hBAvuUQQAEAAAACAAAAAwAAAAQAAAAFAAAABwAAAAkAAAANAAAAEQAAABkAAAAhAAAAMQAAAEEAAABhAAAAgQAAAMEAAAABAQAAgQEAAAECAAABAwAAAQQAAAEGAAABCAAAAQwAAAEQAAABGAAAASAAAAEwAAABQAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAAAAAAAAAAAAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAANAAAADwAAABEAAAATAAAAFwAAABsAAAAfAAAAIwAAACsAAAAzAAAAOwAAAEMAAABTAAAAYwAAAHMAAACDAAAAowAAAMMAAADjAAAAAgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAgAAAAMAAAADAAAAAwAAAAMAAAAEAAAABAAAAAQAAAAEAAAABQAAAAUAAAAFAAAABQAAAAAAAAAAAAAAAAAAABAREgAIBwkGCgULBAwDDQIOAQ8AAQEAAAEAAAAEAAAA",data_start:1073720488}}),Ho={};s2(Ho,{ESP8266ROM:()=>z9});var z9,ld=h2(()=>{Po(),z9=class V extends o3{constructor(){super(...arguments);this.CHIP_NAME="ESP8266",this.CHIP_DETECT_MAGIC_VALUE=[4293968129],this.EFUSE_RD_REG_BASE=1072693328,this.UART_CLKDIV_REG=1610612756,this.UART_CLKDIV_MASK=1048575,this.XTAL_CLK_DIVIDER=2,this.FLASH_WRITE_SIZE=16384,this.BOOTLOADER_FLASH_OFFSET=0,this.UART_DATE_REG_ADDR=0,this.FLASH_SIZES={"512KB":0,"256KB":16,"1MB":32,"2MB":48,"4MB":64,"2MB-c1":80,"4MB-c1":96,"8MB":128,"16MB":144},this.SPI_REG_BASE=1610613248,this.SPI_USR_OFFS=28,this.SPI_USR1_OFFS=32,this.SPI_USR2_OFFS=36,this.SPI_MOSI_DLEN_OFFS=0,this.SPI_MISO_DLEN_OFFS=0,this.SPI_W0_OFFS=64,this.TEXT_START=K3.text_start,this.ENTRY=K3.entry,this.DATA_START=K3.data_start,this.ROM_DATA=K3.data,this.ROM_TEXT=K3.text,this.getChipFeatures=async(k)=>{let _=["WiFi"];if(await this.getChipDescription(k)=="ESP8285")_.push("Embedded Flash");return _}}async readEfuse(k,_){let X=this.EFUSE_RD_REG_BASE+4*_;return k.debug("Read efuse "+X),await k.readReg(X)}async getChipDescription(k){let _=await this.readEfuse(k,2);return(await this.readEfuse(k,0)&16|_&65536)!=0?"ESP8285":"ESP8266EX"}async getCrystalFreq(k){let _=await k.readReg(this.UART_CLKDIV_REG)&this.UART_CLKDIV_MASK,X=k.transport.baudrate*_/1e6/this.XTAL_CLK_DIVIDER,T;if(X>33)T=40;else T=26;if(Math.abs(T-X)>1)k.info("WARNING: Detected crystal freq "+X+"MHz is quite different to normalized freq "+T+"MHz. Unsupported crystal in use?");return T}_d2h(k){let _=(+k).toString(16);return _.length===1?"0"+_:_}async readMac(k){let _=await this.readEfuse(k,0);_=_>>>0;let X=await this.readEfuse(k,1);X=X>>>0;let T=await this.readEfuse(k,3);T=T>>>0;let b=new Uint8Array(6);if(T!=0)b[0]=T>>16&255,b[1]=T>>8&255,b[2]=T&255;else if((X>>16&255)==0)b[0]=24,b[1]=254,b[2]=52;else if((X>>16&255)==1)b[0]=172,b[1]=208,b[2]=116;else k.error("Unknown OUI");return b[3]=X>>8&255,b[4]=X&255,b[5]=_>>24&255,this._d2h(b[0])+":"+this._d2h(b[1])+":"+this._d2h(b[2])+":"+this._d2h(b[3])+":"+this._d2h(b[4])+":"+this._d2h(b[5])}getEraseSize(k,_){return _}}}),P3,io=h2(()=>{P3={entry:1341195918,text:"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",text_start:1341194240,data:"EAD1TwYK8U9WCvFPrgrxT4QL8U/wC/FPngvxT9QI8U9AC/FPgAvxT8IK8U+ECPFP9grxT4QI8U/gCfFPJgrxT1YK8U+uCvFP8gnxTzgJ8U9oCfFP7gnxT0AO8U9WCvFPCA3xTwAO8U/EB/FPJA7xT8QH8U/EB/FPxAfxT8QH8U/EB/FPxAfxT8QH8U/EB/FPpAzxT8QH8U8mDfFPAA7xTw==",data_start:1341533100,bss_start:1341456384}}),Fo={};s2(Fo,{ESP32P4ROM:()=>w9});var w9,od=h2(()=>{Oo(),io(),w9=class V extends x4{constructor(){super(...arguments);this.CHIP_NAME="ESP32-P4",this.IMAGE_CHIP_ID=18,this.IROM_MAP_START=1073741824,this.IROM_MAP_END=1275068416,this.DROM_MAP_START=1073741824,this.DROM_MAP_END=1275068416,this.BOOTLOADER_FLASH_OFFSET=8192,this.CHIP_DETECT_MAGIC_VALUE=[0,182303440],this.UART_DATE_REG_ADDR=1343004812,this.EFUSE_BASE=1343410176,this.EFUSE_BLOCK1_ADDR=this.EFUSE_BASE+68,this.MAC_EFUSE_REG=this.EFUSE_BASE+68,this.SPI_REG_BASE=1342754816,this.SPI_USR_OFFS=24,this.SPI_USR1_OFFS=28,this.SPI_USR2_OFFS=32,this.SPI_MOSI_DLEN_OFFS=36,this.SPI_MISO_DLEN_OFFS=40,this.SPI_W0_OFFS=88,this.EFUSE_RD_REG_BASE=this.EFUSE_BASE+48,this.EFUSE_PURPOSE_KEY0_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY0_SHIFT=24,this.EFUSE_PURPOSE_KEY1_REG=this.EFUSE_BASE+52,this.EFUSE_PURPOSE_KEY1_SHIFT=28,this.EFUSE_PURPOSE_KEY2_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY2_SHIFT=0,this.EFUSE_PURPOSE_KEY3_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY3_SHIFT=4,this.EFUSE_PURPOSE_KEY4_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY4_SHIFT=8,this.EFUSE_PURPOSE_KEY5_REG=this.EFUSE_BASE+56,this.EFUSE_PURPOSE_KEY5_SHIFT=12,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT_REG=this.EFUSE_RD_REG_BASE,this.EFUSE_DIS_DOWNLOAD_MANUAL_ENCRYPT=1048576,this.EFUSE_SPI_BOOT_CRYPT_CNT_REG=this.EFUSE_BASE+52,this.EFUSE_SPI_BOOT_CRYPT_CNT_MASK=1835008,this.EFUSE_SECURE_BOOT_EN_REG=this.EFUSE_BASE+56,this.EFUSE_SECURE_BOOT_EN_MASK=1048576,this.PURPOSE_VAL_XTS_AES256_KEY_1=2,this.PURPOSE_VAL_XTS_AES256_KEY_2=3,this.PURPOSE_VAL_XTS_AES128_KEY=4,this.SUPPORTS_ENCRYPTED_FLASH=!0,this.FLASH_ENCRYPTED_WRITE_ALIGN=16,this.MEMORY_MAP=[[0,65536,"PADDING"],[1073741824,1275068416,"DROM"],[1341128704,1341784064,"DRAM"],[1341128704,1341784064,"BYTE_ACCESSIBLE"],[1337982976,1338114048,"DROM_MASK"],[1337982976,1338114048,"IROM_MASK"],[1073741824,1275068416,"IROM"],[1341128704,1341784064,"IRAM"],[1343258624,1343291392,"RTC_IRAM"],[1343258624,1343291392,"RTC_DRAM"],[1611653120,1611661312,"MEM_INTERNAL2"]],this.UF2_FAMILY_ID=1026592404,this.EFUSE_MAX_KEY=5,this.KEY_PURPOSES={0:"USER/EMPTY",1:"ECDSA_KEY",2:"XTS_AES_256_KEY_1",3:"XTS_AES_256_KEY_2",4:"XTS_AES_128_KEY",5:"HMAC_DOWN_ALL",6:"HMAC_DOWN_JTAG",7:"HMAC_DOWN_DIGITAL_SIGNATURE",8:"HMAC_UP",9:"SECURE_BOOT_DIGEST0",10:"SECURE_BOOT_DIGEST1",11:"SECURE_BOOT_DIGEST2",12:"KM_INIT_KEY"},this.TEXT_START=P3.text_start,this.ENTRY=P3.entry,this.DATA_START=P3.data_start,this.ROM_DATA=P3.data,this.ROM_TEXT=P3.text}async getPkgVersion(k){let _=this.EFUSE_BLOCK1_ADDR+8;return await k.readReg(_)>>27&7}async getMinorChipVersion(k){let _=this.EFUSE_BLOCK1_ADDR+8;return await k.readReg(_)>>0&15}async getMajorChipVersion(k){let _=this.EFUSE_BLOCK1_ADDR+8;return await k.readReg(_)>>4&3}async getChipDescription(k){let _=await this.getPkgVersion(k)===0?"ESP32-P4":"unknown ESP32-P4",X=await this.getMajorChipVersion(k),T=await this.getMinorChipVersion(k);return`${_} (revision v${X}.${T})`}async getChipFeatures(k){return["High-Performance MCU"]}async getCrystalFreq(k){return 40}async getFlashVoltage(k){return}async overrideVddsdio(k){k.debug("VDD_SDIO overrides are not supported for ESP32-P4")}async readMac(k){let _=await k.readReg(this.MAC_EFUSE_REG);_=_>>>0;let X=await k.readReg(this.MAC_EFUSE_REG+4);X=X>>>0&65535;let T=new Uint8Array(6);return T[0]=X>>8&255,T[1]=X&255,T[2]=_>>24&255,T[3]=_>>16&255,T[4]=_>>8&255,T[5]=_&255,this._d2h(T[0])+":"+this._d2h(T[1])+":"+this._d2h(T[2])+":"+this._d2h(T[3])+":"+this._d2h(T[4])+":"+this._d2h(T[5])}async getFlashCryptConfig(k){return}async getSecureBootEnabled(k){return await k.readReg(this.EFUSE_SECURE_BOOT_EN_REG)&this.EFUSE_SECURE_BOOT_EN_MASK}async getKeyBlockPurpose(k,_){if(_<0||_>this.EFUSE_MAX_KEY){k.debug(`Valid key block numbers must be in range 0-${this.EFUSE_MAX_KEY}`);return}let X=[[this.EFUSE_PURPOSE_KEY0_REG,this.EFUSE_PURPOSE_KEY0_SHIFT],[this.EFUSE_PURPOSE_KEY1_REG,this.EFUSE_PURPOSE_KEY1_SHIFT],[this.EFUSE_PURPOSE_KEY2_REG,this.EFUSE_PURPOSE_KEY2_SHIFT],[this.EFUSE_PURPOSE_KEY3_REG,this.EFUSE_PURPOSE_KEY3_SHIFT],[this.EFUSE_PURPOSE_KEY4_REG,this.EFUSE_PURPOSE_KEY4_SHIFT],[this.EFUSE_PURPOSE_KEY5_REG,this.EFUSE_PURPOSE_KEY5_SHIFT]],[T,b]=X[_];return await k.readReg(T)>>b&15}async isFlashEncryptionKeyValid(k){let _=[];for(let b=0;b<=this.EFUSE_MAX_KEY;b++){let u=await this.getKeyBlockPurpose(k,b);_.push(u)}if(typeof _.find((b)=>b===this.PURPOSE_VAL_XTS_AES128_KEY)!==void 0)return!0;let X=_.find((b)=>b===this.PURPOSE_VAL_XTS_AES256_KEY_1),T=_.find((b)=>b===this.PURPOSE_VAL_XTS_AES256_KEY_2);if(typeof X!==void 0&&typeof T!==void 0)return!0;return!1}}}),Go="\x01",X7="\x02",H5="\x03",i5="\x04",g7=512,F5=80,Io=115200;function s7(V){return V.replaceAll(`\r
`,`
`)}function W7(V){return V.slice(2,-3)}class T4{constructor(){this.serial=null,this._connected=!1,this._encoder=new TextEncoder,this._decoder=new TextDecoder}requestPort(V=[]){return navigator.serial.requestPort({filters:V}).then((k)=>{if(k._serial){this.serial=k._serial,this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1);return}this.serial=new Jo(k),this.serial.on("connect",()=>this._connected=!0),this.serial.on("disconnect",()=>this._connected=!1)})}connect(V={}){return new Promise((k,_)=>{if(this.serial)this.serial.open({baudRate:Io,...V}).then(()=>k()).catch((X)=>{if(X.name==="InvalidStateError")this._connected=!0,k();_(X)});else _(new Error("No device specified"))})}get connected(){return this._connected}disconnect(){return this.serial.close()}get deviceInfo(){return this.serial.getInfo()}readUntil(V,k){return new Promise((_)=>{let X="",T=async(b)=>{if(b){if(X+=this._decoder.decode(b),k)k(b)}if(X.indexOf(V)!==-1)this.serial.off("data",T),_(X)};this.serial.on("data",T)})}writeAndReadUntil(V,k,_){return new Promise(async(X)=>{if(k)this.readUntil(k,_).then(X);for(let T=0;T<V.length;T+=g7)await this.serial.write(V.slice(T,T+g7)),await P5(10);if(!k)X()})}async getPrompt(){return await P5(150),await this.stop(),await P5(150),await this.writeAndReadUntil(`\r${H5}${X7}`,`\r
>>>`)}async enterRawRepl(){return await this.writeAndReadUntil(Go,"raw REPL; CTRL-B to exit")}async exitRawRepl(){return await this.writeAndReadUntil(X7,`\r
>>>`)}async execRaw(V,k){return await this.writeAndReadUntil(V),await this.writeAndReadUntil(i5,`${i5}>`,k)}async execFile(V,k){if(k=k||function(){},V){await this.enterRawRepl();let _=await this.execRaw(V,k);return await this.exitRawRepl(),_}return Promise.reject()}async run(V,k){return k=k||function(){},new Promise(async(_,X)=>{if(this.rejectRun)this.rejectRun(new Error("re-run")),this.rejectRun=null;this.rejectRun=X;try{await this.enterRawRepl();let T=await this.execRaw(V||"#",k);return await this.exitRawRepl(),_(T)}catch(T){X(T),this.rejectRun=null}})}async eval(V){await this.serial.write(V)}async stop(){if(this.rejectRun)this.rejectRun(new Error("pre stop")),this.rejectRun=null;await this.serial.write(H5)}async reset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.serial.write(H5),await this.serial.write(i5)}async hardReset(){if(this.rejectRun)this.rejectRun(new Error("pre reset")),this.rejectRun=null;await this.enterRawRepl(),this.execRaw(`import machine
machine.reset()`)}async exists(V){V=V||"";let k="";k+=`try:
`,k+=`  f = open('${V}', 'r')
`,k+=`  print(1)
`,k+=`except OSError:
`,k+=`  print(0)
`,await this.enterRawRepl();let _=await this.execRaw(k);return await this.exitRawRepl(),_[2]=="1"}async listdir(V){V=V||"";let k="";k+=`import os
`,k+=`try:
`,k+=`  print(os.listdir('${V}'))
`,k+=`except OSError:
`,k+=`  print([])
`,await this.enterRawRepl();let _=await this.execRaw(k);return await this.exitRawRepl(),_=W7(_),_=_.replace(/'/g,'"'),JSON.parse(_)}async mkdir(V){if(V){await this.enterRawRepl();let k=await this.execRaw(`import os
os.mkdir('${V}')`);return await this.exitRawRepl(),k}return Promise.reject(new Error("Path to file was not specified"))}async rmdir(V){if(V){let k="";k+=`import os
`,k+=`try:
`,k+=`  os.rmdir("${V}")
`,k+=`except OSError:
`,k+=`  print(0)
`,await this.enterRawRepl();let _=await this.execRaw(k);return await this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async remove(V){if(V){let k="";k+=`import os
`,k+=`try:
`,k+=`  os.remove("${V}")
`,k+=`except OSError:
`,k+=`  print(0)
`,await this.enterRawRepl();let _=await this.execRaw(k);return this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async rename(V,k){if(V&&k){await this.enterRawRepl();let _=await this.execRaw(`import os
os.rename('${V}', '${k}')`);return this.exitRawRepl(),_}return Promise.reject(new Error("Path to file was not specified"))}async cat(V){if(V){await this.enterRawRepl();let k=await this.execRaw(`with open('${V}','r') as f:
 while 1:
  b=f.read(256)
  if not b:break
  print(b,end='')`);return await this.exitRawRepl(),k=W7(k),s7(k)}return Promise.reject(new Error("Path to file was not specified"))}async checkHash(V,k){if(V){let _="";_+=`import os
`,_+=`import hashlib
`,_+=`import binascii
`,_+=`hash = hashlib.sha256()
`,_+=`with open('${V}', 'rb') as f:
`,_+=`  while True:
`,_+=`    c = f.read(${F5})
`,_+=`    if not c: break
`,_+=`    hash.update(c)
`,_+=`print(binascii.hexlify(hash.digest()).decode())
`,await this.enterRawRepl();let X=await this.execRaw(_);return await this.exitRawRepl(),X=X.slice(2,X.indexOf(`
`)-1),k===X}return Promise.reject(new Error("Path to file was not specified"))}async put(V,k,_){if(!k){Promise.reject(new Error("Must specify content and destination path"));return}let X;if(typeof V==="string")X=this._encoder.encode(s7(V));else if(V instanceof ArrayBuffer)X=new Uint8Array(V);else if(V instanceof Uint8Array)X=V;else Promise.reject(new Error(`${V} must string, Uint8Array or ArrayBuffer`));if(_=_||function(){},await this.exists(k)){let h=await crypto.subtle.digest("SHA-256",X),M=Array.from(new Uint8Array(h)).map((r)=>r.toString(16).padStart(2,"0")).join("");if(await this.checkHash(k,M)){_(100);return}}let T=Array.from(X).map((h)=>h.toString(16).padStart(2,"0")),b="";b+=await this.enterRawRepl();let u=k.split("/");if(u.pop(),u.length>0){b+=await this.execRaw("import os");let h=[];u.reduce((M,r)=>{if(r===""||M!==""&&M.at(-1)!=="/")M+="/";if(M+=r,M!=="/")h.push(M);return M},"");for(let M of h)b+=await this.execRaw(`os.mkdir('${M}')`)}b+=await this.execRaw(`f=open('${k}','w')
w=f.write`);for(let h=0;h<T.length;h+=F5){let M=T.slice(h,h+F5).map((r)=>`\\x${r}`);b+=await this.execRaw(`w(b"${M.join("")}")`),_(parseInt(h/T.length*100))}return b+=await this.execRaw("f.close()"),b+=await this.exitRawRepl(),_(100),b}}var pd=_4(_o(),1),ud=_4(xo(),1);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function J3(V){let k=V.length;while(--k>=0)V[k]=0}var Yo=0,j9=1,Eo=2,Do=3,to=258,q4=29,O6=256,h6=O6+1+q4,H3=30,O4=19,K9=2*h6+1,b3=15,J5=16,Co=7,V4=256,P9=16,H9=17,i9=18,f4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Qo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),F9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bo=512,G2=new Array((h6+2)*2);J3(G2);var f6=new Array(H3*2);J3(f6);var b6=new Array(Bo);J3(b6);var m6=new Array(to-Do+1);J3(m6);var N4=new Array(q4);J3(N4);var f0=new Array(H3);J3(f0);function G5(V,k,_,X,T){this.static_tree=V,this.extra_bits=k,this.extra_base=_,this.elems=X,this.max_length=T,this.has_stree=V&&V.length}var J9,G9,I9;function I5(V,k){this.dyn_tree=V,this.max_code=0,this.stat_desc=k}var Y9=(V)=>{return V<256?b6[V]:b6[256+(V>>>7)]},y6=(V,k)=>{V.pending_buf[V.pending++]=k&255,V.pending_buf[V.pending++]=k>>>8&255},M2=(V,k,_)=>{if(V.bi_valid>J5-_)V.bi_buf|=k<<V.bi_valid&65535,y6(V,V.bi_buf),V.bi_buf=k>>J5-V.bi_valid,V.bi_valid+=_-J5;else V.bi_buf|=k<<V.bi_valid&65535,V.bi_valid+=_},P2=(V,k,_)=>{M2(V,_[k*2],_[k*2+1])},E9=(V,k)=>{let _=0;do _|=V&1,V>>>=1,_<<=1;while(--k>0);return _>>>1},eo=(V)=>{if(V.bi_valid===16)y6(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0;else if(V.bi_valid>=8)V.pending_buf[V.pending++]=V.bi_buf&255,V.bi_buf>>=8,V.bi_valid-=8},Ao=(V,k)=>{let{dyn_tree:_,max_code:X}=k,T=k.stat_desc.static_tree,b=k.stat_desc.has_stree,u=k.stat_desc.extra_bits,h=k.stat_desc.extra_base,M=k.stat_desc.max_length,r,L,v,S,x,d,N=0;for(S=0;S<=b3;S++)V.bl_count[S]=0;_[V.heap[V.heap_max]*2+1]=0;for(r=V.heap_max+1;r<K9;r++){if(L=V.heap[r],S=_[_[L*2+1]*2+1]+1,S>M)S=M,N++;if(_[L*2+1]=S,L>X)continue;if(V.bl_count[S]++,x=0,L>=h)x=u[L-h];if(d=_[L*2],V.opt_len+=d*(S+x),b)V.static_len+=d*(T[L*2+1]+x)}if(N===0)return;do{S=M-1;while(V.bl_count[S]===0)S--;V.bl_count[S]--,V.bl_count[S+1]+=2,V.bl_count[M]--,N-=2}while(N>0);for(S=M;S!==0;S--){L=V.bl_count[S];while(L!==0){if(v=V.heap[--r],v>X)continue;if(_[v*2+1]!==S)V.opt_len+=(S-_[v*2+1])*_[v*2],_[v*2+1]=S;L--}}},D9=(V,k,_)=>{let X=new Array(b3+1),T=0,b,u;for(b=1;b<=b3;b++)T=T+_[b-1]<<1,X[b]=T;for(u=0;u<=k;u++){let h=V[u*2+1];if(h===0)continue;V[u*2]=E9(X[h]++,h)}},ln=()=>{let V,k,_,X,T,b=new Array(b3+1);_=0;for(X=0;X<q4-1;X++){N4[X]=_;for(V=0;V<1<<f4[X];V++)m6[_++]=X}m6[_-1]=X,T=0;for(X=0;X<16;X++){f0[X]=T;for(V=0;V<1<<u0[X];V++)b6[T++]=X}T>>=7;for(;X<H3;X++){f0[X]=T<<7;for(V=0;V<1<<u0[X]-7;V++)b6[256+T++]=X}for(k=0;k<=b3;k++)b[k]=0;V=0;while(V<=143)G2[V*2+1]=8,V++,b[8]++;while(V<=255)G2[V*2+1]=9,V++,b[9]++;while(V<=279)G2[V*2+1]=7,V++,b[7]++;while(V<=287)G2[V*2+1]=8,V++,b[8]++;D9(G2,h6+1,b);for(V=0;V<H3;V++)f6[V*2+1]=5,f6[V*2]=E9(V,5);J9=new G5(G2,f4,O6+1,h6,b3),G9=new G5(f6,u0,0,H3,b3),I9=new G5(new Array(0),Qo,0,O4,Co)},t9=(V)=>{let k;for(k=0;k<h6;k++)V.dyn_ltree[k*2]=0;for(k=0;k<H3;k++)V.dyn_dtree[k*2]=0;for(k=0;k<O4;k++)V.bl_tree[k*2]=0;V.dyn_ltree[V4*2]=1,V.opt_len=V.static_len=0,V.sym_next=V.matches=0},C9=(V)=>{if(V.bi_valid>8)y6(V,V.bi_buf);else if(V.bi_valid>0)V.pending_buf[V.pending++]=V.bi_buf;V.bi_buf=0,V.bi_valid=0},R7=(V,k,_,X)=>{let T=k*2,b=_*2;return V[T]<V[b]||V[T]===V[b]&&X[k]<=X[_]},Y5=(V,k,_)=>{let X=V.heap[_],T=_<<1;while(T<=V.heap_len){if(T<V.heap_len&&R7(k,V.heap[T+1],V.heap[T],V.depth))T++;if(R7(k,X,V.heap[T],V.depth))break;V.heap[_]=V.heap[T],_=T,T<<=1}V.heap[_]=X},z7=(V,k,_)=>{let X,T,b=0,u,h;if(V.sym_next!==0)do if(X=V.pending_buf[V.sym_buf+b++]&255,X+=(V.pending_buf[V.sym_buf+b++]&255)<<8,T=V.pending_buf[V.sym_buf+b++],X===0)P2(V,T,k);else{if(u=m6[T],P2(V,u+O6+1,k),h=f4[u],h!==0)T-=N4[u],M2(V,T,h);if(X--,u=Y9(X),P2(V,u,_),h=u0[u],h!==0)X-=f0[u],M2(V,X,h)}while(b<V.sym_next);P2(V,V4,k)},d4=(V,k)=>{let _=k.dyn_tree,X=k.stat_desc.static_tree,T=k.stat_desc.has_stree,b=k.stat_desc.elems,u,h,M=-1,r;V.heap_len=0,V.heap_max=K9;for(u=0;u<b;u++)if(_[u*2]!==0)V.heap[++V.heap_len]=M=u,V.depth[u]=0;else _[u*2+1]=0;while(V.heap_len<2)if(r=V.heap[++V.heap_len]=M<2?++M:0,_[r*2]=1,V.depth[r]=0,V.opt_len--,T)V.static_len-=X[r*2+1];k.max_code=M;for(u=V.heap_len>>1;u>=1;u--)Y5(V,_,u);r=b;do u=V.heap[1],V.heap[1]=V.heap[V.heap_len--],Y5(V,_,1),h=V.heap[1],V.heap[--V.heap_max]=u,V.heap[--V.heap_max]=h,_[r*2]=_[u*2]+_[h*2],V.depth[r]=(V.depth[u]>=V.depth[h]?V.depth[u]:V.depth[h])+1,_[u*2+1]=_[h*2+1]=r,V.heap[1]=r++,Y5(V,_,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],Ao(V,k),D9(_,M,V.bl_count)},w7=(V,k,_)=>{let X,T=-1,b,u=k[1],h=0,M=7,r=4;if(u===0)M=138,r=3;k[(_+1)*2+1]=65535;for(X=0;X<=_;X++){if(b=u,u=k[(X+1)*2+1],++h<M&&b===u)continue;else if(h<r)V.bl_tree[b*2]+=h;else if(b!==0){if(b!==T)V.bl_tree[b*2]++;V.bl_tree[P9*2]++}else if(h<=10)V.bl_tree[H9*2]++;else V.bl_tree[i9*2]++;if(h=0,T=b,u===0)M=138,r=3;else if(b===u)M=6,r=3;else M=7,r=4}},j7=(V,k,_)=>{let X,T=-1,b,u=k[1],h=0,M=7,r=4;if(u===0)M=138,r=3;for(X=0;X<=_;X++){if(b=u,u=k[(X+1)*2+1],++h<M&&b===u)continue;else if(h<r)do P2(V,b,V.bl_tree);while(--h!==0);else if(b!==0){if(b!==T)P2(V,b,V.bl_tree),h--;P2(V,P9,V.bl_tree),M2(V,h-3,2)}else if(h<=10)P2(V,H9,V.bl_tree),M2(V,h-3,3);else P2(V,i9,V.bl_tree),M2(V,h-11,7);if(h=0,T=b,u===0)M=138,r=3;else if(b===u)M=6,r=3;else M=7,r=4}},on=(V)=>{let k;w7(V,V.dyn_ltree,V.l_desc.max_code),w7(V,V.dyn_dtree,V.d_desc.max_code),d4(V,V.bl_desc);for(k=O4-1;k>=3;k--)if(V.bl_tree[F9[k]*2+1]!==0)break;return V.opt_len+=3*(k+1)+5+5+4,k},nn=(V,k,_,X)=>{let T;M2(V,k-257,5),M2(V,_-1,5),M2(V,X-4,4);for(T=0;T<X;T++)M2(V,V.bl_tree[F9[T]*2+1],3);j7(V,V.dyn_ltree,k-1),j7(V,V.dyn_dtree,_-1)},pn=(V)=>{let k=4093624447,_;for(_=0;_<=31;_++,k>>>=1)if(k&1&&V.dyn_ltree[_*2]!==0)return 0;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return 1;for(_=32;_<O6;_++)if(V.dyn_ltree[_*2]!==0)return 1;return 0},K7=!1,un=(V)=>{if(!K7)ln(),K7=!0;V.l_desc=new I5(V.dyn_ltree,J9),V.d_desc=new I5(V.dyn_dtree,G9),V.bl_desc=new I5(V.bl_tree,I9),V.bi_buf=0,V.bi_valid=0,t9(V)},Q9=(V,k,_,X)=>{if(M2(V,(Yo<<1)+(X?1:0),3),C9(V),y6(V,_),y6(V,~_),_)V.pending_buf.set(V.window.subarray(k,k+_),V.pending);V.pending+=_},cn=(V)=>{M2(V,j9<<1,3),P2(V,V4,G2),eo(V)},fn=(V,k,_,X)=>{let T,b,u=0;if(V.level>0){if(V.strm.data_type===2)V.strm.data_type=pn(V);if(d4(V,V.l_desc),d4(V,V.d_desc),u=on(V),T=V.opt_len+3+7>>>3,b=V.static_len+3+7>>>3,b<=T)T=b}else T=b=_+5;if(_+4<=T&&k!==-1)Q9(V,k,_,X);else if(V.strategy===4||b===T)M2(V,(j9<<1)+(X?1:0),3),z7(V,G2,f6);else M2(V,(Eo<<1)+(X?1:0),3),nn(V,V.l_desc.max_code+1,V.d_desc.max_code+1,u+1),z7(V,V.dyn_ltree,V.dyn_dtree);if(t9(V),X)C9(V)},dn=(V,k,_)=>{if(V.pending_buf[V.sym_buf+V.sym_next++]=k,V.pending_buf[V.sym_buf+V.sym_next++]=k>>8,V.pending_buf[V.sym_buf+V.sym_next++]=_,k===0)V.dyn_ltree[_*2]++;else V.matches++,k--,V.dyn_ltree[(m6[_]+O6+1)*2]++,V.dyn_dtree[Y9(k)*2]++;return V.sym_next===V.sym_end},an=un,rn=Q9,hn=fn,bn=dn,mn=cn,yn={_tr_init:an,_tr_stored_block:rn,_tr_flush_block:hn,_tr_tally:bn,_tr_align:mn},vn=(V,k,_,X)=>{let T=V&65535|0,b=V>>>16&65535|0,u=0;while(_!==0){u=_>2000?2000:_,_-=u;do T=T+k[X++]|0,b=b+T|0;while(--u);T%=65521,b%=65521}return T|b<<16|0},v6=vn,_n=()=>{let V,k=[];for(var _=0;_<256;_++){V=_;for(var X=0;X<8;X++)V=V&1?3988292384^V>>>1:V>>>1;k[_]=V}return k},xn=new Uint32Array(_n()),Ln=(V,k,_,X)=>{let T=xn,b=X+_;V^=-1;for(let u=X;u<b;u++)V=V>>>8^T[(V^k[u])&255];return V^-1},T2=Ln,_6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},b0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Tn,_tr_stored_block:a4,_tr_flush_block:qn,_tr_tally:e2,_tr_align:On}=yn,{Z_NO_FLUSH:A2,Z_PARTIAL_FLUSH:Vn,Z_FULL_FLUSH:Nn,Z_FINISH:X2,Z_BLOCK:P7,Z_OK:O2,Z_STREAM_END:H7,Z_STREAM_ERROR:H2,Z_DATA_ERROR:Mn,Z_BUF_ERROR:E5,Z_DEFAULT_COMPRESSION:Sn,Z_FILTERED:Zn,Z_HUFFMAN_ONLY:e6,Z_RLE:$n,Z_FIXED:kn,Z_DEFAULT_STRATEGY:Un,Z_UNKNOWN:Xn,Z_DEFLATED:m0}=b0,gn=9,sn=15,Wn=8,Rn=29,zn=256,r4=zn+1+Rn,wn=30,jn=19,Kn=2*r4+1,Pn=15,J1=3,B2=258,i2=B2+J1+1,Hn=32,i3=42,M4=57,h4=69,b4=73,m4=91,y4=103,m3=113,u6=666,N2=1,G3=2,v3=3,I3=4,Fn=3,y3=(V,k)=>{return V.msg=_6[k],k},i7=(V)=>{return V*2-(V>4?9:0)},Q2=(V)=>{let k=V.length;while(--k>=0)V[k]=0},Jn=(V)=>{let k,_,X,T=V.w_size;k=V.hash_size,X=k;do _=V.head[--X],V.head[X]=_>=T?_-T:0;while(--k);k=T,X=k;do _=V.prev[--X],V.prev[X]=_>=T?_-T:0;while(--k)},Gn=(V,k,_)=>(k<<V.hash_shift^_)&V.hash_mask,l3=Gn,$2=(V)=>{let k=V.state,_=k.pending;if(_>V.avail_out)_=V.avail_out;if(_===0)return;if(V.output.set(k.pending_buf.subarray(k.pending_out,k.pending_out+_),V.next_out),V.next_out+=_,k.pending_out+=_,V.total_out+=_,V.avail_out-=_,k.pending-=_,k.pending===0)k.pending_out=0},k2=(V,k)=>{qn(V,V.block_start>=0?V.block_start:-1,V.strstart-V.block_start,k),V.block_start=V.strstart,$2(V.strm)},G1=(V,k)=>{V.pending_buf[V.pending++]=k},o6=(V,k)=>{V.pending_buf[V.pending++]=k>>>8&255,V.pending_buf[V.pending++]=k&255},v4=(V,k,_,X)=>{let T=V.avail_in;if(T>X)T=X;if(T===0)return 0;if(V.avail_in-=T,k.set(V.input.subarray(V.next_in,V.next_in+T),_),V.state.wrap===1)V.adler=v6(V.adler,k,T,_);else if(V.state.wrap===2)V.adler=T2(V.adler,k,T,_);return V.next_in+=T,V.total_in+=T,T},B9=(V,k)=>{let{max_chain_length:_,strstart:X}=V,T,b,u=V.prev_length,h=V.nice_match,M=V.strstart>V.w_size-i2?V.strstart-(V.w_size-i2):0,r=V.window,L=V.w_mask,v=V.prev,S=V.strstart+B2,x=r[X+u-1],d=r[X+u];if(V.prev_length>=V.good_match)_>>=2;if(h>V.lookahead)h=V.lookahead;do{if(T=k,r[T+u]!==d||r[T+u-1]!==x||r[T]!==r[X]||r[++T]!==r[X+1])continue;X+=2,T++;do;while(r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&r[++X]===r[++T]&&X<S);if(b=B2-(S-X),X=S-B2,b>u){if(V.match_start=k,u=b,b>=h)break;x=r[X+u-1],d=r[X+u]}}while((k=v[k&L])>M&&--_!==0);if(u<=V.lookahead)return u;return V.lookahead},F3=(V)=>{let k=V.w_size,_,X,T;do{if(X=V.window_size-V.lookahead-V.strstart,V.strstart>=k+(k-i2)){if(V.window.set(V.window.subarray(k,k+k-X),0),V.match_start-=k,V.strstart-=k,V.block_start-=k,V.insert>V.strstart)V.insert=V.strstart;Jn(V),X+=k}if(V.strm.avail_in===0)break;if(_=v4(V.strm,V.window,V.strstart+V.lookahead,X),V.lookahead+=_,V.lookahead+V.insert>=J1){T=V.strstart-V.insert,V.ins_h=V.window[T],V.ins_h=l3(V,V.ins_h,V.window[T+1]);while(V.insert)if(V.ins_h=l3(V,V.ins_h,V.window[T+J1-1]),V.prev[T&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=T,T++,V.insert--,V.lookahead+V.insert<J1)break}}while(V.lookahead<i2&&V.strm.avail_in!==0)},e9=(V,k)=>{let _=V.pending_buf_size-5>V.w_size?V.w_size:V.pending_buf_size-5,X,T,b,u=0,h=V.strm.avail_in;do{if(X=65535,b=V.bi_valid+42>>3,V.strm.avail_out<b)break;if(b=V.strm.avail_out-b,T=V.strstart-V.block_start,X>T+V.strm.avail_in)X=T+V.strm.avail_in;if(X>b)X=b;if(X<_&&(X===0&&k!==X2||k===A2||X!==T+V.strm.avail_in))break;if(u=k===X2&&X===T+V.strm.avail_in?1:0,a4(V,0,0,u),V.pending_buf[V.pending-4]=X,V.pending_buf[V.pending-3]=X>>8,V.pending_buf[V.pending-2]=~X,V.pending_buf[V.pending-1]=~X>>8,$2(V.strm),T){if(T>X)T=X;V.strm.output.set(V.window.subarray(V.block_start,V.block_start+T),V.strm.next_out),V.strm.next_out+=T,V.strm.avail_out-=T,V.strm.total_out+=T,V.block_start+=T,X-=T}if(X)v4(V.strm,V.strm.output,V.strm.next_out,X),V.strm.next_out+=X,V.strm.avail_out-=X,V.strm.total_out+=X}while(u===0);if(h-=V.strm.avail_in,h){if(h>=V.w_size)V.matches=2,V.window.set(V.strm.input.subarray(V.strm.next_in-V.w_size,V.strm.next_in),0),V.strstart=V.w_size,V.insert=V.strstart;else{if(V.window_size-V.strstart<=h){if(V.strstart-=V.w_size,V.window.set(V.window.subarray(V.w_size,V.w_size+V.strstart),0),V.matches<2)V.matches++;if(V.insert>V.strstart)V.insert=V.strstart}V.window.set(V.strm.input.subarray(V.strm.next_in-h,V.strm.next_in),V.strstart),V.strstart+=h,V.insert+=h>V.w_size-V.insert?V.w_size-V.insert:h}V.block_start=V.strstart}if(V.high_water<V.strstart)V.high_water=V.strstart;if(u)return I3;if(k!==A2&&k!==X2&&V.strm.avail_in===0&&V.strstart===V.block_start)return G3;if(b=V.window_size-V.strstart,V.strm.avail_in>b&&V.block_start>=V.w_size){if(V.block_start-=V.w_size,V.strstart-=V.w_size,V.window.set(V.window.subarray(V.w_size,V.w_size+V.strstart),0),V.matches<2)V.matches++;if(b+=V.w_size,V.insert>V.strstart)V.insert=V.strstart}if(b>V.strm.avail_in)b=V.strm.avail_in;if(b)v4(V.strm,V.window,V.strstart,b),V.strstart+=b,V.insert+=b>V.w_size-V.insert?V.w_size-V.insert:b;if(V.high_water<V.strstart)V.high_water=V.strstart;if(b=V.bi_valid+42>>3,b=V.pending_buf_size-b>65535?65535:V.pending_buf_size-b,_=b>V.w_size?V.w_size:b,T=V.strstart-V.block_start,T>=_||(T||k===X2)&&k!==A2&&V.strm.avail_in===0&&T<=b)X=T>b?b:T,u=k===X2&&V.strm.avail_in===0&&X===T?1:0,a4(V,V.block_start,X,u),V.block_start+=X,$2(V.strm);return u?v3:N2},D5=(V,k)=>{let _,X;for(;;){if(V.lookahead<i2){if(F3(V),V.lookahead<i2&&k===A2)return N2;if(V.lookahead===0)break}if(_=0,V.lookahead>=J1)V.ins_h=l3(V,V.ins_h,V.window[V.strstart+J1-1]),_=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;if(_!==0&&V.strstart-_<=V.w_size-i2)V.match_length=B9(V,_);if(V.match_length>=J1)if(X=e2(V,V.strstart-V.match_start,V.match_length-J1),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=J1){V.match_length--;do V.strstart++,V.ins_h=l3(V,V.ins_h,V.window[V.strstart+J1-1]),_=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;while(--V.match_length!==0);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=l3(V,V.ins_h,V.window[V.strstart+1]);else X=e2(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(X){if(k2(V,!1),V.strm.avail_out===0)return N2}}if(V.insert=V.strstart<J1-1?V.strstart:J1-1,k===X2){if(k2(V,!0),V.strm.avail_out===0)return v3;return I3}if(V.sym_next){if(k2(V,!1),V.strm.avail_out===0)return N2}return G3},S3=(V,k)=>{let _,X,T;for(;;){if(V.lookahead<i2){if(F3(V),V.lookahead<i2&&k===A2)return N2;if(V.lookahead===0)break}if(_=0,V.lookahead>=J1)V.ins_h=l3(V,V.ins_h,V.window[V.strstart+J1-1]),_=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;if(V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=J1-1,_!==0&&V.prev_length<V.max_lazy_match&&V.strstart-_<=V.w_size-i2){if(V.match_length=B9(V,_),V.match_length<=5&&(V.strategy===Zn||V.match_length===J1&&V.strstart-V.match_start>4096))V.match_length=J1-1}if(V.prev_length>=J1&&V.match_length<=V.prev_length){T=V.strstart+V.lookahead-J1,X=e2(V,V.strstart-1-V.prev_match,V.prev_length-J1),V.lookahead-=V.prev_length-1,V.prev_length-=2;do if(++V.strstart<=T)V.ins_h=l3(V,V.ins_h,V.window[V.strstart+J1-1]),_=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;while(--V.prev_length!==0);if(V.match_available=0,V.match_length=J1-1,V.strstart++,X){if(k2(V,!1),V.strm.avail_out===0)return N2}}else if(V.match_available){if(X=e2(V,0,V.window[V.strstart-1]),X)k2(V,!1);if(V.strstart++,V.lookahead--,V.strm.avail_out===0)return N2}else V.match_available=1,V.strstart++,V.lookahead--}if(V.match_available)X=e2(V,0,V.window[V.strstart-1]),V.match_available=0;if(V.insert=V.strstart<J1-1?V.strstart:J1-1,k===X2){if(k2(V,!0),V.strm.avail_out===0)return v3;return I3}if(V.sym_next){if(k2(V,!1),V.strm.avail_out===0)return N2}return G3},In=(V,k)=>{let _,X,T,b,u=V.window;for(;;){if(V.lookahead<=B2){if(F3(V),V.lookahead<=B2&&k===A2)return N2;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=J1&&V.strstart>0){if(T=V.strstart-1,X=u[T],X===u[++T]&&X===u[++T]&&X===u[++T]){b=V.strstart+B2;do;while(X===u[++T]&&X===u[++T]&&X===u[++T]&&X===u[++T]&&X===u[++T]&&X===u[++T]&&X===u[++T]&&X===u[++T]&&T<b);if(V.match_length=B2-(b-T),V.match_length>V.lookahead)V.match_length=V.lookahead}}if(V.match_length>=J1)_=e2(V,1,V.match_length-J1),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0;else _=e2(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(_){if(k2(V,!1),V.strm.avail_out===0)return N2}}if(V.insert=0,k===X2){if(k2(V,!0),V.strm.avail_out===0)return v3;return I3}if(V.sym_next){if(k2(V,!1),V.strm.avail_out===0)return N2}return G3},Yn=(V,k)=>{let _;for(;;){if(V.lookahead===0){if(F3(V),V.lookahead===0){if(k===A2)return N2;break}}if(V.match_length=0,_=e2(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,_){if(k2(V,!1),V.strm.avail_out===0)return N2}}if(V.insert=0,k===X2){if(k2(V,!0),V.strm.avail_out===0)return v3;return I3}if(V.sym_next){if(k2(V,!1),V.strm.avail_out===0)return N2}return G3};function K2(V,k,_,X,T){this.good_length=V,this.max_lazy=k,this.nice_length=_,this.max_chain=X,this.func=T}var c6=[new K2(0,0,0,0,e9),new K2(4,4,8,4,D5),new K2(4,5,16,8,D5),new K2(4,6,32,32,D5),new K2(4,4,16,16,S3),new K2(8,16,32,32,S3),new K2(8,16,128,128,S3),new K2(8,32,128,256,S3),new K2(32,128,258,1024,S3),new K2(32,258,258,4096,S3)],En=(V)=>{V.window_size=2*V.w_size,Q2(V.head),V.max_lazy_match=c6[V.level].max_lazy,V.good_match=c6[V.level].good_length,V.nice_match=c6[V.level].nice_length,V.max_chain_length=c6[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=J1-1,V.match_available=0,V.ins_h=0};function Dn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Kn*2),this.dyn_dtree=new Uint16Array((2*wn+1)*2),this.bl_tree=new Uint16Array((2*jn+1)*2),Q2(this.dyn_ltree),Q2(this.dyn_dtree),Q2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Pn+1),this.heap=new Uint16Array(2*r4+1),Q2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*r4+1),Q2(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var V6=(V)=>{if(!V)return 1;let k=V.state;if(!k||k.strm!==V||k.status!==i3&&k.status!==M4&&k.status!==h4&&k.status!==b4&&k.status!==m4&&k.status!==y4&&k.status!==m3&&k.status!==u6)return 1;return 0},A9=(V)=>{if(V6(V))return y3(V,H2);V.total_in=V.total_out=0,V.data_type=Xn;let k=V.state;if(k.pending=0,k.pending_out=0,k.wrap<0)k.wrap=-k.wrap;return k.status=k.wrap===2?M4:k.wrap?i3:m3,V.adler=k.wrap===2?0:1,k.last_flush=-2,Tn(k),O2},ll=(V)=>{let k=A9(V);if(k===O2)En(V.state);return k},tn=(V,k)=>{if(V6(V)||V.state.wrap!==2)return H2;return V.state.gzhead=k,O2},ol=(V,k,_,X,T,b)=>{if(!V)return H2;let u=1;if(k===Sn)k=6;if(X<0)u=0,X=-X;else if(X>15)u=2,X-=16;if(T<1||T>gn||_!==m0||X<8||X>15||k<0||k>9||b<0||b>kn||X===8&&u!==1)return y3(V,H2);if(X===8)X=9;let h=new Dn;return V.state=h,h.strm=V,h.status=i3,h.wrap=u,h.gzhead=null,h.w_bits=X,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=T+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+J1-1)/J1),h.window=new Uint8Array(h.w_size*2),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<T+6,h.pending_buf_size=h.lit_bufsize*4,h.pending_buf=new Uint8Array(h.pending_buf_size),h.sym_buf=h.lit_bufsize,h.sym_end=(h.lit_bufsize-1)*3,h.level=k,h.strategy=b,h.method=_,ll(V)},Cn=(V,k)=>{return ol(V,k,m0,sn,Wn,Un)},Qn=(V,k)=>{if(V6(V)||k>P7||k<0)return V?y3(V,H2):H2;let _=V.state;if(!V.output||V.avail_in!==0&&!V.input||_.status===u6&&k!==X2)return y3(V,V.avail_out===0?E5:H2);let X=_.last_flush;if(_.last_flush=k,_.pending!==0){if($2(V),V.avail_out===0)return _.last_flush=-1,O2}else if(V.avail_in===0&&i7(k)<=i7(X)&&k!==X2)return y3(V,E5);if(_.status===u6&&V.avail_in!==0)return y3(V,E5);if(_.status===i3&&_.wrap===0)_.status=m3;if(_.status===i3){let T=m0+(_.w_bits-8<<4)<<8,b=-1;if(_.strategy>=e6||_.level<2)b=0;else if(_.level<6)b=1;else if(_.level===6)b=2;else b=3;if(T|=b<<6,_.strstart!==0)T|=Hn;if(T+=31-T%31,o6(_,T),_.strstart!==0)o6(_,V.adler>>>16),o6(_,V.adler&65535);if(V.adler=1,_.status=m3,$2(V),_.pending!==0)return _.last_flush=-1,O2}if(_.status===M4)if(V.adler=0,G1(_,31),G1(_,139),G1(_,8),!_.gzhead){if(G1(_,0),G1(_,0),G1(_,0),G1(_,0),G1(_,0),G1(_,_.level===9?2:_.strategy>=e6||_.level<2?4:0),G1(_,Fn),_.status=m3,$2(V),_.pending!==0)return _.last_flush=-1,O2}else{if(G1(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(!_.gzhead.extra?0:4)+(!_.gzhead.name?0:8)+(!_.gzhead.comment?0:16)),G1(_,_.gzhead.time&255),G1(_,_.gzhead.time>>8&255),G1(_,_.gzhead.time>>16&255),G1(_,_.gzhead.time>>24&255),G1(_,_.level===9?2:_.strategy>=e6||_.level<2?4:0),G1(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length)G1(_,_.gzhead.extra.length&255),G1(_,_.gzhead.extra.length>>8&255);if(_.gzhead.hcrc)V.adler=T2(V.adler,_.pending_buf,_.pending,0);_.gzindex=0,_.status=h4}if(_.status===h4){if(_.gzhead.extra){let T=_.pending,b=(_.gzhead.extra.length&65535)-_.gzindex;while(_.pending+b>_.pending_buf_size){let h=_.pending_buf_size-_.pending;if(_.pending_buf.set(_.gzhead.extra.subarray(_.gzindex,_.gzindex+h),_.pending),_.pending=_.pending_buf_size,_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T);if(_.gzindex+=h,$2(V),_.pending!==0)return _.last_flush=-1,O2;T=0,b-=h}let u=new Uint8Array(_.gzhead.extra);if(_.pending_buf.set(u.subarray(_.gzindex,_.gzindex+b),_.pending),_.pending+=b,_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T);_.gzindex=0}_.status=b4}if(_.status===b4){if(_.gzhead.name){let T=_.pending,b;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T);if($2(V),_.pending!==0)return _.last_flush=-1,O2;T=0}if(_.gzindex<_.gzhead.name.length)b=_.gzhead.name.charCodeAt(_.gzindex++)&255;else b=0;G1(_,b)}while(b!==0);if(_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T);_.gzindex=0}_.status=m4}if(_.status===m4){if(_.gzhead.comment){let T=_.pending,b;do{if(_.pending===_.pending_buf_size){if(_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T);if($2(V),_.pending!==0)return _.last_flush=-1,O2;T=0}if(_.gzindex<_.gzhead.comment.length)b=_.gzhead.comment.charCodeAt(_.gzindex++)&255;else b=0;G1(_,b)}while(b!==0);if(_.gzhead.hcrc&&_.pending>T)V.adler=T2(V.adler,_.pending_buf,_.pending-T,T)}_.status=y4}if(_.status===y4){if(_.gzhead.hcrc){if(_.pending+2>_.pending_buf_size){if($2(V),_.pending!==0)return _.last_flush=-1,O2}G1(_,V.adler&255),G1(_,V.adler>>8&255),V.adler=0}if(_.status=m3,$2(V),_.pending!==0)return _.last_flush=-1,O2}if(V.avail_in!==0||_.lookahead!==0||k!==A2&&_.status!==u6){let T=_.level===0?e9(_,k):_.strategy===e6?Yn(_,k):_.strategy===$n?In(_,k):c6[_.level].func(_,k);if(T===v3||T===I3)_.status=u6;if(T===N2||T===v3){if(V.avail_out===0)_.last_flush=-1;return O2}if(T===G3){if(k===Vn)On(_);else if(k!==P7){if(a4(_,0,0,!1),k===Nn){if(Q2(_.head),_.lookahead===0)_.strstart=0,_.block_start=0,_.insert=0}}if($2(V),V.avail_out===0)return _.last_flush=-1,O2}}if(k!==X2)return O2;if(_.wrap<=0)return H7;if(_.wrap===2)G1(_,V.adler&255),G1(_,V.adler>>8&255),G1(_,V.adler>>16&255),G1(_,V.adler>>24&255),G1(_,V.total_in&255),G1(_,V.total_in>>8&255),G1(_,V.total_in>>16&255),G1(_,V.total_in>>24&255);else o6(_,V.adler>>>16),o6(_,V.adler&65535);if($2(V),_.wrap>0)_.wrap=-_.wrap;return _.pending!==0?O2:H7},Bn=(V)=>{if(V6(V))return H2;let k=V.state.status;return V.state=null,k===m3?y3(V,Mn):O2},en=(V,k)=>{let _=k.length;if(V6(V))return H2;let X=V.state,T=X.wrap;if(T===2||T===1&&X.status!==i3||X.lookahead)return H2;if(T===1)V.adler=v6(V.adler,k,_,0);if(X.wrap=0,_>=X.w_size){if(T===0)Q2(X.head),X.strstart=0,X.block_start=0,X.insert=0;let M=new Uint8Array(X.w_size);M.set(k.subarray(_-X.w_size,_),0),k=M,_=X.w_size}let{avail_in:b,next_in:u,input:h}=V;V.avail_in=_,V.next_in=0,V.input=k,F3(X);while(X.lookahead>=J1){let M=X.strstart,r=X.lookahead-(J1-1);do X.ins_h=l3(X,X.ins_h,X.window[M+J1-1]),X.prev[M&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=M,M++;while(--r);X.strstart=M,X.lookahead=J1-1,F3(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=J1-1,X.match_available=0,V.next_in=u,V.input=h,V.avail_in=b,X.wrap=T,O2},An=Cn,lp=ol,op=ll,np=A9,pp=tn,up=Qn,cp=Bn,fp=en,dp="pako deflate (from Nodeca project)",d6={deflateInit:An,deflateInit2:lp,deflateReset:op,deflateResetKeep:np,deflateSetHeader:pp,deflate:up,deflateEnd:cp,deflateSetDictionary:fp,deflateInfo:dp},ap=(V,k)=>{return Object.prototype.hasOwnProperty.call(V,k)},rp=function(V){let k=Array.prototype.slice.call(arguments,1);while(k.length){let _=k.shift();if(!_)continue;if(typeof _!=="object")throw new TypeError(_+"must be non-object");for(let X in _)if(ap(_,X))V[X]=_[X]}return V},hp=(V)=>{let k=0;for(let X=0,T=V.length;X<T;X++)k+=V[X].length;let _=new Uint8Array(k);for(let X=0,T=0,b=V.length;X<b;X++){let u=V[X];_.set(u,T),T+=u.length}return _},y0={assign:rp,flattenChunks:hp},nl=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(V){nl=!1}var x6=new Uint8Array(256);for(let V=0;V<256;V++)x6[V]=V>=252?6:V>=248?5:V>=240?4:V>=224?3:V>=192?2:1;x6[254]=x6[254]=1;var bp=(V)=>{if(typeof TextEncoder==="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(V);let k,_,X,T,b,u=V.length,h=0;for(T=0;T<u;T++){if(_=V.charCodeAt(T),(_&64512)===55296&&T+1<u){if(X=V.charCodeAt(T+1),(X&64512)===56320)_=65536+(_-55296<<10)+(X-56320),T++}h+=_<128?1:_<2048?2:_<65536?3:4}k=new Uint8Array(h);for(b=0,T=0;b<h;T++){if(_=V.charCodeAt(T),(_&64512)===55296&&T+1<u){if(X=V.charCodeAt(T+1),(X&64512)===56320)_=65536+(_-55296<<10)+(X-56320),T++}if(_<128)k[b++]=_;else if(_<2048)k[b++]=192|_>>>6,k[b++]=128|_&63;else if(_<65536)k[b++]=224|_>>>12,k[b++]=128|_>>>6&63,k[b++]=128|_&63;else k[b++]=240|_>>>18,k[b++]=128|_>>>12&63,k[b++]=128|_>>>6&63,k[b++]=128|_&63}return k},mp=(V,k)=>{if(k<65534){if(V.subarray&&nl)return String.fromCharCode.apply(null,V.length===k?V:V.subarray(0,k))}let _="";for(let X=0;X<k;X++)_+=String.fromCharCode(V[X]);return _},yp=(V,k)=>{let _=k||V.length;if(typeof TextDecoder==="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(V.subarray(0,k));let X,T,b=new Array(_*2);for(T=0,X=0;X<_;){let u=V[X++];if(u<128){b[T++]=u;continue}let h=x6[u];if(h>4){b[T++]=65533,X+=h-1;continue}u&=h===2?31:h===3?15:7;while(h>1&&X<_)u=u<<6|V[X++]&63,h--;if(h>1){b[T++]=65533;continue}if(u<65536)b[T++]=u;else u-=65536,b[T++]=55296|u>>10&1023,b[T++]=56320|u&1023}return mp(b,T)},vp=(V,k)=>{if(k=k||V.length,k>V.length)k=V.length;let _=k-1;while(_>=0&&(V[_]&192)===128)_--;if(_<0)return k;if(_===0)return k;return _+x6[V[_]]>k?_:k},L6={string2buf:bp,buf2string:yp,utf8border:vp};function _p(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pl=_p,ul=Object.prototype.toString,{Z_NO_FLUSH:xp,Z_SYNC_FLUSH:Lp,Z_FULL_FLUSH:Tp,Z_FINISH:qp,Z_OK:d0,Z_STREAM_END:Op,Z_DEFAULT_COMPRESSION:Vp,Z_DEFAULT_STRATEGY:Np,Z_DEFLATED:Mp}=b0;function S4(V){this.options=y0.assign({level:Vp,method:Mp,chunkSize:16384,windowBits:15,memLevel:8,strategy:Np},V||{});let k=this.options;if(k.raw&&k.windowBits>0)k.windowBits=-k.windowBits;else if(k.gzip&&k.windowBits>0&&k.windowBits<16)k.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pl,this.strm.avail_out=0;let _=d6.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(_!==d0)throw new Error(_6[_]);if(k.header)d6.deflateSetHeader(this.strm,k.header);if(k.dictionary){let X;if(typeof k.dictionary==="string")X=L6.string2buf(k.dictionary);else if(ul.call(k.dictionary)==="[object ArrayBuffer]")X=new Uint8Array(k.dictionary);else X=k.dictionary;if(_=d6.deflateSetDictionary(this.strm,X),_!==d0)throw new Error(_6[_]);this._dict_set=!0}}S4.prototype.push=function(V,k){let _=this.strm,X=this.options.chunkSize,T,b;if(this.ended)return!1;if(k===~~k)b=k;else b=k===!0?qp:xp;if(typeof V==="string")_.input=L6.string2buf(V);else if(ul.call(V)==="[object ArrayBuffer]")_.input=new Uint8Array(V);else _.input=V;_.next_in=0,_.avail_in=_.input.length;for(;;){if(_.avail_out===0)_.output=new Uint8Array(X),_.next_out=0,_.avail_out=X;if((b===Lp||b===Tp)&&_.avail_out<=6){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(T=d6.deflate(_,b),T===Op){if(_.next_out>0)this.onData(_.output.subarray(0,_.next_out));return T=d6.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d0}if(_.avail_out===0){this.onData(_.output);continue}if(b>0&&_.next_out>0){this.onData(_.output.subarray(0,_.next_out)),_.avail_out=0;continue}if(_.avail_in===0)break}return!0};S4.prototype.onData=function(V){this.chunks.push(V)};S4.prototype.onEnd=function(V){if(V===d0)this.result=y0.flattenChunks(this.chunks);this.chunks=[],this.err=V,this.msg=this.strm.msg};var A6=16209,Sp=16191,Zp=function V(k,_){let X,T,b,u,h,M,r,L,v,S,x,d,N,O,Z,$,U,s,W,g,K,i,J,F,Y=k.state;X=k.next_in,J=k.input,T=X+(k.avail_in-5),b=k.next_out,F=k.output,u=b-(_-k.avail_out),h=b+(k.avail_out-257),M=Y.dmax,r=Y.wsize,L=Y.whave,v=Y.wnext,S=Y.window,x=Y.hold,d=Y.bits,N=Y.lencode,O=Y.distcode,Z=(1<<Y.lenbits)-1,$=(1<<Y.distbits)-1;l:do{if(d<15)x+=J[X++]<<d,d+=8,x+=J[X++]<<d,d+=8;U=N[x&Z];o:for(;;){if(s=U>>>24,x>>>=s,d-=s,s=U>>>16&255,s===0)F[b++]=U&65535;else if(s&16){if(W=U&65535,s&=15,s){if(d<s)x+=J[X++]<<d,d+=8;W+=x&(1<<s)-1,x>>>=s,d-=s}if(d<15)x+=J[X++]<<d,d+=8,x+=J[X++]<<d,d+=8;U=O[x&$];n:for(;;){if(s=U>>>24,x>>>=s,d-=s,s=U>>>16&255,s&16){if(g=U&65535,s&=15,d<s){if(x+=J[X++]<<d,d+=8,d<s)x+=J[X++]<<d,d+=8}if(g+=x&(1<<s)-1,g>M){k.msg="invalid distance too far back",Y.mode=A6;break l}if(x>>>=s,d-=s,s=b-u,g>s){if(s=g-s,s>L){if(Y.sane){k.msg="invalid distance too far back",Y.mode=A6;break l}}if(K=0,i=S,v===0){if(K+=r-s,s<W){W-=s;do F[b++]=S[K++];while(--s);K=b-g,i=F}}else if(v<s){if(K+=r+v-s,s-=v,s<W){W-=s;do F[b++]=S[K++];while(--s);if(K=0,v<W){s=v,W-=s;do F[b++]=S[K++];while(--s);K=b-g,i=F}}}else if(K+=v-s,s<W){W-=s;do F[b++]=S[K++];while(--s);K=b-g,i=F}while(W>2)F[b++]=i[K++],F[b++]=i[K++],F[b++]=i[K++],W-=3;if(W){if(F[b++]=i[K++],W>1)F[b++]=i[K++]}}else{K=b-g;do F[b++]=F[K++],F[b++]=F[K++],F[b++]=F[K++],W-=3;while(W>2);if(W){if(F[b++]=F[K++],W>1)F[b++]=F[K++]}}}else if((s&64)===0){U=O[(U&65535)+(x&(1<<s)-1)];continue n}else{k.msg="invalid distance code",Y.mode=A6;break l}break}}else if((s&64)===0){U=N[(U&65535)+(x&(1<<s)-1)];continue o}else if(s&32){Y.mode=Sp;break l}else{k.msg="invalid literal/length code",Y.mode=A6;break l}break}}while(X<T&&b<h);W=d>>3,X-=W,d-=W<<3,x&=(1<<d)-1,k.next_in=X,k.next_out=b,k.avail_in=X<T?5+(T-X):5-(X-T),k.avail_out=b<h?257+(h-b):257-(b-h),Y.hold=x,Y.bits=d;return},Z3=15,F7=852,J7=592,G7=0,t5=1,I7=2,$p=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Up=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Xp=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gp=(V,k,_,X,T,b,u,h)=>{let M=h.bits,r=0,L=0,v=0,S=0,x=0,d=0,N=0,O=0,Z=0,$=0,U,s,W,g,K,i=null,J,F=new Uint16Array(Z3+1),Y=new Uint16Array(Z3+1),l=null,p,f,n;for(r=0;r<=Z3;r++)F[r]=0;for(L=0;L<X;L++)F[k[_+L]]++;x=M;for(S=Z3;S>=1;S--)if(F[S]!==0)break;if(x>S)x=S;if(S===0)return T[b++]=20971520,T[b++]=20971520,h.bits=1,0;for(v=1;v<S;v++)if(F[v]!==0)break;if(x<v)x=v;O=1;for(r=1;r<=Z3;r++)if(O<<=1,O-=F[r],O<0)return-1;if(O>0&&(V===G7||S!==1))return-1;Y[1]=0;for(r=1;r<Z3;r++)Y[r+1]=Y[r]+F[r];for(L=0;L<X;L++)if(k[_+L]!==0)u[Y[k[_+L]]++]=L;if(V===G7)i=l=u,J=20;else if(V===t5)i=$p,l=kp,J=257;else i=Up,l=Xp,J=0;if($=0,L=0,r=v,K=b,d=x,N=0,W=-1,Z=1<<x,g=Z-1,V===t5&&Z>F7||V===I7&&Z>J7)return 1;for(;;){if(p=r-N,u[L]+1<J)f=0,n=u[L];else if(u[L]>=J)f=l[u[L]-J],n=i[u[L]-J];else f=96,n=0;U=1<<r-N,s=1<<d,v=s;do s-=U,T[K+($>>N)+s]=p<<24|f<<16|n|0;while(s!==0);U=1<<r-1;while($&U)U>>=1;if(U!==0)$&=U-1,$+=U;else $=0;if(L++,--F[r]===0){if(r===S)break;r=k[_+u[L]]}if(r>x&&($&g)!==W){if(N===0)N=x;K+=v,d=r-N,O=1<<d;while(d+N<S){if(O-=F[d+N],O<=0)break;d++,O<<=1}if(Z+=1<<d,V===t5&&Z>F7||V===I7&&Z>J7)return 1;W=$&g,T[W]=x<<24|d<<16|K-b|0}}if($!==0)T[K+$]=r-N<<24|4194304|0;return h.bits=x,0},a6=gp,sp=0,cl=1,fl=2,{Z_FINISH:Y7,Z_BLOCK:Wp,Z_TREES:l0,Z_OK:_3,Z_STREAM_END:Rp,Z_NEED_DICT:zp,Z_STREAM_ERROR:g2,Z_DATA_ERROR:dl,Z_MEM_ERROR:al,Z_BUF_ERROR:wp,Z_DEFLATED:E7}=b0,v0=16180,D7=16181,t7=16182,C7=16183,Q7=16184,B7=16185,e7=16186,A7=16187,l9=16188,o9=16189,a0=16190,J2=16191,C5=16192,n9=16193,Q5=16194,p9=16195,u9=16196,c9=16197,f9=16198,o0=16199,n0=16200,d9=16201,a9=16202,r9=16203,h9=16204,b9=16205,B5=16206,m9=16207,y9=16208,r2=16209,rl=16210,hl=16211,jp=852,Kp=592,Pp=15,Hp=Pp,v9=(V)=>{return(V>>>24&255)+(V>>>8&65280)+((V&65280)<<8)+((V&255)<<24)};function ip(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var x3=(V)=>{if(!V)return 1;let k=V.state;if(!k||k.strm!==V||k.mode<v0||k.mode>hl)return 1;return 0},bl=(V)=>{if(x3(V))return g2;let k=V.state;if(V.total_in=V.total_out=k.total=0,V.msg="",k.wrap)V.adler=k.wrap&1;return k.mode=v0,k.last=0,k.havedict=0,k.flags=-1,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new Int32Array(jp),k.distcode=k.distdyn=new Int32Array(Kp),k.sane=1,k.back=-1,_3},ml=(V)=>{if(x3(V))return g2;let k=V.state;return k.wsize=0,k.whave=0,k.wnext=0,bl(V)},yl=(V,k)=>{let _;if(x3(V))return g2;let X=V.state;if(k<0)_=0,k=-k;else if(_=(k>>4)+5,k<48)k&=15;if(k&&(k<8||k>15))return g2;if(X.window!==null&&X.wbits!==k)X.window=null;return X.wrap=_,X.wbits=k,ml(V)},vl=(V,k)=>{if(!V)return g2;let _=new ip;V.state=_,_.strm=V,_.window=null,_.mode=v0;let X=yl(V,k);if(X!==_3)V.state=null;return X},Fp=(V)=>{return vl(V,Hp)},_9=!0,e5,A5,Jp=(V)=>{if(_9){e5=new Int32Array(512),A5=new Int32Array(32);let k=0;while(k<144)V.lens[k++]=8;while(k<256)V.lens[k++]=9;while(k<280)V.lens[k++]=7;while(k<288)V.lens[k++]=8;a6(cl,V.lens,0,288,e5,0,V.work,{bits:9}),k=0;while(k<32)V.lens[k++]=5;a6(fl,V.lens,0,32,A5,0,V.work,{bits:5}),_9=!1}V.lencode=e5,V.lenbits=9,V.distcode=A5,V.distbits=5},_l=(V,k,_,X)=>{let T,b=V.state;if(b.window===null)b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new Uint8Array(b.wsize);if(X>=b.wsize)b.window.set(k.subarray(_-b.wsize,_),0),b.wnext=0,b.whave=b.wsize;else{if(T=b.wsize-b.wnext,T>X)T=X;if(b.window.set(k.subarray(_-X,_-X+T),b.wnext),X-=T,X)b.window.set(k.subarray(_-X,_),0),b.wnext=X,b.whave=b.wsize;else{if(b.wnext+=T,b.wnext===b.wsize)b.wnext=0;if(b.whave<b.wsize)b.whave+=T}}return 0},Gp=(V,k)=>{let _,X,T,b,u,h,M,r,L,v,S,x,d,N,O=0,Z,$,U,s,W,g,K,i,J=new Uint8Array(4),F,Y,l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(x3(V)||!V.output||!V.input&&V.avail_in!==0)return g2;if(_=V.state,_.mode===J2)_.mode=C5;u=V.next_out,T=V.output,M=V.avail_out,b=V.next_in,X=V.input,h=V.avail_in,r=_.hold,L=_.bits,v=h,S=M,i=_3;l:for(;;)switch(_.mode){case v0:if(_.wrap===0){_.mode=C5;break}while(L<16){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.wrap&2&&r===35615){if(_.wbits===0)_.wbits=15;_.check=0,J[0]=r&255,J[1]=r>>>8&255,_.check=T2(_.check,J,2,0),r=0,L=0,_.mode=D7;break}if(_.head)_.head.done=!1;if(!(_.wrap&1)||(((r&255)<<8)+(r>>8))%31){V.msg="incorrect header check",_.mode=r2;break}if((r&15)!==E7){V.msg="unknown compression method",_.mode=r2;break}if(r>>>=4,L-=4,K=(r&15)+8,_.wbits===0)_.wbits=K;if(K>15||K>_.wbits){V.msg="invalid window size",_.mode=r2;break}_.dmax=1<<_.wbits,_.flags=0,V.adler=_.check=1,_.mode=r&512?o9:J2,r=0,L=0;break;case D7:while(L<16){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.flags=r,(_.flags&255)!==E7){V.msg="unknown compression method",_.mode=r2;break}if(_.flags&57344){V.msg="unknown header flags set",_.mode=r2;break}if(_.head)_.head.text=r>>8&1;if(_.flags&512&&_.wrap&4)J[0]=r&255,J[1]=r>>>8&255,_.check=T2(_.check,J,2,0);r=0,L=0,_.mode=t7;case t7:while(L<32){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.head)_.head.time=r;if(_.flags&512&&_.wrap&4)J[0]=r&255,J[1]=r>>>8&255,J[2]=r>>>16&255,J[3]=r>>>24&255,_.check=T2(_.check,J,4,0);r=0,L=0,_.mode=C7;case C7:while(L<16){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.head)_.head.xflags=r&255,_.head.os=r>>8;if(_.flags&512&&_.wrap&4)J[0]=r&255,J[1]=r>>>8&255,_.check=T2(_.check,J,2,0);r=0,L=0,_.mode=Q7;case Q7:if(_.flags&1024){while(L<16){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.length=r,_.head)_.head.extra_len=r;if(_.flags&512&&_.wrap&4)J[0]=r&255,J[1]=r>>>8&255,_.check=T2(_.check,J,2,0);r=0,L=0}else if(_.head)_.head.extra=null;_.mode=B7;case B7:if(_.flags&1024){if(x=_.length,x>h)x=h;if(x){if(_.head){if(K=_.head.extra_len-_.length,!_.head.extra)_.head.extra=new Uint8Array(_.head.extra_len);_.head.extra.set(X.subarray(b,b+x),K)}if(_.flags&512&&_.wrap&4)_.check=T2(_.check,X,x,b);h-=x,b+=x,_.length-=x}if(_.length)break l}_.length=0,_.mode=e7;case e7:if(_.flags&2048){if(h===0)break l;x=0;do if(K=X[b+x++],_.head&&K&&_.length<65536)_.head.name+=String.fromCharCode(K);while(K&&x<h);if(_.flags&512&&_.wrap&4)_.check=T2(_.check,X,x,b);if(h-=x,b+=x,K)break l}else if(_.head)_.head.name=null;_.length=0,_.mode=A7;case A7:if(_.flags&4096){if(h===0)break l;x=0;do if(K=X[b+x++],_.head&&K&&_.length<65536)_.head.comment+=String.fromCharCode(K);while(K&&x<h);if(_.flags&512&&_.wrap&4)_.check=T2(_.check,X,x,b);if(h-=x,b+=x,K)break l}else if(_.head)_.head.comment=null;_.mode=l9;case l9:if(_.flags&512){while(L<16){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.wrap&4&&r!==(_.check&65535)){V.msg="header crc mismatch",_.mode=r2;break}r=0,L=0}if(_.head)_.head.hcrc=_.flags>>9&1,_.head.done=!0;V.adler=_.check=0,_.mode=J2;break;case o9:while(L<32){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}V.adler=_.check=v9(r),r=0,L=0,_.mode=a0;case a0:if(_.havedict===0)return V.next_out=u,V.avail_out=M,V.next_in=b,V.avail_in=h,_.hold=r,_.bits=L,zp;V.adler=_.check=1,_.mode=J2;case J2:if(k===Wp||k===l0)break l;case C5:if(_.last){r>>>=L&7,L-=L&7,_.mode=B5;break}while(L<3){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}switch(_.last=r&1,r>>>=1,L-=1,r&3){case 0:_.mode=n9;break;case 1:if(Jp(_),_.mode=o0,k===l0){r>>>=2,L-=2;break l}break;case 2:_.mode=u9;break;case 3:V.msg="invalid block type",_.mode=r2}r>>>=2,L-=2;break;case n9:r>>>=L&7,L-=L&7;while(L<32){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if((r&65535)!==(r>>>16^65535)){V.msg="invalid stored block lengths",_.mode=r2;break}if(_.length=r&65535,r=0,L=0,_.mode=Q5,k===l0)break l;case Q5:_.mode=p9;case p9:if(x=_.length,x){if(x>h)x=h;if(x>M)x=M;if(x===0)break l;T.set(X.subarray(b,b+x),u),h-=x,b+=x,M-=x,u+=x,_.length-=x;break}_.mode=J2;break;case u9:while(L<14){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.nlen=(r&31)+257,r>>>=5,L-=5,_.ndist=(r&31)+1,r>>>=5,L-=5,_.ncode=(r&15)+4,r>>>=4,L-=4,_.nlen>286||_.ndist>30){V.msg="too many length or distance symbols",_.mode=r2;break}_.have=0,_.mode=c9;case c9:while(_.have<_.ncode){while(L<3){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}_.lens[l[_.have++]]=r&7,r>>>=3,L-=3}while(_.have<19)_.lens[l[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,F={bits:_.lenbits},i=a6(sp,_.lens,0,19,_.lencode,0,_.work,F),_.lenbits=F.bits,i){V.msg="invalid code lengths set",_.mode=r2;break}_.have=0,_.mode=f9;case f9:while(_.have<_.nlen+_.ndist){for(;;){if(O=_.lencode[r&(1<<_.lenbits)-1],Z=O>>>24,$=O>>>16&255,U=O&65535,Z<=L)break;if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(U<16)r>>>=Z,L-=Z,_.lens[_.have++]=U;else{if(U===16){Y=Z+2;while(L<Y){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(r>>>=Z,L-=Z,_.have===0){V.msg="invalid bit length repeat",_.mode=r2;break}K=_.lens[_.have-1],x=3+(r&3),r>>>=2,L-=2}else if(U===17){Y=Z+3;while(L<Y){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}r>>>=Z,L-=Z,K=0,x=3+(r&7),r>>>=3,L-=3}else{Y=Z+7;while(L<Y){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}r>>>=Z,L-=Z,K=0,x=11+(r&127),r>>>=7,L-=7}if(_.have+x>_.nlen+_.ndist){V.msg="invalid bit length repeat",_.mode=r2;break}while(x--)_.lens[_.have++]=K}}if(_.mode===r2)break;if(_.lens[256]===0){V.msg="invalid code -- missing end-of-block",_.mode=r2;break}if(_.lenbits=9,F={bits:_.lenbits},i=a6(cl,_.lens,0,_.nlen,_.lencode,0,_.work,F),_.lenbits=F.bits,i){V.msg="invalid literal/lengths set",_.mode=r2;break}if(_.distbits=6,_.distcode=_.distdyn,F={bits:_.distbits},i=a6(fl,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,F),_.distbits=F.bits,i){V.msg="invalid distances set",_.mode=r2;break}if(_.mode=o0,k===l0)break l;case o0:_.mode=n0;case n0:if(h>=6&&M>=258){if(V.next_out=u,V.avail_out=M,V.next_in=b,V.avail_in=h,_.hold=r,_.bits=L,Zp(V,S),u=V.next_out,T=V.output,M=V.avail_out,b=V.next_in,X=V.input,h=V.avail_in,r=_.hold,L=_.bits,_.mode===J2)_.back=-1;break}_.back=0;for(;;){if(O=_.lencode[r&(1<<_.lenbits)-1],Z=O>>>24,$=O>>>16&255,U=O&65535,Z<=L)break;if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if($&&($&240)===0){s=Z,W=$,g=U;for(;;){if(O=_.lencode[g+((r&(1<<s+W)-1)>>s)],Z=O>>>24,$=O>>>16&255,U=O&65535,s+Z<=L)break;if(h===0)break l;h--,r+=X[b++]<<L,L+=8}r>>>=s,L-=s,_.back+=s}if(r>>>=Z,L-=Z,_.back+=Z,_.length=U,$===0){_.mode=b9;break}if($&32){_.back=-1,_.mode=J2;break}if($&64){V.msg="invalid literal/length code",_.mode=r2;break}_.extra=$&15,_.mode=d9;case d9:if(_.extra){Y=_.extra;while(L<Y){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}_.length+=r&(1<<_.extra)-1,r>>>=_.extra,L-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=a9;case a9:for(;;){if(O=_.distcode[r&(1<<_.distbits)-1],Z=O>>>24,$=O>>>16&255,U=O&65535,Z<=L)break;if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(($&240)===0){s=Z,W=$,g=U;for(;;){if(O=_.distcode[g+((r&(1<<s+W)-1)>>s)],Z=O>>>24,$=O>>>16&255,U=O&65535,s+Z<=L)break;if(h===0)break l;h--,r+=X[b++]<<L,L+=8}r>>>=s,L-=s,_.back+=s}if(r>>>=Z,L-=Z,_.back+=Z,$&64){V.msg="invalid distance code",_.mode=r2;break}_.offset=U,_.extra=$&15,_.mode=r9;case r9:if(_.extra){Y=_.extra;while(L<Y){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}_.offset+=r&(1<<_.extra)-1,r>>>=_.extra,L-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){V.msg="invalid distance too far back",_.mode=r2;break}_.mode=h9;case h9:if(M===0)break l;if(x=S-M,_.offset>x){if(x=_.offset-x,x>_.whave){if(_.sane){V.msg="invalid distance too far back",_.mode=r2;break}}if(x>_.wnext)x-=_.wnext,d=_.wsize-x;else d=_.wnext-x;if(x>_.length)x=_.length;N=_.window}else N=T,d=u-_.offset,x=_.length;if(x>M)x=M;M-=x,_.length-=x;do T[u++]=N[d++];while(--x);if(_.length===0)_.mode=n0;break;case b9:if(M===0)break l;T[u++]=_.length,M--,_.mode=n0;break;case B5:if(_.wrap){while(L<32){if(h===0)break l;h--,r|=X[b++]<<L,L+=8}if(S-=M,V.total_out+=S,_.total+=S,_.wrap&4&&S)V.adler=_.check=_.flags?T2(_.check,T,S,u-S):v6(_.check,T,S,u-S);if(S=M,_.wrap&4&&(_.flags?r:v9(r))!==_.check){V.msg="incorrect data check",_.mode=r2;break}r=0,L=0}_.mode=m9;case m9:if(_.wrap&&_.flags){while(L<32){if(h===0)break l;h--,r+=X[b++]<<L,L+=8}if(_.wrap&4&&r!==(_.total&4294967295)){V.msg="incorrect length check",_.mode=r2;break}r=0,L=0}_.mode=y9;case y9:i=Rp;break l;case r2:i=dl;break l;case rl:return al;case hl:default:return g2}if(V.next_out=u,V.avail_out=M,V.next_in=b,V.avail_in=h,_.hold=r,_.bits=L,_.wsize||S!==V.avail_out&&_.mode<r2&&(_.mode<B5||k!==Y7)){if(_l(V,V.output,V.next_out,S-V.avail_out));}if(v-=V.avail_in,S-=V.avail_out,V.total_in+=v,V.total_out+=S,_.total+=S,_.wrap&4&&S)V.adler=_.check=_.flags?T2(_.check,T,S,V.next_out-S):v6(_.check,T,S,V.next_out-S);if(V.data_type=_.bits+(_.last?64:0)+(_.mode===J2?128:0)+(_.mode===o0||_.mode===Q5?256:0),(v===0&&S===0||k===Y7)&&i===_3)i=wp;return i},Ip=(V)=>{if(x3(V))return g2;let k=V.state;if(k.window)k.window=null;return V.state=null,_3},Yp=(V,k)=>{if(x3(V))return g2;let _=V.state;if((_.wrap&2)===0)return g2;return _.head=k,k.done=!1,_3},Ep=(V,k)=>{let _=k.length,X,T,b;if(x3(V))return g2;if(X=V.state,X.wrap!==0&&X.mode!==a0)return g2;if(X.mode===a0){if(T=1,T=v6(T,k,_,0),T!==X.check)return dl}if(b=_l(V,k,_,_),b)return X.mode=rl,al;return X.havedict=1,_3},Dp=ml,tp=yl,Cp=bl,Qp=Fp,Bp=vl,ep=Gp,Ap=Ip,lu=Yp,ou=Ep,nu="pako inflate (from Nodeca project)",I2={inflateReset:Dp,inflateReset2:tp,inflateResetKeep:Cp,inflateInit:Qp,inflateInit2:Bp,inflate:ep,inflateEnd:Ap,inflateGetHeader:lu,inflateSetDictionary:ou,inflateInfo:nu};function pu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uu=pu,xl=Object.prototype.toString,{Z_NO_FLUSH:cu,Z_FINISH:fu,Z_OK:T6,Z_STREAM_END:l4,Z_NEED_DICT:o4,Z_STREAM_ERROR:du,Z_DATA_ERROR:x9,Z_MEM_ERROR:au}=b0;function Z4(V){this.options=y0.assign({chunkSize:65536,windowBits:15,to:""},V||{});let k=this.options;if(k.raw&&k.windowBits>=0&&k.windowBits<16){if(k.windowBits=-k.windowBits,k.windowBits===0)k.windowBits=-15}if(k.windowBits>=0&&k.windowBits<16&&!(V&&V.windowBits))k.windowBits+=32;if(k.windowBits>15&&k.windowBits<48){if((k.windowBits&15)===0)k.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pl,this.strm.avail_out=0;let _=I2.inflateInit2(this.strm,k.windowBits);if(_!==T6)throw new Error(_6[_]);if(this.header=new uu,I2.inflateGetHeader(this.strm,this.header),k.dictionary){if(typeof k.dictionary==="string")k.dictionary=L6.string2buf(k.dictionary);else if(xl.call(k.dictionary)==="[object ArrayBuffer]")k.dictionary=new Uint8Array(k.dictionary);if(k.raw){if(_=I2.inflateSetDictionary(this.strm,k.dictionary),_!==T6)throw new Error(_6[_])}}}Z4.prototype.push=function(V,k){let _=this.strm,X=this.options.chunkSize,T=this.options.dictionary,b,u,h;if(this.ended)return!1;if(k===~~k)u=k;else u=k===!0?fu:cu;if(xl.call(V)==="[object ArrayBuffer]")_.input=new Uint8Array(V);else _.input=V;_.next_in=0,_.avail_in=_.input.length;for(;;){if(_.avail_out===0)_.output=new Uint8Array(X),_.next_out=0,_.avail_out=X;if(b=I2.inflate(_,u),b===o4&&T){if(b=I2.inflateSetDictionary(_,T),b===T6)b=I2.inflate(_,u);else if(b===x9)b=o4}while(_.avail_in>0&&b===l4&&_.state.wrap>0&&V[_.next_in]!==0)I2.inflateReset(_),b=I2.inflate(_,u);switch(b){case du:case x9:case o4:case au:return this.onEnd(b),this.ended=!0,!1}if(h=_.avail_out,_.next_out){if(_.avail_out===0||b===l4)if(this.options.to==="string"){let M=L6.utf8border(_.output,_.next_out),r=_.next_out-M,L=L6.buf2string(_.output,M);if(_.next_out=r,_.avail_out=X-r,r)_.output.set(_.output.subarray(M,M+r),0);this.onData(L)}else this.onData(_.output.length===_.next_out?_.output:_.output.subarray(0,_.next_out))}if(b===T6&&h===0)continue;if(b===l4)return b=I2.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,!0;if(_.avail_in===0)break}return!0};Z4.prototype.onData=function(V){this.chunks.push(V)};Z4.prototype.onEnd=function(V){if(V===T6)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=y0.flattenChunks(this.chunks);this.chunks=[],this.err=V,this.msg=this.strm.msg};var cd=_4(Lo(),1);var Ll=[{usbVendorId:12346},{usbVendorId:11914}];b2(".bbJK1q_status-icon{cursor:pointer;height:1.25rem}.bbJK1q_status-text{flex:1}");var Tl={statusText:"bbJK1q_status-text",statusIcon:"bbJK1q_status-icon"};var ql="./assets/status-not-ready-3vyqeqxf.svg";var Ol="./assets/status-ready-r8e65h73.svg";import{jsx as yu}from"preact/jsx-runtime";function $4(){let{getText:V}=bu(),{device:k,setDevice:_}=mu(),X=k?V("micropython.deviceManager.ready","Ready"):V("micropython.deviceManager.notReady","Not Ready"),T=async()=>{if(k){try{await k.disconnect()}catch(b){console.error(b)}_(null)}else{let b=new T4;try{await b.requestPort(Ll),await b.connect(),await b.stop(),_(b)}catch(h){console.error(h)}let u=()=>setTimeout(async()=>{if(b.connected)u();else _(null)},1000);u()}};return yu("img",{className:Tl.statusIcon,src:k?Ol:ql,title:X,onClick:T})}b2(".e8OLkq_toolbar-wrapper{height:var(--tool-bar-height);padding:var(--space)0;flex-shrink:0;justify-content:space-between;align-items:center;display:flex}.e8OLkq_run-code,.e8OLkq_stop-all{user-select:none;cursor:pointer;border:0;border-radius:.25rem;width:2rem;height:2rem;padding:.375rem}.e8OLkq_run-code img,.e8OLkq_stop-all img{width:100%;height:100%}.e8OLkq_run-code:hover,.e8OLkq_stop-all:hover{background:var(--motion-light-transparent)}.e8OLkq_run-code.e8OLkq_actived{background:var(--motion-transparent)}.e8OLkq_stop-all{opacity:.5}.e8OLkq_stop-all.e8OLkq_actived{opacity:1}.e8OLkq_run-code.e8OLkq_disabled,.e8OLkq_stop-all.e8OLkq_disabled{cursor:default;opacity:.5}.e8OLkq_run-code.e8OLkq_disabled:hover,.e8OLkq_stop-all.e8OLkq_disabled:hover{background:0 0}.e8OLkq_toolbar-button{width:calc(2rem + 2px);height:calc(2rem + 2px);padding:.375rem!important}.e8OLkq_button-icon{vertical-align:middle;width:100%;height:100%}.e8OLkq_space{margin-left:.2rem}.e8OLkq_toolbar-button-group{display:flex}.e8OLkq_group-button-first{border-top-right-radius:0;border-bottom-right-radius:0}.e8OLkq_group-button{border-left:none;border-radius:0}.e8OLkq_group-button-last{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.e8OLkq_group-button-toggled-off{filter:saturate(0)}");var n3={actived:"e8OLkq_actived",disabled:"e8OLkq_disabled",runCode:"e8OLkq_run-code",toolbarButtonGroup:"e8OLkq_toolbar-button-group",groupButtonFirst:"e8OLkq_group-button-first",buttonIcon:"e8OLkq_button-icon",space:"e8OLkq_space",toolbarWrapper:"e8OLkq_toolbar-wrapper",groupButtonLast:"e8OLkq_group-button-last",groupButtonToggledOff:"e8OLkq_group-button-toggled-off",stopAll:"e8OLkq_stop-all",toolbarButton:"e8OLkq_toolbar-button",groupButton:"e8OLkq_group-button"};var Vl="./assets/icon-run-code-4hvgk72w.svg";var Nl="./assets/icon-stop-all-ctzgb1bx.svg";import{jsx as _0,jsxs as Sl}from"preact/jsx-runtime";function k4(){let{getText:V}=xu(),{device:k}=Lu(),_=!k;return Sl("div",{className:n3.toolbarWrapper,children:[Sl("div",{className:n3.toolbarButtonGroup,children:[_0("img",{className:Ml(n3.runCode,{[n3.disabled]:_}),src:Vl,title:V("micropython.runCode","Run")}),_0("img",{className:Ml(n3.stopAll,{[n3.disabled]:_}),src:Nl,title:V("micropython.stopAll","Stop")})]}),_0("div",{className:n3.toolbarButtonGroup,children:_0($4,{})})]})}import{useEditor as ju,useLocale as Ku,exportFile as Pu}from"@blockcode/core";import{IconSelector as Hu,ActionButton as iu}from"@blockcode/ui";import{useLocale as Tu,useEditor as qu}from"@blockcode/core";import{classNames as Ou,Label as U4,BufferedInput as Zl,Input as Vu}from"@blockcode/ui";b2(".RuiFna_file-info-wrapper{background:var(--ui-white);color:var(--text-primary);border-top-left-radius:var(--space);border-top-right-radius:var(--space);border-bottom:1px solid var(--ui-black-transparent);padding:.75rem}.RuiFna_row{justify-content:space-between;display:flex}.RuiFna_row-primary{margin-bottom:.5rem}.RuiFna_group{flex-direction:row;align-items:center;display:inline-flex}.RuiFna_filename-input{flex:1}.RuiFna_filesize-input{width:4rem}");var L3={group:"RuiFna_group",rowPrimary:"RuiFna_row-primary",fileInfoWrapper:"RuiFna_file-info-wrapper",filenameInput:"RuiFna_filename-input",filesizeInput:"RuiFna_filesize-input",row:"RuiFna_row"};import{jsx as Y3,jsxs as X4}from"preact/jsx-runtime";var Nu=(V)=>{if(V>1048576)return`${(V/1024/1024).toFixed(2)}MB`;if(V>1024)return`${(V/1024).toFixed(2)}KB`;return`${V}B`};function g4(){let{getText:V}=Tu(),{fileList:k,selectedFileId:_,renameFile:X}=qu(),T=_===null,b=k.find((r)=>r.id===_),u=(r)=>X(r),h=b?b.name.slice(0,b.name.lastIndexOf(".")):"",M=b?b.name.slice(b.name.lastIndexOf(".")+1):"";return X4("div",{className:L3.fileInfoWrapper,children:[X4("div",{className:Ou(L3.row,L3.rowPrimary),children:[Y3(U4,{text:V("micropython.fileInfo.name","File")}),Y3(Zl,{className:L3.filenameInput,disabled:T,onSubmit:(r)=>u(`${r}.${M}`),value:h})]}),X4("div",{className:L3.row,children:[Y3(U4,{secondary:!0,text:V("micropython.fileInfo.type","Type"),children:Y3(Zl,{small:!0,disabled:T||b.readOnly,onSubmit:(r)=>u(`${h}.${r}`),value:M})}),Y3(U4,{secondary:!0,text:V("micropython.fileInfo.size","Size"),children:Y3(Vu,{small:!0,disabled:!0,className:L3.filesizeInput,value:b?Nu(b.buffer?b.buffer.byteLength:b.content.length):""})})]})]})}b2(".vtc49a_file-selector-wrapper{background-color:var(--ui-secondary);border-top-right-radius:var(--space);border-top-left-radius:var(--space);border:1px solid var(--ui-black-transparent);border-bottom:0;flex:1;position:relative}.vtc49a_delete-menu-item:hover{background:var(--error-primary)}.vtc49a_add-button{position:absolute;bottom:.75rem;right:1rem}");var x0={deleteMenuItem:"vtc49a_delete-menu-item",addButton:"vtc49a_add-button",fileSelectorWrapper:"vtc49a_file-selector-wrapper"};var $l="./assets/icon-new-0c488na1.svg";var kl="./assets/icon-file-upload-277yt7z2.svg";var Ul="./assets/icon-new-code-5sg35y7s.svg";var Xl="./assets/icon-new-json-dncn3mrv.svg";var gl="./assets/icon-binary-0y6eykzx.svg";var sl="./assets/icon-csv-f87gtqc1.svg";var Wl="./assets/icon-ini-g5awdq1g.svg";var Rl="./assets/icon-json-j4r5jfrj.svg";var zl="./assets/icon-markdown-wp2rmp87.svg";var wl="./assets/icon-micropython-1k63var0.svg";var jl="./assets/icon-text-qkvyztw3.svg";var Kl="./assets/icon-image-6rhwn9se.svg";var Pl="./assets/icon-svg-jvkexp9k.svg";import{jsx as s4,jsxs as Gu}from"preact/jsx-runtime";var Fu=(V)=>{if(V>1048576)return`${(V/1024/1024).toFixed(2)}MB`;if(V>1024)return`${(V/1024).toFixed(2)}KB`;return`${V}B`},Ju=(V)=>{if(V.endsWith(".csv"))return sl;if(V.endsWith(".ini"))return Wl;if(V.endsWith(".json"))return Rl;if(V.endsWith(".md"))return zl;if(V.endsWith(".py"))return wl;if(V.endsWith(".txt"))return jl;if(V.endsWith(".svg"))return Pl;if(/$.*\.(png|jpg|jpeg|gif|bmp)$/.test(V))return Kl;return gl};function W4(){let{getText:V}=Ku(),{fileList:k,selectedFileId:_,addFile:X,openFile:T,deleteFile:b}=ju(),u=async({target:h})=>{for(let M of h.files)X({name:M.name,.../^(text|image\/svg).*$/i.test(M.type)?{content:await M.text()}:{content:`------------------------------
${V("micropython.fileInfo.title","File Info")}
------------------------------
${V("micropython.fileInfo.name","File")}: ${M.name}
${V("micropython.fileInfo.type","Type")}: ${M.type}
${V("micropython.fileInfo.size","Size")}: ${Fu(M.size)}
${V("micropython.fileInfo.modified","Modified")}: ${new Date(M.lastModified).toLocaleString()}`,buffer:await M.arrayBuffer(),readOnly:!0}})};return Gu("div",{className:x0.fileSelectorWrapper,children:[s4(g4,{}),s4(Hu,{items:k.map((h,M)=>({...h,icon:Ju(h.name),order:h.order||M,contextMenu:[[{label:V("micropython.contextMenu.duplicate","duplicate"),onClick:()=>X({...h,name:`${h.name.split(".")[0]}-${k.length+1}.py`})},{label:V("micropython.contextMenu.export","export"),onClick:()=>Pu(h.content,h.name)}],[{label:V("micropython.contextMenu.delete","delete"),className:x0.deleteMenuItem,onClick:()=>b(h.id)}]]})),selectedIndex:k.findIndex((h)=>h.id===_),onSelect:(h)=>T(k[h].id),onDelete:(h)=>b(k[h].id)}),s4(iu,{className:x0.addButton,icon:$l,tooltip:V("micropython.actionButton.newCode","Create new Code"),onClick:()=>X({name:`code-${k.length+1}.py`,content:""}),moreButtons:[{icon:kl,tooltip:V("micropython.actionButton.upload","Upload File"),fileAccept:"image/*,audio/*,video/*,text/*",fileMultiple:!0,onFileChange:u},{icon:Xl,tooltip:V("micropython.actionButton.newJSON","Create new JSON"),onClick:()=>X({name:`text-${k.length+1}.json`,content:`{
    
}`})},{icon:Ul,tooltip:V("micropython.actionButton.newCode","Create new Code"),onClick:()=>X({name:`code-${k.length+1}.py`,content:""})}]})]})}b2(".pl4-KG_sidebar-wrapper{flex-direction:column;width:20rem;height:100%;display:flex}.pl4-KG_list-wrapper{flex-direction:row;height:100%;display:flex}");var R4={listWrapper:"pl4-KG_list-wrapper",sidebarWrapper:"pl4-KG_sidebar-wrapper"};import{jsx as z4,jsxs as Iu}from"preact/jsx-runtime";function w4(){return Iu("div",{className:R4.sidebarWrapper,children:[z4(k4,{}),z4("div",{className:R4.listWrapper,children:z4(W4,{})})]})}b2("._9Qonrq_pane{height:8rem}");var Hl={pane:"_9Qonrq_pane"};import{jsx as Yu}from"preact/jsx-runtime";function j4(){return Yu("div",{className:Hl.pane})}var il={fileList:[{id:"main",name:"main.py",type:"text/x-python",content:`# hello world!
import machine

print("hello world!")
`},{id:"test",name:"test.py",type:"text/x-python",content:'print("test")'}]};var Fl="./assets/icon-code-878xp7s8.svg";var Jl="./assets/icon-repl-r7m1q667.svg";var Gl={"micropython.menu.file":"File","micropython.menu.newProject":"New","micropython.menu.openProject":"Open","micropython.menu.saveProject":"Save","micropython.menu.uploadProject":"Load from your computer","micropython.menu.downloadProject":"Save to your computer","micropython.menu.edit":"Edit","micropython.menu.undo":"Undo","micropython.menu.redo":"Redo","micropython.runCode":"Run","micropython.stopAll":"Stop","micropython.syncDevice":"Sync","micropython.codeTab":"Code","micropython.replTab":"REPL","micropython.deviceManager.connect":"Connect Hardware...","micropython.deviceManager.notReady":"Not ready","micropython.deviceManager.ready":"Ready","micropython.packageList.title":"Modules","micropython.packageList.addPackage":"Add Package","micropython.fileInfo.title":"File Info","micropython.fileInfo.name":"File","micropython.fileInfo.type":"Type","micropython.fileInfo.size":"Size","micropython.fileInfo.modified":"Modified","micropython.actionButton.newCode":"Create new Code","micropython.actionButton.newJSON":"Create new JSON","micropython.actionButton.upload":"Upload File","micropython.contextMenu.duplicate":"duplicate","micropython.contextMenu.export":"export","micropython.contextMenu.delete":"delete","micropython.recordPane.title":"Record"};var Il={"micropython.menu.file":"æä»¶","micropython.menu.newProject":"æ°ä½å","micropython.menu.openProject":"æå¼","micropython.menu.saveProject":"ä¿å­","micropython.menu.uploadProject":"ä»çµèä¸­æå¼","micropython.menu.downloadProject":"ä¿å­å°çµè","micropython.menu.edit":"ç¼è¾","micropython.menu.undo":"æ¤é","micropython.menu.redo":"æ¢å¤","micropython.runCode":"è¿è¡","micropython.stopAll":"åæ­¢","micropython.syncDevice":"åæ­¥","micropython.codeTab":"ä»£ç ","micropython.replTab":"äº¤äºæ§è¡","micropython.deviceManager.connect":"è¿æ¥ç¡¬ä»¶...","micropython.deviceManager.notReady":"æªè¿æ¥","micropython.deviceManager.ready":"å·²è¿æ¥","micropython.packageList.title":"æ©å±å","micropython.packageList.addPackage":"æ·»å æ©å±å","micropython.fileInfo.title":"æä»¶ä¿¡æ¯","micropython.fileInfo.name":"æä»¶","micropython.fileInfo.type":"ç±»å","micropython.fileInfo.size":"å¤§å°","micropython.fileInfo.modified":"ä¿®æ¹æ¥æ","micropython.actionButton.newCode":"åå»ºæ°ä»£ç ","micropython.actionButton.newJSON":"åå»ºæ° JSON","micropython.actionButton.upload":"ä¸ä¼ æä»¶","micropython.contextMenu.duplicate":"å¤å¶","micropython.contextMenu.export":"å¯¼åº","micropython.contextMenu.delete":"å é¤","micropython.recordPane.title":"è®°å½"};import{jsx as P4}from"preact/jsx-runtime";function tu({addLocaleData:V,createLayout:k,openProject:_,project:X}){V({en:Gl,"zh-Hans":Il}),((b)=>{b=b??il,_(Object.assign({selectedFileId:b.fileList(0).id},b))})(X),k({tabs:[{icon:Fl,label:P4(K4,{id:"micropython.codeTab",defaultMessage:"Code"}),Content:S0},{icon:Jl,label:P4(K4,{id:"micropython.replTab",defaultMessage:"REPL"}),Content:g0}],sidebars:[{expand:"left",Content:w4}],pane:{label:P4(K4,{id:"micropython.recordPane.title",defaultMessage:"Record"}),Content:j4},tutorials:!0,canEditProjectName:!0})}export{tu as default};
