var Y10=Object.defineProperty;var TZ=(J,$)=>{for(var X in $)Y10(J,X,{get:$[X],enumerable:!0,configurable:!0,set:(Q)=>$[X]=()=>Q})};var N=(J,$)=>()=>(J&&($=J(J=0)),$);function V0(J){const $=globalThis.document,X=$.createElement("style");X.appendChild($.createTextNode(J)),$.head.append(X)}var q1=N(()=>{});function J9(J,$=0){return J[J.length-(1+$)]}function JC(J){if(J.length===0)throw new Error("Invalid tail call");return[J.slice(0,J.length-1),J[J.length-1]]}function Q8(J,$,X=(Q,Y)=>Q===Y){if(J===$)return!0;if(!J||!$)return!1;if(J.length!==$.length)return!1;for(let Q=0,Y=J.length;Q<Y;Q++)if(!X(J[Q],$[Q]))return!1;return!0}function $C(J,$){const X=J.length-1;if($<X)J[$]=J[X];J.pop()}function yW(J,$,X){return Z10(J.length,(Q)=>X(J[Q],$))}function Z10(J,$){let X=0,Q=J-1;while(X<=Q){const Y=(X+Q)/2|0,Z=$(Y);if(Z<0)X=Y+1;else if(Z>0)Q=Y-1;else return Y}return-(X+1)}function IW(J,$,X){if(J=J|0,J>=$.length)throw new TypeError("invalid index");const Q=$[Math.floor($.length*Math.random())],Y=[],Z=[],G=[];for(let q of $){const U=X(q,Q);if(U<0)Y.push(q);else if(U>0)Z.push(q);else G.push(q)}if(J<Y.length)return IW(J,Y,X);else if(J<Y.length+G.length)return G[0];else return IW(J-(Y.length+G.length),Z,X)}function GM(J,$){const X=[];let Q=void 0;for(let Y of J.slice(0).sort($))if(!Q||$(Q[0],Y)!==0)Q=[Y],X.push(Q);else Q.push(Y);return X}function*v2(J,$){let X,Q;for(let Y of J){if(Q!==void 0&&$(Q,Y))X.push(Y);else{if(X)yield X;X=[Y]}Q=Y}if(X)yield X}function SW(J,$){for(let X=0;X<=J.length;X++)$(X===0?void 0:J[X-1],X===J.length?void 0:J[X])}function XC(J,$){for(let X=0;X<J.length;X++)$(X===0?void 0:J[X-1],J[X],X+1===J.length?void 0:J[X+1])}function CW(J){return J.filter(($)=>!!$)}function qM(J){let $=0;for(let X=0;X<J.length;X++)if(J[X])J[$]=J[X],$+=1;J.length=$}function xW(J){return!Array.isArray(J)||J.length===0}function T9(J){return Array.isArray(J)&&J.length>0}function UJ(J,$=(X)=>X){const X=new Set;return J.filter((Q)=>{const Y=$(Q);if(X.has(Y))return!1;return X.add(Y),!0})}function f2(J,$){return J.length>0?J[0]:$}function k6(J,$){let X=typeof $==="number"?J:0;if(typeof $==="number")X=J;else X=0,$=J;const Q=[];if(X<=$)for(let Y=X;Y<$;Y++)Q.push(Y);else for(let Y=X;Y>$;Y--)Q.push(Y);return Q}function bQ(J,$,X){const Q=J.slice(0,$),Y=J.slice($);return Q.concat(X,Y)}function bW(J,$){const X=J.indexOf($);if(X>-1)J.splice(X,1),J.unshift($)}function aU(J,$){const X=J.indexOf($);if(X>-1)J.splice(X,1),J.push($)}function rU(J,$){for(let X of $)J.push(X)}function QC(J){return Array.isArray(J)?J:[J]}function G10(J,$,X){const Q=YC(J,$),Y=J.length,Z=X.length;J.length=Y+Z;for(let G=Y-1;G>=Q;G--)J[G+Z]=J[G];for(let G=0;G<Z;G++)J[G+Q]=X[G]}function UM(J,$,X,Q){const Y=YC(J,$);let Z=J.splice(Y,X);if(Z===void 0)Z=[];return G10(J,Y,Q),Z}function y5(J,$){return(X,Q)=>$(J(X),J(Q))}function ZC(...J){return($,X)=>{for(let Q of J){const Y=Q($,X);if(!sU.isNeitherLessOrGreaterThan(Y))return Y}return sU.neitherLessOrGreaterThan}}function qC(J){return($,X)=>-J($,X)}class n7{constructor(J){this.items=J,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(J){let $=this.firstIdx;while($<this.items.length&&J(this.items[$]))$++;const X=$===this.firstIdx?null:this.items.slice(this.firstIdx,$);return this.firstIdx=$,X}takeFromEndWhile(J){let $=this.lastIdx;while($>=0&&J(this.items[$]))$--;const X=$===this.lastIdx?null:this.items.slice($+1,this.lastIdx+1);return this.lastIdx=$,X}peek(){if(this.length===0)return;return this.items[this.firstIdx]}dequeue(){const J=this.items[this.firstIdx];return this.firstIdx++,J}takeCount(J){const $=this.items.slice(this.firstIdx,this.firstIdx+J);return this.firstIdx+=J,$}}class qJ{constructor(J){this.iterate=J}toArray(){const J=[];return this.iterate(($)=>{return J.push($),!0}),J}filter(J){return new qJ(($)=>this.iterate((X)=>J(X)?$(X):!0))}map(J){return new qJ(($)=>this.iterate((X)=>$(J(X))))}findLast(J){let $;return this.iterate((X)=>{if(J(X))$=X;return!0}),$}findLastMaxBy(J){let $,X=!0;return this.iterate((Q)=>{if(X||sU.isGreaterThan(J(Q,$)))X=!1,$=Q;return!0}),$}}var YC,sU,zX,GC;var H1=N(()=>{YC=function(J,$){return $<0?Math.max($+J.length,0):Math.min($,J.length)};(function(J){function $(Z){return Z<0}J.isLessThan=$;function X(Z){return Z<=0}J.isLessThanOrEqual=X;function Q(Z){return Z>0}J.isGreaterThan=Q;function Y(Z){return Z===0}J.isNeitherLessOrGreaterThan=Y,J.greaterThan=1,J.lessThan=-1,J.neitherLessOrGreaterThan=0})(sU||(sU={}));zX=(J,$)=>J-$,GC=(J,$)=>zX(J?1:0,$?1:0);qJ.empty=new qJ((J)=>{})});function G6(J){return typeof J==="string"}function n8(J){return typeof J==="object"&&J!==null&&!Array.isArray(J)&&!(J instanceof RegExp)&&!(J instanceof Date)}function UC(J){const $=Object.getPrototypeOf(Uint8Array);return typeof J==="object"&&J instanceof $}function $9(J){return typeof J==="number"&&!isNaN(J)}function HM(J){return!!J&&typeof J[Symbol.iterator]==="function"}function vW(J){return J===!0||J===!1}function e6(J){return typeof J==="undefined"}function VX(J){return!D7(J)}function D7(J){return e6(J)||J===null}function q6(J,$){if(!J)throw new Error($?`Unexpected type, expected '${$}'`:"Unexpected type")}function fW(J){if(D7(J))throw new Error("Assertion Failed: argument is undefined or null");return J}function h2(J){return typeof J==="function"}function HC(J,$){const X=Math.min(J.length,$.length);for(let Q=0;Q<X;Q++)q10(J[Q],$[Q])}function q10(J,$){if(G6($)){if(typeof J!==$)throw new Error(`argument does not match constraint: typeof ${$}`)}else if(h2($)){try{if(J instanceof $)return}catch(X){}if(!D7(J)&&J.constructor===$)return;if($.length===1&&$.call(void 0,J)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}var G8=N(()=>{});function n4(J){if(!J||typeof J!=="object")return J;if(J instanceof RegExp)return J;const $=Array.isArray(J)?[]:{};return Object.entries(J).forEach(([X,Q])=>{$[X]=Q&&typeof Q==="object"?n4(Q):Q}),$}function zC(J){if(!J||typeof J!=="object")return J;const $=[J];while($.length>0){const X=$.shift();Object.freeze(X);for(let Q in X)if(VC.call(X,Q)){const Y=X[Q];if(typeof Y==="object"&&!Object.isFrozen(Y)&&!UC(Y))$.push(Y)}}return J}function hW(J,$){return zM(J,$,new Set)}function VM(J,$,X=!0){if(!n8(J))return $;if(n8($))Object.keys($).forEach((Q)=>{if(Q in J){if(X)if(n8(J[Q])&&n8($[Q]))VM(J[Q],$[Q],X);else J[Q]=$[Q]}else J[Q]=$[Q]});return J}function I6(J,$){if(J===$)return!0;if(J===null||J===void 0||$===null||$===void 0)return!1;if(typeof J!==typeof $)return!1;if(typeof J!=="object")return!1;if(Array.isArray(J)!==Array.isArray($))return!1;let X,Q;if(Array.isArray(J)){if(J.length!==$.length)return!1;for(X=0;X<J.length;X++)if(!I6(J[X],$[X]))return!1}else{const Y=[];for(Q in J)Y.push(Q);Y.sort();const Z=[];for(Q in $)Z.push(Q);if(Z.sort(),!I6(Y,Z))return!1;for(X=0;X<Y.length;X++)if(!I6(J[Y[X]],$[Y[X]]))return!1}return!0}function U10(J){let $=[];while(Object.prototype!==J)$=$.concat(Object.getOwnPropertyNames(J)),J=Object.getPrototypeOf(J);return $}function vQ(J){const $=[];for(let X of U10(J))if(typeof J[X]==="function")$.push(X);return $}function jC(J,$){const X=(Y)=>{return function(){const Z=Array.prototype.slice.call(arguments,0);return $(Y,Z)}},Q={};for(let Y of J)Q[Y]=X(Y);return Q}var zM,VC;var B5=N(()=>{G8();zM=function(J,$,X){if(D7(J))return J;const Q=$(J);if(typeof Q!=="undefined")return Q;if(Array.isArray(J)){const Y=[];for(let Z of J)Y.push(zM(Z,$,X));return Y}if(n8(J)){if(X.has(J))throw new Error("Cannot clone recursive data-structure");X.add(J);const Y={};for(let Z in J)if(VC.call(J,Z))Y[Z]=zM(J[Z],$,X);return X.delete(J),Y}return J};VC=Object.prototype.hasOwnProperty});function F(J,$,...X){return z10($,X)}function WC(J){return}var z10,H10;var h0=N(()=>{z10=function(J,$){let X;if($.length===0)X=J;else X=J.replace(/\{(\d+)\}/g,(Q,Y)=>{const Z=Y[0],G=$[Z];let q=Q;if(typeof G==="string")q=G;else if(typeof G==="number"||typeof G==="boolean"||G===void 0||G===null)q=String(G);return q});if(H10)X="\uFF3B"+X.replace(/[aouei]/g,"$&$&")+"\uFF3D";return X};H10=typeof document!=="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0});function MC(){if(!KC){KC=!0;const J=new Uint8Array(2);J[0]=1,J[1]=2,FC=new Uint16Array(J.buffer)[0]===(2<<8)+1}return FC}var jM,g2,oU,tU,nU,V10,AC,FM,j10,KM,W10,PC,gW,WM,BC,B10,oJ,WX,o7,DC,F10,BM,k8,a0,B8,fQ,t4,K10,RC,N9,pW,o4,A10,mW,C7,FC,KC,AM,OC,TC,NC,_C;var O1=N(()=>{h0();g2="en",oU=!1,tU=!1,nU=!1,V10=!1,AC=!1,FM=!1,j10=!1,KM=!1,W10=!1,PC=!1,gW=void 0,WM=g2,BC=g2,B10=void 0,oJ=void 0,WX=globalThis,o7=void 0;if(typeof WX.vscode!=="undefined"&&typeof WX.vscode.process!=="undefined")o7=WX.vscode.process;else if(typeof process!=="undefined")o7=process;DC=typeof((jM=o7===null||o7===void 0?void 0:o7.versions)===null||jM===void 0?void 0:jM.electron)==="string",F10=DC&&(o7===null||o7===void 0?void 0:o7.type)==="renderer";if(typeof o7==="object"){oU=o7.platform==="win32",tU=o7.platform==="darwin",nU=o7.platform==="linux",V10=nU&&!!o7.env.SNAP&&!!o7.env.SNAP_REVISION,j10=DC,W10=!!o7.env.CI||!!o7.env.BUILD_ARTIFACTSTAGINGDIRECTORY,gW=g2,WM=g2;const J=o7.env.VSCODE_NLS_CONFIG;if(J)try{const $=JSON.parse(J),X=$.availableLanguages["*"];gW=$.locale,BC=$.osLocale,WM=X?X:g2,B10=$._translationsConfigFile}catch($){}AC=!0}else if(typeof navigator==="object"&&!F10)oJ=navigator.userAgent,oU=oJ.indexOf("Windows")>=0,tU=oJ.indexOf("Macintosh")>=0,KM=(oJ.indexOf("Macintosh")>=0||oJ.indexOf("iPad")>=0||oJ.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,nU=oJ.indexOf("Linux")>=0,PC=(oJ===null||oJ===void 0?void 0:oJ.indexOf("Mobi"))>=0,FM=!0,gW=WC(F({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||g2,WM=gW,BC=navigator.language;else console.error("Unable to resolve platform.");BM=0;if(tU)BM=1;else if(oU)BM=3;else if(nU)BM=2;k8=oU,a0=tU,B8=nU,fQ=AC,t4=FM,K10=FM&&typeof WX.importScripts==="function",RC=K10?WX.origin:void 0,N9=KM,pW=PC,o4=oJ,A10=typeof WX.postMessage==="function"&&!WX.importScripts,mW=(()=>{if(A10){const J=[];WX.addEventListener("message",(X)=>{if(X.data&&X.data.vscodeScheduleAsyncWork)for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.id===X.data.vscodeScheduleAsyncWork){J.splice(Q,1),Z.callback();return}}});let $=0;return(X)=>{const Q=++$;J.push({id:Q,callback:X}),WX.postMessage({vscodeScheduleAsyncWork:Q},"*")}}return(J)=>setTimeout(J)})(),C7=tU||KM?2:oU?1:3,FC=!0,KC=!1,AM=!!(o4&&o4.indexOf("Chrome")>=0),OC=!!(o4&&o4.indexOf("Firefox")>=0),TC=!!(!AM&&(o4&&o4.indexOf("Safari")>=0)),NC=!!(o4&&o4.indexOf("Edg/")>=0),_C=!!(o4&&o4.indexOf("Android")>=0)});var P6;var eU=N(()=>{P6={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}});var W1;var _9=N(()=>{(function(J){function $(R){return R&&typeof R==="object"&&typeof R[Symbol.iterator]==="function"}J.is=$;const X=Object.freeze([]);function Q(){return X}J.empty=Q;function*Y(R){yield R}J.single=Y;function Z(R){if($(R))return R;else return Y(R)}J.wrap=Z;function G(R){return R||X}J.from=G;function*q(R){for(let M=R.length-1;M>=0;M--)yield R[M]}J.reverse=q;function U(R){return!R||R[Symbol.iterator]().next().done===!0}J.isEmpty=U;function H(R){return R[Symbol.iterator]().next().value}J.first=H;function z(R,M){for(let O of R)if(M(O))return!0;return!1}J.some=z;function V(R,M){for(let O of R)if(M(O))return O;return}J.find=V;function*j(R,M){for(let O of R)if(M(O))yield O}J.filter=j;function*W(R,M){let O=0;for(let _ of R)yield M(_,O++)}J.map=W;function*B(...R){for(let M of R)yield*M}J.concat=B;function K(R,M,O){let _=O;for(let w of R)_=M(_,w);return _}J.reduce=K;function*P(R,M,O=R.length){if(M<0)M+=R.length;if(O<0)O+=R.length;else if(O>R.length)O=R.length;for(;M<O;M++)yield R[M]}J.slice=P;function A(R,M=Number.POSITIVE_INFINITY){const O=[];if(M===0)return[O,R];const _=R[Symbol.iterator]();for(let w=0;w<M;w++){const C=_.next();if(C.done)return[O,J.empty()];O.push(C.value)}return[O,{[Symbol.iterator](){return _}}]}J.consume=A;async function D(R){const M=[];for await(let O of R)M.push(O);return Promise.resolve(M)}J.asyncToArray=D})(W1||(W1={}))});class p8{constructor(J){this.element=J,this.next=p8.Undefined,this.prev=p8.Undefined}}class I8{constructor(){this._first=p8.Undefined,this._last=p8.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===p8.Undefined}clear(){let J=this._first;while(J!==p8.Undefined){const $=J.next;J.prev=p8.Undefined,J.next=p8.Undefined,J=$}this._first=p8.Undefined,this._last=p8.Undefined,this._size=0}unshift(J){return this._insert(J,!1)}push(J){return this._insert(J,!0)}_insert(J,$){const X=new p8(J);if(this._first===p8.Undefined)this._first=X,this._last=X;else if($){const Y=this._last;this._last=X,X.prev=Y,Y.next=X}else{const Y=this._first;this._first=X,X.next=Y,Y.prev=X}this._size+=1;let Q=!1;return()=>{if(!Q)Q=!0,this._remove(X)}}shift(){if(this._first===p8.Undefined)return;else{const J=this._first.element;return this._remove(this._first),J}}pop(){if(this._last===p8.Undefined)return;else{const J=this._last.element;return this._remove(this._last),J}}_remove(J){if(J.prev!==p8.Undefined&&J.next!==p8.Undefined){const $=J.prev;$.next=J.next,J.next.prev=$}else if(J.prev===p8.Undefined&&J.next===p8.Undefined)this._first=p8.Undefined,this._last=p8.Undefined;else if(J.next===p8.Undefined)this._last=this._last.prev,this._last.next=p8.Undefined;else if(J.prev===p8.Undefined)this._first=this._first.next,this._first.prev=p8.Undefined;this._size-=1}*[Symbol.iterator](){let J=this._first;while(J!==p8.Undefined)yield J.element,J=J.next}}var w9=N(()=>{p8.Undefined=new p8(void 0)});function $H(J){let $=JH;if(J&&J instanceof RegExp)if(!J.global){let X="g";if(J.ignoreCase)X+="i";if(J.multiline)X+="m";if(J.unicode)X+="u";$=new RegExp(J.source,X)}else $=J;return $.lastIndex=0,$}function hQ(J,$,X,Q,Y){if($=$H($),!Y)Y=W1.first(wC);if(X.length>Y.maxLen){let H=J-Y.maxLen/2;if(H<0)H=0;else Q+=H;return X=X.substring(H,J+Y.maxLen/2),hQ(J,$,X,Q,Y)}const Z=Date.now(),G=J-1-Q;let q=-1,U=null;for(let H=1;;H++){if(Date.now()-Z>=Y.timeBudget)break;const z=G-Y.windowSize*H;$.lastIndex=Math.max(0,z);const V=D10($,X,G,q);if(!V&&U)break;if(U=V,z<=0)break;q=z}if(U){const H={word:U[0],startColumn:Q+1+U.index,endColumn:Q+1+U.index+U[0].length};return $.lastIndex=0,H}return null}var P10,D10,PM,JH,wC;var p2=N(()=>{_9();w9();P10=function(J=""){let $="(-?\\d*\\.\\d\\w*)|([^";for(let X of PM){if(J.indexOf(X)>=0)continue;$+="\\"+X}return $+="\\s]+)",new RegExp($,"g")};D10=function(J,$,X,Q){let Y;while(Y=J.exec($)){const Z=Y.index||0;if(Z<=X&&J.lastIndex>=X)return Y;else if(Q>0&&Z>Q)return null}return null},PM='`~!@#$%^&*()-=+[{]}\\|;:\'",.<>/?',JH=P10(),wC=new I8;wC.unshift({maxLen:1000,windowSize:15,timeBudget:150})});function T0(J,$){if(typeof J==="undefined")return $;if(J==="false")return!1;return Boolean(J)}function gQ(J,$,X,Q){if(typeof J==="undefined")return $;let Y=parseInt(J,10);if(isNaN(Y))return $;return Y=Math.max(X,Y),Y=Math.min(Q,Y),Y|0}function EC(J,$,X,Q){if(typeof J==="undefined")return $;const Y=zJ.float(J,$);return zJ.clamp(Y,X,Q)}function y8(J,$,X,Q){if(typeof J!=="string")return $;if(Q&&J in Q)return Q[J];if(X.indexOf(J)===-1)return $;return J}function EZ(J){const $=J.get(97);if($==="editable")return J.get(90);return $==="on"?!1:!0}class QH{constructor(J){this._values=J}hasChanged(J){return this._values[J]}}class uW{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class z8{constructor(J,$,X,Q){this.id=J,this.name=$,this.defaultValue=X,this.schema=Q}applyUpdate(J,$){return cW(J,$)}compute(J,$,X){return X}}class _Z{constructor(J,$){this.newValue=J,this.didChange=$}}class u2{constructor(J){this.schema=void 0,this.id=J,this.name="_never_",this.defaultValue=void 0}applyUpdate(J,$){return cW(J,$)}validate(J){return this.defaultValue}}class LZ{constructor(J,$,X,Q){this.id=J,this.name=$,this.defaultValue=X,this.schema=Q}applyUpdate(J,$){return cW(J,$)}validate(J){if(typeof J==="undefined")return this.defaultValue;return J}compute(J,$,X){return X}}class R1 extends LZ{constructor(J,$,X,Q=void 0){if(typeof Q!=="undefined")Q.type="boolean",Q.default=X;super(J,$,X,Q)}validate(J){return T0(J,this.defaultValue)}}class a1 extends LZ{static clampedInt(J,$,X,Q){return gQ(J,$,X,Q)}constructor(J,$,X,Q,Y,Z=void 0){if(typeof Z!=="undefined")Z.type="integer",Z.default=X,Z.minimum=Q,Z.maximum=Y;super(J,$,X,Z);this.minimum=Q,this.maximum=Y}validate(J){return a1.clampedInt(J,this.defaultValue,this.minimum,this.maximum)}}class zJ extends LZ{static clamp(J,$,X){if(J<$)return $;if(J>X)return X;return J}static float(J,$){if(typeof J==="number")return J;if(typeof J==="undefined")return $;const X=parseFloat(J);return isNaN(X)?$:X}constructor(J,$,X,Q,Y){if(typeof Y!=="undefined")Y.type="number",Y.default=X;super(J,$,X,Y);this.validationFn=Q}validate(J){return this.validationFn(zJ.float(J,this.defaultValue))}}class F5 extends LZ{static string(J,$){if(typeof J!=="string")return $;return J}constructor(J,$,X,Q=void 0){if(typeof Q!=="undefined")Q.type="string",Q.default=X;super(J,$,X,Q)}validate(J){return F5.string(J,this.defaultValue)}}class F8 extends LZ{constructor(J,$,X,Q,Y=void 0){if(typeof Y!=="undefined")Y.type="string",Y.enum=Q,Y.default=X;super(J,$,X,Y);this._allowedValues=Q}validate(J){return y8(J,this.defaultValue,this._allowedValues)}}class XH extends z8{constructor(J,$,X,Q,Y,Z,G=void 0){if(typeof G!=="undefined")G.type="string",G.enum=Y,G.default=Q;super(J,$,X,G);this._allowedValues=Y,this._convert=Z}validate(J){if(typeof J!=="string")return this.defaultValue;if(this._allowedValues.indexOf(J)===-1)return this.defaultValue;return this._convert(J)}}class kC extends z8{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[F("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),F("accessibilitySupport.on","Optimize for usage with a Screen Reader."),F("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:F("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(J){switch(J){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(J,$,X){if(X===0)return J.accessibilitySupport;return X}}class IC extends z8{constructor(){const J={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",J,{"editor.comments.insertSpace":{type:"boolean",default:J.insertSpace,description:F("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:J.ignoreEmptyLines,description:F("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{insertSpace:T0($.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:T0($.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}class yC extends u2{constructor(){super(140)}compute(J,$,X){const Q=["monaco-editor"];if($.get(39))Q.push($.get(39));if(J.extraEditorClassName)Q.push(J.extraEditorClassName);if($.get(73)==="default")Q.push("mouse-default");else if($.get(73)==="copy")Q.push("mouse-copy");if($.get(110))Q.push("showUnused");if($.get(138))Q.push("showDeprecated");return Q.join(" ")}}class SC extends R1{constructor(){super(37,"emptySelectionClipboard",!0,{description:F("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(J,$,X){return X&&J.emptySelectionClipboard}}class CC extends z8{constructor(){const J={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",J,{"editor.find.cursorMoveOnType":{type:"boolean",default:J.cursorMoveOnType,description:F("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:J.seedSearchStringFromSelection,enumDescriptions:[F("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),F("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),F("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:F("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:J.autoFindInSelection,enumDescriptions:[F("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),F("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),F("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:F("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:J.globalFindClipboard,description:F("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:a0},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:J.addExtraSpaceOnTop,description:F("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:J.loop,description:F("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{cursorMoveOnType:T0($.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof J.seedSearchStringFromSelection==="boolean"?J.seedSearchStringFromSelection?"always":"never":y8($.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof J.autoFindInSelection==="boolean"?J.autoFindInSelection?"always":"never":y8($.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:T0($.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:T0($.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:T0($.loop,this.defaultValue.loop)}}}class t7 extends z8{constructor(){super(51,"fontLigatures",t7.OFF,{anyOf:[{type:"boolean",description:F("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:F("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:F("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false"||J.length===0)return t7.OFF;if(J==="true")return t7.ON;return J}if(Boolean(J))return t7.ON;return t7.OFF}}class HJ extends z8{constructor(){super(54,"fontVariations",HJ.OFF,{anyOf:[{type:"boolean",description:F("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:F("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:F("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(J){if(typeof J==="undefined")return this.defaultValue;if(typeof J==="string"){if(J==="false")return HJ.OFF;if(J==="true")return HJ.TRANSLATE;return J}if(Boolean(J))return HJ.TRANSLATE;return HJ.OFF}compute(J,$,X){return J.fontInfo.fontVariationSettings}}class xC extends u2{constructor(){super(50)}compute(J,$,X){return J.fontInfo}}class bC extends LZ{constructor(){super(52,"fontSize",e7.fontSize,{type:"number",minimum:6,maximum:100,default:e7.fontSize,description:F("fontSize","Controls the font size in pixels.")})}validate(J){const $=zJ.float(J,this.defaultValue);if($===0)return e7.fontSize;return zJ.clamp($,6,100)}compute(J,$,X){return J.fontInfo.fontSize}}class e4 extends z8{constructor(){super(53,"fontWeight",e7.fontWeight,{anyOf:[{type:"number",minimum:e4.MINIMUM_VALUE,maximum:e4.MAXIMUM_VALUE,errorMessage:F("fontWeightErrorMessage","Only \"normal\" and \"bold\" keywords or numbers between 1 and 1000 are allowed.")},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:e4.SUGGESTION_VALUES}],default:e7.fontWeight,description:F("fontWeight","Controls the font weight. Accepts \"normal\" and \"bold\" keywords or numbers between 1 and 1000.")})}validate(J){if(J==="normal"||J==="bold")return J;return String(a1.clampedInt(J,e7.fontWeight,e4.MINIMUM_VALUE,e4.MAXIMUM_VALUE))}}class vC extends z8{constructor(){const J={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$={type:"string",enum:["peek","gotoAndPeek","goto"],default:J.multiple,enumDescriptions:[F("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),F("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),F("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},X=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",J,{"editor.gotoLocation.multiple":{deprecationMessage:F("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:F("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleTypeDefinitions":{description:F("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleDeclarations":{description:F("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleImplementations":{description:F("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...$},"editor.gotoLocation.multipleReferences":{description:F("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...$},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:J.alternativeDefinitionCommand,enum:X,description:F("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:J.alternativeTypeDefinitionCommand,enum:X,description:F("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:J.alternativeDeclarationCommand,enum:X,description:F("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:J.alternativeImplementationCommand,enum:X,description:F("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:J.alternativeReferenceCommand,enum:X,description:F("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(J){var $,X,Q,Y,Z;if(!J||typeof J!=="object")return this.defaultValue;const G=J;return{multiple:y8(G.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:($=G.multipleDefinitions)!==null&&$!==void 0?$:y8(G.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(X=G.multipleTypeDefinitions)!==null&&X!==void 0?X:y8(G.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Q=G.multipleDeclarations)!==null&&Q!==void 0?Q:y8(G.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Y=G.multipleImplementations)!==null&&Y!==void 0?Y:y8(G.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Z=G.multipleReferences)!==null&&Z!==void 0?Z:y8(G.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:F5.string(G.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:F5.string(G.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:F5.string(G.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:F5.string(G.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:F5.string(G.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class fC extends z8{constructor(){const J={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",J,{"editor.hover.enabled":{type:"boolean",default:J.enabled,description:F("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:J.delay,minimum:0,maximum:1e4,description:F("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:J.sticky,description:F("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:J.hidingDelay,description:F("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:J.above,description:F("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),delay:a1.clampedInt($.delay,this.defaultValue.delay,0,1e4),sticky:T0($.sticky,this.defaultValue.sticky),hidingDelay:a1.clampedInt($.hidingDelay,this.defaultValue.hidingDelay,0,600000),above:T0($.above,this.defaultValue.above)}}}class wZ extends u2{constructor(){super(143)}compute(J,$,X){return wZ.computeLayout($,{memory:J.memory,outerWidth:J.outerWidth,outerHeight:J.outerHeight,isDominatedByLongLines:J.isDominatedByLongLines,lineHeight:J.fontInfo.lineHeight,viewLineCount:J.viewLineCount,lineNumbersDigitCount:J.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:J.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:J.fontInfo.maxDigitWidth,pixelRatio:J.pixelRatio,glyphMarginDecorationLaneCount:J.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(J){const $=J.height/J.lineHeight,X=Math.floor(J.paddingTop/J.lineHeight);let Q=Math.floor(J.paddingBottom/J.lineHeight);if(J.scrollBeyondLastLine)Q=Math.max(Q,$-1);const Y=(X+J.viewLineCount+Q)/(J.pixelRatio*J.height),Z=Math.floor(J.viewLineCount/Y);return{typicalViewportLineCount:$,extraLinesBeforeFirstLine:X,extraLinesBeyondLastLine:Q,desiredRatio:Y,minimapLineCount:Z}}static _computeMinimapLayout(J,$){const{outerWidth:X,outerHeight:Q,pixelRatio:Y}=J;if(!J.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Y*Q),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Q};const Z=$.stableMinimapLayoutInput,G=Z&&J.outerHeight===Z.outerHeight&&J.lineHeight===Z.lineHeight&&J.typicalHalfwidthCharacterWidth===Z.typicalHalfwidthCharacterWidth&&J.pixelRatio===Z.pixelRatio&&J.scrollBeyondLastLine===Z.scrollBeyondLastLine&&J.paddingTop===Z.paddingTop&&J.paddingBottom===Z.paddingBottom&&J.minimap.enabled===Z.minimap.enabled&&J.minimap.side===Z.minimap.side&&J.minimap.size===Z.minimap.size&&J.minimap.showSlider===Z.minimap.showSlider&&J.minimap.renderCharacters===Z.minimap.renderCharacters&&J.minimap.maxColumn===Z.minimap.maxColumn&&J.minimap.scale===Z.minimap.scale&&J.verticalScrollbarWidth===Z.verticalScrollbarWidth&&J.isViewportWrapping===Z.isViewportWrapping,q=J.lineHeight,U=J.typicalHalfwidthCharacterWidth,H=J.scrollBeyondLastLine,z=J.minimap.renderCharacters;let V=Y>=2?Math.round(J.minimap.scale*2):J.minimap.scale;const j=J.minimap.maxColumn,W=J.minimap.size,B=J.minimap.side,K=J.verticalScrollbarWidth,P=J.viewLineCount,A=J.remainingWidth,D=J.isViewportWrapping,R=z?2:3;let M=Math.floor(Y*Q);const O=M/Y;let _=!1,w=!1,C=R*V,x=V/Y,g=1;if(W==="fill"||W==="fit"){const{typicalViewportLineCount:R0,extraLinesBeforeFirstLine:_0,extraLinesBeyondLastLine:A0,desiredRatio:f0,minimapLineCount:l0}=wZ.computeContainedMinimapLineCount({viewLineCount:P,scrollBeyondLastLine:H,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:Q,lineHeight:q,pixelRatio:Y});if(P/l0>1)_=!0,w=!0,V=1,C=1,x=V/Y;else{let H0=!1,A7=V+1;if(W==="fit"){const h6=Math.ceil((_0+P+A0)*C);if(D&&G&&A<=$.stableFitRemainingWidth)H0=!0,A7=$.stableFitMaxMinimapScale;else H0=h6>M}if(W==="fill"||H0){_=!0;const h6=V;if(C=Math.min(q*Y,Math.max(1,Math.floor(1/f0))),D&&G&&A<=$.stableFitRemainingWidth)A7=$.stableFitMaxMinimapScale;if(V=Math.min(A7,Math.max(1,Math.floor(C/R))),V>h6)g=Math.min(2,V/h6);if(x=V/Y/g,M=Math.ceil(Math.max(R0,_0+P+A0)*C),D)$.stableMinimapLayoutInput=J,$.stableFitRemainingWidth=A,$.stableFitMaxMinimapScale=V;else $.stableMinimapLayoutInput=null,$.stableFitRemainingWidth=0}}}const c=Math.floor(j*x),b=Math.min(c,Math.max(0,Math.floor((A-K-2)*x/(U+x)))+FX);let u=Math.floor(Y*b);const i=u/Y;u=Math.floor(u*g);const Y0=z?1:2,P0=B==="left"?0:X-b-K;return{renderMinimap:Y0,minimapLeft:P0,minimapWidth:b,minimapHeightIsEditorHeight:_,minimapIsSampling:w,minimapScale:V,minimapLineHeight:C,minimapCanvasInnerWidth:u,minimapCanvasInnerHeight:M,minimapCanvasOuterWidth:i,minimapCanvasOuterHeight:O}}static computeLayout(J,$){const X=$.outerWidth|0,Q=$.outerHeight|0,Y=$.lineHeight|0,Z=$.lineNumbersDigitCount|0,G=$.typicalHalfwidthCharacterWidth,q=$.maxDigitWidth,U=$.pixelRatio,H=$.viewLineCount,z=J.get(135),V=z==="inherit"?J.get(134):z,j=V==="inherit"?J.get(130):V,W=J.get(133),B=$.isDominatedByLongLines,K=J.get(57),P=J.get(67).renderType!==0,A=J.get(68),D=J.get(104),R=J.get(83),M=J.get(72),O=J.get(102),_=O.verticalScrollbarSize,w=O.verticalHasArrows,C=O.arrowSize,x=O.horizontalScrollbarSize,g=J.get(43),c=J.get(109)!=="never";let b=J.get(65);if(g&&c)b+=16;let u=0;if(P){const y1=Math.max(Z,A);u=Math.round(y1*q)}let i=0;if(K)i=Y*$.glyphMarginDecorationLaneCount;let Y0=0,P0=Y0+i,R0=P0+u,_0=R0+b;const A0=X-i-u-b;let f0=!1,l0=!1,k0=-1;if(V==="inherit"&&B)f0=!0,l0=!0;else if(j==="on"||j==="bounded")l0=!0;else if(j==="wordWrapColumn")k0=W;const H0=wZ._computeMinimapLayout({outerWidth:X,outerHeight:Q,lineHeight:Y,typicalHalfwidthCharacterWidth:G,pixelRatio:U,scrollBeyondLastLine:D,paddingTop:R.top,paddingBottom:R.bottom,minimap:M,verticalScrollbarWidth:_,viewLineCount:H,remainingWidth:A0,isViewportWrapping:l0},$.memory||new uW);if(H0.renderMinimap!==0&&H0.minimapLeft===0)Y0+=H0.minimapWidth,P0+=H0.minimapWidth,R0+=H0.minimapWidth,_0+=H0.minimapWidth;const A7=A0-H0.minimapWidth,h6=Math.max(1,Math.floor((A7-_-2)/G)),P7=w?C:0;if(l0){if(k0=Math.max(1,h6),j==="bounded")k0=Math.min(k0,W)}return{width:X,height:Q,glyphMarginLeft:Y0,glyphMarginWidth:i,glyphMarginDecorationLaneCount:$.glyphMarginDecorationLaneCount,lineNumbersLeft:P0,lineNumbersWidth:u,decorationsLeft:R0,decorationsWidth:b,contentLeft:_0,contentWidth:A7,minimap:H0,viewportColumn:h6,isWordWrapMinified:f0,isViewportWrapping:l0,wrappingColumn:k0,verticalScrollbarWidth:_,horizontalScrollbarHeight:x,overviewRuler:{top:P7,width:_,height:Q-2*P7,right:0}}}}class hC extends z8{constructor(){super(137,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[F("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),F("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:F("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(J){return y8(J,"simple",["simple","advanced"])}compute(J,$,X){if($.get(2)===2)return"advanced";return X}}class gC extends z8{constructor(){const J={enabled:BX.OnCode};super(64,"lightbulb",J,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[BX.Off,BX.OnCode,BX.On],default:J.enabled,enumDescriptions:[F("editor.lightbulb.enabled.off","Disable the code action menu."),F("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),F("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:F("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{enabled:y8(J.enabled,this.defaultValue.enabled,[BX.Off,BX.OnCode,BX.On])}}}class pC extends z8{constructor(){const J={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(114,"stickyScroll",J,{"editor.stickyScroll.enabled":{type:"boolean",default:J.enabled,description:F("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:J.maxLineCount,minimum:1,maximum:10,description:F("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:J.defaultModel,description:F("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:J.scrollWithEditor,description:F("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),maxLineCount:a1.clampedInt($.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:y8($.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:T0($.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class mC extends z8{constructor(){const J={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(139,"inlayHints",J,{"editor.inlayHints.enabled":{type:"string",default:J.enabled,description:F("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[F("editor.inlayHints.on","Inlay hints are enabled"),F("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",a0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",a0?"Ctrl+Option":"Ctrl+Alt"),F("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:J.fontSize,markdownDescription:F("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:J.fontFamily,markdownDescription:F("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:J.padding,description:F("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;if(typeof $.enabled==="boolean")$.enabled=$.enabled?"on":"off";return{enabled:y8($.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:a1.clampedInt($.fontSize,this.defaultValue.fontSize,0,100),fontFamily:F5.string($.fontFamily,this.defaultValue.fontFamily),padding:T0($.padding,this.defaultValue.padding)}}}class uC extends z8{constructor(){super(65,"lineDecorationsWidth",10)}validate(J){if(typeof J==="string"&&/^\d+(\.\d+)?ch$/.test(J))return-parseFloat(J.substring(0,J.length-2));else return a1.clampedInt(J,this.defaultValue,0,1000)}compute(J,$,X){if(X<0)return a1.clampedInt(-X*J.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1000);else return X}}class cC extends zJ{constructor(){super(66,"lineHeight",e7.lineHeight,(J)=>zJ.clamp(J,0,150),{markdownDescription:F("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(J,$,X){return J.fontInfo.lineHeight}}class lC extends z8{constructor(){const J={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(72,"minimap",J,{"editor.minimap.enabled":{type:"boolean",default:J.enabled,description:F("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:J.autohide,description:F("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[F("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),F("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),F("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:J.size,description:F("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:J.side,description:F("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:J.showSlider,description:F("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:J.scale,minimum:1,maximum:3,enum:[1,2,3],description:F("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:J.renderCharacters,description:F("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:J.maxColumn,description:F("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),autohide:T0($.autohide,this.defaultValue.autohide),size:y8($.size,this.defaultValue.size,["proportional","fill","fit"]),side:y8($.side,this.defaultValue.side,["right","left"]),showSlider:y8($.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:T0($.renderCharacters,this.defaultValue.renderCharacters),scale:a1.clampedInt($.scale,1,1,3),maxColumn:a1.clampedInt($.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}class dC extends z8{constructor(){super(83,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1000,description:F("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{top:a1.clampedInt($.top,0,0,1000),bottom:a1.clampedInt($.bottom,0,0,1000)}}}class sC extends z8{constructor(){const J={enabled:!0,cycle:!0};super(85,"parameterHints",J,{"editor.parameterHints.enabled":{type:"boolean",default:J.enabled,description:F("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:J.cycle,description:F("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),cycle:T0($.cycle,this.defaultValue.cycle)}}}class aC extends u2{constructor(){super(141)}compute(J,$,X){return J.pixelRatio}}class rC extends z8{constructor(){const J={other:"on",comments:"off",strings:"off"},$=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[F("on","Quick suggestions show inside the suggest widget"),F("inline","Quick suggestions show as ghost text"),F("off","Quick suggestions are disabled")]}];super(88,"quickSuggestions",J,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:$,default:J.strings,description:F("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:$,default:J.comments,description:F("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:$,default:J.other,description:F("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:J,markdownDescription:F("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")});this.defaultValue=J}validate(J){if(typeof J==="boolean"){const U=J?"on":"off";return{comments:U,strings:U,other:U}}if(!J||typeof J!=="object")return this.defaultValue;const{other:$,comments:X,strings:Q}=J,Y=["on","inline","off"];let Z,G,q;if(typeof $==="boolean")Z=$?"on":"off";else Z=y8($,this.defaultValue.other,Y);if(typeof X==="boolean")G=X?"on":"off";else G=y8(X,this.defaultValue.comments,Y);if(typeof Q==="boolean")q=Q?"on":"off";else q=y8(Q,this.defaultValue.strings,Y);return{other:Z,comments:G,strings:q}}}class iC extends z8{constructor(){super(67,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[F("lineNumbers.off","Line numbers are not rendered."),F("lineNumbers.on","Line numbers are rendered as absolute number."),F("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),F("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:F("lineNumbers","Controls the display of line numbers.")})}validate(J){let $=this.defaultValue.renderType,X=this.defaultValue.renderFn;if(typeof J!=="undefined")if(typeof J==="function")$=4,X=J;else if(J==="interval")$=3;else if(J==="relative")$=2;else if(J==="on")$=1;else $=0;return{renderType:$,renderFn:X}}}class nC extends z8{constructor(){const J=[],$={type:"number",description:F("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(101,"rulers",J,{type:"array",items:{anyOf:[$,{type:["object"],properties:{column:$,color:{type:"string",description:F("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:J,description:F("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(J){if(Array.isArray(J)){const $=[];for(let X of J)if(typeof X==="number")$.push({column:a1.clampedInt(X,0,0,1e4),color:null});else if(X&&typeof X==="object"){const Q=X;$.push({column:a1.clampedInt(Q.column,0,0,1e4),color:Q.color})}return $.sort((X,Q)=>X.column-Q.column),$}return this.defaultValue}}class oC extends z8{constructor(){super(91,"readOnlyMessage",void 0)}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return J}}class tC extends z8{constructor(){const J={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(102,"scrollbar",J,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),F("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),F("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[F("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),F("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),F("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:F("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:J.verticalScrollbarSize,description:F("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:J.horizontalScrollbarSize,description:F("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:J.scrollByPage,description:F("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:J.ignoreHorizontalScrollbarInContentHeight,description:F("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J,X=a1.clampedInt($.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1000),Q=a1.clampedInt($.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1000);return{arrowSize:a1.clampedInt($.arrowSize,this.defaultValue.arrowSize,0,1000),vertical:LC($.vertical,this.defaultValue.vertical),horizontal:LC($.horizontal,this.defaultValue.horizontal),useShadows:T0($.useShadows,this.defaultValue.useShadows),verticalHasArrows:T0($.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:T0($.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:T0($.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:T0($.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:X,horizontalSliderSize:a1.clampedInt($.horizontalSliderSize,X,0,1000),verticalScrollbarSize:Q,verticalSliderSize:a1.clampedInt($.verticalSliderSize,Q,0,1000),scrollByPage:T0($.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:T0($.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}class eC extends z8{constructor(){const J={nonBasicASCII:tJ,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:tJ,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(124,"unicodeHighlight",J,{[NZ.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tJ],default:J.nonBasicASCII,description:F("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[NZ.invisibleCharacters]:{restricted:!0,type:"boolean",default:J.invisibleCharacters,description:F("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[NZ.ambiguousCharacters]:{restricted:!0,type:"boolean",default:J.ambiguousCharacters,description:F("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[NZ.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tJ],default:J.includeComments,description:F("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[NZ.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,tJ],default:J.includeStrings,description:F("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[NZ.allowedCharacters]:{restricted:!0,type:"object",default:J.allowedCharacters,description:F("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[NZ.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:J.allowedLocales,description:F("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(J,$){let X=!1;if($.allowedCharacters&&J){if(!I6(J.allowedCharacters,$.allowedCharacters))J={...J,allowedCharacters:$.allowedCharacters},X=!0}if($.allowedLocales&&J){if(!I6(J.allowedLocales,$.allowedLocales))J={...J,allowedLocales:$.allowedLocales},X=!0}const Q=super.applyUpdate(J,$);if(X)return new _Z(Q.newValue,!0);return Q}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{nonBasicASCII:m2($.nonBasicASCII,tJ,[!0,!1,tJ]),invisibleCharacters:T0($.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:T0($.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:m2($.includeComments,tJ,[!0,!1,tJ]),includeStrings:m2($.includeStrings,tJ,[!0,!1,tJ]),allowedCharacters:this.validateBooleanMap(J.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(J.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(J,$){if(typeof J!=="object"||!J)return $;const X={};for(let[Q,Y]of Object.entries(J))if(Y===!0)X[Q]=!0;return X}}class Jx extends z8{constructor(){const J={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",J,{"editor.inlineSuggest.enabled":{type:"boolean",default:J.enabled,description:F("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:J.showToolbar,enum:["always","onHover","never"],enumDescriptions:[F("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),F("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),F("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:F("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:J.suppressSuggestions,description:F("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:J.fontFamily,description:F("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),mode:y8($.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:y8($.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:T0($.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:T0($.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:F5.string($.fontFamily,this.defaultValue.fontFamily)}}}class $x extends z8{constructor(){const J={enabled:P6.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:P6.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",J,{"editor.bracketPairColorization.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:J.independentColorPoolPerBracketType,description:F("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:T0($.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Xx extends z8{constructor(){const J={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",J,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairs.true","Enables bracket pair guides."),F("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),F("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:J.bracketPairs,description:F("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[F("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),F("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),F("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:J.bracketPairsHorizontal,description:F("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:J.highlightActiveBracketPair,description:F("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:J.indentation,description:F("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[F("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),F("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),F("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:J.highlightActiveIndentation,description:F("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{bracketPairs:m2($.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:m2($.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:T0($.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:T0($.indentation,this.defaultValue.indentation),highlightActiveIndentation:m2($.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}class Qx extends z8{constructor(){const J={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(117,"suggest",J,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[F("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),F("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:J.insertMode,description:F("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:J.filterGraceful,description:F("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:J.localityBonus,description:F("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:J.shareSuggestSelections,markdownDescription:F("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[F("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),F("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),F("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:J.selectionMode,markdownDescription:F("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:J.snippetsPreventQuickSuggestions,description:F("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:J.showIcons,description:F("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:J.showStatusBar,description:F("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:J.preview,description:F("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:J.showInlineDetails,description:F("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:F("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:F("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:F("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{insertMode:y8($.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:T0($.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:T0($.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:T0($.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:T0($.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:y8($.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:T0($.showIcons,this.defaultValue.showIcons),showStatusBar:T0($.showStatusBar,this.defaultValue.showStatusBar),preview:T0($.preview,this.defaultValue.preview),previewMode:y8($.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:T0($.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:T0($.showMethods,this.defaultValue.showMethods),showFunctions:T0($.showFunctions,this.defaultValue.showFunctions),showConstructors:T0($.showConstructors,this.defaultValue.showConstructors),showDeprecated:T0($.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:T0($.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:T0($.showFields,this.defaultValue.showFields),showVariables:T0($.showVariables,this.defaultValue.showVariables),showClasses:T0($.showClasses,this.defaultValue.showClasses),showStructs:T0($.showStructs,this.defaultValue.showStructs),showInterfaces:T0($.showInterfaces,this.defaultValue.showInterfaces),showModules:T0($.showModules,this.defaultValue.showModules),showProperties:T0($.showProperties,this.defaultValue.showProperties),showEvents:T0($.showEvents,this.defaultValue.showEvents),showOperators:T0($.showOperators,this.defaultValue.showOperators),showUnits:T0($.showUnits,this.defaultValue.showUnits),showValues:T0($.showValues,this.defaultValue.showValues),showConstants:T0($.showConstants,this.defaultValue.showConstants),showEnums:T0($.showEnums,this.defaultValue.showEnums),showEnumMembers:T0($.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:T0($.showKeywords,this.defaultValue.showKeywords),showWords:T0($.showWords,this.defaultValue.showWords),showColors:T0($.showColors,this.defaultValue.showColors),showFiles:T0($.showFiles,this.defaultValue.showFiles),showReferences:T0($.showReferences,this.defaultValue.showReferences),showFolders:T0($.showFolders,this.defaultValue.showFolders),showTypeParameters:T0($.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:T0($.showSnippets,this.defaultValue.showSnippets),showUsers:T0($.showUsers,this.defaultValue.showUsers),showIssues:T0($.showIssues,this.defaultValue.showIssues)}}}class Yx extends z8{constructor(){super(112,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:F("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:F("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;return{selectLeadingAndTrailingWhitespace:T0(J.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:T0(J.selectSubwords,this.defaultValue.selectSubwords)}}}class Zx extends z8{constructor(){super(136,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[F("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),F("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),F("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),F("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:F("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(J){switch(J){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(J,$,X){if($.get(2)===2)return 0;return X}}class Gx extends u2{constructor(){super(144)}compute(J,$,X){const Q=$.get(143);return{isDominatedByLongLines:J.isDominatedByLongLines,isWordWrapMinified:Q.isWordWrapMinified,isViewportWrapping:Q.isViewportWrapping,wrappingColumn:Q.wrappingColumn}}}class qx extends z8{constructor(){const J={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",J,{"editor.dropIntoEditor.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:F("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[F("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),F("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),showDropSelector:y8($.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ux extends z8{constructor(){const J={enabled:!0,showPasteSelector:"afterPaste"};super(84,"pasteAs",J,{"editor.pasteAs.enabled":{type:"boolean",default:J.enabled,markdownDescription:F("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:F("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[F("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),F("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(J){if(!J||typeof J!=="object")return this.defaultValue;const $=J;return{enabled:T0($.enabled,this.defaultValue.enabled),showPasteSelector:y8($.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}var cW,R10,M10,O10,T10,LC,m2,e,FX,D6,BX,tJ,NZ,N10,_10,w10,e7,pQ,eJ;var J7=N(()=>{H1();B5();O1();eU();p2();h0();cW=function(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return new _Z($,J!==$);if(Array.isArray(J)||Array.isArray($)){const Q=Array.isArray(J)&&Array.isArray($)&&Q8(J,$);return new _Z($,!Q)}let X=!1;for(let Q in $)if($.hasOwnProperty(Q)){const Y=cW(J[Q],$[Q]);if(Y.didChange)J[Q]=Y.newValue,X=!0}return new _Z(J,X)};R10=function(J){switch(J){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},M10=function(J){switch(J){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},O10=function(J){switch(J){case"line":return D6.Line;case"block":return D6.Block;case"underline":return D6.Underline;case"line-thin":return D6.LineThin;case"block-outline":return D6.BlockOutline;case"underline-thin":return D6.UnderlineThin}},T10=function(J){if(J==="ctrlCmd")return a0?"metaKey":"ctrlKey";return"altKey"};LC=function(J,$){if(typeof J!=="string")return $;switch(J){case"hidden":return 2;case"visible":return 3;default:return 1}},m2=function(J,$,X){const Q=X.indexOf(J);if(Q===-1)return $;return X[Q]},e=function(J){return pQ[J.id]=J,J},FX=8;(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(D6||(D6={}));t7.OFF='"liga" off, "calt" off';t7.ON='"liga" on, "calt" on';HJ.OFF="normal";HJ.TRANSLATE="translate";e4.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];e4.MINIMUM_VALUE=1;e4.MAXIMUM_VALUE=1000;(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(BX||(BX={}));tJ="inUntrustedWorkspace",NZ={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};N10="Consolas, \'Courier New\', monospace",_10="Menlo, Monaco, \'Courier New\', monospace",w10="\'Droid Sans Mono\', \'monospace\', monospace",e7={fontFamily:a0?_10:B8?w10:N10,fontWeight:"normal",fontSize:a0?12:14,lineHeight:0,letterSpacing:0},pQ=[],eJ={acceptSuggestionOnCommitCharacter:e(new R1(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:F("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:e(new F8(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",F("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:F("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:e(new kC),accessibilityPageSize:e(new a1(3,"accessibilityPageSize",10,1,1073741824,{description:F("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:e(new F5(4,"ariaLabel",F("editorViewAccessibleLabel","Editor content"))),ariaRequired:e(new R1(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:e(new R1(8,"screenReaderAnnounceInlineSuggestion",!0,{description:F("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:e(new F8(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),F("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:F("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:e(new F8(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),F("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:F("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:e(new F8(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:e(new F8(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",F("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:F("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:e(new F8(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",F("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),F("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:F("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:e(new XH(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],R10,{enumDescriptions:[F("editor.autoIndent.none","The editor will not insert indentation automatically."),F("editor.autoIndent.keep","The editor will keep the current line's indentation."),F("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),F("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),F("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:F("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:e(new R1(13,"automaticLayout",!1)),autoSurround:e(new F8(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[F("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),F("editor.autoSurround.quotes","Surround with quotes but not brackets."),F("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:F("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:e(new $x),bracketPairGuides:e(new Xx),stickyTabStops:e(new R1(115,"stickyTabStops",!1,{description:F("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:e(new R1(17,"codeLens",!0,{description:F("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:e(new F5(18,"codeLensFontFamily","",{description:F("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:e(new a1(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:F("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:e(new R1(20,"colorDecorators",!0,{description:F("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:e(new F8(146,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[F("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),F("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),F("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:F("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:e(new a1(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:F("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:e(new R1(22,"columnSelection",!1,{description:F("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:e(new IC),contextmenu:e(new R1(24,"contextmenu",!0)),copyWithSyntaxHighlighting:e(new R1(25,"copyWithSyntaxHighlighting",!0,{description:F("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:e(new XH(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],M10,{description:F("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:e(new F8(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[F("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),F("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),F("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:F("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:e(new XH(28,"cursorStyle",D6.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],O10,{description:F("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:e(new a1(29,"cursorSurroundingLines",0,0,1073741824,{description:F("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:e(new F8(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[F("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),F("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:F("cursorSurroundingLinesStyle","Controls when `#cursorSurroundingLines#` should be enforced.")})),cursorWidth:e(new a1(31,"cursorWidth",0,0,1073741824,{markdownDescription:F("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:e(new R1(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:e(new R1(33,"disableMonospaceOptimizations",!1)),domReadOnly:e(new R1(34,"domReadOnly",!1)),dragAndDrop:e(new R1(35,"dragAndDrop",!0,{description:F("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:e(new SC),dropIntoEditor:e(new qx),stickyScroll:e(new pC),experimentalWhitespaceRendering:e(new F8(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[F("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),F("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),F("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:F("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:e(new F5(39,"extraEditorClassName","")),fastScrollSensitivity:e(new zJ(40,"fastScrollSensitivity",5,(J)=>J<=0?5:J,{markdownDescription:F("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:e(new CC),fixedOverflowWidgets:e(new R1(42,"fixedOverflowWidgets",!1)),folding:e(new R1(43,"folding",!0,{description:F("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:e(new F8(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[F("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),F("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:F("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:e(new R1(45,"foldingHighlight",!0,{description:F("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:e(new R1(46,"foldingImportsByDefault",!1,{description:F("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:e(new a1(47,"foldingMaximumRegions",5000,10,65000,{description:F("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:e(new R1(48,"unfoldOnClickAfterEndOfLine",!1,{description:F("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:e(new F5(49,"fontFamily",e7.fontFamily,{description:F("fontFamily","Controls the font family.")})),fontInfo:e(new xC),fontLigatures2:e(new t7),fontSize:e(new bC),fontWeight:e(new e4),fontVariations:e(new HJ),formatOnPaste:e(new R1(55,"formatOnPaste",!1,{description:F("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:e(new R1(56,"formatOnType",!1,{description:F("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:e(new R1(57,"glyphMargin",!0,{description:F("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:e(new vC),hideCursorInOverviewRuler:e(new R1(59,"hideCursorInOverviewRuler",!1,{description:F("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:e(new fC),inDiffEditor:e(new R1(61,"inDiffEditor",!1)),letterSpacing:e(new zJ(63,"letterSpacing",e7.letterSpacing,(J)=>zJ.clamp(J,-5,20),{description:F("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:e(new gC),lineDecorationsWidth:e(new uC),lineHeight:e(new cC),lineNumbers:e(new iC),lineNumbersMinChars:e(new a1(68,"lineNumbersMinChars",5,1,300)),linkedEditing:e(new R1(69,"linkedEditing",!1,{description:F("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:e(new R1(70,"links",!0,{description:F("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:e(new F8(71,"matchBrackets","always",["always","near","never"],{description:F("matchBrackets","Highlight matching brackets.")})),minimap:e(new lC),mouseStyle:e(new F8(73,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:e(new zJ(74,"mouseWheelScrollSensitivity",1,(J)=>J===0?1:J,{markdownDescription:F("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:e(new R1(75,"mouseWheelZoom",!1,{markdownDescription:a0?F("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):F("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:e(new R1(76,"multiCursorMergeOverlapping",!0,{description:F("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:e(new XH(77,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],T10,{markdownEnumDescriptions:[F("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:F({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:e(new F8(78,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[F("multiCursorPaste.spread","Each cursor pastes a single line of the text."),F("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:F("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:e(new a1(79,"multiCursorLimit",1e4,1,1e5,{markdownDescription:F("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:e(new F8(80,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[F("occurrencesHighlight.off","Does not highlight occurrences."),F("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),F("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:F("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:e(new R1(81,"overviewRulerBorder",!0,{description:F("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:e(new a1(82,"overviewRulerLanes",3,0,3)),padding:e(new dC),pasteAs:e(new Ux),parameterHints:e(new sC),peekWidgetDefaultFocus:e(new F8(86,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[F("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),F("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:F("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:e(new R1(87,"definitionLinkOpensInPeek",!1,{description:F("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:e(new rC),quickSuggestionsDelay:e(new a1(89,"quickSuggestionsDelay",10,0,1073741824,{description:F("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:e(new R1(90,"readOnly",!1)),readOnlyMessage:e(new oC),renameOnType:e(new R1(92,"renameOnType",!1,{description:F("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:F("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:e(new R1(93,"renderControlCharacters",!0,{description:F("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:e(new F8(94,"renderFinalNewline",B8?"dimmed":"on",["off","on","dimmed"],{description:F("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:e(new F8(95,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",F("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:F("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:e(new R1(96,"renderLineHighlightOnlyWhenFocus",!1,{description:F("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:e(new F8(97,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:e(new F8(98,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",F("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),F("renderWhitespace.selection","Render whitespace characters only on selected text."),F("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:F("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:e(new a1(99,"revealHorizontalRightPadding",15,0,1000)),roundedSelection:e(new R1(100,"roundedSelection",!0,{description:F("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:e(new nC),scrollbar:e(new tC),scrollBeyondLastColumn:e(new a1(103,"scrollBeyondLastColumn",4,0,1073741824,{description:F("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:e(new R1(104,"scrollBeyondLastLine",!0,{description:F("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:e(new R1(105,"scrollPredominantAxis",!0,{description:F("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:e(new R1(106,"selectionClipboard",!0,{description:F("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:B8})),selectionHighlight:e(new R1(107,"selectionHighlight",!0,{description:F("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:e(new R1(108,"selectOnLineNumbers",!0)),showFoldingControls:e(new F8(109,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[F("showFoldingControls.always","Always show the folding controls."),F("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),F("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:F("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:e(new R1(110,"showUnused",!0,{description:F("showUnused","Controls fading out of unused code.")})),showDeprecated:e(new R1(138,"showDeprecated",!0,{description:F("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:e(new mC),snippetSuggestions:e(new F8(111,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[F("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),F("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),F("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),F("snippetSuggestions.none","Do not show snippet suggestions.")],description:F("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:e(new Yx),smoothScrolling:e(new R1(113,"smoothScrolling",!1,{description:F("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:e(new a1(116,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:e(new Qx),inlineSuggest:e(new Jx),inlineCompletionsAccessibilityVerbose:e(new R1(147,"inlineCompletionsAccessibilityVerbose",!1,{description:F("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:e(new a1(118,"suggestFontSize",0,0,1000,{markdownDescription:F("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:e(new a1(119,"suggestLineHeight",0,0,1000,{markdownDescription:F("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:e(new R1(120,"suggestOnTriggerCharacters",!0,{description:F("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:e(new F8(121,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[F("suggestSelection.first","Always select the first suggestion."),F("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),F("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:F("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:e(new F8(122,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[F("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),F("tabCompletion.off","Disable tab completions."),F("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:F("tabCompletion","Enables tab completions.")})),tabIndex:e(new a1(123,"tabIndex",0,-1,1073741824)),unicodeHighlight:e(new eC),unusualLineTerminators:e(new F8(125,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[F("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),F("unusualLineTerminators.off","Unusual line terminators are ignored."),F("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:F("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:e(new R1(126,"useShadowDOM",!0)),useTabStops:e(new R1(127,"useTabStops",!0,{description:F("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:e(new F8(128,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[F("wordBreak.normal","Use the default line break rule."),F("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:F("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:e(new F5(129,"wordSeparators",PM,{description:F("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:e(new F8(130,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),F({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:F({key:"wordWrap",comment:["- \'off\', \'on\', \'wordWrapColumn\' and \'bounded\' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:e(new F5(131,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:e(new F5(132,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:e(new a1(133,"wordWrapColumn",80,1,1073741824,{markdownDescription:F({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- \'wordWrapColumn\' and \'bounded\' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:e(new F8(134,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:e(new F8(135,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:e(new yC),defaultColorDecorators:e(new R1(145,"defaultColorDecorators",!1,{markdownDescription:F("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:e(new aC),tabFocusMode:e(new R1(142,"tabFocusMode",!1,{markdownDescription:F("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:e(new wZ),wrappingInfo:e(new Gx),wrappingIndent:e(new Zx),wrappingStrategy:e(new hC)}});function n0(J){if(!$$(J))zx.onUnexpectedError(J);return}function J$(J){if(!$$(J))zx.onUnexpectedExternalError(J);return}function DM(J){if(J instanceof Error){const{name:$,message:X}=J,Q=J.stacktrace||J.stack;return{$isError:!0,name:$,message:X,stack:Q,noTelemetry:c2.isErrorNoTelemetry(J)}}return J}function $$(J){if(J instanceof KX)return!0;return J instanceof Error&&J.name===lW&&J.message===lW}function Vx(){const J=new Error(lW);return J.name=J.message,J}function J4(J){if(J)return new Error(`Illegal argument: ${J}`);else return new Error("Illegal argument")}function l2(J){if(J)return new Error(`Illegal state: ${J}`);else return new Error("Illegal state")}class Hx{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(J){setTimeout(()=>{if(J.stack){if(c2.isErrorNoTelemetry(J))throw new c2(J.message+"\n\n"+J.stack);throw new Error(J.message+"\n\n"+J.stack)}throw J},0)}}emit(J){this.listeners.forEach(($)=>{$(J)})}onUnexpectedError(J){this.unexpectedErrorHandler(J),this.emit(J)}onUnexpectedExternalError(J){this.unexpectedErrorHandler(J)}}class KX extends Error{constructor(){super(lW);this.name=this.message}}class RM extends Error{constructor(J){super("NotSupported");if(J)this.message=J}}class c2 extends Error{constructor(J){super(J);this.name="CodeExpectedError"}static fromError(J){if(J instanceof c2)return J;const $=new c2;return $.message=J.message,$.stack=J.stack,$}static isErrorNoTelemetry(J){return J.name==="CodeExpectedError"}}class b1 extends Error{constructor(J){super(J||"An unexpected bug occurred.");Object.setPrototypeOf(this,b1.prototype)}}var zx,lW;var D1=N(()=>{zx=new Hx,lW="Canceled"});function $4(J,$){const X=this;let Q=!1,Y;return function(){if(Q)return Y;if(Q=!0,$)try{Y=J.apply(X,arguments)}finally{$()}else Y=J.apply(X,arguments);return Y}}var d2=N(()=>{});function k10(J){S5=J}function kZ(J){return S5===null||S5===void 0||S5.trackDisposable(J),J}function IZ(J){S5===null||S5===void 0||S5.markAsDisposed(J)}function yZ(J){return S5===null||S5===void 0||S5.markAsSingleton(J),J}function sW(J){return typeof J.dispose==="function"&&J.dispose.length===0}function k1(J){if(W1.is(J)){const $=[];for(let X of J)if(X)try{X.dispose()}catch(Q){$.push(Q)}if($.length===1)throw $[0];else if($.length>1)throw new AggregateError($,"Encountered errors while disposing of store");return Array.isArray(J)?[]:J}else if(J)return J.dispose(),J}function x7(...J){const $=K0(()=>k1(J));return I10(J,$),$}function K0(J){const $=kZ({dispose:$4(()=>{IZ($),J()})});return $}class r{constructor(){this._toDispose=new Set,this._isDisposed=!1,kZ(this)}dispose(){if(this._isDisposed)return;IZ(this),this._isDisposed=!0,this.clear()}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size===0)return;try{k1(this._toDispose)}finally{this._toDispose.clear()}}add(J){if(!J)return J;if(J===this)throw new Error("Cannot register a disposable on itself!");if(dW(J,this),this._isDisposed){if(!r.DISABLE_DISPOSED_WARNING)console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack)}else this._toDispose.add(J);return J}deleteAndLeak(J){if(!J)return;if(this._toDispose.has(J))this._toDispose.delete(J),dW(J,null)}}class f{constructor(){this._store=new r,kZ(this),dW(this._store,this)}dispose(){IZ(this),this._store.dispose()}_register(J){if(J===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(J)}}class m6{constructor(){this._isDisposed=!1,kZ(this)}get value(){return this._isDisposed?void 0:this._value}set value(J){var $;if(this._isDisposed||J===this._value)return;if(($=this._value)===null||$===void 0||$.dispose(),J)dW(J,this);this._value=J}clear(){this.value=void 0}dispose(){var J;this._isDisposed=!0,IZ(this),(J=this._value)===null||J===void 0||J.dispose(),this._value=void 0}}class MM{constructor(J){this.object=J}dispose(){}}class SZ{constructor(){this._store=new Map,this._isDisposed=!1,kZ(this)}dispose(){IZ(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(!this._store.size)return;try{k1(this._store.values())}finally{this._store.clear()}}get(J){return this._store.get(J)}set(J,$,X=!1){var Q;if(this._isDisposed)console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack);if(!X)(Q=this._store.get(J))===null||Q===void 0||Q.dispose();this._store.set(J,$)}deleteAndDispose(J){var $;($=this._store.get(J))===null||$===void 0||$.dispose(),this._store.delete(J)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}var dW,I10,E10,S5;var X0=N(()=>{d2();_9();dW=function(J,$){S5===null||S5===void 0||S5.setParent(J,$)},I10=function(J,$){if(!S5)return;for(let X of J)S5.setParent(X,$)};E10=!1,S5=null;if(E10)k10(new class{trackDisposable($){const X=new Error("Potentially leaked disposable").stack;setTimeout(()=>{if(!$["__is_disposable_tracked__"])console.log(X)},3000)}setParent($,X){if($&&$!==f.None)try{$["__is_disposable_tracked__"]=!0}catch(Q){}}markAsDisposed($){if($&&$!==f.None)try{$["__is_disposable_tracked__"]=!0}catch(X){}}markAsSingleton($){}});r.DISABLE_DISPOSED_WARNING=!1;f.None=Object.freeze({dispose(){}})});class U6{static create(J){return new U6(J)}constructor(J){this._now=y10&&J===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){if(this._stopTime!==-1)return this._stopTime-this._startTime;return this._now()-this._startTime}}var y10;var X$=N(()=>{y10=globalThis.performance&&typeof globalThis.performance.now==="function"});class s2{constructor(J){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${J}_${s2._idPool++}`,s2.all.add(this)}start(J){this._stopWatch=new U6,this.listenerCount=J}stop(){if(this._stopWatch){const J=this._stopWatch.elapsed();this.durations.push(J),this.elapsedOverall+=J,this.invocationCount+=1,this._stopWatch=void 0}}}class Bx{constructor(J,$=Math.random().toString(18).slice(2,5)){this.threshold=J,this.name=$,this._warnCountdown=0}dispose(){var J;(J=this._stacks)===null||J===void 0||J.clear()}check(J,$){const X=this.threshold;if(X<=0||$<X)return;if(!this._stacks)this._stacks=new Map;const Q=this._stacks.get(J.value)||0;if(this._stacks.set(J.value,Q+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=X*0.5;let Y,Z=0;for(let[G,q]of this._stacks)if(!Y||Z<q)Y=G,Z=q;console.warn(`[${this.name}] potential listener LEAK detected, having ${$} listeners already. MOST frequent listener (${Z}):`),console.warn(Y)}return()=>{const Y=this._stacks.get(J.value)||0;this._stacks.set(J.value,Y-1)}}}class ZH{static create(){var J;return new ZH((J=new Error().stack)!==null&&J!==void 0?J:"")}constructor(J){this.value=J}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class YH{constructor(J){this.value=J}}class y{constructor(J){var $,X,Q,Y,Z;this._size=0,this._options=J,this._leakageMon=Wx>0||(($=this._options)===null||$===void 0?void 0:$.leakWarningThreshold)?new Bx((Q=(X=this._options)===null||X===void 0?void 0:X.leakWarningThreshold)!==null&&Q!==void 0?Q:Wx):void 0,this._perfMon=((Y=this._options)===null||Y===void 0?void 0:Y._profName)?new s2(this._options._profName):void 0,this._deliveryQueue=(Z=this._options)===null||Z===void 0?void 0:Z.deliveryQueue}dispose(){var J,$,X,Q;if(!this._disposed){if(this._disposed=!0,((J=this._deliveryQueue)===null||J===void 0?void 0:J.current)===this)this._deliveryQueue.reset();if(this._listeners){if(jx){const Y=this._listeners;queueMicrotask(()=>{x10(Y,(Z)=>{var G;return(G=Z.stack)===null||G===void 0?void 0:G.print()})})}this._listeners=void 0,this._size=0}(X=($=this._options)===null||$===void 0?void 0:$.onDidRemoveLastListener)===null||X===void 0||X.call($),(Q=this._leakageMon)===null||Q===void 0||Q.dispose()}}get event(){var J;return(J=this._event)!==null&&J!==void 0||(this._event=($,X,Q)=>{var Y,Z,G,q,U;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),f.None;if(this._disposed)return f.None;if(X)$=$.bind(X);const H=new YH($);let z,V;if(this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*0.2))H.stack=ZH.create(),z=this._leakageMon.check(H.stack,this._size+1);if(jx)H.stack=V!==null&&V!==void 0?V:ZH.create();if(!this._listeners)(Z=(Y=this._options)===null||Y===void 0?void 0:Y.onWillAddFirstListener)===null||Z===void 0||Z.call(Y,this),this._listeners=H,(q=(G=this._options)===null||G===void 0?void 0:G.onDidAddFirstListener)===null||q===void 0||q.call(G,this);else if(this._listeners instanceof YH)(U=this._deliveryQueue)!==null&&U!==void 0||(this._deliveryQueue=new OM),this._listeners=[this._listeners,H];else this._listeners.push(H);this._size++;const j=K0(()=>{z===null||z===void 0||z(),this._removeListener(H)});if(Q instanceof r)Q.add(j);else if(Array.isArray(Q))Q.push(j);return j}),this._event}_removeListener(J){var $,X,Q,Y;if((X=($=this._options)===null||$===void 0?void 0:$.onWillRemoveListener)===null||X===void 0||X.call($,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(Y=(Q=this._options)===null||Q===void 0?void 0:Q.onDidRemoveLastListener)===null||Y===void 0||Y.call(Q,this),this._size=0;return}const Z=this._listeners,G=Z.indexOf(J);if(G===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,Z[G]=void 0;const q=this._deliveryQueue.current===this;if(this._size*C10<=Z.length){let U=0;for(let H=0;H<Z.length;H++)if(Z[H])Z[U++]=Z[H];else if(q){if(this._deliveryQueue.end--,U<this._deliveryQueue.i)this._deliveryQueue.i--}Z.length=U}}_deliver(J,$){var X;if(!J)return;const Q=((X=this._options)===null||X===void 0?void 0:X.onListenerError)||n0;if(!Q){J.value($);return}try{J.value($)}catch(Y){Q(Y)}}_deliverQueue(J){const $=J.current._listeners;while(J.i<J.end)this._deliver($[J.i++],J.value);J.reset()}fire(J){var $,X,Q,Y;if(($=this._deliveryQueue)===null||$===void 0?void 0:$.current)this._deliverQueue(this._deliveryQueue),(X=this._perfMon)===null||X===void 0||X.stop();if((Q=this._perfMon)===null||Q===void 0||Q.start(this._size),!this._listeners);else if(this._listeners instanceof YH)this._deliver(this._listeners,J);else{const Z=this._deliveryQueue;Z.enqueue(this,J,this._listeners.length),this._deliverQueue(Z)}(Y=this._perfMon)===null||Y===void 0||Y.stop()}hasListeners(){return this._size>0}}class OM{constructor(){this.i=-1,this.end=0}enqueue(J,$,X){this.i=0,this.end=X,this.current=J,this.value=$}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class VJ extends y{constructor(J){super(J);this._isPaused=0,this._eventQueue=new I8,this._mergeFn=J===null||J===void 0?void 0:J.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const J=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(J))}}else while(!this._isPaused&&this._eventQueue.size!==0)super.fire(this._eventQueue.shift())}fire(J){if(this._size)if(this._isPaused!==0)this._eventQueue.push(J);else super.fire(J)}}class GH extends VJ{constructor(J){var $;super(J);this._delay=($=J.delay)!==null&&$!==void 0?$:100}fire(J){if(!this._handle)this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay);super.fire(J)}}class TM extends y{constructor(J){super(J);this._queuedEvents=[],this._mergeFn=J===null||J===void 0?void 0:J.merge}fire(J){if(!this.hasListeners())return;if(this._queuedEvents.push(J),this._queuedEvents.length===1)queueMicrotask(()=>{if(this._mergeFn)super.fire(this._mergeFn(this._queuedEvents));else this._queuedEvents.forEach(($)=>super.fire($));this._queuedEvents=[]})}}class NM{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new y({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(J){const $={event:J,listener:null};if(this.events.push($),this.hasListeners)this.hook($);return K0($4(()=>{if(this.hasListeners)this.unhook($);const Q=this.events.indexOf($);this.events.splice(Q,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((J)=>this.hook(J))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((J)=>this.unhook(J))}hook(J){J.listener=J.event(($)=>this.emitter.fire($))}unhook(J){if(J.listener)J.listener.dispose();J.listener=null}dispose(){this.emitter.dispose()}}class CZ{constructor(){this.buffers=[]}wrapEvent(J){return($,X,Q)=>{return J((Y)=>{const Z=this.buffers[this.buffers.length-1];if(Z)Z.push(()=>$.call(X,Y));else $.call(X,Y)},void 0,Q)}}bufferEvents(J){const $=[];this.buffers.push($);const X=J();return this.buffers.pop(),$.forEach((Q)=>Q()),X}}class aW{constructor(){this.listening=!1,this.inputEvent=J0.None,this.inputEventListener=f.None,this.emitter=new y({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(J){if(this.inputEvent=J,this.listening)this.inputEventListener.dispose(),this.inputEventListener=J(this.emitter.fire,this.emitter)}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}var jx,S10,J0,Wx,C10,x10,Fx;var F0=N(()=>{D1();d2();X0();w9();X$();jx=!1,S10=!1;(function(J){J.None=()=>f.None;function $(b){if(S10){const{onDidAddListener:u}=b,i=ZH.create();let Y0=0;b.onDidAddListener=()=>{if(++Y0===2)console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),i.print();u===null||u===void 0||u()}}}function X(b,u){return j(b,()=>{return},0,void 0,!0,void 0,u)}J.defer=X;function Q(b){return(u,i=null,Y0)=>{let P0=!1,R0=void 0;if(R0=b((_0)=>{if(P0)return;else if(R0)R0.dispose();else P0=!0;return u.call(i,_0)},null,Y0),P0)R0.dispose();return R0}}J.once=Q;function Y(b,u,i){return z((Y0,P0=null,R0)=>b((_0)=>Y0.call(P0,u(_0)),null,R0),i)}J.map=Y;function Z(b,u,i){return z((Y0,P0=null,R0)=>b((_0)=>{u(_0),Y0.call(P0,_0)},null,R0),i)}J.forEach=Z;function G(b,u,i){return z((Y0,P0=null,R0)=>b((_0)=>u(_0)&&Y0.call(P0,_0),null,R0),i)}J.filter=G;function q(b){return b}J.signal=q;function U(...b){return(u,i=null,Y0)=>{const P0=x7(...b.map((R0)=>R0((_0)=>u.call(i,_0))));return V(P0,Y0)}}J.any=U;function H(b,u,i,Y0){let P0=i;return Y(b,(R0)=>{return P0=u(P0,R0),P0},Y0)}J.reduce=H;function z(b,u){let i;const Y0={onWillAddFirstListener(){i=b(P0.fire,P0)},onDidRemoveLastListener(){i===null||i===void 0||i.dispose()}};if(!u)$(Y0);const P0=new y(Y0);return u===null||u===void 0||u.add(P0),P0.event}function V(b,u){if(u instanceof Array)u.push(b);else if(u)u.add(b);return b}function j(b,u,i=100,Y0=!1,P0=!1,R0,_0){let A0,f0=void 0,l0=void 0,k0=0,H0;const A7={leakWarningThreshold:R0,onWillAddFirstListener(){A0=b((P7)=>{if(k0++,f0=u(f0,P7),Y0&&!l0)h6.fire(f0),f0=void 0;if(H0=()=>{const y1=f0;if(f0=void 0,l0=void 0,!Y0||k0>1)h6.fire(y1);k0=0},typeof i==="number")clearTimeout(l0),l0=setTimeout(H0,i);else if(l0===void 0)l0=0,queueMicrotask(H0)})},onWillRemoveListener(){if(P0&&k0>0)H0===null||H0===void 0||H0()},onDidRemoveLastListener(){H0=void 0,A0.dispose()}};if(!_0)$(A7);const h6=new y(A7);return _0===null||_0===void 0||_0.add(h6),h6.event}J.debounce=j;function W(b,u=0,i){return J.debounce(b,(Y0,P0)=>{if(!Y0)return[P0];return Y0.push(P0),Y0},u,void 0,!0,void 0,i)}J.accumulate=W;function B(b,u=(Y0,P0)=>Y0===P0,i){let Y0=!0,P0;return G(b,(R0)=>{const _0=Y0||!u(R0,P0);return Y0=!1,P0=R0,_0},i)}J.latch=B;function K(b,u,i){return[J.filter(b,u,i),J.filter(b,(Y0)=>!u(Y0),i)]}J.split=K;function P(b,u=!1,i=[],Y0){let P0=i.slice(),R0=b((f0)=>{if(P0)P0.push(f0);else A0.fire(f0)});if(Y0)Y0.add(R0);const _0=()=>{P0===null||P0===void 0||P0.forEach((f0)=>A0.fire(f0)),P0=null},A0=new y({onWillAddFirstListener(){if(!R0){if(R0=b((f0)=>A0.fire(f0)),Y0)Y0.add(R0)}},onDidAddFirstListener(){if(P0)if(u)setTimeout(_0);else _0()},onDidRemoveLastListener(){if(R0)R0.dispose();R0=null}});if(Y0)Y0.add(A0);return A0.event}J.buffer=P;function A(b,u){return(Y0,P0,R0)=>{const _0=u(new R);return b(function(A0){const f0=_0.evaluate(A0);if(f0!==D)Y0.call(P0,f0)},void 0,R0)}}J.chain=A;const D=Symbol("HaltChainable");class R{constructor(){this.steps=[]}map(b){return this.steps.push(b),this}forEach(b){return this.steps.push((u)=>{return b(u),u}),this}filter(b){return this.steps.push((u)=>b(u)?u:D),this}reduce(b,u){let i=u;return this.steps.push((Y0)=>{return i=b(i,Y0),i}),this}latch(b=(u,i)=>u===i){let u=!0,i;return this.steps.push((Y0)=>{const P0=u||!b(Y0,i);return u=!1,i=Y0,P0?Y0:D}),this}evaluate(b){for(let u of this.steps)if(b=u(b),b===D)break;return b}}function M(b,u,i=(Y0)=>Y0){const Y0=(...A0)=>_0.fire(i(...A0)),_0=new y({onWillAddFirstListener:()=>b.on(u,Y0),onDidRemoveLastListener:()=>b.removeListener(u,Y0)});return _0.event}J.fromNodeEventEmitter=M;function O(b,u,i=(Y0)=>Y0){const Y0=(...A0)=>_0.fire(i(...A0)),_0=new y({onWillAddFirstListener:()=>b.addEventListener(u,Y0),onDidRemoveLastListener:()=>b.removeEventListener(u,Y0)});return _0.event}J.fromDOMEventEmitter=O;function _(b){return new Promise((u)=>Q(b)(u))}J.toPromise=_;function w(b){const u=new y;return b.then((i)=>{u.fire(i)},()=>{u.fire(void 0)}).finally(()=>{u.dispose()}),u.event}J.fromPromise=w;function C(b,u,i){return u(i),b((Y0)=>u(Y0))}J.runAndSubscribe=C;class x{constructor(b,u){this._observable=b,this._counter=0,this._hasChanged=!1;const i={onWillAddFirstListener:()=>{b.addObserver(this)},onDidRemoveLastListener:()=>{b.removeObserver(this)}};if(!u)$(i);if(this.emitter=new y(i),u)u.add(this.emitter)}beginUpdate(b){this._counter++}handlePossibleChange(b){}handleChange(b,u){this._hasChanged=!0}endUpdate(b){if(this._counter--,this._counter===0){if(this._observable.reportChanges(),this._hasChanged)this._hasChanged=!1,this.emitter.fire(this._observable.get())}}}function g(b,u){return new x(b,u).emitter.event}J.fromObservable=g;function c(b){return(u,i,Y0)=>{let P0=0,R0=!1;const _0={beginUpdate(){P0++},endUpdate(){if(P0--,P0===0){if(b.reportChanges(),R0)R0=!1,u.call(i)}},handlePossibleChange(){},handleChange(){R0=!0}};b.addObserver(_0),b.reportChanges();const A0={dispose(){b.removeObserver(_0)}};if(Y0 instanceof r)Y0.add(A0);else if(Array.isArray(Y0))Y0.push(A0);return A0}}J.fromObservableLight=c})(J0||(J0={}));s2.all=new Set;s2._idPool=0;Wx=-1;C10=2,x10=(J,$)=>{if(J instanceof YH)$(J);else for(let X=0;X<J.length;X++){const Q=J[X];if(Q)$(Q)}};Fx=()=>new OM});class qH{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return Kx;if(!this._emitter)this._emitter=new y;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=null}}class H6{constructor(J){this._token=void 0,this._parentListener=void 0,this._parentListener=J&&J.onCancellationRequested(this.cancel,this)}get token(){if(!this._token)this._token=new qH;return this._token}cancel(){if(!this._token)this._token=t8.Cancelled;else if(this._token instanceof qH)this._token.cancel()}dispose(J=!1){var $;if(J)this.cancel();if(($=this._parentListener)===null||$===void 0||$.dispose(),!this._token)this._token=t8.None;else if(this._token instanceof qH)this._token.dispose()}}var Kx,t8;var $7=N(()=>{F0();Kx=Object.freeze(function(J,$){const X=setTimeout(J.bind($),0);return{dispose(){clearTimeout(X)}}});(function(J){function $(X){if(X===J.None||X===J.Cancelled)return!0;if(X instanceof qH)return!0;if(!X||typeof X!=="object")return!1;return typeof X.isCancellationRequested==="boolean"&&typeof X.onCancellationRequested==="function"}J.isCancellationToken=$,J.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:J0.None}),J.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Kx})})(t8||(t8={}))});function b7(J,$){const X=($&65535)<<16>>>0;return(J|X)>>>0}class iW{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(J,$){this._keyCodeToStr[J]=$,this._strToKeyCode[$.toLowerCase()]=J}keyCodeToStr(J){return this._keyCodeToStr[J]}strToKeyCode(J){return this._strToKeyCode[J.toLowerCase()]||0}}var rW,_M,wM,EM,v10,f10,h10,g10,nW,LM,jJ;var xZ=N(()=>{rW=new iW,_M=new iW,wM=new iW,EM=new Array(230),v10={},f10=[],h10=Object.create(null),g10=Object.create(null),nW=[],LM=[];for(let J=0;J<=193;J++)nW[J]=-1;for(let J=0;J<=132;J++)LM[J]=-1;(function(){const $=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN","",""],[1,1,"Hyper",0,"",0,"","",""],[1,2,"Super",0,"",0,"","",""],[1,3,"Fn",0,"",0,"","",""],[1,4,"FnLock",0,"",0,"","",""],[1,5,"Suspend",0,"",0,"","",""],[1,6,"Resume",0,"",0,"","",""],[1,7,"Turbo",0,"",0,"","",""],[1,8,"Sleep",0,"",0,"VK_SLEEP","",""],[1,9,"WakeUp",0,"",0,"","",""],[0,10,"KeyA",31,"A",65,"VK_A","",""],[0,11,"KeyB",32,"B",66,"VK_B","",""],[0,12,"KeyC",33,"C",67,"VK_C","",""],[0,13,"KeyD",34,"D",68,"VK_D","",""],[0,14,"KeyE",35,"E",69,"VK_E","",""],[0,15,"KeyF",36,"F",70,"VK_F","",""],[0,16,"KeyG",37,"G",71,"VK_G","",""],[0,17,"KeyH",38,"H",72,"VK_H","",""],[0,18,"KeyI",39,"I",73,"VK_I","",""],[0,19,"KeyJ",40,"J",74,"VK_J","",""],[0,20,"KeyK",41,"K",75,"VK_K","",""],[0,21,"KeyL",42,"L",76,"VK_L","",""],[0,22,"KeyM",43,"M",77,"VK_M","",""],[0,23,"KeyN",44,"N",78,"VK_N","",""],[0,24,"KeyO",45,"O",79,"VK_O","",""],[0,25,"KeyP",46,"P",80,"VK_P","",""],[0,26,"KeyQ",47,"Q",81,"VK_Q","",""],[0,27,"KeyR",48,"R",82,"VK_R","",""],[0,28,"KeyS",49,"S",83,"VK_S","",""],[0,29,"KeyT",50,"T",84,"VK_T","",""],[0,30,"KeyU",51,"U",85,"VK_U","",""],[0,31,"KeyV",52,"V",86,"VK_V","",""],[0,32,"KeyW",53,"W",87,"VK_W","",""],[0,33,"KeyX",54,"X",88,"VK_X","",""],[0,34,"KeyY",55,"Y",89,"VK_Y","",""],[0,35,"KeyZ",56,"Z",90,"VK_Z","",""],[0,36,"Digit1",22,"1",49,"VK_1","",""],[0,37,"Digit2",23,"2",50,"VK_2","",""],[0,38,"Digit3",24,"3",51,"VK_3","",""],[0,39,"Digit4",25,"4",52,"VK_4","",""],[0,40,"Digit5",26,"5",53,"VK_5","",""],[0,41,"Digit6",27,"6",54,"VK_6","",""],[0,42,"Digit7",28,"7",55,"VK_7","",""],[0,43,"Digit8",29,"8",56,"VK_8","",""],[0,44,"Digit9",30,"9",57,"VK_9","",""],[0,45,"Digit0",21,"0",48,"VK_0","",""],[1,46,"Enter",3,"Enter",13,"VK_RETURN","",""],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE","",""],[1,48,"Backspace",1,"Backspace",8,"VK_BACK","",""],[1,49,"Tab",2,"Tab",9,"VK_TAB","",""],[1,50,"Space",10,"Space",32,"VK_SPACE","",""],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,"",0,"","",""],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"\'",222,"VK_OEM_7","\'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL","",""],[1,64,"F1",59,"F1",112,"VK_F1","",""],[1,65,"F2",60,"F2",113,"VK_F2","",""],[1,66,"F3",61,"F3",114,"VK_F3","",""],[1,67,"F4",62,"F4",115,"VK_F4","",""],[1,68,"F5",63,"F5",116,"VK_F5","",""],[1,69,"F6",64,"F6",117,"VK_F6","",""],[1,70,"F7",65,"F7",118,"VK_F7","",""],[1,71,"F8",66,"F8",119,"VK_F8","",""],[1,72,"F9",67,"F9",120,"VK_F9","",""],[1,73,"F10",68,"F10",121,"VK_F10","",""],[1,74,"F11",69,"F11",122,"VK_F11","",""],[1,75,"F12",70,"F12",123,"VK_F12","",""],[1,76,"PrintScreen",0,"",0,"","",""],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL","",""],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE","",""],[1,79,"Insert",19,"Insert",45,"VK_INSERT","",""],[1,80,"Home",14,"Home",36,"VK_HOME","",""],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR","",""],[1,82,"Delete",20,"Delete",46,"VK_DELETE","",""],[1,83,"End",13,"End",35,"VK_END","",""],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT","",""],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",""],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",""],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",""],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",""],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK","",""],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE","",""],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY","",""],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT","",""],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD","",""],[1,94,"NumpadEnter",3,"",0,"","",""],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1","",""],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2","",""],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3","",""],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4","",""],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5","",""],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6","",""],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7","",""],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8","",""],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9","",""],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0","",""],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL","",""],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102","",""],[1,107,"ContextMenu",58,"ContextMenu",93,"","",""],[1,108,"Power",0,"",0,"","",""],[1,109,"NumpadEqual",0,"",0,"","",""],[1,110,"F13",71,"F13",124,"VK_F13","",""],[1,111,"F14",72,"F14",125,"VK_F14","",""],[1,112,"F15",73,"F15",126,"VK_F15","",""],[1,113,"F16",74,"F16",127,"VK_F16","",""],[1,114,"F17",75,"F17",128,"VK_F17","",""],[1,115,"F18",76,"F18",129,"VK_F18","",""],[1,116,"F19",77,"F19",130,"VK_F19","",""],[1,117,"F20",78,"F20",131,"VK_F20","",""],[1,118,"F21",79,"F21",132,"VK_F21","",""],[1,119,"F22",80,"F22",133,"VK_F22","",""],[1,120,"F23",81,"F23",134,"VK_F23","",""],[1,121,"F24",82,"F24",135,"VK_F24","",""],[1,122,"Open",0,"",0,"","",""],[1,123,"Help",0,"",0,"","",""],[1,124,"Select",0,"",0,"","",""],[1,125,"Again",0,"",0,"","",""],[1,126,"Undo",0,"",0,"","",""],[1,127,"Cut",0,"",0,"","",""],[1,128,"Copy",0,"",0,"","",""],[1,129,"Paste",0,"",0,"","",""],[1,130,"Find",0,"",0,"","",""],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE","",""],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP","",""],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN","",""],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR","",""],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1","",""],[1,136,"KanaMode",0,"",0,"","",""],[0,137,"IntlYen",0,"",0,"","",""],[1,138,"Convert",0,"",0,"","",""],[1,139,"NonConvert",0,"",0,"","",""],[1,140,"Lang1",0,"",0,"","",""],[1,141,"Lang2",0,"",0,"","",""],[1,142,"Lang3",0,"",0,"","",""],[1,143,"Lang4",0,"",0,"","",""],[1,144,"Lang5",0,"",0,"","",""],[1,145,"Abort",0,"",0,"","",""],[1,146,"Props",0,"",0,"","",""],[1,147,"NumpadParenLeft",0,"",0,"","",""],[1,148,"NumpadParenRight",0,"",0,"","",""],[1,149,"NumpadBackspace",0,"",0,"","",""],[1,150,"NumpadMemoryStore",0,"",0,"","",""],[1,151,"NumpadMemoryRecall",0,"",0,"","",""],[1,152,"NumpadMemoryClear",0,"",0,"","",""],[1,153,"NumpadMemoryAdd",0,"",0,"","",""],[1,154,"NumpadMemorySubtract",0,"",0,"","",""],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR","",""],[1,156,"NumpadClearEntry",0,"",0,"","",""],[1,0,"",5,"Ctrl",17,"VK_CONTROL","",""],[1,0,"",4,"Shift",16,"VK_SHIFT","",""],[1,0,"",6,"Alt",18,"VK_MENU","",""],[1,0,"",57,"Meta",91,"VK_COMMAND","",""],[1,157,"ControlLeft",5,"",0,"VK_LCONTROL","",""],[1,158,"ShiftLeft",4,"",0,"VK_LSHIFT","",""],[1,159,"AltLeft",6,"",0,"VK_LMENU","",""],[1,160,"MetaLeft",57,"",0,"VK_LWIN","",""],[1,161,"ControlRight",5,"",0,"VK_RCONTROL","",""],[1,162,"ShiftRight",4,"",0,"VK_RSHIFT","",""],[1,163,"AltRight",6,"",0,"VK_RMENU","",""],[1,164,"MetaRight",57,"",0,"VK_RWIN","",""],[1,165,"BrightnessUp",0,"",0,"","",""],[1,166,"BrightnessDown",0,"",0,"","",""],[1,167,"MediaPlay",0,"",0,"","",""],[1,168,"MediaRecord",0,"",0,"","",""],[1,169,"MediaFastForward",0,"",0,"","",""],[1,170,"MediaRewind",0,"",0,"","",""],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK","",""],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK","",""],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP","",""],[1,174,"Eject",0,"",0,"","",""],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE","",""],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT","",""],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL","",""],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2","",""],[1,179,"LaunchApp1",0,"",0,"VK_MEDIA_LAUNCH_APP1","",""],[1,180,"SelectTask",0,"",0,"","",""],[1,181,"LaunchScreenSaver",0,"",0,"","",""],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH","",""],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME","",""],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK","",""],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD","",""],[1,186,"BrowserStop",0,"",0,"VK_BROWSER_STOP","",""],[1,187,"BrowserRefresh",0,"",0,"VK_BROWSER_REFRESH","",""],[1,188,"BrowserFavorites",0,"",0,"VK_BROWSER_FAVORITES","",""],[1,189,"ZoomToggle",0,"",0,"","",""],[1,190,"MailReply",0,"",0,"","",""],[1,191,"MailForward",0,"",0,"","",""],[1,192,"MailSend",0,"",0,"","",""],[1,0,"",114,"KeyInComposition",229,"","",""],[1,0,"",116,"ABNT_C2",194,"VK_ABNT_C2","",""],[1,0,"",96,"OEM_8",223,"VK_OEM_8","",""],[1,0,"",0,"",0,"VK_KANA","",""],[1,0,"",0,"",0,"VK_HANGUL","",""],[1,0,"",0,"",0,"VK_JUNJA","",""],[1,0,"",0,"",0,"VK_FINAL","",""],[1,0,"",0,"",0,"VK_HANJA","",""],[1,0,"",0,"",0,"VK_KANJI","",""],[1,0,"",0,"",0,"VK_CONVERT","",""],[1,0,"",0,"",0,"VK_NONCONVERT","",""],[1,0,"",0,"",0,"VK_ACCEPT","",""],[1,0,"",0,"",0,"VK_MODECHANGE","",""],[1,0,"",0,"",0,"VK_SELECT","",""],[1,0,"",0,"",0,"VK_PRINT","",""],[1,0,"",0,"",0,"VK_EXECUTE","",""],[1,0,"",0,"",0,"VK_SNAPSHOT","",""],[1,0,"",0,"",0,"VK_HELP","",""],[1,0,"",0,"",0,"VK_APPS","",""],[1,0,"",0,"",0,"VK_PROCESSKEY","",""],[1,0,"",0,"",0,"VK_PACKET","",""],[1,0,"",0,"",0,"VK_DBE_SBCSCHAR","",""],[1,0,"",0,"",0,"VK_DBE_DBCSCHAR","",""],[1,0,"",0,"",0,"VK_ATTN","",""],[1,0,"",0,"",0,"VK_CRSEL","",""],[1,0,"",0,"",0,"VK_EXSEL","",""],[1,0,"",0,"",0,"VK_EREOF","",""],[1,0,"",0,"",0,"VK_PLAY","",""],[1,0,"",0,"",0,"VK_ZOOM","",""],[1,0,"",0,"",0,"VK_NONAME","",""],[1,0,"",0,"",0,"VK_PA1","",""],[1,0,"",0,"",0,"VK_OEM_CLEAR","",""]],X=[],Q=[];for(let Y of $){const[Z,G,q,U,H,z,V,j,W]=Y;if(!Q[G]){if(Q[G]=!0,f10[G]=q,h10[q]=G,g10[q.toLowerCase()]=G,Z){if(nW[G]=U,U!==0&&U!==3&&U!==5&&U!==4&&U!==6&&U!==57)LM[U]=G}}if(!X[U]){if(X[U]=!0,!H)throw new Error(`String representation missing for key code ${U} around scan code ${q}`);rW.define(U,H),_M.define(U,j||H),wM.define(U,W||j||H)}if(z)EM[z]=U;if(V)v10[V]=U}LM[3]=46})();(function(J){function $(q){return rW.keyCodeToStr(q)}J.toString=$;function X(q){return rW.strToKeyCode(q)}J.fromString=X;function Q(q){return _M.keyCodeToStr(q)}J.toUserSettingsUS=Q;function Y(q){return wM.keyCodeToStr(q)}J.toUserSettingsGeneral=Y;function Z(q){return _M.strToKeyCode(q)||wM.strToKeyCode(q)}J.fromUserSettings=Z;function G(q){if(q>=98&&q<=113)return null;switch(q){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return rW.keyCodeToStr(q)}J.toElectronAccelerator=G})(jJ||(jJ={}))});var a2,kM,UH,HH,Ax;var IM=N(()=>{O1();kM=globalThis.vscode;if(typeof kM!=="undefined"&&typeof kM.process!=="undefined"){const J=kM.process;a2={get platform(){return J.platform},get arch(){return J.arch},get env(){return J.env},cwd(){return J.cwd()}}}else if(typeof process!=="undefined")a2={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}};else a2={get platform(){return k8?"win32":a0?"darwin":"linux"},get arch(){return},get env(){return{}},cwd(){return"/"}};UH=a2.cwd,HH=a2.env,Ax=a2.platform});class SM extends Error{constructor(J,$,X){let Q;if(typeof $==="string"&&$.indexOf("not ")===0)Q="must not be",$=$.replace(/^not /,"");else Q="must be";const Y=J.indexOf(".")!==-1?"property":"argument";let Z=`The "${J}" ${Y} ${Q} of type ${$}`;Z+=`. Received type ${typeof X}`;super(Z);this.code="ERR_INVALID_ARG_TYPE"}}var s10,y6,h1,yM,uQ,oW,Px,m10,u10,c10,l10,cQ,v7,X9,mQ,d10,lQ,K5,a10,O8,tW,Dx,Rx,eW,WJ,Mx,X4;var AX=N(()=>{IM();s10=function(J,$){if(J===null||typeof J!=="object")throw new SM($,"Object",J)},y6=function(J,$){if(typeof J!=="string")throw new SM($,"string",J)},h1=function(J){return J===v7||J===X9},yM=function(J){return J===v7},uQ=function(J){return J>=m10&&J<=c10||J>=u10&&J<=l10},oW=function(J,$,X,Q){let Y="",Z=0,G=-1,q=0,U=0;for(let H=0;H<=J.length;++H){if(H<J.length)U=J.charCodeAt(H);else if(Q(U))break;else U=v7;if(Q(U)){if(G===H-1||q===1);else if(q===2){if(Y.length<2||Z!==2||Y.charCodeAt(Y.length-1)!==cQ||Y.charCodeAt(Y.length-2)!==cQ){if(Y.length>2){const z=Y.lastIndexOf(X);if(z===-1)Y="",Z=0;else Y=Y.slice(0,z),Z=Y.length-1-Y.lastIndexOf(X);G=H,q=0;continue}else if(Y.length!==0){Y="",Z=0,G=H,q=0;continue}}if($)Y+=Y.length>0?`${X}..`:"..",Z=2}else{if(Y.length>0)Y+=`${X}${J.slice(G+1,H)}`;else Y=J.slice(G+1,H);Z=H-G-1}G=H,q=0}else if(U===cQ&&q!==-1)++q;else q=-1}return Y},Px=function(J,$){s10($,"pathObject");const X=$.dir||$.root,Q=$.base||`${$.name||""}${$.ext||""}`;if(!X)return Q;return X===$.root?`${X}${Q}`:`${X}${J}${Q}`},m10=65,u10=97,c10=90,l10=122,cQ=46,v7=47,X9=92,mQ=58,d10=63;lQ=Ax==="win32",K5={resolve(...J){let $="",X="",Q=!1;for(let Y=J.length-1;Y>=-1;Y--){let Z;if(Y>=0){if(Z=J[Y],y6(Z,"path"),Z.length===0)continue}else if($.length===0)Z=UH();else if(Z=HH[`=${$}`]||UH(),Z===void 0||Z.slice(0,2).toLowerCase()!==$.toLowerCase()&&Z.charCodeAt(2)===X9)Z=`${$}\\`;const G=Z.length;let q=0,U="",H=!1;const z=Z.charCodeAt(0);if(G===1){if(h1(z))q=1,H=!0}else if(h1(z))if(H=!0,h1(Z.charCodeAt(1))){let V=2,j=V;while(V<G&&!h1(Z.charCodeAt(V)))V++;if(V<G&&V!==j){const W=Z.slice(j,V);j=V;while(V<G&&h1(Z.charCodeAt(V)))V++;if(V<G&&V!==j){j=V;while(V<G&&!h1(Z.charCodeAt(V)))V++;if(V===G||V!==j)U=`\\\\${W}\\${Z.slice(j,V)}`,q=V}}}else q=1;else if(uQ(z)&&Z.charCodeAt(1)===mQ){if(U=Z.slice(0,2),q=2,G>2&&h1(Z.charCodeAt(2)))H=!0,q=3}if(U.length>0)if($.length>0){if(U.toLowerCase()!==$.toLowerCase())continue}else $=U;if(Q){if($.length>0)break}else if(X=`${Z.slice(q)}\\${X}`,Q=H,H&&$.length>0)break}return X=oW(X,!Q,"\\",h1),Q?`${$}\\${X}`:`${$}${X}`||"."},normalize(J){y6(J,"path");const $=J.length;if($===0)return".";let X=0,Q,Y=!1;const Z=J.charCodeAt(0);if($===1)return yM(Z)?"\\":J;if(h1(Z))if(Y=!0,h1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){const H=J.slice(U,q);U=q;while(q<$&&h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q===$)return`\\\\${H}\\${J.slice(U)}\\`;if(q!==U)Q=`\\\\${H}\\${J.slice(U,q)}`,X=q}}}else X=1;else if(uQ(Z)&&J.charCodeAt(1)===mQ){if(Q=J.slice(0,2),X=2,$>2&&h1(J.charCodeAt(2)))Y=!0,X=3}let G=X<$?oW(J.slice(X),!Y,"\\",h1):"";if(G.length===0&&!Y)G=".";if(G.length>0&&h1(J.charCodeAt($-1)))G+="\\";if(Q===void 0)return Y?`\\${G}`:G;return Y?`${Q}\\${G}`:`${Q}${G}`},isAbsolute(J){y6(J,"path");const $=J.length;if($===0)return!1;const X=J.charCodeAt(0);return h1(X)||$>2&&uQ(X)&&J.charCodeAt(1)===mQ&&h1(J.charCodeAt(2))},join(...J){if(J.length===0)return".";let $,X;for(let Z=0;Z<J.length;++Z){const G=J[Z];if(y6(G,"path"),G.length>0)if($===void 0)$=X=G;else $+=`\\${G}`}if($===void 0)return".";let Q=!0,Y=0;if(typeof X==="string"&&h1(X.charCodeAt(0))){++Y;const Z=X.length;if(Z>1&&h1(X.charCodeAt(1))){if(++Y,Z>2)if(h1(X.charCodeAt(2)))++Y;else Q=!1}}if(Q){while(Y<$.length&&h1($.charCodeAt(Y)))Y++;if(Y>=2)$=`\\${$.slice(Y)}`}return K5.normalize($)},relative(J,$){if(y6(J,"from"),y6($,"to"),J===$)return"";const X=K5.resolve(J),Q=K5.resolve($);if(X===Q)return"";if(J=X.toLowerCase(),$=Q.toLowerCase(),J===$)return"";let Y=0;while(Y<J.length&&J.charCodeAt(Y)===X9)Y++;let Z=J.length;while(Z-1>Y&&J.charCodeAt(Z-1)===X9)Z--;const G=Z-Y;let q=0;while(q<$.length&&$.charCodeAt(q)===X9)q++;let U=$.length;while(U-1>q&&$.charCodeAt(U-1)===X9)U--;const H=U-q,z=G<H?G:H;let V=-1,j=0;for(;j<z;j++){const B=J.charCodeAt(Y+j);if(B!==$.charCodeAt(q+j))break;else if(B===X9)V=j}if(j!==z){if(V===-1)return Q}else{if(H>z){if($.charCodeAt(q+j)===X9)return Q.slice(q+j+1);if(j===2)return Q.slice(q+j)}if(G>z){if(J.charCodeAt(Y+j)===X9)V=j;else if(j===2)V=3}if(V===-1)V=0}let W="";for(j=Y+V+1;j<=Z;++j)if(j===Z||J.charCodeAt(j)===X9)W+=W.length===0?"..":"\\..";if(q+=V,W.length>0)return`${W}${Q.slice(q,U)}`;if(Q.charCodeAt(q)===X9)++q;return Q.slice(q,U)},toNamespacedPath(J){if(typeof J!=="string"||J.length===0)return J;const $=K5.resolve(J);if($.length<=2)return J;if($.charCodeAt(0)===X9){if($.charCodeAt(1)===X9){const X=$.charCodeAt(2);if(X!==d10&&X!==cQ)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(uQ($.charCodeAt(0))&&$.charCodeAt(1)===mQ&&$.charCodeAt(2)===X9)return`\\\\?\\${$}`;return J},dirname(J){y6(J,"path");const $=J.length;if($===0)return".";let X=-1,Q=0;const Y=J.charCodeAt(0);if($===1)return h1(Y)?J:".";if(h1(Y)){if(X=Q=1,h1(J.charCodeAt(1))){let q=2,U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&h1(J.charCodeAt(q)))q++;if(q<$&&q!==U){U=q;while(q<$&&!h1(J.charCodeAt(q)))q++;if(q===$)return J;if(q!==U)X=Q=q+1}}}}else if(uQ(Y)&&J.charCodeAt(1)===mQ)X=$>2&&h1(J.charCodeAt(2))?3:2,Q=X;let Z=-1,G=!0;for(let q=$-1;q>=Q;--q)if(h1(J.charCodeAt(q))){if(!G){Z=q;break}}else G=!1;if(Z===-1){if(X===-1)return".";Z=X}return J.slice(0,Z)},basename(J,$){if($!==void 0)y6($,"ext");y6(J,"path");let X=0,Q=-1,Y=!0,Z;if(J.length>=2&&uQ(J.charCodeAt(0))&&J.charCodeAt(1)===mQ)X=2;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=X;--Z){const U=J.charCodeAt(Z);if(h1(U)){if(!Y){X=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)Q=Z}else G=-1,Q=q}}if(X===Q)Q=q;else if(Q===-1)Q=J.length;return J.slice(X,Q)}for(Z=J.length-1;Z>=X;--Z)if(h1(J.charCodeAt(Z))){if(!Y){X=Z+1;break}}else if(Q===-1)Y=!1,Q=Z+1;if(Q===-1)return"";return J.slice(X,Q)},extname(J){y6(J,"path");let $=0,X=-1,Q=0,Y=-1,Z=!0,G=0;if(J.length>=2&&J.charCodeAt(1)===mQ&&uQ(J.charCodeAt(0)))$=Q=2;for(let q=J.length-1;q>=$;--q){const U=J.charCodeAt(q);if(h1(U)){if(!Z){Q=q+1;break}continue}if(Y===-1)Z=!1,Y=q+1;if(U===cQ){if(X===-1)X=q;else if(G!==1)G=1}else if(X!==-1)G=-1}if(X===-1||Y===-1||G===0||G===1&&X===Y-1&&X===Q+1)return"";return J.slice(X,Y)},format:Px.bind(null,"\\"),parse(J){y6(J,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;const X=J.length;let Q=0,Y=J.charCodeAt(0);if(X===1){if(h1(Y))return $.root=$.dir=J,$;return $.base=$.name=J,$}if(h1(Y)){if(Q=1,h1(J.charCodeAt(1))){let V=2,j=V;while(V<X&&!h1(J.charCodeAt(V)))V++;if(V<X&&V!==j){j=V;while(V<X&&h1(J.charCodeAt(V)))V++;if(V<X&&V!==j){j=V;while(V<X&&!h1(J.charCodeAt(V)))V++;if(V===X)Q=V;else if(V!==j)Q=V+1}}}}else if(uQ(Y)&&J.charCodeAt(1)===mQ){if(X<=2)return $.root=$.dir=J,$;if(Q=2,h1(J.charCodeAt(2))){if(X===3)return $.root=$.dir=J,$;Q=3}}if(Q>0)$.root=J.slice(0,Q);let Z=-1,G=Q,q=-1,U=!0,H=J.length-1,z=0;for(;H>=Q;--H){if(Y=J.charCodeAt(H),h1(Y)){if(!U){G=H+1;break}continue}if(q===-1)U=!1,q=H+1;if(Y===cQ){if(Z===-1)Z=H;else if(z!==1)z=1}else if(Z!==-1)z=-1}if(q!==-1)if(Z===-1||z===0||z===1&&Z===q-1&&Z===G+1)$.base=$.name=J.slice(G,q);else $.name=J.slice(G,Z),$.base=J.slice(G,q),$.ext=J.slice(Z,q);if(G>0&&G!==Q)$.dir=J.slice(0,G-1);else $.dir=$.root;return $},sep:"\\",delimiter:";",win32:null,posix:null},a10=(()=>{if(lQ){const J=/\\/g;return()=>{const $=UH().replace(J,"/");return $.slice($.indexOf("/"))}}return()=>UH()})(),O8={resolve(...J){let $="",X=!1;for(let Q=J.length-1;Q>=-1&&!X;Q--){const Y=Q>=0?J[Q]:a10();if(y6(Y,"path"),Y.length===0)continue;$=`${Y}/${$}`,X=Y.charCodeAt(0)===v7}if($=oW($,!X,"/",yM),X)return`/${$}`;return $.length>0?$:"."},normalize(J){if(y6(J,"path"),J.length===0)return".";const $=J.charCodeAt(0)===v7,X=J.charCodeAt(J.length-1)===v7;if(J=oW(J,!$,"/",yM),J.length===0){if($)return"/";return X?"./":"."}if(X)J+="/";return $?`/${J}`:J},isAbsolute(J){return y6(J,"path"),J.length>0&&J.charCodeAt(0)===v7},join(...J){if(J.length===0)return".";let $;for(let X=0;X<J.length;++X){const Q=J[X];if(y6(Q,"path"),Q.length>0)if($===void 0)$=Q;else $+=`/${Q}`}if($===void 0)return".";return O8.normalize($)},relative(J,$){if(y6(J,"from"),y6($,"to"),J===$)return"";if(J=O8.resolve(J),$=O8.resolve($),J===$)return"";const X=1,Q=J.length,Y=Q-X,Z=1,G=$.length-Z,q=Y<G?Y:G;let U=-1,H=0;for(;H<q;H++){const V=J.charCodeAt(X+H);if(V!==$.charCodeAt(Z+H))break;else if(V===v7)U=H}if(H===q){if(G>q){if($.charCodeAt(Z+H)===v7)return $.slice(Z+H+1);if(H===0)return $.slice(Z+H)}else if(Y>q){if(J.charCodeAt(X+H)===v7)U=H;else if(H===0)U=0}}let z="";for(H=X+U+1;H<=Q;++H)if(H===Q||J.charCodeAt(H)===v7)z+=z.length===0?"..":"/..";return`${z}${$.slice(Z+U)}`},toNamespacedPath(J){return J},dirname(J){if(y6(J,"path"),J.length===0)return".";const $=J.charCodeAt(0)===v7;let X=-1,Q=!0;for(let Y=J.length-1;Y>=1;--Y)if(J.charCodeAt(Y)===v7){if(!Q){X=Y;break}}else Q=!1;if(X===-1)return $?"/":".";if($&&X===1)return"//";return J.slice(0,X)},basename(J,$){if($!==void 0)y6($,"ext");y6(J,"path");let X=0,Q=-1,Y=!0,Z;if($!==void 0&&$.length>0&&$.length<=J.length){if($===J)return"";let G=$.length-1,q=-1;for(Z=J.length-1;Z>=0;--Z){const U=J.charCodeAt(Z);if(U===v7){if(!Y){X=Z+1;break}}else{if(q===-1)Y=!1,q=Z+1;if(G>=0)if(U===$.charCodeAt(G)){if(--G===-1)Q=Z}else G=-1,Q=q}}if(X===Q)Q=q;else if(Q===-1)Q=J.length;return J.slice(X,Q)}for(Z=J.length-1;Z>=0;--Z)if(J.charCodeAt(Z)===v7){if(!Y){X=Z+1;break}}else if(Q===-1)Y=!1,Q=Z+1;if(Q===-1)return"";return J.slice(X,Q)},extname(J){y6(J,"path");let $=-1,X=0,Q=-1,Y=!0,Z=0;for(let G=J.length-1;G>=0;--G){const q=J.charCodeAt(G);if(q===v7){if(!Y){X=G+1;break}continue}if(Q===-1)Y=!1,Q=G+1;if(q===cQ){if($===-1)$=G;else if(Z!==1)Z=1}else if($!==-1)Z=-1}if($===-1||Q===-1||Z===0||Z===1&&$===Q-1&&$===X+1)return"";return J.slice($,Q)},format:Px.bind(null,"/"),parse(J){y6(J,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(J.length===0)return $;const X=J.charCodeAt(0)===v7;let Q;if(X)$.root="/",Q=1;else Q=0;let Y=-1,Z=0,G=-1,q=!0,U=J.length-1,H=0;for(;U>=Q;--U){const z=J.charCodeAt(U);if(z===v7){if(!q){Z=U+1;break}continue}if(G===-1)q=!1,G=U+1;if(z===cQ){if(Y===-1)Y=U;else if(H!==1)H=1}else if(Y!==-1)H=-1}if(G!==-1){const z=Z===0&&X?1:Z;if(Y===-1||H===0||H===1&&Y===G-1&&Y===Z+1)$.base=$.name=J.slice(z,G);else $.name=J.slice(z,Y),$.base=J.slice(z,G),$.ext=J.slice(Y,G)}if(Z>0)$.dir=J.slice(0,Z-1);else if(X)$.dir="/";return $},sep:"/",delimiter:":",win32:null,posix:null};O8.win32=K5.win32=K5;O8.posix=K5.posix=O8;tW=lQ?K5.normalize:O8.normalize,Dx=lQ?K5.resolve:O8.resolve,Rx=lQ?K5.relative:O8.relative,eW=lQ?K5.dirname:O8.dirname,WJ=lQ?K5.basename:O8.basename,Mx=lQ?K5.extname:O8.extname,X4=lQ?K5.sep:O8.sep});function zH(J,$){let X;if(J.authority&&J.path.length>1&&J.scheme==="file")X=`//${J.authority}${J.path}`;else if(J.path.charCodeAt(0)===47&&(J.path.charCodeAt(1)>=65&&J.path.charCodeAt(1)<=90||J.path.charCodeAt(1)>=97&&J.path.charCodeAt(1)<=122)&&J.path.charCodeAt(2)===58)if(!$)X=J.path[1].toLowerCase()+J.path.substr(2);else X=J.path.substr(1);else X=J.path;if(k8)X=X.replace(/\//g,"\\");return X}class I0{static isUri(J){if(J instanceof I0)return!0;if(!J)return!1;return typeof J.authority==="string"&&typeof J.fragment==="string"&&typeof J.path==="string"&&typeof J.query==="string"&&typeof J.scheme==="string"&&typeof J.fsPath==="string"&&typeof J.with==="function"&&typeof J.toString==="function"}constructor(J,$,X,Q,Y,Z=!1){if(typeof J==="object")this.scheme=J.scheme||d8,this.authority=J.authority||d8,this.path=J.path||d8,this.query=J.query||d8,this.fragment=J.fragment||d8;else this.scheme=t10(J,Z),this.authority=$||d8,this.path=e10(this.scheme,X||d8),this.query=Q||d8,this.fragment=Y||d8,o10(this,Z)}get fsPath(){return zH(this,!1)}with(J){if(!J)return this;let{scheme:$,authority:X,path:Q,query:Y,fragment:Z}=J;if($===void 0)$=this.scheme;else if($===null)$=d8;if(X===void 0)X=this.authority;else if(X===null)X=d8;if(Q===void 0)Q=this.path;else if(Q===null)Q=d8;if(Y===void 0)Y=this.query;else if(Y===null)Y=d8;if(Z===void 0)Z=this.fragment;else if(Z===null)Z=d8;if($===this.scheme&&X===this.authority&&Q===this.path&&Y===this.query&&Z===this.fragment)return this;return new bZ($,X,Q,Y,Z)}static parse(J,$=!1){const X=J80.exec(J);if(!X)return new bZ(d8,d8,d8,d8,d8);return new bZ(X[2]||d8,JB(X[4]||d8),JB(X[5]||d8),JB(X[7]||d8),JB(X[9]||d8),$)}static file(J){let $=d8;if(k8)J=J.replace(/\\/g,Q4);if(J[0]===Q4&&J[1]===Q4){const X=J.indexOf(Q4,2);if(X===-1)$=J.substring(2),J=Q4;else $=J.substring(2,X),J=J.substring(X)||Q4}return new bZ("file",$,J,d8,d8)}static from(J,$){return new bZ(J.scheme,J.authority,J.path,J.query,J.fragment,$)}static joinPath(J,...$){if(!J.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let X;if(k8&&J.scheme==="file")X=I0.file(K5.join(zH(J,!0),...$)).path;else X=O8.join(J.path,...$);return J.with({path:X})}toString(J=!1){return xM(this,J)}toJSON(){return this}static revive(J){var $,X;if(!J)return J;else if(J instanceof I0)return J;else{const Q=new bZ(J);return Q._formatted=($=J.external)!==null&&$!==void 0?$:null,Q._fsPath=J._sep===Nx?(X=J.fsPath)!==null&&X!==void 0?X:null:null,Q}}}class bZ extends I0{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){if(!this._fsPath)this._fsPath=zH(this,!1);return this._fsPath}toString(J=!1){if(!J){if(!this._formatted)this._formatted=xM(this,!1);return this._formatted}else return xM(this,!0)}toJSON(){const J={$mid:1};if(this._fsPath)J.fsPath=this._fsPath,J._sep=Nx;if(this._formatted)J.external=this._formatted;if(this.path)J.path=this.path;if(this.scheme)J.scheme=this.scheme;if(this.authority)J.authority=this.authority;if(this.query)J.query=this.query;if(this.fragment)J.fragment=this.fragment;return J}}var o10,t10,e10,Ox,$80,xM,wx,JB,r10,i10,n10,d8,Q4,J80,Nx,_x,Tx;var e8=N(()=>{AX();O1();o10=function(J,$){if(!J.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${J.authority}", path: "${J.path}", query: "${J.query}", fragment: "${J.fragment}"}`);if(J.scheme&&!r10.test(J.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(J.path){if(J.authority){if(!i10.test(J.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(n10.test(J.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}},t10=function(J,$){if(!J&&!$)return"file";return J},e10=function(J,$){switch(J){case"https":case"http":case"file":if(!$)$=Q4;else if($[0]!==Q4)$=Q4+$;break}return $},Ox=function(J,$,X){let Q=void 0,Y=-1;for(let Z=0;Z<J.length;Z++){const G=J.charCodeAt(Z);if(G>=97&&G<=122||G>=65&&G<=90||G>=48&&G<=57||G===45||G===46||G===95||G===126||$&&G===47||X&&G===91||X&&G===93||X&&G===58){if(Y!==-1)Q+=encodeURIComponent(J.substring(Y,Z)),Y=-1;if(Q!==void 0)Q+=J.charAt(Z)}else{if(Q===void 0)Q=J.substr(0,Z);const q=_x[G];if(q!==void 0){if(Y!==-1)Q+=encodeURIComponent(J.substring(Y,Z)),Y=-1;Q+=q}else if(Y===-1)Y=Z}}if(Y!==-1)Q+=encodeURIComponent(J.substring(Y));return Q!==void 0?Q:J},$80=function(J){let $=void 0;for(let X=0;X<J.length;X++){const Q=J.charCodeAt(X);if(Q===35||Q===63){if($===void 0)$=J.substr(0,X);$+=_x[Q]}else if($!==void 0)$+=J[X]}return $!==void 0?$:J};xM=function(J,$){const X=!$?Ox:$80;let Q="",{scheme:Y,authority:Z,path:G,query:q,fragment:U}=J;if(Y)Q+=Y,Q+=":";if(Z||Y==="file")Q+=Q4,Q+=Q4;if(Z){let H=Z.indexOf("@");if(H!==-1){const z=Z.substr(0,H);if(Z=Z.substr(H+1),H=z.lastIndexOf(":"),H===-1)Q+=X(z,!1,!1);else Q+=X(z.substr(0,H),!1,!1),Q+=":",Q+=X(z.substr(H+1),!1,!0);Q+="@"}if(Z=Z.toLowerCase(),H=Z.lastIndexOf(":"),H===-1)Q+=X(Z,!1,!0);else Q+=X(Z.substr(0,H),!1,!0),Q+=Z.substr(H)}if(G){if(G.length>=3&&G.charCodeAt(0)===47&&G.charCodeAt(2)===58){const H=G.charCodeAt(1);if(H>=65&&H<=90)G=`/${String.fromCharCode(H+32)}:${G.substr(3)}`}else if(G.length>=2&&G.charCodeAt(1)===58){const H=G.charCodeAt(0);if(H>=65&&H<=90)G=`${String.fromCharCode(H+32)}:${G.substr(2)}`}Q+=X(G,!0,!1)}if(q)Q+="?",Q+=X(q,!1,!1);if(U)Q+="#",Q+=!$?Ox(U,!1,!1):U;return Q},wx=function(J){try{return decodeURIComponent(J)}catch($){if(J.length>3)return J.substr(0,3)+wx(J.substr(3));else return J}},JB=function(J){if(!J.match(Tx))return J;return J.replace(Tx,($)=>wx($))},r10=/^\w[\w\d+.-]*$/,i10=/^\//,n10=/^\/\//,d8="",Q4="/",J80=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;Nx=k8?1:void 0;_x={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"},Tx=/(%[0-9A-Za-z][0-9A-Za-z])+/g});class v{constructor(J,$){this.lineNumber=J,this.column=$}with(J=this.lineNumber,$=this.column){if(J===this.lineNumber&&$===this.column)return this;else return new v(J,$)}delta(J=0,$=0){return this.with(this.lineNumber+J,this.column+$)}equals(J){return v.equals(this,J)}static equals(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.lineNumber===$.lineNumber&&J.column===$.column}isBefore(J){return v.isBefore(this,J)}static isBefore(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<$.column}isBeforeOrEqual(J){return v.isBeforeOrEqual(this,J)}static isBeforeOrEqual(J,$){if(J.lineNumber<$.lineNumber)return!0;if($.lineNumber<J.lineNumber)return!1;return J.column<=$.column}static compare(J,$){const X=J.lineNumber|0,Q=$.lineNumber|0;if(X===Q){const Y=J.column|0,Z=$.column|0;return Y-Z}return X-Q}clone(){return new v(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(J){return new v(J.lineNumber,J.column)}static isIPosition(J){return J&&typeof J.lineNumber==="number"&&typeof J.column==="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}var U1=N(()=>{});class L{constructor(J,$,X,Q){if(J>X||J===X&&$>Q)this.startLineNumber=X,this.startColumn=Q,this.endLineNumber=J,this.endColumn=$;else this.startLineNumber=J,this.startColumn=$,this.endLineNumber=X,this.endColumn=Q}isEmpty(){return L.isEmpty(this)}static isEmpty(J){return J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn}containsPosition(J){return L.containsPosition(this,J)}static containsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>J.endColumn)return!1;return!0}static strictContainsPosition(J,$){if($.lineNumber<J.startLineNumber||$.lineNumber>J.endLineNumber)return!1;if($.lineNumber===J.startLineNumber&&$.column<=J.startColumn)return!1;if($.lineNumber===J.endLineNumber&&$.column>=J.endColumn)return!1;return!0}containsRange(J){return L.containsRange(this,J)}static containsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>J.endColumn)return!1;return!0}strictContainsRange(J){return L.strictContainsRange(this,J)}static strictContainsRange(J,$){if($.startLineNumber<J.startLineNumber||$.endLineNumber<J.startLineNumber)return!1;if($.startLineNumber>J.endLineNumber||$.endLineNumber>J.endLineNumber)return!1;if($.startLineNumber===J.startLineNumber&&$.startColumn<=J.startColumn)return!1;if($.endLineNumber===J.endLineNumber&&$.endColumn>=J.endColumn)return!1;return!0}plusRange(J){return L.plusRange(this,J)}static plusRange(J,$){let X,Q,Y,Z;if($.startLineNumber<J.startLineNumber)X=$.startLineNumber,Q=$.startColumn;else if($.startLineNumber===J.startLineNumber)X=$.startLineNumber,Q=Math.min($.startColumn,J.startColumn);else X=J.startLineNumber,Q=J.startColumn;if($.endLineNumber>J.endLineNumber)Y=$.endLineNumber,Z=$.endColumn;else if($.endLineNumber===J.endLineNumber)Y=$.endLineNumber,Z=Math.max($.endColumn,J.endColumn);else Y=J.endLineNumber,Z=J.endColumn;return new L(X,Q,Y,Z)}intersectRanges(J){return L.intersectRanges(this,J)}static intersectRanges(J,$){let{startLineNumber:X,startColumn:Q,endLineNumber:Y,endColumn:Z}=J;const{startLineNumber:G,startColumn:q,endLineNumber:U,endColumn:H}=$;if(X<G)X=G,Q=q;else if(X===G)Q=Math.max(Q,q);if(Y>U)Y=U,Z=H;else if(Y===U)Z=Math.min(Z,H);if(X>Y)return null;if(X===Y&&Q>Z)return null;return new L(X,Q,Y,Z)}equalsRange(J){return L.equalsRange(this,J)}static equalsRange(J,$){if(!J&&!$)return!0;return!!J&&!!$&&J.startLineNumber===$.startLineNumber&&J.startColumn===$.startColumn&&J.endLineNumber===$.endLineNumber&&J.endColumn===$.endColumn}getEndPosition(){return L.getEndPosition(this)}static getEndPosition(J){return new v(J.endLineNumber,J.endColumn)}getStartPosition(){return L.getStartPosition(this)}static getStartPosition(J){return new v(J.startLineNumber,J.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(J,$){return new L(this.startLineNumber,this.startColumn,J,$)}setStartPosition(J,$){return new L(J,$,this.endLineNumber,this.endColumn)}collapseToStart(){return L.collapseToStart(this)}static collapseToStart(J){return new L(J.startLineNumber,J.startColumn,J.startLineNumber,J.startColumn)}collapseToEnd(){return L.collapseToEnd(this)}static collapseToEnd(J){return new L(J.endLineNumber,J.endColumn,J.endLineNumber,J.endColumn)}delta(J){return new L(this.startLineNumber+J,this.startColumn,this.endLineNumber+J,this.endColumn)}static fromPositions(J,$=J){return new L(J.lineNumber,J.column,$.lineNumber,$.column)}static lift(J){if(!J)return null;return new L(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)}static isIRange(J){return J&&typeof J.startLineNumber==="number"&&typeof J.startColumn==="number"&&typeof J.endLineNumber==="number"&&typeof J.endColumn==="number"}static areIntersectingOrTouching(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<J.startColumn)return!1;return!0}static areIntersecting(J,$){if(J.endLineNumber<$.startLineNumber||J.endLineNumber===$.startLineNumber&&J.endColumn<=$.startColumn)return!1;if($.endLineNumber<J.startLineNumber||$.endLineNumber===J.startLineNumber&&$.endColumn<=J.startColumn)return!1;return!0}static compareRangesUsingStarts(J,$){if(J&&$){const Y=J.startLineNumber|0,Z=$.startLineNumber|0;if(Y===Z){const G=J.startColumn|0,q=$.startColumn|0;if(G===q){const U=J.endLineNumber|0,H=$.endLineNumber|0;if(U===H){const z=J.endColumn|0,V=$.endColumn|0;return z-V}return U-H}return G-q}return Y-Z}return(J?1:0)-($?1:0)}static compareRangesUsingEnds(J,$){if(J.endLineNumber===$.endLineNumber){if(J.endColumn===$.endColumn){if(J.startLineNumber===$.startLineNumber)return J.startColumn-$.startColumn;return J.startLineNumber-$.startLineNumber}return J.endColumn-$.endColumn}return J.endLineNumber-$.endLineNumber}static spansMultipleLines(J){return J.endLineNumber>J.startLineNumber}toJSON(){return this}}var c0=N(()=>{U1()});class b0 extends L{constructor(J,$,X,Q){super(J,$,X,Q);this.selectionStartLineNumber=J,this.selectionStartColumn=$,this.positionLineNumber=X,this.positionColumn=Q}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(J){return b0.selectionsEqual(this,J)}static selectionsEqual(J,$){return J.selectionStartLineNumber===$.selectionStartLineNumber&&J.selectionStartColumn===$.selectionStartColumn&&J.positionLineNumber===$.positionLineNumber&&J.positionColumn===$.positionColumn}getDirection(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn)return 0;return 1}setEndPosition(J,$){if(this.getDirection()===0)return new b0(this.startLineNumber,this.startColumn,J,$);return new b0(J,$,this.startLineNumber,this.startColumn)}getPosition(){return new v(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new v(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(J,$){if(this.getDirection()===0)return new b0(J,$,this.endLineNumber,this.endColumn);return new b0(this.endLineNumber,this.endColumn,J,$)}static fromPositions(J,$=J){return new b0(J.lineNumber,J.column,$.lineNumber,$.column)}static fromRange(J,$){if($===0)return new b0(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn);else return new b0(J.endLineNumber,J.endColumn,J.startLineNumber,J.startColumn)}static liftSelection(J){return new b0(J.selectionStartLineNumber,J.selectionStartColumn,J.positionLineNumber,J.positionColumn)}static selectionsArrEqual(J,$){if(J&&!$||!J&&$)return!1;if(!J&&!$)return!0;if(J.length!==$.length)return!1;for(let X=0,Q=J.length;X<Q;X++)if(!this.selectionsEqual(J[X],$[X]))return!1;return!0}static isISelection(J){return J&&typeof J.selectionStartLineNumber==="number"&&typeof J.selectionStartColumn==="number"&&typeof J.positionLineNumber==="number"&&typeof J.positionColumn==="number"}static createWithDirection(J,$,X,Q,Y){if(Y===0)return new b0(J,$,X,Q);return new b0(X,Q,J,$)}}var S6=N(()=>{U1();c0()});function $B(){return bM}var T,bM,U0;var z6=N(()=>{G8();T=function(J,$){if(G6($)){const X=bM[$];if(X===void 0)throw new Error(`${J} references an unknown codicon: ${$}`);$=X}return bM[J]=$,{id:J}};bM=Object.create(null),U0={add:T("add",60000),plus:T("plus",60000),gistNew:T("gist-new",60000),repoCreate:T("repo-create",60000),lightbulb:T("lightbulb",60001),lightBulb:T("light-bulb",60001),repo:T("repo",60002),repoDelete:T("repo-delete",60002),gistFork:T("gist-fork",60003),repoForked:T("repo-forked",60003),gitPullRequest:T("git-pull-request",60004),gitPullRequestAbandoned:T("git-pull-request-abandoned",60004),recordKeys:T("record-keys",60005),keyboard:T("keyboard",60005),tag:T("tag",60006),tagAdd:T("tag-add",60006),tagRemove:T("tag-remove",60006),gitPullRequestLabel:T("git-pull-request-label",60006),person:T("person",60007),personFollow:T("person-follow",60007),personOutline:T("person-outline",60007),personFilled:T("person-filled",60007),gitBranch:T("git-branch",60008),gitBranchCreate:T("git-branch-create",60008),gitBranchDelete:T("git-branch-delete",60008),sourceControl:T("source-control",60008),mirror:T("mirror",60009),mirrorPublic:T("mirror-public",60009),star:T("star",60010),starAdd:T("star-add",60010),starDelete:T("star-delete",60010),starEmpty:T("star-empty",60010),comment:T("comment",60011),commentAdd:T("comment-add",60011),alert:T("alert",60012),warning:T("warning",60012),search:T("search",60013),searchSave:T("search-save",60013),logOut:T("log-out",60014),signOut:T("sign-out",60014),logIn:T("log-in",60015),signIn:T("sign-in",60015),eye:T("eye",60016),eyeUnwatch:T("eye-unwatch",60016),eyeWatch:T("eye-watch",60016),circleFilled:T("circle-filled",60017),primitiveDot:T("primitive-dot",60017),closeDirty:T("close-dirty",60017),debugBreakpoint:T("debug-breakpoint",60017),debugBreakpointDisabled:T("debug-breakpoint-disabled",60017),debugBreakpointPending:T("debug-breakpoint-pending",60377),debugHint:T("debug-hint",60017),primitiveSquare:T("primitive-square",60018),edit:T("edit",60019),pencil:T("pencil",60019),info:T("info",60020),issueOpened:T("issue-opened",60020),gistPrivate:T("gist-private",60021),gitForkPrivate:T("git-fork-private",60021),lock:T("lock",60021),mirrorPrivate:T("mirror-private",60021),close:T("close",60022),removeClose:T("remove-close",60022),x:T("x",60022),repoSync:T("repo-sync",60023),sync:T("sync",60023),clone:T("clone",60024),desktopDownload:T("desktop-download",60024),beaker:T("beaker",60025),microscope:T("microscope",60025),vm:T("vm",60026),deviceDesktop:T("device-desktop",60026),file:T("file",60027),fileText:T("file-text",60027),more:T("more",60028),ellipsis:T("ellipsis",60028),kebabHorizontal:T("kebab-horizontal",60028),mailReply:T("mail-reply",60029),reply:T("reply",60029),organization:T("organization",60030),organizationFilled:T("organization-filled",60030),organizationOutline:T("organization-outline",60030),newFile:T("new-file",60031),fileAdd:T("file-add",60031),newFolder:T("new-folder",60032),fileDirectoryCreate:T("file-directory-create",60032),trash:T("trash",60033),trashcan:T("trashcan",60033),history:T("history",60034),clock:T("clock",60034),folder:T("folder",60035),fileDirectory:T("file-directory",60035),symbolFolder:T("symbol-folder",60035),logoGithub:T("logo-github",60036),markGithub:T("mark-github",60036),github:T("github",60036),terminal:T("terminal",60037),console:T("console",60037),repl:T("repl",60037),zap:T("zap",60038),symbolEvent:T("symbol-event",60038),error:T("error",60039),stop:T("stop",60039),variable:T("variable",60040),symbolVariable:T("symbol-variable",60040),array:T("array",60042),symbolArray:T("symbol-array",60042),symbolModule:T("symbol-module",60043),symbolPackage:T("symbol-package",60043),symbolNamespace:T("symbol-namespace",60043),symbolObject:T("symbol-object",60043),symbolMethod:T("symbol-method",60044),symbolFunction:T("symbol-function",60044),symbolConstructor:T("symbol-constructor",60044),symbolBoolean:T("symbol-boolean",60047),symbolNull:T("symbol-null",60047),symbolNumeric:T("symbol-numeric",60048),symbolNumber:T("symbol-number",60048),symbolStructure:T("symbol-structure",60049),symbolStruct:T("symbol-struct",60049),symbolParameter:T("symbol-parameter",60050),symbolTypeParameter:T("symbol-type-parameter",60050),symbolKey:T("symbol-key",60051),symbolText:T("symbol-text",60051),symbolReference:T("symbol-reference",60052),goToFile:T("go-to-file",60052),symbolEnum:T("symbol-enum",60053),symbolValue:T("symbol-value",60053),symbolRuler:T("symbol-ruler",60054),symbolUnit:T("symbol-unit",60054),activateBreakpoints:T("activate-breakpoints",60055),archive:T("archive",60056),arrowBoth:T("arrow-both",60057),arrowDown:T("arrow-down",60058),arrowLeft:T("arrow-left",60059),arrowRight:T("arrow-right",60060),arrowSmallDown:T("arrow-small-down",60061),arrowSmallLeft:T("arrow-small-left",60062),arrowSmallRight:T("arrow-small-right",60063),arrowSmallUp:T("arrow-small-up",60064),arrowUp:T("arrow-up",60065),bell:T("bell",60066),bold:T("bold",60067),book:T("book",60068),bookmark:T("bookmark",60069),debugBreakpointConditionalUnverified:T("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:T("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:T("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:T("debug-breakpoint-data-unverified",60072),debugBreakpointData:T("debug-breakpoint-data",60073),debugBreakpointDataDisabled:T("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:T("debug-breakpoint-log-unverified",60074),debugBreakpointLog:T("debug-breakpoint-log",60075),debugBreakpointLogDisabled:T("debug-breakpoint-log-disabled",60075),briefcase:T("briefcase",60076),broadcast:T("broadcast",60077),browser:T("browser",60078),bug:T("bug",60079),calendar:T("calendar",60080),caseSensitive:T("case-sensitive",60081),check:T("check",60082),checklist:T("checklist",60083),chevronDown:T("chevron-down",60084),dropDownButton:T("drop-down-button",60084),chevronLeft:T("chevron-left",60085),chevronRight:T("chevron-right",60086),chevronUp:T("chevron-up",60087),chromeClose:T("chrome-close",60088),chromeMaximize:T("chrome-maximize",60089),chromeMinimize:T("chrome-minimize",60090),chromeRestore:T("chrome-restore",60091),circle:T("circle",60092),circleOutline:T("circle-outline",60092),debugBreakpointUnverified:T("debug-breakpoint-unverified",60092),circleSlash:T("circle-slash",60093),circuitBoard:T("circuit-board",60094),clearAll:T("clear-all",60095),clippy:T("clippy",60096),closeAll:T("close-all",60097),cloudDownload:T("cloud-download",60098),cloudUpload:T("cloud-upload",60099),code:T("code",60100),collapseAll:T("collapse-all",60101),colorMode:T("color-mode",60102),commentDiscussion:T("comment-discussion",60103),compareChanges:T("compare-changes",60157),creditCard:T("credit-card",60105),dash:T("dash",60108),dashboard:T("dashboard",60109),database:T("database",60110),debugContinue:T("debug-continue",60111),debugDisconnect:T("debug-disconnect",60112),debugPause:T("debug-pause",60113),debugRestart:T("debug-restart",60114),debugStart:T("debug-start",60115),debugStepInto:T("debug-step-into",60116),debugStepOut:T("debug-step-out",60117),debugStepOver:T("debug-step-over",60118),debugStop:T("debug-stop",60119),debug:T("debug",60120),deviceCameraVideo:T("device-camera-video",60121),deviceCamera:T("device-camera",60122),deviceMobile:T("device-mobile",60123),diffAdded:T("diff-added",60124),diffIgnored:T("diff-ignored",60125),diffModified:T("diff-modified",60126),diffRemoved:T("diff-removed",60127),diffRenamed:T("diff-renamed",60128),diff:T("diff",60129),discard:T("discard",60130),editorLayout:T("editor-layout",60131),emptyWindow:T("empty-window",60132),exclude:T("exclude",60133),extensions:T("extensions",60134),eyeClosed:T("eye-closed",60135),fileBinary:T("file-binary",60136),fileCode:T("file-code",60137),fileMedia:T("file-media",60138),filePdf:T("file-pdf",60139),fileSubmodule:T("file-submodule",60140),fileSymlinkDirectory:T("file-symlink-directory",60141),fileSymlinkFile:T("file-symlink-file",60142),fileZip:T("file-zip",60143),files:T("files",60144),filter:T("filter",60145),flame:T("flame",60146),foldDown:T("fold-down",60147),foldUp:T("fold-up",60148),fold:T("fold",60149),folderActive:T("folder-active",60150),folderOpened:T("folder-opened",60151),gear:T("gear",60152),gift:T("gift",60153),gistSecret:T("gist-secret",60154),gist:T("gist",60155),gitCommit:T("git-commit",60156),gitCompare:T("git-compare",60157),gitMerge:T("git-merge",60158),githubAction:T("github-action",60159),githubAlt:T("github-alt",60160),globe:T("globe",60161),grabber:T("grabber",60162),graph:T("graph",60163),gripper:T("gripper",60164),heart:T("heart",60165),home:T("home",60166),horizontalRule:T("horizontal-rule",60167),hubot:T("hubot",60168),inbox:T("inbox",60169),issueClosed:T("issue-closed",60324),issueReopened:T("issue-reopened",60171),issues:T("issues",60172),italic:T("italic",60173),jersey:T("jersey",60174),json:T("json",60175),bracket:T("bracket",60175),kebabVertical:T("kebab-vertical",60176),key:T("key",60177),law:T("law",60178),lightbulbAutofix:T("lightbulb-autofix",60179),linkExternal:T("link-external",60180),link:T("link",60181),listOrdered:T("list-ordered",60182),listUnordered:T("list-unordered",60183),liveShare:T("live-share",60184),loading:T("loading",60185),location:T("location",60186),mailRead:T("mail-read",60187),mail:T("mail",60188),markdown:T("markdown",60189),megaphone:T("megaphone",60190),mention:T("mention",60191),milestone:T("milestone",60192),gitPullRequestMilestone:T("git-pull-request-milestone",60192),mortarBoard:T("mortar-board",60193),move:T("move",60194),multipleWindows:T("multiple-windows",60195),mute:T("mute",60196),noNewline:T("no-newline",60197),note:T("note",60198),octoface:T("octoface",60199),openPreview:T("open-preview",60200),package:T("package",60201),paintcan:T("paintcan",60202),pin:T("pin",60203),play:T("play",60204),run:T("run",60204),plug:T("plug",60205),preserveCase:T("preserve-case",60206),preview:T("preview",60207),project:T("project",60208),pulse:T("pulse",60209),question:T("question",60210),quote:T("quote",60211),radioTower:T("radio-tower",60212),reactions:T("reactions",60213),references:T("references",60214),refresh:T("refresh",60215),regex:T("regex",60216),remoteExplorer:T("remote-explorer",60217),remote:T("remote",60218),remove:T("remove",60219),replaceAll:T("replace-all",60220),replace:T("replace",60221),repoClone:T("repo-clone",60222),repoForcePush:T("repo-force-push",60223),repoPull:T("repo-pull",60224),repoPush:T("repo-push",60225),report:T("report",60226),requestChanges:T("request-changes",60227),rocket:T("rocket",60228),rootFolderOpened:T("root-folder-opened",60229),rootFolder:T("root-folder",60230),rss:T("rss",60231),ruby:T("ruby",60232),saveAll:T("save-all",60233),saveAs:T("save-as",60234),save:T("save",60235),screenFull:T("screen-full",60236),screenNormal:T("screen-normal",60237),searchStop:T("search-stop",60238),server:T("server",60240),settingsGear:T("settings-gear",60241),settings:T("settings",60242),shield:T("shield",60243),smiley:T("smiley",60244),sortPrecedence:T("sort-precedence",60245),splitHorizontal:T("split-horizontal",60246),splitVertical:T("split-vertical",60247),squirrel:T("squirrel",60248),starFull:T("star-full",60249),starHalf:T("star-half",60250),symbolClass:T("symbol-class",60251),symbolColor:T("symbol-color",60252),symbolCustomColor:T("symbol-customcolor",60252),symbolConstant:T("symbol-constant",60253),symbolEnumMember:T("symbol-enum-member",60254),symbolField:T("symbol-field",60255),symbolFile:T("symbol-file",60256),symbolInterface:T("symbol-interface",60257),symbolKeyword:T("symbol-keyword",60258),symbolMisc:T("symbol-misc",60259),symbolOperator:T("symbol-operator",60260),symbolProperty:T("symbol-property",60261),wrench:T("wrench",60261),wrenchSubaction:T("wrench-subaction",60261),symbolSnippet:T("symbol-snippet",60262),tasklist:T("tasklist",60263),telescope:T("telescope",60264),textSize:T("text-size",60265),threeBars:T("three-bars",60266),thumbsdown:T("thumbsdown",60267),thumbsup:T("thumbsup",60268),tools:T("tools",60269),triangleDown:T("triangle-down",60270),triangleLeft:T("triangle-left",60271),triangleRight:T("triangle-right",60272),triangleUp:T("triangle-up",60273),twitter:T("twitter",60274),unfold:T("unfold",60275),unlock:T("unlock",60276),unmute:T("unmute",60277),unverified:T("unverified",60278),verified:T("verified",60279),versions:T("versions",60280),vmActive:T("vm-active",60281),vmOutline:T("vm-outline",60282),vmRunning:T("vm-running",60283),watch:T("watch",60284),whitespace:T("whitespace",60285),wholeWord:T("whole-word",60286),window:T("window",60287),wordWrap:T("word-wrap",60288),zoomIn:T("zoom-in",60289),zoomOut:T("zoom-out",60290),listFilter:T("list-filter",60291),listFlat:T("list-flat",60292),listSelection:T("list-selection",60293),selection:T("selection",60293),listTree:T("list-tree",60294),debugBreakpointFunctionUnverified:T("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:T("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:T("debug-breakpoint-function-disabled",60296),debugStackframeActive:T("debug-stackframe-active",60297),circleSmallFilled:T("circle-small-filled",60298),debugStackframeDot:T("debug-stackframe-dot",60298),debugStackframe:T("debug-stackframe",60299),debugStackframeFocused:T("debug-stackframe-focused",60299),debugBreakpointUnsupported:T("debug-breakpoint-unsupported",60300),symbolString:T("symbol-string",60301),debugReverseContinue:T("debug-reverse-continue",60302),debugStepBack:T("debug-step-back",60303),debugRestartFrame:T("debug-restart-frame",60304),callIncoming:T("call-incoming",60306),callOutgoing:T("call-outgoing",60307),menu:T("menu",60308),expandAll:T("expand-all",60309),feedback:T("feedback",60310),gitPullRequestReviewer:T("git-pull-request-reviewer",60310),groupByRefType:T("group-by-ref-type",60311),ungroupByRefType:T("ungroup-by-ref-type",60312),account:T("account",60313),gitPullRequestAssignee:T("git-pull-request-assignee",60313),bellDot:T("bell-dot",60314),debugConsole:T("debug-console",60315),library:T("library",60316),output:T("output",60317),runAll:T("run-all",60318),syncIgnored:T("sync-ignored",60319),pinned:T("pinned",60320),githubInverted:T("github-inverted",60321),debugAlt:T("debug-alt",60305),serverProcess:T("server-process",60322),serverEnvironment:T("server-environment",60323),pass:T("pass",60324),stopCircle:T("stop-circle",60325),playCircle:T("play-circle",60326),record:T("record",60327),debugAltSmall:T("debug-alt-small",60328),vmConnect:T("vm-connect",60329),cloud:T("cloud",60330),merge:T("merge",60331),exportIcon:T("export",60332),graphLeft:T("graph-left",60333),magnet:T("magnet",60334),notebook:T("notebook",60335),redo:T("redo",60336),checkAll:T("check-all",60337),pinnedDirty:T("pinned-dirty",60338),passFilled:T("pass-filled",60339),circleLargeFilled:T("circle-large-filled",60340),circleLarge:T("circle-large",60341),circleLargeOutline:T("circle-large-outline",60341),combine:T("combine",60342),gather:T("gather",60342),table:T("table",60343),variableGroup:T("variable-group",60344),typeHierarchy:T("type-hierarchy",60345),typeHierarchySub:T("type-hierarchy-sub",60346),typeHierarchySuper:T("type-hierarchy-super",60347),gitPullRequestCreate:T("git-pull-request-create",60348),runAbove:T("run-above",60349),runBelow:T("run-below",60350),notebookTemplate:T("notebook-template",60351),debugRerun:T("debug-rerun",60352),workspaceTrusted:T("workspace-trusted",60353),workspaceUntrusted:T("workspace-untrusted",60354),workspaceUnspecified:T("workspace-unspecified",60355),terminalCmd:T("terminal-cmd",60356),terminalDebian:T("terminal-debian",60357),terminalLinux:T("terminal-linux",60358),terminalPowershell:T("terminal-powershell",60359),terminalTmux:T("terminal-tmux",60360),terminalUbuntu:T("terminal-ubuntu",60361),terminalBash:T("terminal-bash",60362),arrowSwap:T("arrow-swap",60363),copy:T("copy",60364),personAdd:T("person-add",60365),filterFilled:T("filter-filled",60366),wand:T("wand",60367),debugLineByLine:T("debug-line-by-line",60368),inspect:T("inspect",60369),layers:T("layers",60370),layersDot:T("layers-dot",60371),layersActive:T("layers-active",60372),compass:T("compass",60373),compassDot:T("compass-dot",60374),compassActive:T("compass-active",60375),azure:T("azure",60376),issueDraft:T("issue-draft",60377),gitPullRequestClosed:T("git-pull-request-closed",60378),gitPullRequestDraft:T("git-pull-request-draft",60379),debugAll:T("debug-all",60380),debugCoverage:T("debug-coverage",60381),runErrors:T("run-errors",60382),folderLibrary:T("folder-library",60383),debugContinueSmall:T("debug-continue-small",60384),beakerStop:T("beaker-stop",60385),graphLine:T("graph-line",60386),graphScatter:T("graph-scatter",60387),pieChart:T("pie-chart",60388),bracketDot:T("bracket-dot",60389),bracketError:T("bracket-error",60390),lockSmall:T("lock-small",60391),azureDevops:T("azure-devops",60392),verifiedFilled:T("verified-filled",60393),newLine:T("newline",60394),layout:T("layout",60395),layoutActivitybarLeft:T("layout-activitybar-left",60396),layoutActivitybarRight:T("layout-activitybar-right",60397),layoutPanelLeft:T("layout-panel-left",60398),layoutPanelCenter:T("layout-panel-center",60399),layoutPanelJustify:T("layout-panel-justify",60400),layoutPanelRight:T("layout-panel-right",60401),layoutPanel:T("layout-panel",60402),layoutSidebarLeft:T("layout-sidebar-left",60403),layoutSidebarRight:T("layout-sidebar-right",60404),layoutStatusbar:T("layout-statusbar",60405),layoutMenubar:T("layout-menubar",60406),layoutCentered:T("layout-centered",60407),layoutSidebarRightOff:T("layout-sidebar-right-off",60416),layoutPanelOff:T("layout-panel-off",60417),layoutSidebarLeftOff:T("layout-sidebar-left-off",60418),target:T("target",60408),indent:T("indent",60409),recordSmall:T("record-small",60410),errorSmall:T("error-small",60411),arrowCircleDown:T("arrow-circle-down",60412),arrowCircleLeft:T("arrow-circle-left",60413),arrowCircleRight:T("arrow-circle-right",60414),arrowCircleUp:T("arrow-circle-up",60415),heartFilled:T("heart-filled",60420),map:T("map",60421),mapFilled:T("map-filled",60422),circleSmall:T("circle-small",60423),bellSlash:T("bell-slash",60424),bellSlashDot:T("bell-slash-dot",60425),commentUnresolved:T("comment-unresolved",60426),gitPullRequestGoToChanges:T("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:T("git-pull-request-new-changes",60428),searchFuzzy:T("search-fuzzy",60429),commentDraft:T("comment-draft",60430),send:T("send",60431),sparkle:T("sparkle",60432),insert:T("insert",60433),mic:T("mic",60434),thumbsDownFilled:T("thumbsdown-filled",60435),thumbsUpFilled:T("thumbsup-filled",60436),coffee:T("coffee",60437),snake:T("snake",60438),game:T("game",60439),vr:T("vr",60440),chip:T("chip",60441),piano:T("piano",60442),music:T("music",60443),micFilled:T("mic-filled",60444),gitFetch:T("git-fetch",60445),copilot:T("copilot",60446),lightbulbSparkle:T("lightbulb-sparkle",60447),lightbulbSparkleAutofix:T("lightbulb-sparkle-autofix",60447),robot:T("robot",60448),sparkleFilled:T("sparkle-filled",60449),diffSingle:T("diff-single",60450),diffMultiple:T("diff-multiple",60451),surroundWith:T("surround-with",60452),gitStash:T("git-stash",60454),gitStashApply:T("git-stash-apply",60455),gitStashPop:T("git-stash-pop",60456),dialogError:T("dialog-error","error"),dialogWarning:T("dialog-warning","warning"),dialogInfo:T("dialog-info","info"),dialogClose:T("dialog-close","close"),treeItemExpanded:T("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:T("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:T("tree-filter-on-type-off","list-selection"),treeFilterClear:T("tree-filter-clear","close"),treeItemLoading:T("tree-item-loading","loading"),menuSelection:T("menu-selection","check"),menuSubmenu:T("menu-submenu","chevron-right"),menuBarMore:T("menubar-more","more"),scrollbarButtonLeft:T("scrollbar-button-left","triangle-left"),scrollbarButtonRight:T("scrollbar-button-right","triangle-right"),scrollbarButtonUp:T("scrollbar-button-up","triangle-up"),scrollbarButtonDown:T("scrollbar-button-down","triangle-down"),toolBarMore:T("toolbar-more","more"),quickInputBack:T("quick-input-back","arrow-left")}});class vM{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(J){this._onDidChange.fire({changedLanguages:J,changedColorMap:!1})}register(J,$){return this._tokenizationSupports.set(J,$),this.handleChange([J]),K0(()=>{if(this._tokenizationSupports.get(J)!==$)return;this._tokenizationSupports.delete(J),this.handleChange([J])})}get(J){return this._tokenizationSupports.get(J)||null}registerFactory(J,$){var X;(X=this._factories.get(J))===null||X===void 0||X.dispose();const Q=new Lx(this,J,$);return this._factories.set(J,Q),K0(()=>{const Y=this._factories.get(J);if(!Y||Y!==Q)return;this._factories.delete(J),Y.dispose()})}async getOrCreate(J){const $=this.get(J);if($)return $;const X=this._factories.get(J);if(!X||X.isResolved)return null;return await X.resolve(),this.get(J)}isResolved(J){if(this.get(J))return!0;const X=this._factories.get(J);if(!X||X.isResolved)return!0;return!1}setColorMap(J){this._colorMap=J,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){if(this._colorMap&&this._colorMap.length>2)return this._colorMap[2];return null}}class Lx extends f{get isResolved(){return this._isResolved}constructor(J,$,X){super();this._registry=J,this._languageId=$,this._factory=X,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){if(!this._resolvePromise)this._resolvePromise=this._create();return this._resolvePromise}async _create(){const J=await this._factory.tokenizationSupport;if(this._isResolved=!0,J&&!this._isDisposed)this._register(this._registry.register(this._languageId,J))}}var Ex=N(()=>{F0();X0()});class Q${constructor(J,$,X){this.offset=J,this.type=$,this.language=X,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class fZ{constructor(J,$){this.tokens=J,this.endState=$,this._tokenizationResultBrand=void 0}}class dQ{constructor(J,$){this.tokens=J,this.endState=$,this._encodedTokenizationResultBrand=void 0}}class fM{constructor(J,$,X,Q){this.range=J,this.text=$,this.completionKind=X,this.isSnippetText=Q}equals(J){return L.lift(this.range).equalsRange(J.range)&&this.text===J.text&&this.completionKind===J.completionKind&&this.isSnippetText===J.isSnippetText}}class R7{static fromValue(J){switch(J){case"comment":return R7.Comment;case"imports":return R7.Imports;case"region":return R7.Region}return new R7(J)}constructor(J){this.value=J}}class hM{constructor(J){this.createSupport=J,this._tokenizationSupport=null}dispose(){if(this._tokenizationSupport)this._tokenizationSupport.then((J)=>{if(J)J.dispose()})}get tokenizationSupport(){if(!this._tokenizationSupport)this._tokenizationSupport=this.createSupport();return this._tokenizationSupport}}var vZ,kx,Ix,yx,nG0,XB,Sx,Cx,c1;var M7=N(()=>{z6();e8();c0();Ex();h0();(function(J){const $=new Map;$.set(0,U0.symbolMethod),$.set(1,U0.symbolFunction),$.set(2,U0.symbolConstructor),$.set(3,U0.symbolField),$.set(4,U0.symbolVariable),$.set(5,U0.symbolClass),$.set(6,U0.symbolStruct),$.set(7,U0.symbolInterface),$.set(8,U0.symbolModule),$.set(9,U0.symbolProperty),$.set(10,U0.symbolEvent),$.set(11,U0.symbolOperator),$.set(12,U0.symbolUnit),$.set(13,U0.symbolValue),$.set(15,U0.symbolEnum),$.set(14,U0.symbolConstant),$.set(15,U0.symbolEnum),$.set(16,U0.symbolEnumMember),$.set(17,U0.symbolKeyword),$.set(27,U0.symbolSnippet),$.set(18,U0.symbolText),$.set(19,U0.symbolColor),$.set(20,U0.symbolFile),$.set(21,U0.symbolReference),$.set(22,U0.symbolCustomColor),$.set(23,U0.symbolFolder),$.set(24,U0.symbolTypeParameter),$.set(25,U0.account),$.set(26,U0.issues);function X(Z){let G=$.get(Z);if(!G)console.info("No codicon found for CompletionItemKind "+Z),G=U0.symbolProperty;return G}J.toIcon=X;const Q=new Map;Q.set("method",0),Q.set("function",1),Q.set("constructor",2),Q.set("field",3),Q.set("variable",4),Q.set("class",5),Q.set("struct",6),Q.set("interface",7),Q.set("module",8),Q.set("property",9),Q.set("event",10),Q.set("operator",11),Q.set("unit",12),Q.set("value",13),Q.set("constant",14),Q.set("enum",15),Q.set("enum-member",16),Q.set("enumMember",16),Q.set("keyword",17),Q.set("snippet",27),Q.set("text",18),Q.set("color",19),Q.set("file",20),Q.set("reference",21),Q.set("customcolor",22),Q.set("folder",23),Q.set("type-parameter",24),Q.set("typeParameter",24),Q.set("account",25),Q.set("issue",26);function Y(Z,G){let q=Q.get(Z);if(typeof q==="undefined"&&!G)q=9;return q}J.fromString=Y})(vZ||(vZ={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(kx||(kx={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(Ix||(Ix={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(yx||(yx={}));nG0={[17]:F("Array","array"),[16]:F("Boolean","boolean"),[4]:F("Class","class"),[13]:F("Constant","constant"),[8]:F("Constructor","constructor"),[9]:F("Enum","enumeration"),[21]:F("EnumMember","enumeration member"),[23]:F("Event","event"),[7]:F("Field","field"),[0]:F("File","file"),[11]:F("Function","function"),[10]:F("Interface","interface"),[19]:F("Key","key"),[5]:F("Method","method"),[1]:F("Module","module"),[2]:F("Namespace","namespace"),[20]:F("Null","null"),[15]:F("Number","number"),[18]:F("Object","object"),[24]:F("Operator","operator"),[3]:F("Package","package"),[6]:F("Property","property"),[14]:F("String","string"),[22]:F("Struct","struct"),[25]:F("TypeParameter","type parameter"),[12]:F("Variable","variable")};(function(J){const $=new Map;$.set(0,U0.symbolFile),$.set(1,U0.symbolModule),$.set(2,U0.symbolNamespace),$.set(3,U0.symbolPackage),$.set(4,U0.symbolClass),$.set(5,U0.symbolMethod),$.set(6,U0.symbolProperty),$.set(7,U0.symbolField),$.set(8,U0.symbolConstructor),$.set(9,U0.symbolEnum),$.set(10,U0.symbolInterface),$.set(11,U0.symbolFunction),$.set(12,U0.symbolVariable),$.set(13,U0.symbolConstant),$.set(14,U0.symbolString),$.set(15,U0.symbolNumber),$.set(16,U0.symbolBoolean),$.set(17,U0.symbolArray),$.set(18,U0.symbolObject),$.set(19,U0.symbolKey),$.set(20,U0.symbolNull),$.set(21,U0.symbolEnumMember),$.set(22,U0.symbolStruct),$.set(23,U0.symbolEvent),$.set(24,U0.symbolOperator),$.set(25,U0.symbolTypeParameter);function X(Q){let Y=$.get(Q);if(!Y)console.info("No codicon found for SymbolKind "+Q),Y=U0.symbolProperty;return Y}J.toIcon=X})(XB||(XB={}));R7.Comment=new R7("comment");R7.Imports=new R7("imports");R7.Region=new R7("region");(function(J){function $(X){if(!X||typeof X!=="object")return!1;return typeof X.id==="string"&&typeof X.title==="string"}J.is=$})(Sx||(Sx={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(Cx||(Cx={}));c1=new vM});var QB,YB,ZB,GB,qB,UB,HB,zB,VB,jB,WB,BB,FB,KB,AB,PB,DB,RB,MB,OB,TB,NB,_B,wB,LB,EB,kB,IB,yB,SB,CB,xB,bB,vB,fB,hB,gB,pB,mB,uB;var cB=N(()=>{(function(J){J[J.Unknown=0]="Unknown",J[J.Disabled=1]="Disabled",J[J.Enabled=2]="Enabled"})(QB||(QB={}));(function(J){J[J.Invoke=1]="Invoke",J[J.Auto=2]="Auto"})(YB||(YB={}));(function(J){J[J.None=0]="None",J[J.KeepWhitespace=1]="KeepWhitespace",J[J.InsertAsSnippet=4]="InsertAsSnippet"})(ZB||(ZB={}));(function(J){J[J.Method=0]="Method",J[J.Function=1]="Function",J[J.Constructor=2]="Constructor",J[J.Field=3]="Field",J[J.Variable=4]="Variable",J[J.Class=5]="Class",J[J.Struct=6]="Struct",J[J.Interface=7]="Interface",J[J.Module=8]="Module",J[J.Property=9]="Property",J[J.Event=10]="Event",J[J.Operator=11]="Operator",J[J.Unit=12]="Unit",J[J.Value=13]="Value",J[J.Constant=14]="Constant",J[J.Enum=15]="Enum",J[J.EnumMember=16]="EnumMember",J[J.Keyword=17]="Keyword",J[J.Text=18]="Text",J[J.Color=19]="Color",J[J.File=20]="File",J[J.Reference=21]="Reference",J[J.Customcolor=22]="Customcolor",J[J.Folder=23]="Folder",J[J.TypeParameter=24]="TypeParameter",J[J.User=25]="User",J[J.Issue=26]="Issue",J[J.Snippet=27]="Snippet"})(GB||(GB={}));(function(J){J[J.Deprecated=1]="Deprecated"})(qB||(qB={}));(function(J){J[J.Invoke=0]="Invoke",J[J.TriggerCharacter=1]="TriggerCharacter",J[J.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(UB||(UB={}));(function(J){J[J.EXACT=0]="EXACT",J[J.ABOVE=1]="ABOVE",J[J.BELOW=2]="BELOW"})(HB||(HB={}));(function(J){J[J.NotSet=0]="NotSet",J[J.ContentFlush=1]="ContentFlush",J[J.RecoverFromMarkers=2]="RecoverFromMarkers",J[J.Explicit=3]="Explicit",J[J.Paste=4]="Paste",J[J.Undo=5]="Undo",J[J.Redo=6]="Redo"})(zB||(zB={}));(function(J){J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(VB||(VB={}));(function(J){J[J.Text=0]="Text",J[J.Read=1]="Read",J[J.Write=2]="Write"})(jB||(jB={}));(function(J){J[J.None=0]="None",J[J.Keep=1]="Keep",J[J.Brackets=2]="Brackets",J[J.Advanced=3]="Advanced",J[J.Full=4]="Full"})(WB||(WB={}));(function(J){J[J.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",J[J.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",J[J.accessibilitySupport=2]="accessibilitySupport",J[J.accessibilityPageSize=3]="accessibilityPageSize",J[J.ariaLabel=4]="ariaLabel",J[J.ariaRequired=5]="ariaRequired",J[J.autoClosingBrackets=6]="autoClosingBrackets",J[J.autoClosingComments=7]="autoClosingComments",J[J.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",J[J.autoClosingDelete=9]="autoClosingDelete",J[J.autoClosingOvertype=10]="autoClosingOvertype",J[J.autoClosingQuotes=11]="autoClosingQuotes",J[J.autoIndent=12]="autoIndent",J[J.automaticLayout=13]="automaticLayout",J[J.autoSurround=14]="autoSurround",J[J.bracketPairColorization=15]="bracketPairColorization",J[J.guides=16]="guides",J[J.codeLens=17]="codeLens",J[J.codeLensFontFamily=18]="codeLensFontFamily",J[J.codeLensFontSize=19]="codeLensFontSize",J[J.colorDecorators=20]="colorDecorators",J[J.colorDecoratorsLimit=21]="colorDecoratorsLimit",J[J.columnSelection=22]="columnSelection",J[J.comments=23]="comments",J[J.contextmenu=24]="contextmenu",J[J.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",J[J.cursorBlinking=26]="cursorBlinking",J[J.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",J[J.cursorStyle=28]="cursorStyle",J[J.cursorSurroundingLines=29]="cursorSurroundingLines",J[J.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",J[J.cursorWidth=31]="cursorWidth",J[J.disableLayerHinting=32]="disableLayerHinting",J[J.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",J[J.domReadOnly=34]="domReadOnly",J[J.dragAndDrop=35]="dragAndDrop",J[J.dropIntoEditor=36]="dropIntoEditor",J[J.emptySelectionClipboard=37]="emptySelectionClipboard",J[J.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",J[J.extraEditorClassName=39]="extraEditorClassName",J[J.fastScrollSensitivity=40]="fastScrollSensitivity",J[J.find=41]="find",J[J.fixedOverflowWidgets=42]="fixedOverflowWidgets",J[J.folding=43]="folding",J[J.foldingStrategy=44]="foldingStrategy",J[J.foldingHighlight=45]="foldingHighlight",J[J.foldingImportsByDefault=46]="foldingImportsByDefault",J[J.foldingMaximumRegions=47]="foldingMaximumRegions",J[J.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",J[J.fontFamily=49]="fontFamily",J[J.fontInfo=50]="fontInfo",J[J.fontLigatures=51]="fontLigatures",J[J.fontSize=52]="fontSize",J[J.fontWeight=53]="fontWeight",J[J.fontVariations=54]="fontVariations",J[J.formatOnPaste=55]="formatOnPaste",J[J.formatOnType=56]="formatOnType",J[J.glyphMargin=57]="glyphMargin",J[J.gotoLocation=58]="gotoLocation",J[J.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",J[J.hover=60]="hover",J[J.inDiffEditor=61]="inDiffEditor",J[J.inlineSuggest=62]="inlineSuggest",J[J.letterSpacing=63]="letterSpacing",J[J.lightbulb=64]="lightbulb",J[J.lineDecorationsWidth=65]="lineDecorationsWidth",J[J.lineHeight=66]="lineHeight",J[J.lineNumbers=67]="lineNumbers",J[J.lineNumbersMinChars=68]="lineNumbersMinChars",J[J.linkedEditing=69]="linkedEditing",J[J.links=70]="links",J[J.matchBrackets=71]="matchBrackets",J[J.minimap=72]="minimap",J[J.mouseStyle=73]="mouseStyle",J[J.mouseWheelScrollSensitivity=74]="mouseWheelScrollSensitivity",J[J.mouseWheelZoom=75]="mouseWheelZoom",J[J.multiCursorMergeOverlapping=76]="multiCursorMergeOverlapping",J[J.multiCursorModifier=77]="multiCursorModifier",J[J.multiCursorPaste=78]="multiCursorPaste",J[J.multiCursorLimit=79]="multiCursorLimit",J[J.occurrencesHighlight=80]="occurrencesHighlight",J[J.overviewRulerBorder=81]="overviewRulerBorder",J[J.overviewRulerLanes=82]="overviewRulerLanes",J[J.padding=83]="padding",J[J.pasteAs=84]="pasteAs",J[J.parameterHints=85]="parameterHints",J[J.peekWidgetDefaultFocus=86]="peekWidgetDefaultFocus",J[J.definitionLinkOpensInPeek=87]="definitionLinkOpensInPeek",J[J.quickSuggestions=88]="quickSuggestions",J[J.quickSuggestionsDelay=89]="quickSuggestionsDelay",J[J.readOnly=90]="readOnly",J[J.readOnlyMessage=91]="readOnlyMessage",J[J.renameOnType=92]="renameOnType",J[J.renderControlCharacters=93]="renderControlCharacters",J[J.renderFinalNewline=94]="renderFinalNewline",J[J.renderLineHighlight=95]="renderLineHighlight",J[J.renderLineHighlightOnlyWhenFocus=96]="renderLineHighlightOnlyWhenFocus",J[J.renderValidationDecorations=97]="renderValidationDecorations",J[J.renderWhitespace=98]="renderWhitespace",J[J.revealHorizontalRightPadding=99]="revealHorizontalRightPadding",J[J.roundedSelection=100]="roundedSelection",J[J.rulers=101]="rulers",J[J.scrollbar=102]="scrollbar",J[J.scrollBeyondLastColumn=103]="scrollBeyondLastColumn",J[J.scrollBeyondLastLine=104]="scrollBeyondLastLine",J[J.scrollPredominantAxis=105]="scrollPredominantAxis",J[J.selectionClipboard=106]="selectionClipboard",J[J.selectionHighlight=107]="selectionHighlight",J[J.selectOnLineNumbers=108]="selectOnLineNumbers",J[J.showFoldingControls=109]="showFoldingControls",J[J.showUnused=110]="showUnused",J[J.snippetSuggestions=111]="snippetSuggestions",J[J.smartSelect=112]="smartSelect",J[J.smoothScrolling=113]="smoothScrolling",J[J.stickyScroll=114]="stickyScroll",J[J.stickyTabStops=115]="stickyTabStops",J[J.stopRenderingLineAfter=116]="stopRenderingLineAfter",J[J.suggest=117]="suggest",J[J.suggestFontSize=118]="suggestFontSize",J[J.suggestLineHeight=119]="suggestLineHeight",J[J.suggestOnTriggerCharacters=120]="suggestOnTriggerCharacters",J[J.suggestSelection=121]="suggestSelection",J[J.tabCompletion=122]="tabCompletion",J[J.tabIndex=123]="tabIndex",J[J.unicodeHighlighting=124]="unicodeHighlighting",J[J.unusualLineTerminators=125]="unusualLineTerminators",J[J.useShadowDOM=126]="useShadowDOM",J[J.useTabStops=127]="useTabStops",J[J.wordBreak=128]="wordBreak",J[J.wordSeparators=129]="wordSeparators",J[J.wordWrap=130]="wordWrap",J[J.wordWrapBreakAfterCharacters=131]="wordWrapBreakAfterCharacters",J[J.wordWrapBreakBeforeCharacters=132]="wordWrapBreakBeforeCharacters",J[J.wordWrapColumn=133]="wordWrapColumn",J[J.wordWrapOverride1=134]="wordWrapOverride1",J[J.wordWrapOverride2=135]="wordWrapOverride2",J[J.wrappingIndent=136]="wrappingIndent",J[J.wrappingStrategy=137]="wrappingStrategy",J[J.showDeprecated=138]="showDeprecated",J[J.inlayHints=139]="inlayHints",J[J.editorClassName=140]="editorClassName",J[J.pixelRatio=141]="pixelRatio",J[J.tabFocusMode=142]="tabFocusMode",J[J.layoutInfo=143]="layoutInfo",J[J.wrappingInfo=144]="wrappingInfo",J[J.defaultColorDecorators=145]="defaultColorDecorators",J[J.colorDecoratorsActivatedOn=146]="colorDecoratorsActivatedOn",J[J.inlineCompletionsAccessibilityVerbose=147]="inlineCompletionsAccessibilityVerbose"})(BB||(BB={}));(function(J){J[J.TextDefined=0]="TextDefined",J[J.LF=1]="LF",J[J.CRLF=2]="CRLF"})(FB||(FB={}));(function(J){J[J.LF=0]="LF",J[J.CRLF=1]="CRLF"})(KB||(KB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(AB||(AB={}));(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(PB||(PB={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(DB||(DB={}));(function(J){J[J.Type=1]="Type",J[J.Parameter=2]="Parameter"})(RB||(RB={}));(function(J){J[J.Automatic=0]="Automatic",J[J.Explicit=1]="Explicit"})(MB||(MB={}));(function(J){J[J.DependsOnKbLayout=-1]="DependsOnKbLayout",J[J.Unknown=0]="Unknown",J[J.Backspace=1]="Backspace",J[J.Tab=2]="Tab",J[J.Enter=3]="Enter",J[J.Shift=4]="Shift",J[J.Ctrl=5]="Ctrl",J[J.Alt=6]="Alt",J[J.PauseBreak=7]="PauseBreak",J[J.CapsLock=8]="CapsLock",J[J.Escape=9]="Escape",J[J.Space=10]="Space",J[J.PageUp=11]="PageUp",J[J.PageDown=12]="PageDown",J[J.End=13]="End",J[J.Home=14]="Home",J[J.LeftArrow=15]="LeftArrow",J[J.UpArrow=16]="UpArrow",J[J.RightArrow=17]="RightArrow",J[J.DownArrow=18]="DownArrow",J[J.Insert=19]="Insert",J[J.Delete=20]="Delete",J[J.Digit0=21]="Digit0",J[J.Digit1=22]="Digit1",J[J.Digit2=23]="Digit2",J[J.Digit3=24]="Digit3",J[J.Digit4=25]="Digit4",J[J.Digit5=26]="Digit5",J[J.Digit6=27]="Digit6",J[J.Digit7=28]="Digit7",J[J.Digit8=29]="Digit8",J[J.Digit9=30]="Digit9",J[J.KeyA=31]="KeyA",J[J.KeyB=32]="KeyB",J[J.KeyC=33]="KeyC",J[J.KeyD=34]="KeyD",J[J.KeyE=35]="KeyE",J[J.KeyF=36]="KeyF",J[J.KeyG=37]="KeyG",J[J.KeyH=38]="KeyH",J[J.KeyI=39]="KeyI",J[J.KeyJ=40]="KeyJ",J[J.KeyK=41]="KeyK",J[J.KeyL=42]="KeyL",J[J.KeyM=43]="KeyM",J[J.KeyN=44]="KeyN",J[J.KeyO=45]="KeyO",J[J.KeyP=46]="KeyP",J[J.KeyQ=47]="KeyQ",J[J.KeyR=48]="KeyR",J[J.KeyS=49]="KeyS",J[J.KeyT=50]="KeyT",J[J.KeyU=51]="KeyU",J[J.KeyV=52]="KeyV",J[J.KeyW=53]="KeyW",J[J.KeyX=54]="KeyX",J[J.KeyY=55]="KeyY",J[J.KeyZ=56]="KeyZ",J[J.Meta=57]="Meta",J[J.ContextMenu=58]="ContextMenu",J[J.F1=59]="F1",J[J.F2=60]="F2",J[J.F3=61]="F3",J[J.F4=62]="F4",J[J.F5=63]="F5",J[J.F6=64]="F6",J[J.F7=65]="F7",J[J.F8=66]="F8",J[J.F9=67]="F9",J[J.F10=68]="F10",J[J.F11=69]="F11",J[J.F12=70]="F12",J[J.F13=71]="F13",J[J.F14=72]="F14",J[J.F15=73]="F15",J[J.F16=74]="F16",J[J.F17=75]="F17",J[J.F18=76]="F18",J[J.F19=77]="F19",J[J.F20=78]="F20",J[J.F21=79]="F21",J[J.F22=80]="F22",J[J.F23=81]="F23",J[J.F24=82]="F24",J[J.NumLock=83]="NumLock",J[J.ScrollLock=84]="ScrollLock",J[J.Semicolon=85]="Semicolon",J[J.Equal=86]="Equal",J[J.Comma=87]="Comma",J[J.Minus=88]="Minus",J[J.Period=89]="Period",J[J.Slash=90]="Slash",J[J.Backquote=91]="Backquote",J[J.BracketLeft=92]="BracketLeft",J[J.Backslash=93]="Backslash",J[J.BracketRight=94]="BracketRight",J[J.Quote=95]="Quote",J[J.OEM_8=96]="OEM_8",J[J.IntlBackslash=97]="IntlBackslash",J[J.Numpad0=98]="Numpad0",J[J.Numpad1=99]="Numpad1",J[J.Numpad2=100]="Numpad2",J[J.Numpad3=101]="Numpad3",J[J.Numpad4=102]="Numpad4",J[J.Numpad5=103]="Numpad5",J[J.Numpad6=104]="Numpad6",J[J.Numpad7=105]="Numpad7",J[J.Numpad8=106]="Numpad8",J[J.Numpad9=107]="Numpad9",J[J.NumpadMultiply=108]="NumpadMultiply",J[J.NumpadAdd=109]="NumpadAdd",J[J.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",J[J.NumpadSubtract=111]="NumpadSubtract",J[J.NumpadDecimal=112]="NumpadDecimal",J[J.NumpadDivide=113]="NumpadDivide",J[J.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",J[J.ABNT_C1=115]="ABNT_C1",J[J.ABNT_C2=116]="ABNT_C2",J[J.AudioVolumeMute=117]="AudioVolumeMute",J[J.AudioVolumeUp=118]="AudioVolumeUp",J[J.AudioVolumeDown=119]="AudioVolumeDown",J[J.BrowserSearch=120]="BrowserSearch",J[J.BrowserHome=121]="BrowserHome",J[J.BrowserBack=122]="BrowserBack",J[J.BrowserForward=123]="BrowserForward",J[J.MediaTrackNext=124]="MediaTrackNext",J[J.MediaTrackPrevious=125]="MediaTrackPrevious",J[J.MediaStop=126]="MediaStop",J[J.MediaPlayPause=127]="MediaPlayPause",J[J.LaunchMediaPlayer=128]="LaunchMediaPlayer",J[J.LaunchMail=129]="LaunchMail",J[J.LaunchApp2=130]="LaunchApp2",J[J.Clear=131]="Clear",J[J.MAX_VALUE=132]="MAX_VALUE"})(OB||(OB={}));(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(TB||(TB={}));(function(J){J[J.Unnecessary=1]="Unnecessary",J[J.Deprecated=2]="Deprecated"})(NB||(NB={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(_B||(_B={}));(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.TEXTAREA=1]="TEXTAREA",J[J.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",J[J.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",J[J.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",J[J.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",J[J.CONTENT_TEXT=6]="CONTENT_TEXT",J[J.CONTENT_EMPTY=7]="CONTENT_EMPTY",J[J.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",J[J.CONTENT_WIDGET=9]="CONTENT_WIDGET",J[J.OVERVIEW_RULER=10]="OVERVIEW_RULER",J[J.SCROLLBAR=11]="SCROLLBAR",J[J.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",J[J.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(wB||(wB={}));(function(J){J[J.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",J[J.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",J[J.TOP_CENTER=2]="TOP_CENTER"})(LB||(LB={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(EB||(EB={}));(function(J){J[J.Left=0]="Left",J[J.Right=1]="Right",J[J.None=2]="None",J[J.LeftOfInjectedText=3]="LeftOfInjectedText",J[J.RightOfInjectedText=4]="RightOfInjectedText"})(kB||(kB={}));(function(J){J[J.Off=0]="Off",J[J.On=1]="On",J[J.Relative=2]="Relative",J[J.Interval=3]="Interval",J[J.Custom=4]="Custom"})(IB||(IB={}));(function(J){J[J.None=0]="None",J[J.Text=1]="Text",J[J.Blocks=2]="Blocks"})(yB||(yB={}));(function(J){J[J.Smooth=0]="Smooth",J[J.Immediate=1]="Immediate"})(SB||(SB={}));(function(J){J[J.Auto=1]="Auto",J[J.Hidden=2]="Hidden",J[J.Visible=3]="Visible"})(CB||(CB={}));(function(J){J[J.LTR=0]="LTR",J[J.RTL=1]="RTL"})(xB||(xB={}));(function(J){J.Off="off",J.OnCode="onCode",J.On="on"})(bB||(bB={}));(function(J){J[J.Invoke=1]="Invoke",J[J.TriggerCharacter=2]="TriggerCharacter",J[J.ContentChange=3]="ContentChange"})(vB||(vB={}));(function(J){J[J.File=0]="File",J[J.Module=1]="Module",J[J.Namespace=2]="Namespace",J[J.Package=3]="Package",J[J.Class=4]="Class",J[J.Method=5]="Method",J[J.Property=6]="Property",J[J.Field=7]="Field",J[J.Constructor=8]="Constructor",J[J.Enum=9]="Enum",J[J.Interface=10]="Interface",J[J.Function=11]="Function",J[J.Variable=12]="Variable",J[J.Constant=13]="Constant",J[J.String=14]="String",J[J.Number=15]="Number",J[J.Boolean=16]="Boolean",J[J.Array=17]="Array",J[J.Object=18]="Object",J[J.Key=19]="Key",J[J.Null=20]="Null",J[J.EnumMember=21]="EnumMember",J[J.Struct=22]="Struct",J[J.Event=23]="Event",J[J.Operator=24]="Operator",J[J.TypeParameter=25]="TypeParameter"})(fB||(fB={}));(function(J){J[J.Deprecated=1]="Deprecated"})(hB||(hB={}));(function(J){J[J.Hidden=0]="Hidden",J[J.Blink=1]="Blink",J[J.Smooth=2]="Smooth",J[J.Phase=3]="Phase",J[J.Expand=4]="Expand",J[J.Solid=5]="Solid"})(gB||(gB={}));(function(J){J[J.Line=1]="Line",J[J.Block=2]="Block",J[J.Underline=3]="Underline",J[J.LineThin=4]="LineThin",J[J.BlockOutline=5]="BlockOutline",J[J.UnderlineThin=6]="UnderlineThin"})(pB||(pB={}));(function(J){J[J.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",J[J.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",J[J.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",J[J.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(mB||(mB={}));(function(J){J[J.None=0]="None",J[J.Same=1]="Same",J[J.Indent=2]="Indent",J[J.DeepIndent=3]="DeepIndent"})(uB||(uB={}))});function lB(){return{editor:void 0,languages:void 0,CancellationTokenSource:H6,Emitter:y,KeyCode:OB,KeyMod:r2,Position:v,Range:L,Selection:b0,SelectionDirection:xB,MarkerSeverity:TB,MarkerTag:NB,Uri:I0,Token:Q$}}class r2{static chord(J,$){return b7(J,$)}}var mM=N(()=>{$7();F0();xZ();e8();U1();c0();S6();M7();cB();r2.CtrlCmd=2048;r2.Shift=1024;r2.Alt=512;r2.WinCtrl=256});function xx(J,$){const X=J;if(typeof X.vscodeWindowId!=="number")Object.defineProperty(X,"vscodeWindowId",{get:()=>$})}var B1,PX;var X7=N(()=>{B1=window,PX=B1});class uM{constructor(J){this.fn=J,this.lastCache=void 0,this.lastArgKey=void 0}get(J){const $=JSON.stringify(J);if(this.lastArgKey!==$)this.lastArgKey=$,this.lastCache=this.fn(J);return this.lastCache}}class dB{get cachedValues(){return this._map}constructor(J){this.fn=J,this._map=new Map}get(J){if(this._map.has(J))return this._map.get(J);const $=this.fn(J);return this._map.set(J,$),$}}var cM=N(()=>{});class Q9{constructor(J){this.executor=J,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(J){this._error=J}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var i2=N(()=>{});function sB(J){if(!J||typeof J!=="string")return!0;return J.trim().length===0}function aQ(J,...$){if($.length===0)return J;return J.replace(X80,function(X,Q){const Y=parseInt(Q,10);return isNaN(Y)||Y<0||Y>=$.length?X:$[Y]})}function vx(J){return J.replace(/[<>"'&]/g,($)=>{switch($){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"\'":return"&apos;";case"&":return"&amp;"}return $})}function gZ(J){return J.replace(/[<>&]/g,function($){switch($){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return $}})}function J5(J){return J.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function rQ(J,$){if(!J||!$)return J;const X=$.length;if(X===0||J.length===0)return J;let Q=0;while(J.indexOf($,Q)===Q)Q=Q+X;return J.substring(Q)}function fx(J,$){if(!J||!$)return J;const X=$.length,Q=J.length;if(X===0||Q===0)return J;let Y=Q,Z=-1;while(!0){if(Z=J.lastIndexOf($,Y-1),Z===-1||Z+X!==Y)break;if(Z===0)return"";Y=Z}return J.substring(0,Y)}function hx(J){return J.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function aB(J,$,X={}){if(!J)throw new Error("Cannot create regex from empty string");if(!$)J=J5(J);if(X.wholeWord){if(!/\B/.test(J.charAt(0)))J="\\b"+J;if(!/\B/.test(J.charAt(J.length-1)))J=J+"\\b"}let Q="";if(X.global)Q+="g";if(!X.matchCase)Q+="i";if(X.multiline)Q+="m";if(X.unicode)Q+="u";return new RegExp(J,Q)}function gx(J){if(J.source==="^"||J.source==="^$"||J.source==="$"||J.source==="^\\s*$")return!1;return!!(J.exec("")&&J.lastIndex===0)}function Y9(J){return J.split(/\r\n|\r|\n/)}function S8(J){for(let $=0,X=J.length;$<X;$++){const Q=J.charCodeAt($);if(Q!==32&&Q!==9)return $}return-1}function J6(J,$=0,X=J.length){for(let Q=$;Q<X;Q++){const Y=J.charCodeAt(Q);if(Y!==32&&Y!==9)return J.substring($,Q)}return J.substring($,X)}function Z9(J,$=J.length-1){for(let X=$;X>=0;X--){const Q=J.charCodeAt(X);if(Q!==32&&Q!==9)return X}return-1}function VH(J,$){if(J<$)return-1;else if(J>$)return 1;else return 0}function rB(J,$,X=0,Q=J.length,Y=0,Z=$.length){for(;X<Q&&Y<Z;X++,Y++){const U=J.charCodeAt(X),H=$.charCodeAt(Y);if(U<H)return-1;else if(U>H)return 1}const G=Q-X,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function jH(J,$){return o2(J,$,0,J.length,0,$.length)}function o2(J,$,X=0,Q=J.length,Y=0,Z=$.length){for(;X<Q&&Y<Z;X++,Y++){let U=J.charCodeAt(X),H=$.charCodeAt(Y);if(U===H)continue;if(U>=128||H>=128)return rB(J.toLowerCase(),$.toLowerCase(),X,Q,Y,Z);if(hZ(U))U-=32;if(hZ(H))H-=32;const z=U-H;if(z===0)continue;return z}const G=Q-X,q=Z-Y;if(G<q)return-1;else if(G>q)return 1;return 0}function WH(J){return J>=48&&J<=57}function hZ(J){return J>=97&&J<=122}function Y$(J){return J>=65&&J<=90}function RX(J,$){return J.length===$.length&&o2(J,$)===0}function t2(J,$){const X=$.length;if($.length>J.length)return!1;return o2(J,$,0,X)===0}function pZ(J,$){const X=Math.min(J.length,$.length);let Q;for(Q=0;Q<X;Q++)if(J.charCodeAt(Q)!==$.charCodeAt(Q))return Q;return X}function BH(J,$){const X=Math.min(J.length,$.length);let Q;const Y=J.length-1,Z=$.length-1;for(Q=0;Q<X;Q++)if(J.charCodeAt(Y-Q)!==$.charCodeAt(Z-Q))return Q;return X}function U8(J){return 55296<=J&&J<=56319}function Z$(J){return 56320<=J&&J<=57343}function iB(J,$){return(J-55296<<10)+($-56320)+65536}function e2(J,$,X){const Q=J.charCodeAt(X);if(U8(Q)&&X+1<$){const Y=J.charCodeAt(X+1);if(Z$(Y))return iB(Q,Y)}return Q}function FH(J,$){return new Jq(J,$).nextGraphemeLength()}function dM(J,$){return new Jq(J,$).prevGraphemeLength()}function px(J,$){if($>0&&Z$(J.charCodeAt($)))$--;const X=$+FH(J,$);return[X-dM(J,X),X]}function MX(J){if(!lM)lM=Y80();return lM.test(J)}function $q(J){return Z80.test(J)}function oB(J){return sM.test(J)}function L9(J){return J>=11904&&J<=55215||J>=63744&&J<=64255||J>=65281&&J<=65374}function KH(J){return J>=127462&&J<=127487||J===8986||J===8987||J===9200||J===9203||J>=9728&&J<=10175||J===11088||J===11093||J>=127744&&J<=128591||J>=128640&&J<=128764||J>=128992&&J<=129008||J>=129280&&J<=129535||J>=129648&&J<=129782}function Xq(J){return!!(J&&J.length>0&&J.charCodeAt(0)===65279)}function tB(J){if(J=J%52,J<26)return String.fromCharCode(97+J);return String.fromCharCode(65+J-26)}function ux(J,$){if(J===0)return 0;const X=q80(J,$);if(X!==void 0)return X;const Q=new nB($,J);return Q.prevCodePoint(),Q.offset}class nB{get offset(){return this._offset}constructor(J,$=0){this._str=J,this._len=J.length,this._offset=$}setOffset(J){this._offset=J}prevCodePoint(){const J=Q80(this._str,this._offset);return this._offset-=J>=65536?2:1,J}nextCodePoint(){const J=e2(this._str,this._len,this._offset);return this._offset+=J>=65536?2:1,J}eol(){return this._offset>=this._len}}class Jq{get offset(){return this._iterator.offset}constructor(J,$=0){this._iterator=new nB(J,$)}nextGraphemeLength(){const J=sQ.getInstance(),$=this._iterator,X=$.offset;let Q=J.getGraphemeBreakType($.nextCodePoint());while(!$.eol()){const Y=$.offset,Z=J.getGraphemeBreakType($.nextCodePoint());if(bx(Q,Z)){$.setOffset(Y);break}Q=Z}return $.offset-X}prevGraphemeLength(){const J=sQ.getInstance(),$=this._iterator,X=$.offset;let Q=J.getGraphemeBreakType($.prevCodePoint());while($.offset>0){const Y=$.offset,Z=J.getGraphemeBreakType($.prevCodePoint());if(bx(Z,Q)){$.setOffset(Y);break}Q=Z}return X-$.offset}eol(){return this._iterator.eol()}}class sQ{static getInstance(){if(!sQ._INSTANCE)sQ._INSTANCE=new sQ;return sQ._INSTANCE}constructor(){this._data=G80()}getGraphemeBreakType(J){if(J<32){if(J===10)return 3;if(J===13)return 2;return 4}if(J<127)return 0;const $=this._data,X=$.length/3;let Q=1;while(Q<=X)if(J<$[3*Q])Q=2*Q;else if(J>$[3*Q+1])Q=2*Q+1;else return $[3*Q+2];return 0}}class OX{static getInstance(J){return n2.cache.get(Array.from(J))}static getLocales(){return n2._locales.value}constructor(J){this.confusableDictionary=J}isAmbiguous(J){return this.confusableDictionary.has(J)}getPrimaryConfusable(J){return this.confusableDictionary.get(J)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class DX{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){if(!this._data)this._data=new Set(DX.getRawData());return this._data}static isInvisibleCharacter(J){return DX.getData().has(J)}static get codePoints(){return DX.getData()}}var Q80,Y80,bx,G80,q80,U80,n2,X80,lM,Z80,sM,mx;var o0=N(()=>{cM();i2();Q80=function(J,$){const X=J.charCodeAt($-1);if(Z$(X)&&$>1){const Q=J.charCodeAt($-2);if(U8(Q))return iB(Q,X)}return X};Y80=function(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/};bx=function(J,$){if(J===0)return $!==5&&$!==7;if(J===2){if($===3)return!1}if(J===4||J===2||J===3)return!0;if($===4||$===2||$===3)return!0;if(J===8){if($===8||$===9||$===11||$===12)return!1}if(J===11||J===9){if($===9||$===10)return!1}if(J===12||J===10){if($===10)return!1}if($===5||$===13)return!1;if($===7)return!1;if(J===1)return!1;if(J===13&&$===14)return!1;if(J===6&&$===6)return!1;return!0},G80=function(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")};q80=function(J,$){const X=new nB($,J);let Q=X.prevCodePoint();while(U80(Q)||Q===65039||Q===8419){if(X.offset===0)return;Q=X.prevCodePoint()}if(!KH(Q))return;let Y=X.offset;if(Y>0){if(X.prevCodePoint()===8205)Y=X.offset}return Y},U80=function(J){return 127995<=J&&J<=127999},X80=/{(\d+)}/g;lM=void 0,Z80=/^[\t\n\r\x20-\x7E]*$/,sM=/[\u2028\u2029]/,mx=String.fromCharCode(65279);sQ._INSTANCE=null;n2=OX;OX.ambiguousCharacterData=new Q9(()=>{return JSON.parse("{\"_common\":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],\"_default\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"cs\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"de\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"es\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"fr\":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"it\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"ja\":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],\"ko\":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"pl\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"pt-BR\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"qps-ploc\":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"ru\":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"tr\":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],\"zh-hans\":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],\"zh-hant\":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}")});OX.cache=new uM((J)=>{function $(H){const z=new Map;for(let V=0;V<H.length;V+=2)z.set(H[V],H[V+1]);return z}function X(H,z){const V=new Map(H);for(let[j,W]of z)V.set(j,W);return V}function Q(H,z){if(!H)return z;const V=new Map;for(let[j,W]of H)if(z.has(j))V.set(j,W);return V}const Y=n2.ambiguousCharacterData.value;let Z=J.filter((H)=>!H.startsWith("_")&&(H in Y));if(Z.length===0)Z=["_default"];let G=void 0;for(let H of Z){const z=$(Y[H]);G=Q(G,z)}const q=$(Y._common),U=X(q,G);return new n2(U)});OX._locales=new Q9(()=>Object.keys(n2.ambiguousCharacterData.value).filter((J)=>!J.startsWith("_")));DX._data=void 0});var cx=N(()=>{q1();V0(".monaco-editor{--monaco-monospace-font:\"SF Mono\",Monaco,Menlo,Consolas,\"Ubuntu Mono\",\"Liberation Mono\",\"DejaVu Sans Mono\",\"Courier New\",monospace;font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif}.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{clip:rect(1px,1px,1px,1px);clip-path:inset(50%);width:1px;height:1px;margin:-1px;padding:0;top:0;overflow:hidden;position:absolute!important}.monaco-editor,.monaco-diff-editor .synthetic-focus,.monaco-editor,.monaco-diff-editor [tabindex=\"0\"]:focus,.monaco-editor,.monaco-diff-editor [tabindex=\"-1\"]:focus,.monaco-editor,.monaco-diff-editor button:focus,.monaco-editor,.monaco-diff-editor input[type=button]:focus,.monaco-editor,.monaco-diff-editor input[type=checkbox]:focus,.monaco-editor,.monaco-diff-editor input[type=search]:focus,.monaco-editor,.monaco-diff-editor input[type=text]:focus,.monaco-editor,.monaco-diff-editor select:focus,.monaco-editor,.monaco-diff-editor textarea:focus{outline-offset:-1px;outline-width:1px;outline-style:solid;outline-color:var(--vscode-focusBorder);opacity:1}")});function aM(J,$,X){if(typeof $==="string")$=J.matchMedia($);$.addEventListener("change",X)}function ax(J){return JF.INSTANCE.getZoomFactor(J)}function rx(){return eB}class JF{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(J){var $;return($=this.mapWindowIdToZoomFactor.get(this.getWindowId(J)))!==null&&$!==void 0?$:1}getWindowId(J){return J.vscodeWindowId}}class lx extends f{constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(J){var $;if(($=this._mediaQueryList)===null||$===void 0||$.removeEventListener("change",this._listener),this._mediaQueryList=PX.matchMedia(`(resolution: ${PX.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),J)this._onDidChange.fire()}}class dx extends f{get value(){return this._value}constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const J=this._register(new lx);this._register(J.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const J=document.createElement("canvas").getContext("2d"),$=PX.devicePixelRatio||1,X=J.webkitBackingStorePixelRatio||J.mozBackingStorePixelRatio||J.msBackingStorePixelRatio||J.oBackingStorePixelRatio||J.backingStorePixelRatio||1;return $/X}}class sx{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){if(!this._pixelRatioMonitor)this._pixelRatioMonitor=yZ(new dx);return this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}var Qq,Yq,u6,Y4,G$,C5,$F,F20,rM,eB;var A5=N(()=>{X7();F0();X0();JF.INSTANCE=new JF;Qq=new sx,Yq=navigator.userAgent,u6=Yq.indexOf("Firefox")>=0,Y4=Yq.indexOf("AppleWebKit")>=0,G$=Yq.indexOf("Chrome")>=0,C5=!G$&&Yq.indexOf("Safari")>=0,$F=!G$&&!C5&&Y4,F20=Yq.indexOf("Electron/")>=0,rM=Yq.indexOf("Android")>=0,eB=!1;if(typeof B1.matchMedia==="function"){const J=B1.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),$=B1.matchMedia("(display-mode: fullscreen)");eB=J.matches,aM(B1,J,({matches:X})=>{if(eB&&$.matches)return;eB=X})}});function t0(J){return new XF(J)}class XF{constructor(J){this.domNode=J,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(J){const $=Z4(J);if(this._maxWidth===$)return;this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth}setWidth(J){const $=Z4(J);if(this._width===$)return;this._width=$,this.domNode.style.width=this._width}setHeight(J){const $=Z4(J);if(this._height===$)return;this._height=$,this.domNode.style.height=this._height}setTop(J){const $=Z4(J);if(this._top===$)return;this._top=$,this.domNode.style.top=this._top}setLeft(J){const $=Z4(J);if(this._left===$)return;this._left=$,this.domNode.style.left=this._left}setBottom(J){const $=Z4(J);if(this._bottom===$)return;this._bottom=$,this.domNode.style.bottom=this._bottom}setRight(J){const $=Z4(J);if(this._right===$)return;this._right=$,this.domNode.style.right=this._right}setPaddingLeft(J){const $=Z4(J);if(this._paddingLeft===$)return;this._paddingLeft=$,this.domNode.style.paddingLeft=this._paddingLeft}setFontFamily(J){if(this._fontFamily===J)return;this._fontFamily=J,this.domNode.style.fontFamily=this._fontFamily}setFontWeight(J){if(this._fontWeight===J)return;this._fontWeight=J,this.domNode.style.fontWeight=this._fontWeight}setFontSize(J){const $=Z4(J);if(this._fontSize===$)return;this._fontSize=$,this.domNode.style.fontSize=this._fontSize}setFontStyle(J){if(this._fontStyle===J)return;this._fontStyle=J,this.domNode.style.fontStyle=this._fontStyle}setFontFeatureSettings(J){if(this._fontFeatureSettings===J)return;this._fontFeatureSettings=J,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings}setFontVariationSettings(J){if(this._fontVariationSettings===J)return;this._fontVariationSettings=J,this.domNode.style.fontVariationSettings=this._fontVariationSettings}setTextDecoration(J){if(this._textDecoration===J)return;this._textDecoration=J,this.domNode.style.textDecoration=this._textDecoration}setLineHeight(J){const $=Z4(J);if(this._lineHeight===$)return;this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight}setLetterSpacing(J){const $=Z4(J);if(this._letterSpacing===$)return;this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing}setClassName(J){if(this._className===J)return;this._className=J,this.domNode.className=this._className}toggleClassName(J,$){this.domNode.classList.toggle(J,$),this._className=this.domNode.className}setDisplay(J){if(this._display===J)return;this._display=J,this.domNode.style.display=this._display}setPosition(J){if(this._position===J)return;this._position=J,this.domNode.style.position=this._position}setVisibility(J){if(this._visibility===J)return;this._visibility=J,this.domNode.style.visibility=this._visibility}setColor(J){if(this._color===J)return;this._color=J,this.domNode.style.color=this._color}setBackgroundColor(J){if(this._backgroundColor===J)return;this._backgroundColor=J,this.domNode.style.backgroundColor=this._backgroundColor}setLayerHinting(J){if(this._layerHint===J)return;this._layerHint=J,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":""}setBoxShadow(J){if(this._boxShadow===J)return;this._boxShadow=J,this.domNode.style.boxShadow=J}setContain(J){if(this._contain===J)return;this._contain=J,this.domNode.style.contain=this._contain}setAttribute(J,$){this.domNode.setAttribute(J,$)}removeAttribute(J){this.domNode.removeAttribute(J)}appendChild(J){this.domNode.appendChild(J.domNode)}removeChild(J){this.domNode.removeChild(J.domNode)}}var Z4;var V6=N(()=>{Z4=function(J){return typeof J==="number"?`${J}px`:J}});function T8(J,$){if(J instanceof XF)J.setFontFamily($.getMassagedFontFamily()),J.setFontWeight($.fontWeight),J.setFontSize($.fontSize),J.setFontFeatureSettings($.fontFeatureSettings),J.setFontVariationSettings($.fontVariationSettings),J.setLineHeight($.lineHeight),J.setLetterSpacing($.letterSpacing);else J.style.fontFamily=$.getMassagedFontFamily(),J.style.fontWeight=$.fontWeight,J.style.fontSize=$.fontSize+"px",J.style.fontFeatureSettings=$.fontFeatureSettings,J.style.fontVariationSettings=$.fontVariationSettings,J.style.lineHeight=$.lineHeight+"px",J.style.letterSpacing=$.letterSpacing+"px"}var BJ=N(()=>{V6()});function ix(J,$){new nM(J,$).read()}class iM{constructor(J,$){this.chr=J,this.type=$,this.width=0}fulfill(J){this.width=J}}class nM{constructor(J,$){this._bareFontInfo=J,this._requests=$,this._container=null,this._testElements=null}read(){this._createDomElements(),PX.document.body.appendChild(this._container),this._readFromDomElements(),PX.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const J=document.createElement("div");J.style.position="absolute",J.style.top="-50000px",J.style.width="50000px";const $=document.createElement("div");T8($,this._bareFontInfo),J.appendChild($);const X=document.createElement("div");T8(X,this._bareFontInfo),X.style.fontWeight="bold",J.appendChild(X);const Q=document.createElement("div");T8(Q,this._bareFontInfo),Q.style.fontStyle="italic",J.appendChild(Q);const Y=[];for(let Z of this._requests){let G;if(Z.type===0)G=$;if(Z.type===2)G=X;if(Z.type===1)G=Q;G.appendChild(document.createElement("br"));const q=document.createElement("span");nM._render(q,Z),G.appendChild(q),Y.push(q)}this._container=J,this._testElements=Y}static _render(J,$){if($.chr===" "){let X="\xA0";for(let Q=0;Q<8;Q++)X+=X;J.innerText=X}else{let X=$.chr;for(let Q=0;Q<8;Q++)X+=X;J.textContent=X}}_readFromDomElements(){for(let J=0,$=this._requests.length;J<$;J++){const X=this._requests[J],Q=this._testElements[J];X.fulfill(Q.offsetWidth/256)}}}var nx=N(()=>{X7();BJ()});var FJ;var AH=N(()=>{F0();FJ=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new y,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(J){if(J=Math.min(Math.max(-5,J),20),this._zoomLevel===J)return;this._zoomLevel=J,this._onDidChangeZoomLevel.fire(this._zoomLevel)}}});class NX{static createFromValidatedSettings(J,$,X){const Q=J.get(49),Y=J.get(53),Z=J.get(52),G=J.get(51),q=J.get(54),U=J.get(66),H=J.get(63);return NX._create(Q,Y,Z,G,q,U,H,$,X)}static _create(J,$,X,Q,Y,Z,G,q,U){if(Z===0)Z=H80*X;else if(Z<oM)Z=Z*X;if(Z=Math.round(Z),Z<oM)Z=oM;const H=1+(U?0:FJ.getZoomLevel()*0.1);if(X*=H,Z*=H,Y===HJ.TRANSLATE)if($==="normal"||$==="bold")Y=HJ.OFF;else Y=`'wght' ${parseInt($,10)}`,$="normal";return new NX({pixelRatio:q,fontFamily:J,fontWeight:$,fontSize:X,fontFeatureSettings:Q,fontVariationSettings:Y,lineHeight:Z,letterSpacing:G})}constructor(J){this._bareFontInfoBrand=void 0,this.pixelRatio=J.pixelRatio,this.fontFamily=String(J.fontFamily),this.fontWeight=String(J.fontWeight),this.fontSize=J.fontSize,this.fontFeatureSettings=J.fontFeatureSettings,this.fontVariationSettings=J.fontVariationSettings,this.lineHeight=J.lineHeight|0,this.letterSpacing=J.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const J=e7.fontFamily,$=NX._wrapInQuotes(this.fontFamily);if(J&&this.fontFamily!==J)return`${$}, ${J}`;return $}static _wrapInQuotes(J){if(/[,"']/.test(J))return J;if(/[+ ]/.test(J))return`"${J}"`;return J}}class Zq extends NX{constructor(J,$){super(J);this._editorStylingBrand=void 0,this.version=z80,this.isTrusted=$,this.isMonospace=J.isMonospace,this.typicalHalfwidthCharacterWidth=J.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=J.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=J.canUseHalfwidthRightwardsArrow,this.spaceWidth=J.spaceWidth,this.middotWidth=J.middotWidth,this.wsmiddotWidth=J.wsmiddotWidth,this.maxDigitWidth=J.maxDigitWidth}equals(J){return this.fontFamily===J.fontFamily&&this.fontWeight===J.fontWeight&&this.fontSize===J.fontSize&&this.fontFeatureSettings===J.fontFeatureSettings&&this.fontVariationSettings===J.fontVariationSettings&&this.lineHeight===J.lineHeight&&this.letterSpacing===J.letterSpacing&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===J.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.maxDigitWidth===J.maxDigitWidth}}var H80,oM,z80;var QF=N(()=>{O1();J7();AH();H80=a0?1.5:1.35,oM=8;z80=2});class ox extends f{constructor(){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._cache=new tM,this._evictUntrustedReadingsTimeout=-1}dispose(){if(this._evictUntrustedReadingsTimeout!==-1)clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1;super.dispose()}clearAllFontInfos(){this._cache=new tM,this._onDidChange.fire()}_writeToCache(J,$){if(this._cache.put(J,$),!$.isTrusted&&this._evictUntrustedReadingsTimeout===-1)this._evictUntrustedReadingsTimeout=B1.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5000)}_evictUntrustedReadings(){const J=this._cache.getValues();let $=!1;for(let X of J)if(!X.isTrusted)$=!0,this._cache.remove(X);if($)this._onDidChange.fire()}readFontInfo(J){if(!this._cache.has(J)){let $=this._actualReadFontInfo(J);if($.typicalHalfwidthCharacterWidth<=2||$.typicalFullwidthCharacterWidth<=2||$.spaceWidth<=2||$.maxDigitWidth<=2)$=new Zq({pixelRatio:Qq.value,fontFamily:$.fontFamily,fontWeight:$.fontWeight,fontSize:$.fontSize,fontFeatureSettings:$.fontFeatureSettings,fontVariationSettings:$.fontVariationSettings,lineHeight:$.lineHeight,letterSpacing:$.letterSpacing,isMonospace:$.isMonospace,typicalHalfwidthCharacterWidth:Math.max($.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max($.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:$.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max($.spaceWidth,5),middotWidth:Math.max($.middotWidth,5),wsmiddotWidth:Math.max($.wsmiddotWidth,5),maxDigitWidth:Math.max($.maxDigitWidth,5)},!1);this._writeToCache(J,$)}return this._cache.get(J)}_createRequest(J,$,X,Q){const Y=new iM(J,$);return X.push(Y),Q===null||Q===void 0||Q.push(Y),Y}_actualReadFontInfo(J){const $=[],X=[],Q=this._createRequest("n",0,$,X),Y=this._createRequest("\uFF4D",0,$,null),Z=this._createRequest(" ",0,$,X),G=this._createRequest("0",0,$,X),q=this._createRequest("1",0,$,X),U=this._createRequest("2",0,$,X),H=this._createRequest("3",0,$,X),z=this._createRequest("4",0,$,X),V=this._createRequest("5",0,$,X),j=this._createRequest("6",0,$,X),W=this._createRequest("7",0,$,X),B=this._createRequest("8",0,$,X),K=this._createRequest("9",0,$,X),P=this._createRequest("\u2192",0,$,X),A=this._createRequest("\uFFEB",0,$,null),D=this._createRequest("\xB7",0,$,X),R=this._createRequest(String.fromCharCode(11825),0,$,null);for(let x=0,g="|/-_ilm%".length;x<g;x++)this._createRequest("|/-_ilm%".charAt(x),0,$,X),this._createRequest("|/-_ilm%".charAt(x),1,$,X),this._createRequest("|/-_ilm%".charAt(x),2,$,X);ix(J,$);const O=Math.max(G.width,q.width,U.width,H.width,z.width,V.width,j.width,W.width,B.width,K.width);let _=J.fontFeatureSettings===t7.OFF;const w=X[0].width;for(let x=1,g=X.length;_&&x<g;x++){const c=w-X[x].width;if(c<-0.001||c>0.001){_=!1;break}}let C=!0;if(_&&A.width!==w)C=!1;if(A.width>P.width)C=!1;return new Zq({pixelRatio:Qq.value,fontFamily:J.fontFamily,fontWeight:J.fontWeight,fontSize:J.fontSize,fontFeatureSettings:J.fontFeatureSettings,fontVariationSettings:J.fontVariationSettings,lineHeight:J.lineHeight,letterSpacing:J.letterSpacing,isMonospace:_,typicalHalfwidthCharacterWidth:Q.width,typicalFullwidthCharacterWidth:Y.width,canUseHalfwidthRightwardsArrow:C,spaceWidth:Z.width,middotWidth:D.width,wsmiddotWidth:R.width,maxDigitWidth:O},!0)}}class tM{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(J){const $=J.getId();return!!this._values[$]}get(J){const $=J.getId();return this._values[$]}put(J,$){const X=J.getId();this._keys[X]=J,this._values[X]=$}remove(J){const $=J.getId();delete this._keys[$],delete this._values[$]}getValues(){return Object.keys(this._keys).map((J)=>this._values[J])}}var PH;var eM=N(()=>{A5();X7();F0();X0();nx();J7();QF();PH=new ox});function M0(J){if(KJ.serviceIds.has(J))return KJ.serviceIds.get(J);const $=function(X,Q,Y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");V80($,X,Y)};return $.toString=()=>J,KJ.serviceIds.set(J,$),$}var V80,KJ,g0;var m0=N(()=>{V80=function(J,$,X){if($[KJ.DI_TARGET]===$)$[KJ.DI_DEPENDENCIES].push({id:J,index:X});else $[KJ.DI_DEPENDENCIES]=[{id:J,index:X}],$[KJ.DI_TARGET]=$};(function(J){J.serviceIds=new Map,J.DI_TARGET="$di$target",J.DI_DEPENDENCIES="$di$dependencies";function $(X){return X[J.DI_DEPENDENCIES]||[]}J.getServiceDependencies=$})(KJ||(KJ={}));g0=M0("instantiationService")});var l1;var G9=N(()=>{m0();l1=M0("codeEditorService")});var j6;var _X=N(()=>{m0();j6=M0("modelService")});var wX;var DH=N(()=>{m0();wX=M0("textModelService")});function mZ(J){var $,X;return{id:J.id,label:J.label,class:J.class,enabled:($=J.enabled)!==null&&$!==void 0?$:!0,checked:(X=J.checked)!==null&&X!==void 0?X:!1,run:async(...Q)=>J.run(...Q),tooltip:J.label}}class P5 extends f{constructor(J,$="",X="",Q=!0,Y){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=J,this._label=$,this._cssClass=X,this._enabled=Q,this._actionCallback=Y}get id(){return this._id}get label(){return this._label}set label(J){this._setLabel(J)}_setLabel(J){if(this._label!==J)this._label=J,this._onDidChange.fire({label:J})}get tooltip(){return this._tooltip||""}set tooltip(J){this._setTooltip(J)}_setTooltip(J){if(this._tooltip!==J)this._tooltip=J,this._onDidChange.fire({tooltip:J})}get class(){return this._cssClass}set class(J){this._setClass(J)}_setClass(J){if(this._cssClass!==J)this._cssClass=J,this._onDidChange.fire({class:J})}get enabled(){return this._enabled}set enabled(J){this._setEnabled(J)}_setEnabled(J){if(this._enabled!==J)this._enabled=J,this._onDidChange.fire({enabled:J})}get checked(){return this._checked}set checked(J){this._setChecked(J)}_setChecked(J){if(this._checked!==J)this._checked=J,this._onDidChange.fire({checked:J})}async run(J,$){if(this._actionCallback)await this._actionCallback(J)}}class q9 extends f{constructor(){super(...arguments);this._onWillRun=this._register(new y),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new y),this.onDidRun=this._onDidRun.event}async run(J,$){if(!J.enabled)return;this._onWillRun.fire({action:J});let X=void 0;try{await this.runAction(J,$)}catch(Q){X=Q}this._onDidRun.fire({action:J,error:X})}async runAction(J,$){await J.run($)}}class s8{constructor(){this.id=s8.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...J){let $=[];for(let X of J)if(!X.length);else if($.length)$=[...$,new s8,...X];else $=X;return $}async run(){}}class LX{get actions(){return this._actions}constructor(J,$,X,Q){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=J,this.label=$,this.class=Q,this._actions=X}async run(){}}class RH extends P5{constructor(){super(RH.ID,F("submenu.empty","(empty)"),void 0,!1)}}var $5=N(()=>{F0();X0();h0();s8.ID="vs.actions.separator";RH.ID="vs.actions.empty"});var JO,y0;var W6=N(()=>{z6();(function(J){function $(X){return X&&typeof X==="object"&&typeof X.id==="string"}J.isThemeColor=$})(JO||(JO={}));(function(J){J.iconNameSegment="[A-Za-z0-9]+",J.iconNameExpression="[A-Za-z0-9-]+",J.iconModifierExpression="~[A-Za-z]+",J.iconNameCharacter="[A-Za-z0-9~-]";const $=new RegExp(`^(${J.iconNameExpression})(${J.iconModifierExpression})?\$`);function X(j){const W=$.exec(j.id);if(!W)return X(U0.error);const[,B,K]=W,P=["codicon","codicon-"+B];if(K)P.push("codicon-modifier-"+K.substring(1));return P}J.asClassNameArray=X;function Q(j){return X(j).join(" ")}J.asClassName=Q;function Y(j){return"."+X(j).join(".")}J.asCSSSelector=Y;function Z(j){return j&&typeof j==="object"&&typeof j.id==="string"&&(typeof j.color==="undefined"||JO.isThemeColor(j.color))}J.isThemeIcon=Z;const G=new RegExp(`^\\\$\\((${J.iconNameExpression}(?:${J.iconModifierExpression})?)\\)\$`);function q(j){const W=G.exec(j);if(!W)return;const[,B]=W;return{id:B}}J.fromString=q;function U(j){return{id:j}}J.fromId=U;function H(j,W){let B=j.id;const K=B.lastIndexOf("~");if(K!==-1)B=B.substring(0,K);if(W)B=`${B}~${W}`;return{id:B}}J.modify=H;function z(j){const W=j.id.lastIndexOf("~");if(W!==-1)return j.id.substring(W+1);return}J.getModifier=z;function V(j,W){var B,K;return j.id===W.id&&((B=j.color)===null||B===void 0?void 0:B.id)===((K=W.color)===null||K===void 0?void 0:K.id)}J.isEqual=V})(y0||(y0={}))});var B6,V8;var X5=N(()=>{F0();_9();X0();w9();G8();m0();B6=M0("commandService"),V8=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new y,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(J,$){if(!J)throw new Error("invalid command");if(typeof J==="string"){if(!$)throw new Error("invalid command");return this.registerCommand({id:J,handler:$})}if(J.metadata&&Array.isArray(J.metadata.args)){const G=[];for(let U of J.metadata.args)G.push(U.constraint);const q=J.handler;J.handler=function(U,...H){return HC(H,G),q(U,...H)}}const{id:X}=J;let Q=this._commands.get(X);if(!Q)Q=new I8,this._commands.set(X,Q);const Y=Q.unshift(J),Z=K0(()=>{Y();const G=this._commands.get(X);if(G===null||G===void 0?void 0:G.isEmpty())this._commands.delete(X)});return this._onDidRegisterCommand.fire(X),Z}registerCommandAlias(J,$){return V8.registerCommand(J,(X,...Q)=>X.get(B6).executeCommand($,...Q))}getCommand(J){const $=this._commands.get(J);if(!$||$.isEmpty())return;return W1.first($)}getCommands(){const J=new Map;for(let $ of this._commands.keys()){const X=this.getCommand($);if(X)J.set($,X)}return J}};V8.registerCommand("noop",()=>{})});class G4{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(J){switch(J.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return J.isTripleEq?"===":"==";case 4:return J.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return J.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return J.lexeme;case 18:return J.lexeme;case 19:return J.lexeme;case 20:return"EOF";default:throw l2(`unhandled token type: ${JSON.stringify(J)}; have you forgotten to add a case?`)}}reset(J){return this._input=J,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){while(!this._isAtEnd())switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const $=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:$})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const $=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:$})}else if(this._match(126))this._addToken(9);else this._error($O("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:if(this._match(38))this._addToken(15);else this._error($O("&&"));break;case 124:if(this._match(124))this._addToken(16);else this._error($O("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(J){if(this._isAtEnd())return!1;if(this._input.charCodeAt(this._current)!==J)return!1;return this._current++,!0}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(J){this._tokens.push({type:J,offset:this._start})}_error(J){const $=this._start,X=this._input.substring(this._start,this._current),Q={type:19,offset:this._start,lexeme:X};this._errors.push({offset:$,lexeme:X,additionalInfo:J}),this._tokens.push(Q)}_string(){this.stringRe.lastIndex=this._start;const J=this.stringRe.exec(this._input);if(J){this._current=this._start+J[0].length;const $=this._input.substring(this._start,this._current),X=G4._keywords.get($);if(X)this._addToken(X);else this._tokens.push({type:17,lexeme:$,offset:this._start})}}_quotedString(){while(this._peek()!==39&&!this._isAtEnd())this._advance();if(this._isAtEnd()){this._error(j80);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let J=this._current,$=!1,X=!1;while(!0){if(J>=this._input.length){this._current=J,this._error(W80);return}const Y=this._input.charCodeAt(J);if($)$=!1;else if(Y===47&&!X){J++;break}else if(Y===91)X=!0;else if(Y===92)$=!0;else if(Y===93)X=!1;J++}while(J<this._input.length&&G4._regexFlags.has(this._input.charCodeAt(J)))J++;this._current=J;const Q=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:Q,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var $O,j80,W80;var tx=N(()=>{D1();h0();$O=function(...J){switch(J.length){case 1:return F("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",J[0]);case 2:return F("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",J[0],J[1]);case 3:return F("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",J[0],J[1],J[2]);default:return}},j80=F("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),W80=F("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/\'.");G4._regexFlags=new Set(["i","g","s","m","y","u"].map((J)=>J.charCodeAt(0)));G4._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])});function Xb(J,$){const X=J?J.substituteConstants():void 0,Q=$?$.substituteConstants():void 0;if(!X&&!Q)return!0;if(!X||!Q)return!1;return X.equals(Q)}function YF(J,$){if(J.type===0||$.type===1)return!0;if(J.type===9){if($.type===9)return Jb(J.expr,$.expr);return!1}if($.type===9){for(let X of $.expr)if(YF(J,X))return!0;return!1}if(J.type===6){if($.type===6)return Jb($.expr,J.expr);for(let X of J.expr)if(YF(X,$))return!0;return!1}return J.equals($)}class uZ{constructor(J=F80){this._config=J,this._scanner=new G4,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(J){if(J===""){this._parsingErrors.push({message:K80,offset:0,lexeme:"",additionalInfo:A80});return}this._tokens=this._scanner.reset(J).scan(),this._current=0,this._parsingErrors=[];try{const $=this._expr();if(!this._isAtEnd()){const X=this._peek(),Q=X.type===17?R80:void 0;throw this._parsingErrors.push({message:D80,offset:X.offset,lexeme:G4.getLexeme(X),additionalInfo:Q}),uZ._parseError}return $}catch($){if($!==uZ._parseError)throw $;return}}_expr(){return this._or()}_or(){const J=[this._and()];while(this._matchOne(16)){const $=this._and();J.push($)}return J.length===1?J[0]:N0.or(...J)}_and(){const J=[this._term()];while(this._matchOne(15)){const $=this._term();J.push($)}return J.length===1?J[0]:N0.and(...J)}_term(){if(this._matchOne(2)){const J=this._peek();switch(J.type){case 11:return this._advance(),f7.INSTANCE;case 12:return this._advance(),Q5.INSTANCE;case 0:{this._advance();const $=this._expr();return this._consume(1,ex),$===null||$===void 0?void 0:$.negate()}case 17:return this._advance(),dZ.create(J.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",J)}}return this._primary()}_primary(){const J=this._peek();switch(J.type){case 11:return this._advance(),N0.true();case 12:return this._advance(),N0.false();case 0:{this._advance();const $=this._expr();return this._consume(1,ex),$}case 17:{const $=J.lexeme;if(this._advance(),this._matchOne(9)){const Q=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),Q.type!==10)throw this._errExpectedButGot("REGEX",Q);const Y=Q.lexeme,Z=Y.lastIndexOf("/"),G=Z===Y.length-1?void 0:this._removeFlagsGY(Y.substring(Z+1));let q;try{q=new RegExp(Y.substring(1,Z),G)}catch(U){throw this._errExpectedButGot("REGEX",Q)}return OH.create($,q)}switch(Q.type){case 10:case 19:{const Y=[Q.lexeme];this._advance();let Z=this._peek(),G=0;for(let V=0;V<Q.lexeme.length;V++)if(Q.lexeme.charCodeAt(V)===40)G++;else if(Q.lexeme.charCodeAt(V)===41)G--;while(!this._isAtEnd()&&Z.type!==15&&Z.type!==16){switch(Z.type){case 0:G++;break;case 1:G--;break;case 10:case 18:for(let V=0;V<Z.lexeme.length;V++)if(Z.lexeme.charCodeAt(V)===40)G++;else if(Q.lexeme.charCodeAt(V)===41)G--}if(G<0)break;Y.push(G4.getLexeme(Z)),this._advance(),Z=this._peek()}const q=Y.join(""),U=q.lastIndexOf("/"),H=U===q.length-1?void 0:this._removeFlagsGY(q.substring(U+1));let z;try{z=new RegExp(q.substring(1,U),H)}catch(V){throw this._errExpectedButGot("REGEX",Q)}return N0.regex($,z)}case 18:{const Y=Q.lexeme;this._advance();let Z=null;if(!sB(Y)){const G=Y.indexOf("/"),q=Y.lastIndexOf("/");if(G!==q&&G>=0){const U=Y.slice(G+1,q),H=Y[q+1]==="i"?"i":"";try{Z=new RegExp(U,H)}catch(z){throw this._errExpectedButGot("REGEX",Q)}}}if(Z===null)throw this._errExpectedButGot("REGEX",Q);return OH.create($,Z)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,P80);const Q=this._value();return N0.notIn($,Q)}switch(this._peek().type){case 3:{this._advance();const Q=this._value();if(this._previous().type===18)return N0.equals($,Q);switch(Q){case"true":return N0.has($);case"false":return N0.not($);default:return N0.equals($,Q)}}case 4:{this._advance();const Q=this._value();if(this._previous().type===18)return N0.notEquals($,Q);switch(Q){case"true":return N0.not($);case"false":return N0.has($);default:return N0.notEquals($,Q)}}case 5:return this._advance(),VF.create($,this._value());case 6:return this._advance(),jF.create($,this._value());case 7:return this._advance(),HF.create($,this._value());case 8:return this._advance(),zF.create($,this._value());case 13:return this._advance(),N0.in($,this._value());default:return N0.has($)}}case 20:throw this._parsingErrors.push({message:M80,offset:J.offset,lexeme:"",additionalInfo:O80}),uZ._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const J=this._peek();switch(J.type){case 17:case 18:return this._advance(),J.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(J){return J.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(J){if(this._check(J))return this._advance(),!0;return!1}_advance(){if(!this._isAtEnd())this._current++;return this._previous()}_consume(J,$){if(this._check(J))return this._advance();throw this._errExpectedButGot($,this._peek())}_errExpectedButGot(J,$,X){const Q=F("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",J,G4.getLexeme($)),Y=$.offset,Z=G4.getLexeme($);return this._parsingErrors.push({message:Q,offset:Y,lexeme:Z,additionalInfo:X}),uZ._parseError}_check(J){return this._peek().type===J}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}class N0{static false(){return f7.INSTANCE}static true(){return Q5.INSTANCE}static has(J){return lZ.create(J)}static equals(J,$){return TH.create(J,$)}static notEquals(J,$){return qF.create(J,$)}static regex(J,$){return OH.create(J,$)}static in(J,$){return ZF.create(J,$)}static notIn(J,$){return GF.create(J,$)}static not(J){return dZ.create(J)}static and(...J){return cZ.create(J,null,!0)}static or(...J){return EX.create(J,null,!0)}static deserialize(J){if(J===void 0||J===null)return;return this._parser.parse(J)}}class f7{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return Q5.INSTANCE}}class Q5{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return f7.INSTANCE}}class lZ{static create(J,$=null){const X=O7.get(J);if(typeof X==="boolean")return X?Q5.INSTANCE:f7.INSTANCE;return new lZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=2}cmp(J){if(J.type!==this.type)return this.type-J.type;return Yb(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){const J=O7.get(this.key);if(typeof J==="boolean")return J?Q5.INSTANCE:f7.INSTANCE;return this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){if(!this.negated)this.negated=dZ.create(this.key,this);return this.negated}}class TH{static create(J,$,X=null){if(typeof $==="boolean")return $?lZ.create(J,X):dZ.create(J,X);const Q=O7.get(J);if(typeof Q==="boolean")return $===(Q?"true":"false")?Q5.INSTANCE:f7.INSTANCE;return new TH(J,$,X)}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=4}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){const J=O7.get(this.key);if(typeof J==="boolean"){const $=J?"true":"false";return this.value===$?Q5.INSTANCE:f7.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=qF.create(this.key,this.value,this);return this.negated}}class ZF{static create(J,$){return new ZF(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=10,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.valueKey,J.key,J.valueKey)}equals(J){if(J.type===this.type)return this.key===J.key&&this.valueKey===J.valueKey;return!1}substituteConstants(){return this}evaluate(J){const $=J.getValue(this.valueKey),X=J.getValue(this.key);if(Array.isArray($))return $.includes(X);if(typeof X==="string"&&typeof $==="object"&&$!==null)return B80.call($,X);return!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){if(!this.negated)this.negated=GF.create(this.key,this.valueKey);return this.negated}}class GF{static create(J,$){return new GF(J,$)}constructor(J,$){this.key=J,this.valueKey=$,this.type=11,this._negated=ZF.create(J,$)}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._negated.cmp(J._negated)}equals(J){if(J.type===this.type)return this._negated.equals(J._negated);return!1}substituteConstants(){return this}evaluate(J){return!this._negated.evaluate(J)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class qF{static create(J,$,X=null){if(typeof $==="boolean"){if($)return dZ.create(J,X);return lZ.create(J,X)}const Q=O7.get(J);if(typeof Q==="boolean")return $===(Q?"true":"false")?f7.INSTANCE:Q5.INSTANCE;return new qF(J,$,X)}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=5}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){const J=O7.get(this.key);if(typeof J==="boolean"){const $=J?"true":"false";return this.value===$?f7.INSTANCE:Q5.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=TH.create(this.key,this.value,this);return this.negated}}class dZ{static create(J,$=null){const X=O7.get(J);if(typeof X==="boolean")return X?f7.INSTANCE:Q5.INSTANCE;return new dZ(J,$)}constructor(J,$){this.key=J,this.negated=$,this.type=3}cmp(J){if(J.type!==this.type)return this.type-J.type;return Yb(this.key,J.key)}equals(J){if(J.type===this.type)return this.key===J.key;return!1}substituteConstants(){const J=O7.get(this.key);if(typeof J==="boolean")return J?f7.INSTANCE:Q5.INSTANCE;return this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=lZ.create(this.key,this);return this.negated}}class HF{static create(J,$,X=null){return UF($,(Q)=>new HF(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=12}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=jF.create(this.key,this.value,this);return this.negated}}class zF{static create(J,$,X=null){return UF($,(Q)=>new zF(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=13}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=VF.create(this.key,this.value,this);return this.negated}}class VF{static create(J,$,X=null){return UF($,(Q)=>new VF(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=14}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=zF.create(this.key,this.value,this);return this.negated}}class jF{static create(J,$,X=null){return UF($,(Q)=>new jF(J,Q,X))}constructor(J,$,X){this.key=J,this.value=$,this.negated=X,this.type=15}cmp(J){if(J.type!==this.type)return this.type-J.type;return sZ(this.key,this.value,J.key,J.value)}equals(J){if(J.type===this.type)return this.key===J.key&&this.value===J.value;return!1}substituteConstants(){return this}evaluate(J){if(typeof this.value==="string")return!1;return parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=HF.create(this.key,this.value,this);return this.negated}}class OH{static create(J,$){return new OH(J,$)}constructor(J,$){this.key=J,this.regexp=$,this.type=7,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const $=this.regexp?this.regexp.source:"",X=J.regexp?J.regexp.source:"";if($<X)return-1;if($>X)return 1;return 0}equals(J){if(J.type===this.type){const $=this.regexp?this.regexp.source:"",X=J.regexp?J.regexp.source:"";return this.key===J.key&&$===X}return!1}substituteConstants(){return this}evaluate(J){const $=J.getValue(this.key);return this.regexp?this.regexp.test($):!1}serialize(){const J=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){if(!this.negated)this.negated=XO.create(this);return this.negated}}class XO{static create(J){return new XO(J)}constructor(J){this._actual=J,this.type=8}cmp(J){if(J.type!==this.type)return this.type-J.type;return this._actual.cmp(J._actual)}equals(J){if(J.type===this.type)return this._actual.equals(J._actual);return!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}class cZ{static create(J,$,X){return cZ._normalizeArr(J,$,X)}constructor(J,$){this.expr=J,this.negated=$,this.type=6}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,X=this.expr.length;$<X;$++){const Q=MH(this.expr[$],J.expr[$]);if(Q!==0)return Q}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){const J=Qb(this.expr);if(J===this.expr)return this;return cZ.create(J,this.negated,!1)}evaluate(J){for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].evaluate(J))return!1;return!0}static _normalizeArr(J,$,X){const Q=[];let Y=!1;for(let Z of J){if(!Z)continue;if(Z.type===1){Y=!0;continue}if(Z.type===0)return f7.INSTANCE;if(Z.type===6){Q.push(...Z.expr);continue}Q.push(Z)}if(Q.length===0&&Y)return Q5.INSTANCE;if(Q.length===0)return;if(Q.length===1)return Q[0];Q.sort(MH);for(let Z=1;Z<Q.length;Z++)if(Q[Z-1].equals(Q[Z]))Q.splice(Z,1),Z--;if(Q.length===1)return Q[0];while(Q.length>1){const Z=Q[Q.length-1];if(Z.type!==9)break;Q.pop();const G=Q.pop(),q=Q.length===0,U=EX.create(Z.expr.map((H)=>cZ.create([H,G],null,X)),null,q);if(U)Q.push(U),Q.sort(MH)}if(Q.length===1)return Q[0];if(X){for(let Z=0;Z<Q.length;Z++)for(let G=Z+1;G<Q.length;G++)if(Q[Z].negate().equals(Q[G]))return f7.INSTANCE;if(Q.length===1)return Q[0]}return new cZ(Q,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" && ")}keys(){const J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){const J=[];for(let $ of this.expr)J.push($.negate());this.negated=EX.create(J,this,!0)}return this.negated}}class EX{static create(J,$,X){return EX._normalizeArr(J,$,X)}constructor(J,$){this.expr=J,this.negated=$,this.type=9}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let $=0,X=this.expr.length;$<X;$++){const Q=MH(this.expr[$],J.expr[$]);if(Q!==0)return Q}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let $=0,X=this.expr.length;$<X;$++)if(!this.expr[$].equals(J.expr[$]))return!1;return!0}return!1}substituteConstants(){const J=Qb(this.expr);if(J===this.expr)return this;return EX.create(J,this.negated,!1)}evaluate(J){for(let $=0,X=this.expr.length;$<X;$++)if(this.expr[$].evaluate(J))return!0;return!1}static _normalizeArr(J,$,X){let Q=[],Y=!1;if(J){for(let Z=0,G=J.length;Z<G;Z++){const q=J[Z];if(!q)continue;if(q.type===0){Y=!0;continue}if(q.type===1)return Q5.INSTANCE;if(q.type===9){Q=Q.concat(q.expr);continue}Q.push(q)}if(Q.length===0&&Y)return f7.INSTANCE;Q.sort(MH)}if(Q.length===0)return;if(Q.length===1)return Q[0];for(let Z=1;Z<Q.length;Z++)if(Q[Z-1].equals(Q[Z]))Q.splice(Z,1),Z--;if(Q.length===1)return Q[0];if(X){for(let Z=0;Z<Q.length;Z++)for(let G=Z+1;G<Q.length;G++)if(Q[Z].negate().equals(Q[G]))return Q5.INSTANCE;if(Q.length===1)return Q[0]}return new EX(Q,$)}serialize(){return this.expr.map((J)=>J.serialize()).join(" || ")}keys(){const J=[];for(let $ of this.expr)J.push(...$.keys());return J}negate(){if(!this.negated){const J=[];for(let $ of this.expr)J.push($.negate());while(J.length>1){const $=J.shift(),X=J.shift(),Q=[];for(let Y of $b($))for(let Z of $b(X))Q.push(cZ.create([Y,Z],null,!1));J.unshift(EX.create(Q,null,!1))}this.negated=EX.create(J,this,!0)}return this.negated}}class z0 extends lZ{static all(){return z0._info.values()}constructor(J,$,X){super(J,null);if(this._defaultValue=$,typeof X==="object")z0._info.push({...X,key:J});else if(X!==!0)z0._info.push({key:J,description:X,type:$!==null&&$!==void 0?typeof $:void 0})}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return TH.create(this.key,J)}}var MH,UF,Qb,Yb,sZ,Jb,$b,O7,B80,F80,K80,A80,P80,ex,D80,R80,M80,O80,v0;var m1=N(()=>{O1();o0();tx();m0();h0();MH=function(J,$){return J.cmp($)},UF=function(J,$){if(typeof J==="string"){const X=parseFloat(J);if(!isNaN(X))J=X}if(typeof J==="string"||typeof J==="number")return $(J);return f7.INSTANCE},Qb=function(J){let $=null;for(let X=0,Q=J.length;X<Q;X++){const Y=J[X].substituteConstants();if(J[X]!==Y){if($===null){$=[];for(let Z=0;Z<X;Z++)$[Z]=J[Z]}}if($!==null)$[X]=Y}if($===null)return J;return $},Yb=function(J,$){if(J<$)return-1;if(J>$)return 1;return 0},sZ=function(J,$,X,Q){if(J<X)return-1;if(J>X)return 1;if($<Q)return-1;if($>Q)return 1;return 0};Jb=function(J,$){let X=0,Q=0;while(X<J.length&&Q<$.length){const Y=J[X].cmp($[Q]);if(Y<0)return!1;else if(Y===0)X++,Q++;else Q++}return X===J.length},$b=function(J){if(J.type===9)return J.expr;return[J]},O7=new Map;O7.set("false",!1);O7.set("true",!0);O7.set("isMac",a0);O7.set("isLinux",B8);O7.set("isWindows",k8);O7.set("isWeb",t4);O7.set("isMacNative",a0&&!t4);O7.set("isEdge",NC);O7.set("isFirefox",OC);O7.set("isChrome",AM);O7.set("isSafari",TC);B80=Object.prototype.hasOwnProperty,F80={regexParsingWithErrorRecovery:!0},K80=F("contextkey.parser.error.emptyString","Empty context key expression"),A80=F("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),P80=F("contextkey.parser.error.noInAfterNot","'in' after 'not'."),ex=F("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),D80=F("contextkey.parser.error.unexpectedToken","Unexpected token"),R80=F("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),M80=F("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),O80=F("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");uZ._parseError=new Error;N0._parser=new uZ({regexParsingWithErrorRecovery:!1});f7.INSTANCE=new f7;Q5.INSTANCE=new Q5;z0._info=[];v0=M0("contextKeyService")});function NH(J,$){if(typeof J==="number"){if(J===0)return null;const X=(J&65535)>>>0,Q=(J&4294901760)>>>16;if(Q!==0)return new BF([WF(X,$),WF(Q,$)]);return new BF([WF(X,$)])}else{const X=[];for(let Q=0;Q<J.length;Q++)X.push(WF(J[Q],$));return new BF(X)}}function WF(J,$){const X=J&2048?!0:!1,Q=J&256?!0:!1,Y=$===2?Q:X,Z=J&1024?!0:!1,G=J&512?!0:!1,q=$===2?X:Q,U=J&255;return new E9(Y,Z,G,q,U)}class E9{constructor(J,$,X,Q,Y){this.ctrlKey=J,this.shiftKey=$,this.altKey=X,this.metaKey=Q,this.keyCode=Y}equals(J){return J instanceof E9&&this.ctrlKey===J.ctrlKey&&this.shiftKey===J.shiftKey&&this.altKey===J.altKey&&this.metaKey===J.metaKey&&this.keyCode===J.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class BF{constructor(J){if(J.length===0)throw J4("chords");this.chords=J}}class QO{constructor(J,$,X,Q,Y,Z){this.ctrlKey=J,this.shiftKey=$,this.altKey=X,this.metaKey=Q,this.keyLabel=Y,this.keyAriaLabel=Z}}class YO{}var aZ=N(()=>{D1()});function FF(J,$){if(!J)throw new Error($?`Assertion failed (${$})`:"Assertion Failed")}function Gq(J,$="Unreachable"){throw new Error($)}function ZO(J){if(!J)n0(new b1("Assertion Failed"))}function q$(J){if(!J()){debugger;J(),n0(new b1("Assertion Failed"))}}function KF(J,$){let X=0;while(X<J.length-1){const Q=J[X],Y=J[X+1];if(!$(Q,Y))return!1;X++}return!0}var U$=N(()=>{D1()});class Zb{constructor(){this.data=new Map}add(J,$){FF(G6(J)),FF(n8($)),FF(!this.data.has(J),"There is already an extension with this id"),this.data.set(J,$)}as(J){return this.data.get(J)||null}}var r1;var Y5=N(()=>{U$();G8();r1=new Zb});class GO{constructor(){this._coreKeybindings=new I8,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(J){if(C7===1){if(J&&J.win)return J.win}else if(C7===2){if(J&&J.mac)return J.mac}else if(J&&J.linux)return J.linux;return J}registerKeybindingRule(J){const $=GO.bindToCurrentPlatform(J),X=new r;if($&&$.primary){const Q=NH($.primary,C7);if(Q)X.add(this._registerDefaultKeybinding(Q,J.id,J.args,J.weight,0,J.when))}if($&&Array.isArray($.secondary))for(let Q=0,Y=$.secondary.length;Q<Y;Q++){const Z=$.secondary[Q],G=NH(Z,C7);if(G)X.add(this._registerDefaultKeybinding(G,J.id,J.args,J.weight,-Q-1,J.when))}return X}registerCommandAndKeybindingRule(J){return x7(this.registerKeybindingRule(J),V8.registerCommand(J))}_registerDefaultKeybinding(J,$,X,Q,Y,Z){const G=this._coreKeybindings.push({keybinding:J,command:$,commandArgs:X,when:Z,weight1:Q,weight2:Y,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,K0(()=>{G(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){if(!this._cachedMergedKeybindings)this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_80);return this._cachedMergedKeybindings.slice(0)}}var _80,q4,N80;var qq=N(()=>{aZ();O1();X5();Y5();X0();w9();_80=function(J,$){if(J.weight1!==$.weight1)return J.weight1-$.weight1;if(J.command&&$.command){if(J.command<$.command)return-1;if(J.command>$.command)return 1}return J.weight2-$.weight2};q4=new GO,N80={EditorModes:"platform.keybindingsRegistry"};r1.add(N80.EditorModes,q4)});function Uq(J){return J.command!==void 0}function qb(J){return J.submenu!==void 0}class I{constructor(J){if(I._instances.has(J))throw new TypeError(`MenuId with identifier '${J}' already exists. Use MenuId.for(ident) or a unique identifier`);I._instances.set(J,this),this.id=J}}class kX{static for(J){let $=this._all.get(J);if(!$)$=new kX(J),this._all.set(J,$);return $}static merge(J){const $=new Set;for(let X of J)if(X instanceof kX)$.add(X.id);return $}constructor(J){this.id=J,this.has=($)=>$===J}}class rZ extends LX{constructor(J,$,X){super(`submenuitem.${J.submenu.id}`,typeof J.title==="string"?J.title:J.title.value,X,"submenu");this.item=J,this.hideActions=$}}var w80,Gb,PF,PJ,H$,AJ;var DJ=N(()=>{$5();W6();F0();X0();w9();X5();m1();m0();qq();w80=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Gb=function(J,$){return function(X,Q){$(X,Q,J)}};I._instances=new Map;I.CommandPalette=new I("CommandPalette");I.DebugBreakpointsContext=new I("DebugBreakpointsContext");I.DebugCallStackContext=new I("DebugCallStackContext");I.DebugConsoleContext=new I("DebugConsoleContext");I.DebugVariablesContext=new I("DebugVariablesContext");I.DebugHoverContext=new I("DebugHoverContext");I.DebugWatchContext=new I("DebugWatchContext");I.DebugToolBar=new I("DebugToolBar");I.DebugToolBarStop=new I("DebugToolBarStop");I.EditorContext=new I("EditorContext");I.SimpleEditorContext=new I("SimpleEditorContext");I.EditorContent=new I("EditorContent");I.EditorLineNumberContext=new I("EditorLineNumberContext");I.EditorContextCopy=new I("EditorContextCopy");I.EditorContextPeek=new I("EditorContextPeek");I.EditorContextShare=new I("EditorContextShare");I.EditorTitle=new I("EditorTitle");I.EditorTitleRun=new I("EditorTitleRun");I.EditorTitleContext=new I("EditorTitleContext");I.EditorTitleContextShare=new I("EditorTitleContextShare");I.EmptyEditorGroup=new I("EmptyEditorGroup");I.EmptyEditorGroupContext=new I("EmptyEditorGroupContext");I.EditorTabsBarContext=new I("EditorTabsBarContext");I.EditorTabsBarShowTabsSubmenu=new I("EditorTabsBarShowTabsSubmenu");I.EditorTabsBarShowTabsZenModeSubmenu=new I("EditorTabsBarShowTabsZenModeSubmenu");I.EditorActionsPositionSubmenu=new I("EditorActionsPositionSubmenu");I.ExplorerContext=new I("ExplorerContext");I.ExplorerContextShare=new I("ExplorerContextShare");I.ExtensionContext=new I("ExtensionContext");I.GlobalActivity=new I("GlobalActivity");I.CommandCenter=new I("CommandCenter");I.CommandCenterCenter=new I("CommandCenterCenter");I.LayoutControlMenuSubmenu=new I("LayoutControlMenuSubmenu");I.LayoutControlMenu=new I("LayoutControlMenu");I.MenubarMainMenu=new I("MenubarMainMenu");I.MenubarAppearanceMenu=new I("MenubarAppearanceMenu");I.MenubarDebugMenu=new I("MenubarDebugMenu");I.MenubarEditMenu=new I("MenubarEditMenu");I.MenubarCopy=new I("MenubarCopy");I.MenubarFileMenu=new I("MenubarFileMenu");I.MenubarGoMenu=new I("MenubarGoMenu");I.MenubarHelpMenu=new I("MenubarHelpMenu");I.MenubarLayoutMenu=new I("MenubarLayoutMenu");I.MenubarNewBreakpointMenu=new I("MenubarNewBreakpointMenu");I.PanelAlignmentMenu=new I("PanelAlignmentMenu");I.PanelPositionMenu=new I("PanelPositionMenu");I.ActivityBarPositionMenu=new I("ActivityBarPositionMenu");I.MenubarPreferencesMenu=new I("MenubarPreferencesMenu");I.MenubarRecentMenu=new I("MenubarRecentMenu");I.MenubarSelectionMenu=new I("MenubarSelectionMenu");I.MenubarShare=new I("MenubarShare");I.MenubarSwitchEditorMenu=new I("MenubarSwitchEditorMenu");I.MenubarSwitchGroupMenu=new I("MenubarSwitchGroupMenu");I.MenubarTerminalMenu=new I("MenubarTerminalMenu");I.MenubarViewMenu=new I("MenubarViewMenu");I.MenubarHomeMenu=new I("MenubarHomeMenu");I.OpenEditorsContext=new I("OpenEditorsContext");I.OpenEditorsContextShare=new I("OpenEditorsContextShare");I.ProblemsPanelContext=new I("ProblemsPanelContext");I.SCMInputBox=new I("SCMInputBox");I.SCMIncomingChanges=new I("SCMIncomingChanges");I.SCMOutgoingChanges=new I("SCMOutgoingChanges");I.SCMIncomingChangesAllChangesContext=new I("SCMIncomingChangesAllChangesContext");I.SCMIncomingChangesHistoryItemContext=new I("SCMIncomingChangesHistoryItemContext");I.SCMOutgoingChangesAllChangesContext=new I("SCMOutgoingChangesAllChangesContext");I.SCMOutgoingChangesHistoryItemContext=new I("SCMOutgoingChangesHistoryItemContext");I.SCMChangeContext=new I("SCMChangeContext");I.SCMResourceContext=new I("SCMResourceContext");I.SCMResourceContextShare=new I("SCMResourceContextShare");I.SCMResourceFolderContext=new I("SCMResourceFolderContext");I.SCMResourceGroupContext=new I("SCMResourceGroupContext");I.SCMSourceControl=new I("SCMSourceControl");I.SCMSourceControlInline=new I("SCMSourceControlInline");I.SCMTitle=new I("SCMTitle");I.SearchContext=new I("SearchContext");I.SearchActionMenu=new I("SearchActionContext");I.StatusBarWindowIndicatorMenu=new I("StatusBarWindowIndicatorMenu");I.StatusBarRemoteIndicatorMenu=new I("StatusBarRemoteIndicatorMenu");I.StickyScrollContext=new I("StickyScrollContext");I.TestItem=new I("TestItem");I.TestItemGutter=new I("TestItemGutter");I.TestMessageContext=new I("TestMessageContext");I.TestMessageContent=new I("TestMessageContent");I.TestPeekElement=new I("TestPeekElement");I.TestPeekTitle=new I("TestPeekTitle");I.TouchBarContext=new I("TouchBarContext");I.TitleBarContext=new I("TitleBarContext");I.TitleBarTitleContext=new I("TitleBarTitleContext");I.TunnelContext=new I("TunnelContext");I.TunnelPrivacy=new I("TunnelPrivacy");I.TunnelProtocol=new I("TunnelProtocol");I.TunnelPortInline=new I("TunnelInline");I.TunnelTitle=new I("TunnelTitle");I.TunnelLocalAddressInline=new I("TunnelLocalAddressInline");I.TunnelOriginInline=new I("TunnelOriginInline");I.ViewItemContext=new I("ViewItemContext");I.ViewContainerTitle=new I("ViewContainerTitle");I.ViewContainerTitleContext=new I("ViewContainerTitleContext");I.ViewTitle=new I("ViewTitle");I.ViewTitleContext=new I("ViewTitleContext");I.CommentEditorActions=new I("CommentEditorActions");I.CommentThreadTitle=new I("CommentThreadTitle");I.CommentThreadActions=new I("CommentThreadActions");I.CommentThreadAdditionalActions=new I("CommentThreadAdditionalActions");I.CommentThreadTitleContext=new I("CommentThreadTitleContext");I.CommentThreadCommentContext=new I("CommentThreadCommentContext");I.CommentTitle=new I("CommentTitle");I.CommentActions=new I("CommentActions");I.InteractiveToolbar=new I("InteractiveToolbar");I.InteractiveCellTitle=new I("InteractiveCellTitle");I.InteractiveCellDelete=new I("InteractiveCellDelete");I.InteractiveCellExecute=new I("InteractiveCellExecute");I.InteractiveInputExecute=new I("InteractiveInputExecute");I.NotebookToolbar=new I("NotebookToolbar");I.NotebookStickyScrollContext=new I("NotebookStickyScrollContext");I.NotebookCellTitle=new I("NotebookCellTitle");I.NotebookCellDelete=new I("NotebookCellDelete");I.NotebookCellInsert=new I("NotebookCellInsert");I.NotebookCellBetween=new I("NotebookCellBetween");I.NotebookCellListTop=new I("NotebookCellTop");I.NotebookCellExecute=new I("NotebookCellExecute");I.NotebookCellExecutePrimary=new I("NotebookCellExecutePrimary");I.NotebookDiffCellInputTitle=new I("NotebookDiffCellInputTitle");I.NotebookDiffCellMetadataTitle=new I("NotebookDiffCellMetadataTitle");I.NotebookDiffCellOutputsTitle=new I("NotebookDiffCellOutputsTitle");I.NotebookOutputToolbar=new I("NotebookOutputToolbar");I.NotebookEditorLayoutConfigure=new I("NotebookEditorLayoutConfigure");I.NotebookKernelSource=new I("NotebookKernelSource");I.BulkEditTitle=new I("BulkEditTitle");I.BulkEditContext=new I("BulkEditContext");I.TimelineItemContext=new I("TimelineItemContext");I.TimelineTitle=new I("TimelineTitle");I.TimelineTitleContext=new I("TimelineTitleContext");I.TimelineFilterSubMenu=new I("TimelineFilterSubMenu");I.AccountsContext=new I("AccountsContext");I.SidebarTitle=new I("SidebarTitle");I.PanelTitle=new I("PanelTitle");I.AuxiliaryBarTitle=new I("AuxiliaryBarTitle");I.TerminalInstanceContext=new I("TerminalInstanceContext");I.TerminalEditorInstanceContext=new I("TerminalEditorInstanceContext");I.TerminalNewDropdownContext=new I("TerminalNewDropdownContext");I.TerminalTabContext=new I("TerminalTabContext");I.TerminalTabEmptyAreaContext=new I("TerminalTabEmptyAreaContext");I.TerminalStickyScrollContext=new I("TerminalStickyScrollContext");I.WebviewContext=new I("WebviewContext");I.InlineCompletionsActions=new I("InlineCompletionsActions");I.NewFile=new I("NewFile");I.MergeInput1Toolbar=new I("MergeToolbar1Toolbar");I.MergeInput2Toolbar=new I("MergeToolbar2Toolbar");I.MergeBaseToolbar=new I("MergeBaseToolbar");I.MergeInputResultToolbar=new I("MergeToolbarResultToolbar");I.InlineSuggestionToolbar=new I("InlineSuggestionToolbar");I.ChatContext=new I("ChatContext");I.ChatCodeBlock=new I("ChatCodeblock");I.ChatMessageTitle=new I("ChatMessageTitle");I.ChatExecute=new I("ChatExecute");I.ChatInputSide=new I("ChatInputSide");I.AccessibleView=new I("AccessibleView");I.MultiDiffEditorFileToolbar=new I("MultiDiffEditorFileToolbar");PJ=M0("menuService");kX._all=new Map;H$=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new TM({merge:kX.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(J){return this._commands.set(J.id,J),this._onDidChangeMenu.fire(kX.for(I.CommandPalette)),K0(()=>{if(this._commands.delete(J.id))this._onDidChangeMenu.fire(kX.for(I.CommandPalette))})}getCommand(J){return this._commands.get(J)}getCommands(){const J=new Map;return this._commands.forEach(($,X)=>J.set(X,$)),J}appendMenuItem(J,$){let X=this._menuItems.get(J);if(!X)X=new I8,this._menuItems.set(J,X);const Q=X.push($);return this._onDidChangeMenu.fire(kX.for(J)),K0(()=>{Q(),this._onDidChangeMenu.fire(kX.for(J))})}appendMenuItems(J){const $=new r;for(let{id:X,item:Q}of J)$.add(this.appendMenuItem(X,Q));return $}getMenuItems(J){let $;if(this._menuItems.has(J))$=[...this._menuItems.get(J)];else $=[];if(J===I.CommandPalette)this._appendImplicitItems($);return $}_appendImplicitItems(J){const $=new Set;for(let X of J)if(Uq(X)){if($.add(X.command.id),X.alt)$.add(X.alt.id)}this._commands.forEach((X,Q)=>{if(!$.has(Q))J.push({command:X})})}};AJ=PF=class J{static label($,X){return(X===null||X===void 0?void 0:X.renderShortTitle)&&$.shortTitle?typeof $.shortTitle==="string"?$.shortTitle:$.shortTitle.value:typeof $.title==="string"?$.title:$.title.value}constructor($,X,Q,Y,Z,G){var q,U;this.hideActions=Y,this._commandService=G,this.id=$.id,this.label=PF.label($,Q),this.tooltip=(U=typeof $.tooltip==="string"?$.tooltip:(q=$.tooltip)===null||q===void 0?void 0:q.value)!==null&&U!==void 0?U:"",this.enabled=!$.precondition||Z.contextMatchesRules($.precondition),this.checked=void 0;let H;if($.toggled){const z=$.toggled.condition?$.toggled:{condition:$.toggled};if(this.checked=Z.contextMatchesRules(z.condition),this.checked&&z.tooltip)this.tooltip=typeof z.tooltip==="string"?z.tooltip:z.tooltip.value;if(this.checked&&y0.isThemeIcon(z.icon))H=z.icon;if(this.checked&&z.title)this.label=typeof z.title==="string"?z.title:z.title.value}if(!H)H=y0.isThemeIcon($.icon)?$.icon:void 0;this.item=$,this.alt=X?new PF(X,void 0,Q,Y,Z,G):void 0,this._options=Q,this.class=H&&y0.asClassName(H)}run(...$){var X,Q;let Y=[];if((X=this._options)===null||X===void 0?void 0:X.arg)Y=[...Y,this._options.arg];if((Q=this._options)===null||Q===void 0?void 0:Q.shouldForwardArgs)Y=[...Y,...$];return this._commandService.executeCommand(this.id,...Y)}};AJ=PF=w80([Gb(4,v0),Gb(5,B6)],AJ)});var Z5;var iQ=N(()=>{m0();Z5=M0("telemetryService")});function L80(J){switch(J){case c6.Trace:return"trace";case c6.Debug:return"debug";case c6.Info:return"info";case c6.Warning:return"warn";case c6.Error:return"error";case c6.Off:return"off"}}class qO extends f{constructor(){super(...arguments);this.level=Ub,this._onDidChangeLogLevel=this._register(new y),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(J){if(this.level!==J)this.level=J,this._onDidChangeLogLevel.fire(this.level)}getLevel(){return this.level}checkLogLevel(J){return this.level!==c6.Off&&this.level<=J}}class UO extends qO{constructor(J=Ub,$=!0){super();this.useColors=$,this.setLevel(J)}trace(J,...$){if(this.checkLogLevel(c6.Trace))if(this.useColors)console.log("%cTRACE","color: #888",J,...$);else console.log(J,...$)}debug(J,...$){if(this.checkLogLevel(c6.Debug))if(this.useColors)console.log("%cDEBUG","background: #eee; color: #888",J,...$);else console.log(J,...$)}info(J,...$){if(this.checkLogLevel(c6.Info))if(this.useColors)console.log("%c INFO","color: #33f",J,...$);else console.log(J,...$)}warn(J,...$){if(this.checkLogLevel(c6.Warning))if(this.useColors)console.log("%c WARN","color: #993",J,...$);else console.log(J,...$)}error(J,...$){if(this.checkLogLevel(c6.Error))if(this.useColors)console.log("%c  ERR","color: #f33",J,...$);else console.error(J,...$)}}class HO extends qO{constructor(J){super();if(this.loggers=J,J.length)this.setLevel(J[0].getLevel())}setLevel(J){for(let $ of this.loggers)$.setLevel(J);super.setLevel(J)}trace(J,...$){for(let X of this.loggers)X.trace(J,...$)}debug(J,...$){for(let X of this.loggers)X.debug(J,...$)}info(J,...$){for(let X of this.loggers)X.info(J,...$)}warn(J,...$){for(let X of this.loggers)X.warn(J,...$)}error(J,...$){for(let X of this.loggers)X.error(J,...$)}dispose(){for(let J of this.loggers)J.dispose();super.dispose()}}var Y6,c6,Ub,fq0;var U9=N(()=>{F0();X0();m1();m0();Y6=M0("logService");(function(J){J[J.Off=0]="Off",J[J.Trace=1]="Trace",J[J.Debug=2]="Debug",J[J.Info=3]="Info",J[J.Warning=4]="Warning",J[J.Error=5]="Error"})(c6||(c6={}));Ub=c6.Info;fq0=new z0("logLevel",L80(c6.Info))});var _H;var DF=N(()=>{A5();X7();O1();_H={clipboard:{writeText:fQ||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:fQ||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>{if(fQ||rx())return 0;if(navigator.keyboard||C5)return 1;return 2})(),touch:"ontouchstart"in B1||navigator.maxTouchPoints>0,pointerEvents:B1.PointerEvent&&(("ontouchstart"in B1)||navigator.maxTouchPoints>0)}});class A1{constructor(J){this._standardKeyboardEventBrand=!0;const $=J;this.browserEvent=$,this.target=$.target,this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,this.altGraphKey=$.getModifierState("AltGraph"),this.keyCode=E80($),this.code=$.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){if(this.browserEvent&&this.browserEvent.preventDefault)this.browserEvent.preventDefault()}stopPropagation(){if(this.browserEvent&&this.browserEvent.stopPropagation)this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(J){return this._asKeybinding===J}_computeKeybinding(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;let $=0;if(this.ctrlKey)$|=k80;if(this.altKey)$|=I80;if(this.shiftKey)$|=y80;if(this.metaKey)$|=S80;return $|=J,$}_computeKeyCodeChord(){let J=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57)J=this.keyCode;return new E9(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,J)}}var E80,k80,I80,y80,S80;var T7=N(()=>{A5();xZ();aZ();O1();E80=function(J){if(J.charCode){const X=String.fromCharCode(J.charCode).toUpperCase();return jJ.fromString(X)}const $=J.keyCode;if($===3)return 7;else if(u6)switch($){case 59:return 85;case 60:if(B8)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(a0)return 57;break}else if(Y4){if(a0&&$===93)return 57;else if(!a0&&$===92)return 57}return EM[$]||0},k80=a0?256:2048,I80=512,y80=1024,S80=a0?2048:256});class zO{static getSameOriginWindowChain(J){let $=Hb.get(J);if(!$){$=[],Hb.set(J,$);let X=J,Q;do{if(Q=C80(X),Q)$.push({window:new WeakRef(X),iframeElement:X.frameElement||null});else $.push({window:new WeakRef(X),iframeElement:null});X=Q}while(X)}return $.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(J,$){var X,Q;if(!$||J===$)return{top:0,left:0};let Y=0,Z=0;const G=this.getSameOriginWindowChain(J);for(let q of G){const U=q.window.deref();if(Y+=(X=U===null||U===void 0?void 0:U.scrollY)!==null&&X!==void 0?X:0,Z+=(Q=U===null||U===void 0?void 0:U.scrollX)!==null&&Q!==void 0?Q:0,U===$)break;if(!q.iframeElement)break;const H=q.iframeElement.getBoundingClientRect();Y+=H.top,Z+=H.left}return{top:Y,left:Z}}}var C80,Hb;var zb=N(()=>{C80=function(J){if(!J.parent||J.parent===J)return null;try{const $=J.location,X=J.parent.location;if($.origin!=="null"&&X.origin!=="null"&&$.origin!==X.origin)return null}catch($){return null}return J.parent},Hb=new WeakMap});class Q7{constructor(J,$){if(this.timestamp=Date.now(),this.browserEvent=$,this.leftButton=$.button===0,this.middleButton=$.button===1,this.rightButton=$.button===2,this.buttons=$.buttons,this.target=$.target,this.detail=$.detail||1,$.type==="dblclick")this.detail=2;if(this.ctrlKey=$.ctrlKey,this.shiftKey=$.shiftKey,this.altKey=$.altKey,this.metaKey=$.metaKey,typeof $.pageX==="number")this.posx=$.pageX,this.posy=$.pageY;else this.posx=$.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=$.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop;const X=zO.getPositionOfChildWindowRelativeToAncestorWindow(J,$.view);this.posx-=X.left,this.posy-=X.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class RJ{constructor(J,$=0,X=0){var Q;if(this.browserEvent=J||null,this.target=J?J.target||J.targetNode||J.srcElement:null,this.deltaY=X,this.deltaX=$,J){const Y=J,Z=J,G=((Q=J.view)===null||Q===void 0?void 0:Q.devicePixelRatio)||1;if(typeof Y.wheelDeltaY!=="undefined")if(G$)this.deltaY=Y.wheelDeltaY/(120*G);else this.deltaY=Y.wheelDeltaY/120;else if(typeof Z.VERTICAL_AXIS!=="undefined"&&Z.axis===Z.VERTICAL_AXIS)this.deltaY=-Z.detail/3;else if(J.type==="wheel"){const q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(u6&&!a0)this.deltaY=-J.deltaY/3;else this.deltaY=-J.deltaY;else this.deltaY=-J.deltaY/40}if(typeof Y.wheelDeltaX!=="undefined")if(C5&&k8)this.deltaX=-(Y.wheelDeltaX/120);else if(G$)this.deltaX=Y.wheelDeltaX/(120*G);else this.deltaX=Y.wheelDeltaX/120;else if(typeof Z.HORIZONTAL_AXIS!=="undefined"&&Z.axis===Z.HORIZONTAL_AXIS)this.deltaX=-J.detail/3;else if(J.type==="wheel"){const q=J;if(q.deltaMode===q.DOM_DELTA_LINE)if(u6&&!a0)this.deltaX=-J.deltaX/3;else this.deltaX=-J.deltaX;else this.deltaX=-J.deltaX/40}if(this.deltaY===0&&this.deltaX===0&&J.wheelDelta)if(G$)this.deltaY=J.wheelDelta/(120*G);else this.deltaY=J.wheelDelta/120}}preventDefault(){var J;(J=this.browserEvent)===null||J===void 0||J.preventDefault()}stopPropagation(){var J;(J=this.browserEvent)===null||J===void 0||J.stopPropagation()}}var k9=N(()=>{A5();zb();O1()});var RF;var VO=N(()=>{RF=Symbol("MicrotaskDelay")});function OF(J){return!!J&&typeof J.then==="function"}function iZ(J){const $=new H6,X=J($.token),Q=new Promise((Y,Z)=>{const G=$.token.onCancellationRequested(()=>{G.dispose(),Z(new KX)});Promise.resolve(X).then((q)=>{G.dispose(),$.dispose(),Y(q)},(q)=>{G.dispose(),$.dispose(),Z(q)})});return new class{cancel(){$.cancel(),$.dispose()}then(Y,Z){return Q.then(Y,Z)}catch(Y){return this.then(void 0,Y)}finally(Y){return Q.finally(Y)}}}function IX(J,$){if(!$)return iZ((X)=>IX(J,X));return new Promise((X,Q)=>{const Y=setTimeout(()=>{Z.dispose(),X()},J),Z=$.onCancellationRequested(()=>{clearTimeout(Y),Z.dispose(),Q(new KX)})})}function nQ(J,$=0,X){const Q=setTimeout(()=>{if(J(),X)Y.dispose()},$),Y=K0(()=>{clearTimeout(Q),X===null||X===void 0||X.deleteAndLeak(Y)});return X===null||X===void 0||X.add(Y),Y}class Vb{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(J){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=J,!this.queuedPromise){const $=()=>{if(this.queuedPromise=null,this.isDisposed)return;const X=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,X};this.queuedPromise=new Promise((X)=>{this.activePromise.then($,$).then(X)})}return new Promise(($,X)=>{this.queuedPromise.then($,X)})}return this.activePromise=J(),new Promise(($,X)=>{this.activePromise.then((Q)=>{this.activePromise=null,$(Q)},(Q)=>{this.activePromise=null,X(Q)})})}dispose(){this.isDisposed=!0}}class MJ{constructor(J){this.defaultDelay=J,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(J,$=this.defaultDelay){if(this.task=J,this.cancelTimeout(),!this.completionPromise)this.completionPromise=new Promise((Q,Y)=>{this.doResolve=Q,this.doReject=Y}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Q=this.task;return this.task=null,Q()}return});const X=()=>{var Q;this.deferred=null,(Q=this.doResolve)===null||Q===void 0||Q.call(this,null)};return this.deferred=$===RF?b80(X):x80($,X),this.completionPromise}isTriggered(){var J;return!!((J=this.deferred)===null||J===void 0?void 0:J.isTriggered())}cancel(){var J;if(this.cancelTimeout(),this.completionPromise)(J=this.doReject)===null||J===void 0||J.call(this,new KX),this.completionPromise=null}cancelTimeout(){var J;(J=this.deferred)===null||J===void 0||J.dispose(),this.deferred=null}dispose(){this.cancel()}}class wH{constructor(J){this.delayer=new MJ(J),this.throttler=new Vb}trigger(J,$){return this.delayer.trigger(()=>this.throttler.queue(J),$)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}class N7{constructor(J,$){if(this._token=-1,typeof J==="function"&&typeof $==="number")this.setIfNotSet(J,$)}dispose(){this.cancel()}cancel(){if(this._token!==-1)clearTimeout(this._token),this._token=-1}cancelAndSet(J,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,J()},$)}setIfNotSet(J,$){if(this._token!==-1)return;this._token=setTimeout(()=>{this._token=-1,J()},$)}}class nZ{constructor(){this.disposable=void 0}cancel(){var J;(J=this.disposable)===null||J===void 0||J.dispose(),this.disposable=void 0}cancelAndSet(J,$,X=globalThis){this.cancel();const Q=X.setInterval(()=>{J()},$);this.disposable=K0(()=>{X.clearInterval(Q),this.disposable=void 0})}dispose(){this.cancel()}}class t1{constructor(J,$){this.timeoutToken=-1,this.runner=J,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){if(this.isScheduled())clearTimeout(this.timeoutToken),this.timeoutToken=-1}schedule(J=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,J)}get delay(){return this.timeout}set delay(J){this.timeout=J}isScheduled(){return this.timeoutToken!==-1}onTimeout(){if(this.timeoutToken=-1,this.runner)this.doRun()}doRun(){var J;(J=this.runner)===null||J===void 0||J.call(this)}}class TF{constructor(J,$){this._didRun=!1,this._executor=()=>{try{this._value=$()}catch(X){this._error=X}finally{this._didRun=!0}},this._handle=Hq(J,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(!this._didRun)this._handle.dispose(),this._executor();if(this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class WO extends TF{constructor(J){super(globalThis,J)}}class LH{get isRejected(){var J;return((J=this.outcome)===null||J===void 0?void 0:J.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((J,$)=>{this.completeCallback=J,this.errorCallback=$})}complete(J){return new Promise(($)=>{this.completeCallback(J),this.outcome={outcome:0,value:J},$()})}error(J){return new Promise(($)=>{this.errorCallback(J),this.outcome={outcome:1,value:J},$()})}cancel(){return this.error(new KX)}}class H9{static fromArray(J){return new H9(($)=>{$.emitMany(J)})}static fromPromise(J){return new H9(async($)=>{$.emitMany(await J)})}static fromPromises(J){return new H9(async($)=>{await Promise.all(J.map(async(X)=>$.emitOne(await X)))})}static merge(J){return new H9(async($)=>{await Promise.all(J.map(async(X)=>{for await(let Q of X)$.emitOne(Q)}))})}constructor(J){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y,queueMicrotask(async()=>{const $={emitOne:(X)=>this.emitOne(X),emitMany:(X)=>this.emitMany(X),reject:(X)=>this.reject(X)};try{await Promise.resolve(J($)),this.resolve()}catch(X){this.reject(X)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}})}[Symbol.asyncIterator](){let J=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(J<this._results.length)return{done:!1,value:this._results[J++]};if(this._state===1)return{done:!0,value:void 0};await J0.toPromise(this._onStateChanged.event)}while(!0)}}}static map(J,$){return new H9(async(X)=>{for await(let Q of J)X.emitOne($(Q))})}map(J){return H9.map(this,J)}static filter(J,$){return new H9(async(X)=>{for await(let Q of J)if($(Q))X.emitOne(Q)})}filter(J){return H9.filter(this,J)}static coalesce(J){return H9.filter(J,($)=>!!$)}coalesce(){return H9.coalesce(this)}static async toPromise(J){const $=[];for await(let X of J)$.push(X);return $}toPromise(){return H9.toPromise(this)}emitOne(J){if(this._state!==0)return;this._results.push(J),this._onStateChanged.fire()}emitMany(J){if(this._state!==0)return;this._results=this._results.concat(J),this._onStateChanged.fire()}resolve(){if(this._state!==0)return;this._state=1,this._onStateChanged.fire()}reject(J){if(this._state!==0)return;this._state=2,this._error=J,this._onStateChanged.fire()}}var x80,b80,jO,Hq,MF;var u1=N(()=>{$7();D1();F0();X0();O1();VO();x80=(J,$)=>{let X=!0;const Q=setTimeout(()=>{X=!1,$()},J);return{isTriggered:()=>X,dispose:()=>{clearTimeout(Q),X=!1}}},b80=(J)=>{let $=!0;return queueMicrotask(()=>{if($)$=!1,J()}),{isTriggered:()=>$,dispose:()=>{$=!1}}};(function(){if(typeof globalThis.requestIdleCallback!=="function"||typeof globalThis.cancelIdleCallback!=="function")Hq=(J,$)=>{mW(()=>{if(X)return;const Q=Date.now()+15;$(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,Q-Date.now())}}))});let X=!1;return{dispose(){if(X)return;X=!0}}};else Hq=(J,$,X)=>{const Q=J.requestIdleCallback($,typeof X==="number"?{timeout:X}:void 0);let Y=!1;return{dispose(){if(Y)return;Y=!0,J.cancelIdleCallback(Q)}}};jO=(J)=>Hq(globalThis,J)})();(function(J){async function $(Q){let Y=void 0;const Z=await Promise.all(Q.map((G)=>G.then((q)=>q,(q)=>{if(!Y)Y=q;return})));if(typeof Y!=="undefined")throw Y;return Z}J.settled=$;function X(Q){return new Promise(async(Y,Z)=>{try{await Q(Y,Z)}catch(G){Z(G)}})}J.withAsyncBody=X})(MF||(MF={}));H9.EMPTY=H9.fromArray([])});var OJ,l80,g1,zq,NF,Ob,Db,jb,v80,f80,h80,x5,H4,g80,DO,RO,p80,Wb,EH,wF,BO,m80,U4,u80,c80,I9,kH,Bb,FO,KO,d80,AO,s80,Fb,Kb,PO,Ab,_F,a80,r80,i80,n80,o80,Rb,t80,e80,Mb,Pb,J60,$60,z$,X30,Q30,LF,Y30,Z30,G30,IH,EF,q30,U30;var kF=N(()=>{OJ=function(J){return function($){for(var X=arguments.length,Q=new Array(X>1?X-1:0),Y=1;Y<X;Y++)Q[Y-1]=arguments[Y];return DO(J,$,Q)}},l80=function(J){return function(){for(var $=arguments.length,X=new Array($),Q=0;Q<$;Q++)X[Q]=arguments[Q];return RO(J,X)}},g1=function(J,$,X){var Q;if(X=(Q=X)!==null&&Q!==void 0?Q:wF,jb)jb(J,null);let Y=$.length;while(Y--){let Z=$[Y];if(typeof Z==="string"){const G=X(Z);if(G!==Z){if(!v80($))$[Y]=G;Z=G}}J[Z]=!0}return J},zq=function(J){const $=g80(null);for(let[X,Q]of Db(J))$[X]=Q;return $},NF=function(J,$){while(J!==null){const Q=h80(J,$);if(Q){if(Q.get)return OJ(Q.get);if(typeof Q.value==="function")return OJ(Q.value)}J=f80(J)}function X(Q){return console.warn("fallback value for",Q),null}return X},Ob=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J60();const $=(j1)=>Ob(j1);if($.version="3.0.5",$.removed=[],!J||!J.document||J.document.nodeType!==9)return $.isSupported=!1,$;const X=J.document,Q=X.currentScript;let{document:Y}=J;const{DocumentFragment:Z,HTMLTemplateElement:G,Node:q,Element:U,NodeFilter:H,NamedNodeMap:z=J.NamedNodeMap||J.MozNamedAttrMap,HTMLFormElement:V,DOMParser:j,trustedTypes:W}=J,B=U.prototype,K=NF(B,"cloneNode"),P=NF(B,"nextSibling"),A=NF(B,"childNodes"),D=NF(B,"parentNode");if(typeof G==="function"){const j1=Y.createElement("template");if(j1.content&&j1.content.ownerDocument)Y=j1.content.ownerDocument}let R,M="";const{implementation:O,createNodeIterator:_,createDocumentFragment:w,getElementsByTagName:C}=Y,{importNode:x}=X;let g={};$.isSupported=typeof Db==="function"&&typeof D==="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:c,ERB_EXPR:b,TMPLIT_EXPR:u,DATA_ATTR:i,ARIA_ATTR:Y0,IS_SCRIPT_OR_DATA:P0,ATTR_WHITESPACE:R0}=Pb;let{IS_ALLOWED_URI:_0}=Pb,A0=null;const f0=g1({},[...Bb,...FO,...KO,...AO,...Fb]);let l0=null;const k0=g1({},[...Kb,...PO,...Ab,..._F]);let H0=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),A7=null,h6=null,P7=!0,y1=!0,g6=!1,i7=!0,p6=!1,X1=!1,QJ=!1,YJ=!1,e5=!1,UX=!1,E6=!1,rJ=!0,LW=!1;const QM="user-content-";let o=!0,s=!1,d={},E=null;const S=g1({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let p=null;const h=g1({},["audio","video","img","source","image","track"]);let t=null;const W0=g1({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),E0="http://www.w3.org/1998/Math/MathML",x0="http://www.w3.org/2000/svg",G1="http://www.w3.org/1999/xhtml";let Y1=G1,o1=!1,s1=null;const s0=g1({},[E0,x0,G1],BO);let f8;const h8=["application/xhtml+xml","text/html"],ZJ="text/html";let x1,Z6=null;const PZ=Y.createElement("form"),DZ=function j1(a){return a instanceof RegExp||a instanceof Function},iJ=function j1(a){if(Z6&&Z6===a)return;if(!a||typeof a!=="object")a={};if(a=zq(a),f8=h8.indexOf(a.PARSER_MEDIA_TYPE)===-1?f8=ZJ:f8=a.PARSER_MEDIA_TYPE,x1=f8==="application/xhtml+xml"?BO:wF,A0="ALLOWED_TAGS"in a?g1({},a.ALLOWED_TAGS,x1):f0,l0="ALLOWED_ATTR"in a?g1({},a.ALLOWED_ATTR,x1):k0,s1="ALLOWED_NAMESPACES"in a?g1({},a.ALLOWED_NAMESPACES,BO):s0,t="ADD_URI_SAFE_ATTR"in a?g1(zq(W0),a.ADD_URI_SAFE_ATTR,x1):W0,p="ADD_DATA_URI_TAGS"in a?g1(zq(h),a.ADD_DATA_URI_TAGS,x1):h,E="FORBID_CONTENTS"in a?g1({},a.FORBID_CONTENTS,x1):S,A7="FORBID_TAGS"in a?g1({},a.FORBID_TAGS,x1):{},h6="FORBID_ATTR"in a?g1({},a.FORBID_ATTR,x1):{},d="USE_PROFILES"in a?a.USE_PROFILES:!1,P7=a.ALLOW_ARIA_ATTR!==!1,y1=a.ALLOW_DATA_ATTR!==!1,g6=a.ALLOW_UNKNOWN_PROTOCOLS||!1,i7=a.ALLOW_SELF_CLOSE_IN_ATTR!==!1,p6=a.SAFE_FOR_TEMPLATES||!1,X1=a.WHOLE_DOCUMENT||!1,e5=a.RETURN_DOM||!1,UX=a.RETURN_DOM_FRAGMENT||!1,E6=a.RETURN_TRUSTED_TYPE||!1,YJ=a.FORCE_BODY||!1,rJ=a.SANITIZE_DOM!==!1,LW=a.SANITIZE_NAMED_PROPS||!1,o=a.KEEP_CONTENT!==!1,s=a.IN_PLACE||!1,_0=a.ALLOWED_URI_REGEXP||Rb,Y1=a.NAMESPACE||G1,H0=a.CUSTOM_ELEMENT_HANDLING||{},a.CUSTOM_ELEMENT_HANDLING&&DZ(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck))H0.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&DZ(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))H0.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(a.CUSTOM_ELEMENT_HANDLING&&typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")H0.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(p6)y1=!1;if(UX)e5=!0;if(d){if(A0=g1({},[...Fb]),l0=[],d.html===!0)g1(A0,Bb),g1(l0,Kb);if(d.svg===!0)g1(A0,FO),g1(l0,PO),g1(l0,_F);if(d.svgFilters===!0)g1(A0,KO),g1(l0,PO),g1(l0,_F);if(d.mathMl===!0)g1(A0,AO),g1(l0,Ab),g1(l0,_F)}if(a.ADD_TAGS){if(A0===f0)A0=zq(A0);g1(A0,a.ADD_TAGS,x1)}if(a.ADD_ATTR){if(l0===k0)l0=zq(l0);g1(l0,a.ADD_ATTR,x1)}if(a.ADD_URI_SAFE_ATTR)g1(t,a.ADD_URI_SAFE_ATTR,x1);if(a.FORBID_CONTENTS){if(E===S)E=zq(E);g1(E,a.FORBID_CONTENTS,x1)}if(o)A0["#text"]=!0;if(X1)g1(A0,["html","head","body"]);if(A0.table)g1(A0,["tbody"]),delete A7.tbody;if(a.TRUSTED_TYPES_POLICY){if(typeof a.TRUSTED_TYPES_POLICY.createHTML!=="function")throw kH('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof a.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw kH('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=a.TRUSTED_TYPES_POLICY,M=R.createHTML("")}else{if(R===void 0)R=$60(W,Q);if(R!==null&&typeof M==="string")M=R.createHTML("")}if(x5)x5(a);Z6=a},xQ=g1({},["mi","mo","mn","ms","mtext"]),RZ=g1({},["foreignobject","desc","title","annotation-xml"]),MZ=g1({},["title","style","font","a","script"]),b2=g1({},FO);g1(b2,KO),g1(b2,d80);const OZ=g1({},AO);g1(OZ,s80);const YM=function j1(a){let O0=D(a);if(!O0||!O0.tagName)O0={namespaceURI:Y1,tagName:"template"};const p0=wF(a.tagName),g8=wF(O0.tagName);if(!s1[a.namespaceURI])return!1;if(a.namespaceURI===x0){if(O0.namespaceURI===G1)return p0==="svg";if(O0.namespaceURI===E0)return p0==="svg"&&(g8==="annotation-xml"||xQ[g8]);return Boolean(b2[p0])}if(a.namespaceURI===E0){if(O0.namespaceURI===G1)return p0==="math";if(O0.namespaceURI===x0)return p0==="math"&&RZ[g8];return Boolean(OZ[p0])}if(a.namespaceURI===G1){if(O0.namespaceURI===x0&&!RZ[g8])return!1;if(O0.namespaceURI===E0&&!xQ[g8])return!1;return!OZ[p0]&&(MZ[p0]||!b2[p0])}if(f8==="application/xhtml+xml"&&s1[a.namespaceURI])return!0;return!1},r4=function j1(a){EH($.removed,{element:a});try{a.parentNode.removeChild(a)}catch(O0){a.remove()}},lU=function j1(a,O0){try{EH($.removed,{attribute:O0.getAttributeNode(a),from:O0})}catch(p0){EH($.removed,{attribute:null,from:O0})}if(O0.removeAttribute(a),a==="is"&&!l0[a])if(e5||UX)try{r4(O0)}catch(p0){}else try{O0.setAttribute(a,"")}catch(p0){}},dU=function j1(a){let O0,p0;if(YJ)a="<remove></remove>"+a;else{const GJ=m80(a,/^[\r\n\t ]+/);p0=GJ&&GJ[0]}if(f8==="application/xhtml+xml"&&Y1===G1)a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>";const g8=R?R.createHTML(a):a;if(Y1===G1)try{O0=new j().parseFromString(g8,f8)}catch(GJ){}if(!O0||!O0.documentElement){O0=O.createDocument(Y1,"template",null);try{O0.documentElement.innerHTML=o1?M:g8}catch(GJ){}}const S7=O0.body||O0.documentElement;if(a&&p0)S7.insertBefore(Y.createTextNode(p0),S7.childNodes[0]||null);if(Y1===G1)return C.call(O0,X1?"html":"body")[0];return X1?O0.documentElement:S7},EW=function j1(a){return _.call(a.ownerDocument||a,a,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT,null,!1)},X10=function j1(a){return a instanceof V&&(typeof a.nodeName!=="string"||typeof a.textContent!=="string"||typeof a.removeChild!=="function"||!(a.attributes instanceof z)||typeof a.removeAttribute!=="function"||typeof a.setAttribute!=="function"||typeof a.namespaceURI!=="string"||typeof a.insertBefore!=="function"||typeof a.hasChildNodes!=="function")},kW=function j1(a){return typeof q==="object"?a instanceof q:a&&typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"},HX=function j1(a,O0,p0){if(!g[a])return;p80(g[a],(g8)=>{g8.call($,O0,p0,Z6)})},iS=function j1(a){let O0;if(HX("beforeSanitizeElements",a,null),X10(a))return r4(a),!0;const p0=x1(a.nodeName);if(HX("uponSanitizeElement",a,{tagName:p0,allowedTags:A0}),a.hasChildNodes()&&!kW(a.firstElementChild)&&(!kW(a.content)||!kW(a.content.firstElementChild))&&I9(/<[/\w]/g,a.innerHTML)&&I9(/<[/\w]/g,a.textContent))return r4(a),!0;if(!A0[p0]||A7[p0]){if(!A7[p0]&&oS(p0)){if(H0.tagNameCheck instanceof RegExp&&I9(H0.tagNameCheck,p0))return!1;if(H0.tagNameCheck instanceof Function&&H0.tagNameCheck(p0))return!1}if(o&&!E[p0]){const g8=D(a)||a.parentNode,S7=A(a)||a.childNodes;if(S7&&g8){const GJ=S7.length;for(let A6=GJ-1;A6>=0;--A6)g8.insertBefore(K(S7[A6],!0),P(a))}}return r4(a),!0}if(a instanceof U&&!YM(a))return r4(a),!0;if((p0==="noscript"||p0==="noembed"||p0==="noframes")&&I9(/<\/no(script|embed|frames)/i,a.innerHTML))return r4(a),!0;if(p6&&a.nodeType===3){if(O0=a.textContent,O0=U4(O0,c," "),O0=U4(O0,b," "),O0=U4(O0,u," "),a.textContent!==O0)EH($.removed,{element:a.cloneNode()}),a.textContent=O0}return HX("afterSanitizeElements",a,null),!1},nS=function j1(a,O0,p0){if(rJ&&(O0==="id"||O0==="name")&&((p0 in Y)||(p0 in PZ)))return!1;if(y1&&!h6[O0]&&I9(i,O0));else if(P7&&I9(Y0,O0));else if(!l0[O0]||h6[O0])if(oS(a)&&(H0.tagNameCheck instanceof RegExp&&I9(H0.tagNameCheck,a)||H0.tagNameCheck instanceof Function&&H0.tagNameCheck(a))&&(H0.attributeNameCheck instanceof RegExp&&I9(H0.attributeNameCheck,O0)||H0.attributeNameCheck instanceof Function&&H0.attributeNameCheck(O0))||O0==="is"&&H0.allowCustomizedBuiltInElements&&(H0.tagNameCheck instanceof RegExp&&I9(H0.tagNameCheck,p0)||H0.tagNameCheck instanceof Function&&H0.tagNameCheck(p0)));else return!1;else if(t[O0]);else if(I9(_0,U4(p0,R0,"")));else if((O0==="src"||O0==="xlink:href"||O0==="href")&&a!=="script"&&u80(p0,"data:")===0&&p[a]);else if(g6&&!I9(P0,U4(p0,R0,"")));else if(p0)return!1;return!0},oS=function j1(a){return a.indexOf("-")>0},tS=function j1(a){let O0,p0,g8,S7;HX("beforeSanitizeAttributes",a,null);const{attributes:GJ}=a;if(!GJ)return;const A6={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:l0};S7=GJ.length;while(S7--){O0=GJ[S7];const{name:i4,namespaceURI:ZM}=O0;if(p0=i4==="value"?O0.value:c80(O0.value),g8=x1(i4),A6.attrName=g8,A6.attrValue=p0,A6.keepAttr=!0,A6.forceKeepAttr=void 0,HX("uponSanitizeAttribute",a,A6),p0=A6.attrValue,A6.forceKeepAttr)continue;if(lU(i4,a),!A6.keepAttr)continue;if(!i7&&I9(/\/>/i,p0)){lU(i4,a);continue}if(p6)p0=U4(p0,c," "),p0=U4(p0,b," "),p0=U4(p0,u," ");const eS=x1(a.nodeName);if(!nS(eS,g8,p0))continue;if(LW&&(g8==="id"||g8==="name"))lU(i4,a),p0=QM+p0;if(R&&typeof W==="object"&&typeof W.getAttributeType==="function")if(ZM);else switch(W.getAttributeType(eS,g8)){case"TrustedHTML":{p0=R.createHTML(p0);break}case"TrustedScriptURL":{p0=R.createScriptURL(p0);break}}try{if(ZM)a.setAttributeNS(ZM,i4,p0);else a.setAttribute(i4,p0);Wb($.removed)}catch(JG0){}}HX("afterSanitizeAttributes",a,null)},Q10=function j1(a){let O0;const p0=EW(a);HX("beforeSanitizeShadowDOM",a,null);while(O0=p0.nextNode()){if(HX("uponSanitizeShadowNode",O0,null),iS(O0))continue;if(O0.content instanceof Z)j1(O0.content);tS(O0)}HX("afterSanitizeShadowDOM",a,null)};return $.sanitize=function(j1){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O0,p0,g8,S7;if(o1=!j1,o1)j1="<!-->";if(typeof j1!=="string"&&!kW(j1))if(typeof j1.toString==="function"){if(j1=j1.toString(),typeof j1!=="string")throw kH("dirty is not a string, aborting")}else throw kH("toString is not a function");if(!$.isSupported)return j1;if(!QJ)iJ(a);if($.removed=[],typeof j1==="string")s=!1;if(s){if(j1.nodeName){const i4=x1(j1.nodeName);if(!A0[i4]||A7[i4])throw kH("root node is forbidden and cannot be sanitized in-place")}}else if(j1 instanceof q)if(O0=dU("<!---->"),p0=O0.ownerDocument.importNode(j1,!0),p0.nodeType===1&&p0.nodeName==="BODY")O0=p0;else if(p0.nodeName==="HTML")O0=p0;else O0.appendChild(p0);else{if(!e5&&!p6&&!X1&&j1.indexOf("<")===-1)return R&&E6?R.createHTML(j1):j1;if(O0=dU(j1),!O0)return e5?null:E6?M:""}if(O0&&YJ)r4(O0.firstChild);const GJ=EW(s?j1:O0);while(g8=GJ.nextNode()){if(iS(g8))continue;if(g8.content instanceof Z)Q10(g8.content);tS(g8)}if(s)return j1;if(e5){if(UX){S7=w.call(O0.ownerDocument);while(O0.firstChild)S7.appendChild(O0.firstChild)}else S7=O0;if(l0.shadowroot||l0.shadowrootmode)S7=x.call(X,S7,!0);return S7}let A6=X1?O0.outerHTML:O0.innerHTML;if(X1&&A0["!doctype"]&&O0.ownerDocument&&O0.ownerDocument.doctype&&O0.ownerDocument.doctype.name&&I9(Mb,O0.ownerDocument.doctype.name))A6="<!DOCTYPE "+O0.ownerDocument.doctype.name+">\n"+A6;if(p6)A6=U4(A6,c," "),A6=U4(A6,b," "),A6=U4(A6,u," ");return R&&E6?R.createHTML(A6):A6},$.setConfig=function(j1){iJ(j1),QJ=!0},$.clearConfig=function(){Z6=null,QJ=!1},$.isValidAttribute=function(j1,a,O0){if(!Z6)iJ({});const p0=x1(j1),g8=x1(a);return nS(p0,g8,O0)},$.addHook=function(j1,a){if(typeof a!=="function")return;g[j1]=g[j1]||[],EH(g[j1],a)},$.removeHook=function(j1){if(g[j1])return Wb(g[j1])},$.removeHooks=function(j1){if(g[j1])g[j1]=[]},$.removeAllHooks=function(){g={}},$};/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */({entries:Db,setPrototypeOf:jb,isFrozen:v80,getPrototypeOf:f80,getOwnPropertyDescriptor:h80}=Object),{freeze:x5,seal:H4,create:g80}=Object,{apply:DO,construct:RO}=typeof Reflect!=="undefined"&&Reflect;if(!DO)DO=function J($,X,Q){return $.apply(X,Q)};if(!x5)x5=function J($){return $};if(!H4)H4=function J($){return $};if(!RO)RO=function J($,X){return new $(...X)};p80=OJ(Array.prototype.forEach),Wb=OJ(Array.prototype.pop),EH=OJ(Array.prototype.push),wF=OJ(String.prototype.toLowerCase),BO=OJ(String.prototype.toString),m80=OJ(String.prototype.match),U4=OJ(String.prototype.replace),u80=OJ(String.prototype.indexOf),c80=OJ(String.prototype.trim),I9=OJ(RegExp.prototype.test),kH=l80(TypeError),Bb=x5(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),FO=x5(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),KO=x5(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),d80=x5(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),AO=x5(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),s80=x5(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fb=x5(["#text"]),Kb=x5(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),PO=x5(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ab=x5(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_F=x5(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),a80=H4(/\{\{[\w\W]*|[\w\W]*\}\}/gm),r80=H4(/<%[\w\W]*|[\w\W]*%>/gm),i80=H4(/\${[\w\W]*}/gm),n80=H4(/^data-[\-\w.\u00B7-\uFFFF]/),o80=H4(/^aria-[\-\w]+$/),Rb=H4(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),t80=H4(/^(?:\w+script|data):/i),e80=H4(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mb=H4(/^html$/i),Pb=Object.freeze({__proto__:null,MUSTACHE_EXPR:a80,ERB_EXPR:r80,TMPLIT_EXPR:i80,DATA_ATTR:n80,ARIA_ATTR:o80,IS_ALLOWED_URI:Rb,IS_SCRIPT_OR_DATA:t80,ATTR_WHITESPACE:e80,DOCTYPE_NAME:Mb}),J60=()=>typeof window==="undefined"?null:window,$60=function J($,X){if(typeof $!=="object"||typeof $.createPolicy!=="function")return null;let Q=null;const Y="data-tt-policy-suffix";if(X&&X.hasAttribute(Y))Q=X.getAttribute(Y);const Z="dompurify"+(Q?"#"+Q:"");try{return $.createPolicy(Z,{createHTML(G){return G},createScriptURL(G){return G}})}catch(G){return console.warn("TrustedTypes policy "+Z+" could not be created."),null}},z$=Ob(),X30=z$.version,Q30=z$.isSupported,LF=z$.sanitize,Y30=z$.setConfig,Z30=z$.clearConfig,G30=z$.isValidAttribute,IH=z$.addHook,EF=z$.removeHook,q30=z$.removeHooks,U30=z$.removeAllHooks});function SH(J,$){if(I0.isUri(J))return RX(J.scheme,$);else return t2(J,$+":")}function MO(J,...$){return $.some((X)=>SH(J,X))}class _b{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${J1.vscodeRemoteResource}`}setPreferredWebSchema(J){this._preferredWebSchema=J}rewrite(J){if(this._delegate)try{return this._delegate(J)}catch(G){return n0(G),J}const $=J.authority;let X=this._hosts[$];if(X&&X.indexOf(":")!==-1&&X.indexOf("[")===-1)X=`[${X}]`;const Q=this._ports[$],Y=this._connectionTokens[$];let Z=`path=${encodeURIComponent(J.path)}`;if(typeof Y==="string")Z+=`&${X60}=${encodeURIComponent(Y)}`;return I0.from({scheme:t4?this._preferredWebSchema:J1.vscodeRemoteResource,authority:`${X}:${Q}`,path:this._remoteResourcesPath,query:Z})}}class yH{uriToBrowserUri(J){if(J.scheme===J1.vscodeRemote)return OO.rewrite(J);if(J.scheme===J1.file&&(fQ||RC===`${J1.vscodeFileResource}://${yH.FALLBACK_AUTHORITY}`))return J.with({scheme:J1.vscodeFileResource,authority:J.authority||yH.FALLBACK_AUTHORITY,query:null,fragment:null});return J}}var J1,X60,OO,Q60,IF,Nb;var z9=N(()=>{D1();O1();o0();e8();(function(J){J.inMemory="inmemory",J.vscode="vscode",J.internal="private",J.walkThrough="walkThrough",J.walkThroughSnippet="walkThroughSnippet",J.http="http",J.https="https",J.file="file",J.mailto="mailto",J.untitled="untitled",J.data="data",J.command="command",J.vscodeRemote="vscode-remote",J.vscodeRemoteResource="vscode-remote-resource",J.vscodeManagedRemoteResource="vscode-managed-remote-resource",J.vscodeUserData="vscode-userdata",J.vscodeCustomEditor="vscode-custom-editor",J.vscodeNotebookCell="vscode-notebook-cell",J.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",J.vscodeNotebookCellOutput="vscode-notebook-cell-output",J.vscodeInteractiveInput="vscode-interactive-input",J.vscodeSettings="vscode-settings",J.vscodeWorkspaceTrust="vscode-workspace-trust",J.vscodeTerminal="vscode-terminal",J.vscodeChatSesssion="vscode-chat-editor",J.webviewPanel="webview-panel",J.vscodeWebview="vscode-webview",J.extension="extension",J.vscodeFileResource="vscode-file",J.tmp="tmp",J.vsls="vsls",J.vscodeSourceControl="vscode-scm"})(J1||(J1={}));X60="tkn";OO=new _b,Q60="vscode-app";yH.FALLBACK_AUTHORITY=Q60;IF=new yH;(function(J){const $=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);J.CoopAndCoep=Object.freeze($.get("3"));const X="vscode-coi";function Q(Z){let G;if(typeof Z==="string")G=new URL(Z).searchParams;else if(Z instanceof URL)G=Z.searchParams;else if(I0.isUri(Z))G=new URL(Z.toString(!0)).searchParams;const q=G===null||G===void 0?void 0:G.get(X);if(!q)return;return $.get(q)}J.getHeadersFromQuery=Q;function Y(Z,G,q){if(!globalThis.crossOriginIsolated)return;const U=G&&q?"3":q?"2":"1";if(Z instanceof URLSearchParams)Z.set(X,U);else Z[X]=U}J.addSearchParam=Y})(Nb||(Nb={}))});function oQ(J){return xH(J,0)}function xH(J,$){switch(typeof J){case"object":if(J===null)return yX(349,$);else if(Array.isArray(J))return Z60(J,$);return G60(J,$);case"string":return yF(J,$);case"boolean":return Y60(J,$);case"number":return yX(J,$);case"undefined":return yX(937,$);default:return yX(617,$)}}function yX(J,$){return($<<5)-$+J|0}function yF(J,$){$=yX(149417,$);for(let X=0,Q=J.length;X<Q;X++)$=yX(J.charCodeAt(X),$);return $}function CH(J,$=32){if(J instanceof ArrayBuffer)return Array.from(new Uint8Array(J)).map((X)=>X.toString(16).padStart(2,"0")).join("");return q60((J>>>0).toString(16),$/4)}class bH{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(J){const $=J.length;if($===0)return;const X=this._buff;let Q=this._buffLen,Y=this._leftoverHighSurrogate,Z,G;if(Y!==0)Z=Y,G=-1,Y=0;else Z=J.charCodeAt(0),G=0;while(!0){let q=Z;if(U8(Z))if(G+1<$){const U=J.charCodeAt(G+1);if(Z$(U))G++,q=iB(Z,U);else q=65533}else{Y=Z;break}else if(Z$(Z))q=65533;if(Q=this._push(X,Q,q),G++,G<$)Z=J.charCodeAt(G);else break}this._buffLen=Q,this._leftoverHighSurrogate=Y}_push(J,$,X){if(X<128)J[$++]=X;else if(X<2048)J[$++]=192|(X&1984)>>>6,J[$++]=128|(X&63)>>>0;else if(X<65536)J[$++]=224|(X&61440)>>>12,J[$++]=128|(X&4032)>>>6,J[$++]=128|(X&63)>>>0;else J[$++]=240|(X&1835008)>>>18,J[$++]=128|(X&258048)>>>12,J[$++]=128|(X&4032)>>>6,J[$++]=128|(X&63)>>>0;if($>=64)this._step(),$-=64,this._totalLen+=64,J[0]=J[64],J[1]=J[65],J[2]=J[66];return $}digest(){if(!this._finished){if(this._finished=!0,this._leftoverHighSurrogate)this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533);this._totalLen+=this._buffLen,this._wrapUp()}return CH(this._h0)+CH(this._h1)+CH(this._h2)+CH(this._h3)+CH(this._h4)}_wrapUp(){if(this._buff[this._buffLen++]=128,wb(this._buff,this._buffLen),this._buffLen>56)this._step(),wb(this._buff);const J=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(J/4294967296),!1),this._buffDV.setUint32(60,J%4294967296,!1),this._step()}_step(){const J=bH._bigBlock32,$=this._buffDV;for(let z=0;z<64;z+=4)J.setUint32(z,$.getUint32(z,!1),!1);for(let z=64;z<320;z+=4)J.setUint32(z,TO(J.getUint32(z-12,!1)^J.getUint32(z-32,!1)^J.getUint32(z-56,!1)^J.getUint32(z-64,!1),1),!1);let X=this._h0,Q=this._h1,Y=this._h2,Z=this._h3,G=this._h4,q,U,H;for(let z=0;z<80;z++){if(z<20)q=Q&Y|~Q&Z,U=1518500249;else if(z<40)q=Q^Y^Z,U=1859775393;else if(z<60)q=Q&Y|Q&Z|Y&Z,U=2400959708;else q=Q^Y^Z,U=3395469782;H=TO(X,5)+q+G+U+J.getUint32(z*4,!1)&4294967295,G=Z,Z=Y,Y=TO(Q,30),Q=X,X=H}this._h0=this._h0+X&4294967295,this._h1=this._h1+Q&4294967295,this._h2=this._h2+Y&4294967295,this._h3=this._h3+Z&4294967295,this._h4=this._h4+G&4294967295}}var Y60,Z60,G60,TO,wb,q60;var tQ=N(()=>{o0();Y60=function(J,$){return yX(J?433:863,$)};Z60=function(J,$){return $=yX(104579,$),J.reduce((X,Q)=>xH(Q,X),$)},G60=function(J,$){return $=yX(181387,$),Object.keys(J).sort().reduce((X,Q)=>{return X=yF(Q,X),xH(J[Q],X)},$)},TO=function(J,$,X=32){const Q=X-$,Y=~((1<<Q)-1);return(J<<$|(Y&J)>>>Q)>>>0},wb=function(J,$=0,X=J.byteLength,Q=0){for(let Y=0;Y<X;Y++)J[$+Y]=Q},q60=function(J,$,X="0"){while(J.length<$)J=X+J;return J};bH._bigBlock32=new DataView(new ArrayBuffer(320))});function C6(J){while(J.firstChild)J.firstChild.remove()}function m(J,$,X,Q){return new yb(J,$,X,Q)}function fH(J,$,X){return Hq(J,$,X)}function _O(J){return B0(J).getComputedStyle(J,null)}function j$(J,$){const X=B0(J),Q=X.document;if(J!==Q.body)return new d1(J.clientWidth,J.clientHeight);if(N9&&(X===null||X===void 0?void 0:X.visualViewport))return new d1(X.visualViewport.width,X.visualViewport.height);if((X===null||X===void 0?void 0:X.innerWidth)&&X.innerHeight)return new d1(X.innerWidth,X.innerHeight);if(Q.body&&Q.body.clientWidth&&Q.body.clientHeight)return new d1(Q.body.clientWidth,Q.body.clientHeight);if(Q.documentElement&&Q.documentElement.clientWidth&&Q.documentElement.clientHeight)return new d1(Q.documentElement.clientWidth,Q.documentElement.clientHeight);if($)return j$($);throw new Error("Unable to figure out browser width and height")}function Sb(J){let{offsetParent:$,offsetTop:X,offsetLeft:Q}=J;while((J=J.parentNode)!==null&&J!==J.ownerDocument.body&&J!==J.ownerDocument.documentElement){X-=J.scrollTop;const Y=bb(J)?null:_O(J);if(Y)Q-=Y.direction!=="rtl"?J.scrollLeft:-J.scrollLeft;if(J===$)Q+=m8.getBorderLeftWidth(J),X+=m8.getBorderTopWidth(J),X+=J.offsetTop,Q+=J.offsetLeft,$=J.offsetParent}return{left:Q,top:X}}function Cb(J,$,X){if(typeof $==="number")J.style.width=`${$}px`;if(typeof X==="number")J.style.height=`${X}px`}function M6(J){const $=J.getBoundingClientRect(),X=B0(J);return{left:$.left+X.scrollX,top:$.top+X.scrollY,width:$.width,height:$.height}}function xF(J){let $=J,X=1;do{const Q=_O($).zoom;if(Q!==null&&Q!==void 0&&Q!=="1")X*=Q;$=$.parentElement}while($!==null&&$!==$.ownerDocument.documentElement);return X}function jq(J){const $=m8.getMarginLeft(J)+m8.getMarginRight(J);return J.offsetWidth+$}function bF(J){const $=m8.getBorderLeftWidth(J)+m8.getBorderRightWidth(J),X=m8.getPaddingLeft(J)+m8.getPaddingRight(J);return J.offsetWidth-$-X}function xb(J){const $=m8.getBorderTopWidth(J)+m8.getBorderBottomWidth(J),X=m8.getPaddingTop(J)+m8.getPaddingBottom(J);return J.offsetHeight-$-X}function gH(J){const $=m8.getMarginTop(J)+m8.getMarginBottom(J);return J.offsetHeight+$}function u8(J,$){return Boolean($===null||$===void 0?void 0:$.contains(J))}function V60(J,$,X){while(J&&J.nodeType===J.ELEMENT_NODE){if(J.classList.contains($))return J;if(X){if(typeof X==="string"){if(J.classList.contains(X))return null}else if(J===X)return null}J=J.parentNode}return null}function vF(J,$,X){return!!V60(J,$,X)}function bb(J){return J&&!!J.host&&!!J.mode}function eZ(J){return!!SX(J)}function SX(J){var $;while(J.parentNode){if(J===(($=J.ownerDocument)===null||$===void 0?void 0:$.body))return null;J=J.parentNode}return bb(J)?J:null}function $6(){let J=hF().activeElement;while(J===null||J===void 0?void 0:J.shadowRoot)J=J.shadowRoot.activeElement;return J}function JG(J){return $6()===J}function fF(J){return u8($6(),J)}function hF(){var J;if(U60()<=1)return B1.document;return(J=Array.from(kb()).map(({window:X})=>X.document).find((X)=>X.hasFocus()))!==null&&J!==void 0?J:B1.document}function vb(){var J,$;return($=(J=hF().defaultView)===null||J===void 0?void 0:J.window)!==null&&$!==void 0?$:B1}function O6(J=B1.document.head,$,X){const Q=document.createElement("style");if(Q.type="text/css",Q.media="screen",$===null||$===void 0||$(Q),J.appendChild(Q),X)X.add(K0(()=>J.removeChild(Q)));if(J===B1.document.head){const Y=new Set;fb.set(Q,Y);for(let{window:Z,disposables:G}of kb()){if(Z===B1)continue;const q=G.add(j60(Q,Y,Z));X===null||X===void 0||X.add(q)}}return Q}function gF(J,$,X=B60()){var Q,Y;if(!X||!$)return;(Q=X.sheet)===null||Q===void 0||Q.insertRule(`${J} {${$}}`,0);for(let Z of(Y=fb.get(X))!==null&&Y!==void 0?Y:[])gF(J,$,Z)}function Wq(J){return J instanceof MouseEvent||J instanceof B0(J).MouseEvent}function Bq(J){return J instanceof KeyboardEvent||J instanceof B0(J).KeyboardEvent}function hb(J){const $=J;return!!($&&typeof $.preventDefault==="function"&&typeof $.stopPropagation==="function")}function gb(J){const $=[];for(let X=0;J&&J.nodeType===J.ELEMENT_NODE;X++)$[X]=J.scrollTop,J=J.parentNode;return $}function pb(J,$){for(let X=0;J&&J.nodeType===J.ELEMENT_NODE;X++){if(J.scrollTop!==$[X])J.scrollTop=$[X];J=J.parentNode}}function CX(J){return new CF(J)}function mb(J,$){return J.after($),$}function Z0(J,...$){if(J.append(...$),$.length===1&&typeof $[0]!=="string")return $[0]}function Fq(J,$){return J.insertBefore($,J.firstChild),$}function F6(J,...$){J.innerText="",Z0(J,...$)}function q0(J,$,...X){return ub(vH.HTML,J,$,...X)}function b5(...J){for(let $ of J)$.style.display="",$.removeAttribute("aria-hidden")}function v5(...J){for(let $ of J)$.style.display="none",$.setAttribute("aria-hidden","true")}function wO(J,$){const X=J.devicePixelRatio*$;return Math.max(1,Math.floor(X))/J.devicePixelRatio}function pF(J){B1.open(J,"_blank","noopener")}function cb(J,$){const X=()=>{$(),Q=R6(J,X)};let Q=R6(J,X);return K0(()=>Q.dispose())}function TJ(J){if(!J)return"url('')";return`url('${IF.uriToBrowserUri(J).toString(!0).replace(/'/g,"%27")}')`}function LO(J){return`'${J.replace(/'/g,"%27")}'`}function y9(J,$){if(J!==void 0){const X=J.match(/^\s*var\((.+)\)$/);if(X){const Q=X[1].split(",",2);if(Q.length===2)$=y9(Q[1].trim(),$);return`var(${Q[0]}, ${$})`}return J}return $}function lb(J,$=!1){const X=document.createElement("a");return IH("afterSanitizeAttributes",(Q)=>{for(let Y of["href","src"])if(Q.hasAttribute(Y)){const Z=Q.getAttribute(Y);if(Y==="href"&&Z.startsWith("#"))continue;if(X.href=Z,!J.includes(X.protocol.replace(/:$/,""))){if($&&Y==="src"&&X.href.startsWith("data:"))continue;Q.removeAttribute(Y)}}}),K0(()=>{EF("afterSanitizeAttributes")})}function p1(J,...$){let X,Q;if(Array.isArray($[0]))X={},Q=$[0];else X=$[0]||{},Q=$[1];const Y=A60.exec(J);if(!Y||!Y.groups)throw new Error("Bad use of h");const Z=Y.groups.tag||"div",G=document.createElement(Z);if(Y.groups.id)G.id=Y.groups.id;const q=[];if(Y.groups.class){for(let H of Y.groups.class.split("."))if(H!=="")q.push(H)}if(X.className!==void 0){for(let H of X.className.split("."))if(H!=="")q.push(H)}if(q.length>0)G.className=q.join(" ");const U={};if(Y.groups.name)U[Y.groups.name]=G;if(Q){for(let H of Q)if(H instanceof HTMLElement)G.appendChild(H);else if(typeof H==="string")G.append(H);else if("root"in H)Object.assign(U,H),G.appendChild(H.root)}for(let[H,z]of Object.entries(X))if(H==="className")continue;else if(H==="style")for(let[V,j]of Object.entries(z))G.style.setProperty(Eb(V),typeof j==="number"?j+"px":""+j);else if(H==="tabIndex")G.tabIndex=z;else G.setAttribute(Eb(H),z.toString());return U.root=G,U}class yb{constructor(J,$,X,Q){this._node=J,this._type=$,this._handler=X,this._options=Q||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){if(!this._handler)return;this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null}}class hH extends TF{constructor(J,$){super(J,$)}}class tZ extends nZ{constructor(J){super();this.defaultTarget=J&&B0(J)}cancelAndSet(J,$,X){return super.cancelAndSet(J,$,X!==null&&X!==void 0?X:this.defaultTarget)}}class SF{constructor(J,$=0){this._runner=J,this.priority=$,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(this._canceled)return;try{this._runner()}catch(J){n0(J)}}static sort(J,$){return $.priority-J.priority}}class m8{static convertToPixels(J,$){return parseFloat($)||0}static getDimension(J,$,X){const Q=_O(J),Y=Q?Q.getPropertyValue($):"0";return m8.convertToPixels(J,Y)}static getBorderLeftWidth(J){return m8.getDimension(J,"border-left-width","borderLeftWidth")}static getBorderRightWidth(J){return m8.getDimension(J,"border-right-width","borderRightWidth")}static getBorderTopWidth(J){return m8.getDimension(J,"border-top-width","borderTopWidth")}static getBorderBottomWidth(J){return m8.getDimension(J,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(J){return m8.getDimension(J,"padding-left","paddingLeft")}static getPaddingRight(J){return m8.getDimension(J,"padding-right","paddingRight")}static getPaddingTop(J){return m8.getDimension(J,"padding-top","paddingTop")}static getPaddingBottom(J){return m8.getDimension(J,"padding-bottom","paddingBottom")}static getMarginLeft(J){return m8.getDimension(J,"margin-left","marginLeft")}static getMarginTop(J){return m8.getDimension(J,"margin-top","marginTop")}static getMarginRight(J){return m8.getDimension(J,"margin-right","marginRight")}static getMarginBottom(J){return m8.getDimension(J,"margin-bottom","marginBottom")}}class d1{constructor(J,$){this.width=J,this.height=$}with(J=this.width,$=this.height){if(J!==this.width||$!==this.height)return new d1(J,$);else return this}static is(J){return typeof J==="object"&&typeof J.height==="number"&&typeof J.width==="number"}static lift(J){if(J instanceof d1)return J;else return new d1(J.width,J.height)}static equals(J,$){if(J===$)return!0;if(!J||!$)return!1;return J.width===$.width&&J.height===$.height}}class CF extends f{static hasFocusWithin(J){if(J instanceof HTMLElement){const $=SX(J),X=$?$.activeElement:J.ownerDocument.activeElement;return u8(X,J)}else{const $=J;return u8($.document.activeElement,$.document)}}constructor(J){super();this._onDidFocus=this._register(new y),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event;let $=CF.hasFocusWithin(J),X=!1;const Q=()=>{if(X=!1,!$)$=!0,this._onDidFocus.fire()},Y=()=>{if($)X=!0,(J instanceof HTMLElement?B0(J):J).setTimeout(()=>{if(X)X=!1,$=!1,this._onDidBlur.fire()},0)};if(this._refreshStateHandler=()=>{if(CF.hasFocusWithin(J)!==$)if($)Y();else Q()},this._register(m(J,$0.FOCUS,Q,!0)),this._register(m(J,$0.BLUR,Y,!0)),J instanceof HTMLElement)this._register(m(J,$0.FOCUS_IN,()=>this._refreshStateHandler())),this._register(m(J,$0.FOCUS_OUT,()=>this._refreshStateHandler()))}}class V$ extends y{constructor(){super();this._subscriptions=new r,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(J0.runAndSubscribe(oZ,({window:J,disposables:$})=>this.registerListeners(J,$),{window:B1,disposables:this._subscriptions}))}registerListeners(J,$){$.add(m(J,"keydown",(X)=>{if(X.defaultPrevented)return;const Q=new A1(X);if(Q.keyCode===6&&X.repeat)return;if(X.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(X.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(X.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(X.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Q.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;if(this._keyStatus.altKey=X.altKey,this._keyStatus.ctrlKey=X.ctrlKey,this._keyStatus.metaKey=X.metaKey,this._keyStatus.shiftKey=X.shiftKey,this._keyStatus.lastKeyPressed)this._keyStatus.event=X,this.fire(this._keyStatus)},!0)),$.add(m(J,"keyup",(X)=>{if(X.defaultPrevented)return;if(!X.altKey&&this._keyStatus.altKey)this._keyStatus.lastKeyReleased="alt";else if(!X.ctrlKey&&this._keyStatus.ctrlKey)this._keyStatus.lastKeyReleased="ctrl";else if(!X.metaKey&&this._keyStatus.metaKey)this._keyStatus.lastKeyReleased="meta";else if(!X.shiftKey&&this._keyStatus.shiftKey)this._keyStatus.lastKeyReleased="shift";else this._keyStatus.lastKeyReleased=void 0;if(this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased)this._keyStatus.lastKeyPressed=void 0;if(this._keyStatus.altKey=X.altKey,this._keyStatus.ctrlKey=X.ctrlKey,this._keyStatus.metaKey=X.metaKey,this._keyStatus.shiftKey=X.shiftKey,this._keyStatus.lastKeyReleased)this._keyStatus.event=X,this.fire(this._keyStatus)},!0)),$.add(m(J.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J.document.body,"mousemove",(X)=>{if(X.buttons)this._keyStatus.lastKeyPressed=void 0},!0)),$.add(m(J,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){if(!V$.instance)V$.instance=new V$;return V$.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class EO extends f{constructor(J,$){super();this.element=J,this.callbacks=$,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){if(this.callbacks.onDragStart)this._register(m(this.element,$0.DRAG_START,(J)=>{var $,X;(X=($=this.callbacks).onDragStart)===null||X===void 0||X.call($,J)}));if(this.callbacks.onDrag)this._register(m(this.element,$0.DRAG,(J)=>{var $,X;(X=($=this.callbacks).onDrag)===null||X===void 0||X.call($,J)}));this._register(m(this.element,$0.DRAG_ENTER,(J)=>{var $,X;this.counter++,this.dragStartTime=J.timeStamp,(X=($=this.callbacks).onDragEnter)===null||X===void 0||X.call($,J)})),this._register(m(this.element,$0.DRAG_OVER,(J)=>{var $,X;J.preventDefault(),(X=($=this.callbacks).onDragOver)===null||X===void 0||X.call($,J,J.timeStamp-this.dragStartTime)})),this._register(m(this.element,$0.DRAG_LEAVE,(J)=>{var $,X;if(this.counter--,this.counter===0)this.dragStartTime=0,(X=($=this.callbacks).onDragLeave)===null||X===void 0||X.call($,J)})),this._register(m(this.element,$0.DRAG_END,(J)=>{var $,X;this.counter=0,this.dragStartTime=0,(X=($=this.callbacks).onDragEnd)===null||X===void 0||X.call($,J)})),this._register(m(this.element,$0.DROP,(J)=>{var $,X;this.counter=0,this.dragStartTime=0,(X=($=this.callbacks).onDrop)===null||X===void 0||X.call($,J)}))}}var H60,z60,j60,B60,F60,ub,Eb,O30,B0,T30,kb,U60,Lb,N30,_30,oZ,Ib,w30,i1,Vq,R6,fb,W60,NO,$0,u0,K60,vH,db,L30,A60;var D0=N(()=>{A5();DF();T7();k9();u1();D1();F0();kF();X0();z9();O1();tQ();X7();H60=function(J,$){return function(X){return $(new Q7(J,X))}},z60=function(J){return function($){return J(new A1($))}};j60=function(J,$,X){var Q,Y;const Z=new r,G=J.cloneNode(!0);X.document.head.appendChild(G),Z.add(K0(()=>X.document.head.removeChild(G)));for(let q of F60(J))(Q=G.sheet)===null||Q===void 0||Q.insertRule(q.cssText,(Y=G.sheet)===null||Y===void 0?void 0:Y.cssRules.length);return Z.add(W60.observe(J,Z,{childList:!0})(()=>{G.textContent=J.textContent})),$.add(G),Z.add(K0(()=>$.delete(G))),Z},B60=function(){if(!NO)NO=O6();return NO},F60=function(J){var $,X;if(($=J===null||J===void 0?void 0:J.sheet)===null||$===void 0?void 0:$.rules)return J.sheet.rules;if((X=J===null||J===void 0?void 0:J.sheet)===null||X===void 0?void 0:X.cssRules)return J.sheet.cssRules;return[]};ub=function(J,$,X,...Q){const Y=K60.exec($);if(!Y)throw new Error("Bad use of emmet");const Z=Y[1]||"div";let G;if(J!==vH.HTML)G=document.createElementNS(J,Z);else G=document.createElement(Z);if(Y[3])G.id=Y[3];if(Y[4])G.className=Y[4].replace(/\./g," ").trim();if(X)Object.entries(X).forEach(([q,U])=>{if(typeof U==="undefined")return;if(/^on\w+$/.test(q))G[q]=U;else if(q==="selected"){if(U)G.setAttribute(q,"true")}else G.setAttribute(q,U)});return G.append(...Q),G};Eb=function(J){return J.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},{registerWindow:O30,getWindow:B0,getDocument:T30,getWindows:kb,getWindowsCount:U60,getWindowId:Lb,getWindowById:N30,hasWindow:_30,onDidRegisterWindow:oZ,onWillUnregisterWindow:Ib,onDidUnregisterWindow:w30}=function(){const J=new Map;xx(B1,1),J.set(B1.vscodeWindowId,{window:B1,disposables:new r});const $=new y,X=new y,Q=new y;return{onDidRegisterWindow:$.event,onWillUnregisterWindow:Q.event,onDidUnregisterWindow:X.event,registerWindow(Y){if(J.has(Y.vscodeWindowId))return f.None;const Z=new r,G={window:Y,disposables:Z.add(new r)};return J.set(Y.vscodeWindowId,G),Z.add(K0(()=>{J.delete(Y.vscodeWindowId),X.fire(Y)})),Z.add(m(Y,$0.BEFORE_UNLOAD,()=>{Q.fire(Y)})),$.fire(G),Z},getWindows(){return J.values()},getWindowsCount(){return J.size},getWindowId(Y){return Y.vscodeWindowId},hasWindow(Y){return J.has(Y)},getWindowById(Y){return J.get(Y)},getWindow(Y){var Z;const G=Y;if((Z=G===null||G===void 0?void 0:G.ownerDocument)===null||Z===void 0?void 0:Z.defaultView)return G.ownerDocument.defaultView.window;const q=Y;if(q===null||q===void 0?void 0:q.view)return q.view.window;return B1},getDocument(Y){return B0(Y).document}}}();i1=function J($,X,Q,Y){let Z=Q;if(X==="click"||X==="mousedown")Z=H60(B0($),Q);else if(X==="keydown"||X==="keypress"||X==="keyup")Z=z60(Q);return m($,X,Z,Y)};(function(){const J=new Map,$=new Map,X=new Map,Q=new Map,Y=(Z)=>{var G;X.set(Z,!1);const q=(G=J.get(Z))!==null&&G!==void 0?G:[];$.set(Z,q),J.set(Z,[]),Q.set(Z,!0);while(q.length>0)q.sort(SF.sort),q.shift().execute();Q.set(Z,!1)};R6=(Z,G,q=0)=>{const U=Lb(Z),H=new SF(G,q);let z=J.get(U);if(!z)z=[],J.set(U,z);if(z.push(H),!X.get(U))X.set(U,!0),Z.requestAnimationFrame(()=>Y(U));return H},Vq=(Z,G,q)=>{const U=Lb(Z);if(Q.get(U)){const H=new SF(G,q);let z=$.get(U);if(!z)z=[],$.set(U,z);return z.push(H),H}else return R6(Z,G,q)}})();d1.None=new d1(0,0);fb=new Map,W60=new class{constructor(){this.mutationObservers=new Map}observe(J,$,X){let Q=this.mutationObservers.get(J);if(!Q)Q=new Map,this.mutationObservers.set(J,Q);const Y=oQ(X);let Z=Q.get(Y);if(!Z){const G=new y,q=new MutationObserver((H)=>G.fire(H));q.observe(J,X);const U=Z={users:1,observer:q,onDidMutate:G.event};$.add(K0(()=>{if(U.users-=1,U.users===0){if(G.dispose(),q.disconnect(),Q===null||Q===void 0||Q.delete(Y),(Q===null||Q===void 0?void 0:Q.size)===0)this.mutationObservers.delete(J)}})),Q.set(Y,Z)}else Z.users+=1;return Z.onDidMutate}},NO=null,$0={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Y4?"webkitAnimationStart":"animationstart",ANIMATION_END:Y4?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Y4?"webkitAnimationIteration":"animationiteration"},u0={stop:(J,$)=>{if(J.preventDefault(),$)J.stopPropagation();return J}};K60=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;(function(J){J.HTML="http://www.w3.org/1999/xhtml",J.SVG="http://www.w3.org/2000/svg"})(vH||(vH={}));q0.SVG=function(J,$,...X){return ub(vH.SVG,J,$,...X)};OO.setPreferredWebSchema(/^https:/.test(B1.location.href)?"https":"http");db=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),L30=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});A60=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/});function w0(J){return S9.INSTANCE.registerEditorCommand(J),J}function X6(J){const $=new J;return S9.INSTANCE.registerEditorAction($),$}function sb(J){S9.INSTANCE.registerEditorAction(J)}function C9(J,$,X){S9.INSTANCE.registerEditorContribution(J,$,X)}class Kq{constructor(J){this.id=J.id,this.precondition=J.precondition,this._kbOpts=J.kbOpts,this._menuOpts=J.menuOpts,this.metadata=J.metadata}register(){if(Array.isArray(this._menuOpts))this._menuOpts.forEach(this._registerMenuItem,this);else if(this._menuOpts)this._registerMenuItem(this._menuOpts);if(this._kbOpts){const J=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(let $ of J){let X=$.kbExpr;if(this.precondition)if(X)X=N0.and(X,this.precondition);else X=this.precondition;const Q={id:this.id,weight:$.weight,args:$.args,when:X,primary:$.primary,secondary:$.secondary,win:$.win,linux:$.linux,mac:$.mac};q4.registerKeybindingRule(Q)}}V8.registerCommand({id:this.id,handler:(J,$)=>this.runCommand(J,$),metadata:this.metadata})}_registerMenuItem(J){H$.appendMenuItem(J.menuId,{group:J.group,command:{id:this.id,title:J.title,icon:J.icon,precondition:this.precondition},when:J.when,order:J.order})}}class mF extends Kq{constructor(){super(...arguments);this._implementations=[]}addImplementation(J,$,X,Q){return this._implementations.push({priority:J,name:$,implementation:X,when:Q}),this._implementations.sort((Y,Z)=>Z.priority-Y.priority),{dispose:()=>{for(let Y=0;Y<this._implementations.length;Y++)if(this._implementations[Y].implementation===X){this._implementations.splice(Y,1);return}}}}runCommand(J,$){const X=J.get(Y6),Q=J.get(v0);X.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(let Y of this._implementations){if(Y.when){const G=Q.getContext($6());if(!Y.when.evaluate(G))continue}const Z=Y.implementation(J,$);if(Z){if(X.trace(`Command '${this.id}' was handled by '${Y.name}'.`),typeof Z==="boolean")return;return Z}}X.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class kO extends Kq{constructor(J,$){super($);this.command=J}runCommand(J,$){return this.command.runCommand(J,$)}}class f5 extends Kq{static bindToContribution(J){return class $ extends f5{constructor(X){super(X);this._callback=X.handler}runEditorCommand(X,Q,Y){const Z=J(Q);if(Z)this._callback(Z,Y)}}}static runEditorCommand(J,$,X,Q){const Y=J.get(l1),Z=Y.getFocusedCodeEditor()||Y.getActiveCodeEditor();if(!Z)return;return Z.invokeWithinContext((G)=>{if(!G.get(v0).contextMatchesRules(X!==null&&X!==void 0?X:void 0))return;return Q(G,Z,$)})}runCommand(J,$){return f5.runEditorCommand(J,$,this.precondition,(X,Q,Y)=>this.runEditorCommand(X,Q,Y))}}class NJ extends f5{static convertOptions(J){let $;if(Array.isArray(J.menuOpts))$=J.menuOpts;else if(J.menuOpts)$=[J.menuOpts];else $=[];function X(Q){if(!Q.menuId)Q.menuId=I.EditorContext;if(!Q.title)Q.title=J.label;return Q.when=N0.and(J.precondition,Q.when),Q}if(Array.isArray(J.contextMenuOpts))$.push(...J.contextMenuOpts.map(X));else if(J.contextMenuOpts)$.push(X(J.contextMenuOpts));return J.menuOpts=$,J}constructor(J){super(NJ.convertOptions(J));this.label=J.label,this.alias=J.alias}runEditorCommand(J,$,X){return this.reportTelemetry(J,$),this.run(J,$,X||{})}reportTelemetry(J,$){J.get(Z5).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class S9{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(J,$,X){this.editorContributions.push({id:J,ctor:$,instantiation:X})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(J){J.register(),this.editorActions.push(J)}getEditorActions(){return this.editorActions}registerEditorCommand(J){J.register(),this.editorCommands[J.id]=J}getEditorCommand(J){return this.editorCommands[J]||null}}var pH,eQ,P60,IO,yO,ab;var x9=N(()=>{h0();e8();G9();U1();_X();DH();DJ();X5();m1();m0();qq();Y5();iQ();G8();U9();D0();pH=function(J){return J.register(),J};(function(J){function $(G){return S9.INSTANCE.getEditorCommand(G)}J.getEditorCommand=$;function X(){return S9.INSTANCE.getEditorActions()}J.getEditorActions=X;function Q(){return S9.INSTANCE.getEditorContributions()}J.getEditorContributions=Q;function Y(G){return S9.INSTANCE.getEditorContributions().filter((q)=>G.indexOf(q.id)>=0)}J.getSomeEditorContributions=Y;function Z(){return S9.INSTANCE.getDiffEditorContributions()}J.getDiffEditorContributions=Z})(eQ||(eQ={}));P60={EditorCommonContributions:"editor.contributions"};S9.INSTANCE=new S9;r1.add(P60.EditorCommonContributions,S9.INSTANCE);IO=pH(new mF({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:I.MenubarEditMenu,group:"1_do",title:F({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:I.CommandPalette,group:"",title:F("undo","Undo"),order:1}]}));pH(new kO(IO,{id:"default:undo",precondition:void 0}));yO=pH(new mF({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:I.MenubarEditMenu,group:"1_do",title:F({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:I.CommandPalette,group:"",title:F("redo","Redo"),order:1}]}));pH(new kO(yO,{id:"default:redo",precondition:void 0}));ab=pH(new mF({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:I.MenubarSelectionMenu,group:"1_basic",title:F({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:I.CommandPalette,group:"",title:F("selectAll","Select All"),order:1}]}))});function mH(J){if(!t4)return;if(!rb)rb=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq");console.warn(J.message)}class nb{constructor(J,$,X,Q){this.vsWorker=J,this.req=$,this.method=X,this.args=Q,this.type=0}}class SO{constructor(J,$,X,Q){this.vsWorker=J,this.seq=$,this.res=X,this.err=Q,this.type=1}}class ob{constructor(J,$,X,Q){this.vsWorker=J,this.req=$,this.eventName=X,this.arg=Q,this.type=2}}class tb{constructor(J,$,X){this.vsWorker=J,this.req=$,this.event=X,this.type=3}}class eb{constructor(J,$){this.vsWorker=J,this.req=$,this.type=4}}class CO{constructor(J){this._workerId=-1,this._handler=J,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(J){this._workerId=J}sendMessage(J,$){const X=String(++this._lastSentReq);return new Promise((Q,Y)=>{this._pendingReplies[X]={resolve:Q,reject:Y},this._send(new nb(this._workerId,X,J,$))})}listen(J,$){let X=null;const Q=new y({onWillAddFirstListener:()=>{X=String(++this._lastSentReq),this._pendingEmitters.set(X,Q),this._send(new ob(this._workerId,X,J,$))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(X),this._send(new eb(this._workerId,X)),X=null}});return Q.event}handleMessage(J){if(!J||!J.vsWorker)return;if(this._workerId!==-1&&J.vsWorker!==this._workerId)return;this._handleMessage(J)}_handleMessage(J){switch(J.type){case 1:return this._handleReplyMessage(J);case 0:return this._handleRequestMessage(J);case 2:return this._handleSubscribeEventMessage(J);case 3:return this._handleEventMessage(J);case 4:return this._handleUnsubscribeEventMessage(J)}}_handleReplyMessage(J){if(!this._pendingReplies[J.seq]){console.warn("Got reply to unknown seq");return}const $=this._pendingReplies[J.seq];if(delete this._pendingReplies[J.seq],J.err){let X=J.err;if(J.err.$isError)X=new Error,X.name=J.err.name,X.message=J.err.message,X.stack=J.err.stack;$.reject(X);return}$.resolve(J.res)}_handleRequestMessage(J){const $=J.req;this._handler.handleMessage(J.method,J.args).then((Q)=>{this._send(new SO(this._workerId,$,Q,void 0))},(Q)=>{if(Q.detail instanceof Error)Q.detail=DM(Q.detail);this._send(new SO(this._workerId,$,void 0,DM(Q)))})}_handleSubscribeEventMessage(J){const $=J.req,X=this._handler.handleEvent(J.eventName,J.arg)((Q)=>{this._send(new tb(this._workerId,$,Q))});this._pendingEvents.set($,X)}_handleEventMessage(J){if(!this._pendingEmitters.has(J.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(J.req).fire(J.event)}_handleUnsubscribeEventMessage(J){if(!this._pendingEvents.has(J.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(J.req).dispose(),this._pendingEvents.delete(J.req)}_send(J){const $=[];if(J.type===0){for(let X=0;X<J.args.length;X++)if(J.args[X]instanceof ArrayBuffer)$.push(J.args[X])}else if(J.type===1){if(J.res instanceof ArrayBuffer)$.push(J.res)}this._handler.sendMessage(J,$)}}class xO extends f{constructor(J,$,X){super();let Q=null;this._worker=this._register(J.create("vs/base/common/worker/simpleWorker",(H)=>{this._protocol.handleMessage(H)},(H)=>{Q===null||Q===void 0||Q(H)})),this._protocol=new CO({sendMessage:(H,z)=>{this._worker.postMessage(H,z)},handleMessage:(H,z)=>{if(typeof X[H]!=="function")return Promise.reject(new Error("Missing method "+H+" on main thread host."));try{return Promise.resolve(X[H].apply(X,z))}catch(V){return Promise.reject(V)}},handleEvent:(H,z)=>{if(vO(H)){const V=X[H].call(X,z);if(typeof V!=="function")throw new Error(`Missing dynamic event ${H} on main thread host.`);return V}if(bO(H)){const V=X[H];if(typeof V!=="function")throw new Error(`Missing event ${H} on main thread host.`);return V}throw new Error(`Malformed event name ${H}`)}}),this._protocol.setWorkerId(this._worker.getId());let Y=null;const Z=globalThis.require;if(typeof Z!=="undefined"&&typeof Z.getConfig==="function")Y=Z.getConfig();else if(typeof globalThis.requirejs!=="undefined")Y=globalThis.requirejs.s.contexts._.config;const G=vQ(X);this._onModuleLoaded=this._protocol.sendMessage(ib,[this._worker.getId(),JSON.parse(JSON.stringify(Y)),$,G]);const q=(H,z)=>{return this._request(H,z)},U=(H,z)=>{return this._protocol.listen(H,z)};this._lazyProxy=new Promise((H,z)=>{Q=z,this._onModuleLoaded.then((V)=>{H(Jv(V,q,U))},(V)=>{z(V),this._onError("Worker failed to load "+$,V)})})}getProxyObject(){return this._lazyProxy}_request(J,$){return new Promise((X,Q)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(J,$).then(X,Q)},Q)})}_onError(J,$){console.error(J),console.info($)}}class D60{constructor(J,$){this._requestHandlerFactory=$,this._requestHandler=null,this._protocol=new CO({sendMessage:(X,Q)=>{J(X,Q)},handleMessage:(X,Q)=>this._handleMessage(X,Q),handleEvent:(X,Q)=>this._handleEvent(X,Q)})}onmessage(J){this._protocol.handleMessage(J)}_handleMessage(J,$){if(J===ib)return this.initialize($[0],$[1],$[2],$[3]);if(!this._requestHandler||typeof this._requestHandler[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._requestHandler[J].apply(this._requestHandler,$))}catch(X){return Promise.reject(X)}}_handleEvent(J,$){if(!this._requestHandler)throw new Error("Missing requestHandler");if(vO(J)){const X=this._requestHandler[J].call(this._requestHandler,$);if(typeof X!=="function")throw new Error(`Missing dynamic event ${J} on request handler.`);return X}if(bO(J)){const X=this._requestHandler[J];if(typeof X!=="function")throw new Error(`Missing event ${J} on request handler.`);return X}throw new Error(`Malformed event name ${J}`)}initialize(J,$,X,Q){this._protocol.setWorkerId(J);const G=Jv(Q,(q,U)=>{return this._protocol.sendMessage(q,U)},(q,U)=>{return this._protocol.listen(q,U)});if(this._requestHandlerFactory)return this._requestHandler=this._requestHandlerFactory(G),Promise.resolve(vQ(this._requestHandler));if($){if(typeof $.baseUrl!=="undefined")delete $.baseUrl;if(typeof $.paths!=="undefined"){if(typeof $.paths.vs!=="undefined")delete $.paths.vs}if(typeof $.trustedTypesPolicy!=="undefined")delete $.trustedTypesPolicy;$.catchError=!0,globalThis.require.config($)}return new Promise((q,U)=>{const H=globalThis.require;H([X],(z)=>{if(this._requestHandler=z.create(G),!this._requestHandler){U(new Error("No RequestHandler!"));return}q(vQ(this._requestHandler))},U)})}}var bO,vO,Jv,ib,rb;var fO=N(()=>{D1();F0();X0();B5();O1();o0();bO=function(J){return J[0]==="o"&&J[1]==="n"&&Y$(J.charCodeAt(2))},vO=function(J){return/^onDynamic/.test(J)&&Y$(J.charCodeAt(9))},Jv=function(J,$,X){const Q=(G)=>{return function(){const q=Array.prototype.slice.call(arguments,0);return $(G,q)}},Y=(G)=>{return function(q){return X(G,q)}},Z={};for(let G of J){if(vO(G)){Z[G]=Y(G);continue}if(bO(G)){Z[G]=X(G,void 0);continue}Z[G]=Q(G)}return Z},ib="$initialize",rb=!1});function V9(J,$){var X;const Q=globalThis.MonacoEnvironment;if(Q===null||Q===void 0?void 0:Q.createTrustedTypesPolicy)try{return Q.createTrustedTypesPolicy(J,$)}catch(Y){n0(Y);return}try{return(X=B1.trustedTypes)===null||X===void 0?void 0:X.createPolicy(J,$)}catch(Y){n0(Y);return}}var JY=N(()=>{X7();D1()});class Xv extends f{constructor(J,$,X,Q,Y){super();this.id=$,this.label=X;const Z=R60(X);if(M60(Z))this.worker=Z;else this.worker=Promise.resolve(Z);this.postMessage(J,[]),this.worker.then((G)=>{if(G.onmessage=function(q){Q(q.data)},G.onmessageerror=Y,typeof G.addEventListener==="function")G.addEventListener("error",Y)}),this._register(K0(()=>{var G;(G=this.worker)===null||G===void 0||G.then((q)=>{q.onmessage=null,q.onmessageerror=null,q.removeEventListener("error",Y),q.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(J,$){var X;(X=this.worker)===null||X===void 0||X.then((Q)=>{try{Q.postMessage(J,$)}catch(Y){n0(Y),n0(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Y}))}})}}class uH{constructor(J){this._label=J,this._webWorkerFailedBeforeError=!1}create(J,$,X){const Q=++uH.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Xv(J,Q,this._label||"anonymous"+Q,$,(Y)=>{mH(Y),this._webWorkerFailedBeforeError=Y,X(Y)})}}var R60,M60,$v;var Qv=N(()=>{JY();D1();fO();X0();R60=function(J){const $=globalThis.MonacoEnvironment;if($){if(typeof $.getWorker==="function")return $.getWorker("workerMain.js",J);if(typeof $.getWorkerUrl==="function"){const X=$.getWorkerUrl("workerMain.js",J);return new Worker($v?$v.createScriptURL(X):X,{name:J})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")},M60=function(J){if(typeof J.then==="function")return!0;return!1},$v=V9("defaultWorkerFactory",{createScriptURL:(J)=>J});uH.LAST_WORKER_ID=0});class lH{constructor(J){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=J.open,this.close=J.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(J.notIn))for(let $=0,X=J.notIn.length;$<X;$++)switch(J.notIn[$]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(J){switch(J){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(J,$){if(J.getTokenCount()===0)return!0;const X=J.findTokenIndexAtOffset($-2),Q=J.getStandardTokenType(X);return this.isOK(Q)}_findNeutralCharacterInRange(J,$){for(let X=J;X<=$;X++){const Q=String.fromCharCode(X);if(!this.open.includes(Q)&&!this.close.includes(Q))return Q}return null}findNeutralCharacter(){if(!this._neutralCharacterSearched){if(this._neutralCharacterSearched=!0,!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(48,57);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(97,122);if(!this._neutralCharacter)this._neutralCharacter=this._findNeutralCharacterInRange(65,90)}return this._neutralCharacter}}class hO{constructor(J){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(let $ of J)if(cH(this.autoClosingPairsOpenByStart,$.open.charAt(0),$),cH(this.autoClosingPairsOpenByEnd,$.open.charAt($.open.length-1),$),cH(this.autoClosingPairsCloseByStart,$.close.charAt(0),$),cH(this.autoClosingPairsCloseByEnd,$.close.charAt($.close.length-1),$),$.close.length===1&&$.open.length===1)cH(this.autoClosingPairsCloseSingleChar,$.close,$)}}var cH,l6;var $G=N(()=>{cH=function(J,$,X){if(J.has($))J.get($).push(X);else J.set($,[X])};(function(J){J[J.None=0]="None",J[J.Indent=1]="Indent",J[J.IndentOutdent=2]="IndentOutdent",J[J.Outdent=3]="Outdent"})(l6||(l6={}))});function $Y(J,$){const X=J.getCount(),Q=J.findTokenIndexAtOffset($),Y=J.getLanguageId(Q);let Z=Q;while(Z+1<X&&J.getLanguageId(Z+1)===Y)Z++;let G=Q;while(G>0&&J.getLanguageId(G-1)===Y)G--;return new Yv(J,Y,G,Z+1,J.getStartOffset(G),J.getEndOffset(Z))}function _J(J){return(J&3)!==0}class Yv{constructor(J,$,X,Q,Y,Z){this._scopedLineTokensBrand=void 0,this._actual=J,this.languageId=$,this._firstTokenIndex=X,this._lastTokenIndex=Q,this.firstCharOffset=Y,this._lastCharOffset=Z}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(J){return this._actual.getLineContent().substring(0,this.firstCharOffset+J)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(J){return this._actual.findTokenIndexAtOffset(J+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(J){return this._actual.getStandardTokenType(J+this._firstTokenIndex)}}var XG=N(()=>{});class QG{constructor(J){if(J.autoClosingPairs)this._autoClosingPairs=J.autoClosingPairs.map(($)=>new lH($));else if(J.brackets)this._autoClosingPairs=J.brackets.map(($)=>new lH({open:$[0],close:$[1]}));else this._autoClosingPairs=[];if(J.__electricCharacterSupport&&J.__electricCharacterSupport.docComment){const $=J.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new lH({open:$.open,close:$.close||""}))}this._autoCloseBeforeForQuotes=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:QG.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof J.autoCloseBefore==="string"?J.autoCloseBefore:QG.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=J.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(J){return J?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}var Zv=N(()=>{$G();QG.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t";QG.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS='\'"`;:.,=}])> \n\t'});function qv(J,$){return J[$+0]<<0>>>0|J[$+1]<<8>>>0}function Uv(J,$,X){J[X+0]=$&255,$=$>>>8,J[X+1]=$&255}function b9(J,$){return J[$]*16777216+J[$+1]*65536+J[$+2]*256+J[$+3]}function v9(J,$,X){J[X+3]=$,$=$>>>8,J[X+2]=$,$=$>>>8,J[X+1]=$,$=$>>>8,J[X]=$}function pO(J,$){return J[$]}function mO(J,$,X){J[X]=$}class uF{static wrap(J){if(Gv&&!Buffer.isBuffer(J))J=Buffer.from(J.buffer,J.byteOffset,J.byteLength);return new uF(J)}constructor(J){this.buffer=J,this.byteLength=this.buffer.byteLength}toString(){if(Gv)return this.buffer.toString();else{if(!gO)gO=new TextDecoder;return gO.decode(this.buffer)}}}var Gv,VU0,gO;var dH=N(()=>{i2();Gv=typeof Buffer!=="undefined",VU0=new Q9(()=>new Uint8Array(256))});function sO(){if(!dO)dO=MC()?Hv():O60();return dO}function zv(J,$,X){const Q=new Uint16Array(J.buffer,$,X);if(X>0&&(Q[0]===65279||Q[0]===65534))return T60(J,$,X);return Hv().decode(Q)}class xX{constructor(J){this._capacity=J|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){if(this._completedStrings!==null)return this._flushBuffer(),this._completedStrings.join("");return this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const J=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return sO().decode(J)}_flushBuffer(){const J=this._buildBuffer();if(this._bufferLength=0,this._completedStrings===null)this._completedStrings=[J];else this._completedStrings[this._completedStrings.length]=J}appendCharCode(J){const $=this._capacity-this._bufferLength;if($<=1){if($===0||U8(J))this._flushBuffer()}this._buffer[this._bufferLength++]=J}appendASCIICharCode(J){if(this._bufferLength===this._capacity)this._flushBuffer();this._buffer[this._bufferLength++]=J}appendString(J){const $=J.length;if(this._bufferLength+$>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=J;return}for(let X=0;X<$;X++)this._buffer[this._bufferLength++]=J.charCodeAt(X)}}var Hv,O60,T60,cO,lO,dO;var YG=N(()=>{o0();O1();dH();Hv=function(){if(!cO)cO=new TextDecoder("UTF-16LE");return cO},O60=function(){if(!lO)lO=new TextDecoder("UTF-16BE");return lO};T60=function(J,$,X){const Q=[];let Y=0;for(let Z=0;Z<X;Z++){const G=qv(J,$);$+=2,Q[Y++]=String.fromCharCode(G)}return Q.join("")}});class cF{constructor(J,$,X,Q,Y,Z){this._richEditBracketBrand=void 0,this.languageId=J,this.index=$,this.open=X,this.close=Q,this.forwardRegex=Y,this.reversedRegex=Z,this._openSet=cF._toSet(this.open),this._closeSet=cF._toSet(this.close)}isOpen(J){return this._openSet.has(J)}isClose(J){return this._closeSet.has(J)}static _toSet(J){const $=new Set;for(let X of J)$.add(X);return $}}class aO{constructor(J,$){this._richEditBracketsBrand=void 0;const X=_60($);this.brackets=X.map((Q,Y)=>{return new cF(J,Y,Q.open,Q.close,w60(Q.open,Q.close,X,Y),L60(Q.open,Q.close,X,Y))}),this.forwardRegex=E60(this.brackets),this.reversedRegex=k60(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(let Q of this.brackets){for(let Y of Q.open)this.textIsBracket[Y]=Q,this.textIsOpenBracket[Y]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length);for(let Y of Q.close)this.textIsBracket[Y]=Q,this.textIsOpenBracket[Y]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,Y.length)}}}class h5{static _findPrevBracketInText(J,$,X,Q){const Y=X.match(J);if(!Y)return null;const Z=X.length-(Y.index||0),G=Y[0].length,q=Q+Z;return new L($,q-G+1,$,q+1)}static findPrevBracketInRange(J,$,X,Q,Y){const G=rO(X).substring(X.length-Y,X.length-Q);return this._findPrevBracketInText(J,$,G,Q)}static findNextBracketInText(J,$,X,Q){const Y=X.match(J);if(!Y)return null;const Z=Y.index||0,G=Y[0].length;if(G===0)return null;const q=Q+Z;return new L($,q+1,$,q+1+G)}static findNextBracketInRange(J,$,X,Q,Y){const Z=X.substring(Q,Y);return this.findNextBracketInText(J,$,Z,Q)}}var _60,Vv,jv,lF,w60,L60,E60,k60,I60,dF,rO;var sF=N(()=>{o0();YG();c0();_60=function(J){const $=J.length;J=J.map((G)=>[G[0].toLowerCase(),G[1].toLowerCase()]);const X=[];for(let G=0;G<$;G++)X[G]=G;const Q=(G,q)=>{const[U,H]=G,[z,V]=q;return U===z||U===V||H===z||H===V},Y=(G,q)=>{const U=Math.min(G,q),H=Math.max(G,q);for(let z=0;z<$;z++)if(X[z]===H)X[z]=U};for(let G=0;G<$;G++){const q=J[G];for(let U=G+1;U<$;U++){const H=J[U];if(Q(q,H))Y(X[G],X[U])}}const Z=[];for(let G=0;G<$;G++){const q=[],U=[];for(let H=0;H<$;H++)if(X[H]===G){const[z,V]=J[H];q.push(z),U.push(V)}if(q.length>0)Z.push({open:q,close:U})}return Z},Vv=function(J,$,X,Q){for(let Y=0,Z=$.length;Y<Z;Y++){if(Y===X)continue;const G=$[Y];for(let q of G.open)if(q.indexOf(J)>=0)Q.push(q);for(let q of G.close)if(q.indexOf(J)>=0)Q.push(q)}},jv=function(J,$){return J.length-$.length},lF=function(J){if(J.length<=1)return J;const $=[],X=new Set;for(let Q of J){if(X.has(Q))continue;$.push(Q),X.add(Q)}return $},w60=function(J,$,X,Q){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Vv(Y[Z],X,Q,Y);return Y=lF(Y),Y.sort(jv),Y.reverse(),dF(Y)},L60=function(J,$,X,Q){let Y=[];Y=Y.concat(J),Y=Y.concat($);for(let Z=0,G=Y.length;Z<G;Z++)Vv(Y[Z],X,Q,Y);return Y=lF(Y),Y.sort(jv),Y.reverse(),dF(Y.map(rO))},E60=function(J){let $=[];for(let X of J){for(let Q of X.open)$.push(Q);for(let Q of X.close)$.push(Q)}return $=lF($),dF($)},k60=function(J){let $=[];for(let X of J){for(let Q of X.open)$.push(Q);for(let Q of X.close)$.push(Q)}return $=lF($),dF($.map(rO))},I60=function(J){const $=/^[\w ]+$/.test(J);return J=J5(J),$?`\\b${J}\\b`:J},dF=function(J){const $=`(${J.map(I60).join(")|(")})`;return aB($,!0)};rO=function(){function J(Q){const Y=new Uint16Array(Q.length);let Z=0;for(let G=Q.length-1;G>=0;G--)Y[Z++]=Q.charCodeAt(G);return sO().decode(Y)}let $=null,X=null;return function Q(Y){if($!==Y)$=Y,X=J($);return X}}()});class iO{constructor(J){this._richEditBrackets=J}getElectricCharacters(){const J=[];if(this._richEditBrackets)for(let $ of this._richEditBrackets.brackets)for(let X of $.close){const Q=X.charAt(X.length-1);J.push(Q)}return UJ(J)}onElectricCharacter(J,$,X){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Q=$.findTokenIndexAtOffset(X-1);if(_J($.getStandardTokenType(Q)))return null;const Y=this._richEditBrackets.reversedRegex,Z=$.getLineContent().substring(0,X-1)+J,G=h5.findPrevBracketInRange(Y,1,Z,0,Z.length);if(!G)return null;const q=Z.substring(G.startColumn-1,G.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[q])return null;const H=$.getActualLineContentBefore(G.startColumn-1);if(!/^\s*$/.test(H))return null;return{matchOpenBracket:q}}}var Wv=N(()=>{H1();XG();sF()});class nO{constructor(J){this._indentationRules=J}shouldIncrease(J){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&aF(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(J))return!0}return!1}shouldDecrease(J){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&aF(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(J))return!0;return!1}shouldIndentNextLine(J){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&aF(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(J))return!0;return!1}shouldIgnore(J){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&aF(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(J))return!0;return!1}getIndentMetadata(J){let $=0;if(this.shouldIncrease(J))$+=1;if(this.shouldDecrease(J))$+=2;if(this.shouldIndentNextLine(J))$+=4;if(this.shouldIgnore(J))$+=8;return $}}var aF;var Bv=N(()=>{aF=function(J){if(J.global)J.lastIndex=0;return!0}});class ZG{constructor(J){J=J||{},J.brackets=J.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],J.brackets.forEach(($)=>{const X=ZG._createOpenBracketRegExp($[0]),Q=ZG._createCloseBracketRegExp($[1]);if(X&&Q)this._brackets.push({open:$[0],openRegExp:X,close:$[1],closeRegExp:Q})}),this._regExpRules=J.onEnterRules||[]}onEnter(J,$,X,Q){if(J>=3)for(let Y=0,Z=this._regExpRules.length;Y<Z;Y++){const G=this._regExpRules[Y];if([{reg:G.beforeText,text:X},{reg:G.afterText,text:Q},{reg:G.previousLineText,text:$}].every((U)=>{if(!U.reg)return!0;return U.reg.lastIndex=0,U.reg.test(U.text)}))return G.action}if(J>=2){if(X.length>0&&Q.length>0)for(let Y=0,Z=this._brackets.length;Y<Z;Y++){const G=this._brackets[Y];if(G.openRegExp.test(X)&&G.closeRegExp.test(Q))return{indentAction:l6.IndentOutdent}}}if(J>=2){if(X.length>0){for(let Y=0,Z=this._brackets.length;Y<Z;Y++)if(this._brackets[Y].openRegExp.test(X))return{indentAction:l6.Indent}}}return null}static _createOpenBracketRegExp(J){let $=J5(J);if(!/\B/.test($.charAt(0)))$="\\b"+$;return $+="\\s*$",ZG._safeRegExp($)}static _createCloseBracketRegExp(J){let $=J5(J);if(!/\B/.test($.charAt($.length-1)))$=$+"\\b";return $="^\\s*"+$,ZG._safeRegExp($)}static _safeRegExp(J){try{return new RegExp(J)}catch($){return n0($),null}}}var Fv=N(()=>{D1();o0();$G()});function rF(J,$){const X=Object.create(null);for(let Q in J)oO(X,Q,J[Q],$);return X}function oO(J,$,X,Q){const Y=$.split("."),Z=Y.pop();let G=J;for(let q=0;q<Y.length;q++){const U=Y[q];let H=G[U];switch(typeof H){case"undefined":H=G[U]=Object.create(null);break;case"object":break;default:Q(`Ignoring ${$} as ${Y.slice(0,q+1).join(".")} is ${JSON.stringify(H)}`);return}G=H}if(typeof G==="object"&&G!==null)try{G[Z]=X}catch(q){Q(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}else Q(`Ignoring ${$} as ${Y.join(".")} is ${JSON.stringify(G)}`)}function Kv(J,$){const X=$.split(".");Av(J,X)}function tO(J,$,X){function Q(G,q){let U=G;for(let H of q){if(typeof U!=="object"||U===null)return;U=U[H]}return U}const Y=$.split("."),Z=Q(J,Y);return typeof Z==="undefined"?X:Z}function Pv(J){return J.replace(/[\[\]]/g,"")}var Av,S1;var h7=N(()=>{m0();Av=function(J,$){const X=$.shift();if($.length===0){delete J[X];return}if(Object.keys(J).indexOf(X)!==-1){const Q=J[X];if(typeof Q==="object"&&!Array.isArray(Q)){if(Av(Q,$),Object.keys(Q).length===0)delete J[X]}}};S1=M0("configurationService")});var e1;var f9=N(()=>{m0();e1=M0("languageService")});class j9{constructor(J,$=[],X=!1){this.ctor=J,this.staticArguments=$,this.supportsDelayedInstantiation=X}}var iF=N(()=>{});function z1(J,$,X){if(!($ instanceof j9))$=new j9($,[],Boolean(X));Dv.push([J,$])}function eO(){return Dv}var Dv;var h9=N(()=>{iF();Dv=[]});var g9;var sH=N(()=>{g9=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})});class Rv{constructor(){this._onDidChangeSchema=new y,this.schemasById={}}registerSchema(J,$){this.schemasById[y60(J)]=$,this._onDidChangeSchema.fire(J)}notifySchemaChanged(J){this._onDidChangeSchema.fire(J)}}var y60,GG,S60;var nF=N(()=>{F0();Y5();y60=function(J){if(J.length>0&&J.charAt(J.length-1)==="#")return J.substring(0,J.length-1);return J},GG={JSONContribution:"base.contributions.json"};S60=new Rv;r1.add(GG.JSONContribution,S60)});function rH(J){const $=[];if(bX.test(J)){let X=Ov.exec(J);while(X===null||X===void 0?void 0:X.length){const Q=X[1].trim();if(Q)$.push(Q);X=Ov.exec(J)}}return UJ($)}function C60(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}function x60(J,$){var X,Q,Y,Z;if(!J.trim())return F("config.property.empty","Cannot register an empty property");if(bX.test(J))return F("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J);if(tF.getConfigurationProperties()[J]!==void 0)return F("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J);if(((X=$.policy)===null||X===void 0?void 0:X.name)&&tF.getPolicyConfigurations().get((Q=$.policy)===null||Q===void 0?void 0:Q.name)!==void 0)return F("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(Y=$.policy)===null||Y===void 0?void 0:Y.name,tF.getPolicyConfigurations().get((Z=$.policy)===null||Z===void 0?void 0:Z.name));return null}class Tv{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new y,this._onDidUpdateConfiguration=new y,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:F("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Mv.registerSchema(aH,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(J,$=!0){this.registerConfigurations([J],$)}registerConfigurations(J,$=!0){const X=new Set;this.doRegisterConfigurations(J,$,X),Mv.registerSchema(aH,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:X})}registerDefaultConfigurations(J){const $=new Set;this.doRegisterDefaultConfigurations(J,$),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:$,defaultsOverrides:!0})}doRegisterDefaultConfigurations(J,$){var X;const Q=[];for(let{overrides:Y,source:Z}of J)for(let G in Y)if($.add(G),bX.test(G)){const q=this.configurationDefaultsOverrides.get(G),U=(X=q===null||q===void 0?void 0:q.valuesSources)!==null&&X!==void 0?X:new Map;if(Z)for(let j of Object.keys(Y[G]))U.set(j,Z);const H={...(q===null||q===void 0?void 0:q.value)||{},...Y[G]};this.configurationDefaultsOverrides.set(G,{source:Z,value:H,valuesSources:U});const z=Pv(G),V={type:"object",default:H,description:F("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",z),$ref:aH,defaultDefaultValue:H,source:G6(Z)?void 0:Z,defaultValueSource:Z};Q.push(...rH(G)),this.configurationProperties[G]=V,this.defaultLanguageConfigurationOverridesNode.properties[G]=V}else{this.configurationDefaultsOverrides.set(G,{value:Y[G],source:Z});const q=this.configurationProperties[G];if(q)this.updatePropertyDefaultValue(G,q),this.updateSchema(G,q)}this.doRegisterOverrideIdentifiers(Q)}registerOverrideIdentifiers(J){this.doRegisterOverrideIdentifiers(J),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(J){for(let $ of J)this.overrideIdentifiers.add($);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(J,$,X){J.forEach((Q)=>{this.validateAndRegisterProperties(Q,$,Q.extensionInfo,Q.restrictedProperties,void 0,X),this.configurationContributors.push(Q),this.registerJSONConfiguration(Q)})}validateAndRegisterProperties(J,$=!0,X,Q,Y=3,Z){var G;Y=D7(J.scope)?Y:J.scope;const q=J.properties;if(q)for(let H in q){const z=q[H];if($&&x60(H,z)){delete q[H];continue}if(z.source=X,z.defaultDefaultValue=q[H].default,this.updatePropertyDefaultValue(H,z),bX.test(H))z.scope=void 0;else z.scope=D7(z.scope)?Y:z.scope,z.restricted=D7(z.restricted)?!!(Q===null||Q===void 0?void 0:Q.includes(H)):z.restricted;if(q[H].hasOwnProperty("included")&&!q[H].included){this.excludedConfigurationProperties[H]=q[H],delete q[H];continue}else if(this.configurationProperties[H]=q[H],(G=q[H].policy)===null||G===void 0?void 0:G.name)this.policyConfigurations.set(q[H].policy.name,H);if(!q[H].deprecationMessage&&q[H].markdownDeprecationMessage)q[H].deprecationMessage=q[H].markdownDeprecationMessage;Z.add(H)}const U=J.allOf;if(U)for(let H of U)this.validateAndRegisterProperties(H,$,X,Q,Y,Z)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(J){const $=(X)=>{const Q=X.properties;if(Q)for(let Z in Q)this.updateSchema(Z,Q[Z]);const Y=X.allOf;Y===null||Y===void 0||Y.forEach($)};$(J)}updateSchema(J,$){switch(JT.properties[J]=$,$.scope){case 1:$T.properties[J]=$;break;case 2:XT.properties[J]=$;break;case 6:QT.properties[J]=$;break;case 3:YT.properties[J]=$;break;case 4:oF.properties[J]=$;break;case 5:oF.properties[J]=$,this.resourceLanguageSettingsSchema.properties[J]=$;break}}updateOverridePropertyPatternKey(){for(let J of this.overrideIdentifiers.values()){const $=`[${J}]`,X={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:aH};this.updatePropertyDefaultValue($,X),JT.properties[$]=X,$T.properties[$]=X,XT.properties[$]=X,QT.properties[$]=X,YT.properties[$]=X,oF.properties[$]=X}}registerOverridePropertyPatternKey(){const J={type:"object",description:F("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:F("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:aH};JT.patternProperties[qG]=J,$T.patternProperties[qG]=J,XT.patternProperties[qG]=J,QT.patternProperties[qG]=J,YT.patternProperties[qG]=J,oF.patternProperties[qG]=J,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(J,$){const X=this.configurationDefaultsOverrides.get(J);let Q=X===null||X===void 0?void 0:X.value,Y=X===null||X===void 0?void 0:X.source;if(e6(Q))Q=$.defaultDefaultValue,Y=void 0;if(e6(Q))Q=C60($.type);$.default=Q,$.defaultValueSource=Y}}var p9,JT,$T,XT,QT,YT,oF,aH,Mv,Nv,Ov,qG,bX,tF;var UG=N(()=>{H1();F0();G8();h0();h7();nF();Y5();p9={Configuration:"base.contributions.configuration"},JT={properties:{},patternProperties:{}},$T={properties:{},patternProperties:{}},XT={properties:{},patternProperties:{}},QT={properties:{},patternProperties:{}},YT={properties:{},patternProperties:{}},oF={properties:{},patternProperties:{}},aH="vscode://schemas/settings/resourceLanguage",Mv=r1.as(GG.JSONContribution);Nv="\\[([^\\]]+)\\]",Ov=new RegExp(Nv,"g"),qG=`^(${Nv})+\$`,bX=new RegExp(qG),tF=new Tv;r1.add(p9.Configuration,tF)});class _v{constructor(){this._onDidChangeLanguages=new y,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(J){return this._languages.push(J),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let $=0,X=this._languages.length;$<X;$++)if(this._languages[$]===J){this._languages.splice($,1);return}}}}getLanguages(){return this._languages}}var b60,XY,T6,v60;var wJ=N(()=>{h0();F0();Y5();sH();UG();b60={ModesRegistry:"editor.modesRegistry"};XY=new _v;r1.add(b60.ModesRegistry,XY);T6="plaintext",v60=".txt";XY.registerLanguage({id:T6,extensions:[v60],aliases:[F("plainText.alias","Plain Text"),"text"],mimetypes:[g9.text]});r1.as(p9.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])});class ZT{constructor(J,$){this.languageId=J;const X=$.brackets?wv($.brackets):[],Q=new dB((G)=>{const q=new Set;return{info:new Lv(this,G,q),closing:q}}),Y=new dB((G)=>{const q=new Set,U=new Set;return{info:new Ev(this,G,q,U),opening:q,openingColorized:U}});for(let[G,q]of X){const U=Q.get(G),H=Y.get(q);U.closing.add(H.info),H.opening.add(U.info)}const Z=$.colorizedBracketPairs?wv($.colorizedBracketPairs):X.filter((G)=>!(G[0]==="<"&&G[1]===">"));for(let[G,q]of Z){const U=Q.get(G),H=Y.get(q);U.closing.add(H.info),H.openingColorized.add(U.info),H.opening.add(U.info)}this._openingBrackets=new Map([...Q.cachedValues].map(([G,q])=>[G,q.info])),this._closingBrackets=new Map([...Y.cachedValues].map(([G,q])=>[G,q.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(J){return this._openingBrackets.get(J)}getClosingBracketInfo(J){return this._closingBrackets.get(J)}getBracketInfo(J){return this.getOpeningBracketInfo(J)||this.getClosingBracketInfo(J)}}class GT{constructor(J,$){this.config=J,this.bracketText=$}get languageId(){return this.config.languageId}}class Lv extends GT{constructor(J,$,X){super(J,$);this.openedBrackets=X,this.isOpeningBracket=!0}}class Ev extends GT{constructor(J,$,X,Q){super(J,$);this.openingBrackets=X,this.openingColorizedBrackets=Q,this.isOpeningBracket=!1}closes(J){if(J.config!==this.config)return!1;return this.openingBrackets.has(J)}closesColorized(J){if(J.config!==this.config)return!1;return this.openingColorizedBrackets.has(J)}getOpeningBrackets(){return[...this.openingBrackets]}}var wv;var kv=N(()=>{cM();wv=function(J){return J.filter(([$,X])=>$!==""&&X!=="")}});function JK(J,$,X){const Q=J.getLineContent($);let Y=J6(Q);if(Y.length>X-1)Y=Y.substring(0,X-1);return Y}function QY(J,$,X){J.tokenization.forceTokenization($);const Q=J.tokenization.getLineTokens($),Y=typeof X==="undefined"?J.getLineMaxColumn($)-1:X-1;return $Y(Q,Y)}class eF{constructor(J){this.languageId=J}affects(J){return!this.languageId?!0:this.languageId===J}}class Sv{constructor(J){this.languageId=J,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(J,$){const X=new HT(J,$,++this._order);return this._entries.push(X),this._resolved=null,K0(()=>{for(let Q=0;Q<this._entries.length;Q++)if(this._entries[Q]===X){this._entries.splice(Q,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const J=this._resolve();if(J)this._resolved=new Aq(this.languageId,J)}return this._resolved}_resolve(){if(this._entries.length===0)return null;return this._entries.sort(HT.cmp),Cv(this._entries.map((J)=>J.configuration))}}class HT{constructor(J,$,X){this.configuration=J,this.priority=$,this.order=X}static cmp(J,$){if(J.priority===$.priority)return J.order-$.order;return J.priority-$.priority}}class zT{constructor(J){this.languageId=J}}class xv extends f{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._register(this.register(T6,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:"\"",close:"\""},{open:"\'",close:"\'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(J,$,X=0){let Q=this._entries.get(J);if(!Q)Q=new Sv(J),this._entries.set(J,Q);const Y=Q.register($,X);return this._onDidChange.fire(new zT(J)),K0(()=>{Y.dispose(),this._onDidChange.fire(new zT(J))})}getLanguageConfiguration(J){const $=this._entries.get(J);return($===null||$===void 0?void 0:$.getResolvedConfiguration())||null}}class Aq{constructor(J,$){if(this.languageId=J,this.underlyingConfig=$,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new ZG(this.underlyingConfig):null,this.comments=Aq._handleComments(this.underlyingConfig),this.characterPair=new QG(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||JH,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules)this.indentRulesSupport=new nO(this.underlyingConfig.indentationRules);else this.indentRulesSupport=null;this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new ZT(J,this.underlyingConfig)}getWordDefinition(){return $H(this.wordDefinition)}get brackets(){if(!this._brackets&&this.underlyingConfig.brackets)this._brackets=new aO(this.languageId,this.underlyingConfig.brackets);return this._brackets}get electricCharacter(){if(!this._electricCharacter)this._electricCharacter=new iO(this.brackets);return this._electricCharacter}onEnter(J,$,X,Q){if(!this._onEnterSupport)return null;return this._onEnterSupport.onEnter(J,$,X,Q)}getAutoClosingPairs(){return new hO(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(J){return this.characterPair.getAutoCloseBeforeSet(J)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(J){const $=J.comments;if(!$)return null;const X={};if($.lineComment)X.lineCommentToken=$.lineComment;if($.blockComment){const[Q,Y]=$.blockComment;X.blockCommentStartToken=Q,X.blockCommentEndToken=Y}return X}}var h60,g60,yv,Cv,f60,Iv,N8,qT,UT;var g7=N(()=>{F0();X0();o0();p2();$G();XG();Zv();Wv();Bv();Fv();sF();m0();h7();f9();h9();wJ();kv();h60=function(J,$,X,Q){let Y=$.getLanguageConfiguration(J);if(!Y){if(!Q.isRegisteredLanguageId(J))return new Aq(J,{});Y=new Aq(J,{})}const Z=g60(Y.languageId,X),G=Cv([Y.underlyingConfig,Z]);return new Aq(Y.languageId,G)},g60=function(J,$){const X=$.getValue(UT.brackets,{overrideIdentifier:J}),Q=$.getValue(UT.colorizedBracketPairs,{overrideIdentifier:J});return{brackets:yv(X),colorizedBracketPairs:yv(Q)}},yv=function(J){if(!Array.isArray(J))return;return J.map(($)=>{if(!Array.isArray($)||$.length!==2)return;return[$[0],$[1]]}).filter(($)=>!!$)};Cv=function(J){let $={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(let X of J)$={comments:X.comments||$.comments,brackets:X.brackets||$.brackets,wordPattern:X.wordPattern||$.wordPattern,indentationRules:X.indentationRules||$.indentationRules,onEnterRules:X.onEnterRules||$.onEnterRules,autoClosingPairs:X.autoClosingPairs||$.autoClosingPairs,surroundingPairs:X.surroundingPairs||$.surroundingPairs,autoCloseBefore:X.autoCloseBefore||$.autoCloseBefore,folding:X.folding||$.folding,colorizedBracketPairs:X.colorizedBracketPairs||$.colorizedBracketPairs,__electricCharacterSupport:X.__electricCharacterSupport||$.__electricCharacterSupport};return $},f60=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Iv=function(J,$){return function(X,Q){$(X,Q,J)}};N8=M0("languageConfigurationService"),qT=class J extends f{constructor($,X){super();this.configurationService=$,this.languageService=X,this._registry=this._register(new xv),this.onDidChangeEmitter=this._register(new y),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Q=new Set(Object.values(UT));this._register(this.configurationService.onDidChangeConfiguration((Y)=>{const Z=Y.change.keys.some((q)=>Q.has(q)),G=Y.change.overrides.filter(([q,U])=>U.some((H)=>Q.has(H))).map(([q])=>q);if(Z)this.configurations.clear(),this.onDidChangeEmitter.fire(new eF(void 0));else for(let q of G)if(this.languageService.isRegisteredLanguageId(q))this.configurations.delete(q),this.onDidChangeEmitter.fire(new eF(q))})),this._register(this._registry.onDidChange((Y)=>{this.configurations.delete(Y.languageId),this.onDidChangeEmitter.fire(new eF(Y.languageId))}))}register($,X,Q){return this._registry.register($,X,Q)}getLanguageConfiguration($){let X=this.configurations.get($);if(!X)X=h60($,this._registry,this.configurationService,this.languageService),this.configurations.set($,X);return X}};qT=f60([Iv(0,S1),Iv(1,e1)],qT);UT={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};z1(N8,qT,1)});class W${constructor(J,$,X,Q){this.originalStart=J,this.originalLength=$,this.modifiedStart=X,this.modifiedLength=Q}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var bv=N(()=>{});function vv(J,$,X){return new z4(new VT(J),new VT($)).ComputeDiff(X).changes}class VT{constructor(J){this.source=J}getElements(){const J=this.source,$=new Int32Array(J.length);for(let X=0,Q=J.length;X<Q;X++)$[X]=J.charCodeAt(X);return $}}class HG{static Assert(J,$){if(!J)throw new Error($)}}class zG{static Copy(J,$,X,Q,Y){for(let Z=0;Z<Y;Z++)X[Q+Z]=J[$+Z]}static Copy2(J,$,X,Q,Y){for(let Z=0;Z<Y;Z++)X[Q+Z]=J[$+Z]}}class jT{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.m_changes.push(new W$(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount));this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_originalCount++}AddModifiedElement(J,$){this.m_originalStart=Math.min(this.m_originalStart,J),this.m_modifiedStart=Math.min(this.m_modifiedStart,$),this.m_modifiedCount++}getChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes}getReverseChanges(){if(this.m_originalCount>0||this.m_modifiedCount>0)this.MarkNextChange();return this.m_changes.reverse(),this.m_changes}}class z4{constructor(J,$,X=null){this.ContinueProcessingPredicate=X,this._originalSequence=J,this._modifiedSequence=$;const[Q,Y,Z]=z4._getElements(J),[G,q,U]=z4._getElements($);this._hasStrings=Z&&U,this._originalStringElements=Q,this._originalElementsOrHash=Y,this._modifiedStringElements=G,this._modifiedElementsOrHash=q,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(J){return J.length>0&&typeof J[0]==="string"}static _getElements(J){const $=J.getElements();if(z4._isStringArray($)){const X=new Int32Array($.length);for(let Q=0,Y=$.length;Q<Y;Q++)X[Q]=yF($[Q],0);return[$,X,!0]}if($ instanceof Int32Array)return[[],$,!1];return[[],new Int32Array($),!1]}ElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._modifiedStringElements[$]:!0}ElementsAreStrictEqual(J,$){if(!this.ElementsAreEqual(J,$))return!1;const X=z4._getStrictElement(this._originalSequence,J),Q=z4._getStrictElement(this._modifiedSequence,$);return X===Q}static _getStrictElement(J,$){if(typeof J.getStrictElement==="function")return J.getStrictElement($);return null}OriginalElementsAreEqual(J,$){if(this._originalElementsOrHash[J]!==this._originalElementsOrHash[$])return!1;return this._hasStrings?this._originalStringElements[J]===this._originalStringElements[$]:!0}ModifiedElementsAreEqual(J,$){if(this._modifiedElementsOrHash[J]!==this._modifiedElementsOrHash[$])return!1;return this._hasStrings?this._modifiedStringElements[J]===this._modifiedStringElements[$]:!0}ComputeDiff(J){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,J)}_ComputeDiff(J,$,X,Q,Y){const Z=[!1];let G=this.ComputeDiffRecursive(J,$,X,Q,Z);if(Y)G=this.PrettifyChanges(G);return{quitEarly:Z[0],changes:G}}ComputeDiffRecursive(J,$,X,Q,Y){Y[0]=!1;while(J<=$&&X<=Q&&this.ElementsAreEqual(J,X))J++,X++;while($>=J&&Q>=X&&this.ElementsAreEqual($,Q))$--,Q--;if(J>$||X>Q){let z;if(X<=Q)HG.Assert(J===$+1,"originalStart should only be one more than originalEnd"),z=[new W$(J,0,X,Q-X+1)];else if(J<=$)HG.Assert(X===Q+1,"modifiedStart should only be one more than modifiedEnd"),z=[new W$(J,$-J+1,X,0)];else HG.Assert(J===$+1,"originalStart should only be one more than originalEnd"),HG.Assert(X===Q+1,"modifiedStart should only be one more than modifiedEnd"),z=[];return z}const Z=[0],G=[0],q=this.ComputeRecursionPoint(J,$,X,Q,Z,G,Y),U=Z[0],H=G[0];if(q!==null)return q;else if(!Y[0]){const z=this.ComputeDiffRecursive(J,U,X,H,Y);let V=[];if(!Y[0])V=this.ComputeDiffRecursive(U+1,$,H+1,Q,Y);else V=[new W$(U+1,$-(U+1)+1,H+1,Q-(H+1)+1)];return this.ConcatenateChanges(z,V)}return[new W$(J,$-J+1,X,Q-X+1)]}WALKTRACE(J,$,X,Q,Y,Z,G,q,U,H,z,V,j,W,B,K,P,A){let D=null,R=null,M=new jT,O=$,_=X,w=j[0]-K[0]-Q,C=-1073741824,x=this.m_forwardHistory.length-1;do{const g=w+J;if(g===O||g<_&&U[g-1]<U[g+1]){if(z=U[g+1],W=z-w-Q,z<C)M.MarkNextChange();C=z,M.AddModifiedElement(z+1,W),w=g+1-J}else{if(z=U[g-1]+1,W=z-w-Q,z<C)M.MarkNextChange();C=z-1,M.AddOriginalElement(z,W+1),w=g-1-J}if(x>=0)U=this.m_forwardHistory[x],J=U[0],O=1,_=U.length-1}while(--x>=-1);if(D=M.getReverseChanges(),A[0]){let g=j[0]+1,c=K[0]+1;if(D!==null&&D.length>0){const b=D[D.length-1];g=Math.max(g,b.getOriginalEnd()),c=Math.max(c,b.getModifiedEnd())}R=[new W$(g,V-g+1,c,B-c+1)]}else{M=new jT,O=Z,_=G,w=j[0]-K[0]-q,C=1073741824,x=P?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const g=w+Y;if(g===O||g<_&&H[g-1]>=H[g+1]){if(z=H[g+1]-1,W=z-w-q,z>C)M.MarkNextChange();C=z+1,M.AddOriginalElement(z+1,W+1),w=g+1-Y}else{if(z=H[g-1],W=z-w-q,z>C)M.MarkNextChange();C=z,M.AddModifiedElement(z+1,W+1),w=g-1-Y}if(x>=0)H=this.m_reverseHistory[x],Y=H[0],O=1,_=H.length-1}while(--x>=-1);R=M.getChanges()}return this.ConcatenateChanges(D,R)}ComputeRecursionPoint(J,$,X,Q,Y,Z,G){let q=0,U=0,H=0,z=0,V=0,j=0;J--,X--,Y[0]=0,Z[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const W=$-J+(Q-X),B=W+1,K=new Int32Array(B),P=new Int32Array(B),A=Q-X,D=$-J,R=J-X,M=$-Q,_=(D-A)%2===0;K[A]=J,P[D]=$,G[0]=!1;for(let w=1;w<=W/2+1;w++){let C=0,x=0;H=this.ClipDiagonalBound(A-w,w,A,B),z=this.ClipDiagonalBound(A+w,w,A,B);for(let c=H;c<=z;c+=2){if(c===H||c<z&&K[c-1]<K[c+1])q=K[c+1];else q=K[c-1]+1;U=q-(c-A)-R;const b=q;while(q<$&&U<Q&&this.ElementsAreEqual(q+1,U+1))q++,U++;if(K[c]=q,q+U>C+x)C=q,x=U;if(!_&&Math.abs(c-D)<=w-1){if(q>=P[c])if(Y[0]=q,Z[0]=U,b<=P[c]&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,D,V,j,M,K,P,q,$,Y,U,Q,Z,_,G);else return null}}const g=(C-J+(x-X)-w)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(C,g))if(G[0]=!0,Y[0]=C,Z[0]=x,g>0&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,D,V,j,M,K,P,q,$,Y,U,Q,Z,_,G);else return J++,X++,[new W$(J,$-J+1,X,Q-X+1)];V=this.ClipDiagonalBound(D-w,w,D,B),j=this.ClipDiagonalBound(D+w,w,D,B);for(let c=V;c<=j;c+=2){if(c===V||c<j&&P[c-1]>=P[c+1])q=P[c+1]-1;else q=P[c-1];U=q-(c-D)-M;const b=q;while(q>J&&U>X&&this.ElementsAreEqual(q,U))q--,U--;if(P[c]=q,_&&Math.abs(c-A)<=w){if(q<=K[c])if(Y[0]=q,Z[0]=U,b>=K[c]&&1447>0&&w<=1448)return this.WALKTRACE(A,H,z,R,D,V,j,M,K,P,q,$,Y,U,Q,Z,_,G);else return null}}if(w<=1447){let c=new Int32Array(z-H+2);c[0]=A-H+1,zG.Copy2(K,H,c,1,z-H+1),this.m_forwardHistory.push(c),c=new Int32Array(j-V+2),c[0]=D-V+1,zG.Copy2(P,V,c,1,j-V+1),this.m_reverseHistory.push(c)}}return this.WALKTRACE(A,H,z,R,D,V,j,M,K,P,q,$,Y,U,Q,Z,_,G)}PrettifyChanges(J){for(let $=0;$<J.length;$++){const X=J[$],Q=$<J.length-1?J[$+1].originalStart:this._originalElementsOrHash.length,Y=$<J.length-1?J[$+1].modifiedStart:this._modifiedElementsOrHash.length,Z=X.originalLength>0,G=X.modifiedLength>0;while(X.originalStart+X.originalLength<Q&&X.modifiedStart+X.modifiedLength<Y&&(!Z||this.OriginalElementsAreEqual(X.originalStart,X.originalStart+X.originalLength))&&(!G||this.ModifiedElementsAreEqual(X.modifiedStart,X.modifiedStart+X.modifiedLength))){const U=this.ElementsAreStrictEqual(X.originalStart,X.modifiedStart);if(this.ElementsAreStrictEqual(X.originalStart+X.originalLength,X.modifiedStart+X.modifiedLength)&&!U)break;X.originalStart++,X.modifiedStart++}const q=[null];if($<J.length-1&&this.ChangesOverlap(J[$],J[$+1],q)){J[$]=q[0],J.splice($+1,1),$--;continue}}for(let $=J.length-1;$>=0;$--){const X=J[$];let Q=0,Y=0;if($>0){const z=J[$-1];Q=z.originalStart+z.originalLength,Y=z.modifiedStart+z.modifiedLength}const Z=X.originalLength>0,G=X.modifiedLength>0;let q=0,U=this._boundaryScore(X.originalStart,X.originalLength,X.modifiedStart,X.modifiedLength);for(let z=1;;z++){const V=X.originalStart-z,j=X.modifiedStart-z;if(V<Q||j<Y)break;if(Z&&!this.OriginalElementsAreEqual(V,V+X.originalLength))break;if(G&&!this.ModifiedElementsAreEqual(j,j+X.modifiedLength))break;const B=(V===Q&&j===Y?5:0)+this._boundaryScore(V,X.originalLength,j,X.modifiedLength);if(B>U)U=B,q=z}X.originalStart-=q,X.modifiedStart-=q;const H=[null];if($>0&&this.ChangesOverlap(J[$-1],J[$],H)){J[$-1]=H[0],J.splice($,1),$++;continue}}if(this._hasStrings)for(let $=1,X=J.length;$<X;$++){const Q=J[$-1],Y=J[$],Z=Y.originalStart-Q.originalStart-Q.originalLength,G=Q.originalStart,q=Y.originalStart+Y.originalLength,U=q-G,H=Q.modifiedStart,z=Y.modifiedStart+Y.modifiedLength,V=z-H;if(Z<5&&U<20&&V<20){const j=this._findBetterContiguousSequence(G,U,H,V,Z);if(j){const[W,B]=j;if(W!==Q.originalStart+Q.originalLength||B!==Q.modifiedStart+Q.modifiedLength)Q.originalLength=W-Q.originalStart,Q.modifiedLength=B-Q.modifiedStart,Y.originalStart=W+Z,Y.modifiedStart=B+Z,Y.originalLength=q-Y.originalStart,Y.modifiedLength=z-Y.modifiedStart}}}return J}_findBetterContiguousSequence(J,$,X,Q,Y){if($<Y||Q<Y)return null;const Z=J+$-Y+1,G=X+Q-Y+1;let q=0,U=0,H=0;for(let z=J;z<Z;z++)for(let V=X;V<G;V++){const j=this._contiguousSequenceScore(z,V,Y);if(j>0&&j>q)q=j,U=z,H=V}if(q>0)return[U,H];return null}_contiguousSequenceScore(J,$,X){let Q=0;for(let Y=0;Y<X;Y++){if(!this.ElementsAreEqual(J+Y,$+Y))return 0;Q+=this._originalStringElements[J+Y].length}return Q}_OriginalIsBoundary(J){if(J<=0||J>=this._originalElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._originalStringElements[J])}_OriginalRegionIsBoundary(J,$){if(this._OriginalIsBoundary(J)||this._OriginalIsBoundary(J-1))return!0;if($>0){const X=J+$;if(this._OriginalIsBoundary(X-1)||this._OriginalIsBoundary(X))return!0}return!1}_ModifiedIsBoundary(J){if(J<=0||J>=this._modifiedElementsOrHash.length-1)return!0;return this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[J])}_ModifiedRegionIsBoundary(J,$){if(this._ModifiedIsBoundary(J)||this._ModifiedIsBoundary(J-1))return!0;if($>0){const X=J+$;if(this._ModifiedIsBoundary(X-1)||this._ModifiedIsBoundary(X))return!0}return!1}_boundaryScore(J,$,X,Q){const Y=this._OriginalRegionIsBoundary(J,$)?1:0,Z=this._ModifiedRegionIsBoundary(X,Q)?1:0;return Y+Z}ConcatenateChanges(J,$){const X=[];if(J.length===0||$.length===0)return $.length>0?$:J;else if(this.ChangesOverlap(J[J.length-1],$[0],X)){const Q=new Array(J.length+$.length-1);return zG.Copy(J,0,Q,0,J.length-1),Q[J.length-1]=X[0],zG.Copy($,1,Q,J.length,$.length-1),Q}else{const Q=new Array(J.length+$.length);return zG.Copy(J,0,Q,0,J.length),zG.Copy($,0,Q,J.length,$.length),Q}}ChangesOverlap(J,$,X){if(HG.Assert(J.originalStart<=$.originalStart,"Left change is not less than or equal to right change"),HG.Assert(J.modifiedStart<=$.modifiedStart,"Left change is not less than or equal to right change"),J.originalStart+J.originalLength>=$.originalStart||J.modifiedStart+J.modifiedLength>=$.modifiedStart){const Q=J.originalStart;let Y=J.originalLength;const Z=J.modifiedStart;let G=J.modifiedLength;if(J.originalStart+J.originalLength>=$.originalStart)Y=$.originalStart+$.originalLength-J.originalStart;if(J.modifiedStart+J.modifiedLength>=$.modifiedStart)G=$.modifiedStart+$.modifiedLength-J.modifiedStart;return X[0]=new W$(Q,Y,Z,G),!0}else return X[0]=null,!1}ClipDiagonalBound(J,$,X,Q){if(J>=0&&J<Q)return J;const Y=X,Z=Q-X-1,G=$%2===0;if(J<0){const q=Y%2===0;return G===q?0:1}else{const q=Z%2===0;return G===q?Q-1:Q-2}}}var $K=N(()=>{bv();tQ()});function VG(J){if(J<0)return 0;if(J>255)return 255;return J|0}function jG(J){if(J<0)return 0;if(J>4294967295)return 4294967295;return J|0}var iH=N(()=>{});class WT{constructor(J){this.values=J,this.prefixSum=new Uint32Array(J.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(J,$){J=jG(J);const X=this.values,Q=this.prefixSum,Y=$.length;if(Y===0)return!1;if(this.values=new Uint32Array(X.length+Y),this.values.set(X.subarray(0,J),0),this.values.set(X.subarray(J),J+Y),this.values.set($,J),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0)this.prefixSum.set(Q.subarray(0,this.prefixSumValidIndex[0]+1));return!0}setValue(J,$){if(J=jG(J),$=jG($),this.values[J]===$)return!1;if(this.values[J]=$,J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;return!0}removeValues(J,$){J=jG(J),$=jG($);const X=this.values,Q=this.prefixSum;if(J>=X.length)return!1;const Y=X.length-J;if($>=Y)$=Y;if($===0)return!1;if(this.values=new Uint32Array(X.length-$),this.values.set(X.subarray(0,J),0),this.values.set(X.subarray(J+$),J),this.prefixSum=new Uint32Array(this.values.length),J-1<this.prefixSumValidIndex[0])this.prefixSumValidIndex[0]=J-1;if(this.prefixSumValidIndex[0]>=0)this.prefixSum.set(Q.subarray(0,this.prefixSumValidIndex[0]+1));return!0}getTotalSum(){if(this.values.length===0)return 0;return this._getPrefixSum(this.values.length-1)}getPrefixSum(J){if(J<0)return 0;return J=jG(J),this._getPrefixSum(J)}_getPrefixSum(J){if(J<=this.prefixSumValidIndex[0])return this.prefixSum[J];let $=this.prefixSumValidIndex[0]+1;if($===0)this.prefixSum[0]=this.values[0],$++;if(J>=this.values.length)J=this.values.length-1;for(let X=$;X<=J;X++)this.prefixSum[X]=this.prefixSum[X-1]+this.values[X];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],J),this.prefixSum[J]}getIndexOf(J){J=Math.floor(J),this.getTotalSum();let $=0,X=this.values.length-1,Q=0,Y=0,Z=0;while($<=X)if(Q=$+(X-$)/2|0,Y=this.prefixSum[Q],Z=Y-this.values[Q],J<Z)X=Q-1;else if(J>=Y)$=Q+1;else break;return new FT(Q,J-Z)}}class BT{constructor(J){this._values=J,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(J){if(this._ensureValid(),J===0)return 0;return this._prefixSum[J-1]}getIndexOf(J){this._ensureValid();const $=this._indexBySum[J],X=$>0?this._prefixSum[$-1]:0;return new FT($,J-X)}removeValues(J,$){this._values.splice(J,$),this._invalidate(J)}insertValues(J,$){this._values=bQ(this._values,J,$),this._invalidate(J)}_invalidate(J){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,J-1)}_ensureValid(){if(this._isValid)return;for(let J=this._validEndIndex+1,$=this._values.length;J<$;J++){const X=this._values[J],Q=J>0?this._prefixSum[J-1]:0;this._prefixSum[J]=Q+X;for(let Y=0;Y<X;Y++)this._indexBySum[Q+Y]=J}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}setValue(J,$){if(this._values[J]===$)return;this._values[J]=$,this._invalidate(J)}}class FT{constructor(J,$){this.index=J,this.remainder=$,this._prefixSumIndexOfResultBrand=void 0,this.index=J,this.remainder=$}}var KT=N(()=>{H1();iH()});class AT{constructor(J,$,X,Q){this._uri=J,this._lines=$,this._eol=X,this._versionId=Q,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){if(this._cachedTextValue===null)this._cachedTextValue=this._lines.join(this._eol);return this._cachedTextValue}onEvents(J){if(J.eol&&J.eol!==this._eol)this._eol=J.eol,this._lineStarts=null;const $=J.changes;for(let X of $)this._acceptDeleteRange(X.range),this._acceptInsertText(new v(X.range.startLineNumber,X.range.startColumn),X.text);this._versionId=J.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const J=this._eol.length,$=this._lines.length,X=new Uint32Array($);for(let Q=0;Q<$;Q++)X[Q]=this._lines[Q].length+J;this._lineStarts=new WT(X)}}_setLineText(J,$){if(this._lines[J]=$,this._lineStarts)this._lineStarts.setValue(J,this._lines[J].length+this._eol.length)}_acceptDeleteRange(J){if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.startLineNumber-1].substring(J.endColumn-1));return}if(this._setLineText(J.startLineNumber-1,this._lines[J.startLineNumber-1].substring(0,J.startColumn-1)+this._lines[J.endLineNumber-1].substring(J.endColumn-1)),this._lines.splice(J.startLineNumber,J.endLineNumber-J.startLineNumber),this._lineStarts)this._lineStarts.removeValues(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$){if($.length===0)return;const X=Y9($);if(X.length===1){this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+X[0]+this._lines[J.lineNumber-1].substring(J.column-1));return}X[X.length-1]+=this._lines[J.lineNumber-1].substring(J.column-1),this._setLineText(J.lineNumber-1,this._lines[J.lineNumber-1].substring(0,J.column-1)+X[0]);const Q=new Uint32Array(X.length-1);for(let Y=1;Y<X.length;Y++)this._lines.splice(J.lineNumber+Y-1,0,X[Y]),Q[Y-1]=X[Y].length+this._eol.length;if(this._lineStarts)this._lineStarts.insertValues(J.lineNumber,Q)}}var fv=N(()=>{o0();U1();KT()});class vX{constructor(J){const $=VG(J);this._defaultValue=$,this._asciiMap=vX._createAsciiMap($),this._map=new Map}static _createAsciiMap(J){const $=new Uint8Array(256);return $.fill(J),$}set(J,$){const X=VG($);if(J>=0&&J<256)this._asciiMap[J]=X;else this._map.set(J,X)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else return this._map.get(J)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class nH{constructor(){this._actual=new vX(0)}add(J){this._actual.set(J,1)}has(J){return this._actual.get(J)===1}clear(){return this._actual.clear()}}var Pq=N(()=>{iH()});function pv(J){if(!J||typeof J.getLineCount!=="function"||typeof J.getLineContent!=="function")return[];return XK.computeLinks(J)}class hv{constructor(J,$,X){const Q=new Uint8Array(J*$);for(let Y=0,Z=J*$;Y<Z;Y++)Q[Y]=X;this._data=Q,this.rows=J,this.cols=$}get(J,$){return this._data[J*this.cols+$]}set(J,$,X){this._data[J*this.cols+$]=X}}class gv{constructor(J){let $=0,X=0;for(let Y=0,Z=J.length;Y<Z;Y++){const[G,q,U]=J[Y];if(q>$)$=q;if(G>X)X=G;if(U>X)X=U}$++,X++;const Q=new hv(X,$,0);for(let Y=0,Z=J.length;Y<Z;Y++){const[G,q,U]=J[Y];Q.set(G,q,U)}this._states=Q,this._maxCharCode=$}nextState(J,$){if($<0||$>=this._maxCharCode)return 0;return this._states.get(J,$)}}class XK{static _createLink(J,$,X,Q,Y){let Z=Y-1;do{const G=$.charCodeAt(Z);if(J.get(G)!==2)break;Z--}while(Z>Q);if(Q>0){const G=$.charCodeAt(Q-1),q=$.charCodeAt(Z);if(G===40&&q===41||G===91&&q===93||G===123&&q===125)Z--}return{range:{startLineNumber:X,startColumn:Q+1,endLineNumber:X,endColumn:Z+2},url:$.substring(Q,Z+1)}}static computeLinks(J,$=p60()){const X=m60(),Q=[];for(let Y=1,Z=J.getLineCount();Y<=Z;Y++){const G=J.getLineContent(Y),q=G.length;let U=0,H=0,z=0,V=1,j=!1,W=!1,B=!1,K=!1;while(U<q){let P=!1;const A=G.charCodeAt(U);if(V===13){let D;switch(A){case 40:j=!0,D=0;break;case 41:D=j?0:1;break;case 91:B=!0,W=!0,D=0;break;case 93:B=!1,D=W?0:1;break;case 123:K=!0,D=0;break;case 125:D=K?0:1;break;case 39:case 34:case 96:if(z===A)D=1;else if(z===39||z===34||z===96)D=0;else D=1;break;case 42:D=z===42?1:0;break;case 124:D=z===124?1:0;break;case 32:D=B?0:1;break;default:D=X.get(A)}if(D===1)Q.push(XK._createLink(X,G,Y,H,U)),P=!0}else if(V===12){let D;if(A===91)W=!0,D=0;else D=X.get(A);if(D===1)P=!0;else V=13}else if(V=$.nextState(V,A),V===0)P=!0;if(P)V=1,j=!1,W=!1,K=!1,H=U+1,z=A;U++}if(V===13)Q.push(XK._createLink(X,G,Y,H,q))}return Q}}var p60,m60,PT,oH;var mv=N(()=>{Pq();p60=function(){if(PT===null)PT=new gv([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]);return PT},m60=function(){if(oH===null){oH=new vX(0);const J=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let X=0;X<J.length;X++)oH.set(J.charCodeAt(X),1);const $=".,;:";for(let X=0;X<$.length;X++)oH.set($.charCodeAt(X),2)}return oH};PT=null,oH=null});class tH{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(J,$,X,Q,Y){if(J&&$){const Z=this.doNavigateValueSet($,Y);if(Z)return{range:J,value:Z}}if(X&&Q){const Z=this.doNavigateValueSet(Q,Y);if(Z)return{range:X,value:Z}}return null}doNavigateValueSet(J,$){const X=this.numberReplace(J,$);if(X!==null)return X;return this.textReplace(J,$)}numberReplace(J,$){const X=Math.pow(10,J.length-(J.lastIndexOf(".")+1));let Q=Number(J);const Y=parseFloat(J);if(!isNaN(Q)&&!isNaN(Y)&&Q===Y)if(Q===0&&!$)return null;else return Q=Math.floor(Q*X),Q+=$?X:-X,String(Q/X);return null}textReplace(J,$){return this.valueSetsReplace(this._defaultValueSet,J,$)}valueSetsReplace(J,$,X){let Q=null;for(let Y=0,Z=J.length;Q===null&&Y<Z;Y++)Q=this.valueSetReplace(J[Y],$,X);return Q}valueSetReplace(J,$,X){let Q=J.indexOf($);if(Q>=0){if(Q+=X?1:-1,Q<0)Q=J.length-1;else Q%=J.length;return J[Q]}return null}}var uv=N(()=>{tH.INSTANCE=new tH});class cv extends vX{constructor(J){super(0);for(let $=0,X=J.length;$<X;$++)this.set(J.charCodeAt($),2);this.set(32,1),this.set(9,1)}}var u60,B$;var eH=N(()=>{Pq();u60=function(J){const $={};return(X)=>{if(!$.hasOwnProperty(X))$[X]=J(X);return $[X]}};B$=u60((J)=>new cv(J))});function lv(J){return J&&typeof J.read==="function"}function dv(J){return!J.isTooLargeForSyncing()&&!J.isForSimpleWidget}class BG{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(J){if(this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,J.tabSize|0),J.indentSize==="tabSize")this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0;else this.indentSize=Math.max(1,J.indentSize|0),this._indentSizeIsTabSize=!1;this.insertSpaces=Boolean(J.insertSpaces),this.defaultEOL=J.defaultEOL|0,this.trimAutoWhitespace=Boolean(J.trimAutoWhitespace),this.bracketPairColorizationOptions=J.bracketPairColorizationOptions}equals(J){return this.tabSize===J.tabSize&&this._indentSizeIsTabSize===J._indentSizeIsTabSize&&this.indentSize===J.indentSize&&this.insertSpaces===J.insertSpaces&&this.defaultEOL===J.defaultEOL&&this.trimAutoWhitespace===J.trimAutoWhitespace&&I6(this.bracketPairColorizationOptions,J.bracketPairColorizationOptions)}createChangeEvent(J){return{tabSize:this.tabSize!==J.tabSize,indentSize:this.indentSize!==J.indentSize,insertSpaces:this.insertSpaces!==J.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==J.trimAutoWhitespace}}}class fX{constructor(J,$){this._findMatchBrand=void 0,this.range=J,this.matches=$}}class Jz{constructor(J,$,X,Q,Y,Z){this.identifier=J,this.range=$,this.text=X,this.forceMoveMarkers=Q,this.isAutoWhitespaceEdit=Y,this._isTracked=Z}}class DT{constructor(J,$,X){this.regex=J,this.wordSeparators=$,this.simpleSearch=X}}class RT{constructor(J,$,X){this.reverseEdits=J,this.changes=$,this.trimAutoWhitespaceLineNumbers=X}}var Dq,m9,LJ,WG;var g5=N(()=>{B5();(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=4]="Right",J[J.Full=7]="Full"})(Dq||(Dq={}));(function(J){J[J.Left=1]="Left",J[J.Center=2]="Center",J[J.Right=3]="Right"})(m9||(m9={}));(function(J){J[J.Inline=1]="Inline",J[J.Gutter=2]="Gutter"})(LJ||(LJ={}));(function(J){J[J.Both=0]="Both",J[J.Right=1]="Right",J[J.Left=2]="Left",J[J.None=3]="None"})(WG||(WG={}))});function d60(J){if(!J||J.length===0)return!1;for(let $=0,X=J.length;$<X;$++){const Q=J.charCodeAt($);if(Q===10)return!0;if(Q===92){if($++,$>=X)break;const Y=J.charCodeAt($);if(Y===110||Y===114||Y===87)return!0}}return!1}function YY(J,$,X){if(!X)return new fX(J,null);const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++)Q[Y]=$[Y];return new fX(J,Q)}function QK(J,$,X,Q,Y){return s60(J,$,X,Q,Y)&&a60(J,$,X,Q,Y)}class ZY{constructor(J,$,X,Q){this.searchString=J,this.isRegex=$,this.matchCase=X,this.wordSeparators=Q}parseSearchRequest(){if(this.searchString==="")return null;let J;if(this.isRegex)J=d60(this.searchString);else J=this.searchString.indexOf("\n")>=0;let $=null;try{$=aB(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:J,global:!0,unicode:!0})}catch(Q){return null}if(!$)return null;let X=!this.isRegex&&!J;if(X&&this.searchString.toLowerCase()!==this.searchString.toUpperCase())X=this.matchCase;return new DT($,this.wordSeparators?B$(this.wordSeparators):null,X?this.searchString:null)}}class MT{constructor(J){const $=[];let X=0;for(let Q=0,Y=J.length;Q<Y;Q++)if(J.charCodeAt(Q)===10)$[X++]=Q;this._lineFeedsOffsets=$}findLineFeedCountBeforeOffset(J){const $=this._lineFeedsOffsets;let X=0,Q=$.length-1;if(Q===-1)return 0;if(J<=$[0])return 0;while(X<Q){const Y=X+((Q-X)/2>>0);if($[Y]>=J)Q=Y-1;else if($[Y+1]>=J)X=Y,Q=Y;else X=Y+1}return X+1}}class Rq{static findMatches(J,$,X,Q,Y){const Z=$.parseSearchRequest();if(!Z)return[];if(Z.regex.multiline)return this._doFindMatchesMultiline(J,X,new hX(Z.wordSeparators,Z.regex),Q,Y);return this._doFindMatchesLineByLine(J,X,Z,Q,Y)}static _getMultilineMatchRange(J,$,X,Q,Y,Z){let G,q=0;if(Q)q=Q.findLineFeedCountBeforeOffset(Y),G=$+Y+q;else G=$+Y;let U;if(Q){const j=Q.findLineFeedCountBeforeOffset(Y+Z.length)-q;U=G+Z.length+j}else U=G+Z.length;const H=J.getPositionAt(G),z=J.getPositionAt(U);return new L(H.lineNumber,H.column,z.lineNumber,z.column)}static _doFindMatchesMultiline(J,$,X,Q,Y){const Z=J.getOffsetAt($.getStartPosition()),G=J.getValueInRange($,1),q=J.getEOL()==="\r\n"?new MT(G):null,U=[];let H=0,z;X.reset(0);while(z=X.next(G))if(U[H++]=YY(this._getMultilineMatchRange(J,Z,G,q,z.index,z[0]),z,Q),H>=Y)return U;return U}static _doFindMatchesLineByLine(J,$,X,Q,Y){const Z=[];let G=0;if($.startLineNumber===$.endLineNumber){const U=J.getLineContent($.startLineNumber).substring($.startColumn-1,$.endColumn-1);return G=this._findMatchesInLine(X,U,$.startLineNumber,$.startColumn-1,G,Z,Q,Y),Z}const q=J.getLineContent($.startLineNumber).substring($.startColumn-1);G=this._findMatchesInLine(X,q,$.startLineNumber,$.startColumn-1,G,Z,Q,Y);for(let U=$.startLineNumber+1;U<$.endLineNumber&&G<Y;U++)G=this._findMatchesInLine(X,J.getLineContent(U),U,0,G,Z,Q,Y);if(G<Y){const U=J.getLineContent($.endLineNumber).substring(0,$.endColumn-1);G=this._findMatchesInLine(X,U,$.endLineNumber,0,G,Z,Q,Y)}return Z}static _findMatchesInLine(J,$,X,Q,Y,Z,G,q){const U=J.wordSeparators;if(!G&&J.simpleSearch){const V=J.simpleSearch,j=V.length,W=$.length;let B=-j;while((B=$.indexOf(V,B+j))!==-1)if(!U||QK(U,$,W,B,j)){if(Z[Y++]=new fX(new L(X,B+1+Q,X,B+1+j+Q),null),Y>=q)return Y}return Y}const H=new hX(J.wordSeparators,J.regex);let z;H.reset(0);do if(z=H.next($),z){if(Z[Y++]=YY(new L(X,z.index+1+Q,X,z.index+1+z[0].length+Q),z,G),Y>=q)return Y}while(z);return Y}static findNextMatch(J,$,X,Q){const Y=$.parseSearchRequest();if(!Y)return null;const Z=new hX(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindNextMatchMultiline(J,X,Z,Q);return this._doFindNextMatchLineByLine(J,X,Z,Q)}static _doFindNextMatchMultiline(J,$,X,Q){const Y=new v($.lineNumber,1),Z=J.getOffsetAt(Y),G=J.getLineCount(),q=J.getValueInRange(new L(Y.lineNumber,Y.column,G,J.getLineMaxColumn(G)),1),U=J.getEOL()==="\r\n"?new MT(q):null;X.reset($.column-1);const H=X.next(q);if(H)return YY(this._getMultilineMatchRange(J,Z,q,U,H.index,H[0]),H,Q);if($.lineNumber!==1||$.column!==1)return this._doFindNextMatchMultiline(J,new v(1,1),X,Q);return null}static _doFindNextMatchLineByLine(J,$,X,Q){const Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z),q=this._findFirstMatchInLine(X,G,Z,$.column,Q);if(q)return q;for(let U=1;U<=Y;U++){const H=(Z+U-1)%Y,z=J.getLineContent(H+1),V=this._findFirstMatchInLine(X,z,H+1,1,Q);if(V)return V}return null}static _findFirstMatchInLine(J,$,X,Q,Y){J.reset(Q-1);const Z=J.next($);if(Z)return YY(new L(X,Z.index+1,X,Z.index+1+Z[0].length),Z,Y);return null}static findPreviousMatch(J,$,X,Q){const Y=$.parseSearchRequest();if(!Y)return null;const Z=new hX(Y.wordSeparators,Y.regex);if(Y.regex.multiline)return this._doFindPreviousMatchMultiline(J,X,Z,Q);return this._doFindPreviousMatchLineByLine(J,X,Z,Q)}static _doFindPreviousMatchMultiline(J,$,X,Q){const Y=this._doFindMatchesMultiline(J,new L(1,1,$.lineNumber,$.column),X,Q,10*l60);if(Y.length>0)return Y[Y.length-1];const Z=J.getLineCount();if($.lineNumber!==Z||$.column!==J.getLineMaxColumn(Z))return this._doFindPreviousMatchMultiline(J,new v(Z,J.getLineMaxColumn(Z)),X,Q);return null}static _doFindPreviousMatchLineByLine(J,$,X,Q){const Y=J.getLineCount(),Z=$.lineNumber,G=J.getLineContent(Z).substring(0,$.column-1),q=this._findLastMatchInLine(X,G,Z,Q);if(q)return q;for(let U=1;U<=Y;U++){const H=(Y+Z-U-1)%Y,z=J.getLineContent(H+1),V=this._findLastMatchInLine(X,z,H+1,Q);if(V)return V}return null}static _findLastMatchInLine(J,$,X,Q){let Y=null,Z;J.reset(0);while(Z=J.next($))Y=YY(new L(X,Z.index+1,X,Z.index+1+Z[0].length),Z,Q);return Y}}class hX{constructor(J,$){this._wordSeparators=J,this._searchRegex=$,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(J){this._searchRegex.lastIndex=J,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(J){const $=J.length;let X;do{if(this._prevMatchStartIndex+this._prevMatchLength===$)return null;if(X=this._searchRegex.exec(J),!X)return null;const Q=X.index,Y=X[0].length;if(Q===this._prevMatchStartIndex&&Y===this._prevMatchLength){if(Y===0){if(e2(J,$,this._searchRegex.lastIndex)>65535)this._searchRegex.lastIndex+=2;else this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=Q,this._prevMatchLength=Y,!this._wordSeparators||QK(this._wordSeparators,J,$,Q,Y))return X}while(X);return null}}var s60,a60,l60;var YK=N(()=>{o0();eH();U1();c0();g5();s60=function(J,$,X,Q,Y){if(Q===0)return!0;const Z=$.charCodeAt(Q-1);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){const G=$.charCodeAt(Q);if(J.get(G)!==0)return!0}return!1},a60=function(J,$,X,Q,Y){if(Q+Y===X)return!0;const Z=$.charCodeAt(Q+Y);if(J.get(Z)!==0)return!0;if(Z===13||Z===10)return!0;if(Y>0){const G=$.charCodeAt(Q+Y-1);if(J.get(G)!==0)return!0}return!1};l60=999});class TT{static computeUnicodeHighlights(J,$,X){const Q=X?X.startLineNumber:1,Y=X?X.endLineNumber:J.getLineCount(),Z=new OT($),G=Z.getCandidateCodePoints();let q;if(G==="allNonBasicAscii")q=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g");else q=new RegExp(`${r60(Array.from(G))}`,"g");const U=new hX(null,q),H=[];let z=!1,V,j=0,W=0,B=0;J:for(let K=Q,P=Y;K<=P;K++){const A=J.getLineContent(K),D=A.length;U.reset(0);do if(V=U.next(A),V){let R=V.index,M=V.index+V[0].length;if(R>0){const C=A.charCodeAt(R-1);if(U8(C))R--}if(M+1<D){const C=A.charCodeAt(M-1);if(U8(C))M++}const O=A.substring(R,M);let _=hQ(R+1,JH,A,0);if(_&&_.endColumn<=R+1)_=null;const w=Z.shouldHighlightNonBasicASCII(O,_?_.word:null);if(w!==0){if(w===3)j++;else if(w===2)W++;else if(w===1)B++;else Gq(w);const C=1000;if(H.length>=C){z=!0;break J}H.push(new L(K,R+1,K,M+1))}}while(V)}return{ranges:H,hasMore:z,ambiguousCharacterCount:j,invisibleCharacterCount:W,nonBasicAsciiCharacterCount:B}}static computeUnicodeHighlightReason(J,$){const X=new OT($);switch(X.shouldHighlightNonBasicASCII(J,null)){case 0:return null;case 2:return{kind:1};case 3:{const Y=J.codePointAt(0),Z=X.ambiguousCharacters.getPrimaryConfusable(Y),G=OX.getLocales().filter((q)=>!OX.getInstance(new Set([...$.allowedLocales,q])).isAmbiguous(Y));return{kind:0,confusableWith:String.fromCodePoint(Z),notAmbiguousInLocales:G}}case 1:return{kind:2}}}}class OT{constructor(J){this.options=J,this.allowedCodePoints=new Set(J.allowedCodePoints),this.ambiguousCharacters=OX.getInstance(new Set(J.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const J=new Set;if(this.options.invisibleCharacters){for(let $ of DX.codePoints)if(!sv(String.fromCodePoint($)))J.add($)}if(this.options.ambiguousCharacters)for(let $ of this.ambiguousCharacters.getConfusableCodePoints())J.add($);for(let $ of this.allowedCodePoints)J.delete($);return J}shouldHighlightNonBasicASCII(J,$){const X=J.codePointAt(0);if(this.allowedCodePoints.has(X))return 0;if(this.options.nonBasicASCII)return 1;let Q=!1,Y=!1;if($)for(let Z of $){const G=Z.codePointAt(0),q=$q(Z);if(Q=Q||q,!q&&!this.ambiguousCharacters.isAmbiguous(G)&&!DX.isInvisibleCharacter(G))Y=!0}if(!Q&&Y)return 0;if(this.options.invisibleCharacters){if(!sv(J)&&DX.isInvisibleCharacter(X))return 2}if(this.options.ambiguousCharacters){if(this.ambiguousCharacters.isAmbiguous(X))return 3}return 0}}var r60,sv;var av=N(()=>{c0();YK();o0();U$();p2();r60=function(J,$){return`[${J5(J.map((Q)=>String.fromCodePoint(Q)).join(""))}]`},sv=function(J){return J===" "||J==="\n"||J==="\t"}});class FG{constructor(J,$,X){this.changes=J,this.moves=$,this.hitTimeout=X}}class $z{constructor(J,$){this.lineRangeMapping=J,this.changes=$}}var ZK=N(()=>{});class d0{static addRange(J,$){let X=0;while(X<$.length&&$[X].endExclusive<J.start)X++;let Q=X;while(Q<$.length&&$[Q].start<=J.endExclusive)Q++;if(X===Q)$.splice(X,0,J);else{const Y=Math.min(J.start,$[X].start),Z=Math.max(J.endExclusive,$[Q-1].endExclusive);$.splice(X,Q-X,new d0(Y,Z))}}static ofLength(J){return new d0(0,J)}static ofStartAndLength(J,$){return new d0(J,J+$)}constructor(J,$){if(this.start=J,this.endExclusive=$,J>$)throw new b1(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(J){return new d0(this.start+J,this.endExclusive+J)}deltaStart(J){return new d0(this.start+J,this.endExclusive)}deltaEnd(J){return new d0(this.start,this.endExclusive+J)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(J){return this.start<=J&&J<this.endExclusive}join(J){return new d0(Math.min(this.start,J.start),Math.max(this.endExclusive,J.endExclusive))}intersect(J){const $=Math.max(this.start,J.start),X=Math.min(this.endExclusive,J.endExclusive);if($<=X)return new d0($,X);return}intersects(J){const $=Math.max(this.start,J.start),X=Math.min(this.endExclusive,J.endExclusive);return $<X}isBefore(J){return this.endExclusive<=J.start}isAfter(J){return this.start>=J.endExclusive}slice(J){return J.slice(this.start,this.endExclusive)}clip(J){if(this.isEmpty)throw new b1(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,J))}clipCyclic(J){if(this.isEmpty)throw new b1(`Invalid clipping range: ${this.toString()}`);if(J<this.start)return this.endExclusive-(this.start-J)%this.length;if(J>=this.endExclusive)return this.start+(J-this.start)%this.length;return J}forEach(J){for(let $=this.start;$<this.endExclusive;$++)J($)}}class GK{constructor(){this._sortedRanges=[]}addRange(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<J.start)$++;let X=$;while(X<this._sortedRanges.length&&this._sortedRanges[X].start<=J.endExclusive)X++;if($===X)this._sortedRanges.splice($,0,J);else{const Q=Math.min(J.start,this._sortedRanges[$].start),Y=Math.max(J.endExclusive,this._sortedRanges[X-1].endExclusive);this._sortedRanges.splice($,X-$,new d0(Q,Y))}}toString(){return this._sortedRanges.map((J)=>J.toString()).join(", ")}intersectsStrict(J){let $=0;while($<this._sortedRanges.length&&this._sortedRanges[$].endExclusive<=J.start)$++;return $<this._sortedRanges.length&&this._sortedRanges[$].start<J.endExclusive}intersectWithRange(J){const $=new GK;for(let X of this._sortedRanges){const Q=X.intersect(J);if(Q)$.addRange(Q)}return $}intersectWithRangeLength(J){return this.intersectWithRange(J).length}get length(){return this._sortedRanges.reduce((J,$)=>J+$.length,0)}}var u9=N(()=>{D1()});function KG(J,$,X){const Q=i60(J,$);if(Q===-1)return;return J[Q]}function i60(J,$,X=J.length-1){for(let Q=X;Q>=0;Q--){const Y=J[Q];if($(Y))return Q}return-1}function gX(J,$){const X=AG(J,$);return X===-1?void 0:J[X]}function AG(J,$,X=0,Q=J.length){let Y=X,Z=Q;while(Y<Z){const G=Math.floor((Y+Z)/2);if($(J[G]))Y=G+1;else Z=G}return Y-1}function rv(J,$){const X=Mq(J,$);return X===J.length?void 0:J[X]}function Mq(J,$,X=0,Q=J.length){let Y=X,Z=Q;while(Y<Z){const G=Math.floor((Y+Z)/2);if($(J[G]))Z=G;else Y=G+1}return Y}function NT(J,$){if(J.length===0)return;let X=J[0];for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,X)>0)X=Y}return X}function iv(J,$){if(J.length===0)return;let X=J[0];for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,X)>=0)X=Y}return X}function nv(J,$){return NT(J,(X,Q)=>-$(X,Q))}function ov(J,$){if(J.length===0)return-1;let X=0;for(let Q=1;Q<J.length;Q++){const Y=J[Q];if($(Y,J[X])>0)X=Q}return X}class Oq{constructor(J){this._array=J,this._findLastMonotonousLastIdx=0}findLastMonotonous(J){if(Oq.assertInvariants){if(this._prevFindLastPredicate){for(let X of this._array)if(this._prevFindLastPredicate(X)&&!J(X))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=J}const $=AG(this._array,J,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=$+1,$===-1?void 0:this._array[$]}}var V4=N(()=>{Oq.assertInvariants=!1});class S0{static fromRangeInclusive(J){return new S0(J.startLineNumber,J.endLineNumber+1)}static joinMany(J){if(J.length===0)return[];let $=new p5(J[0].slice());for(let X=1;X<J.length;X++)$=$.getUnion(new p5(J[X].slice()));return $.ranges}static ofLength(J,$){return new S0(J,J+$)}static deserialize(J){return new S0(J[0],J[1])}constructor(J,$){if(J>$)throw new b1(`startLineNumber ${J} cannot be after endLineNumberExclusive ${$}`);this.startLineNumber=J,this.endLineNumberExclusive=$}contains(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(J){return new S0(this.startLineNumber+J,this.endLineNumberExclusive+J)}deltaLength(J){return new S0(this.startLineNumber,this.endLineNumberExclusive+J)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(J){return new S0(Math.min(this.startLineNumber,J.startLineNumber),Math.max(this.endLineNumberExclusive,J.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(J){const $=Math.max(this.startLineNumber,J.startLineNumber),X=Math.min(this.endLineNumberExclusive,J.endLineNumberExclusive);if($<=X)return new S0($,X);return}intersectsStrict(J){return this.startLineNumber<J.endLineNumberExclusive&&J.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(J){return this.startLineNumber<=J.endLineNumberExclusive&&J.startLineNumber<=this.endLineNumberExclusive}equals(J){return this.startLineNumber===J.startLineNumber&&this.endLineNumberExclusive===J.endLineNumberExclusive}toInclusiveRange(){if(this.isEmpty)return null;return new L(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new L(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(J){const $=[];for(let X=this.startLineNumber;X<this.endLineNumberExclusive;X++)$.push(J(X));return $}forEach(J){for(let $=this.startLineNumber;$<this.endLineNumberExclusive;$++)J($)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(J){return this.startLineNumber<=J&&J<this.endLineNumberExclusive}toOffsetRange(){return new d0(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class p5{constructor(J=[]){this._normalizedRanges=J}get ranges(){return this._normalizedRanges}addRange(J){if(J.length===0)return;const $=Mq(this._normalizedRanges,(Q)=>Q.endLineNumberExclusive>=J.startLineNumber),X=AG(this._normalizedRanges,(Q)=>Q.startLineNumber<=J.endLineNumberExclusive)+1;if($===X)this._normalizedRanges.splice($,0,J);else if($===X-1){const Q=this._normalizedRanges[$];this._normalizedRanges[$]=Q.join(J)}else{const Q=this._normalizedRanges[$].join(this._normalizedRanges[X-1]).join(J);this._normalizedRanges.splice($,X-$,Q)}}contains(J){const $=gX(this._normalizedRanges,(X)=>X.startLineNumber<=J);return!!$&&$.endLineNumberExclusive>J}intersects(J){const $=gX(this._normalizedRanges,(X)=>X.startLineNumber<J.endLineNumberExclusive);return!!$&&$.endLineNumberExclusive>J.startLineNumber}getUnion(J){if(this._normalizedRanges.length===0)return J;if(J._normalizedRanges.length===0)return this;const $=[];let X=0,Q=0,Y=null;while(X<this._normalizedRanges.length||Q<J._normalizedRanges.length){let Z=null;if(X<this._normalizedRanges.length&&Q<J._normalizedRanges.length){const G=this._normalizedRanges[X],q=J._normalizedRanges[Q];if(G.startLineNumber<q.startLineNumber)Z=G,X++;else Z=q,Q++}else if(X<this._normalizedRanges.length)Z=this._normalizedRanges[X],X++;else Z=J._normalizedRanges[Q],Q++;if(Y===null)Y=Z;else if(Y.endLineNumberExclusive>=Z.startLineNumber)Y=new S0(Y.startLineNumber,Math.max(Y.endLineNumberExclusive,Z.endLineNumberExclusive));else $.push(Y),Y=Z}if(Y!==null)$.push(Y);return new p5($)}subtractFrom(J){const $=Mq(this._normalizedRanges,(Z)=>Z.endLineNumberExclusive>=J.startLineNumber),X=AG(this._normalizedRanges,(Z)=>Z.startLineNumber<=J.endLineNumberExclusive)+1;if($===X)return new p5([J]);const Q=[];let Y=J.startLineNumber;for(let Z=$;Z<X;Z++){const G=this._normalizedRanges[Z];if(G.startLineNumber>Y)Q.push(new S0(Y,G.startLineNumber));Y=G.endLineNumberExclusive}if(Y<J.endLineNumberExclusive)Q.push(new S0(Y,J.endLineNumberExclusive));return new p5(Q)}toString(){return this._normalizedRanges.map((J)=>J.toString()).join(", ")}getIntersection(J){const $=[];let X=0,Q=0;while(X<this._normalizedRanges.length&&Q<J._normalizedRanges.length){const Y=this._normalizedRanges[X],Z=J._normalizedRanges[Q],G=Y.intersect(Z);if(G&&!G.isEmpty)$.push(G);if(Y.endLineNumberExclusive<Z.endLineNumberExclusive)X++;else Q++}return new p5($)}getWithDelta(J){return new p5(this._normalizedRanges.map(($)=>$.delta(J)))}}var m5=N(()=>{D1();u9();c0();V4()});class Y7{static inverse(J,$,X){const Q=[];let Y=1,Z=1;for(let q of J){const U=new Y7(new S0(Y,q.original.startLineNumber),new S0(Z,q.modified.startLineNumber));if(!U.modified.isEmpty)Q.push(U);Y=q.original.endLineNumberExclusive,Z=q.modified.endLineNumberExclusive}const G=new Y7(new S0(Y,$+1),new S0(Z,X+1));if(!G.modified.isEmpty)Q.push(G);return Q}static clip(J,$,X){const Q=[];for(let Y of J){const Z=Y.original.intersect($),G=Y.modified.intersect(X);if(Z&&!Z.isEmpty&&G&&!G.isEmpty)Q.push(new Y7(Z,G))}return Q}constructor(J,$){this.original=J,this.modified=$}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new Y7(this.modified,this.original)}join(J){return new Y7(this.original.join(J.original),this.modified.join(J.modified))}}class D5 extends Y7{constructor(J,$,X){super(J,$);this.innerChanges=X}flip(){var J;return new D5(this.modified,this.original,(J=this.innerChanges)===null||J===void 0?void 0:J.map(($)=>$.flip()))}}class c9{constructor(J,$){this.originalRange=J,this.modifiedRange=$}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new c9(this.modifiedRange,this.originalRange)}}var GY=N(()=>{m5()});class ET{computeDiff(J,$,X){var Q;const Z=new $f(J,$,{maxComputationTime:X.maxComputationTimeMs,shouldIgnoreTrimWhitespace:X.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),G=[];let q=null;for(let U of Z.changes){let H;if(U.originalEndLineNumber===0)H=new S0(U.originalStartLineNumber+1,U.originalStartLineNumber+1);else H=new S0(U.originalStartLineNumber,U.originalEndLineNumber+1);let z;if(U.modifiedEndLineNumber===0)z=new S0(U.modifiedStartLineNumber+1,U.modifiedStartLineNumber+1);else z=new S0(U.modifiedStartLineNumber,U.modifiedEndLineNumber+1);let V=new D5(H,z,(Q=U.charChanges)===null||Q===void 0?void 0:Q.map((j)=>new c9(new L(j.originalStartLineNumber,j.originalStartColumn,j.originalEndLineNumber,j.originalEndColumn),new L(j.modifiedStartLineNumber,j.modifiedStartColumn,j.modifiedEndLineNumber,j.modifiedEndColumn))));if(q){if(q.modified.endLineNumberExclusive===V.modified.startLineNumber||q.original.endLineNumberExclusive===V.original.startLineNumber)V=new D5(q.original.join(V.original),q.modified.join(V.modified),q.innerChanges&&V.innerChanges?q.innerChanges.concat(V.innerChanges):void 0),G.pop()}G.push(V),q=V}return q$(()=>{return KF(G,(U,H)=>H.original.startLineNumber-U.original.endLineNumberExclusive===H.modified.startLineNumber-U.modified.endLineNumberExclusive&&U.original.endLineNumberExclusive<H.original.startLineNumber&&U.modified.endLineNumberExclusive<H.modified.startLineNumber)}),new FG(G,[],Z.quitEarly)}}class _T{constructor(J){const $=[],X=[];for(let Q=0,Y=J.length;Q<Y;Q++)$[Q]=wT(J[Q],1),X[Q]=LT(J[Q],1);this.lines=J,this._startColumns=$,this._endColumns=X}getElements(){const J=[];for(let $=0,X=this.lines.length;$<X;$++)J[$]=this.lines[$].substring(this._startColumns[$]-1,this._endColumns[$]-1);return J}getStrictElement(J){return this.lines[J]}getStartLineNumber(J){return J+1}getEndLineNumber(J){return J+1}createCharSequence(J,$,X){const Q=[],Y=[],Z=[];let G=0;for(let q=$;q<=X;q++){const U=this.lines[q],H=J?this._startColumns[q]:1,z=J?this._endColumns[q]:U.length+1;for(let V=H;V<z;V++)Q[G]=U.charCodeAt(V-1),Y[G]=q+1,Z[G]=V,G++;if(!J&&q<X)Q[G]=10,Y[G]=q+1,Z[G]=U.length+1,G++}return new Jf(Q,Y,Z)}}class Jf{constructor(J,$,X){this._charCodes=J,this._lineNumbers=$,this._columns=X}toString(){return"["+this._charCodes.map((J,$)=>(J===10?"\\n":String.fromCharCode(J))+`-(${this._lineNumbers[$]},${this._columns[$]})`).join(", ")+"]"}_assertIndex(J,$){if(J<0||J>=$.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(J){if(J>0&&J===this._lineNumbers.length)return this.getEndLineNumber(J-1);return this._assertIndex(J,this._lineNumbers),this._lineNumbers[J]}getEndLineNumber(J){if(J===-1)return this.getStartLineNumber(J+1);if(this._assertIndex(J,this._lineNumbers),this._charCodes[J]===10)return this._lineNumbers[J]+1;return this._lineNumbers[J]}getStartColumn(J){if(J>0&&J===this._columns.length)return this.getEndColumn(J-1);return this._assertIndex(J,this._columns),this._columns[J]}getEndColumn(J){if(J===-1)return this.getStartColumn(J+1);if(this._assertIndex(J,this._columns),this._charCodes[J]===10)return 1;return this._columns[J]+1}}class Tq{constructor(J,$,X,Q,Y,Z,G,q){this.originalStartLineNumber=J,this.originalStartColumn=$,this.originalEndLineNumber=X,this.originalEndColumn=Q,this.modifiedStartLineNumber=Y,this.modifiedStartColumn=Z,this.modifiedEndLineNumber=G,this.modifiedEndColumn=q}static createFromDiffChange(J,$,X){const Q=$.getStartLineNumber(J.originalStart),Y=$.getStartColumn(J.originalStart),Z=$.getEndLineNumber(J.originalStart+J.originalLength-1),G=$.getEndColumn(J.originalStart+J.originalLength-1),q=X.getStartLineNumber(J.modifiedStart),U=X.getStartColumn(J.modifiedStart),H=X.getEndLineNumber(J.modifiedStart+J.modifiedLength-1),z=X.getEndColumn(J.modifiedStart+J.modifiedLength-1);return new Tq(Q,Y,Z,G,q,U,H,z)}}class Xz{constructor(J,$,X,Q,Y){this.originalStartLineNumber=J,this.originalEndLineNumber=$,this.modifiedStartLineNumber=X,this.modifiedEndLineNumber=Q,this.charChanges=Y}static createFromDiffResult(J,$,X,Q,Y,Z,G){let q,U,H,z,V=void 0;if($.originalLength===0)q=X.getStartLineNumber($.originalStart)-1,U=0;else q=X.getStartLineNumber($.originalStart),U=X.getEndLineNumber($.originalStart+$.originalLength-1);if($.modifiedLength===0)H=Q.getStartLineNumber($.modifiedStart)-1,z=0;else H=Q.getStartLineNumber($.modifiedStart),z=Q.getEndLineNumber($.modifiedStart+$.modifiedLength-1);if(Z&&$.originalLength>0&&$.originalLength<20&&$.modifiedLength>0&&$.modifiedLength<20&&Y()){const j=X.createCharSequence(J,$.originalStart,$.originalStart+$.originalLength-1),W=Q.createCharSequence(J,$.modifiedStart,$.modifiedStart+$.modifiedLength-1);if(j.getElements().length>0&&W.getElements().length>0){let B=ev(j,W,Y,!0).changes;if(G)B=o60(B);V=[];for(let K=0,P=B.length;K<P;K++)V.push(Tq.createFromDiffChange(B[K],j,W))}}return new Xz(q,U,H,z,V)}}class $f{constructor(J,$,X){this.shouldComputeCharChanges=X.shouldComputeCharChanges,this.shouldPostProcessCharChanges=X.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=X.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=X.shouldMakePrettyDiff,this.originalLines=J,this.modifiedLines=$,this.original=new _T(J),this.modified=new _T($),this.continueLineDiff=tv(X.maxComputationTime),this.continueCharDiff=tv(X.maxComputationTime===0?0:Math.min(X.maxComputationTime,5000))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0){if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[]};return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]}}if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const J=ev(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),$=J.changes,X=J.quitEarly;if(this.shouldIgnoreTrimWhitespace){const G=[];for(let q=0,U=$.length;q<U;q++)G.push(Xz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,$[q],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:X,changes:G}}const Q=[];let Y=0,Z=0;for(let G=-1,q=$.length;G<q;G++){const U=G+1<q?$[G+1]:null,H=U?U.originalStart:this.originalLines.length,z=U?U.modifiedStart:this.modifiedLines.length;while(Y<H&&Z<z){const V=this.originalLines[Y],j=this.modifiedLines[Z];if(V!==j){{let W=wT(V,1),B=wT(j,1);while(W>1&&B>1){const K=V.charCodeAt(W-2),P=j.charCodeAt(B-2);if(K!==P)break;W--,B--}if(W>1||B>1)this._pushTrimWhitespaceCharChange(Q,Y+1,1,W,Z+1,1,B)}{let W=LT(V,1),B=LT(j,1);const K=V.length+1,P=j.length+1;while(W<K&&B<P){const A=V.charCodeAt(W-1),D=V.charCodeAt(B-1);if(A!==D)break;W++,B++}if(W<K||B<P)this._pushTrimWhitespaceCharChange(Q,Y+1,W,K,Z+1,B,P)}}Y++,Z++}if(U)Q.push(Xz.createFromDiffResult(this.shouldIgnoreTrimWhitespace,U,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Y+=U.originalLength,Z+=U.modifiedLength}return{quitEarly:X,changes:Q}}_pushTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G){if(this._mergeTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G))return;let q=void 0;if(this.shouldComputeCharChanges)q=[new Tq($,X,$,Q,Y,Z,Y,G)];J.push(new Xz($,$,Y,Y,q))}_mergeTrimWhitespaceCharChange(J,$,X,Q,Y,Z,G){const q=J.length;if(q===0)return!1;const U=J[q-1];if(U.originalEndLineNumber===0||U.modifiedEndLineNumber===0)return!1;if(U.originalEndLineNumber===$&&U.modifiedEndLineNumber===Y){if(this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new Tq($,X,$,Q,Y,Z,Y,G));return!0}if(U.originalEndLineNumber+1===$&&U.modifiedEndLineNumber+1===Y){if(U.originalEndLineNumber=$,U.modifiedEndLineNumber=Y,this.shouldComputeCharChanges&&U.charChanges)U.charChanges.push(new Tq($,X,$,Q,Y,Z,Y,G));return!0}return!1}}var ev,o60,wT,LT,tv,n60;var Xf=N(()=>{$K();ZK();GY();o0();c0();U$();m5();ev=function(J,$,X,Q){return new z4(J,$,X).ComputeDiff(Q)},o60=function(J){if(J.length<=1)return J;const $=[J[0]];let X=$[0];for(let Q=1,Y=J.length;Q<Y;Q++){const Z=J[Q],G=Z.originalStart-(X.originalStart+X.originalLength),q=Z.modifiedStart-(X.modifiedStart+X.modifiedLength);if(Math.min(G,q)<n60)X.originalLength=Z.originalStart+Z.originalLength-X.originalStart,X.modifiedLength=Z.modifiedStart+Z.modifiedLength-X.modifiedStart;else $.push(Z),X=Z}return $},wT=function(J,$){const X=S8(J);if(X===-1)return $;return X+1},LT=function(J,$){const X=Z9(J);if(X===-1)return $;return X+2},tv=function(J){if(J===0)return()=>!0;const $=Date.now();return()=>{return Date.now()-$<J}},n60=3});class j4{static trivial(J,$){return new j4([new c8(d0.ofLength(J.length),d0.ofLength($.length))],!1)}static trivialTimedOut(J,$){return new j4([new c8(d0.ofLength(J.length),d0.ofLength($.length))],!0)}constructor(J,$){this.diffs=J,this.hitTimeout=$}}class c8{static invert(J,$){const X=[];return SW(J,(Q,Y)=>{X.push(c8.fromOffsetPairs(Q?Q.getEndExclusives():W9.zero,Y?Y.getStarts():new W9($,(Q?Q.seq2Range.endExclusive-Q.seq1Range.endExclusive:0)+$)))}),X}static fromOffsetPairs(J,$){return new c8(new d0(J.offset1,$.offset1),new d0(J.offset2,$.offset2))}constructor(J,$){this.seq1Range=J,this.seq2Range=$}swap(){return new c8(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(J){return new c8(this.seq1Range.join(J.seq1Range),this.seq2Range.join(J.seq2Range))}delta(J){if(J===0)return this;return new c8(this.seq1Range.delta(J),this.seq2Range.delta(J))}deltaStart(J){if(J===0)return this;return new c8(this.seq1Range.deltaStart(J),this.seq2Range.deltaStart(J))}deltaEnd(J){if(J===0)return this;return new c8(this.seq1Range.deltaEnd(J),this.seq2Range.deltaEnd(J))}intersect(J){const $=this.seq1Range.intersect(J.seq1Range),X=this.seq2Range.intersect(J.seq2Range);if(!$||!X)return;return new c8($,X)}getStarts(){return new W9(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new W9(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}class W9{constructor(J,$){this.offset1=J,this.offset2=$}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(J){if(J===0)return this;return new W9(this.offset1+J,this.offset2+J)}equals(J){return this.offset1===J.offset1&&this.offset2===J.offset2}}class pX{isValid(){return!0}}class kT{constructor(J){if(this.timeout=J,this.startTime=Date.now(),this.valid=!0,J<=0)throw new b1("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}var Nq=N(()=>{H1();D1();u9();W9.zero=new W9(0,0);W9.max=new W9(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);pX.instance=new pX});function Yz(J){return J===32||J===9}class Qz{constructor(J,$){this.width=J,this.height=$,this.array=[],this.array=new Array(J*$)}get(J,$){return this.array[J+$*this.width]}set(J,$,X){this.array[J+$*this.width]=X}}class PG{static getKey(J){let $=this.chrKeys.get(J);if($===void 0)$=this.chrKeys.size,this.chrKeys.set(J,$);return $}constructor(J,$,X){this.range=J,this.lines=$,this.source=X,this.histogram=[];let Q=0;for(let Y=J.startLineNumber-1;Y<J.endLineNumberExclusive-1;Y++){const Z=$[Y];for(let q=0;q<Z.length;q++){Q++;const U=Z[q],H=PG.getKey(U);this.histogram[H]=(this.histogram[H]||0)+1}Q++;const G=PG.getKey("\n");this.histogram[G]=(this.histogram[G]||0)+1}this.totalCount=Q}computeSimilarity(J){var $,X;let Q=0;const Y=Math.max(this.histogram.length,J.histogram.length);for(let Z=0;Z<Y;Z++)Q+=Math.abs((($=this.histogram[Z])!==null&&$!==void 0?$:0)-((X=J.histogram[Z])!==null&&X!==void 0?X:0));return 1-Q/(this.totalCount+J.totalCount)}}var qK=N(()=>{PG.chrKeys=new Map});class IT{compute(J,$,X=pX.instance,Q){if(J.length===0||$.length===0)return j4.trivial(J,$);const Y=new Qz(J.length,$.length),Z=new Qz(J.length,$.length),G=new Qz(J.length,$.length);for(let W=0;W<J.length;W++)for(let B=0;B<$.length;B++){if(!X.isValid())return j4.trivialTimedOut(J,$);const K=W===0?0:Y.get(W-1,B),P=B===0?0:Y.get(W,B-1);let A;if(J.getElement(W)===$.getElement(B)){if(W===0||B===0)A=0;else A=Y.get(W-1,B-1);if(W>0&&B>0&&Z.get(W-1,B-1)===3)A+=G.get(W-1,B-1);A+=Q?Q(W,B):1}else A=-1;const D=Math.max(K,P,A);if(D===A){const R=W>0&&B>0?G.get(W-1,B-1):0;G.set(W,B,R+1),Z.set(W,B,3)}else if(D===K)G.set(W,B,0),Z.set(W,B,1);else if(D===P)G.set(W,B,0),Z.set(W,B,2);Y.set(W,B,D)}const q=[];let U=J.length,H=$.length;function z(W,B){if(W+1!==U||B+1!==H)q.push(new c8(new d0(W+1,U),new d0(B+1,H)));U=W,H=B}let V=J.length-1,j=$.length-1;while(V>=0&&j>=0)if(Z.get(V,j)===3)z(V,j),V--,j--;else if(Z.get(V,j)===1)V--;else j--;return z(-1,-1),q.reverse(),new j4(q,!1)}}var Qf=N(()=>{u9();Nq();qK()});class Zz{compute(J,$,X=pX.instance){if(J.length===0||$.length===0)return j4.trivial(J,$);const Q=J,Y=$;function Z(B,K){while(B<Q.length&&K<Y.length&&Q.getElement(B)===Y.getElement(K))B++,K++;return B}let G=0;const q=new Yf;q.set(0,Z(0,0));const U=new Zf;U.set(0,q.get(0)===0?null:new yT(null,0,0,q.get(0)));let H=0;J:while(!0){if(G++,!X.isValid())return j4.trivialTimedOut(Q,Y);const B=-Math.min(G,Y.length+G%2),K=Math.min(G,Q.length+G%2);for(H=B;H<=K;H+=2){let P=0;const A=H===K?-1:q.get(H+1),D=H===B?-1:q.get(H-1)+1;P++;const R=Math.min(Math.max(A,D),Q.length),M=R-H;if(P++,R>Q.length||M>Y.length)continue;const O=Z(R,M);q.set(H,O);const _=R===A?U.get(H+1):U.get(H-1);if(U.set(H,O!==R?new yT(_,R,M,O-R):_),q.get(H)===Q.length&&q.get(H)-H===Y.length)break J}}let z=U.get(H);const V=[];let j=Q.length,W=Y.length;while(!0){const B=z?z.x+z.length:0,K=z?z.y+z.length:0;if(B!==j||K!==W)V.push(new c8(new d0(B,j),new d0(K,W)));if(!z)break;j=z.x,W=z.y,z=z.prev}return V.reverse(),new j4(V,!1)}}class yT{constructor(J,$,X,Q){this.prev=J,this.x=$,this.y=X,this.length=Q}}class Yf{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0){if(J=-J-1,J>=this.negativeArr.length){const X=this.negativeArr;this.negativeArr=new Int32Array(X.length*2),this.negativeArr.set(X)}this.negativeArr[J]=$}else{if(J>=this.positiveArr.length){const X=this.positiveArr;this.positiveArr=new Int32Array(X.length*2),this.positiveArr.set(X)}this.positiveArr[J]=$}}}class Zf{constructor(){this.positiveArr=[],this.negativeArr=[]}get(J){if(J<0)return J=-J-1,this.negativeArr[J];else return this.positiveArr[J]}set(J,$){if(J<0)J=-J-1,this.negativeArr[J]=$;else this.positiveArr[J]=$}}var ST=N(()=>{u9();Nq()});class Uf{constructor(J,$){this.uri=J,this.value=$}}class x6{constructor(J,$){if(this[Gf]="ResourceMap",J instanceof x6)this.map=new Map(J.map),this.toKey=$!==null&&$!==void 0?$:x6.defaultToKey;else if(t60(J)){this.map=new Map,this.toKey=$!==null&&$!==void 0?$:x6.defaultToKey;for(let[X,Q]of J)this.set(X,Q)}else this.map=new Map,this.toKey=J!==null&&J!==void 0?J:x6.defaultToKey}set(J,$){return this.map.set(this.toKey(J),new Uf(J,$)),this}get(J){var $;return($=this.map.get(this.toKey(J)))===null||$===void 0?void 0:$.value}has(J){return this.map.has(this.toKey(J))}get size(){return this.map.size}clear(){this.map.clear()}delete(J){return this.map.delete(this.toKey(J))}forEach(J,$){if(typeof $!=="undefined")J=J.bind($);for(let[X,Q]of this.map)J(Q.value,Q.uri,this)}*values(){for(let J of this.map.values())yield J.value}*keys(){for(let J of this.map.values())yield J.uri}*entries(){for(let J of this.map.values())yield[J.uri,J.value]}*[(Gf=Symbol.toStringTag,Symbol.iterator)](){for(let[,J]of this.map)yield[J.uri,J.value]}}class Hf{constructor(){this[qf]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var J;return(J=this._head)===null||J===void 0?void 0:J.value}get last(){var J;return(J=this._tail)===null||J===void 0?void 0:J.value}has(J){return this._map.has(J)}get(J,$=0){const X=this._map.get(J);if(!X)return;if($!==0)this.touch(X,$);return X.value}set(J,$,X=0){let Q=this._map.get(J);if(Q){if(Q.value=$,X!==0)this.touch(Q,X)}else{switch(Q={key:J,value:$,next:void 0,previous:void 0},X){case 0:this.addItemLast(Q);break;case 1:this.addItemFirst(Q);break;case 2:this.addItemLast(Q);break;default:this.addItemLast(Q);break}this._map.set(J,Q),this._size++}return this}delete(J){return!!this.remove(J)}remove(J){const $=this._map.get(J);if(!$)return;return this._map.delete(J),this.removeItem($),this._size--,$.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const J=this._head;return this._map.delete(J.key),this.removeItem(J),this._size--,J.value}forEach(J,$){const X=this._state;let Q=this._head;while(Q){if($)J.bind($)(Q.value,Q.key,this);else J(Q.value,Q.key,this);if(this._state!==X)throw new Error("LinkedMap got modified during iteration.");Q=Q.next}}keys(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:X.key,done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}values(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:X.value,done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}entries(){const J=this,$=this._state;let X=this._head;const Q={[Symbol.iterator](){return Q},next(){if(J._state!==$)throw new Error("LinkedMap got modified during iteration.");if(X){const Y={value:[X.key,X.value],done:!1};return X=X.next,Y}else return{value:void 0,done:!0}}};return Q}[(qf=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(J){if(J>=this.size)return;if(J===0){this.clear();return}let $=this._head,X=this.size;while($&&X>J)this._map.delete($.key),$=$.next,X--;if(this._head=$,this._size=X,$)$.previous=void 0;this._state++}addItemFirst(J){if(!this._head&&!this._tail)this._tail=J;else if(!this._head)throw new Error("Invalid list");else J.next=this._head,this._head.previous=J;this._head=J,this._state++}addItemLast(J){if(!this._head&&!this._tail)this._head=J;else if(!this._tail)throw new Error("Invalid list");else J.previous=this._tail,this._tail.next=J;this._tail=J,this._state++}removeItem(J){if(J===this._head&&J===this._tail)this._head=void 0,this._tail=void 0;else if(J===this._head){if(!J.next)throw new Error("Invalid list");J.next.previous=void 0,this._head=J.next}else if(J===this._tail){if(!J.previous)throw new Error("Invalid list");J.previous.next=void 0,this._tail=J.previous}else{const{next:$,previous:X}=J;if(!$||!X)throw new Error("Invalid list");$.previous=X,X.next=$}J.next=void 0,J.previous=void 0,this._state++}touch(J,$){if(!this._head||!this._tail)throw new Error("Invalid list");if($!==1&&$!==2)return;if($===1){if(J===this._head)return;const{next:X,previous:Q}=J;if(J===this._tail)Q.next=void 0,this._tail=Q;else X.previous=Q,Q.next=X;J.previous=void 0,J.next=this._head,this._head.previous=J,this._head=J,this._state++}else if($===2){if(J===this._tail)return;const{next:X,previous:Q}=J;if(J===this._head)X.previous=void 0,this._head=X;else X.previous=Q,Q.next=X;J.next=void 0,J.previous=this._tail,this._tail.next=J,this._tail=J,this._state++}}toJSON(){const J=[];return this.forEach(($,X)=>{J.push([X,$])}),J}fromJSON(J){this.clear();for(let[$,X]of J)this.set($,X)}}class mX extends Hf{constructor(J,$=1){super();this._limit=J,this._ratio=Math.min(Math.max(0,$),1)}get limit(){return this._limit}set limit(J){this._limit=J,this.checkTrim()}get(J,$=2){return super.get(J,$)}peek(J){return super.get(J,0)}set(J,$){return super.set(J,$,2),this.checkTrim(),this}checkTrim(){if(this.size>this._limit)this.trimOld(Math.round(this._limit*this._ratio))}}class CT{constructor(J){if(this._m1=new Map,this._m2=new Map,J)for(let[$,X]of J)this.set($,X)}clear(){this._m1.clear(),this._m2.clear()}set(J,$){this._m1.set(J,$),this._m2.set($,J)}get(J){return this._m1.get(J)}getKey(J){return this._m2.get(J)}delete(J){const $=this._m1.get(J);if($===void 0)return!1;return this._m1.delete(J),this._m2.delete($),!0}keys(){return this._m1.keys()}values(){return this._m1.values()}}class Gz{constructor(){this.map=new Map}add(J,$){let X=this.map.get(J);if(!X)X=new Set,this.map.set(J,X);X.add($)}delete(J,$){const X=this.map.get(J);if(!X)return;if(X.delete($),X.size===0)this.map.delete(J)}forEach(J,$){const X=this.map.get(J);if(!X)return;X.forEach($)}get(J){const $=this.map.get(J);if(!$)return new Set;return $}}var t60,Gf,qf;var W4=N(()=>{t60=function(J){return Array.isArray(J)};x6.defaultToKey=(J)=>J.toString()});class DG{constructor(J,$,X){this.lines=J,this.considerWhitespaceChanges=X,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let Q=!1;if($.start>0&&$.endExclusive>=J.length)$=new d0($.start-1,$.endExclusive),Q=!0;this.lineRange=$,this.firstCharOffsetByLine[0]=0;for(let Y=this.lineRange.start;Y<this.lineRange.endExclusive;Y++){let Z=J[Y],G=0;if(Q)G=Z.length,Z="",Q=!1;else if(!X){const q=Z.trimStart();G=Z.length-q.length,Z=q.trimEnd()}this.additionalOffsetByLine.push(G);for(let q=0;q<Z.length;q++)this.elements.push(Z.charCodeAt(q));if(Y<J.length-1)this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLine[Y-this.lineRange.start+1]=this.elements.length}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new d0(0,this.length))}getText(J){return this.elements.slice(J.start,J.endExclusive).map(($)=>String.fromCharCode($)).join("")}getElement(J){return this.elements[J]}get length(){return this.elements.length}getBoundaryScore(J){const $=Vf(J>0?this.elements[J-1]:-1),X=Vf(J<this.elements.length?this.elements[J]:-1);if($===7&&X===8)return 0;if($===8)return 150;let Q=0;if($!==X){if(Q+=10,$===0&&X===1)Q+=1}return Q+=zf($),Q+=zf(X),Q}translateOffset(J){if(this.lineRange.isEmpty)return new v(this.lineRange.start+1,1);const $=AG(this.firstCharOffsetByLine,(X)=>X<=J);return new v(this.lineRange.start+$+1,J-this.firstCharOffsetByLine[$]+this.additionalOffsetByLine[$]+1)}translateRange(J){return L.fromPositions(this.translateOffset(J.start),this.translateOffset(J.endExclusive))}findWordContaining(J){if(J<0||J>=this.elements.length)return;if(!xT(this.elements[J]))return;let $=J;while($>0&&xT(this.elements[$-1]))$--;let X=J;while(X<this.elements.length&&xT(this.elements[X]))X++;return new d0($,X)}countLinesIn(J){return this.translateOffset(J.endExclusive).lineNumber-this.translateOffset(J.start).lineNumber}isStronglyEqual(J,$){return this.elements[J]===this.elements[$]}extendToFullLines(J){var $,X;const Q=($=gX(this.firstCharOffsetByLine,(Z)=>Z<=J.start))!==null&&$!==void 0?$:0,Y=(X=rv(this.firstCharOffsetByLine,(Z)=>J.endExclusive<=Z))!==null&&X!==void 0?X:this.elements.length;return new d0(Q,Y)}}var xT,zf,Vf,e60;var bT=N(()=>{V4();u9();U1();c0();qK();xT=function(J){return J>=97&&J<=122||J>=65&&J<=90||J>=48&&J<=57},zf=function(J){return e60[J]},Vf=function(J){if(J===10)return 8;else if(J===13)return 7;else if(Yz(J))return 6;else if(J>=97&&J<=122)return 0;else if(J>=65&&J<=90)return 1;else if(J>=48&&J<=57)return 2;else if(J===-1)return 3;else if(J===44||J===59)return 5;else return 4};e60={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:30,[6]:3,[7]:10,[8]:10}});function Wf(J,$,X,Q,Y,Z){let{moves:G,excludedChanges:q}=$70(J,$,X,Z);if(!Z.isValid())return[];const U=J.filter((z)=>!q.has(z)),H=X70(U,Q,Y,$,X,Z);return rU(G,H),G=Q70(G),G=G.filter((z)=>{const V=z.original.toOffsetRange().slice($).map((W)=>W.trim());return V.join("\n").length>=15&&J70(V,(W)=>W.length>=2)>=2}),G=Y70(J,G),G}var J70,$70,X70,jf,Q70,Y70;var Bf=N(()=>{Nq();GY();H1();V4();W4();m5();u9();bT();qK();ST();J70=function(J,$){let X=0;for(let Q of J)if($(Q))X++;return X},$70=function(J,$,X,Q){const Y=[],Z=J.filter((U)=>U.modified.isEmpty&&U.original.length>=3).map((U)=>new PG(U.original,$,U)),G=new Set(J.filter((U)=>U.original.isEmpty&&U.modified.length>=3).map((U)=>new PG(U.modified,X,U))),q=new Set;for(let U of Z){let H=-1,z;for(let V of G){const j=U.computeSimilarity(V);if(j>H)H=j,z=V}if(H>0.9&&z)G.delete(z),Y.push(new Y7(U.range,z.range)),q.add(U.source),q.add(z.source);if(!Q.isValid())return{moves:Y,excludedChanges:q}}return{moves:Y,excludedChanges:q}},X70=function(J,$,X,Q,Y,Z){const G=[],q=new Gz;for(let j of J)for(let W=j.original.startLineNumber;W<j.original.endLineNumberExclusive-2;W++){const B=`${$[W-1]}:${$[W+1-1]}:${$[W+2-1]}`;q.add(B,{range:new S0(W,W+3)})}const U=[];J.sort(y5((j)=>j.modified.startLineNumber,zX));for(let j of J){let W=[];for(let B=j.modified.startLineNumber;B<j.modified.endLineNumberExclusive-2;B++){const K=`${X[B-1]}:${X[B+1-1]}:${X[B+2-1]}`,P=new S0(B,B+3),A=[];q.forEach(K,({range:D})=>{for(let M of W)if(M.originalLineRange.endLineNumberExclusive+1===D.endLineNumberExclusive&&M.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){M.originalLineRange=new S0(M.originalLineRange.startLineNumber,D.endLineNumberExclusive),M.modifiedLineRange=new S0(M.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),A.push(M);return}const R={modifiedLineRange:P,originalLineRange:D};U.push(R),A.push(R)}),W=A}if(!Z.isValid())return[]}U.sort(qC(y5((j)=>j.modifiedLineRange.length,zX)));const H=new p5,z=new p5;for(let j of U){const W=j.modifiedLineRange.startLineNumber-j.originalLineRange.startLineNumber,B=H.subtractFrom(j.modifiedLineRange),K=z.subtractFrom(j.originalLineRange).getWithDelta(W),P=B.getIntersection(K);for(let A of P.ranges){if(A.length<3)continue;const D=A,R=A.delta(-W);G.push(new Y7(R,D)),H.addRange(D),z.addRange(R)}}G.sort(y5((j)=>j.original.startLineNumber,zX));const V=new Oq(J);for(let j=0;j<G.length;j++){const W=G[j],B=V.findLastMonotonous((_)=>_.original.startLineNumber<=W.original.startLineNumber),K=gX(J,(_)=>_.modified.startLineNumber<=W.modified.startLineNumber),P=Math.max(W.original.startLineNumber-B.original.startLineNumber,W.modified.startLineNumber-K.modified.startLineNumber),A=V.findLastMonotonous((_)=>_.original.startLineNumber<W.original.endLineNumberExclusive),D=gX(J,(_)=>_.modified.startLineNumber<W.modified.endLineNumberExclusive),R=Math.max(A.original.endLineNumberExclusive-W.original.endLineNumberExclusive,D.modified.endLineNumberExclusive-W.modified.endLineNumberExclusive);let M;for(M=0;M<P;M++){const _=W.original.startLineNumber-M-1,w=W.modified.startLineNumber-M-1;if(_>Q.length||w>Y.length)break;if(H.contains(w)||z.contains(_))break;if(!jf(Q[_-1],Y[w-1],Z))break}if(M>0)z.addRange(new S0(W.original.startLineNumber-M,W.original.startLineNumber)),H.addRange(new S0(W.modified.startLineNumber-M,W.modified.startLineNumber));let O;for(O=0;O<R;O++){const _=W.original.endLineNumberExclusive+O,w=W.modified.endLineNumberExclusive+O;if(_>Q.length||w>Y.length)break;if(H.contains(w)||z.contains(_))break;if(!jf(Q[_-1],Y[w-1],Z))break}if(O>0)z.addRange(new S0(W.original.endLineNumberExclusive,W.original.endLineNumberExclusive+O)),H.addRange(new S0(W.modified.endLineNumberExclusive,W.modified.endLineNumberExclusive+O));if(M>0||O>0)G[j]=new Y7(new S0(W.original.startLineNumber-M,W.original.endLineNumberExclusive+O),new S0(W.modified.startLineNumber-M,W.modified.endLineNumberExclusive+O))}return G},jf=function(J,$,X){if(J.trim()===$.trim())return!0;if(J.length>300&&$.length>300)return!1;const Y=new Zz().compute(new DG([J],new d0(0,1),!1),new DG([$],new d0(0,1),!1),X);let Z=0;const G=c8.invert(Y.diffs,J.length);for(let z of G)z.seq1Range.forEach((V)=>{if(!Yz(J.charCodeAt(V)))Z++});function q(z){let V=0;for(let j=0;j<J.length;j++)if(!Yz(z.charCodeAt(j)))V++;return V}const U=q(J.length>$.length?J:$);return Z/U>0.6&&U>10},Q70=function(J){if(J.length===0)return J;J.sort(y5((X)=>X.original.startLineNumber,zX));const $=[J[0]];for(let X=1;X<J.length;X++){const Q=$[$.length-1],Y=J[X],Z=Y.original.startLineNumber-Q.original.endLineNumberExclusive,G=Y.modified.startLineNumber-Q.modified.endLineNumberExclusive;if(Z>=0&&G>=0&&Z+G<=2){$[$.length-1]=Q.join(Y);continue}$.push(Y)}return $},Y70=function(J,$){const X=new Oq(J);return $=$.filter((Q)=>{const Y=X.findLastMonotonous((q)=>q.original.startLineNumber<Q.original.endLineNumberExclusive)||new Y7(new S0(1,1),new S0(1,1)),Z=gX(J,(q)=>q.modified.startLineNumber<Q.modified.endLineNumberExclusive);return Y!==Z}),$}});function qz(J,$,X){let Q=X;return Q=Ff(J,$,Q),Q=Ff(J,$,Q),Q=Z70(J,$,Q),Q}function Af(J,$,X){const Q=[];for(let Y of X){const Z=Q[Q.length-1];if(!Z){Q.push(Y);continue}if(Y.seq1Range.start-Z.seq1Range.endExclusive<=2||Y.seq2Range.start-Z.seq2Range.endExclusive<=2)Q[Q.length-1]=new c8(Z.seq1Range.join(Y.seq1Range),Z.seq2Range.join(Y.seq2Range));else Q.push(Y)}return Q}function Pf(J,$,X){const Q=c8.invert(X,J.length),Y=[];let Z=new W9(0,0);function G(U,H){if(U.offset1<Z.offset1||U.offset2<Z.offset2)return;const z=J.findWordContaining(U.offset1),V=$.findWordContaining(U.offset2);if(!z||!V)return;let j=new c8(z,V);const W=j.intersect(H);let B=W.seq1Range.length,K=W.seq2Range.length;while(Q.length>0){const P=Q[0];if(!(P.seq1Range.intersects(z)||P.seq2Range.intersects(V)))break;const D=J.findWordContaining(P.seq1Range.start),R=$.findWordContaining(P.seq2Range.start),M=new c8(D,R),O=M.intersect(P);if(B+=O.seq1Range.length,K+=O.seq2Range.length,j=j.join(M),j.seq1Range.endExclusive>=P.seq1Range.endExclusive)Q.shift();else break}if(B+K<(j.seq1Range.length+j.seq2Range.length)*2/3)Y.push(j);Z=j.getEndExclusives()}while(Q.length>0){const U=Q.shift();if(U.seq1Range.isEmpty)continue;G(U.getStarts(),U),G(U.getEndExclusives().delta(-1),U)}return G70(X,Y)}function Df(J,$,X){let Q=X;if(Q.length===0)return Q;let Y=0,Z;do{Z=!1;const G=[Q[0]];for(let q=1;q<Q.length;q++){let z=function(j,W){const B=new d0(H.seq1Range.endExclusive,U.seq1Range.start);if(J.getText(B).replace(/\s/g,"").length<=4&&(j.seq1Range.length+j.seq2Range.length>5||W.seq1Range.length+W.seq2Range.length>5))return!0;return!1};const U=Q[q],H=G[G.length-1];if(z(H,U))Z=!0,G[G.length-1]=G[G.length-1].join(U);else G.push(U)}Q=G}while(Y++<10&&Z);return Q}function Rf(J,$,X){let Q=X;if(Q.length===0)return Q;let Y=0,Z;do{Z=!1;const q=[Q[0]];for(let U=1;U<Q.length;U++){let V=function(W,B){const K=new d0(z.seq1Range.endExclusive,H.seq1Range.start);if(J.countLinesIn(K)>5||K.length>500)return!1;const A=J.getText(K).trim();if(A.length>20||A.split(/\r\n|\r|\n/).length>1)return!1;const D=J.countLinesIn(W.seq1Range),R=W.seq1Range.length,M=$.countLinesIn(W.seq2Range),O=W.seq2Range.length,_=J.countLinesIn(B.seq1Range),w=B.seq1Range.length,C=$.countLinesIn(B.seq2Range),x=B.seq2Range.length,g=130;function c(b){return Math.min(b,g)}if(Math.pow(Math.pow(c(D*40+R),1.5)+Math.pow(c(M*40+O),1.5),1.5)+Math.pow(Math.pow(c(_*40+w),1.5)+Math.pow(c(C*40+x),1.5),1.5)>(g**1.5)**1.5*1.3)return!0;return!1};const H=Q[U],z=q[q.length-1];if(V(z,H))Z=!0,q[q.length-1]=q[q.length-1].join(H);else q.push(H)}Q=q}while(Y++<10&&Z);const G=[];return XC(Q,(q,U,H)=>{let z=U;function V(A){return A.length>0&&A.trim().length<=3&&U.seq1Range.length+U.seq2Range.length>100}const j=J.extendToFullLines(U.seq1Range),W=J.getText(new d0(j.start,U.seq1Range.start));if(V(W))z=z.deltaStart(-W.length);const B=J.getText(new d0(U.seq1Range.endExclusive,j.endExclusive));if(V(B))z=z.deltaEnd(B.length);const K=c8.fromOffsetPairs(q?q.getEndExclusives():W9.zero,H?H.getStarts():W9.max),P=z.intersect(K);if(G.length>0&&P.getStarts().equals(G[G.length-1].getEndExclusives()))G[G.length-1]=G[G.length-1].join(P);else G.push(P)}),G}var Ff,Z70,Kf,G70;var vT=N(()=>{H1();u9();Nq();Ff=function(J,$,X){if(X.length===0)return X;const Q=[];Q.push(X[0]);for(let Z=1;Z<X.length;Z++){const G=Q[Q.length-1];let q=X[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){const U=q.seq1Range.start-G.seq1Range.endExclusive;let H;for(H=1;H<=U;H++)if(J.getElement(q.seq1Range.start-H)!==J.getElement(q.seq1Range.endExclusive-H)||$.getElement(q.seq2Range.start-H)!==$.getElement(q.seq2Range.endExclusive-H))break;if(H--,H===U){Q[Q.length-1]=new c8(new d0(G.seq1Range.start,q.seq1Range.endExclusive-U),new d0(G.seq2Range.start,q.seq2Range.endExclusive-U));continue}q=q.delta(-H)}Q.push(q)}const Y=[];for(let Z=0;Z<Q.length-1;Z++){const G=Q[Z+1];let q=Q[Z];if(q.seq1Range.isEmpty||q.seq2Range.isEmpty){const U=G.seq1Range.start-q.seq1Range.endExclusive;let H;for(H=0;H<U;H++)if(!J.isStronglyEqual(q.seq1Range.start+H,q.seq1Range.endExclusive+H)||!$.isStronglyEqual(q.seq2Range.start+H,q.seq2Range.endExclusive+H))break;if(H===U){Q[Z+1]=new c8(new d0(q.seq1Range.start+U,G.seq1Range.endExclusive),new d0(q.seq2Range.start+U,G.seq2Range.endExclusive));continue}if(H>0)q=q.delta(H)}Y.push(q)}if(Q.length>0)Y.push(Q[Q.length-1]);return Y},Z70=function(J,$,X){if(!J.getBoundaryScore||!$.getBoundaryScore)return X;for(let Q=0;Q<X.length;Q++){const Y=Q>0?X[Q-1]:void 0,Z=X[Q],G=Q+1<X.length?X[Q+1]:void 0,q=new d0(Y?Y.seq1Range.endExclusive+1:0,G?G.seq1Range.start-1:J.length),U=new d0(Y?Y.seq2Range.endExclusive+1:0,G?G.seq2Range.start-1:$.length);if(Z.seq1Range.isEmpty)X[Q]=Kf(Z,J,$,q,U);else if(Z.seq2Range.isEmpty)X[Q]=Kf(Z.swap(),$,J,U,q).swap()}return X},Kf=function(J,$,X,Q,Y){let G=1;while(J.seq1Range.start-G>=Q.start&&J.seq2Range.start-G>=Y.start&&X.isStronglyEqual(J.seq2Range.start-G,J.seq2Range.endExclusive-G)&&G<100)G++;G--;let q=0;while(J.seq1Range.start+q<Q.endExclusive&&J.seq2Range.endExclusive+q<Y.endExclusive&&X.isStronglyEqual(J.seq2Range.start+q,J.seq2Range.endExclusive+q)&&q<100)q++;if(G===0&&q===0)return J;let U=0,H=-1;for(let z=-G;z<=q;z++){const V=J.seq2Range.start+z,j=J.seq2Range.endExclusive+z,W=J.seq1Range.start+z,B=$.getBoundaryScore(W)+X.getBoundaryScore(V)+X.getBoundaryScore(j);if(B>H)H=B,U=z}return J.delta(U)};G70=function(J,$){const X=[];while(J.length>0||$.length>0){const Q=J[0],Y=$[0];let Z;if(Q&&(!Y||Q.seq1Range.start<Y.seq1Range.start))Z=J.shift();else Z=$.shift();if(X.length>0&&X[X.length-1].seq1Range.endExclusive>=Z.seq1Range.start)X[X.length-1]=X[X.length-1].join(Z);else X.push(Z)}return X}});class UK{constructor(J,$){this.trimmedHash=J,this.lines=$}getElement(J){return this.trimmedHash[J]}get length(){return this.trimmedHash.length}getBoundaryScore(J){const $=J===0?0:Mf(this.lines[J-1]),X=J===this.lines.length?0:Mf(this.lines[J]);return 1000-($+X)}getText(J){return this.lines.slice(J.start,J.endExclusive).join("\n")}isStronglyEqual(J,$){return this.lines[J]===this.lines[$]}}var Mf;var Of=N(()=>{Mf=function(J){let $=0;while($<J.length&&(J.charCodeAt($)===32||J.charCodeAt($)===9))$++;return $}});function Tf(J,$,X,Q=!1){const Y=[];for(let Z of v2(J.map((G)=>q70(G,$,X)),(G,q)=>G.original.overlapOrTouch(q.original)||G.modified.overlapOrTouch(q.modified))){const G=Z[0],q=Z[Z.length-1];Y.push(new D5(G.original.join(q.original),G.modified.join(q.modified),Z.map((U)=>U.innerChanges[0])))}return q$(()=>{if(!Q){if(Y.length>0&&Y[0].original.startLineNumber!==Y[0].modified.startLineNumber)return!1}return KF(Y,(Z,G)=>G.original.startLineNumber-Z.original.endLineNumberExclusive===G.modified.startLineNumber-Z.modified.endLineNumberExclusive&&Z.original.endLineNumberExclusive<G.original.startLineNumber&&Z.modified.endLineNumberExclusive<G.modified.startLineNumber)}),Y}function q70(J,$,X){let Q=0,Y=0;if(J.modifiedRange.endColumn===1&&J.originalRange.endColumn===1&&J.originalRange.startLineNumber+Q<=J.originalRange.endLineNumber&&J.modifiedRange.startLineNumber+Q<=J.modifiedRange.endLineNumber)Y=-1;if(J.modifiedRange.startColumn-1>=X[J.modifiedRange.startLineNumber-1].length&&J.originalRange.startColumn-1>=$[J.originalRange.startLineNumber-1].length&&J.originalRange.startLineNumber<=J.originalRange.endLineNumber+Y&&J.modifiedRange.startLineNumber<=J.modifiedRange.endLineNumber+Y)Q=1;const Z=new S0(J.originalRange.startLineNumber+Q,J.originalRange.endLineNumber+1+Y),G=new S0(J.modifiedRange.startLineNumber+Q,J.modifiedRange.endLineNumber+1+Y);return new D5(Z,G,[J])}class Uz{constructor(){this.dynamicProgrammingDiffing=new IT,this.myersDiffingAlgorithm=new Zz}computeDiff(J,$,X){if(J.length<=1&&Q8(J,$,(M,O)=>M===O))return new FG([],[],!1);if(J.length===1&&J[0].length===0||$.length===1&&$[0].length===0)return new FG([new D5(new S0(1,J.length+1),new S0(1,$.length+1),[new c9(new L(1,1,J.length,J[0].length+1),new L(1,1,$.length,$[0].length+1))])],[],!1);const Q=X.maxComputationTimeMs===0?pX.instance:new kT(X.maxComputationTimeMs),Y=!X.ignoreTrimWhitespace,Z=new Map;function G(M){let O=Z.get(M);if(O===void 0)O=Z.size,Z.set(M,O);return O}const q=J.map((M)=>G(M.trim())),U=$.map((M)=>G(M.trim())),H=new UK(q,J),z=new UK(U,$),V=(()=>{if(H.length+z.length<1700)return this.dynamicProgrammingDiffing.compute(H,z,Q,(M,O)=>J[M]===$[O]?$[O].length===0?0.1:1+Math.log(1+$[O].length):0.99);return this.myersDiffingAlgorithm.compute(H,z)})();let{diffs:j,hitTimeout:W}=V;j=qz(H,z,j),j=Df(H,z,j);const B=[],K=(M)=>{if(!Y)return;for(let O=0;O<M;O++){const _=P+O,w=A+O;if(J[_]!==$[w]){const C=this.refineDiff(J,$,new c8(new d0(_,_+1),new d0(w,w+1)),Q,Y);for(let x of C.mappings)B.push(x);if(C.hitTimeout)W=!0}}};let P=0,A=0;for(let M of j){q$(()=>M.seq1Range.start-P===M.seq2Range.start-A);const O=M.seq1Range.start-P;K(O),P=M.seq1Range.endExclusive,A=M.seq2Range.endExclusive;const _=this.refineDiff(J,$,M,Q,Y);if(_.hitTimeout)W=!0;for(let w of _.mappings)B.push(w)}K(J.length-P);const D=Tf(B,J,$);let R=[];if(X.computeMoves)R=this.computeMoves(D,J,$,q,U,Q,Y);return q$(()=>{function M(_,w){if(_.lineNumber<1||_.lineNumber>w.length)return!1;const C=w[_.lineNumber-1];if(_.column<1||_.column>C.length+1)return!1;return!0}function O(_,w){if(_.startLineNumber<1||_.startLineNumber>w.length+1)return!1;if(_.endLineNumberExclusive<1||_.endLineNumberExclusive>w.length+1)return!1;return!0}for(let _ of D){if(!_.innerChanges)return!1;for(let w of _.innerChanges)if(!(M(w.modifiedRange.getStartPosition(),$)&&M(w.modifiedRange.getEndPosition(),$)&&M(w.originalRange.getStartPosition(),J)&&M(w.originalRange.getEndPosition(),J)))return!1;if(!O(_.modified,$)||!O(_.original,J))return!1}return!0}),new FG(D,R,W)}computeMoves(J,$,X,Q,Y,Z,G){return Wf(J,$,X,Q,Y,Z).map((H)=>{const z=this.refineDiff($,X,new c8(H.original.toOffsetRange(),H.modified.toOffsetRange()),Z,G),V=Tf(z.mappings,$,X,!0);return new $z(H,V)})}refineDiff(J,$,X,Q,Y){const Z=new DG(J,X.seq1Range,Y),G=new DG($,X.seq2Range,Y),q=Z.length+G.length<500?this.dynamicProgrammingDiffing.compute(Z,G,Q):this.myersDiffingAlgorithm.compute(Z,G,Q);let U=q.diffs;return U=qz(Z,G,U),U=Pf(Z,G,U),U=Af(Z,G,U),U=Rf(Z,G,U),{mappings:U.map((z)=>new c9(Z.translateRange(z.seq1Range),G.translateRange(z.seq2Range))),hitTimeout:q.hitTimeout}}}var fT=N(()=>{H1();U$();m5();u9();c0();Nq();Qf();ST();Bf();vT();ZK();GY();bT();Of()});var hT;var Nf=N(()=>{Xf();fT();hT={getLegacy:()=>new ET,getDefault:()=>new Uz}});class T1{constructor(J,$,X,Q=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,J))|0,this.g=Math.min(255,Math.max(0,$))|0,this.b=Math.min(255,Math.max(0,X))|0,this.a=qY(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.r===$.r&&J.g===$.g&&J.b===$.b&&J.a===$.a}}class l9{constructor(J,$,X,Q){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=qY(Math.max(Math.min(1,$),0),3),this.l=qY(Math.max(Math.min(1,X),0),3),this.a=qY(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.l===$.l&&J.a===$.a}static fromRGBA(J){const $=J.r/255,X=J.g/255,Q=J.b/255,Y=J.a,Z=Math.max($,X,Q),G=Math.min($,X,Q);let q=0,U=0;const H=(G+Z)/2,z=Z-G;if(z>0){switch(U=Math.min(H<=0.5?z/(2*H):z/(2-2*H),1),Z){case $:q=(X-Q)/z+(X<Q?6:0);break;case X:q=(Q-$)/z+2;break;case Q:q=($-X)/z+4;break}q*=60,q=Math.round(q)}return new l9(q,U,H,Y)}static _hue2rgb(J,$,X){if(X<0)X+=1;if(X>1)X-=1;if(X<0.16666666666666666)return J+($-J)*6*X;if(X<0.5)return $;if(X<0.6666666666666666)return J+($-J)*(0.6666666666666666-X)*6;return J}static toRGBA(J){const $=J.h/360,{s:X,l:Q,a:Y}=J;let Z,G,q;if(X===0)Z=G=q=Q;else{const U=Q<0.5?Q*(1+X):Q+X-Q*X,H=2*Q-U;Z=l9._hue2rgb(H,U,$+0.3333333333333333),G=l9._hue2rgb(H,U,$),q=l9._hue2rgb(H,U,$-0.3333333333333333)}return new T1(Math.round(Z*255),Math.round(G*255),Math.round(q*255),Y)}}class _q{constructor(J,$,X,Q){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,J),0)|0,this.s=qY(Math.max(Math.min(1,$),0),3),this.v=qY(Math.max(Math.min(1,X),0),3),this.a=qY(Math.max(Math.min(1,Q),0),3)}static equals(J,$){return J.h===$.h&&J.s===$.s&&J.v===$.v&&J.a===$.a}static fromRGBA(J){const $=J.r/255,X=J.g/255,Q=J.b/255,Y=Math.max($,X,Q),Z=Math.min($,X,Q),G=Y-Z,q=Y===0?0:G/Y;let U;if(G===0)U=0;else if(Y===$)U=((X-Q)/G%6+6)%6;else if(Y===X)U=(Q-$)/G+2;else U=($-X)/G+4;return new _q(Math.round(U*60),q,Y,J.a)}static toRGBA(J){const{h:$,s:X,v:Q,a:Y}=J,Z=Q*X,G=Z*(1-Math.abs($/60%2-1)),q=Q-Z;let[U,H,z]=[0,0,0];if($<60)U=Z,H=G;else if($<120)U=G,H=Z;else if($<180)H=Z,z=G;else if($<240)H=G,z=Z;else if($<300)U=G,z=Z;else if($<=360)U=Z,z=G;return U=Math.round((U+q)*255),H=Math.round((H+q)*255),z=Math.round((z+q)*255),new T1(U,H,z,Y)}}class l{static fromHex(J){return l.Format.CSS.parseHex(J)||l.red}static equals(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;return J.equals($)}get hsla(){if(this._hsla)return this._hsla;else return l9.fromRGBA(this.rgba)}get hsva(){if(this._hsva)return this._hsva;return _q.fromRGBA(this.rgba)}constructor(J){if(!J)throw new Error("Color needs a value");else if(J instanceof T1)this.rgba=J;else if(J instanceof l9)this._hsla=J,this.rgba=l9.toRGBA(J);else if(J instanceof _q)this._hsva=J,this.rgba=_q.toRGBA(J);else throw new Error("Invalid color ctor argument")}equals(J){return!!J&&T1.equals(this.rgba,J.rgba)&&l9.equals(this.hsla,J.hsla)&&_q.equals(this.hsva,J.hsva)}getRelativeLuminance(){const J=l._relativeLuminanceForComponent(this.rgba.r),$=l._relativeLuminanceForComponent(this.rgba.g),X=l._relativeLuminanceForComponent(this.rgba.b),Q=0.2126*J+0.7152*$+0.0722*X;return qY(Q,4)}static _relativeLuminanceForComponent(J){const $=J/255;return $<=0.03928?$/12.92:Math.pow(($+0.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1000>=128}isLighterThan(J){const $=this.getRelativeLuminance(),X=J.getRelativeLuminance();return $>X}isDarkerThan(J){const $=this.getRelativeLuminance(),X=J.getRelativeLuminance();return $<X}lighten(J){return new l(new l9(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*J,this.hsla.a))}darken(J){return new l(new l9(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*J,this.hsla.a))}transparent(J){const{r:$,g:X,b:Q,a:Y}=this.rgba;return new l(new T1($,X,Q,Y*J))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new l(new T1(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(J){if(this.isOpaque()||J.rgba.a!==1)return this;const{r:$,g:X,b:Q,a:Y}=this.rgba;return new l(new T1(J.rgba.r-Y*(J.rgba.r-$),J.rgba.g-Y*(J.rgba.g-X),J.rgba.b-Y*(J.rgba.b-Q),1))}toString(){if(!this._toString)this._toString=l.Format.CSS.format(this);return this._toString}static getLighterColor(J,$,X){if(J.isLighterThan($))return J;X=X?X:0.5;const Q=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return X=X*(Y-Q)/Y,J.lighten(X)}static getDarkerColor(J,$,X){if(J.isDarkerThan($))return J;X=X?X:0.5;const Q=J.getRelativeLuminance(),Y=$.getRelativeLuminance();return X=X*(Q-Y)/Q,J.darken(X)}}var qY;var u5=N(()=>{qY=function(J,$){const X=Math.pow(10,$);return Math.round(J*X)/X};l.white=new l(new T1(255,255,255,1));l.black=new l(new T1(0,0,0,1));l.red=new l(new T1(255,0,0,1));l.blue=new l(new T1(0,0,255,1));l.green=new l(new T1(0,255,0,1));l.cyan=new l(new T1(0,255,255,1));l.lightgrey=new l(new T1(211,211,211,1));l.transparent=new l(new T1(0,0,0,0));(function(J){let $;(function(X){let Q;(function(Y){function Z(K){if(K.rgba.a===1)return`rgb(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b})`;return J.Format.CSS.formatRGBA(K)}Y.formatRGB=Z;function G(K){return`rgba(${K.rgba.r}, ${K.rgba.g}, ${K.rgba.b}, ${+K.rgba.a.toFixed(2)})`}Y.formatRGBA=G;function q(K){if(K.hsla.a===1)return`hsl(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%)`;return J.Format.CSS.formatHSLA(K)}Y.formatHSL=q;function U(K){return`hsla(${K.hsla.h}, ${(K.hsla.s*100).toFixed(2)}%, ${(K.hsla.l*100).toFixed(2)}%, ${K.hsla.a.toFixed(2)})`}Y.formatHSLA=U;function H(K){const P=K.toString(16);return P.length!==2?"0"+P:P}function z(K){return`#${H(K.rgba.r)}${H(K.rgba.g)}${H(K.rgba.b)}`}Y.formatHex=z;function V(K,P=!1){if(P&&K.rgba.a===1)return J.Format.CSS.formatHex(K);return`#${H(K.rgba.r)}${H(K.rgba.g)}${H(K.rgba.b)}${H(Math.round(K.rgba.a*255))}`}Y.formatHexA=V;function j(K){if(K.isOpaque())return J.Format.CSS.formatHex(K);return J.Format.CSS.formatRGBA(K)}Y.format=j;function W(K){const P=K.length;if(P===0)return null;if(K.charCodeAt(0)!==35)return null;if(P===7){const A=16*B(K.charCodeAt(1))+B(K.charCodeAt(2)),D=16*B(K.charCodeAt(3))+B(K.charCodeAt(4)),R=16*B(K.charCodeAt(5))+B(K.charCodeAt(6));return new J(new T1(A,D,R,1))}if(P===9){const A=16*B(K.charCodeAt(1))+B(K.charCodeAt(2)),D=16*B(K.charCodeAt(3))+B(K.charCodeAt(4)),R=16*B(K.charCodeAt(5))+B(K.charCodeAt(6)),M=16*B(K.charCodeAt(7))+B(K.charCodeAt(8));return new J(new T1(A,D,R,M/255))}if(P===4){const A=B(K.charCodeAt(1)),D=B(K.charCodeAt(2)),R=B(K.charCodeAt(3));return new J(new T1(16*A+A,16*D+D,16*R+R))}if(P===5){const A=B(K.charCodeAt(1)),D=B(K.charCodeAt(2)),R=B(K.charCodeAt(3)),M=B(K.charCodeAt(4));return new J(new T1(16*A+A,16*D+D,16*R+R,(16*M+M)/255))}return null}Y.parseHex=W;function B(K){switch(K){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(Q=X.CSS||(X.CSS={}))})($=J.Format||(J.Format={}))})(l||(l={}))});function Ef(J){if(!J||typeof J.getValue!=="function"||typeof J.positionAt!=="function")return[];return H70(J)}var Lf,gT,Hz,U70,_f,wf,zz,H70;var kf=N(()=>{u5();Lf=function(J){const $=[];for(let X of J){const Q=Number(X);if(Q||Q===0&&X.replace(/\s/g,"")!=="")$.push(Q)}return $},gT=function(J,$,X,Q){return{red:J/255,blue:X/255,green:$/255,alpha:Q}},Hz=function(J,$){const X=$.index,Q=$[0].length;if(!X)return;const Y=J.positionAt(X);return{startLineNumber:Y.lineNumber,startColumn:Y.column,endLineNumber:Y.lineNumber,endColumn:Y.column+Q}},U70=function(J,$){if(!J)return;const X=l.Format.CSS.parseHex($);if(!X)return;return{range:J,color:gT(X.rgba.r,X.rgba.g,X.rgba.b,X.rgba.a)}},_f=function(J,$,X){if(!J||$.length!==1)return;const Y=$[0].values(),Z=Lf(Y);return{range:J,color:gT(Z[0],Z[1],Z[2],X?Z[3]:1)}},wf=function(J,$,X){if(!J||$.length!==1)return;const Y=$[0].values(),Z=Lf(Y),G=new l(new l9(Z[0],Z[1]/100,Z[2]/100,X?Z[3]:1));return{range:J,color:gT(G.rgba.r,G.rgba.g,G.rgba.b,G.rgba.a)}},zz=function(J,$){if(typeof J==="string")return[...J.matchAll($)];else return J.findMatches($)},H70=function(J){const $=[],Q=zz(J,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(Q.length>0)for(let Y of Q){const Z=Y.filter((H)=>H!==void 0),G=Z[1],q=Z[2];if(!q)continue;let U;if(G==="rgb"){const H=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;U=_f(Hz(J,Y),zz(q,H),!1)}else if(G==="rgba"){const H=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=_f(Hz(J,Y),zz(q,H),!0)}else if(G==="hsl"){const H=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;U=wf(Hz(J,Y),zz(q,H),!1)}else if(G==="hsla"){const H=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;U=wf(Hz(J,Y),zz(q,H),!0)}else if(G==="#")U=U70(Hz(J,Y),G+q);if(U)$.push(U)}return $}});class If extends AT{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(J){const $=[];for(let X=0;X<this._lines.length;X++){const Q=this._lines[X],Y=this.offsetAt(new v(X+1,1)),Z=Q.matchAll(J);for(let G of Z){if(G.index||G.index===0)G.index=G.index+Y;$.push(G)}}return $}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(J){return this._lines[J-1]}getWordAtPosition(J,$){const X=hQ(J.column,$H($),this._lines[J.lineNumber-1],0);if(X)return new L(J.lineNumber,X.startColumn,J.lineNumber,X.endColumn);return null}words(J){const $=this._lines,X=this._wordenize.bind(this);let Q=0,Y="",Z=0,G=[];return{*[Symbol.iterator](){while(!0)if(Z<G.length){const q=Y.substring(G[Z].start,G[Z].end);Z+=1,yield q}else if(Q<$.length)Y=$[Q],G=X(Y,J),Z=0,Q+=1;else break}}}getLineWords(J,$){const X=this._lines[J-1],Q=this._wordenize(X,$),Y=[];for(let Z of Q)Y.push({word:X.substring(Z.start,Z.end),startColumn:Z.start+1,endColumn:Z.end+1});return Y}_wordenize(J,$){const X=[];let Q;$.lastIndex=0;while(Q=$.exec(J)){if(Q[0].length===0)break;X.push({start:Q.index,end:Q.index+Q[0].length})}return X}getValueInRange(J){if(J=this._validateRange(J),J.startLineNumber===J.endLineNumber)return this._lines[J.startLineNumber-1].substring(J.startColumn-1,J.endColumn-1);const $=this._eol,X=J.startLineNumber-1,Q=J.endLineNumber-1,Y=[];Y.push(this._lines[X].substring(J.startColumn-1));for(let Z=X+1;Z<Q;Z++)Y.push(this._lines[Z]);return Y.push(this._lines[Q].substring(0,J.endColumn-1)),Y.join($)}offsetAt(J){return J=this._validatePosition(J),this._ensureLineStarts(),this._lineStarts.getPrefixSum(J.lineNumber-2)+(J.column-1)}positionAt(J){J=Math.floor(J),J=Math.max(0,J),this._ensureLineStarts();const $=this._lineStarts.getIndexOf(J),X=this._lines[$.index].length;return{lineNumber:1+$.index,column:1+Math.min($.remainder,X)}}_validateRange(J){const $=this._validatePosition({lineNumber:J.startLineNumber,column:J.startColumn}),X=this._validatePosition({lineNumber:J.endLineNumber,column:J.endColumn});if($.lineNumber!==J.startLineNumber||$.column!==J.startColumn||X.lineNumber!==J.endLineNumber||X.column!==J.endColumn)return{startLineNumber:$.lineNumber,startColumn:$.column,endLineNumber:X.lineNumber,endColumn:X.column};return J}_validatePosition(J){if(!v.isIPosition(J))throw new Error("bad position");let{lineNumber:$,column:X}=J,Q=!1;if($<1)$=1,X=1,Q=!0;else if($>this._lines.length)$=this._lines.length,X=this._lines[$-1].length+1,Q=!0;else{const Y=this._lines[$-1].length+1;if(X<1)X=1,Q=!0;else if(X>Y)X=Y,Q=!0}if(!Q)return J;else return{lineNumber:$,column:X}}}class uX{constructor(J,$){this._host=J,this._models=Object.create(null),this._foreignModuleFactory=$,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(J){return this._models[J]}_getModels(){const J=[];return Object.keys(this._models).forEach(($)=>J.push(this._models[$])),J}acceptNewModel(J){this._models[J.url]=new If(I0.parse(J.url),J.lines,J.EOL,J.versionId)}acceptModelChanged(J,$){if(!this._models[J])return;this._models[J].onEvents($)}acceptRemovedModel(J){if(!this._models[J])return;delete this._models[J]}async computeUnicodeHighlights(J,$,X){const Q=this._getModel(J);if(!Q)return{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0};return TT.computeUnicodeHighlights(Q,$,X)}async computeDiff(J,$,X,Q){const Y=this._getModel(J),Z=this._getModel($);if(!Y||!Z)return null;return uX.computeDiff(Y,Z,X,Q)}static computeDiff(J,$,X,Q){const Y=Q==="advanced"?hT.getDefault():hT.getLegacy(),Z=J.getLinesContent(),G=$.getLinesContent(),q=Y.computeDiff(Z,G,X),U=q.changes.length>0?!1:this._modelsAreIdentical(J,$);function H(z){return z.map((V)=>{var j;return[V.original.startLineNumber,V.original.endLineNumberExclusive,V.modified.startLineNumber,V.modified.endLineNumberExclusive,(j=V.innerChanges)===null||j===void 0?void 0:j.map((W)=>[W.originalRange.startLineNumber,W.originalRange.startColumn,W.originalRange.endLineNumber,W.originalRange.endColumn,W.modifiedRange.startLineNumber,W.modifiedRange.startColumn,W.modifiedRange.endLineNumber,W.modifiedRange.endColumn])]})}return{identical:U,quitEarly:q.hitTimeout,changes:H(q.changes),moves:q.moves.map((z)=>[z.lineRangeMapping.original.startLineNumber,z.lineRangeMapping.original.endLineNumberExclusive,z.lineRangeMapping.modified.startLineNumber,z.lineRangeMapping.modified.endLineNumberExclusive,H(z.changes)])}}static _modelsAreIdentical(J,$){const X=J.getLineCount(),Q=$.getLineCount();if(X!==Q)return!1;for(let Y=1;Y<=X;Y++){const Z=J.getLineContent(Y),G=$.getLineContent(Y);if(Z!==G)return!1}return!0}async computeMoreMinimalEdits(J,$,X){const Q=this._getModel(J);if(!Q)return $;const Y=[];let Z=void 0;$=$.slice(0).sort((q,U)=>{if(q.range&&U.range)return L.compareRangesUsingStarts(q.range,U.range);const H=q.range?0:1,z=U.range?0:1;return H-z});let G=0;for(let q=1;q<$.length;q++)if(L.getEndPosition($[G].range).equals(L.getStartPosition($[q].range)))$[G].range=L.fromPositions(L.getStartPosition($[G].range),L.getEndPosition($[q].range)),$[G].text+=$[q].text;else G++,$[G]=$[q];$.length=G+1;for(let{range:q,text:U,eol:H}of $){if(typeof H==="number")Z=H;if(L.isEmpty(q)&&!U)continue;const z=Q.getValueInRange(q);if(U=U.replace(/\r\n|\n|\r/g,Q.eol),z===U)continue;if(Math.max(U.length,z.length)>uX._diffLimit){Y.push({range:q,text:U});continue}const V=vv(z,U,X),j=Q.offsetAt(L.lift(q).getStartPosition());for(let W of V){const B=Q.positionAt(j+W.originalStart),K=Q.positionAt(j+W.originalStart+W.originalLength),P={text:U.substr(W.modifiedStart,W.modifiedLength),range:{startLineNumber:B.lineNumber,startColumn:B.column,endLineNumber:K.lineNumber,endColumn:K.column}};if(Q.getValueInRange(P.range)!==P.text)Y.push(P)}}if(typeof Z==="number")Y.push({eol:Z,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});return Y}async computeLinks(J){const $=this._getModel(J);if(!$)return null;return pv($)}async computeDefaultDocumentColors(J){const $=this._getModel(J);if(!$)return null;return Ef($)}async textualSuggest(J,$,X,Q){const Y=new U6,Z=new RegExp(X,Q),G=new Set;J:for(let q of J){const U=this._getModel(q);if(!U)continue;for(let H of U.words(Z)){if(H===$||!isNaN(Number(H)))continue;if(G.add(H),G.size>uX._suggestionsLimit)break J}}return{words:Array.from(G),duration:Y.elapsed()}}async computeWordRanges(J,$,X,Q){const Y=this._getModel(J);if(!Y)return Object.create(null);const Z=new RegExp(X,Q),G=Object.create(null);for(let q=$.startLineNumber;q<$.endLineNumber;q++){const U=Y.getLineWords(q,Z);for(let H of U){if(!isNaN(Number(H.word)))continue;let z=G[H.word];if(!z)z=[],G[H.word]=z;z.push({startLineNumber:q,startColumn:H.startColumn,endLineNumber:q,endColumn:H.endColumn})}}return G}async navigateValueSet(J,$,X,Q,Y){const Z=this._getModel(J);if(!Z)return null;const G=new RegExp(Q,Y);if($.startColumn===$.endColumn)$={startLineNumber:$.startLineNumber,startColumn:$.startColumn,endLineNumber:$.endLineNumber,endColumn:$.endColumn+1};const q=Z.getValueInRange($),U=Z.getWordAtPosition({lineNumber:$.startLineNumber,column:$.startColumn},G);if(!U)return null;const H=Z.getValueInRange(U);return tH.INSTANCE.navigateValueSet($,q,U,H,X)}loadForeignModule(J,$,X){const Z={host:jC(X,(G,q)=>{return this._host.fhr(G,q)}),getMirrorModels:()=>{return this._getModels()}};if(this._foreignModuleFactory)return this._foreignModule=this._foreignModuleFactory(Z,$),Promise.resolve(vQ(this._foreignModule));return Promise.reject(new Error("Unexpected usage"))}fmr(J,$){if(!this._foreignModule||typeof this._foreignModule[J]!=="function")return Promise.reject(new Error("Missing requestHandler or method: "+J));try{return Promise.resolve(this._foreignModule[J].apply(this._foreignModule,$))}catch(X){return Promise.reject(X)}}}var yf=N(()=>{$K();e8();U1();c0();fv();p2();mv();uv();mM();X$();av();Nf();B5();kf();uX._diffLimit=1e5;uX._suggestionsLimit=1e4;if(typeof importScripts==="function")globalThis.monaco=lB()});var HK,zK;var VK=N(()=>{m0();HK=M0("textResourceConfigurationService"),zK=M0("textResourcePropertiesService")});var K1;var d9=N(()=>{m0();K1=M0("ILanguageFeaturesService")});class xf{constructor(J,$,X,Q){this.languageConfigurationService=Q,this._debugDisplayName="wordbasedCompletions",this._workerManager=J,this._configurationService=$,this._modelService=X}async provideCompletionItems(J,$){const X=this._configurationService.getValue(J.uri,$,"editor");if(X.wordBasedSuggestions==="off")return;const Q=[];if(X.wordBasedSuggestions==="currentDocument"){if(RG(this._modelService,J.uri))Q.push(J.uri)}else for(let z of this._modelService.getModels()){if(!RG(this._modelService,z.uri))continue;if(z===J)Q.unshift(z.uri);else if(X.wordBasedSuggestions==="allDocuments"||z.getLanguageId()===J.getLanguageId())Q.push(z.uri)}if(Q.length===0)return;const Y=this.languageConfigurationService.getLanguageConfiguration(J.getLanguageId()).getWordDefinition(),Z=J.getWordAtPosition($),G=!Z?L.fromPositions($):new L($.lineNumber,Z.startColumn,$.lineNumber,Z.endColumn),q=G.setEndPosition($.lineNumber,$.column),H=await(await this._workerManager.withWorker()).textualSuggest(Q,Z===null||Z===void 0?void 0:Z.word,Y);if(!H)return;return{duration:H.duration,suggestions:H.words.map((z)=>{return{kind:18,label:z,insertText:z,range:{insert:q,replace:G}}})}}}class bf extends f{constructor(J,$){super();this.languageConfigurationService=$,this._modelService=J,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date()).getTime(),this._register(new tZ).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Cf/2),PX),this._register(this._modelService.onModelRemoved((Q)=>this._checkStopEmptyWorker()))}dispose(){if(this._editorWorkerClient)this._editorWorkerClient.dispose(),this._editorWorkerClient=null;super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;if(this._modelService.getModels().length===0)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;if((new Date()).getTime()-this._lastWorkerUsedTime>Cf)this._editorWorkerClient.dispose(),this._editorWorkerClient=null}withWorker(){if(this._lastWorkerUsedTime=(new Date()).getTime(),!this._editorWorkerClient)this._editorWorkerClient=new BK(this._modelService,!1,"editorWorkerService",this.languageConfigurationService);return Promise.resolve(this._editorWorkerClient)}}class vf extends f{constructor(J,$,X){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=J,this._modelService=$,!X){const Q=new nZ;Q.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Sf/2)),this._register(Q)}}dispose(){for(let J in this._syncedModels)k1(this._syncedModels[J]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(J,$){for(let X of J){const Q=X.toString();if(!this._syncedModels[Q])this._beginModelSync(X,$);if(this._syncedModels[Q])this._syncedModelsLastUsedTime[Q]=(new Date()).getTime()}}_checkStopModelSync(){const J=(new Date()).getTime(),$=[];for(let X in this._syncedModelsLastUsedTime)if(J-this._syncedModelsLastUsedTime[X]>Sf)$.push(X);for(let X of $)this._stopModelSync(X)}_beginModelSync(J,$){const X=this._modelService.getModel(J);if(!X)return;if(!$&&X.isTooLargeForSyncing())return;const Q=J.toString();this._proxy.acceptNewModel({url:X.uri.toString(),lines:X.getLinesContent(),EOL:X.getEOL(),versionId:X.getVersionId()});const Y=new r;Y.add(X.onDidChangeContent((Z)=>{this._proxy.acceptModelChanged(Q.toString(),Z)})),Y.add(X.onWillDispose(()=>{this._stopModelSync(Q)})),Y.add(K0(()=>{this._proxy.acceptRemovedModel(Q)})),this._syncedModels[Q]=Y}_stopModelSync(J){const $=this._syncedModels[J];delete this._syncedModels[J],delete this._syncedModelsLastUsedTime[J],k1($)}}class pT{constructor(J){this._instance=J,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class jK{constructor(J){this._workerClient=J}fhr(J,$){return this._workerClient.fhr(J,$)}}class BK extends f{constructor(J,$,X,Q){super();this.languageConfigurationService=Q,this._disposed=!1,this._modelService=J,this._keepIdleModels=$,this._workerFactory=new uH(X),this._worker=null,this._modelManager=null}fhr(J,$){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new xO(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new jK(this)))}catch(J){mH(J),this._worker=new pT(new uX(new jK(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(J)=>{return mH(J),this._worker=new pT(new uX(new jK(this),null)),this._getOrCreateWorker().getProxyObject()})}_getOrCreateModelManager(J){if(!this._modelManager)this._modelManager=this._register(new vf(J,this._modelService,this._keepIdleModels));return this._modelManager}async _withSyncedResources(J,$=!1){if(this._disposed)return Promise.reject(Vx());return this._getProxy().then((X)=>{return this._getOrCreateModelManager(X).ensureSyncedResources(J,$),X})}computedUnicodeHighlights(J,$,X){return this._withSyncedResources([J]).then((Q)=>{return Q.computeUnicodeHighlights(J.toString(),$,X)})}computeDiff(J,$,X,Q){return this._withSyncedResources([J,$],!0).then((Y)=>{return Y.computeDiff(J.toString(),$.toString(),X,Q)})}computeMoreMinimalEdits(J,$,X){return this._withSyncedResources([J]).then((Q)=>{return Q.computeMoreMinimalEdits(J.toString(),$,X)})}computeLinks(J){return this._withSyncedResources([J]).then(($)=>{return $.computeLinks(J.toString())})}computeDefaultDocumentColors(J){return this._withSyncedResources([J]).then(($)=>{return $.computeDefaultDocumentColors(J.toString())})}async textualSuggest(J,$,X){const Q=await this._withSyncedResources(J),Y=X.source,Z=X.flags;return Q.textualSuggest(J.map((G)=>G.toString()),$,Y,Z)}computeWordRanges(J,$){return this._withSyncedResources([J]).then((X)=>{const Q=this._modelService.getModel(J);if(!Q)return Promise.resolve(null);const Y=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId()).getWordDefinition(),Z=Y.source,G=Y.flags;return X.computeWordRanges(J.toString(),$,Z,G)})}navigateValueSet(J,$,X){return this._withSyncedResources([J]).then((Q)=>{const Y=this._modelService.getModel(J);if(!Y)return null;const Z=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition(),G=Z.source,q=Z.flags;return Q.navigateValueSet(J.toString(),$,X,G,q)})}dispose(){super.dispose(),this._disposed=!0}}var RG,z70,Vz,Sf,Cf,WK;var mT=N(()=>{u1();X0();fO();Qv();c0();g7();yf();_X();VK();H1();U9();X$();D1();d9();ZK();GY();m5();X7();D0();RG=function(J,$){const X=J.getModel($);if(!X)return!1;if(X.isTooLargeForSyncing())return!1;return!0},z70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Vz=function(J,$){return function(X,Q){$(X,Q,J)}},Sf=60000,Cf=300000,WK=class J extends f{constructor($,X,Q,Y,Z){super();this._modelService=$,this._workerManager=this._register(new bf(this._modelService,Y)),this._logService=Q,this._register(Z.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(G,q)=>{if(!RG(this._modelService,G.uri))return Promise.resolve({links:[]});return this._workerManager.withWorker().then((U)=>U.computeLinks(G.uri)).then((U)=>{return U&&{links:U}})}})),this._register(Z.completionProvider.register("*",new xf(this._workerManager,X,this._modelService,Y)))}dispose(){super.dispose()}canComputeUnicodeHighlights($){return RG(this._modelService,$)}computedUnicodeHighlights($,X,Q){return this._workerManager.withWorker().then((Y)=>Y.computedUnicodeHighlights($,X,Q))}async computeDiff($,X,Q,Y){const Z=await this._workerManager.withWorker().then((U)=>U.computeDiff($,X,Q,Y));if(!Z)return null;return{identical:Z.identical,quitEarly:Z.quitEarly,changes:q(Z.changes),moves:Z.moves.map((U)=>new $z(new Y7(new S0(U[0],U[1]),new S0(U[2],U[3])),q(U[4])))};function q(U){return U.map((H)=>{var z;return new D5(new S0(H[0],H[1]),new S0(H[2],H[3]),(z=H[4])===null||z===void 0?void 0:z.map((V)=>new c9(new L(V[0],V[1],V[2],V[3]),new L(V[4],V[5],V[6],V[7]))))})}}computeMoreMinimalEdits($,X,Q=!1){if(T9(X)){if(!RG(this._modelService,$))return Promise.resolve(X);const Y=U6.create(),Z=this._workerManager.withWorker().then((G)=>G.computeMoreMinimalEdits($,X,Q));return Z.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",$.toString(!0),Y.elapsed())),Promise.race([Z,IX(1000).then(()=>X)])}else return Promise.resolve(void 0)}canNavigateValueSet($){return RG(this._modelService,$)}navigateValueSet($,X,Q){return this._workerManager.withWorker().then((Y)=>Y.navigateValueSet($,X,Q))}canComputeWordRanges($){return RG(this._modelService,$)}computeWordRanges($,X){return this._workerManager.withWorker().then((Q)=>Q.computeWordRanges($,X))}};WK=z70([Vz(0,j6),Vz(1,HK),Vz(2,Y6),Vz(3,N8),Vz(4,K1)],WK)});function ff(J,$,X){return new hf(J,$,X)}class hf extends BK{constructor(J,$,X){super(J,X.keepIdleModels||!1,X.label,$);this._foreignModuleId=X.moduleId,this._foreignModuleCreateData=X.createData||null,this._foreignModuleHost=X.host||null,this._foreignProxy=null}fhr(J,$){if(!this._foreignModuleHost||typeof this._foreignModuleHost[J]!=="function")return Promise.reject(new Error("Missing method "+J+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[J].apply(this._foreignModuleHost,$))}catch(X){return Promise.reject(X)}}_getForeignProxy(){if(!this._foreignProxy)this._foreignProxy=this._getProxy().then((J)=>{const $=this._foreignModuleHost?vQ(this._foreignModuleHost):[];return J.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,$).then((X)=>{this._foreignModuleCreateData=null;const Q=(G,q)=>{return J.fmr(G,q)},Y=(G,q)=>{return function(){const U=Array.prototype.slice.call(arguments,0);return q(G,U)}},Z={};for(let G of X)Z[G]=Y(G,Q);return Z})});return this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(J){return this._withSyncedResources(J).then(($)=>this.getProxy())}}var gf=N(()=>{B5();mT()});var UY;var jz=N(()=>{UY={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}});function FK(J,$){return new fZ([new Q$(0,"",J)],$)}function wq(J,$){const X=new Uint32Array(2);return X[0]=0,X[1]=(J<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new dQ(X,$===null?HY:$)}var HY;var Wz=N(()=>{M7();HY=new class{clone(){return this}equals(J){return this===J}}});class d6{static getLanguageId(J){return(J&255)>>>0}static getTokenType(J){return(J&768)>>>8}static containsBalancedBrackets(J){return(J&1024)!==0}static getFontStyle(J){return(J&30720)>>>11}static getForeground(J){return(J&16744448)>>>15}static getBackground(J){return(J&4278190080)>>>24}static getClassNameFromMetadata(J){let X="mtk"+this.getForeground(J);const Q=this.getFontStyle(J);if(Q&1)X+=" mtki";if(Q&2)X+=" mtkb";if(Q&4)X+=" mtku";if(Q&8)X+=" mtks";return X}static getInlineStyleFromMetadata(J,$){const X=this.getForeground(J),Q=this.getFontStyle(J);let Y=`color: ${$[X]};`;if(Q&1)Y+="font-style: italic;";if(Q&2)Y+="font-weight: bold;";let Z="";if(Q&4)Z+=" underline";if(Q&8)Z+=" line-through";if(Z)Y+=`text-decoration:${Z};`;return Y}static getPresentationFromMetadata(J){const $=this.getForeground(J),X=this.getFontStyle(J);return{foreground:$,italic:Boolean(X&1),bold:Boolean(X&2),underline:Boolean(X&4),strikethrough:Boolean(X&8)}}}var Lq=N(()=>{});class _8{static createEmpty(J,$){const X=_8.defaultTokenMetadata,Q=new Uint32Array(2);return Q[0]=J.length,Q[1]=X,new _8(Q,J,$)}constructor(J,$,X){this._lineTokensBrand=void 0,this._tokens=J,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=X}equals(J){if(J instanceof _8)return this.slicedEquals(J,0,this._tokensCount);return!1}slicedEquals(J,$,X){if(this._text!==J._text)return!1;if(this._tokensCount!==J._tokensCount)return!1;const Q=$<<1,Y=Q+(X<<1);for(let Z=Q;Z<Y;Z++)if(this._tokens[Z]!==J._tokens[Z])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(J){if(J>0)return this._tokens[J-1<<1];return 0}getMetadata(J){return this._tokens[(J<<1)+1]}getLanguageId(J){const $=this._tokens[(J<<1)+1],X=d6.getLanguageId($);return this._languageIdCodec.decodeLanguageId(X)}getStandardTokenType(J){const $=this._tokens[(J<<1)+1];return d6.getTokenType($)}getForeground(J){const $=this._tokens[(J<<1)+1];return d6.getForeground($)}getClassName(J){const $=this._tokens[(J<<1)+1];return d6.getClassNameFromMetadata($)}getInlineStyle(J,$){const X=this._tokens[(J<<1)+1];return d6.getInlineStyleFromMetadata(X,$)}getPresentation(J){const $=this._tokens[(J<<1)+1];return d6.getPresentationFromMetadata($)}getEndOffset(J){return this._tokens[J<<1]}findTokenIndexAtOffset(J){return _8.findIndexInTokensArray(this._tokens,J)}inflate(){return this}sliceAndInflate(J,$,X){return new uT(this,J,$,X)}static convertToEndOffset(J,$){const Q=(J.length>>>1)-1;for(let Y=0;Y<Q;Y++)J[Y<<1]=J[Y+1<<1];J[Q<<1]=$}static findIndexInTokensArray(J,$){if(J.length<=2)return 0;let X=0,Q=(J.length>>>1)-1;while(X<Q){const Y=X+Math.floor((Q-X)/2),Z=J[Y<<1];if(Z===$)return Y+1;else if(Z<$)X=Y+1;else if(Z>$)Q=Y}return X}withInserted(J){if(J.length===0)return this;let $=0,X=0,Q="";const Y=new Array;let Z=0;while(!0){const G=$<this._tokensCount?this._tokens[$<<1]:-1,q=X<J.length?J[X]:null;if(G!==-1&&(q===null||G<=q.offset)){Q+=this._text.substring(Z,G);const U=this._tokens[($<<1)+1];Y.push(Q.length,U),$++,Z=G}else if(q){if(q.offset>Z){Q+=this._text.substring(Z,q.offset);const U=this._tokens[($<<1)+1];Y.push(Q.length,U),Z=q.offset}Q+=q.text,Y.push(Q.length,q.tokenMetadata),X++}else break}return new _8(new Uint32Array(Y),Q,this._languageIdCodec)}}class uT{constructor(J,$,X,Q){this._source=J,this._startOffset=$,this._endOffset=X,this._deltaOffset=Q,this._firstTokenIndex=J.findTokenIndexAtOffset($),this._tokensCount=0;for(let Y=this._firstTokenIndex,Z=J.getCount();Y<Z;Y++){if(J.getStartOffset(Y)>=X)break;this._tokensCount++}}getMetadata(J){return this._source.getMetadata(this._firstTokenIndex+J)}getLanguageId(J){return this._source.getLanguageId(this._firstTokenIndex+J)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(J){if(J instanceof uT)return this._startOffset===J._startOffset&&this._endOffset===J._endOffset&&this._deltaOffset===J._deltaOffset&&this._source.slicedEquals(J._source,this._firstTokenIndex,this._tokensCount);return!1}getCount(){return this._tokensCount}getForeground(J){return this._source.getForeground(this._firstTokenIndex+J)}getEndOffset(J){const $=this._source.getEndOffset(this._firstTokenIndex+J);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(J){return this._source.getClassName(this._firstTokenIndex+J)}getInlineStyle(J,$){return this._source.getInlineStyle(this._firstTokenIndex+J,$)}getPresentation(J){return this._source.getPresentation(this._firstTokenIndex+J)}findTokenIndexAtOffset(J){return this._source.findTokenIndexAtOffset(J+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}var cX=N(()=>{Lq();_8.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0});class c5{constructor(J,$,X,Q){this.startColumn=J,this.endColumn=$,this.className=X,this.type=Q,this._lineDecorationBrand=void 0}static _equals(J,$){return J.startColumn===$.startColumn&&J.endColumn===$.endColumn&&J.className===$.className&&J.type===$.type}static equalsArr(J,$){const X=J.length,Q=$.length;if(X!==Q)return!1;for(let Y=0;Y<X;Y++)if(!c5._equals(J[Y],$[Y]))return!1;return!0}static extractWrapped(J,$,X){if(J.length===0)return J;const Q=$+1,Y=X+1,Z=X-$,G=[];let q=0;for(let U of J){if(U.endColumn<=Q||U.startColumn>=Y)continue;G[q++]=new c5(Math.max(1,U.startColumn-Q+1),Math.min(Z+1,U.endColumn-Q+1),U.className,U.type)}return G}static filter(J,$,X,Q){if(J.length===0)return[];const Y=[];let Z=0;for(let G=0,q=J.length;G<q;G++){const U=J[G],H=U.range;if(H.endLineNumber<$||H.startLineNumber>$)continue;if(H.isEmpty()&&(U.type===0||U.type===3))continue;const z=H.startLineNumber===$?H.startColumn:X,V=H.endLineNumber===$?H.endColumn:Q;Y[Z++]=new c5(z,V,U.inlineClassName,U.type)}return Y}static _typeCompare(J,$){const X=[2,0,1,3];return X[J]-X[$]}static compare(J,$){if(J.startColumn!==$.startColumn)return J.startColumn-$.startColumn;if(J.endColumn!==$.endColumn)return J.endColumn-$.endColumn;const X=c5._typeCompare(J.type,$.type);if(X!==0)return X;if(J.className!==$.className)return J.className<$.className?-1:1;return 0}}class cT{constructor(J,$,X,Q){this.startOffset=J,this.endOffset=$,this.className=X,this.metadata=Q}}class KK{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(J){let $=0;for(let X=0,Q=J.length;X<Q;X++)$|=J[X];return $}consumeLowerThan(J,$,X){while(this.count>0&&this.stopOffsets[0]<J){let Q=0;while(Q+1<this.count&&this.stopOffsets[Q]===this.stopOffsets[Q+1])Q++;X.push(new cT($,this.stopOffsets[Q],this.classNames.join(" "),KK._metadata(this.metadata))),$=this.stopOffsets[Q]+1,this.stopOffsets.splice(0,Q+1),this.classNames.splice(0,Q+1),this.metadata.splice(0,Q+1),this.count-=Q+1}if(this.count>0&&$<J)X.push(new cT($,J-1,this.classNames.join(" "),KK._metadata(this.metadata))),$=J;return $}insert(J,$,X){if(this.count===0||this.stopOffsets[this.count-1]<=J)this.stopOffsets.push(J),this.classNames.push($),this.metadata.push(X);else for(let Q=0;Q<this.count;Q++)if(this.stopOffsets[Q]>=J){this.stopOffsets.splice(Q,0,J),this.classNames.splice(Q,0,$),this.metadata.splice(Q,0,X);break}this.count++;return}}class lT{static normalize(J,$){if($.length===0)return[];const X=[],Q=new KK;let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];let{startColumn:U,endColumn:H}=q;const z=q.className,V=q.type===1?2:q.type===2?4:0;if(U>1){const B=J.charCodeAt(U-2);if(U8(B))U--}if(H>1){const B=J.charCodeAt(H-2);if(U8(B))H--}const j=U-1,W=H-2;if(Y=Q.consumeLowerThan(j,Y,X),Q.count===0)Y=j;Q.insert(W,z,V)}return Q.consumeLowerThan(1073741824,Y,X),X}}var AK=N(()=>{o0()});class K6{constructor(J,$,X,Q){this.endIndex=J,this.type=$,this.metadata=X,this.containsRTL=Q,this._linePartBrand=void 0}isWhitespace(){return this.metadata&1?!0:!1}isPseudoAfter(){return this.metadata&4?!0:!1}}var mf=N(()=>{});function Fz(J,$){if(J.lineContent.length===0){if(J.lineDecorations.length>0){$.appendString("<span>");let X=0,Q=0,Y=0;for(let G of J.lineDecorations)if(G.type===1||G.type===2){if($.appendString('<span class="'),$.appendString(G.className),$.appendString('"></span>'),G.type===1)Y|=1,X++;if(G.type===2)Y|=2,Q++}$.appendString("</span>");const Z=new F$(1,X+Q);return Z.setColumnInfo(1,X,0,0),new PK(Z,!1,Y)}return $.appendString("<span><span></span></span>"),new PK(new F$(0,0),!1,0)}return A70(V70(J),$)}function Eq(J){const $=new xX(1e4),X=Fz(J,$);return new uf(X.characterMapping,$.build(),X.containsRTL,X.containsForeignElements)}class Bz{constructor(J,$){this.startOffset=J,this.endOffset=$}equals(J){return this.startOffset===J.startOffset&&this.endOffset===J.endOffset}}class B4{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,j,W,B,K,P,A,D){this.useMonospaceOptimizations=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=X,this.continuesWithWrappedLine=Q,this.isBasicASCII=Y,this.containsRTL=Z,this.fauxIndentLength=G,this.lineTokens=q,this.lineDecorations=U.sort(c5.compare),this.tabSize=H,this.startVisibleColumn=z,this.spaceWidth=V,this.stopRenderingLineAfter=B,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=P,this.fontLigatures=A,this.selectionsOnLine=D&&D.sort((O,_)=>O.startOffset<_.startOffset?-1:1);const R=Math.abs(W-V),M=Math.abs(j-V);if(R<M)this.renderSpaceWidth=W,this.renderSpaceCharCode=11825;else this.renderSpaceWidth=j,this.renderSpaceCharCode=183}sameSelection(J){if(this.selectionsOnLine===null)return J===null;if(J===null)return!1;if(J.length!==this.selectionsOnLine.length)return!1;for(let $=0;$<this.selectionsOnLine.length;$++)if(!this.selectionsOnLine[$].equals(J[$]))return!1;return!0}equals(J){return this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineContent===J.lineContent&&this.continuesWithWrappedLine===J.continuesWithWrappedLine&&this.isBasicASCII===J.isBasicASCII&&this.containsRTL===J.containsRTL&&this.fauxIndentLength===J.fauxIndentLength&&this.tabSize===J.tabSize&&this.startVisibleColumn===J.startVisibleColumn&&this.spaceWidth===J.spaceWidth&&this.renderSpaceWidth===J.renderSpaceWidth&&this.renderSpaceCharCode===J.renderSpaceCharCode&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.fontLigatures===J.fontLigatures&&c5.equalsArr(this.lineDecorations,J.lineDecorations)&&this.lineTokens.equals(J.lineTokens)&&this.sameSelection(J.selectionsOnLine)}}class DK{constructor(J,$){this.partIndex=J,this.charIndex=$}}class F${static getPartIndex(J){return(J&4294901760)>>>16}static getCharIndex(J){return(J&65535)>>>0}constructor(J,$){this.length=J,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(J,$,X,Q){const Y=($<<16|X<<0)>>>0;this._data[J-1]=Y,this._horizontalOffset[J-1]=Q}getHorizontalOffset(J){if(this._horizontalOffset.length===0)return 0;return this._horizontalOffset[J-1]}charOffsetToPartData(J){if(this.length===0)return 0;if(J<0)return this._data[0];if(J>=this.length)return this._data[this.length-1];return this._data[J]}getDomPosition(J){const $=this.charOffsetToPartData(J-1),X=F$.getPartIndex($),Q=F$.getCharIndex($);return new DK(X,Q)}getColumn(J,$){return this.partDataToCharOffset(J.partIndex,$,J.charIndex)+1}partDataToCharOffset(J,$,X){if(this.length===0)return 0;const Q=(J<<16|X<<0)>>>0;let Y=0,Z=this.length-1;while(Y+1<Z){const B=Y+Z>>>1,K=this._data[B];if(K===Q)return B;else if(K>Q)Z=B;else Y=B}if(Y===Z)return Y;const G=this._data[Y],q=this._data[Z];if(G===Q)return Y;if(q===Q)return Z;const U=F$.getPartIndex(G),H=F$.getCharIndex(G),z=F$.getPartIndex(q);let V;if(U!==z)V=$;else V=F$.getCharIndex(q);const j=X-H,W=V-X;if(j<=W)return Y;return Z}}class PK{constructor(J,$,X){this._renderLineOutputBrand=void 0,this.characterMapping=J,this.containsRTL=$,this.containsForeignElements=X}}class uf{constructor(J,$,X,Q){this.characterMapping=J,this.html=$,this.containsRTL=X,this.containsForeignElements=Q}}class cf{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,j,W,B,K){this.fontIsMonospace=J,this.canUseHalfwidthRightwardsArrow=$,this.lineContent=X,this.len=Q,this.isOverflowing=Y,this.overflowingCharCount=Z,this.parts=G,this.containsForeignElements=q,this.fauxIndentLength=U,this.tabSize=H,this.startVisibleColumn=z,this.containsRTL=V,this.spaceWidth=j,this.renderSpaceCharCode=W,this.renderWhitespace=B,this.renderControlCharacters=K}}var V70,j70,W70,lf,B70,F70,K70,A70,P70,D70;var kq=N(()=>{h0();o0();YG();AK();mf();V70=function(J){const $=J.lineContent;let X,Q,Y;if(J.stopRenderingLineAfter!==-1&&J.stopRenderingLineAfter<$.length)X=!0,Q=$.length-J.stopRenderingLineAfter,Y=J.stopRenderingLineAfter;else X=!1,Q=0,Y=$.length;let Z=j70($,J.containsRTL,J.lineTokens,J.fauxIndentLength,Y);if(J.renderControlCharacters&&!J.isBasicASCII)Z=B70($,Z);if(J.renderWhitespace===4||J.renderWhitespace===1||J.renderWhitespace===2&&!!J.selectionsOnLine||J.renderWhitespace===3&&!J.continuesWithWrappedLine)Z=F70(J,$,Y,Z);let G=0;if(J.lineDecorations.length>0){for(let q=0,U=J.lineDecorations.length;q<U;q++){const H=J.lineDecorations[q];if(H.type===3)G|=1;else if(H.type===1)G|=1;else if(H.type===2)G|=2}Z=K70($,Y,Z,J.lineDecorations)}if(!J.containsRTL)Z=W70($,Z,!J.isBasicASCII||J.fontLigatures);return new cf(J.useMonospaceOptimizations,J.canUseHalfwidthRightwardsArrow,$,Y,X,Q,Z,G,J.fauxIndentLength,J.tabSize,J.startVisibleColumn,J.containsRTL,J.spaceWidth,J.renderSpaceCharCode,J.renderWhitespace,J.renderControlCharacters)},j70=function(J,$,X,Q,Y){const Z=[];let G=0;if(Q>0)Z[G++]=new K6(Q,"",0,!1);let q=Q;for(let U=0,H=X.getCount();U<H;U++){const z=X.getEndOffset(U);if(z<=Q)continue;const V=X.getClassName(U);if(z>=Y){const W=$?MX(J.substring(q,Y)):!1;Z[G++]=new K6(Y,V,0,W);break}const j=$?MX(J.substring(q,z)):!1;Z[G++]=new K6(z,V,0,j),q=z}return Z},W70=function(J,$,X){let Q=0;const Y=[];let Z=0;if(X)for(let G=0,q=$.length;G<q;G++){const U=$[G],H=U.endIndex;if(Q+50<H){const{type:z,metadata:V,containsRTL:j}=U;let W=-1,B=Q;for(let K=Q;K<H;K++){if(J.charCodeAt(K)===32)W=K;if(W!==-1&&K-B>=50)Y[Z++]=new K6(W+1,z,V,j),B=W+1,W=-1}if(B!==H)Y[Z++]=new K6(H,z,V,j)}else Y[Z++]=U;Q=H}else for(let G=0,q=$.length;G<q;G++){const U=$[G],H=U.endIndex,z=H-Q;if(z>50){const{type:V,metadata:j,containsRTL:W}=U,B=Math.ceil(z/50);for(let K=1;K<B;K++){const P=Q+K*50;Y[Z++]=new K6(P,V,j,W)}Y[Z++]=new K6(H,V,j,W)}else Y[Z++]=U;Q=H}return Y},lf=function(J){if(J<32)return J!==9;if(J===127)return!0;if(J>=8234&&J<=8238||J>=8294&&J<=8297||J>=8206&&J<=8207||J===1564)return!0;return!1},B70=function(J,$){const X=[];let Q=new K6(0,"",0,!1),Y=0;for(let Z of $){const G=Z.endIndex;for(;Y<G;Y++){const q=J.charCodeAt(Y);if(lf(q)){if(Y>Q.endIndex)Q=new K6(Y,Z.type,Z.metadata,Z.containsRTL),X.push(Q);Q=new K6(Y+1,"mtkcontrol",Z.metadata,!1),X.push(Q)}}if(Y>Q.endIndex)Q=new K6(G,Z.type,Z.metadata,Z.containsRTL),X.push(Q)}return X},F70=function(J,$,X,Q){const{continuesWithWrappedLine:Y,fauxIndentLength:Z,tabSize:G,startVisibleColumn:q,useMonospaceOptimizations:U,selectionsOnLine:H}=J,z=J.renderWhitespace===1,V=J.renderWhitespace===3,j=J.renderSpaceWidth!==J.spaceWidth,W=[];let B=0,K=0,P=Q[K].type,A=Q[K].containsRTL,D=Q[K].endIndex;const R=Q.length;let M=!1,O=S8($),_;if(O===-1)M=!0,O=X,_=X;else _=Z9($);let w=!1,C=0,x=H&&H[C],g=q%G;for(let b=Z;b<X;b++){const u=$.charCodeAt(b);if(x&&b>=x.endOffset)C++,x=H&&H[C];let i;if(b<O||b>_)i=!0;else if(u===9)i=!0;else if(u===32)if(z)if(w)i=!0;else{const Y0=b+1<X?$.charCodeAt(b+1):0;i=Y0===32||Y0===9}else i=!0;else i=!1;if(i&&H)i=!!x&&x.startOffset<=b&&x.endOffset>b;if(i&&V)i=M||b>_;if(i&&A){if(b>=O&&b<=_)i=!1}if(w){if(!i||!U&&g>=G){if(j){const Y0=B>0?W[B-1].endIndex:Z;for(let P0=Y0+1;P0<=b;P0++)W[B++]=new K6(P0,"mtkw",1,!1)}else W[B++]=new K6(b,"mtkw",1,!1);g=g%G}}else if(b===D||i&&b>Z)W[B++]=new K6(b,P,0,A),g=g%G;if(u===9)g=G;else if(L9(u))g+=2;else g++;w=i;while(b===D)if(K++,K<R)P=Q[K].type,A=Q[K].containsRTL,D=Q[K].endIndex;else break}let c=!1;if(w)if(Y&&z){const b=X>0?$.charCodeAt(X-1):0,u=X>1?$.charCodeAt(X-2):0;if(!(b===32&&(u!==32&&u!==9)))c=!0}else c=!0;if(c)if(j){const b=B>0?W[B-1].endIndex:Z;for(let u=b+1;u<=X;u++)W[B++]=new K6(u,"mtkw",1,!1)}else W[B++]=new K6(X,"mtkw",1,!1);else W[B++]=new K6(X,P,0,A);return W},K70=function(J,$,X,Q){Q.sort(c5.compare);const Y=lT.normalize(J,Q),Z=Y.length;let G=0;const q=[];let U=0,H=0;for(let V=0,j=X.length;V<j;V++){const W=X[V],B=W.endIndex,K=W.type,P=W.metadata,A=W.containsRTL;while(G<Z&&Y[G].startOffset<B){const D=Y[G];if(D.startOffset>H)H=D.startOffset,q[U++]=new K6(H,K,P,A);if(D.endOffset+1<=B)H=D.endOffset+1,q[U++]=new K6(H,K+" "+D.className,P|D.metadata,A),G++;else{H=B,q[U++]=new K6(H,K+" "+D.className,P|D.metadata,A);break}}if(B>H)H=B,q[U++]=new K6(H,K,P,A)}const z=X[X.length-1].endIndex;if(G<Z&&Y[G].startOffset===z)while(G<Z&&Y[G].startOffset===z){const V=Y[G];q[U++]=new K6(H,V.className,V.metadata,!1),G++}return q},A70=function(J,$){const{fontIsMonospace:X,canUseHalfwidthRightwardsArrow:Q,containsForeignElements:Y,lineContent:Z,len:G,isOverflowing:q,overflowingCharCount:U,parts:H,fauxIndentLength:z,tabSize:V,startVisibleColumn:j,containsRTL:W,spaceWidth:B,renderSpaceCharCode:K,renderWhitespace:P,renderControlCharacters:A}=J,D=new F$(G+1,H.length);let R=!1,M=0,O=j,_=0,w=0,C=0;if(W)$.appendString('<span dir="ltr">');else $.appendString("<span>");for(let x=0,g=H.length;x<g;x++){const c=H[x],b=c.endIndex,u=c.type,i=c.containsRTL,Y0=P!==0&&c.isWhitespace(),P0=Y0&&!X&&(u==="mtkw"||!Y),R0=M===b&&c.isPseudoAfter();if(_=0,$.appendString("<span "),i)$.appendString('style="unicode-bidi:isolate" ');if($.appendString('class="'),$.appendString(P0?"mtkz":u),$.appendASCIICharCode(34),Y0){let _0=0;{let A0=M,f0=O;for(;A0<b;A0++){const k0=(Z.charCodeAt(A0)===9?V-f0%V:1)|0;if(_0+=k0,A0>=z)f0+=k0}}if(P0)$.appendString(' style="width:'),$.appendString(String(B*_0)),$.appendString('px"');$.appendASCIICharCode(62);for(;M<b;M++){D.setColumnInfo(M+1,x-C,_,w),C=0;const A0=Z.charCodeAt(M);let f0,l0;if(A0===9){if(f0=V-O%V|0,l0=f0,!Q||l0>1)$.appendCharCode(8594);else $.appendCharCode(65515);for(let k0=2;k0<=l0;k0++)$.appendCharCode(160)}else f0=2,l0=1,$.appendCharCode(K),$.appendCharCode(8204);if(_+=f0,w+=l0,M>=z)O+=l0}}else{$.appendASCIICharCode(62);for(;M<b;M++){D.setColumnInfo(M+1,x-C,_,w),C=0;const _0=Z.charCodeAt(M);let A0=1,f0=1;switch(_0){case 9:A0=V-O%V,f0=A0;for(let l0=1;l0<=A0;l0++)$.appendCharCode(160);break;case 32:$.appendCharCode(160);break;case 60:$.appendString("&lt;");break;case 62:$.appendString("&gt;");break;case 38:$.appendString("&amp;");break;case 0:if(A)$.appendCharCode(9216);else $.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:$.appendCharCode(65533);break;default:if(L9(_0))f0++;if(A&&_0<32)$.appendCharCode(9216+_0);else if(A&&_0===127)$.appendCharCode(9249);else if(A&&lf(_0))$.appendString("[U+"),$.appendString(P70(_0)),$.appendString("]"),A0=8,f0=A0;else $.appendCharCode(_0)}if(_+=A0,w+=f0,M>=z)O+=f0}}if(R0)C++;else C=0;if(M>=G&&!R&&c.isPseudoAfter())R=!0,D.setColumnInfo(M+1,x,_,w);$.appendString("</span>")}if(!R)D.setColumnInfo(G+1,H.length-1,_,w);if(q)$.appendString('<span class="mtkoverflow">'),$.appendString(F("showMore","Show more ({0})",D70(U))),$.appendString("</span>");return $.appendString("</span>"),new PK(D,W,Y)},P70=function(J){return J.toString(16).toUpperCase().padStart(4,"0")},D70=function(J){if(J<1024)return F("overflow.chars","{0} chars",J);if(J<1048576)return`${(J/1024).toFixed(1)} KB`;return`${(J/1024/1024).toFixed(1)} MB`}});class RK{constructor(J,$,X,Q){this._viewportBrand=void 0,this.top=J|0,this.left=$|0,this.width=X|0,this.height=Q|0}}class dT{constructor(J,$){this.tabSize=J,this.data=$}}class Iq{constructor(J,$,X,Q,Y,Z,G){this._viewLineDataBrand=void 0,this.content=J,this.continuesWithWrappedLine=$,this.minColumn=X,this.maxColumn=Q,this.startVisibleColumn=Y,this.tokens=Z,this.inlineDecorations=G}}class p7{constructor(J,$,X,Q,Y,Z,G,q,U,H){this.minColumn=J,this.maxColumn=$,this.content=X,this.continuesWithWrappedLine=Q,this.isBasicASCII=p7.isBasicASCII(X,Z),this.containsRTL=p7.containsRTL(X,this.isBasicASCII,Y),this.tokens=G,this.inlineDecorations=q,this.tabSize=U,this.startVisibleColumn=H}static isBasicASCII(J,$){if($)return $q(J);return!0}static containsRTL(J,$,X){if(!$&&X)return MX(J);return!1}}class zY{constructor(J,$,X){this.range=J,this.inlineClassName=$,this.type=X}}class sT{constructor(J,$,X,Q){this.startOffset=J,this.endOffset=$,this.inlineClassName=X,this.inlineClassNameAffectsLetterSpacing=Q}toInlineDecoration(J){return new zY(new L(J,this.startOffset+1,J,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class Kz{constructor(J,$){this._viewModelDecorationBrand=void 0,this.range=J,this.options=$}}class MG{constructor(J,$,X){this.color=J,this.zIndex=$,this.data=X}static compareByRenderingProps(J,$){if(J.zIndex===$.zIndex){if(J.color<$.color)return-1;if(J.color>$.color)return 1;return 0}return J.zIndex-$.zIndex}static equals(J,$){return J.color===$.color&&J.zIndex===$.zIndex&&Q8(J.data,$.data)}static equalsArr(J,$){return Q8(J,$,MG.equals)}}var EJ=N(()=>{H1();o0();c0()});function R70(J){return Array.isArray(J)}function df(J){return!R70(J)}function aT(J){return typeof J==="string"}function rT(J){return!aT(J)}function OG(J){return J?!1:!0}function K$(J,$){return J.ignoreCase&&$?$.toLowerCase():$}function iT(J){return J.replace(/[&<>'"_]/g,"-")}function sf(J,$){console.log(`${J.languageId}: ${$}`)}function n1(J,$){return new Error(`${J.languageId}: ${$}`)}function A$(J,$,X,Q,Y){const Z=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let G=null;return $.replace(Z,function(q,U,H,z,V,j,W,B,K){if(!OG(H))return"$";if(!OG(z))return K$(J,X);if(!OG(V)&&V<Q.length)return K$(J,Q[V]);if(!OG(W)&&J&&typeof J[W]==="string")return J[W];if(G===null)G=Y.split("."),G.unshift(Y);if(!OG(j)&&j<G.length)return K$(J,G[j]);return""})}function Az(J,$){let X=$;while(X&&X.length>0){const Q=J.tokenizer[X];if(Q)return Q;const Y=X.lastIndexOf(".");if(Y<0)X=null;else X=X.substr(0,Y)}return null}function af(J,$){let X=$;while(X&&X.length>0){if(J.stateNames[X])return!0;const Y=X.lastIndexOf(".");if(Y<0)X=null;else X=X.substr(0,Y)}return!1}var nT=N(()=>{});class Cq{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if(J!==null&&J.depth>=this._maxCacheDepth)return new Sq(J,$);let X=Sq.getStackElementId(J);if(X.length>0)X+="|";X+=$;let Q=this._entries[X];if(Q)return Q;return Q=new Sq(J,$),this._entries[X]=Q,Q}}class Sq{constructor(J,$){this.parent=J,this.state=$,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(J){let $="";while(J!==null){if($.length>0)$+="|";$+=J.state,J=J.parent}return $}static _equals(J,$){while(J!==null&&$!==null){if(J===$)return!0;if(J.state!==$.state)return!1;J=J.parent,$=$.parent}if(J===null&&$===null)return!0;return!1}equals(J){return Sq._equals(this,J)}push(J){return Cq.create(this,J)}pop(){return this.parent}popall(){let J=this;while(J.parent)J=J.parent;return J}switchTo(J){return Cq.create(this.parent,J)}}class yq{constructor(J,$){this.languageId=J,this.state=$}equals(J){return this.languageId===J.languageId&&this.state.equals(J.state)}clone(){if(this.state.clone()===this.state)return this;return new yq(this.languageId,this.state)}}class lX{static create(J,$){return this._INSTANCE.create(J,$)}constructor(J){this._maxCacheDepth=J,this._entries=Object.create(null)}create(J,$){if($!==null)return new Pz(J,$);if(J!==null&&J.depth>=this._maxCacheDepth)return new Pz(J,$);const X=Sq.getStackElementId(J);let Q=this._entries[X];if(Q)return Q;return Q=new Pz(J,null),this._entries[X]=Q,Q}}class Pz{constructor(J,$){this.stack=J,this.embeddedLanguageData=$}clone(){if((this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData)return this;return lX.create(this.stack,this.embeddedLanguageData)}equals(J){if(!(J instanceof Pz))return!1;if(!this.stack.equals(J.stack))return!1;if(this.embeddedLanguageData===null&&J.embeddedLanguageData===null)return!0;if(this.embeddedLanguageData===null||J.embeddedLanguageData===null)return!1;return this.embeddedLanguageData.equals(J.embeddedLanguageData)}}class of{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(J){this._languageId=J}emit(J,$){if(this._lastTokenType===$&&this._lastTokenLanguage===this._languageId)return;this._lastTokenType=$,this._lastTokenLanguage=this._languageId,this._tokens.push(new Q$(J,$,this._languageId))}nestedLanguageTokenize(J,$,X,Q){const{languageId:Y,state:Z}=X,G=c1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(Q,""),Z;const q=G.tokenize(J,$,Z);if(Q!==0)for(let U of q.tokens)this._tokens.push(new Q$(U.offset+Q,U.type,U.language));else this._tokens=this._tokens.concat(q.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,q.endState}finalize(J){return new fZ(this._tokens,J)}}class MK{constructor(J,$){this._languageService=J,this._theme=$,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(J){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(J)}emit(J,$){const X=this._theme.match(this._currentLanguageId,$)|1024;if(this._lastTokenMetadata===X)return;this._lastTokenMetadata=X,this._tokens.push(J),this._tokens.push(X)}static _merge(J,$,X){const Q=J!==null?J.length:0,Y=$.length,Z=X!==null?X.length:0;if(Q===0&&Y===0&&Z===0)return new Uint32Array(0);if(Q===0&&Y===0)return X;if(Y===0&&Z===0)return J;const G=new Uint32Array(Q+Y+Z);if(J!==null)G.set(J);for(let q=0;q<Y;q++)G[Q+q]=$[q];if(X!==null)G.set(X,Q+Y);return G}nestedLanguageTokenize(J,$,X,Q){const{languageId:Y,state:Z}=X,G=c1.get(Y);if(!G)return this.enterLanguage(Y),this.emit(Q,""),Z;const q=G.tokenizeEncoded(J,$,Z);if(Q!==0)for(let U=0,H=q.tokens.length;U<H;U+=2)q.tokens[U]+=Q;return this._prependTokens=MK._merge(this._prependTokens,this._tokens,q.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,q.endState}finalize(J){return new dQ(MK._merge(this._prependTokens,this._tokens,null),J)}}var T70,M70,O70,oT,nf,TG;var tT=N(()=>{X0();M7();Wz();nT();h7();T70=function(J,$){if(!$)return null;$=K$(J,$);const X=J.brackets;for(let Q of X)if(Q.open===$)return{token:Q.token,bracketType:1};else if(Q.close===$)return{token:Q.token,bracketType:-1};return null},M70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},O70=function(J,$){return function(X,Q){$(X,Q,J)}},nf=5;Cq._INSTANCE=new Cq(nf);lX._INSTANCE=new lX(nf);TG=oT=class J extends f{constructor($,X,Q,Y,Z){super();this._configurationService=Z,this._languageService=$,this._standaloneThemeService=X,this._languageId=Q,this._lexer=Y,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let G=!1;this._register(c1.onDidChange((q)=>{if(G)return;let U=!1;for(let H=0,z=q.changedLanguages.length;H<z;H++){const V=q.changedLanguages[H];if(this._embeddedLanguages[V]){U=!0;break}}if(U)G=!0,c1.handleChange([this._languageId]),G=!1})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration((q)=>{if(q.affectsConfiguration("editor.maxTokenizationLineLength"))this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId})}))}getLoadStatus(){const $=[];for(let X in this._embeddedLanguages){const Q=c1.get(X);if(Q){if(Q instanceof oT){const Y=Q.getLoadStatus();if(Y.loaded===!1)$.push(Y.promise)}continue}if(!c1.isResolved(X))$.push(c1.getOrCreate(X))}if($.length===0)return{loaded:!0};return{loaded:!1,promise:Promise.all($).then((X)=>{return})}}getInitialState(){const $=Cq.create(null,this._lexer.start);return lX.create($,null)}tokenize($,X,Q){if($.length>=this._maxTokenizationLineLength)return FK(this._languageId,Q);const Y=new of,Z=this._tokenize($,X,Q,Y);return Y.finalize(Z)}tokenizeEncoded($,X,Q){if($.length>=this._maxTokenizationLineLength)return wq(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),Q);const Y=new MK(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),Z=this._tokenize($,X,Q,Y);return Y.finalize(Z)}_tokenize($,X,Q,Y){if(Q.embeddedLanguageData)return this._nestedTokenize($,X,Q,0,Y);else return this._myTokenize($,X,Q,0,Y)}_findLeavingNestedLanguageOffset($,X){let Q=this._lexer.tokenizer[X.stack.state];if(!Q){if(Q=Az(this._lexer,X.stack.state),!Q)throw n1(this._lexer,"tokenizer state is not defined: "+X.stack.state)}let Y=-1,Z=!1;for(let G of Q){if(!rT(G.action)||G.action.nextEmbedded!=="@pop")continue;Z=!0;let q=G.regex;const U=G.regex.source;if(U.substr(0,4)==="^(?:"&&U.substr(U.length-1,1)===")"){const z=(q.ignoreCase?"i":"")+(q.unicode?"u":"");q=new RegExp(U.substr(4,U.length-5),z)}const H=$.search(q);if(H===-1||H!==0&&G.matchOnlyAtLineStart)continue;if(Y===-1||H<Y)Y=H}if(!Z)throw n1(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+X.stack.state);return Y}_nestedTokenize($,X,Q,Y,Z){const G=this._findLeavingNestedLanguageOffset($,Q);if(G===-1){const H=Z.nestedLanguageTokenize($,X,Q.embeddedLanguageData,Y);return lX.create(Q.stack,new yq(Q.embeddedLanguageData.languageId,H))}const q=$.substring(0,G);if(q.length>0)Z.nestedLanguageTokenize(q,!1,Q.embeddedLanguageData,Y);const U=$.substring(G);return this._myTokenize(U,X,Q,Y+G,Z)}_safeRuleName($){if($)return $.name;return"(unknown)"}_myTokenize($,X,Q,Y,Z){Z.enterLanguage(this._languageId);const G=$.length,q=X&&this._lexer.includeLF?$+"\n":$,U=q.length;let{embeddedLanguageData:H,stack:z}=Q,V=0,j=null,W=!0;while(W||V<U){const B=V,K=z.depth,P=j?j.groups.length:0,A=z.state;let D=null,R=null,M=null,O=null,_=null;if(j){D=j.matches;const x=j.groups.shift();if(R=x.matched,M=x.action,O=j.rule,j.groups.length===0)j=null}else{if(!W&&V>=U)break;W=!1;let x=this._lexer.tokenizer[A];if(!x){if(x=Az(this._lexer,A),!x)throw n1(this._lexer,"tokenizer state is not defined: "+A)}const g=q.substr(V);for(let c of x)if(V===0||!c.matchOnlyAtLineStart){if(D=g.match(c.regex),D){R=D[0],M=c.action;break}}}if(!D)D=[""],R="";if(!M){if(V<U)D=[q.charAt(V)],R=D[0];M=this._lexer.defaultToken}if(R===null)break;V+=R.length;while(df(M)&&rT(M)&&M.test)M=M.test(R,D,A,V===U);let w=null;if(typeof M==="string"||Array.isArray(M))w=M;else if(M.group)w=M.group;else if(M.token!==null&&M.token!==void 0){if(M.tokenSubst)w=A$(this._lexer,M.token,R,D,A);else w=M.token;if(M.nextEmbedded)if(M.nextEmbedded==="@pop"){if(!H)throw n1(this._lexer,"cannot pop embedded language if not inside one");H=null}else if(H)throw n1(this._lexer,"cannot enter embedded language from within an embedded language");else _=A$(this._lexer,M.nextEmbedded,R,D,A);if(M.goBack)V=Math.max(0,V-M.goBack);if(M.switchTo&&typeof M.switchTo==="string"){let x=A$(this._lexer,M.switchTo,R,D,A);if(x[0]==="@")x=x.substr(1);if(!Az(this._lexer,x))throw n1(this._lexer,"trying to switch to a state \'"+x+"\' that is undefined in rule: "+this._safeRuleName(O));else z=z.switchTo(x)}else if(M.transform&&typeof M.transform==="function")throw n1(this._lexer,"action.transform not supported");else if(M.next)if(M.next==="@push")if(z.depth>=this._lexer.maxStack)throw n1(this._lexer,"maximum tokenizer stack size reached: ["+z.state+","+z.parent.state+",...]");else z=z.push(A);else if(M.next==="@pop")if(z.depth<=1)throw n1(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(O));else z=z.pop();else if(M.next==="@popall")z=z.popall();else{let x=A$(this._lexer,M.next,R,D,A);if(x[0]==="@")x=x.substr(1);if(!Az(this._lexer,x))throw n1(this._lexer,"trying to set a next state \'"+x+"\' that is undefined in rule: "+this._safeRuleName(O));else z=z.push(x)}if(M.log&&typeof M.log==="string")sf(this._lexer,this._lexer.languageId+": "+A$(this._lexer,M.log,R,D,A))}if(w===null)throw n1(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(O));const C=(x)=>{const g=this._languageService.getLanguageIdByLanguageName(x)||this._languageService.getLanguageIdByMimeType(x)||x,c=this._getNestedEmbeddedLanguageData(g);if(V<U){const b=$.substr(V);return this._nestedTokenize(b,X,lX.create(z,c),Y+V,Z)}else return lX.create(z,c)};if(Array.isArray(w)){if(j&&j.groups.length>0)throw n1(this._lexer,"groups cannot be nested: "+this._safeRuleName(O));if(D.length!==w.length+1)throw n1(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(O));let x=0;for(let g=1;g<D.length;g++)x+=D[g].length;if(x!==R.length)throw n1(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(O));j={rule:O,matches:D,groups:[]};for(let g=0;g<w.length;g++)j.groups[g]={action:w[g],matched:D[g+1]};V-=R.length;continue}else{if(w==="@rematch"){if(V-=R.length,R="",D=null,w="",_!==null)return C(_)}if(R.length===0)if(U===0||K!==z.depth||A!==z.state||(!j?0:j.groups.length)!==P)continue;else throw n1(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(O));let x=null;if(aT(w)&&w.indexOf("@brackets")===0){const g=w.substr("@brackets".length),c=T70(this._lexer,R);if(!c)throw n1(this._lexer,"@brackets token returned but no bracket defined as: "+R);x=iT(c.token+g)}else{const g=w===""?"":w+this._lexer.tokenPostfix;x=iT(g)}if(B<G)Z.emit(B+Y,x)}if(_!==null)return C(_)}return lX.create(z,H)}_getNestedEmbeddedLanguageData($){if(!this._languageService.isRegisteredLanguageId($))return new yq($,HY);if($!==this._languageId)this._languageService.requestBasicLanguageFeatures($),c1.getOrCreate($),this._embeddedLanguages[$]=!0;const X=c1.get($);if(X)return new yq($,X.getInitialState());return new yq($,HY)}};TG=oT=M70([O70(4,S1)],TG)});class Dz{static colorizeElement(J,$,X,Q){Q=Q||{};const Y=Q.theme||"vs",Z=Q.mimeType||X.getAttribute("lang")||X.getAttribute("data-lang");if(!Z)return console.error("Mode not detected"),Promise.resolve();const G=$.getLanguageIdByMimeType(Z)||Z;J.setTheme(Y);const q=X.firstChild?X.firstChild.nodeValue:"";X.className+=" "+Y;const U=(H)=>{var z;const V=(z=eT===null||eT===void 0?void 0:eT.createHTML(H))!==null&&z!==void 0?z:H;X.innerHTML=V};return this.colorize($,q||"",G,Q).then(U,(H)=>console.error(H))}static async colorize(J,$,X,Q){const Y=J.languageIdCodec;let Z=4;if(Q&&typeof Q.tabSize==="number")Z=Q.tabSize;if(Xq($))$=$.substr(1);const G=Y9($);if(!J.isRegisteredLanguageId(X))return tf(G,Z,Y);const q=await c1.getOrCreate(X);if(q)return N70(G,Z,q,Y);return tf(G,Z,Y)}static colorizeLine(J,$,X,Q,Y=4){const Z=p7.isBasicASCII(J,$),G=p7.containsRTL(J,Z,X);return Eq(new B4(!1,!0,J,!1,Z,G,0,Q,[],Y,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(J,$,X=4){const Q=J.getLineContent($);J.tokenization.forceTokenization($);const Z=J.tokenization.getLineTokens($).inflate();return this.colorizeLine(Q,J.mightContainNonBasicASCII(),J.mightContainRTL(),Z,X)}}var N70,tf,_70,eT;var ef=N(()=>{JY();o0();M7();cX();kq();EJ();tT();N70=function(J,$,X,Q){return new Promise((Y,Z)=>{const G=()=>{const q=_70(J,$,X,Q);if(X instanceof TG){const U=X.getLoadStatus();if(U.loaded===!1){U.promise.then(G,Z);return}}Y(q)};G()})},tf=function(J,$,X){let Q=[];const Y=(0<<11|1<<15|2<<24)>>>0,Z=new Uint32Array(2);Z[0]=0,Z[1]=Y;for(let G=0,q=J.length;G<q;G++){const U=J[G];Z[0]=U.length;const H=new _8(Z,U,X),z=p7.isBasicASCII(U,!0),V=p7.containsRTL(U,z,!0),j=Eq(new B4(!1,!0,U,!1,z,V,0,H,[],$,0,0,0,0,-1,"none",!1,!1,null));Q=Q.concat(j.html),Q.push("<br/>")}return Q.join("")},_70=function(J,$,X,Q){let Y=[],Z=X.getInitialState();for(let G=0,q=J.length;G<q;G++){const U=J[G],H=X.tokenizeEncoded(U,!0,Z);_8.convertToEndOffset(H.tokens,U.length);const z=new _8(H.tokens,U,Q),V=p7.isBasicASCII(U,!0),j=p7.containsRTL(U,V,!0),W=Eq(new B4(!1,!0,U,!1,V,j,0,z.inflate(),[],$,0,0,0,0,-1,"none",!1,!1,null));Y=Y.concat(W.html),Y.push("<br/>"),Z=H.endState}return Y.join("")},eT=V9("standaloneColorizer",{createHTML:(J)=>J})});var Jh=N(()=>{q1();V0(".monaco-aria-container{position:absolute;left:-999em}")});function Xh(J){NG=document.createElement("div"),NG.className="monaco-aria-container";const $=()=>{const Q=document.createElement("div");return Q.className="monaco-alert",Q.setAttribute("role","alert"),Q.setAttribute("aria-atomic","true"),NG.appendChild(Q),Q};OK=$(),JN=$();const X=()=>{const Q=document.createElement("div");return Q.className="monaco-status",Q.setAttribute("aria-live","polite"),Q.setAttribute("aria-atomic","true"),NG.appendChild(Q),Q};TK=X(),$N=X(),J.appendChild(NG)}function xq(J){if(!NG)return;if(OK.textContent!==J)C6(JN),NK(OK,J);else C6(OK),NK(JN,J)}function P$(J){if(!NG)return;if(TK.textContent!==J)C6($N),NK(TK,J);else C6(TK),NK($N,J)}var NK,$h,NG,OK,JN,TK,$N;var VY=N(()=>{D0();Jh();NK=function(J,$){if(C6(J),$.length>$h)$=$.substr(0,$h);J.textContent=$,J.style.visibility="hidden",J.style.visibility="visible"},$h=20000});var _K;var XN=N(()=>{m0();_K=M0("markerDecorationsService")});var w70,L70,Rz;var Yh=N(()=>{XN();x9();w70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},L70=function(J,$){return function(X,Q){$(X,Q,J)}},Rz=class J{constructor($,X){}dispose(){}};Rz.ID="editor.contrib.markerDecorations";Rz=w70([L70(1,_K)],Rz);C9(Rz.ID,Rz,0)});var Zh=N(()=>{q1();V0("::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{-webkit-text-size-adjust:100%;color:var(--vscode-editor-foreground);background-color:var(--vscode-editor-background);position:relative;overflow:visible}.monaco-editor-background{background-color:var(--vscode-editor-background)}.monaco-editor .rangeHighlight{background-color:var(--vscode-editor-rangeHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-rangeHighlightBorder)}.monaco-editor.hc-black .rangeHighlight,.monaco-editor.hc-light .rangeHighlight{border-style:dotted}.monaco-editor .symbolHighlight{background-color:var(--vscode-editor-symbolHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-symbolHighlightBorder)}.monaco-editor.hc-black .symbolHighlight,.monaco-editor.hc-light .symbolHighlight{border-style:dotted}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .squiggly-error{border-bottom:4px double var(--vscode-editorError-border)}.monaco-editor .squiggly-error:before{content:\"\";background:var(--vscode-editorError-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-warning{border-bottom:4px double var(--vscode-editorWarning-border)}.monaco-editor .squiggly-warning:before{content:\"\";background:var(--vscode-editorWarning-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-info{border-bottom:4px double var(--vscode-editorInfo-border)}.monaco-editor .squiggly-info:before{content:\"\";background:var(--vscode-editorInfo-background);width:100%;height:100%;display:block}.monaco-editor .squiggly-hint{border-bottom:2px dotted var(--vscode-editorHint-border)}.monaco-editor.showUnused .squiggly-unnecessary{border-bottom:2px dashed var(--vscode-editorUnnecessaryCode-border)}.monaco-editor.showDeprecated .squiggly-inline-deprecated{text-decoration:line-through;text-decoration-color:var(--vscode-editor-foreground,inherit)}")});class Mz extends f{constructor(J,$){super();this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._referenceDomElement=J,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let J=null;const $=()=>{if(J)this.observe({width:J.width,height:J.height});else this.observe()};let X=!1,Q=!1;const Y=()=>{if(X&&!Q)try{X=!1,Q=!0,$()}finally{R6(B0(this._referenceDomElement),()=>{Q=!1,Y()})}};this._resizeObserver=new ResizeObserver((Z)=>{if(Z&&Z[0]&&Z[0].contentRect)J={width:Z[0].contentRect.width,height:Z[0].contentRect.height};else J=null;X=!0,Y()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){if(this._resizeObserver)this._resizeObserver.disconnect(),this._resizeObserver=null}observe(J){this.measureReferenceDomElement(!0,J)}measureReferenceDomElement(J,$){let X=0,Q=0;if($)X=$.width,Q=$.height;else if(this._referenceDomElement)X=this._referenceDomElement.clientWidth,Q=this._referenceDomElement.clientHeight;if(X=Math.max(5,X),Q=Math.max(5,Q),this._width!==X||this._height!==Q){if(this._width=X,this._height=Q,J)this._onDidChange.fire()}}}var QN=N(()=>{X0();F0();D0()});function Gh(J){jY.items.forEach(($)=>$.apply(J))}class jY{constructor(J,$){this.key=J,this.migrate=$}apply(J){const $=jY._read(J,this.key),X=(Y)=>jY._read(J,Y),Q=(Y,Z)=>jY._write(J,Y,Z);this.migrate($,X,Q)}static _read(J,$){if(typeof J==="undefined")return;const X=$.indexOf(".");if(X>=0){const Q=$.substring(0,X);return this._read(J[Q],$.substring(X+1))}return J[$]}static _write(J,$,X){const Q=$.indexOf(".");if(Q>=0){const Y=$.substring(0,Q);J[Y]=J[Y]||{},this._write(J[Y],$.substring(Q+1),X);return}J[$]=X}}var F4,l5,E70;var qh=N(()=>{F4=function(J,$){jY.items.push(new jY(J,$))},l5=function(J,$){F4(J,(X,Q,Y)=>{if(typeof X!=="undefined"){for(let[Z,G]of $)if(X===Z){Y(J,G);return}}})};jY.items=[];l5("wordWrap",[[!0,"on"],[!1,"off"]]);l5("lineNumbers",[[!0,"on"],[!1,"off"]]);l5("cursorBlinking",[["visible","solid"]]);l5("renderWhitespace",[[!0,"boundary"],[!1,"none"]]);l5("renderLineHighlight",[[!0,"line"],[!1,"none"]]);l5("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]);l5("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]);l5("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);l5("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]);l5("autoIndent",[[!1,"advanced"],[!0,"full"]]);l5("matchBrackets",[[!0,"always"],[!1,"never"]]);l5("renderFinalNewline",[[!0,"on"],[!1,"off"]]);l5("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]);l5("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]);l5("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]);F4("autoClosingBrackets",(J,$,X)=>{if(J===!1){if(X("autoClosingBrackets","never"),typeof $("autoClosingQuotes")==="undefined")X("autoClosingQuotes","never");if(typeof $("autoSurround")==="undefined")X("autoSurround","never")}});F4("renderIndentGuides",(J,$,X)=>{if(typeof J!=="undefined"){if(X("renderIndentGuides",void 0),typeof $("guides.indentation")==="undefined")X("guides.indentation",!!J)}});F4("highlightActiveIndentGuide",(J,$,X)=>{if(typeof J!=="undefined"){if(X("highlightActiveIndentGuide",void 0),typeof $("guides.highlightActiveIndentation")==="undefined")X("guides.highlightActiveIndentation",!!J)}});E70={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};F4("suggest.filteredTypes",(J,$,X)=>{if(J&&typeof J==="object"){for(let Q of Object.entries(E70))if(J[Q[0]]===!1){if(typeof $(`suggest.${Q[1]}`)==="undefined")X(`suggest.${Q[1]}`,!1)}X("suggest.filteredTypes",void 0)}});F4("quickSuggestions",(J,$,X)=>{if(typeof J==="boolean"){const Q=J?"on":"off";X("quickSuggestions",{comments:Q,strings:Q,other:Q})}});F4("experimental.stickyScroll.enabled",(J,$,X)=>{if(typeof J==="boolean"){if(X("experimental.stickyScroll.enabled",void 0),typeof $("stickyScroll.enabled")==="undefined")X("stickyScroll.enabled",J)}});F4("experimental.stickyScroll.maxLineCount",(J,$,X)=>{if(typeof J==="number"){if(X("experimental.stickyScroll.maxLineCount",void 0),typeof $("stickyScroll.maxLineCount")==="undefined")X("stickyScroll.maxLineCount",J)}});F4("codeActionsOnSave",(J,$,X)=>{if(J&&typeof J==="object"){let Q=!1;const Y={};for(let Z of Object.entries(J))if(typeof Z[1]==="boolean")Q=!0,Y[Z[0]]=Z[1]?"explicit":"never";else Y[Z[0]]=Z[1];if(Q)X("codeActionsOnSave",Y)}});F4("codeActionWidget.includeNearbyQuickfixes",(J,$,X)=>{if(typeof J==="boolean"){if(X("codeActionWidget.includeNearbyQuickfixes",void 0),typeof $("codeActionWidget.includeNearbyQuickFixes")==="undefined")X("codeActionWidget.includeNearbyQuickFixes",J)}});F4("lightbulb.enabled",(J,$,X)=>{if(typeof J==="boolean")X("lightbulb.enabled",J?void 0:"off")})});class Uh{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new y,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(J){this._tabFocus=J,this._onDidChangeTabFocus.fire(this._tabFocus)}}var bq;var YN=N(()=>{F0();bq=new Uh});var _7,Hh;var K4=N(()=>{m1();m0();_7=M0("accessibilityService"),Hh=new z0("accessibilityModeEnabled",!1)});class Vh{constructor(){this._values=[]}_read(J){return this._values[J]}get(J){return this._values[J]}_write(J,$){this._values[J]=$}}class jh{constructor(){this._values=[]}_read(J){if(J>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[J]}get(J){return this._read(J)}_write(J,$){this._values[J]=$}}class WY{static validateOptions(J){const $=new Vh;for(let X of pQ){const Q=X.name==="_never_"?void 0:J[X.name];$._write(X.id,X.validate(Q))}return $}static computeOptions(J,$){const X=new jh;for(let Q of pQ)X._write(Q.id,Q.compute($,X,J._read(Q.id)));return X}static _deepEquals(J,$){if(typeof J!=="object"||typeof $!=="object"||!J||!$)return J===$;if(Array.isArray(J)||Array.isArray($))return Array.isArray(J)&&Array.isArray($)?Q8(J,$):!1;if(Object.keys(J).length!==Object.keys($).length)return!1;for(let X in J)if(!WY._deepEquals(J[X],$[X]))return!1;return!0}static checkEquals(J,$){const X=[];let Q=!1;for(let Y of pQ){const Z=!WY._deepEquals(J._read(Y.id),$._read(Y.id));if(X[Y.id]=Z,Z)Q=!0}return Q?new QH(X):null}static applyUpdate(J,$){let X=!1;for(let Q of pQ)if($.hasOwnProperty(Q.name)){const Y=Q.applyUpdate(J[Q.name],$[Q.name]);J[Q.name]=Y.newValue,X=X||Y.didChange}return X}}var y70,S70,zh,k70,I70,wK;var Wh=N(()=>{A5();H1();F0();X0();B5();O1();QN();eM();qh();YN();J7();AH();QF();K4();y70=function(J){let $=0;while(J)J=Math.floor(J/10),$++;return $?$:1},S70=function(){let J="";if(!C5&&!$F)J+="no-user-select ";if(C5)J+="no-minimap-shadow ",J+="enable-user-select ";if(a0)J+="mac ";return J},zh=function(J){const $=n4(J);return Gh($),$},k70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},I70=function(J,$){return function(X,Q){$(X,Q,J)}},wK=class J extends f{constructor($,X,Q,Y){super();if(this._accessibilityService=Y,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new uW,this.isSimpleWidget=$,this._containerObserver=this._register(new Mz(Q,X.dimension)),this._rawOptions=zh(X),this._validatedOptions=WY.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13))this._containerObserver.startObserving();this._register(FJ.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(bq.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(PH.onDidChange(()=>this._recomputeOptions())),this._register(Qq.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const $=this._computeOptions(),X=WY.checkEquals(this.options,$);if(X===null)return;this.options=$,this._onDidChangeFast.fire(X),this._onDidChange.fire(X)}_computeOptions(){const $=this._readEnvConfiguration(),X=NX.createFromValidatedSettings(this._validatedOptions,$.pixelRatio,this.isSimpleWidget),Q=this._readFontInfo(X),Y={memory:this._computeOptionsMemory,outerWidth:$.outerWidth,outerHeight:$.outerHeight-this._reservedHeight,fontInfo:Q,extraEditorClassName:$.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:$.emptySelectionClipboard,pixelRatio:$.pixelRatio,tabFocusMode:bq.getTabFocusMode(),accessibilitySupport:$.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return WY.computeOptions(this._validatedOptions,Y)}_readEnvConfiguration(){return{extraEditorClassName:S70(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:Y4||u6,pixelRatio:Qq.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo($){return PH.readFontInfo($)}getRawOptions(){return this._rawOptions}updateOptions($){const X=zh($);if(!WY.applyUpdate(this._rawOptions,X))return;this._validatedOptions=WY.validateOptions(this._rawOptions),this._recomputeOptions()}observeContainer($){this._containerObserver.observe($)}setIsDominatedByLongLines($){if(this._isDominatedByLongLines===$)return;this._isDominatedByLongLines=$,this._recomputeOptions()}setModelLineCount($){const X=y70($);if(this._lineNumbersDigitCount===X)return;this._lineNumbersDigitCount=X,this._recomputeOptions()}setViewLineCount($){if(this._viewLineCount===$)return;this._viewLineCount=$,this._recomputeOptions()}setReservedHeight($){if(this._reservedHeight===$)return;this._reservedHeight=$,this._recomputeOptions()}setGlyphMarginDecorationLaneCount($){if(this._glyphMarginDecorationLaneCount===$)return;this._glyphMarginDecorationLaneCount=$,this._recomputeOptions()}};wK=k70([I70(3,_7)],wK)});var D$;var ZN=N(()=>{(function(J){const $={total:0,min:Number.MAX_VALUE,max:0},X={...$},Q={...$},Y={...$};let Z=0;const G={keydown:0,input:0,render:0};function q(){A(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),G.keydown=1,queueMicrotask(U)}J.onKeyDown=q;function U(){if(G.keydown===1)performance.mark("keydown/end"),G.keydown=2}function H(){performance.mark("input/start"),G.input=1,P()}J.onBeforeInput=H;function z(){if(G.input===0)H();queueMicrotask(V)}J.onInput=z;function V(){if(G.input===1)performance.mark("input/end"),G.input=2}function j(){A()}J.onKeyUp=j;function W(){A()}J.onSelectionChange=W;function B(){if(G.keydown===2&&G.input===2&&G.render===0)performance.mark("render/start"),G.render=1,queueMicrotask(K),P()}J.onRenderStart=B;function K(){if(G.render===1)performance.mark("render/end"),G.render=2}function P(){setTimeout(A)}function A(){if(G.keydown===2&&G.input===2&&G.render===2)performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),D("keydown",$),D("input",X),D("render",Q),D("inputlatency",Y),Z++,R()}function D(w,C){const x=performance.getEntriesByName(w)[0].duration;C.total+=x,C.min=Math.min(C.min,x),C.max=Math.max(C.max,x)}function R(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),G.keydown=0,G.input=0,G.render=0}function M(){if(Z===0)return;const w={keydown:O($),input:O(X),render:O(Q),total:O(Y),sampleCount:Z};return _($),_(X),_(Q),_(Y),Z=0,w}J.getAndClearMeasurements=M;function O(w){return{average:w.total/Z,max:w.max,min:w.min}}function _(w){w.total=0,w.min=Number.MAX_VALUE,w.max=0}})(D$||(D$={}))});class dX{constructor(){this._hooks=new r,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(J,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const X=this._onStopCallback;if(this._onStopCallback=null,J&&X)X($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(J,$,X,Q,Y){if(this.isMonitoring())this.stopMonitoring(!1);this._pointerMoveCallback=Q,this._onStopCallback=Y;let Z=J;try{J.setPointerCapture($),this._hooks.add(K0(()=>{try{J.releasePointerCapture($)}catch(G){}}))}catch(G){Z=B0(J)}this._hooks.add(m(Z,$0.POINTER_MOVE,(G)=>{if(G.buttons!==X){this.stopMonitoring(!0);return}G.preventDefault(),this._pointerMoveCallback(G)})),this._hooks.add(m(Z,$0.POINTER_UP,(G)=>this.stopMonitoring(!0)))}}var Oz=N(()=>{D0();X0()});function SK(J){return`--vscode-${J.replace(/\./g,"-")}`}function j0(J){return`var(${SK(J)})`}function Th(J,$){return`var(${SK(J)}, ${$})`}function k(J,$,X,Q,Y){return CK.registerColor(J,$,X,Q,Y)}function C70(J,$){var X,Q,Y,Z;switch(J.op){case 0:return(X=A4(J.value,$))===null||X===void 0?void 0:X.darken(J.factor);case 1:return(Q=A4(J.value,$))===null||Q===void 0?void 0:Q.lighten(J.factor);case 2:return(Y=A4(J.value,$))===null||Y===void 0?void 0:Y.transparent(J.factor);case 3:{const G=A4(J.background,$);if(!G)return A4(J.value,$);return(Z=A4(J.value,$))===null||Z===void 0?void 0:Z.makeOpaque(G)}case 4:for(let G of J.values){const q=A4(G,$);if(q)return q}return;case 6:return A4($.defines(J.if)?J.then:J.else,$);case 5:{const G=A4(J.value,$);if(!G)return;const q=A4(J.background,$);if(!q)return G.transparent(J.factor*J.transparency);return G.isDarkerThan(q)?l.getLighterColor(G,q,J.factor).transparent(J.transparency):l.getDarkerColor(G,q,J.factor).transparent(J.transparency)}default:throw Gq(J)}}function _G(J,$){return{op:0,value:J,factor:$}}function O4(J,$){return{op:1,value:J,factor:$}}function L0(J,$){return{op:2,value:J,factor:$}}function Rh(...J){return{op:4,values:J}}function x70(J,$,X){return{op:6,if:J,then:$,else:X}}function A4(J,$){if(J===null)return;else if(typeof J==="string"){if(J[0]==="#")return l.fromHex(J);return $.getColor(J)}else if(J instanceof l)return J;else if(typeof J==="object")return C70(J,$);return}class Nh{constructor(){this._onDidChangeSchema=new y,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(J,$,X,Q=!1,Y){const Z={id:J,description:X,defaults:$,needsTransparency:Q,deprecationMessage:Y};this.colorsById[J]=Z;const G={type:"string",description:X,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};if(Y)G.deprecationMessage=Y;if(Q)G.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",G.patternErrorMessage="This color must be transparent or it will obscure content";return this.colorSchema.properties[J]=G,this.colorReferenceSchema.enum.push(J),this.colorReferenceSchema.enumDescriptions.push(X),this._onDidChangeSchema.fire(),J}getColors(){return Object.keys(this.colorsById).map((J)=>this.colorsById[J])}resolveDefaultColor(J,$){const X=this.colorsById[J];if(X&&X.defaults){const Q=X.defaults[$.type];return A4(Q,$)}return}getColorSchema(){return this.colorSchema}toString(){const J=($,X)=>{const Q=$.indexOf(".")===-1?0:1,Y=X.indexOf(".")===-1?0:1;if(Q!==Y)return Q-Y;return $.localeCompare(X)};return Object.keys(this.colorsById).sort(J).map(($)=>`- \`${$}\`: ${this.colorsById[$].description}`).join("\n")}}var Mh,GN,CK,Q0,JW0,$W0,XW0,P4,B9,N1,j8,QW0,YW0,_h,ZW0,GW0,qW0,UW0,HW0,zW0,R$,wh,Lh,Eh,kh,Ih,VW0,yh,Sh,jW0,Ch,xh,bh,vh,fh,hh,gh,ph,mh,D4,uh,M$,BY,vq,ch,fq,lh,dh,sh,kK,ah,Tz,rh,hq,gq,pq,mq,ih,WW0,O$,BW0,wz,w7,Nz,FW0,d5,_z,nh,KW0,AW0,s6,_$,PW0,DW0,RW0,MW0,C8,T$,R4,OW0,qN,oh,th,xK,eh,Jg,$g,Xg,Qg,sX,Yg,UN,HN,TW0,NW0,aX,_W0,wW0,uq,LW0,EW0,kW0,IW0,yW0,Bh,SW0,Zg,CW0,xW0,FY,KY,bW0,vW0,fW0,hW0,LK,gW0,pW0,IK,yK,Gg,qg,mW0,uW0,cW0,lW0,Ug,Hg,dW0,sW0,aW0,rW0,iW0,nW0,oW0,zg,Vg,jg,Wg,N$,M4,cq,Bg,Fg,Kg,Ag,Pg,zN,VN,Dg,Rg,rX,Lz,tW0,eW0,JB0,Mg,Og,Tg,Ng,$B0,XB0,lq,_g,wg,Lg,QB0,Eg,YB0,kg,Ig,ZB0,Fh,w$,iX,L$,yg,Sg,Cg,xg,bg,vg,fg,Kh,GB0,qB0,UB0,HB0,zB0,VB0,hg,gg,jN,pg,jB0,mg,Ah,Ph,Dh,kJ,rq,dq,WB0,sq,BB0,aq,FB0,iq,KB0,AB0,PB0,DB0,RB0,EK,MB0,WN,ug,cg,lg,dg,sg,OB0,TB0,NB0,ag,rg,ig,_B0,wB0,LB0,EB0,kB0,IB0,yB0,SB0,ng,og,Oh;var L7=N(()=>{U$();u1();u5();F0();h0();nF();Y5();Mh=function(J,$,X,Q){return{op:5,value:J,background:$,factor:X,transparency:Q}};GN={ColorContribution:"base.contributions.colors"};CK=new Nh;r1.add(GN.ColorContribution,CK);Q0=k("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},F("foreground","Overall foreground color. This color is only used if not overridden by a component.")),JW0=k("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},F("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),$W0=k("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},F("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),XW0=k("descriptionForeground",{light:"#717171",dark:L0(Q0,0.7),hcDark:L0(Q0,0.7),hcLight:L0(Q0,0.7)},F("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),P4=k("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},F("iconForeground","The default color for icons in the workbench.")),B9=k("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},F("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),N1=k("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},F("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),j8=k("contrastActiveBorder",{light:null,dark:null,hcDark:B9,hcLight:B9},F("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),QW0=k("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},F("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),YW0=k("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:l.black,hcLight:"#292929"},F("textSeparatorForeground","Color for text separators.")),_h=k("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkForeground","Foreground color for links in text.")),ZW0=k("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},F("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),GW0=k("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},F("textPreformatForeground","Foreground color for preformatted text segments.")),qW0=k("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},F("textPreformatBackground","Background color for preformatted text segments.")),UW0=k("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},F("textBlockQuoteBackground","Background color for block quotes in text.")),HW0=k("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:l.white,hcLight:"#292929"},F("textBlockQuoteBorder","Border color for block quotes in text.")),zW0=k("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:l.black,hcLight:"#F2F2F2"},F("textCodeBlockBackground","Background color for code blocks in text.")),R$=k("widget.shadow",{dark:L0(l.black,0.36),light:L0(l.black,0.16),hcDark:null,hcLight:null},F("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),wh=k("widget.border",{dark:null,light:null,hcDark:N1,hcLight:N1},F("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Lh=k("input.background",{dark:"#3C3C3C",light:l.white,hcDark:l.black,hcLight:l.white},F("inputBoxBackground","Input box background.")),Eh=k("input.foreground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("inputBoxForeground","Input box foreground.")),kh=k("input.border",{dark:null,light:null,hcDark:N1,hcLight:N1},F("inputBoxBorder","Input box border.")),Ih=k("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:N1,hcLight:N1},F("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),VW0=k("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},F("inputOption.hoverBackground","Background color of activated options in input fields.")),yh=k("inputOption.activeBackground",{dark:L0(B9,0.4),light:L0(B9,0.2),hcDark:l.transparent,hcLight:l.transparent},F("inputOption.activeBackground","Background hover color of options in input fields.")),Sh=k("inputOption.activeForeground",{dark:l.white,light:l.black,hcDark:Q0,hcLight:Q0},F("inputOption.activeForeground","Foreground color of activated options in input fields.")),jW0=k("input.placeholderForeground",{light:L0(Q0,0.5),dark:L0(Q0,0.5),hcDark:L0(Q0,0.7),hcLight:L0(Q0,0.7)},F("inputPlaceholderForeground","Input box foreground color for placeholder text.")),Ch=k("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:l.black,hcLight:l.white},F("inputValidationInfoBackground","Input validation background color for information severity.")),xh=k("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Q0},F("inputValidationInfoForeground","Input validation foreground color for information severity.")),bh=k("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:N1,hcLight:N1},F("inputValidationInfoBorder","Input validation border color for information severity.")),vh=k("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:l.black,hcLight:l.white},F("inputValidationWarningBackground","Input validation background color for warning severity.")),fh=k("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Q0},F("inputValidationWarningForeground","Input validation foreground color for warning severity.")),hh=k("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:N1,hcLight:N1},F("inputValidationWarningBorder","Input validation border color for warning severity.")),gh=k("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:l.black,hcLight:l.white},F("inputValidationErrorBackground","Input validation background color for error severity.")),ph=k("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Q0},F("inputValidationErrorForeground","Input validation foreground color for error severity.")),mh=k("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:N1,hcLight:N1},F("inputValidationErrorBorder","Input validation border color for error severity.")),D4=k("dropdown.background",{dark:"#3C3C3C",light:l.white,hcDark:l.black,hcLight:l.white},F("dropdownBackground","Dropdown background.")),uh=k("dropdown.listBackground",{dark:null,light:null,hcDark:l.black,hcLight:l.white},F("dropdownListBackground","Dropdown list background.")),M$=k("dropdown.foreground",{dark:"#F0F0F0",light:Q0,hcDark:l.white,hcLight:Q0},F("dropdownForeground","Dropdown foreground.")),BY=k("dropdown.border",{dark:D4,light:"#CECECE",hcDark:N1,hcLight:N1},F("dropdownBorder","Dropdown border.")),vq=k("button.foreground",{dark:l.white,light:l.white,hcDark:l.white,hcLight:l.white},F("buttonForeground","Button foreground color.")),ch=k("button.separator",{dark:L0(vq,0.4),light:L0(vq,0.4),hcDark:L0(vq,0.4),hcLight:L0(vq,0.4)},F("buttonSeparator","Button separator color.")),fq=k("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},F("buttonBackground","Button background color.")),lh=k("button.hoverBackground",{dark:O4(fq,0.2),light:_G(fq,0.2),hcDark:fq,hcLight:fq},F("buttonHoverBackground","Button background color when hovering.")),dh=k("button.border",{dark:N1,light:N1,hcDark:N1,hcLight:N1},F("buttonBorder","Button border color.")),sh=k("button.secondaryForeground",{dark:l.white,light:l.white,hcDark:l.white,hcLight:Q0},F("buttonSecondaryForeground","Secondary button foreground color.")),kK=k("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:l.white},F("buttonSecondaryBackground","Secondary button background color.")),ah=k("button.secondaryHoverBackground",{dark:O4(kK,0.2),light:_G(kK,0.2),hcDark:null,hcLight:null},F("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Tz=k("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:l.black,hcLight:"#0F4A85"},F("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),rh=k("badge.foreground",{dark:l.white,light:"#333",hcDark:l.white,hcLight:l.white},F("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),hq=k("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},F("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),gq=k("scrollbarSlider.background",{dark:l.fromHex("#797979").transparent(0.4),light:l.fromHex("#646464").transparent(0.4),hcDark:L0(N1,0.6),hcLight:L0(N1,0.4)},F("scrollbarSliderBackground","Scrollbar slider background color.")),pq=k("scrollbarSlider.hoverBackground",{dark:l.fromHex("#646464").transparent(0.7),light:l.fromHex("#646464").transparent(0.7),hcDark:L0(N1,0.8),hcLight:L0(N1,0.8)},F("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),mq=k("scrollbarSlider.activeBackground",{dark:l.fromHex("#BFBFBF").transparent(0.4),light:l.fromHex("#000000").transparent(0.6),hcDark:N1,hcLight:N1},F("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),ih=k("progressBar.background",{dark:l.fromHex("#0E70C0"),light:l.fromHex("#0E70C0"),hcDark:N1,hcLight:N1},F("progressBarBackground","Background color of the progress bar that can show for long running operations.")),WW0=k("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),O$=k("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},F("editorError.foreground","Foreground color of error squigglies in the editor.")),BW0=k("editorError.border",{dark:null,light:null,hcDark:l.fromHex("#E47777").transparent(0.8),hcLight:"#B5200D"},F("errorBorder","If set, color of double underlines for errors in the editor.")),wz=k("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),w7=k("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},F("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Nz=k("editorWarning.border",{dark:null,light:null,hcDark:l.fromHex("#FFCC00").transparent(0.8),hcLight:l.fromHex("#FFCC00").transparent(0.8)},F("warningBorder","If set, color of double underlines for warnings in the editor.")),FW0=k("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),d5=k("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},F("editorInfo.foreground","Foreground color of info squigglies in the editor.")),_z=k("editorInfo.border",{dark:null,light:null,hcDark:l.fromHex("#3794FF").transparent(0.8),hcLight:"#292929"},F("infoBorder","If set, color of double underlines for infos in the editor.")),nh=k("editorHint.foreground",{dark:l.fromHex("#eeeeee").transparent(0.7),light:"#6c6c6c",hcDark:null,hcLight:null},F("editorHint.foreground","Foreground color of hint squigglies in the editor.")),KW0=k("editorHint.border",{dark:null,light:null,hcDark:l.fromHex("#eeeeee").transparent(0.8),hcLight:"#292929"},F("hintBorder","If set, color of double underlines for hints in the editor.")),AW0=k("sash.hoverBorder",{dark:B9,light:B9,hcDark:B9,hcLight:B9},F("sashActiveBorder","Border color of active sashes.")),s6=k("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:l.black,hcLight:l.white},F("editorBackground","Editor background color.")),_$=k("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:l.white,hcLight:Q0},F("editorForeground","Editor default foreground color.")),PW0=k("editorStickyScroll.background",{light:s6,dark:s6,hcDark:s6,hcLight:s6},F("editorStickyScrollBackground","Background color of sticky scroll in the editor")),DW0=k("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),RW0=k("editorStickyScroll.border",{dark:null,light:null,hcDark:N1,hcLight:N1},F("editorStickyScrollBorder","Border color of sticky scroll in the editor")),MW0=k("editorStickyScroll.shadow",{dark:hq,light:hq,hcDark:hq,hcLight:hq},F("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),C8=k("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:l.white},F("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),T$=k("editorWidget.foreground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),R4=k("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:N1,hcLight:N1},F("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),OW0=k("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},F("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),qN=k("quickInput.background",{dark:C8,light:C8,hcDark:C8,hcLight:C8},F("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),oh=k("quickInput.foreground",{dark:T$,light:T$,hcDark:T$,hcLight:T$},F("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),th=k("quickInputTitle.background",{dark:new l(new T1(255,255,255,0.105)),light:new l(new T1(0,0,0,0.06)),hcDark:"#000000",hcLight:l.white},F("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),xK=k("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:l.white,hcLight:"#0F4A85"},F("pickerGroupForeground","Quick picker color for grouping labels.")),eh=k("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:l.white,hcLight:"#0F4A85"},F("pickerGroupBorder","Quick picker color for grouping borders.")),Jg=k("keybindingLabel.background",{dark:new l(new T1(128,128,128,0.17)),light:new l(new T1(221,221,221,0.4)),hcDark:l.transparent,hcLight:l.transparent},F("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),$g=k("keybindingLabel.foreground",{dark:l.fromHex("#CCCCCC"),light:l.fromHex("#555555"),hcDark:l.white,hcLight:Q0},F("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Xg=k("keybindingLabel.border",{dark:new l(new T1(51,51,51,0.6)),light:new l(new T1(204,204,204,0.4)),hcDark:new l(new T1(111,195,223)),hcLight:N1},F("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Qg=k("keybindingLabel.bottomBorder",{dark:new l(new T1(68,68,68,0.6)),light:new l(new T1(187,187,187,0.4)),hcDark:new l(new T1(111,195,223)),hcLight:Q0},F("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),sX=k("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},F("editorSelectionBackground","Color of the editor selection.")),Yg=k("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:l.white},F("editorSelectionForeground","Color of the selected text for high contrast.")),UN=k("editor.inactiveSelectionBackground",{light:L0(sX,0.5),dark:L0(sX,0.5),hcDark:L0(sX,0.7),hcLight:L0(sX,0.5)},F("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),HN=k("editor.selectionHighlightBackground",{light:Mh(sX,s6,0.3,0.6),dark:Mh(sX,s6,0.3,0.6),hcDark:null,hcLight:null},F("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),TW0=k("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:j8,hcLight:j8},F("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),NW0=k("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},F("editorFindMatch","Color of the current search match.")),aX=k("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},F("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),_W0=k("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},F("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),wW0=k("editor.findMatchBorder",{light:null,dark:null,hcDark:j8,hcLight:j8},F("editorFindMatchBorder","Border color of the current search match.")),uq=k("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:j8,hcLight:j8},F("findMatchHighlightBorder","Border color of the other search matches.")),LW0=k("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:L0(j8,0.4),hcLight:L0(j8,0.4)},F("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),EW0=k("searchEditor.findMatchBackground",{light:L0(aX,0.66),dark:L0(aX,0.66),hcDark:aX,hcLight:aX},F("searchEditor.queryMatch","Color of the Search Editor query matches.")),kW0=k("searchEditor.findMatchBorder",{light:L0(uq,0.66),dark:L0(uq,0.66),hcDark:uq,hcLight:uq},F("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),IW0=k("search.resultsInfoForeground",{light:Q0,dark:L0(Q0,0.65),hcDark:Q0,hcLight:Q0},F("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),yW0=k("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},F("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Bh=k("editorHoverWidget.background",{light:C8,dark:C8,hcDark:C8,hcLight:C8},F("hoverBackground","Background color of the editor hover.")),SW0=k("editorHoverWidget.foreground",{light:T$,dark:T$,hcDark:T$,hcLight:T$},F("hoverForeground","Foreground color of the editor hover.")),Zg=k("editorHoverWidget.border",{light:R4,dark:R4,hcDark:R4,hcLight:R4},F("hoverBorder","Border color of the editor hover.")),CW0=k("editorHoverWidget.statusBarBackground",{dark:O4(Bh,0.2),light:_G(Bh,0.05),hcDark:C8,hcLight:C8},F("statusBarBackground","Background color of the editor hover status bar.")),xW0=k("editorLink.activeForeground",{dark:"#4E94CE",light:l.blue,hcDark:l.cyan,hcLight:"#292929"},F("activeLinkForeground","Color of active links.")),FY=k("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:l.white,hcLight:l.black},F("editorInlayHintForeground","Foreground color of inline hints")),KY=k("editorInlayHint.background",{dark:L0(Tz,0.1),light:L0(Tz,0.1),hcDark:L0(l.white,0.1),hcLight:L0(Tz,0.1)},F("editorInlayHintBackground","Background color of inline hints")),bW0=k("editorInlayHint.typeForeground",{dark:FY,light:FY,hcDark:FY,hcLight:FY},F("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),vW0=k("editorInlayHint.typeBackground",{dark:KY,light:KY,hcDark:KY,hcLight:KY},F("editorInlayHintBackgroundTypes","Background color of inline hints for types")),fW0=k("editorInlayHint.parameterForeground",{dark:FY,light:FY,hcDark:FY,hcLight:FY},F("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),hW0=k("editorInlayHint.parameterBackground",{dark:KY,light:KY,hcDark:KY,hcLight:KY},F("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),LK=k("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},F("editorLightBulbForeground","The color used for the lightbulb actions icon.")),gW0=k("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),pW0=k("editorLightBulbAi.foreground",{dark:LK,light:LK,hcDark:LK,hcLight:LK},F("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),IK=new l(new T1(155,185,85,0.2)),yK=new l(new T1(255,0,0,0.2)),Gg=k("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},F("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),qg=k("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},F("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),mW0=k("diffEditor.insertedLineBackground",{dark:IK,light:IK,hcDark:null,hcLight:null},F("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),uW0=k("diffEditor.removedLineBackground",{dark:yK,light:yK,hcDark:null,hcLight:null},F("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),cW0=k("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),lW0=k("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Ug=k("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Hg=k("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),dW0=k("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},F("diffEditorInsertedOutline","Outline color for the text that got inserted.")),sW0=k("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},F("diffEditorRemovedOutline","Outline color for text that got removed.")),aW0=k("diffEditor.border",{dark:null,light:null,hcDark:N1,hcLight:N1},F("diffEditorBorder","Border color between the two text editors.")),rW0=k("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},F("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),iW0=k("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},F("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),nW0=k("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},F("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),oW0=k("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},F("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),zg=k("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Vg=k("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),jg=k("list.focusOutline",{dark:B9,light:B9,hcDark:j8,hcLight:j8},F("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Wg=k("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),N$=k("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),M4=k("list.activeSelectionForeground",{dark:l.white,light:l.white,hcDark:null,hcLight:null},F("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),cq=k("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bg=k("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Fg=k("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Kg=k("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ag=k("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Pg=k("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},F("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),zN=k("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:l.white.transparent(0.1),hcLight:l.fromHex("#0F4A85").transparent(0.1)},F("listHoverBackground","List/Tree background when hovering over items using the mouse.")),VN=k("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Dg=k("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},F("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),Rg=k("list.dropBetweenBackground",{dark:P4,light:P4,hcDark:null,hcLight:null},F("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),rX=k("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:B9,hcLight:B9},F("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Lz=k("list.focusHighlightForeground",{dark:rX,light:x70(N$,rX,"#BBE7FF"),hcDark:rX,hcLight:rX},F("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),tW0=k("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},F("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),eW0=k("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},F("listErrorForeground","Foreground color of list items containing errors.")),JB0=k("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},F("listWarningForeground","Foreground color of list items containing warnings.")),Mg=k("listFilterWidget.background",{light:_G(C8,0),dark:O4(C8,0),hcDark:C8,hcLight:C8},F("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Og=k("listFilterWidget.outline",{dark:l.transparent,light:l.transparent,hcDark:"#f38518",hcLight:"#007ACC"},F("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Tg=k("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:N1,hcLight:N1},F("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Ng=k("listFilterWidget.shadow",{dark:R$,light:R$,hcDark:R$,hcLight:R$},F("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),$B0=k("list.filterMatchBackground",{dark:aX,light:aX,hcDark:null,hcLight:null},F("listFilterMatchHighlight","Background color of the filtered match.")),XB0=k("list.filterMatchBorder",{dark:uq,light:uq,hcDark:N1,hcLight:j8},F("listFilterMatchHighlightBorder","Border color of the filtered match.")),lq=k("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},F("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),_g=k("tree.inactiveIndentGuidesStroke",{dark:L0(lq,0.4),light:L0(lq,0.4),hcDark:L0(lq,0.4),hcLight:L0(lq,0.4)},F("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),wg=k("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},F("tableColumnsBorder","Table border color between columns.")),Lg=k("tree.tableOddRowsBackground",{dark:L0(Q0,0.04),light:L0(Q0,0.04),hcDark:null,hcLight:null},F("tableOddRowsBackgroundColor","Background color for odd table rows.")),QB0=k("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},F("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Eg=k("checkbox.background",{dark:D4,light:D4,hcDark:D4,hcLight:D4},F("checkbox.background","Background color of checkbox widget.")),YB0=k("checkbox.selectBackground",{dark:C8,light:C8,hcDark:C8,hcLight:C8},F("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),kg=k("checkbox.foreground",{dark:M$,light:M$,hcDark:M$,hcLight:M$},F("checkbox.foreground","Foreground color of checkbox widget.")),Ig=k("checkbox.border",{dark:BY,light:BY,hcDark:BY,hcLight:BY},F("checkbox.border","Border color of checkbox widget.")),ZB0=k("checkbox.selectBorder",{dark:P4,light:P4,hcDark:P4,hcLight:P4},F("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),Fh=k("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,F("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),w$=k("quickInputList.focusForeground",{dark:M4,light:M4,hcDark:M4,hcLight:M4},F("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),iX=k("quickInputList.focusIconForeground",{dark:cq,light:cq,hcDark:cq,hcLight:cq},F("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),L$=k("quickInputList.focusBackground",{dark:Rh(Fh,N$),light:Rh(Fh,N$),hcDark:null,hcLight:null},F("quickInput.listFocusBackground","Quick picker background color for the focused item.")),yg=k("menu.border",{dark:null,light:null,hcDark:N1,hcLight:N1},F("menuBorder","Border color of menus.")),Sg=k("menu.foreground",{dark:M$,light:M$,hcDark:M$,hcLight:M$},F("menuForeground","Foreground color of menu items.")),Cg=k("menu.background",{dark:D4,light:D4,hcDark:D4,hcLight:D4},F("menuBackground","Background color of menu items.")),xg=k("menu.selectionForeground",{dark:M4,light:M4,hcDark:M4,hcLight:M4},F("menuSelectionForeground","Foreground color of the selected menu item in menus.")),bg=k("menu.selectionBackground",{dark:N$,light:N$,hcDark:N$,hcLight:N$},F("menuSelectionBackground","Background color of the selected menu item in menus.")),vg=k("menu.selectionBorder",{dark:null,light:null,hcDark:j8,hcLight:j8},F("menuSelectionBorder","Border color of the selected menu item in menus.")),fg=k("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:N1,hcLight:N1},F("menuSeparatorBackground","Color of a separator menu item in menus.")),Kh=k("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},F("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),GB0=k("toolbar.hoverOutline",{dark:null,light:null,hcDark:j8,hcLight:j8},F("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),qB0=k("toolbar.activeBackground",{dark:O4(Kh,0.1),light:_G(Kh,0.1),hcDark:null,hcLight:null},F("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),UB0=k("editor.snippetTabstopHighlightBackground",{dark:new l(new T1(124,124,124,0.3)),light:new l(new T1(10,50,100,0.2)),hcDark:new l(new T1(124,124,124,0.3)),hcLight:new l(new T1(10,50,100,0.2))},F("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),HB0=k("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),zB0=k("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),VB0=k("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new l(new T1(10,50,100,0.5)),hcDark:"#525252",hcLight:"#292929"},F("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),hg=k("breadcrumb.foreground",{light:L0(Q0,0.8),dark:L0(Q0,0.8),hcDark:L0(Q0,0.8),hcLight:L0(Q0,0.8)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),gg=k("breadcrumb.background",{light:s6,dark:s6,hcDark:s6,hcLight:s6},F("breadcrumbsBackground","Background color of breadcrumb items.")),jN=k("breadcrumb.focusForeground",{light:_G(Q0,0.2),dark:O4(Q0,0.1),hcDark:O4(Q0,0.1),hcLight:O4(Q0,0.1)},F("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),pg=k("breadcrumb.activeSelectionForeground",{light:_G(Q0,0.2),dark:O4(Q0,0.1),hcDark:O4(Q0,0.1),hcLight:O4(Q0,0.1)},F("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),jB0=k("breadcrumbPicker.background",{light:C8,dark:C8,hcDark:C8,hcLight:C8},F("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),mg=0.5,Ah=l.fromHex("#40C8AE").transparent(mg),Ph=l.fromHex("#40A6FF").transparent(mg),Dh=l.fromHex("#606060").transparent(0.4),kJ=0.4,rq=1,dq=k("merge.currentHeaderBackground",{dark:Ah,light:Ah,hcDark:null,hcLight:null},F("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),WB0=k("merge.currentContentBackground",{dark:L0(dq,kJ),light:L0(dq,kJ),hcDark:L0(dq,kJ),hcLight:L0(dq,kJ)},F("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),sq=k("merge.incomingHeaderBackground",{dark:Ph,light:Ph,hcDark:null,hcLight:null},F("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),BB0=k("merge.incomingContentBackground",{dark:L0(sq,kJ),light:L0(sq,kJ),hcDark:L0(sq,kJ),hcLight:L0(sq,kJ)},F("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),aq=k("merge.commonHeaderBackground",{dark:Dh,light:Dh,hcDark:null,hcLight:null},F("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),FB0=k("merge.commonContentBackground",{dark:L0(aq,kJ),light:L0(aq,kJ),hcDark:L0(aq,kJ),hcLight:L0(aq,kJ)},F("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),iq=k("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},F("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),KB0=k("editorOverviewRuler.currentContentForeground",{dark:L0(dq,rq),light:L0(dq,rq),hcDark:iq,hcLight:iq},F("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),AB0=k("editorOverviewRuler.incomingContentForeground",{dark:L0(sq,rq),light:L0(sq,rq),hcDark:iq,hcLight:iq},F("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),PB0=k("editorOverviewRuler.commonContentForeground",{dark:L0(aq,rq),light:L0(aq,rq),hcDark:iq,hcLight:iq},F("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),DB0=k("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},F("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),RB0=k("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},F("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),EK=k("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},F("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),MB0=k("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),WN=k("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},F("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),ug=k("minimap.infoHighlight",{dark:d5,light:d5,hcDark:_z,hcLight:_z},F("minimapInfo","Minimap marker color for infos.")),cg=k("minimap.warningHighlight",{dark:w7,light:w7,hcDark:Nz,hcLight:Nz},F("overviewRuleWarning","Minimap marker color for warnings.")),lg=k("minimap.errorHighlight",{dark:new l(new T1(255,18,18,0.7)),light:new l(new T1(255,18,18,0.7)),hcDark:new l(new T1(255,50,50,1)),hcLight:"#B5200D"},F("minimapError","Minimap marker color for errors.")),dg=k("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},F("minimapBackground","Minimap background color.")),sg=k("minimap.foregroundOpacity",{dark:l.fromHex("#000f"),light:l.fromHex("#000f"),hcDark:l.fromHex("#000f"),hcLight:l.fromHex("#000f")},F("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),OB0=k("minimapSlider.background",{light:L0(gq,0.5),dark:L0(gq,0.5),hcDark:L0(gq,0.5),hcLight:L0(gq,0.5)},F("minimapSliderBackground","Minimap slider background color.")),TB0=k("minimapSlider.hoverBackground",{light:L0(pq,0.5),dark:L0(pq,0.5),hcDark:L0(pq,0.5),hcLight:L0(pq,0.5)},F("minimapSliderHoverBackground","Minimap slider background color when hovering.")),NB0=k("minimapSlider.activeBackground",{light:L0(mq,0.5),dark:L0(mq,0.5),hcDark:L0(mq,0.5),hcLight:L0(mq,0.5)},F("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),ag=k("problemsErrorIcon.foreground",{dark:O$,light:O$,hcDark:O$,hcLight:O$},F("problemsErrorIconForeground","The color used for the problems error icon.")),rg=k("problemsWarningIcon.foreground",{dark:w7,light:w7,hcDark:w7,hcLight:w7},F("problemsWarningIconForeground","The color used for the problems warning icon.")),ig=k("problemsInfoIcon.foreground",{dark:d5,light:d5,hcDark:d5,hcLight:d5},F("problemsInfoIconForeground","The color used for the problems info icon.")),_B0=k("charts.foreground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("chartsForeground","The foreground color used in charts.")),wB0=k("charts.lines",{dark:L0(Q0,0.5),light:L0(Q0,0.5),hcDark:L0(Q0,0.5),hcLight:L0(Q0,0.5)},F("chartsLines","The color used for horizontal lines in charts.")),LB0=k("charts.red",{dark:O$,light:O$,hcDark:O$,hcLight:O$},F("chartsRed","The red color used in chart visualizations.")),EB0=k("charts.blue",{dark:d5,light:d5,hcDark:d5,hcLight:d5},F("chartsBlue","The blue color used in chart visualizations.")),kB0=k("charts.yellow",{dark:w7,light:w7,hcDark:w7,hcLight:w7},F("chartsYellow","The yellow color used in chart visualizations.")),IB0=k("charts.orange",{dark:EK,light:EK,hcDark:EK,hcLight:EK},F("chartsOrange","The orange color used in chart visualizations.")),yB0=k("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},F("chartsGreen","The green color used in chart visualizations.")),SB0=k("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("chartsPurple","The purple color used in chart visualizations.")),ng="vscode://schemas/workbench-colors",og=r1.as(GG.JSONContribution);og.registerSchema(ng,CK.getColorSchema());Oh=new t1(()=>og.notifySchemaChanged(ng),200);CK.onDidChangeSchema(()=>{if(!Oh.isScheduled())Oh.schedule()})});function vK(J){const $=M6(J);return new tg($.left,$.top,$.width,$.height)}function fK(J,$,X){const Q=$.width/J.offsetWidth,Y=$.height/J.offsetHeight,Z=(X.x-$.x)/Q,G=(X.y-$.y)/Y;return new eg(Z,G)}class wG{constructor(J,$){this.x=J,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(J){return new bK(this.x-J.scrollX,this.y-J.scrollY)}}class bK{constructor(J,$){this.clientX=J,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(J){return new wG(this.clientX+J.scrollX,this.clientY+J.scrollY)}}class tg{constructor(J,$,X,Q){this.x=J,this.y=$,this.width=X,this.height=Q,this._editorPagePositionBrand=void 0}}class eg{constructor(J,$){this.x=J,this.y=$,this._positionRelativeToEditorBrand=void 0}}class T4 extends Q7{constructor(J,$,X){super(B0(X),J);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=$,this.pos=new wG(this.posx,this.posy),this.editorPos=vK(X),this.relativePos=fK(X,this.editorPos,this.pos)}}class BN{constructor(J){this._editorViewDomNode=J}_create(J){return new T4(J,!1,this._editorViewDomNode)}onContextMenu(J,$){return m(J,"contextmenu",(X)=>{$(this._create(X))})}onMouseUp(J,$){return m(J,"mouseup",(X)=>{$(this._create(X))})}onMouseDown(J,$){return m(J,$0.MOUSE_DOWN,(X)=>{$(this._create(X))})}onPointerDown(J,$){return m(J,$0.POINTER_DOWN,(X)=>{$(this._create(X),X.pointerId)})}onMouseLeave(J,$){return m(J,$0.MOUSE_LEAVE,(X)=>{$(this._create(X))})}onMouseMove(J,$){return m(J,"mousemove",(X)=>$(this._create(X)))}}class FN{constructor(J){this._editorViewDomNode=J}_create(J){return new T4(J,!1,this._editorViewDomNode)}onPointerUp(J,$){return m(J,"pointerup",(X)=>{$(this._create(X))})}onPointerDown(J,$){return m(J,$0.POINTER_DOWN,(X)=>{$(this._create(X),X.pointerId)})}onPointerLeave(J,$){return m(J,$0.POINTER_LEAVE,(X)=>{$(this._create(X))})}onPointerMove(J,$){return m(J,"pointermove",(X)=>$(this._create(X)))}}class KN extends f{constructor(J){super();this._editorViewDomNode=J,this._globalPointerMoveMonitor=this._register(new dX),this._keydownListener=null}startMonitoring(J,$,X,Q,Y){this._keydownListener=i1(J.ownerDocument,"keydown",(Z)=>{if(Z.toKeyCodeChord().isModifierKey())return;this._globalPointerMoveMonitor.stopMonitoring(!0,Z.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(J,$,X,(Z)=>{Q(new T4(Z,!0,this._editorViewDomNode))},(Z)=>{this._keydownListener.dispose(),Y(Z)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class AN{constructor(J){this._editor=J,this._instanceId=++AN._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new t1(()=>this.garbageCollect(),1000)}createClassNameRef(J){const $=this.getOrCreateRule(J);return $.increaseRefCount(),{className:$.className,dispose:()=>{$.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(J){const $=this.computeUniqueKey(J);let X=this._rules.get($);if(!X){const Q=this._counter++;X=new Jp($,`dyn-rule-${this._instanceId}-${Q}`,eZ(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,J),this._rules.set($,X)}return X}computeUniqueKey(J){return JSON.stringify(J)}garbageCollect(){for(let J of this._rules.values())if(!J.hasReferences())this._rules.delete(J.key),J.dispose()}}class Jp{constructor(J,$,X,Q){this.key=J,this.className=$,this.properties=Q,this._referenceCount=0,this._styleElementDisposables=new r,this._styleElement=O6(X,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(J,$){let X=`.${J} {`;for(let Q in $){const Y=$[Q];let Z;if(typeof Y==="object")Z=j0(Y.id);else Z=Y;const G=b70(Q);X+=`\n\t${G}: ${Z};`}return X+="\n}",X}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}var b70;var hK=N(()=>{D0();Oz();k9();u1();X0();L7();b70=function(J){return J.replace(/(^[A-Z])/,([$])=>$.toLowerCase()).replace(/([A-Z])/g,([$])=>`-${$.toLowerCase()}`)};AN._idPool=0});class N4 extends f{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(J){return!1}onCompositionEnd(J){return!1}onConfigurationChanged(J){return!1}onCursorStateChanged(J){return!1}onDecorationsChanged(J){return!1}onFlushed(J){return!1}onFocusChanged(J){return!1}onLanguageConfigurationChanged(J){return!1}onLineMappingChanged(J){return!1}onLinesChanged(J){return!1}onLinesDeleted(J){return!1}onLinesInserted(J){return!1}onRevealRangeRequest(J){return!1}onScrollChanged(J){return!1}onThemeChanged(J){return!1}onTokensChanged(J){return!1}onTokensColorsChanged(J){return!1}onZonesChanged(J){return!1}handleEvents(J){let $=!1;for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];switch(Y.type){case 0:if(this.onCompositionStart(Y))$=!0;break;case 1:if(this.onCompositionEnd(Y))$=!0;break;case 2:if(this.onConfigurationChanged(Y))$=!0;break;case 3:if(this.onCursorStateChanged(Y))$=!0;break;case 4:if(this.onDecorationsChanged(Y))$=!0;break;case 5:if(this.onFlushed(Y))$=!0;break;case 6:if(this.onFocusChanged(Y))$=!0;break;case 7:if(this.onLanguageConfigurationChanged(Y))$=!0;break;case 8:if(this.onLineMappingChanged(Y))$=!0;break;case 9:if(this.onLinesChanged(Y))$=!0;break;case 10:if(this.onLinesDeleted(Y))$=!0;break;case 11:if(this.onLinesInserted(Y))$=!0;break;case 12:if(this.onRevealRangeRequest(Y))$=!0;break;case 13:if(this.onScrollChanged(Y))$=!0;break;case 15:if(this.onTokensChanged(Y))$=!0;break;case 14:if(this.onThemeChanged(Y))$=!0;break;case 16:if(this.onTokensColorsChanged(Y))$=!0;break;case 17:if(this.onZonesChanged(Y))$=!0;break;default:console.info("View received unknown event: "),console.info(Y)}}if($)this._shouldRender=!0}}var nq=N(()=>{X0()});class K8 extends N4{constructor(J){super();this._context=J,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Z7{static write(J,$){J.setAttribute("data-mprt",String($))}static read(J){const $=J.getAttribute("data-mprt");if($===null)return 0;return parseInt($,10)}static collect(J,$){const X=[];let Q=0;while(J&&J!==J.ownerDocument.body){if(J===$)break;if(J.nodeType===J.ELEMENT_NODE)X[Q++]=this.read(J);J=J.parentElement}const Y=new Uint8Array(Q);for(let Z=0;Z<Q;Z++)Y[Z]=X[Q-Z-1];return Y}}var m7=N(()=>{nq()});class $p{constructor(J,$){this._restrictedRenderingContextBrand=void 0,this._viewLayout=J,this.viewportData=$,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const X=this._viewLayout.getCurrentViewport();this.scrollTop=X.top,this.scrollLeft=X.left,this.viewportWidth=X.width,this.viewportHeight=X.height}getScrolledTopFromAbsoluteTop(J){return J-this.scrollTop}getVerticalOffsetForLineNumber(J,$){return this._viewLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$){return this._viewLayout.getVerticalOffsetAfterLineNumber(J,$)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class PN extends $p{constructor(J,$,X){super(J,$);this._renderingContextBrand=void 0,this._viewLines=X}linesVisibleRangesForRange(J,$){return this._viewLines.linesVisibleRangesForRange(J,$)}visibleRangeForPosition(J){return this._viewLines.visibleRangeForPosition(J)}}class DN{constructor(J,$,X,Q){this.outsideRenderedLine=J,this.lineNumber=$,this.ranges=X,this.continuesOnNextLine=Q}}class oq{static from(J){const $=new Array(J.length);for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];$[X]=new oq(Y.left,Y.width)}return $}constructor(J,$){this._horizontalRangeBrand=void 0,this.left=Math.round(J),this.width=Math.round($)}toString(){return`[${this.left},${this.width}]`}}class E${constructor(J,$){this._floatHorizontalRangeBrand=void 0,this.left=J,this.width=$}toString(){return`[${this.left},${this.width}]`}static compare(J,$){return J.left-$.left}}class RN{constructor(J,$){this.outsideRenderedLine=J,this.originalLeft=$,this.left=Math.round(this.originalLeft)}}class gK{constructor(J,$){this.outsideRenderedLine=J,this.ranges=$}}var tq=N(()=>{});class eq{static _createRange(){if(!this._handyReadyRange)this._handyReadyRange=document.createRange();return this._handyReadyRange}static _detachRange(J,$){J.selectNodeContents($)}static _readClientRects(J,$,X,Q,Y){const Z=this._createRange();try{return Z.setStart(J,$),Z.setEnd(X,Q),Z.getClientRects()}catch(G){return null}finally{this._detachRange(Z,Y)}}static _mergeAdjacentRanges(J){if(J.length===1)return J;J.sort(E$.compare);const $=[];let X=0,Q=J[0];for(let Y=1,Z=J.length;Y<Z;Y++){const G=J[Y];if(Q.left+Q.width+0.9>=G.left)Q.width=Math.max(Q.width,G.left+G.width-Q.left);else $[X++]=Q,Q=G}return $[X++]=Q,$}static _createHorizontalRangesFromClientRects(J,$,X){if(!J||J.length===0)return null;const Q=[];for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];Q[Y]=new E$(Math.max(0,(G.left-$)/X),G.width/X)}return this._mergeAdjacentRanges(Q)}static readHorizontalRanges(J,$,X,Q,Y,Z){const q=J.children.length-1;if(0>q)return null;if($=Math.min(q,Math.max(0,$)),Q=Math.min(q,Math.max(0,Q)),$===Q&&X===Y&&X===0&&!J.children[$].firstChild){const V=J.children[$].getClientRects();return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(V,Z.clientRectDeltaLeft,Z.clientRectScale)}if($!==Q){if(Q>0&&Y===0)Q--,Y=1073741824}let U=J.children[$].firstChild,H=J.children[Q].firstChild;if(!U||!H){if(!U&&X===0&&$>0)U=J.children[$-1].firstChild,X=1073741824;if(!H&&Y===0&&Q>0)H=J.children[Q-1].firstChild,Y=1073741824}if(!U||!H)return null;X=Math.min(U.textContent.length,Math.max(0,X)),Y=Math.min(H.textContent.length,Math.max(0,Y));const z=this._readClientRects(U,X,H,Y,Z.endNode);return Z.markDidDomLayout(),this._createHorizontalRangesFromClientRects(z,Z.clientRectDeltaLeft,Z.clientRectScale)}}var Xp=N(()=>{tq()});function IJ(J){return J===s5.HIGH_CONTRAST_DARK||J===s5.HIGH_CONTRAST_LIGHT}function LG(J){return J===s5.DARK||J===s5.HIGH_CONTRAST_DARK}var s5;var nX=N(()=>{(function(J){J.DARK="dark",J.LIGHT="light",J.HIGH_CONTRAST_DARK="hcDark",J.HIGH_CONTRAST_LIGHT="hcLight"})(s5||(s5={}))});function Zp(J,$,X){const Q=$.textContent.length;let Y=-1;while($)$=$.previousSibling,Y++;return J.getColumn(new DK(Y,X),Q)}class pK{constructor(J,$){this.themeType=$;const X=J.options,Q=X.get(50);if(X.get(38)==="off")this.renderWhitespace=X.get(98);else this.renderWhitespace="none";this.renderControlCharacters=X.get(93),this.spaceWidth=Q.spaceWidth,this.middotWidth=Q.middotWidth,this.wsmiddotWidth=Q.wsmiddotWidth,this.useMonospaceOptimizations=Q.isMonospace&&!X.get(33),this.canUseHalfwidthRightwardsArrow=Q.canUseHalfwidthRightwardsArrow,this.lineHeight=X.get(66),this.stopRenderingLineAfter=X.get(116),this.fontLigatures=X.get(51)}equals(J){return this.themeType===J.themeType&&this.renderWhitespace===J.renderWhitespace&&this.renderControlCharacters===J.renderControlCharacters&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.useMonospaceOptimizations===J.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter&&this.fontLigatures===J.fontLigatures}}class yJ{constructor(J){this._options=J,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){if(this._renderedViewLine&&this._renderedViewLine.domNode)return this._renderedViewLine.domNode.domNode;return null}setDomNode(J){if(this._renderedViewLine)this._renderedViewLine.domNode=t0(J);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(J){this._isMaybeInvalid=!0,this._options=J}onSelectionChanged(){if(IJ(this._options.themeType)||this._options.renderWhitespace==="selection")return this._isMaybeInvalid=!0,!0;return!1}renderLine(J,$,X,Q){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const Y=X.getViewLineRenderingData(J),Z=this._options,G=c5.filter(Y.inlineDecorations,J,Y.minColumn,Y.maxColumn);let q=null;if(IJ(Z.themeType)||this._options.renderWhitespace==="selection"){const V=X.selections;for(let j of V){if(j.endLineNumber<J||j.startLineNumber>J)continue;const W=j.startLineNumber===J?j.startColumn:Y.minColumn,B=j.endLineNumber===J?j.endColumn:Y.maxColumn;if(W<B){if(IJ(Z.themeType))G.push(new c5(W,B,"inline-selected-text",0));if(this._options.renderWhitespace==="selection"){if(!q)q=[];q.push(new Bz(W-1,B-1))}}}}const U=new B4(Z.useMonospaceOptimizations,Z.canUseHalfwidthRightwardsArrow,Y.content,Y.continuesWithWrappedLine,Y.isBasicASCII,Y.containsRTL,Y.minColumn-1,Y.tokens,G,Y.tabSize,Y.startVisibleColumn,Z.spaceWidth,Z.middotWidth,Z.wsmiddotWidth,Z.stopRenderingLineAfter,Z.renderWhitespace,Z.renderControlCharacters,Z.fontLigatures!==t7.OFF,q);if(this._renderedViewLine&&this._renderedViewLine.input.equals(U))return!1;Q.appendString('<div style="top:'),Q.appendString(String($)),Q.appendString("px;height:"),Q.appendString(String(this._options.lineHeight)),Q.appendString('px;" class="'),Q.appendString(yJ.CLASS_NAME),Q.appendString('">');const H=Fz(U,Q);Q.appendString("</div>");let z=null;if(J3&&v70&&Y.isBasicASCII&&Z.useMonospaceOptimizations&&H.containsForeignElements===0)z=new Ez(this._renderedViewLine?this._renderedViewLine.domNode:null,U,H.characterMapping);if(!z)z=Yp(this._renderedViewLine?this._renderedViewLine.domNode:null,U,H.characterMapping,H.containsRTL,H.containsForeignElements);return this._renderedViewLine=z,!0}layoutLine(J,$){if(this._renderedViewLine&&this._renderedViewLine.domNode)this._renderedViewLine.domNode.setTop($),this._renderedViewLine.domNode.setHeight(this._options.lineHeight)}getWidth(J){if(!this._renderedViewLine)return 0;return this._renderedViewLine.getWidth(J)}getWidthIsFast(){if(!this._renderedViewLine)return!0;return this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){if(!this._renderedViewLine)return!1;return this._renderedViewLine instanceof Ez}monospaceAssumptionsAreValid(){if(!this._renderedViewLine)return J3;if(this._renderedViewLine instanceof Ez)return this._renderedViewLine.monospaceAssumptionsAreValid();return J3}onMonospaceAssumptionsInvalidated(){if(this._renderedViewLine&&this._renderedViewLine instanceof Ez)this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine()}getVisibleRangesForRange(J,$,X,Q){if(!this._renderedViewLine)return null;$=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,$)),X=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,X));const Y=this._renderedViewLine.input.stopRenderingLineAfter;if(Y!==-1&&$>Y+1&&X>Y+1)return new gK(!0,[new E$(this.getWidth(Q),0)]);if(Y!==-1&&$>Y+1)$=Y+1;if(Y!==-1&&X>Y+1)X=Y+1;const Z=this._renderedViewLine.getVisibleRangesForRange(J,$,X,Q);if(Z&&Z.length>0)return new gK(!1,Z);return null}getColumnOfNodeOffset(J,$){if(!this._renderedViewLine)return 1;return this._renderedViewLine.getColumnOfNodeOffset(J,$)}}class Ez{constructor(J,$,X){this._cachedWidth=-1,this.domNode=J,this.input=$;const Q=Math.floor($.lineContent.length/300);if(Q>0){this._keyColumnPixelOffsetCache=new Float32Array(Q);for(let Y=0;Y<Q;Y++)this._keyColumnPixelOffsetCache[Y]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=X,this._charWidth=$.spaceWidth}getWidth(J){if(!this.domNode||this.input.lineContent.length<300){const $=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*$)}if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return J3;if(this.input.lineContent.length<300){const J=this.getWidth(null),$=this.domNode.domNode.firstChild.offsetWidth;if(Math.abs(J-$)>=2)console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),J3=!1}return J3}toSlowRenderedLine(){return Yp(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(J,$,X,Q){const Y=this._getColumnPixelOffset(J,$,Q),Z=this._getColumnPixelOffset(J,X,Q);return[new E$(Y,Z-Y)]}_getColumnPixelOffset(J,$,X){if($<=300){const U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}const Q=Math.floor(($-1)/300)-1,Y=(Q+1)*300+1;let Z=-1;if(this._keyColumnPixelOffsetCache){if(Z=this._keyColumnPixelOffsetCache[Q],Z===-1)Z=this._actualReadPixelOffset(J,Y,X),this._keyColumnPixelOffsetCache[Q]=Z}if(Z===-1){const U=this._characterMapping.getHorizontalOffset($);return this._charWidth*U}const G=this._characterMapping.getHorizontalOffset(Y),q=this._characterMapping.getHorizontalOffset($);return Z+this._charWidth*(q-G)}_getReadingTarget(J){return J.domNode.firstChild}_actualReadPixelOffset(J,$,X){if(!this.domNode)return-1;const Q=this._characterMapping.getDomPosition($),Y=eq.readHorizontalRanges(this._getReadingTarget(this.domNode),Q.partIndex,Q.charIndex,Q.partIndex,Q.charIndex,X);if(!Y||Y.length===0)return-1;return Y[0].left}getColumnOfNodeOffset(J,$){return Zp(this._characterMapping,J,$)}}class MN{constructor(J,$,X,Q,Y){if(this.domNode=J,this.input=$,this._characterMapping=X,this._isWhitespaceOnly=/^\s*$/.test($.lineContent),this._containsForeignElements=Y,this._cachedWidth=-1,this._pixelOffsetCache=null,!Q||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let Z=0,G=this._characterMapping.length;Z<=G;Z++)this._pixelOffsetCache[Z]=-1}}_getReadingTarget(J){return J.domNode.firstChild}getWidth(J){if(!this.domNode)return 0;if(this._cachedWidth===-1)this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,J===null||J===void 0||J.markDidDomLayout();return this._cachedWidth}getWidthIsFast(){if(this._cachedWidth===-1)return!1;return!0}getVisibleRangesForRange(J,$,X,Q){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const Y=this._readPixelOffset(this.domNode,J,$,Q);if(Y===-1)return null;const Z=this._readPixelOffset(this.domNode,J,X,Q);if(Z===-1)return null;return[new E$(Y,Z-Y)]}return this._readVisibleRangesForRange(this.domNode,J,$,X,Q)}_readVisibleRangesForRange(J,$,X,Q,Y){if(X===Q){const Z=this._readPixelOffset(J,$,X,Y);if(Z===-1)return null;else return[new E$(Z,0)]}else return this._readRawVisibleRangesForRange(J,X,Q,Y)}_readPixelOffset(J,$,X,Q){if(this._characterMapping.length===0){if(this._containsForeignElements===0)return 0;if(this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(Q);const Y=this._getReadingTarget(J);if(Y.firstChild)return Q.markDidDomLayout(),Y.firstChild.offsetWidth;else return 0}if(this._pixelOffsetCache!==null){const Y=this._pixelOffsetCache[X];if(Y!==-1)return Y;const Z=this._actualReadPixelOffset(J,$,X,Q);return this._pixelOffsetCache[X]=Z,Z}return this._actualReadPixelOffset(J,$,X,Q)}_actualReadPixelOffset(J,$,X,Q){if(this._characterMapping.length===0){const q=eq.readHorizontalRanges(this._getReadingTarget(J),0,0,0,0,Q);if(!q||q.length===0)return-1;return q[0].left}if(X===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(Q);const Y=this._characterMapping.getDomPosition(X),Z=eq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Y.partIndex,Y.charIndex,Q);if(!Z||Z.length===0)return-1;const G=Z[0].left;if(this.input.isBasicASCII){const q=this._characterMapping.getHorizontalOffset(X),U=Math.round(this.input.spaceWidth*q);if(Math.abs(U-G)<=1)return U}return G}_readRawVisibleRangesForRange(J,$,X,Q){if($===1&&X===this._characterMapping.length)return[new E$(0,this.getWidth(Q))];const Y=this._characterMapping.getDomPosition($),Z=this._characterMapping.getDomPosition(X);return eq.readHorizontalRanges(this._getReadingTarget(J),Y.partIndex,Y.charIndex,Z.partIndex,Z.charIndex,Q)}getColumnOfNodeOffset(J,$){return Zp(this._characterMapping,J,$)}}class Qp extends MN{_readVisibleRangesForRange(J,$,X,Q,Y){const Z=super._readVisibleRangesForRange(J,$,X,Q,Y);if(!Z||Z.length===0||X===Q||X===1&&Q===this._characterMapping.length)return Z;if(!this.input.containsRTL){const G=this._readPixelOffset(J,$,Q,Y);if(G!==-1){const q=Z[Z.length-1];if(q.left<G)q.width=G-q.left}}return Z}}var f70,h70,v70,J3,Yp;var ON=N(()=>{A5();V6();O1();Xp();tq();AK();kq();nX();J7();f70=function(J,$,X,Q,Y){return new Qp(J,$,X,Q,Y)},h70=function(J,$,X,Q,Y){return new MN(J,$,X,Q,Y)};v70=function(){if(fQ)return!0;if(B8||u6||C5)return!1;return!0}(),J3=!0;yJ.CLASS_NAME="view-line";Yp=function(){if(Y4)return f70;return h70}()});class J8{static _nextVisibleColumn(J,$,X){if(J===9)return J8.nextRenderTabStop($,X);if(L9(J)||KH(J))return $+2;return $+1}static visibleColumnFromColumn(J,$,X){const Q=Math.min($-1,J.length),Y=J.substring(0,Q),Z=new Jq(Y);let G=0;while(!Z.eol()){const q=e2(Y,Q,Z.offset);Z.nextGraphemeLength(),G=this._nextVisibleColumn(q,G,X)}return G}static columnFromVisibleColumn(J,$,X){if($<=0)return 1;const Q=J.length,Y=new Jq(J);let Z=0,G=1;while(!Y.eol()){const q=e2(J,Q,Y.offset);Y.nextGraphemeLength();const U=this._nextVisibleColumn(q,Z,X),H=Y.offset+1;if(U>=$){const z=$-Z;if(U-$<z)return H;else return G}Z=U,G=H}return Q+1}static nextRenderTabStop(J,$){return J+$-J%$}static nextIndentTabStop(J,$){return J+$-J%$}static prevRenderTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}static prevIndentTabStop(J,$){return Math.max(0,J-1-(J-1)%$)}}var SJ=N(()=>{o0()});class EG{static whitespaceVisibleColumn(J,$,X){const Q=J.length;let Y=0,Z=-1,G=-1;for(let q=0;q<Q;q++){if(q===$)return[Z,G,Y];if(Y%X===0)Z=q,G=Y;switch(J.charCodeAt(q)){case 32:Y+=1;break;case 9:Y=J8.nextRenderTabStop(Y,X);break;default:return[-1,-1,-1]}}if($===Q)return[Z,G,Y];return[-1,-1,-1]}static atomicPosition(J,$,X,Q){const Y=J.length,[Z,G,q]=EG.whitespaceVisibleColumn(J,$,X);if(q===-1)return-1;let U;switch(Q){case 0:U=!0;break;case 1:U=!1;break;case 2:if(q%X===0)return $;U=q%X<=X/2;break}if(U){if(Z===-1)return-1;let V=G;for(let j=Z;j<Y;++j){if(V===G+X)return Z;switch(J.charCodeAt(j)){case 32:V+=1;break;case 9:V=J8.nextRenderTabStop(V,X);break;default:return-1}}if(V===G+X)return Z;return-1}const H=J8.nextRenderTabStop(q,X);let z=q;for(let V=$;V<Y;V++){if(z===H)return V;switch(J.charCodeAt(V)){case 32:z+=1;break;case 9:z=J8.nextRenderTabStop(z,X);break;default:return-1}}if(z===H)return Y;return-1}}var TN=N(()=>{SJ()});class oX{constructor(J=null){this.hitTarget=J,this.type=0}}class _N{constructor(J,$,X){this.position=J,this.spanNode=$,this.injectedText=X,this.type=1}}class wN{constructor(J,$){this.lastViewCursorsRenderData=J,this.lastTextareaPosition=$}}class G7{static _deduceRage(J,$=null){if(!$&&J)return new L(J.lineNumber,J.column,J.lineNumber,J.column);return $!==null&&$!==void 0?$:null}static createUnknown(J,$,X){return{type:0,element:J,mouseColumn:$,position:X,range:this._deduceRage(X)}}static createTextarea(J,$){return{type:1,element:J,mouseColumn:$,position:null,range:null}}static createMargin(J,$,X,Q,Y,Z){return{type:J,element:$,mouseColumn:X,position:Q,range:Y,detail:Z}}static createViewZone(J,$,X,Q,Y){return{type:J,element:$,mouseColumn:X,position:Q,range:this._deduceRage(Q),detail:Y}}static createContentText(J,$,X,Q,Y){return{type:6,element:J,mouseColumn:$,position:X,range:this._deduceRage(X,Q),detail:Y}}static createContentEmpty(J,$,X,Q){return{type:7,element:J,mouseColumn:$,position:X,range:this._deduceRage(X),detail:Q}}static createContentWidget(J,$,X){return{type:9,element:J,mouseColumn:$,position:null,range:null,detail:X}}static createScrollbar(J,$,X){return{type:11,element:J,mouseColumn:$,position:X,range:this._deduceRage(X)}}static createOverlayWidget(J,$,X){return{type:12,element:J,mouseColumn:$,position:null,range:null,detail:X}}static createOutsideEditor(J,$,X,Q){return{type:13,element:null,mouseColumn:J,position:$,range:this._deduceRage($),outsidePosition:X,outsideDistance:Q}}static _typeToString(J){if(J===1)return"TEXTAREA";if(J===2)return"GUTTER_GLYPH_MARGIN";if(J===3)return"GUTTER_LINE_NUMBERS";if(J===4)return"GUTTER_LINE_DECORATIONS";if(J===5)return"GUTTER_VIEW_ZONE";if(J===6)return"CONTENT_TEXT";if(J===7)return"CONTENT_EMPTY";if(J===8)return"CONTENT_VIEW_ZONE";if(J===9)return"CONTENT_WIDGET";if(J===10)return"OVERVIEW_RULER";if(J===11)return"SCROLLBAR";if(J===12)return"OVERLAY_WIDGET";return"UNKNOWN"}static toString(J){return this._typeToString(J.type)+": "+J.position+" - "+J.range+" - "+JSON.stringify(J.detail)}}class u7{static isTextArea(J){return J.length===2&&J[0]===3&&J[1]===7}static isChildOfViewLines(J){return J.length>=4&&J[0]===3&&J[3]===8}static isStrictChildOfViewLines(J){return J.length>4&&J[0]===3&&J[3]===8}static isChildOfScrollableElement(J){return J.length>=2&&J[0]===3&&J[1]===6}static isChildOfMinimap(J){return J.length>=2&&J[0]===3&&J[1]===9}static isChildOfContentWidgets(J){return J.length>=4&&J[0]===3&&J[3]===1}static isChildOfOverflowGuard(J){return J.length>=1&&J[0]===3}static isChildOfOverflowingContentWidgets(J){return J.length>=1&&J[0]===2}static isChildOfOverlayWidgets(J){return J.length>=2&&J[0]===3&&J[1]===4}static isChildOfOverflowingOverlayWidgets(J){return J.length>=1&&J[0]===5}}class yG{constructor(J,$,X){this.viewModel=J.viewModel;const Q=J.configuration.options;this.layoutInfo=Q.get(143),this.viewDomNode=$.viewDomNode,this.lineHeight=Q.get(66),this.stickyTabStops=Q.get(115),this.typicalHalfwidthCharacterWidth=Q.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=X,this._context=J,this._viewHelper=$}getZoneAtCoord(J){return yG.getZoneAtCoord(this._context,J)}static getZoneAtCoord(J,$){const X=J.viewLayout.getWhitespaceAtVerticalOffset($);if(X){const Q=X.verticalOffset+X.height/2,Y=J.viewModel.getLineCount();let Z=null,G,q=null;if(X.afterLineNumber!==Y)q=new v(X.afterLineNumber+1,1);if(X.afterLineNumber>0)Z=new v(X.afterLineNumber,J.viewModel.getLineMaxColumn(X.afterLineNumber));if(q===null)G=Z;else if(Z===null)G=q;else if($<Q)G=Z;else G=q;return{viewZoneId:X.id,afterLineNumber:X.afterLineNumber,positionBefore:Z,positionAfter:q,position:G}}return null}getFullLineRangeAtCoord(J){if(this._context.viewLayout.isAfterLines(J)){const Q=this._context.viewModel.getLineCount(),Y=this._context.viewModel.getLineMaxColumn(Q);return{range:new L(Q,Y,Q,Y),isAfterLines:!0}}const $=this._context.viewLayout.getLineNumberAtVerticalOffset(J),X=this._context.viewModel.getLineMaxColumn($);return{range:new L($,1,$,X),isAfterLines:!1}}getLineNumberAtVerticalOffset(J){return this._context.viewLayout.getLineNumberAtVerticalOffset(J)}isAfterLines(J){return this._context.viewLayout.isAfterLines(J)}isInTopPadding(J){return this._context.viewLayout.isInTopPadding(J)}isInBottomPadding(J){return this._context.viewLayout.isInBottomPadding(J)}getVerticalOffsetForLineNumber(J){return this._context.viewLayout.getVerticalOffsetForLineNumber(J)}findAttribute(J,$){return yG._findAttribute(J,$,this._viewHelper.viewDomNode)}static _findAttribute(J,$,X){while(J&&J!==J.ownerDocument.body){if(J.hasAttribute&&J.hasAttribute($))return J.getAttribute($);if(J===X)return null;J=J.parentNode}return null}getLineWidth(J){return this._viewHelper.getLineWidth(J)}visibleRangeForPosition(J,$){return this._viewHelper.visibleRangeForPosition(J,$)}getPositionFromDOMInfo(J,$){return this._viewHelper.getPositionFromDOMInfo(J,$)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class qp{constructor(J,$,X,Q){this.editorPos=$,this.pos=X,this.relativePos=Q,this.mouseVerticalOffset=Math.max(0,J.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=J.getCurrentScrollLeft()+this.relativePos.x-J.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<J.layoutInfo.contentLeft&&this.relativePos.x>=J.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,a6._getMouseColumn(this.mouseContentHorizontalOffset,J.typicalHalfwidthCharacterWidth))}}class LN extends qp{constructor(J,$,X,Q,Y){super(J,$,X,Q);if(this._ctx=J,Y)this.target=Y,this.targetPath=Z7.collect(Y,J.viewDomNode);else this.target=null,this.targetPath=new Uint8Array(0)}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(J=null){if(J&&J.column<this._ctx.viewModel.getLineMaxColumn(J.lineNumber))return J8.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(J.lineNumber),J.column,this._ctx.viewModel.model.getOptions().tabSize)+1;return this.mouseColumn}fulfillUnknown(J=null){return G7.createUnknown(this.target,this._getMouseColumn(J),J)}fulfillTextarea(){return G7.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(J,$,X,Q){return G7.createMargin(J,this.target,this._getMouseColumn($),$,X,Q)}fulfillViewZone(J,$,X){return G7.createViewZone(J,this.target,this._getMouseColumn($),$,X)}fulfillContentText(J,$,X){return G7.createContentText(this.target,this._getMouseColumn(J),J,$,X)}fulfillContentEmpty(J,$){return G7.createContentEmpty(this.target,this._getMouseColumn(J),J,$)}fulfillContentWidget(J){return G7.createContentWidget(this.target,this._getMouseColumn(),J)}fulfillScrollbar(J){return G7.createScrollbar(this.target,this._getMouseColumn(J),J)}fulfillOverlayWidget(J){return G7.createOverlayWidget(this.target,this._getMouseColumn(),J)}withTarget(J){return new LN(this._ctx,this.editorPos,this.pos,this.relativePos,J)}}class a6{constructor(J,$){this._context=J,this._viewHelper=$}mouseTargetIsWidget(J){const $=J.target,X=Z7.collect($,this._viewHelper.viewDomNode);if(u7.isChildOfContentWidgets(X)||u7.isChildOfOverflowingContentWidgets(X))return!0;if(u7.isChildOfOverlayWidgets(X)||u7.isChildOfOverflowingOverlayWidgets(X))return!0;return!1}createMouseTarget(J,$,X,Q,Y){const Z=new yG(this._context,this._viewHelper,J),G=new LN(Z,$,X,Q,Y);try{const q=a6._createMouseTarget(Z,G,!1);if(q.type===6){if(Z.stickyTabStops&&q.position!==null){const U=a6._snapToSoftTabBoundary(q.position,Z.viewModel),H=L.fromPositions(U,U).plusRange(q.range);return G.fulfillContentText(U,H,q.detail)}}return q}catch(q){return G.fulfillUnknown()}}static _createMouseTarget(J,$,X){if($.target===null){if(X)return $.fulfillUnknown();const Z=a6._doHitTest(J,$);if(Z.type===1)return a6.createMouseTargetFromHitTestPosition(J,$,Z.spanNode,Z.position,Z.injectedText);return this._createMouseTarget(J,$.withTarget(Z.hitTarget),!0)}const Q=$;let Y=null;if(!u7.isChildOfOverflowGuard($.targetPath)&&!u7.isChildOfOverflowingContentWidgets($.targetPath)&&!u7.isChildOfOverflowingOverlayWidgets($.targetPath))Y=Y||$.fulfillUnknown();return Y=Y||a6._hitTestContentWidget(J,Q),Y=Y||a6._hitTestOverlayWidget(J,Q),Y=Y||a6._hitTestMinimap(J,Q),Y=Y||a6._hitTestScrollbarSlider(J,Q),Y=Y||a6._hitTestViewZone(J,Q),Y=Y||a6._hitTestMargin(J,Q),Y=Y||a6._hitTestViewCursor(J,Q),Y=Y||a6._hitTestTextArea(J,Q),Y=Y||a6._hitTestViewLines(J,Q,X),Y=Y||a6._hitTestScrollbar(J,Q),Y||$.fulfillUnknown()}static _hitTestContentWidget(J,$){if(u7.isChildOfContentWidgets($.targetPath)||u7.isChildOfOverflowingContentWidgets($.targetPath)){const X=J.findAttribute($.target,"widgetId");if(X)return $.fulfillContentWidget(X);else return $.fulfillUnknown()}return null}static _hitTestOverlayWidget(J,$){if(u7.isChildOfOverlayWidgets($.targetPath)||u7.isChildOfOverflowingOverlayWidgets($.targetPath)){const X=J.findAttribute($.target,"widgetId");if(X)return $.fulfillOverlayWidget(X);else return $.fulfillUnknown()}return null}static _hitTestViewCursor(J,$){if($.target){const X=J.lastRenderData.lastViewCursorsRenderData;for(let Q of X)if($.target===Q.domNode)return $.fulfillContentText(Q.position,null,{mightBeForeignElement:!1,injectedText:null})}if($.isInContentArea){const X=J.lastRenderData.lastViewCursorsRenderData,Q=$.mouseContentHorizontalOffset,Y=$.mouseVerticalOffset;for(let Z of X){if(Q<Z.contentLeft)continue;if(Q>Z.contentLeft+Z.width)continue;const G=J.getVerticalOffsetForLineNumber(Z.position.lineNumber);if(G<=Y&&Y<=G+Z.height)return $.fulfillContentText(Z.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(J,$){const X=J.getZoneAtCoord($.mouseVerticalOffset);if(X){const Q=$.isInContentArea?8:5;return $.fulfillViewZone(Q,X.position,X)}return null}static _hitTestTextArea(J,$){if(u7.isTextArea($.targetPath)){if(J.lastRenderData.lastTextareaPosition)return $.fulfillContentText(J.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null});return $.fulfillTextarea()}return null}static _hitTestMargin(J,$){if($.isInMarginArea){const X=J.getFullLineRangeAtCoord($.mouseVerticalOffset),Q=X.range.getStartPosition();let Y=Math.abs($.relativePos.x);const Z={isAfterLines:X.isAfterLines,glyphMarginLeft:J.layoutInfo.glyphMarginLeft,glyphMarginWidth:J.layoutInfo.glyphMarginWidth,lineNumbersWidth:J.layoutInfo.lineNumbersWidth,offsetX:Y};if(Y-=J.layoutInfo.glyphMarginLeft,Y<=J.layoutInfo.glyphMarginWidth){const G=J.viewModel.coordinatesConverter.convertViewPositionToModelPosition(X.range.getStartPosition()),q=J.viewModel.glyphLanes.getLanesAtLine(G.lineNumber);return Z.glyphMarginLane=q[Math.floor(Y/J.lineHeight)],$.fulfillMargin(2,Q,X.range,Z)}if(Y-=J.layoutInfo.glyphMarginWidth,Y<=J.layoutInfo.lineNumbersWidth)return $.fulfillMargin(3,Q,X.range,Z);return Y-=J.layoutInfo.lineNumbersWidth,$.fulfillMargin(4,Q,X.range,Z)}return null}static _hitTestViewLines(J,$,X){if(!u7.isChildOfViewLines($.targetPath))return null;if(J.isInTopPadding($.mouseVerticalOffset))return $.fulfillContentEmpty(new v(1,1),Gp);if(J.isAfterLines($.mouseVerticalOffset)||J.isInBottomPadding($.mouseVerticalOffset)){const Y=J.viewModel.getLineCount(),Z=J.viewModel.getLineMaxColumn(Y);return $.fulfillContentEmpty(new v(Y,Z),Gp)}if(X){if(u7.isStrictChildOfViewLines($.targetPath)){const Y=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset);if(J.viewModel.getLineLength(Y)===0){const G=J.getLineWidth(Y),q=NN($.mouseContentHorizontalOffset-G);return $.fulfillContentEmpty(new v(Y,1),q)}const Z=J.getLineWidth(Y);if($.mouseContentHorizontalOffset>=Z){const G=NN($.mouseContentHorizontalOffset-Z),q=new v(Y,J.viewModel.getLineMaxColumn(Y));return $.fulfillContentEmpty(q,G)}}return $.fulfillUnknown()}const Q=a6._doHitTest(J,$);if(Q.type===1)return a6.createMouseTargetFromHitTestPosition(J,$,Q.spanNode,Q.position,Q.injectedText);return this._createMouseTarget(J,$.withTarget(Q.hitTarget),!0)}static _hitTestMinimap(J,$){if(u7.isChildOfMinimap($.targetPath)){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new v(X,Q))}return null}static _hitTestScrollbarSlider(J,$){if(u7.isChildOfScrollableElement($.targetPath)){if($.target&&$.target.nodeType===1){const X=$.target.className;if(X&&/\b(slider|scrollbar)\b/.test(X)){const Q=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Y=J.viewModel.getLineMaxColumn(Q);return $.fulfillScrollbar(new v(Q,Y))}}}return null}static _hitTestScrollbar(J,$){if(u7.isChildOfScrollableElement($.targetPath)){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.viewModel.getLineMaxColumn(X);return $.fulfillScrollbar(new v(X,Q))}return null}getMouseColumn(J){const $=this._context.configuration.options,X=$.get(143),Q=this._context.viewLayout.getCurrentScrollLeft()+J.x-X.contentLeft;return a6._getMouseColumn(Q,$.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(J,$){if(J<0)return 1;return Math.round(J/$)+1}static createMouseTargetFromHitTestPosition(J,$,X,Q,Y){const{lineNumber:Z,column:G}=Q,q=J.getLineWidth(Z);if($.mouseContentHorizontalOffset>q){const P=NN($.mouseContentHorizontalOffset-q);return $.fulfillContentEmpty(Q,P)}const U=J.visibleRangeForPosition(Z,G);if(!U)return $.fulfillUnknown(Q);const H=U.left;if(Math.abs($.mouseContentHorizontalOffset-H)<1)return $.fulfillContentText(Q,null,{mightBeForeignElement:!!Y,injectedText:Y});const z=[];if(z.push({offset:U.left,column:G}),G>1){const P=J.visibleRangeForPosition(Z,G-1);if(P)z.push({offset:P.left,column:G-1})}const V=J.viewModel.getLineMaxColumn(Z);if(G<V){const P=J.visibleRangeForPosition(Z,G+1);if(P)z.push({offset:P.left,column:G+1})}z.sort((P,A)=>P.offset-A.offset);const j=$.pos.toClientCoordinates(B0(J.viewDomNode)),W=X.getBoundingClientRect(),B=W.left<=j.clientX&&j.clientX<=W.right;let K=null;for(let P=1;P<z.length;P++){const A=z[P-1],D=z[P];if(A.offset<=$.mouseContentHorizontalOffset&&$.mouseContentHorizontalOffset<=D.offset){K=new L(Z,A.column,Z,D.column);const R=Math.abs(A.offset-$.mouseContentHorizontalOffset),M=Math.abs(D.offset-$.mouseContentHorizontalOffset);Q=R<M?new v(Z,A.column):new v(Z,D.column);break}}return $.fulfillContentText(Q,K,{mightBeForeignElement:!B||!!Y,injectedText:Y})}static _doHitTestWithCaretRangeFromPoint(J,$){const X=J.getLineNumberAtVerticalOffset($.mouseVerticalOffset),Q=J.getVerticalOffsetForLineNumber(X),Y=Q+J.lineHeight;if(!(X===J.viewModel.getLineCount()&&$.mouseVerticalOffset>Y)){const G=Math.floor((Q+Y)/2);let q=$.pos.y+(G-$.mouseVerticalOffset);if(q<=$.editorPos.y)q=$.editorPos.y+1;if(q>=$.editorPos.y+$.editorPos.height)q=$.editorPos.y+$.editorPos.height-1;const U=new wG($.pos.x,q),H=this._actualDoHitTestWithCaretRangeFromPoint(J,U.toClientCoordinates(B0(J.viewDomNode)));if(H.type===1)return H}return this._actualDoHitTestWithCaretRangeFromPoint(J,$.pos.toClientCoordinates(B0(J.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(J,$){const X=SX(J.viewDomNode);let Q;if(X)if(typeof X.caretRangeFromPoint==="undefined")Q=g70(X,$.clientX,$.clientY);else Q=X.caretRangeFromPoint($.clientX,$.clientY);else Q=J.viewDomNode.ownerDocument.caretRangeFromPoint($.clientX,$.clientY);if(!Q||!Q.startContainer)return new oX;const Y=Q.startContainer;if(Y.nodeType===Y.TEXT_NODE){const Z=Y.parentNode,G=Z?Z.parentNode:null,q=G?G.parentNode:null;if((q&&q.nodeType===q.ELEMENT_NODE?q.className:null)===yJ.CLASS_NAME)return kG.createFromDOMInfo(J,Z,Q.startOffset);else return new oX(Y.parentNode)}else if(Y.nodeType===Y.ELEMENT_NODE){const Z=Y.parentNode,G=Z?Z.parentNode:null;if((G&&G.nodeType===G.ELEMENT_NODE?G.className:null)===yJ.CLASS_NAME)return kG.createFromDOMInfo(J,Y,Y.textContent.length);else return new oX(Y)}return new oX}static _doHitTestWithCaretPositionFromPoint(J,$){const X=J.viewDomNode.ownerDocument.caretPositionFromPoint($.clientX,$.clientY);if(X.offsetNode.nodeType===X.offsetNode.TEXT_NODE){const Q=X.offsetNode.parentNode,Y=Q?Q.parentNode:null,Z=Y?Y.parentNode:null;if((Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null)===yJ.CLASS_NAME)return kG.createFromDOMInfo(J,X.offsetNode.parentNode,X.offset);else return new oX(X.offsetNode.parentNode)}if(X.offsetNode.nodeType===X.offsetNode.ELEMENT_NODE){const Q=X.offsetNode.parentNode,Y=Q&&Q.nodeType===Q.ELEMENT_NODE?Q.className:null,Z=Q?Q.parentNode:null,G=Z&&Z.nodeType===Z.ELEMENT_NODE?Z.className:null;if(Y===yJ.CLASS_NAME){const q=X.offsetNode.childNodes[Math.min(X.offset,X.offsetNode.childNodes.length-1)];if(q)return kG.createFromDOMInfo(J,q,0)}else if(G===yJ.CLASS_NAME)return kG.createFromDOMInfo(J,X.offsetNode,0)}return new oX(X.offsetNode)}static _snapToSoftTabBoundary(J,$){const X=$.getLineContent(J.lineNumber),{tabSize:Q}=$.model.getOptions(),Y=EG.atomicPosition(X,J.column-1,Q,2);if(Y!==-1)return new v(J.lineNumber,Y+1);return J}static _doHitTest(J,$){let X=new oX;if(typeof J.viewDomNode.ownerDocument.caretRangeFromPoint==="function")X=this._doHitTestWithCaretRangeFromPoint(J,$);else if(J.viewDomNode.ownerDocument.caretPositionFromPoint)X=this._doHitTestWithCaretPositionFromPoint(J,$.pos.toClientCoordinates(B0(J.viewDomNode)));if(X.type===1){const Q=J.viewModel.getInjectedTextAt(X.position),Y=J.viewModel.normalizePosition(X.position,2);if(Q||!Y.equals(X.position))X=new _N(Y,X.spanNode,Q)}return X}}class IG{static getInstance(){if(!IG._INSTANCE)IG._INSTANCE=new IG;return IG._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(J,$){const X=J+$;if(this._cache[X])return this._cache[X];const Q=this._canvas.getContext("2d");Q.font=$;const Z=Q.measureText(J).width;return this._cache[X]=Z,Z}}var NN,g70,kG,Gp;var EN=N(()=>{hK();m7();ON();U1();c0();SJ();D0();TN();NN=function(J){return{isAfterLines:!1,horizontalDistanceToText:J}},g70=function(J,$,X){const Q=document.createRange();let Y=J.elementFromPoint($,X);if(Y!==null){while(Y&&Y.firstChild&&Y.firstChild.nodeType!==Y.firstChild.TEXT_NODE&&Y.lastChild&&Y.lastChild.firstChild)Y=Y.lastChild;const Z=Y.getBoundingClientRect(),G=B0(Y),q=G.getComputedStyle(Y,null).getPropertyValue("font-style"),U=G.getComputedStyle(Y,null).getPropertyValue("font-variant"),H=G.getComputedStyle(Y,null).getPropertyValue("font-weight"),z=G.getComputedStyle(Y,null).getPropertyValue("font-size"),V=G.getComputedStyle(Y,null).getPropertyValue("line-height"),j=G.getComputedStyle(Y,null).getPropertyValue("font-family"),W=`${q} ${U} ${H} ${z}/${V} ${j}`,B=Y.innerText;let K=Z.left,P=0,A;if($>Z.left+Z.width)P=B.length;else{const D=IG.getInstance();for(let R=0;R<B.length+1;R++){if(A=D.getCharWidth(B.charAt(R),W)/2,K+=A,$<K){P=R;break}K+=A}}Q.setStart(Y.firstChild,P),Q.setEnd(Y.firstChild,P)}return Q};(function(J){function $(X,Q,Y){const Z=X.getPositionFromDOMInfo(Q,Y);if(Z)return new _N(Z,Q,null);return new oX(Q)}J.createFromDOMInfo=$})(kG||(kG={}));Gp={isAfterLines:!0};IG._INSTANCE=null});function Y8(J,$,X){let Q=null,Y=null;if(typeof X.value==="function"){if(Q="value",Y=X.value,Y.length!==0)console.warn("Memoize should only be used in functions with zero parameters")}else if(typeof X.get==="function")Q="get",Y=X.get;if(!Y)throw new Error("not supported");const Z=`\$memoize\$${$}`;X[Q]=function(...G){if(!this.hasOwnProperty(Z))Object.defineProperty(this,Z,{configurable:!1,enumerable:!1,writable:!1,value:Y.apply(this,G)});return this[Z]}}var AY=N(()=>{});class w1 extends f{constructor(){super();this.dispatched=!1,this.targets=new I8,this.ignoreTargets=new I8,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(J0.runAndSubscribe(oZ,({window:J,disposables:$})=>{$.add(m(J.document,"touchstart",(X)=>this.onTouchStart(X),{passive:!1})),$.add(m(J.document,"touchend",(X)=>this.onTouchEnd(J,X))),$.add(m(J.document,"touchmove",(X)=>this.onTouchMove(X),{passive:!1}))},{window:B1,disposables:this._store}))}static addTarget(J){if(!w1.isTouchDevice())return f.None;if(!w1.INSTANCE)w1.INSTANCE=yZ(new w1);const $=w1.INSTANCE.targets.push(J);return K0($)}static ignoreTarget(J){if(!w1.isTouchDevice())return f.None;if(!w1.INSTANCE)w1.INSTANCE=yZ(new w1);const $=w1.INSTANCE.ignoreTargets.push(J);return K0($)}static isTouchDevice(){return"ontouchstart"in B1||navigator.maxTouchPoints>0}dispose(){if(this.handle)this.handle.dispose(),this.handle=null;super.dispose()}onTouchStart(J){const $=Date.now();if(this.handle)this.handle.dispose(),this.handle=null;for(let X=0,Q=J.targetTouches.length;X<Q;X++){const Y=J.targetTouches.item(X);this.activeTouches[Y.identifier]={id:Y.identifier,initialTarget:Y.target,initialTimeStamp:$,initialPageX:Y.pageX,initialPageY:Y.pageY,rollingTimestamps:[$],rollingPageX:[Y.pageX],rollingPageY:[Y.pageY]};const Z=this.newGestureEvent(I1.Start,Y.target);Z.pageX=Y.pageX,Z.pageY=Y.pageY,this.dispatchEvent(Z)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}onTouchEnd(J,$){const X=Date.now(),Q=Object.keys(this.activeTouches).length;for(let Y=0,Z=$.changedTouches.length;Y<Z;Y++){const G=$.changedTouches.item(Y);if(!this.activeTouches.hasOwnProperty(String(G.identifier))){console.warn("move of an UNKNOWN touch",G);continue}const q=this.activeTouches[G.identifier],U=Date.now()-q.initialTimeStamp;if(U<w1.HOLD_DELAY&&Math.abs(q.initialPageX-J9(q.rollingPageX))<30&&Math.abs(q.initialPageY-J9(q.rollingPageY))<30){const H=this.newGestureEvent(I1.Tap,q.initialTarget);H.pageX=J9(q.rollingPageX),H.pageY=J9(q.rollingPageY),this.dispatchEvent(H)}else if(U>=w1.HOLD_DELAY&&Math.abs(q.initialPageX-J9(q.rollingPageX))<30&&Math.abs(q.initialPageY-J9(q.rollingPageY))<30){const H=this.newGestureEvent(I1.Contextmenu,q.initialTarget);H.pageX=J9(q.rollingPageX),H.pageY=J9(q.rollingPageY),this.dispatchEvent(H)}else if(Q===1){const H=J9(q.rollingPageX),z=J9(q.rollingPageY),V=J9(q.rollingTimestamps)-q.rollingTimestamps[0],j=H-q.rollingPageX[0],W=z-q.rollingPageY[0],B=[...this.targets].filter((K)=>q.initialTarget instanceof Node&&K.contains(q.initialTarget));this.inertia(J,B,X,Math.abs(j)/V,j>0?1:-1,H,Math.abs(W)/V,W>0?1:-1,z)}this.dispatchEvent(this.newGestureEvent(I1.End,q.initialTarget)),delete this.activeTouches[G.identifier]}if(this.dispatched)$.preventDefault(),$.stopPropagation(),this.dispatched=!1}newGestureEvent(J,$){const X=document.createEvent("CustomEvent");return X.initEvent(J,!1,!0),X.initialTarget=$,X.tapCount=0,X}dispatchEvent(J){if(J.type===I1.Tap){const $=(new Date()).getTime();let X=0;if($-this._lastSetTapCountTime>w1.CLEAR_TAP_COUNT_TIME)X=1;else X=2;this._lastSetTapCountTime=$,J.tapCount=X}else if(J.type===I1.Change||J.type===I1.Contextmenu)this._lastSetTapCountTime=0;if(J.initialTarget instanceof Node){for(let $ of this.ignoreTargets)if($.contains(J.initialTarget))return;for(let $ of this.targets)if($.contains(J.initialTarget))$.dispatchEvent(J),this.dispatched=!0}}inertia(J,$,X,Q,Y,Z,G,q,U){this.handle=R6(J,()=>{const H=Date.now(),z=H-X;let V=0,j=0,W=!0;if(Q+=w1.SCROLL_FRICTION*z,G+=w1.SCROLL_FRICTION*z,Q>0)W=!1,V=Y*Q*z;if(G>0)W=!1,j=q*G*z;const B=this.newGestureEvent(I1.Change);if(B.translationX=V,B.translationY=j,$.forEach((K)=>K.dispatchEvent(B)),!W)this.inertia(J,$,H,Q,Y,Z+V,G,q,U+j)})}onTouchMove(J){const $=Date.now();for(let X=0,Q=J.changedTouches.length;X<Q;X++){const Y=J.changedTouches.item(X);if(!this.activeTouches.hasOwnProperty(String(Y.identifier))){console.warn("end of an UNKNOWN touch",Y);continue}const Z=this.activeTouches[Y.identifier],G=this.newGestureEvent(I1.Change,Z.initialTarget);if(G.translationX=Y.pageX-J9(Z.rollingPageX),G.translationY=Y.pageY-J9(Z.rollingPageY),G.pageX=Y.pageX,G.pageY=Y.pageY,this.dispatchEvent(G),Z.rollingPageX.length>3)Z.rollingPageX.shift(),Z.rollingPageY.shift(),Z.rollingTimestamps.shift();Z.rollingPageX.push(Y.pageX),Z.rollingPageY.push(Y.pageY),Z.rollingTimestamps.push($)}if(this.dispatched)J.preventDefault(),J.stopPropagation(),this.dispatched=!1}}var p70,I1;var s9=N(()=>{D0();X7();H1();AY();F0();X0();w9();p70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};(function(J){J.Tap="-monaco-gesturetap",J.Change="-monaco-gesturechange",J.Start="-monaco-gesturestart",J.End="-monaco-gesturesend",J.Contextmenu="-monaco-gesturecontextmenu"})(I1||(I1={}));w1.SCROLL_FRICTION=-0.005;w1.HOLD_DELAY=700;w1.CLEAR_TAP_COUNT_TIME=400;p70([Y8],w1,"isTouchDevice",null)});class q7 extends f{onclick(J,$){this._register(m(J,$0.CLICK,(X)=>$(new Q7(B0(J),X))))}onmousedown(J,$){this._register(m(J,$0.MOUSE_DOWN,(X)=>$(new Q7(B0(J),X))))}onmouseover(J,$){this._register(m(J,$0.MOUSE_OVER,(X)=>$(new Q7(B0(J),X))))}onmouseleave(J,$){this._register(m(J,$0.MOUSE_LEAVE,(X)=>$(new Q7(B0(J),X))))}onkeydown(J,$){this._register(m(J,$0.KEY_DOWN,(X)=>$(new A1(X))))}onkeyup(J,$){this._register(m(J,$0.KEY_UP,(X)=>$(new A1(X))))}oninput(J,$){this._register(m(J,$0.INPUT,$))}onblur(J,$){this._register(m(J,$0.BLUR,$))}onfocus(J,$){this._register(m(J,$0.FOCUS,$))}ignoreGesture(J){return w1.ignoreTarget(J)}}var k$=N(()=>{D0();T7();k9();s9();X0()});class kN extends q7{constructor(J){super();if(this._onActivate=J.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=J.bgWidth+"px",this.bgDomNode.style.height=J.bgHeight+"px",typeof J.top!=="undefined")this.bgDomNode.style.top="0px";if(typeof J.left!=="undefined")this.bgDomNode.style.left="0px";if(typeof J.bottom!=="undefined")this.bgDomNode.style.bottom="0px";if(typeof J.right!=="undefined")this.bgDomNode.style.right="0px";if(this.domNode=document.createElement("div"),this.domNode.className=J.className,this.domNode.classList.add(...y0.asClassNameArray(J.icon)),this.domNode.style.position="absolute",this.domNode.style.width=PY+"px",this.domNode.style.height=PY+"px",typeof J.top!=="undefined")this.domNode.style.top=J.top+"px";if(typeof J.left!=="undefined")this.domNode.style.left=J.left+"px";if(typeof J.bottom!=="undefined")this.domNode.style.bottom=J.bottom+"px";if(typeof J.right!=="undefined")this.domNode.style.right=J.right+"px";this._pointerMoveMonitor=this._register(new dX),this._register(i1(this.bgDomNode,$0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._register(i1(this.domNode,$0.POINTER_DOWN,($)=>this._arrowPointerDown($))),this._pointerdownRepeatTimer=this._register(new tZ),this._pointerdownScheduleRepeatTimer=this._register(new N7)}_arrowPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const $=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664,B0(J))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet($,200),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(X)=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),J.preventDefault()}}var PY;var mK=N(()=>{Oz();k$();u1();W6();D0();PY=11});class IN extends f{constructor(J,$,X){super();this._visibility=J,this._visibleClassName=$,this._invisibleClassName=X,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new N7)}setVisibility(J){if(this._visibility!==J)this._visibility=J,this._updateShouldBeVisible()}setShouldBeVisible(J){this._rawShouldBeVisible=J,this._updateShouldBeVisible()}_applyVisibilitySetting(){if(this._visibility===2)return!1;if(this._visibility===3)return!0;return this._rawShouldBeVisible}_updateShouldBeVisible(){const J=this._applyVisibilitySetting();if(this._shouldBeVisible!==J)this._shouldBeVisible=J,this.ensureVisibility()}setIsNeeded(J){if(this._isNeeded!==J)this._isNeeded=J,this.ensureVisibility()}setDomNode(J){this._domNode=J,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}if(this._shouldBeVisible)this._reveal();else this._hide(!0)}_reveal(){if(this._isVisible)return;this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var J;(J=this._domNode)===null||J===void 0||J.setClassName(this._visibleClassName)},0)}_hide(J){var $;if(this._revealTimer.cancel(),!this._isVisible)return;this._isVisible=!1,($=this._domNode)===null||$===void 0||$.setClassName(this._invisibleClassName+(J?" fade":""))}}var Up=N(()=>{u1();X0()});class kz extends q7{constructor(J){super();this._lazyRender=J.lazyRender,this._host=J.host,this._scrollable=J.scrollable,this._scrollByPage=J.scrollByPage,this._scrollbarState=J.scrollbarState,this._visibilityController=this._register(new IN(J.visibility,"visible scrollbar "+J.extraScrollbarClassName,"invisible scrollbar "+J.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new dX),this._shouldRender=!0,this.domNode=t0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(m(this.domNode.domNode,$0.POINTER_DOWN,($)=>this._domNodePointerDown($)))}_createArrow(J){const $=this._register(new kN(J));this.domNode.domNode.appendChild($.bgDomNode),this.domNode.domNode.appendChild($.domNode)}_createSlider(J,$,X,Q){if(this.slider=t0(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(J),this.slider.setLeft($),typeof X==="number")this.slider.setWidth(X);if(typeof Q==="number")this.slider.setHeight(Q);this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(m(this.slider.domNode,$0.POINTER_DOWN,(Y)=>{if(Y.button===0)Y.preventDefault(),this._sliderPointerDown(Y)})),this.onclick(this.slider.domNode,(Y)=>{if(Y.leftButton)Y.stopPropagation()})}_onElementSize(J){if(this._scrollbarState.setVisibleSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollSize(J){if(this._scrollbarState.setScrollSize(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}_onElementScrollPosition(J){if(this._scrollbarState.setScrollPosition(J)){if(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,!this._lazyRender)this.render()}return this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){if(!this._shouldRender)return;this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())}_domNodePointerDown(J){if(J.target!==this.domNode.domNode)return;this._onPointerDown(J)}delegatePointerDown(J){const $=this.domNode.domNode.getClientRects()[0].top,X=$+this._scrollbarState.getSliderPosition(),Q=$+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),Y=this._sliderPointerPosition(J);if(X<=Y&&Y<=Q){if(J.button===0)J.preventDefault(),this._sliderPointerDown(J)}else this._onPointerDown(J)}_onPointerDown(J){let $,X;if(J.target===this.domNode.domNode&&typeof J.offsetX==="number"&&typeof J.offsetY==="number")$=J.offsetX,X=J.offsetY;else{const Y=M6(this.domNode.domNode);$=J.pageX-Y.left,X=J.pageY-Y.top}const Q=this._pointerDownRelativePosition($,X);if(this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Q):this._scrollbarState.getDesiredScrollPositionFromOffset(Q)),J.button===0)J.preventDefault(),this._sliderPointerDown(J)}_sliderPointerDown(J){if(!J.target||!(J.target instanceof Element))return;const $=this._sliderPointerPosition(J),X=this._sliderOrthogonalPointerPosition(J),Q=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Y)=>{const Z=this._sliderOrthogonalPointerPosition(Y),G=Math.abs(Z-X);if(k8&&G>m70){this._setDesiredScrollPositionNow(Q.getScrollPosition());return}const U=this._sliderPointerPosition(Y)-$;this._setDesiredScrollPositionNow(Q.getDesiredScrollPositionFromDelta(U))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(J){const $={};this.writeScrollPosition($,J),this._scrollable.setScrollPositionNow($)}updateScrollbarSize(J){if(this._updateScrollbarSize(J),this._scrollbarState.setScrollbarSize(J),this._shouldRender=!0,!this._lazyRender)this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var m70;var yN=N(()=>{D0();V6();Oz();mK();Up();k$();O1();m70=140});class tX{constructor(J,$,X,Q,Y,Z){this._scrollbarSize=Math.round($),this._oppositeScrollbarSize=Math.round(X),this._arrowSize=Math.round(J),this._visibleSize=Q,this._scrollSize=Y,this._scrollPosition=Z,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new tX(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(J){const $=Math.round(J);if(this._visibleSize!==$)return this._visibleSize=$,this._refreshComputedValues(),!0;return!1}setScrollSize(J){const $=Math.round(J);if(this._scrollSize!==$)return this._scrollSize=$,this._refreshComputedValues(),!0;return!1}setScrollPosition(J){const $=Math.round(J);if(this._scrollPosition!==$)return this._scrollPosition=$,this._refreshComputedValues(),!0;return!1}setScrollbarSize(J){this._scrollbarSize=Math.round(J)}setOppositeScrollbarSize(J){this._oppositeScrollbarSize=Math.round(J)}static _computeValues(J,$,X,Q,Y){const Z=Math.max(0,X-J),G=Math.max(0,Z-2*$),q=Q>0&&Q>X;if(!q)return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(G),computedSliderRatio:0,computedSliderPosition:0};const U=Math.round(Math.max(20,Math.floor(X*G/Q))),H=(G-U)/(Q-X),z=Y*H;return{computedAvailableSize:Math.round(Z),computedIsNeeded:q,computedSliderSize:Math.round(U),computedSliderRatio:H,computedSliderPosition:Math.round(z)}}_refreshComputedValues(){const J=tX._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=J.computedAvailableSize,this._computedIsNeeded=J.computedIsNeeded,this._computedSliderSize=J.computedSliderSize,this._computedSliderRatio=J.computedSliderRatio,this._computedSliderPosition=J.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(J){if(!this._computedIsNeeded)return 0;const $=J-this._arrowSize-this._computedSliderSize/2;return Math.round($/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(J){if(!this._computedIsNeeded)return 0;const $=J-this._arrowSize;let X=this._scrollPosition;if($<this._computedSliderPosition)X-=this._visibleSize;else X+=this._visibleSize;return X}getDesiredScrollPositionFromDelta(J){if(!this._computedIsNeeded)return 0;const $=this._computedSliderPosition+J;return Math.round($/this._computedSliderRatio)}}var uK=N(()=>{});class SN extends kz{constructor(J,$,X){const Q=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:X,scrollbarState:new tX($.horizontalHasArrows?$.arrowSize:0,$.horizontal===2?0:$.horizontalScrollbarSize,$.vertical===2?0:$.verticalScrollbarSize,Q.width,Q.scrollWidth,Y.scrollLeft),visibility:$.horizontal,extraScrollbarClassName:"horizontal",scrollable:J,scrollByPage:$.scrollByPage});if($.horizontalHasArrows){const Z=($.arrowSize-PY)/2,G=($.horizontalScrollbarSize-PY)/2;this._createArrow({className:"scra",icon:U0.scrollbarButtonLeft,top:G,left:Z,bottom:void 0,right:void 0,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new RJ(null,1,0))}),this._createArrow({className:"scra",icon:U0.scrollbarButtonRight,top:G,left:void 0,bottom:void 0,right:Z,bgWidth:$.arrowSize,bgHeight:$.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new RJ(null,-1,0))})}this._createSlider(Math.floor(($.horizontalScrollbarSize-$.horizontalSliderSize)/2),0,void 0,$.horizontalSliderSize)}_updateSlider(J,$){this.slider.setWidth(J),this.slider.setLeft($)}_renderDomNode(J,$){this.domNode.setWidth(J),this.domNode.setHeight($),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(J.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return J}_sliderPointerPosition(J){return J.pageX}_sliderOrthogonalPointerPosition(J){return J.pageY}_updateScrollbarSize(J){this.slider.setHeight(J)}writeScrollPosition(J,$){J.scrollLeft=$}updateOptions(J){this.updateScrollbarSize(J.horizontal===2?0:J.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._visibilityController.setVisibility(J.horizontal),this._scrollByPage=J.scrollByPage}}var Hp=N(()=>{k9();yN();mK();uK();z6()});class CN extends kz{constructor(J,$,X){const Q=J.getScrollDimensions(),Y=J.getCurrentScrollPosition();super({lazyRender:$.lazyRender,host:X,scrollbarState:new tX($.verticalHasArrows?$.arrowSize:0,$.vertical===2?0:$.verticalScrollbarSize,0,Q.height,Q.scrollHeight,Y.scrollTop),visibility:$.vertical,extraScrollbarClassName:"vertical",scrollable:J,scrollByPage:$.scrollByPage});if($.verticalHasArrows){const Z=($.arrowSize-PY)/2,G=($.verticalScrollbarSize-PY)/2;this._createArrow({className:"scra",icon:U0.scrollbarButtonUp,top:Z,left:G,bottom:void 0,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new RJ(null,0,1))}),this._createArrow({className:"scra",icon:U0.scrollbarButtonDown,top:void 0,left:G,bottom:Z,right:void 0,bgWidth:$.verticalScrollbarSize,bgHeight:$.arrowSize,onActivate:()=>this._host.onMouseWheel(new RJ(null,0,-1))})}this._createSlider(0,Math.floor(($.verticalScrollbarSize-$.verticalSliderSize)/2),$.verticalSliderSize,void 0)}_updateSlider(J,$){this.slider.setHeight(J),this.slider.setTop($)}_renderDomNode(J,$){this.domNode.setWidth($),this.domNode.setHeight(J),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(J){return this._shouldRender=this._onElementScrollSize(J.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(J.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(J.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(J,$){return $}_sliderPointerPosition(J){return J.pageY}_sliderOrthogonalPointerPosition(J){return J.pageX}_updateScrollbarSize(J){this.slider.setWidth(J)}writeScrollPosition(J,$){J.scrollTop=$}updateOptions(J){this.updateScrollbarSize(J.vertical===2?0:J.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(J.vertical),this._scrollByPage=J.scrollByPage}}var zp=N(()=>{k9();yN();mK();uK();z6()});class cK{constructor(J,$,X,Q,Y,Z,G){if(this._forceIntegerValues=J,this._scrollStateBrand=void 0,this._forceIntegerValues)$=$|0,X=X|0,Q=Q|0,Y=Y|0,Z=Z|0,G=G|0;if(this.rawScrollLeft=Q,this.rawScrollTop=G,$<0)$=0;if(Q+$>X)Q=X-$;if(Q<0)Q=0;if(Y<0)Y=0;if(G+Y>Z)G=Z-Y;if(G<0)G=0;this.width=$,this.scrollWidth=X,this.scrollLeft=Q,this.height=Y,this.scrollHeight=Z,this.scrollTop=G}equals(J){return this.rawScrollLeft===J.rawScrollLeft&&this.rawScrollTop===J.rawScrollTop&&this.width===J.width&&this.scrollWidth===J.scrollWidth&&this.scrollLeft===J.scrollLeft&&this.height===J.height&&this.scrollHeight===J.scrollHeight&&this.scrollTop===J.scrollTop}withScrollDimensions(J,$){return new cK(this._forceIntegerValues,typeof J.width!=="undefined"?J.width:this.width,typeof J.scrollWidth!=="undefined"?J.scrollWidth:this.scrollWidth,$?this.rawScrollLeft:this.scrollLeft,typeof J.height!=="undefined"?J.height:this.height,typeof J.scrollHeight!=="undefined"?J.scrollHeight:this.scrollHeight,$?this.rawScrollTop:this.scrollTop)}withScrollPosition(J){return new cK(this._forceIntegerValues,this.width,this.scrollWidth,typeof J.scrollLeft!=="undefined"?J.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof J.scrollTop!=="undefined"?J.scrollTop:this.rawScrollTop)}createScrollEvent(J,$){const X=this.width!==J.width,Q=this.scrollWidth!==J.scrollWidth,Y=this.scrollLeft!==J.scrollLeft,Z=this.height!==J.height,G=this.scrollHeight!==J.scrollHeight,q=this.scrollTop!==J.scrollTop;return{inSmoothScrolling:$,oldWidth:J.width,oldScrollWidth:J.scrollWidth,oldScrollLeft:J.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:J.height,oldScrollHeight:J.scrollHeight,oldScrollTop:J.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:X,scrollWidthChanged:Q,scrollLeftChanged:Y,heightChanged:Z,scrollHeightChanged:G,scrollTopChanged:q}}}class CJ extends f{constructor(J){super();this._scrollableBrand=void 0,this._onScroll=this._register(new y),this.onScroll=this._onScroll.event,this._smoothScrollDuration=J.smoothScrollDuration,this._scheduleAtNextAnimationFrame=J.scheduleAtNextAnimationFrame,this._state=new cK(J.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;super.dispose()}setSmoothScrollDuration(J){this._smoothScrollDuration=J}validateScrollPosition(J){return this._state.withScrollPosition(J)}getScrollDimensions(){return this._state}setScrollDimensions(J,$){var X;const Q=this._state.withScrollDimensions(J,$);this._setState(Q,Boolean(this._smoothScrolling)),(X=this._smoothScrolling)===null||X===void 0||X.acceptScrollDimensions(this._state)}getFutureScrollPosition(){if(this._smoothScrolling)return this._smoothScrolling.to;return this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(J){const $=this._state.withScrollPosition(J);if(this._smoothScrolling)this._smoothScrolling.dispose(),this._smoothScrolling=null;this._setState($,!1)}setScrollPositionSmooth(J,$){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(J);if(this._smoothScrolling){J={scrollLeft:typeof J.scrollLeft==="undefined"?this._smoothScrolling.to.scrollLeft:J.scrollLeft,scrollTop:typeof J.scrollTop==="undefined"?this._smoothScrolling.to.scrollTop:J.scrollTop};const X=this._state.withScrollPosition(J);if(this._smoothScrolling.to.scrollLeft===X.scrollLeft&&this._smoothScrolling.to.scrollTop===X.scrollTop)return;let Q;if($)Q=new Iz(this._smoothScrolling.from,X,this._smoothScrolling.startTime,this._smoothScrolling.duration);else Q=this._smoothScrolling.combine(this._state,X,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=Q}else{const X=this._state.withScrollPosition(J);this._smoothScrolling=Iz.start(this._state,X,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}hasPendingScrollAnimation(){return Boolean(this._smoothScrolling)}_performSmoothScrolling(){if(!this._smoothScrolling)return;const J=this._smoothScrolling.tick(),$=this._state.withScrollPosition(J);if(this._setState($,!0),!this._smoothScrolling)return;if(J.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{if(!this._smoothScrolling)return;this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling()})}_setState(J,$){const X=this._state;if(X.equals(J))return;this._state=J,this._onScroll.fire(this._state.createScrollEvent(X,$))}}class bN{constructor(J,$,X){this.scrollLeft=J,this.scrollTop=$,this.isDone=X}}class Iz{constructor(J,$,X,Q){this.from=J,this.to=$,this.duration=Q,this.startTime=X,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(J,$,X){if(Math.abs(J-$)>2.5*X){let Y,Z;if(J<$)Y=J+0.75*X,Z=$-0.75*X;else Y=J-0.75*X,Z=$+0.75*X;return u70(xN(J,Y),xN(Z,$),0.33)}return xN(J,$)}dispose(){if(this.animationFrameDisposable!==null)this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null}acceptScrollDimensions(J){this.to=J.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(J){const $=(J-this.startTime)/this.duration;if($<1){const X=this.scrollLeft($),Q=this.scrollTop($);return new bN(X,Q,!1)}return new bN(this.to.scrollLeft,this.to.scrollTop,!0)}combine(J,$,X){return Iz.start(J,$,X)}static start(J,$,X){X=X+10;const Q=Date.now()-10;return new Iz(J,$,Q,X)}}var xN,u70,c70,l70;var $3=N(()=>{F0();X0();xN=function(J,$){const X=$-J;return function(Q){return J+X*l70(Q)}},u70=function(J,$,X){return function(Q){if(Q<X)return J(Q/X);return $((Q-X)/(1-X))}},c70=function(J){return Math.pow(J,3)},l70=function(J){return 1-c70(1-J)}});var Vp=N(()=>{q1();V0(".monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;z-index:11;background:0 0;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{display:none;position:absolute}.monaco-scrollable-element>.shadow.top{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;width:100%;height:3px;display:block;top:0;left:3px}.monaco-scrollable-element>.shadow.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset;width:3px;height:100%;display:block;top:3px;left:0}.monaco-scrollable-element>.shadow.top-left-corner{width:3px;height:3px;display:block;top:0;left:0}.monaco-scrollable-element>.shadow.top.left{box-shadow:var(--vscode-scrollbar-shadow)6px 0 6px -6px inset}.monaco-scrollable-element>.scrollbar>.slider{background:var(--vscode-scrollbarSlider-background)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-scrollable-element>.scrollbar>.slider.active{background:var(--vscode-scrollbarSlider-activeBackground)}")});class Bp{constructor(J,$,X){this.timestamp=J,this.deltaX=$,this.deltaY=X,this.score=0}}class X3{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let J=1,$=0,X=1,Q=this._rear;do{const Y=Q===this._front?J:Math.pow(2,-X);if(J-=Y,$+=this._memory[Q].score*Y,Q===this._front)break;Q=(this._capacity+Q-1)%this._capacity,X++}while(!0);return $<=0.5}acceptStandardWheelEvent(J){if(G$){const $=B0(J.browserEvent),X=ax($);this.accept(Date.now(),J.deltaX*X,J.deltaY*X)}else this.accept(Date.now(),J.deltaX,J.deltaY)}accept(J,$,X){const Q=new Bp(J,$,X);if(Q.score=this._computeScore(Q),this._front===-1&&this._rear===-1)this._memory[0]=Q,this._front=0,this._rear=0;else{if(this._rear=(this._rear+1)%this._capacity,this._rear===this._front)this._front=(this._front+1)%this._capacity;this._memory[this._rear]=Q}}_computeScore(J){if(Math.abs(J.deltaX)>0&&Math.abs(J.deltaY)>0)return 1;let $=0.5;const X=this._front===-1&&this._rear===-1?null:this._memory[this._rear];if(!this._isAlmostInt(J.deltaX)||!this._isAlmostInt(J.deltaY))$+=0.25;return Math.min(Math.max($,0),1)}_isAlmostInt(J){return Math.abs(Math.round(J)-J)<0.01}}class lK extends q7{get options(){return this._options}constructor(J,$,X){super();this._onScroll=this._register(new y),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y),J.style.overflow="hidden",this._options=s70($),this._scrollable=X,this._register(this._scrollable.onScroll((Y)=>{this._onWillScroll.fire(Y),this._onDidScroll(Y),this._onScroll.fire(Y)}));const Q={onMouseWheel:(Y)=>this._onMouseWheel(Y),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};if(this._verticalScrollbar=this._register(new CN(this._scrollable,this._options,Q)),this._horizontalScrollbar=this._register(new SN(this._scrollable,this._options,Q)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(J),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows)this._leftShadowDomNode=t0(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=t0(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=t0(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode);else this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null;this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(Y)=>this._onMouseOver(Y)),this.onmouseleave(this._listenOnDomNode,(Y)=>this._onMouseLeave(Y)),this._hideTimeout=this._register(new N7),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=k1(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(J){this._verticalScrollbar.delegatePointerDown(J)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(J){this._scrollable.setScrollDimensions(J,!1)}updateClassName(J){if(this._options.className=J,a0)this._options.className+=" mac";this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(J){if(typeof J.handleMouseWheel!=="undefined")this._options.handleMouseWheel=J.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel);if(typeof J.mouseWheelScrollSensitivity!=="undefined")this._options.mouseWheelScrollSensitivity=J.mouseWheelScrollSensitivity;if(typeof J.fastScrollSensitivity!=="undefined")this._options.fastScrollSensitivity=J.fastScrollSensitivity;if(typeof J.scrollPredominantAxis!=="undefined")this._options.scrollPredominantAxis=J.scrollPredominantAxis;if(typeof J.horizontal!=="undefined")this._options.horizontal=J.horizontal;if(typeof J.vertical!=="undefined")this._options.vertical=J.vertical;if(typeof J.horizontalScrollbarSize!=="undefined")this._options.horizontalScrollbarSize=J.horizontalScrollbarSize;if(typeof J.verticalScrollbarSize!=="undefined")this._options.verticalScrollbarSize=J.verticalScrollbarSize;if(typeof J.scrollByPage!=="undefined")this._options.scrollByPage=J.scrollByPage;if(this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),!this._options.lazyRender)this._render()}delegateScrollFromMouseWheelEvent(J){this._onMouseWheel(new RJ(J))}_setListeningToMouseWheel(J){if(this._mouseWheelToDispose.length>0===J)return;if(this._mouseWheelToDispose=k1(this._mouseWheelToDispose),J){const X=(Q)=>{this._onMouseWheel(new RJ(Q))};this._mouseWheelToDispose.push(m(this._listenOnDomNode,$0.MOUSE_WHEEL,X,{passive:!1}))}}_onMouseWheel(J){var $;if(($=J.browserEvent)===null||$===void 0?void 0:$.defaultPrevented)return;const X=X3.INSTANCE;if(Wp)X.acceptStandardWheelEvent(J);let Q=!1;if(J.deltaY||J.deltaX){let Z=J.deltaY*this._options.mouseWheelScrollSensitivity,G=J.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis)if(this._options.scrollYToX&&G+Z===0)G=Z=0;else if(Math.abs(Z)>=Math.abs(G))G=0;else Z=0;if(this._options.flipAxes)[Z,G]=[G,Z];const q=!a0&&J.browserEvent&&J.browserEvent.shiftKey;if((this._options.scrollYToX||q)&&!G)G=Z,Z=0;if(J.browserEvent&&J.browserEvent.altKey)G=G*this._options.fastScrollSensitivity,Z=Z*this._options.fastScrollSensitivity;const U=this._scrollable.getFutureScrollPosition();let H={};if(Z){const z=jp*Z,V=U.scrollTop-(z<0?Math.floor(z):Math.ceil(z));this._verticalScrollbar.writeScrollPosition(H,V)}if(G){const z=jp*G,V=U.scrollLeft-(z<0?Math.floor(z):Math.ceil(z));this._horizontalScrollbar.writeScrollPosition(H,V)}if(H=this._scrollable.validateScrollPosition(H),U.scrollLeft!==H.scrollLeft||U.scrollTop!==H.scrollTop){if(Wp&&this._options.mouseWheelSmoothScroll&&X.isPhysicalMouseWheel())this._scrollable.setScrollPositionSmooth(H);else this._scrollable.setScrollPositionNow(H);Q=!0}}let Y=Q;if(!Y&&this._options.alwaysConsumeMouseWheel)Y=!0;if(!Y&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded()))Y=!0;if(Y)J.preventDefault(),J.stopPropagation()}_onDidScroll(J){if(this._shouldRender=this._horizontalScrollbar.onDidScroll(J)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(J)||this._shouldRender,this._options.useShadows)this._shouldRender=!0;if(this._revealOnScroll)this._reveal();if(!this._options.lazyRender)this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!this._shouldRender)return;if(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows){const J=this._scrollable.getCurrentScrollPosition(),$=J.scrollTop>0,X=J.scrollLeft>0,Q=X?" left":"",Y=$?" top":"",Z=X||$?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Q}`),this._topShadowDomNode.setClassName(`shadow${Y}`),this._topLeftShadowDomNode.setClassName(`shadow${Z}${Y}${Q}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(J){this._mouseIsOver=!1,this._hide()}_onMouseOver(J){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){if(!this._mouseIsOver&&!this._isDragging)this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide()}_scheduleHide(){if(!this._mouseIsOver&&!this._isDragging)this._hideTimeout.cancelAndSet(()=>this._hide(),d70)}}class vN extends lK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;const X=new CJ({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(Q)=>R6(B0(J),Q)});super(J,$,X);this._register(X)}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}}class eX extends lK{constructor(J,$,X){super(J,$,X)}setScrollPosition(J){if(J.reuseAnimation)this._scrollable.setScrollPositionSmooth(J,J.reuseAnimation);else this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class JQ extends lK{constructor(J,$){$=$||{},$.mouseWheelSmoothScroll=!1;const X=new CJ({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:(Q)=>R6(B0(J),Q)});super(J,$,X);this._register(X),this._element=J,this._register(this.onScroll((Q)=>{if(Q.scrollTopChanged)this._element.scrollTop=Q.scrollTop;if(Q.scrollLeftChanged)this._element.scrollLeft=Q.scrollLeft})),this.scanDomNode()}setScrollPosition(J){this._scrollable.setScrollPositionNow(J)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}var s70,d70,jp,Wp;var _4=N(()=>{A5();D0();V6();k9();Hp();zp();k$();u1();F0();X0();O1();$3();Vp();s70=function(J){const $={lazyRender:typeof J.lazyRender!=="undefined"?J.lazyRender:!1,className:typeof J.className!=="undefined"?J.className:"",useShadows:typeof J.useShadows!=="undefined"?J.useShadows:!0,handleMouseWheel:typeof J.handleMouseWheel!=="undefined"?J.handleMouseWheel:!0,flipAxes:typeof J.flipAxes!=="undefined"?J.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof J.consumeMouseWheelIfScrollbarIsNeeded!=="undefined"?J.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof J.alwaysConsumeMouseWheel!=="undefined"?J.alwaysConsumeMouseWheel:!1,scrollYToX:typeof J.scrollYToX!=="undefined"?J.scrollYToX:!1,mouseWheelScrollSensitivity:typeof J.mouseWheelScrollSensitivity!=="undefined"?J.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof J.fastScrollSensitivity!=="undefined"?J.fastScrollSensitivity:5,scrollPredominantAxis:typeof J.scrollPredominantAxis!=="undefined"?J.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof J.mouseWheelSmoothScroll!=="undefined"?J.mouseWheelSmoothScroll:!0,arrowSize:typeof J.arrowSize!=="undefined"?J.arrowSize:11,listenOnDomNode:typeof J.listenOnDomNode!=="undefined"?J.listenOnDomNode:null,horizontal:typeof J.horizontal!=="undefined"?J.horizontal:1,horizontalScrollbarSize:typeof J.horizontalScrollbarSize!=="undefined"?J.horizontalScrollbarSize:10,horizontalSliderSize:typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:0,horizontalHasArrows:typeof J.horizontalHasArrows!=="undefined"?J.horizontalHasArrows:!1,vertical:typeof J.vertical!=="undefined"?J.vertical:1,verticalScrollbarSize:typeof J.verticalScrollbarSize!=="undefined"?J.verticalScrollbarSize:10,verticalHasArrows:typeof J.verticalHasArrows!=="undefined"?J.verticalHasArrows:!1,verticalSliderSize:typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:0,scrollByPage:typeof J.scrollByPage!=="undefined"?J.scrollByPage:!1};if($.horizontalSliderSize=typeof J.horizontalSliderSize!=="undefined"?J.horizontalSliderSize:$.horizontalScrollbarSize,$.verticalSliderSize=typeof J.verticalSliderSize!=="undefined"?J.verticalSliderSize:$.verticalScrollbarSize,a0)$.className+=" mac";return $},d70=500,jp=50,Wp=!0;X3.INSTANCE=new X3});class yz extends N4{constructor(J,$,X){super();this._mouseLeaveMonitor=null,this._context=J,this.viewController=$,this.viewHelper=X,this.mouseTargetFactory=new a6(this._context,X),this._mouseDownOperation=this._register(new Fp(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Z,G)=>this._createMouseTarget(Z,G),(Z)=>this._getMouseColumn(Z))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(143).height;const Q=new BN(this.viewHelper.viewDomNode);this._register(Q.onContextMenu(this.viewHelper.viewDomNode,(Z)=>this._onContextMenu(Z,!0))),this._register(Q.onMouseMove(this.viewHelper.viewDomNode,(Z)=>{if(this._onMouseMove(Z),!this._mouseLeaveMonitor)this._mouseLeaveMonitor=m(this.viewHelper.viewDomNode.ownerDocument,"mousemove",(G)=>{if(!this.viewHelper.viewDomNode.contains(G.target))this._onMouseLeave(new T4(G,!1,this.viewHelper.viewDomNode))})})),this._register(Q.onMouseUp(this.viewHelper.viewDomNode,(Z)=>this._onMouseUp(Z))),this._register(Q.onMouseLeave(this.viewHelper.viewDomNode,(Z)=>this._onMouseLeave(Z)));let Y=0;this._register(Q.onPointerDown(this.viewHelper.viewDomNode,(Z,G)=>{Y=G})),this._register(m(this.viewHelper.viewDomNode,$0.POINTER_UP,(Z)=>{this._mouseDownOperation.onPointerUp()})),this._register(Q.onMouseDown(this.viewHelper.viewDomNode,(Z)=>this._onMouseDown(Z,Y))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const J=X3.INSTANCE;let $=0,X=FJ.getZoomLevel(),Q=!1,Y=0;const Z=(q)=>{if(this.viewController.emitMouseWheel(q),!this._context.configuration.options.get(75))return;const U=new RJ(q);if(J.acceptStandardWheelEvent(U),J.isPhysicalMouseWheel()){if(G(q)){const H=FJ.getZoomLevel(),z=U.deltaY>0?1:-1;FJ.setZoomLevel(H+z),U.preventDefault(),U.stopPropagation()}}else{if(Date.now()-$>50)X=FJ.getZoomLevel(),Q=G(q),Y=0;if($=Date.now(),Y+=U.deltaY,Q)FJ.setZoomLevel(X+Y/5),U.preventDefault(),U.stopPropagation()}};this._register(m(this.viewHelper.viewDomNode,$0.MOUSE_WHEEL,Z,{capture:!0,passive:!1}));function G(q){return a0?(q.metaKey||q.ctrlKey)&&!q.shiftKey&&!q.altKey:q.ctrlKey&&!q.metaKey&&!q.shiftKey&&!q.altKey}}dispose(){if(this._context.removeEventHandler(this),this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;super.dispose()}onConfigurationChanged(J){if(J.hasChanged(143)){const $=this._context.configuration.options.get(143).height;if(this._height!==$)this._height=$,this._mouseDownOperation.onHeightChanged()}return!1}onCursorStateChanged(J){return this._mouseDownOperation.onCursorStateChanged(J),!1}onFocusChanged(J){return!1}getTargetAtClientPoint(J,$){const Q=new bK(J,$).toPageCoordinates(B0(this.viewHelper.viewDomNode)),Y=vK(this.viewHelper.viewDomNode);if(Q.y<Y.y||Q.y>Y.y+Y.height||Q.x<Y.x||Q.x>Y.x+Y.width)return null;const Z=fK(this.viewHelper.viewDomNode,Y,Q);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Y,Q,Z,null)}_createMouseTarget(J,$){let X=J.target;if(!this.viewHelper.viewDomNode.contains(X)){const Q=SX(this.viewHelper.viewDomNode);if(Q)X=Q.elementsFromPoint(J.posx,J.posy).find((Y)=>this.viewHelper.viewDomNode.contains(Y))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),J.editorPos,J.pos,J.relativePos,$?X:null)}_getMouseColumn(J){return this.mouseTargetFactory.getMouseColumn(J.relativePos)}_onContextMenu(J,$){this.viewController.emitContextMenu({event:J,target:this._createMouseTarget(J,$)})}_onMouseMove(J){if(!this.mouseTargetFactory.mouseTargetIsWidget(J))J.preventDefault();if(this._mouseDownOperation.isActive())return;if(J.timestamp<this.lastMouseLeaveTime)return;this.viewController.emitMouseMove({event:J,target:this._createMouseTarget(J,!0)})}_onMouseLeave(J){if(this._mouseLeaveMonitor)this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null;this.lastMouseLeaveTime=(new Date()).getTime(),this.viewController.emitMouseLeave({event:J,target:null})}_onMouseUp(J){this.viewController.emitMouseUp({event:J,target:this._createMouseTarget(J,!0)})}_onMouseDown(J,$){const X=this._createMouseTarget(J,!0),Q=X.type===6||X.type===7,Y=X.type===2||X.type===3||X.type===4,Z=X.type===3,G=this._context.configuration.options.get(108),q=X.type===8||X.type===5,U=X.type===9;let H=J.leftButton||J.middleButton;if(a0&&J.leftButton&&J.ctrlKey)H=!1;const z=()=>{J.preventDefault(),this.viewHelper.focusTextArea()};if(H&&(Q||Z&&G))z(),this._mouseDownOperation.start(X.type,J,$);else if(Y)J.preventDefault();else if(q){const V=X.detail;if(H&&this.viewHelper.shouldSuppressMouseDownOnViewZone(V.viewZoneId))z(),this._mouseDownOperation.start(X.type,J,$),J.preventDefault()}else if(U&&this.viewHelper.shouldSuppressMouseDownOnWidget(X.detail))z(),J.preventDefault();this.viewController.emitMouseDown({event:J,target:X})}}class Fp extends f{constructor(J,$,X,Q,Y,Z){super();this._context=J,this._viewController=$,this._viewHelper=X,this._mouseTargetFactory=Q,this._createMouseTarget=Y,this._getMouseColumn=Z,this._mouseMoveMonitor=this._register(new KN(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new Kp(this._context,this._viewHelper,this._mouseTargetFactory,(G,q,U)=>this._dispatchMouse(G,q,U))),this._mouseState=new dK,this._currentSelection=new b0(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(J){this._lastMouseEvent=J,this._mouseState.setModifiers(J);const $=this._findMousePosition(J,!1);if(!$)return;if(this._mouseState.isDragAndDrop)this._viewController.emitMouseDrag({event:J,target:$});else if($.type===13&&($.outsidePosition==="above"||$.outsidePosition==="below"))this._topBottomDragScrolling.start($,J);else this._topBottomDragScrolling.stop(),this._dispatchMouse($,!0,1)}start(J,$,X){this._lastMouseEvent=$,this._mouseState.setStartedOnLineNumbers(J===3),this._mouseState.setStartButtons($),this._mouseState.setModifiers($);const Q=this._findMousePosition($,!0);if(!Q||!Q.position)return;this._mouseState.trySetCount($.detail,Q.position),$.detail=this._mouseState.count;const Y=this._context.configuration.options;if(!Y.get(90)&&Y.get(35)&&!Y.get(22)&&!this._mouseState.altKey&&$.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&Q.type===6&&Q.position&&this._currentSelection.containsPosition(Q.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,X,$.buttons,(Z)=>this._onMouseDownThenMove(Z),(Z)=>{const G=this._findMousePosition(this._lastMouseEvent,!1);if(Bq(Z))this._viewController.emitMouseDropCanceled();else this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:G?this._createMouseTarget(this._lastMouseEvent,!0):null});this._stop()});return}if(this._mouseState.isDragAndDrop=!1,this._dispatchMouse(Q,$.shiftKey,1),!this._isActive)this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,X,$.buttons,(Z)=>this._onMouseDownThenMove(Z),()=>this._stop())}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(J){this._currentSelection=J.selections[0]}_getPositionOutsideEditor(J){const $=J.editorPos,X=this._context.viewModel,Q=this._context.viewLayout,Y=this._getMouseColumn(J);if(J.posy<$.y){const G=$.y-J.posy,q=Math.max(Q.getCurrentScrollTop()-G,0),U=yG.getZoneAtCoord(this._context,q);if(U){const z=this._helpPositionJumpOverViewZone(U);if(z)return G7.createOutsideEditor(Y,z,"above",G)}const H=Q.getLineNumberAtVerticalOffset(q);return G7.createOutsideEditor(Y,new v(H,1),"above",G)}if(J.posy>$.y+$.height){const G=J.posy-$.y-$.height,q=Q.getCurrentScrollTop()+J.relativePos.y,U=yG.getZoneAtCoord(this._context,q);if(U){const z=this._helpPositionJumpOverViewZone(U);if(z)return G7.createOutsideEditor(Y,z,"below",G)}const H=Q.getLineNumberAtVerticalOffset(q);return G7.createOutsideEditor(Y,new v(H,X.getLineMaxColumn(H)),"below",G)}const Z=Q.getLineNumberAtVerticalOffset(Q.getCurrentScrollTop()+J.relativePos.y);if(J.posx<$.x){const G=$.x-J.posx;return G7.createOutsideEditor(Y,new v(Z,1),"left",G)}if(J.posx>$.x+$.width){const G=J.posx-$.x-$.width;return G7.createOutsideEditor(Y,new v(Z,X.getLineMaxColumn(Z)),"right",G)}return null}_findMousePosition(J,$){const X=this._getPositionOutsideEditor(J);if(X)return X;const Q=this._createMouseTarget(J,$);if(!Q.position)return null;if(Q.type===8||Q.type===5){const Z=this._helpPositionJumpOverViewZone(Q.detail);if(Z)return G7.createViewZone(Q.type,Q.element,Q.mouseColumn,Z,Q.detail)}return Q}_helpPositionJumpOverViewZone(J){const $=new v(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),X=J.positionBefore,Q=J.positionAfter;if(X&&Q)if(X.isBefore($))return X;else return Q;return null}_dispatchMouse(J,$,X){if(!J.position)return;this._viewController.dispatchMouse({position:J.position,mouseColumn:J.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:X,inSelectionMode:$,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:J.type===6&&J.detail.injectedText!==null})}}class Kp extends f{constructor(J,$,X,Q){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=X,this._dispatchMouse=Q,this._operation=null}dispose(){super.dispose(),this.stop()}start(J,$){if(this._operation)this._operation.setPosition(J,$);else this._operation=new Ap(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,J,$)}stop(){if(this._operation)this._operation.dispose(),this._operation=null}}class Ap extends f{constructor(J,$,X,Q,Y,Z){super();this._context=J,this._viewHelper=$,this._mouseTargetFactory=X,this._dispatchMouse=Q,this._position=Y,this._mouseEvent=Z,this._lastTime=Date.now(),this._animationFrameDisposable=R6(B0(Z.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(J,$){this._position=J,this._mouseEvent=$}_tick(){const J=Date.now(),$=J-this._lastTime;return this._lastTime=J,$}_getScrollSpeed(){const J=this._context.configuration.options.get(66),$=this._context.configuration.options.get(143).height/J,X=this._position.outsideDistance/J;if(X<=1.5)return Math.max(30,$*(1+X));if(X<=3)return Math.max(60,$*(2+X));return Math.max(200,$*(7+X))}_execute(){const J=this._context.configuration.options.get(66),$=this._getScrollSpeed(),X=this._tick(),Q=$*(X/1000)*J,Y=this._position.outsidePosition==="above"?-Q:Q;this._context.viewModel.viewLayout.deltaScrollNow(0,Y),this._viewHelper.renderNow();const Z=this._context.viewLayout.getLinesViewportData(),G=this._position.outsidePosition==="above"?Z.startLineNumber:Z.endLineNumber;let q;{const U=vK(this._viewHelper.viewDomNode),H=this._context.configuration.options.get(143).horizontalScrollbarHeight,z=new wG(this._mouseEvent.pos.x,U.y+U.height-H-0.1),V=fK(this._viewHelper.viewDomNode,U,z);q=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),U,z,V,null)}if(!q.position||q.position.lineNumber!==G)if(this._position.outsidePosition==="above")q=G7.createOutsideEditor(this._position.mouseColumn,new v(G,1),"above",this._position.outsideDistance);else q=G7.createOutsideEditor(this._position.mouseColumn,new v(G,this._context.viewModel.getLineMaxColumn(G)),"below",this._position.outsideDistance);this._dispatchMouse(q,!0,2),this._animationFrameDisposable=R6(B0(q.element),()=>this._execute())}}class dK{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(J){this._altKey=J.altKey,this._ctrlKey=J.ctrlKey,this._metaKey=J.metaKey,this._shiftKey=J.shiftKey}setStartButtons(J){this._leftButton=J.leftButton,this._middleButton=J.middleButton}setStartedOnLineNumbers(J){this._startedOnLineNumbers=J}trySetCount(J,$){const X=(new Date()).getTime();if(X-this._lastSetMouseDownCountTime>dK.CLEAR_MOUSE_DOWN_COUNT_TIME)J=1;if(this._lastSetMouseDownCountTime=X,J>this._lastMouseDownCount+1)J=this._lastMouseDownCount+1;if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals($))this._lastMouseDownPositionEqualCount++;else this._lastMouseDownPositionEqualCount=1;this._lastMouseDownPosition=$,this._lastMouseDownCount=Math.min(J,this._lastMouseDownPositionEqualCount)}}var Pp=N(()=>{D0();k9();X0();O1();EN();hK();AH();U1();S6();nq();_4();dK.CLEAR_MOUSE_DOWN_COUNT_TIME=400});class Z1{get event(){return this.emitter.event}constructor(J,$,X){const Q=(Y)=>this.emitter.fire(Y);this.emitter=new y({onWillAddFirstListener:()=>J.addEventListener($,Q,X),onDidRemoveLastListener:()=>J.removeEventListener($,Q,X)})}dispose(){this.emitter.dispose()}}var w4=N(()=>{F0()});class N6{constructor(J,$,X,Q,Y){this.value=J,this.selectionStart=$,this.selectionEnd=X,this.selection=Q,this.newlineCountBeforeSelection=Y}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(J,$){const X=J.getValue(),Q=J.getSelectionStart(),Y=J.getSelectionEnd();let Z=void 0;if($){const G=X.substring(0,Q),q=$.value.substring(0,$.selectionStart);if(G===q)Z=$.newlineCountBeforeSelection}return new N6(X,Q,Y,null,Z)}collapseSelection(){if(this.selectionStart===this.value.length)return this;return new N6(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(J,$,X){if(a5)console.log(`writeToTextArea ${J}: ${this.toString()}`);if($.setValue(J,this.value),X)$.setSelectionRange(J,this.selectionStart,this.selectionEnd)}deduceEditorPosition(J){var $,X,Q,Y,Z,G,q,U;if(J<=this.selectionStart){const V=this.value.substring(J,this.selectionStart);return this._finishDeduceEditorPosition((X=($=this.selection)===null||$===void 0?void 0:$.getStartPosition())!==null&&X!==void 0?X:null,V,-1)}if(J>=this.selectionEnd){const V=this.value.substring(this.selectionEnd,J);return this._finishDeduceEditorPosition((Y=(Q=this.selection)===null||Q===void 0?void 0:Q.getEndPosition())!==null&&Y!==void 0?Y:null,V,1)}const H=this.value.substring(this.selectionStart,J);if(H.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition((G=(Z=this.selection)===null||Z===void 0?void 0:Z.getStartPosition())!==null&&G!==void 0?G:null,H,1);const z=this.value.substring(J,this.selectionEnd);return this._finishDeduceEditorPosition((U=(q=this.selection)===null||q===void 0?void 0:q.getEndPosition())!==null&&U!==void 0?U:null,z,-1)}_finishDeduceEditorPosition(J,$,X){let Q=0,Y=-1;while((Y=$.indexOf("\n",Y+1))!==-1)Q++;return[J,X*$.length,Q]}static deduceInput(J,$,X){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(a5)console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);const Q=Math.min(pZ(J.value,$.value),J.selectionStart,$.selectionStart),Y=Math.min(BH(J.value,$.value),J.value.length-J.selectionEnd,$.value.length-$.selectionEnd),Z=J.value.substring(Q,J.value.length-Y),G=$.value.substring(Q,$.value.length-Y),q=J.selectionStart-Q,U=J.selectionEnd-Q,H=$.selectionStart-Q,z=$.selectionEnd-Q;if(a5)console.log(`AFTER DIFFING PREVIOUS STATE: <${Z}>, selectionStart: ${q}, selectionEnd: ${U}`),console.log(`AFTER DIFFING CURRENT STATE: <${G}>, selectionStart: ${H}, selectionEnd: ${z}`);if(H===z){const j=J.selectionStart-Q;if(a5)console.log(`REMOVE PREVIOUS: ${j} chars`);return{text:G,replacePrevCharCnt:j,replaceNextCharCnt:0,positionDelta:0}}const V=U-q;return{text:G,replacePrevCharCnt:V,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(J,$){if(!J)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(a5)console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${J.toString()}`),console.log(`CURRENT STATE: ${$.toString()}`);if(J.value===$.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:$.selectionEnd-J.selectionEnd};const X=Math.min(pZ(J.value,$.value),J.selectionEnd),Q=Math.min(BH(J.value,$.value),J.value.length-J.selectionEnd),Y=J.value.substring(X,J.value.length-Q),Z=$.value.substring(X,$.value.length-Q),G=J.selectionStart-X,q=J.selectionEnd-X,U=$.selectionStart-X,H=$.selectionEnd-X;if(a5)console.log(`AFTER DIFFING PREVIOUS STATE: <${Y}>, selectionStart: ${G}, selectionEnd: ${q}`),console.log(`AFTER DIFFING CURRENT STATE: <${Z}>, selectionStart: ${U}, selectionEnd: ${H}`);return{text:Z,replacePrevCharCnt:q,replaceNextCharCnt:Y.length-q,positionDelta:H-Z.length}}}class SG{static _getPageOfLine(J,$){return Math.floor((J-1)/$)}static _getRangeForPage(J,$){const X=J*$,Q=X+1,Y=X+$;return new L(Q,1,Y+1,1)}static fromEditorSelection(J,$,X,Q){const Z=SG._getPageOfLine($.startLineNumber,X),G=SG._getRangeForPage(Z,X),q=SG._getPageOfLine($.endLineNumber,X),U=SG._getRangeForPage(q,X);let H=G.intersectRanges(new L(1,1,$.startLineNumber,$.startColumn));if(Q&&J.getValueLengthInRange(H,1)>500){const P=J.modifyPosition(H.getEndPosition(),-500);H=L.fromPositions(P,H.getEndPosition())}const z=J.getValueInRange(H,1),V=J.getLineCount(),j=J.getLineMaxColumn(V);let W=U.intersectRanges(new L($.endLineNumber,$.endColumn,V,j));if(Q&&J.getValueLengthInRange(W,1)>500){const P=J.modifyPosition(W.getStartPosition(),500);W=L.fromPositions(W.getStartPosition(),P)}const B=J.getValueInRange(W,1);let K;if(Z===q||Z+1===q)K=J.getValueInRange($,1);else{const P=G.intersectRanges($),A=U.intersectRanges($);K=J.getValueInRange(P,1)+String.fromCharCode(8230)+J.getValueInRange(A,1)}if(Q&&K.length>1000)K=K.substring(0,500)+String.fromCharCode(8230)+K.substring(K.length-500,K.length);return new N6(z+K+B,z.length,z.length+K.length,$,H.endLineNumber-H.startLineNumber)}}var a5;var fN=N(()=>{o0();c0();a5=!1;N6.EMPTY=new N6("",0,0,null,void 0)});class Cz{constructor(){this._lastState=null}set(J,$){this._lastState={lastCopiedValue:J,data:$}}get(J){if(this._lastState&&this._lastState.lastCopiedValue===J)return this._lastState.data;return this._lastState=null,null}}class Op{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(J){J=J||"";const $={text:J,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=J.length,$}}class hN extends f{get ownerDocument(){return this._actual.ownerDocument}constructor(J){super();this._actual=J,this.onKeyDown=this._register(new Z1(this._actual,"keydown")).event,this.onKeyUp=this._register(new Z1(this._actual,"keyup")).event,this.onCompositionStart=this._register(new Z1(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new Z1(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new Z1(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new Z1(this._actual,"beforeinput")).event,this.onInput=this._register(new Z1(this._actual,"input")).event,this.onCut=this._register(new Z1(this._actual,"cut")).event,this.onCopy=this._register(new Z1(this._actual,"copy")).event,this.onPaste=this._register(new Z1(this._actual,"paste")).event,this.onFocus=this._register(new Z1(this._actual,"focus")).event,this.onBlur=this._register(new Z1(this._actual,"blur")).event,this._onSyntheticTap=this._register(new y),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>D$.onKeyDown())),this._register(this.onBeforeInput(()=>D$.onBeforeInput())),this._register(this.onInput(()=>D$.onInput())),this._register(this.onKeyUp(()=>D$.onKeyUp())),this._register(m(this._actual,Sz.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const J=SX(this._actual);if(J)return J.activeElement===this._actual;else if(this._actual.isConnected)return $6()===this._actual;else return!1}setIgnoreSelectionChangeTime(J){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(J,$){const X=this._actual;if(X.value===$)return;this.setIgnoreSelectionChangeTime("setValue"),X.value=$}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(J,$,X){const Q=this._actual;let Y=null;const Z=SX(Q);if(Z)Y=Z.activeElement;else Y=$6();const G=B0(Y),q=Y===Q,U=Q.selectionStart,H=Q.selectionEnd;if(q&&U===$&&H===X){if(u6&&G.parent!==G)Q.focus();return}if(q){if(this.setIgnoreSelectionChangeTime("setSelectionRange"),Q.setSelectionRange($,X),u6&&G.parent!==G)Q.focus();return}try{const z=gb(Q);this.setIgnoreSelectionChangeTime("setSelectionRange"),Q.focus(),Q.setSelectionRange($,X),pb(Q,z)}catch(z){}}}var a70,Dp,Sz,Mp,sK,Rp;var gN=N(()=>{A5();D0();w4();T7();ZN();u1();F0();X0();sH();o0();fN();S6();K4();U9();a70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Dp=function(J,$){return function(X,Q){$(X,Q,J)}};(function(J){J.Tap="-monaco-textarea-synthetic-tap"})(Sz||(Sz={}));Mp={forceCopyWithSyntaxHighlighting:!1};Cz.INSTANCE=new Cz;sK=class J extends f{get textAreaState(){return this._textAreaState}constructor($,X,Q,Y,Z,G){super();if(this._host=$,this._textArea=X,this._OS=Q,this._browser=Y,this._accessibilityService=Z,this._logService=G,this._onFocus=this._register(new y),this.onFocus=this._onFocus.event,this._onBlur=this._register(new y),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new y),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new y),this.onCut=this._onCut.event,this._onPaste=this._register(new y),this.onPaste=this._onPaste.event,this._onType=this._register(new y),this.onType=this._onType.event,this._onCompositionStart=this._register(new y),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new y),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new y),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new y),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new m6),this._asyncTriggerCut=this._register(new t1(()=>this._onCut.fire(),0)),this._textAreaState=N6.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized())this.writeNativeTextAreaContent("ctor");this._register(J0.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{if(this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=this._register(new t1(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0));else this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let q=null;this._register(this._textArea.onKeyDown((U)=>{const H=new A1(U);if(H.keyCode===114||this._currentComposition&&H.keyCode===1)H.stopPropagation();if(H.equals(9))H.preventDefault();q=H,this._onKeyDown.fire(H)})),this._register(this._textArea.onKeyUp((U)=>{const H=new A1(U);this._onKeyUp.fire(H)})),this._register(this._textArea.onCompositionStart((U)=>{if(a5)console.log("[compositionstart]",U);const H=new Op;if(this._currentComposition){this._currentComposition=H;return}if(this._currentComposition=H,this._OS===2&&q&&q.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===U.data&&(q.code==="ArrowRight"||q.code==="ArrowLeft")){if(a5)console.log("[compositionstart] Handling long press case on macOS + arrow key",U);H.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:U.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:U.data});return}this._onCompositionStart.fire({data:U.data})})),this._register(this._textArea.onCompositionUpdate((U)=>{if(a5)console.log("[compositionupdate]",U);const H=this._currentComposition;if(!H)return;if(this._browser.isAndroid){const V=N6.readFromTextArea(this._textArea,this._textAreaState),j=N6.deduceAndroidCompositionInput(this._textAreaState,V);this._textAreaState=V,this._onType.fire(j),this._onCompositionUpdate.fire(U);return}const z=H.handleCompositionUpdate(U.data);this._textAreaState=N6.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(z),this._onCompositionUpdate.fire(U)})),this._register(this._textArea.onCompositionEnd((U)=>{if(a5)console.log("[compositionend]",U);const H=this._currentComposition;if(!H)return;if(this._currentComposition=null,this._browser.isAndroid){const V=N6.readFromTextArea(this._textArea,this._textAreaState),j=N6.deduceAndroidCompositionInput(this._textAreaState,V);this._textAreaState=V,this._onType.fire(j),this._onCompositionEnd.fire();return}const z=H.handleCompositionUpdate(U.data);this._textAreaState=N6.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(z),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput((U)=>{if(a5)console.log("[input]",U);if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const H=N6.readFromTextArea(this._textArea,this._textAreaState),z=N6.deduceInput(this._textAreaState,H,this._OS===2);if(z.replacePrevCharCnt===0&&z.text.length===1){if(U8(z.text.charCodeAt(0))||z.text.charCodeAt(0)===127)return}if(this._textAreaState=H,z.text!==""||z.replacePrevCharCnt!==0||z.replaceNextCharCnt!==0||z.positionDelta!==0)this._onType.fire(z)})),this._register(this._textArea.onCut((U)=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(U),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy((U)=>{this._ensureClipboardGetsEditorSelection(U)})),this._register(this._textArea.onPaste((U)=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),U.preventDefault(),!U.clipboardData)return;let[H,z]=Rp.getTextData(U.clipboardData);if(!H)return;z=z||Cz.INSTANCE.get(H),this._onPaste.fire({text:H,metadata:z})})),this._register(this._textArea.onFocus(()=>{const U=this._hasFocus;if(this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!U&&this._hasFocus){if(!this._asyncFocusGainWriteScreenReaderContent.value)this._asyncFocusGainWriteScreenReaderContent.value=new t1(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0);this._asyncFocusGainWriteScreenReaderContent.value.schedule()}})),this._register(this._textArea.onBlur(()=>{if(this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire();this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{if(this._browser.isAndroid&&this._currentComposition)this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire()}))}_installSelectionChangeListener(){let $=0;return m(this._textArea.ownerDocument,"selectionchange",(X)=>{if(D$.onSelectionChange(),!this._hasFocus)return;if(this._currentComposition)return;if(!this._browser.isChrome)return;const Q=Date.now(),Y=Q-$;if($=Q,Y<5)return;const Z=Q-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),Z<100)return;if(!this._textAreaState.selection)return;const G=this._textArea.getValue();if(this._textAreaState.value!==G)return;const q=this._textArea.getSelectionStart(),U=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===q&&this._textAreaState.selectionEnd===U)return;const H=this._textAreaState.deduceEditorPosition(q),z=this._host.deduceModelPosition(H[0],H[1],H[2]),V=this._textAreaState.deduceEditorPosition(U),j=this._host.deduceModelPosition(V[0],V[1],V[2]),W=new b0(z.lineNumber,z.column,j.lineNumber,j.column);this._onSelectionChangeRequest.fire(W)})}dispose(){if(super.dispose(),this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus($){if(this._hasFocus===$)return;if(this._hasFocus=$,this._selectionChangeListener)this._selectionChangeListener.dispose(),this._selectionChangeListener=null;if(this._hasFocus)this._selectionChangeListener=this._installSelectionChangeListener();if(this._hasFocus)this.writeNativeTextAreaContent("focusgain");if(this._hasFocus)this._onFocus.fire();else this._onBlur.fire()}_setAndWriteTextAreaState($,X){if(!this._hasFocus)X=X.collapseSelection();X.writeToTextArea($,this._textArea,this._hasFocus),this._textAreaState=X}writeNativeTextAreaContent($){if(!this._accessibilityService.isScreenReaderOptimized()&&$==="render"||this._currentComposition)return;this._logService.trace(`writeTextAreaState(reason: ${$})`),this._setAndWriteTextAreaState($,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection($){const X=this._host.getDataToCopy(),Q={version:1,isFromEmptySelection:X.isFromEmptySelection,multicursorText:X.multicursorText,mode:X.mode};if(Cz.INSTANCE.set(this._browser.isFirefox?X.text.replace(/\r\n/g,"\n"):X.text,Q),$.preventDefault(),$.clipboardData)Rp.setTextData($.clipboardData,X.text,X.html,Q)}};sK=a70([Dp(4,_7),Dp(5,Y6)],sK);Rp={getTextData(J){const $=J.getData(g9.text);let X=null;const Q=J.getData("vscode-editor-data");if(typeof Q==="string")try{if(X=JSON.parse(Q),X.version!==1)X=null}catch(Y){}if($.length===0&&X===null&&J.files.length>0)return[Array.prototype.slice.call(J.files,0).map((Z)=>Z.name).join("\n"),null];return[$,X]},setTextData(J,$,X,Q){if(J.setData(g9.text,$),typeof X==="string")J.setData("text/html",X);J.setData("vscode-editor-data",JSON.stringify(Q))}}});class Tp extends yz{constructor(J,$,X){super(J,$,X);this._register(w1.addTarget(this.viewHelper.linesContentDomNode)),this._register(m(this.viewHelper.linesContentDomNode,I1.Tap,(Y)=>this.onTap(Y))),this._register(m(this.viewHelper.linesContentDomNode,I1.Change,(Y)=>this.onChange(Y))),this._register(m(this.viewHelper.linesContentDomNode,I1.Contextmenu,(Y)=>this._onContextMenu(new T4(Y,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(m(this.viewHelper.linesContentDomNode,"pointerdown",(Y)=>{const Z=Y.pointerType;if(Z==="mouse"){this._lastPointerType="mouse";return}else if(Z==="touch")this._lastPointerType="touch";else this._lastPointerType="pen"}));const Q=new FN(this.viewHelper.viewDomNode);this._register(Q.onPointerMove(this.viewHelper.viewDomNode,(Y)=>this._onMouseMove(Y))),this._register(Q.onPointerUp(this.viewHelper.viewDomNode,(Y)=>this._onMouseUp(Y))),this._register(Q.onPointerLeave(this.viewHelper.viewDomNode,(Y)=>this._onMouseLeave(Y))),this._register(Q.onPointerDown(this.viewHelper.viewDomNode,(Y,Z)=>this._onMouseDown(Y,Z)))}onTap(J){if(!J.initialTarget||!this.viewHelper.linesContentDomNode.contains(J.initialTarget))return;J.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(J,!1)}onChange(J){if(this._lastPointerType==="touch")this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY);if(this._lastPointerType==="pen")this._dispatchGesture(J,!0)}_dispatchGesture(J,$){const X=this._createMouseTarget(new T4(J,!1,this.viewHelper.viewDomNode),!1);if(X.position)this.viewController.dispatchMouse({position:X.position,mouseColumn:X.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:J.tapCount,inSelectionMode:$,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:X.type===6&&X.detail.injectedText!==null})}_onMouseDown(J,$){if(J.browserEvent.pointerType==="touch")return;super._onMouseDown(J,$)}}class Np extends yz{constructor(J,$,X){super(J,$,X);this._register(w1.addTarget(this.viewHelper.linesContentDomNode)),this._register(m(this.viewHelper.linesContentDomNode,I1.Tap,(Q)=>this.onTap(Q))),this._register(m(this.viewHelper.linesContentDomNode,I1.Change,(Q)=>this.onChange(Q))),this._register(m(this.viewHelper.linesContentDomNode,I1.Contextmenu,(Q)=>this._onContextMenu(new T4(Q,!1,this.viewHelper.viewDomNode),!1)))}onTap(J){J.preventDefault(),this.viewHelper.focusTextArea();const $=this._createMouseTarget(new T4(J,!1,this.viewHelper.viewDomNode),!1);if($.position){const X=document.createEvent("CustomEvent");X.initEvent(Sz.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(X),this.viewController.moveTo($.position,1)}}onChange(J){this._context.viewModel.viewLayout.deltaScrollNow(-J.translationX,-J.translationY)}}class pN extends f{constructor(J,$,X){super();if((N9||_C&&pW)&&_H.pointerEvents)this.handler=this._register(new Tp(J,$,X));else if(B1.TouchEvent)this.handler=this._register(new Np(J,$,X));else this.handler=this._register(new yz(J,$,X))}getTargetAtClientPoint(J,$){return this.handler.getTargetAtClientPoint(J,$)}}var _p=N(()=>{DF();D0();s9();X7();X0();O1();Pp();gN();hK()});var wp=N(()=>{q1();V0(".monaco-editor .inputarea{resize:none;color:#0000;z-index:-10;background-color:#0000;border:none;min-width:0;min-height:0;margin:0;padding:0;position:absolute;overflow:hidden;outline:none!important}.monaco-editor .inputarea.ime-input{z-index:10;caret-color:var(--vscode-editorCursor-foreground);color:var(--vscode-editor-foreground)}")});var Lp=N(()=>{q1();V0(".monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;text-align:right;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%;display:inline-block;position:absolute}.monaco-editor .relative-current-line-number{text-align:left;width:100%;display:inline-block}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor .line-numbers{color:var(--vscode-editorLineNumber-foreground)}.monaco-editor .line-numbers.active-line-number{color:var(--vscode-editorLineNumber-activeForeground)}")});class r5 extends N4{}var DY=N(()=>{nq()});function $Q(J){return{id:J}}function xz(J){switch(J){case s5.DARK:return"vs-dark";case s5.HIGH_CONTRAST_DARK:return"hc-black";case s5.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}function c7(J){return kp.onColorThemeChange(J)}class Ep{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new y}onColorThemeChange(J){return this.themingParticipants.push(J),this.onThemingParticipantAddedEmitter.fire(J),K0(()=>{const $=this.themingParticipants.indexOf(J);this.themingParticipants.splice($,1)})}getThemingParticipants(){return this.themingParticipants}}class uN extends f{constructor(J){super();this.themeService=J,this.theme=J.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(($)=>this.onThemeChange($)))}onThemeChange(J){this.theme=J,this.updateStyles()}updateStyles(){}}var a8,mN,kp;var r8=N(()=>{F0();X0();m0();Y5();nX();a8=M0("themeService"),mN={ThemingContribution:"base.contributions.theming"};kp=new Ep;r1.add(mN.ThemingContribution,kp)});var cN,lN,GA0,qA0,UA0,HA0,oK,Ip,I$,yp,aK,rK,CG,Sp,Cp,xp,bp,vp,xG,fp,hp,gp,pp,mp,iK,zA0,up,VA0,jA0,WA0,BA0,cp,lp,FA0,KA0,dp,AA0,PA0,DA0,nK,RA0,sp,ap,rp,tK,eK,JA,$A,XA,QA,ip,np,op,tp,ep,Jm,$m,Xm,Qm,Ym,Zm,Gm,qm,MA0,OA0;var L4=N(()=>{h0();u5();L7();r8();cN=k("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},F("lineHighlight","Background color for the highlight of line at the cursor position.")),lN=k("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:N1},F("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),GA0=k("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},F("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),qA0=k("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:j8,hcLight:j8},F("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),UA0=k("editor.symbolHighlightBackground",{dark:aX,light:aX,hcDark:null,hcLight:null},F("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),HA0=k("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:j8,hcLight:j8},F("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),oK=k("editorCursor.foreground",{dark:"#AEAFAD",light:l.black,hcDark:l.white,hcLight:"#0F4A85"},F("caret","Color of the editor cursor.")),Ip=k("editorCursor.background",null,F("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),I$=k("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},F("editorWhitespaces","Color of whitespace characters in the editor.")),yp=k("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:l.white,hcLight:"#292929"},F("editorLineNumbers","Color of editor line numbers.")),aK=k("editorIndentGuide.background",{dark:I$,light:I$,hcDark:I$,hcLight:I$},F("editorIndentGuides","Color of the editor indentation guides."),!1,F("deprecatedEditorIndentGuides","\'editorIndentGuide.background\' is deprecated. Use \'editorIndentGuide.background1\' instead.")),rK=k("editorIndentGuide.activeBackground",{dark:I$,light:I$,hcDark:I$,hcLight:I$},F("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,F("deprecatedEditorActiveIndentGuide","\'editorIndentGuide.activeBackground\' is deprecated. Use \'editorIndentGuide.activeBackground1\' instead.")),CG=k("editorIndentGuide.background1",{dark:aK,light:aK,hcDark:aK,hcLight:aK},F("editorIndentGuides1","Color of the editor indentation guides (1).")),Sp=k("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides2","Color of the editor indentation guides (2).")),Cp=k("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides3","Color of the editor indentation guides (3).")),xp=k("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides4","Color of the editor indentation guides (4).")),bp=k("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides5","Color of the editor indentation guides (5).")),vp=k("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorIndentGuides6","Color of the editor indentation guides (6).")),xG=k("editorIndentGuide.activeBackground1",{dark:rK,light:rK,hcDark:rK,hcLight:rK},F("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),fp=k("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),hp=k("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),gp=k("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),pp=k("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),mp=k("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),iK=k("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:j8,hcLight:j8},F("editorActiveLineNumber","Color of editor active line number"),!1,F("deprecatedEditorActiveLineNumber","Id is deprecated. Use \'editorLineNumber.activeForeground\' instead.")),zA0=k("editorLineNumber.activeForeground",{dark:iK,light:iK,hcDark:iK,hcLight:iK},F("editorActiveLineNumber","Color of editor active line number")),up=k("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},F("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),VA0=k("editorRuler.foreground",{dark:"#5A5A5A",light:l.lightgrey,hcDark:l.white,hcLight:"#292929"},F("editorRuler","Color of the editor rulers.")),jA0=k("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},F("editorCodeLensForeground","Foreground color of editor CodeLens")),WA0=k("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},F("editorBracketMatchBackground","Background color behind matching brackets")),BA0=k("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:N1,hcLight:N1},F("editorBracketMatchBorder","Color for matching brackets boxes")),cp=k("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},F("editorOverviewRulerBorder","Color of the overview ruler border.")),lp=k("editorOverviewRuler.background",null,F("editorOverviewRulerBackground","Background color of the editor overview ruler.")),FA0=k("editorGutter.background",{dark:s6,light:s6,hcDark:s6,hcLight:s6},F("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),KA0=k("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:l.fromHex("#fff").transparent(0.8),hcLight:N1},F("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),dp=k("editorUnnecessaryCode.opacity",{dark:l.fromHex("#000a"),light:l.fromHex("#0007"),hcDark:null,hcLight:null},F("unnecessaryCodeOpacity",'Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  \'editorUnnecessaryCode.border\' theme color to underline unnecessary code instead of fading it out.')),AA0=k("editorGhostText.border",{dark:null,light:null,hcDark:l.fromHex("#fff").transparent(0.8),hcLight:l.fromHex("#292929").transparent(0.8)},F("editorGhostTextBorder","Border color of ghost text in the editor.")),PA0=k("editorGhostText.foreground",{dark:l.fromHex("#ffffff56"),light:l.fromHex("#0007"),hcDark:null,hcLight:null},F("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),DA0=k("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},F("editorGhostTextBackground","Background color of the ghost text in the editor.")),nK=new l(new T1(0,122,204,0.6)),RA0=k("editorOverviewRuler.rangeHighlightForeground",{dark:nK,light:nK,hcDark:nK,hcLight:nK},F("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),sp=k("editorOverviewRuler.errorForeground",{dark:new l(new T1(255,18,18,0.7)),light:new l(new T1(255,18,18,0.7)),hcDark:new l(new T1(255,50,50,1)),hcLight:"#B5200D"},F("overviewRuleError","Overview ruler marker color for errors.")),ap=k("editorOverviewRuler.warningForeground",{dark:w7,light:w7,hcDark:Nz,hcLight:Nz},F("overviewRuleWarning","Overview ruler marker color for warnings.")),rp=k("editorOverviewRuler.infoForeground",{dark:d5,light:d5,hcDark:_z,hcLight:_z},F("overviewRuleInfo","Overview ruler marker color for infos.")),tK=k("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},F("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),eK=k("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},F("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),JA=k("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},F("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),$A=k("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),XA=k("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),QA=k("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ip=k("editorBracketHighlight.unexpectedBracket.foreground",{dark:new l(new T1(255,18,18,0.8)),light:new l(new T1(255,18,18,0.8)),hcDark:new l(new T1(255,50,50,1)),hcLight:""},F("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),np=k("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),op=k("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),tp=k("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),ep=k("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Jm=k("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),$m=k("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Xm=k("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Qm=k("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Ym=k("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Zm=k("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Gm=k("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),qm=k("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},F("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),MA0=k("editorUnicodeHighlight.border",{dark:w7,light:w7,hcDark:w7,hcLight:w7},F("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),OA0=k("editorUnicodeHighlight.background",{dark:wz,light:wz,hcDark:wz,hcLight:wz},F("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));c7((J,$)=>{const X=J.getColor(s6),Q=J.getColor(cN),Y=Q&&!Q.isTransparent()?Q:X;if(Y)$.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Y}; }`)})});class bG extends r5{constructor(J){super();this._context=J,this._readConfig(),this._lastCursorModelPosition=new v(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const J=this._context.configuration.options;this._lineHeight=J.get(66);const $=J.get(67);this._renderLineNumbers=$.renderType,this._renderCustomLineNumbers=$.renderFn,this._renderFinalNewline=J.get(94);const X=J.get(143);this._lineNumbersLeft=X.lineNumbersLeft,this._lineNumbersWidth=X.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return this._readConfig(),!0}onCursorStateChanged(J){const $=J.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition($);let X=!1;if(this._activeLineNumber!==$.lineNumber)this._activeLineNumber=$.lineNumber,X=!0;if(this._renderLineNumbers===2||this._renderLineNumbers===3)X=!0;return X}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onDecorationsChanged(J){return J.affectsLineNumber}_getLineRenderLineNumber(J){const $=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(J,1));if($.column!==1)return"";const X=$.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(X);if(this._renderLineNumbers===2){const Q=Math.abs(this._lastCursorModelPosition.lineNumber-X);if(Q===0)return'<span class="relative-current-line-number">'+X+"</span>";return String(Q)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===X)return String(X);if(X%10===0)return String(X);return""}return String(X)}prepareRender(J){if(this._renderLineNumbers===0){this._renderResult=null;return}const $=B8?this._lineHeight%2===0?" lh-even":" lh-odd":"",X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber,Y=this._context.viewModel.getDecorationsInViewport(J.visibleRange).filter((U)=>!!U.options.lineNumberClassName);Y.sort((U,H)=>L.compareRangesUsingEnds(U.range,H.range));let Z=0;const G=this._context.viewModel.getLineCount(),q=[];for(let U=X;U<=Q;U++){const H=U-X;let z=this._getLineRenderLineNumber(U),V="";while(Z<Y.length&&Y[Z].range.endLineNumber<U)Z++;for(let j=Z;j<Y.length;j++){const{range:W,options:B}=Y[j];if(W.startLineNumber<=U)V+=" "+B.lineNumberClassName}if(!z&&!V){q[H]="";continue}if(U===G&&this._context.viewModel.getLineLength(U)===0){if(this._renderFinalNewline==="off")z="";if(this._renderFinalNewline==="dimmed")V+=" dimmed-line-number"}if(U===this._activeLineNumber)V+=" active-line-number";q[H]=`<div class="${bG.CLASS_NAME}${$}${V}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${z}</div>`}this._renderResult=q}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var dN=N(()=>{Lp();O1();DY();U1();c0();r8();L4();bG.CLASS_NAME="line-numbers";c7((J,$)=>{const X=J.getColor(yp),Q=J.getColor(up);if(Q)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${Q}; }`);else if(X)$.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${X.transparent(0.4)}; }`)})});var Um=N(()=>{q1();V0(".monaco-editor .margin{background-color:var(--vscode-editorGutter-background)}")});class XQ extends K8{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._canUseLayerHinting=!$.get(32),this._contentLeft=X.contentLeft,this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._domNode=t0(document.createElement("div")),this._domNode.setClassName(XQ.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=t0(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(XQ.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._canUseLayerHinting=!$.get(32),this._contentLeft=X.contentLeft,this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollTopChanged}prepareRender(J){}render(J){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const $=J.scrollTop-J.bigNumbersDelta;this._domNode.setTop(-$);const X=Math.min(J.scrollHeight,1e6);this._domNode.setHeight(X),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(X)}}var sN=N(()=>{Um();V6();m7();XQ.CLASS_NAME="glyph-margin";XQ.OUTER_CLASS_NAME="margin"});var Hm=N(()=>{q1();V0(".monaco-mouse-cursor-text{cursor:text}")});var QQ;var YA=N(()=>{Hm();QQ="monaco-mouse-cursor-text"});class zm{constructor(){this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}var vG;var aN=N(()=>{F0();vG=new zm});var l8;var xJ=N(()=>{m0();l8=M0("keybindingService")});class jm{constructor(J,$,X,Q,Y){this._context=J,this.modelLineNumber=$,this.distanceToModelLineStart=X,this.widthOfHiddenLineTextBefore=Q,this.distanceToModelLineEnd=Y,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(J){const $=new v(this.modelLineNumber,this.distanceToModelLineStart+1),X=new v(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);if(this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(X),this.startPosition.lineNumber===this.endPosition.lineNumber)this.visibleTextareaStart=J.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=J.visibleRangeForPosition(this.endPosition);else this.visibleTextareaStart=null,this.visibleTextareaEnd=null}definePresentation(J){if(!this._previousPresentation)if(J)this._previousPresentation=J;else this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1};return this._previousPresentation}}var i70,r70,Vm,rN,ZA;var Wm=N(()=>{wp();h0();A5();V6();O1();o0();BJ();gN();fN();m7();dN();sN();J7();eH();U1();c0();S6();YA();M7();u5();aN();xJ();m0();i70=function(J,$,X,Q){if($.length===0)return 0;const Y=J.createElement("div");Y.style.position="absolute",Y.style.top="-50000px",Y.style.width="50000px";const Z=J.createElement("span");T8(Z,X),Z.style.whiteSpace="pre",Z.style.tabSize=`${Q*X.spaceWidth}px`,Z.append($),Y.appendChild(Z),J.body.appendChild(Y);const G=Z.offsetWidth;return J.body.removeChild(Y),G},r70=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Vm=function(J,$){return function(X,Q){$(X,Q,J)}};rN=u6,ZA=class J extends K8{constructor($,X,Q,Y,Z){super($);this._keybindingService=Y,this._instantiationService=Z,this._primaryCursorPosition=new v(1,1),this._primaryCursorVisibleRange=null,this._viewController=X,this._visibleRangeProvider=Q,this._scrollLeft=0,this._scrollTop=0;const G=this._context.configuration.options,q=G.get(143);this._setAccessibilityOptions(G),this._contentLeft=q.contentLeft,this._contentWidth=q.contentWidth,this._contentHeight=q.height,this._fontInfo=G.get(50),this._lineHeight=G.get(66),this._emptySelectionClipboard=G.get(37),this._copyWithSyntaxHighlighting=G.get(25),this._visibleTextArea=null,this._selections=[new b0(1,1,1,1)],this._modelSelections=[new b0(1,1,1,1)],this._lastRenderPosition=null,this.textArea=t0(document.createElement("textarea")),Z7.write(this.textArea,7),this.textArea.setClassName(`inputarea ${QQ}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:U}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${U*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(G)),this.textArea.setAttribute("aria-required",G.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(G.get(123))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",F("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",G.get(90)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=t0(document.createElement("div")),this.textAreaCover.setPosition("absolute");const H={getLineCount:()=>{return this._context.viewModel.getLineCount()},getLineMaxColumn:(j)=>{return this._context.viewModel.getLineMaxColumn(j)},getValueInRange:(j,W)=>{return this._context.viewModel.getValueInRange(j,W)},getValueLengthInRange:(j,W)=>{return this._context.viewModel.getValueLengthInRange(j,W)},modifyPosition:(j,W)=>{return this._context.viewModel.modifyPosition(j,W)}},z={getDataToCopy:()=>{const j=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,k8),W=this._context.viewModel.model.getEOL(),B=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),K=Array.isArray(j)?j:null,P=Array.isArray(j)?j.join(W):j;let A=void 0,D=null;if(Mp.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&P.length<65536){const R=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);if(R)A=R.html,D=R.mode}return{isFromEmptySelection:B,multicursorText:K,text:P,html:A,mode:D}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const j=this._selections[0];if(a0&&j.isEmpty()){const B=j.getStartPosition();let K=this._getWordBeforePosition(B);if(K.length===0)K=this._getCharacterBeforePosition(B);if(K.length>0)return new N6(K,K.length,K.length,L.fromPositions(B),0)}const W=500;if(a0&&!j.isEmpty()&&H.getValueLengthInRange(j,0)<W){const B=H.getValueInRange(j,0);return new N6(B,0,B.length,j,0)}if(C5&&!j.isEmpty())return new N6("vscode-placeholder",0,"vscode-placeholder".length,null,void 0);return N6.EMPTY}if(rM){const j=this._selections[0];if(j.isEmpty()){const W=j.getStartPosition(),[B,K]=this._getAndroidWordAtPosition(W);if(B.length>0)return new N6(B,K,K,L.fromPositions(W),0)}return N6.EMPTY}return SG.fromEditorSelection(H,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(j,W,B)=>{return this._context.viewModel.deduceModelPositionRelativeToViewPosition(j,W,B)}},V=this._register(new hN(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(sK,z,V,C7,{isAndroid:rM,isChrome:G$,isFirefox:u6,isSafari:C5})),this._register(this._textAreaInput.onKeyDown((j)=>{this._viewController.emitKeyDown(j)})),this._register(this._textAreaInput.onKeyUp((j)=>{this._viewController.emitKeyUp(j)})),this._register(this._textAreaInput.onPaste((j)=>{let W=!1,B=null,K=null;if(j.metadata)W=this._emptySelectionClipboard&&!!j.metadata.isFromEmptySelection,B=typeof j.metadata.multicursorText!=="undefined"?j.metadata.multicursorText:null,K=j.metadata.mode;this._viewController.paste(j.text,W,B,K)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType((j)=>{if(j.replacePrevCharCnt||j.replaceNextCharCnt||j.positionDelta){if(a5)console.log(` => compositionType: <<${j.text}>>, ${j.replacePrevCharCnt}, ${j.replaceNextCharCnt}, ${j.positionDelta}`);this._viewController.compositionType(j.text,j.replacePrevCharCnt,j.replaceNextCharCnt,j.positionDelta)}else{if(a5)console.log(` => type: <<${j.text}>>`);this._viewController.type(j.text)}})),this._register(this._textAreaInput.onSelectionChangeRequest((j)=>{this._viewController.setSelection(j)})),this._register(this._textAreaInput.onCompositionStart((j)=>{const W=this.textArea.domNode,B=this._modelSelections[0],{distanceToModelLineStart:K,widthOfHiddenTextBefore:P}=(()=>{const D=W.value.substring(0,Math.min(W.selectionStart,W.selectionEnd)),R=D.lastIndexOf("\n"),M=D.substring(R+1),O=M.lastIndexOf("\t"),_=M.length-O-1,w=B.getStartPosition(),C=Math.min(w.column-1,_),x=w.column-1-C,g=M.substring(0,M.length-C),{tabSize:c}=this._context.viewModel.model.getOptions(),b=i70(this.textArea.domNode.ownerDocument,g,this._fontInfo,c);return{distanceToModelLineStart:x,widthOfHiddenTextBefore:b}})(),{distanceToModelLineEnd:A}=(()=>{const D=W.value.substring(Math.max(W.selectionStart,W.selectionEnd)),R=D.indexOf("\n"),M=R===-1?D:D.substring(0,R),O=M.indexOf("\t"),_=O===-1?M.length:M.length-O-1,w=B.getEndPosition(),C=Math.min(this._context.viewModel.model.getLineMaxColumn(w.lineNumber)-w.column,_);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(w.lineNumber)-w.column-C}})();this._context.viewModel.revealRange("keyboard",!0,L.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new jm(this._context,B.startLineNumber,K,P,A),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${QQ} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate((j)=>{if(!this._visibleTextArea)return;this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${QQ}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(vG.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent($){this._textAreaInput.writeNativeTextAreaContent($)}dispose(){super.dispose()}_getAndroidWordAtPosition($){const Q=this._context.viewModel.getLineContent($.lineNumber),Y=B$('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let Z=!0,G=$.column,q=!0,U=$.column,H=0;while(H<50&&(Z||q)){if(Z&&G<=1)Z=!1;if(Z){const z=Q.charCodeAt(G-2);if(Y.get(z)!==0)Z=!1;else G--}if(q&&U>Q.length)q=!1;if(q){const z=Q.charCodeAt(U-1);if(Y.get(z)!==0)q=!1;else U++}H++}return[Q.substring(G-1,U-1),$.column-G]}_getWordBeforePosition($){const X=this._context.viewModel.getLineContent($.lineNumber),Q=B$(this._context.configuration.options.get(129));let Y=$.column,Z=0;while(Y>1){const G=X.charCodeAt(Y-2);if(Q.get(G)!==0||Z>50)return X.substring(Y-1,$.column-1);Z++,Y--}return X.substring(0,$.column-1)}_getCharacterBeforePosition($){if($.column>1){const Q=this._context.viewModel.getLineContent($.lineNumber).charAt($.column-2);if(!U8(Q.charCodeAt(0)))return Q}return""}_getAriaLabel($){var X,Q,Y;if($.get(2)===1){const G=(X=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||X===void 0?void 0:X.getAriaLabel(),q=(Q=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||Q===void 0?void 0:Q.getAriaLabel(),U=(Y=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||Y===void 0?void 0:Y.getAriaLabel(),H=F("accessibilityModeOff","The editor is not accessible at this time.");if(G)return F("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",H,G);else if(q)return F("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",H,q);else if(U)return F("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",H,U);else return H}return $.get(4)}_setAccessibilityOptions($){this._accessibilitySupport=$.get(2);const X=$.get(3);if(this._accessibilitySupport===2&&X===eJ.accessibilityPageSize.defaultValue)this._accessibilityPageSize=500;else this._accessibilityPageSize=X;const Y=$.get(143).wrappingColumn;if(Y!==-1&&this._accessibilitySupport!==1){const Z=$.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(Y*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=rN?0:1}onConfigurationChanged($){const X=this._context.configuration.options,Q=X.get(143);this._setAccessibilityOptions(X),this._contentLeft=Q.contentLeft,this._contentWidth=Q.contentWidth,this._contentHeight=Q.height,this._fontInfo=X.get(50),this._lineHeight=X.get(66),this._emptySelectionClipboard=X.get(37),this._copyWithSyntaxHighlighting=X.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:Y}=this._context.viewModel.model.getOptions();if(this.textArea.domNode.style.tabSize=`${Y*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(X)),this.textArea.setAttribute("aria-required",X.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(X.get(123))),$.hasChanged(34)||$.hasChanged(90))this._ensureReadOnlyAttribute();if($.hasChanged(2))this._textAreaInput.writeNativeTextAreaContent("strategy changed");return!0}onCursorStateChanged($){return this._selections=$.selections.slice(0),this._modelSelections=$.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged($){return!0}onFlushed($){return!0}onLinesChanged($){return!0}onLinesDeleted($){return!0}onLinesInserted($){return!0}onScrollChanged($){return this._scrollLeft=$.scrollLeft,this._scrollTop=$.scrollTop,!0}onZonesChanged($){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions($){if($.activeDescendant)this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",$.activeDescendant);else this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant");if($.role)this.textArea.setAttribute("role",$.role)}_ensureReadOnlyAttribute(){const $=this._context.configuration.options;if(!vG.enabled||$.get(34)&&$.get(90))this.textArea.setAttribute("readonly","true");else this.textArea.removeAttribute("readonly")}prepareRender($){var X;this._primaryCursorPosition=new v(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=$.visibleRangeForPosition(this._primaryCursorPosition),(X=this._visibleTextArea)===null||X===void 0||X.prepareRender($)}render($){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var $;if(this._visibleTextArea){const Y=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,G=this._visibleTextArea.startPosition,q=this._visibleTextArea.endPosition;if(G&&q&&Y&&Z&&Z.left>=this._scrollLeft&&Y.left<=this._scrollLeft+this._contentWidth){const U=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,H=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let z=this._visibleTextArea.widthOfHiddenLineTextBefore,V=this._contentLeft+Y.left-this._scrollLeft,j=Z.left-Y.left+1;if(V<this._contentLeft){const D=this._contentLeft-V;V+=D,z+=D,j-=D}if(j>this._contentWidth)j=this._contentWidth;const W=this._context.viewModel.getViewLineData(G.lineNumber),B=W.tokens.findTokenIndexAtOffset(G.column-1),K=W.tokens.findTokenIndexAtOffset(q.column-1),P=B===K,A=this._visibleTextArea.definePresentation(P?W.tokens.getPresentation(B):null);this.textArea.domNode.scrollTop=H*this._lineHeight,this.textArea.domNode.scrollLeft=z,this._doRender({lastRenderPosition:null,top:U,left:V,width:j,height:this._lineHeight,useCover:!1,color:(c1.getColorMap()||[])[A.foreground],italic:A.italic,bold:A.bold,underline:A.underline,strikethrough:A.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const X=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(X<this._contentLeft||X>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const Q=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(Q<0||Q>this._contentHeight){this._renderAtTopLeft();return}if(a0||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Q,left:this._textAreaWrapping?this._contentLeft:X,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const Y=($=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&$!==void 0?$:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=Y*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:Q,left:this._textAreaWrapping?this._contentLeft:X,width:this._textAreaWidth,height:rN?0:1,useCover:!1})}_newlinecount($){let X=0,Q=-1;do{if(Q=$.indexOf("\n",Q+1),Q===-1)break;X++}while(!0);return X}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:rN?0:1,useCover:!0})}_doRender($){this._lastRenderPosition=$.lastRenderPosition;const X=this.textArea,Q=this.textAreaCover;if(T8(X,this._fontInfo),X.setTop($.top),X.setLeft($.left),X.setWidth($.width),X.setHeight($.height),X.setColor($.color?l.Format.CSS.formatHex($.color):""),X.setFontStyle($.italic?"italic":""),$.bold)X.setFontWeight("bold");X.setTextDecoration(`${$.underline?" underline":""}${$.strikethrough?" line-through":""}`),Q.setTop($.useCover?$.top:0),Q.setLeft($.useCover?$.left:0),Q.setWidth($.useCover?$.width:0),Q.setHeight($.useCover?$.height:0);const Y=this._context.configuration.options;if(Y.get(57))Q.setClassName("monaco-editor-background textAreaCover "+XQ.OUTER_CLASS_NAME);else if(Y.get(67).renderType!==0)Q.setClassName("monaco-editor-background textAreaCover "+bG.CLASS_NAME);else Q.setClassName("monaco-editor-background textAreaCover")}};ZA=r70([Vm(3,l8),Vm(4,g0)],ZA)});function GA(J,$,X){let Q=S8(J);if(Q===-1)Q=J.length;return n70(J.substring(0,Q),$,X)+J.substring(Q)}var n70;var iN=N(()=>{o0();SJ();n70=function(J,$,X){let Q=0;for(let Z=0;Z<J.length;Z++)if(J.charAt(Z)==="\t")Q=J8.nextIndentTabStop(Q,$);else Q++;let Y="";if(!X){const Z=Math.floor(Q/$);Q=Q%$;for(let G=0;G<Z;G++)Y+="\t"}for(let Z=0;Z<Q;Z++)Y+=" ";return Y}});function y$(J){return J==="\'"||J==='"'||J==="`"}class RY{static shouldRecreate(J){return J.hasChanged(143)||J.hasChanged(129)||J.hasChanged(37)||J.hasChanged(76)||J.hasChanged(78)||J.hasChanged(79)||J.hasChanged(6)||J.hasChanged(7)||J.hasChanged(11)||J.hasChanged(9)||J.hasChanged(10)||J.hasChanged(14)||J.hasChanged(127)||J.hasChanged(50)||J.hasChanged(90)}constructor(J,$,X,Q){var Y;this.languageConfigurationService=Q,this._cursorMoveConfigurationBrand=void 0,this._languageId=J;const Z=X.options,G=Z.get(143),q=Z.get(50);this.readOnly=Z.get(90),this.tabSize=$.tabSize,this.indentSize=$.indentSize,this.insertSpaces=$.insertSpaces,this.stickyTabStops=Z.get(115),this.lineHeight=q.lineHeight,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(G.height/this.lineHeight)-2),this.useTabStops=Z.get(127),this.wordSeparators=Z.get(129),this.emptySelectionClipboard=Z.get(37),this.copyWithSyntaxHighlighting=Z.get(25),this.multiCursorMergeOverlapping=Z.get(76),this.multiCursorPaste=Z.get(78),this.multiCursorLimit=Z.get(79),this.autoClosingBrackets=Z.get(6),this.autoClosingComments=Z.get(7),this.autoClosingQuotes=Z.get(11),this.autoClosingDelete=Z.get(9),this.autoClosingOvertype=Z.get(10),this.autoSurround=Z.get(14),this.autoIndent=Z.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(J,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(J,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(J,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(J).getAutoClosingPairs();const U=this.languageConfigurationService.getLanguageConfiguration(J).getSurroundingPairs();if(U)for(let z of U)this.surroundingPairs[z.open]=z.close;const H=this.languageConfigurationService.getLanguageConfiguration(J).comments;this.blockCommentStartToken=(Y=H===null||H===void 0?void 0:H.blockCommentStartToken)!==null&&Y!==void 0?Y:null}get electricChars(){var J;if(!this._electricChars){this._electricChars={};const $=(J=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||J===void 0?void 0:J.getElectricCharacters();if($)for(let X of $)this._electricChars[X]=!0}return this._electricChars}onElectricCharacter(J,$,X){const Q=$Y($,X-1),Y=this.languageConfigurationService.getLanguageConfiguration(Q.languageId).electricCharacter;if(!Y)return null;return Y.onElectricCharacter(J,Q,X-Q.firstCharOffset)}normalizeIndentation(J){return GA(J,this.indentSize,this.insertSpaces)}_getShouldAutoClose(J,$,X){switch($){case"beforeWhitespace":return e70;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(J,X);case"always":return o70;case"never":return t70}}_getLanguageDefinedShouldAutoClose(J,$){const X=this.languageConfigurationService.getLanguageConfiguration(J).getAutoCloseBeforeSet($);return(Q)=>X.indexOf(Q)!==-1}visibleColumnFromColumn(J,$){return J8.visibleColumnFromColumn(J.getLineContent($.lineNumber),$.column,this.tabSize)}columnFromVisibleColumn(J,$,X){const Q=J8.columnFromVisibleColumn(J.getLineContent($),X,this.tabSize),Y=J.getLineMinColumn($);if(Q<Y)return Y;const Z=J.getLineMaxColumn($);if(Q>Z)return Z;return Q}}class F1{static fromModelState(J){return new Bm(J)}static fromViewState(J){return new Fm(J)}static fromModelSelection(J){const $=b0.liftSelection(J),X=new Q6(L.fromPositions($.getSelectionStart()),0,0,$.getPosition(),0);return F1.fromModelState(X)}static fromModelSelections(J){const $=[];for(let X=0,Q=J.length;X<Q;X++)$[X]=this.fromModelSelection(J[X]);return $}constructor(J,$){this._cursorStateBrand=void 0,this.modelState=J,this.viewState=$}equals(J){return this.viewState.equals(J.viewState)&&this.modelState.equals(J.modelState)}}class Bm{constructor(J){this.modelState=J,this.viewState=null}}class Fm{constructor(J){this.modelState=null,this.viewState=J}}class Q6{constructor(J,$,X,Q,Y){this.selectionStart=J,this.selectionStartKind=$,this.selectionStartLeftoverVisibleColumns=X,this.position=Q,this.leftoverVisibleColumns=Y,this._singleCursorStateBrand=void 0,this.selection=Q6._computeSelection(this.selectionStart,this.position)}equals(J){return this.selectionStartLeftoverVisibleColumns===J.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===J.leftoverVisibleColumns&&this.selectionStartKind===J.selectionStartKind&&this.position.equals(J.position)&&this.selectionStart.equalsRange(J.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(J,$,X,Q){if(J)return new Q6(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new v($,X),Q);else return new Q6(new L($,X,$,X),0,Q,new v($,X),Q)}static _computeSelection(J,$){if(J.isEmpty()||!$.isBeforeOrEqual(J.getStartPosition()))return b0.fromPositions(J.getStartPosition(),$);else return b0.fromPositions(J.getEndPosition(),$)}}class U7{constructor(J,$,X){this._editOperationResultBrand=void 0,this.type=J,this.commands=$,this.shouldPushStackElementBefore=X.shouldPushStackElementBefore,this.shouldPushStackElementAfter=X.shouldPushStackElementAfter}}var o70,t70,e70;var bJ=N(()=>{U1();c0();S6();XG();SJ();iN();o70=()=>!0,t70=()=>!1,e70=(J)=>J===" "||J==="\t"});class MY{static columnSelect(J,$,X,Q,Y,Z){const G=Math.abs(Y-X)+1,q=X>Y,U=Q>Z,H=Q<Z,z=[];for(let V=0;V<G;V++){const j=X+(q?-V:V),W=J.columnFromVisibleColumn($,j,Q),B=J.columnFromVisibleColumn($,j,Z),K=J.visibleColumnFromColumn($,new v(j,W)),P=J.visibleColumnFromColumn($,new v(j,B));if(H){if(K>Z)continue;if(P<Q)continue}if(U){if(P>Q)continue;if(K<Z)continue}z.push(new Q6(new L(j,W,j,W),0,0,new v(j,B),0))}if(z.length===0)for(let V=0;V<G;V++){const j=X+(q?-V:V),W=$.getLineMaxColumn(j);z.push(new Q6(new L(j,W,j,W),0,0,new v(j,W),0))}return{viewStates:z,reversed:q,fromLineNumber:X,fromVisualColumn:Q,toLineNumber:Y,toVisualColumn:Z}}static columnSelectLeft(J,$,X){let Q=X.toViewVisualColumn;if(Q>0)Q--;return MY.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,Q)}static columnSelectRight(J,$,X){let Q=0;const Y=Math.min(X.fromViewLineNumber,X.toViewLineNumber),Z=Math.max(X.fromViewLineNumber,X.toViewLineNumber);for(let q=Y;q<=Z;q++){const U=$.getLineMaxColumn(q),H=J.visibleColumnFromColumn($,new v(q,U));Q=Math.max(Q,H)}let G=X.toViewVisualColumn;if(G<Q)G++;return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,X.toViewLineNumber,G)}static columnSelectUp(J,$,X,Q){const Y=Q?J.pageSize:1,Z=Math.max(1,X.toViewLineNumber-Y);return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,Z,X.toViewVisualColumn)}static columnSelectDown(J,$,X,Q){const Y=Q?J.pageSize:1,Z=Math.min($.getLineCount(),X.toViewLineNumber+Y);return this.columnSelect(J,$,X.fromViewLineNumber,X.fromViewVisualColumn,Z,X.toViewVisualColumn)}}var Km=N(()=>{bJ();U1();c0()});class l7{constructor(J,$,X=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=X}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getEndPosition())}}class Q3{constructor(J,$,X=!1){this._range=J,this._text=$,this.insertsAutoWhitespace=X}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getStartPosition())}}class Y3{constructor(J,$,X,Q,Y=!1){this._range=J,this._text=$,this._columnDeltaOffset=Q,this._lineNumberDeltaOffset=X,this.insertsAutoWhitespace=Y}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return b0.fromPositions(Q.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class nN{constructor(J,$,X,Q=!1){this._range=J,this._text=$,this._initialSelection=X,this._forceMoveMarkers=Q,this._selectionId=null}getEditOperations(J,$){$.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=$.trackSelection(this._initialSelection)}computeCursorState(J,$){return $.getTrackedSelection(this._selectionId)}}var oN=N(()=>{S6()});class qA{constructor(J,$,X){this._cursorPositionBrand=void 0,this.lineNumber=J,this.column=$,this.leftoverVisibleColumns=X}}class v1{static leftPosition(J,$){if($.column>J.getLineMinColumn($.lineNumber))return $.delta(void 0,-dM(J.getLineContent($.lineNumber),$.column-1));else if($.lineNumber>1){const X=$.lineNumber-1;return new v(X,J.getLineMaxColumn(X))}else return $}static leftPositionAtomicSoftTabs(J,$,X){if($.column<=J.getLineIndentColumn($.lineNumber)){const Q=J.getLineMinColumn($.lineNumber),Y=J.getLineContent($.lineNumber),Z=EG.atomicPosition(Y,$.column-1,X,0);if(Z!==-1&&Z+1>=Q)return new v($.lineNumber,Z+1)}return this.leftPosition(J,$)}static left(J,$,X){const Q=J.stickyTabStops?v1.leftPositionAtomicSoftTabs($,X,J.tabSize):v1.leftPosition($,X);return new qA(Q.lineNumber,Q.column,0)}static moveLeft(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.startLineNumber,G=X.selection.startColumn;else{const q=X.position.delta(void 0,-(Y-1)),U=$.normalizePosition(v1.clipPositionColumn(q,$),0),H=v1.left(J,$,U);Z=H.lineNumber,G=H.column}return X.move(Q,Z,G,0)}static clipPositionColumn(J,$){return new v(J.lineNumber,v1.clipRange(J.column,$.getLineMinColumn(J.lineNumber),$.getLineMaxColumn(J.lineNumber)))}static clipRange(J,$,X){if(J<$)return $;if(J>X)return X;return J}static rightPosition(J,$,X){if(X<J.getLineMaxColumn($))X=X+FH(J.getLineContent($),X-1);else if($<J.getLineCount())$=$+1,X=J.getLineMinColumn($);return new v($,X)}static rightPositionAtomicSoftTabs(J,$,X,Q,Y){if(X<J.getLineIndentColumn($)){const Z=J.getLineContent($),G=EG.atomicPosition(Z,X-1,Q,1);if(G!==-1)return new v($,G+1)}return this.rightPosition(J,$,X)}static right(J,$,X){const Q=J.stickyTabStops?v1.rightPositionAtomicSoftTabs($,X.lineNumber,X.column,J.tabSize,J.indentSize):v1.rightPosition($,X.lineNumber,X.column);return new qA(Q.lineNumber,Q.column,0)}static moveRight(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.endLineNumber,G=X.selection.endColumn;else{const q=X.position.delta(void 0,Y-1),U=$.normalizePosition(v1.clipPositionColumn(q,$),1),H=v1.right(J,$,U);Z=H.lineNumber,G=H.column}return X.move(Q,Z,G,0)}static vertical(J,$,X,Q,Y,Z,G,q){const U=J8.visibleColumnFromColumn($.getLineContent(X),Q,J.tabSize)+Y,H=$.getLineCount(),z=X===1&&Q===1,V=X===H&&Q===$.getLineMaxColumn(X),j=Z<X?z:V;if(X=Z,X<1)if(X=1,G)Q=$.getLineMinColumn(X);else Q=Math.min($.getLineMaxColumn(X),Q);else if(X>H)if(X=H,G)Q=$.getLineMaxColumn(X);else Q=Math.min($.getLineMaxColumn(X),Q);else Q=J.columnFromVisibleColumn($,X,U);if(j)Y=0;else Y=U-J8.visibleColumnFromColumn($.getLineContent(X),Q,J.tabSize);if(q!==void 0){const W=new v(X,Q),B=$.normalizePosition(W,q);Y=Y+(Q-B.column),X=B.lineNumber,Q=B.column}return new qA(X,Q,Y)}static down(J,$,X,Q,Y,Z,G){return this.vertical(J,$,X,Q,Y,X+Z,G,4)}static moveDown(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.endLineNumber,G=X.selection.endColumn;else Z=X.position.lineNumber,G=X.position.column;let q=0,U;do if(U=v1.down(J,$,Z+q,G,X.leftoverVisibleColumns,Y,!0),$.normalizePosition(new v(U.lineNumber,U.column),2).lineNumber>Z)break;while(q++<10&&Z+q<$.getLineCount());return X.move(Q,U.lineNumber,U.column,U.leftoverVisibleColumns)}static translateDown(J,$,X){const Q=X.selection,Y=v1.down(J,$,Q.selectionStartLineNumber,Q.selectionStartColumn,X.selectionStartLeftoverVisibleColumns,1,!1),Z=v1.down(J,$,Q.positionLineNumber,Q.positionColumn,X.leftoverVisibleColumns,1,!1);return new Q6(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new v(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static up(J,$,X,Q,Y,Z,G){return this.vertical(J,$,X,Q,Y,X-Z,G,3)}static moveUp(J,$,X,Q,Y){let Z,G;if(X.hasSelection()&&!Q)Z=X.selection.startLineNumber,G=X.selection.startColumn;else Z=X.position.lineNumber,G=X.position.column;const q=v1.up(J,$,Z,G,X.leftoverVisibleColumns,Y,!0);return X.move(Q,q.lineNumber,q.column,q.leftoverVisibleColumns)}static translateUp(J,$,X){const Q=X.selection,Y=v1.up(J,$,Q.selectionStartLineNumber,Q.selectionStartColumn,X.selectionStartLeftoverVisibleColumns,1,!1),Z=v1.up(J,$,Q.positionLineNumber,Q.positionColumn,X.leftoverVisibleColumns,1,!1);return new Q6(new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column),0,Y.leftoverVisibleColumns,new v(Z.lineNumber,Z.column),Z.leftoverVisibleColumns)}static _isBlankLine(J,$){if(J.getLineFirstNonWhitespaceColumn($)===0)return!0;return!1}static moveToPrevBlankLine(J,$,X,Q){let Y=X.position.lineNumber;while(Y>1&&this._isBlankLine($,Y))Y--;while(Y>1&&!this._isBlankLine($,Y))Y--;return X.move(Q,Y,$.getLineMinColumn(Y),0)}static moveToNextBlankLine(J,$,X,Q){const Y=$.getLineCount();let Z=X.position.lineNumber;while(Z<Y&&this._isBlankLine($,Z))Z++;while(Z<Y&&!this._isBlankLine($,Z))Z++;return X.move(Q,Z,$.getLineMinColumn(Z),0)}static moveToBeginningOfLine(J,$,X,Q){const Y=X.position.lineNumber,Z=$.getLineMinColumn(Y),G=$.getLineFirstNonWhitespaceColumn(Y)||Z;let q;if(X.position.column===G)q=Z;else q=G;return X.move(Q,Y,q,0)}static moveToEndOfLine(J,$,X,Q,Y){const Z=X.position.lineNumber,G=$.getLineMaxColumn(Z);return X.move(Q,Z,G,Y?1073741824-G:0)}static moveToBeginningOfBuffer(J,$,X,Q){return X.move(Q,1,1,0)}static moveToEndOfBuffer(J,$,X,Q){const Y=$.getLineCount(),Z=$.getLineMaxColumn(Y);return X.move(Q,Y,Z,0)}}var tN=N(()=>{o0();SJ();U1();c0();TN();bJ()});class S${static deleteRight(J,$,X,Q){const Y=[];let Z=J!==3;for(let G=0,q=Q.length;G<q;G++){const U=Q[G];let H=U;if(H.isEmpty()){const z=U.getPosition(),V=v1.right($,X,z);H=new L(V.lineNumber,V.column,z.lineNumber,z.column)}if(H.isEmpty()){Y[G]=null;continue}if(H.startLineNumber!==H.endLineNumber)Z=!0;Y[G]=new l7(H,"")}return[Z,Y]}static isAutoClosingPairDelete(J,$,X,Q,Y,Z,G){if($==="never"&&X==="never")return!1;if(J==="never")return!1;for(let q=0,U=Z.length;q<U;q++){const H=Z[q],z=H.getPosition();if(!H.isEmpty())return!1;const V=Y.getLineContent(z.lineNumber);if(z.column<2||z.column>=V.length+1)return!1;const j=V.charAt(z.column-2),W=Q.get(j);if(!W)return!1;if(y$(j)){if(X==="never")return!1}else if($==="never")return!1;const B=V.charAt(z.column-1);let K=!1;for(let P of W)if(P.open===j&&P.close===B)K=!0;if(!K)return!1;if(J==="auto"){let P=!1;for(let A=0,D=G.length;A<D;A++){const R=G[A];if(z.lineNumber===R.startLineNumber&&z.column===R.startColumn){P=!0;break}}if(!P)return!1}}return!0}static _runAutoClosingPairDelete(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].getPosition(),q=new L(G.lineNumber,G.column-1,G.lineNumber,G.column+1);Q[Y]=new l7(q,"")}return[!0,Q]}static deleteLeft(J,$,X,Q,Y){if(this.isAutoClosingPairDelete($.autoClosingDelete,$.autoClosingBrackets,$.autoClosingQuotes,$.autoClosingPairs.autoClosingPairsOpenByEnd,X,Q,Y))return this._runAutoClosingPairDelete($,X,Q);const Z=[];let G=J!==2;for(let q=0,U=Q.length;q<U;q++){const H=S$.getDeleteRange(Q[q],X,$);if(H.isEmpty()){Z[q]=null;continue}if(H.startLineNumber!==H.endLineNumber)G=!0;Z[q]=new l7(H,"")}return[G,Z]}static getDeleteRange(J,$,X){if(!J.isEmpty())return J;const Q=J.getPosition();if(X.useTabStops&&Q.column>1){const Y=$.getLineContent(Q.lineNumber),Z=S8(Y),G=Z===-1?Y.length+1:Z+1;if(Q.column<=G){const q=X.visibleColumnFromColumn($,Q),U=J8.prevIndentTabStop(q,X.indentSize),H=X.columnFromVisibleColumn($,Q.lineNumber,U);return new L(Q.lineNumber,H,Q.lineNumber,Q.column)}}return L.fromPositions(S$.getPositionAfterDeleteLeft(Q,$),Q)}static getPositionAfterDeleteLeft(J,$){if(J.column>1){const X=ux(J.column-1,$.getLineContent(J.lineNumber));return J.with(void 0,X+1)}else if(J.lineNumber>1){const X=J.lineNumber-1;return new v(X,$.getLineMaxColumn(X))}else return J}static cut(J,$,X){const Q=[];let Y=null;X.sort((Z,G)=>v.compare(Z.getStartPosition(),G.getEndPosition()));for(let Z=0,G=X.length;Z<G;Z++){const q=X[Z];if(q.isEmpty())if(J.emptySelectionClipboard){const U=q.getPosition();let H,z,V,j;if(U.lineNumber<$.getLineCount())H=U.lineNumber,z=1,V=U.lineNumber+1,j=1;else if(U.lineNumber>1&&(Y===null||Y===void 0?void 0:Y.endLineNumber)!==U.lineNumber)H=U.lineNumber-1,z=$.getLineMaxColumn(U.lineNumber-1),V=U.lineNumber,j=$.getLineMaxColumn(U.lineNumber);else H=U.lineNumber,z=1,V=U.lineNumber,j=$.getLineMaxColumn(U.lineNumber);const W=new L(H,z,V,j);if(Y=W,!W.isEmpty())Q[Z]=new l7(W,"");else Q[Z]=null}else Q[Z]=null;else Q[Z]=new l7(q,"")}return new U7(0,Q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}var UA=N(()=>{o0();oN();bJ();SJ();tN();c0();U1()});class x8{static _createWord(J,$,X,Q,Y){return{start:Q,end:Y,wordType:$,nextCharClass:X}}static _findPreviousWordOnLine(J,$,X){const Q=$.getLineContent(X.lineNumber);return this._doFindPreviousWordOnLine(Q,J,X)}static _doFindPreviousWordOnLine(J,$,X){let Q=0;for(let Y=X.column-2;Y>=0;Y--){const Z=J.charCodeAt(Y),G=$.get(Z);if(G===0){if(Q===2)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1));Q=1}else if(G===2){if(Q===1)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1));Q=2}else if(G===1){if(Q!==0)return this._createWord(J,Q,G,Y+1,this._findEndOfWord(J,$,Q,Y+1))}}if(Q!==0)return this._createWord(J,Q,1,0,this._findEndOfWord(J,$,Q,0));return null}static _findEndOfWord(J,$,X,Q){const Y=J.length;for(let Z=Q;Z<Y;Z++){const G=J.charCodeAt(Z),q=$.get(G);if(q===1)return Z;if(X===1&&q===2)return Z;if(X===2&&q===0)return Z}return Y}static _findNextWordOnLine(J,$,X){const Q=$.getLineContent(X.lineNumber);return this._doFindNextWordOnLine(Q,J,X)}static _doFindNextWordOnLine(J,$,X){let Q=0;const Y=J.length;for(let Z=X.column-1;Z<Y;Z++){const G=J.charCodeAt(Z),q=$.get(G);if(q===0){if(Q===2)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z);Q=1}else if(q===2){if(Q===1)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z);Q=2}else if(q===1){if(Q!==0)return this._createWord(J,Q,q,this._findStartOfWord(J,$,Q,Z-1),Z)}}if(Q!==0)return this._createWord(J,Q,1,this._findStartOfWord(J,$,Q,Y-1),Y);return null}static _findStartOfWord(J,$,X,Q){for(let Y=Q;Y>=0;Y--){const Z=J.charCodeAt(Y),G=$.get(Z);if(G===1)return Y+1;if(X===1&&G===2)return Y+1;if(X===2&&G===0)return Y+1}return 0}static moveWordLeft(J,$,X,Q){let{lineNumber:Y,column:Z}=X;if(Z===1){if(Y>1)Y=Y-1,Z=$.getLineMaxColumn(Y)}let G=x8._findPreviousWordOnLine(J,$,new v(Y,Z));if(Q===0)return new v(Y,G?G.start+1:1);if(Q===1){if(G&&G.wordType===2&&G.end-G.start===1&&G.nextCharClass===0)G=x8._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.start+1:1)}if(Q===3){while(G&&G.wordType===2)G=x8._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.start+1:1)}if(G&&Z<=G.end+1)G=x8._findPreviousWordOnLine(J,$,new v(Y,G.start+1));return new v(Y,G?G.end+1:1)}static _moveWordPartLeft(J,$){const X=$.lineNumber,Q=J.getLineMaxColumn(X);if($.column===1)return X>1?new v(X-1,J.getLineMaxColumn(X-1)):$;const Y=J.getLineContent(X);for(let Z=$.column-1;Z>1;Z--){const G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G===95&&q!==95)return new v(X,Z);if(G===45&&q!==45)return new v(X,Z);if((hZ(G)||WH(G))&&Y$(q))return new v(X,Z);if(Y$(G)&&Y$(q)){if(Z+1<Q){const U=Y.charCodeAt(Z);if(hZ(U)||WH(U))return new v(X,Z)}}}return new v(X,1)}static moveWordRight(J,$,X,Q){let{lineNumber:Y,column:Z}=X,G=!1;if(Z===$.getLineMaxColumn(Y)){if(Y<$.getLineCount())G=!0,Y=Y+1,Z=1}let q=x8._findNextWordOnLine(J,$,new v(Y,Z));if(Q===2){if(q&&q.wordType===2){if(q.end-q.start===1&&q.nextCharClass===0)q=x8._findNextWordOnLine(J,$,new v(Y,q.end+1))}if(q)Z=q.end+1;else Z=$.getLineMaxColumn(Y)}else if(Q===3){if(G)Z=0;while(q&&(q.wordType===2||q.start+1<=Z))q=x8._findNextWordOnLine(J,$,new v(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}else{if(q&&!G&&Z>=q.start+1)q=x8._findNextWordOnLine(J,$,new v(Y,q.end+1));if(q)Z=q.start+1;else Z=$.getLineMaxColumn(Y)}return new v(Y,Z)}static _moveWordPartRight(J,$){const X=$.lineNumber,Q=J.getLineMaxColumn(X);if($.column===Q)return X<J.getLineCount()?new v(X+1,1):$;const Y=J.getLineContent(X);for(let Z=$.column+1;Z<Q;Z++){const G=Y.charCodeAt(Z-2),q=Y.charCodeAt(Z-1);if(G!==95&&q===95)return new v(X,Z);if(G!==45&&q===45)return new v(X,Z);if((hZ(G)||WH(G))&&Y$(q))return new v(X,Z);if(Y$(G)&&Y$(q)){if(Z+1<Q){const U=Y.charCodeAt(Z);if(hZ(U)||WH(U))return new v(X,Z)}}}return new v(X,Q)}static _deleteWordLeftWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=$.column-2,Y=Z9(X,Q);if(Y+1<Q)return new L($.lineNumber,Y+2,$.lineNumber,$.column);return null}static deleteWordLeft(J,$){const{wordSeparators:X,model:Q,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;if(S$.isAutoClosingPairDelete(J.autoClosingDelete,J.autoClosingBrackets,J.autoClosingQuotes,J.autoClosingPairs.autoClosingPairsOpenByEnd,J.model,[J.selection],J.autoClosedCharacters)){const z=J.selection.getPosition();return new L(z.lineNumber,z.column-1,z.lineNumber,z.column+1)}const G=new v(Y.positionLineNumber,Y.positionColumn);let{lineNumber:q,column:U}=G;if(q===1&&U===1)return null;if(Z){const z=this._deleteWordLeftWhitespace(Q,G);if(z)return z}let H=x8._findPreviousWordOnLine(X,Q,G);if($===0)if(H)U=H.start+1;else if(U>1)U=1;else q--,U=Q.getLineMaxColumn(q);else{if(H&&U<=H.end+1)H=x8._findPreviousWordOnLine(X,Q,new v(q,H.start+1));if(H)U=H.end+1;else if(U>1)U=1;else q--,U=Q.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static deleteInsideWord(J,$,X){if(!X.isEmpty())return X;const Q=new v(X.positionLineNumber,X.positionColumn),Y=this._deleteInsideWordWhitespace($,Q);if(Y)return Y;return this._deleteInsideWordDetermineDeleteRange(J,$,Q)}static _charAtIsWhitespace(J,$){const X=J.charCodeAt($);return X===32||X===9}static _deleteInsideWordWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=X.length;if(Q===0)return null;let Y=Math.max($.column-2,0);if(!this._charAtIsWhitespace(X,Y))return null;let Z=Math.min($.column-1,Q-1);if(!this._charAtIsWhitespace(X,Z))return null;while(Y>0&&this._charAtIsWhitespace(X,Y-1))Y--;while(Z+1<Q&&this._charAtIsWhitespace(X,Z+1))Z++;return new L($.lineNumber,Y+1,$.lineNumber,Z+2)}static _deleteInsideWordDetermineDeleteRange(J,$,X){const Q=$.getLineContent(X.lineNumber),Y=Q.length;if(Y===0)if(X.lineNumber>1)return new L(X.lineNumber-1,$.getLineMaxColumn(X.lineNumber-1),X.lineNumber,1);else if(X.lineNumber<$.getLineCount())return new L(X.lineNumber,1,X.lineNumber+1,1);else return new L(X.lineNumber,1,X.lineNumber,1);const Z=(z)=>{return z.start+1<=X.column&&X.column<=z.end+1},G=(z,V)=>{return z=Math.min(z,X.column),V=Math.max(V,X.column),new L(X.lineNumber,z,X.lineNumber,V)},q=(z)=>{let V=z.start+1,j=z.end+1,W=!1;while(j-1<Y&&this._charAtIsWhitespace(Q,j-1))W=!0,j++;if(!W)while(V>1&&this._charAtIsWhitespace(Q,V-2))V--;return G(V,j)},U=x8._findPreviousWordOnLine(J,$,X);if(U&&Z(U))return q(U);const H=x8._findNextWordOnLine(J,$,X);if(H&&Z(H))return q(H);if(U&&H)return G(U.end+1,H.start+1);if(U)return G(U.start+1,U.end+1);if(H)return G(H.start+1,H.end+1);return G(1,Y+1)}static _deleteWordPartLeft(J,$){if(!$.isEmpty())return $;const X=$.getPosition(),Q=x8._moveWordPartLeft(J,X);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}static _findFirstNonWhitespaceChar(J,$){const X=J.length;for(let Q=$;Q<X;Q++){const Y=J.charAt(Q);if(Y!==" "&&Y!=="\t")return Q}return X}static _deleteWordRightWhitespace(J,$){const X=J.getLineContent($.lineNumber),Q=$.column-1,Y=this._findFirstNonWhitespaceChar(X,Q);if(Q+1<Y)return new L($.lineNumber,$.column,$.lineNumber,Y+1);return null}static deleteWordRight(J,$){const{wordSeparators:X,model:Q,selection:Y,whitespaceHeuristics:Z}=J;if(!Y.isEmpty())return Y;const G=new v(Y.positionLineNumber,Y.positionColumn);let{lineNumber:q,column:U}=G;const H=Q.getLineCount(),z=Q.getLineMaxColumn(q);if(q===H&&U===z)return null;if(Z){const j=this._deleteWordRightWhitespace(Q,G);if(j)return j}let V=x8._findNextWordOnLine(X,Q,G);if($===2)if(V)U=V.end+1;else if(U<z||q===H)U=z;else if(q++,V=x8._findNextWordOnLine(X,Q,new v(q,1)),V)U=V.start+1;else U=Q.getLineMaxColumn(q);else{if(V&&U>=V.start+1)V=x8._findNextWordOnLine(X,Q,new v(q,V.end+1));if(V)U=V.start+1;else if(U<z||q===H)U=z;else if(q++,V=x8._findNextWordOnLine(X,Q,new v(q,1)),V)U=V.start+1;else U=Q.getLineMaxColumn(q)}return new L(q,U,G.lineNumber,G.column)}static _deleteWordPartRight(J,$){if(!$.isEmpty())return $;const X=$.getPosition(),Q=x8._moveWordPartRight(J,X);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}static _createWordAtPosition(J,$,X){const Q=new L($,X.start+1,$,X.end+1);return{word:J.getValueInRange(Q),startColumn:Q.startColumn,endColumn:Q.endColumn}}static getWordAtPosition(J,$,X){const Q=B$($),Y=x8._findPreviousWordOnLine(Q,J,X);if(Y&&Y.wordType===1&&Y.start<=X.column-1&&X.column-1<=Y.end)return x8._createWordAtPosition(J,X.lineNumber,Y);const Z=x8._findNextWordOnLine(Q,J,X);if(Z&&Z.wordType===1&&Z.start<=X.column-1&&X.column-1<=Z.end)return x8._createWordAtPosition(J,X.lineNumber,Z);return null}static word(J,$,X,Q,Y){const Z=B$(J.wordSeparators),G=x8._findPreviousWordOnLine(Z,$,Y),q=x8._findNextWordOnLine(Z,$,Y);if(!Q){let j,W;if(G&&G.wordType===1&&G.start<=Y.column-1&&Y.column-1<=G.end)j=G.start+1,W=G.end+1;else if(q&&q.wordType===1&&q.start<=Y.column-1&&Y.column-1<=q.end)j=q.start+1,W=q.end+1;else{if(G)j=G.end+1;else j=1;if(q)W=q.start+1;else W=$.getLineMaxColumn(Y.lineNumber)}return new Q6(new L(Y.lineNumber,j,Y.lineNumber,W),1,0,new v(Y.lineNumber,W),0)}let U,H;if(G&&G.wordType===1&&G.start<Y.column-1&&Y.column-1<G.end)U=G.start+1,H=G.end+1;else if(q&&q.wordType===1&&q.start<Y.column-1&&Y.column-1<q.end)U=q.start+1,H=q.end+1;else U=Y.column,H=Y.column;const z=Y.lineNumber;let V;if(X.selectionStart.containsPosition(Y))V=X.selectionStart.endColumn;else if(Y.isBeforeOrEqual(X.selectionStart.getStartPosition())){V=U;const j=new v(z,V);if(X.selectionStart.containsPosition(j))V=X.selectionStart.endColumn}else{V=H;const j=new v(z,V);if(X.selectionStart.containsPosition(j))V=X.selectionStart.startColumn}return X.move(!0,z,V,0)}}var eN=N(()=>{o0();bJ();UA();eH();U1();c0()});class H7{static addCursorDown(J,$,X){const Q=[];let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];if(Q[Y++]=new F1(q.modelState,q.viewState),X)Q[Y++]=F1.fromModelState(v1.translateDown(J.cursorConfig,J.model,q.modelState));else Q[Y++]=F1.fromViewState(v1.translateDown(J.cursorConfig,J,q.viewState))}return Q}static addCursorUp(J,$,X){const Q=[];let Y=0;for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];if(Q[Y++]=new F1(q.modelState,q.viewState),X)Q[Y++]=F1.fromModelState(v1.translateUp(J.cursorConfig,J.model,q.modelState));else Q[Y++]=F1.fromViewState(v1.translateUp(J.cursorConfig,J,q.viewState))}return Q}static moveToBeginningOfLine(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=this._moveToLineStart(J,G,X)}return Q}static _moveToLineStart(J,$,X){const Q=$.viewState.position.column,Y=$.modelState.position.column,Z=Q===Y,G=$.viewState.position.lineNumber,q=J.getLineFirstNonWhitespaceColumn(G);if(!Z&&Q!==q)return this._moveToLineStartByView(J,$,X);else return this._moveToLineStartByModel(J,$,X)}static _moveToLineStartByView(J,$,X){return F1.fromViewState(v1.moveToBeginningOfLine(J.cursorConfig,J,$.viewState,X))}static _moveToLineStartByModel(J,$,X){return F1.fromModelState(v1.moveToBeginningOfLine(J.cursorConfig,J.model,$.modelState,X))}static moveToEndOfLine(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=this._moveToLineEnd(J,q,X,Q)}return Y}static _moveToLineEnd(J,$,X,Q){const Y=$.viewState.position,Z=J.getLineMaxColumn(Y.lineNumber),G=Y.column===Z,q=$.modelState.position,U=J.model.getLineMaxColumn(q.lineNumber),H=Z-Y.column===U-q.column;if(G||H)return this._moveToLineEndByModel(J,$,X,Q);else return this._moveToLineEndByView(J,$,X,Q)}static _moveToLineEndByView(J,$,X,Q){return F1.fromViewState(v1.moveToEndOfLine(J.cursorConfig,J,$.viewState,X,Q))}static _moveToLineEndByModel(J,$,X,Q){return F1.fromModelState(v1.moveToEndOfLine(J.cursorConfig,J.model,$.modelState,X,Q))}static expandLineSelection(J,$){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++){const Z=$[Q],G=Z.modelState.selection.startLineNumber,q=J.model.getLineCount();let U=Z.modelState.selection.endLineNumber,H;if(U===q)H=J.model.getLineMaxColumn(q);else U++,H=1;X[Q]=F1.fromModelState(new Q6(new L(G,1,G,1),0,0,new v(U,H),0))}return X}static moveToBeginningOfBuffer(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=F1.fromModelState(v1.moveToBeginningOfBuffer(J.cursorConfig,J.model,G.modelState,X))}return Q}static moveToEndOfBuffer(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];Q[Y]=F1.fromModelState(v1.moveToEndOfBuffer(J.cursorConfig,J.model,G.modelState,X))}return Q}static selectAll(J,$){const X=J.model.getLineCount(),Q=J.model.getLineMaxColumn(X);return F1.fromModelState(new Q6(new L(1,1,1,1),0,0,new v(X,Q),0))}static line(J,$,X,Q,Y){const Z=J.model.validatePosition(Q),G=Y?J.coordinatesConverter.validateViewPosition(new v(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);if(!X){const U=J.model.getLineCount();let H=Z.lineNumber+1,z=1;if(H>U)H=U,z=J.model.getLineMaxColumn(H);return F1.fromModelState(new Q6(new L(Z.lineNumber,1,H,z),2,0,new v(H,z),0))}const q=$.modelState.selectionStart.getStartPosition().lineNumber;if(Z.lineNumber<q)return F1.fromViewState($.viewState.move(!0,G.lineNumber,1,0));else if(Z.lineNumber>q){const U=J.getLineCount();let H=G.lineNumber+1,z=1;if(H>U)H=U,z=J.getLineMaxColumn(H);return F1.fromViewState($.viewState.move(!0,H,z,0))}else{const U=$.modelState.selectionStart.getEndPosition();return F1.fromModelState($.modelState.move(!0,U.lineNumber,U.column,0))}}static word(J,$,X,Q){const Y=J.model.validatePosition(Q);return F1.fromModelState(x8.word(J.cursorConfig,J.model,$.modelState,X,Y))}static cancelSelection(J,$){if(!$.modelState.hasSelection())return new F1($.modelState,$.viewState);const X=$.viewState.position.lineNumber,Q=$.viewState.position.column;return F1.fromViewState(new Q6(new L(X,Q,X,Q),0,0,new v(X,Q),0))}static moveTo(J,$,X,Q,Y){if(X){if($.modelState.selectionStartKind===1)return this.word(J,$,X,Q);if($.modelState.selectionStartKind===2)return this.line(J,$,X,Q,Y)}const Z=J.model.validatePosition(Q),G=Y?J.coordinatesConverter.validateViewPosition(new v(Y.lineNumber,Y.column),Z):J.coordinatesConverter.convertModelPositionToViewPosition(Z);return F1.fromViewState($.viewState.move(X,G.lineNumber,G.column,0))}static simpleMove(J,$,X,Q,Y,Z){switch(X){case 0:if(Z===4)return this._moveHalfLineLeft(J,$,Q);else return this._moveLeft(J,$,Q,Y);case 1:if(Z===4)return this._moveHalfLineRight(J,$,Q);else return this._moveRight(J,$,Q,Y);case 2:if(Z===2)return this._moveUpByViewLines(J,$,Q,Y);else return this._moveUpByModelLines(J,$,Q,Y);case 3:if(Z===2)return this._moveDownByViewLines(J,$,Q,Y);else return this._moveDownByModelLines(J,$,Q,Y);case 4:if(Z===2)return $.map((G)=>F1.fromViewState(v1.moveToPrevBlankLine(J.cursorConfig,J,G.viewState,Q)));else return $.map((G)=>F1.fromModelState(v1.moveToPrevBlankLine(J.cursorConfig,J.model,G.modelState,Q)));case 5:if(Z===2)return $.map((G)=>F1.fromViewState(v1.moveToNextBlankLine(J.cursorConfig,J,G.viewState,Q)));else return $.map((G)=>F1.fromModelState(v1.moveToNextBlankLine(J.cursorConfig,J.model,G.modelState,Q)));case 6:return this._moveToViewMinColumn(J,$,Q);case 7:return this._moveToViewFirstNonWhitespaceColumn(J,$,Q);case 8:return this._moveToViewCenterColumn(J,$,Q);case 9:return this._moveToViewMaxColumn(J,$,Q);case 10:return this._moveToViewLastNonWhitespaceColumn(J,$,Q);default:return null}}static viewportMove(J,$,X,Q,Y){const Z=J.getCompletelyVisibleViewRange(),G=J.coordinatesConverter.convertViewRangeToModelRange(Z);switch(X){case 11:{const q=this._firstLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 13:{const q=this._lastLineNumberInRange(J.model,G,Y),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 12:{const q=Math.round((G.startLineNumber+G.endLineNumber)/2),U=J.model.getLineFirstNonWhitespaceColumn(q);return[this._moveToModelPosition(J,$[0],Q,q,U)]}case 14:{const q=[];for(let U=0,H=$.length;U<H;U++){const z=$[U];q[U]=this.findPositionInViewportIfOutside(J,z,Z,Q)}return q}default:return null}}static findPositionInViewportIfOutside(J,$,X,Q){const Y=$.viewState.position.lineNumber;if(X.startLineNumber<=Y&&Y<=X.endLineNumber-1)return new F1($.modelState,$.viewState);else{let Z;if(Y>X.endLineNumber-1)Z=X.endLineNumber-1;else if(Y<X.startLineNumber)Z=X.startLineNumber;else Z=Y;const G=v1.vertical(J.cursorConfig,J,Y,$.viewState.position.column,$.viewState.leftoverVisibleColumns,Z,!1);return F1.fromViewState($.viewState.move(Q,G.lineNumber,G.column,G.leftoverVisibleColumns))}}static _firstLineNumberInRange(J,$,X){let Q=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(Q))Q++;return Math.min($.endLineNumber,Q+X-1)}static _lastLineNumberInRange(J,$,X){let Q=$.startLineNumber;if($.startColumn!==J.getLineMinColumn(Q))Q++;return Math.max(Q,$.endLineNumber-X+1)}static _moveLeft(J,$,X,Q){return $.map((Y)=>F1.fromViewState(v1.moveLeft(J.cursorConfig,J,Y.viewState,X,Q)))}static _moveHalfLineLeft(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);Q[Y]=F1.fromViewState(v1.moveLeft(J.cursorConfig,J,G.viewState,X,U))}return Q}static _moveRight(J,$,X,Q){return $.map((Y)=>F1.fromViewState(v1.moveRight(J.cursorConfig,J,Y.viewState,X,Q)))}static _moveHalfLineRight(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round(J.getLineLength(q)/2);Q[Y]=F1.fromViewState(v1.moveRight(J.cursorConfig,J,G.viewState,X,U))}return Q}static _moveDownByViewLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=F1.fromViewState(v1.moveDown(J.cursorConfig,J,q.viewState,X,Q))}return Y}static _moveDownByModelLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=F1.fromModelState(v1.moveDown(J.cursorConfig,J.model,q.modelState,X,Q))}return Y}static _moveUpByViewLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=F1.fromViewState(v1.moveUp(J.cursorConfig,J,q.viewState,X,Q))}return Y}static _moveUpByModelLines(J,$,X,Q){const Y=[];for(let Z=0,G=$.length;Z<G;Z++){const q=$[Z];Y[Z]=F1.fromModelState(v1.moveUp(J.cursorConfig,J.model,q.modelState,X,Q))}return Y}static _moveToViewPosition(J,$,X,Q,Y){return F1.fromViewState($.viewState.move(X,Q,Y,0))}static _moveToModelPosition(J,$,X,Q,Y){return F1.fromModelState($.modelState.move(X,Q,Y,0))}static _moveToViewMinColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMinColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewFirstNonWhitespaceColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineFirstNonWhitespaceColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewCenterColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=Math.round((J.getLineMaxColumn(q)+J.getLineMinColumn(q))/2);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewMaxColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineMaxColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}static _moveToViewLastNonWhitespaceColumn(J,$,X){const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.viewState.position.lineNumber,U=J.getLineLastNonWhitespaceColumn(q);Q[Y]=this._moveToViewPosition(J,G,X,q,U)}return Q}}var bz;var Am=N(()=>{G8();bJ();tN();eN();U1();c0();(function(J){const $=function(Q){if(!n8(Q))return!1;const Y=Q;if(!G6(Y.to))return!1;if(!e6(Y.select)&&!vW(Y.select))return!1;if(!e6(Y.by)&&!G6(Y.by))return!1;if(!e6(Y.value)&&!$9(Y.value))return!1;return!0};J.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},J.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function X(Q){if(!Q.to)return null;let Y;switch(Q.to){case J.RawDirection.Left:Y=0;break;case J.RawDirection.Right:Y=1;break;case J.RawDirection.Up:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.PrevBlankLine:Y=4;break;case J.RawDirection.NextBlankLine:Y=5;break;case J.RawDirection.WrappedLineStart:Y=6;break;case J.RawDirection.WrappedLineFirstNonWhitespaceCharacter:Y=7;break;case J.RawDirection.WrappedLineColumnCenter:Y=8;break;case J.RawDirection.WrappedLineEnd:Y=9;break;case J.RawDirection.WrappedLineLastNonWhitespaceCharacter:Y=10;break;case J.RawDirection.ViewPortTop:Y=11;break;case J.RawDirection.ViewPortBottom:Y=13;break;case J.RawDirection.ViewPortCenter:Y=12;break;case J.RawDirection.ViewPortIfOutside:Y=14;break;default:return null}let Z=0;switch(Q.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Character:Z=3;break;case J.RawUnit.HalfLine:Z=4;break}return{direction:Y,unit:Z,select:!!Q.select,value:Q.value||1}}J.parse=X})(bz||(bz={}))});function vz(J,$,X,Q){const Y=QY($,X.startLineNumber,X.startColumn),Z=Q.getLanguageConfiguration(Y.languageId);if(!Z)return null;const G=Y.getLineContent(),q=G.substr(0,X.startColumn-1-Y.firstCharOffset);let U;if(X.isEmpty())U=G.substr(X.startColumn-1-Y.firstCharOffset);else U=QY($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-Y.firstCharOffset);let H="";if(X.startLineNumber>1&&Y.firstCharOffset===0){const K=QY($,X.startLineNumber-1);if(K.languageId===Y.languageId)H=K.getLineContent()}const z=Z.onEnter(J,H,q,U);if(!z)return null;const V=z.indentAction;let j=z.appendText;const W=z.removeText||0;if(!j)if(V===l6.Indent||V===l6.IndentOutdent)j="\t";else j="";else if(V===l6.Indent)j="\t"+j;let B=JK($,X.startLineNumber,X.startColumn);if(W)B=B.substring(0,B.length-W);return{indentAction:V,appendText:j,removeText:W,indentation:B}}var J_=N(()=>{$G();g7()});var fG,J50,$50,HA,$_,OY;var Pm=N(()=>{o0();SJ();c0();S6();J_();g7();fG=function(J,$){if($<=0)return"";if(!$_[J])$_[J]=["",J];const X=$_[J];for(let Q=X.length;Q<=$;Q++)X[Q]=X[Q-1]+J;return X[$]},J50=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},$50=function(J,$){return function(X,Q){$(X,Q,J)}},$_=Object.create(null),OY=HA=class J{static unshiftIndent($,X,Q,Y,Z){const G=J8.visibleColumnFromColumn($,X,Q);if(Z){const q=fG(" ",Y),H=J8.prevIndentTabStop(G,Y)/Y;return fG(q,H)}else{const H=J8.prevRenderTabStop(G,Q)/Q;return fG("\t",H)}}static shiftIndent($,X,Q,Y,Z){const G=J8.visibleColumnFromColumn($,X,Q);if(Z){const q=fG(" ",Y),H=J8.nextIndentTabStop(G,Y)/Y;return fG(q,H)}else{const H=J8.nextRenderTabStop(G,Q)/Q;return fG("\t",H)}}constructor($,X,Q){this._languageConfigurationService=Q,this._opts=X,this._selection=$,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation($,X,Q){if(this._useLastEditRangeForCursorEndPosition)$.addTrackedEditOperation(X,Q);else $.addEditOperation(X,Q)}getEditOperations($,X){const Q=this._selection.startLineNumber;let Y=this._selection.endLineNumber;if(this._selection.endColumn===1&&Q!==Y)Y=Y-1;const{tabSize:Z,indentSize:G,insertSpaces:q}=this._opts,U=Q===Y;if(this._opts.useTabStops){if(this._selection.isEmpty()){if(/^\s*$/.test($.getLineContent(Q)))this._useLastEditRangeForCursorEndPosition=!0}let H=0,z=0;for(let V=Q;V<=Y;V++,H=z){z=0;const j=$.getLineContent(V);let W=S8(j);if(this._opts.isUnshift&&(j.length===0||W===0))continue;if(!U&&!this._opts.isUnshift&&j.length===0)continue;if(W===-1)W=j.length;if(V>1){if(J8.visibleColumnFromColumn(j,W+1,Z)%G!==0){if($.tokenization.isCheapToTokenize(V-1)){const P=vz(this._opts.autoIndent,$,new L(V-1,$.getLineMaxColumn(V-1),V-1,$.getLineMaxColumn(V-1)),this._languageConfigurationService);if(P){if(z=H,P.appendText)for(let A=0,D=P.appendText.length;A<D&&z<G;A++)if(P.appendText.charCodeAt(A)===32)z++;else break;if(P.removeText)z=Math.max(0,z-P.removeText);for(let A=0;A<z;A++){if(W===0||j.charCodeAt(W-1)!==32)break;W--}}}}}if(this._opts.isUnshift&&W===0)continue;let B;if(this._opts.isUnshift)B=HA.unshiftIndent(j,W+1,Z,G,q);else B=HA.shiftIndent(j,W+1,Z,G,q);if(this._addEditOperation(X,new L(V,1,V,W+1),B),V===Q&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn<=W+1}}else{if(!this._opts.isUnshift&&this._selection.isEmpty()&&$.getLineLength(Q)===0)this._useLastEditRangeForCursorEndPosition=!0;const H=q?fG(" ",G):"\t";for(let z=Q;z<=Y;z++){const V=$.getLineContent(z);let j=S8(V);if(this._opts.isUnshift&&(V.length===0||j===0))continue;if(!U&&!this._opts.isUnshift&&V.length===0)continue;if(j===-1)j=V.length;if(this._opts.isUnshift&&j===0)continue;if(this._opts.isUnshift){j=Math.min(j,G);for(let W=0;W<j;W++)if(V.charCodeAt(W)===9){j=W+1;break}this._addEditOperation(X,new L(z,1,z,j+1),"")}else if(this._addEditOperation(X,new L(z,1,z,1),H),z===Q&&!this._selection.isEmpty())this._selectionStartColumnStaysPut=this._selection.startColumn===1}}this._selectionId=X.trackSelection(this._selection)}computeCursorState($,X){if(this._useLastEditRangeForCursorEndPosition){const Y=X.getInverseEditOperations()[0];return new b0(Y.range.endLineNumber,Y.range.endColumn,Y.range.endLineNumber,Y.range.endColumn)}const Q=X.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const Y=this._selection.startColumn;if(Q.startColumn<=Y)return Q;if(Q.getDirection()===0)return new b0(Q.startLineNumber,Y,Q.endLineNumber,Q.endColumn);return new b0(Q.endLineNumber,Q.endColumn,Q.startLineNumber,Y)}return Q}};OY=HA=J50([$50(2,N8)],OY)});class X_{constructor(J,$,X){this._range=J,this._charBeforeSelection=$,this._charAfterSelection=X}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new L(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(J,$){const X=$.getInverseEditOperations(),Q=X[0].range,Y=X[1].range;return new b0(Q.endLineNumber,Q.endColumn,Y.endLineNumber,Y.endColumn-this._charAfterSelection.length)}}class Q_{constructor(J,$,X){this._position=J,this._text=$,this._charAfter=X}getEditOperations(J,$){$.addTrackedEditOperation(new L(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return new b0(Q.endLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn-this._charAfter.length)}}var Dm=N(()=>{c0();S6()});function zA(J,$,X,Q=!0,Y){if(J<4)return null;const Z=Y.getLanguageConfiguration($.tokenization.getLanguageId()).indentRulesSupport;if(!Z)return null;if(X<=1)return{indentation:"",action:null};for(let U=X-1;U>0;U--){if($.getLineContent(U)!=="")break;if(U===1)return{indentation:"",action:null}}const G=X50($,X,Z);if(G<0)return null;else if(G<1)return{indentation:"",action:null};const q=$.getLineContent(G);if(Z.shouldIncrease(q)||Z.shouldIndentNextLine(q))return{indentation:J6(q),action:l6.Indent,line:G};else if(Z.shouldDecrease(q))return{indentation:J6(q),action:null,line:G};else{if(G===1)return{indentation:J6($.getLineContent(G)),action:null,line:G};const U=G-1,H=Z.getIndentMetadata($.getLineContent(U));if(!(H&(1|2))&&H&4){let z=0;for(let V=U-1;V>0;V--){if(Z.shouldIndentNextLine($.getLineContent(V)))continue;z=V;break}return{indentation:J6($.getLineContent(z+1)),action:null,line:z+1}}if(Q)return{indentation:J6($.getLineContent(G)),action:null,line:G};else{for(let z=G;z>0;z--){const V=$.getLineContent(z);if(Z.shouldIncrease(V))return{indentation:J6(V),action:l6.Indent,line:z};else if(Z.shouldIndentNextLine(V)){let j=0;for(let W=z-1;W>0;W--){if(Z.shouldIndentNextLine($.getLineContent(z)))continue;j=W;break}return{indentation:J6($.getLineContent(j+1)),action:null,line:j+1}}else if(Z.shouldDecrease(V))return{indentation:J6(V),action:null,line:z}}return{indentation:J6($.getLineContent(1)),action:null,line:1}}}}function Rm(J,$,X,Q,Y){if(J<4)return null;$.tokenization.forceTokenization(X.startLineNumber);const Z=$.tokenization.getLineTokens(X.startLineNumber),G=$Y(Z,X.startColumn-1),q=G.getLineContent();let U=!1,H;if(G.firstCharOffset>0&&Z.getLanguageId(0)!==G.languageId)U=!0,H=q.substr(0,X.startColumn-1-G.firstCharOffset);else H=Z.getLineContent().substring(0,X.startColumn-1);let z;if(X.isEmpty())z=q.substr(X.startColumn-1-G.firstCharOffset);else z=QY($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-G.firstCharOffset);const V=Y.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!V)return null;const j=H,W=J6(H),B={tokenization:{getLineTokens:(D)=>{return $.tokenization.getLineTokens(D)},getLanguageId:()=>{return $.getLanguageId()},getLanguageIdAtPosition:(D,R)=>{return $.getLanguageIdAtPosition(D,R)}},getLineContent:(D)=>{if(D===X.startLineNumber)return j;else return $.getLineContent(D)}},K=J6(Z.getLineContent()),P=zA(J,B,X.startLineNumber+1,void 0,Y);if(!P){const D=U?K:W;return{beforeEnter:D,afterEnter:D}}let A=U?K:P.indentation;if(P.action===l6.Indent)A=Q.shiftIndent(A);if(V.shouldDecrease(z))A=Q.unshiftIndent(A);return{beforeEnter:U?K:W,afterEnter:A}}function Mm(J,$,X,Q,Y,Z){if(J<4)return null;const G=QY($,X.startLineNumber,X.startColumn);if(G.firstCharOffset)return null;const q=Z.getLanguageConfiguration(G.languageId).indentRulesSupport;if(!q)return null;const U=G.getLineContent(),H=U.substr(0,X.startColumn-1-G.firstCharOffset);let z;if(X.isEmpty())z=U.substr(X.startColumn-1-G.firstCharOffset);else z=QY($,X.endLineNumber,X.endColumn).getLineContent().substr(X.endColumn-1-G.firstCharOffset);if(!q.shouldDecrease(H+z)&&q.shouldDecrease(H+Q+z)){const V=zA(J,$,X.startLineNumber,!1,Z);if(!V)return null;let j=V.indentation;if(V.action!==l6.Indent)j=Y.unshiftIndent(j);return j}return null}var X50;var Om=N(()=>{o0();$G();XG();g7();X50=function(J,$,X){const Q=J.tokenization.getLanguageIdAtPosition($,0);if($>1){let Y,Z=-1;for(Y=$-1;Y>=1;Y--){if(J.tokenization.getLanguageIdAtPosition(Y,0)!==Q)return Z;const G=J.getLineContent(Y);if(X.shouldIgnore(G)||/^\s+$/.test(G)||G===""){Z=Y;continue}return Y}}return-1}});class w8{static indent(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=new OY(X[Y],{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return Q}static outdent(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=new OY(X[Y],{isUnshift:!0,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService);return Q}static shiftIndent(J,$,X){return X=X||1,OY.shiftIndent($,$.length+X,J.tabSize,J.indentSize,J.insertSpaces)}static unshiftIndent(J,$,X){return X=X||1,OY.unshiftIndent($,$.length+X,J.tabSize,J.indentSize,J.insertSpaces)}static _distributedPaste(J,$,X,Q){const Y=[];for(let Z=0,G=X.length;Z<G;Z++)Y[Z]=new l7(X[Z],Q[Z]);return new U7(0,Y,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(J,$,X,Q,Y){const Z=[];for(let G=0,q=X.length;G<q;G++){const U=X[G],H=U.getPosition();if(Y&&!U.isEmpty())Y=!1;if(Y&&Q.indexOf("\n")!==Q.length-1)Y=!1;if(Y){const z=new L(H.lineNumber,1,H.lineNumber,1);Z[G]=new nN(z,Q,U,!0)}else Z[G]=new l7(U,Q)}return new U7(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(J,$,X,Q,Y){if(Q)return null;if($.length===1)return null;if(Y&&Y.length===$.length)return Y;if(J.multiCursorPaste==="spread"){if(X.charCodeAt(X.length-1)===10)X=X.substr(0,X.length-1);if(X.charCodeAt(X.length-1)===13)X=X.substr(0,X.length-1);const Z=Y9(X);if(Z.length===$.length)return Z}return null}static paste(J,$,X,Q,Y,Z){const G=this._distributePasteToCursors(J,X,Q,Y,Z);if(G)return X=X.sort(L.compareRangesUsingStarts),this._distributedPaste(J,$,X,G);else return this._simplePaste(J,$,X,Q,Y)}static _goodIndentForLine(J,$,X){let Q=null,Y="";const Z=zA(J.autoIndent,$,X,!1,J.languageConfigurationService);if(Z)Q=Z.action,Y=Z.indentation;else if(X>1){let G;for(G=X-1;G>=1;G--){const H=$.getLineContent(G);if(Z9(H)>=0)break}if(G<1)return null;const q=$.getLineMaxColumn(G),U=vz(J.autoIndent,$,new L(G,q,G,q),J.languageConfigurationService);if(U)Y=U.indentation+U.appendText}if(Q){if(Q===l6.Indent)Y=w8.shiftIndent(J,Y);if(Q===l6.Outdent)Y=w8.unshiftIndent(J,Y);Y=J.normalizeIndentation(Y)}if(!Y)return null;return Y}static _replaceJumpToNextIndent(J,$,X,Q){let Y="";const Z=X.getStartPosition();if(J.insertSpaces){const G=J.visibleColumnFromColumn($,Z),q=J.indentSize,U=q-G%q;for(let H=0;H<U;H++)Y+=" "}else Y="\t";return new l7(X,Y,Q)}static tab(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y];if(G.isEmpty()){const q=$.getLineContent(G.startLineNumber);if(/^\s*$/.test(q)&&$.tokenization.isCheapToTokenize(G.startLineNumber)){let U=this._goodIndentForLine(J,$,G.startLineNumber);U=U||"\t";const H=J.normalizeIndentation(U);if(!q.startsWith(H)){Q[Y]=new l7(new L(G.startLineNumber,1,G.startLineNumber,q.length+1),H,!0);continue}}Q[Y]=this._replaceJumpToNextIndent(J,$,G,!0)}else{if(G.startLineNumber===G.endLineNumber){const q=$.getLineMaxColumn(G.startLineNumber);if(G.startColumn!==1||G.endColumn!==q){Q[Y]=this._replaceJumpToNextIndent(J,$,G,!1);continue}}Q[Y]=new OY(G,{isUnshift:!1,tabSize:J.tabSize,indentSize:J.indentSize,insertSpaces:J.insertSpaces,useTabStops:J.useTabStops,autoIndent:J.autoIndent},J.languageConfigurationService)}}return Q}static compositionType(J,$,X,Q,Y,Z,G,q){const U=Q.map((H)=>this._compositionType(X,H,Y,Z,G,q));return new U7(4,U,{shouldPushStackElementBefore:VA(J,4),shouldPushStackElementAfter:!1})}static _compositionType(J,$,X,Q,Y,Z){if(!$.isEmpty())return null;const G=$.getPosition(),q=Math.max(1,G.column-Q),U=Math.min(J.getLineMaxColumn(G.lineNumber),G.column+Y),H=new L(G.lineNumber,q,G.lineNumber,U);if(J.getValueInRange(H)===X&&Z===0)return null;return new Y3(H,X,0,Z)}static _typeCommand(J,$,X){if(X)return new Q3(J,$,!0);else return new l7(J,$,!0)}static _enter(J,$,X,Q){if(J.autoIndent===0)return w8._typeCommand(Q,"\n",X);if(!$.tokenization.isCheapToTokenize(Q.getStartPosition().lineNumber)||J.autoIndent===1){const q=$.getLineContent(Q.startLineNumber),U=J6(q).substring(0,Q.startColumn-1);return w8._typeCommand(Q,"\n"+J.normalizeIndentation(U),X)}const Y=vz(J.autoIndent,$,Q,J.languageConfigurationService);if(Y){if(Y.indentAction===l6.None)return w8._typeCommand(Q,"\n"+J.normalizeIndentation(Y.indentation+Y.appendText),X);else if(Y.indentAction===l6.Indent)return w8._typeCommand(Q,"\n"+J.normalizeIndentation(Y.indentation+Y.appendText),X);else if(Y.indentAction===l6.IndentOutdent){const q=J.normalizeIndentation(Y.indentation),U=J.normalizeIndentation(Y.indentation+Y.appendText),H="\n"+U+"\n"+q;if(X)return new Q3(Q,H,!0);else return new Y3(Q,H,-1,U.length-q.length,!0)}else if(Y.indentAction===l6.Outdent){const q=w8.unshiftIndent(J,Y.indentation);return w8._typeCommand(Q,"\n"+J.normalizeIndentation(q+Y.appendText),X)}}const Z=$.getLineContent(Q.startLineNumber),G=J6(Z).substring(0,Q.startColumn-1);if(J.autoIndent>=4){const q=Rm(J.autoIndent,$,Q,{unshiftIndent:(U)=>{return w8.unshiftIndent(J,U)},shiftIndent:(U)=>{return w8.shiftIndent(J,U)},normalizeIndentation:(U)=>{return J.normalizeIndentation(U)}},J.languageConfigurationService);if(q){let U=J.visibleColumnFromColumn($,Q.getEndPosition());const H=Q.endColumn,z=$.getLineContent(Q.endLineNumber),V=S8(z);if(V>=0)Q=Q.setEndPosition(Q.endLineNumber,Math.max(Q.endColumn,V+1));else Q=Q.setEndPosition(Q.endLineNumber,$.getLineMaxColumn(Q.endLineNumber));if(X)return new Q3(Q,"\n"+J.normalizeIndentation(q.afterEnter),!0);else{let j=0;if(H<=V+1){if(!J.insertSpaces)U=Math.ceil(U/J.indentSize);j=Math.min(U+1-J.normalizeIndentation(q.afterEnter).length-1,0)}return new Y3(Q,"\n"+J.normalizeIndentation(q.afterEnter),0,j,!0)}}}return w8._typeCommand(Q,"\n"+J.normalizeIndentation(G),X)}static _isAutoIndentType(J,$,X){if(J.autoIndent<4)return!1;for(let Q=0,Y=X.length;Q<Y;Q++)if(!$.tokenization.isCheapToTokenize(X[Q].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(J,$,X,Q){const Y=JK($,X.startLineNumber,X.startColumn),Z=Mm(J.autoIndent,$,X,Q,{shiftIndent:(G)=>{return w8.shiftIndent(J,G)},unshiftIndent:(G)=>{return w8.unshiftIndent(J,G)}},J.languageConfigurationService);if(Z===null)return null;if(Z!==J.normalizeIndentation(Y)){const G=$.getLineFirstNonWhitespaceColumn(X.startLineNumber);if(G===0)return w8._typeCommand(new L(X.startLineNumber,1,X.endLineNumber,X.endColumn),J.normalizeIndentation(Z)+Q,!1);else return w8._typeCommand(new L(X.startLineNumber,1,X.endLineNumber,X.endColumn),J.normalizeIndentation(Z)+$.getLineContent(X.startLineNumber).substring(G-1,X.startColumn-1)+Q,!1)}return null}static _isAutoClosingOvertype(J,$,X,Q,Y){if(J.autoClosingOvertype==="never")return!1;if(!J.autoClosingPairs.autoClosingPairsCloseSingleChar.has(Y))return!1;for(let Z=0,G=X.length;Z<G;Z++){const q=X[Z];if(!q.isEmpty())return!1;const U=q.getPosition(),H=$.getLineContent(U.lineNumber);if(H.charAt(U.column-1)!==Y)return!1;const V=y$(Y);if((U.column>2?H.charCodeAt(U.column-2):0)===92&&V)return!1;if(J.autoClosingOvertype==="auto"){let W=!1;for(let B=0,K=Q.length;B<K;B++){const P=Q[B];if(U.lineNumber===P.startLineNumber&&U.column===P.startColumn){W=!0;break}}if(!W)return!1}}return!0}static _runAutoClosingOvertype(J,$,X,Q,Y){const Z=[];for(let G=0,q=Q.length;G<q;G++){const H=Q[G].getPosition(),z=new L(H.lineNumber,H.column,H.lineNumber,H.column+1);Z[G]=new l7(z,Y)}return new U7(4,Z,{shouldPushStackElementBefore:VA(J,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(J,$){const X=$.charAt(0),Q=J.autoClosingPairs.autoClosingPairsOpenByStart.get(X)||[],Y=J.autoClosingPairs.autoClosingPairsCloseByStart.get(X)||[],Z=Q.some((q)=>$.startsWith(q.open)),G=Y.some((q)=>$.startsWith(q.close));return!Z&&G}static _findAutoClosingPairOpen(J,$,X,Q){const Y=J.autoClosingPairs.autoClosingPairsOpenByEnd.get(Q);if(!Y)return null;let Z=null;for(let G of Y)if(Z===null||G.open.length>Z.open.length){let q=!0;for(let U of X)if($.getValueInRange(new L(U.lineNumber,U.column-G.open.length+1,U.lineNumber,U.column))+Q!==G.open){q=!1;break}if(q)Z=G}return Z}static _findContainedAutoClosingPair(J,$){if($.open.length<=1)return null;const X=$.close.charAt($.close.length-1),Q=J.autoClosingPairs.autoClosingPairsCloseByEnd.get(X)||[];let Y=null;for(let Z of Q)if(Z.open!==$.open&&$.open.includes(Z.open)&&$.close.endsWith(Z.close)){if(!Y||Z.open.length>Y.open.length)Y=Z}return Y}static _getAutoClosingPairClose(J,$,X,Q,Y){for(let W of X)if(!W.isEmpty())return null;const Z=X.map((W)=>{const B=W.getPosition();if(Y)return{lineNumber:B.lineNumber,beforeColumn:B.column-Q.length,afterColumn:B.column};else return{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),G=this._findAutoClosingPairOpen(J,$,Z.map((W)=>new v(W.lineNumber,W.beforeColumn)),Q);if(!G)return null;let q,U;if(y$(Q))q=J.autoClosingQuotes,U=J.shouldAutoCloseBefore.quote;else if(J.blockCommentStartToken?G.open.includes(J.blockCommentStartToken):!1)q=J.autoClosingComments,U=J.shouldAutoCloseBefore.comment;else q=J.autoClosingBrackets,U=J.shouldAutoCloseBefore.bracket;if(q==="never")return null;const z=this._findContainedAutoClosingPair(J,G),V=z?z.close:"";let j=!0;for(let W of Z){const{lineNumber:B,beforeColumn:K,afterColumn:P}=W,A=$.getLineContent(B),D=A.substring(0,K-1),R=A.substring(P-1);if(!R.startsWith(V))j=!1;if(R.length>0){const w=R.charAt(0);if(!w8._isBeforeClosingBrace(J,R)&&!U(w))return null}if(G.open.length===1&&(Q==="\'"||Q==='"')&&q!=="always"){const w=B$(J.wordSeparators);if(D.length>0){const C=D.charCodeAt(D.length-1);if(w.get(C)===0)return null}}if(!$.tokenization.isCheapToTokenize(B))return null;$.tokenization.forceTokenization(B);const M=$.tokenization.getLineTokens(B),O=$Y(M,K-1);if(!G.shouldAutoClose(O,K-O.firstCharOffset))return null;const _=G.findNeutralCharacter();if(_){const w=$.tokenization.getTokenTypeIfInsertingCharacter(B,K,_);if(!G.isOK(w))return null}}if(j)return G.close.substring(0,G.close.length-V.length);else return G.close}static _runAutoClosingOpenCharType(J,$,X,Q,Y,Z,G){const q=[];for(let U=0,H=Q.length;U<H;U++){const z=Q[U];q[U]=new jA(z,Y,!Z,G)}return new U7(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(J,$){if(y$($))return J.autoSurround==="quotes"||J.autoSurround==="languageDefined";else return J.autoSurround==="brackets"||J.autoSurround==="languageDefined"}static _isSurroundSelectionType(J,$,X,Q){if(!w8._shouldSurroundChar(J,Q)||!J.surroundingPairs.hasOwnProperty(Q))return!1;const Y=y$(Q);for(let Z of X){if(Z.isEmpty())return!1;let G=!0;for(let q=Z.startLineNumber;q<=Z.endLineNumber;q++){const U=$.getLineContent(q),H=q===Z.startLineNumber?Z.startColumn-1:0,z=q===Z.endLineNumber?Z.endColumn-1:U.length,V=U.substring(H,z);if(/[^ \t]/.test(V)){G=!1;break}}if(G)return!1;if(Y&&Z.startLineNumber===Z.endLineNumber&&Z.startColumn+1===Z.endColumn){const q=$.getValueInRange(Z);if(y$(q))return!1}}return!0}static _runSurroundSelectionType(J,$,X,Q,Y){const Z=[];for(let G=0,q=Q.length;G<q;G++){const U=Q[G],H=$.surroundingPairs[Y];Z[G]=new X_(U,Y,H)}return new U7(0,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(J,$,X){if(X.length===1&&$.tokenization.isCheapToTokenize(X[0].getEndPosition().lineNumber))return!0;return!1}static _typeInterceptorElectricChar(J,$,X,Q,Y){if(!$.electricChars.hasOwnProperty(Y)||!Q.isEmpty())return null;const Z=Q.getPosition();X.tokenization.forceTokenization(Z.lineNumber);const G=X.tokenization.getLineTokens(Z.lineNumber);let q;try{q=$.onElectricCharacter(Y,G,Z.column)}catch(U){return n0(U),null}if(!q)return null;if(q.matchOpenBracket){const U=(G.getLineContent()+Y).lastIndexOf(q.matchOpenBracket)+1,H=X.bracketPairs.findMatchingBracketUp(q.matchOpenBracket,{lineNumber:Z.lineNumber,column:U},500);if(H){if(H.startLineNumber===Z.lineNumber)return null;const z=X.getLineContent(H.startLineNumber),V=J6(z),j=$.normalizeIndentation(V),W=X.getLineContent(Z.lineNumber),B=X.getLineFirstNonWhitespaceColumn(Z.lineNumber)||Z.column,K=W.substring(B-1,Z.column-1),P=j+K+Y,A=new L(Z.lineNumber,1,Z.lineNumber,Z.column),D=new l7(A,P);return new U7(Y_(P,J),[D],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(J,$,X,Q,Y,Z){if(!Q)return null;let G=null;for(let z of Q)if(G===null)G=z.insertedText;else if(G!==z.insertedText)return null;if(!G||G.length!==1)return null;const q=G;let U=!1;for(let z of Q)if(z.deletedText.length!==0){U=!0;break}if(U){if(!w8._shouldSurroundChar($,q)||!$.surroundingPairs.hasOwnProperty(q))return null;const z=y$(q);for(let W of Q){if(W.deletedSelectionStart!==0||W.deletedSelectionEnd!==W.deletedText.length)return null;if(/^[ \t]+$/.test(W.deletedText))return null;if(z&&y$(W.deletedText))return null}const V=[];for(let W of Y){if(!W.isEmpty())return null;V.push(W.getPosition())}if(V.length!==Q.length)return null;const j=[];for(let W=0,B=V.length;W<B;W++)j.push(new Q_(V[W],Q[W].deletedText,$.surroundingPairs[q]));return new U7(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype($,X,Y,Z,q)){const z=Y.map((V)=>new l7(new L(V.positionLineNumber,V.positionColumn,V.positionLineNumber,V.positionColumn+1),"",!1));return new U7(4,z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const H=this._getAutoClosingPairClose($,X,Y,q,!0);if(H!==null)return this._runAutoClosingOpenCharType(J,$,X,Y,q,!0,H);return null}static typeWithInterceptors(J,$,X,Q,Y,Z,G){if(!J&&G==="\n"){const H=[];for(let z=0,V=Y.length;z<V;z++)H[z]=w8._enter(X,Q,!1,Y[z]);return new U7(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!J&&this._isAutoIndentType(X,Q,Y)){const H=[];let z=!1;for(let V=0,j=Y.length;V<j;V++)if(H[V]=this._runAutoIndentType(X,Q,Y[V],G),!H[V]){z=!0;break}if(!z)return new U7(4,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(X,Q,Y,Z,G))return this._runAutoClosingOvertype($,X,Q,Y,G);if(!J){const H=this._getAutoClosingPairClose(X,Q,Y,G,!1);if(H)return this._runAutoClosingOpenCharType($,X,Q,Y,G,!1,H)}if(!J&&this._isSurroundSelectionType(X,Q,Y,G))return this._runSurroundSelectionType($,X,Q,Y,G);if(!J&&this._isTypeInterceptorElectricChar(X,Q,Y)){const H=this._typeInterceptorElectricChar($,X,Q,Y[0],G);if(H)return H}const q=[];for(let H=0,z=Y.length;H<z;H++)q[H]=new l7(Y[H],G);const U=Y_(G,$);return new U7(U,q,{shouldPushStackElementBefore:VA($,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(J,$,X,Q,Y){const Z=[];for(let q=0,U=Q.length;q<U;q++)Z[q]=new l7(Q[q],Y);const G=Y_(Y,J);return new U7(G,Z,{shouldPushStackElementBefore:VA(J,G),shouldPushStackElementAfter:!1})}static lineInsertBefore(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){let G=X[Y].positionLineNumber;if(G===1)Q[Y]=new Q3(new L(1,1,1,1),"\n");else{G--;const q=$.getLineMaxColumn(G);Q[Y]=this._enter(J,$,!1,new L(G,q,G,q))}}return Q}static lineInsertAfter(J,$,X){if($===null||X===null)return[];const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].positionLineNumber,q=$.getLineMaxColumn(G);Q[Y]=this._enter(J,$,!1,new L(G,q,G,q))}return Q}static lineBreakInsert(J,$,X){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=this._enter(J,$,!0,X[Y]);return Q}}class jA extends Y3{constructor(J,$,X,Q){super(J,(X?$:"")+Q,0,-Q.length);this._openCharacter=$,this._closeCharacter=Q,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(J,$){const Q=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L(Q.startLineNumber,Q.endColumn-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),this.enclosingRange=new L(Q.startLineNumber,Q.endColumn-this._openCharacter.length-this._closeCharacter.length,Q.endLineNumber,Q.endColumn),super.computeCursorState(J,$)}}class Z_{constructor(J,$,X,Q,Y,Z){this.deletedText=J,this.deletedSelectionStart=$,this.deletedSelectionEnd=X,this.insertedText=Q,this.insertedSelectionStart=Y,this.insertedSelectionEnd=Z}}var Y_,VA,Tm,Nm;var G_=N(()=>{D1();o0();oN();Pm();Dm();bJ();eH();c0();U1();$G();g7();XG();Om();J_();Y_=function(J,$){if(J===" ")return $===5||$===6?6:5;return 4},VA=function(J,$){if(Nm(J)&&!Nm($))return!0;if(J===5)return!1;return Tm(J)!==Tm($)},Tm=function(J){return J===6||J===5?"space":J},Nm=function(J){return J===4||J===5||J===6}});var n;var YQ=N(()=>{h0();m1();(function(J){J.editorSimpleInput=new z0("editorSimpleInput",!1,!0),J.editorTextFocus=new z0("editorTextFocus",!1,F("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),J.focus=new z0("editorFocus",!1,F("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),J.textInputFocus=new z0("textInputFocus",!1,F("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),J.readOnly=new z0("editorReadonly",!1,F("editorReadonly","Whether the editor is read-only")),J.inDiffEditor=new z0("inDiffEditor",!1,F("inDiffEditor","Whether the context is a diff editor")),J.isEmbeddedDiffEditor=new z0("isEmbeddedDiffEditor",!1,F("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),J.inMultiDiffEditor=new z0("inMultiDiffEditor",!1,F("inMultiDiffEditor","Whether the context is a multi diff editor")),J.multiDiffEditorAllCollapsed=new z0("multiDiffEditorAllCollapsed",void 0,F("multiDiffEditorAllCollapsed","Whether all files in multi diff editor are collapsed")),J.hasChanges=new z0("diffEditorHasChanges",!1,F("diffEditorHasChanges","Whether the diff editor has changes")),J.comparingMovedCode=new z0("comparingMovedCode",!1,F("comparingMovedCode","Whether a moved code block is selected for comparison")),J.accessibleDiffViewerVisible=new z0("accessibleDiffViewerVisible",!1,F("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),J.diffEditorRenderSideBySideInlineBreakpointReached=new z0("diffEditorRenderSideBySideInlineBreakpointReached",!1,F("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),J.columnSelection=new z0("editorColumnSelection",!1,F("editorColumnSelection","Whether `editor.columnSelection` is enabled")),J.writable=J.readOnly.toNegated(),J.hasNonEmptySelection=new z0("editorHasSelection",!1,F("editorHasSelection","Whether the editor has text selected")),J.hasOnlyEmptySelection=J.hasNonEmptySelection.toNegated(),J.hasMultipleSelections=new z0("editorHasMultipleSelections",!1,F("editorHasMultipleSelections","Whether the editor has multiple selections")),J.hasSingleSelection=J.hasMultipleSelections.toNegated(),J.tabMovesFocus=new z0("editorTabMovesFocus",!1,F("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),J.tabDoesNotMoveFocus=J.tabMovesFocus.toNegated(),J.isInWalkThroughSnippet=new z0("isInEmbeddedEditor",!1,!0),J.canUndo=new z0("canUndo",!1,!0),J.canRedo=new z0("canRedo",!1,!0),J.hoverVisible=new z0("editorHoverVisible",!1,F("editorHoverVisible","Whether the editor hover is visible")),J.hoverFocused=new z0("editorHoverFocused",!1,F("editorHoverFocused","Whether the editor hover is focused")),J.stickyScrollFocused=new z0("stickyScrollFocused",!1,F("stickyScrollFocused","Whether the sticky scroll is focused")),J.stickyScrollVisible=new z0("stickyScrollVisible",!1,F("stickyScrollVisible","Whether the sticky scroll is visible")),J.standaloneColorPickerVisible=new z0("standaloneColorPickerVisible",!1,F("standaloneColorPickerVisible","Whether the standalone color picker is visible")),J.standaloneColorPickerFocused=new z0("standaloneColorPickerFocused",!1,F("standaloneColorPickerFocused","Whether the standalone color picker is focused")),J.inCompositeEditor=new z0("inCompositeEditor",void 0,F("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),J.notInCompositeEditor=J.inCompositeEditor.toNegated(),J.languageId=new z0("editorLangId","",F("editorLangId","The language identifier of the editor")),J.hasCompletionItemProvider=new z0("editorHasCompletionItemProvider",!1,F("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),J.hasCodeActionsProvider=new z0("editorHasCodeActionsProvider",!1,F("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),J.hasCodeLensProvider=new z0("editorHasCodeLensProvider",!1,F("editorHasCodeLensProvider","Whether the editor has a code lens provider")),J.hasDefinitionProvider=new z0("editorHasDefinitionProvider",!1,F("editorHasDefinitionProvider","Whether the editor has a definition provider")),J.hasDeclarationProvider=new z0("editorHasDeclarationProvider",!1,F("editorHasDeclarationProvider","Whether the editor has a declaration provider")),J.hasImplementationProvider=new z0("editorHasImplementationProvider",!1,F("editorHasImplementationProvider","Whether the editor has an implementation provider")),J.hasTypeDefinitionProvider=new z0("editorHasTypeDefinitionProvider",!1,F("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),J.hasHoverProvider=new z0("editorHasHoverProvider",!1,F("editorHasHoverProvider","Whether the editor has a hover provider")),J.hasDocumentHighlightProvider=new z0("editorHasDocumentHighlightProvider",!1,F("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),J.hasDocumentSymbolProvider=new z0("editorHasDocumentSymbolProvider",!1,F("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),J.hasReferenceProvider=new z0("editorHasReferenceProvider",!1,F("editorHasReferenceProvider","Whether the editor has a reference provider")),J.hasRenameProvider=new z0("editorHasRenameProvider",!1,F("editorHasRenameProvider","Whether the editor has a rename provider")),J.hasSignatureHelpProvider=new z0("editorHasSignatureHelpProvider",!1,F("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),J.hasInlayHintsProvider=new z0("editorHasInlayHintsProvider",!1,F("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),J.hasDocumentFormattingProvider=new z0("editorHasDocumentFormattingProvider",!1,F("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),J.hasDocumentSelectionFormattingProvider=new z0("editorHasDocumentSelectionFormattingProvider",!1,F("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),J.hasMultipleDocumentFormattingProvider=new z0("editorHasMultipleDocumentFormattingProvider",!1,F("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),J.hasMultipleDocumentSelectionFormattingProvider=new z0("editorHasMultipleDocumentSelectionFormattingProvider",!1,F("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(n||(n={}))});class L8 extends f5{runEditorCommand(J,$,X){const Q=$._getViewModel();if(!Q)return;this.runCoreEditorCommand(Q,X||{})}}class WA{constructor(J){J.addImplementation(1e4,"code-editor",($,X)=>{const Q=$.get(l1).getFocusedCodeEditor();if(Q&&Q.hasTextFocus())return this._runEditorCommand($,Q,X);return!1}),J.addImplementation(1000,"generic-dom-input-textarea",($,X)=>{const Q=$6();if(Q&&["input","textarea"].indexOf(Q.tagName.toLowerCase())>=0)return this.runDOMCommand(Q),!0;return!1}),J.addImplementation(0,"generic-dom",($,X)=>{const Q=$.get(l1).getActiveCodeEditor();if(Q)return Q.focus(),this._runEditorCommand($,Q,X);return!1})}_runEditorCommand(J,$,X){const Q=this.runEditorCommand(J,$,X);if(Q)return Q;return!0}}class q_ extends Kq{constructor(J,$,X){super({id:J,precondition:void 0,metadata:X});this._handlerId=$}runCommand(J,$){const X=J.get(l1).getFocusedCodeEditor();if(!X)return;X.trigger("keyboard",this._handlerId,$)}}var G3,_m,hG,L1,z7,Z3,_6,Q50,wm;var Lm=N(()=>{h0();A5();G8();VY();x9();G9();Km();bJ();UA();Am();G_();U1();c0();YQ();m1();qq();D0();G3=function(J,$){q4.registerKeybindingRule({id:J,primary:$,when:Q50,weight:L1+1})},_m=function(J){return J.register(),J},hG=function(J,$){_m(new q_("default:"+J,J)),_m(new q_(J,J,$))},L1=0;(function(J){const $=function(Q){if(!n8(Q))return!1;const Y=Q;if(!G6(Y.to))return!1;if(!e6(Y.by)&&!G6(Y.by))return!1;if(!e6(Y.value)&&!$9(Y.value))return!1;if(!e6(Y.revealCursor)&&!vW(Y.revealCursor))return!1;return!0};J.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory direction value.
						\`\`\`
						'up', 'down'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'page', 'halfPage', 'editor'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.
				`,constraint:$,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},J.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},J.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function X(Q){let Y;switch(Q.to){case J.RawDirection.Up:Y=1;break;case J.RawDirection.Right:Y=2;break;case J.RawDirection.Down:Y=3;break;case J.RawDirection.Left:Y=4;break;default:return null}let Z;switch(Q.by){case J.RawUnit.Line:Z=1;break;case J.RawUnit.WrappedLine:Z=2;break;case J.RawUnit.Page:Z=3;break;case J.RawUnit.HalfPage:Z=4;break;case J.RawUnit.Editor:Z=5;break;case J.RawUnit.Column:Z=6;break;default:Z=2}const G=Math.floor(Q.value||1),q=!!Q.revealCursor;return{direction:Y,unit:Z,value:G,revealCursor:q,select:!!Q.select}}J.parse=X})(z7||(z7={}));(function(J){const $=function(X){if(!n8(X))return!1;const Q=X;if(!$9(Q.lineNumber)&&!G6(Q.lineNumber))return!1;if(!e6(Q.at)&&!G6(Q.at))return!1;return!0};J.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:`Property-value pairs that can be passed through this argument:
					* 'lineNumber': A mandatory line number value.
					* 'at': Logical position at which line has to be revealed.
						\`\`\`
						'top', 'center', 'bottom'
						\`\`\`
				`,constraint:$,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},J.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Z3||(Z3={}));(function(J){class $ extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[H7.moveTo(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position,D.viewPosition)])&&D.revealType!==2)A.revealPrimaryCursor(D.source,!0,!0)}}J.MoveTo=w0(new $({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),J.MoveToSelect=w0(new $({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class X extends L8{runCoreEditorCommand(A,D){A.model.pushStackElement();const R=this._getColumnSelectResult(A,A.getPrimaryCursorState(),A.getCursorColumnSelectData(),D);if(R===null)return;if(A.setCursorStates(D.source,3,R.viewStates.map((M)=>F1.fromViewState(M))),A.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:R.fromLineNumber,fromViewVisualColumn:R.fromVisualColumn,toViewLineNumber:R.toLineNumber,toViewVisualColumn:R.toVisualColumn}),R.reversed)A.revealTopMostCursor(D.source);else A.revealBottomMostCursor(D.source)}}J.ColumnSelect=w0(new class extends X{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(A,D,R,M){if(typeof M.position==="undefined"||typeof M.viewPosition==="undefined"||typeof M.mouseColumn==="undefined")return null;const O=A.model.validatePosition(M.position),_=A.coordinatesConverter.validateViewPosition(new v(M.viewPosition.lineNumber,M.viewPosition.column),O),w=M.doColumnSelect?R.fromViewLineNumber:_.lineNumber,C=M.doColumnSelect?R.fromViewVisualColumn:M.mouseColumn-1;return MY.columnSelect(A.cursorConfig,A,w,C,_.lineNumber,M.mouseColumn-1)}}),J.CursorColumnSelectLeft=w0(new class extends X{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(A,D,R,M){return MY.columnSelectLeft(A.cursorConfig,A,R)}}),J.CursorColumnSelectRight=w0(new class extends X{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(A,D,R,M){return MY.columnSelectRight(A.cursorConfig,A,R)}});class Q extends X{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,D,R,M){return MY.columnSelectUp(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectUp=w0(new Q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),J.CursorColumnSelectPageUp=w0(new Q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class Y extends X{constructor(A){super(A);this._isPaged=A.isPaged}_getColumnSelectResult(A,D,R,M){return MY.columnSelectDown(A.cursorConfig,A,R,this._isPaged)}}J.CursorColumnSelectDown=w0(new Y({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),J.CursorColumnSelectPageDown=w0(new Y({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class Z extends L8{constructor(){super({id:"cursorMove",precondition:void 0,metadata:bz.metadata})}runCoreEditorCommand(A,D){const R=bz.parse(D);if(!R)return;this._runCursorMove(A,D.source,R)}_runCursorMove(A,D,R){A.model.pushStackElement(),A.setCursorStates(D,3,Z._move(A,A.getCursorStates(),R)),A.revealPrimaryCursor(D,!0)}static _move(A,D,R){const{select:M,value:O}=R;switch(R.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return H7.simpleMove(A,D,R.direction,M,O,R.unit);case 11:case 13:case 12:case 14:return H7.viewportMove(A,D,R.direction,M,O);default:return null}}}J.CursorMoveImpl=Z,J.CursorMove=w0(new Z);class G extends L8{constructor(A){super(A);this._staticArgs=A.args}runCoreEditorCommand(A,D){let R=this._staticArgs;if(this._staticArgs.value===-1)R={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:D.pageSize||A.cursorConfig.pageSize};A.model.pushStackElement(),A.setCursorStates(D.source,3,H7.simpleMove(A,A.getCursorStates(),R.direction,R.select,R.value,R.unit)),A.revealPrimaryCursor(D.source,!0)}}J.CursorLeft=w0(new G({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),J.CursorLeftSelect=w0(new G({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|15}})),J.CursorRight=w0(new G({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),J.CursorRightSelect=w0(new G({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|17}})),J.CursorUp=w0(new G({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),J.CursorUpSelect=w0(new G({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),J.CursorPageUp=w0(new G({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:11}})),J.CursorPageUpSelect=w0(new G({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|11}})),J.CursorDown=w0(new G({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),J.CursorDownSelect=w0(new G({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),J.CursorPageDown=w0(new G({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:12}})),J.CursorPageDownSelect=w0(new G({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|12}})),J.CreateCursor=w0(new class extends L8{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;let R;if(D.wholeLine)R=H7.line(A,A.getPrimaryCursorState(),!1,D.position,D.viewPosition);else R=H7.moveTo(A,A.getPrimaryCursorState(),!1,D.position,D.viewPosition);const M=A.getCursorStates();if(M.length>1){const O=R.modelState?R.modelState.position:null,_=R.viewState?R.viewState.position:null;for(let w=0,C=M.length;w<C;w++){const x=M[w];if(O&&!x.modelState.selection.containsPosition(O))continue;if(_&&!x.viewState.selection.containsPosition(_))continue;M.splice(w,1),A.model.pushStackElement(),A.setCursorStates(D.source,3,M);return}}M.push(R),A.model.pushStackElement(),A.setCursorStates(D.source,3,M)}}),J.LastCursorMoveToSelect=w0(new class extends L8{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),O=M.slice(0);O[R]=H7.moveTo(A,M[R],!0,D.position,D.viewPosition),A.model.pushStackElement(),A.setCursorStates(D.source,3,O)}});class q extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,H7.moveToBeginningOfLine(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorHome=w0(new q({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),J.CursorHomeSelect=w0(new q({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class U extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,this._exec(A.getCursorStates())),A.revealPrimaryCursor(D.source,!0)}_exec(A){const D=[];for(let R=0,M=A.length;R<M;R++){const O=A[R],_=O.modelState.position.lineNumber;D[R]=F1.fromModelState(O.modelState.move(this._inSelectionMode,_,1,0))}return D}}J.CursorLineStart=w0(new U({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:0,mac:{primary:256|31}}})),J.CursorLineStartSelect=w0(new U({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class H extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,H7.moveToEndOfLine(A,A.getCursorStates(),this._inSelectionMode,D.sticky||!1)),A.revealPrimaryCursor(D.source,!0)}}J.CursorEnd=w0(new H({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:L1,kbExpr:n.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),J.CursorEndSelect=w0(new H({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:L1,kbExpr:n.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:F("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class z extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,this._exec(A,A.getCursorStates())),A.revealPrimaryCursor(D.source,!0)}_exec(A,D){const R=[];for(let M=0,O=D.length;M<O;M++){const _=D[M],w=_.modelState.position.lineNumber,C=A.model.getLineMaxColumn(w);R[M]=F1.fromModelState(_.modelState.move(this._inSelectionMode,w,C,0))}return R}}J.CursorLineEnd=w0(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:0,mac:{primary:256|35}}})),J.CursorLineEndSelect=w0(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class V extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,H7.moveToBeginningOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorTop=w0(new V({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),J.CursorTopSelect=w0(new V({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class j extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,H7.moveToEndOfBuffer(A,A.getCursorStates(),this._inSelectionMode)),A.revealPrimaryCursor(D.source,!0)}}J.CursorBottom=w0(new j({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),J.CursorBottomSelect=w0(new j({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class W extends L8{constructor(){super({id:"editorScroll",precondition:void 0,metadata:z7.metadata})}determineScrollMethod(A){const D=[6],R=[1,2,3,4,5,6],M=[4,2],O=[1,3];if(D.includes(A.unit)&&M.includes(A.direction))return this._runHorizontalEditorScroll.bind(this);if(R.includes(A.unit)&&O.includes(A.direction))return this._runVerticalEditorScroll.bind(this);return null}runCoreEditorCommand(A,D){const R=z7.parse(D);if(!R)return;const M=this.determineScrollMethod(R);if(!M)return;M(A,D.source,R)}_runVerticalEditorScroll(A,D,R){const M=this._computeDesiredScrollTop(A,R);if(R.revealCursor){const O=A.getCompletelyVisibleViewRangeAtScrollTop(M);A.setCursorStates(D,3,[H7.findPositionInViewportIfOutside(A,A.getPrimaryCursorState(),O,R.select)])}A.viewLayout.setScrollPosition({scrollTop:M},0)}_computeDesiredScrollTop(A,D){if(D.unit===1){const O=A.viewLayout.getFutureViewport(),_=A.getCompletelyVisibleViewRangeAtScrollTop(O.top),w=A.coordinatesConverter.convertViewRangeToModelRange(_);let C;if(D.direction===1)C=Math.max(1,w.startLineNumber-D.value);else C=Math.min(A.model.getLineCount(),w.startLineNumber+D.value);const x=A.coordinatesConverter.convertModelPositionToViewPosition(new v(C,1));return A.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber)}if(D.unit===5){let O=0;if(D.direction===3)O=A.model.getLineCount()-A.cursorConfig.pageSize;return A.viewLayout.getVerticalOffsetForLineNumber(O)}let R;if(D.unit===3)R=A.cursorConfig.pageSize*D.value;else if(D.unit===4)R=Math.round(A.cursorConfig.pageSize/2)*D.value;else R=D.value;const M=(D.direction===1?-1:1)*R;return A.viewLayout.getCurrentScrollTop()+M*A.cursorConfig.lineHeight}_runHorizontalEditorScroll(A,D,R){const M=this._computeDesiredScrollLeft(A,R);A.viewLayout.setScrollPosition({scrollLeft:M},0)}_computeDesiredScrollLeft(A,D){const R=(D.direction===4?-1:1)*D.value;return A.viewLayout.getCurrentScrollLeft()+R*A.cursorConfig.typicalHalfwidthCharacterWidth}}J.EditorScrollImpl=W,J.EditorScroll=w0(new W),J.ScrollLineUp=w0(new class extends L8{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Up,by:z7.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollPageUp=w0(new class extends L8{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Up,by:z7.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollEditorTop=w0(new class extends L8{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Up,by:z7.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollLineDown=w0(new class extends L8{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Down,by:z7.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollPageDown=w0(new class extends L8{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Down,by:z7.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollEditorBottom=w0(new class extends L8{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Down,by:z7.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollLeft=w0(new class extends L8{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Left,by:z7.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:D.source})}}),J.ScrollRight=w0(new class extends L8{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus}})}runCoreEditorCommand(A,D){J.EditorScroll.runCoreEditorCommand(A,{to:z7.RawDirection.Right,by:z7.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:D.source})}});class B extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[H7.word(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position)]),D.revealType!==2)A.revealPrimaryCursor(D.source,!0,!0)}}J.WordSelect=w0(new B({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),J.WordSelectDrag=w0(new B({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),J.LastCursorWordSelect=w0(new class extends L8{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),O=M.slice(0),_=M[R];O[R]=H7.word(A,_,_.modelState.hasSelection(),D.position),A.model.pushStackElement(),A.setCursorStates(D.source,3,O)}});class K extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;if(A.model.pushStackElement(),A.setCursorStates(D.source,3,[H7.line(A,A.getPrimaryCursorState(),this._inSelectionMode,D.position,D.viewPosition)]),D.revealType!==2)A.revealPrimaryCursor(D.source,!1,!0)}}J.LineSelect=w0(new K({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),J.LineSelectDrag=w0(new K({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class P extends L8{constructor(A){super(A);this._inSelectionMode=A.inSelectionMode}runCoreEditorCommand(A,D){if(!D.position)return;const R=A.getLastAddedCursorIndex(),M=A.getCursorStates(),O=M.slice(0);O[R]=H7.line(A,M[R],this._inSelectionMode,D.position,D.viewPosition),A.model.pushStackElement(),A.setCursorStates(D.source,3,O)}}J.LastCursorLineSelect=w0(new P({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),J.LastCursorLineSelectDrag=w0(new P({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),J.CancelSelection=w0(new class extends L8{constructor(){super({id:"cancelSelection",precondition:n.hasNonEmptySelection,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,[H7.cancelSelection(A,A.getPrimaryCursorState())]),A.revealPrimaryCursor(D.source,!0)}}),J.RemoveSecondaryCursors=w0(new class extends L8{constructor(){super({id:"removeSecondaryCursors",precondition:n.hasMultipleSelections,kbOpts:{weight:L1+1,kbExpr:n.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates(D.source,3,[A.getPrimaryCursorState()]),A.revealPrimaryCursor(D.source,!0),P$(F("removedCursor","Removed secondary cursors"))}}),J.RevealLine=w0(new class extends L8{constructor(){super({id:"revealLine",precondition:void 0,metadata:Z3.metadata})}runCoreEditorCommand(A,D){const R=D,M=R.lineNumber||0;let O=typeof M==="number"?M+1:parseInt(M)+1;if(O<1)O=1;const _=A.model.getLineCount();if(O>_)O=_;const w=new L(O,1,O,A.model.getLineMaxColumn(O));let C=0;if(R.at)switch(R.at){case Z3.RawAtArgument.Top:C=3;break;case Z3.RawAtArgument.Center:C=1;break;case Z3.RawAtArgument.Bottom:C=4;break;default:break}const x=A.coordinatesConverter.convertModelRangeToViewRange(w);A.revealRange(D.source,!1,x,C,0)}}),J.SelectAll=new class extends WA{constructor(){super(ab)}runDOMCommand(A){if(u6)A.focus(),A.select();A.ownerDocument.execCommand("selectAll")}runEditorCommand(A,D,R){const M=D._getViewModel();if(!M)return;this.runCoreEditorCommand(M,R)}runCoreEditorCommand(A,D){A.model.pushStackElement(),A.setCursorStates("keyboard",3,[H7.selectAll(A,A.getPrimaryCursorState())])}},J.SetSelection=w0(new class extends L8{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(A,D){if(!D.selection)return;A.model.pushStackElement(),A.setCursorStates(D.source,3,[F1.fromModelSelection(D.selection)])}})})(_6||(_6={}));Q50=N0.and(n.textInputFocus,n.columnSelection);G3(_6.CursorColumnSelectLeft.id,1024|15);G3(_6.CursorColumnSelectRight.id,1024|17);G3(_6.CursorColumnSelectUp.id,1024|16);G3(_6.CursorColumnSelectPageUp.id,1024|11);G3(_6.CursorColumnSelectDown.id,1024|18);G3(_6.CursorColumnSelectPageDown.id,1024|12);(function(J){class $ extends f5{runEditorCommand(X,Q,Y){const Z=Q._getViewModel();if(!Z)return;this.runCoreEditingCommand(Q,Z,Y||{})}}J.CoreEditingCommand=$,J.LineBreakInsert=w0(new class extends ${constructor(){super({id:"lineBreakInsert",precondition:n.writable,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,w8.lineBreakInsert(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection)))}}),J.Outdent=w0(new class extends ${constructor(){super({id:"outdent",precondition:n.writable,kbOpts:{weight:L1,kbExpr:N0.and(n.editorTextFocus,n.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,w8.outdent(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection))),X.pushUndoStop()}}),J.Tab=w0(new class extends ${constructor(){super({id:"tab",precondition:n.writable,kbOpts:{weight:L1,kbExpr:N0.and(n.editorTextFocus,n.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(X,Q,Y){X.pushUndoStop(),X.executeCommands(this.id,w8.tab(Q.cursorConfig,Q.model,Q.getCursorStates().map((Z)=>Z.modelState.selection))),X.pushUndoStop()}}),J.DeleteLeft=w0(new class extends ${constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(X,Q,Y){const[Z,G]=S$.deleteLeft(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map((q)=>q.modelState.selection),Q.getCursorAutoClosedCharacters());if(Z)X.pushUndoStop();X.executeCommands(this.id,G),Q.setPrevEditOperationType(2)}}),J.DeleteRight=w0(new class extends ${constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:L1,kbExpr:n.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(X,Q,Y){const[Z,G]=S$.deleteRight(Q.getPrevEditOperationType(),Q.cursorConfig,Q.model,Q.getCursorStates().map((q)=>q.modelState.selection));if(Z)X.pushUndoStop();X.executeCommands(this.id,G),Q.setPrevEditOperationType(3)}}),J.Undo=new class extends WA{constructor(){super(IO)}runDOMCommand(X){X.ownerDocument.execCommand("undo")}runEditorCommand(X,Q,Y){if(!Q.hasModel()||Q.getOption(90)===!0)return;return Q.getModel().undo()}},J.Redo=new class extends WA{constructor(){super(yO)}runDOMCommand(X){X.ownerDocument.execCommand("redo")}runEditorCommand(X,Q,Y){if(!Q.hasModel()||Q.getOption(90)===!0)return;return Q.getModel().redo()}}})(wm||(wm={}));hG("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});hG("replacePreviousChar");hG("compositionType");hG("compositionStart");hG("compositionEnd");hG("paste");hG("cut")});class U_{constructor(J,$,X,Q){this.configuration=J,this.viewModel=$,this.userInputEvents=X,this.commandDelegate=Q}paste(J,$,X,Q){this.commandDelegate.paste(J,$,X,Q)}type(J){this.commandDelegate.type(J)}compositionType(J,$,X,Q){this.commandDelegate.compositionType(J,$,X,Q)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(J){_6.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:J})}_validateViewColumn(J){const $=this.viewModel.getLineMinColumn(J.lineNumber);if(J.column<$)return new v(J.lineNumber,$);return J}_hasMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.altKey;case"ctrlKey":return J.ctrlKey;case"metaKey":return J.metaKey;default:return!1}}_hasNonMulticursorModifier(J){switch(this.configuration.options.get(77)){case"altKey":return J.ctrlKey||J.metaKey;case"ctrlKey":return J.altKey||J.metaKey;case"metaKey":return J.ctrlKey||J.altKey;default:return!1}}dispatchMouse(J){const $=this.configuration.options,X=B8&&$.get(106),Q=$.get(22);if(J.middleButton&&!X)this._columnSelect(J.position,J.mouseColumn,J.inSelectionMode);else if(J.startedOnLineNumbers)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelect(J.position,J.revealType);else this._createCursor(J.position,!0);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount>=4)this._selectAll();else if(J.mouseDownCount===3)if(this._hasMulticursorModifier(J))if(J.inSelectionMode)this._lastCursorLineSelectDrag(J.position,J.revealType);else this._lastCursorLineSelect(J.position,J.revealType);else if(J.inSelectionMode)this._lineSelectDrag(J.position,J.revealType);else this._lineSelect(J.position,J.revealType);else if(J.mouseDownCount===2){if(!J.onInjectedText)if(this._hasMulticursorModifier(J))this._lastCursorWordSelect(J.position,J.revealType);else if(J.inSelectionMode)this._wordSelectDrag(J.position,J.revealType);else this._wordSelect(J.position,J.revealType)}else if(this._hasMulticursorModifier(J)){if(!this._hasNonMulticursorModifier(J))if(J.shiftKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(J.inSelectionMode)this._lastCursorMoveToSelect(J.position,J.revealType);else this._createCursor(J.position,!1)}else if(J.inSelectionMode)if(J.altKey)this._columnSelect(J.position,J.mouseColumn,!0);else if(Q)this._columnSelect(J.position,J.mouseColumn,!0);else this._moveToSelect(J.position,J.revealType);else this.moveTo(J.position,J.revealType)}_usualArgs(J,$){return J=this._validateViewColumn(J),{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,revealType:$}}moveTo(J,$){_6.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_moveToSelect(J,$){_6.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_columnSelect(J,$,X){J=this._validateViewColumn(J),_6.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,mouseColumn:$,doColumnSelect:X})}_createCursor(J,$){J=this._validateViewColumn(J),_6.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(J),viewPosition:J,wholeLine:$})}_lastCursorMoveToSelect(J,$){_6.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelect(J,$){_6.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_wordSelectDrag(J,$){_6.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorWordSelect(J,$){_6.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelect(J,$){_6.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lineSelectDrag(J,$){_6.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelect(J,$){_6.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_lastCursorLineSelectDrag(J,$){_6.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(J,$))}_selectAll(){_6.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(J){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(J)}emitKeyDown(J){this.userInputEvents.emitKeyDown(J)}emitKeyUp(J){this.userInputEvents.emitKeyUp(J)}emitContextMenu(J){this.userInputEvents.emitContextMenu(J)}emitMouseMove(J){this.userInputEvents.emitMouseMove(J)}emitMouseLeave(J){this.userInputEvents.emitMouseLeave(J)}emitMouseUp(J){this.userInputEvents.emitMouseUp(J)}emitMouseDown(J){this.userInputEvents.emitMouseDown(J)}emitMouseDrag(J){this.userInputEvents.emitMouseDrag(J)}emitMouseDrop(J){this.userInputEvents.emitMouseDrop(J)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(J){this.userInputEvents.emitMouseWheel(J)}}var Em=N(()=>{Lm();U1();O1()});class BA{constructor(J){this._createLine=J,this._set(1,[])}flush(){this._set(1,[])}_set(J,$){this._lines=$,this._rendLineNumberStart=J}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(J){const $=J-this._rendLineNumberStart;if($<0||$>=this._lines.length)throw new b1("Illegal value for lineNumber");return this._lines[$]}onLinesDeleted(J,$){if(this.getCount()===0)return null;const X=this.getStartLineNumber(),Q=this.getEndLineNumber();if($<X){const q=$-J+1;return this._rendLineNumberStart-=q,null}if(J>Q)return null;let Y=0,Z=0;for(let q=X;q<=Q;q++){const U=q-this._rendLineNumberStart;if(J<=q&&q<=$)if(Z===0)Y=U,Z=1;else Z++}if(J<X){let q=0;if($<X)q=$-J+1;else q=X-J;this._rendLineNumberStart-=q}return this._lines.splice(Y,Z)}onLinesChanged(J,$){const X=J+$-1;if(this.getCount()===0)return!1;const Q=this.getStartLineNumber(),Y=this.getEndLineNumber();let Z=!1;for(let G=J;G<=X;G++)if(G>=Q&&G<=Y)this._lines[G-this._rendLineNumberStart].onContentChanged(),Z=!0;return Z}onLinesInserted(J,$){if(this.getCount()===0)return null;const X=$-J+1,Q=this.getStartLineNumber(),Y=this.getEndLineNumber();if(J<=Q)return this._rendLineNumberStart+=X,null;if(J>Y)return null;if(X+J>Y)return this._lines.splice(J-this._rendLineNumberStart,Y-J+1);const Z=[];for(let z=0;z<X;z++)Z[z]=this._createLine();const G=J-this._rendLineNumberStart,q=this._lines.slice(0,G),U=this._lines.slice(G,this._lines.length-X),H=this._lines.slice(this._lines.length-X,this._lines.length);return this._lines=q.concat(Z).concat(U),H}onTokensChanged(J){if(this.getCount()===0)return!1;const $=this.getStartLineNumber(),X=this.getEndLineNumber();let Q=!1;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];if(G.toLineNumber<$||G.fromLineNumber>X)continue;const q=Math.max($,G.fromLineNumber),U=Math.min(X,G.toLineNumber);for(let H=q;H<=U;H++){const z=H-this._rendLineNumberStart;this._lines[z].onTokensChanged(),Q=!0}}return Q}}class fz{constructor(J){this._host=J,this.domNode=this._createDomNode(),this._linesCollection=new BA(()=>this._host.createVisibleLine())}_createDomNode(){const J=t0(document.createElement("div"));return J.setClassName("view-layer"),J.setPosition("absolute"),J.domNode.setAttribute("role","presentation"),J.domNode.setAttribute("aria-hidden","true"),J}onConfigurationChanged(J){if(J.hasChanged(143))return!0;return!1}onFlushed(J){return this._linesCollection.flush(),!0}onLinesChanged(J){return this._linesCollection.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){const $=this._linesCollection.onLinesDeleted(J.fromLineNumber,J.toLineNumber);if($)for(let X=0,Q=$.length;X<Q;X++){const Y=$[X].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onLinesInserted(J){const $=this._linesCollection.onLinesInserted(J.fromLineNumber,J.toLineNumber);if($)for(let X=0,Q=$.length;X<Q;X++){const Y=$[X].getDomNode();if(Y)this.domNode.domNode.removeChild(Y)}return!0}onScrollChanged(J){return J.scrollTopChanged}onTokensChanged(J){return this._linesCollection.onTokensChanged(J.ranges)}onZonesChanged(J){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(J){return this._linesCollection.getLine(J)}renderLines(J){const $=this._linesCollection._get(),X=new ZQ(this.domNode.domNode,this._host,J),Q={rendLineNumberStart:$.rendLineNumberStart,lines:$.lines,linesLength:$.lines.length},Y=X.render(Q,J.startLineNumber,J.endLineNumber,J.relativeVerticalOffset);this._linesCollection._set(Y.rendLineNumberStart,Y.lines)}}class ZQ{constructor(J,$,X){this.domNode=J,this.host=$,this.viewportData=X}render(J,$,X,Q){const Y={rendLineNumberStart:J.rendLineNumberStart,lines:J.lines.slice(0),linesLength:J.linesLength};if(Y.rendLineNumberStart+Y.linesLength-1<$||X<Y.rendLineNumberStart){Y.rendLineNumberStart=$,Y.linesLength=X-$+1,Y.lines=[];for(let Z=$;Z<=X;Z++)Y.lines[Z-$]=this.host.createVisibleLine();return this._finishRendering(Y,!0,Q),Y}if(this._renderUntouchedLines(Y,Math.max($-Y.rendLineNumberStart,0),Math.min(X-Y.rendLineNumberStart,Y.linesLength-1),Q,$),Y.rendLineNumberStart>$){const Z=$,G=Math.min(X,Y.rendLineNumberStart-1);if(Z<=G)this._insertLinesBefore(Y,Z,G,Q,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart<$){const Z=Math.min(Y.linesLength,$-Y.rendLineNumberStart);if(Z>0)this._removeLinesBefore(Y,Z),Y.linesLength-=Z}if(Y.rendLineNumberStart=$,Y.rendLineNumberStart+Y.linesLength-1<X){const Z=Y.rendLineNumberStart+Y.linesLength,G=X;if(Z<=G)this._insertLinesAfter(Y,Z,G,Q,$),Y.linesLength+=G-Z+1}else if(Y.rendLineNumberStart+Y.linesLength-1>X){const Z=Math.max(0,X-Y.rendLineNumberStart+1),q=Y.linesLength-1-Z+1;if(q>0)this._removeLinesAfter(Y,q),Y.linesLength-=q}return this._finishRendering(Y,!1,Q),Y}_renderUntouchedLines(J,$,X,Q,Y){const{rendLineNumberStart:Z,lines:G}=J;for(let q=$;q<=X;q++){const U=Z+q;G[q].layoutLine(U,Q[U-Y])}}_insertLinesBefore(J,$,X,Q,Y){const Z=[];let G=0;for(let q=$;q<=X;q++)Z[G++]=this.host.createVisibleLine();J.lines=Z.concat(J.lines)}_removeLinesBefore(J,$){for(let X=0;X<$;X++){const Q=J.lines[X].getDomNode();if(Q)this.domNode.removeChild(Q)}J.lines.splice(0,$)}_insertLinesAfter(J,$,X,Q,Y){const Z=[];let G=0;for(let q=$;q<=X;q++)Z[G++]=this.host.createVisibleLine();J.lines=J.lines.concat(Z)}_removeLinesAfter(J,$){const X=J.linesLength-$;for(let Q=0;Q<$;Q++){const Y=J.lines[X+Q].getDomNode();if(Y)this.domNode.removeChild(Y)}J.lines.splice(X,$)}_finishRenderingNewLines(J,$,X,Q){if(ZQ._ttPolicy)X=ZQ._ttPolicy.createHTML(X);const Y=this.domNode.lastChild;if($||!Y)this.domNode.innerHTML=X;else Y.insertAdjacentHTML("afterend",X);let Z=this.domNode.lastChild;for(let G=J.linesLength-1;G>=0;G--){const q=J.lines[G];if(Q[G])q.setDomNode(Z),Z=Z.previousSibling}}_finishRenderingInvalidLines(J,$,X){const Q=document.createElement("div");if(ZQ._ttPolicy)$=ZQ._ttPolicy.createHTML($);Q.innerHTML=$;for(let Y=0;Y<J.linesLength;Y++){const Z=J.lines[Y];if(X[Y]){const G=Q.firstChild,q=Z.getDomNode();q.parentNode.replaceChild(G,q),Z.setDomNode(G)}}}_finishRendering(J,$,X){const Q=ZQ._sb,Y=J.linesLength,Z=J.lines,G=J.rendLineNumberStart,q=[];{Q.reset();let U=!1;for(let H=0;H<Y;H++){const z=Z[H];if(q[H]=!1,z.getDomNode())continue;if(!z.renderLine(H+G,X[H],this.viewportData,Q))continue;q[H]=!0,U=!0}if(U)this._finishRenderingNewLines(J,$,Q.build(),q)}{Q.reset();let U=!1;const H=[];for(let z=0;z<Y;z++){const V=Z[z];if(H[z]=!1,q[z])continue;if(!V.renderLine(z+G,X[z],this.viewportData,Q))continue;H[z]=!0,U=!0}if(U)this._finishRenderingInvalidLines(J,Q.build(),H)}}}var FA=N(()=>{V6();JY();D1();YG();ZQ._ttPolicy=V9("editorViewLayer",{createHTML:(J)=>J});ZQ._sb=new xX(1e5)});class H_ extends K8{constructor(J){super(J);this._visibleLines=new fz(this),this.domNode=this._visibleLines.domNode;const X=this._context.configuration.options.get(50);T8(this.domNode,X),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let J=0,$=this._dynamicOverlays.length;J<$;J++)if(this._dynamicOverlays[J].shouldRender())return!0;return!1}dispose(){super.dispose();for(let J=0,$=this._dynamicOverlays.length;J<$;J++)this._dynamicOverlays[J].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new km(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(J){this._dynamicOverlays.push(J)}onConfigurationChanged(J){this._visibleLines.onConfigurationChanged(J);const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Z=$;Z<=X;Z++)this._visibleLines.getVisibleLine(Z).onConfigurationChanged(J);const Y=this._context.configuration.options.get(50);return T8(this.domNode,Y),!0}onFlushed(J){return this._visibleLines.onFlushed(J)}onFocusChanged(J){return this._isFocused=J.isFocused,!0}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onScrollChanged(J){return this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._visibleLines.onZonesChanged(J)}prepareRender(J){const $=this._dynamicOverlays.filter((X)=>X.shouldRender());for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];Y.prepareRender(J),Y.onDidRender()}}render(J){this._viewOverlaysRender(J),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(J){this._visibleLines.renderLines(J.viewportData)}}class km{constructor(J,$){this._configuration=J,this._lineHeight=this._configuration.options.get(66),this._dynamicOverlays=$,this._domNode=null,this._renderedContent=null}getDomNode(){if(!this._domNode)return null;return this._domNode.domNode}setDomNode(J){this._domNode=t0(J)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(J){this._lineHeight=this._configuration.options.get(66)}renderLine(J,$,X,Q){let Y="";for(let Z=0,G=this._dynamicOverlays.length;Z<G;Z++){const q=this._dynamicOverlays[Z];Y+=q.render(X.startLineNumber,J)}if(this._renderedContent===Y)return!1;return this._renderedContent=Y,Q.appendString('<div style="position:absolute;top:'),Q.appendString(String($)),Q.appendString("px;width:100%;height:"),Q.appendString(String(this._lineHeight)),Q.appendString('px;">'),Q.appendString(Y),Q.appendString("</div>"),!0}layoutLine(J,$){if(this._domNode)this._domNode.setTop($),this._domNode.setHeight(this._lineHeight)}}class z_ extends H_{constructor(J){super(J);const X=this._context.configuration.options.get(143);this._contentWidth=X.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._contentWidth=X.contentWidth,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollWidthChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J),this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth))}}class V_ extends H_{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._contentLeft=X.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),T8(this.domNode,$.get(50))}onConfigurationChanged(J){const $=this._context.configuration.options;T8(this.domNode,$.get(50));const X=$.get(143);return this._contentLeft=X.contentLeft,super.onConfigurationChanged(J)||!0}onScrollChanged(J){return super.onScrollChanged(J)||J.scrollHeightChanged}_viewOverlaysRender(J){super._viewOverlaysRender(J);const $=Math.min(J.scrollHeight,1e6);this.domNode.setHeight($),this.domNode.setWidth(this._contentLeft)}}var Im=N(()=>{V6();BJ();FA();m7()});class q3{constructor(J){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=J}emitKeyDown(J){var $;($=this.onKeyDown)===null||$===void 0||$.call(this,J)}emitKeyUp(J){var $;($=this.onKeyUp)===null||$===void 0||$.call(this,J)}emitContextMenu(J){var $;($=this.onContextMenu)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseMove(J){var $;($=this.onMouseMove)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseLeave(J){var $;($=this.onMouseLeave)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDown(J){var $;($=this.onMouseDown)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseUp(J){var $;($=this.onMouseUp)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrag(J){var $;($=this.onMouseDrag)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDrop(J){var $;($=this.onMouseDrop)===null||$===void 0||$.call(this,this._convertViewToModelMouseEvent(J))}emitMouseDropCanceled(){var J;(J=this.onMouseDropCanceled)===null||J===void 0||J.call(this)}emitMouseWheel(J){var $;($=this.onMouseWheel)===null||$===void 0||$.call(this,J)}_convertViewToModelMouseEvent(J){if(J.target)return{event:J.event,target:this._convertViewToModelMouseTarget(J.target)};return J}_convertViewToModelMouseTarget(J){return q3.convertViewToModelMouseTarget(J,this._coordinatesConverter)}static convertViewToModelMouseTarget(J,$){const X={...J};if(X.position)X.position=$.convertViewPositionToModelPosition(X.position);if(X.range)X.range=$.convertViewRangeToModelRange(X.range);if(X.type===5||X.type===8)X.detail=this.convertViewToModelViewZoneData(X.detail,$);return X}static convertViewToModelViewZoneData(J,$){return{viewZoneId:J.viewZoneId,positionBefore:J.positionBefore?$.convertViewPositionToModelPosition(J.positionBefore):J.positionBefore,positionAfter:J.positionAfter?$.convertViewPositionToModelPosition(J.positionAfter):J.positionAfter,position:$.convertViewPositionToModelPosition(J.position),afterLineNumber:$.convertViewPositionToModelPosition(new v(J.afterLineNumber,1)).lineNumber}}}var j_=N(()=>{U1()});var ym=N(()=>{q1();V0(".monaco-editor .blockDecorations-container{pointer-events:none;position:absolute;top:0}.monaco-editor .blockDecorations-block{box-sizing:border-box;position:absolute}")});class W_ extends K8{constructor(J){super(J);this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=t0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let J=!1;const X=this._context.configuration.options.get(143),Q=X.contentWidth-X.verticalScrollbarWidth;if(this.contentWidth!==Q)this.contentWidth=Q,J=!0;const Y=X.contentLeft;if(this.contentLeft!==Y)this.contentLeft=Y,J=!0;return J}dispose(){super.dispose()}onConfigurationChanged(J){return this.update()}onScrollChanged(J){return J.scrollTopChanged||J.scrollLeftChanged}onDecorationsChanged(J){return!0}onZonesChanged(J){return!0}prepareRender(J){}render(J){var $;let X=0;const Q=J.getDecorationsInViewport();for(let Y of Q){if(!Y.options.blockClassName)continue;let Z=this.blocks[X];if(!Z)Z=this.blocks[X]=t0(document.createElement("div")),this.domNode.appendChild(Z);let G,q;if(Y.options.blockIsAfterEnd)G=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!1),q=J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);else G=J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!0),q=Y.range.isEmpty()&&!Y.options.blockDoesNotCollapse?J.getVerticalOffsetForLineNumber(Y.range.startLineNumber,!1):J.getVerticalOffsetAfterLineNumber(Y.range.endLineNumber,!0);const[U,H,z,V]=($=Y.options.blockPadding)!==null&&$!==void 0?$:[0,0,0,0];Z.setClassName("blockDecorations-block "+Y.options.blockClassName),Z.setLeft(this.contentLeft-V),Z.setWidth(this.contentWidth+V+H),Z.setTop(G-J.scrollTop-U),Z.setHeight(q-G+U+z),X++}for(let Y=X;Y<this.blocks.length;Y++)this.blocks[Y].domNode.remove();this.blocks.length=X}}var Sm=N(()=>{V6();ym();m7()});class K_ extends K8{constructor(J,$){super(J);this._viewDomNode=$,this._widgets={},this.domNode=t0(document.createElement("div")),Z7.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=t0(document.createElement("div")),Z7.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].onConfigurationChanged(J);return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLineMappingChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesChanged(J){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(J){return this._updateAnchorsViewPositions(),!0}onLinesInserted(J){return this._updateAnchorsViewPositions(),!0}onScrollChanged(J){return!0}onZonesChanged(J){return!0}_updateAnchorsViewPositions(){const J=Object.keys(this._widgets);for(let $ of J)this._widgets[$].updateAnchorViewPosition()}addWidget(J){const $=new Cm(this._context,this._viewDomNode,J);if(this._widgets[$.id]=$,$.allowEditorOverflow)this.overflowingContentWidgetsDomNode.appendChild($.domNode);else this.domNode.appendChild($.domNode);this.setShouldRender()}setWidgetPosition(J,$,X,Q,Y){this._widgets[J.getId()].setPosition($,X,Q,Y),this.setShouldRender()}removeWidget(J){const $=J.getId();if(this._widgets.hasOwnProperty($)){const X=this._widgets[$];delete this._widgets[$];const Q=X.domNode.domNode;Q.parentNode.removeChild(Q),Q.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(J){if(this._widgets.hasOwnProperty(J))return this._widgets[J].suppressMouseDown;return!1}onBeforeRender(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].onBeforeRender(J)}prepareRender(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].prepareRender(J)}render(J){const $=Object.keys(this._widgets);for(let X of $)this._widgets[X].render(J)}}class Cm{constructor(J,$,X){this._primaryAnchor=new U3(null,null),this._secondaryAnchor=new U3(null,null),this._context=J,this._viewDomNode=$,this._actual=X,this.domNode=t0(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const Q=this._context.configuration.options,Y=Q.get(143);this._fixedOverflowWidgets=Q.get(42),this._contentWidth=Y.contentWidth,this._contentLeft=Y.contentLeft,this._lineHeight=Q.get(66),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(J){const $=this._context.configuration.options;if(this._lineHeight=$.get(66),J.hasChanged(143)){const X=$.get(143);this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(J,$,X){this._affinity=J,this._primaryAnchor=Q($,this._context.viewModel,this._affinity),this._secondaryAnchor=Q(X,this._context.viewModel,this._affinity);function Q(Y,Z,G){if(!Y)return new U3(null,null);const q=Z.model.validatePosition(Y);if(Z.coordinatesConverter.modelPositionIsVisible(q)){const U=Z.coordinatesConverter.convertModelPositionToViewPosition(q,G!==null&&G!==void 0?G:void 0);return new U3(Y,U)}return new U3(Y,null)}}_getMaxWidth(){const J=this.domNode.domNode.ownerDocument,$=J.defaultView;return this.allowEditorOverflow?($===null||$===void 0?void 0:$.innerWidth)||J.documentElement.offsetWidth||J.body.offsetWidth:this._contentWidth}setPosition(J,$,X,Q){if(this._setPosition(Q,J,$),this._preference=X,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0)this.domNode.setDisplay("block");else this.domNode.setDisplay("none");this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(J,$,X,Q){const Y=J.top,Z=Y,G=J.top+J.height,q=Q.viewportHeight-G,U=Y-X,H=Z>=X,z=G,V=q>=X;let j=J.left;if(j+$>Q.scrollLeft+Q.viewportWidth)j=Q.scrollLeft+Q.viewportWidth-$;if(j<Q.scrollLeft)j=Q.scrollLeft;return{fitsAbove:H,aboveTop:U,fitsBelow:V,belowTop:z,left:j}}_layoutHorizontalSegmentInPage(J,$,X,Q){var Y;const Z=15,G=15,q=Math.max(15,$.left-Q),U=Math.min($.left+$.width+Q,J.width-15),z=this._viewDomNode.domNode.ownerDocument.defaultView;let V=$.left+X-((Y=z===null||z===void 0?void 0:z.scrollX)!==null&&Y!==void 0?Y:0);if(V+Q>U){const j=V-(U-Q);V-=j,X-=j}if(V<q){const j=V-q;V-=j,X-=j}return[X,V]}_layoutBoxInPage(J,$,X,Q){var Y,Z;const G=J.top-X,q=J.top+J.height,U=M6(this._viewDomNode.domNode),H=this._viewDomNode.domNode.ownerDocument,z=H.defaultView,V=U.top+G-((Y=z===null||z===void 0?void 0:z.scrollY)!==null&&Y!==void 0?Y:0),j=U.top+q-((Z=z===null||z===void 0?void 0:z.scrollY)!==null&&Z!==void 0?Z:0),W=j$(H.body),[B,K]=this._layoutHorizontalSegmentInPage(W,U,J.left-Q.scrollLeft+this._contentLeft,$),P=22,A=22,D=V>=22,R=j+X<=W.height-22;if(this._fixedOverflowWidgets)return{fitsAbove:D,aboveTop:Math.max(V,22),fitsBelow:R,belowTop:j,left:K};return{fitsAbove:D,aboveTop:G,fitsBelow:R,belowTop:q,left:B}}_prepareRenderWidgetAtExactPositionOverflowing(J){return new H3(J.top,J.left+this._contentLeft)}_getAnchorsCoordinates(J){var $,X;const Q=G(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),Y=(($=this._secondaryAnchor.viewPosition)===null||$===void 0?void 0:$.lineNumber)===((X=this._primaryAnchor.viewPosition)===null||X===void 0?void 0:X.lineNumber)?this._secondaryAnchor.viewPosition:null,Z=G(Y,this._affinity,this._lineHeight);return{primary:Q,secondary:Z};function G(q,U,H){if(!q)return null;const z=J.visibleRangeForPosition(q);if(!z)return null;const V=q.column===1&&U===3?0:z.left,j=J.getVerticalOffsetForLineNumber(q.lineNumber)-J.scrollTop;return new F_(j,V,H)}}_reduceAnchorCoordinates(J,$,X){if(!$)return J;const Q=this._context.configuration.options.get(50);let Y=$.left;if(Y<J.left)Y=Math.max(Y,J.left-X+Q.typicalFullwidthCharacterWidth);else Y=Math.min(Y,J.left+X-Q.typicalFullwidthCharacterWidth);return new F_(J.top,Y,J.height)}_prepareRenderWidget(J){if(!this._preference||this._preference.length===0)return null;const{primary:$,secondary:X}=this._getAnchorsCoordinates(J);if(!$)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Z=null;if(typeof this._actual.beforeRender==="function")Z=B_(this._actual.beforeRender,this._actual);if(Z)this._cachedDomNodeOffsetWidth=Z.width,this._cachedDomNodeOffsetHeight=Z.height;else{const q=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(q.width),this._cachedDomNodeOffsetHeight=Math.round(q.height)}}const Q=this._reduceAnchorCoordinates($,X,this._cachedDomNodeOffsetWidth);let Y;if(this.allowEditorOverflow)Y=this._layoutBoxInPage(Q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);else Y=this._layoutBoxInViewport(Q,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,J);for(let Z=1;Z<=2;Z++)for(let G of this._preference)if(G===1){if(!Y)return null;if(Z===2||Y.fitsAbove)return{coordinate:new H3(Y.aboveTop,Y.left),position:1}}else if(G===2){if(!Y)return null;if(Z===2||Y.fitsBelow)return{coordinate:new H3(Y.belowTop,Y.left),position:2}}else if(this.allowEditorOverflow)return{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new H3(Q.top,Q.left)),position:0};else return{coordinate:new H3(Q.top,Q.left),position:0};return null}onBeforeRender(J){if(!this._primaryAnchor.viewPosition||!this._preference)return;if(this._primaryAnchor.viewPosition.lineNumber<J.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>J.endLineNumber)return;this.domNode.setMaxWidth(this._maxWidth)}prepareRender(J){this._renderData=this._prepareRenderWidget(J)}render(J){if(!this._renderData){if(this._isVisible)this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden");if(typeof this._actual.afterRender==="function")B_(this._actual.afterRender,this._actual,null);return}if(this.allowEditorOverflow)this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left);else this.domNode.setTop(this._renderData.coordinate.top+J.scrollTop-J.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left);if(!this._isVisible)this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0;if(typeof this._actual.afterRender==="function")B_(this._actual.afterRender,this._actual,this._renderData.position)}}class U3{constructor(J,$){this.modelPosition=J,this.viewPosition=$}}class H3{constructor(J,$){this.top=J,this.left=$,this._coordinateBrand=void 0}}class F_{constructor(J,$,X){this.top=J,this.left=$,this.height=X,this._anchorCoordinateBrand=void 0}}var B_;var xm=N(()=>{D0();V6();m7();B_=function(J,$,...X){try{return J.call($,...X)}catch(Q){return null}}});var bm=N(()=>{q1();V0(".monaco-editor .view-overlays .current-line,.monaco-editor .margin-view-overlays .current-line{box-sizing:border-box;display:block;position:absolute;top:0;left:0}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}")});class A_ extends r5{constructor(J){super();this._context=J;const $=this._context.configuration.options,X=$.get(143);this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=X.isViewportWrapping,this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new b0(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let J=!1;const $=new Set;for(let Y of this._selections)$.add(Y.positionLineNumber);const X=Array.from($);if(X.sort((Y,Z)=>Y-Z),!Q8(this._cursorLineNumbers,X))this._cursorLineNumbers=X,J=!0;const Q=this._selections.every((Y)=>Y.isEmpty());if(this._selectionIsEmpty!==Q)this._selectionIsEmpty=Q,J=!0;return J}onThemeChanged(J){return this._readFromSelections()}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._lineHeight=$.get(66),this._renderLineHighlight=$.get(95),this._renderLineHighlightOnlyWhenFocus=$.get(96),this._wordWrap=X.isViewportWrapping,this._contentLeft=X.contentLeft,this._contentWidth=X.contentWidth,!0}onCursorStateChanged(J){return this._selections=J.selections,this._readFromSelections()}onFlushed(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollWidthChanged||J.scrollTopChanged}onZonesChanged(J){return!0}onFocusChanged(J){if(!this._renderLineHighlightOnlyWhenFocus)return!1;return this._focused=J.isFocused,!0}prepareRender(J){if(!this._shouldRenderThis()){this._renderData=null;return}const $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Q=[];for(let Z=$;Z<=X;Z++){const G=Z-$;Q[G]=""}if(this._wordWrap){const Z=this._renderOne(J,!1);for(let G of this._cursorLineNumbers){const q=this._context.viewModel.coordinatesConverter,U=q.convertViewPositionToModelPosition(new v(G,1)).lineNumber,H=q.convertModelPositionToViewPosition(new v(U,1)).lineNumber,z=q.convertModelPositionToViewPosition(new v(U,this._context.viewModel.model.getLineMaxColumn(U))).lineNumber,V=Math.max(H,$),j=Math.min(z,X);for(let W=V;W<=j;W++){const B=W-$;Q[B]=Z}}}const Y=this._renderOne(J,!0);for(let Z of this._cursorLineNumbers){if(Z<$||Z>X)continue;const G=Z-$;Q[G]=Y}this._renderData=Q}render(J,$){if(!this._renderData)return"";const X=$-J;if(X>=this._renderData.length)return"";return this._renderData[X]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class P_ extends A_{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+($?" current-line-exact":"")}" style="width:${Math.max(J.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class D_ extends A_{_renderOne(J,$){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&$?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}var vm=N(()=>{bm();DY();L4();H1();r8();S6();nX();U1();c7((J,$)=>{const X=J.getColor(cN);if(X)$.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${X}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${X}; border: none; }`);if(!X||X.isTransparent()||J.defines(lN)){const Q=J.getColor(lN);if(Q){if($.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${Q}; }`),$.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${Q}; }`),IJ(J.type))$.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),$.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")}}})});var fm=N(()=>{q1();V0(".monaco-editor .lines-content .cdr{position:absolute}")});class R_ extends r5{constructor(J){super();this._context=J;const $=this._context.configuration.options;this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}prepareRender(J){const $=J.getDecorationsInViewport();let X=[],Q=0;for(let q=0,U=$.length;q<U;q++){const H=$[q];if(H.options.className)X[Q++]=H}X=X.sort((q,U)=>{if(q.options.zIndex<U.options.zIndex)return-1;if(q.options.zIndex>U.options.zIndex)return 1;const H=q.options.className,z=U.options.className;if(H<z)return-1;if(H>z)return 1;return L.compareRangesUsingStarts(q.range,U.range)});const Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber,G=[];for(let q=Y;q<=Z;q++){const U=q-Y;G[U]=""}this._renderWholeLineDecorations(J,X,G),this._renderNormalDecorations(J,X,G),this._renderResult=G}_renderWholeLineDecorations(J,$,X){const Q=String(this._lineHeight),Y=J.visibleRange.startLineNumber,Z=J.visibleRange.endLineNumber;for(let G=0,q=$.length;G<q;G++){const U=$[G];if(!U.options.isWholeLine)continue;const H='<div class="cdr '+U.options.className+'" style="left:0;width:100%;height:'+Q+'px;"></div>',z=Math.max(U.range.startLineNumber,Y),V=Math.min(U.range.endLineNumber,Z);for(let j=z;j<=V;j++){const W=j-Y;X[W]+=H}}}_renderNormalDecorations(J,$,X){var Q;const Y=String(this._lineHeight),Z=J.visibleRange.startLineNumber;let G=null,q=!1,U=null,H=!1;for(let z=0,V=$.length;z<V;z++){const j=$[z];if(j.options.isWholeLine)continue;const W=j.options.className,B=Boolean(j.options.showIfCollapsed);let K=j.range;if(B&&K.endColumn===1&&K.endLineNumber!==K.startLineNumber)K=new L(K.startLineNumber,K.startColumn,K.endLineNumber-1,this._context.viewModel.getLineMaxColumn(K.endLineNumber-1));if(G===W&&q===B&&L.areIntersectingOrTouching(U,K)){U=L.plusRange(U,K);continue}if(G!==null)this._renderNormalDecoration(J,U,G,H,q,Y,Z,X);G=W,q=B,U=K,H=(Q=j.options.shouldFillLineOnLineBreak)!==null&&Q!==void 0?Q:!1}if(G!==null)this._renderNormalDecoration(J,U,G,H,q,Y,Z,X)}_renderNormalDecoration(J,$,X,Q,Y,Z,G,q){const U=J.linesVisibleRangesForRange($,X==="findMatch");if(!U)return;for(let H=0,z=U.length;H<z;H++){const V=U[H];if(V.outsideRenderedLine)continue;const j=V.lineNumber-G;if(Y&&V.ranges.length===1){const W=V.ranges[0];if(W.width<this._typicalHalfwidthCharacterWidth){const B=Math.round(W.left+W.width/2),K=Math.max(0,Math.round(B-this._typicalHalfwidthCharacterWidth/2));V.ranges[0]=new oq(K,this._typicalHalfwidthCharacterWidth)}}for(let W=0,B=V.ranges.length;W<B;W++){const K=Q&&V.continuesOnNextLine&&B===1,P=V.ranges[W],A='<div class="cdr '+X+'" style="left:'+String(P.left)+(K?"px;width:100%;height:":"px;width:"+String(P.width)+"px;height:")+Z+'px;"></div>';q[j]+=A}}}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var hm=N(()=>{fm();DY();tq();c0()});class M_ extends K8{constructor(J,$,X,Q){super(J);const Y=this._context.configuration.options,Z=Y.get(102),G=Y.get(74),q=Y.get(40),U=Y.get(105),H={listenOnDomNode:X.domNode,className:"editor-scrollable "+xz(J.theme.type),useShadows:!1,lazyRender:!0,vertical:Z.vertical,horizontal:Z.horizontal,verticalHasArrows:Z.verticalHasArrows,horizontalHasArrows:Z.horizontalHasArrows,verticalScrollbarSize:Z.verticalScrollbarSize,verticalSliderSize:Z.verticalSliderSize,horizontalScrollbarSize:Z.horizontalScrollbarSize,horizontalSliderSize:Z.horizontalSliderSize,handleMouseWheel:Z.handleMouseWheel,alwaysConsumeMouseWheel:Z.alwaysConsumeMouseWheel,arrowSize:Z.arrowSize,mouseWheelScrollSensitivity:G,fastScrollSensitivity:q,scrollPredominantAxis:U,scrollByPage:Z.scrollByPage};this.scrollbar=this._register(new eX($.domNode,H,this._context.viewLayout.getScrollable())),Z7.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=t0(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const z=(V,j,W)=>{const B={};if(j){const K=V.scrollTop;if(K)B.scrollTop=this._context.viewLayout.getCurrentScrollTop()+K,V.scrollTop=0}if(W){const K=V.scrollLeft;if(K)B.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+K,V.scrollLeft=0}this._context.viewModel.viewLayout.setScrollPosition(B,1)};this._register(m(X.domNode,"scroll",(V)=>z(X.domNode,!0,!0))),this._register(m($.domNode,"scroll",(V)=>z($.domNode,!0,!1))),this._register(m(Q.domNode,"scroll",(V)=>z(Q.domNode,!0,!1))),this._register(m(this.scrollbarDomNode.domNode,"scroll",(V)=>z(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const J=this._context.configuration.options,$=J.get(143);if(this.scrollbarDomNode.setLeft($.contentLeft),J.get(72).side==="right")this.scrollbarDomNode.setWidth($.contentWidth+$.minimap.minimapWidth);else this.scrollbarDomNode.setWidth($.contentWidth);this.scrollbarDomNode.setHeight($.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(J){this.scrollbar.delegateVerticalScrollbarPointerDown(J)}delegateScrollFromMouseWheelEvent(J){this.scrollbar.delegateScrollFromMouseWheelEvent(J)}onConfigurationChanged(J){if(J.hasChanged(102)||J.hasChanged(74)||J.hasChanged(40)){const $=this._context.configuration.options,X=$.get(102),Q=$.get(74),Y=$.get(40),Z=$.get(105),G={vertical:X.vertical,horizontal:X.horizontal,verticalScrollbarSize:X.verticalScrollbarSize,horizontalScrollbarSize:X.horizontalScrollbarSize,scrollByPage:X.scrollByPage,handleMouseWheel:X.handleMouseWheel,mouseWheelScrollSensitivity:Q,fastScrollSensitivity:Y,scrollPredominantAxis:Z};this.scrollbar.updateOptions(G)}if(J.hasChanged(143))this._setLayout();return!0}onScrollChanged(J){return!0}onThemeChanged(J){return this.scrollbar.updateClassName("editor-scrollable "+xz(this._context.theme.type)),!0}prepareRender(J){}render(J){this.scrollbar.renderNow()}}var gm=N(()=>{D0();V6();_4();m7();r8()});var pm=N(()=>{q1();V0(".monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .glyph-margin-widgets .cgmr{justify-content:center;align-items:center;display:flex;position:absolute}.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}")});class z3{constructor(J,$,X,Q,Y){this.startLineNumber=J,this.endLineNumber=$,this.className=X,this.tooltip=Q,this._decorationToRenderBrand=void 0,this.zIndex=Y!==null&&Y!==void 0?Y:0}}class mm{constructor(J,$,X){this.className=J,this.zIndex=$,this.tooltip=X}}class um{constructor(){this.decorations=[]}add(J){this.decorations.push(J)}getDecorations(){return this.decorations}}class hz extends r5{_render(J,$,X){const Q=[];for(let G=J;G<=$;G++){const q=G-J;Q[q]=new um}if(X.length===0)return Q;X.sort((G,q)=>{if(G.className===q.className){if(G.startLineNumber===q.startLineNumber)return G.endLineNumber-q.endLineNumber;return G.startLineNumber-q.startLineNumber}return G.className<q.className?-1:1});let Y=null,Z=0;for(let G=0,q=X.length;G<q;G++){const U=X[G],H=U.className,z=U.zIndex;let V=Math.max(U.startLineNumber,J)-J;const j=Math.min(U.endLineNumber,$)-J;if(Y===H)V=Math.max(Z+1,V),Z=Math.max(Z,j);else Y=H,Z=j;for(let W=V;W<=Z;W++)Q[W].add(new mm(H,z,U.tooltip))}return Q}}class O_ extends K8{constructor(J){super(J);this._widgets={},this._context=J;const $=this._context.configuration.options,X=$.get(143);this.domNode=t0(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._glyphMarginDecorationLaneCount=X.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);return this._lineHeight=$.get(66),this._glyphMargin=$.get(57),this._glyphMarginLeft=X.glyphMarginLeft,this._glyphMarginWidth=X.glyphMarginWidth,this._glyphMarginDecorationLaneCount=X.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}addWidget(J){const $=t0(J.getDomNode());this._widgets[J.getId()]={widget:J,preference:J.getPosition(),domNode:$,renderInfo:null},$.setPosition("absolute"),$.setDisplay("none"),$.setAttribute("widgetId",J.getId()),this.domNode.appendChild($),this.setShouldRender()}setWidgetPosition(J,$){const X=this._widgets[J.getId()];if(X.preference.lane===$.lane&&X.preference.zIndex===$.zIndex&&L.equalsRange(X.preference.range,$.range))return!1;return X.preference=$,this.setShouldRender(),!0}removeWidget(J){var $;const X=J.getId();if(this._widgets[X]){const Y=this._widgets[X].domNode.domNode;delete this._widgets[X],($=Y.parentNode)===null||$===void 0||$.removeChild(Y),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(J,$){var X,Q,Y;const Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.getDecorationsInViewport();for(let U of q){const H=U.options.glyphMarginClassName;if(!H)continue;const z=Math.max(U.range.startLineNumber,Z),V=Math.min(U.range.endLineNumber,G),j=(Q=(X=U.options.glyphMargin)===null||X===void 0?void 0:X.position)!==null&&Q!==void 0?Q:m9.Center,W=(Y=U.options.zIndex)!==null&&Y!==void 0?Y:0;for(let B=z;B<=V;B++){const K=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(B,0)),P=this._context.viewModel.glyphLanes.getLanesAtLine(K.lineNumber).indexOf(j);$.push(new cm(B,P,W,H))}}}_collectWidgetBasedGlyphRenderRequest(J,$){const X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;for(let Y of Object.values(this._widgets)){const Z=Y.preference.range,{startLineNumber:G,endLineNumber:q}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(L.lift(Z));if(!G||!q||q<X||G>Q)continue;const U=Math.max(G,X),H=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(U,0)),z=this._context.viewModel.glyphLanes.getLanesAtLine(H.lineNumber).indexOf(Y.preference.lane);$.push(new lm(U,z,Y.preference.zIndex,Y))}}_collectSortedGlyphRenderRequests(J){const $=[];return this._collectDecorationBasedGlyphRenderRequest(J,$),this._collectWidgetBasedGlyphRenderRequest(J,$),$.sort((X,Q)=>{if(X.lineNumber===Q.lineNumber){if(X.laneIndex===Q.laneIndex){if(X.zIndex===Q.zIndex){if(Q.type===X.type){if(X.type===0&&Q.type===0)return X.className<Q.className?-1:1;return 0}return Q.type-X.type}return Q.zIndex-X.zIndex}return X.laneIndex-Q.laneIndex}return X.lineNumber-Q.lineNumber}),$}prepareRender(J){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(let Q of Object.values(this._widgets))Q.renderInfo=null;const $=new n7(this._collectSortedGlyphRenderRequests(J)),X=[];while($.length>0){const Q=$.peek();if(!Q)break;const Y=$.takeWhile((G)=>G.lineNumber===Q.lineNumber&&G.laneIndex===Q.laneIndex);if(!Y||Y.length===0)break;const Z=Y[0];if(Z.type===0){const G=[];for(let q of Y){if(q.zIndex!==Z.zIndex||q.type!==Z.type)break;if(G.length===0||G[G.length-1]!==q.className)G.push(q.className)}X.push(Z.accept(G.join(" ")))}else Z.widget.renderInfo={lineNumber:Z.lineNumber,laneIndex:Z.laneIndex}}this._decorationGlyphsToRender=X}render(J){if(!this._glyphMargin){for(let X of Object.values(this._widgets))X.domNode.setDisplay("none");while(this._managedDomNodes.length>0){const X=this._managedDomNodes.pop();X===null||X===void 0||X.domNode.remove()}return}const $=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(let X of Object.values(this._widgets))if(!X.renderInfo)X.domNode.setDisplay("none");else{const Q=J.viewportData.relativeVerticalOffset[X.renderInfo.lineNumber-J.viewportData.startLineNumber],Y=this._glyphMarginLeft+X.renderInfo.laneIndex*this._lineHeight;X.domNode.setDisplay("block"),X.domNode.setTop(Q),X.domNode.setLeft(Y),X.domNode.setWidth($),X.domNode.setHeight(this._lineHeight)}for(let X=0;X<this._decorationGlyphsToRender.length;X++){const Q=this._decorationGlyphsToRender[X],Y=J.viewportData.relativeVerticalOffset[Q.lineNumber-J.viewportData.startLineNumber],Z=this._glyphMarginLeft+Q.laneIndex*this._lineHeight;let G;if(X<this._managedDomNodes.length)G=this._managedDomNodes[X];else G=t0(document.createElement("div")),this._managedDomNodes.push(G),this.domNode.appendChild(G);G.setClassName("cgmr codicon "+Q.combinedClassName),G.setPosition("absolute"),G.setTop(Y),G.setLeft(Z),G.setWidth($),G.setHeight(this._lineHeight)}while(this._managedDomNodes.length>this._decorationGlyphsToRender.length){const X=this._managedDomNodes.pop();X===null||X===void 0||X.domNode.remove()}}}class cm{constructor(J,$,X,Q){this.lineNumber=J,this.laneIndex=$,this.zIndex=X,this.className=Q,this.type=0}accept(J){return new dm(this.lineNumber,this.laneIndex,J)}}class lm{constructor(J,$,X,Q){this.lineNumber=J,this.laneIndex=$,this.zIndex=X,this.widget=Q,this.type=1}}class dm{constructor(J,$,X){this.lineNumber=J,this.laneIndex=$,this.combinedClassName=X}}var KA=N(()=>{V6();H1();pm();DY();m7();U1();c0();g5()});var sm=N(()=>{q1();V0(".monaco-editor .lines-content .core-guide{box-sizing:border-box;position:absolute}")});class gz extends f{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}var T_=N(()=>{X0()});function pz(J,$){let X=0,Q=0;const Y=J.length;while(Q<Y){const Z=J.charCodeAt(Q);if(Z===32)X++;else if(Z===9)X=X-X%$+$;else break;Q++}if(Q===Y)return-1;return X}var N_=N(()=>{});class E4{constructor(J,$,X,Q,Y,Z){if(this.visibleColumn=J,this.column=$,this.className=X,this.horizontalLine=Q,this.forWrappedLinesAfterColumn=Y,this.forWrappedLinesBeforeOrAtColumn=Z,J!==-1===($!==-1))throw new Error}}class TY{constructor(J,$){this.top=J,this.endColumn=$}}var GQ;var AA=N(()=>{(function(J){J[J.Disabled=0]="Disabled",J[J.EnabledForActive=1]="EnabledForActive",J[J.Enabled=2]="Enabled"})(GQ||(GQ={}))});class __ extends gz{constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$}getLanguageConfiguration(J){return this.languageConfigurationService.getLanguageConfiguration(J)}_computeIndentLevel(J){return pz(this.textModel.getLineContent(J+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(J,$,X){this.assertNotDisposed();const Q=this.textModel.getLineCount();if(J<1||J>Q)throw new b1("Illegal value for lineNumber");const Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide);let G=-2,q=-1,U=-2,H=-1;const z=(_)=>{if(G!==-1&&(G===-2||G>_-1)){G=-1,q=-1;for(let w=_-2;w>=0;w--){const C=this._computeIndentLevel(w);if(C>=0){G=w,q=C;break}}}if(U===-2){U=-1,H=-1;for(let w=_;w<Q;w++){const C=this._computeIndentLevel(w);if(C>=0){U=w,H=C;break}}}};let V=-2,j=-1,W=-2,B=-1;const K=(_)=>{if(V===-2){V=-1,j=-1;for(let w=_-2;w>=0;w--){const C=this._computeIndentLevel(w);if(C>=0){V=w,j=C;break}}}if(W!==-1&&(W===-2||W<_-1)){W=-1,B=-1;for(let w=_;w<Q;w++){const C=this._computeIndentLevel(w);if(C>=0){W=w,B=C;break}}}};let P=0,A=!0,D=0,R=!0,M=0,O=0;for(let _=0;A||R;_++){const w=J-_,C=J+_;if(_>1&&(w<1||w<$))A=!1;if(_>1&&(C>Q||C>X))R=!1;if(_>50000)A=!1,R=!1;let x=-1;if(A&&w>=1){const c=this._computeIndentLevel(w-1);if(c>=0)U=w-1,H=c,x=Math.ceil(c/this.textModel.getOptions().indentSize);else z(w),x=this._getIndentLevelForWhitespaceLine(Z,q,H)}let g=-1;if(R&&C<=Q){const c=this._computeIndentLevel(C-1);if(c>=0)V=C-1,j=c,g=Math.ceil(c/this.textModel.getOptions().indentSize);else K(C),g=this._getIndentLevelForWhitespaceLine(Z,j,B)}if(_===0){O=x;continue}if(_===1){if(C<=Q&&g>=0&&O+1===g){A=!1,P=C,D=C,M=g;continue}if(w>=1&&x>=0&&x-1===O){R=!1,P=w,D=w,M=x;continue}if(P=J,D=J,M=O,M===0)return{startLineNumber:P,endLineNumber:D,indent:M}}if(A)if(x>=M)P=w;else A=!1;if(R)if(g>=M)D=C;else R=!1}return{startLineNumber:P,endLineNumber:D,indent:M}}getLinesBracketGuides(J,$,X,Q){var Y;const Z=[];for(let V=J;V<=$;V++)Z.push([]);const G=!0,q=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new L(J,1,$,this.textModel.getLineMaxColumn($))).toArray();let U=void 0;if(X&&q.length>0){const V=(J<=X.lineNumber&&X.lineNumber<=$?q:this.textModel.bracketPairs.getBracketPairsInRange(L.fromPositions(X)).toArray()).filter((j)=>L.strictContainsPosition(j.range,X));U=(Y=KG(V,(j)=>G||j.range.startLineNumber!==j.range.endLineNumber))===null||Y===void 0?void 0:Y.range}const H=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,z=new PA;for(let V of q){if(!V.closingBracketRange)continue;const j=U&&V.range.equalsRange(U);if(!j&&!Q.includeInactive)continue;const W=z.getInlineClassName(V.nestingLevel,V.nestingLevelOfEqualBracketType,H)+(Q.highlightActive&&j?" "+z.activeClassName:""),B=V.openingBracketRange.getStartPosition(),K=V.closingBracketRange.getStartPosition(),P=Q.horizontalGuides===GQ.Enabled||Q.horizontalGuides===GQ.EnabledForActive&&j;if(V.range.startLineNumber===V.range.endLineNumber){if(G&&P)Z[V.range.startLineNumber-J].push(new E4(-1,V.openingBracketRange.getEndPosition().column,W,new TY(!1,K.column),-1,-1));continue}const A=this.getVisibleColumnFromPosition(K),D=this.getVisibleColumnFromPosition(V.openingBracketRange.getStartPosition()),R=Math.min(D,A,V.minVisibleColumnIndentation+1);let M=!1;if(S8(this.textModel.getLineContent(V.closingBracketRange.startLineNumber))<V.closingBracketRange.startColumn-1)M=!0;const w=Math.max(B.lineNumber,J),C=Math.min(K.lineNumber,$),x=M?1:0;for(let g=w;g<C+x;g++)Z[g-J].push(new E4(R,-1,W,null,g===B.lineNumber?B.column:-1,g===K.lineNumber?K.column:-1));if(P){if(B.lineNumber>=J&&D>R)Z[B.lineNumber-J].push(new E4(R,-1,W,new TY(!1,B.column),-1,-1));if(K.lineNumber<=$&&A>R)Z[K.lineNumber-J].push(new E4(R,-1,W,new TY(!M,K.column),-1,-1))}}for(let V of Z)V.sort((j,W)=>j.visibleColumn-W.visibleColumn);return Z}getVisibleColumnFromPosition(J){return J8.visibleColumnFromColumn(this.textModel.getLineContent(J.lineNumber),J.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(J,$){this.assertNotDisposed();const X=this.textModel.getLineCount();if(J<1||J>X)throw new Error("Illegal value for startLineNumber");if($<1||$>X)throw new Error("Illegal value for endLineNumber");const Q=this.textModel.getOptions(),Y=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,Z=Boolean(Y&&Y.offSide),G=new Array($-J+1);let q=-2,U=-1,H=-2,z=-1;for(let V=J;V<=$;V++){const j=V-J,W=this._computeIndentLevel(V-1);if(W>=0){q=V-1,U=W,G[j]=Math.ceil(W/Q.indentSize);continue}if(q===-2){q=-1,U=-1;for(let B=V-2;B>=0;B--){const K=this._computeIndentLevel(B);if(K>=0){q=B,U=K;break}}}if(H!==-1&&(H===-2||H<V-1)){H=-1,z=-1;for(let B=V;B<X;B++){const K=this._computeIndentLevel(B);if(K>=0){H=B,z=K;break}}}G[j]=this._getIndentLevelForWhitespaceLine(Z,U,z)}return G}_getIndentLevelForWhitespaceLine(J,$,X){const Q=this.textModel.getOptions();if($===-1||X===-1)return 0;else if($<X)return 1+Math.floor($/Q.indentSize);else if($===X)return Math.ceil(X/Q.indentSize);else if(J)return Math.ceil(X/Q.indentSize);else return 1+Math.floor(X/Q.indentSize)}}class PA{constructor(){this.activeClassName="indent-active"}getInlineClassName(J,$,X){return this.getInlineClassNameOfLevel(X?$:J)}getInlineClassNameOfLevel(J){return`bracket-indent-guide lvl-${J%30}`}}var w_=N(()=>{V4();o0();SJ();c0();T_();N_();AA();D1()});class L_ extends r5{constructor(J){super();this._context=J,this._primaryPosition=null;const $=this._context.configuration.options,X=$.get(144),Q=$.get(50);this._lineHeight=$.get(66),this._spaceWidth=Q.spaceWidth,this._maxIndentLeft=X.wrappingColumn===-1?-1:X.wrappingColumn*Q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(144),Q=$.get(50);return this._lineHeight=$.get(66),this._spaceWidth=Q.spaceWidth,this._maxIndentLeft=X.wrappingColumn===-1?-1:X.wrappingColumn*Q.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=$.get(16),!0}onCursorStateChanged(J){var $;const Q=J.selections[0].getPosition();if(!(($=this._primaryPosition)===null||$===void 0?void 0:$.equals(Q)))return this._primaryPosition=Q,!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}onLanguageConfigurationChanged(J){return!0}prepareRender(J){var $,X,Q,Y;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const Z=J.visibleRange.startLineNumber,G=J.visibleRange.endLineNumber,q=J.scrollWidth,U=this._lineHeight,H=this._primaryPosition,z=this.getGuidesByLine(Z,Math.min(G+1,this._context.viewModel.getLineCount()),H),V=[];for(let j=Z;j<=G;j++){const W=j-Z,B=z[W];let K="";const P=(X=($=J.visibleRangeForPosition(new v(j,1)))===null||$===void 0?void 0:$.left)!==null&&X!==void 0?X:0;for(let A of B){const D=A.column===-1?P+(A.visibleColumn-1)*this._spaceWidth:J.visibleRangeForPosition(new v(j,A.column)).left;if(D>q||this._maxIndentLeft>0&&D>this._maxIndentLeft)break;const R=A.horizontalLine?A.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=A.horizontalLine?((Y=(Q=J.visibleRangeForPosition(new v(j,A.horizontalLine.endColumn)))===null||Q===void 0?void 0:Q.left)!==null&&Y!==void 0?Y:D+this._spaceWidth)-D:this._spaceWidth;K+=`<div class="core-guide ${A.className} ${R}" style="left:${D}px;height:${U}px;width:${M}px"></div>`}V[W]=K}this._renderResult=V}getGuidesByLine(J,$,X){const Q=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(J,$,X,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?GQ.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?GQ.EnabledForActive:GQ.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Y=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(J,$):null;let Z=0,G=0,q=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&X){const z=this._context.viewModel.getActiveIndentGuide(X.lineNumber,J,$);Z=z.startLineNumber,G=z.endLineNumber,q=z.indent}const{indentSize:U}=this._context.viewModel.model.getOptions(),H=[];for(let z=J;z<=$;z++){const V=new Array;H.push(V);const j=Q?Q[z-J]:[],W=new n7(j),B=Y?Y[z-J]:0;for(let K=1;K<=B;K++){const P=(K-1)*U+1,A=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||j.length===0)&&Z<=z&&z<=G&&K===q;V.push(...W.takeWhile((R)=>R.visibleColumn<P)||[]);const D=W.peek();if(!D||D.visibleColumn!==P||D.horizontalLine)V.push(new E4(P,-1,`core-guide-indent lvl-${(K-1)%30}`+(A?" indent-active":""),null,-1,-1))}V.push(...W.takeWhile((K)=>!0)||[])}return H}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var V3;var am=N(()=>{sm();DY();L4();r8();U1();H1();G8();w_();AA();V3=function(J){if(J&&J.isTransparent())return;return J};c7((J,$)=>{const X=[{bracketColor:tK,guideColor:np,guideColorActive:Xm},{bracketColor:eK,guideColor:op,guideColorActive:Qm},{bracketColor:JA,guideColor:tp,guideColorActive:Ym},{bracketColor:$A,guideColor:ep,guideColorActive:Zm},{bracketColor:XA,guideColor:Jm,guideColorActive:Gm},{bracketColor:QA,guideColor:$m,guideColorActive:qm}],Q=new PA,Y=[{indentColor:CG,indentColorActive:xG},{indentColor:Sp,indentColorActive:fp},{indentColor:Cp,indentColorActive:hp},{indentColor:xp,indentColorActive:gp},{indentColor:bp,indentColorActive:pp},{indentColor:vp,indentColorActive:mp}],Z=X.map((q)=>{var U,H;const z=J.getColor(q.bracketColor),V=J.getColor(q.guideColor),j=J.getColor(q.guideColorActive),W=V3((U=V3(V))!==null&&U!==void 0?U:z===null||z===void 0?void 0:z.transparent(0.3)),B=V3((H=V3(j))!==null&&H!==void 0?H:z);if(!W||!B)return;return{guideColor:W,guideColorActive:B}}).filter(VX),G=Y.map((q)=>{const U=J.getColor(q.indentColor),H=J.getColor(q.indentColorActive),z=V3(U),V=V3(H);if(!z||!V)return;return{indentColor:z,indentColorActive:V}}).filter(VX);if(Z.length>0){for(let q=0;q<30;q++){const U=Z[q%Z.length];$.addRule(`.monaco-editor .${Q.getInlineClassNameOfLevel(q).replace(/ /g,".")} { --guide-color: ${U.guideColor}; --guide-color-active: ${U.guideColorActive}; }`)}$.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),$.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),$.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),$.addRule(`.monaco-editor .vertical.${Q.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),$.addRule(`.monaco-editor .horizontal-top.${Q.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),$.addRule(`.monaco-editor .horizontal-bottom.${Q.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(G.length>0){for(let q=0;q<30;q++){const U=G[q%G.length];$.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${q} { --indent-color: ${U.indentColor}; --indent-color-active: ${U.indentColorActive}; }`)}$.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),$.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})});var rm=N(()=>{q1();V0(".mtkcontrol{color:#fff!important;background:#960000!important}.mtkoverflow{background-color:var(--vscode-button-background,var(--vscode-editor-background));color:var(--vscode-button-foreground,var(--vscode-editor-foreground));border-style:solid;border-width:1px;border-color:var(--vscode-contrastBorder);cursor:pointer;border-radius:2px;padding:4px}.mtkoverflow:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{-webkit-user-select:none;user-select:none}.monaco-editor.mac .lines-content:hover,.monaco-editor.mac .view-line:hover,.monaco-editor.mac .view-lines:hover{-webkit-user-select:text;-ms-user-select:text;user-select:text}.monaco-editor.enable-user-select{user-select:initial;-webkit-user-select:initial}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{width:100%;position:absolute}.monaco-editor .mtkw{color:var(--vscode-editorWhitespace-foreground)!important}.monaco-editor .mtkz{display:inline-block;color:var(--vscode-editorWhitespace-foreground)!important}")});class mz{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const J=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=J.left,this._clientRectScale=J.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){if(!this._clientRectRead)this.readClientRect();return this._clientRectDeltaLeft}get clientRectScale(){if(!this._clientRectRead)this.readClientRect();return this._clientRectScale}constructor(J,$){this._domNode=J,this.endNode=$,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}var im=N(()=>{});class nm{constructor(){this._currentVisibleRange=new L(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(J){this._currentVisibleRange=J}}class om{constructor(J,$,X,Q,Y,Z,G){this.minimalReveal=J,this.lineNumber=$,this.startColumn=X,this.endColumn=Q,this.startScrollTop=Y,this.stopScrollTop=Z,this.scrollType=G,this.type="range",this.minLineNumber=$,this.maxLineNumber=$}}class tm{constructor(J,$,X,Q,Y){this.minimalReveal=J,this.selections=$,this.startScrollTop=X,this.stopScrollTop=Q,this.scrollType=Y,this.type="selections";let Z=$[0].startLineNumber,G=$[0].endLineNumber;for(let q=1,U=$.length;q<U;q++){const H=$[q];Z=Math.min(Z,H.startLineNumber),G=Math.max(G,H.endLineNumber)}this.minLineNumber=Z,this.maxLineNumber=G}}class uz extends K8{constructor(J,$){super(J);this._linesContent=$,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new fz(this),this.domNode=this._visibleLines.domNode;const X=this._context.configuration,Q=this._context.configuration.options,Y=Q.get(50),Z=Q.get(144);this._lineHeight=Q.get(66),this._typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=Q.get(99),this._cursorSurroundingLines=Q.get(29),this._cursorSurroundingLinesStyle=Q.get(30),this._canUseLayerHinting=!Q.get(32),this._viewLineOptions=new pK(X,this._context.theme.type),Z7.write(this.domNode,8),this.domNode.setClassName(`view-lines ${QQ}`),T8(this.domNode,Y),this._maxLineWidth=0,this._asyncUpdateLineWidths=new t1(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new t1(()=>{this._checkMonospaceFontAssumptions()},2000),this._lastRenderedData=new nm,this._horizontalRevealRequest=null,this._stickyScrollEnabled=Q.get(114).enabled,this._maxNumberStickyLines=Q.get(114).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new yJ(this._viewLineOptions)}onConfigurationChanged(J){if(this._visibleLines.onConfigurationChanged(J),J.hasChanged(144))this._maxLineWidth=0;const $=this._context.configuration.options,X=$.get(50),Q=$.get(144);if(this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Q.isViewportWrapping,this._revealHorizontalRightPadding=$.get(99),this._cursorSurroundingLines=$.get(29),this._cursorSurroundingLinesStyle=$.get(30),this._canUseLayerHinting=!$.get(32),this._stickyScrollEnabled=$.get(114).enabled,this._maxNumberStickyLines=$.get(114).maxLineCount,T8(this.domNode,X),this._onOptionsMaybeChanged(),J.hasChanged(143))this._maxLineWidth=0;return!0}_onOptionsMaybeChanged(){const J=this._context.configuration,$=new pK(J,this._context.theme.type);if(!this._viewLineOptions.equals($)){this._viewLineOptions=$;const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++)this._visibleLines.getVisibleLine(Y).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();let Q=!1;for(let Y=$;Y<=X;Y++)Q=this._visibleLines.getVisibleLine(Y).onSelectionChanged()||Q;return Q}onDecorationsChanged(J){{const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Q=$;Q<=X;Q++)this._visibleLines.getVisibleLine(Q).onDecorationsChanged()}return!0}onFlushed(J){const $=this._visibleLines.onFlushed(J);return this._maxLineWidth=0,$}onLinesChanged(J){return this._visibleLines.onLinesChanged(J)}onLinesDeleted(J){return this._visibleLines.onLinesDeleted(J)}onLinesInserted(J){return this._visibleLines.onLinesInserted(J)}onRevealRangeRequest(J){const $=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),J.source,J.minimalReveal,J.range,J.selections,J.verticalType);if($===-1)return!1;let X=this._context.viewLayout.validateScrollPosition({scrollTop:$});if(J.revealHorizontal){if(J.range&&J.range.startLineNumber!==J.range.endLineNumber)X={scrollTop:X.scrollTop,scrollLeft:0};else if(J.range)this._horizontalRevealRequest=new om(J.minimalReveal,J.range.startLineNumber,J.range.startColumn,J.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),X.scrollTop,J.scrollType);else if(J.selections&&J.selections.length>0)this._horizontalRevealRequest=new tm(J.minimalReveal,J.selections,this._context.viewLayout.getCurrentScrollTop(),X.scrollTop,J.scrollType)}else this._horizontalRevealRequest=null;const Y=Math.abs(this._context.viewLayout.getCurrentScrollTop()-X.scrollTop)<=this._lineHeight?1:J.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(X,Y),!0}onScrollChanged(J){if(this._horizontalRevealRequest&&J.scrollLeftChanged)this._horizontalRevealRequest=null;if(this._horizontalRevealRequest&&J.scrollTopChanged){const $=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),X=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);if(J.scrollTop<$||J.scrollTop>X)this._horizontalRevealRequest=null}return this.domNode.setWidth(J.scrollWidth),this._visibleLines.onScrollChanged(J)||!0}onTokensChanged(J){return this._visibleLines.onTokensChanged(J)}onZonesChanged(J){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(J)}onThemeChanged(J){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(J,$){const X=this._getViewLineDomNode(J);if(X===null)return null;const Q=this._getLineNumberFor(X);if(Q===-1)return null;if(Q<1||Q>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(Q)===1)return new v(Q,1);const Y=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();if(Q<Y||Q>Z)return null;let G=this._visibleLines.getVisibleLine(Q).getColumnOfNodeOffset(J,$);const q=this._context.viewModel.getLineMinColumn(Q);if(G<q)G=q;return new v(Q,G)}_getViewLineDomNode(J){while(J&&J.nodeType===1){if(J.className===yJ.CLASS_NAME)return J;J=J.parentElement}return null}_getLineNumberFor(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();for(let Q=$;Q<=X;Q++){const Y=this._visibleLines.getVisibleLine(Q);if(J===Y.getDomNode())return Q}return-1}getLineWidth(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();if(J<$||J>X)return-1;const Q=new mz(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getWidth(Q);return this._updateLineWidthsSlowIfDomDidLayout(Q),Y}linesVisibleRangesForRange(J,$){if(this.shouldRender())return null;const X=J.endLineNumber,Q=L.intersectRanges(J,this._lastRenderedData.getCurrentVisibleRange());if(!Q)return null;const Y=[];let Z=0;const G=new mz(this.domNode.domNode,this._textRangeRestingSpot);let q=0;if($)q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(Q.startLineNumber,1)).lineNumber;const U=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let z=Q.startLineNumber;z<=Q.endLineNumber;z++){if(z<U||z>H)continue;const V=z===Q.startLineNumber?Q.startColumn:1,j=z!==Q.endLineNumber,W=j?this._context.viewModel.getLineMaxColumn(z):Q.endColumn,B=this._visibleLines.getVisibleLine(z).getVisibleRangesForRange(z,V,W,G);if(!B)continue;if($&&z<X){const K=q;if(q=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v(z+1,1)).lineNumber,K!==q)B.ranges[B.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth}Y[Z++]=new DN(B.outsideRenderedLine,z,oq.from(B.ranges),j)}if(this._updateLineWidthsSlowIfDomDidLayout(G),Z===0)return null;return Y}_visibleRangesForLineRange(J,$,X){if(this.shouldRender())return null;if(J<this._visibleLines.getStartLineNumber()||J>this._visibleLines.getEndLineNumber())return null;const Q=new mz(this.domNode.domNode,this._textRangeRestingSpot),Y=this._visibleLines.getVisibleLine(J).getVisibleRangesForRange(J,$,X,Q);return this._updateLineWidthsSlowIfDomDidLayout(Q),Y}visibleRangeForPosition(J){const $=this._visibleRangesForLineRange(J.lineNumber,J.column,J.column);if(!$)return null;return new RN($.outsideRenderedLine,$.ranges[0].left)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(J){if(!J.didDomLayout)return;if(this._asyncUpdateLineWidths.isScheduled())return;this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()}_updateLineWidths(J){const $=this._visibleLines.getStartLineNumber(),X=this._visibleLines.getEndLineNumber();let Q=1,Y=!0;for(let Z=$;Z<=X;Z++){const G=this._visibleLines.getVisibleLine(Z);if(J&&!G.getWidthIsFast()){Y=!1;continue}Q=Math.max(Q,G.getWidth(null))}if(Y&&$===1&&X===this._context.viewModel.getLineCount())this._maxLineWidth=0;return this._ensureMaxLineWidth(Q),Y}_checkMonospaceFontAssumptions(){let J=-1,$=-1;const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++){const Z=this._visibleLines.getVisibleLine(Y);if(Z.needsMonospaceFontCheck()){const G=Z.getWidth(null);if(G>$)$=G,J=Y}}if(J===-1)return;if(!this._visibleLines.getVisibleLine(J).monospaceAssumptionsAreValid())for(let Y=X;Y<=Q;Y++)this._visibleLines.getVisibleLine(Y).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(J){if(this._visibleLines.renderLines(J),this._lastRenderedData.setCurrentVisibleRange(J.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const X=this._horizontalRevealRequest;if(J.startLineNumber<=X.minLineNumber&&X.maxLineNumber<=J.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const Q=this._computeScrollLeftToReveal(X);if(Q){if(!this._isViewportWrapping)this._ensureMaxLineWidth(Q.maxHorizontalOffset);this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:Q.scrollLeft},X.scrollType)}}}if(!this._updateLineWidthsFast())this._asyncUpdateLineWidths.schedule();else this._asyncUpdateLineWidths.cancel();if(B8&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const X=this._visibleLines.getStartLineNumber(),Q=this._visibleLines.getEndLineNumber();for(let Y=X;Y<=Q;Y++)if(this._visibleLines.getVisibleLine(Y).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const $=this._context.viewLayout.getCurrentScrollTop()-J.bigNumbersDelta;this._linesContent.setTop(-$),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(J){const $=Math.ceil(J);if(this._maxLineWidth<$)this._maxLineWidth=$,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth)}_computeScrollTopToRevealRange(J,$,X,Q,Y,Z){const{top:G,height:q}=J,U=G+q;let H,z,V;if(Y&&Y.length>0){let P=Y[0].startLineNumber,A=Y[0].endLineNumber;for(let D=1,R=Y.length;D<R;D++){const M=Y[D];P=Math.min(P,M.startLineNumber),A=Math.max(A,M.endLineNumber)}H=!1,z=this._context.viewLayout.getVerticalOffsetForLineNumber(P),V=this._context.viewLayout.getVerticalOffsetForLineNumber(A)+this._lineHeight}else if(Q)H=!0,z=this._context.viewLayout.getVerticalOffsetForLineNumber(Q.startLineNumber),V=this._context.viewLayout.getVerticalOffsetForLineNumber(Q.endLineNumber)+this._lineHeight;else return-1;const j=($==="mouse"||X)&&this._cursorSurroundingLinesStyle==="default";let W=0,B=0;if(!j){const P=Math.min(q/this._lineHeight/2,this._cursorSurroundingLines);if(this._stickyScrollEnabled)W=Math.max(P,this._maxNumberStickyLines)*this._lineHeight;else W=P*this._lineHeight;B=Math.max(0,P-1)*this._lineHeight}else if(!X)W=this._lineHeight;if(!X){if(Z===0||Z===4)B+=this._lineHeight}z-=W,V+=B;let K;if(V-z>q){if(!H)return-1;K=z}else if(Z===5||Z===6)if(Z===6&&G<=z&&V<=U)K=G;else{const P=Math.max(5*this._lineHeight,q*0.2),A=z-P,D=V-q;K=Math.max(D,A)}else if(Z===1||Z===2)if(Z===2&&G<=z&&V<=U)K=G;else{const P=(z+V)/2;K=Math.max(0,P-q/2)}else K=this._computeMinimumScrolling(G,U,z,V,Z===3,Z===4);return K}_computeScrollLeftToReveal(J){const $=this._context.viewLayout.getCurrentViewport(),X=this._context.configuration.options.get(143),Q=$.left,Y=Q+$.width-X.verticalScrollbarWidth;let Z=1073741824,G=0;if(J.type==="range"){const U=this._visibleRangesForLineRange(J.lineNumber,J.startColumn,J.endColumn);if(!U)return null;for(let H of U.ranges)Z=Math.min(Z,Math.round(H.left)),G=Math.max(G,Math.round(H.left+H.width))}else for(let U of J.selections){if(U.startLineNumber!==U.endLineNumber)return null;const H=this._visibleRangesForLineRange(U.startLineNumber,U.startColumn,U.endColumn);if(!H)return null;for(let z of H.ranges)Z=Math.min(Z,Math.round(z.left)),G=Math.max(G,Math.round(z.left+z.width))}if(!J.minimalReveal)Z=Math.max(0,Z-uz.HORIZONTAL_EXTRA_PX),G+=this._revealHorizontalRightPadding;if(J.type==="selections"&&G-Z>$.width)return null;return{scrollLeft:this._computeMinimumScrolling(Q,Y,Z,G),maxHorizontalOffset:G}}_computeMinimumScrolling(J,$,X,Q,Y,Z){J=J|0,$=$|0,X=X|0,Q=Q|0,Y=!!Y,Z=!!Z;const G=$-J;if(Q-X<G){if(Y)return X;if(Z)return Math.max(0,Q-G);if(X<J)return X;else if(Q>$)return Math.max(0,Q-G)}else return X;return J}}var em=N(()=>{YA();u1();O1();rm();BJ();tq();FA();m7();im();ON();U1();c0();uz.HORIZONTAL_EXTRA_PX=30});var Ju=N(()=>{q1();V0(".monaco-editor .lines-decorations{background:#fff;position:absolute;top:0}.monaco-editor .margin-view-overlays .cldr{height:100%;position:absolute}")});class E_ extends hz{constructor(J){super();this._context=J;const X=this._context.configuration.options.get(143);this._decorationsLeft=X.decorationsLeft,this._decorationsWidth=X.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._decorationsLeft=X.decorationsLeft,this._decorationsWidth=X.decorationsWidth,!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){var $,X;const Q=J.getDecorationsInViewport(),Y=[];let Z=0;for(let G=0,q=Q.length;G<q;G++){const U=Q[G],H=U.options.linesDecorationsClassName,z=U.options.zIndex;if(H)Y[Z++]=new z3(U.range.startLineNumber,U.range.endLineNumber,H,($=U.options.linesDecorationsTooltip)!==null&&$!==void 0?$:null,z);const V=U.options.firstLineDecorationClassName;if(V)Y[Z++]=new z3(U.range.startLineNumber,U.range.startLineNumber,V,(X=U.options.linesDecorationsTooltip)!==null&&X!==void 0?X:null,z)}return Y}prepareRender(J){const $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Q=this._render($,X,this._getDecorations(J)),Y=this._decorationsLeft.toString(),Z=this._decorationsWidth.toString(),G='" style="left:'+Y+"px;width:"+Z+'px;"></div>',q=[];for(let U=$;U<=X;U++){const H=U-$,z=Q[H].getDecorations();let V="";for(let j of z){let W='<div class="cldr '+j.className;if(j.tooltip!==null)W+='" title="'+j.tooltip;W+=G,V+=W}q[H]=V}this._renderResult=q}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}var $u=N(()=>{Ju();KA()});var Xu=N(()=>{q1();V0(".monaco-editor .margin-view-overlays .cmdr{width:100%;height:100%;position:absolute;left:0}")});class k_ extends hz{constructor(J){super();this._context=J,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_getDecorations(J){const $=J.getDecorationsInViewport(),X=[];let Q=0;for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=G.options.marginClassName,U=G.options.zIndex;if(q)X[Q++]=new z3(G.range.startLineNumber,G.range.endLineNumber,q,null,U)}return X}prepareRender(J){const $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber,Q=this._render($,X,this._getDecorations(J)),Y=[];for(let Z=$;Z<=X;Z++){const G=Z-$,q=Q[G].getDecorations();let U="";for(let H of q)U+='<div class="cmdr '+H.className+'" style=""></div>';Y[G]=U}this._renderResult=Y}render(J,$){if(!this._renderResult)return"";return this._renderResult[$-J]}}var Qu=N(()=>{Xu();KA()});var Yu=N(()=>{q1();V0(".monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover:hover .minimap-slider,.monaco-editor .minimap.slider-mouseover .minimap-slider.active{opacity:1}.monaco-editor .minimap-slider .minimap-slider-horizontal{background:var(--vscode-minimapSlider-background)}.monaco-editor .minimap-slider:hover .minimap-slider-horizontal{background:var(--vscode-minimapSlider-hoverBackground)}.monaco-editor .minimap-slider.active .minimap-slider-horizontal{background:var(--vscode-minimapSlider-activeBackground)}.monaco-editor .minimap-shadow-visible{box-shadow:var(--vscode-scrollbar-shadow)-6px 0 6px -6px inset}.monaco-editor .minimap-shadow-hidden{width:0;position:absolute}.monaco-editor .minimap-shadow-visible{width:6px;position:absolute;left:-6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{width:1px;position:absolute;left:-1px}.minimap.autohide{opacity:0;transition:opacity .5s}.minimap.autohide:hover{opacity:1}.monaco-editor .minimap{z-index:5}")});class i5{constructor(J,$,X,Q){this._rgba8Brand=void 0,this.r=i5._clamp(J),this.g=i5._clamp($),this.b=i5._clamp(X),this.a=i5._clamp(Q)}equals(J){return this.r===J.r&&this.g===J.g&&this.b===J.b&&this.a===J.a}static _clamp(J){if(J<0)return 0;if(J>255)return 255;return J|0}}var I_=N(()=>{i5.Empty=new i5(0,0,0,0)});class gG extends f{static getInstance(){if(!this._INSTANCE)this._INSTANCE=yZ(new gG);return this._INSTANCE}constructor(){super();this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(c1.onDidChange((J)=>{if(J.changedColorMap)this._updateColorMap()}))}_updateColorMap(){const J=c1.getColorMap();if(!J){this._colors=[i5.Empty],this._backgroundIsLight=!0;return}this._colors=[i5.Empty];for(let X=1;X<J.length;X++){const Q=J[X].rgba;this._colors[X]=new i5(Q.r,Q.g,Q.b,Math.round(Q.a*255))}const $=J[2].getRelativeLuminance();this._backgroundIsLight=$>=0.5,this._onDidChange.fire(void 0)}getColor(J){if(J<1||J>=this._colors.length)J=2;return this._colors[J]}backgroundIsLight(){return this._backgroundIsLight}}var y_=N(()=>{F0();X0();I_();M7();gG._INSTANCE=null});var Zu,Gu;var S_=N(()=>{Zu=(()=>{const J=[];for(let $=32;$<=126;$++)J.push($);return J.push(65533),J})(),Gu=(J,$)=>{if(J-=32,J<0||J>96){if($<=2)return(J+96)%96;return 95}return J}});class j3{constructor(J,$){this.scale=$,this._minimapCharRendererBrand=void 0,this.charDataNormal=j3.soften(J,0.8),this.charDataLight=j3.soften(J,0.8333333333333334)}static soften(J,$){const X=new Uint8ClampedArray(J.length);for(let Q=0,Y=J.length;Q<Y;Q++)X[Q]=VG(J[Q]*$);return X}renderChar(J,$,X,Q,Y,Z,G,q,U,H,z){const V=1*this.scale,j=2*this.scale,W=z?1:j;if($+V>J.width||X+W>J.height){console.warn("bad render request outside image data");return}const B=H?this.charDataLight:this.charDataNormal,K=Gu(Q,U),P=J.width*4,A=G.r,D=G.g,R=G.b,M=Y.r-A,O=Y.g-D,_=Y.b-R,w=Math.max(Z,q),C=J.data;let x=K*V*j,g=X*P+$*4;for(let c=0;c<W;c++){let b=g;for(let u=0;u<V;u++){const i=B[x++]/255*(Z/255);C[b++]=A+M*i,C[b++]=D+O*i,C[b++]=R+_*i,C[b++]=w}g+=P}}blockRenderChar(J,$,X,Q,Y,Z,G,q){const U=1*this.scale,H=2*this.scale,z=q?1:H;if($+U>J.width||X+z>J.height){console.warn("bad render request outside image data");return}const V=J.width*4,j=0.5*(Y/255),W=Z.r,B=Z.g,K=Z.b,P=Q.r-W,A=Q.g-B,D=Q.b-K,R=W+P*j,M=B+A*j,O=K+D*j,_=Math.max(Y,G),w=J.data;let C=X*V+$*4;for(let x=0;x<z;x++){let g=C;for(let c=0;c<U;c++)w[g++]=R,w[g++]=M,w[g++]=O,w[g++]=_;C+=V}}}var qu=N(()=>{S_();iH()});var Uu,Hu,C_;var zu=N(()=>{d2();Uu={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},Hu=(J)=>{const $=new Uint8ClampedArray(J.length/2);for(let X=0;X<J.length;X+=2)$[X>>1]=Uu[J[X]]<<4|Uu[J[X+1]]&15;return $},C_={1:$4(()=>Hu("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:$4(()=>Hu("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}});class W3{static create(J,$){if(this.lastCreated&&J===this.lastCreated.scale&&$===this.lastFontFamily)return this.lastCreated;let X;if(C_[J])X=new j3(C_[J](),J);else X=W3.createFromSampleData(W3.createSampleData($).data,J);return this.lastFontFamily=$,this.lastCreated=X,X}static createSampleData(J){const $=document.createElement("canvas"),X=$.getContext("2d");$.style.height="16px",$.height=16,$.width=960,$.style.width=960+"px",X.fillStyle="#ffffff",X.font=`bold 16px ${J}`,X.textBaseline="middle";let Q=0;for(let Y of Zu)X.fillText(String.fromCharCode(Y),Q,8),Q+=10;return X.getImageData(0,0,960,16)}static createFromSampleData(J,$){if(J.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const Q=W3._downsample(J,$);return new j3(Q,$)}static _downsampleChar(J,$,X,Q,Y){const Z=1*Y,G=2*Y;let q=Q,U=0;for(let H=0;H<G;H++){const z=H/G*16,V=(H+1)/G*16;for(let j=0;j<Z;j++){const W=j/Z*10,B=(j+1)/Z*10;let K=0,P=0;for(let D=z;D<V;D++){const R=$+Math.floor(D)*3840,M=1-(D-Math.floor(D));for(let O=W;O<B;O++){const _=1-(O-Math.floor(O)),w=R+Math.floor(O)*4,C=_*M;P+=C,K+=J[w]*J[w+3]/255*C}}const A=K/P;U=Math.max(U,A),X[q++]=VG(A)}}return U}static _downsample(J,$){const X=2*$*1*$,Q=X*96,Y=new Uint8ClampedArray(Q);let Z=0,G=0,q=0;for(let U=0;U<96;U++)q=Math.max(q,this._downsampleChar(J,G,Y,Z,$)),Z+=X,G+=40;if(q>0){const U=255/q;for(let H=0;H<Q;H++)Y[H]*=U}return Y}}var Vu=N(()=>{qu();S_();zu();iH()});class lz{constructor(J,$,X){const Q=J.options,Y=Q.get(141),Z=Q.get(143),G=Z.minimap,q=Q.get(50),U=Q.get(72);this.renderMinimap=G.renderMinimap,this.size=U.size,this.minimapHeightIsEditorHeight=G.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=Q.get(104),this.paddingTop=Q.get(83).top,this.paddingBottom=Q.get(83).bottom,this.showSlider=U.showSlider,this.autohide=U.autohide,this.pixelRatio=Y,this.typicalHalfwidthCharacterWidth=q.typicalHalfwidthCharacterWidth,this.lineHeight=Q.get(66),this.minimapLeft=G.minimapLeft,this.minimapWidth=G.minimapWidth,this.minimapHeight=Z.height,this.canvasInnerWidth=G.minimapCanvasInnerWidth,this.canvasInnerHeight=G.minimapCanvasInnerHeight,this.canvasOuterWidth=G.minimapCanvasOuterWidth,this.canvasOuterHeight=G.minimapCanvasOuterHeight,this.isSampling=G.minimapIsSampling,this.editorHeight=Z.height,this.fontScale=G.minimapScale,this.minimapLineHeight=G.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=$4(()=>W3.create(this.fontScale,q.fontFamily)),this.defaultBackgroundColor=X.getColor(2),this.backgroundColor=lz._getMinimapBackground($,this.defaultBackgroundColor),this.foregroundAlpha=lz._getMinimapForegroundOpacity($)}static _getMinimapBackground(J,$){const X=J.getColor(dg);if(X)return new i5(X.rgba.r,X.rgba.g,X.rgba.b,Math.round(255*X.rgba.a));return $}static _getMinimapForegroundOpacity(J){const $=J.getColor(sg);if($)return i5._clamp(Math.round(255*$.rgba.a));return 255}equals(J){return this.renderMinimap===J.renderMinimap&&this.size===J.size&&this.minimapHeightIsEditorHeight===J.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===J.scrollBeyondLastLine&&this.paddingTop===J.paddingTop&&this.paddingBottom===J.paddingBottom&&this.showSlider===J.showSlider&&this.autohide===J.autohide&&this.pixelRatio===J.pixelRatio&&this.typicalHalfwidthCharacterWidth===J.typicalHalfwidthCharacterWidth&&this.lineHeight===J.lineHeight&&this.minimapLeft===J.minimapLeft&&this.minimapWidth===J.minimapWidth&&this.minimapHeight===J.minimapHeight&&this.canvasInnerWidth===J.canvasInnerWidth&&this.canvasInnerHeight===J.canvasInnerHeight&&this.canvasOuterWidth===J.canvasOuterWidth&&this.canvasOuterHeight===J.canvasOuterHeight&&this.isSampling===J.isSampling&&this.editorHeight===J.editorHeight&&this.fontScale===J.fontScale&&this.minimapLineHeight===J.minimapLineHeight&&this.minimapCharWidth===J.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(J.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(J.backgroundColor)&&this.foregroundAlpha===J.foregroundAlpha}}class cz{constructor(J,$,X,Q,Y,Z,G,q,U){this.scrollTop=J,this.scrollHeight=$,this.sliderNeeded=X,this._computedSliderRatio=Q,this.sliderTop=Y,this.sliderHeight=Z,this.topPaddingLineCount=G,this.startLineNumber=q,this.endLineNumber=U}getDesiredScrollTopFromDelta(J){return Math.round(this.scrollTop+J/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(J){return Math.round((J-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(J){const $=Math.max(this.startLineNumber,J.startLineNumber),X=Math.min(this.endLineNumber,J.endLineNumber);if($>X)return null;return[$,X]}getYForLineNumber(J,$){return+(J-this.startLineNumber+this.topPaddingLineCount)*$}static create(J,$,X,Q,Y,Z,G,q,U,H,z){const{pixelRatio:V,minimapLineHeight:j}=J,W=Math.floor(J.canvasInnerHeight/j),B=J.lineHeight;if(J.minimapHeightIsEditorHeight){let O=q*J.lineHeight+J.paddingTop+J.paddingBottom;if(J.scrollBeyondLastLine)O+=Math.max(0,Y-J.lineHeight-J.paddingBottom);const _=Math.max(1,Math.floor(Y*Y/O)),w=Math.max(0,J.minimapHeight-_),C=w/(H-Y),x=U*C,g=w>0,c=Math.floor(J.canvasInnerHeight/J.minimapLineHeight),b=Math.floor(J.paddingTop/J.lineHeight);return new cz(U,H,g,C,x,_,b,1,Math.min(G,c))}let K;if(Z&&X!==G){const O=X-$+1;K=Math.floor(O*j/V)}else{const O=Y/B;K=Math.floor(O*j/V)}const P=Math.floor(J.paddingTop/B);let A=Math.floor(J.paddingBottom/B);if(J.scrollBeyondLastLine){const O=Y/B;A=Math.max(A,O-1)}let D;if(A>0){const O=Y/B;D=(P+G+A-O-1)*j/V}else D=Math.max(0,(P+G)*j/V-K);D=Math.min(J.minimapHeight-K,D);const R=D/(H-Y),M=U*R;if(W>=P+G+A){const O=D>0;return new cz(U,H,O,R,M,K,P,1,G)}else{let O;if($>1)O=$+P;else O=Math.max(1,U/B);let _,w=Math.max(1,Math.floor(O-M*V/j));if(w<P)_=P-w+1,w=1;else _=0,w=Math.max(1,w-P);if(z&&z.scrollHeight===H){if(z.scrollTop>U)w=Math.min(w,z.startLineNumber),_=Math.max(_,z.topPaddingLineCount);if(z.scrollTop<U)w=Math.max(w,z.startLineNumber),_=Math.min(_,z.topPaddingLineCount)}const C=Math.min(G,w-_+W-1),x=(U-Q)/B;let g;if(U>=J.paddingTop)g=($-w+_+x)*j/V;else g=U/J.paddingTop*(_+x)*j/V;return new cz(U,H,!0,R,g,K,_,w,C)}}}class dz{constructor(J){this.dy=J}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}class x_{constructor(J,$,X){this.renderedLayout=J,this._imageData=$,this._renderedLines=new BA(()=>dz.INVALID),this._renderedLines._set(J.startLineNumber,X)}linesEquals(J){if(!this.scrollEquals(J))return!1;const X=this._renderedLines._get().lines;for(let Q=0,Y=X.length;Q<Y;Q++)if(X[Q].dy===-1)return!1;return!0}scrollEquals(J){return this.renderedLayout.startLineNumber===J.startLineNumber&&this.renderedLayout.endLineNumber===J.endLineNumber}_get(){const J=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:J.rendLineNumberStart,lines:J.lines}}onLinesChanged(J,$){return this._renderedLines.onLinesChanged(J,$)}onLinesDeleted(J,$){this._renderedLines.onLinesDeleted(J,$)}onLinesInserted(J,$){this._renderedLines.onLinesInserted(J,$)}onTokensChanged(J){return this._renderedLines.onTokensChanged(J)}}class v_{constructor(J,$,X,Q){this._backgroundFillData=v_._createBackgroundFillData($,X,Q),this._buffers=[J.createImageData($,X),J.createImageData($,X)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const J=this._buffers[this._lastUsedBuffer];return J.data.set(this._backgroundFillData),J}static _createBackgroundFillData(J,$,X){const{r:Q,g:Y,b:Z,a:G}=X,q=new Uint8ClampedArray(J*$*4);let U=0;for(let H=0;H<$;H++)for(let z=0;z<J;z++)q[U]=Q,q[U+1]=Y,q[U+2]=Z,q[U+3]=G,U+=4;return q}}class sz{static compute(J,$,X){if(J.renderMinimap===0||!J.isSampling)return[null,[]];const{minimapLineCount:Q}=wZ.computeContainedMinimapLineCount({viewLineCount:$,scrollBeyondLastLine:J.scrollBeyondLastLine,paddingTop:J.paddingTop,paddingBottom:J.paddingBottom,height:J.editorHeight,lineHeight:J.lineHeight,pixelRatio:J.pixelRatio}),Y=$/Q,Z=Y/2;if(!X||X.minimapLines.length===0){const K=[];if(K[0]=1,Q>1){for(let P=0,A=Q-1;P<A;P++)K[P]=Math.round(P*Y+Z);K[Q-1]=$}return[new sz(Y,K),[]]}const G=X.minimapLines,q=G.length,U=[];let H=0,z=0,V=1;const j=10;let W=[],B=null;for(let K=0;K<Q;K++){const P=Math.max(V,Math.round(K*Y)),A=Math.max(P,Math.round((K+1)*Y));while(H<q&&G[H]<P){if(W.length<j){const R=H+1+z;if(B&&B.type==="deleted"&&B._oldIndex===H-1)B.deleteToLineNumber++;else B={type:"deleted",_oldIndex:H,deleteFromLineNumber:R,deleteToLineNumber:R},W.push(B);z--}H++}let D;if(H<q&&G[H]<=A)D=G[H],H++;else{if(K===0)D=1;else if(K+1===Q)D=$;else D=Math.round(K*Y+Z);if(W.length<j){const R=H+1+z;if(B&&B.type==="inserted"&&B._i===K-1)B.insertToLineNumber++;else B={type:"inserted",_i:K,insertFromLineNumber:R,insertToLineNumber:R},W.push(B);z++}}U[K]=D,V=D}if(W.length<j)while(H<q){const K=H+1+z;if(B&&B.type==="deleted"&&B._oldIndex===H-1)B.deleteToLineNumber++;else B={type:"deleted",_oldIndex:H,deleteFromLineNumber:K,deleteToLineNumber:K},W.push(B);z--,H++}else W=[{type:"flush"}];return[new sz(Y,U),W]}constructor(J,$){this.samplingRatio=J,this.minimapLines=$}modelLineToMinimapLine(J){return Math.min(this.minimapLines.length,Math.max(1,Math.round(J/this.samplingRatio)))}modelLineRangeToMinimapLineRange(J,$){let X=this.modelLineToMinimapLine(J)-1;while(X>0&&this.minimapLines[X-1]>=J)X--;let Q=this.modelLineToMinimapLine($)-1;while(Q+1<this.minimapLines.length&&this.minimapLines[Q+1]<=$)Q++;if(X===Q){const Y=this.minimapLines[X];if(Y<J||Y>$)return null}return[X+1,Q+1]}decorationLineRangeToMinimapLineRange(J,$){let X=this.modelLineToMinimapLine(J),Q=this.modelLineToMinimapLine($);if(J!==$&&Q===X)if(Q===this.minimapLines.length){if(X>1)X--}else Q++;return[X,Q]}onLinesDeleted(J){const $=J.toLineNumber-J.fromLineNumber+1;let X=this.minimapLines.length,Q=0;for(let Y=this.minimapLines.length-1;Y>=0;Y--){if(this.minimapLines[Y]<J.fromLineNumber)break;if(this.minimapLines[Y]<=J.toLineNumber)this.minimapLines[Y]=Math.max(1,J.fromLineNumber-1),X=Math.min(X,Y),Q=Math.max(Q,Y);else this.minimapLines[Y]-=$}return[X,Q]}onLinesInserted(J){const $=J.toLineNumber-J.fromLineNumber+1;for(let X=this.minimapLines.length-1;X>=0;X--){if(this.minimapLines[X]<J.fromLineNumber)break;this.minimapLines[X]+=$}}}class f_ extends K8{constructor(J){super(J);this.tokensColorTracker=gG.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new lz(this._context.configuration,this._context.theme,this.tokensColorTracker);const[$]=sz.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=$,this._shouldCheckSampling=!1,this._actual=new DA(J.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const J=new lz(this._context.configuration,this._context.theme,this.tokensColorTracker);if(this.options.equals(J))return!1;return this.options=J,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0}onConfigurationChanged(J){return this._onOptionsMaybeChanged()}onCursorStateChanged(J){return this._selections=J.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(J){if(J.affectsMinimap)return this._actual.onDecorationsChanged();return!1}onFlushed(J){if(this._samplingState)this._shouldCheckSampling=!0;return this._actual.onFlushed()}onLinesChanged(J){if(this._samplingState){const $=this._samplingState.modelLineRangeToMinimapLineRange(J.fromLineNumber,J.fromLineNumber+J.count-1);if($)return this._actual.onLinesChanged($[0],$[1]-$[0]+1);else return!1}else return this._actual.onLinesChanged(J.fromLineNumber,J.count)}onLinesDeleted(J){if(this._samplingState){const[$,X]=this._samplingState.onLinesDeleted(J);if($<=X)this._actual.onLinesChanged($+1,X-$+1);return this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(J.fromLineNumber,J.toLineNumber)}onLinesInserted(J){if(this._samplingState)return this._samplingState.onLinesInserted(J),this._shouldCheckSampling=!0,!0;else return this._actual.onLinesInserted(J.fromLineNumber,J.toLineNumber)}onScrollChanged(J){return this._actual.onScrollChanged()}onThemeChanged(J){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(J){if(this._samplingState){const $=[];for(let X of J.ranges){const Q=this._samplingState.modelLineRangeToMinimapLineRange(X.fromLineNumber,X.toLineNumber);if(Q)$.push({fromLineNumber:Q[0],toLineNumber:Q[1]})}if($.length)return this._actual.onTokensChanged($);else return!1}else return this._actual.onTokensChanged(J.ranges)}onTokensColorsChanged(J){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(J){return this._actual.onZonesChanged()}prepareRender(J){if(this._shouldCheckSampling)this._shouldCheckSampling=!1,this._recreateLineSampling()}render(J){let $=J.visibleRange.startLineNumber,X=J.visibleRange.endLineNumber;if(this._samplingState)$=this._samplingState.modelLineToMinimapLine($),X=this._samplingState.modelLineToMinimapLine(X);const Q={viewportContainsWhitespaceGaps:J.viewportData.whitespaceViewportData.length>0,scrollWidth:J.scrollWidth,scrollHeight:J.scrollHeight,viewportStartLineNumber:$,viewportEndLineNumber:X,viewportStartLineNumberVerticalOffset:J.getVerticalOffsetForLineNumber($),scrollTop:J.scrollTop,scrollLeft:J.scrollLeft,viewportWidth:J.viewportWidth,viewportHeight:J.viewportHeight};this._actual.render(Q)}_recreateLineSampling(){this._minimapSelections=null;const J=Boolean(this._samplingState),[$,X]=sz.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=$,J&&this._samplingState)for(let Q of X)switch(Q.type){case"deleted":this._actual.onLinesDeleted(Q.deleteFromLineNumber,Q.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(Q.insertFromLineNumber,Q.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){if(this._samplingState)return this._samplingState.minimapLines.length;return this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(J){if(this._samplingState)return this._context.viewModel.getLineContent(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineContent(J)}getLineMaxColumn(J){if(this._samplingState)return this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[J-1]);return this._context.viewModel.getLineMaxColumn(J)}getMinimapLinesRenderingData(J,$,X){if(this._samplingState){const Q=[];for(let Y=0,Z=$-J+1;Y<Z;Y++)if(X[Y])Q[Y]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[J+Y-1]);else Q[Y]=null;return Q}return this._context.viewModel.getMinimapLinesRenderingData(J,$,X).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(let J of this._selections){const[$,X]=this._samplingState.decorationLineRangeToMinimapLineRange(J.startLineNumber,J.endLineNumber);this._minimapSelections.push(new b0($,J.startColumn,X,J.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(J,$){let X;if(this._samplingState){const Y=this._samplingState.minimapLines[J-1],Z=this._samplingState.minimapLines[$-1];X=new L(Y,1,Z,this._context.viewModel.getLineMaxColumn(Z))}else X=new L(J,1,$,this._context.viewModel.getLineMaxColumn($));const Q=this._context.viewModel.getMinimapDecorationsInRange(X);if(this._samplingState){const Y=[];for(let Z of Q){if(!Z.options.minimap)continue;const G=Z.range,q=this._samplingState.modelLineToMinimapLine(G.startLineNumber),U=this._samplingState.modelLineToMinimapLine(G.endLineNumber);Y.push(new Kz(new L(q,G.startColumn,U,G.endColumn),Z.options))}return Y}return Q}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(J){if(this._samplingState)J=this._samplingState.minimapLines[J-1];this._context.viewModel.revealRange("mouse",!1,new L(J,1,J,1),1,0)}setScrollTop(J){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:J},1)}}class DA extends f{constructor(J,$){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=J,this._model=$,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(WN),this._domNode=t0(document.createElement("div")),Z7.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=t0(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=t0(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=t0(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=t0(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=t0(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=i1(this._domNode.domNode,$0.POINTER_DOWN,(X)=>{if(X.preventDefault(),this._model.options.renderMinimap===0)return;if(!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(X.button===0&&this._lastRenderData){const U=M6(this._slider.domNode),H=U.top+U.height/2;this._startSliderDragging(X,H,this._lastRenderData.renderedLayout)}return}const Y=this._model.options.minimapLineHeight,Z=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*X.offsetY;let q=Math.floor(Z/Y)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;q=Math.min(q,this._model.getLineCount()),this._model.revealLineNumber(q)}),this._sliderPointerMoveMonitor=new dX,this._sliderPointerDownListener=i1(this._slider.domNode,$0.POINTER_DOWN,(X)=>{if(X.preventDefault(),X.stopPropagation(),X.button===0&&this._lastRenderData)this._startSliderDragging(X,X.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=w1.addTarget(this._domNode.domNode),this._sliderTouchStartListener=m(this._domNode.domNode,I1.Start,(X)=>{if(X.preventDefault(),X.stopPropagation(),this._lastRenderData)this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(X)},{passive:!1}),this._sliderTouchMoveListener=m(this._domNode.domNode,I1.Change,(X)=>{if(X.preventDefault(),X.stopPropagation(),this._lastRenderData&&this._gestureInProgress)this.scrollDueToTouchEvent(X)},{passive:!1}),this._sliderTouchEndListener=i1(this._domNode.domNode,I1.End,(X)=>{X.preventDefault(),X.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(J,$,X){if(!J.target||!(J.target instanceof Element))return;const Q=J.pageX;this._slider.toggleClassName("active",!0);const Y=(Z,G)=>{const q=M6(this._domNode.domNode),U=Math.min(Math.abs(G-Q),Math.abs(G-q.left),Math.abs(G-q.left-q.width));if(k8&&U>Y50){this._model.setScrollTop(X.scrollTop);return}const H=Z-$;this._model.setScrollTop(X.getDesiredScrollTopFromDelta(H))};if(J.pageY!==$)Y(J.pageY,Q);this._sliderPointerMoveMonitor.startMonitoring(J.target,J.pointerId,J.buttons,(Z)=>Y(Z.pageY,Z.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(J){const $=this._domNode.domNode.getBoundingClientRect().top,X=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(J.pageY-$);this._model.setScrollTop(X)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const J=["minimap"];if(this._model.options.showSlider==="always")J.push("slider-always");else J.push("slider-mouseover");if(this._model.options.autohide)J.push("autohide");return J.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){if(!this._buffers){if(this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0)this._buffers=new v_(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)}return this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(J,$){if(this._lastRenderData)return this._lastRenderData.onLinesChanged(J,$);return!1}onLinesDeleted(J,$){var X;return(X=this._lastRenderData)===null||X===void 0||X.onLinesDeleted(J,$),!0}onLinesInserted(J,$){var X;return(X=this._lastRenderData)===null||X===void 0||X.onLinesInserted(J,$),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(WN),this._renderDecorations=!0,!0}onTokensChanged(J){if(this._lastRenderData)return this._lastRenderData.onTokensChanged(J);return!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(J){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}if(J.scrollLeft+J.viewportWidth>=J.scrollWidth)this._shadow.setClassName("minimap-shadow-hidden");else this._shadow.setClassName("minimap-shadow-visible");const X=cz.create(this._model.options,J.viewportStartLineNumber,J.viewportEndLineNumber,J.viewportStartLineNumberVerticalOffset,J.viewportHeight,J.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),J.scrollTop,J.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(X.sliderNeeded?"block":"none"),this._slider.setTop(X.sliderTop),this._slider.setHeight(X.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(X.sliderHeight),this.renderDecorations(X),this._lastRenderData=this.renderLines(X)}renderDecorations(J){if(this._renderDecorations){this._renderDecorations=!1;const $=this._model.getSelections();$.sort(L.compareRangesUsingStarts);const X=this._model.getMinimapDecorationsInViewport(J.startLineNumber,J.endLineNumber);X.sort((V,j)=>(V.options.zIndex||0)-(j.options.zIndex||0));const{canvasInnerWidth:Q,canvasInnerHeight:Y}=this._model.options,Z=this._model.options.minimapLineHeight,G=this._model.options.minimapCharWidth,q=this._model.getOptions().tabSize,U=this._decorationsCanvas.domNode.getContext("2d");U.clearRect(0,0,Q,Y);const H=new b_(J.startLineNumber,J.endLineNumber,!1);this._renderSelectionLineHighlights(U,$,H,J,Z),this._renderDecorationsLineHighlights(U,X,H,J,Z);const z=new b_(J.startLineNumber,J.endLineNumber,null);this._renderSelectionsHighlights(U,$,z,J,Z,q,G,Q),this._renderDecorationsHighlights(U,X,z,J,Z,q,G,Q)}}_renderSelectionLineHighlights(J,$,X,Q,Y){if(!this._selectionColor||this._selectionColor.isTransparent())return;J.fillStyle=this._selectionColor.transparent(0.5).toString();let Z=0,G=0;for(let q of $){const U=Q.intersectWithViewport(q);if(!U)continue;const[H,z]=U;for(let W=H;W<=z;W++)X.set(W,!0);const V=Q.getYForLineNumber(H,Y),j=Q.getYForLineNumber(z,Y);if(G>=V)G=j;else{if(G>Z)J.fillRect(FX,Z,J.canvas.width,G-Z);Z=V,G=j}}if(G>Z)J.fillRect(FX,Z,J.canvas.width,G-Z)}_renderDecorationsLineHighlights(J,$,X,Q,Y){const Z=new Map;for(let G=$.length-1;G>=0;G--){const q=$[G],U=q.options.minimap;if(!U||U.position!==LJ.Inline)continue;const H=Q.intersectWithViewport(q.range);if(!H)continue;const[z,V]=H,j=U.getColor(this._theme.value);if(!j||j.isTransparent())continue;let W=Z.get(j.toString());if(!W)W=j.transparent(0.5).toString(),Z.set(j.toString(),W);J.fillStyle=W;for(let B=z;B<=V;B++){if(X.has(B))continue;X.set(B,!0);const K=Q.getYForLineNumber(z,Y);J.fillRect(FX,K,J.canvas.width,Y)}}}_renderSelectionsHighlights(J,$,X,Q,Y,Z,G,q){if(!this._selectionColor||this._selectionColor.isTransparent())return;for(let U of $){const H=Q.intersectWithViewport(U);if(!H)continue;const[z,V]=H;for(let j=z;j<=V;j++)this.renderDecorationOnLine(J,X,U,this._selectionColor,Q,j,Y,Y,Z,G,q)}}_renderDecorationsHighlights(J,$,X,Q,Y,Z,G,q){for(let U of $){const H=U.options.minimap;if(!H)continue;const z=Q.intersectWithViewport(U.range);if(!z)continue;const[V,j]=z,W=H.getColor(this._theme.value);if(!W||W.isTransparent())continue;for(let B=V;B<=j;B++)switch(H.position){case LJ.Inline:this.renderDecorationOnLine(J,X,U.range,W,Q,B,Y,Y,Z,G,q);continue;case LJ.Gutter:{const K=Q.getYForLineNumber(B,Y);this.renderDecoration(J,W,2,K,Z50,Y);continue}}}}renderDecorationOnLine(J,$,X,Q,Y,Z,G,q,U,H,z){const V=Y.getYForLineNumber(Z,q);if(V+G<0||V>this._model.options.canvasInnerHeight)return;const{startLineNumber:j,endLineNumber:W}=X,B=j===Z?X.startColumn:1,K=W===Z?X.endColumn:this._model.getLineMaxColumn(Z),P=this.getXOffsetForPosition($,Z,B,U,H,z),A=this.getXOffsetForPosition($,Z,K,U,H,z);this.renderDecoration(J,Q,P,V,A-P,G)}getXOffsetForPosition(J,$,X,Q,Y,Z){if(X===1)return FX;if((X-1)*Y>=Z)return Z;let q=J.get($);if(!q){const U=this._model.getLineContent($);q=[FX];let H=FX;for(let z=1;z<U.length+1;z++){const V=U.charCodeAt(z-1),j=V===9?Q*Y:L9(V)?2*Y:Y,W=H+j;if(W>=Z){q[z]=Z;break}q[z]=W,H=W}J.set($,q)}if(X-1<q.length)return q[X-1];return Z}renderDecoration(J,$,X,Q,Y,Z){J.fillStyle=$&&$.toString()||"",J.fillRect(X,Q,Y,Z)}renderLines(J){const{startLineNumber:$,endLineNumber:X}=J,Q=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(J)){const i=this._lastRenderData._get();return new x_(J,i.imageData,i.lines)}const Y=this._getBuffer();if(!Y)return null;const[Z,G,q]=DA._renderUntouchedLines(Y,J.topPaddingLineCount,$,X,Q,this._lastRenderData),U=this._model.getMinimapLinesRenderingData($,X,q),H=this._model.getOptions().tabSize,z=this._model.options.defaultBackgroundColor,V=this._model.options.backgroundColor,j=this._model.options.foregroundAlpha,W=this._model.tokensColorTracker,B=W.backgroundIsLight(),K=this._model.options.renderMinimap,P=this._model.options.charRenderer(),A=this._model.options.fontScale,D=this._model.options.minimapCharWidth,M=(K===1?2:3)*A,O=Q>M?Math.floor((Q-M)/2):0,_=V.a/255,w=new i5(Math.round((V.r-z.r)*_+z.r),Math.round((V.g-z.g)*_+z.g),Math.round((V.b-z.b)*_+z.b),255);let C=J.topPaddingLineCount*Q;const x=[];for(let i=0,Y0=X-$+1;i<Y0;i++){if(q[i])DA._renderLine(Y,w,V.a,B,K,D,W,j,P,C,O,H,U[i],A,Q);x[i]=new dz(C),C+=Q}const g=Z===-1?0:Z,b=(G===-1?Y.height:G)-g;return this._canvas.domNode.getContext("2d").putImageData(Y,0,0,0,g,Y.width,b),new x_(J,Y,x)}static _renderUntouchedLines(J,$,X,Q,Y,Z){const G=[];if(!Z){for(let C=0,x=Q-X+1;C<x;C++)G[C]=!0;return[-1,-1,G]}const q=Z._get(),U=q.imageData.data,H=q.rendLineNumberStart,z=q.lines,V=z.length,j=J.width,W=J.data,B=(Q-X+1)*Y*j*4;let K=-1,P=-1,A=-1,D=-1,R=-1,M=-1,O=$*Y;for(let C=X;C<=Q;C++){const x=C-X,g=C-H,c=g>=0&&g<V?z[g].dy:-1;if(c===-1){G[x]=!0,O+=Y;continue}const b=c*j*4,u=(c+Y)*j*4,i=O*j*4,Y0=(O+Y)*j*4;if(D===b&&M===i)D=u,M=Y0;else{if(A!==-1){if(W.set(U.subarray(A,D),R),K===-1&&A===0&&A===R)K=D;if(P===-1&&D===B&&A===R)P=A}A=b,D=u,R=i,M=Y0}G[x]=!1,O+=Y}if(A!==-1){if(W.set(U.subarray(A,D),R),K===-1&&A===0&&A===R)K=D;if(P===-1&&D===B&&A===R)P=A}const _=K===-1?-1:K/(j*4),w=P===-1?-1:P/(j*4);return[_,w,G]}static _renderLine(J,$,X,Q,Y,Z,G,q,U,H,z,V,j,W,B){const{content:K,tokens:P}=j,A=J.width-Z,D=B===1;let R=FX,M=0,O=0;for(let _=0,w=P.getCount();_<w;_++){const C=P.getEndOffset(_),x=P.getForeground(_),g=G.getColor(x);for(;M<C;M++){if(R>A)return;const c=K.charCodeAt(M);if(c===9){const b=V-(M+O)%V;O+=b-1,R+=b*Z}else if(c===32)R+=Z;else{const b=L9(c)?2:1;for(let u=0;u<b;u++){if(Y===2)U.blockRenderChar(J,R,H+z,g,q,$,X,D);else U.renderChar(J,R,H+z,c,g,q,$,X,W,Q,D);if(R+=Z,R>A)return}}}}}}class b_{constructor(J,$,X){this._startLineNumber=J,this._endLineNumber=$,this._defaultValue=X,this._values=[];for(let Q=0,Y=this._endLineNumber-this._startLineNumber+1;Q<Y;Q++)this._values[Q]=X}has(J){return this.get(J)!==this._defaultValue}set(J,$){if(J<this._startLineNumber||J>this._endLineNumber)return;this._values[J-this._startLineNumber]=$}get(J){if(J<this._startLineNumber||J>this._endLineNumber)return this._defaultValue;return this._values[J-this._startLineNumber]}}var Y50,Z50;var ju=N(()=>{Yu();D0();V6();Oz();X0();O1();o0();FA();m7();J7();c0();I_();y_();EJ();L7();S6();s9();Vu();g5();d2();Y50=140,Z50=2;dz.INVALID=new dz(-1)});var Wu=N(()=>{q1();V0(".monaco-editor .overlayWidgets{position:absolute;top:0;left:0}")});class h_ extends K8{constructor(J,$){super(J);this._viewDomNode=$;const Q=this._context.configuration.options.get(143);this._widgets={},this._verticalScrollbarWidth=Q.verticalScrollbarWidth,this._minimapWidth=Q.minimap.minimapWidth,this._horizontalScrollbarHeight=Q.horizontalScrollbarHeight,this._editorHeight=Q.height,this._editorWidth=Q.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=t0(document.createElement("div")),Z7.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=t0(document.createElement("div")),Z7.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(J){const X=this._context.configuration.options.get(143);return this._verticalScrollbarWidth=X.verticalScrollbarWidth,this._minimapWidth=X.minimap.minimapWidth,this._horizontalScrollbarHeight=X.horizontalScrollbarHeight,this._editorHeight=X.height,this._editorWidth=X.width,!0}addWidget(J){const $=t0(J.getDomNode());if(this._widgets[J.getId()]={widget:J,preference:null,domNode:$},$.setPosition("absolute"),$.setAttribute("widgetId",J.getId()),J.allowEditorOverflow)this.overflowingOverlayWidgetsDomNode.appendChild($);else this._domNode.appendChild($);this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(J,$){const X=this._widgets[J.getId()];if(X.preference===$)return this._updateMaxMinWidth(),!1;return X.preference=$,this.setShouldRender(),this._updateMaxMinWidth(),!0}removeWidget(J){const $=J.getId();if(this._widgets.hasOwnProperty($)){const Q=this._widgets[$].domNode.domNode;delete this._widgets[$],Q.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var J,$;let X=0;const Q=Object.keys(this._widgets);for(let Y=0,Z=Q.length;Y<Z;Y++){const G=Q[Y],U=($=(J=this._widgets[G].widget).getMinContentWidthInPx)===null||$===void 0?void 0:$.call(J);if(typeof U!=="undefined")X=Math.max(X,U)}this._context.viewLayout.setOverlayWidgetsMinWidth(X)}_renderWidget(J){const $=J.domNode;if(J.preference===null){$.setTop("");return}if(J.preference===0)$.setTop(0),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(J.preference===1){const X=$.domNode.clientHeight;$.setTop(this._editorHeight-X-2*this._horizontalScrollbarHeight),$.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(J.preference===2)$.setTop(0),$.domNode.style.right="50%";else{const{top:X,left:Q}=J.preference;if(this._context.configuration.options.get(42)&&J.widget.allowEditorOverflow){const Z=this._viewDomNodeRect;$.setTop(X+Z.top),$.setLeft(Q+Z.left),$.setPosition("fixed")}else $.setTop(X),$.setLeft(Q),$.setPosition("absolute")}}prepareRender(J){this._viewDomNodeRect=M6(this._viewDomNode.domNode)}render(J){this._domNode.setWidth(this._editorWidth);const $=Object.keys(this._widgets);for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];this._renderWidget(this._widgets[Y])}}}var Bu=N(()=>{Wu();V6();m7();D0()});class Fu{constructor(J,$){const X=J.options;this.lineHeight=X.get(66),this.pixelRatio=X.get(141),this.overviewRulerLanes=X.get(82),this.renderBorder=X.get(81);const Q=$.getColor(cp);this.borderColor=Q?Q.toString():null,this.hideCursor=X.get(59);const Y=$.getColor(oK);this.cursorColor=Y?Y.transparent(0.7).toString():null,this.themeType=$.type;const Z=X.get(72),G=Z.enabled,q=Z.side,U=$.getColor(lp),H=c1.getDefaultBackground();if(U)this.backgroundColor=U;else if(G&&q==="right")this.backgroundColor=H;else this.backgroundColor=null;const V=X.get(143).overviewRuler;if(this.top=V.top,this.right=V.right,this.domWidth=V.width,this.domHeight=V.height,this.overviewRulerLanes===0)this.canvasWidth=0,this.canvasHeight=0;else this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;const[j,W]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=j,this.w=W}_initLanes(J,$,X){const Q=$-J;if(X>=3){const Y=Math.floor(Q/3),Z=Math.floor(Q/3),G=Q-Y-Z,q=J,U=q+Y,H=q+Y+G;return[[0,q,U,q,H,q,U,q],[0,Y,G,Y+G,Z,Y+G+Z,G+Z,Y+G+Z]]}else if(X===2){const Y=Math.floor(Q/2),Z=Q-Y,G=J,q=G+Y;return[[0,G,G,G,q,G,G,G],[0,Y,Y,Y,Z,Y+Z,Y+Z,Y+Z]]}else{const Y=J,Z=Q;return[[0,Y,Y,Y,Y,Y,Y,Y],[0,Z,Z,Z,Z,Z,Z,Z]]}}equals(J){return this.lineHeight===J.lineHeight&&this.pixelRatio===J.pixelRatio&&this.overviewRulerLanes===J.overviewRulerLanes&&this.renderBorder===J.renderBorder&&this.borderColor===J.borderColor&&this.hideCursor===J.hideCursor&&this.cursorColor===J.cursorColor&&this.themeType===J.themeType&&l.equals(this.backgroundColor,J.backgroundColor)&&this.top===J.top&&this.right===J.right&&this.domWidth===J.domWidth&&this.domHeight===J.domHeight&&this.canvasWidth===J.canvasWidth&&this.canvasHeight===J.canvasHeight}}class g_ extends K8{constructor(J){super(J);this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=t0(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=c1.onDidChange(($)=>{if($.changedColorMap)this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(J){const $=new Fu(this._context.configuration,this._context.theme);if(this._settings&&this._settings.equals($))return!1;if(this._settings=$,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,J)this._render();return!0}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(J){this._cursorPositions=[];for(let $=0,X=J.selections.length;$<X;$++)this._cursorPositions[$]=J.selections[$].getPosition();return this._cursorPositions.sort(v.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(J){if(J.affectsOverviewRuler)return this._markRenderingIsMaybeNeeded();return!1}onFlushed(J){return this._markRenderingIsNeeded()}onScrollChanged(J){return J.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(J){return this._markRenderingIsNeeded()}onThemeChanged(J){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(J){}render(J){this._render(),this._actualShouldRender=0}_render(){const J=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(J?l.Format.CSS.formatHexA(J):""),this._domNode.setDisplay("none");return}const $=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if($.sort(MG.compareByRenderingProps),this._actualShouldRender===1&&!MG.equalsArr(this._renderedDecorations,$))this._actualShouldRender=2;if(this._actualShouldRender===1&&!Q8(this._renderedCursorPositions,this._cursorPositions,(W,B)=>W.lineNumber===B.lineNumber))this._actualShouldRender=2;if(this._actualShouldRender===1)return;this._renderedDecorations=$,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const X=this._settings.canvasWidth,Q=this._settings.canvasHeight,Y=this._settings.lineHeight,Z=this._context.viewLayout,G=this._context.viewLayout.getScrollHeight(),q=Q/G,U=6*this._settings.pixelRatio|0,H=U/2|0,z=this._domNode.domNode.getContext("2d");if(J)if(J.isOpaque())z.fillStyle=l.Format.CSS.formatHexA(J),z.fillRect(0,0,X,Q);else z.clearRect(0,0,X,Q),z.fillStyle=l.Format.CSS.formatHexA(J),z.fillRect(0,0,X,Q);else z.clearRect(0,0,X,Q);const V=this._settings.x,j=this._settings.w;for(let W of $){const{color:B,data:K}=W;z.fillStyle=B;let P=0,A=0,D=0;for(let R=0,M=K.length/3;R<M;R++){const O=K[3*R],_=K[3*R+1],w=K[3*R+2];let C=Z.getVerticalOffsetForLineNumber(_)*q|0,x=(Z.getVerticalOffsetForLineNumber(w)+Y)*q|0;if(x-C<U){let c=(C+x)/2|0;if(c<H)c=H;else if(c+H>Q)c=Q-H;C=c-H,x=c+H}if(C>D+1||O!==P){if(R!==0)z.fillRect(V[P],A,j[P],D-A);P=O,A=C,D=x}else if(x>D)D=x}z.fillRect(V[P],A,j[P],D-A)}if(!this._settings.hideCursor&&this._settings.cursorColor){const W=2*this._settings.pixelRatio|0,B=W/2|0,K=this._settings.x[7],P=this._settings.w[7];z.fillStyle=this._settings.cursorColor;let A=-100,D=-100;for(let R=0,M=this._cursorPositions.length;R<M;R++){const O=this._cursorPositions[R];let _=Z.getVerticalOffsetForLineNumber(O.lineNumber)*q|0;if(_<B)_=B;else if(_+B>Q)_=Q-B;const w=_-B,C=w+W;if(w>D+1){if(R!==0)z.fillRect(K,A,P,D-A);A=w,D=C}else if(C>D)D=C}z.fillRect(K,A,P,D-A)}if(this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0)z.beginPath(),z.lineWidth=1,z.strokeStyle=this._settings.borderColor,z.moveTo(0,0),z.lineTo(0,Q),z.stroke(),z.moveTo(0,0),z.lineTo(X,0),z.stroke()}}var Ku=N(()=>{V6();u5();m7();U1();M7();L4();EJ();H1()});class p_{constructor(J,$,X){this._colorZoneBrand=void 0,this.from=J|0,this.to=$|0,this.colorId=X|0}static compare(J,$){if(J.colorId===$.colorId){if(J.from===$.from)return J.to-$.to;return J.from-$.from}return J.colorId-$.colorId}}class RA{constructor(J,$,X,Q){this._overviewRulerZoneBrand=void 0,this.startLineNumber=J,this.endLineNumber=$,this.heightInLines=X,this.color=Q,this._colorZone=null}static compare(J,$){if(J.color===$.color){if(J.startLineNumber===$.startLineNumber){if(J.heightInLines===$.heightInLines)return J.endLineNumber-$.endLineNumber;return J.heightInLines-$.heightInLines}return J.startLineNumber-$.startLineNumber}return J.color<$.color?-1:1}setColorZone(J){this._colorZone=J}getColorZones(){return this._colorZone}}class m_{constructor(J){this._getVerticalOffsetForLine=J,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(J){this._zones=J,this._zones.sort(RA.compare)}setLineHeight(J){if(this._lineHeight===J)return!1;return this._lineHeight=J,this._colorZonesInvalid=!0,!0}setPixelRatio(J){this._pixelRatio=J,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(J){if(this._domWidth===J)return!1;return this._domWidth=J,this._colorZonesInvalid=!0,!0}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(J){if(this._domHeight===J)return!1;return this._domHeight=J,this._colorZonesInvalid=!0,!0}getOuterHeight(){return this._outerHeight}setOuterHeight(J){if(this._outerHeight===J)return!1;return this._outerHeight=J,this._colorZonesInvalid=!0,!0}resolveColorZones(){const J=this._colorZonesInvalid,$=Math.floor(this._lineHeight),X=Math.floor(this.getCanvasHeight()),Q=Math.floor(this._outerHeight),Y=X/Q,Z=Math.floor(4*this._pixelRatio/2),G=[];for(let q=0,U=this._zones.length;q<U;q++){const H=this._zones[q];if(!J){const R=H.getColorZones();if(R){G.push(R);continue}}const z=this._getVerticalOffsetForLine(H.startLineNumber),V=H.heightInLines===0?this._getVerticalOffsetForLine(H.endLineNumber)+$:z+H.heightInLines*$,j=Math.floor(Y*z),W=Math.floor(Y*V);let B=Math.floor((j+W)/2),K=W-B;if(K<Z)K=Z;if(B-K<0)B=K;if(B+K>X)B=X-K;const P=H.color;let A=this._color2Id[P];if(!A)A=++this._lastAssignedId,this._color2Id[P]=A,this._id2Color[A]=P;const D=new p_(B-K,B+K,A);H.setColorZone(D),G.push(D)}return this._colorZonesInvalid=!1,G.sort(p_.compare),G}}var u_=N(()=>{});class c_ extends N4{constructor(J,$){super();this._context=J;const X=this._context.configuration.options;this._domNode=t0(document.createElement("canvas")),this._domNode.setClassName($),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new m_((Q)=>this._context.viewLayout.getVerticalOffsetForLineNumber(Q)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(X.get(66)),this._zoneManager.setPixelRatio(X.get(141)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;if(J.hasChanged(66))this._zoneManager.setLineHeight($.get(66)),this._render();if(J.hasChanged(141))this._zoneManager.setPixelRatio($.get(141)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render();return!0}onFlushed(J){return this._render(),!0}onScrollChanged(J){if(J.scrollHeightChanged)this._zoneManager.setOuterHeight(J.scrollHeight),this._render();return!0}onZonesChanged(J){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(J){this._domNode.setTop(J.top),this._domNode.setRight(J.right);let $=!1;if($=this._zoneManager.setDOMWidth(J.width)||$,$=this._zoneManager.setDOMHeight(J.height)||$,$)this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()}setZones(J){this._zoneManager.setZones(J),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const J=this._zoneManager.getCanvasWidth(),$=this._zoneManager.getCanvasHeight(),X=this._zoneManager.resolveColorZones(),Q=this._zoneManager.getId2Color(),Y=this._domNode.domNode.getContext("2d");if(Y.clearRect(0,0,J,$),X.length>0)this._renderOneLane(Y,X,Q,J);return!0}_renderOneLane(J,$,X,Q){let Y=0,Z=0,G=0;for(let q of $){const{colorId:U,from:H,to:z}=q;if(U!==Y)J.fillRect(0,Z,Q,G-Z),Y=U,J.fillStyle=X[Y],Z=H,G=z;else if(G>=H)G=Math.max(G,z);else J.fillRect(0,Z,Q,G-Z),Z=H,G=z}J.fillRect(0,Z,Q,G-Z)}}var Au=N(()=>{V6();u_();nq()});var Pu=N(()=>{q1();V0(".monaco-editor .view-ruler{box-shadow:1px 0 0 0 var(--vscode-editorRuler-foreground)inset;position:absolute;top:0}")});class l_ extends K8{constructor(J){super(J);this.domNode=t0(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const $=this._context.configuration.options;this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._rulers=$.get(101),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(J){return J.scrollHeightChanged}prepareRender(J){}_ensureRulersCount(){const J=this._renderedRulers.length,$=this._rulers.length;if(J===$)return;if(J<$){const{tabSize:Q}=this._context.viewModel.model.getOptions(),Y=Q;let Z=$-J;while(Z>0){const G=t0(document.createElement("div"));G.setClassName("view-ruler"),G.setWidth(Y),this.domNode.appendChild(G),this._renderedRulers.push(G),Z--}return}let X=J-$;while(X>0){const Q=this._renderedRulers.pop();this.domNode.removeChild(Q),X--}}render(J){this._ensureRulersCount();for(let $=0,X=this._rulers.length;$<X;$++){const Q=this._renderedRulers[$],Y=this._rulers[$];Q.setBoxShadow(Y.color?`1px 0 0 0 ${Y.color} inset`:""),Q.setHeight(Math.min(J.scrollHeight,1e6)),Q.setLeft(Y.column*this._typicalHalfwidthCharacterWidth)}}}var Du=N(()=>{Pu();V6();m7()});var Ru=N(()=>{q1();V0(".monaco-editor .scroll-decoration{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;height:6px;position:absolute;top:0;left:0}")});class d_ extends K8{constructor(J){super(J);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const X=this._context.configuration.options.get(102);this._useShadows=X.useShadows,this._domNode=t0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const J=this._useShadows&&this._scrollTop>0;if(this._shouldShow!==J)return this._shouldShow=J,!0;return!1}getDomNode(){return this._domNode}_updateWidth(){const $=this._context.configuration.options.get(143);if($.minimap.renderMinimap===0||$.minimap.minimapWidth>0&&$.minimap.minimapLeft===0)this._width=$.width;else this._width=$.width-$.verticalScrollbarWidth}onConfigurationChanged(J){const X=this._context.configuration.options.get(102);return this._useShadows=X.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(J){return this._scrollTop=J.scrollTop,this._updateShouldShow()}prepareRender(J){}render(J){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}var Mu=N(()=>{Ru();V6();m7()});var Ou=N(()=>{q1();V0(".monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .focused .selected-text{background-color:var(--vscode-editor-selectionBackground)}.monaco-editor .selected-text{background-color:var(--vscode-editor-inactiveSelectionBackground)}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor.hc-light .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-light .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-light .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-light .bottom-right-radius{border-bottom-right-radius:0}")});class Tu{constructor(J){this.left=J.left,this.width=J.width,this.startStyle=null,this.endStyle=null}}class Nu{constructor(J,$){this.lineNumber=J,this.ranges=$}}class b8 extends r5{constructor(J){super();this._previousFrameVisibleRangesWithStyle=[],this._context=J;const $=this._context.configuration.options;this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=this._context.configuration.options;return this._lineHeight=$.get(66),this._roundedSelection=$.get(100),this._typicalHalfwidthCharacterWidth=$.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(J){return this._selections=J.selections.slice(0),!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}_visibleRangesHaveGaps(J){for(let $=0,X=J.length;$<X;$++)if(J[$].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(J,$,X){const Q=this._typicalHalfwidthCharacterWidth/4;let Y=null,Z=null;if(X&&X.length>0&&$.length>0){const G=$[0].lineNumber;if(G===J.startLineNumber){for(let U=0;!Y&&U<X.length;U++)if(X[U].lineNumber===G)Y=X[U].ranges[0]}const q=$[$.length-1].lineNumber;if(q===J.endLineNumber){for(let U=X.length-1;!Z&&U>=0;U--)if(X[U].lineNumber===q)Z=X[U].ranges[0]}if(Y&&!Y.startStyle)Y=null;if(Z&&!Z.startStyle)Z=null}for(let G=0,q=$.length;G<q;G++){const U=$[G].ranges[0],H=U.left,z=U.left+U.width,V={top:0,bottom:0},j={top:0,bottom:0};if(G>0){const W=$[G-1].ranges[0].left,B=$[G-1].ranges[0].left+$[G-1].ranges[0].width;if(MA(H-W)<Q)V.top=2;else if(H>W)V.top=1;if(MA(z-B)<Q)j.top=2;else if(W<z&&z<B)j.top=1}else if(Y)V.top=Y.startStyle.top,j.top=Y.endStyle.top;if(G+1<q){const W=$[G+1].ranges[0].left,B=$[G+1].ranges[0].left+$[G+1].ranges[0].width;if(MA(H-W)<Q)V.bottom=2;else if(W<H&&H<B)V.bottom=1;if(MA(z-B)<Q)j.bottom=2;else if(z<B)j.bottom=1}else if(Z)V.bottom=Z.startStyle.bottom,j.bottom=Z.endStyle.bottom;U.startStyle=V,U.endStyle=j}}_getVisibleRangesWithStyle(J,$,X){const Y=($.linesVisibleRangesForRange(J,!0)||[]).map(q50);if(!this._visibleRangesHaveGaps(Y)&&this._roundedSelection)this._enrichVisibleRangesWithStyle($.visibleRange,Y,X);return Y}_createSelectionPiece(J,$,X,Q,Y){return'<div class="cslr '+X+'" style="top:'+J.toString()+"px;left:"+Q.toString()+"px;width:"+Y.toString()+"px;height:"+$+'px;"></div>'}_actualRenderOneSelection(J,$,X,Q){if(Q.length===0)return;const Y=!!Q[0].ranges[0].startStyle,Z=this._lineHeight.toString(),G=(this._lineHeight-1).toString(),q=Q[0].lineNumber,U=Q[Q.length-1].lineNumber;for(let H=0,z=Q.length;H<z;H++){const V=Q[H],j=V.lineNumber,W=j-$,B=X?j===U||j===q?G:Z:Z,K=X?j===q?1:0:0;let P="",A="";for(let D=0,R=V.ranges.length;D<R;D++){const M=V.ranges[D];if(Y){const{startStyle:_,endStyle:w}=M;if(_.top===1||_.bottom===1){P+=this._createSelectionPiece(K,B,b8.SELECTION_CLASS_NAME,M.left-b8.ROUNDED_PIECE_WIDTH,b8.ROUNDED_PIECE_WIDTH);let C=b8.EDITOR_BACKGROUND_CLASS_NAME;if(_.top===1)C+=" "+b8.SELECTION_TOP_RIGHT;if(_.bottom===1)C+=" "+b8.SELECTION_BOTTOM_RIGHT;P+=this._createSelectionPiece(K,B,C,M.left-b8.ROUNDED_PIECE_WIDTH,b8.ROUNDED_PIECE_WIDTH)}if(w.top===1||w.bottom===1){P+=this._createSelectionPiece(K,B,b8.SELECTION_CLASS_NAME,M.left+M.width,b8.ROUNDED_PIECE_WIDTH);let C=b8.EDITOR_BACKGROUND_CLASS_NAME;if(w.top===1)C+=" "+b8.SELECTION_TOP_LEFT;if(w.bottom===1)C+=" "+b8.SELECTION_BOTTOM_LEFT;P+=this._createSelectionPiece(K,B,C,M.left+M.width,b8.ROUNDED_PIECE_WIDTH)}}let O=b8.SELECTION_CLASS_NAME;if(Y){const{startStyle:_,endStyle:w}=M;if(_.top===0)O+=" "+b8.SELECTION_TOP_LEFT;if(_.bottom===0)O+=" "+b8.SELECTION_BOTTOM_LEFT;if(w.top===0)O+=" "+b8.SELECTION_TOP_RIGHT;if(w.bottom===0)O+=" "+b8.SELECTION_BOTTOM_RIGHT}A+=this._createSelectionPiece(K,B,O,M.left,M.width)}J[W][0]+=P,J[W][1]+=A}}prepareRender(J){const $=[],X=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber;for(let Z=X;Z<=Q;Z++){const G=Z-X;$[G]=["",""]}const Y=[];for(let Z=0,G=this._selections.length;Z<G;Z++){const q=this._selections[Z];if(q.isEmpty()){Y[Z]=null;continue}const U=this._getVisibleRangesWithStyle(q,J,this._previousFrameVisibleRangesWithStyle[Z]);Y[Z]=U,this._actualRenderOneSelection($,X,this._selections.length>1,U)}this._previousFrameVisibleRangesWithStyle=Y,this._renderResult=$.map(([Z,G])=>Z+G)}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}var G50,q50,MA;var _u=N(()=>{Ou();DY();L7();r8();G50=function(J){return new Tu(J)},q50=function(J){return new Nu(J.lineNumber,J.ranges.map(G50))},MA=function(J){return J<0?-J:J};b8.SELECTION_CLASS_NAME="selected-text";b8.SELECTION_TOP_LEFT="top-left-radius";b8.SELECTION_BOTTOM_LEFT="bottom-left-radius";b8.SELECTION_TOP_RIGHT="top-right-radius";b8.SELECTION_BOTTOM_RIGHT="bottom-right-radius";b8.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";b8.ROUNDED_PIECE_WIDTH=10;c7((J,$)=>{const X=J.getColor(Yg);if(X&&!X.isTransparent())$.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${X}; }`)})});var wu=N(()=>{q1();V0(".monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{box-sizing:border-box;position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{border-style:solid;border-width:1px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-style:solid;border-bottom-width:2px;background:0 0!important}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-style:solid;border-bottom-width:1px;background:0 0!important}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:.5s ease-in-out 20 alternate monaco-cursor-smooth}.cursor-phase{animation:.5s ease-in-out 20 alternate monaco-cursor-phase}.cursor-expand>.cursor{animation:.5s ease-in-out 20 alternate monaco-cursor-expand}")});class s_{constructor(J,$,X,Q,Y,Z,G){this.top=J,this.left=$,this.paddingLeft=X,this.width=Q,this.height=Y,this.textContent=Z,this.textContentClassName=G}}class OA{constructor(J){this._context=J;const $=this._context.configuration.options,X=$.get(50);this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=t0(document.createElement("div")),this._domNode.setClassName(`cursor ${QQ}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),T8(this._domNode,X),this._domNode.setDisplay("none"),this._position=new v(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){if(!this._isVisible)this._domNode.setVisibility("inherit"),this._isVisible=!0}hide(){if(this._isVisible)this._domNode.setVisibility("hidden"),this._isVisible=!1}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(50);return this._cursorStyle=$.get(28),this._lineHeight=$.get(66),this._typicalHalfwidthCharacterWidth=X.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min($.get(31),this._typicalHalfwidthCharacterWidth),T8(this._domNode,X),!0}onCursorPositionChanged(J,$){if($)this._domNode.domNode.style.transitionProperty="none";else this._domNode.domNode.style.transitionProperty="";return this._position=J,!0}_getGraphemeAwarePosition(){const{lineNumber:J,column:$}=this._position,X=this._context.viewModel.getLineContent(J),[Q,Y]=px(X,$-1);return[new v(J,Q+1),X.substring(Q,Y)]}_prepareRender(J){let $="",X="";const[Q,Y]=this._getGraphemeAwarePosition();if(this._cursorStyle===D6.Line||this._cursorStyle===D6.LineThin){const V=J.visibleRangeForPosition(Q);if(!V||V.outsideRenderedLine)return null;const j=B0(this._domNode.domNode);let W;if(this._cursorStyle===D6.Line){if(W=wO(j,this._lineCursorWidth>0?this._lineCursorWidth:2),W>2)$=Y,X=this._getTokenClassName(Q)}else W=wO(j,1);let B=V.left,K=0;if(W>=2&&B>=1)K=1,B-=K;const P=J.getVerticalOffsetForLineNumber(Q.lineNumber)-J.bigNumbersDelta;return new s_(P,B,K,W,this._lineHeight,$,X)}const Z=J.linesVisibleRangesForRange(new L(Q.lineNumber,Q.column,Q.lineNumber,Q.column+Y.length),!1);if(!Z||Z.length===0)return null;const G=Z[0];if(G.outsideRenderedLine||G.ranges.length===0)return null;const q=G.ranges[0],U=Y==="\t"?this._typicalHalfwidthCharacterWidth:q.width<1?this._typicalHalfwidthCharacterWidth:q.width;if(this._cursorStyle===D6.Block)$=Y,X=this._getTokenClassName(Q);let H=J.getVerticalOffsetForLineNumber(Q.lineNumber)-J.bigNumbersDelta,z=this._lineHeight;if(this._cursorStyle===D6.Underline||this._cursorStyle===D6.UnderlineThin)H+=this._lineHeight-2,z=2;return new s_(H,q.left,0,U,z,$,X)}_getTokenClassName(J){const $=this._context.viewModel.getViewLineData(J.lineNumber),X=$.tokens.findTokenIndexAtOffset(J.column-1);return $.tokens.getClassName(X)}prepareRender(J){this._renderData=this._prepareRender(J)}render(J){if(!this._renderData)return this._domNode.setDisplay("none"),null;if(this._lastRenderedContent!==this._renderData.textContent)this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent;return this._domNode.setClassName(`cursor ${QQ} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}}}var Lu=N(()=>{D0();V6();o0();BJ();J7();U1();c0();YA()});class B3 extends K8{constructor(J){super(J);const $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new OA(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=t0(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new N7,this._cursorFlatBlinkInterval=new tZ,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(J){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(J){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(J){const $=this._context.configuration.options;this._readOnly=$.get(90),this._cursorBlinking=$.get(26),this._cursorStyle=$.get(28),this._cursorSmoothCaretAnimation=$.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(J);for(let X=0,Q=this._secondaryCursors.length;X<Q;X++)this._secondaryCursors[X].onConfigurationChanged(J);return!0}_onCursorPositionChanged(J,$,X){const Q=this._secondaryCursors.length!==$.length||this._cursorSmoothCaretAnimation==="explicit"&&X!==3;if(this._primaryCursor.onCursorPositionChanged(J,Q),this._updateBlinking(),this._secondaryCursors.length<$.length){const Y=$.length-this._secondaryCursors.length;for(let Z=0;Z<Y;Z++){const G=new OA(this._context);this._domNode.domNode.insertBefore(G.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(G)}}else if(this._secondaryCursors.length>$.length){const Y=this._secondaryCursors.length-$.length;for(let Z=0;Z<Y;Z++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Y=0;Y<$.length;Y++)this._secondaryCursors[Y].onCursorPositionChanged($[Y],Q)}onCursorStateChanged(J){const $=[];for(let Q=0,Y=J.selections.length;Q<Y;Q++)$[Q]=J.selections[Q].getPosition();this._onCursorPositionChanged($[0],$.slice(1),J.reason);const X=J.selections[0].isEmpty();if(this._selectionIsEmpty!==X)this._selectionIsEmpty=X,this._updateDomClassName();return!0}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onFocusChanged(J){return this._editorHasFocus=J.isFocused,this._updateBlinking(),!1}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return!0}onTokensChanged(J){const $=(X)=>{for(let Q=0,Y=J.ranges.length;Q<Y;Q++)if(J.ranges[Q].fromLineNumber<=X.lineNumber&&X.lineNumber<=J.ranges[Q].toLineNumber)return!0;return!1};if($(this._primaryCursor.getPosition()))return!0;for(let X of this._secondaryCursors)if($(X.getPosition()))return!0;return!1}onZonesChanged(J){return!0}_getCursorBlinking(){if(this._isComposingInput)return 0;if(!this._editorHasFocus)return 0;if(this._readOnly)return 5;return this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const J=this._getCursorBlinking(),$=J===0,X=J===5;if($)this._hide();else this._show();if(this._blinkingEnabled=!1,this._updateDomClassName(),!$&&!X)if(J===1)this._cursorFlatBlinkInterval.cancelAndSet(()=>{if(this._isVisible)this._hide();else this._show()},B3.BLINK_INTERVAL,B0(this._domNode.domNode));else this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},B3.BLINK_INTERVAL)}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let J="cursors-layer";if(!this._selectionIsEmpty)J+=" has-selection";switch(this._cursorStyle){case D6.Line:J+=" cursor-line-style";break;case D6.Block:J+=" cursor-block-style";break;case D6.Underline:J+=" cursor-underline-style";break;case D6.LineThin:J+=" cursor-line-thin-style";break;case D6.BlockOutline:J+=" cursor-block-outline-style";break;case D6.UnderlineThin:J+=" cursor-underline-thin-style";break;default:J+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:J+=" cursor-blink";break;case 2:J+=" cursor-smooth";break;case 3:J+=" cursor-phase";break;case 4:J+=" cursor-expand";break;case 5:J+=" cursor-solid";break;default:J+=" cursor-solid"}else J+=" cursor-solid";if(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")J+=" cursor-smooth-caret-animation";return J}_show(){this._primaryCursor.show();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let J=0,$=this._secondaryCursors.length;J<$;J++)this._secondaryCursors[J].hide();this._isVisible=!1}prepareRender(J){this._primaryCursor.prepareRender(J);for(let $=0,X=this._secondaryCursors.length;$<X;$++)this._secondaryCursors[$].prepareRender(J)}render(J){const $=[];let X=0;const Q=this._primaryCursor.render(J);if(Q)$[X++]=Q;for(let Y=0,Z=this._secondaryCursors.length;Y<Z;Y++){const G=this._secondaryCursors[Y].render(J);if(G)$[X++]=G}this._renderData=$}getLastRenderData(){return this._renderData}}var Eu=N(()=>{wu();V6();u1();m7();Lu();J7();L4();r8();nX();D0();B3.BLINK_INTERVAL=500;c7((J,$)=>{const X=J.getColor(oK);if(X){let Q=J.getColor(Ip);if(!Q)Q=X.opposite();if($.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${X}; border-color: ${X}; color: ${Q}; }`),IJ(J.type))$.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${Q}; border-right: 1px solid ${Q}; }`)}})});class r_ extends K8{constructor(J){super(J);const $=this._context.configuration.options,X=$.get(143);this._lineHeight=$.get(66),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,this.domNode=t0(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=t0(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const J=this._context.viewLayout.getWhitespaces(),$=new Map;for(let Q of J)$.set(Q.id,Q);let X=!1;return this._context.viewModel.changeWhitespace((Q)=>{const Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z],U=this._zones[q],H=this._computeWhitespaceProps(U.delegate);U.isInHiddenArea=H.isInHiddenArea;const z=$.get(q);if(z&&(z.afterLineNumber!==H.afterViewLineNumber||z.height!==H.heightInPx))Q.changeOneWhitespace(q,H.afterViewLineNumber,H.heightInPx),this._safeCallOnComputedHeight(U.delegate,H.heightInPx),X=!0}}),X}onConfigurationChanged(J){const $=this._context.configuration.options,X=$.get(143);if(this._lineHeight=$.get(66),this._contentWidth=X.contentWidth,this._contentLeft=X.contentLeft,J.hasChanged(66))this._recomputeWhitespacesProps();return!0}onLineMappingChanged(J){return this._recomputeWhitespacesProps()}onLinesDeleted(J){return!0}onScrollChanged(J){return J.scrollTopChanged||J.scrollWidthChanged}onZonesChanged(J){return!0}onLinesInserted(J){return!0}_getZoneOrdinal(J){var $,X;return(X=($=J.ordinal)!==null&&$!==void 0?$:J.afterColumn)!==null&&X!==void 0?X:1e4}_computeWhitespaceProps(J){if(J.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(J),minWidthInPx:this._minWidthInPixels(J)};let $;if(typeof J.afterColumn!=="undefined")$=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:J.afterColumn});else{const Z=this._context.viewModel.model.validatePosition({lineNumber:J.afterLineNumber,column:1}).lineNumber;$=new v(Z,this._context.viewModel.model.getLineMaxColumn(Z))}let X;if($.column===this._context.viewModel.model.getLineMaxColumn($.lineNumber))X=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber+1,column:1});else X=this._context.viewModel.model.validatePosition({lineNumber:$.lineNumber,column:$.column+1});const Q=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition($,J.afterColumnAffinity,!0),Y=J.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(X);return{isInHiddenArea:!Y,afterViewLineNumber:Q.lineNumber,heightInPx:Y?this._heightInPixels(J):0,minWidthInPx:this._minWidthInPixels(J)}}changeViewZones(J){let $=!1;return this._context.viewModel.changeWhitespace((X)=>{const Q={addZone:(Y)=>{return $=!0,this._addZone(X,Y)},removeZone:(Y)=>{if(!Y)return;$=this._removeZone(X,Y)||$},layoutZone:(Y)=>{if(!Y)return;$=this._layoutZone(X,Y)||$}};U50(J,Q),Q.addZone=a_,Q.removeZone=a_,Q.layoutZone=a_}),$}_addZone(J,$){const X=this._computeWhitespaceProps($),Y={whitespaceId:J.insertWhitespace(X.afterViewLineNumber,this._getZoneOrdinal($),X.heightInPx,X.minWidthInPx),delegate:$,isInHiddenArea:X.isInHiddenArea,isVisible:!1,domNode:t0($.domNode),marginDomNode:$.marginDomNode?t0($.marginDomNode):null};if(this._safeCallOnComputedHeight(Y.delegate,X.heightInPx),Y.domNode.setPosition("absolute"),Y.domNode.domNode.style.width="100%",Y.domNode.setDisplay("none"),Y.domNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.domNode.appendChild(Y.domNode),Y.marginDomNode)Y.marginDomNode.setPosition("absolute"),Y.marginDomNode.domNode.style.width="100%",Y.marginDomNode.setDisplay("none"),Y.marginDomNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.marginDomNode.appendChild(Y.marginDomNode);return this._zones[Y.whitespaceId]=Y,this.setShouldRender(),Y.whitespaceId}_removeZone(J,$){if(this._zones.hasOwnProperty($)){const X=this._zones[$];if(delete this._zones[$],J.removeWhitespace(X.whitespaceId),X.domNode.removeAttribute("monaco-visible-view-zone"),X.domNode.removeAttribute("monaco-view-zone"),X.domNode.domNode.parentNode.removeChild(X.domNode.domNode),X.marginDomNode)X.marginDomNode.removeAttribute("monaco-visible-view-zone"),X.marginDomNode.removeAttribute("monaco-view-zone"),X.marginDomNode.domNode.parentNode.removeChild(X.marginDomNode.domNode);return this.setShouldRender(),!0}return!1}_layoutZone(J,$){if(this._zones.hasOwnProperty($)){const X=this._zones[$],Q=this._computeWhitespaceProps(X.delegate);return X.isInHiddenArea=Q.isInHiddenArea,J.changeOneWhitespace(X.whitespaceId,Q.afterViewLineNumber,Q.heightInPx),this._safeCallOnComputedHeight(X.delegate,Q.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(J){if(this._zones.hasOwnProperty(J)){const $=this._zones[J];return Boolean($.delegate.suppressMouseDown)}return!1}_heightInPixels(J){if(typeof J.heightInPx==="number")return J.heightInPx;if(typeof J.heightInLines==="number")return this._lineHeight*J.heightInLines;return this._lineHeight}_minWidthInPixels(J){if(typeof J.minWidthInPx==="number")return J.minWidthInPx;return 0}_safeCallOnComputedHeight(J,$){if(typeof J.onComputedHeight==="function")try{J.onComputedHeight($)}catch(X){n0(X)}}_safeCallOnDomNodeTop(J,$){if(typeof J.onDomNodeTop==="function")try{J.onDomNodeTop($)}catch(X){n0(X)}}prepareRender(J){}render(J){const $=J.viewportData.whitespaceViewportData,X={};let Q=!1;for(let Z of $){if(this._zones[Z.id].isInHiddenArea)continue;X[Z.id]=Z,Q=!0}const Y=Object.keys(this._zones);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z],U=this._zones[q];let H=0,z=0,V="none";if(X.hasOwnProperty(q)){if(H=X[q].verticalOffset-J.bigNumbersDelta,z=X[q].height,V="block",!U.isVisible)U.domNode.setAttribute("monaco-visible-view-zone","true"),U.isVisible=!0;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(X[q].verticalOffset))}else{if(U.isVisible)U.domNode.removeAttribute("monaco-visible-view-zone"),U.isVisible=!1;this._safeCallOnDomNodeTop(U.delegate,J.getScrolledTopFromAbsoluteTop(-1e6))}if(U.domNode.setTop(H),U.domNode.setHeight(z),U.domNode.setDisplay(V),U.marginDomNode)U.marginDomNode.setTop(H),U.marginDomNode.setHeight(z),U.marginDomNode.setDisplay(V)}if(Q)this.domNode.setWidth(Math.max(J.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft)}}var U50,a_;var ku=N(()=>{V6();D1();m7();U1();U50=function(J,$){try{return J($)}catch(X){n0(X)}},a_=()=>{throw new Error("Invalid change accessor")}});var Iu=N(()=>{q1();V0(".monaco-editor .mwh{position:absolute;color:var(--vscode-editorWhitespace-foreground)!important}")});class n_ extends r5{constructor(J){super();this._context=J,this._options=new i_(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(J){const $=new i_(this._context.configuration);if(this._options.equals($))return J.hasChanged(143);return this._options=$,!0}onCursorStateChanged(J){if(this._selection=J.selections,this._options.renderWhitespace==="selection")return!0;return!1}onDecorationsChanged(J){return!0}onFlushed(J){return!0}onLinesChanged(J){return!0}onLinesDeleted(J){return!0}onLinesInserted(J){return!0}onScrollChanged(J){return J.scrollTopChanged}onZonesChanged(J){return!0}prepareRender(J){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const $=J.visibleRange.startLineNumber,Q=J.visibleRange.endLineNumber-$+1,Y=new Array(Q);for(let G=0;G<Q;G++)Y[G]=!0;const Z=this._context.viewModel.getMinimapLinesRenderingData(J.viewportData.startLineNumber,J.viewportData.endLineNumber,Y);this._renderResult=[];for(let G=J.viewportData.startLineNumber;G<=J.viewportData.endLineNumber;G++){const q=G-J.viewportData.startLineNumber,U=Z.data[q];let H=null;if(this._options.renderWhitespace==="selection"){const z=this._selection;for(let V of z){if(V.endLineNumber<G||V.startLineNumber>G)continue;const j=V.startLineNumber===G?V.startColumn:U.minColumn,W=V.endLineNumber===G?V.endColumn:U.maxColumn;if(j<W){if(!H)H=[];H.push(new Bz(j-1,W-1))}}}this._renderResult[q]=this._applyRenderWhitespace(J,G,H,U)}}_applyRenderWhitespace(J,$,X,Q){if(this._options.renderWhitespace==="selection"&&!X)return"";if(this._options.renderWhitespace==="trailing"&&Q.continuesWithWrappedLine)return"";const Y=this._context.theme.getColor(I$),Z=this._options.renderWithSVG,G=Q.content,q=this._options.stopRenderingLineAfter===-1?G.length:Math.min(this._options.stopRenderingLineAfter,G.length),U=Q.continuesWithWrappedLine,H=Q.minColumn-1,z=this._options.renderWhitespace==="boundary",V=this._options.renderWhitespace==="trailing",j=this._options.lineHeight,W=this._options.middotWidth,B=this._options.wsmiddotWidth,K=this._options.spaceWidth,P=Math.abs(B-K),A=Math.abs(W-K),D=P<A?11825:183,R=this._options.canUseHalfwidthRightwardsArrow;let M="",O=!1,_=S8(G),w;if(_===-1)O=!0,_=q,w=q;else w=Z9(G);let C=0,x=X&&X[C],g=0;for(let c=H;c<q;c++){const b=G.charCodeAt(c);if(x&&c>=x.endOffset)C++,x=X&&X[C];if(b!==9&&b!==32)continue;if(V&&!O&&c<=w)continue;if(z&&c>=_&&c<=w&&b===32){const i=c-1>=0?G.charCodeAt(c-1):0,Y0=c+1<q?G.charCodeAt(c+1):0;if(i!==32&&Y0!==32)continue}if(z&&U&&c===q-1){const i=c-1>=0?G.charCodeAt(c-1):0;if(b===32&&(i!==32&&i!==9))continue}if(X&&(!x||x.startOffset>c||x.endOffset<=c))continue;const u=J.visibleRangeForPosition(new v($,c+1));if(!u)continue;if(Z)if(g=Math.max(g,u.left),b===9)M+=this._renderArrow(j,K,u.left);else M+=`<circle cx="${(u.left+K/2).toFixed(2)}" cy="${(j/2).toFixed(2)}" r="${(K/7).toFixed(2)}" />`;else if(b===9)M+=`<div class="mwh" style="left:${u.left}px;height:${j}px;">${R?String.fromCharCode(65515):String.fromCharCode(8594)}</div>`;else M+=`<div class="mwh" style="left:${u.left}px;height:${j}px;">${String.fromCharCode(D)}</div>`}if(Z)return g=Math.round(g+K),`<svg style="position:absolute;width:${g}px;height:${j}px" viewBox="0 0 ${g} ${j}" xmlns="http://www.w3.org/2000/svg" fill="${Y}">`+M+"</svg>";return M}_renderArrow(J,$,X){const Q=$/7,Y=$,Z=J/2,G=X,q={x:0,y:Q/2},U={x:0.8*Y,y:q.y},H={x:U.x-0.2*U.x,y:U.y+0.2*U.x},z={x:H.x+0.1*U.x,y:H.y+0.1*U.x},V={x:z.x+0.35*U.x,y:z.y-0.35*U.x},j={x:V.x,y:-V.y},W={x:z.x,y:-z.y},B={x:H.x,y:-H.y},K={x:U.x,y:-U.y},P={x:q.x,y:-q.y};return`<path d="M ${[q,U,H,z,V,j,W,B,K,P].map((R)=>`${(G+R.x).toFixed(2)} ${(Z+R.y).toFixed(2)}`).join(" L ")}" />`}render(J,$){if(!this._renderResult)return"";const X=$-J;if(X<0||X>=this._renderResult.length)return"";return this._renderResult[X]}}class i_{constructor(J){const $=J.options,X=$.get(50),Q=$.get(38);if(Q==="off")this.renderWhitespace="none",this.renderWithSVG=!1;else if(Q==="svg")this.renderWhitespace=$.get(98),this.renderWithSVG=!0;else this.renderWhitespace=$.get(98),this.renderWithSVG=!1;this.spaceWidth=X.spaceWidth,this.middotWidth=X.middotWidth,this.wsmiddotWidth=X.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=X.canUseHalfwidthRightwardsArrow,this.lineHeight=$.get(66),this.stopRenderingLineAfter=$.get(116)}equals(J){return this.renderWhitespace===J.renderWhitespace&&this.renderWithSVG===J.renderWithSVG&&this.spaceWidth===J.spaceWidth&&this.middotWidth===J.middotWidth&&this.wsmiddotWidth===J.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===J.canUseHalfwidthRightwardsArrow&&this.lineHeight===J.lineHeight&&this.stopRenderingLineAfter===J.stopRenderingLineAfter}}var yu=N(()=>{Iu();DY();o0();kq();U1();L4()});class o_{constructor(J,$,X,Q){this.selections=J,this.startLineNumber=$.startLineNumber|0,this.endLineNumber=$.endLineNumber|0,this.relativeVerticalOffset=$.relativeVerticalOffset,this.bigNumbersDelta=$.bigNumbersDelta|0,this.whitespaceViewportData=X,this._model=Q,this.visibleRange=new L($.startLineNumber,this._model.getLineMinColumn($.startLineNumber),$.endLineNumber,this._model.getLineMaxColumn($.endLineNumber))}getViewLineRenderingData(J){return this._model.getViewportViewLineRenderingData(this.visibleRange,J)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var Su=N(()=>{c0()});class t_{get type(){return this._theme.type}get value(){return this._theme}constructor(J){this._theme=J}update(J){this._theme=J}getColor(J){return this._theme.getColor(J)}}var Cu=N(()=>{});class e_{constructor(J,$,X){this.configuration=J,this.theme=new t_($),this.viewModel=X,this.viewLayout=X.viewLayout}addEventHandler(J){this.viewModel.addViewEventHandler(J)}removeEventHandler(J){this.viewModel.removeViewEventHandler(J)}}var xu=N(()=>{Cu()});class NA{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(J){return this._coordinatedRenderings.push(J),this._scheduleRender(J.window),{dispose:()=>{const $=this._coordinatedRenderings.indexOf(J);if($===-1)return;if(this._coordinatedRenderings.splice($,1),this._coordinatedRenderings.length===0){for(let[X,Q]of this._animationFrameRunners)Q.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(J){if(!this._animationFrameRunners.has(J)){const $=()=>{this._animationFrameRunners.delete(J),this._onRenderScheduled()};this._animationFrameRunners.set(J,Vq(J,$,100))}}_onRenderScheduled(){const J=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(let X of J)NY(()=>X.prepareRenderText());const $=[];for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];$[X]=NY(()=>Y.renderText())}for(let X=0,Q=J.length;X<Q;X++){const Y=J[X],Z=$[X];if(!Z)continue;const[G,q]=Z;NY(()=>Y.prepareRender(G,q))}for(let X=0,Q=J.length;X<Q;X++){const Y=J[X],Z=$[X];if(!Z)continue;const[G,q]=Z;NY(()=>Y.render(G,q))}}}var NY,H50,z50,TA;var bu=N(()=>{D0();V6();ZN();D1();EN();_p();Wm();tq();Em();Im();m7();j_();Sm();xm();vm();hm();gm();KA();am();dN();em();$u();sN();Qu();ju();Bu();Ku();Au();Du();Mu();_u();Eu();ku();yu();U1();c0();S6();g5();nq();Su();xu();m0();r8();NY=function(J){try{return J()}catch($){return n0($),null}},H50=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},z50=function(J,$){return function(X,Q){$(X,Q,J)}},TA=class J extends N4{constructor($,X,Q,Y,Z,G,q){super();this._instantiationService=q,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new b0(1,1,1,1)],this._renderAnimationFrame=null;const U=new U_(X,Y,Z,$);this._context=new e_(X,Q,Y),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(ZA,this._context,U,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=t0(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=t0(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=t0(document.createElement("div")),Z7.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new M_(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new uz(this._context,this._linesContent),this._viewZones=new r_(this._context),this._viewParts.push(this._viewZones);const H=new g_(this._context);this._viewParts.push(H);const z=new d_(this._context);this._viewParts.push(z);const V=new z_(this._context);this._viewParts.push(V),V.addDynamicOverlay(new P_(this._context)),V.addDynamicOverlay(new b8(this._context)),V.addDynamicOverlay(new L_(this._context)),V.addDynamicOverlay(new R_(this._context)),V.addDynamicOverlay(new n_(this._context));const j=new V_(this._context);this._viewParts.push(j),j.addDynamicOverlay(new D_(this._context)),j.addDynamicOverlay(new k_(this._context)),j.addDynamicOverlay(new E_(this._context)),j.addDynamicOverlay(new bG(this._context)),this._glyphMarginWidgets=new O_(this._context),this._viewParts.push(this._glyphMarginWidgets);const W=new XQ(this._context);W.getDomNode().appendChild(this._viewZones.marginDomNode),W.getDomNode().appendChild(j.getDomNode()),W.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(W),this._contentWidgets=new K_(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new B3(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new h_(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const B=new l_(this._context);this._viewParts.push(B);const K=new W_(this._context);this._viewParts.push(K);const P=new f_(this._context);if(this._viewParts.push(P),H){const A=this._scrollbar.getOverviewRulerLayoutInfo();A.parent.insertBefore(H.getDomNode(),A.insertBefore)}if(this._linesContent.appendChild(V.getDomNode()),this._linesContent.appendChild(B.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(W.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(z.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(P.getDomNode()),this._overflowGuardContainer.appendChild(K.domNode),this.domNode.appendChild(this._overflowGuardContainer),G)G.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),G.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode);else this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode);this._applyLayout(),this._pointerHandler=this._register(new pN(this._context,U,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const $=this._context.viewModel.model,X=this._context.viewModel.glyphLanes;let Q=[],Y=0;Q=Q.concat($.getAllMarginDecorations().map((Z)=>{var G,q,U;const H=(q=(G=Z.options.glyphMargin)===null||G===void 0?void 0:G.position)!==null&&q!==void 0?q:m9.Center;return Y=Math.max(Y,Z.range.endLineNumber),{range:Z.range,lane:H,persist:(U=Z.options.glyphMargin)===null||U===void 0?void 0:U.persistLane}})),Q=Q.concat(this._glyphMarginWidgets.getWidgets().map((Z)=>{const G=$.validateRange(Z.preference.range);return Y=Math.max(Y,G.endLineNumber),{range:G,lane:Z.preference.lane}})),Q.sort((Z,G)=>L.compareRangesUsingStarts(Z.range,G.range)),X.reset(Y);for(let Z of Q)X.push(Z.lane,Z.range,Z.persist);return X}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:($)=>{this._textAreaHandler.textArea.domNode.dispatchEvent($)},getLastRenderData:()=>{const $=this._viewCursors.getLastRenderData()||[],X=this._textAreaHandler.getLastRenderData();return new wN($,X)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:($)=>{return this._viewZones.shouldSuppressMouseDownOnViewZone($)},shouldSuppressMouseDownOnWidget:($)=>{return this._contentWidgets.shouldSuppressMouseDownOnWidget($)},getPositionFromDOMInfo:($,X)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo($,X)},visibleRangeForPosition:($,X)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new v($,X))},getLineWidth:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth($)}}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:($)=>{return this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition($)}}}_applyLayout(){const X=this._context.configuration.options.get(143);this.domNode.setWidth(X.width),this.domNode.setHeight(X.height),this._overflowGuardContainer.setWidth(X.width),this._overflowGuardContainer.setHeight(X.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const $=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(140)+" "+xz(this._context.theme.type)+$}handleEvents($){super.handleEvents($),this._scheduleRender()}onConfigurationChanged($){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged($){return this._selections=$.selections,!1}onDecorationsChanged($){if($.affectsGlyphMargin)this._shouldRecomputeGlyphMarginLanes=!0;return!1}onFocusChanged($){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged($){return this._context.theme.update($.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){if(this._renderAnimationFrame!==null)this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null;this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let $ of this._viewParts)$.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new b1;if(this._renderAnimationFrame===null){const $=this._createCoordinatedRendering();this._renderAnimationFrame=NA.INSTANCE.scheduleCoordinatedRendering({window:B0(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new b1;try{return $.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new b1;return $.renderText()},prepareRender:(X,Q)=>{if(this._store.isDisposed)throw new b1;return $.prepareRender(X,Q)},render:(X,Q)=>{if(this._store.isDisposed)throw new b1;return $.render(X,Q)}})}}_flushAccumulatedAndRenderNow(){const $=this._createCoordinatedRendering();NY(()=>$.prepareRenderText());const X=NY(()=>$.renderText());if(X){const[Q,Y]=X;NY(()=>$.prepareRender(Q,Y)),NY(()=>$.render(Q,Y))}}_getViewPartsToRender(){const $=[];let X=0;for(let Q of this._viewParts)if(Q.shouldRender())$[X++]=Q;return $}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const $=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount($.requiredLanes)}D$.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let $=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&$.length===0)return null;const X=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(X.startLineNumber,X.endLineNumber,X.centeredLineNumber);const Q=new o_(this._selections,X,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);if(this._contentWidgets.shouldRender())this._contentWidgets.onBeforeRender(Q);if(this._viewLines.shouldRender())this._viewLines.renderText(Q),this._viewLines.onDidRender(),$=this._getViewPartsToRender();return[$,new PN(this._context.viewLayout,Q,this._viewLines)]},prepareRender:($,X)=>{for(let Q of $)Q.prepareRender(X)},render:($,X)=>{for(let Q of $)Q.render(X),Q.onDidRender()}}}delegateVerticalScrollbarPointerDown($){this._scrollbar.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){this._scrollbar.delegateScrollFromMouseWheelEvent($)}restoreState($){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:$.scrollTop,scrollLeft:$.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn($,X){const Q=this._context.viewModel.model.validatePosition({lineNumber:$,column:X}),Y=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Q);this._flushAccumulatedAndRenderNow();const Z=this._viewLines.visibleRangeForPosition(new v(Y.lineNumber,Y.column));if(!Z)return-1;return Z.left}getTargetAtClientPoint($,X){const Q=this._pointerHandler.getTargetAtClientPoint($,X);if(!Q)return null;return q3.convertViewToModelMouseTarget(Q,this._context.viewModel.coordinatesConverter)}createOverviewRuler($){return new c_(this._context,$)}change($){this._viewZones.changeViewZones($),this._scheduleRender()}render($,X){if(X){this._viewLines.forceShouldRender();for(let Q of this._viewParts)Q.forceShouldRender()}if($)this._flushAccumulatedAndRenderNow();else this._scheduleRender()}writeScreenReaderContent($){this._textAreaHandler.writeScreenReaderContent($)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions($){this._textAreaHandler.setAriaOptions($)}addContentWidget($){this._contentWidgets.addWidget($.widget),this.layoutContentWidget($),this._scheduleRender()}layoutContentWidget($){var X,Q,Y,Z,G,q,U,H;this._contentWidgets.setWidgetPosition($.widget,(Q=(X=$.position)===null||X===void 0?void 0:X.position)!==null&&Q!==void 0?Q:null,(Z=(Y=$.position)===null||Y===void 0?void 0:Y.secondaryPosition)!==null&&Z!==void 0?Z:null,(q=(G=$.position)===null||G===void 0?void 0:G.preference)!==null&&q!==void 0?q:null,(H=(U=$.position)===null||U===void 0?void 0:U.positionAffinity)!==null&&H!==void 0?H:null),this._scheduleRender()}removeContentWidget($){this._contentWidgets.removeWidget($.widget),this._scheduleRender()}addOverlayWidget($){this._overlayWidgets.addWidget($.widget),this.layoutOverlayWidget($),this._scheduleRender()}layoutOverlayWidget($){const X=$.position?$.position.preference:null;if(this._overlayWidgets.setWidgetPosition($.widget,X))this._scheduleRender()}removeOverlayWidget($){this._overlayWidgets.removeWidget($.widget),this._scheduleRender()}addGlyphMarginWidget($){this._glyphMarginWidgets.addWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget($){const X=$.position;if(this._glyphMarginWidgets.setWidgetPosition($.widget,X))this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}removeGlyphMarginWidget($){this._glyphMarginWidgets.removeWidget($.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};TA=H50([z50(6,g0)],TA);NA.INSTANCE=new NA});class az{constructor(J,$,X,Q,Y,Z,G){this.id=J,this.label=$,this.alias=X,this.metadata=Q,this._precondition=Y,this._run=Z,this._contextKeyService=G}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(J){if(!this.isSupported())return Promise.resolve(void 0);return this._run(J)}}var Jw=N(()=>{});function a9(J){let $=0,X=0,Q=0,Y=0;for(let Z=0,G=J.length;Z<G;Z++){const q=J.charCodeAt(Z);if(q===13){if($===0)X=Z;if($++,Z+1<G&&J.charCodeAt(Z+1)===10)Y|=2,Z++;else Y|=3;Q=Z+1}else if(q===10){if(Y|=1,$===0)X=Z;$++,Q=Z+1}}if($===0)X=J.length;return[$,X,J.length-Q,Y]}var pG=N(()=>{});class _A{constructor(J,$,X,Q){this.range=J,this.nestingLevel=$,this.nestingLevelOfEqualBracketType=X,this.isInvalid=Q}}class vu{constructor(J,$,X,Q,Y,Z){this.range=J,this.openingBracketRange=$,this.closingBracketRange=X,this.nestingLevel=Q,this.nestingLevelOfEqualBracketType=Y,this.bracketPairNode=Z}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class $w extends vu{constructor(J,$,X,Q,Y,Z,G){super(J,$,X,Q,Y,Z);this.minVisibleColumnIndentation=G}}var fu=N(()=>{});function hu(J,$,X,Q){return J!==X?A8(X-J,Q):A8(0,Q-$)}function F3(J){return J===0}function A8(J,$){return J*F9+$}function G5(J){const $=J,X=Math.floor($/F9),Q=$-X*F9;return new mG(X,Q)}function gu(J){return Math.floor(J/F9)}function Xw(J){return J}function P8(J,$){let X=J+$;if($>=F9)X=X-J%F9;return X}function pu(J,$){return J.reduce((X,Q)=>P8(X,$(Q)),r6)}function Qw(J,$){return J===$}function uG(J,$){const X=J,Q=$;if(Q-X<=0)return r6;const Z=Math.floor(X/F9),G=Math.floor(Q/F9),q=Q-G*F9;if(Z===G){const U=X-Z*F9;return A8(0,q-U)}else return A8(G-Z,q)}function qQ(J,$){return J<$}function _Y(J,$){return J<=$}function K3(J,$){return J>=$}function wY(J){return A8(J.lineNumber-1,J.column-1)}function LY(J,$){const X=J,Q=Math.floor(X/F9),Y=X-Q*F9,Z=$,G=Math.floor(Z/F9),q=Z-G*F9;return new L(Q+1,Y+1,G+1,q+1)}function mu(J){const $=Y9(J);return A8($.length-1,$[$.length-1].length)}class mG{constructor(J,$){this.lineCount=J,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}var r6,F9;var C$=N(()=>{o0();c0();mG.zero=new mG(0,0);r6=0,F9=67108864});class vJ{static fromModelContentChanges(J){return J.map((X)=>{const Q=L.lift(X.range);return new vJ(wY(Q.getStartPosition()),wY(Q.getEndPosition()),mu(X.text))}).reverse()}constructor(J,$,X){this.startOffset=J,this.endOffset=$,this.newLength=X}toString(){return`[${G5(this.startOffset)}...${G5(this.endOffset)}) -> ${G5(this.newLength)}`}}class Yw{constructor(J){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=J.map(($)=>Zw.from($))}getOffsetBeforeChange(J){return this.adjustNextEdit(J),this.translateCurToOld(J)}getDistanceToNextChange(J){this.adjustNextEdit(J);const $=this.edits[this.nextEditIdx],X=$?this.translateOldToCur($.offsetObj):null;if(X===null)return null;return uG(J,X)}translateOldToCur(J){if(J.lineCount===this.deltaLineIdxInOld)return A8(J.lineCount+this.deltaOldToNewLineCount,J.columnCount+this.deltaOldToNewColumnCount);else return A8(J.lineCount+this.deltaOldToNewLineCount,J.columnCount)}translateCurToOld(J){const $=G5(J);if($.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld)return A8($.lineCount-this.deltaOldToNewLineCount,$.columnCount-this.deltaOldToNewColumnCount);else return A8($.lineCount-this.deltaOldToNewLineCount,$.columnCount)}adjustNextEdit(J){while(this.nextEditIdx<this.edits.length){const $=this.edits[this.nextEditIdx],X=this.translateOldToCur($.endOffsetAfterObj);if(_Y(X,J)){this.nextEditIdx++;const Q=G5(X),Y=G5(this.translateOldToCur($.endOffsetBeforeObj)),Z=Q.lineCount-Y.lineCount;this.deltaOldToNewLineCount+=Z;const G=this.deltaLineIdxInOld===$.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,q=Q.columnCount-Y.columnCount;this.deltaOldToNewColumnCount=G+q,this.deltaLineIdxInOld=$.endOffsetBeforeObj.lineCount}else break}}}class Zw{static from(J){return new Zw(J.startOffset,J.endOffset,J.newLength)}constructor(J,$,X){this.endOffsetBeforeObj=G5($),this.endOffsetAfterObj=G5(P8(J,X)),this.offsetObj=G5(J)}}var rz=N(()=>{c0();C$()});class v8{static create(J,$){if(J<=128&&$.length===0){let X=v8.cache[J];if(!X)X=new v8(J,$),v8.cache[J]=X;return X}return new v8(J,$)}static getEmpty(){return this.empty}constructor(J,$){this.items=J,this.additionalItems=$}add(J,$){const X=$.getKey(J);let Q=X>>5;if(Q===0){const Z=1<<X|this.items;if(Z===this.items)return this;return v8.create(Z,this.additionalItems)}Q--;const Y=this.additionalItems.slice(0);while(Y.length<Q)Y.push(0);return Y[Q]|=1<<(X&31),v8.create(this.items,Y)}merge(J){const $=this.items|J.items;if(this.additionalItems===wA&&J.additionalItems===wA){if($===this.items)return this;if($===J.items)return J;return v8.create($,wA)}const X=[];for(let Q=0;Q<Math.max(this.additionalItems.length,J.additionalItems.length);Q++){const Y=this.additionalItems[Q]||0,Z=J.additionalItems[Q]||0;X.push(Y|Z)}return v8.create($,X)}intersects(J){if((this.items&J.items)!==0)return!0;for(let $=0;$<Math.min(this.additionalItems.length,J.additionalItems.length);$++)if((this.additionalItems[$]&J.additionalItems[$])!==0)return!0;return!1}}class qw{constructor(){this.items=new Map}getKey(J){let $=this.items.get(J);if($===void 0)$=this.items.size,this.items.set(J,$);return $}}var wA,Gw;var A3=N(()=>{wA=[];v8.cache=new Array(129);v8.empty=v8.create(0,wA);Gw={getKey(J){return J}}});class EA{get length(){return this._length}constructor(J){this._length=J}}class P3 extends EA{static create(J,$,X){let Q=J.length;if($)Q=P8(Q,$.length);if(X)Q=P8(Q,X.length);return new P3(Q,J,$,X,$?$.missingOpeningBracketIds:v8.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(J){switch(J){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const J=[];if(J.push(this.openingBracket),this.child)J.push(this.child);if(this.closingBracket)J.push(this.closingBracket);return J}constructor(J,$,X,Q,Y){super(J);this.openingBracket=$,this.child=X,this.closingBracket=Q,this.missingOpeningBracketIds=Y}canBeReused(J){if(this.closingBracket===null)return!1;if(J.intersects(this.missingOpeningBracketIds))return!1;return!0}deepClone(){return new P3(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(J,$){return this.child?this.child.computeMinIndentation(P8(J,this.openingBracket.length),$):Number.MAX_SAFE_INTEGER}}class r9 extends EA{static create23(J,$,X,Q=!1){let{length:Y,missingOpeningBracketIds:Z}=J;if(J.listHeight!==$.listHeight)throw new Error("Invalid list heights");if(Y=P8(Y,$.length),Z=Z.merge($.missingOpeningBracketIds),X){if(J.listHeight!==X.listHeight)throw new Error("Invalid list heights");Y=P8(Y,X.length),Z=Z.merge(X.missingOpeningBracketIds)}return Q?new uu(Y,J.listHeight+1,J,$,X,Z):new iz(Y,J.listHeight+1,J,$,X,Z)}static getEmpty(){return new cu(r6,0,[],v8.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(J,$,X){super(J);this.listHeight=$,this._missingOpeningBracketIds=X,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const J=this.childrenLength;if(J===0)return;const $=this.getChild(J-1),X=$.kind===4?$.toMutable():$;if($!==X)this.setChild(J-1,X);return X}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const $=this.getChild(0),X=$.kind===4?$.toMutable():$;if($!==X)this.setChild(0,X);return X}canBeReused(J){if(J.intersects(this.missingOpeningBracketIds))return!1;if(this.childrenLength===0)return!1;let $=this;while($.kind===4){const X=$.childrenLength;if(X===0)throw new b1;$=$.getChild(X-1)}return $.canBeReused(J)}handleChildrenChanged(){this.throwIfImmutable();const J=this.childrenLength;let $=this.getChild(0).length,X=this.getChild(0).missingOpeningBracketIds;for(let Q=1;Q<J;Q++){const Y=this.getChild(Q);$=P8($,Y.length),X=X.merge(Y.missingOpeningBracketIds)}this._length=$,this._missingOpeningBracketIds=X,this.cachedMinIndentation=-1}computeMinIndentation(J,$){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let X=Number.MAX_SAFE_INTEGER,Q=J;for(let Y=0;Y<this.childrenLength;Y++){const Z=this.getChild(Y);if(Z)X=Math.min(X,Z.computeMinIndentation(Q,$)),Q=P8(Q,Z.length)}return this.cachedMinIndentation=X,X}}class iz extends r9{get childrenLength(){return this._item3!==null?3:2}getChild(J){switch(J){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(J,$){switch(J){case 0:this._item1=$;return;case 1:this._item2=$;return;case 2:this._item3=$;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(J,$,X,Q,Y,Z){super(J,$,Z);this._item1=X,this._item2=Q,this._item3=Y}deepClone(){return new iz(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=J,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const J=this._item3;return this._item3=null,this.handleChildrenChanged(),J}prependChildOfSameHeight(J){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=J,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const J=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),J}toMutable(){return this}}class uu extends iz{toMutable(){return new iz(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class LA extends r9{get childrenLength(){return this._children.length}getChild(J){return this._children[J]}setChild(J,$){this._children[J]=$}get children(){return this._children}constructor(J,$,X,Q){super(J,$,Q);this._children=X}deepClone(){const J=new Array(this._children.length);for(let $=0;$<this._children.length;$++)J[$]=this._children[$].deepClone();return new LA(this.length,this.listHeight,J,this.missingOpeningBracketIds)}appendChildOfSameHeight(J){this.throwIfImmutable(),this._children.push(J),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const J=this._children.pop();return this.handleChildrenChanged(),J}prependChildOfSameHeight(J){this.throwIfImmutable(),this._children.unshift(J),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const J=this._children.shift();return this.handleChildrenChanged(),J}toMutable(){return this}}class cu extends LA{toMutable(){return new LA(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class kA extends EA{get listHeight(){return 0}get childrenLength(){return 0}getChild(J){return null}get children(){return V50}deepClone(){return this}}class x$ extends kA{get kind(){return 0}get missingOpeningBracketIds(){return v8.getEmpty()}canBeReused(J){return!0}computeMinIndentation(J,$){const X=G5(J),Q=(X.columnCount===0?X.lineCount:X.lineCount+1)+1,Y=gu(P8(J,this.length))+1;let Z=Number.MAX_SAFE_INTEGER;for(let G=Q;G<=Y;G++){const q=$.getLineFirstNonWhitespaceColumn(G),U=$.getLineContent(G);if(q===0)continue;const H=J8.visibleColumnFromColumn(U,q,$.getOptions().tabSize);Z=Math.min(Z,H)}return Z}}class nz extends kA{static create(J,$,X){return new nz(J,$,X)}get kind(){return 1}get missingOpeningBracketIds(){return v8.getEmpty()}constructor(J,$,X){super(J);this.bracketInfo=$,this.bracketIds=X}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(J){return!1}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}class Uw extends kA{get kind(){return 3}constructor(J,$){super($);this.missingOpeningBracketIds=J}canBeReused(J){return!J.intersects(this.missingOpeningBracketIds)}computeMinIndentation(J,$){return Number.MAX_SAFE_INTEGER}}var V50;var oz=N(()=>{D1();SJ();C$();A3();V50=[]});class b${constructor(J,$,X,Q,Y){this.length=J,this.kind=$,this.bracketId=X,this.bracketIds=Q,this.astNode=Y}}class Hw{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.reader=new lu(this.textModel,this.bracketTokens),this._offset=r6,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return A8(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(J){this.didPeek=!1,this._offset=P8(this._offset,J);const $=G5(this._offset);this.reader.setPosition($.lineCount,$.columnCount)}read(){let J;if(this.peeked)this.didPeek=!1,J=this.peeked;else J=this.reader.read();if(J)this._offset=P8(this._offset,J.length);return J}peek(){if(!this.didPeek)this.peeked=this.reader.read(),this.didPeek=!0;return this.peeked}}class lu{constructor(J,$){this.textModel=J,this.bracketTokens=$,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=J.getLineCount(),this.textBufferLastLineLength=J.getLineLength(this.textBufferLineCount)}setPosition(J,$){if(J===this.lineIdx){if(this.lineCharOffset=$,this.line!==null)this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)}else this.lineIdx=J,this.lineCharOffset=$,this.line=null;this.peekedToken=null}read(){if(this.peekedToken){const Y=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=Xw(Y.length),Y}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;if(this.line===null)this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset);const J=this.lineIdx,$=this.lineCharOffset;let X=0;while(!0){const Y=this.lineTokens,Z=Y.getCount();let G=null;if(this.lineTokenOffset<Z){const q=Y.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<Z&&q===Y.getMetadata(this.lineTokenOffset+1))this.lineTokenOffset++;const U=d6.getTokenType(q)===0,H=d6.containsBalancedBrackets(q),z=Y.getEndOffset(this.lineTokenOffset);if(H&&U&&this.lineCharOffset<z){const V=Y.getLanguageId(this.lineTokenOffset),j=this.line.substring(this.lineCharOffset,z),W=this.bracketTokens.getSingleLanguageBracketTokens(V),B=W.regExpGlobal;if(B){B.lastIndex=0;const K=B.exec(j);if(K){if(G=W.getToken(K[0]),G)this.lineCharOffset+=K.index}}}if(X+=z-this.lineCharOffset,G)if(J!==this.lineIdx||$!==this.lineCharOffset){this.peekedToken=G;break}else return this.lineCharOffset+=Xw(G.length),G;else this.lineTokenOffset++,this.lineCharOffset=z}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,X+=33,X>1000)break}if(X>1500)break}const Q=hu(J,$,this.lineIdx,this.lineCharOffset);return new b$(Q,0,-1,v8.getEmpty(),new x$(Q))}}class zw{constructor(J,$){this.text=J,this._offset=r6,this.idx=0;const X=$.getRegExpStr(),Q=X?new RegExp(X+"|\n","gi"):null,Y=[];let Z,G=0,q=0,U=0,H=0;const z=[];for(let W=0;W<60;W++)z.push(new b$(A8(0,W),0,-1,v8.getEmpty(),new x$(A8(0,W))));const V=[];for(let W=0;W<60;W++)V.push(new b$(A8(1,W),0,-1,v8.getEmpty(),new x$(A8(1,W))));if(Q){Q.lastIndex=0;while((Z=Q.exec(J))!==null){const W=Z.index,B=Z[0];if(B==="\n")G++,q=W+1;else{if(U!==W){let K;if(H===G){const P=W-U;if(P<z.length)K=z[P];else{const A=A8(0,P);K=new b$(A,0,-1,v8.getEmpty(),new x$(A))}}else{const P=G-H,A=W-q;if(P===1&&A<V.length)K=V[A];else{const D=A8(P,A);K=new b$(D,0,-1,v8.getEmpty(),new x$(D))}}Y.push(K)}Y.push($.getToken(B)),U=W+B.length,H=G}}}const j=J.length;if(U!==j){const W=H===G?A8(0,j-U):A8(G-H,j-q);Y.push(new b$(W,0,-1,v8.getEmpty(),new x$(W)))}this.length=A8(G,j-q),this.tokens=Y}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(J){throw new RM}}var Vw=N(()=>{D1();Lq();oz();C$();A3()});class jw{static createFromLanguage(J,$){function X(Y){return $.getKey(`${Y.languageId}:::${Y.bracketText}`)}const Q=new Map;for(let Y of J.bracketsNew.openingBrackets){const Z=A8(0,Y.bracketText.length),G=X(Y),q=v8.getEmpty().add(G,Gw);Q.set(Y.bracketText,new b$(Z,1,G,q,nz.create(Z,Y,q)))}for(let Y of J.bracketsNew.closingBrackets){const Z=A8(0,Y.bracketText.length);let G=v8.getEmpty();const q=Y.getOpeningBrackets();for(let U of q)G=G.add(X(U),Gw);Q.set(Y.bracketText,new b$(Z,2,X(q[0]),G,nz.create(Z,Y,G)))}return new jw(Q)}constructor(J){this.map=J,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;else{const J=[...this.map.keys()];return J.sort(),J.reverse(),J.map(($)=>j50($)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const J=this.getRegExpStr();this._regExpGlobal=J?new RegExp(J,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(J){return this.map.get(J.toLowerCase())}findClosingTokenText(J){for(let[$,X]of this.map)if(X.kind===2&&X.bracketIds.intersects(J))return $;return}get isEmpty(){return this.map.size===0}}class Ww{constructor(J,$){this.denseKeyProvider=J,this.getLanguageConfiguration=$,this.languageIdToBracketTokens=new Map}didLanguageChange(J){return this.languageIdToBracketTokens.has(J)}getSingleLanguageBracketTokens(J){let $=this.languageIdToBracketTokens.get(J);if(!$)$=jw.createFromLanguage(this.getLanguageConfiguration(J),this.denseKeyProvider),this.languageIdToBracketTokens.set(J,$);return $}}var j50;var du=N(()=>{o0();oz();C$();A3();Vw();j50=function(J){let $=J5(J);if(/^[\w ]+/.test(J))$=`\\b${$}`;if(/[\w ]+$/.test(J))$=`${$}\\b`;return $}});function au(J){if(J.length===0)return null;if(J.length===1)return J[0];let $=0;function X(){if($>=J.length)return null;const G=$,q=J[G].listHeight;$++;while($<J.length&&J[$].listHeight===q)$++;if($-G>=2)return Fw(G===0&&$===J.length?J:J.slice(G,$),!1);else return J[G]}let Q=X(),Y=X();if(!Y)return Q;for(let G=X();G;G=X())if(su(Q,Y)<=su(Y,G))Q=Bw(Q,Y),Y=G;else Y=Bw(Y,G);return Bw(Q,Y)}function Fw(J,$=!1){if(J.length===0)return null;if(J.length===1)return J[0];let X=J.length;while(X>3){const Q=X>>1;for(let Y=0;Y<Q;Y++){const Z=Y<<1;J[Y]=r9.create23(J[Z],J[Z+1],Z+3===X?J[Z+2]:null,$)}X=Q}return r9.create23(J[0],J[1],X>=3?J[2]:null,$)}var su,Bw,W50,B50;var ru=N(()=>{oz();su=function(J,$){return Math.abs(J.listHeight-$.listHeight)},Bw=function(J,$){if(J.listHeight===$.listHeight)return r9.create23(J,$,null,!1);else if(J.listHeight>$.listHeight)return W50(J,$);else return B50($,J)},W50=function(J,$){J=J.toMutable();let X=J;const Q=[];let Y;while(!0){if($.listHeight===X.listHeight){Y=$;break}if(X.kind!==4)throw new Error("unexpected");Q.push(X),X=X.makeLastElementMutable()}for(let Z=Q.length-1;Z>=0;Z--){const G=Q[Z];if(Y)if(G.childrenLength>=3)Y=r9.create23(G.unappendChild(),Y,null,!1);else G.appendChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return r9.create23(J,Y,null,!1);else return J},B50=function(J,$){J=J.toMutable();let X=J;const Q=[];while($.listHeight!==X.listHeight){if(X.kind!==4)throw new Error("unexpected");Q.push(X),X=X.makeFirstElementMutable()}let Y=$;for(let Z=Q.length-1;Z>=0;Z--){const G=Q[Z];if(Y)if(G.childrenLength>=3)Y=r9.create23(Y,G.unprependChild(),null,!1);else G.prependChildOfSameHeight(Y),Y=void 0;else G.handleChildrenChanged()}if(Y)return r9.create23(Y,J,null,!1);else return J}});class Aw{constructor(J){this.lastOffset=r6,this.nextNodes=[J],this.offsets=[r6],this.idxs=[]}readLongestNodeAt(J,$){if(qQ(J,this.lastOffset))throw new Error("Invalid offset");this.lastOffset=J;while(!0){const X=tz(this.nextNodes);if(!X)return;const Q=tz(this.offsets);if(qQ(J,Q))return;if(qQ(Q,J))if(P8(Q,X.length)<=J)this.nextNodeAfterCurrent();else{const Y=Kw(X);if(Y!==-1)this.nextNodes.push(X.getChild(Y)),this.offsets.push(Q),this.idxs.push(Y);else this.nextNodeAfterCurrent()}else if($(X))return this.nextNodeAfterCurrent(),X;else{const Y=Kw(X);if(Y===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(X.getChild(Y)),this.offsets.push(Q),this.idxs.push(Y)}}}nextNodeAfterCurrent(){while(!0){const J=tz(this.offsets),$=tz(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const X=tz(this.nextNodes),Q=Kw(X,this.idxs[this.idxs.length-1]);if(Q!==-1){this.nextNodes.push(X.getChild(Q)),this.offsets.push(P8(J,$.length)),this.idxs[this.idxs.length-1]=Q;break}else this.idxs.pop()}}}var Kw,tz;var iu=N(()=>{C$();Kw=function(J,$=-1){while(!0){if($++,$>=J.childrenLength)return-1;if(J.getChild($))return $}},tz=function(J){return J.length>0?J[J.length-1]:void 0}});function Pw(J,$,X,Q){return new nu(J,$,X,Q).parseDocument()}class nu{constructor(J,$,X,Q){if(this.tokenizer=J,this.createImmutableLists=Q,this._itemsConstructed=0,this._itemsFromCache=0,X&&Q)throw new Error("Not supported");this.oldNodeReader=X?new Aw(X):void 0,this.positionMapper=new Yw($)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let J=this.parseList(v8.getEmpty(),0);if(!J)J=r9.getEmpty();return J}parseList(J,$){const X=[];while(!0){let Y=this.tryReadChildFromCache(J);if(!Y){const Z=this.tokenizer.peek();if(!Z||Z.kind===2&&Z.bracketIds.intersects(J))break;Y=this.parseChild(J,$+1)}if(Y.kind===4&&Y.childrenLength===0)continue;X.push(Y)}return this.oldNodeReader?au(X):Fw(X,this.createImmutableLists)}tryReadChildFromCache(J){if(this.oldNodeReader){const $=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if($===null||!F3($)){const X=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(Q)=>{if($!==null&&!qQ(Q.length,$))return!1;return Q.canBeReused(J)});if(X)return this._itemsFromCache++,this.tokenizer.skip(X.length),X}}return}parseChild(J,$){this._itemsConstructed++;const X=this.tokenizer.read();switch(X.kind){case 2:return new Uw(X.bracketIds,X.length);case 0:return X.astNode;case 1:{if($>300)return new x$(X.length);const Q=J.merge(X.bracketIds),Y=this.parseList(Q,$+1),Z=this.tokenizer.peek();if(Z&&Z.kind===2&&(Z.bracketId===X.bracketId||Z.bracketIds.intersects(X.bracketIds)))return this.tokenizer.read(),P3.create(X.astNode,Y,Z.astNode);else return P3.create(X.astNode,Y,null)}default:throw new Error("unexpected")}}}var ou=N(()=>{oz();rz();A3();C$();ru();iu()});function D3(J,$){if(J.length===0)return $;if($.length===0)return J;const X=new n7(tu(J)),Q=tu($);Q.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let Y=X.dequeue();function Z(H){if(H===void 0){const V=X.takeWhile((j)=>!0)||[];if(Y)V.unshift(Y);return V}const z=[];while(Y&&!F3(H)){const[V,j]=Y.splitAt(H);z.push(V),H=uG(V.lengthAfter,H),Y=j!==null&&j!==void 0?j:X.dequeue()}if(!F3(H))z.push(new EY(!1,H,H));return z}const G=[];function q(H,z,V){if(G.length>0&&Qw(G[G.length-1].endOffset,H)){const j=G[G.length-1];G[G.length-1]=new vJ(j.startOffset,z,P8(j.newLength,V))}else G.push({startOffset:H,endOffset:z,newLength:V})}let U=r6;for(let H of Q){const z=Z(H.lengthBefore);if(H.modified){const V=pu(z,(W)=>W.lengthBefore),j=P8(U,V);q(U,j,H.lengthAfter),U=j}else for(let V of z){const j=U;if(U=P8(U,V.lengthBefore),V.modified)q(j,U,V.lengthAfter)}}return G}class EY{constructor(J,$,X){this.modified=J,this.lengthBefore=$,this.lengthAfter=X}splitAt(J){const $=uG(J,this.lengthAfter);if(Qw($,r6))return[this,void 0];else if(this.modified)return[new EY(this.modified,this.lengthBefore,J),new EY(this.modified,r6,$)];else return[new EY(this.modified,J,J),new EY(this.modified,$,$)]}toString(){return`${this.modified?"M":"U"}:${G5(this.lengthBefore)} -> ${G5(this.lengthAfter)}`}}var tu;var Dw=N(()=>{H1();rz();C$();tu=function(J){const $=[];let X=r6;for(let Q of J){const Y=uG(X,Q.startOffset);if(!F3(Y))$.push(new EY(!1,Y,Y));const Z=uG(Q.startOffset,Q.endOffset);$.push(new EY(!0,Z,Q.newLength)),X=Q.endOffset}return $}});class Ow extends f{didLanguageChange(J){return this.brackets.didLanguageChange(J)}constructor(J,$){super();if(this.textModel=J,this.getLanguageConfiguration=$,this.didChangeEmitter=new y,this.denseKeyProvider=new qw,this.brackets=new Ww(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],!J.tokenization.hasTokens){const X=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Q=new zw(this.textModel.getValue(),X);this.initialAstWithoutTokens=Pw(Q,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else if(J.tokenization.backgroundTokenizationState===2)this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1);else this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const J=this.initialAstWithoutTokens===void 0;if(this.initialAstWithoutTokens=void 0,!J)this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:J}){const $=J.map((X)=>new vJ(A8(X.fromLineNumber-1,0),A8(X.toLineNumber,0),A8(X.toLineNumber-X.fromLineNumber+1,0)));if(this.handleEdits($,!0),!this.initialAstWithoutTokens)this.didChangeEmitter.fire()}handleContentChanged(J){const $=vJ.fromModelContentChanges(J.changes);this.handleEdits($,!1)}handleEdits(J,$){const X=D3(this.queuedTextEdits,J);if(this.queuedTextEdits=X,this.initialAstWithoutTokens&&!$)this.queuedTextEditsForInitialAstWithoutTokens=D3(this.queuedTextEditsForInitialAstWithoutTokens,J)}flushQueue(){if(this.queuedTextEdits.length>0)this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[];if(this.queuedTextEditsForInitialAstWithoutTokens.length>0){if(this.initialAstWithoutTokens)this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1);this.queuedTextEditsForInitialAstWithoutTokens=[]}}parseDocumentFromTextBuffer(J,$,X){const Y=$,Z=new Hw(this.textModel,this.brackets);return Pw(Z,J,Y,X)}getBracketsInRange(J,$){this.flushQueue();const X=A8(J.startLineNumber-1,J.startColumn-1),Q=A8(J.endLineNumber-1,J.endColumn-1);return new qJ((Y)=>{const Z=this.initialAstWithoutTokens||this.astWithTokens;Rw(Z,r6,Z.length,X,Q,Y,0,0,new Map,$)})}getBracketPairsInRange(J,$){this.flushQueue();const X=wY(J.getStartPosition()),Q=wY(J.getEndPosition());return new qJ((Y)=>{const Z=this.initialAstWithoutTokens||this.astWithTokens,G=new $c(Y,$,this.textModel);Mw(Z,r6,Z.length,X,Q,G,0,new Map)})}getFirstBracketAfter(J){this.flushQueue();const $=this.initialAstWithoutTokens||this.astWithTokens;return Jc($,r6,$.length,wY(J))}getFirstBracketBefore(J){this.flushQueue();const $=this.initialAstWithoutTokens||this.astWithTokens;return eu($,r6,$.length,wY(J))}}class $c{constructor(J,$,X){this.push=J,this.includeMinIndentation=$,this.textModel=X}}var eu,Jc,Rw,Mw;var Xc=N(()=>{F0();X0();fu();rz();du();C$();ou();A3();Vw();H1();Dw();eu=function(J,$,X,Q){if(J.kind===4||J.kind===2){const Y=[];for(let Z of J.children)X=P8($,Z.length),Y.push({nodeOffsetStart:$,nodeOffsetEnd:X}),$=X;for(let Z=Y.length-1;Z>=0;Z--){const{nodeOffsetStart:G,nodeOffsetEnd:q}=Y[Z];if(qQ(G,Q)){const U=eu(J.children[Z],G,q,Q);if(U)return U}}return null}else if(J.kind===3)return null;else if(J.kind===1){const Y=LY($,X);return{bracketInfo:J.bracketInfo,range:Y}}return null},Jc=function(J,$,X,Q){if(J.kind===4||J.kind===2){for(let Y of J.children){if(X=P8($,Y.length),qQ(Q,X)){const Z=Jc(Y,$,X,Q);if(Z)return Z}$=X}return null}else if(J.kind===3)return null;else if(J.kind===1){const Y=LY($,X);return{bracketInfo:J.bracketInfo,range:Y}}return null},Rw=function(J,$,X,Q,Y,Z,G,q,U,H,z=!1){if(G>200)return!0;J:while(!0)switch(J.kind){case 4:{const V=J.childrenLength;for(let j=0;j<V;j++){const W=J.getChild(j);if(!W)continue;if(X=P8($,W.length),_Y($,Y)&&K3(X,Q)){if(K3(X,Y)){J=W;continue J}if(!Rw(W,$,X,Q,Y,Z,G,0,U,H))return!1}$=X}return!0}case 2:{const V=!H||!J.closingBracket||J.closingBracket.bracketInfo.closesColorized(J.openingBracket.bracketInfo);let j=0;if(U){let B=U.get(J.openingBracket.text);if(B===void 0)B=0;if(j=B,V)B++,U.set(J.openingBracket.text,B)}const W=J.childrenLength;for(let B=0;B<W;B++){const K=J.getChild(B);if(!K)continue;if(X=P8($,K.length),_Y($,Y)&&K3(X,Q)){if(K3(X,Y)&&K.kind!==1){if(J=K,V)G++,q=j+1;else q=j;continue J}if(V||K.kind!==1||!J.closingBracket){if(!Rw(K,$,X,Q,Y,Z,V?G+1:G,V?j+1:j,U,H,!J.closingBracket))return!1}}$=X}return U===null||U===void 0||U.set(J.openingBracket.text,j),!0}case 3:{const V=LY($,X);return Z(new _A(V,G-1,0,!0))}case 1:{const V=LY($,X);return Z(new _A(V,G-1,q-1,z))}case 0:return!0}},Mw=function(J,$,X,Q,Y,Z,G,q){var U;if(G>200)return!0;let H=!0;if(J.kind===2){let z=0;if(q){let W=q.get(J.openingBracket.text);if(W===void 0)W=0;z=W,W++,q.set(J.openingBracket.text,W)}const V=P8($,J.openingBracket.length);let j=-1;if(Z.includeMinIndentation)j=J.computeMinIndentation($,Z.textModel);if(H=Z.push(new $w(LY($,X),LY($,V),J.closingBracket?LY(P8(V,((U=J.child)===null||U===void 0?void 0:U.length)||r6),X):void 0,G,z,J,j)),$=V,H&&J.child){const W=J.child;if(X=P8($,W.length),_Y($,Y)&&K3(X,Q)){if(H=Mw(W,$,X,Q,Y,Z,G+1,q),!H)return!1}}q===null||q===void 0||q.set(J.openingBracket.text,z)}else{let z=$;for(let V of J.children){const j=z;if(z=P8(z,V.length),_Y(j,Y)&&_Y(Q,z)){if(H=Mw(V,j,z,Q,Y,Z,G,q),!H)return!1}}}return H}});class Nw extends f{get canBuildAST(){return this.textModel.getValueLength()<=5000000}constructor(J,$){super();this.textModel=J,this.languageConfigurationService=$,this.bracketPairsTree=this._register(new m6),this.onDidChangeEmitter=new y,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((X)=>{var Q;if(!X.languageId||((Q=this.bracketPairsTree.value)===null||Q===void 0?void 0:Q.object.didLanguageChange(X.languageId)))this.bracketPairsTree.clear(),this.updateBracketPairsTree()}))}handleDidChangeOptions(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(J){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleContentChanged(J)}handleDidChangeBackgroundTokenizationState(){var J;(J=this.bracketPairsTree.value)===null||J===void 0||J.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(J){var $;($=this.bracketPairsTree.value)===null||$===void 0||$.object.handleDidChangeTokens(J)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const J=new r;this.bracketPairsTree.value=F50(J.add(new Ow(this.textModel,($)=>{return this.languageConfigurationService.getLanguageConfiguration($)})),J),J.add(this.bracketPairsTree.value.object.onDidChange(($)=>this.onDidChangeEmitter.fire($))),this.onDidChangeEmitter.fire()}}else if(this.bracketPairsTree.value)this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire()}getBracketPairsInRange(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!1))||qJ.empty}getBracketPairsInRangeWithMinIndentation(J){var $;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getBracketPairsInRange(J,!0))||qJ.empty}getBracketsInRange(J,$=!1){var X;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((X=this.bracketPairsTree.value)===null||X===void 0?void 0:X.object.getBracketsInRange(J,$))||qJ.empty}findMatchingBracketUp(J,$,X){const Q=this.textModel.validatePosition($),Y=this.textModel.getLanguageIdAtPosition(Q.lineNumber,Q.column);if(this.canBuildAST){const Z=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew.getClosingBracketInfo(J);if(!Z)return null;const G=this.getBracketPairsInRange(L.fromPositions($,$)).findLast((q)=>Z.closes(q.openingBracketInfo));if(G)return G.openingBracketRange;return null}else{const Z=J.toLowerCase(),G=this.languageConfigurationService.getLanguageConfiguration(Y).brackets;if(!G)return null;const q=G.textIsBracket[Z];if(!q)return null;return IA(this._findMatchingBracketUp(q,Q,Tw(X)))}}matchBracket(J,$){if(this.canBuildAST){const X=this.getBracketPairsInRange(L.fromPositions(J,J)).filter((Q)=>Q.closingBracketRange!==void 0&&(Q.openingBracketRange.containsPosition(J)||Q.closingBracketRange.containsPosition(J))).findLastMaxBy(y5((Q)=>Q.openingBracketRange.containsPosition(J)?Q.openingBracketRange:Q.closingBracketRange,L.compareRangesUsingStarts));if(X)return[X.openingBracketRange,X.closingBracketRange];return null}else{const X=Tw($);return this._matchBracket(this.textModel.validatePosition(J),X)}}_establishBracketSearchOffsets(J,$,X,Q){const Y=$.getCount(),Z=$.getLanguageId(Q);let G=Math.max(0,J.column-1-X.maxBracketLength);for(let U=Q-1;U>=0;U--){const H=$.getEndOffset(U);if(H<=G)break;if(_J($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){G=H;break}}let q=Math.min($.getLineContent().length,J.column-1+X.maxBracketLength);for(let U=Q+1;U<Y;U++){const H=$.getStartOffset(U);if(H>=q)break;if(_J($.getStandardTokenType(U))||$.getLanguageId(U)!==Z){q=H;break}}return{searchStartOffset:G,searchEndOffset:q}}_matchBracket(J,$){const X=J.lineNumber,Q=this.textModel.tokenization.getLineTokens(X),Y=this.textModel.getLineContent(X),Z=Q.findTokenIndexAtOffset(J.column-1);if(Z<0)return null;const G=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId(Z)).brackets;if(G&&!_J(Q.getStandardTokenType(Z))){let{searchStartOffset:q,searchEndOffset:U}=this._establishBracketSearchOffsets(J,Q,G,Z),H=null;while(!0){const z=h5.findNextBracketInRange(G.forwardRegex,X,Y,q,U);if(!z)break;if(z.startColumn<=J.column&&J.column<=z.endColumn){const V=Y.substring(z.startColumn-1,z.endColumn-1).toLowerCase(),j=this._matchFoundBracket(z,G.textIsBracket[V],G.textIsOpenBracket[V],$);if(j){if(j instanceof v$)return null;H=j}}q=z.endColumn-1}if(H)return H}if(Z>0&&Q.getStartOffset(Z)===J.column-1){const q=Z-1,U=this.languageConfigurationService.getLanguageConfiguration(Q.getLanguageId(q)).brackets;if(U&&!_J(Q.getStandardTokenType(q))){const{searchStartOffset:H,searchEndOffset:z}=this._establishBracketSearchOffsets(J,Q,U,q),V=h5.findPrevBracketInRange(U.reversedRegex,X,Y,H,z);if(V&&V.startColumn<=J.column&&J.column<=V.endColumn){const j=Y.substring(V.startColumn-1,V.endColumn-1).toLowerCase(),W=this._matchFoundBracket(V,U.textIsBracket[j],U.textIsOpenBracket[j],$);if(W){if(W instanceof v$)return null;return W}}}}return null}_matchFoundBracket(J,$,X,Q){if(!$)return null;const Y=X?this._findMatchingBracketDown($,J.getEndPosition(),Q):this._findMatchingBracketUp($,J.getStartPosition(),Q);if(!Y)return null;if(Y instanceof v$)return Y;return[J,Y]}_findMatchingBracketUp(J,$,X){const{languageId:Q,reversedRegex:Y}=J;let Z=-1,G=0;const q=(U,H,z,V)=>{while(!0){if(X&&++G%100===0&&!X())return v$.INSTANCE;const j=h5.findPrevBracketInRange(Y,U,H,z,V);if(!j)break;const W=H.substring(j.startColumn-1,j.endColumn-1).toLowerCase();if(J.isOpen(W))Z++;else if(J.isClose(W))Z--;if(Z===0)return j;V=j.startColumn-1}return null};for(let U=$.lineNumber;U>=1;U--){const H=this.textModel.tokenization.getLineTokens(U),z=H.getCount(),V=this.textModel.getLineContent(U);let j=z-1,W=V.length,B=V.length;if(U===$.lineNumber)j=H.findTokenIndexAtOffset($.column-1),W=$.column-1,B=$.column-1;let K=!0;for(;j>=0;j--){const P=H.getLanguageId(j)===Q&&!_J(H.getStandardTokenType(j));if(P)if(K)W=H.getStartOffset(j);else W=H.getStartOffset(j),B=H.getEndOffset(j);else if(K&&W!==B){const A=q(U,V,W,B);if(A)return A}K=P}if(K&&W!==B){const P=q(U,V,W,B);if(P)return P}}return null}_findMatchingBracketDown(J,$,X){const{languageId:Q,forwardRegex:Y}=J;let Z=1,G=0;const q=(H,z,V,j)=>{while(!0){if(X&&++G%100===0&&!X())return v$.INSTANCE;const W=h5.findNextBracketInRange(Y,H,z,V,j);if(!W)break;const B=z.substring(W.startColumn-1,W.endColumn-1).toLowerCase();if(J.isOpen(B))Z++;else if(J.isClose(B))Z--;if(Z===0)return W;V=W.endColumn-1}return null},U=this.textModel.getLineCount();for(let H=$.lineNumber;H<=U;H++){const z=this.textModel.tokenization.getLineTokens(H),V=z.getCount(),j=this.textModel.getLineContent(H);let W=0,B=0,K=0;if(H===$.lineNumber)W=z.findTokenIndexAtOffset($.column-1),B=$.column-1,K=$.column-1;let P=!0;for(;W<V;W++){const A=z.getLanguageId(W)===Q&&!_J(z.getStandardTokenType(W));if(A)if(P)K=z.getEndOffset(W);else B=z.getStartOffset(W),K=z.getEndOffset(W);else if(P&&B!==K){const D=q(H,j,B,K);if(D)return D}P=A}if(P&&B!==K){const A=q(H,j,B,K);if(A)return A}}return null}findPrevBracket(J){var $;const X=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketBefore(X))||null;let Q=null,Y=null,Z=null;for(let G=X.lineNumber;G>=1;G--){const q=this.textModel.tokenization.getLineTokens(G),U=q.getCount(),H=this.textModel.getLineContent(G);let z=U-1,V=H.length,j=H.length;if(G===X.lineNumber){z=q.findTokenIndexAtOffset(X.column-1),V=X.column-1,j=X.column-1;const B=q.getLanguageId(z);if(Q!==B)Q=B,Y=this.languageConfigurationService.getLanguageConfiguration(Q).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(Q).bracketsNew}let W=!0;for(;z>=0;z--){const B=q.getLanguageId(z);if(Q!==B){if(Y&&Z&&W&&V!==j){const P=h5.findPrevBracketInRange(Y.reversedRegex,G,H,V,j);if(P)return this._toFoundBracket(Z,P);W=!1}Q=B,Y=this.languageConfigurationService.getLanguageConfiguration(Q).brackets,Z=this.languageConfigurationService.getLanguageConfiguration(Q).bracketsNew}const K=!!Y&&!_J(q.getStandardTokenType(z));if(K)if(W)V=q.getStartOffset(z);else V=q.getStartOffset(z),j=q.getEndOffset(z);else if(Z&&Y&&W&&V!==j){const P=h5.findPrevBracketInRange(Y.reversedRegex,G,H,V,j);if(P)return this._toFoundBracket(Z,P)}W=K}if(Z&&Y&&W&&V!==j){const B=h5.findPrevBracketInRange(Y.reversedRegex,G,H,V,j);if(B)return this._toFoundBracket(Z,B)}}return null}findNextBracket(J){var $;const X=this.textModel.validatePosition(J);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(($=this.bracketPairsTree.value)===null||$===void 0?void 0:$.object.getFirstBracketAfter(X))||null;const Q=this.textModel.getLineCount();let Y=null,Z=null,G=null;for(let q=X.lineNumber;q<=Q;q++){const U=this.textModel.tokenization.getLineTokens(q),H=U.getCount(),z=this.textModel.getLineContent(q);let V=0,j=0,W=0;if(q===X.lineNumber){V=U.findTokenIndexAtOffset(X.column-1),j=X.column-1,W=X.column-1;const K=U.getLanguageId(V);if(Y!==K)Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}let B=!0;for(;V<H;V++){const K=U.getLanguageId(V);if(Y!==K){if(G&&Z&&B&&j!==W){const A=h5.findNextBracketInRange(Z.forwardRegex,q,z,j,W);if(A)return this._toFoundBracket(G,A);B=!1}Y=K,Z=this.languageConfigurationService.getLanguageConfiguration(Y).brackets,G=this.languageConfigurationService.getLanguageConfiguration(Y).bracketsNew}const P=!!Z&&!_J(U.getStandardTokenType(V));if(P)if(B)W=U.getEndOffset(V);else j=U.getStartOffset(V),W=U.getEndOffset(V);else if(G&&Z&&B&&j!==W){const A=h5.findNextBracketInRange(Z.forwardRegex,q,z,j,W);if(A)return this._toFoundBracket(G,A)}B=P}if(G&&Z&&B&&j!==W){const K=h5.findNextBracketInRange(Z.forwardRegex,q,z,j,W);if(K)return this._toFoundBracket(G,K)}}return null}findEnclosingBrackets(J,$){const X=this.textModel.validatePosition(J);if(this.canBuildAST){const j=L.fromPositions(X),W=this.getBracketPairsInRange(L.fromPositions(X,X)).findLast((B)=>B.closingBracketRange!==void 0&&B.range.strictContainsRange(j));if(W)return[W.openingBracketRange,W.closingBracketRange];return null}const Q=Tw($),Y=this.textModel.getLineCount(),Z=new Map;let G=[];const q=(j,W)=>{if(!Z.has(j)){const B=[];for(let K=0,P=W?W.brackets.length:0;K<P;K++)B[K]=0;Z.set(j,B)}G=Z.get(j)};let U=0;const H=(j,W,B,K,P)=>{while(!0){if(Q&&++U%100===0&&!Q())return v$.INSTANCE;const A=h5.findNextBracketInRange(j.forwardRegex,W,B,K,P);if(!A)break;const D=B.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),R=j.textIsBracket[D];if(R){if(R.isOpen(D))G[R.index]++;else if(R.isClose(D))G[R.index]--;if(G[R.index]===-1)return this._matchFoundBracket(A,R,!1,Q)}K=A.endColumn-1}return null};let z=null,V=null;for(let j=X.lineNumber;j<=Y;j++){const W=this.textModel.tokenization.getLineTokens(j),B=W.getCount(),K=this.textModel.getLineContent(j);let P=0,A=0,D=0;if(j===X.lineNumber){P=W.findTokenIndexAtOffset(X.column-1),A=X.column-1,D=X.column-1;const M=W.getLanguageId(P);if(z!==M)z=M,V=this.languageConfigurationService.getLanguageConfiguration(z).brackets,q(z,V)}let R=!0;for(;P<B;P++){const M=W.getLanguageId(P);if(z!==M){if(V&&R&&A!==D){const _=H(V,j,K,A,D);if(_)return IA(_);R=!1}z=M,V=this.languageConfigurationService.getLanguageConfiguration(z).brackets,q(z,V)}const O=!!V&&!_J(W.getStandardTokenType(P));if(O)if(R)D=W.getEndOffset(P);else A=W.getStartOffset(P),D=W.getEndOffset(P);else if(V&&R&&A!==D){const _=H(V,j,K,A,D);if(_)return IA(_)}R=O}if(V&&R&&A!==D){const M=H(V,j,K,A,D);if(M)return IA(M)}}return null}_toFoundBracket(J,$){if(!$)return null;let X=this.textModel.getValueInRange($);X=X.toLowerCase();const Q=J.getBracketInfo(X);if(!Q)return null;return{range:$,bracketInfo:Q}}}class v${constructor(){this._searchCanceledBrand=void 0}}var F50,Tw,IA;var Qc=N(()=>{H1();F0();X0();c0();XG();sF();Xc();F50=function(J,$){return{object:J,dispose:()=>$===null||$===void 0?void 0:$.dispose()}},Tw=function(J){if(typeof J==="undefined")return()=>!0;else{const $=Date.now();return()=>{return Date.now()-$<=J}}},IA=function(J){if(J instanceof v$)return null;return J};v$.INSTANCE=new v$});class _w extends f{constructor(J){super();this.textModel=J,this.colorProvider=new ww,this.onDidChangeEmitter=new y,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=J.getOptions().bracketPairColorizationOptions,this._register(J.bracketPairs.onDidChange(($)=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(J){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(J,$,X,Q){if(Q)return[];if($===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.textModel.bracketPairs.getBracketsInRange(J,!0).map((Z)=>({id:`bracket${Z.range.toString()}-${Z.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(Z,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:Z.range})).toArray()}getAllDecorations(J,$){if(J===void 0)return[];if(!this.colorizationOptions.enabled)return[];return this.getDecorationsInRange(new L(1,1,this.textModel.getLineCount(),1),J,$)}}class ww{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(J,$){if(J.isInvalid)return this.unexpectedClosingBracketClassName;return this.getInlineClassNameOfLevel($?J.nestingLevelOfEqualBracketType:J.nestingLevel)}getInlineClassNameOfLevel(J){return`bracket-highlighting-${J%30}`}}var Yc=N(()=>{F0();X0();c0();L4();r8();c7((J,$)=>{const X=[tK,eK,JA,$A,XA,QA],Q=new ww;$.addRule(`.monaco-editor .${Q.unexpectedClosingBracketClassName} { color: ${J.getColor(ip)}; }`);const Y=X.map((Z)=>J.getColor(Z)).filter((Z)=>!!Z).filter((Z)=>!Z.isTransparent());for(let Z=0;Z<30;Z++){const G=Y[Z%Y.length];$.addRule(`.monaco-editor .${Q.getInlineClassNameOfLevel(Z)} { color: ${G}; }`)}})});function Zc(J,$){if(J===null||J.length===0)return $;return new f$(J,$).compress()}class b6{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(J,$,X,Q){this.oldPosition=J,this.oldText=$,this.newPosition=X,this.newText=Q}toString(){if(this.oldText.length===0)return`(insert@${this.oldPosition} "${yA(this.newText)}")`;if(this.newText.length===0)return`(delete@${this.oldPosition} "${yA(this.oldText)}")`;return`(replace@${this.oldPosition} "${yA(this.oldText)}" with "${yA(this.newText)}")`}static _writeStringSize(J){return 4+2*J.length}static _writeString(J,$,X){const Q=$.length;v9(J,Q,X),X+=4;for(let Y=0;Y<Q;Y++)Uv(J,$.charCodeAt(Y),X),X+=2;return X}static _readString(J,$){const X=b9(J,$);return $+=4,zv(J,$,X)}writeSize(){return 8+b6._writeStringSize(this.oldText)+b6._writeStringSize(this.newText)}write(J,$){return v9(J,this.oldPosition,$),$+=4,v9(J,this.newPosition,$),$+=4,$=b6._writeString(J,this.oldText,$),$=b6._writeString(J,this.newText,$),$}static read(J,$,X){const Q=b9(J,$);$+=4;const Y=b9(J,$);$+=4;const Z=b6._readString(J,$);$+=b6._writeStringSize(Z);const G=b6._readString(J,$);return $+=b6._writeStringSize(G),X.push(new b6(Q,Z,Y,G)),$}}class f${constructor(J,$){this._prevEdits=J,this._currEdits=$,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let J=0,$=0,X=this._getPrev(J),Q=this._getCurr($);while(J<this._prevLen||$<this._currLen){if(X===null){this._acceptCurr(Q),Q=this._getCurr(++$);continue}if(Q===null){this._acceptPrev(X),X=this._getPrev(++J);continue}if(Q.oldEnd<=X.newPosition){this._acceptCurr(Q),Q=this._getCurr(++$);continue}if(X.newEnd<=Q.oldPosition){this._acceptPrev(X),X=this._getPrev(++J);continue}if(Q.oldPosition<X.newPosition){const[U,H]=f$._splitCurr(Q,X.newPosition-Q.oldPosition);this._acceptCurr(U),Q=H;continue}if(X.newPosition<Q.oldPosition){const[U,H]=f$._splitPrev(X,Q.oldPosition-X.newPosition);this._acceptPrev(U),X=H;continue}let G,q;if(Q.oldEnd===X.newEnd)G=X,q=Q,X=this._getPrev(++J),Q=this._getCurr(++$);else if(Q.oldEnd<X.newEnd){const[U,H]=f$._splitPrev(X,Q.oldLength);G=U,q=Q,X=H,Q=this._getCurr(++$)}else{const[U,H]=f$._splitCurr(Q,X.newLength);G=X,q=U,X=this._getPrev(++J),Q=H}this._result[this._resultLen++]=new b6(G.oldPosition,G.oldText,q.newPosition,q.newText),this._prevDeltaOffset+=G.newLength-G.oldLength,this._currDeltaOffset+=q.newLength-q.oldLength}const Y=f$._merge(this._result);return f$._removeNoOps(Y)}_acceptCurr(J){this._result[this._resultLen++]=f$._rebaseCurr(this._prevDeltaOffset,J),this._currDeltaOffset+=J.newLength-J.oldLength}_getCurr(J){return J<this._currLen?this._currEdits[J]:null}_acceptPrev(J){this._result[this._resultLen++]=f$._rebasePrev(this._currDeltaOffset,J),this._prevDeltaOffset+=J.newLength-J.oldLength}_getPrev(J){return J<this._prevLen?this._prevEdits[J]:null}static _rebaseCurr(J,$){return new b6($.oldPosition-J,$.oldText,$.newPosition,$.newText)}static _rebasePrev(J,$){return new b6($.oldPosition,$.oldText,$.newPosition+J,$.newText)}static _splitPrev(J,$){const X=J.newText.substr(0,$),Q=J.newText.substr($);return[new b6(J.oldPosition,J.oldText,J.newPosition,X),new b6(J.oldEnd,"",J.newPosition+$,Q)]}static _splitCurr(J,$){const X=J.oldText.substr(0,$),Q=J.oldText.substr($);return[new b6(J.oldPosition,X,J.newPosition,J.newText),new b6(J.oldPosition+$,Q,J.newEnd,"")]}static _merge(J){if(J.length===0)return J;const $=[];let X=0,Q=J[0];for(let Y=1;Y<J.length;Y++){const Z=J[Y];if(Q.oldEnd===Z.oldPosition)Q=new b6(Q.oldPosition,Q.oldText+Z.oldText,Q.newPosition,Q.newText+Z.newText);else $[X++]=Q,Q=Z}return $[X++]=Q,$}static _removeNoOps(J){if(J.length===0)return J;const $=[];let X=0;for(let Q=0;Q<J.length;Q++){const Y=J[Q];if(Y.oldText===Y.newText)continue;$[X++]=Y}return $}}var yA;var Lw=N(()=>{dH();YG();yA=function(J){return J.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}});function kY(J){return J===47||J===92}function Ew(J){return J.replace(/[\\/]/g,O8.sep)}function Gc(J){if(J.indexOf("/")===-1)J=Ew(J);if(/^[a-zA-Z]:(\/|$)/.test(J))J="/"+J;return J}function kw(J,$=O8.sep){if(!J)return"";const X=J.length,Q=J.charCodeAt(0);if(kY(Q)){if(kY(J.charCodeAt(1))){if(!kY(J.charCodeAt(2))){let Z=3;const G=Z;for(;Z<X;Z++)if(kY(J.charCodeAt(Z)))break;if(G!==Z&&!kY(J.charCodeAt(Z+1))){Z+=1;for(;Z<X;Z++)if(kY(J.charCodeAt(Z)))return J.slice(0,Z+1).replace(/[\\/]/g,$)}}}return $}else if(qc(Q)){if(J.charCodeAt(1)===58)if(kY(J.charCodeAt(2)))return J.slice(0,2)+$;else return J.slice(0,2)}let Y=J.indexOf("://");if(Y!==-1){Y+=3;for(;Y<X;Y++)if(kY(J.charCodeAt(Y)))return J.slice(0,Y+1)}return""}function ez(J,$,X,Q=X4){if(J===$)return!0;if(!J||!$)return!1;if($.length>J.length)return!1;if(X){if(!t2(J,$))return!1;if($.length===J.length)return!0;let Z=$.length;if($.charAt($.length-1)===Q)Z--;return J.charAt(Z)===Q}if($.charAt($.length-1)!==Q)$+=Q;return J.indexOf($)===0}function qc(J){return J>=65&&J<=90||J>=97&&J<=122}function Uc(J,$=k8){if($)return qc(J.charCodeAt(0))&&J.charCodeAt(1)===58;return!1}var SA=N(()=>{AX();O1();o0()});function UQ(J){return zH(J,!0)}class CA{constructor(J){this._ignorePathCasing=J}compare(J,$,X=!1){if(J===$)return 0;return VH(this.getComparisonKey(J,X),this.getComparisonKey($,X))}isEqual(J,$,X=!1){if(J===$)return!0;if(!J||!$)return!1;return this.getComparisonKey(J,X)===this.getComparisonKey($,X)}getComparisonKey(J,$=!1){return J.with({path:this._ignorePathCasing(J)?J.path.toLowerCase():void 0,fragment:$?null:void 0}).toString()}isEqualOrParent(J,$,X=!1){if(J.scheme===$.scheme){if(J.scheme===J1.file)return ez(UQ(J),UQ($),this._ignorePathCasing(J))&&J.query===$.query&&(X||J.fragment===$.fragment);if(Hc(J.authority,$.authority))return ez(J.path,$.path,this._ignorePathCasing(J),"/")&&J.query===$.query&&(X||J.fragment===$.fragment)}return!1}joinPath(J,...$){return I0.joinPath(J,...$)}basenameOrAuthority(J){return cG(J)||J.authority}basename(J){return O8.basename(J.path)}extname(J){return O8.extname(J.path)}dirname(J){if(J.path.length===0)return J;let $;if(J.scheme===J1.file)$=I0.file(eW(UQ(J))).path;else if($=O8.dirname(J.path),J.authority&&$.length&&$.charCodeAt(0)!==47)console.error(`dirname("${J.toString})) resulted in a relative path`),$="/";return J.with({path:$})}normalizePath(J){if(!J.path.length)return J;let $;if(J.scheme===J1.file)$=I0.file(tW(UQ(J))).path;else $=O8.normalize(J.path);return J.with({path:$})}relativePath(J,$){if(J.scheme!==$.scheme||!Hc(J.authority,$.authority))return;if(J.scheme===J1.file){const Y=Rx(UQ(J),UQ($));return k8?Ew(Y):Y}let X=J.path||"/";const Q=$.path||"/";if(this._ignorePathCasing(J)){let Y=0;for(let Z=Math.min(X.length,Q.length);Y<Z;Y++)if(X.charCodeAt(Y)!==Q.charCodeAt(Y)){if(X.charAt(Y).toLowerCase()!==Q.charAt(Y).toLowerCase())break}X=Q.substr(0,Y)+X.substr(Y)}return O8.relative(X,Q)}resolvePath(J,$){if(J.scheme===J1.file){const X=I0.file(Dx(UQ(J),$));return J.with({authority:X.authority,path:X.path})}return $=Gc($),J.with({path:O8.resolve(J.path,$)})}isAbsolutePath(J){return!!J.path&&J.path[0]==="/"}isEqualAuthority(J,$){return J===$||J!==void 0&&$!==void 0&&RX(J,$)}hasTrailingPathSeparator(J,$=X4){if(J.scheme===J1.file){const X=UQ(J);return X.length>kw(X).length&&X[X.length-1]===$}else{const X=J.path;return X.length>1&&X.charCodeAt(X.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(J.fsPath)}}removeTrailingPathSeparator(J,$=X4){if(zc(J,$))return J.with({path:J.path.substr(0,J.path.length-1)});return J}addTrailingPathSeparator(J,$=X4){let X=!1;if(J.scheme===J1.file){const Q=UQ(J);X=Q!==void 0&&Q.length===kw(Q).length&&Q[Q.length-1]===$}else{$="/";const Q=J.path;X=Q.length===1&&Q.charCodeAt(Q.length-1)===47}if(!X&&!zc(J,$))return J.with({path:J.path+"/"});return J}}var W8,Kw0,Aw0,Vc,Pw0,Dw0,Rw0,cG,jc,xA,Mw0,Wc,Ow0,Iw,Tw0,Hc,zc,Nw0,_w0,h$;var g$=N(()=>{SA();z9();AX();O1();o0();e8();W8=new CA(()=>!1),Kw0=new CA((J)=>{return J.scheme===J1.file?!B8:!0}),Aw0=new CA((J)=>!0),Vc=W8.isEqual.bind(W8),Pw0=W8.isEqualOrParent.bind(W8),Dw0=W8.getComparisonKey.bind(W8),Rw0=W8.basenameOrAuthority.bind(W8),cG=W8.basename.bind(W8),jc=W8.extname.bind(W8),xA=W8.dirname.bind(W8),Mw0=W8.joinPath.bind(W8),Wc=W8.normalizePath.bind(W8),Ow0=W8.relativePath.bind(W8),Iw=W8.resolvePath.bind(W8),Tw0=W8.isAbsolutePath.bind(W8),Hc=W8.isEqualAuthority.bind(W8),zc=W8.hasTrailingPathSeparator.bind(W8),Nw0=W8.removeTrailingPathSeparator.bind(W8),_w0=W8.addTrailingPathSeparator.bind(W8);(function(J){J.META_DATA_LABEL="label",J.META_DATA_DESCRIPTION="description",J.META_DATA_SIZE="size",J.META_DATA_MIME="mime";function $(X){const Q=new Map;X.path.substring(X.path.indexOf(";")+1,X.path.lastIndexOf(";")).split(";").forEach((G)=>{const[q,U]=G.split(":");if(q&&U)Q.set(q,U)});const Z=X.path.substring(0,X.path.indexOf(";"));if(Z)Q.set(J.META_DATA_MIME,Z);return Q}J.parseMetaData=$})(h$||(h$={}))});function p$(J){if(!J)return!1;return J instanceof Sw||J instanceof Bc}class v6{static create(J,$){const X=J.getAlternativeVersionId(),Q=yw(J);return new v6(X,X,Q,Q,$,$,[])}constructor(J,$,X,Q,Y,Z,G){this.beforeVersionId=J,this.afterVersionId=$,this.beforeEOL=X,this.afterEOL=Q,this.beforeCursorState=Y,this.afterCursorState=Z,this.changes=G}append(J,$,X,Q,Y){if($.length>0)this.changes=Zc(this.changes,$);this.afterEOL=X,this.afterVersionId=Q,this.afterCursorState=Y}static _writeSelectionsSize(J){return 4+16*(J?J.length:0)}static _writeSelections(J,$,X){if(v9(J,$?$.length:0,X),X+=4,$)for(let Q of $)v9(J,Q.selectionStartLineNumber,X),X+=4,v9(J,Q.selectionStartColumn,X),X+=4,v9(J,Q.positionLineNumber,X),X+=4,v9(J,Q.positionColumn,X),X+=4;return X}static _readSelections(J,$,X){const Q=b9(J,$);$+=4;for(let Y=0;Y<Q;Y++){const Z=b9(J,$);$+=4;const G=b9(J,$);$+=4;const q=b9(J,$);$+=4;const U=b9(J,$);$+=4,X.push(new b0(Z,G,q,U))}return $}serialize(){let J=10+v6._writeSelectionsSize(this.beforeCursorState)+v6._writeSelectionsSize(this.afterCursorState)+4;for(let Q of this.changes)J+=Q.writeSize();const $=new Uint8Array(J);let X=0;v9($,this.beforeVersionId,X),X+=4,v9($,this.afterVersionId,X),X+=4,mO($,this.beforeEOL,X),X+=1,mO($,this.afterEOL,X),X+=1,X=v6._writeSelections($,this.beforeCursorState,X),X=v6._writeSelections($,this.afterCursorState,X),v9($,this.changes.length,X),X+=4;for(let Q of this.changes)X=Q.write($,X);return $.buffer}static deserialize(J){const $=new Uint8Array(J);let X=0;const Q=b9($,X);X+=4;const Y=b9($,X);X+=4;const Z=pO($,X);X+=1;const G=pO($,X);X+=1;const q=[];X=v6._readSelections($,X,q);const U=[];X=v6._readSelections($,X,U);const H=b9($,X);X+=4;const z=[];for(let V=0;V<H;V++)X=b6.read($,X,z);return new v6(Q,Y,Z,G,q,U,z)}}class Sw{get type(){return 0}get resource(){if(I0.isUri(this.model))return this.model;return this.model.uri}constructor(J,$,X,Q){this.label=J,this.code=$,this.model=X,this._data=v6.create(X,Q)}toString(){return(this._data instanceof v6?this._data:v6.deserialize(this._data)).changes.map(($)=>$.toString()).join(", ")}matchesResource(J){return(I0.isUri(this.model)?this.model:this.model.uri).toString()===J.toString()}setModel(J){this.model=J}canAppend(J){return this.model===J&&this._data instanceof v6}append(J,$,X,Q,Y){if(this._data instanceof v6)this._data.append(J,$,X,Q,Y)}close(){if(this._data instanceof v6)this._data=this._data.serialize()}open(){if(!(this._data instanceof v6))this._data=v6.deserialize(this._data)}undo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof v6)this._data=this._data.serialize();const J=v6.deserialize(this._data);this.model._applyUndo(J.changes,J.beforeEOL,J.beforeVersionId,J.beforeCursorState)}redo(){if(I0.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");if(this._data instanceof v6)this._data=this._data.serialize();const J=v6.deserialize(this._data);this.model._applyRedo(J.changes,J.afterEOL,J.afterVersionId,J.afterCursorState)}heapSize(){if(this._data instanceof v6)this._data=this._data.serialize();return this._data.byteLength+168}}class Bc{get resources(){return this._editStackElementsArr.map((J)=>J.resource)}constructor(J,$,X){this.label=J,this.code=$,this.type=1,this._isOpen=!0,this._editStackElementsArr=X.slice(0),this._editStackElementsMap=new Map;for(let Q of this._editStackElementsArr){const Y=R3(Q.resource);this._editStackElementsMap.set(Y,Q)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(J){const $=R3(J);return this._editStackElementsMap.has($)}setModel(J){const $=R3(I0.isUri(J)?J:J.uri);if(this._editStackElementsMap.has($))this._editStackElementsMap.get($).setModel(J)}canAppend(J){if(!this._isOpen)return!1;const $=R3(J.uri);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).canAppend(J);return!1}append(J,$,X,Q,Y){const Z=R3(J.uri);this._editStackElementsMap.get(Z).append(J,$,X,Q,Y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(let J of this._editStackElementsArr)J.undo()}redo(){for(let J of this._editStackElementsArr)J.redo()}heapSize(J){const $=R3(J);if(this._editStackElementsMap.has($))return this._editStackElementsMap.get($).heapSize();return 0}split(){return this._editStackElementsArr}toString(){const J=[];for(let $ of this._editStackElementsArr)J.push(`${cG($.resource)}: ${$}`);return`{${J.join(", ")}}`}}class bA{constructor(J,$){this._model=J,this._undoRedoService=$}pushStackElement(){const J=this._undoRedoService.getLastElement(this._model.uri);if(p$(J))J.close()}popStackElement(){const J=this._undoRedoService.getLastElement(this._model.uri);if(p$(J))J.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(J,$){const X=this._undoRedoService.getLastElement(this._model.uri);if(p$(X)&&X.canAppend(this._model))return X;const Q=new Sw(F("edit","Typing"),"undoredo.textBufferEdit",this._model,J);return this._undoRedoService.pushElement(Q,$),Q}pushEOL(J){const $=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(J),$.append(this._model,[],yw(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(J,$,X,Q){const Y=this._getOrCreateEditStackElement(J,Q),Z=this._model.applyEdits($,!0),G=bA._computeCursorState(X,Z),q=Z.map((U,H)=>({index:H,textChange:U.textChange}));return q.sort((U,H)=>{if(U.textChange.oldPosition===H.textChange.oldPosition)return U.index-H.index;return U.textChange.oldPosition-H.textChange.oldPosition}),Y.append(this._model,q.map((U)=>U.textChange),yw(this._model),this._model.getAlternativeVersionId(),G),G}static _computeCursorState(J,$){try{return J?J($):null}catch(X){return n0(X),null}}}var R3,yw;var Cw=N(()=>{h0();D1();S6();e8();Lw();dH();g$();R3=function(J){return J.toString()},yw=function(J){if(J.getEOL()==="\n")return 0;else return 1}});function xw(J,$,X){const Q=Math.min(J.getLineCount(),1e4);let Y=0,Z=0,G="",q=0;const U=[2,4,6,8,3,5,7],H=8,z=[0,0,0,0,0,0,0,0,0],V=new Fc;for(let B=1;B<=Q;B++){const K=J.getLineLength(B),P=J.getLineContent(B),A=K<=65536;let D=!1,R=0,M=0,O=0;for(let w=0,C=K;w<C;w++){const x=A?P.charCodeAt(w):J.getLineCharCode(B,w);if(x===9)O++;else if(x===32)M++;else{D=!0,R=w;break}}if(!D)continue;if(O>0)Y++;else if(M>1)Z++;if(A50(G,q,P,R,V),V.looksLikeAlignment){if(!(X&&$===V.spacesDiff))continue}const _=V.spacesDiff;if(_<=H)z[_]++;G=P,q=R}let j=X;if(Y!==Z)j=Y<Z;let W=$;if(j){let B=j?0:0.1*Q;if(U.forEach((K)=>{const P=z[K];if(P>B)B=P,W=K}),W===4&&z[4]>0&&z[2]>0&&z[2]>=z[4]/2)W=2}return{insertSpaces:j,tabSize:W}}class Fc{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}var A50;var Kc=N(()=>{A50=function(J,$,X,Q,Y){Y.spacesDiff=0,Y.looksLikeAlignment=!1;let Z;for(Z=0;Z<$&&Z<Q;Z++){const j=J.charCodeAt(Z),W=X.charCodeAt(Z);if(j!==W)break}let G=0,q=0;for(let j=Z;j<$;j++)if(J.charCodeAt(j)===32)G++;else q++;let U=0,H=0;for(let j=Z;j<Q;j++)if(X.charCodeAt(j)===32)U++;else H++;if(G>0&&q>0)return;if(U>0&&H>0)return;const z=Math.abs(q-H),V=Math.abs(G-U);if(z===0){if(Y.spacesDiff=V,V>0&&0<=U-1&&U-1<J.length&&U<X.length){if(X.charCodeAt(U)!==32&&J.charCodeAt(U-1)===32){if(J.charCodeAt(J.length-1)===44)Y.looksLikeAlignment=!0}}return}if(V%z===0){Y.spacesDiff=V/z;return}}});function R5(J){return(J.metadata&1)>>>0}function M50(J,$,X,Q,Y){const Z=P50(J),G=Z===0||Z===2,q=Z===1||Z===2,U=X-$,H=Q,z=Math.min(U,H),V=J.start;let j=!1;const W=J.end;let B=!1;if($<=V&&W<=X&&D50(J))J.start=$,j=!0,J.end=$,B=!0;{const P=Y?1:U>0?2:0;if(!j&&M3(V,G,$,P))j=!0;if(!B&&M3(W,q,$,P))B=!0}if(z>0&&!Y){const P=U>H?2:0;if(!j&&M3(V,G,$+z,P))j=!0;if(!B&&M3(W,q,$+z,P))B=!0}{const P=Y?1:0;if(!j&&M3(V,G,X,P))J.start=$+H,j=!0;if(!B&&M3(W,q,X,P))J.end=$+H,B=!0}const K=H-U;if(!j)J.start=Math.max(0,V+K);if(!B)J.end=Math.max(0,W+K);if(J.start>J.end)J.end=J.start}function HQ(J){J.maxEnd=_c(J)}function I50(J,$,X,Q){if(J===X)return $-Q;return J-X}class vA{constructor(J,$,X){this.metadata=0,this.parent=this,this.left=this,this.right=this,Z8(this,1),this.start=$,this.end=X,this.delta=0,this.maxEnd=X,this.id=J,this.ownerId=0,this.options=null,Ac(this,!1),Pc(this,!1),Dc(this,1),Rc(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=X,this.range=null,$8(this,!1)}reset(J,$,X,Q){this.start=$,this.end=X,this.maxEnd=X,this.cachedVersionId=J,this.cachedAbsoluteStart=$,this.cachedAbsoluteEnd=X,this.range=Q}setOptions(J){this.options=J;const $=this.options.className;Ac(this,$==="squiggly-error"||$==="squiggly-warning"||$==="squiggly-info"),Pc(this,this.options.glyphMarginClassName!==null),Dc(this,this.options.stickiness),Rc(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(J,$,X){if(this.cachedVersionId!==X)this.range=null;this.cachedVersionId=X,this.cachedAbsoluteStart=J,this.cachedAbsoluteEnd=$}detach(){this.parent=null,this.left=null,this.right=null}}class XV{constructor(){this.root=V1,this.requestNormalizeDelta=!1}intervalSearch(J,$,X,Q,Y,Z){if(this.root===V1)return[];return L50(this,J,$,X,Q,Y,Z)}search(J,$,X,Q){if(this.root===V1)return[];return w50(this,J,$,X,Q)}collectNodesFromOwner(J){return N50(this,J)}collectNodesPostOrder(){return _50(this)}insert(J){Mc(this,J),this._normalizeDeltaIfNecessary()}delete(J){Oc(this,J),this._normalizeDeltaIfNecessary()}resolveNode(J,$){const X=J;let Q=0;while(J!==this.root){if(J===J.parent.right)Q+=J.parent.delta;J=J.parent}const Y=X.start+Q,Z=X.end+Q;X.setCachedOffsets(Y,Z,$)}acceptReplace(J,$,X,Q){const Y=O50(this,J,J+$);for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z];Oc(this,q)}this._normalizeDeltaIfNecessary(),T50(this,J,J+$,X),this._normalizeDeltaIfNecessary();for(let Z=0,G=Y.length;Z<G;Z++){const q=Y[Z];q.start=q.cachedAbsoluteStart,q.end=q.cachedAbsoluteEnd,M50(q,J,J+$,X,Q),q.maxEnd=q.end,Mc(this,q)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){if(!this.requestNormalizeDelta)return;this.requestNormalizeDelta=!1,R50(this)}}var Z8,V7,$8,Tc,Ac,Nc,Pc,P50,Dc,D50,Rc,R50,M3,O50,T50,N50,_50,w50,L50,Mc,E50,Oc,k50,bw,JV,$V,_c,IY,V1;var wc=N(()=>{Z8=function(J,$){J.metadata=J.metadata&254|$<<0},V7=function(J){return(J.metadata&2)>>>1===1},$8=function(J,$){J.metadata=J.metadata&253|($?1:0)<<1},Tc=function(J){return(J.metadata&4)>>>2===1},Ac=function(J,$){J.metadata=J.metadata&251|($?1:0)<<2},Nc=function(J){return(J.metadata&64)>>>6===1},Pc=function(J,$){J.metadata=J.metadata&191|($?1:0)<<6},P50=function(J){return(J.metadata&24)>>>3},Dc=function(J,$){J.metadata=J.metadata&231|$<<3},D50=function(J){return(J.metadata&32)>>>5===1},Rc=function(J,$){J.metadata=J.metadata&223|($?1:0)<<5},R50=function(J){let $=J.root,X=0;while($!==V1){if($.left!==V1&&!V7($.left)){$=$.left;continue}if($.right!==V1&&!V7($.right)){X+=$.delta,$=$.right;continue}if($.start=X+$.start,$.end=X+$.end,$.delta=0,HQ($),$8($,!0),$8($.left,!1),$8($.right,!1),$===$.parent.right)X-=$.parent.delta;$=$.parent}$8(J.root,!1)},M3=function(J,$,X,Q){if(J<X)return!0;if(J>X)return!1;if(Q===1)return!1;if(Q===2)return!0;return $};O50=function(J,$,X){let Q=J.root,Y=0,Z=0,G=0,q=0;const U=[];let H=0;while(Q!==V1){if(V7(Q)){if($8(Q.left,!1),$8(Q.right,!1),Q===Q.parent.right)Y-=Q.parent.delta;Q=Q.parent;continue}if(!V7(Q.left)){if(Z=Y+Q.maxEnd,Z<$){$8(Q,!0);continue}if(Q.left!==V1){Q=Q.left;continue}}if(G=Y+Q.start,G>X){$8(Q,!0);continue}if(q=Y+Q.end,q>=$)Q.setCachedOffsets(G,q,0),U[H++]=Q;if($8(Q,!0),Q.right!==V1&&!V7(Q.right)){Y+=Q.delta,Q=Q.right;continue}}return $8(J.root,!1),U},T50=function(J,$,X,Q){let Y=J.root,Z=0,G=0,q=0;const U=Q-(X-$);while(Y!==V1){if(V7(Y)){if($8(Y.left,!1),$8(Y.right,!1),Y===Y.parent.right)Z-=Y.parent.delta;HQ(Y),Y=Y.parent;continue}if(!V7(Y.left)){if(G=Z+Y.maxEnd,G<$){$8(Y,!0);continue}if(Y.left!==V1){Y=Y.left;continue}}if(q=Z+Y.start,q>X){if(Y.start+=U,Y.end+=U,Y.delta+=U,Y.delta<-1073741824||Y.delta>1073741824)J.requestNormalizeDelta=!0;$8(Y,!0);continue}if($8(Y,!0),Y.right!==V1&&!V7(Y.right)){Z+=Y.delta,Y=Y.right;continue}}$8(J.root,!1)},N50=function(J,$){let X=J.root;const Q=[];let Y=0;while(X!==V1){if(V7(X)){$8(X.left,!1),$8(X.right,!1),X=X.parent;continue}if(X.left!==V1&&!V7(X.left)){X=X.left;continue}if(X.ownerId===$)Q[Y++]=X;if($8(X,!0),X.right!==V1&&!V7(X.right)){X=X.right;continue}}return $8(J.root,!1),Q},_50=function(J){let $=J.root;const X=[];let Q=0;while($!==V1){if(V7($)){$8($.left,!1),$8($.right,!1),$=$.parent;continue}if($.left!==V1&&!V7($.left)){$=$.left;continue}if($.right!==V1&&!V7($.right)){$=$.right;continue}X[Q++]=$,$8($,!0)}return $8(J.root,!1),X},w50=function(J,$,X,Q,Y){let Z=J.root,G=0,q=0,U=0;const H=[];let z=0;while(Z!==V1){if(V7(Z)){if($8(Z.left,!1),$8(Z.right,!1),Z===Z.parent.right)G-=Z.parent.delta;Z=Z.parent;continue}if(Z.left!==V1&&!V7(Z.left)){Z=Z.left;continue}q=G+Z.start,U=G+Z.end,Z.setCachedOffsets(q,U,Q);let V=!0;if($&&Z.ownerId&&Z.ownerId!==$)V=!1;if(X&&Tc(Z))V=!1;if(Y&&!Nc(Z))V=!1;if(V)H[z++]=Z;if($8(Z,!0),Z.right!==V1&&!V7(Z.right)){G+=Z.delta,Z=Z.right;continue}}return $8(J.root,!1),H},L50=function(J,$,X,Q,Y,Z,G){let q=J.root,U=0,H=0,z=0,V=0;const j=[];let W=0;while(q!==V1){if(V7(q)){if($8(q.left,!1),$8(q.right,!1),q===q.parent.right)U-=q.parent.delta;q=q.parent;continue}if(!V7(q.left)){if(H=U+q.maxEnd,H<$){$8(q,!0);continue}if(q.left!==V1){q=q.left;continue}}if(z=U+q.start,z>X){$8(q,!0);continue}if(V=U+q.end,V>=$){q.setCachedOffsets(z,V,Z);let B=!0;if(Q&&q.ownerId&&q.ownerId!==Q)B=!1;if(Y&&Tc(q))B=!1;if(G&&!Nc(q))B=!1;if(B)j[W++]=q}if($8(q,!0),q.right!==V1&&!V7(q.right)){U+=q.delta,q=q.right;continue}}return $8(J.root,!1),j},Mc=function(J,$){if(J.root===V1)return $.parent=V1,$.left=V1,$.right=V1,Z8($,0),J.root=$,J.root;E50(J,$),IY($.parent);let X=$;while(X!==J.root&&R5(X.parent)===1)if(X.parent===X.parent.parent.left){const Q=X.parent.parent.right;if(R5(Q)===1)Z8(X.parent,0),Z8(Q,0),Z8(X.parent.parent,1),X=X.parent.parent;else{if(X===X.parent.right)X=X.parent,JV(J,X);Z8(X.parent,0),Z8(X.parent.parent,1),$V(J,X.parent.parent)}}else{const Q=X.parent.parent.left;if(R5(Q)===1)Z8(X.parent,0),Z8(Q,0),Z8(X.parent.parent,1),X=X.parent.parent;else{if(X===X.parent.left)X=X.parent,$V(J,X);Z8(X.parent,0),Z8(X.parent.parent,1),JV(J,X.parent.parent)}}return Z8(J.root,0),$},E50=function(J,$){let X=0,Q=J.root;const{start:Y,end:Z}=$;while(!0)if(I50(Y,Z,Q.start+X,Q.end+X)<0)if(Q.left===V1){$.start-=X,$.end-=X,$.maxEnd-=X,Q.left=$;break}else Q=Q.left;else if(Q.right===V1){$.start-=X+Q.delta,$.end-=X+Q.delta,$.maxEnd-=X+Q.delta,Q.right=$;break}else X+=Q.delta,Q=Q.right;$.parent=Q,$.left=V1,$.right=V1,Z8($,1)},Oc=function(J,$){let X,Q;if($.left===V1){if(X=$.right,Q=$,X.delta+=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;X.start+=$.delta,X.end+=$.delta}else if($.right===V1)X=$.left,Q=$;else{if(Q=k50($.right),X=Q.right,X.start+=Q.delta,X.end+=Q.delta,X.delta+=Q.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;if(Q.start+=$.delta,Q.end+=$.delta,Q.delta=$.delta,Q.delta<-1073741824||Q.delta>1073741824)J.requestNormalizeDelta=!0}if(Q===J.root){J.root=X,Z8(X,0),$.detach(),bw(),HQ(X),J.root.parent=V1;return}const Y=R5(Q)===1;if(Q===Q.parent.left)Q.parent.left=X;else Q.parent.right=X;if(Q===$)X.parent=Q.parent;else{if(Q.parent===$)X.parent=Q;else X.parent=Q.parent;if(Q.left=$.left,Q.right=$.right,Q.parent=$.parent,Z8(Q,R5($)),$===J.root)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;if(Q.left!==V1)Q.left.parent=Q;if(Q.right!==V1)Q.right.parent=Q}if($.detach(),Y){if(IY(X.parent),Q!==$)IY(Q),IY(Q.parent);bw();return}if(IY(X),IY(X.parent),Q!==$)IY(Q),IY(Q.parent);let Z;while(X!==J.root&&R5(X)===0)if(X===X.parent.left){if(Z=X.parent.right,R5(Z)===1)Z8(Z,0),Z8(X.parent,1),JV(J,X.parent),Z=X.parent.right;if(R5(Z.left)===0&&R5(Z.right)===0)Z8(Z,1),X=X.parent;else{if(R5(Z.right)===0)Z8(Z.left,0),Z8(Z,1),$V(J,Z),Z=X.parent.right;Z8(Z,R5(X.parent)),Z8(X.parent,0),Z8(Z.right,0),JV(J,X.parent),X=J.root}}else{if(Z=X.parent.left,R5(Z)===1)Z8(Z,0),Z8(X.parent,1),$V(J,X.parent),Z=X.parent.left;if(R5(Z.left)===0&&R5(Z.right)===0)Z8(Z,1),X=X.parent;else{if(R5(Z.left)===0)Z8(Z.right,0),Z8(Z,1),JV(J,Z),Z=X.parent.left;Z8(Z,R5(X.parent)),Z8(X.parent,0),Z8(Z.left,0),$V(J,X.parent),X=J.root}}Z8(X,0),bw()},k50=function(J){while(J.left!==V1)J=J.left;return J},bw=function(){V1.parent=V1,V1.delta=0,V1.start=0,V1.end=0},JV=function(J,$){const X=$.right;if(X.delta+=$.delta,X.delta<-1073741824||X.delta>1073741824)J.requestNormalizeDelta=!0;if(X.start+=$.delta,X.end+=$.delta,$.right=X.left,X.left!==V1)X.left.parent=$;if(X.parent=$.parent,$.parent===V1)J.root=X;else if($===$.parent.left)$.parent.left=X;else $.parent.right=X;X.left=$,$.parent=X,HQ($),HQ(X)},$V=function(J,$){const X=$.left;if($.delta-=X.delta,$.delta<-1073741824||$.delta>1073741824)J.requestNormalizeDelta=!0;if($.start-=X.delta,$.end-=X.delta,$.left=X.right,X.right!==V1)X.right.parent=$;if(X.parent=$.parent,$.parent===V1)J.root=X;else if($===$.parent.right)$.parent.right=X;else $.parent.left=X;X.right=$,$.parent=X,HQ($),HQ(X)},_c=function(J){let $=J.end;if(J.left!==V1){const X=J.left.maxEnd;if(X>$)$=X}if(J.right!==V1){const X=J.right.maxEnd+J.delta;if(X>$)$=X}return $};IY=function(J){while(J!==V1){const $=_c(J);if(J.maxEnd===$)return;J.maxEnd=$,J=J.parent}};V1=new vA(null,0,0);V1.parent=V1;V1.left=V1;V1.right=V1;Z8(V1,0)});function fA(J){while(J.left!==e0)J=J.left;return J}function fw(J){while(J.right!==e0)J=J.right;return J}function YV(J,$){const X=$.right;if(X.size_left+=$.size_left+($.piece?$.piece.length:0),X.lf_left+=$.lf_left+($.piece?$.piece.lineFeedCnt:0),$.right=X.left,X.left!==e0)X.left.parent=$;if(X.parent=$.parent,$.parent===e0)J.root=X;else if($.parent.left===$)$.parent.left=X;else $.parent.right=X;X.left=$,$.parent=X}function ZV(J,$){const X=$.left;if($.left=X.right,X.right!==e0)X.right.parent=$;if(X.parent=$.parent,$.size_left-=X.size_left+(X.piece?X.piece.length:0),$.lf_left-=X.lf_left+(X.piece?X.piece.lineFeedCnt:0),$.parent===e0)J.root=X;else if($===$.parent.right)$.parent.right=X;else $.parent.left=X;X.right=$,$.parent=X}function qV(J,$){let X,Q;if($.left===e0)Q=$,X=Q.right;else if($.right===e0)Q=$,X=Q.left;else Q=fA($.right),X=Q.right;if(Q===J.root){J.root=X,X.color=0,$.detach(),vw(),J.root.parent=e0;return}const Y=Q.color===1;if(Q===Q.parent.left)Q.parent.left=X;else Q.parent.right=X;if(Q===$)X.parent=Q.parent,QV(J,X);else{if(Q.parent===$)X.parent=Q;else X.parent=Q.parent;if(QV(J,X),Q.left=$.left,Q.right=$.right,Q.parent=$.parent,Q.color=$.color,$===J.root)J.root=Q;else if($===$.parent.left)$.parent.left=Q;else $.parent.right=Q;if(Q.left!==e0)Q.left.parent=Q;if(Q.right!==e0)Q.right.parent=Q;Q.size_left=$.size_left,Q.lf_left=$.lf_left,QV(J,Q)}if($.detach(),X.parent.left===X){const G=hw(X),q=gw(X);if(G!==X.parent.size_left||q!==X.parent.lf_left){const U=G-X.parent.size_left,H=q-X.parent.lf_left;X.parent.size_left=G,X.parent.lf_left=q,m$(J,X.parent,U,H)}}if(QV(J,X.parent),Y){vw();return}let Z;while(X!==J.root&&X.color===0)if(X===X.parent.left){if(Z=X.parent.right,Z.color===1)Z.color=0,X.parent.color=1,YV(J,X.parent),Z=X.parent.right;if(Z.left.color===0&&Z.right.color===0)Z.color=1,X=X.parent;else{if(Z.right.color===0)Z.left.color=0,Z.color=1,ZV(J,Z),Z=X.parent.right;Z.color=X.parent.color,X.parent.color=0,Z.right.color=0,YV(J,X.parent),X=J.root}}else{if(Z=X.parent.left,Z.color===1)Z.color=0,X.parent.color=1,ZV(J,X.parent),Z=X.parent.left;if(Z.left.color===0&&Z.right.color===0)Z.color=1,X=X.parent;else{if(Z.left.color===0)Z.right.color=0,Z.color=1,YV(J,Z),Z=X.parent.left;Z.color=X.parent.color,X.parent.color=0,Z.left.color=0,ZV(J,X.parent),X=J.root}}X.color=0,vw()}function pw(J,$){QV(J,$);while($!==J.root&&$.parent.color===1)if($.parent===$.parent.parent.left){const X=$.parent.parent.right;if(X.color===1)$.parent.color=0,X.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.right)$=$.parent,YV(J,$);$.parent.color=0,$.parent.parent.color=1,ZV(J,$.parent.parent)}}else{const X=$.parent.parent.left;if(X.color===1)$.parent.color=0,X.color=0,$.parent.parent.color=1,$=$.parent.parent;else{if($===$.parent.left)$=$.parent,ZV(J,$);$.parent.color=0,$.parent.parent.color=1,YV(J,$.parent.parent)}}J.root.color=0}function m$(J,$,X,Q){while($!==J.root&&$!==e0){if($.parent.left===$)$.parent.size_left+=X,$.parent.lf_left+=Q;$=$.parent}}function QV(J,$){let X=0,Q=0;if($===J.root)return;while($!==J.root&&$===$.parent.right)$=$.parent;if($===J.root)return;$=$.parent,X=hw($.left)-$.size_left,Q=gw($.left)-$.lf_left,$.size_left+=X,$.lf_left+=Q;while($!==J.root&&(X!==0||Q!==0)){if($.parent.left===$)$.parent.size_left+=X,$.parent.lf_left+=Q;$=$.parent}}class GV{constructor(J,$){this.piece=J,this.color=$,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e0)return fA(this.right);let J=this;while(J.parent!==e0){if(J.parent.left===J)break;J=J.parent}if(J.parent===e0)return e0;else return J.parent}prev(){if(this.left!==e0)return fw(this.left);let J=this;while(J.parent!==e0){if(J.parent.right===J)break;J=J.parent}if(J.parent===e0)return e0;else return J.parent}detach(){this.parent=null,this.left=null,this.right=null}}var hw,gw,vw,e0;var Lc=N(()=>{hw=function(J){if(J===e0)return 0;return J.size_left+J.piece.length+hw(J.right)},gw=function(J){if(J===e0)return 0;return J.lf_left+J.piece.lineFeedCnt+gw(J.right)},vw=function(){e0.parent=e0};e0=new GV(null,0);e0.parent=e0;e0.left=e0;e0.right=e0;e0.color=0});function u$(J,$=!0){const X=[0];let Q=1;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J.charCodeAt(Y);if(G===13)if(Y+1<Z&&J.charCodeAt(Y+1)===10)X[Q++]=Y+2,Y++;else X[Q++]=Y+1;else if(G===10)X[Q++]=Y+1}if($)return Ec(X);else return X}function Ic(J,$){J.length=0,J[0]=0;let X=1,Q=0,Y=0,Z=0,G=!0;for(let U=0,H=$.length;U<H;U++){const z=$.charCodeAt(U);if(z===13)if(U+1<H&&$.charCodeAt(U+1)===10)Z++,J[X++]=U+2,U++;else Q++,J[X++]=U+1;else if(z===10)Y++,J[X++]=U+1;else if(G){if(z!==9&&(z<32||z>126))G=!1}}const q=new kc(Ec(J),Q,Y,Z,G);return J.length=0,q}class kc{constructor(J,$,X,Q,Y){this.lineStarts=J,this.cr=$,this.lf=X,this.crlf=Q,this.isBasicASCII=Y}}class M5{constructor(J,$,X,Q,Y){this.bufferIndex=J,this.start=$,this.end=X,this.lineFeedCnt=Q,this.length=Y}}class VQ{constructor(J,$){this.buffer=J,this.lineStarts=$}}class yc{constructor(J,$){if(this._pieces=[],this._tree=J,this._BOM=$,this._index=0,J.root!==e0)J.iterate(J.root,(X)=>{if(X!==e0)this._pieces.push(X.piece);return!0})}read(){if(this._pieces.length===0)if(this._index===0)return this._index++,this._BOM;else return null;if(this._index>this._pieces.length-1)return null;if(this._index===0)return this._BOM+this._tree.getPieceContent(this._pieces[this._index++]);return this._tree.getPieceContent(this._pieces[this._index++])}}class Sc{constructor(J){this._limit=J,this._cache=[]}get(J){for(let $=this._cache.length-1;$>=0;$--){const X=this._cache[$];if(X.nodeStartOffset<=J&&X.nodeStartOffset+X.node.piece.length>=J)return X}return null}get2(J){for(let $=this._cache.length-1;$>=0;$--){const X=this._cache[$];if(X.nodeStartLineNumber&&X.nodeStartLineNumber<J&&X.nodeStartLineNumber+X.node.piece.lineFeedCnt>=J)return X}return null}set(J){if(this._cache.length>=this._limit)this._cache.shift();this._cache.push(J)}validate(J){let $=!1;const X=this._cache;for(let Q=0;Q<X.length;Q++){const Y=X[Q];if(Y.node.parent===null||Y.nodeStartOffset>=J){X[Q]=null,$=!0;continue}}if($){const Q=[];for(let Y of X)if(Y!==null)Q.push(Y);this._cache=Q}}}class mw{constructor(J,$,X){this.create(J,$,X)}create(J,$,X){this._buffers=[new VQ("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=e0,this._lineCnt=1,this._length=0,this._EOL=$,this._EOLLength=$.length,this._EOLNormalized=X;let Q=null;for(let Y=0,Z=J.length;Y<Z;Y++)if(J[Y].buffer.length>0){if(!J[Y].lineStarts)J[Y].lineStarts=u$(J[Y].buffer);const G=new M5(Y+1,{line:0,column:0},{line:J[Y].lineStarts.length-1,column:J[Y].buffer.length-J[Y].lineStarts[J[Y].lineStarts.length-1]},J[Y].lineStarts.length-1,J[Y].buffer.length);this._buffers.push(J[Y]),Q=this.rbInsertRight(Q,G)}this._searchCache=new Sc(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(J){const $=zQ,X=$-Math.floor($/3),Q=X*2;let Y="",Z=0;const G=[];if(this.iterate(this.root,(q)=>{const U=this.getNodeContent(q),H=U.length;if(Z<=X||Z+H<Q)return Y+=U,Z+=H,!0;const z=Y.replace(/\r\n|\r|\n/g,J);return G.push(new VQ(z,u$(z))),Y=U,Z=H,!0}),Z>0){const q=Y.replace(/\r\n|\r|\n/g,J);G.push(new VQ(q,u$(q)))}this.create(G,J,!0)}getEOL(){return this._EOL}setEOL(J){this._EOL=J,this._EOLLength=this._EOL.length,this.normalizeEOL(J)}createSnapshot(J){return new yc(this,J)}getOffsetAt(J,$){let X=0,Q=this.root;while(Q!==e0)if(Q.left!==e0&&Q.lf_left+1>=J)Q=Q.left;else if(Q.lf_left+Q.piece.lineFeedCnt+1>=J){X+=Q.size_left;const Y=this.getAccumulatedValue(Q,J-Q.lf_left-2);return X+=Y+$-1}else J-=Q.lf_left+Q.piece.lineFeedCnt,X+=Q.size_left+Q.piece.length,Q=Q.right;return X}getPositionAt(J){J=Math.floor(J),J=Math.max(0,J);let $=this.root,X=0;const Q=J;while($!==e0)if($.size_left!==0&&$.size_left>=J)$=$.left;else if($.size_left+$.piece.length>=J){const Y=this.getIndexOf($,J-$.size_left);if(X+=$.lf_left+Y.index,Y.index===0){const Z=this.getOffsetAt(X+1,1),G=Q-Z;return new v(X+1,G+1)}return new v(X+1,Y.remainder+1)}else if(J-=$.size_left+$.piece.length,X+=$.lf_left+$.piece.lineFeedCnt,$.right===e0){const Y=this.getOffsetAt(X+1,1),Z=Q-J-Y;return new v(X+1,Z+1)}else $=$.right;return new v(1,1)}getValueInRange(J,$){if(J.startLineNumber===J.endLineNumber&&J.startColumn===J.endColumn)return"";const X=this.nodeAt2(J.startLineNumber,J.startColumn),Q=this.nodeAt2(J.endLineNumber,J.endColumn),Y=this.getValueInRange2(X,Q);if($){if($!==this._EOL||!this._EOLNormalized)return Y.replace(/\r\n|\r|\n/g,$);if($===this.getEOL()&&this._EOLNormalized)return Y;return Y.replace(/\r\n|\r|\n/g,$)}return Y}getValueInRange2(J,$){if(J.node===$.node){const G=J.node,q=this._buffers[G.piece.bufferIndex].buffer,U=this.offsetInBuffer(G.piece.bufferIndex,G.piece.start);return q.substring(U+J.remainder,U+$.remainder)}let X=J.node;const Q=this._buffers[X.piece.bufferIndex].buffer,Y=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);let Z=Q.substring(Y+J.remainder,Y+X.piece.length);X=X.next();while(X!==e0){const G=this._buffers[X.piece.bufferIndex].buffer,q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);if(X===$.node){Z+=G.substring(q,q+$.remainder);break}else Z+=G.substr(q,X.piece.length);X=X.next()}return Z}getLinesContent(){const J=[];let $=0,X="",Q=!1;if(this.iterate(this.root,(Y)=>{if(Y===e0)return!0;const Z=Y.piece;let G=Z.length;if(G===0)return!0;const q=this._buffers[Z.bufferIndex].buffer,U=this._buffers[Z.bufferIndex].lineStarts,H=Z.start.line,z=Z.end.line;let V=U[H]+Z.start.column;if(Q){if(q.charCodeAt(V)===10)V++,G--;if(J[$++]=X,X="",Q=!1,G===0)return!0}if(H===z){if(!this._EOLNormalized&&q.charCodeAt(V+G-1)===13)Q=!0,X+=q.substr(V,G-1);else X+=q.substr(V,G);return!0}X+=this._EOLNormalized?q.substring(V,Math.max(V,U[H+1]-this._EOLLength)):q.substring(V,U[H+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=X;for(let j=H+1;j<z;j++)X=this._EOLNormalized?q.substring(U[j],U[j+1]-this._EOLLength):q.substring(U[j],U[j+1]).replace(/(\r\n|\r|\n)$/,""),J[$++]=X;if(!this._EOLNormalized&&q.charCodeAt(U[z]+Z.end.column-1)===13)if(Q=!0,Z.end.column===0)$--;else X=q.substr(U[z],Z.end.column-1);else X=q.substr(U[z],Z.end.column);return!0}),Q)J[$++]=X,X="";return J[$++]=X,J}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(J){if(this._lastVisitedLine.lineNumber===J)return this._lastVisitedLine.value;if(this._lastVisitedLine.lineNumber=J,J===this._lineCnt)this._lastVisitedLine.value=this.getLineRawContent(J);else if(this._EOLNormalized)this._lastVisitedLine.value=this.getLineRawContent(J,this._EOLLength);else this._lastVisitedLine.value=this.getLineRawContent(J).replace(/(\r\n|\r|\n)$/,"");return this._lastVisitedLine.value}_getCharCode(J){if(J.remainder===J.node.piece.length){const $=J.node.next();if(!$)return 0;const X=this._buffers[$.piece.bufferIndex],Q=this.offsetInBuffer($.piece.bufferIndex,$.piece.start);return X.buffer.charCodeAt(Q)}else{const $=this._buffers[J.node.piece.bufferIndex],Q=this.offsetInBuffer(J.node.piece.bufferIndex,J.node.piece.start)+J.remainder;return $.buffer.charCodeAt(Q)}}getLineCharCode(J,$){const X=this.nodeAt2(J,$+1);return this._getCharCode(X)}getLineLength(J){if(J===this.getLineCount()){const $=this.getOffsetAt(J,1);return this.getLength()-$}return this.getOffsetAt(J+1,1)-this.getOffsetAt(J,1)-this._EOLLength}findMatchesInNode(J,$,X,Q,Y,Z,G,q,U,H,z){const V=this._buffers[J.piece.bufferIndex],j=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start),W=this.offsetInBuffer(J.piece.bufferIndex,Y),B=this.offsetInBuffer(J.piece.bufferIndex,Z);let K;const P={line:0,column:0};let A,D;if($._wordSeparators)A=V.buffer.substring(W,B),D=(R)=>R+W,$.reset(0);else A=V.buffer,D=(R)=>R,$.reset(W);do if(K=$.next(A),K){if(D(K.index)>=B)return H;this.positionInBuffer(J,D(K.index)-j,P);const R=this.getLineFeedCnt(J.piece.bufferIndex,Y,P),M=P.line===Y.line?P.column-Y.column+Q:P.column+1,O=M+K[0].length;if(z[H++]=YY(new L(X+R,M,X+R,O),K,q),D(K.index)+K[0].length>=B)return H;if(H>=U)return H}while(K);return H}findMatchesLineByLine(J,$,X,Q){const Y=[];let Z=0;const G=new hX($.wordSeparators,$.regex);let q=this.nodeAt2(J.startLineNumber,J.startColumn);if(q===null)return[];const U=this.nodeAt2(J.endLineNumber,J.endColumn);if(U===null)return[];let H=this.positionInBuffer(q.node,q.remainder);const z=this.positionInBuffer(U.node,U.remainder);if(q.node===U.node)return this.findMatchesInNode(q.node,G,J.startLineNumber,J.startColumn,H,z,$,X,Q,Z,Y),Y;let V=J.startLineNumber,j=q.node;while(j!==U.node){const B=this.getLineFeedCnt(j.piece.bufferIndex,H,j.piece.end);if(B>=1){const P=this._buffers[j.piece.bufferIndex].lineStarts,A=this.offsetInBuffer(j.piece.bufferIndex,j.piece.start),D=P[H.line+B],R=V===J.startLineNumber?J.startColumn:1;if(Z=this.findMatchesInNode(j,G,V,R,H,this.positionInBuffer(j,D-A),$,X,Q,Z,Y),Z>=Q)return Y;V+=B}const K=V===J.startLineNumber?J.startColumn-1:0;if(V===J.endLineNumber){const P=this.getLineContent(V).substring(K,J.endColumn-1);return Z=this._findMatchesInLine($,G,P,J.endLineNumber,K,Z,Y,X,Q),Y}if(Z=this._findMatchesInLine($,G,this.getLineContent(V).substr(K),V,K,Z,Y,X,Q),Z>=Q)return Y;V++,q=this.nodeAt2(V,1),j=q.node,H=this.positionInBuffer(q.node,q.remainder)}if(V===J.endLineNumber){const B=V===J.startLineNumber?J.startColumn-1:0,K=this.getLineContent(V).substring(B,J.endColumn-1);return Z=this._findMatchesInLine($,G,K,J.endLineNumber,B,Z,Y,X,Q),Y}const W=V===J.startLineNumber?J.startColumn:1;return Z=this.findMatchesInNode(U.node,G,V,W,H,z,$,X,Q,Z,Y),Y}_findMatchesInLine(J,$,X,Q,Y,Z,G,q,U){const H=J.wordSeparators;if(!q&&J.simpleSearch){const V=J.simpleSearch,j=V.length,W=X.length;let B=-j;while((B=X.indexOf(V,B+j))!==-1)if(!H||QK(H,X,W,B,j)){if(G[Z++]=new fX(new L(Q,B+1+Y,Q,B+1+j+Y),null),Z>=U)return Z}return Z}let z;$.reset(0);do if(z=$.next(X),z){if(G[Z++]=YY(new L(Q,z.index+1+Y,Q,z.index+1+z[0].length+Y),z,q),Z>=U)return Z}while(z);return Z}insert(J,$,X=!1){if(this._EOLNormalized=this._EOLNormalized&&X,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==e0){const{node:Q,remainder:Y,nodeStartOffset:Z}=this.nodeAt(J),G=Q.piece,q=G.bufferIndex,U=this.positionInBuffer(Q,Y);if(Q.piece.bufferIndex===0&&G.end.line===this._lastChangeBufferPos.line&&G.end.column===this._lastChangeBufferPos.column&&Z+G.length===J&&$.length<zQ){this.appendToNode(Q,$),this.computeBufferMetadata();return}if(Z===J)this.insertContentToNodeLeft($,Q),this._searchCache.validate(J);else if(Z+Q.piece.length>J){const H=[];let z=new M5(G.bufferIndex,U,G.end,this.getLineFeedCnt(G.bufferIndex,U,G.end),this.offsetInBuffer(q,G.end)-this.offsetInBuffer(q,U));if(this.shouldCheckCRLF()&&this.endWithCR($)){if(this.nodeCharCodeAt(Q,Y)===10){const B={line:z.start.line+1,column:0};z=new M5(z.bufferIndex,B,z.end,this.getLineFeedCnt(z.bufferIndex,B,z.end),z.length-1),$+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF($))if(this.nodeCharCodeAt(Q,Y-1)===13){const B=this.positionInBuffer(Q,Y-1);if(this.deleteNodeTail(Q,B),$="\r"+$,Q.piece.length===0)H.push(Q)}else this.deleteNodeTail(Q,U);else this.deleteNodeTail(Q,U);const V=this.createNewPieces($);if(z.length>0)this.rbInsertRight(Q,z);let j=Q;for(let W=0;W<V.length;W++)j=this.rbInsertRight(j,V[W]);this.deleteNodes(H)}else this.insertContentToNodeRight($,Q)}else{const Q=this.createNewPieces($);let Y=this.rbInsertLeft(null,Q[0]);for(let Z=1;Z<Q.length;Z++)Y=this.rbInsertRight(Y,Q[Z])}this.computeBufferMetadata()}delete(J,$){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",$<=0||this.root===e0)return;const X=this.nodeAt(J),Q=this.nodeAt(J+$),Y=X.node,Z=Q.node;if(Y===Z){const V=this.positionInBuffer(Y,X.remainder),j=this.positionInBuffer(Y,Q.remainder);if(X.nodeStartOffset===J){if($===Y.piece.length){const W=Y.next();qV(this,Y),this.validateCRLFWithPrevNode(W),this.computeBufferMetadata();return}this.deleteNodeHead(Y,j),this._searchCache.validate(J),this.validateCRLFWithPrevNode(Y),this.computeBufferMetadata();return}if(X.nodeStartOffset+Y.piece.length===J+$){this.deleteNodeTail(Y,V),this.validateCRLFWithNextNode(Y),this.computeBufferMetadata();return}this.shrinkNode(Y,V,j),this.computeBufferMetadata();return}const G=[],q=this.positionInBuffer(Y,X.remainder);if(this.deleteNodeTail(Y,q),this._searchCache.validate(J),Y.piece.length===0)G.push(Y);const U=this.positionInBuffer(Z,Q.remainder);if(this.deleteNodeHead(Z,U),Z.piece.length===0)G.push(Z);const H=Y.next();for(let V=H;V!==e0&&V!==Z;V=V.next())G.push(V);const z=Y.piece.length===0?Y.prev():Y;this.deleteNodes(G),this.validateCRLFWithNextNode(z),this.computeBufferMetadata()}insertContentToNodeLeft(J,$){const X=[];if(this.shouldCheckCRLF()&&this.endWithCR(J)&&this.startWithLF($)){const Z=$.piece,G={line:Z.start.line+1,column:0},q=new M5(Z.bufferIndex,G,Z.end,this.getLineFeedCnt(Z.bufferIndex,G,Z.end),Z.length-1);if($.piece=q,J+="\n",m$(this,$,-1,-1),$.piece.length===0)X.push($)}const Q=this.createNewPieces(J);let Y=this.rbInsertLeft($,Q[Q.length-1]);for(let Z=Q.length-2;Z>=0;Z--)Y=this.rbInsertLeft(Y,Q[Z]);this.validateCRLFWithPrevNode(Y),this.deleteNodes(X)}insertContentToNodeRight(J,$){if(this.adjustCarriageReturnFromNext(J,$))J+="\n";const X=this.createNewPieces(J),Q=this.rbInsertRight($,X[0]);let Y=Q;for(let Z=1;Z<X.length;Z++)Y=this.rbInsertRight(Y,X[Z]);this.validateCRLFWithPrevNode(Q)}positionInBuffer(J,$,X){const Q=J.piece,Y=J.piece.bufferIndex,Z=this._buffers[Y].lineStarts,q=Z[Q.start.line]+Q.start.column+$;let U=Q.start.line,H=Q.end.line,z=0,V=0,j=0;while(U<=H){if(z=U+(H-U)/2|0,j=Z[z],z===H)break;if(V=Z[z+1],q<j)H=z-1;else if(q>=V)U=z+1;else break}if(X)return X.line=z,X.column=q-j,null;return{line:z,column:q-j}}getLineFeedCnt(J,$,X){if(X.column===0)return X.line-$.line;const Q=this._buffers[J].lineStarts;if(X.line===Q.length-1)return X.line-$.line;const Y=Q[X.line+1],Z=Q[X.line]+X.column;if(Y>Z+1)return X.line-$.line;const G=Z-1;if(this._buffers[J].buffer.charCodeAt(G)===13)return X.line-$.line+1;else return X.line-$.line}offsetInBuffer(J,$){return this._buffers[J].lineStarts[$.line]+$.column}deleteNodes(J){for(let $=0;$<J.length;$++)qV(this,J[$])}createNewPieces(J){if(J.length>zQ){const H=[];while(J.length>zQ){const V=J.charCodeAt(zQ-1);let j;if(V===13||V>=55296&&V<=56319)j=J.substring(0,zQ-1),J=J.substring(zQ-1);else j=J.substring(0,zQ),J=J.substring(zQ);const W=u$(j);H.push(new M5(this._buffers.length,{line:0,column:0},{line:W.length-1,column:j.length-W[W.length-1]},W.length-1,j.length)),this._buffers.push(new VQ(j,W))}const z=u$(J);return H.push(new M5(this._buffers.length,{line:0,column:0},{line:z.length-1,column:J.length-z[z.length-1]},z.length-1,J.length)),this._buffers.push(new VQ(J,z)),H}let $=this._buffers[0].buffer.length;const X=u$(J,!1);let Q=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===$&&$!==0&&this.startWithLF(J)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Q=this._lastChangeBufferPos;for(let H=0;H<X.length;H++)X[H]+=$+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(X.slice(1)),this._buffers[0].buffer+="_"+J,$+=1}else{if($!==0)for(let H=0;H<X.length;H++)X[H]+=$;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(X.slice(1)),this._buffers[0].buffer+=J}const Y=this._buffers[0].buffer.length,Z=this._buffers[0].lineStarts.length-1,G=Y-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=new M5(0,Q,q,this.getLineFeedCnt(0,Q,q),Y-$);return this._lastChangeBufferPos=q,[U]}getLineRawContent(J,$=0){let X=this.root,Q="";const Y=this._searchCache.get2(J);if(Y){X=Y.node;const Z=this.getAccumulatedValue(X,J-Y.nodeStartLineNumber-1),G=this._buffers[X.piece.bufferIndex].buffer,q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);if(Y.nodeStartLineNumber+X.piece.lineFeedCnt===J)Q=G.substring(q+Z,q+X.piece.length);else{const U=this.getAccumulatedValue(X,J-Y.nodeStartLineNumber);return G.substring(q+Z,q+U-$)}}else{let Z=0;const G=J;while(X!==e0)if(X.left!==e0&&X.lf_left>=J-1)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt>J-1){const q=this.getAccumulatedValue(X,J-X.lf_left-2),U=this.getAccumulatedValue(X,J-X.lf_left-1),H=this._buffers[X.piece.bufferIndex].buffer,z=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);return Z+=X.size_left,this._searchCache.set({node:X,nodeStartOffset:Z,nodeStartLineNumber:G-(J-1-X.lf_left)}),H.substring(z+q,z+U-$)}else if(X.lf_left+X.piece.lineFeedCnt===J-1){const q=this.getAccumulatedValue(X,J-X.lf_left-2),U=this._buffers[X.piece.bufferIndex].buffer,H=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);Q=U.substring(H+q,H+X.piece.length);break}else J-=X.lf_left+X.piece.lineFeedCnt,Z+=X.size_left+X.piece.length,X=X.right}X=X.next();while(X!==e0){const Z=this._buffers[X.piece.bufferIndex].buffer;if(X.piece.lineFeedCnt>0){const G=this.getAccumulatedValue(X,0),q=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);return Q+=Z.substring(q,q+G-$),Q}else{const G=this.offsetInBuffer(X.piece.bufferIndex,X.piece.start);Q+=Z.substr(G,X.piece.length)}X=X.next()}return Q}computeBufferMetadata(){let J=this.root,$=1,X=0;while(J!==e0)$+=J.lf_left+J.piece.lineFeedCnt,X+=J.size_left+J.piece.length,J=J.right;this._lineCnt=$,this._length=X,this._searchCache.validate(this._length)}getIndexOf(J,$){const X=J.piece,Q=this.positionInBuffer(J,$),Y=Q.line-X.start.line;if(this.offsetInBuffer(X.bufferIndex,X.end)-this.offsetInBuffer(X.bufferIndex,X.start)===$){const Z=this.getLineFeedCnt(J.piece.bufferIndex,X.start,Q);if(Z!==Y)return{index:Z,remainder:0}}return{index:Y,remainder:Q.column}}getAccumulatedValue(J,$){if($<0)return 0;const X=J.piece,Q=this._buffers[X.bufferIndex].lineStarts,Y=X.start.line+$+1;if(Y>X.end.line)return Q[X.end.line]+X.end.column-Q[X.start.line]-X.start.column;else return Q[Y]-Q[X.start.line]-X.start.column}deleteNodeTail(J,$){const X=J.piece,Q=X.lineFeedCnt,Y=this.offsetInBuffer(X.bufferIndex,X.end),Z=$,G=this.offsetInBuffer(X.bufferIndex,Z),q=this.getLineFeedCnt(X.bufferIndex,X.start,Z),U=q-Q,H=G-Y,z=X.length+H;J.piece=new M5(X.bufferIndex,X.start,Z,q,z),m$(this,J,H,U)}deleteNodeHead(J,$){const X=J.piece,Q=X.lineFeedCnt,Y=this.offsetInBuffer(X.bufferIndex,X.start),Z=$,G=this.getLineFeedCnt(X.bufferIndex,Z,X.end),q=this.offsetInBuffer(X.bufferIndex,Z),U=G-Q,H=Y-q,z=X.length+H;J.piece=new M5(X.bufferIndex,Z,X.end,G,z),m$(this,J,H,U)}shrinkNode(J,$,X){const Q=J.piece,Y=Q.start,Z=Q.end,G=Q.length,q=Q.lineFeedCnt,U=$,H=this.getLineFeedCnt(Q.bufferIndex,Q.start,U),z=this.offsetInBuffer(Q.bufferIndex,$)-this.offsetInBuffer(Q.bufferIndex,Y);J.piece=new M5(Q.bufferIndex,Q.start,U,H,z),m$(this,J,z-G,H-q);const V=new M5(Q.bufferIndex,X,Z,this.getLineFeedCnt(Q.bufferIndex,X,Z),this.offsetInBuffer(Q.bufferIndex,Z)-this.offsetInBuffer(Q.bufferIndex,X)),j=this.rbInsertRight(J,V);this.validateCRLFWithPrevNode(j)}appendToNode(J,$){if(this.adjustCarriageReturnFromNext($,J))$+="\n";const X=this.shouldCheckCRLF()&&this.startWithLF($)&&this.endWithCR(J),Q=this._buffers[0].buffer.length;this._buffers[0].buffer+=$;const Y=u$($,!1);for(let j=0;j<Y.length;j++)Y[j]+=Q;if(X){const j=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Q-j}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Y.slice(1));const Z=this._buffers[0].lineStarts.length-1,G=this._buffers[0].buffer.length-this._buffers[0].lineStarts[Z],q={line:Z,column:G},U=J.piece.length+$.length,H=J.piece.lineFeedCnt,z=this.getLineFeedCnt(0,J.piece.start,q),V=z-H;J.piece=new M5(J.piece.bufferIndex,J.piece.start,q,z,U),this._lastChangeBufferPos=q,m$(this,J,$.length,V)}nodeAt(J){let $=this.root;const X=this._searchCache.get(J);if(X)return{node:X.node,nodeStartOffset:X.nodeStartOffset,remainder:J-X.nodeStartOffset};let Q=0;while($!==e0)if($.size_left>J)$=$.left;else if($.size_left+$.piece.length>=J){Q+=$.size_left;const Y={node:$,remainder:J-$.size_left,nodeStartOffset:Q};return this._searchCache.set(Y),Y}else J-=$.size_left+$.piece.length,Q+=$.size_left+$.piece.length,$=$.right;return null}nodeAt2(J,$){let X=this.root,Q=0;while(X!==e0)if(X.left!==e0&&X.lf_left>=J-1)X=X.left;else if(X.lf_left+X.piece.lineFeedCnt>J-1){const Y=this.getAccumulatedValue(X,J-X.lf_left-2),Z=this.getAccumulatedValue(X,J-X.lf_left-1);return Q+=X.size_left,{node:X,remainder:Math.min(Y+$-1,Z),nodeStartOffset:Q}}else if(X.lf_left+X.piece.lineFeedCnt===J-1){const Y=this.getAccumulatedValue(X,J-X.lf_left-2);if(Y+$-1<=X.piece.length)return{node:X,remainder:Y+$-1,nodeStartOffset:Q};else{$-=X.piece.length-Y;break}}else J-=X.lf_left+X.piece.lineFeedCnt,Q+=X.size_left+X.piece.length,X=X.right;X=X.next();while(X!==e0){if(X.piece.lineFeedCnt>0){const Y=this.getAccumulatedValue(X,0),Z=this.offsetOfNode(X);return{node:X,remainder:Math.min($-1,Y),nodeStartOffset:Z}}else if(X.piece.length>=$-1){const Y=this.offsetOfNode(X);return{node:X,remainder:$-1,nodeStartOffset:Y}}else $-=X.piece.length;X=X.next()}return null}nodeCharCodeAt(J,$){if(J.piece.lineFeedCnt<1)return-1;const X=this._buffers[J.piece.bufferIndex],Q=this.offsetInBuffer(J.piece.bufferIndex,J.piece.start)+$;return X.buffer.charCodeAt(Q)}offsetOfNode(J){if(!J)return 0;let $=J.size_left;while(J!==this.root){if(J.parent.right===J)$+=J.parent.size_left+J.parent.piece.length;J=J.parent}return $}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL==="\n")}startWithLF(J){if(typeof J==="string")return J.charCodeAt(0)===10;if(J===e0||J.piece.lineFeedCnt===0)return!1;const $=J.piece,X=this._buffers[$.bufferIndex].lineStarts,Q=$.start.line,Y=X[Q]+$.start.column;if(Q===X.length-1)return!1;if(X[Q+1]>Y+1)return!1;return this._buffers[$.bufferIndex].buffer.charCodeAt(Y)===10}endWithCR(J){if(typeof J==="string")return J.charCodeAt(J.length-1)===13;if(J===e0||J.piece.lineFeedCnt===0)return!1;return this.nodeCharCodeAt(J,J.piece.length-1)===13}validateCRLFWithPrevNode(J){if(this.shouldCheckCRLF()&&this.startWithLF(J)){const $=J.prev();if(this.endWithCR($))this.fixCRLF($,J)}}validateCRLFWithNextNode(J){if(this.shouldCheckCRLF()&&this.endWithCR(J)){const $=J.next();if(this.startWithLF($))this.fixCRLF(J,$)}}fixCRLF(J,$){const X=[],Q=this._buffers[J.piece.bufferIndex].lineStarts;let Y;if(J.piece.end.column===0)Y={line:J.piece.end.line-1,column:Q[J.piece.end.line]-Q[J.piece.end.line-1]-1};else Y={line:J.piece.end.line,column:J.piece.end.column-1};const Z=J.piece.length-1,G=J.piece.lineFeedCnt-1;if(J.piece=new M5(J.piece.bufferIndex,J.piece.start,Y,G,Z),m$(this,J,-1,-1),J.piece.length===0)X.push(J);const q={line:$.piece.start.line+1,column:0},U=$.piece.length-1,H=this.getLineFeedCnt($.piece.bufferIndex,q,$.piece.end);if($.piece=new M5($.piece.bufferIndex,q,$.piece.end,H,U),m$(this,$,-1,-1),$.piece.length===0)X.push($);const z=this.createNewPieces("\r\n");this.rbInsertRight(J,z[0]);for(let V=0;V<X.length;V++)qV(this,X[V])}adjustCarriageReturnFromNext(J,$){if(this.shouldCheckCRLF()&&this.endWithCR(J)){const X=$.next();if(this.startWithLF(X)){if(J+="\n",X.piece.length===1)qV(this,X);else{const Q=X.piece,Y={line:Q.start.line+1,column:0},Z=Q.length-1,G=this.getLineFeedCnt(Q.bufferIndex,Y,Q.end);X.piece=new M5(Q.bufferIndex,Y,Q.end,G,Z),m$(this,X,-1,-1)}return!0}}return!1}iterate(J,$){if(J===e0)return $(e0);const X=this.iterate(J.left,$);if(!X)return X;return $(J)&&this.iterate(J.right,$)}getNodeContent(J){if(J===e0)return"";const $=this._buffers[J.piece.bufferIndex],X=J.piece,Q=this.offsetInBuffer(X.bufferIndex,X.start),Y=this.offsetInBuffer(X.bufferIndex,X.end);return $.buffer.substring(Q,Y)}getPieceContent(J){const $=this._buffers[J.bufferIndex],X=this.offsetInBuffer(J.bufferIndex,J.start),Q=this.offsetInBuffer(J.bufferIndex,J.end);return $.buffer.substring(X,Q)}rbInsertRight(J,$){const X=new GV($,1);if(X.left=e0,X.right=e0,X.parent=e0,X.size_left=0,X.lf_left=0,this.root===e0)this.root=X,X.color=0;else if(J.right===e0)J.right=X,X.parent=J;else{const Y=fA(J.right);Y.left=X,X.parent=Y}return pw(this,X),X}rbInsertLeft(J,$){const X=new GV($,1);if(X.left=e0,X.right=e0,X.parent=e0,X.size_left=0,X.lf_left=0,this.root===e0)this.root=X,X.color=0;else if(J.left===e0)J.left=X,X.parent=J;else{const Q=fw(J.left);Q.right=X,X.parent=Q}return pw(this,X),X}}var Ec,zQ;var uw=N(()=>{U1();c0();g5();Lc();YK();Ec=function(J){let $;if(J[J.length-1]<65536)$=new Uint16Array(J.length);else $=new Uint32Array(J.length);return $.set(J,0),$};zQ=65535});class yY extends f{constructor(J,$,X,Q,Y,Z,G){super();this._onDidChangeContent=this._register(new y),this._BOM=$,this._mightContainNonBasicASCII=!Z,this._mightContainRTL=Q,this._mightContainUnusualLineTerminators=Y,this._pieceTree=new mw(J,X,G)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(J){return this._pieceTree.createSnapshot(J?this._BOM:"")}getOffsetAt(J,$){return this._pieceTree.getOffsetAt(J,$)}getPositionAt(J){return this._pieceTree.getPositionAt(J)}getRangeAt(J,$){const X=J+$,Q=this.getPositionAt(J),Y=this.getPositionAt(X);return new L(Q.lineNumber,Q.column,Y.lineNumber,Y.column)}getValueInRange(J,$=0){if(J.isEmpty())return"";const X=this._getEndOfLine($);return this._pieceTree.getValueInRange(J,X)}getValueLengthInRange(J,$=0){if(J.isEmpty())return 0;if(J.startLineNumber===J.endLineNumber)return J.endColumn-J.startColumn;const X=this.getOffsetAt(J.startLineNumber,J.startColumn),Q=this.getOffsetAt(J.endLineNumber,J.endColumn);let Y=0;const Z=this._getEndOfLine($),G=this.getEOL();if(Z.length!==G.length){const q=Z.length-G.length,U=J.endLineNumber-J.startLineNumber;Y=q*U}return Q-X+Y}getCharacterCountInRange(J,$=0){if(this._mightContainNonBasicASCII){let X=0;const{startLineNumber:Q,endLineNumber:Y}=J;for(let Z=Q;Z<=Y;Z++){const G=this.getLineContent(Z),q=Z===Q?J.startColumn-1:0,U=Z===Y?J.endColumn-1:G.length;for(let H=q;H<U;H++)if(U8(G.charCodeAt(H)))X=X+1,H=H+1;else X=X+1}return X+=this._getEndOfLine($).length*(Y-Q),X}return this.getValueLengthInRange(J,$)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(J){return this._pieceTree.getLineContent(J)}getLineCharCode(J,$){return this._pieceTree.getLineCharCode(J,$)}getLineLength(J){return this._pieceTree.getLineLength(J)}getLineFirstNonWhitespaceColumn(J){const $=S8(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){const $=Z9(this.getLineContent(J));if($===-1)return 0;return $+2}_getEndOfLine(J){switch(J){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(J){this._pieceTree.setEOL(J)}applyEdits(J,$,X){let Q=this._mightContainRTL,Y=this._mightContainUnusualLineTerminators,Z=this._mightContainNonBasicASCII,G=!0,q=[];for(let B=0;B<J.length;B++){const K=J[B];if(G&&K._isTracked)G=!1;const P=K.range;if(K.text){let O=!0;if(!Z)O=!$q(K.text),Z=O;if(!Q&&O)Q=MX(K.text);if(!Y&&O)Y=oB(K.text)}let A="",D=0,R=0,M=0;if(K.text){let O;[D,R,M,O]=a9(K.text);const _=this.getEOL();if(O===0||O===(_==="\r\n"?2:1))A=K.text;else A=K.text.replace(/\r\n|\r|\n/g,_)}q[B]={sortIndex:B,identifier:K.identifier||null,range:P,rangeOffset:this.getOffsetAt(P.startLineNumber,P.startColumn),rangeLength:this.getValueLengthInRange(P),text:A,eolCount:D,firstLineLength:R,lastLineLength:M,forceMoveMarkers:Boolean(K.forceMoveMarkers),isAutoWhitespaceEdit:K.isAutoWhitespaceEdit||!1}}q.sort(yY._sortOpsAscending);let U=!1;for(let B=0,K=q.length-1;B<K;B++){const P=q[B].range.getEndPosition(),A=q[B+1].range.getStartPosition();if(A.isBeforeOrEqual(P)){if(A.isBefore(P))throw new Error("Overlapping ranges are not allowed!");U=!0}}if(G)q=this._reduceOperations(q);const H=X||$?yY._getInverseEditRanges(q):[],z=[];if($)for(let B=0;B<q.length;B++){const K=q[B],P=H[B];if(K.isAutoWhitespaceEdit&&K.range.isEmpty())for(let A=P.startLineNumber;A<=P.endLineNumber;A++){let D="";if(A===P.startLineNumber){if(D=this.getLineContent(K.range.startLineNumber),S8(D)!==-1)continue}z.push({lineNumber:A,oldContent:D})}}let V=null;if(X){let B=0;V=[];for(let K=0;K<q.length;K++){const P=q[K],A=H[K],D=this.getValueInRange(P.range),R=P.rangeOffset+B;B+=P.text.length-D.length,V[K]={sortIndex:P.sortIndex,identifier:P.identifier,range:A,text:D,textChange:new b6(P.rangeOffset,D,R,P.text)}}if(!U)V.sort((K,P)=>K.sortIndex-P.sortIndex)}this._mightContainRTL=Q,this._mightContainUnusualLineTerminators=Y,this._mightContainNonBasicASCII=Z;const j=this._doApplyEdits(q);let W=null;if($&&z.length>0){z.sort((B,K)=>K.lineNumber-B.lineNumber),W=[];for(let B=0,K=z.length;B<K;B++){const P=z[B].lineNumber;if(B>0&&z[B-1].lineNumber===P)continue;const A=z[B].oldContent,D=this.getLineContent(P);if(D.length===0||D===A||S8(D)!==-1)continue;W.push(P)}}return this._onDidChangeContent.fire(),new RT(V,j,W)}_reduceOperations(J){if(J.length<1000)return J;return[this._toSingleEditOperation(J)]}_toSingleEditOperation(J){let $=!1;const X=J[0].range,Q=J[J.length-1].range,Y=new L(X.startLineNumber,X.startColumn,Q.endLineNumber,Q.endColumn);let{startLineNumber:Z,startColumn:G}=X;const q=[];for(let j=0,W=J.length;j<W;j++){const B=J[j],K=B.range;if($=$||B.forceMoveMarkers,q.push(this.getValueInRange(new L(Z,G,K.startLineNumber,K.startColumn))),B.text.length>0)q.push(B.text);Z=K.endLineNumber,G=K.endColumn}const U=q.join(""),[H,z,V]=a9(U);return{sortIndex:0,identifier:J[0].identifier,range:Y,rangeOffset:this.getOffsetAt(Y.startLineNumber,Y.startColumn),rangeLength:this.getValueLengthInRange(Y,0),text:U,eolCount:H,firstLineLength:z,lastLineLength:V,forceMoveMarkers:$,isAutoWhitespaceEdit:!1}}_doApplyEdits(J){J.sort(yY._sortOpsDescending);const $=[];for(let X=0;X<J.length;X++){const Q=J[X],Y=Q.range.startLineNumber,Z=Q.range.startColumn,G=Q.range.endLineNumber,q=Q.range.endColumn;if(Y===G&&Z===q&&Q.text.length===0)continue;if(Q.text)this._pieceTree.delete(Q.rangeOffset,Q.rangeLength),this._pieceTree.insert(Q.rangeOffset,Q.text,!0);else this._pieceTree.delete(Q.rangeOffset,Q.rangeLength);const U=new L(Y,Z,G,q);$.push({range:U,rangeLength:Q.rangeLength,text:Q.text,rangeOffset:Q.rangeOffset,forceMoveMarkers:Q.forceMoveMarkers})}return $}findMatchesLineByLine(J,$,X,Q){return this._pieceTree.findMatchesLineByLine(J,$,X,Q)}static _getInverseEditRanges(J){const $=[];let X=0,Q=0,Y=null;for(let Z=0,G=J.length;Z<G;Z++){const q=J[Z];let U,H;if(Y)if(Y.range.endLineNumber===q.range.startLineNumber)U=X,H=Q+(q.range.startColumn-Y.range.endColumn);else U=X+(q.range.startLineNumber-Y.range.endLineNumber),H=q.range.startColumn;else U=q.range.startLineNumber,H=q.range.startColumn;let z;if(q.text.length>0){const V=q.eolCount+1;if(V===1)z=new L(U,H,U,H+q.firstLineLength);else z=new L(U,H,U+V-1,q.lastLineLength+1)}else z=new L(U,H,U,H);X=z.endLineNumber,Q=z.endColumn,$.push(z),Y=q}return $}static _sortOpsAscending(J,$){const X=L.compareRangesUsingEnds(J.range,$.range);if(X===0)return J.sortIndex-$.sortIndex;return X}static _sortOpsDescending(J,$){const X=L.compareRangesUsingEnds(J.range,$.range);if(X===0)return $.sortIndex-J.sortIndex;return-X}}var cw=N(()=>{F0();o0();c0();g5();uw();pG();Lw();X0()});class Cc{constructor(J,$,X,Q,Y,Z,G,q,U){this._chunks=J,this._bom=$,this._cr=X,this._lf=Q,this._crlf=Y,this._containsRTL=Z,this._containsUnusualLineTerminators=G,this._isBasicASCII=q,this._normalizeEOL=U}_getEOL(J){const $=this._cr+this._lf+this._crlf,X=this._cr+this._crlf;if($===0)return J===1?"\n":"\r\n";if(X>$/2)return"\r\n";return"\n"}create(J){const $=this._getEOL(J),X=this._chunks;if(this._normalizeEOL&&($==="\r\n"&&(this._cr>0||this._lf>0)||$==="\n"&&(this._cr>0||this._crlf>0)))for(let Y=0,Z=X.length;Y<Z;Y++){const G=X[Y].buffer.replace(/\r\n|\r|\n/g,$),q=u$(G);X[Y]=new VQ(G,q)}const Q=new yY(X,this._bom,$,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Q,disposable:Q}}}class hA{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(J){if(J.length===0)return;if(this.chunks.length===0){if(Xq(J))this.BOM=mx,J=J.substr(1)}const $=J.charCodeAt(J.length-1);if($===13||$>=55296&&$<=56319)this._acceptChunk1(J.substr(0,J.length-1),!1),this._hasPreviousChar=!0,this._previousChar=$;else this._acceptChunk1(J,!1),this._hasPreviousChar=!1,this._previousChar=$}_acceptChunk1(J,$){if(!$&&J.length===0)return;if(this._hasPreviousChar)this._acceptChunk2(String.fromCharCode(this._previousChar)+J);else this._acceptChunk2(J)}_acceptChunk2(J){const $=Ic(this._tmpLineStarts,J);if(this.chunks.push(new VQ(J,$.lineStarts)),this.cr+=$.cr,this.lf+=$.lf,this.crlf+=$.crlf,!$.isBasicASCII){if(this.isBasicASCII=!1,!this.containsRTL)this.containsRTL=MX(J);if(!this.containsUnusualLineTerminators)this.containsUnusualLineTerminators=oB(J)}}finish(J=!0){return this._finish(),new Cc(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,J)}_finish(){if(this.chunks.length===0)this._acceptChunk1("",!0);if(this._hasPreviousChar){this._hasPreviousChar=!1;const J=this.chunks[this.chunks.length-1];J.buffer+=String.fromCharCode(this._previousChar);const $=u$(J.buffer);if(J.lineStarts=$,this._previousChar===13)this.cr++}}}var xc=N(()=>{o0();uw();cw()});class lw{constructor(J){this._default=J,this._store=[]}get(J){if(J<this._store.length)return this._store[J];return this._default}set(J,$){while(J>=this._store.length)this._store[this._store.length]=this._default;this._store[J]=$}replace(J,$,X){if(J>=this._store.length)return;if($===0){this.insert(J,X);return}else if(X===0){this.delete(J,$);return}const Q=this._store.slice(0,J),Y=this._store.slice(J+$),Z=y50(X,this._default);this._store=Q.concat(Z,Y)}delete(J,$){if($===0||J>=this._store.length)return;this._store.splice(J,$)}insert(J,$){if($===0||J>=this._store.length)return;const X=[];for(let Q=0;Q<$;Q++)X[Q]=this._default;this._store=bQ(this._store,J,X)}}var y50;var bc=N(()=>{H1();y50=function(J,$){const X=[];for(let Q=0;Q<J;Q++)X[Q]=$;return X}});class dw{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(J,$){this._startLineNumber=J,this._tokens=$}getLineTokens(J){return this._tokens[J-this._startLineNumber]}appendLineTokens(J){this._tokens.push(J)}}var vc=N(()=>{});class O3{constructor(){this._tokens=[]}add(J,$){if(this._tokens.length>0){const X=this._tokens[this._tokens.length-1];if(X.endLineNumber+1===J){X.appendLineTokens($);return}}this._tokens.push(new dw(J,[$]))}finalize(){return this._tokens}}var sw=N(()=>{vc()});class fc{constructor(J,$){this.tokenizationSupport=$,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new HV(J)}getStartState(J){return this.store.getStartState(J,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class aw extends fc{constructor(J,$,X,Q){super(J,$);this._textModel=X,this._languageIdCodec=Q}updateTokensUntilLine(J,$){const X=this._textModel.getLanguageId();while(!0){const Q=this.getFirstInvalidLine();if(!Q||Q.lineNumber>$)break;const Y=this._textModel.getLineContent(Q.lineNumber),Z=UV(this._languageIdCodec,X,this.tokenizationSupport,Y,!0,Q.startState);J.add(Q.lineNumber,Z.tokens),this.store.setEndState(Q.lineNumber,Z.endState)}}getTokenTypeIfInsertingCharacter(J,$){const X=this.getStartState(J.lineNumber);if(!X)return 0;const Q=this._textModel.getLanguageId(),Y=this._textModel.getLineContent(J.lineNumber),Z=Y.substring(0,J.column-1)+$+Y.substring(J.column-1),G=UV(this._languageIdCodec,Q,this.tokenizationSupport,Z,!0,X),q=new _8(G.tokens,Z,this._languageIdCodec);if(q.getCount()===0)return 0;const U=q.findTokenIndexAtOffset(J.column-1);return q.getStandardTokenType(U)}tokenizeLineWithEdit(J,$,X){const{lineNumber:Q,column:Y}=J,Z=this.getStartState(Q);if(!Z)return null;const G=this._textModel.getLineContent(Q),q=G.substring(0,Y-1)+X+G.substring(Y-1+$),U=this._textModel.getLanguageIdAtPosition(Q,0),H=UV(this._languageIdCodec,U,this.tokenizationSupport,q,!0,Z);return new _8(H.tokens,q,this._languageIdCodec)}isCheapToTokenize(J){const $=this.store.getFirstInvalidEndStateLineNumberOrMax();if(J<$)return!0;if(J===$&&this._textModel.getLineLength(J)<2048)return!0;return!1}tokenizeHeuristically(J,$,X){if(X<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if($<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(J,X),{heuristicTokens:!1};let Q=this.guessStartState($);const Y=this._textModel.getLanguageId();for(let Z=$;Z<=X;Z++){const G=this._textModel.getLineContent(Z),q=UV(this._languageIdCodec,Y,this.tokenizationSupport,G,!0,Q);J.add(Z,q.tokens),Q=q.endState}return{heuristicTokens:!0}}guessStartState(J){let $=this._textModel.getLineFirstNonWhitespaceColumn(J);const X=[];let Q=null;for(let G=J-1;$>1&&G>=1;G--){const q=this._textModel.getLineFirstNonWhitespaceColumn(G);if(q===0)continue;if(q<$){if(X.push(this._textModel.getLineContent(G)),$=q,Q=this.getStartState(G),Q)break}}if(!Q)Q=this.tokenizationSupport.getInitialState();X.reverse();const Y=this._textModel.getLanguageId();let Z=Q;for(let G of X)Z=UV(this._languageIdCodec,Y,this.tokenizationSupport,G,!1,Z).endState;return Z}}class HV{constructor(J){this.lineCount=J,this._tokenizationStateStore=new hc,this._invalidEndStatesLineNumbers=new gc,this._invalidEndStatesLineNumbers.addRange(new d0(1,J+1))}getEndState(J){return this._tokenizationStateStore.getEndState(J)}setEndState(J,$){if(!$)throw new b1("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(J);const X=this._tokenizationStateStore.setEndState(J,$);if(X&&J<this.lineCount)this._invalidEndStatesLineNumbers.addRange(new d0(J+1,J+2));return X}acceptChange(J,$){this.lineCount+=$-J.length,this._tokenizationStateStore.acceptChange(J,$),this._invalidEndStatesLineNumbers.addRangeAndResize(new d0(J.startLineNumber,J.endLineNumberExclusive),$)}acceptChanges(J){for(let $ of J){const[X]=a9($.text);this.acceptChange(new S0($.range.startLineNumber,$.range.endLineNumber+1),X+1)}}invalidateEndStateRange(J){this._invalidEndStatesLineNumbers.addRange(new d0(J.startLineNumber,J.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(J,$){if(J===1)return $;return this.getEndState(J-1)}getFirstInvalidLine(J){const $=this.getFirstInvalidEndStateLineNumber();if($===null)return null;const X=this.getStartState($,J);if(!X)throw new b1("Start state must be defined");return{lineNumber:$,startState:X}}}class hc{constructor(){this._lineEndStates=new lw(null)}getEndState(J){return this._lineEndStates.get(J)}setEndState(J,$){const X=this._lineEndStates.get(J);if(X&&X.equals($))return!1;return this._lineEndStates.set(J,$),!0}acceptChange(J,$){let X=J.length;if($>0&&X>0)X--,$--;this._lineEndStates.replace(J.startLineNumber,X,$)}}class gc{constructor(){this._ranges=[]}get min(){if(this._ranges.length===0)return null;return this._ranges[0].start}delete(J){const $=this._ranges.findIndex((X)=>X.contains(J));if($!==-1){const X=this._ranges[$];if(X.start===J)if(X.endExclusive===J+1)this._ranges.splice($,1);else this._ranges[$]=new d0(J+1,X.endExclusive);else if(X.endExclusive===J+1)this._ranges[$]=new d0(X.start,J);else this._ranges.splice($,1,new d0(X.start,J),new d0(J+1,X.endExclusive))}}addRange(J){d0.addRange(J,this._ranges)}addRangeAndResize(J,$){let X=0;while(!(X>=this._ranges.length||J.start<=this._ranges[X].endExclusive))X++;let Q=X;while(!(Q>=this._ranges.length||J.endExclusive<this._ranges[Q].start))Q++;const Y=$-J.length;for(let Z=Q;Z<this._ranges.length;Z++)this._ranges[Z]=this._ranges[Z].delta(Y);if(X===Q){const Z=new d0(J.start,J.start+$);if(!Z.isEmpty)this._ranges.splice(X,0,Z)}else{const Z=Math.min(J.start,this._ranges[X].start),G=Math.max(J.endExclusive,this._ranges[Q-1].endExclusive),q=new d0(Z,G+Y);if(!q.isEmpty)this._ranges.splice(X,Q-X,q);else this._ranges.splice(X,Q-X)}}toString(){return this._ranges.map((J)=>J.toString()).join(" + ")}}class rw{constructor(J,$){this._tokenizerWithStateStore=J,this._backgroundTokenStore=$,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){if(this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;this._isScheduled=!0,jO((J)=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(J)})}_backgroundTokenizeWithDeadline(J){const $=Date.now()+J.timeRemaining(),X=()=>{if(this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize())return;if(this._backgroundTokenizeForAtLeast1ms(),Date.now()<$)mW(X);else this._beginBackgroundTokenization()};X()}_backgroundTokenizeForAtLeast1ms(){const J=this._tokenizerWithStateStore._textModel.getLineCount(),$=new O3,X=U6.create(!1);do{if(X.elapsed()>1)break;if(this._tokenizeOneInvalidLine($)>=J)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens($.finalize()),this.checkFinished()}_hasLinesToTokenize(){if(!this._tokenizerWithStateStore)return!1;return!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(J){var $;const X=($=this._tokenizerWithStateStore)===null||$===void 0?void 0:$.getFirstInvalidLine();if(!X)return this._tokenizerWithStateStore._textModel.getLineCount()+1;return this._tokenizerWithStateStore.updateTokensUntilLine(J,X.lineNumber),X.lineNumber}checkFinished(){if(this._isDisposed)return;if(this._tokenizerWithStateStore.store.allStatesValid())this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(J,$){this._tokenizerWithStateStore.store.invalidateEndStateRange(new S0(J,$))}}var UV;var pc=N(()=>{u1();D1();O1();X$();pG();m5();u9();Wz();bc();sw();cX();UV=function(J,$,X,Q,Y,Z){let G=null;if(X)try{G=X.tokenizeEncoded(Q,Y,Z.clone())}catch(q){n0(q)}if(!G)G=wq(J.encodeLanguageId($),Z);return _8.convertToEndOffset(G.tokens,Q.length),G}});function l$(J){if(J instanceof Uint32Array)return J;else return new Uint32Array(J)}class k4{static deleteBeginning(J,$){if(J===null||J===c$)return J;return k4.delete(J,0,$)}static deleteEnding(J,$){if(J===null||J===c$)return J;const X=l$(J),Q=X[X.length-2];return k4.delete(J,$,Q)}static delete(J,$,X){if(J===null||J===c$||$===X)return J;const Q=l$(J),Y=Q.length>>>1;if($===0&&Q[Q.length-2]===X)return c$;const Z=_8.findIndexInTokensArray(Q,$),G=Z>0?Q[Z-1<<1]:0,q=Q[Z<<1];if(X<q){const j=X-$;for(let W=Z;W<Y;W++)Q[W<<1]-=j;return J}let U,H;if(G!==$)Q[Z<<1]=$,U=Z+1<<1,H=$;else U=Z<<1,H=G;const z=X-$;for(let j=Z+1;j<Y;j++){const W=Q[j<<1]-z;if(W>H)Q[U++]=W,Q[U++]=Q[(j<<1)+1],H=W}if(U===Q.length)return J;const V=new Uint32Array(U);return V.set(Q.subarray(0,U),0),V.buffer}static append(J,$){if($===c$)return J;if(J===c$)return $;if(J===null)return J;if($===null)return null;const X=l$(J),Q=l$($),Y=Q.length>>>1,Z=new Uint32Array(X.length+Q.length);Z.set(X,0);let G=X.length;const q=X[X.length-2];for(let U=0;U<Y;U++)Z[G++]=Q[U<<1]+q,Z[G++]=Q[(U<<1)+1];return Z.buffer}static insert(J,$,X){if(J===null||J===c$)return J;const Q=l$(J),Y=Q.length>>>1;let Z=_8.findIndexInTokensArray(Q,$);if(Z>0){if(Q[Z-1<<1]===$)Z--}for(let G=Z;G<Y;G++)Q[G<<1]+=X;return J}}var c$;var mc=N(()=>{cX();c$=new Uint32Array(0).buffer});class T3{constructor(J){this._lineTokens=[],this._len=0,this._languageIdCodec=J}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(J,$,X){let Q=null;if($<this._len)Q=this._lineTokens[$];if(Q!==null&&Q!==c$)return new _8(l$(Q),X,this._languageIdCodec);const Y=new Uint32Array(2);return Y[0]=X.length,Y[1]=uc(this._languageIdCodec.encodeLanguageId(J)),new _8(Y,X,this._languageIdCodec)}static _massageTokens(J,$,X){const Q=X?l$(X):null;if($===0){let Y=!1;if(Q&&Q.length>1)Y=d6.getLanguageId(Q[1])!==J;if(!Y)return c$}if(!Q||Q.length===0){const Y=new Uint32Array(2);return Y[0]=$,Y[1]=uc(J),Y.buffer}if(Q[Q.length-2]=$,Q.byteOffset===0&&Q.byteLength===Q.buffer.byteLength)return Q.buffer;return Q}_ensureLine(J){while(J>=this._len)this._lineTokens[this._len]=null,this._len++}_deleteLines(J,$){if($===0)return;if(J+$>this._len)$=this._len-J;this._lineTokens.splice(J,$),this._len-=$}_insertLines(J,$){if($===0)return;const X=[];for(let Q=0;Q<$;Q++)X[Q]=null;this._lineTokens=bQ(this._lineTokens,J,X),this._len+=$}setTokens(J,$,X,Q,Y){const Z=T3._massageTokens(this._languageIdCodec.encodeLanguageId(J),X,Q);this._ensureLine($);const G=this._lineTokens[$];if(this._lineTokens[$]=Z,Y)return!T3._equals(G,Z);return!1}static _equals(J,$){if(!J||!$)return!J&&!$;const X=l$(J),Q=l$($);if(X.length!==Q.length)return!1;for(let Y=0,Z=X.length;Y<Z;Y++)if(X[Y]!==Q[Y])return!1;return!0}acceptEdit(J,$,X){this._acceptDeleteRange(J),this._acceptInsertText(new v(J.startLineNumber,J.startColumn),$,X)}_acceptDeleteRange(J){const $=J.startLineNumber-1;if($>=this._len)return;if(J.startLineNumber===J.endLineNumber){if(J.startColumn===J.endColumn)return;this._lineTokens[$]=k4.delete(this._lineTokens[$],J.startColumn-1,J.endColumn-1);return}this._lineTokens[$]=k4.deleteEnding(this._lineTokens[$],J.startColumn-1);const X=J.endLineNumber-1;let Q=null;if(X<this._len)Q=k4.deleteBeginning(this._lineTokens[X],J.endColumn-1);this._lineTokens[$]=k4.append(this._lineTokens[$],Q),this._deleteLines(J.startLineNumber,J.endLineNumber-J.startLineNumber)}_acceptInsertText(J,$,X){if($===0&&X===0)return;const Q=J.lineNumber-1;if(Q>=this._len)return;if($===0){this._lineTokens[Q]=k4.insert(this._lineTokens[Q],J.column-1,X);return}this._lineTokens[Q]=k4.deleteEnding(this._lineTokens[Q],J.column-1),this._lineTokens[Q]=k4.insert(this._lineTokens[Q],J.column-1,X),this._insertLines(J.lineNumber,$)}setMultilineTokens(J,$){if(J.length===0)return{changes:[]};const X=[];for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];let G=0,q=0,U=!1;for(let H=Z.startLineNumber;H<=Z.endLineNumber;H++)if(U)this.setTokens($.getLanguageId(),H-1,$.getLineLength(H),Z.getLineTokens(H),!1),q=H;else if(this.setTokens($.getLanguageId(),H-1,$.getLineLength(H),Z.getLineTokens(H),!0))U=!0,G=H,q=H;if(U)X.push({fromLineNumber:G,toLineNumber:q})}return{changes:X}}}var uc;var cc=N(()=>{H1();U1();mc();cX();Lq();uc=function(J){return(J<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}});class gA{constructor(J){this._pieces=[],this._isComplete=!1,this._languageIdCodec=J}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(J,$){this._pieces=J||[],this._isComplete=$}setPartial(J,$){let X=J;if($.length>0){const Y=$[0].getRange(),Z=$[$.length-1].getRange();if(!Y||!Z)return J;X=J.plusRange(Y).plusRange(Z)}let Q=null;for(let Y=0,Z=this._pieces.length;Y<Z;Y++){const G=this._pieces[Y];if(G.endLineNumber<X.startLineNumber)continue;if(G.startLineNumber>X.endLineNumber){Q=Q||{index:Y};break}if(G.removeTokens(X),G.isEmpty()){this._pieces.splice(Y,1),Y--,Z--;continue}if(G.endLineNumber<X.startLineNumber)continue;if(G.startLineNumber>X.endLineNumber){Q=Q||{index:Y};continue}const[q,U]=G.split(X);if(q.isEmpty()){Q=Q||{index:Y};continue}if(U.isEmpty())continue;this._pieces.splice(Y,1,q,U),Y++,Z++,Q=Q||{index:Y}}if(Q=Q||{index:this._pieces.length},$.length>0)this._pieces=bQ(this._pieces,Q.index,$);return X}isComplete(){return this._isComplete}addSparseTokens(J,$){if($.getLineContent().length===0)return $;const X=this._pieces;if(X.length===0)return $;const Q=gA._findFirstPieceWithLine(X,J),Y=X[Q].getLineTokens(J);if(!Y)return $;const Z=$.getCount(),G=Y.getCount();let q=0;const U=[];let H=0,z=0;const V=(j,W)=>{if(j===z)return;z=j,U[H++]=j,U[H++]=W};for(let j=0;j<G;j++){const W=Y.getStartCharacter(j),B=Y.getEndCharacter(j),K=Y.getMetadata(j),P=((K&1?2048:0)|(K&2?4096:0)|(K&4?8192:0)|(K&8?16384:0)|(K&16?16744448:0)|(K&32?4278190080:0))>>>0,A=~P>>>0;while(q<Z&&$.getEndOffset(q)<=W)V($.getEndOffset(q),$.getMetadata(q)),q++;if(q<Z&&$.getStartOffset(q)<W)V(W,$.getMetadata(q));while(q<Z&&$.getEndOffset(q)<B)V($.getEndOffset(q),$.getMetadata(q)&A|K&P),q++;if(q<Z){if(V(B,$.getMetadata(q)&A|K&P),$.getEndOffset(q)===B)q++}else{const D=Math.min(Math.max(0,q-1),Z-1);V(B,$.getMetadata(D)&A|K&P)}}while(q<Z)V($.getEndOffset(q),$.getMetadata(q)),q++;return new _8(new Uint32Array(U),$.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(J,$){let X=0,Q=J.length-1;while(X<Q){let Y=X+Math.floor((Q-X)/2);if(J[Y].endLineNumber<$)X=Y+1;else if(J[Y].startLineNumber>$)Q=Y-1;else{while(Y>X&&J[Y-1].startLineNumber<=$&&$<=J[Y-1].endLineNumber)Y--;return Y}}return X}acceptEdit(J,$,X,Q,Y){for(let Z of this._pieces)Z.acceptEdit(J,$,X,Q,Y)}}var lc=N(()=>{H1();cX()});class zV extends gz{constructor(J,$,X,Q,Y,Z){super();this._languageService=J,this._languageConfigurationService=$,this._textModel=X,this._bracketPairsTextModelPart=Q,this._languageId=Y,this._attachedViews=Z,this._semanticTokens=new gA(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new y),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new dc(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange((G)=>{if(G.affects(this._languageId))this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens((G)=>{this._emitModelTokensChangedEvent(G)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState((G)=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(J){if(J.isFlush)this._semanticTokens.flush();else if(!J.isEolChange)for(let $ of J.changes){const[X,Q,Y]=a9($.text);this._semanticTokens.acceptEdit($.range,X,Q,Y,$.text.length>0?$.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(J)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(J){this.validateLineNumber(J);const $=this.grammarTokens.getLineTokens(J);return this._semanticTokens.addSparseTokens(J,$)}_emitModelTokensChangedEvent(J){if(!this._textModel._isDisposing())this._bracketPairsTextModelPart.handleDidChangeTokens(J),this._onDidChangeTokens.fire(J)}validateLineNumber(J){if(J<1||J>this._textModel.getLineCount())throw new b1("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(J){this.validateLineNumber(J),this.grammarTokens.forceTokenization(J)}isCheapToTokenize(J){return this.validateLineNumber(J),this.grammarTokens.isCheapToTokenize(J)}tokenizeIfCheap(J){this.validateLineNumber(J),this.grammarTokens.tokenizeIfCheap(J)}getTokenTypeIfInsertingCharacter(J,$,X){return this.grammarTokens.getTokenTypeIfInsertingCharacter(J,$,X)}tokenizeLineWithEdit(J,$,X){return this.grammarTokens.tokenizeLineWithEdit(J,$,X)}setSemanticTokens(J,$){this._semanticTokens.set(J,$),this._emitModelTokensChangedEvent({semanticTokensApplied:J!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(J,$){if(this.hasCompleteSemanticTokens())return;const X=this._textModel.validateRange(this._semanticTokens.setPartial(J,$));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:X.startLineNumber,toLineNumber:X.endLineNumber}]})}getWordAtPosition(J){this.assertNotDisposed();const $=this._textModel.validatePosition(J),X=this._textModel.getLineContent($.lineNumber),Q=this.getLineTokens($.lineNumber),Y=Q.findTokenIndexAtOffset($.column-1),[Z,G]=zV._findLanguageBoundaries(Q,Y),q=hQ($.column,this.getLanguageConfiguration(Q.getLanguageId(Y)).getWordDefinition(),X.substring(Z,G),Z);if(q&&q.startColumn<=J.column&&J.column<=q.endColumn)return q;if(Y>0&&Z===$.column-1){const[U,H]=zV._findLanguageBoundaries(Q,Y-1),z=hQ($.column,this.getLanguageConfiguration(Q.getLanguageId(Y-1)).getWordDefinition(),X.substring(U,H),U);if(z&&z.startColumn<=J.column&&J.column<=z.endColumn)return z}return null}getLanguageConfiguration(J){return this._languageConfigurationService.getLanguageConfiguration(J)}static _findLanguageBoundaries(J,$){const X=J.getLanguageId($);let Q=0;for(let Z=$;Z>=0&&J.getLanguageId(Z)===X;Z--)Q=J.getStartOffset(Z);let Y=J.getLineContent().length;for(let Z=$,G=J.getCount();Z<G&&J.getLanguageId(Z)===X;Z++)Y=J.getEndOffset(Z);return[Q,Y]}getWordUntilPosition(J){const $=this.getWordAtPosition(J);if(!$)return{word:"",startColumn:J.column,endColumn:J.column};return{word:$.word.substr(0,J.column-$.startColumn),startColumn:$.startColumn,endColumn:J.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(J,$){const X=this._textModel.validatePosition(new v(J,$)),Q=this.getLineTokens(X.lineNumber);return Q.getLanguageId(Q.findTokenIndexAtOffset(X.column-1))}setLanguageId(J,$="api"){if(this._languageId===J)return;const X={oldLanguage:this._languageId,newLanguage:J,source:$};this._languageId=J,this._bracketPairsTextModelPart.handleDidChangeLanguage(X),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(X),this._onDidChangeLanguageConfiguration.fire({})}}class dc extends f{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(J,$,X,Q){super();this._languageIdCodec=J,this._textModel=$,this.getLanguageId=X,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new m6),this._tokens=new T3(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new m6),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new y),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new y),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new SZ),this._register(c1.onDidChange((Y)=>{const Z=this.getLanguageId();if(Y.changedLanguages.indexOf(Z)===-1)return;this.resetTokenization()})),this.resetTokenization(),this._register(Q.onDidChangeVisibleRanges(({view:Y,state:Z})=>{if(Z){let G=this._attachedViewStates.get(Y);if(!G)G=new sc(()=>this.refreshRanges(G.lineRanges)),this._attachedViewStates.set(Y,G);G.handleStateChange(Z)}else this._attachedViewStates.deleteAndDispose(Y)}))}resetTokenization(J=!0){var $;if(this._tokens.flush(),($=this._debugBackgroundTokens)===null||$===void 0||$.flush(),this._debugBackgroundStates)this._debugBackgroundStates=new HV(this._textModel.getLineCount());if(J)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const X=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const Z=c1.get(this.getLanguageId());if(!Z)return[null,null];let G;try{G=Z.getInitialState()}catch(q){return n0(q),[null,null]}return[Z,G]},[Q,Y]=X();if(Q&&Y)this._tokenizer=new aw(this._textModel.getLineCount(),Q,this._textModel,this._languageIdCodec);else this._tokenizer=null;if(this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const Z={setTokens:(G)=>{this.setTokens(G)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const G=2;this._backgroundTokenizationState=G,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(G,q)=>{var U;if(!this._tokenizer)return;const H=this._tokenizer.store.getFirstInvalidEndStateLineNumber();if(H!==null&&G>=H)(U=this._tokenizer)===null||U===void 0||U.store.setEndState(G,q)}};if(Q&&Q.createBackgroundTokenizer&&!Q.backgroundTokenizerShouldOnlyVerifyTokens)this._backgroundTokenizer.value=Q.createBackgroundTokenizer(this._textModel,Z);if(!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization())this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new rw(this._tokenizer,Z),this._defaultBackgroundTokenizer.handleChanges();if((Q===null||Q===void 0?void 0:Q.backgroundTokenizerShouldOnlyVerifyTokens)&&Q.createBackgroundTokenizer)this._debugBackgroundTokens=new T3(this._languageIdCodec),this._debugBackgroundStates=new HV(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Q.createBackgroundTokenizer(this._textModel,{setTokens:(G)=>{var q;(q=this._debugBackgroundTokens)===null||q===void 0||q.setMultilineTokens(G,this._textModel)},backgroundTokenizationFinished(){},setEndState:(G,q)=>{var U;(U=this._debugBackgroundStates)===null||U===void 0||U.setEndState(G,q)}});else this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var J;(J=this._defaultBackgroundTokenizer)===null||J===void 0||J.handleChanges()}handleDidChangeContent(J){var $,X,Q;if(J.isFlush)this.resetTokenization(!1);else if(!J.isEolChange){for(let Y of J.changes){const[Z,G]=a9(Y.text);this._tokens.acceptEdit(Y.range,Z,G),($=this._debugBackgroundTokens)===null||$===void 0||$.acceptEdit(Y.range,Z,G)}if((X=this._debugBackgroundStates)===null||X===void 0||X.acceptChanges(J.changes),this._tokenizer)this._tokenizer.store.acceptChanges(J.changes);(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.handleChanges()}}setTokens(J){const{changes:$}=this._tokens.setMultilineTokens(J,this._textModel);if($.length>0)this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:$});return{changes:$}}refreshAllVisibleLineTokens(){const J=S0.joinMany([...this._attachedViewStates].map(([$,X])=>X.lineRanges));this.refreshRanges(J)}refreshRanges(J){for(let $ of J)this.refreshRange($.startLineNumber,$.endLineNumberExclusive-1)}refreshRange(J,$){var X,Q;if(!this._tokenizer)return;J=Math.max(1,Math.min(this._textModel.getLineCount(),J)),$=Math.min(this._textModel.getLineCount(),$);const Y=new O3,{heuristicTokens:Z}=this._tokenizer.tokenizeHeuristically(Y,J,$),G=this.setTokens(Y.finalize());if(Z)for(let q of G.changes)(X=this._backgroundTokenizer.value)===null||X===void 0||X.requestTokens(q.fromLineNumber,q.toLineNumber+1);(Q=this._defaultBackgroundTokenizer)===null||Q===void 0||Q.checkFinished()}forceTokenization(J){var $,X;const Q=new O3;($=this._tokenizer)===null||$===void 0||$.updateTokensUntilLine(Q,J),this.setTokens(Q.finalize()),(X=this._defaultBackgroundTokenizer)===null||X===void 0||X.checkFinished()}isCheapToTokenize(J){if(!this._tokenizer)return!0;return this._tokenizer.isCheapToTokenize(J)}tokenizeIfCheap(J){if(this.isCheapToTokenize(J))this.forceTokenization(J)}getLineTokens(J){var $;const X=this._textModel.getLineContent(J),Q=this._tokens.getTokens(this._textModel.getLanguageId(),J-1,X);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer){if(this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>J&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>J){const Y=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),J-1,X);if(!Q.equals(Y)&&(($=this._debugBackgroundTokenizer.value)===null||$===void 0?void 0:$.reportMismatchingTokens))this._debugBackgroundTokenizer.value.reportMismatchingTokens(J)}}return Q}getTokenTypeIfInsertingCharacter(J,$,X){if(!this._tokenizer)return 0;const Q=this._textModel.validatePosition(new v(J,$));return this.forceTokenization(Q.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Q,X)}tokenizeLineWithEdit(J,$,X){if(!this._tokenizer)return null;const Q=this._textModel.validatePosition(J);return this.forceTokenization(Q.lineNumber),this._tokenizer.tokenizeLineWithEdit(Q,$,X)}get hasTokens(){return this._tokens.hasTokens}}class sc extends f{get lineRanges(){return this._lineRanges}constructor(J){super();this._refreshTokens=J,this.runner=this._register(new t1(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){if(Q8(this._computedLineRanges,this._lineRanges,(J,$)=>J.equals($)))return;this._computedLineRanges=this._lineRanges,this._refreshTokens()}handleStateChange(J){if(this._lineRanges=J.visibleLineRanges,J.stabilized)this.runner.cancel(),this.update();else this.runner.schedule()}}var ac=N(()=>{H1();u1();D1();F0();X0();pG();m5();U1();p2();M7();T_();pc();sw();cc();lc()});class iw{constructor(){this.changeType=1}}class O5{static applyInjectedText(J,$){if(!$||$.length===0)return J;let X="",Q=0;for(let Y of $)X+=J.substring(Q,Y.column-1),Q=Y.column-1,X+=Y.options.content;return X+=J.substring(Q),X}static fromDecorations(J){const $=[];for(let X of J){if(X.options.before&&X.options.before.content.length>0)$.push(new O5(X.ownerId,X.range.startLineNumber,X.range.startColumn,X.options.before,0));if(X.options.after&&X.options.after.content.length>0)$.push(new O5(X.ownerId,X.range.endLineNumber,X.range.endColumn,X.options.after,1))}return $.sort((X,Q)=>{if(X.lineNumber===Q.lineNumber){if(X.column===Q.column)return X.order-Q.order;return X.column-Q.column}return X.lineNumber-Q.lineNumber}),$}constructor(J,$,X,Q,Y){this.ownerId=J,this.lineNumber=$,this.column=X,this.options=Q,this.order=Y}}class pA{constructor(J,$,X){this.changeType=2,this.lineNumber=J,this.detail=$,this.injectedText=X}}class nw{constructor(J,$){this.changeType=3,this.fromLineNumber=J,this.toLineNumber=$}}class ow{constructor(J,$,X,Q){this.changeType=4,this.injectedTexts=Q,this.fromLineNumber=J,this.toLineNumber=$,this.detail=X}}class tw{constructor(){this.changeType=5}}class lG{constructor(J,$,X,Q){this.changes=J,this.versionId=$,this.isUndoing=X,this.isRedoing=Q,this.resultingSelection=null}containsEvent(J){for(let $=0,X=this.changes.length;$<X;$++)if(this.changes[$].changeType===J)return!0;return!1}static merge(J,$){const X=[].concat(J.changes).concat($.changes),Q=$.versionId,Y=J.isUndoing||$.isUndoing,Z=J.isRedoing||$.isRedoing;return new lG(X,Q,Y,Z)}}class VV{constructor(J){this.changes=J}}class jQ{constructor(J,$){this.rawContentChangedEvent=J,this.contentChangedEvent=$}merge(J){const $=lG.merge(this.rawContentChangedEvent,J.rawContentChangedEvent),X=jQ._mergeChangeEvents(this.contentChangedEvent,J.contentChangedEvent);return new jQ($,X)}static _mergeChangeEvents(J,$){const X=[].concat(J.changes).concat($.changes),Q=$.eol,Y=$.versionId,Z=J.isUndoing||$.isUndoing,G=J.isRedoing||$.isRedoing,q=J.isFlush||$.isFlush,U=J.isEolChange&&$.isEolChange;return{changes:X,eol:Q,isEolChange:U,versionId:Y,isUndoing:Z,isRedoing:G,isFlush:q}}}var SY=N(()=>{});class mA{constructor(J,$){this.resource=J,this.elements=$}}class dG{constructor(){this.id=dG._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}class I4{constructor(){this.id=I4._ID++,this.order=1}nextOrder(){if(this.id===0)return 0;return this.order++}}var N3;var uA=N(()=>{m0();N3=M0("undoRedoService");dG._ID=0;dG.None=new dG;I4._ID=0;I4.None=new I4});function x50(J){const $=new hA;return $.acceptChunk(J),$.finish()}function b50(J){const $=new hA;let X;while(typeof(X=J.read())==="string")$.acceptChunk(X);return $.finish()}function rc(J,$){let X;if(typeof J==="string")X=x50(J);else if(lv(J))X=b50(J);else X=J;return X.create($)}class oc{constructor(J){this._source=J,this._eos=!1}read(){if(this._eos)return null;const J=[];let $=0,X=0;do{const Q=this._source.read();if(Q===null)if(this._eos=!0,$===0)return null;else return J.join("");if(Q.length>0)J[$++]=Q,X+=Q.length;if(X>=65536)return J.join("")}while(!0)}}class $L{constructor(){this._decorationsTree0=new XV,this._decorationsTree1=new XV,this._injectedTextDecorationsTree=new XV}ensureAllNodesHaveRanges(J){this.getAll(J,0,!1,!1,!1)}_ensureNodesHaveRanges(J,$){for(let X of $)if(X.range===null)X.range=J.getRangeAt(X.cachedAbsoluteStart,X.cachedAbsoluteEnd);return $}getAllInInterval(J,$,X,Q,Y,Z){const G=J.getVersionId(),q=this._intervalSearch($,X,Q,Y,G,Z);return this._ensureNodesHaveRanges(J,q)}_intervalSearch(J,$,X,Q,Y,Z){const G=this._decorationsTree0.intervalSearch(J,$,X,Q,Y,Z),q=this._decorationsTree1.intervalSearch(J,$,X,Q,Y,Z),U=this._injectedTextDecorationsTree.intervalSearch(J,$,X,Q,Y,Z);return G.concat(q).concat(U)}getInjectedTextInInterval(J,$,X,Q){const Y=J.getVersionId(),Z=this._injectedTextDecorationsTree.intervalSearch($,X,Q,!1,Y,!1);return this._ensureNodesHaveRanges(J,Z).filter((G)=>G.options.showIfCollapsed||!G.range.isEmpty())}getAllInjectedText(J,$){const X=J.getVersionId(),Q=this._injectedTextDecorationsTree.search($,!1,X,!1);return this._ensureNodesHaveRanges(J,Q).filter((Y)=>Y.options.showIfCollapsed||!Y.range.isEmpty())}getAll(J,$,X,Q,Y){const Z=J.getVersionId(),G=this._search($,X,Q,Z,Y);return this._ensureNodesHaveRanges(J,G)}_search(J,$,X,Q,Y){if(X)return this._decorationsTree1.search(J,$,Q,Y);else{const Z=this._decorationsTree0.search(J,$,Q,Y),G=this._decorationsTree1.search(J,$,Q,Y),q=this._injectedTextDecorationsTree.search(J,$,Q,Y);return Z.concat(G).concat(q)}}collectNodesFromOwner(J){const $=this._decorationsTree0.collectNodesFromOwner(J),X=this._decorationsTree1.collectNodesFromOwner(J),Q=this._injectedTextDecorationsTree.collectNodesFromOwner(J);return $.concat(X).concat(Q)}collectNodesPostOrder(){const J=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),X=this._injectedTextDecorationsTree.collectNodesPostOrder();return J.concat($).concat(X)}insert(J){if(lA(J))this._injectedTextDecorationsTree.insert(J);else if(JL(J))this._decorationsTree1.insert(J);else this._decorationsTree0.insert(J)}delete(J){if(lA(J))this._injectedTextDecorationsTree.delete(J);else if(JL(J))this._decorationsTree1.delete(J);else this._decorationsTree0.delete(J)}getNodeRange(J,$){const X=J.getVersionId();if($.cachedVersionId!==X)this._resolveNode($,X);if($.range===null)$.range=J.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd);return $.range}_resolveNode(J,$){if(lA(J))this._injectedTextDecorationsTree.resolveNode(J,$);else if(JL(J))this._decorationsTree1.resolveNode(J,$);else this._decorationsTree0.resolveNode(J,$)}acceptReplace(J,$,X,Q){this._decorationsTree0.acceptReplace(J,$,X,Q),this._decorationsTree1.acceptReplace(J,$,X,Q),this._injectedTextDecorationsTree.acceptReplace(J,$,X,Q)}}class XL{constructor(J){this.color=J.color||"",this.darkColor=J.darkColor||""}}class tc extends XL{constructor(J){super(J);this._resolvedColor=null,this.position=typeof J.position==="number"?J.position:Dq.Center}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(J,$){if(typeof J==="string")return J;const X=J?$.getColor(J.id):null;if(!X)return"";return X.toString()}}class ec{constructor(J){var $;this.position=($=J===null||J===void 0?void 0:J.position)!==null&&$!==void 0?$:m9.Center,this.persistLane=J===null||J===void 0?void 0:J.persistLane}}class Jl extends XL{constructor(J){super(J);this.position=J.position}getColor(J){if(!this._resolvedColor)if(J.type!=="light"&&this.darkColor)this._resolvedColor=this._resolveColor(this.darkColor,J);else this._resolvedColor=this._resolveColor(this.color,J);return this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(J,$){if(typeof J==="string")return l.fromHex(J);return $.getColor(J.id)}}class WV{static from(J){if(J instanceof WV)return J;return new WV(J)}constructor(J){this.content=J.content||"",this.inlineClassName=J.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=J.attachedData||null,this.cursorStops=J.cursorStops||null}}class E1{static register(J){return new E1(J)}static createDynamic(J){return new E1(J)}constructor(J){var $,X,Q,Y,Z,G;this.description=J.description,this.blockClassName=J.blockClassName?d$(J.blockClassName):null,this.blockDoesNotCollapse=($=J.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(X=J.blockIsAfterEnd)!==null&&X!==void 0?X:null,this.blockPadding=(Q=J.blockPadding)!==null&&Q!==void 0?Q:null,this.stickiness=J.stickiness||0,this.zIndex=J.zIndex||0,this.className=J.className?d$(J.className):null,this.shouldFillLineOnLineBreak=(Y=J.shouldFillLineOnLineBreak)!==null&&Y!==void 0?Y:null,this.hoverMessage=J.hoverMessage||null,this.glyphMarginHoverMessage=J.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=J.lineNumberHoverMessage||null,this.isWholeLine=J.isWholeLine||!1,this.showIfCollapsed=J.showIfCollapsed||!1,this.collapseOnReplaceEdit=J.collapseOnReplaceEdit||!1,this.overviewRuler=J.overviewRuler?new tc(J.overviewRuler):null,this.minimap=J.minimap?new Jl(J.minimap):null,this.glyphMargin=J.glyphMarginClassName?new ec(J.glyphMargin):null,this.glyphMarginClassName=J.glyphMarginClassName?d$(J.glyphMarginClassName):null,this.linesDecorationsClassName=J.linesDecorationsClassName?d$(J.linesDecorationsClassName):null,this.lineNumberClassName=J.lineNumberClassName?d$(J.lineNumberClassName):null,this.linesDecorationsTooltip=J.linesDecorationsTooltip?vx(J.linesDecorationsTooltip):null,this.firstLineDecorationClassName=J.firstLineDecorationClassName?d$(J.firstLineDecorationClassName):null,this.marginClassName=J.marginClassName?d$(J.marginClassName):null,this.inlineClassName=J.inlineClassName?d$(J.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=J.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=J.beforeContentClassName?d$(J.beforeContentClassName):null,this.afterContentClassName=J.afterContentClassName?d$(J.afterContentClassName):null,this.after=J.after?WV.from(J.after):null,this.before=J.before?WV.from(J.before):null,this.hideInCommentTokens=(Z=J.hideInCommentTokens)!==null&&Z!==void 0?Z:!1,this.hideInStringTokens=(G=J.hideInStringTokens)!==null&&G!==void 0?G:!1}}class $l extends f{constructor(J){super();this.handleBeforeFire=J,this._actual=this._register(new y),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var J;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFireDeferred)this.doFire();(J=this._affectedInjectedTextLines)===null||J===void 0||J.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(J){if(!this._affectedInjectedTextLines)this._affectedInjectedTextLines=new Set;this._affectedInjectedTextLines.add(J)}checkAffectedAndFire(J){var $,X;this._affectsMinimap||(this._affectsMinimap=!!(($=J.minimap)===null||$===void 0?void 0:$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((X=J.overviewRuler)===null||X===void 0?void 0:X.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!J.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!J.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){if(this._deferredCnt===0)this.doFire();else this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const J={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(J)}}class Xl extends f{constructor(){super();this._fastEmitter=this._register(new y),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new y),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(J=null){if(this._deferredCnt--,this._deferredCnt===0){if(this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=J;const $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}}fire(J){if(this._deferredCnt>0){if(this._deferredEvent)this._deferredEvent=this._deferredEvent.merge(J);else this._deferredEvent=J;return}this._fastEmitter.fire(J),this._slowEmitter.fire(J)}}class Ql{constructor(){this._onDidChangeVisibleRanges=new y,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const J=new Yl(($)=>{this._onDidChangeVisibleRanges.fire({view:J,state:$})});return this._views.add(J),J}detachView(J){this._views.delete(J),this._onDidChangeVisibleRanges.fire({view:J,state:void 0})}}class Yl{constructor(J){this.handleStateChange=J}setVisibleLines(J,$){const X=J.map((Q)=>new S0(Q.startLineNumber,Q.endLineNumber+1));this.handleStateChange({visibleLineRanges:X,stabilized:$})}}var h50,JL,g50,lA,d$,nc,C50,ew,sG,cA,v50,f50,jV,WQ,ic;var CY=N(()=>{H1();u5();D1();F0();X0();o0();e8();pG();iN();m5();U1();c0();S6();eU();f9();g7();g5();Qc();Yc();Cw();w_();Kc();wc();cw();xc();YK();ac();SY();uA();h50=function(J){let $=0;for(let X of J)if(X===" "||X==="\t")$++;else break;return $},JL=function(J){return J.options.overviewRuler&&J.options.overviewRuler.color?!0:!1},g50=function(J){return!!J.after||!!J.before},lA=function(J){return!!J.options.after||!!J.options.before},d$=function(J){return J.replace(/[^a-z0-9\-_]/gi," ")},nc=function(J){if(J instanceof E1)return J;return E1.createDynamic(J)},C50=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},ew=function(J,$){return function(X,Q){$(X,Q,J)}},cA=0,v50=999,f50=1e4;jV=()=>{throw new Error("Invalid change accessor")},WQ=sG=class J extends f{static resolveOptions($,X){if(X.detectIndentation){const Q=xw($,X.tabSize,X.insertSpaces);return new BG({tabSize:Q.tabSize,indentSize:"tabSize",insertSpaces:Q.insertSpaces,trimAutoWhitespace:X.trimAutoWhitespace,defaultEOL:X.defaultEOL,bracketPairColorizationOptions:X.bracketPairColorizationOptions})}return new BG(X)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent($){return this._eventEmitter.slowEvent((X)=>$(X.contentChangedEvent))}onDidChangeContentOrInjectedText($){return x7(this._eventEmitter.fastEvent((X)=>$(X)),this._onDidChangeInjectedText.event((X)=>$(X)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor($,X,Q,Y=null,Z,G,q){super();if(this._undoRedoService=Z,this._languageService=G,this._languageConfigurationService=q,this._onWillDispose=this._register(new y),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new $l((W)=>this.handleBeforeFireDecorationsChangedEvent(W))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new y),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new y),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new y),this._eventEmitter=this._register(new Xl),this._languageSelectionListener=this._register(new m6),this._deltaDecorationCallCnt=0,this._attachedViews=new Ql,cA++,this.id="$model"+cA,this.isForSimpleWidget=Q.isForSimpleWidget,typeof Y==="undefined"||Y===null)this._associatedResource=I0.parse("inmemory://model/"+cA);else this._associatedResource=Y;this._attachedEditorCount=0;const{textBuffer:U,disposable:H}=rc($,Q.defaultEOL);this._buffer=U,this._bufferDisposable=H,this._options=sG.resolveOptions(this._buffer,Q);const z=typeof X==="string"?X:X.languageId;if(typeof X!=="string")this._languageSelectionListener.value=X.onDidChange(()=>this._setLanguage(X.languageId));this._bracketPairs=this._register(new Nw(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new __(this,this._languageConfigurationService)),this._decorationProvider=this._register(new _w(this)),this._tokenizationTextModelPart=new zV(this._languageService,this._languageConfigurationService,this,this._bracketPairs,z,this._attachedViews);const V=this._buffer.getLineCount(),j=this._buffer.getValueLengthInRange(new L(1,1,V,this._buffer.getLineLength(V)+1),0);if(Q.largeFileOptimizations)this._isTooLargeForTokenization=j>sG.LARGE_FILE_SIZE_THRESHOLD||V>sG.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=j>sG.LARGE_FILE_HEAP_OPERATION_THRESHOLD;else this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1;this._isTooLargeForSyncing=j>sG._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=tB(cA),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new $L,this._commandManager=new bA(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(z)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const $=new yY([],"","\n",!1,!1,!0,!0);$.dispose(),this._buffer=$,this._bufferDisposable=f.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent($,X){if(this.__isDisposing)return;this._tokenizationTextModelPart.handleDidChangeContent(X),this._bracketPairs.handleDidChangeContent(X),this._eventEmitter.fire(new jQ($,X))}setValue($){if(this._assertNotDisposed(),$===null||$===void 0)throw J4();const{textBuffer:X,disposable:Q}=rc($,this._options.defaultEOL);this._setValueFromTextBuffer(X,Q)}_createContentChanged2($,X,Q,Y,Z,G,q,U){return{changes:[{range:$,rangeOffset:X,rangeLength:Q,text:Y}],eol:this._buffer.getEOL(),isEolChange:U,versionId:this.getVersionId(),isUndoing:Z,isRedoing:G,isFlush:q}}_setValueFromTextBuffer($,X){this._assertNotDisposed();const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._buffer=$,this._bufferDisposable.dispose(),this._bufferDisposable=X,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new $L,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new lG([new iw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!0,!1))}setEOL($){this._assertNotDisposed();const X=$===1?"\r\n":"\n";if(this._buffer.getEOL()===X)return;const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q),Z=this.getLineCount(),G=this.getLineMaxColumn(Z);this._onBeforeEOLChange(),this._buffer.setEOL(X),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new lG([new tw],this._versionId,!1,!1),this._createContentChanged2(new L(1,1,Z,G),0,Y,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const $=this.getVersionId(),X=this._decorationsTree.collectNodesPostOrder();for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q],G=Z.range,q=Z.cachedAbsoluteStart-Z.start,U=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),H=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);Z.cachedAbsoluteStart=U,Z.cachedAbsoluteEnd=H,Z.cachedVersionId=$,Z.start=U-q,Z.end=H-q,HQ(Z)}}onBeforeAttached(){if(this._attachedEditorCount++,this._attachedEditorCount===1)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);return this._attachedViews.attachView()}onBeforeDetached($){if(this._attachedEditorCount--,this._attachedEditorCount===0)this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0);this._attachedViews.detachView($)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let $=0,X=0;const Q=this._buffer.getLineCount();for(let Y=1;Y<=Q;Y++){const Z=this._buffer.getLineLength(Y);if(Z>=f50)X+=Z;else $+=Z}return X>$}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions($){this._assertNotDisposed();const X=typeof $.tabSize!=="undefined"?$.tabSize:this._options.tabSize,Q=typeof $.indentSize!=="undefined"?$.indentSize:this._options.originalIndentSize,Y=typeof $.insertSpaces!=="undefined"?$.insertSpaces:this._options.insertSpaces,Z=typeof $.trimAutoWhitespace!=="undefined"?$.trimAutoWhitespace:this._options.trimAutoWhitespace,G=typeof $.bracketColorizationOptions!=="undefined"?$.bracketColorizationOptions:this._options.bracketPairColorizationOptions,q=new BG({tabSize:X,indentSize:Q,insertSpaces:Y,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:Z,bracketPairColorizationOptions:G});if(this._options.equals(q))return;const U=this._options.createChangeEvent(q);this._options=q,this._bracketPairs.handleDidChangeOptions(U),this._decorationProvider.handleDidChangeOptions(U),this._onDidChangeOptions.fire(U)}detectIndentation($,X){this._assertNotDisposed();const Q=xw(this._buffer,X,$);this.updateOptions({insertSpaces:Q.insertSpaces,tabSize:Q.tabSize,indentSize:Q.tabSize})}normalizeIndentation($){return this._assertNotDisposed(),GA($,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators($=null){const X=this.findMatches(sM.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations($,X.map((Q)=>({range:Q.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt($){this._assertNotDisposed();const X=this._validatePosition($.lineNumber,$.column,0);return this._buffer.getOffsetAt(X.lineNumber,X.column)}getPositionAt($){this._assertNotDisposed();const X=Math.min(this._buffer.getLength(),Math.max(0,$));return this._buffer.getPositionAt(X)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId($){this._versionId=$}_overwriteAlternativeVersionId($){this._alternativeVersionId=$}_overwriteInitialUndoRedoSnapshot($){this._initialUndoRedoSnapshot=$}getValue($,X=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new b1("Operation would exceed heap memory limits");const Q=this.getFullModelRange(),Y=this.getValueInRange(Q,$);if(X)return this._buffer.getBOM()+Y;return Y}createSnapshot($=!1){return new oc(this._buffer.createSnapshot($))}getValueLength($,X=!1){this._assertNotDisposed();const Q=this.getFullModelRange(),Y=this.getValueLengthInRange(Q,$);if(X)return this._buffer.getBOM().length+Y;return Y}getValueInRange($,X=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange($),X)}getValueLengthInRange($,X=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange($),X)}getCharacterCountInRange($,X=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange($),X)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new b1("Illegal value for lineNumber");return this._buffer.getLineContent($)}getLineLength($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new b1("Illegal value for lineNumber");return this._buffer.getLineLength($)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new b1("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()==="\n"?0:1}getLineMinColumn($){return this._assertNotDisposed(),1}getLineMaxColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new b1("Illegal value for lineNumber");return this._buffer.getLineLength($)+1}getLineFirstNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new b1("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn($)}getLineLastNonWhitespaceColumn($){if(this._assertNotDisposed(),$<1||$>this.getLineCount())throw new b1("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn($)}_validateRangeRelaxedNoAllocations($){const X=this._buffer.getLineCount(),Q=$.startLineNumber,Y=$.startColumn;let Z=Math.floor(typeof Q==="number"&&!isNaN(Q)?Q:1),G=Math.floor(typeof Y==="number"&&!isNaN(Y)?Y:1);if(Z<1)Z=1,G=1;else if(Z>X)Z=X,G=this.getLineMaxColumn(Z);else if(G<=1)G=1;else{const V=this.getLineMaxColumn(Z);if(G>=V)G=V}const{endLineNumber:q,endColumn:U}=$;let H=Math.floor(typeof q==="number"&&!isNaN(q)?q:1),z=Math.floor(typeof U==="number"&&!isNaN(U)?U:1);if(H<1)H=1,z=1;else if(H>X)H=X,z=this.getLineMaxColumn(H);else if(z<=1)z=1;else{const V=this.getLineMaxColumn(H);if(z>=V)z=V}if(Q===Z&&Y===G&&q===H&&U===z&&$ instanceof L&&!($ instanceof b0))return $;return new L(Z,G,H,z)}_isValidPosition($,X,Q){if(typeof $!=="number"||typeof X!=="number")return!1;if(isNaN($)||isNaN(X))return!1;if($<1||X<1)return!1;if(($|0)!==$||(X|0)!==X)return!1;const Y=this._buffer.getLineCount();if($>Y)return!1;if(X===1)return!0;const Z=this.getLineMaxColumn($);if(X>Z)return!1;if(Q===1){const G=this._buffer.getLineCharCode($,X-2);if(U8(G))return!1}return!0}_validatePosition($,X,Q){const Y=Math.floor(typeof $==="number"&&!isNaN($)?$:1),Z=Math.floor(typeof X==="number"&&!isNaN(X)?X:1),G=this._buffer.getLineCount();if(Y<1)return new v(1,1);if(Y>G)return new v(G,this.getLineMaxColumn(G));if(Z<=1)return new v(Y,1);const q=this.getLineMaxColumn(Y);if(Z>=q)return new v(Y,q);if(Q===1){const U=this._buffer.getLineCharCode(Y,Z-2);if(U8(U))return new v(Y,Z-1)}return new v(Y,Z)}validatePosition($){if(this._assertNotDisposed(),$ instanceof v){if(this._isValidPosition($.lineNumber,$.column,1))return $}return this._validatePosition($.lineNumber,$.column,1)}_isValidRange($,X){const{startLineNumber:Q,startColumn:Y,endLineNumber:Z,endColumn:G}=$;if(!this._isValidPosition(Q,Y,0))return!1;if(!this._isValidPosition(Z,G,0))return!1;if(X===1){const q=Y>1?this._buffer.getLineCharCode(Q,Y-2):0,U=G>1&&G<=this._buffer.getLineLength(Z)?this._buffer.getLineCharCode(Z,G-2):0,H=U8(q),z=U8(U);if(!H&&!z)return!0;return!1}return!0}validateRange($){if(this._assertNotDisposed(),$ instanceof L&&!($ instanceof b0)){if(this._isValidRange($,1))return $}const Q=this._validatePosition($.startLineNumber,$.startColumn,0),Y=this._validatePosition($.endLineNumber,$.endColumn,0),Z=Q.lineNumber,G=Q.column,q=Y.lineNumber,U=Y.column;{const H=G>1?this._buffer.getLineCharCode(Z,G-2):0,z=U>1&&U<=this._buffer.getLineLength(q)?this._buffer.getLineCharCode(q,U-2):0,V=U8(H),j=U8(z);if(!V&&!j)return new L(Z,G,q,U);if(Z===q&&G===U)return new L(Z,G-1,q,U-1);if(V&&j)return new L(Z,G-1,q,U+1);if(V)return new L(Z,G-1,q,U);return new L(Z,G,q,U+1)}return new L(Z,G,q,U)}modifyPosition($,X){this._assertNotDisposed();const Q=this.getOffsetAt($)+X;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Q)))}getFullModelRange(){this._assertNotDisposed();const $=this.getLineCount();return new L(1,1,$,this.getLineMaxColumn($))}findMatchesLineByLine($,X,Q,Y){return this._buffer.findMatchesLineByLine($,X,Q,Y)}findMatches($,X,Q,Y,Z,G,q=v50){this._assertNotDisposed();let U=null;if(X!==null){if(!Array.isArray(X))X=[X];if(X.every((V)=>L.isIRange(V)))U=X.map((V)=>this.validateRange(V))}if(U===null)U=[this.getFullModelRange()];U=U.sort((V,j)=>V.startLineNumber-j.startLineNumber||V.startColumn-j.startColumn);const H=[];H.push(U.reduce((V,j)=>{if(L.areIntersecting(V,j))return V.plusRange(j);return H.push(V),j}));let z;if(!Q&&$.indexOf("\n")<0){const j=new ZY($,Q,Y,Z).parseSearchRequest();if(!j)return[];z=(W)=>this.findMatchesLineByLine(W,j,G,q)}else z=(V)=>Rq.findMatches(this,new ZY($,Q,Y,Z),V,G,q);return H.map(z).reduce((V,j)=>V.concat(j),[])}findNextMatch($,X,Q,Y,Z,G){this._assertNotDisposed();const q=this.validatePosition(X);if(!Q&&$.indexOf("\n")<0){const H=new ZY($,Q,Y,Z).parseSearchRequest();if(!H)return null;const z=this.getLineCount();let V=new L(q.lineNumber,q.column,z,this.getLineMaxColumn(z)),j=this.findMatchesLineByLine(V,H,G,1);if(Rq.findNextMatch(this,new ZY($,Q,Y,Z),q,G),j.length>0)return j[0];if(V=new L(1,1,q.lineNumber,this.getLineMaxColumn(q.lineNumber)),j=this.findMatchesLineByLine(V,H,G,1),j.length>0)return j[0];return null}return Rq.findNextMatch(this,new ZY($,Q,Y,Z),q,G)}findPreviousMatch($,X,Q,Y,Z,G){this._assertNotDisposed();const q=this.validatePosition(X);return Rq.findPreviousMatch(this,new ZY($,Q,Y,Z),q,G)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL($){if((this.getEOL()==="\n"?0:1)===$)return;try{if(this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);this._commandManager.pushEOL($)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation($){if($ instanceof Jz)return $;return new Jz($.identifier||null,this.validateRange($.range),$.text,$.forceMoveMarkers||!1,$.isAutoWhitespaceEdit||!1,$._isTracked||!1)}_validateEditOperations($){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++)X[Q]=this._validateEditOperation($[Q]);return X}pushEditOperations($,X,Q,Y){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations($,this._validateEditOperations(X),Q,Y)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations($,X,Q,Y){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Z=X.map((q)=>{return{range:this.validateRange(q.range),text:q.text}});let G=!0;if($)for(let q=0,U=$.length;q<U;q++){const H=$[q];let z=!1;for(let V=0,j=Z.length;V<j;V++){const W=Z[V].range,B=W.startLineNumber>H.endLineNumber,K=H.startLineNumber>W.endLineNumber;if(!B&&!K){z=!0;break}}if(!z){G=!1;break}}if(G)for(let q=0,U=this._trimAutoWhitespaceLines.length;q<U;q++){const H=this._trimAutoWhitespaceLines[q],z=this.getLineMaxColumn(H);let V=!0;for(let j=0,W=Z.length;j<W;j++){const B=Z[j].range,K=Z[j].text;if(H<B.startLineNumber||H>B.endLineNumber)continue;if(H===B.startLineNumber&&B.startColumn===z&&B.isEmpty()&&K&&K.length>0&&K.charAt(0)==="\n")continue;if(H===B.startLineNumber&&B.startColumn===1&&B.isEmpty()&&K&&K.length>0&&K.charAt(K.length-1)==="\n")continue;V=!1;break}if(V){const j=new L(H,1,H,z);X.push(new Jz(null,j,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}if(this._initialUndoRedoSnapshot===null)this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri);return this._commandManager.pushEditOperation($,X,Q,Y)}_applyUndo($,X,Q,Y){const Z=$.map((G)=>{const q=this.getPositionAt(G.newPosition),U=this.getPositionAt(G.newEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.oldText}});this._applyUndoRedoEdits(Z,X,!0,!1,Q,Y)}_applyRedo($,X,Q,Y){const Z=$.map((G)=>{const q=this.getPositionAt(G.oldPosition),U=this.getPositionAt(G.oldEnd);return{range:new L(q.lineNumber,q.column,U.lineNumber,U.column),text:G.newText}});this._applyUndoRedoEdits(Z,X,!1,!0,Q,Y)}_applyUndoRedoEdits($,X,Q,Y,Z,G){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Q,this._isRedoing=Y,this.applyEdits($,!1),this.setEOL(X),this._overwriteAlternativeVersionId(Z)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(G),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits($,X=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Q=this._validateEditOperations($);return this._doApplyEdits(Q,X)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits($,X){const Q=this._buffer.getLineCount(),Y=this._buffer.applyEdits($,this._options.trimAutoWhitespace,X),Z=this._buffer.getLineCount(),G=Y.changes;if(this._trimAutoWhitespaceLines=Y.trimAutoWhitespaceLineNumbers,G.length!==0){for(let H=0,z=G.length;H<z;H++){const V=G[H];this._decorationsTree.acceptReplace(V.rangeOffset,V.rangeLength,V.text.length,V.forceMoveMarkers)}const q=[];this._increaseVersionId();let U=Q;for(let H=0,z=G.length;H<z;H++){const V=G[H],[j]=a9(V.text);this._onDidChangeDecorations.fire();const W=V.range.startLineNumber,B=V.range.endLineNumber,K=B-W,P=j,A=Math.min(K,P),D=P-K,R=Z-U-D+W,M=R,O=R+P,_=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new v(M,1)),this.getOffsetAt(new v(O,this.getLineMaxColumn(O))),0),w=O5.fromDecorations(_),C=new n7(w);for(let x=A;x>=0;x--){const g=W+x,c=R+x;C.takeFromEndWhile((u)=>u.lineNumber>c);const b=C.takeFromEndWhile((u)=>u.lineNumber===c);q.push(new pA(g,this.getLineContent(c),b))}if(A<K){const x=W+A;q.push(new nw(x+1,B))}if(A<P){const x=new n7(w),g=W+A,c=P-A,b=Z-U-c+g+1,u=[],i=[];for(let Y0=0;Y0<c;Y0++){const P0=b+Y0;i[Y0]=this.getLineContent(P0),x.takeWhile((R0)=>R0.lineNumber<P0),u[Y0]=x.takeWhile((R0)=>R0.lineNumber===P0)}q.push(new ow(g+1,W+P,i,u))}U+=D}this._emitContentChangedEvent(new lG(q,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:G,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return Y.reverseEdits===null?void 0:Y.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent($){if($===null||$.size===0)return;const Q=Array.from($).map((Y)=>new pA(Y,this.getLineContent(Y),this._getInjectedTextInLine(Y)));this._onDidChangeInjectedText.fire(new VV(Q))}changeDecorations($,X=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(X,$)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations($,X){const Q={addDecoration:(Z,G)=>{return this._deltaDecorationsImpl($,[],[{range:Z,options:G}])[0]},changeDecoration:(Z,G)=>{this._changeDecorationImpl(Z,G)},changeDecorationOptions:(Z,G)=>{this._changeDecorationOptionsImpl(Z,nc(G))},removeDecoration:(Z)=>{this._deltaDecorationsImpl($,[Z],[])},deltaDecorations:(Z,G)=>{if(Z.length===0&&G.length===0)return[];return this._deltaDecorationsImpl($,Z,G)}};let Y=null;try{Y=X(Q)}catch(Z){n0(Z)}return Q.addDecoration=jV,Q.changeDecoration=jV,Q.changeDecorationOptions=jV,Q.removeDecoration=jV,Q.deltaDecorations=jV,Y}deltaDecorations($,X,Q=0){if(this._assertNotDisposed(),!$)$=[];if($.length===0&&X.length===0)return[];try{if(this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1)console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),n0(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."));return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Q,$,X)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange($){return this.getDecorationRange($)}_setTrackedRange($,X,Q){const Y=$?this._decorations[$]:null;if(!Y){if(!X)return null;return this._deltaDecorationsImpl(0,[],[{range:X,options:ic[Q]}],!0)[0]}if(!X)return this._decorationsTree.delete(Y),delete this._decorations[Y.id],null;const Z=this._validateRangeRelaxedNoAllocations(X),G=this._buffer.getOffsetAt(Z.startLineNumber,Z.startColumn),q=this._buffer.getOffsetAt(Z.endLineNumber,Z.endColumn);return this._decorationsTree.delete(Y),Y.reset(this.getVersionId(),G,q,Z),Y.setOptions(ic[Q]),this._decorationsTree.insert(Y),Y.id}removeAllDecorationsWithOwnerId($){if(this._isDisposed)return;const X=this._decorationsTree.collectNodesFromOwner($);for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q];this._decorationsTree.delete(Z),delete this._decorations[Z.id]}}getDecorationOptions($){const X=this._decorations[$];if(!X)return null;return X.options}getDecorationRange($){const X=this._decorations[$];if(!X)return null;return this._decorationsTree.getNodeRange(this,X)}getLineDecorations($,X=0,Q=!1){if($<1||$>this.getLineCount())return[];return this.getLinesDecorations($,$,X,Q)}getLinesDecorations($,X,Q=0,Y=!1,Z=!1){const G=this.getLineCount(),q=Math.min(G,Math.max(1,$)),U=Math.min(G,Math.max(1,X)),H=this.getLineMaxColumn(U),z=new L(q,1,U,H),V=this._getDecorationsInRange(z,Q,Y,Z);return rU(V,this._decorationProvider.getDecorationsInRange(z,Q,Y)),V}getDecorationsInRange($,X=0,Q=!1,Y=!1,Z=!1){const G=this.validateRange($),q=this._getDecorationsInRange(G,X,Q,Z);return rU(q,this._decorationProvider.getDecorationsInRange(G,X,Q,Y)),q}getOverviewRulerDecorations($=0,X=!1){return this._decorationsTree.getAll(this,$,X,!0,!1)}getInjectedTextDecorations($=0){return this._decorationsTree.getAllInjectedText(this,$)}_getInjectedTextInLine($){const X=this._buffer.getOffsetAt($,1),Q=X+this._buffer.getLineLength($),Y=this._decorationsTree.getInjectedTextInInterval(this,X,Q,0);return O5.fromDecorations(Y).filter((Z)=>Z.lineNumber===$)}getAllDecorations($=0,X=!1){let Q=this._decorationsTree.getAll(this,$,X,!1,!1);return Q=Q.concat(this._decorationProvider.getAllDecorations($,X)),Q}getAllMarginDecorations($=0){return this._decorationsTree.getAll(this,$,!1,!1,!0)}_getDecorationsInRange($,X,Q,Y){const Z=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),G=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.getAllInInterval(this,Z,G,X,Q,Y)}getRangeAt($,X){return this._buffer.getRangeAt($,X-$)}_changeDecorationImpl($,X){const Q=this._decorations[$];if(!Q)return;if(Q.options.after){const q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.endLineNumber)}if(Q.options.before){const q=this.getDecorationRange($);this._onDidChangeDecorations.recordLineAffectedByInjectedText(q.startLineNumber)}const Y=this._validateRangeRelaxedNoAllocations(X),Z=this._buffer.getOffsetAt(Y.startLineNumber,Y.startColumn),G=this._buffer.getOffsetAt(Y.endLineNumber,Y.endColumn);if(this._decorationsTree.delete(Q),Q.reset(this.getVersionId(),Z,G,Y),this._decorationsTree.insert(Q),this._onDidChangeDecorations.checkAffectedAndFire(Q.options),Q.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.endLineNumber);if(Q.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(Y.startLineNumber)}_changeDecorationOptionsImpl($,X){const Q=this._decorations[$];if(!Q)return;const Y=Q.options.overviewRuler&&Q.options.overviewRuler.color?!0:!1,Z=X.overviewRuler&&X.overviewRuler.color?!0:!1;if(this._onDidChangeDecorations.checkAffectedAndFire(Q.options),this._onDidChangeDecorations.checkAffectedAndFire(X),Q.options.after||X.after){const U=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.endLineNumber)}if(Q.options.before||X.before){const U=this._decorationsTree.getNodeRange(this,Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(U.startLineNumber)}const G=Y!==Z,q=g50(X)!==lA(Q);if(G||q)this._decorationsTree.delete(Q),Q.setOptions(X),this._decorationsTree.insert(Q);else Q.setOptions(X)}_deltaDecorationsImpl($,X,Q,Y=!1){const Z=this.getVersionId(),G=X.length;let q=0;const U=Q.length;let H=0;this._onDidChangeDecorations.beginDeferredEmit();try{const z=new Array(U);while(q<G||H<U){let V=null;if(q<G){do V=this._decorations[X[q++]];while(!V&&q<G);if(V){if(V.options.after){const j=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber)}if(V.options.before){const j=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}if(this._decorationsTree.delete(V),!Y)this._onDidChangeDecorations.checkAffectedAndFire(V.options)}}if(H<U){if(!V){const A=++this._lastDecorationId,D=`${this._instanceId};${A}`;V=new vA(D,0,0),this._decorations[D]=V}const j=Q[H],W=this._validateRangeRelaxedNoAllocations(j.range),B=nc(j.options),K=this._buffer.getOffsetAt(W.startLineNumber,W.startColumn),P=this._buffer.getOffsetAt(W.endLineNumber,W.endColumn);if(V.ownerId=$,V.reset(Z,K,P,W),V.setOptions(B),V.options.after)this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.endLineNumber);if(V.options.before)this._onDidChangeDecorations.recordLineAffectedByInjectedText(W.startLineNumber);if(!Y)this._onDidChangeDecorations.checkAffectedAndFire(B);this._decorationsTree.insert(V),z[H]=V.id,H++}else if(V)delete this._decorations[V.id]}return z}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage($,X){if(typeof $==="string")this._languageSelectionListener.clear(),this._setLanguage($,X);else this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId,X)),this._setLanguage($.languageId,X)}_setLanguage($,X){this.tokenization.setLanguageId($,X),this._languageService.requestRichLanguageFeatures($)}getLanguageIdAtPosition($,X){return this.tokenization.getLanguageIdAtPosition($,X)}getWordAtPosition($){return this._tokenizationTextModelPart.getWordAtPosition($)}getWordUntilPosition($){return this._tokenizationTextModelPart.getWordUntilPosition($)}normalizePosition($,X){return $}getLineIndentColumn($){return h50(this.getLineContent($))+1}};WQ._MODEL_SYNC_LIMIT=52428800;WQ.LARGE_FILE_SIZE_THRESHOLD=20971520;WQ.LARGE_FILE_LINE_COUNT_THRESHOLD=300000;WQ.LARGE_FILE_HEAP_OPERATION_THRESHOLD=268435456;WQ.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:P6.tabSize,indentSize:P6.indentSize,insertSpaces:P6.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:P6.trimAutoWhitespace,largeFileOptimizations:P6.largeFileOptimizations,bracketPairColorizationOptions:P6.bracketPairColorizationOptions};WQ=sG=C50([ew(4,N3),ew(5,e1),ew(6,N8)],WQ);E1.EMPTY=E1.register({description:"empty"});ic=[E1.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),E1.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),E1.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),E1.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})]});class BV{constructor(J){this._selTrackedRange=null,this._trackSelection=!0,this._setState(J,new Q6(new L(1,1,1,1),0,0,new v(1,1),0),new Q6(new L(1,1,1,1),0,0,new v(1,1),0))}dispose(J){this._removeTrackedRange(J)}startTrackingSelection(J){this._trackSelection=!0,this._updateTrackedRange(J)}stopTrackingSelection(J){this._trackSelection=!1,this._removeTrackedRange(J)}_updateTrackedRange(J){if(!this._trackSelection)return;this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0)}_removeTrackedRange(J){this._selTrackedRange=J.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new F1(this.modelState,this.viewState)}readSelectionFromMarkers(J){const $=J.model._getTrackedRange(this._selTrackedRange);if(this.modelState.selection.isEmpty()&&!$.isEmpty())return b0.fromRange($.collapseToEnd(),this.modelState.selection.getDirection());return b0.fromRange($,this.modelState.selection.getDirection())}ensureValidState(J){this._setState(J,this.modelState,this.viewState)}setState(J,$,X){this._setState(J,$,X)}static _validatePositionWithCache(J,$,X,Q){if($.equals(X))return Q;return J.normalizePosition($,2)}static _validateViewState(J,$){const X=$.position,Q=$.selectionStart.getStartPosition(),Y=$.selectionStart.getEndPosition(),Z=J.normalizePosition(X,2),G=this._validatePositionWithCache(J,Q,X,Z),q=this._validatePositionWithCache(J,Y,Q,G);if(X.equals(Z)&&Q.equals(G)&&Y.equals(q))return $;return new Q6(L.fromPositions(G,q),$.selectionStartKind,$.selectionStartLeftoverVisibleColumns+Q.column-G.column,Z,$.leftoverVisibleColumns+X.column-Z.column)}_setState(J,$,X){if(X)X=BV._validateViewState(J.viewModel,X);if(!$){if(!X)return;const Q=J.model.validateRange(J.coordinatesConverter.convertViewRangeToModelRange(X.selectionStart)),Y=J.model.validatePosition(J.coordinatesConverter.convertViewPositionToModelPosition(X.position));$=new Q6(Q,X.selectionStartKind,X.selectionStartLeftoverVisibleColumns,Y,X.leftoverVisibleColumns)}else{const Q=J.model.validateRange($.selectionStart),Y=$.selectionStart.equalsRange(Q)?$.selectionStartLeftoverVisibleColumns:0,Z=J.model.validatePosition($.position),G=$.position.equals(Z)?$.leftoverVisibleColumns:0;$=new Q6(Q,$.selectionStartKind,Y,Z,G)}if(!X){const Q=J.coordinatesConverter.convertModelPositionToViewPosition(new v($.selectionStart.startLineNumber,$.selectionStart.startColumn)),Y=J.coordinatesConverter.convertModelPositionToViewPosition(new v($.selectionStart.endLineNumber,$.selectionStart.endColumn)),Z=new L(Q.lineNumber,Q.column,Y.lineNumber,Y.column),G=J.coordinatesConverter.convertModelPositionToViewPosition($.position);X=new Q6(Z,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,G,$.leftoverVisibleColumns)}else{const Q=J.coordinatesConverter.validateViewRange(X.selectionStart,$.selectionStart),Y=J.coordinatesConverter.validateViewPosition(X.position,$.position);X=new Q6(Q,$.selectionStartKind,$.selectionStartLeftoverVisibleColumns,Y,$.leftoverVisibleColumns)}this.modelState=$,this.viewState=X,this._updateTrackedRange(J)}}var Zl=N(()=>{bJ();U1();c0();S6()});class dA{constructor(J){this.context=J,this.cursors=[new BV(J)],this.lastAddedCursorIndex=0}dispose(){for(let J of this.cursors)J.dispose(this.context)}startTrackingSelections(){for(let J of this.cursors)J.startTrackingSelection(this.context)}stopTrackingSelections(){for(let J of this.cursors)J.stopTrackingSelection(this.context)}updateContext(J){this.context=J}ensureValidState(){for(let J of this.cursors)J.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((J)=>J.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map((J)=>J.asCursorState())}getViewPositions(){return this.cursors.map((J)=>J.viewState.position)}getTopMostViewPosition(){return nv(this.cursors,y5((J)=>J.viewState.position,v.compare)).viewState.position}getBottomMostViewPosition(){return iv(this.cursors,y5((J)=>J.viewState.position,v.compare)).viewState.position}getSelections(){return this.cursors.map((J)=>J.modelState.selection)}getViewSelections(){return this.cursors.map((J)=>J.viewState.selection)}setSelections(J){this.setStates(F1.fromModelSelections(J))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(J){if(J===null)return;this.cursors[0].setState(this.context,J[0].modelState,J[0].viewState),this._setSecondaryStates(J.slice(1))}_setSecondaryStates(J){const $=this.cursors.length-1,X=J.length;if($<X){const Q=X-$;for(let Y=0;Y<Q;Y++)this._addSecondaryCursor()}else if($>X){const Q=$-X;for(let Y=0;Y<Q;Y++)this._removeSecondaryCursor(this.cursors.length-2)}for(let Q=0;Q<X;Q++)this.cursors[Q+1].setState(this.context,J[Q].modelState,J[Q].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new BV(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){if(this.cursors.length===1||this.lastAddedCursorIndex===0)return 0;return this.lastAddedCursorIndex}_removeSecondaryCursor(J){if(this.lastAddedCursorIndex>=J+1)this.lastAddedCursorIndex--;this.cursors[J+1].dispose(this.context),this.cursors.splice(J+1,1)}normalize(){if(this.cursors.length===1)return;const J=this.cursors.slice(0),$=[];for(let X=0,Q=J.length;X<Q;X++)$.push({index:X,selection:J[X].modelState.selection});$.sort(y5((X)=>X.selection,L.compareRangesUsingStarts));for(let X=0;X<$.length-1;X++){const Q=$[X],Y=$[X+1],Z=Q.selection,G=Y.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let q;if(G.isEmpty()||Z.isEmpty())q=G.getStartPosition().isBeforeOrEqual(Z.getEndPosition());else q=G.getStartPosition().isBefore(Z.getEndPosition());if(q){const U=Q.index<Y.index?X:X+1,H=Q.index<Y.index?X+1:X,z=$[H].index,V=$[U].index,j=$[H].selection,W=$[U].selection;if(!j.equalsSelection(W)){const B=j.plusRange(W),K=j.selectionStartLineNumber===j.startLineNumber&&j.selectionStartColumn===j.startColumn,P=W.selectionStartLineNumber===W.startLineNumber&&W.selectionStartColumn===W.startColumn;let A;if(z===this.lastAddedCursorIndex)A=K,this.lastAddedCursorIndex=V;else A=P;let D;if(A)D=new b0(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn);else D=new b0(B.endLineNumber,B.endColumn,B.startLineNumber,B.startColumn);$[U].selection=D;const R=F1.fromModelSelection(D);J[V].setState(this.context,R.modelState,R.viewState)}for(let B of $)if(B.index>z)B.index--;J.splice(z,1),$.splice(H,1),this._removeSecondaryCursor(z-1),X--}}}}var Gl=N(()=>{H1();V4();bJ();Zl();U1();c0();S6()});class sA{constructor(J,$,X,Q){this._cursorContextBrand=void 0,this.model=J,this.viewModel=$,this.coordinatesConverter=X,this.cursorConfig=Q}}var ql=N(()=>{});class QL{constructor(){this.type=0}}class YL{constructor(){this.type=1}}class ZL{constructor(J){this.type=2,this._source=J}hasChanged(J){return this._source.hasChanged(J)}}class GL{constructor(J,$,X){this.selections=J,this.modelSelections=$,this.reason=X,this.type=3}}class BQ{constructor(J){if(this.type=4,J)this.affectsMinimap=J.affectsMinimap,this.affectsOverviewRuler=J.affectsOverviewRuler,this.affectsGlyphMargin=J.affectsGlyphMargin,this.affectsLineNumber=J.affectsLineNumber;else this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0}}class _3{constructor(){this.type=5}}class qL{constructor(J){this.type=6,this.isFocused=J}}class UL{constructor(){this.type=7}}class w3{constructor(){this.type=8}}class aA{constructor(J,$){this.fromLineNumber=J,this.count=$,this.type=9}}class FV{constructor(J,$){this.type=10,this.fromLineNumber=J,this.toLineNumber=$}}class KV{constructor(J,$){this.type=11,this.fromLineNumber=J,this.toLineNumber=$}}class aG{constructor(J,$,X,Q,Y,Z,G){this.source=J,this.minimalReveal=$,this.range=X,this.selections=Q,this.verticalType=Y,this.revealHorizontal=Z,this.scrollType=G,this.type=12}}class HL{constructor(J){this.type=13,this.scrollWidth=J.scrollWidth,this.scrollLeft=J.scrollLeft,this.scrollHeight=J.scrollHeight,this.scrollTop=J.scrollTop,this.scrollWidthChanged=J.scrollWidthChanged,this.scrollLeftChanged=J.scrollLeftChanged,this.scrollHeightChanged=J.scrollHeightChanged,this.scrollTopChanged=J.scrollTopChanged}}class zL{constructor(J){this.theme=J,this.type=14}}class VL{constructor(J){this.type=15,this.ranges=J}}class jL{constructor(){this.type=16}}class WL{constructor(){this.type=17}}var rA=N(()=>{});class BL extends f{constructor(){super();this._onEvent=this._register(new y),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(J){this._addOutgoingEvent(J),this._emitOutgoingEvents()}_addOutgoingEvent(J){for(let $=0,X=this._outgoingEvents.length;$<X;$++){const Q=this._outgoingEvents[$].kind===J.kind?this._outgoingEvents[$].attemptToMerge(J):null;if(Q){this._outgoingEvents[$]=Q;return}}this._outgoingEvents.push(J)}_emitOutgoingEvents(){while(this._outgoingEvents.length>0){if(this._collector||this._isConsumingViewEventQueue)return;const J=this._outgoingEvents.shift();if(J.isNoOp())continue;this._onEvent.fire(J)}}addViewEventHandler(J){for(let $=0,X=this._eventHandlers.length;$<X;$++)if(this._eventHandlers[$]===J)console.warn("Detected duplicate listener in ViewEventDispatcher",J);this._eventHandlers.push(J)}removeViewEventHandler(J){for(let $=0;$<this._eventHandlers.length;$++)if(this._eventHandlers[$]===J){this._eventHandlers.splice($,1);break}}beginEmitViewEvents(){if(this._collectorCnt++,this._collectorCnt===1)this._collector=new Hl;return this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const J=this._collector.outgoingEvents,$=this._collector.viewEvents;this._collector=null;for(let X of J)this._addOutgoingEvent(X);if($.length>0)this._emitMany($)}this._emitOutgoingEvents()}emitSingleViewEvent(J){try{this.beginEmitViewEvents().emitViewEvent(J)}finally{this.endEmitViewEvents()}}_emitMany(J){if(this._viewEventQueue)this._viewEventQueue=this._viewEventQueue.concat(J);else this._viewEventQueue=J;if(!this._isConsumingViewEventQueue)this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){while(this._viewEventQueue){const J=this._viewEventQueue;this._viewEventQueue=null;const $=this._eventHandlers.slice(0);for(let X of $)X.handleEvents(J)}}}class Hl{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(J){this.viewEvents.push(J)}emitOutgoingEvent(J){this.outgoingEvents.push(J)}}class iA{constructor(J,$,X,Q){this.kind=0,this._oldContentWidth=J,this._oldContentHeight=$,this.contentWidth=X,this.contentHeight=Q,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new iA(this._oldContentWidth,this._oldContentHeight,J.contentWidth,J.contentHeight)}}class nA{constructor(J,$){this.kind=1,this.oldHasFocus=J,this.hasFocus=$}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(J){if(J.kind!==this.kind)return null;return new nA(this.oldHasFocus,J.hasFocus)}}class oA{constructor(J,$,X,Q,Y,Z,G,q){this.kind=2,this._oldScrollWidth=J,this._oldScrollLeft=$,this._oldScrollHeight=X,this._oldScrollTop=Q,this.scrollWidth=Y,this.scrollLeft=Z,this.scrollHeight=G,this.scrollTop=q,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(J){if(J.kind!==this.kind)return null;return new oA(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,J.scrollWidth,J.scrollLeft,J.scrollHeight,J.scrollTop)}}class FL{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class KL{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class AV{constructor(J,$,X,Q,Y,Z,G){this.kind=6,this.oldSelections=J,this.selections=$,this.oldModelVersionId=X,this.modelVersionId=Q,this.source=Y,this.reason=Z,this.reachedMaxCursorCount=G}static _selectionsAreEqual(J,$){if(!J&&!$)return!0;if(!J||!$)return!1;const X=J.length,Q=$.length;if(X!==Q)return!1;for(let Y=0;Y<X;Y++)if(!J[Y].equalsSelection($[Y]))return!1;return!0}isNoOp(){return AV._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(J){if(J.kind!==this.kind)return null;return new AV(this.oldSelections,J.selections,this.oldModelVersionId,J.modelVersionId,J.source,J.reason,this.reachedMaxCursorCount||J.reachedMaxCursorCount)}}class AL{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(J){if(J.kind!==this.kind)return null;return this}}class PL{constructor(J){this.event=J,this.kind=7}isNoOp(){return!1}attemptToMerge(J){return null}}class DL{constructor(J){this.event=J,this.kind=8}isNoOp(){return!1}attemptToMerge(J){return null}}class RL{constructor(J){this.event=J,this.kind=9}isNoOp(){return!1}attemptToMerge(J){return null}}class ML{constructor(J){this.event=J,this.kind=10}isNoOp(){return!1}attemptToMerge(J){return null}}class OL{constructor(J){this.event=J,this.kind=11}isNoOp(){return!1}attemptToMerge(J){return null}}class TL{constructor(J){this.event=J,this.kind=12}isNoOp(){return!1}attemptToMerge(J){return null}}var tA=N(()=>{F0();X0()});class _L extends f{constructor(J,$,X,Q){super();this._model=J,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=$,this._coordinatesConverter=X,this.context=new sA(this._model,this._viewModel,this._coordinatesConverter,Q),this._cursors=new dA(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=k1(this._autoClosedActions),super.dispose()}updateConfiguration(J){this.context=new sA(this._model,this._viewModel,this._coordinatesConverter,J),this._cursors.updateContext(this.context)}onLineMappingChanged(J){if(this._knownModelVersionId!==this._model.getVersionId())return;this.setStates(J,"viewModel",0,this.getCursorStates())}setHasFocus(J){this._hasFocus=J}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const J=this._cursors.getSelections();for(let $=0;$<this._autoClosedActions.length;$++){const X=this._autoClosedActions[$];if(!X.isValid(J))X.dispose(),this._autoClosedActions.splice($,1),$--}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(J,$,X,Q){let Y=!1;const Z=this.context.cursorConfig.multiCursorLimit;if(Q!==null&&Q.length>Z)Q=Q.slice(0,Z),Y=!0;const G=PV.from(this._model,this);return this._cursors.setStates(Q),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,$,X,G,Y)}setCursorColumnSelectData(J){this._columnSelectData=J}revealPrimary(J,$,X,Q,Y,Z){const G=this._cursors.getViewPositions();let q=null,U=null;if(G.length>1)U=this._cursors.getViewSelections();else q=L.fromPositions(G[0],G[0]);J.emitViewEvent(new aG($,X,q,U,Q,Y,Z))}saveState(){const J=[],$=this._cursors.getSelections();for(let X=0,Q=$.length;X<Q;X++){const Y=$[X];J.push({inSelectionMode:!Y.isEmpty(),selectionStart:{lineNumber:Y.selectionStartLineNumber,column:Y.selectionStartColumn},position:{lineNumber:Y.positionLineNumber,column:Y.positionColumn}})}return J}restoreState(J,$){const X=[];for(let Q=0,Y=$.length;Q<Y;Q++){const Z=$[Q];let G=1,q=1;if(Z.position&&Z.position.lineNumber)G=Z.position.lineNumber;if(Z.position&&Z.position.column)q=Z.position.column;let U=G,H=q;if(Z.selectionStart&&Z.selectionStart.lineNumber)U=Z.selectionStart.lineNumber;if(Z.selectionStart&&Z.selectionStart.column)H=Z.selectionStart.column;X.push({selectionStartLineNumber:U,selectionStartColumn:H,positionLineNumber:G,positionColumn:q})}this.setStates(J,"restoreState",0,F1.fromModelSelections(X)),this.revealPrimary(J,"restoreState",!1,0,!0,1)}onModelContentChanged(J,$){if($ instanceof VV){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(J,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const X=$.rawContentChangedEvent;if(this._knownModelVersionId=X.versionId,this._isHandling)return;const Q=X.containsEvent(1);if(this._prevEditOperationType=0,Q)this._cursors.dispose(),this._cursors=new dA(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(J,"model",1,null,!1);else if(this._hasFocus&&X.resultingSelection&&X.resultingSelection.length>0){const Y=F1.fromModelSelections(X.resultingSelection);if(this.setStates(J,"modelChange",X.isUndoing?5:X.isRedoing?6:2,Y))this.revealPrimary(J,"modelChange",!1,0,!0,0)}else{const Y=this._cursors.readSelectionFromMarkers();this.setStates(J,"modelChange",2,F1.fromModelSelections(Y))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const J=this._cursors.getPrimaryCursor(),$=J.viewState.selectionStart.getStartPosition(),X=J.viewState.position;return{isReal:!1,fromViewLineNumber:$.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,$),toViewLineNumber:X.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,X)}}getSelections(){return this._cursors.getSelections()}setSelections(J,$,X,Q){this.setStates(J,$,Q,F1.fromModelSelections(X))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(J){this._prevEditOperationType=J}_pushAutoClosedAction(J,$){const X=[],Q=[];for(let G=0,q=J.length;G<q;G++)X.push({range:J[G],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),Q.push({range:$[G],options:{description:"auto-closed-enclosing",stickiness:1}});const Y=this._model.deltaDecorations([],X),Z=this._model.deltaDecorations([],Q);this._autoClosedActions.push(new NL(this._model,Y,Z))}_executeEditOperation(J){if(!J)return;if(J.shouldPushStackElementBefore)this._model.pushStackElement();const $=zl.executeCommands(this._model,this._cursors.getSelections(),J.commands);if($){this._interpretCommandResult($);const X=[],Q=[];for(let Y=0;Y<J.commands.length;Y++){const Z=J.commands[Y];if(Z instanceof jA&&Z.enclosingRange&&Z.closeCharacterRange)X.push(Z.closeCharacterRange),Q.push(Z.enclosingRange)}if(X.length>0)this._pushAutoClosedAction(X,Q);this._prevEditOperationType=J.type}if(J.shouldPushStackElementAfter)this._model.pushStackElement()}_interpretCommandResult(J){if(!J||J.length===0)J=this._cursors.readSelectionFromMarkers();this._columnSelectData=null,this._cursors.setSelections(J),this._cursors.normalize()}_emitStateChangedIfNecessary(J,$,X,Q,Y){const Z=PV.from(this._model,this);if(Z.equals(Q))return!1;const G=this._cursors.getSelections(),q=this._cursors.getViewSelections();if(J.emitViewEvent(new GL(q,G,X)),!Q||Q.cursorState.length!==Z.cursorState.length||Z.cursorState.some((U,H)=>!U.modelState.equals(Q.cursorState[H].modelState))){const U=Q?Q.cursorState.map((z)=>z.modelState.selection):null,H=Q?Q.modelVersionId:0;J.emitOutgoingEvent(new AV(U,G,H,Z.modelVersionId,$||"keyboard",X,Y))}return!0}_findAutoClosingPairs(J){if(!J.length)return null;const $=[];for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y.text||Y.text.indexOf("\n")>=0)return null;const Z=Y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Z)return null;const G=Z[1],q=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(G);if(!q||q.length!==1)return null;const U=q[0].open,H=Y.text.length-Z[2].length-1,z=Y.text.lastIndexOf(U,H-1);if(z===-1)return null;$.push([z,H])}return $}executeEdits(J,$,X,Q){let Y=null;if($==="snippet")Y=this._findAutoClosingPairs(X);if(Y)X[0]._isTracked=!0;const Z=[],G=[],q=this._model.pushEditOperations(this.getSelections(),X,(U)=>{if(Y)for(let z=0,V=Y.length;z<V;z++){const[j,W]=Y[z],B=U[z],K=B.range.startLineNumber,P=B.range.startColumn-1+j,A=B.range.startColumn-1+W;Z.push(new L(K,A+1,K,A+2)),G.push(new L(K,P+1,K,A+2))}const H=Q(U);if(H)this._isHandling=!0;return H});if(q)this._isHandling=!1,this.setSelections(J,$,q,0);if(Z.length>0)this._pushAutoClosedAction(Z,G)}_executeEdit(J,$,X,Q=0){if(this.context.cursorConfig.readOnly)return;const Y=PV.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),J()}catch(Z){n0(Z)}if(this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary($,X,Q,Y,!1))this.revealPrimary($,X,!1,0,!0,0)}getAutoClosedCharacters(){return NL.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(J){this._compositionState=new DV(this._model,this.getSelections())}endComposition(J,$){const X=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{if($==="keyboard")this._executeEditOperation(w8.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,X,this.getSelections(),this.getAutoClosedCharacters()))},J,$)}type(J,$,X){this._executeEdit(()=>{if(X==="keyboard"){const Q=$.length;let Y=0;while(Y<Q){const Z=FH($,Y),G=$.substr(Y,Z);this._executeEditOperation(w8.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),G)),Y+=Z}}else this._executeEditOperation(w8.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$))},J,X)}compositionType(J,$,X,Q,Y,Z){if($.length===0&&X===0&&Q===0){if(Y!==0){const G=this.getSelections().map((q)=>{const U=q.getPosition();return new b0(U.lineNumber,U.column+Y,U.lineNumber,U.column+Y)});this.setSelections(J,Z,G,0)}return}this._executeEdit(()=>{this._executeEditOperation(w8.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),$,X,Q,Y))},J,Z)}paste(J,$,X,Q,Y){this._executeEdit(()=>{this._executeEditOperation(w8.paste(this.context.cursorConfig,this._model,this.getSelections(),$,X,Q||[]))},J,Y,4)}cut(J,$){this._executeEdit(()=>{this._executeEditOperation(S$.cut(this.context.cursorConfig,this._model,this.getSelections()))},J,$)}executeCommand(J,$,X){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new U7(0,[$],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,X)}executeCommands(J,$,X){this._executeEdit(()=>{this._executeEditOperation(new U7(0,$,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},J,X)}}class PV{static from(J,$){return new PV(J.getVersionId(),$.getCursorStates())}constructor(J,$){this.modelVersionId=J,this.cursorState=$}equals(J){if(!J)return!1;if(this.modelVersionId!==J.modelVersionId)return!1;if(this.cursorState.length!==J.cursorState.length)return!1;for(let $=0,X=this.cursorState.length;$<X;$++)if(!this.cursorState[$].equals(J.cursorState[$]))return!1;return!0}}class NL{static getAllAutoClosedCharacters(J){let $=[];for(let X of J)$=$.concat(X.getAutoClosedCharactersRanges());return $}constructor(J,$,X){this._model=J,this._autoClosedCharactersDecorations=$,this._autoClosedEnclosingDecorations=X}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const J=[];for(let $=0;$<this._autoClosedCharactersDecorations.length;$++){const X=this._model.getDecorationRange(this._autoClosedCharactersDecorations[$]);if(X)J.push(X)}return J}isValid(J){const $=[];for(let X=0;X<this._autoClosedEnclosingDecorations.length;X++){const Q=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[X]);if(Q){if($.push(Q),Q.startLineNumber!==Q.endLineNumber)return!1}}$.sort(L.compareRangesUsingStarts),J.sort(L.compareRangesUsingStarts);for(let X=0;X<J.length;X++){if(X>=$.length)return!1;if(!$[X].strictContainsRange(J[X]))return!1}return!0}}class zl{static executeCommands(J,$,X){const Q={model:J,selectionsBefore:$,trackedRanges:[],trackedRangesDirection:[]},Y=this._innerExecuteCommands(Q,X);for(let Z=0,G=Q.trackedRanges.length;Z<G;Z++)Q.model._setTrackedRange(Q.trackedRanges[Z],null,0);return Y}static _innerExecuteCommands(J,$){if(this._arrayIsEmpty($))return null;const X=this._getEditOperations(J,$);if(X.operations.length===0)return null;const Q=X.operations,Y=this._getLoserCursorMap(Q);if(Y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Z=[];for(let U=0,H=Q.length;U<H;U++)if(!Y.hasOwnProperty(Q[U].identifier.major.toString()))Z.push(Q[U]);if(X.hadTrackedEditOperation&&Z.length>0)Z[0]._isTracked=!0;let G=J.model.pushEditOperations(J.selectionsBefore,Z,(U)=>{const H=[];for(let j=0;j<J.selectionsBefore.length;j++)H[j]=[];for(let j of U){if(!j.identifier)continue;H[j.identifier.major].push(j)}const z=(j,W)=>{return j.identifier.minor-W.identifier.minor},V=[];for(let j=0;j<J.selectionsBefore.length;j++)if(H[j].length>0)H[j].sort(z),V[j]=$[j].computeCursorState(J.model,{getInverseEditOperations:()=>{return H[j]},getTrackedSelection:(W)=>{const B=parseInt(W,10),K=J.model._getTrackedRange(J.trackedRanges[B]);if(J.trackedRangesDirection[B]===0)return new b0(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn);return new b0(K.endLineNumber,K.endColumn,K.startLineNumber,K.startColumn)}});else V[j]=J.selectionsBefore[j];return V});if(!G)G=J.selectionsBefore;const q=[];for(let U in Y)if(Y.hasOwnProperty(U))q.push(parseInt(U,10));q.sort((U,H)=>{return H-U});for(let U of q)G.splice(U,1);return G}static _arrayIsEmpty(J){for(let $=0,X=J.length;$<X;$++)if(J[$])return!1;return!0}static _getEditOperations(J,$){let X=[],Q=!1;for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y];if(G){const q=this._getEditOperationsFromCommand(J,Y,G);X=X.concat(q.operations),Q=Q||q.hadTrackedEditOperation}}return{operations:X,hadTrackedEditOperation:Q}}static _getEditOperationsFromCommand(J,$,X){const Q=[];let Y=0;const Z=(z,V,j=!1)=>{if(L.isEmpty(z)&&V==="")return;Q.push({identifier:{major:$,minor:Y++},range:z,text:V,forceMoveMarkers:j,isAutoWhitespaceEdit:X.insertsAutoWhitespace})};let G=!1;const H={addEditOperation:Z,addTrackedEditOperation:(z,V,j)=>{G=!0,Z(z,V,j)},trackSelection:(z,V)=>{const j=b0.liftSelection(z);let W;if(j.isEmpty())if(typeof V==="boolean")if(V)W=2;else W=3;else{const P=J.model.getLineMaxColumn(j.startLineNumber);if(j.startColumn===P)W=2;else W=3}else W=1;const B=J.trackedRanges.length,K=J.model._setTrackedRange(null,j,W);return J.trackedRanges[B]=K,J.trackedRangesDirection[B]=j.getDirection(),B.toString()}};try{X.getEditOperations(J.model,H)}catch(z){return n0(z),{operations:[],hadTrackedEditOperation:!1}}return{operations:Q,hadTrackedEditOperation:G}}static _getLoserCursorMap(J){J=J.slice(0),J.sort((X,Q)=>{return-L.compareRangesUsingEnds(X.range,Q.range)});const $={};for(let X=1;X<J.length;X++){const Q=J[X-1],Y=J[X];if(L.getStartPosition(Q.range).isBefore(L.getEndPosition(Y.range))){let Z;if(Q.identifier.major>Y.identifier.major)Z=Q.identifier.major;else Z=Y.identifier.major;$[Z.toString()]=!0;for(let G=0;G<J.length;G++)if(J[G].identifier.major===Z){if(J.splice(G,1),G<X)X--;G--}if(X>0)X--}}return $}}class Vl{constructor(J,$,X){this.text=J,this.startSelection=$,this.endSelection=X}}class DV{static _capture(J,$){const X=[];for(let Q of $){if(Q.startLineNumber!==Q.endLineNumber)return null;X.push(new Vl(J.getLineContent(Q.startLineNumber),Q.startColumn-1,Q.endColumn-1))}return X}constructor(J,$){this._original=DV._capture(J,$)}deduceOutcome(J,$){if(!this._original)return null;const X=DV._capture(J,$);if(!X)return null;if(this._original.length!==X.length)return null;const Q=[];for(let Y=0,Z=this._original.length;Y<Z;Y++)Q.push(DV._deduceOutcome(this._original[Y],X[Y]));return Q}static _deduceOutcome(J,$){const X=Math.min(J.startSelection,$.startSelection,pZ(J.text,$.text)),Q=Math.min(J.text.length-J.endSelection,$.text.length-$.endSelection,BH(J.text,$.text)),Y=J.text.substring(X,J.text.length-Q),Z=$.text.substring(X,$.text.length-Q);return new Z_(Y,J.startSelection-X,J.endSelection-X,Z,$.startSelection-X,$.endSelection-X)}}var jl=N(()=>{D1();o0();Gl();bJ();ql();UA();G_();c0();S6();SY();rA();X0();tA()});async function Fl(J,$,X){if(!X)return Bl($,J.languageIdCodec,Wl);const Q=await c1.getOrCreate(X);return Bl($,J.languageIdCodec,Q||Wl)}function Kl(J,$,X,Q,Y,Z,G){let q="<div>",U=Q,H=0,z=!0;for(let V=0,j=$.getCount();V<j;V++){const W=$.getEndOffset(V);if(W<=Q)continue;let B="";for(;U<W&&U<Y;U++){const K=J.charCodeAt(U);switch(K){case 9:{let P=Z-(U+H)%Z;H+=P-1;while(P>0){if(G&&z)B+="&#160;",z=!1;else B+=" ",z=!0;P--}break}case 60:B+="&lt;",z=!1;break;case 62:B+="&gt;",z=!1;break;case 38:B+="&amp;",z=!1;break;case 0:B+="&#00;",z=!1;break;case 65279:case 8232:case 8233:case 133:B+="\uFFFD",z=!1;break;case 13:B+="&#8203",z=!1;break;case 32:if(G&&z)B+="&#160;",z=!1;else B+=" ",z=!0;break;default:B+=String.fromCharCode(K),z=!1}}if(q+=`<span style="${$.getInlineStyle(V,X)}">${B}</span>`,W>Y||U>=Y)break}return q+="</div>",q}function Bl(J,$,X){let Q='<div class="monaco-tokenized-source">';const Y=Y9(J);let Z=X.getInitialState();for(let G=0,q=Y.length;G<q;G++){const U=Y[G];if(G>0)Q+="<br/>";const H=X.tokenizeEncoded(U,!0,Z);_8.convertToEndOffset(H.tokens,U.length);const V=new _8(H.tokens,U,$).inflate();let j=0;for(let W=0,B=V.getCount();W<B;W++){const K=V.getClassName(W),P=V.getEndOffset(W);Q+=`<span class="${K}">${gZ(U.substring(j,P))}</span>`,j=P}Z=H.endState}return Q+="</div>",Q}var Wl;var wL=N(()=>{o0();cX();M7();Wz();Wl={getInitialState:()=>HY,tokenizeEncoded:(J,$,X)=>wq(0,X)}});class Al{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(J){this._hasPending=!0,this._inserts.push(J)}change(J){this._hasPending=!0,this._changes.push(J)}remove(J){this._hasPending=!0,this._removes.push(J)}mustCommit(){return this._hasPending}commit(J){if(!this._hasPending)return;const $=this._inserts,X=this._changes,Q=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],J._commitPendingChanges($,X,Q)}}class Pl{constructor(J,$,X,Q,Y){this.id=J,this.afterLineNumber=$,this.ordinal=X,this.height=Q,this.minWidth=Y,this.prefixSum=0}}class L3{constructor(J,$,X,Q){this._instanceId=tB(++L3.INSTANCE_COUNT),this._pendingChanges=new Al,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=J,this._lineHeight=$,this._paddingTop=X,this._paddingBottom=Q}static findInsertionIndex(J,$,X){let Q=0,Y=J.length;while(Q<Y){const Z=Q+Y>>>1;if($===J[Z].afterLineNumber)if(X<J[Z].ordinal)Y=Z;else Q=Z+1;else if($<J[Z].afterLineNumber)Y=Z;else Q=Z+1}return Q}setLineHeight(J){this._checkPendingChanges(),this._lineHeight=J}setPadding(J,$){this._paddingTop=J,this._paddingBottom=$}onFlushed(J){this._checkPendingChanges(),this._lineCount=J}changeWhitespace(J){let $=!1;try{J({insertWhitespace:(Q,Y,Z,G)=>{$=!0,Q=Q|0,Y=Y|0,Z=Z|0,G=G|0;const q=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Pl(q,Q,Y,Z,G)),q},changeOneWhitespace:(Q,Y,Z)=>{$=!0,Y=Y|0,Z=Z|0,this._pendingChanges.change({id:Q,newAfterLineNumber:Y,newHeight:Z})},removeWhitespace:(Q)=>{$=!0,this._pendingChanges.remove({id:Q})}})}finally{this._pendingChanges.commit(this)}return $}_commitPendingChanges(J,$,X){if(J.length>0||X.length>0)this._minWidth=-1;if(J.length+$.length+X.length<=1){for(let q of J)this._insertWhitespace(q);for(let q of $)this._changeOneWhitespace(q.id,q.newAfterLineNumber,q.newHeight);for(let q of X){const U=this._findWhitespaceIndex(q.id);if(U===-1)continue;this._removeWhitespace(U)}return}const Q=new Set;for(let q of X)Q.add(q.id);const Y=new Map;for(let q of $)Y.set(q.id,q);const Z=(q)=>{const U=[];for(let H of q){if(Q.has(H.id))continue;if(Y.has(H.id)){const z=Y.get(H.id);H.afterLineNumber=z.newAfterLineNumber,H.height=z.newHeight}U.push(H)}return U},G=Z(this._arr).concat(Z(J));G.sort((q,U)=>{if(q.afterLineNumber===U.afterLineNumber)return q.ordinal-U.ordinal;return q.afterLineNumber-U.afterLineNumber}),this._arr=G,this._prefixSumValidIndex=-1}_checkPendingChanges(){if(this._pendingChanges.mustCommit())this._pendingChanges.commit(this)}_insertWhitespace(J){const $=L3.findInsertionIndex(this._arr,J.afterLineNumber,J.ordinal);this._arr.splice($,0,J),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,$-1)}_findWhitespaceIndex(J){const $=this._arr;for(let X=0,Q=$.length;X<Q;X++)if($[X].id===J)return X;return-1}_changeOneWhitespace(J,$,X){const Q=this._findWhitespaceIndex(J);if(Q===-1)return;if(this._arr[Q].height!==X)this._arr[Q].height=X,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,Q-1);if(this._arr[Q].afterLineNumber!==$){const Y=this._arr[Q];this._removeWhitespace(Q),Y.afterLineNumber=$,this._insertWhitespace(Y)}}_removeWhitespace(J){this._arr.splice(J,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,J-1)}onLinesDeleted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount-=$-J+1;for(let X=0,Q=this._arr.length;X<Q;X++){const Y=this._arr[X].afterLineNumber;if(J<=Y&&Y<=$)this._arr[X].afterLineNumber=J-1;else if(Y>$)this._arr[X].afterLineNumber-=$-J+1}}onLinesInserted(J,$){this._checkPendingChanges(),J=J|0,$=$|0,this._lineCount+=$-J+1;for(let X=0,Q=this._arr.length;X<Q;X++){const Y=this._arr[X].afterLineNumber;if(J<=Y)this._arr[X].afterLineNumber+=$-J+1}}getWhitespacesTotalHeight(){if(this._checkPendingChanges(),this._arr.length===0)return 0;return this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(J){this._checkPendingChanges(),J=J|0;let $=Math.max(0,this._prefixSumValidIndex+1);if($===0)this._arr[0].prefixSum=this._arr[0].height,$++;for(let X=$;X<=J;X++)this._arr[X].prefixSum=this._arr[X-1].prefixSum+this._arr[X].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,J),this._arr[J].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const J=this._lineHeight*this._lineCount,$=this.getWhitespacesTotalHeight();return J+$+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(J){this._checkPendingChanges(),J=J|0;const $=this._findLastWhitespaceBeforeLineNumber(J);if($===-1)return 0;return this.getWhitespacesAccumulatedHeight($)}_findLastWhitespaceBeforeLineNumber(J){J=J|0;const $=this._arr;let X=0,Q=$.length-1;while(X<=Q){const Z=(Q-X|0)/2|0,G=X+Z|0;if($[G].afterLineNumber<J)if(G+1>=$.length||$[G+1].afterLineNumber>=J)return G;else X=G+1|0;else Q=G-1|0}return-1}_findFirstWhitespaceAfterLineNumber(J){J=J|0;const X=this._findLastWhitespaceBeforeLineNumber(J)+1;if(X<this._arr.length)return X;return-1}getFirstWhitespaceIndexAfterLineNumber(J){return this._checkPendingChanges(),J=J|0,this._findFirstWhitespaceAfterLineNumber(J)}getVerticalOffsetForLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;let X;if(J>1)X=this._lineHeight*(J-1);else X=0;const Q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J-($?1:0));return X+Q+this._paddingTop}getVerticalOffsetAfterLineNumber(J,$=!1){this._checkPendingChanges(),J=J|0;const X=this._lineHeight*J,Q=this.getWhitespaceAccumulatedHeightBeforeLineNumber(J+($?1:0));return X+Q+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let J=0;for(let $=0,X=this._arr.length;$<X;$++)J=Math.max(J,this._arr[$].minWidth);this._minWidth=J}return this._minWidth}isAfterLines(J){this._checkPendingChanges();const $=this.getLinesTotalHeight();return J>$}isInTopPadding(J){if(this._paddingTop===0)return!1;return this._checkPendingChanges(),J<this._paddingTop}isInBottomPadding(J){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const $=this.getLinesTotalHeight();return J>=$-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(J){if(this._checkPendingChanges(),J=J|0,J<0)return 1;const $=this._lineCount|0,X=this._lineHeight;let Q=1,Y=$;while(Q<Y){const Z=(Q+Y)/2|0,G=this.getVerticalOffsetForLineNumber(Z)|0;if(J>=G+X)Q=Z+1;else if(J>=G)return Z;else Y=Z}if(Q>$)return $;return Q}getLinesViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;const X=this._lineHeight,Q=this.getLineNumberAtOrAfterVerticalOffset(J)|0,Y=this.getVerticalOffsetForLineNumber(Q)|0;let Z=this._lineCount|0,G=this.getFirstWhitespaceIndexAfterLineNumber(Q)|0;const q=this.getWhitespacesCount()|0;let U,H;if(G===-1)G=q,H=Z+1,U=0;else H=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;let z=Y,V=z;const j=500000;let W=0;if(Y>=j)W=Math.floor(Y/j)*j,W=Math.floor(W/X)*X,V-=W;const B=[],K=J+($-J)/2;let P=-1;for(let M=Q;M<=Z;M++){if(P===-1){const O=z,_=z+X;if(O<=K&&K<_||O>K)P=M}z+=X,B[M-Q]=V,V+=X;while(H===M)if(V+=U,z+=U,G++,G>=q)H=Z+1;else H=this.getAfterLineNumberForWhitespaceIndex(G)|0,U=this.getHeightForWhitespaceIndex(G)|0;if(z>=$){Z=M;break}}if(P===-1)P=Z;const A=this.getVerticalOffsetForLineNumber(Z)|0;let D=Q,R=Z;if(D<R){if(Y<J)D++}if(D<R){if(A+X>$)R--}return{bigNumbersDelta:W,startLineNumber:Q,endLineNumber:Z,relativeVerticalOffset:B,centeredLineNumber:P,completelyVisibleStartLineNumber:D,completelyVisibleEndLineNumber:R}}getVerticalOffsetForWhitespaceIndex(J){this._checkPendingChanges(),J=J|0;const $=this.getAfterLineNumberForWhitespaceIndex(J);let X;if($>=1)X=this._lineHeight*$;else X=0;let Q;if(J>0)Q=this.getWhitespacesAccumulatedHeight(J-1);else Q=0;return X+Q+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(J){this._checkPendingChanges(),J=J|0;let $=0,X=this.getWhitespacesCount()-1;if(X<0)return-1;const Q=this.getVerticalOffsetForWhitespaceIndex(X),Y=this.getHeightForWhitespaceIndex(X);if(J>=Q+Y)return-1;while($<X){const Z=Math.floor(($+X)/2),G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(J>=G+q)$=Z+1;else if(J>=G)return Z;else X=Z}return $}getWhitespaceAtVerticalOffset(J){this._checkPendingChanges(),J=J|0;const $=this.getWhitespaceIndexAtOrAfterVerticallOffset(J);if($<0)return null;if($>=this.getWhitespacesCount())return null;const X=this.getVerticalOffsetForWhitespaceIndex($);if(X>J)return null;const Q=this.getHeightForWhitespaceIndex($),Y=this.getIdForWhitespaceIndex($),Z=this.getAfterLineNumberForWhitespaceIndex($);return{id:Y,afterLineNumber:Z,verticalOffset:X,height:Q}}getWhitespaceViewportData(J,$){this._checkPendingChanges(),J=J|0,$=$|0;const X=this.getWhitespaceIndexAtOrAfterVerticallOffset(J),Q=this.getWhitespacesCount()-1;if(X<0)return[];const Y=[];for(let Z=X;Z<=Q;Z++){const G=this.getVerticalOffsetForWhitespaceIndex(Z),q=this.getHeightForWhitespaceIndex(Z);if(G>=$)break;Y.push({id:this.getIdForWhitespaceIndex(Z),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Z),verticalOffset:G,height:q})}return Y}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].id}getAfterLineNumberForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].afterLineNumber}getHeightForWhitespaceIndex(J){return this._checkPendingChanges(),J=J|0,this._arr[J].height}}var Dl=N(()=>{o0();L3.INSTANCE_COUNT=0});class E3{constructor(J,$,X,Q){if(J=J|0,$=$|0,X=X|0,Q=Q|0,J<0)J=0;if($<0)$=0;if(X<0)X=0;if(Q<0)Q=0;this.width=J,this.contentWidth=$,this.scrollWidth=Math.max(J,$),this.height=X,this.contentHeight=Q,this.scrollHeight=Math.max(X,Q)}equals(J){return this.width===J.width&&this.contentWidth===J.contentWidth&&this.height===J.height&&this.contentHeight===J.contentHeight}}class Rl extends f{constructor(J,$){super();this._onDidContentSizeChange=this._register(new y),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new E3(0,0,0,0),this._scrollable=this._register(new CJ({forceIntegerValues:!0,smoothScrollDuration:J,scheduleAtNextAnimationFrame:$})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(J){this._scrollable.setSmoothScrollDuration(J)}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}getScrollDimensions(){return this._dimensions}setScrollDimensions(J){if(this._dimensions.equals(J))return;const $=this._dimensions;this._dimensions=J,this._scrollable.setScrollDimensions({width:J.width,scrollWidth:J.scrollWidth,height:J.height,scrollHeight:J.scrollHeight},!0);const X=$.contentWidth!==J.contentWidth,Q=$.contentHeight!==J.contentHeight;if(X||Q)this._onDidContentSizeChange.fire(new iA($.contentWidth,$.contentHeight,J.contentWidth,J.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(J){this._scrollable.setScrollPositionNow(J)}setScrollPositionSmooth(J){this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class LL extends f{constructor(J,$,X){super();this._configuration=J;const Q=this._configuration.options,Y=Q.get(143),Z=Q.get(83);this._linesLayout=new L3($,Q.get(66),Z.top,Z.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new Rl(0,X)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new E3(Y.contentWidth,0,Y.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(113)?p50:0)}onConfigurationChanged(J){const $=this._configuration.options;if(J.hasChanged(66))this._linesLayout.setLineHeight($.get(66));if(J.hasChanged(83)){const X=$.get(83);this._linesLayout.setPadding(X.top,X.bottom)}if(J.hasChanged(143)){const X=$.get(143),Q=X.contentWidth,Y=X.height,Z=this._scrollable.getScrollDimensions(),G=Z.contentWidth;this._scrollable.setScrollDimensions(new E3(Q,Z.contentWidth,Y,this._getContentHeight(Q,Y,G)))}else this._updateHeight();if(J.hasChanged(113))this._configureSmoothScrollDuration()}onFlushed(J){this._linesLayout.onFlushed(J)}onLinesDeleted(J,$){this._linesLayout.onLinesDeleted(J,$)}onLinesInserted(J,$){this._linesLayout.onLinesInserted(J,$)}_getHorizontalScrollbarHeight(J,$){const Q=this._configuration.options.get(102);if(Q.horizontal===2)return 0;if(J>=$)return 0;return Q.horizontalScrollbarSize}_getContentHeight(J,$,X){const Q=this._configuration.options;let Y=this._linesLayout.getLinesTotalHeight();if(Q.get(104))Y+=Math.max(0,$-Q.get(66)-Q.get(83).bottom);else if(!Q.get(102).ignoreHorizontalScrollbarInContentHeight)Y+=this._getHorizontalScrollbarHeight(J,X);return Y}_updateHeight(){const J=this._scrollable.getScrollDimensions(),$=J.width,X=J.height,Q=J.contentWidth;this._scrollable.setScrollDimensions(new E3($,J.contentWidth,X,this._getContentHeight($,X,Q)))}getCurrentViewport(){const J=this._scrollable.getScrollDimensions(),$=this._scrollable.getCurrentScrollPosition();return new RK($.scrollTop,$.scrollLeft,J.width,J.height)}getFutureViewport(){const J=this._scrollable.getScrollDimensions(),$=this._scrollable.getFutureScrollPosition();return new RK($.scrollTop,$.scrollLeft,J.width,J.height)}_computeContentWidth(){const J=this._configuration.options,$=this._maxLineWidth,X=J.get(144),Q=J.get(50),Y=J.get(143);if(X.isViewportWrapping){const Z=J.get(72);if($>Y.contentWidth+Q.typicalHalfwidthCharacterWidth){if(Z.enabled&&Z.side==="right")return $+Y.verticalScrollbarWidth}return $}else{const Z=J.get(103)*Q.typicalHalfwidthCharacterWidth,G=this._linesLayout.getWhitespaceMinWidth();return Math.max($+Z+Y.verticalScrollbarWidth,G,this._overlayWidgetsMinWidth)}}setMaxLineWidth(J){this._maxLineWidth=J,this._updateContentWidth()}setOverlayWidgetsMinWidth(J){this._overlayWidgetsMinWidth=J,this._updateContentWidth()}_updateContentWidth(){const J=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new E3(J.width,this._computeContentWidth(),J.height,J.contentHeight)),this._updateHeight()}saveState(){const J=this._scrollable.getFutureScrollPosition(),$=J.scrollTop,X=this._linesLayout.getLineNumberAtOrAfterVerticalOffset($),Q=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(X);return{scrollTop:$,scrollTopWithoutViewZones:$-Q,scrollLeft:J.scrollLeft}}changeWhitespace(J){const $=this._linesLayout.changeWhitespace(J);if($)this.onHeightMaybeChanged();return $}getVerticalOffsetForLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetForLineNumber(J,$)}getVerticalOffsetAfterLineNumber(J,$=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(J,$)}isAfterLines(J){return this._linesLayout.isAfterLines(J)}isInTopPadding(J){return this._linesLayout.isInTopPadding(J)}isInBottomPadding(J){return this._linesLayout.isInBottomPadding(J)}getLineNumberAtVerticalOffset(J){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(J)}getWhitespaceAtVerticalOffset(J){return this._linesLayout.getWhitespaceAtVerticalOffset(J)}getLinesViewportData(){const J=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(J.top,J.top+J.height)}getLinesViewportDataAtScrollTop(J){const $=this._scrollable.getScrollDimensions();if(J+$.height>$.scrollHeight)J=$.scrollHeight-$.height;if(J<0)J=0;return this._linesLayout.getLinesViewportData(J,J+$.height)}getWhitespaceViewportData(){const J=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(J.top,J.top+J.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(J){return this._scrollable.validateScrollPosition(J)}setScrollPosition(J,$){if($===1)this._scrollable.setScrollPositionNow(J);else this._scrollable.setScrollPositionSmooth(J)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(J,$){const X=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:X.scrollLeft+J,scrollTop:X.scrollTop+$})}}var p50;var Ml=N(()=>{F0();X0();$3();Dl();EJ();tA();p50=125});function m50(J,$){if($.options.hideInCommentTokens&&u50(J,$))return!1;if($.options.hideInStringTokens&&c50(J,$))return!1;return!0}function u50(J,$){return Ol(J,$.range,(X)=>X===1)}function c50(J,$){return Ol(J,$.range,(X)=>X===2)}class EL{constructor(J,$,X,Q,Y){this.editorId=J,this.model=$,this.configuration=X,this._linesCollection=Q,this._coordinatesConverter=Y,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(J){const $=J.id;let X=this._decorationsCache[$];if(!X){const{range:Q,options:Y}=J;let Z;if(Y.isWholeLine){const G=this._coordinatesConverter.convertModelPositionToViewPosition(new v(Q.startLineNumber,1),0,!1,!0),q=this._coordinatesConverter.convertModelPositionToViewPosition(new v(Q.endLineNumber,this.model.getLineMaxColumn(Q.endLineNumber)),1);Z=new L(G.lineNumber,G.column,q.lineNumber,q.column)}else Z=this._coordinatesConverter.convertModelRangeToViewRange(Q,1);X=new Kz(Z,Y),this._decorationsCache[$]=X}return X}getMinimapDecorationsInRange(J){return this._getDecorationsInRange(J,!0,!1).decorations}getDecorationsViewportData(J){let $=this._cachedModelDecorationsResolver!==null;if($=$&&J.equalsRange(this._cachedModelDecorationsResolverViewRange),!$)this._cachedModelDecorationsResolver=this._getDecorationsInRange(J,!1,!1),this._cachedModelDecorationsResolverViewRange=J;return this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(J,$=!1,X=!1){const Q=new L(J,this._linesCollection.getViewLineMinColumn(J),J,this._linesCollection.getViewLineMaxColumn(J));return this._getDecorationsInRange(Q,$,X).inlineDecorations[0]}_getDecorationsInRange(J,$,X){const Q=this._linesCollection.getDecorationsInRange(J,this.editorId,EZ(this.configuration.options),$,X),Y=J.startLineNumber,Z=J.endLineNumber,G=[];let q=0;const U=[];for(let H=Y;H<=Z;H++)U[H-Y]=[];for(let H=0,z=Q.length;H<z;H++){const V=Q[H],j=V.options;if(!m50(this.model,V))continue;const W=this._getOrCreateViewModelDecoration(V),B=W.range;if(G[q++]=W,j.inlineClassName){const K=new zY(B,j.inlineClassName,j.inlineClassNameAffectsLetterSpacing?3:0),P=Math.max(Y,B.startLineNumber),A=Math.min(Z,B.endLineNumber);for(let D=P;D<=A;D++)U[D-Y].push(K)}if(j.beforeContentClassName){if(Y<=B.startLineNumber&&B.startLineNumber<=Z){const K=new zY(new L(B.startLineNumber,B.startColumn,B.startLineNumber,B.startColumn),j.beforeContentClassName,1);U[B.startLineNumber-Y].push(K)}}if(j.afterContentClassName){if(Y<=B.endLineNumber&&B.endLineNumber<=Z){const K=new zY(new L(B.endLineNumber,B.endColumn,B.endLineNumber,B.endColumn),j.afterContentClassName,2);U[B.endLineNumber-Y].push(K)}}}return{decorations:G,inlineDecorations:U}}}var Ol;var Tl=N(()=>{U1();c0();EJ();J7();Ol=function(J,$,X){for(let Q=$.startLineNumber;Q<=$.endLineNumber;Q++){const Y=J.tokenization.getLineTokens(Q),Z=Q===$.startLineNumber,G=Q===$.endLineNumber;let q=Z?Y.findTokenIndexAtOffset($.startColumn-1):0;while(q<Y.getCount()){if(G){if(Y.getStartOffset(q)>$.endColumn-1)break}if(!X(Y.getStandardTokenType(q)))return!1;q++}}return!0}});function eA(J,$){if(J===null){if($)return RV.INSTANCE;return MV.INSTANCE}else return new _l(J,$)}class _l{constructor(J,$){this._projectionData=J,this._isVisible=$}isVisible(){return this._isVisible}setVisible(J){return this._isVisible=J,this}getProjectionData(){return this._projectionData}getViewLineCount(){if(!this._isVisible)return 0;return this._projectionData.getOutputLineCount()}getViewLineContent(J,$,X){this._assertVisible();const Q=X>0?this._projectionData.breakOffsets[X-1]:0,Y=this._projectionData.breakOffsets[X];let Z;if(this._projectionData.injectionOffsets!==null){const G=this._projectionData.injectionOffsets.map((U,H)=>new O5(0,0,U+1,this._projectionData.injectionOptions[H],0));Z=O5.applyInjectedText(J.getLineContent($),G).substring(Q,Y)}else Z=J.getValueInRange({startLineNumber:$,startColumn:Q+1,endLineNumber:$,endColumn:Y+1});if(X>0)Z=Nl(this._projectionData.wrappedTextIndentLength)+Z;return Z}getViewLineLength(J,$,X){return this._assertVisible(),this._projectionData.getLineLength(X)}getViewLineMinColumn(J,$,X){return this._assertVisible(),this._projectionData.getMinOutputOffset(X)+1}getViewLineMaxColumn(J,$,X){return this._assertVisible(),this._projectionData.getMaxOutputOffset(X)+1}getViewLineData(J,$,X){const Q=new Array;return this.getViewLinesData(J,$,X,1,0,[!0],Q),Q[0]}getViewLinesData(J,$,X,Q,Y,Z,G){this._assertVisible();const q=this._projectionData,U=q.injectionOffsets,H=q.injectionOptions;let z=null;if(U){z=[];let j=0,W=0;for(let B=0;B<q.getOutputLineCount();B++){const K=new Array;z[B]=K;const P=B>0?q.breakOffsets[B-1]:0,A=q.breakOffsets[B];while(W<U.length){const D=H[W].content.length,R=U[W]+j,M=R+D;if(R>A)break;if(P<M){const O=H[W];if(O.inlineClassName){const _=B>0?q.wrappedTextIndentLength:0,w=_+Math.max(R-P,0),C=_+Math.min(M-P,A-P);if(w!==C)K.push(new sT(w,C,O.inlineClassName,O.inlineClassNameAffectsLetterSpacing))}}if(M<=A)j+=D,W++;else break}}}let V;if(U)V=J.tokenization.getLineTokens($).withInserted(U.map((j,W)=>({offset:j,text:H[W].content,tokenMetadata:_8.defaultTokenMetadata})));else V=J.tokenization.getLineTokens($);for(let j=X;j<X+Q;j++){const W=Y+j-X;if(!Z[W]){G[W]=null;continue}G[W]=this._getViewLineData(V,z?z[j]:null,j)}}_getViewLineData(J,$,X){this._assertVisible();const Q=this._projectionData,Y=X>0?Q.wrappedTextIndentLength:0,Z=X>0?Q.breakOffsets[X-1]:0,G=Q.breakOffsets[X],q=J.sliceAndInflate(Z,G,Y);let U=q.getLineContent();if(X>0)U=Nl(Q.wrappedTextIndentLength)+U;const H=this._projectionData.getMinOutputOffset(X)+1,z=U.length+1,V=X+1<this.getViewLineCount(),j=X===0?0:Q.breakOffsetsVisibleColumn[X-1];return new Iq(U,V,H,z,j,q,$)}getModelColumnOfViewPosition(J,$){return this._assertVisible(),this._projectionData.translateToInputOffset(J,$-1)+1}getViewPositionOfModelPosition(J,$,X=2){return this._assertVisible(),this._projectionData.translateToOutputPosition($-1,X).toPosition(J)}getViewLineNumberOfModelPosition(J,$){this._assertVisible();const X=this._projectionData.translateToOutputPosition($-1);return J+X.outputLineIndex}normalizePosition(J,$,X){const Q=$.lineNumber-J;return this._projectionData.normalizeOutputPosition(J,$.column-1,X).toPosition(Q)}getInjectedTextAt(J,$){return this._projectionData.getInjectedText(J,$-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class RV{constructor(){}isVisible(){return!0}setVisible(J){if(J)return this;return MV.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(J,$,X){return J.getLineContent($)}getViewLineLength(J,$,X){return J.getLineLength($)}getViewLineMinColumn(J,$,X){return J.getLineMinColumn($)}getViewLineMaxColumn(J,$,X){return J.getLineMaxColumn($)}getViewLineData(J,$,X){const Q=J.tokenization.getLineTokens($),Y=Q.getLineContent();return new Iq(Y,!1,1,Y.length+1,0,Q.inflate(),null)}getViewLinesData(J,$,X,Q,Y,Z,G){if(!Z[Y]){G[Y]=null;return}G[Y]=this.getViewLineData(J,$,0)}getModelColumnOfViewPosition(J,$){return $}getViewPositionOfModelPosition(J,$){return new v(J,$)}getViewLineNumberOfModelPosition(J,$){return J}normalizePosition(J,$,X){return $}getInjectedTextAt(J,$){return null}}class MV{constructor(){}isVisible(){return!1}setVisible(J){if(!J)return this;return RV.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(J,$,X){throw new Error("Not supported")}getViewLineLength(J,$,X){throw new Error("Not supported")}getViewLineMinColumn(J,$,X){throw new Error("Not supported")}getViewLineMaxColumn(J,$,X){throw new Error("Not supported")}getViewLineData(J,$,X){throw new Error("Not supported")}getViewLinesData(J,$,X,Q,Y,Z,G){throw new Error("Not supported")}getModelColumnOfViewPosition(J,$){throw new Error("Not supported")}getViewPositionOfModelPosition(J,$){throw new Error("Not supported")}getViewLineNumberOfModelPosition(J,$){throw new Error("Not supported")}normalizePosition(J,$,X){throw new Error("Not supported")}getInjectedTextAt(J,$){throw new Error("Not supported")}}var Nl,l50,kL;var wl=N(()=>{cX();U1();SY();EJ();Nl=function(J){if(J>=kL.length)for(let $=1;$<=J;$++)kL[$]=l50($);return kL[J]},l50=function(J){return new Array(J+1).join(" ")};RV.INSTANCE=new RV;MV.INSTANCE=new MV;kL=[""]});class SL{constructor(J,$,X,Q,Y,Z,G,q,U,H){this._editorId=J,this.model=$,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=X,this._monospaceLineBreaksComputerFactory=Q,this.fontInfo=Y,this.tabSize=Z,this.wrappingStrategy=G,this.wrappingColumn=q,this.wrappingIndent=U,this.wordBreak=H,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Ll(this)}_constructLines(J,$){if(this.modelLineProjections=[],J)this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]);const X=this.model.getLinesContent(),Q=this.model.getInjectedTextDecorations(this._editorId),Y=X.length,Z=this.createLineBreaksComputer(),G=new n7(O5.fromDecorations(Q));for(let B=0;B<Y;B++){const K=G.takeWhile((P)=>P.lineNumber===B+1);Z.addRequest(X[B],K,$?$[B]:null)}const q=Z.finalize(),U=[],H=this.hiddenAreasDecorationIds.map((B)=>this.model.getDecorationRange(B)).sort(L.compareRangesUsingStarts);let z=1,V=0,j=-1,W=j+1<H.length?V+1:Y+2;for(let B=0;B<Y;B++){const K=B+1;if(K===W)j++,z=H[j].startLineNumber,V=H[j].endLineNumber,W=j+1<H.length?V+1:Y+2;const P=K>=z&&K<=V,A=eA(q[B],!P);U[B]=A.getViewLineCount(),this.modelLineProjections[B]=A}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new BT(U)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map((J)=>this.model.getDecorationRange(J))}setHiddenAreas(J){const $=J.map((V)=>this.model.validateRange(V)),X=d50($),Q=this.hiddenAreasDecorationIds.map((V)=>this.model.getDecorationRange(V)).sort(L.compareRangesUsingStarts);if(X.length===Q.length){let V=!1;for(let j=0;j<X.length;j++)if(!X[j].equalsRange(Q[j])){V=!0;break}if(!V)return!1}const Y=X.map((V)=>({range:V,options:E1.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Y);const Z=X;let G=1,q=0,U=-1,H=U+1<Z.length?q+1:this.modelLineProjections.length+2,z=!1;for(let V=0;V<this.modelLineProjections.length;V++){const j=V+1;if(j===H)U++,G=Z[U].startLineNumber,q=Z[U].endLineNumber,H=U+1<Z.length?q+1:this.modelLineProjections.length+2;let W=!1;if(j>=G&&j<=q){if(this.modelLineProjections[V].isVisible())this.modelLineProjections[V]=this.modelLineProjections[V].setVisible(!1),W=!0}else if(z=!0,!this.modelLineProjections[V].isVisible())this.modelLineProjections[V]=this.modelLineProjections[V].setVisible(!0),W=!0;if(W){const B=this.modelLineProjections[V].getViewLineCount();this.projectedModelLineLineCounts.setValue(V,B)}}if(!z)this.setHiddenAreas([]);return!0}modelPositionIsVisible(J,$){if(J<1||J>this.modelLineProjections.length)return!1;return this.modelLineProjections[J-1].isVisible()}getModelLineViewLineCount(J){if(J<1||J>this.modelLineProjections.length)return 1;return this.modelLineProjections[J-1].getViewLineCount()}setTabSize(J){if(this.tabSize===J)return!1;return this.tabSize=J,this._constructLines(!1,null),!0}setWrappingSettings(J,$,X,Q,Y){const Z=this.fontInfo.equals(J),G=this.wrappingStrategy===$,q=this.wrappingColumn===X,U=this.wrappingIndent===Q,H=this.wordBreak===Y;if(Z&&G&&q&&U&&H)return!1;const z=Z&&G&&!q&&U&&H;this.fontInfo=J,this.wrappingStrategy=$,this.wrappingColumn=X,this.wrappingIndent=Q,this.wordBreak=Y;let V=null;if(z){V=[];for(let j=0,W=this.modelLineProjections.length;j<W;j++)V[j]=this.modelLineProjections[j].getProjectionData()}return this._constructLines(!1,V),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(J,$,X){if(!J||J<=this._validModelVersionId)return null;const Q=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1,Y=this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections.splice($-1,X-$+1),this.projectedModelLineLineCounts.removeValues($-1,X-$+1),new FV(Q,Y)}onModelLinesInserted(J,$,X,Q){if(!J||J<=this._validModelVersionId)return null;const Y=$>2&&!this.modelLineProjections[$-2].isVisible(),Z=$===1?1:this.projectedModelLineLineCounts.getPrefixSum($-1)+1;let G=0;const q=[],U=[];for(let H=0,z=Q.length;H<z;H++){const V=eA(Q[H],!Y);q.push(V);const j=V.getViewLineCount();G+=j,U[H]=j}return this.modelLineProjections=this.modelLineProjections.slice(0,$-1).concat(q).concat(this.modelLineProjections.slice($-1)),this.projectedModelLineLineCounts.insertValues($-1,U),new KV(Z,Z+G-1)}onModelLineChanged(J,$,X){if(J!==null&&J<=this._validModelVersionId)return[!1,null,null,null];const Q=$-1,Y=this.modelLineProjections[Q].getViewLineCount(),Z=this.modelLineProjections[Q].isVisible(),G=eA(X,Z);this.modelLineProjections[Q]=G;const q=this.modelLineProjections[Q].getViewLineCount();let U=!1,H=0,z=-1,V=0,j=-1,W=0,B=-1;if(Y>q)H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+q-1,W=z+1,B=W+(Y-q)-1,U=!0;else if(Y<q)H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+Y-1,V=z+1,j=V+(q-Y)-1,U=!0;else H=this.projectedModelLineLineCounts.getPrefixSum($-1)+1,z=H+q-1;this.projectedModelLineLineCounts.setValue(Q,q);const K=H<=z?new aA(H,z-H+1):null,P=V<=j?new KV(V,j):null,A=W<=B?new FV(W,B):null;return[U,K,P,A]}acceptVersionId(J){if(this._validModelVersionId=J,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible())this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(J){if(J<1)return 1;const $=this.getViewLineCount();if(J>$)return $;return J|0}getActiveIndentGuide(J,$,X){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($),X=this._toValidViewLineNumber(X);const Q=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Y=this.convertViewPositionToModelPosition($,this.getViewLineMinColumn($)),Z=this.convertViewPositionToModelPosition(X,this.getViewLineMinColumn(X)),G=this.model.guides.getActiveIndentGuide(Q.lineNumber,Y.lineNumber,Z.lineNumber),q=this.convertModelPositionToViewPosition(G.startLineNumber,1),U=this.convertModelPositionToViewPosition(G.endLineNumber,this.model.getLineMaxColumn(G.endLineNumber));return{startLineNumber:q.lineNumber,endLineNumber:U.lineNumber,indent:G.indent}}getViewLineInfo(J){J=this._toValidViewLineNumber(J);const $=this.projectedModelLineLineCounts.getIndexOf(J-1),X=$.index,Q=$.remainder;return new IL(X+1,Q)}getMinColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(J){return this.modelLineProjections[J.modelLineNumber-1].getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(J){const $=this.modelLineProjections[J.modelLineNumber-1],X=$.getViewLineMinColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),Q=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,X);return new v(J.modelLineNumber,Q)}getModelEndPositionOfViewLine(J){const $=this.modelLineProjections[J.modelLineNumber-1],X=$.getViewLineMaxColumn(this.model,J.modelLineNumber,J.modelLineWrappedLineIdx),Q=$.getModelColumnOfViewPosition(J.modelLineWrappedLineIdx,X);return new v(J.modelLineNumber,Q)}getViewLineInfosGroupedByModelRanges(J,$){const X=this.getViewLineInfo(J),Q=this.getViewLineInfo($),Y=new Array;let Z=this.getModelStartPositionOfViewLine(X),G=new Array;for(let q=X.modelLineNumber;q<=Q.modelLineNumber;q++){const U=this.modelLineProjections[q-1];if(U.isVisible()){const H=q===X.modelLineNumber?X.modelLineWrappedLineIdx:0,z=q===Q.modelLineNumber?Q.modelLineWrappedLineIdx+1:U.getViewLineCount();for(let V=H;V<z;V++)G.push(new IL(q,V))}if(!U.isVisible()&&Z){const H=new v(q-1,this.model.getLineMaxColumn(q-1)+1),z=L.fromPositions(Z,H);Y.push(new yL(z,G)),G=[],Z=null}else if(U.isVisible()&&!Z)Z=new v(q,1)}if(Z){const q=L.fromPositions(Z,this.getModelEndPositionOfViewLine(Q));Y.push(new yL(q,G))}return Y}getViewLinesBracketGuides(J,$,X,Q){const Y=X?this.convertViewPositionToModelPosition(X.lineNumber,X.column):null,Z=[];for(let G of this.getViewLineInfosGroupedByModelRanges(J,$)){const q=G.modelRange.startLineNumber,U=this.model.guides.getLinesBracketGuides(q,G.modelRange.endLineNumber,Y,Q);for(let H of G.viewLines){const V=U[H.modelLineNumber-q].map((j)=>{if(j.forWrappedLinesAfterColumn!==-1){if(this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,j.forWrappedLinesAfterColumn).lineNumber>=H.modelLineWrappedLineIdx)return}if(j.forWrappedLinesBeforeOrAtColumn!==-1){if(this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,j.forWrappedLinesBeforeOrAtColumn).lineNumber<H.modelLineWrappedLineIdx)return}if(!j.horizontalLine)return j;let W=-1;if(j.column!==-1){const P=this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,j.column);if(P.lineNumber===H.modelLineWrappedLineIdx)W=P.column;else if(P.lineNumber<H.modelLineWrappedLineIdx)W=this.getMinColumnOfViewLine(H);else if(P.lineNumber>H.modelLineWrappedLineIdx)return}const B=this.convertModelPositionToViewPosition(H.modelLineNumber,j.horizontalLine.endColumn),K=this.modelLineProjections[H.modelLineNumber-1].getViewPositionOfModelPosition(0,j.horizontalLine.endColumn);if(K.lineNumber===H.modelLineWrappedLineIdx)return new E4(j.visibleColumn,W,j.className,new TY(j.horizontalLine.top,B.column),-1,-1);else if(K.lineNumber<H.modelLineWrappedLineIdx)return;else{if(j.visibleColumn!==-1)return;return new E4(j.visibleColumn,W,j.className,new TY(j.horizontalLine.top,this.getMaxColumnOfViewLine(H)),-1,-1)}});Z.push(V.filter((j)=>!!j))}}return Z}getViewLinesIndentGuides(J,$){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);const X=this.convertViewPositionToModelPosition(J,this.getViewLineMinColumn(J)),Q=this.convertViewPositionToModelPosition($,this.getViewLineMaxColumn($));let Y=[];const Z=[],G=[],q=X.lineNumber-1,U=Q.lineNumber-1;let H=null;for(let W=q;W<=U;W++){const B=this.modelLineProjections[W];if(B.isVisible()){const K=B.getViewLineNumberOfModelPosition(0,W===q?X.column:1),P=B.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(W+1)),A=P-K+1;let D=0;if(A>1&&B.getViewLineMinColumn(this.model,W+1,P)===1)D=K===0?1:2;if(Z.push(A),G.push(D),H===null)H=new v(W+1,0)}else if(H!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(H.lineNumber,W)),H=null}if(H!==null)Y=Y.concat(this.model.guides.getLinesIndentGuides(H.lineNumber,Q.lineNumber)),H=null;const z=$-J+1,V=new Array(z);let j=0;for(let W=0,B=Y.length;W<B;W++){let K=Y[W];const P=Math.min(z-j,Z[W]),A=G[W];let D;if(A===2)D=0;else if(A===1)D=1;else D=P;for(let R=0;R<P;R++){if(R===D)K=0;V[j++]=K}}return V}getViewLineContent(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineContent(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineLength(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineLength(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMinColumn(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMinColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineMaxColumn(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineMaxColumn(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLineData(J){const $=this.getViewLineInfo(J);return this.modelLineProjections[$.modelLineNumber-1].getViewLineData(this.model,$.modelLineNumber,$.modelLineWrappedLineIdx)}getViewLinesData(J,$,X){J=this._toValidViewLineNumber(J),$=this._toValidViewLineNumber($);const Q=this.projectedModelLineLineCounts.getIndexOf(J-1);let Y=J;const{index:Z,remainder:G}=Q,q=[];for(let U=Z,H=this.model.getLineCount();U<H;U++){const z=this.modelLineProjections[U];if(!z.isVisible())continue;const V=U===Z?G:0;let j=z.getViewLineCount()-V,W=!1;if(Y+j>$)W=!0,j=$-Y+1;if(z.getViewLinesData(this.model,U+1,V,j,Y-J,X,q),Y+=j,W)break}return q}validateViewPosition(J,$,X){J=this._toValidViewLineNumber(J);const Q=this.projectedModelLineLineCounts.getIndexOf(J-1),Y=Q.index,Z=Q.remainder,G=this.modelLineProjections[Y],q=G.getViewLineMinColumn(this.model,Y+1,Z),U=G.getViewLineMaxColumn(this.model,Y+1,Z);if($<q)$=q;if($>U)$=U;const H=G.getModelColumnOfViewPosition(Z,$);if(this.model.validatePosition(new v(Y+1,H)).equals(X))return new v(J,$);return this.convertModelPositionToViewPosition(X.lineNumber,X.column)}validateViewRange(J,$){const X=this.validateViewPosition(J.startLineNumber,J.startColumn,$.getStartPosition()),Q=this.validateViewPosition(J.endLineNumber,J.endColumn,$.getEndPosition());return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}convertViewPositionToModelPosition(J,$){const X=this.getViewLineInfo(J),Q=this.modelLineProjections[X.modelLineNumber-1].getModelColumnOfViewPosition(X.modelLineWrappedLineIdx,$);return this.model.validatePosition(new v(X.modelLineNumber,Q))}convertViewRangeToModelRange(J){const $=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),X=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);return new L($.lineNumber,$.column,X.lineNumber,X.column)}convertModelPositionToViewPosition(J,$,X=2,Q=!1,Y=!1){const Z=this.model.validatePosition(new v(J,$)),G=Z.lineNumber,q=Z.column;let U=G-1,H=!1;if(Y)while(U<this.modelLineProjections.length&&!this.modelLineProjections[U].isVisible())U++,H=!0;else while(U>0&&!this.modelLineProjections[U].isVisible())U--,H=!0;if(U===0&&!this.modelLineProjections[U].isVisible())return new v(Q?0:1,1);const z=1+this.projectedModelLineLineCounts.getPrefixSum(U);let V;if(H)if(Y)V=this.modelLineProjections[U].getViewPositionOfModelPosition(z,1,X);else V=this.modelLineProjections[U].getViewPositionOfModelPosition(z,this.model.getLineMaxColumn(U+1),X);else V=this.modelLineProjections[G-1].getViewPositionOfModelPosition(z,q,X);return V}convertModelRangeToViewRange(J,$=0){if(J.isEmpty()){const X=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,$);return L.fromPositions(X)}else{const X=this.convertModelPositionToViewPosition(J.startLineNumber,J.startColumn,1),Q=this.convertModelPositionToViewPosition(J.endLineNumber,J.endColumn,0);return new L(X.lineNumber,X.column,Q.lineNumber,Q.column)}}getViewLineNumberOfModelPosition(J,$){let X=J-1;if(this.modelLineProjections[X].isVisible()){const Y=1+this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections[X].getViewLineNumberOfModelPosition(Y,$)}while(X>0&&!this.modelLineProjections[X].isVisible())X--;if(X===0&&!this.modelLineProjections[X].isVisible())return 1;const Q=1+this.projectedModelLineLineCounts.getPrefixSum(X);return this.modelLineProjections[X].getViewLineNumberOfModelPosition(Q,this.model.getLineMaxColumn(X+1))}getDecorationsInRange(J,$,X,Q,Y){const Z=this.convertViewPositionToModelPosition(J.startLineNumber,J.startColumn),G=this.convertViewPositionToModelPosition(J.endLineNumber,J.endColumn);if(G.lineNumber-Z.lineNumber<=J.endLineNumber-J.startLineNumber)return this.model.getDecorationsInRange(new L(Z.lineNumber,1,G.lineNumber,G.column),$,X,Q,Y);let q=[];const U=Z.lineNumber-1,H=G.lineNumber-1;let z=null;for(let B=U;B<=H;B++)if(this.modelLineProjections[B].isVisible()){if(z===null)z=new v(B+1,B===U?Z.column:1)}else if(z!==null){const P=this.model.getLineMaxColumn(B);q=q.concat(this.model.getDecorationsInRange(new L(z.lineNumber,z.column,B,P),$,X,Q)),z=null}if(z!==null)q=q.concat(this.model.getDecorationsInRange(new L(z.lineNumber,z.column,G.lineNumber,G.column),$,X,Q)),z=null;q.sort((B,K)=>{const P=L.compareRangesUsingStarts(B.range,K.range);if(P===0){if(B.id<K.id)return-1;if(B.id>K.id)return 1;return 0}return P});const V=[];let j=0,W=null;for(let B of q){const K=B.id;if(W===K)continue;W=K,V[j++]=B}return V}getInjectedTextAt(J){const $=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[$.modelLineNumber-1].getInjectedTextAt($.modelLineWrappedLineIdx,J.column)}normalizePosition(J,$){const X=this.getViewLineInfo(J.lineNumber);return this.modelLineProjections[X.modelLineNumber-1].normalizePosition(X.modelLineWrappedLineIdx,J,$)}getLineIndentColumn(J){const $=this.getViewLineInfo(J);if($.modelLineWrappedLineIdx===0)return this.model.getLineIndentColumn($.modelLineNumber);return 0}}class IL{constructor(J,$){this.modelLineNumber=J,this.modelLineWrappedLineIdx=$}}class yL{constructor(J,$){this.modelRange=J,this.viewLines=$}}class Ll{constructor(J){this._lines=J}convertViewPositionToModelPosition(J){return this._lines.convertViewPositionToModelPosition(J.lineNumber,J.column)}convertViewRangeToModelRange(J){return this._lines.convertViewRangeToModelRange(J)}validateViewPosition(J,$){return this._lines.validateViewPosition(J.lineNumber,J.column,$)}validateViewRange(J,$){return this._lines.validateViewRange(J,$)}convertModelPositionToViewPosition(J,$,X,Q){return this._lines.convertModelPositionToViewPosition(J.lineNumber,J.column,$,X,Q)}convertModelRangeToViewRange(J,$){return this._lines.convertModelRangeToViewRange(J,$)}modelPositionIsVisible(J){return this._lines.modelPositionIsVisible(J.lineNumber,J.column)}getModelLineViewLineCount(J){return this._lines.getModelLineViewLineCount(J)}getViewLineNumberOfModelPosition(J,$){return this._lines.getViewLineNumberOfModelPosition(J,$)}}class CL{constructor(J){this.model=J}dispose(){}createCoordinatesConverter(){return new El(this)}getHiddenAreas(){return[]}setHiddenAreas(J){return!1}setTabSize(J){return!1}setWrappingSettings(J,$,X,Q){return!1}createLineBreaksComputer(){const J=[];return{addRequest:($,X,Q)=>{J.push(null)},finalize:()=>{return J}}}onModelFlushed(){}onModelLinesDeleted(J,$,X){return new FV($,X)}onModelLinesInserted(J,$,X,Q){return new KV($,X)}onModelLineChanged(J,$,X){return[!1,new aA($,1),null,null]}acceptVersionId(J){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(J,$,X){return{startLineNumber:J,endLineNumber:J,indent:0}}getViewLinesBracketGuides(J,$,X){return new Array($-J+1).fill([])}getViewLinesIndentGuides(J,$){const X=$-J+1,Q=new Array(X);for(let Y=0;Y<X;Y++)Q[Y]=0;return Q}getViewLineContent(J){return this.model.getLineContent(J)}getViewLineLength(J){return this.model.getLineLength(J)}getViewLineMinColumn(J){return this.model.getLineMinColumn(J)}getViewLineMaxColumn(J){return this.model.getLineMaxColumn(J)}getViewLineData(J){const $=this.model.tokenization.getLineTokens(J),X=$.getLineContent();return new Iq(X,!1,1,X.length+1,0,$.inflate(),null)}getViewLinesData(J,$,X){const Q=this.model.getLineCount();J=Math.min(Math.max(1,J),Q),$=Math.min(Math.max(1,$),Q);const Y=[];for(let Z=J;Z<=$;Z++){const G=Z-J;Y[G]=X[G]?this.getViewLineData(Z):null}return Y}getDecorationsInRange(J,$,X,Q,Y){return this.model.getDecorationsInRange(J,$,X,Q,Y)}normalizePosition(J,$){return this.model.normalizePosition(J,$)}getLineIndentColumn(J){return this.model.getLineIndentColumn(J)}getInjectedTextAt(J){return null}}class El{constructor(J){this._lines=J}_validPosition(J){return this._lines.model.validatePosition(J)}_validRange(J){return this._lines.model.validateRange(J)}convertViewPositionToModelPosition(J){return this._validPosition(J)}convertViewRangeToModelRange(J){return this._validRange(J)}validateViewPosition(J,$){return this._validPosition($)}validateViewRange(J,$){return this._validRange($)}convertModelPositionToViewPosition(J){return this._validPosition(J)}convertModelRangeToViewRange(J){return this._validRange(J)}modelPositionIsVisible(J){const $=this._lines.model.getLineCount();if(J.lineNumber<1||J.lineNumber>$)return!1;return!0}getModelLineViewLineCount(J){return 1}getViewLineNumberOfModelPosition(J,$){return J}}var d50;var kl=N(()=>{H1();U1();c0();AA();CY();SY();rA();wl();KT();EJ();d50=function(J){if(J.length===0)return[];const $=J.slice();$.sort(L.compareRangesUsingStarts);const X=[];let Q=$[0].startLineNumber,Y=$[0].endLineNumber;for(let Z=1,G=$.length;Z<G;Z++){const q=$[Z];if(q.startLineNumber>Y+1)X.push(new L(Q,1,Y,1)),Q=q.startLineNumber,Y=q.endLineNumber;else if(q.endLineNumber>Y)Y=q.endLineNumber}return X.push(new L(Q,1,Y,1)),X}});class xL{constructor(J){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((J+1)*rG/8))}reset(J){const $=Math.ceil((J+1)*rG/8);if(this.lanes.length<$)this.lanes=new Uint8Array($);else this.lanes.fill(0);this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(J,$,X){if(X)this.persist|=1<<J-1;for(let Q=$.startLineNumber;Q<=$.endLineNumber;Q++){const Y=rG*Q+(J-1);this.lanes[Y>>>3]|=1<<Y%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(Q))}}getLanesAtLine(J){const $=[];let X=rG*J;for(let Q=0;Q<rG;Q++){if(this.persist&1<<Q||this.lanes[X>>>3]&1<<X%8)$.push(Q+1);X++}return $.length?$:[m9.Center]}countAtLine(J){let $=rG*J,X=0;for(let Q=0;Q<rG;Q++){if(this.persist&1<<Q||this.lanes[$>>>3]&1<<$%8)X++;$++}return X}}var rG;var Il=N(()=>{g5();rG=m9.Right});class vL extends f{constructor(J,$,X,Q,Y,Z,G,q,U){super();if(this.languageConfigurationService=G,this._themeService=q,this._attachedView=U,this.hiddenAreasModel=new Cl,this.previousHiddenAreas=[],this._editorId=J,this._configuration=$,this.model=X,this._eventDispatcher=new BL,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new RY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new t1(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=fL.create(this.model),this.glyphLanes=new xL(0),s50&&this.model.isTooLargeForTokenization())this._lines=new CL(this.model);else{const H=this._configuration.options,z=H.get(50),V=H.get(137),j=H.get(144),W=H.get(136),B=H.get(128);this._lines=new SL(this._editorId,this.model,Q,Y,z,this.model.getOptions().tabSize,V,j.wrappingColumn,W,B)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new _L(X,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new LL(this._configuration,this.getLineCount(),Z)),this._register(this.viewLayout.onDidScroll((H)=>{if(H.scrollTopChanged)this._handleVisibleLinesChanged();if(H.scrollTopChanged)this._viewportStart.invalidate();this._eventDispatcher.emitSingleViewEvent(new HL(H)),this._eventDispatcher.emitOutgoingEvent(new oA(H.oldScrollWidth,H.oldScrollLeft,H.oldScrollHeight,H.oldScrollTop,H.scrollWidth,H.scrollLeft,H.scrollHeight,H.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange((H)=>{this._eventDispatcher.emitOutgoingEvent(H)})),this._decorations=new EL(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((H)=>{try{const z=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(z,H)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(gG.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new jL)})),this._register(this._themeService.onDidColorThemeChange((H)=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new zL(H))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(J){this._eventDispatcher.addViewEventHandler(J)}removeViewEventHandler(J){this._eventDispatcher.removeViewEventHandler(J)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const J=this.viewLayout.getLinesViewportData(),$=new L(J.startLineNumber,this.getLineMinColumn(J.startLineNumber),J.endLineNumber,this.getLineMaxColumn(J.endLineNumber));return this._toModelVisibleRanges($)}visibleLinesStabilized(){const J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!0)}_handleVisibleLinesChanged(){const J=this.getModelVisibleRanges();this._attachedView.setVisibleLines(J,!1)}setHasFocus(J){this._hasFocus=J,this._cursor.setHasFocus(J),this._eventDispatcher.emitSingleViewEvent(new qL(J)),this._eventDispatcher.emitOutgoingEvent(new nA(!J,J))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new QL)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new YL)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const J=new v(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),$=this.coordinatesConverter.convertViewPositionToModelPosition(J);return new bL($,this._viewportStart.startLineDelta)}return new bL(null,0)}_onConfigurationChanged(J,$){const X=this._captureStableViewport(),Q=this._configuration.options,Y=Q.get(50),Z=Q.get(137),G=Q.get(144),q=Q.get(136),U=Q.get(128);if(this._lines.setWrappingSettings(Y,Z,G.wrappingColumn,q,U))J.emitViewEvent(new _3),J.emitViewEvent(new w3),J.emitViewEvent(new BQ(null)),this._cursor.onLineMappingChanged(J),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule();if($.hasChanged(90))this._decorations.reset(),J.emitViewEvent(new BQ(null));if($.hasChanged(97))this._decorations.reset(),J.emitViewEvent(new BQ(null));if(J.emitViewEvent(new ZL($)),this.viewLayout.onConfigurationChanged($),X.recoverViewportStart(this.coordinatesConverter,this.viewLayout),RY.shouldRecreate($))this.cursorConfig=new RY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText((J)=>{try{const X=this._eventDispatcher.beginEmitViewEvents();let Q=!1,Y=!1;const Z=J instanceof jQ?J.rawContentChangedEvent.changes:J.changes,G=J instanceof jQ?J.rawContentChangedEvent.versionId:null,q=this._lines.createLineBreaksComputer();for(let z of Z)switch(z.changeType){case 4:{for(let V=0;V<z.detail.length;V++){const j=z.detail[V];let W=z.injectedTexts[V];if(W)W=W.filter((B)=>!B.ownerId||B.ownerId===this._editorId);q.addRequest(j,W,null)}break}case 2:{let V=null;if(z.injectedText)V=z.injectedText.filter((j)=>!j.ownerId||j.ownerId===this._editorId);q.addRequest(z.detail,V,null);break}}const U=q.finalize(),H=new n7(U);for(let z of Z)switch(z.changeType){case 1:{this._lines.onModelFlushed(),X.emitViewEvent(new _3),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),Q=!0;break}case 3:{const V=this._lines.onModelLinesDeleted(G,z.fromLineNumber,z.toLineNumber);if(V!==null)X.emitViewEvent(V),this.viewLayout.onLinesDeleted(V.fromLineNumber,V.toLineNumber);Q=!0;break}case 4:{const V=H.takeCount(z.detail.length),j=this._lines.onModelLinesInserted(G,z.fromLineNumber,z.toLineNumber,V);if(j!==null)X.emitViewEvent(j),this.viewLayout.onLinesInserted(j.fromLineNumber,j.toLineNumber);Q=!0;break}case 2:{const V=H.dequeue(),[j,W,B,K]=this._lines.onModelLineChanged(G,z.lineNumber,V);if(Y=j,W)X.emitViewEvent(W);if(B)X.emitViewEvent(B),this.viewLayout.onLinesInserted(B.fromLineNumber,B.toLineNumber);if(K)X.emitViewEvent(K),this.viewLayout.onLinesDeleted(K.fromLineNumber,K.toLineNumber);break}case 5:break}if(G!==null)this._lines.acceptVersionId(G);if(this.viewLayout.onHeightMaybeChanged(),!Q&&Y)X.emitViewEvent(new w3),X.emitViewEvent(new BQ(null)),this._cursor.onLineMappingChanged(X),this._decorations.onLineMappingChanged()}finally{this._eventDispatcher.endEmitViewEvents()}const $=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&$){const X=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(X){const Q=this.coordinatesConverter.convertModelPositionToViewPosition(X.getStartPosition()),Y=this.viewLayout.getVerticalOffsetForLineNumber(Q.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Y+this._viewportStart.startLineDelta},1)}}try{const X=this._eventDispatcher.beginEmitViewEvents();if(J instanceof jQ)X.emitOutgoingEvent(new ML(J.contentChangedEvent));this._cursor.onModelContentChanged(X,J)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens((J)=>{const $=[];for(let X=0,Q=J.ranges.length;X<Q;X++){const Y=J.ranges[X],Z=this.coordinatesConverter.convertModelPositionToViewPosition(new v(Y.fromLineNumber,1)).lineNumber,G=this.coordinatesConverter.convertModelPositionToViewPosition(new v(Y.toLineNumber,this.model.getLineMaxColumn(Y.toLineNumber))).lineNumber;$[X]={fromLineNumber:Z,toLineNumber:G}}this._eventDispatcher.emitSingleViewEvent(new VL($)),this._eventDispatcher.emitOutgoingEvent(new TL(J))})),this._register(this.model.onDidChangeLanguageConfiguration((J)=>{this._eventDispatcher.emitSingleViewEvent(new UL),this.cursorConfig=new RY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new RL(J))})),this._register(this.model.onDidChangeLanguage((J)=>{this.cursorConfig=new RY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new DL(J))})),this._register(this.model.onDidChangeOptions((J)=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const $=this._eventDispatcher.beginEmitViewEvents();$.emitViewEvent(new _3),$.emitViewEvent(new w3),$.emitViewEvent(new BQ(null)),this._cursor.onLineMappingChanged($),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new RY(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new OL(J))})),this._register(this.model.onDidChangeDecorations((J)=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new BQ(J)),this._eventDispatcher.emitOutgoingEvent(new PL(J))}))}setHiddenAreas(J,$){var X;this.hiddenAreasModel.setHiddenAreas($,J);const Q=this.hiddenAreasModel.getMergedRanges();if(Q===this.previousHiddenAreas)return;this.previousHiddenAreas=Q;const Y=this._captureStableViewport();let Z=!1;try{const G=this._eventDispatcher.beginEmitViewEvents();if(Z=this._lines.setHiddenAreas(Q),Z)G.emitViewEvent(new _3),G.emitViewEvent(new w3),G.emitViewEvent(new BQ(null)),this._cursor.onLineMappingChanged(G),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged();const q=(X=Y.viewportStartModelPosition)===null||X===void 0?void 0:X.lineNumber;if(!(q&&Q.some((H)=>H.startLineNumber<=q&&q<=H.endLineNumber)))Y.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}if(this._updateConfigurationViewLineCount.schedule(),Z)this._eventDispatcher.emitOutgoingEvent(new KL)}getVisibleRangesPlusViewportAboveBelow(){const J=this._configuration.options.get(143),$=this._configuration.options.get(66),X=Math.max(20,Math.round(J.height/$)),Q=this.viewLayout.getLinesViewportData(),Y=Math.max(1,Q.completelyVisibleStartLineNumber-X),Z=Math.min(this.getLineCount(),Q.completelyVisibleEndLineNumber+X);return this._toModelVisibleRanges(new L(Y,this.getLineMinColumn(Y),Z,this.getLineMaxColumn(Z)))}getVisibleRanges(){const J=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(J)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(J){const $=this.coordinatesConverter.convertViewRangeToModelRange(J),X=this._lines.getHiddenAreas();if(X.length===0)return[$];const Q=[];let Y=0,Z=$.startLineNumber,G=$.startColumn;const{endLineNumber:q,endColumn:U}=$;for(let H=0,z=X.length;H<z;H++){const V=X[H].startLineNumber,j=X[H].endLineNumber;if(j<Z)continue;if(V>q)continue;if(Z<V)Q[Y++]=new L(Z,G,V-1,this.model.getLineMaxColumn(V-1));Z=j+1,G=1}if(Z<q||Z===q&&G<U)Q[Y++]=new L(Z,G,q,U);return Q}getCompletelyVisibleViewRange(){const J=this.viewLayout.getLinesViewportData(),$=J.completelyVisibleStartLineNumber,X=J.completelyVisibleEndLineNumber;return new L($,this.getLineMinColumn($),X,this.getLineMaxColumn(X))}getCompletelyVisibleViewRangeAtScrollTop(J){const $=this.viewLayout.getLinesViewportDataAtScrollTop(J),X=$.completelyVisibleStartLineNumber,Q=$.completelyVisibleEndLineNumber;return new L(X,this.getLineMinColumn(X),Q,this.getLineMaxColumn(Q))}saveState(){const J=this.viewLayout.saveState(),$=J.scrollTop,X=this.viewLayout.getLineNumberAtVerticalOffset($),Q=this.coordinatesConverter.convertViewPositionToModelPosition(new v(X,this.getLineMinColumn(X))),Y=this.viewLayout.getVerticalOffsetForLineNumber(X)-$;return{scrollLeft:J.scrollLeft,firstPosition:Q,firstPositionDeltaTop:Y}}reduceRestoreState(J){if(typeof J.firstPosition==="undefined")return this._reduceRestoreStateCompatibility(J);const $=this.model.validatePosition(J.firstPosition),X=this.coordinatesConverter.convertModelPositionToViewPosition($),Q=this.viewLayout.getVerticalOffsetForLineNumber(X.lineNumber)-J.firstPositionDeltaTop;return{scrollLeft:J.scrollLeft,scrollTop:Q}}_reduceRestoreStateCompatibility(J){return{scrollLeft:J.scrollLeft,scrollTop:J.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(J,$,X){this._viewportStart.update(this,J)}getActiveIndentGuide(J,$,X){return this._lines.getActiveIndentGuide(J,$,X)}getLinesIndentGuides(J,$){return this._lines.getViewLinesIndentGuides(J,$)}getBracketGuidesInRangeByLine(J,$,X,Q){return this._lines.getViewLinesBracketGuides(J,$,X,Q)}getLineContent(J){return this._lines.getViewLineContent(J)}getLineLength(J){return this._lines.getViewLineLength(J)}getLineMinColumn(J){return this._lines.getViewLineMinColumn(J)}getLineMaxColumn(J){return this._lines.getViewLineMaxColumn(J)}getLineFirstNonWhitespaceColumn(J){const $=S8(this.getLineContent(J));if($===-1)return 0;return $+1}getLineLastNonWhitespaceColumn(J){const $=Z9(this.getLineContent(J));if($===-1)return 0;return $+2}getMinimapDecorationsInRange(J){return this._decorations.getMinimapDecorationsInRange(J)}getDecorationsInViewport(J){return this._decorations.getDecorationsViewportData(J).decorations}getInjectedTextAt(J){return this._lines.getInjectedTextAt(J)}getViewportViewLineRenderingData(J,$){const Q=this._decorations.getDecorationsViewportData(J).inlineDecorations[$-J.startLineNumber];return this._getViewLineRenderingData($,Q)}getViewLineRenderingData(J){const $=this._decorations.getInlineDecorationsOnLine(J);return this._getViewLineRenderingData(J,$)}_getViewLineRenderingData(J,$){const X=this.model.mightContainRTL(),Q=this.model.mightContainNonBasicASCII(),Y=this.getTabSize(),Z=this._lines.getViewLineData(J);if(Z.inlineDecorations)$=[...$,...Z.inlineDecorations.map((G)=>G.toInlineDecoration(J))];return new p7(Z.minColumn,Z.maxColumn,Z.content,Z.continuesWithWrappedLine,X,Q,Z.tokens,$,Y,Z.startVisibleColumn)}getViewLineData(J){return this._lines.getViewLineData(J)}getMinimapLinesRenderingData(J,$,X){const Q=this._lines.getViewLinesData(J,$,X);return new dT(this.getTabSize(),Q)}getAllOverviewRulerDecorations(J){const $=this.model.getOverviewRulerDecorations(this._editorId,EZ(this._configuration.options)),X=new Sl;for(let Q of $){const Y=Q.options,Z=Y.overviewRuler;if(!Z)continue;const G=Z.position;if(G===0)continue;const q=Z.getColor(J.value),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(Q.range.startLineNumber,Q.range.startColumn),H=this.coordinatesConverter.getViewLineNumberOfModelPosition(Q.range.endLineNumber,Q.range.endColumn);X.accept(q,Y.zIndex,U,H,G)}return X.asArray}_invalidateDecorationsColorCache(){const J=this.model.getOverviewRulerDecorations();for(let $ of J){const X=$.options.overviewRuler;X===null||X===void 0||X.invalidateCachedColor();const Q=$.options.minimap;Q===null||Q===void 0||Q.invalidateCachedColor()}}getValueInRange(J,$){const X=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueInRange(X,$)}getValueLengthInRange(J,$){const X=this.coordinatesConverter.convertViewRangeToModelRange(J);return this.model.getValueLengthInRange(X,$)}modifyPosition(J,$){const X=this.coordinatesConverter.convertViewPositionToModelPosition(J),Q=this.model.modifyPosition(X,$);return this.coordinatesConverter.convertModelPositionToViewPosition(Q)}deduceModelPositionRelativeToViewPosition(J,$,X){const Q=this.coordinatesConverter.convertViewPositionToModelPosition(J);if(this.model.getEOL().length===2)if($<0)$-=X;else $+=X;const Z=this.model.getOffsetAt(Q)+$;return this.model.getPositionAt(Z)}getPlainTextToCopy(J,$,X){const Q=X?"\r\n":this.model.getEOL();J=J.slice(0),J.sort(L.compareRangesUsingStarts);let Y=!1,Z=!1;for(let q of J)if(q.isEmpty())Y=!0;else Z=!0;if(!Z){if(!$)return"";const q=J.map((H)=>H.startLineNumber);let U="";for(let H=0;H<q.length;H++){if(H>0&&q[H-1]===q[H])continue;U+=this.model.getLineContent(q[H])+Q}return U}if(Y&&$){const q=[];let U=0;for(let H of J){const z=H.startLineNumber;if(H.isEmpty()){if(z!==U)q.push(this.model.getLineContent(z))}else q.push(this.model.getValueInRange(H,X?2:0));U=z}return q.length===1?q[0]:q}const G=[];for(let q of J)if(!q.isEmpty())G.push(this.model.getValueInRange(q,X?2:0));return G.length===1?G[0]:G}getRichTextToCopy(J,$){const X=this.model.getLanguageId();if(X===T6)return null;if(J.length!==1)return null;let Q=J[0];if(Q.isEmpty()){if(!$)return null;const H=Q.startLineNumber;Q=new L(H,this.model.getLineMinColumn(H),H,this.model.getLineMaxColumn(H))}const Y=this._configuration.options.get(50),Z=this._getColorMap(),q=/[:;\\\/<>]/.test(Y.fontFamily)||Y.fontFamily===e7.fontFamily;let U;if(q)U=e7.fontFamily;else{if(U=Y.fontFamily,U=U.replace(/"/g,"\'"),!/[,']/.test(U)){if(/[+ ]/.test(U))U=`'${U}'`}U=`${U}, ${e7.fontFamily}`}return{mode:X,html:'<div style="'+`color: ${Z[1]};`+`background-color: ${Z[2]};`+`font-family: ${U};`+`font-weight: ${Y.fontWeight};`+`font-size: ${Y.fontSize}px;`+`line-height: ${Y.lineHeight}px;`+'white-space: pre;">'+this._getHTMLToCopy(Q,Z)+"</div>"}}_getHTMLToCopy(J,$){const{startLineNumber:X,startColumn:Q,endLineNumber:Y,endColumn:Z}=J,G=this.getTabSize();let q="";for(let U=X;U<=Y;U++){const H=this.model.tokenization.getLineTokens(U),z=H.getLineContent(),V=U===X?Q-1:0,j=U===Y?Z-1:z.length;if(z==="")q+="<br>";else q+=Kl(z,H.inflate(),$,V,j,G,k8)}return q}_getColorMap(){const J=c1.getColorMap(),$=["#000000"];if(J)for(let X=1,Q=J.length;X<Q;X++)$[X]=l.Format.CSS.formatHex(J[X]);return $}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(J,$,X){return this._withViewEventsCollector((Q)=>this._cursor.setStates(Q,J,$,X))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(J){this._cursor.setCursorColumnSelectData(J)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(J){this._cursor.setPrevEditOperationType(J)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(J,$,X=0){this._withViewEventsCollector((Q)=>this._cursor.setSelections(Q,J,$,X))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(J){this._withViewEventsCollector(($)=>this._cursor.restoreState($,J))}_executeCursorEdit(J){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new AL);return}this._withViewEventsCollector(J)}executeEdits(J,$,X){this._executeCursorEdit((Q)=>this._cursor.executeEdits(Q,J,$,X))}startComposition(){this._executeCursorEdit((J)=>this._cursor.startComposition(J))}endComposition(J){this._executeCursorEdit(($)=>this._cursor.endComposition($,J))}type(J,$){this._executeCursorEdit((X)=>this._cursor.type(X,J,$))}compositionType(J,$,X,Q,Y){this._executeCursorEdit((Z)=>this._cursor.compositionType(Z,J,$,X,Q,Y))}paste(J,$,X,Q){this._executeCursorEdit((Y)=>this._cursor.paste(Y,J,$,X,Q))}cut(J){this._executeCursorEdit(($)=>this._cursor.cut($,J))}executeCommand(J,$){this._executeCursorEdit((X)=>this._cursor.executeCommand(X,J,$))}executeCommands(J,$){this._executeCursorEdit((X)=>this._cursor.executeCommands(X,J,$))}revealPrimaryCursor(J,$,X=!1){this._withViewEventsCollector((Q)=>this._cursor.revealPrimary(Q,J,X,0,$,0))}revealTopMostCursor(J){const $=this._cursor.getTopMostViewPosition(),X=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((Q)=>Q.emitViewEvent(new aG(J,!1,X,null,0,!0,0)))}revealBottomMostCursor(J){const $=this._cursor.getBottomMostViewPosition(),X=new L($.lineNumber,$.column,$.lineNumber,$.column);this._withViewEventsCollector((Q)=>Q.emitViewEvent(new aG(J,!1,X,null,0,!0,0)))}revealRange(J,$,X,Q,Y){this._withViewEventsCollector((Z)=>Z.emitViewEvent(new aG(J,!1,X,null,Q,$,Y)))}changeWhitespace(J){if(this.viewLayout.changeWhitespace(J))this._eventDispatcher.emitSingleViewEvent(new WL),this._eventDispatcher.emitOutgoingEvent(new FL)}_withViewEventsCollector(J){try{const $=this._eventDispatcher.beginEmitViewEvents();return J($)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(J,$){return this._lines.normalizePosition(J,$)}getLineIndentColumn(J){return this._lines.getLineIndentColumn(J)}}class fL{static create(J){const $=J._setTrackedRange(null,new L(1,1,1,1),1);return new fL(J,1,!1,$,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(J,$,X,Q,Y){this._model=J,this._viewLineNumber=$,this._isValid=X,this._modelTrackedRange=Q,this._startLineDelta=Y}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(J,$){const X=J.coordinatesConverter.convertViewPositionToModelPosition(new v($,J.getLineMinColumn($))),Q=J.model._setTrackedRange(this._modelTrackedRange,new L(X.lineNumber,X.column,X.lineNumber,X.column),1),Y=J.viewLayout.getVerticalOffsetForLineNumber($),Z=J.viewLayout.getCurrentScrollTop();this._viewLineNumber=$,this._isValid=!0,this._modelTrackedRange=Q,this._startLineDelta=Z-Y}invalidate(){this._isValid=!1}}class Sl{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(J,$,X,Q,Y){const Z=this._asMap[J];if(Z){const G=Z.data,q=G[G.length-3],U=G[G.length-1];if(q===Y&&U+1>=X){if(Q>U)G[G.length-1]=Q;return}G.push(Y,X,Q)}else{const G=new MG(J,$,[Y,X,Q]);this._asMap[J]=G,this.asArray.push(G)}}}class Cl{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(J,$){const X=this.hiddenAreas.get(J);if(X&&yl(X,$))return;this.hiddenAreas.set(J,$),this.shouldRecompute=!0}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const J=Array.from(this.hiddenAreas.values()).reduce(($,X)=>a50($,X),[]);if(yl(this.ranges,J))return this.ranges;return this.ranges=J,this.ranges}}class bL{constructor(J,$){this.viewportStartModelPosition=J,this.startLineDelta=$}recoverViewportStart(J,$){if(!this.viewportStartModelPosition)return;const X=J.convertModelPositionToViewPosition(this.viewportStartModelPosition),Q=$.getVerticalOffsetForLineNumber(X.lineNumber);$.setScrollPosition({scrollTop:Q+this.startLineDelta},1)}}var a50,yl,s50;var xl=N(()=>{H1();u1();u5();X0();O1();o0();J7();jl();bJ();U1();c0();SY();M7();wJ();wL();rA();Ml();y_();EJ();Tl();tA();kl();Il();a50=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length&&Y<$.length){const Z=J[Q],G=$[Y];if(Z.endLineNumber<G.startLineNumber-1)X.push(J[Q++]);else if(G.endLineNumber<Z.startLineNumber-1)X.push($[Y++]);else{const q=Math.min(Z.startLineNumber,G.startLineNumber),U=Math.max(Z.endLineNumber,G.endLineNumber);X.push(new L(q,1,U,1)),Q++,Y++}}while(Q<J.length)X.push(J[Q++]);while(Y<$.length)X.push($[Y++]);return X},yl=function(J,$){if(J.length!==$.length)return!1;for(let X=0;X<J.length;X++)if(!J[X].equalsRange($[X]))return!1;return!0},s50=!0});class y4{constructor(...J){this._entries=new Map;for(let[$,X]of J)this.set($,X)}set(J,$){const X=this._entries.get(J);return this._entries.set(J,$),X}get(J){return this._entries.get(J)}}var k3=N(()=>{});var OV,D8;var xY=N(()=>{o0();(function(J){J[J.Ignore=0]="Ignore",J[J.Info=1]="Info",J[J.Warning=2]="Warning",J[J.Error=3]="Error"})(OV||(OV={}));(function(J){function G(U){if(!U)return J.Ignore;if(RX("error",U))return J.Error;if(RX("warning",U)||RX("warn",U))return J.Warning;if(RX("info",U))return J.Info;return J.Ignore}J.fromValue=G;function q(U){switch(U){case J.Error:return"error";case J.Warning:return"warning";case J.Info:return"info";default:return"ignore"}}J.toString=q})(OV||(OV={}));D8=OV});class hL{}var bl,i6;var FQ=N(()=>{xY();m0();bl=D8,i6=M0("notificationService")});class bY{constructor(J,$,X,Q,Y){this.injectionOffsets=J,this.injectionOptions=$,this.breakOffsets=X,this.breakOffsetsVisibleColumn=Q,this.wrappedTextIndentLength=Y}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(J){if(J>0)return this.wrappedTextIndentLength;return 0}getLineLength(J){const $=J>0?this.breakOffsets[J-1]:0;let Q=this.breakOffsets[J]-$;if(J>0)Q+=this.wrappedTextIndentLength;return Q}getMaxOutputOffset(J){return this.getLineLength(J)}translateToInputOffset(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);let Q=J===0?$:this.breakOffsets[J-1]+$;if(this.injectionOffsets!==null)for(let Y=0;Y<this.injectionOffsets.length;Y++)if(Q>this.injectionOffsets[Y])if(Q<this.injectionOffsets[Y]+this.injectionOptions[Y].content.length)Q=this.injectionOffsets[Y];else Q-=this.injectionOptions[Y].content.length;else break;return Q}translateToOutputPosition(J,$=2){let X=J;if(this.injectionOffsets!==null)for(let Q=0;Q<this.injectionOffsets.length;Q++){if(J<this.injectionOffsets[Q])break;if($!==1&&J===this.injectionOffsets[Q])break;X+=this.injectionOptions[Q].content.length}return this.offsetInInputWithInjectionsToOutputPosition(X,$)}offsetInInputWithInjectionsToOutputPosition(J,$=2){let X=0,Q=this.breakOffsets.length-1,Y=0,Z=0;while(X<=Q){Y=X+(Q-X)/2|0;const q=this.breakOffsets[Y];if(Z=Y>0?this.breakOffsets[Y-1]:0,$===0)if(J<=Z)Q=Y-1;else if(J>q)X=Y+1;else break;else if(J<Z)Q=Y-1;else if(J>=q)X=Y+1;else break}let G=J-Z;if(Y>0)G+=this.wrappedTextIndentLength;return new TV(Y,G)}normalizeOutputPosition(J,$,X){if(this.injectionOffsets!==null){const Q=this.outputPositionToOffsetInInputWithInjections(J,$),Y=this.normalizeOffsetInInputWithInjectionsAroundInjections(Q,X);if(Y!==Q)return this.offsetInInputWithInjectionsToOutputPosition(Y,X)}if(X===0){if(J>0&&$===this.getMinOutputOffset(J))return new TV(J-1,this.getMaxOutputOffset(J-1))}else if(X===1){const Q=this.getOutputLineCount()-1;if(J<Q&&$===this.getMaxOutputOffset(J))return new TV(J+1,this.getMinOutputOffset(J+1))}return new TV(J,$)}outputPositionToOffsetInInputWithInjections(J,$){if(J>0)$=Math.max(0,$-this.wrappedTextIndentLength);return(J>0?this.breakOffsets[J-1]:0)+$}normalizeOffsetInInputWithInjectionsAroundInjections(J,$){const X=this.getInjectedTextAtOffset(J);if(!X)return J;if($===2)if(J===X.offsetInInputWithInjections+X.length&&vl(this.injectionOptions[X.injectedTextIndex].cursorStops))return X.offsetInInputWithInjections+X.length;else{let Q=X.offsetInInputWithInjections;if(fl(this.injectionOptions[X.injectedTextIndex].cursorStops))return Q;let Y=X.injectedTextIndex-1;while(Y>=0&&this.injectionOffsets[Y]===this.injectionOffsets[X.injectedTextIndex]){if(vl(this.injectionOptions[Y].cursorStops))break;if(Q-=this.injectionOptions[Y].content.length,fl(this.injectionOptions[Y].cursorStops))break;Y--}return Q}else if($===1||$===4){let Q=X.offsetInInputWithInjections+X.length,Y=X.injectedTextIndex;while(Y+1<this.injectionOffsets.length&&this.injectionOffsets[Y+1]===this.injectionOffsets[Y])Q+=this.injectionOptions[Y+1].content.length,Y++;return Q}else if($===0||$===3){let{offsetInInputWithInjections:Q,injectedTextIndex:Y}=X;while(Y-1>=0&&this.injectionOffsets[Y-1]===this.injectionOffsets[Y])Q-=this.injectionOptions[Y-1].content.length,Y--;return Q}Gq($)}getInjectedText(J,$){const X=this.outputPositionToOffsetInInputWithInjections(J,$),Q=this.getInjectedTextAtOffset(X);if(!Q)return null;return{options:this.injectionOptions[Q.injectedTextIndex]}}getInjectedTextAtOffset(J){const $=this.injectionOffsets,X=this.injectionOptions;if($!==null){let Q=0;for(let Y=0;Y<$.length;Y++){const Z=X[Y].content.length,G=$[Y]+Q,q=$[Y]+Q+Z;if(G>J)break;if(J<=q)return{injectedTextIndex:Y,offsetInInputWithInjections:G,length:Z};Q+=Z}}return}}class TV{constructor(J,$){this.outputLineIndex=J,this.outputOffset=$}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(J){return new v(J+this.outputLineIndex,this.outputOffset+1)}}var vl,fl;var gL=N(()=>{U$();U1();g5();vl=function(J){if(J===null||J===void 0)return!0;return J===WG.Right||J===WG.Both},fl=function(J){if(J===null||J===void 0)return!0;return J===WG.Left||J===WG.Both}});class JP{static create(J){return new JP(J.get(132),J.get(131))}constructor(J,$){this.classifier=new gl(J,$)}createLineBreaksComputer(J,$,X,Q,Y){const Z=[],G=[],q=[];return{addRequest:(U,H,z)=>{Z.push(U),G.push(H),q.push(z)},finalize:()=>{const U=J.typicalFullwidthCharacterWidth/J.typicalHalfwidthCharacterWidth,H=[];for(let z=0,V=Z.length;z<V;z++){const j=G[z],W=q[z];if(W&&!W.injectionOptions&&!j)H[z]=r50(this.classifier,W,Z[z],$,X,U,Q,Y);else H[z]=i50(this.classifier,Z[z],j,$,X,U,Q,Y)}return pL.length=0,mL.length=0,H}}}}class gl extends vX{constructor(J,$){super(0);for(let X=0;X<J.length;X++)this.set(J.charCodeAt(X),1);for(let X=0;X<$.length;X++)this.set($.charCodeAt(X),2)}get(J){if(J>=0&&J<256)return this._asciiMap[J];else{if(J>=12352&&J<=12543||J>=13312&&J<=19903||J>=19968&&J<=40959)return 3;return this._map.get(J)||this._defaultValue}}}var r50,i50,NV,hl,uL,pl,pL,mL;var ml=N(()=>{o0();Pq();SY();gL();r50=function(J,$,X,Q,Y,Z,G,q){if(Y===-1)return null;const U=X.length;if(U<=1)return null;const H=q==="keepAll",z=$.breakOffsets,V=$.breakOffsetsVisibleColumn,j=pl(X,Q,Y,Z,G),W=Y-j,B=pL,K=mL;let P=0,A=0,D=0,R=Y;const M=z.length;let O=0;if(O>=0){let _=Math.abs(V[O]-R);while(O+1<M){const w=Math.abs(V[O+1]-R);if(w>=_)break;_=w,O++}}while(O<M){let _=O<0?0:z[O],w=O<0?0:V[O];if(A>_)_=A,w=D;let C=0,x=0,g=0,c=0;if(w<=R){let u=w,i=_===0?0:X.charCodeAt(_-1),Y0=_===0?0:J.get(i),P0=!0;for(let R0=_;R0<U;R0++){const _0=R0,A0=X.charCodeAt(R0);let f0,l0;if(U8(A0))R0++,f0=0,l0=2;else f0=J.get(A0),l0=NV(A0,u,Q,Z);if(_0>A&&uL(i,Y0,A0,f0,H))C=_0,x=u;if(u+=l0,u>R){if(_0>A)g=_0,c=u-l0;else g=R0+1,c=u;if(u-x>W)C=0;P0=!1;break}i=A0,Y0=f0}if(P0){if(P>0)B[P]=z[z.length-1],K[P]=V[z.length-1],P++;break}}if(C===0){let u=w,i=X.charCodeAt(_),Y0=J.get(i),P0=!1;for(let R0=_-1;R0>=A;R0--){const _0=R0+1,A0=X.charCodeAt(R0);if(A0===9){P0=!0;break}let f0,l0;if(Z$(A0))R0--,f0=0,l0=2;else f0=J.get(A0),l0=L9(A0)?Z:1;if(u<=R){if(g===0)g=_0,c=u;if(u<=R-W)break;if(uL(A0,f0,i,Y0,H)){C=_0,x=u;break}}u-=l0,i=A0,Y0=f0}if(C!==0){const R0=W-(c-x);if(R0<=Q){const _0=X.charCodeAt(g);let A0;if(U8(_0))A0=2;else A0=NV(_0,c,Q,Z);if(R0-A0<0)C=0}}if(P0){O--;continue}}if(C===0)C=g,x=c;if(C<=A){const u=X.charCodeAt(A);if(U8(u))C=A+2,x=D+2;else C=A+1,x=D+NV(u,D,Q,Z)}A=C,B[P]=C,D=x,K[P]=x,P++,R=x+W;while(O<0||O<M&&V[O]<x)O++;let b=Math.abs(V[O]-R);while(O+1<M){const u=Math.abs(V[O+1]-R);if(u>=b)break;b=u,O++}}if(P===0)return null;return B.length=P,K.length=P,pL=$.breakOffsets,mL=$.breakOffsetsVisibleColumn,$.breakOffsets=B,$.breakOffsetsVisibleColumn=K,$.wrappedTextIndentLength=j,$},i50=function(J,$,X,Q,Y,Z,G,q){const U=O5.applyInjectedText($,X);let H,z;if(X&&X.length>0)H=X.map((x)=>x.options),z=X.map((x)=>x.column-1);else H=null,z=null;if(Y===-1){if(!H)return null;return new bY(z,H,[U.length],[],0)}const V=U.length;if(V<=1){if(!H)return null;return new bY(z,H,[U.length],[],0)}const j=q==="keepAll",W=pl(U,Q,Y,Z,G),B=Y-W,K=[],P=[];let A=0,D=0,R=0,M=Y,O=U.charCodeAt(0),_=J.get(O),w=NV(O,0,Q,Z),C=1;if(U8(O))w+=1,O=U.charCodeAt(1),_=J.get(O),C++;for(let x=C;x<V;x++){const g=x,c=U.charCodeAt(x);let b,u;if(U8(c))x++,b=0,u=2;else b=J.get(c),u=NV(c,w,Q,Z);if(uL(O,_,c,b,j))D=g,R=w;if(w+=u,w>M){if(D===0||w-R>B)D=g,R=w-u;K[A]=D,P[A]=R,A++,M=R+B,D=0}O=c,_=b}if(A===0&&(!X||X.length===0))return null;return K[A]=V,P[A]=w,new bY(z,H,K,P,W)},NV=function(J,$,X,Q){if(J===9)return X-$%X;if(L9(J))return Q;if(J<32)return Q;return 1},hl=function(J,$){return $-J%$},uL=function(J,$,X,Q,Y){return X!==32&&($===2&&Q!==2||$!==1&&Q===1||!Y&&$===3&&Q!==2||!Y&&Q===3&&$!==1)},pl=function(J,$,X,Q,Y){let Z=0;if(Y!==0){const G=S8(J);if(G!==-1){for(let U=0;U<G;U++){const H=J.charCodeAt(U)===9?hl(Z,$):1;Z+=H}const q=Y===3?2:Y===2?1:0;for(let U=0;U<q;U++){const H=hl(Z,$);Z+=H}if(Z+Q>X)Z=0}}return Z};pL=[],mL=[]});class $P{static create(J){return new $P(new WeakRef(J))}constructor(J){this.targetWindow=J}createLineBreaksComputer(J,$,X,Q,Y){const Z=[],G=[];return{addRequest:(q,U,H)=>{Z.push(q),G.push(U)},finalize:()=>{return n50(fW(this.targetWindow.deref()),Z,J,$,X,Q,Y,G)}}}}var n50,o50,t50,dL,lL,cL;var ul=N(()=>{JY();o0();G8();BJ();YG();gL();SY();n50=function(J,$,X,Q,Y,Z,G,q){var U;function H(g){const c=q[g];if(c){const b=O5.applyInjectedText($[g],c),u=c.map((Y0)=>Y0.options),i=c.map((Y0)=>Y0.column-1);return new bY(i,u,[b.length],[],0)}else return null}if(Y===-1){const g=[];for(let c=0,b=$.length;c<b;c++)g[c]=H(c);return g}const z=Math.round(Y*X.typicalHalfwidthCharacterWidth),j=Math.round(Q*(Z===3?2:Z===2?1:0)),W=Math.ceil(X.spaceWidth*j),B=document.createElement("div");T8(B,X);const K=new xX(1e4),P=[],A=[],D=[],R=[],M=[];for(let g=0;g<$.length;g++){const c=O5.applyInjectedText($[g],q[g]);let b=0,u=0,i=z;if(Z!==0)if(b=S8(c),b===-1)b=0;else{for(let _0=0;_0<b;_0++){const A0=c.charCodeAt(_0)===9?Q-u%Q:1;u+=A0}const R0=Math.ceil(X.spaceWidth*u);if(R0+X.typicalFullwidthCharacterWidth>z)b=0,u=0;else i=z-R0}const Y0=c.substr(b),P0=o50(Y0,u,Q,i,K,W);P[g]=b,A[g]=u,D[g]=Y0,R[g]=P0[0],M[g]=P0[1]}const O=K.build(),_=(U=cL===null||cL===void 0?void 0:cL.createHTML(O))!==null&&U!==void 0?U:O;if(B.innerHTML=_,B.style.position="absolute",B.style.top="10000",G==="keepAll")B.style.wordBreak="keep-all",B.style.overflowWrap="anywhere";else B.style.wordBreak="inherit",B.style.overflowWrap="break-word";J.document.body.appendChild(B);const w=document.createRange(),C=Array.prototype.slice.call(B.children,0),x=[];for(let g=0;g<$.length;g++){const c=C[g],b=t50(w,c,D[g],R[g]);if(b===null){x[g]=H(g);continue}const u=P[g],i=A[g]+j,Y0=M[g],P0=[];for(let f0=0,l0=b.length;f0<l0;f0++)P0[f0]=Y0[b[f0]];if(u!==0)for(let f0=0,l0=b.length;f0<l0;f0++)b[f0]+=u;let R0,_0;const A0=q[g];if(A0)R0=A0.map((f0)=>f0.options),_0=A0.map((f0)=>f0.column-1);else R0=null,_0=null;x[g]=new bY(_0,R0,b,P0,i)}return J.document.body.removeChild(B),x},o50=function(J,$,X,Q,Y,Z){if(Z!==0){const j=String(Z);Y.appendString('<div style="text-indent: -'),Y.appendString(j),Y.appendString("px; padding-left: "),Y.appendString(j),Y.appendString("px; box-sizing: border-box; width:")}else Y.appendString('<div style="width:');Y.appendString(String(Q)),Y.appendString('px;">');const G=J.length;let q=$,U=0;const H=[],z=[];let V=0<G?J.charCodeAt(0):0;Y.appendString("<span>");for(let j=0;j<G;j++){if(j!==0&&j%16384===0)Y.appendString("</span><span>");H[j]=U,z[j]=q;const W=V;V=j+1<G?J.charCodeAt(j+1):0;let B=1,K=1;switch(W){case 9:B=X-q%X,K=B;for(let P=1;P<=B;P++)if(P<B)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 32:if(V===32)Y.appendCharCode(160);else Y.appendASCIICharCode(32);break;case 60:Y.appendString("&lt;");break;case 62:Y.appendString("&gt;");break;case 38:Y.appendString("&amp;");break;case 0:Y.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:Y.appendCharCode(65533);break;default:if(L9(W))K++;if(W<32)Y.appendCharCode(9216+W);else Y.appendCharCode(W)}U+=B,q+=K}return Y.appendString("</span>"),H[J.length]=U,z[J.length]=q,Y.appendString("</div>"),[H,z]},t50=function(J,$,X,Q){if(X.length<=1)return null;const Y=Array.prototype.slice.call($.children,0),Z=[];try{dL(J,Y,Q,0,null,X.length-1,null,Z)}catch(G){return console.log(G),null}if(Z.length===0)return null;return Z.push(X.length),Z},dL=function(J,$,X,Q,Y,Z,G,q){if(Q===Z)return;if(Y=Y||lL(J,$,X[Q],X[Q+1]),G=G||lL(J,$,X[Z],X[Z+1]),Math.abs(Y[0].top-G[0].top)<=0.1)return;if(Q+1===Z){q.push(Z);return}const U=Q+(Z-Q)/2|0,H=lL(J,$,X[U],X[U+1]);dL(J,$,X,Q,Y,U,H,q),dL(J,$,X,U,H,Z,G,q)},lL=function(J,$,X,Q){return J.setStart($[X/16384|0].firstChild,X%16384),J.setEnd($[Q/16384|0].firstChild,Q%16384),J.getClientRects()},cL=V9("domLineBreaksComputer",{createHTML:(J)=>J})});class sL extends f{constructor(){super();this._editor=null,this._instantiationService=null,this._instances=this._register(new SZ),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(J,$,X){this._editor=J,this._instantiationService=X;for(let Q of $){if(this._pending.has(Q.id)){n0(new Error(`Cannot have two contributions with the same id ${Q.id}`));continue}this._pending.set(Q.id,Q)}this._instantiateSome(0),this._register(fH(B0(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register(fH(B0(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register(fH(B0(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5000))}saveViewState(){const J={};for(let[$,X]of this._instances)if(typeof X.saveViewState==="function")J[$]=X.saveViewState();return J}restoreViewState(J){for(let[$,X]of this._instances)if(typeof X.restoreViewState==="function")X.restoreViewState(J[$])}get(J){return this._instantiateById(J),this._instances.get(J)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var J;this._register(fH(B0((J=this._editor)===null||J===void 0?void 0:J.getDomNode()),()=>{this._instantiateSome(1)},50))}_instantiateSome(J){if(this._finishedInstantiation[J])return;this._finishedInstantiation[J]=!0;const $=this._findPendingContributionsByInstantiation(J);for(let X of $)this._instantiateById(X.id)}_findPendingContributionsByInstantiation(J){const $=[];for(let[,X]of this._pending)if(X.instantiation===J)$.push(X);return $}_instantiateById(J){const $=this._pending.get(J);if(!$)return;if(this._pending.delete(J),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const X=this._instantiationService.createInstance($.ctor,this._editor);if(this._instances.set($.id,X),typeof X.restoreViewState==="function"&&$.instantiation!==0)console.warn(`Editor contribution '${$.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(X){n0(X)}}}var cl=N(()=>{D0();D1();X0()});class ll{constructor(J,$,X,Q,Y,Z){this.model=J,this.viewModel=$,this.view=X,this.hasRealView=Q,this.listenersToRemove=Y,this.attachedView=Z}dispose(){if(k1(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView)this.view.dispose();this.viewModel.dispose()}}class rL extends f{constructor(J){super();this._emitterOptions=J,this._onDidChangeToTrue=this._register(new y(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(J){const $=J?2:1;if(this._value===$)return;if(this._value=$,this._value===2)this._onDidChangeToTrue.fire();else if(this._value===1)this._onDidChangeToFalse.fire()}}class E7 extends y{constructor(J,$){super({deliveryQueue:$});this._contributions=J}fire(J){this._contributions.onBeforeInteractionEvent(),super.fire(J)}}class dl extends f{constructor(J,$){super();this._editor=J,$.createKey("editorId",J.getId()),this._editorSimpleInput=n.editorSimpleInput.bindTo($),this._editorFocus=n.focus.bindTo($),this._textInputFocus=n.textInputFocus.bindTo($),this._editorTextFocus=n.editorTextFocus.bindTo($),this._tabMovesFocus=n.tabMovesFocus.bindTo($),this._editorReadonly=n.readOnly.bindTo($),this._inDiffEditor=n.inDiffEditor.bindTo($),this._editorColumnSelection=n.columnSelection.bindTo($),this._hasMultipleSelections=n.hasMultipleSelections.bindTo($),this._hasNonEmptySelection=n.hasNonEmptySelection.bindTo($),this._canUndo=n.canUndo.bindTo($),this._canRedo=n.canRedo.bindTo($),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(bq.onDidChangeTabFocus((X)=>this._tabMovesFocus.set(X))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const J=this._editor.getOptions();this._tabMovesFocus.set(bq.getTabFocusMode()),this._editorReadonly.set(J.get(90)),this._inDiffEditor.set(J.get(61)),this._editorColumnSelection.set(J.get(22))}_updateFromSelection(){const J=this._editor.getSelections();if(!J)this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset();else this._hasMultipleSelections.set(J.length>1),this._hasNonEmptySelection.set(J.some(($)=>!$.isEmpty()))}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const J=this._editor.getModel();this._canUndo.set(Boolean(J&&J.canUndo())),this._canRedo.set(Boolean(J&&J.canRedo()))}}class sl extends f{constructor(J,$,X){super();this._editor=J,this._contextKeyService=$,this._languageFeaturesService=X,this._langId=n.languageId.bindTo($),this._hasCompletionItemProvider=n.hasCompletionItemProvider.bindTo($),this._hasCodeActionsProvider=n.hasCodeActionsProvider.bindTo($),this._hasCodeLensProvider=n.hasCodeLensProvider.bindTo($),this._hasDefinitionProvider=n.hasDefinitionProvider.bindTo($),this._hasDeclarationProvider=n.hasDeclarationProvider.bindTo($),this._hasImplementationProvider=n.hasImplementationProvider.bindTo($),this._hasTypeDefinitionProvider=n.hasTypeDefinitionProvider.bindTo($),this._hasHoverProvider=n.hasHoverProvider.bindTo($),this._hasDocumentHighlightProvider=n.hasDocumentHighlightProvider.bindTo($),this._hasDocumentSymbolProvider=n.hasDocumentSymbolProvider.bindTo($),this._hasReferenceProvider=n.hasReferenceProvider.bindTo($),this._hasRenameProvider=n.hasRenameProvider.bindTo($),this._hasSignatureHelpProvider=n.hasSignatureHelpProvider.bindTo($),this._hasInlayHintsProvider=n.hasInlayHintsProvider.bindTo($),this._hasDocumentFormattingProvider=n.hasDocumentFormattingProvider.bindTo($),this._hasDocumentSelectionFormattingProvider=n.hasDocumentSelectionFormattingProvider.bindTo($),this._hasMultipleDocumentFormattingProvider=n.hasMultipleDocumentFormattingProvider.bindTo($),this._hasMultipleDocumentSelectionFormattingProvider=n.hasMultipleDocumentSelectionFormattingProvider.bindTo($),this._isInWalkThrough=n.isInWalkThroughSnippet.bindTo($);const Q=()=>this._update();this._register(J.onDidChangeModel(Q)),this._register(J.onDidChangeModelLanguage(Q)),this._register(X.completionProvider.onDidChange(Q)),this._register(X.codeActionProvider.onDidChange(Q)),this._register(X.codeLensProvider.onDidChange(Q)),this._register(X.definitionProvider.onDidChange(Q)),this._register(X.declarationProvider.onDidChange(Q)),this._register(X.implementationProvider.onDidChange(Q)),this._register(X.typeDefinitionProvider.onDidChange(Q)),this._register(X.hoverProvider.onDidChange(Q)),this._register(X.documentHighlightProvider.onDidChange(Q)),this._register(X.documentSymbolProvider.onDidChange(Q)),this._register(X.referenceProvider.onDidChange(Q)),this._register(X.renameProvider.onDidChange(Q)),this._register(X.documentFormattingEditProvider.onDidChange(Q)),this._register(X.documentRangeFormattingEditProvider.onDidChange(Q)),this._register(X.signatureHelpProvider.onDidChange(Q)),this._register(X.inlayHintsProvider.onDidChange(Q)),Q()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const J=this._editor.getModel();if(!J){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(J.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(J)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(J)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(J)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(J)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(J)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(J)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(J)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(J)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(J)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(J)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(J)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(J)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(J)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(J)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(J)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(J)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(J).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(J).length>1),this._isInWalkThrough.set(J.uri.scheme===J1.walkThroughSnippet)})}}class al extends f{constructor(J,$){super();if(this._onChange=this._register(new y),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(CX(J)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),$)this._overflowWidgetsDomNode=this._register(CX($)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()}))}_update(){const J=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;if(this._hadFocus!==J)this._hadFocus=J,this._onChange.fire(void 0)}hasFocus(){var J;return(J=this._hadFocus)!==null&&J!==void 0?J:!1}}class rl{get length(){return this._decorationIds.length}constructor(J,$){if(this._editor=J,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray($)&&$.length>0)this.set($)}onDidChange(J,$,X){return this._editor.onDidChangeModelDecorations((Q)=>{if(this._isChangingDecorations)return;J.call($,Q)},X)}getRange(J){if(!this._editor.hasModel())return null;if(J>=this._decorationIds.length)return null;return this._editor.getModel().getDecorationRange(this._decorationIds[J])}getRanges(){if(!this._editor.hasModel())return[];const J=this._editor.getModel(),$=[];for(let X of this._decorationIds){const Q=J.getDecorationRange(X);if(Q)$.push(Q)}return $}has(J){return this._decorationIds.includes(J.id)}clear(){if(this._decorationIds.length===0)return;this.set([])}set(J){try{this._isChangingDecorations=!0,this._editor.changeDecorations(($)=>{this._decorationIds=$.deltaDecorations(this._decorationIds,J)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(J){let $=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations((X)=>{$=X.deltaDecorations([],J),this._decorationIds=this._decorationIds.concat($)})}finally{this._isChangingDecorations=!1}return $}}var aL,Z90,e50,KQ,iG,J90,AQ,$90,X90,Q90,Y90;var XP=N(()=>{Yh();Zh();h0();D0();D1();F0();X0();z9();Wh();x9();G9();bu();j_();J7();SJ();U1();c0();S6();Jw();jz();YQ();CY();L4();L7();xl();X5();m1();m0();k3();FQ();r8();K4();ml();ul();eN();g7();BJ();d9();cl();YN();aL=function(J){return $90+encodeURIComponent(J.toString())+X90},Z90=function(J){return Q90+encodeURIComponent(J.toString())+Y90},e50=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},KQ=function(J,$){return function(X,Q){$(X,Q,J)}},J90=0;AQ=iG=class J extends f{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor($,X,Q,Y,Z,G,q,U,H,z,V,j){var W;super();this.languageConfigurationService=V,this._deliveryQueue=Fx(),this._contributions=this._register(new sL),this._onDidDispose=this._register(new y),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new rL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new rL({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new E7(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new E7(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new E7(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new E7(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new E7(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new E7(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();const B={...X};this._domElement=$,this._overflowWidgetsDomNode=B.overflowWidgetsDomNode,delete B.overflowWidgetsDomNode,this._id=++J90,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=Q.telemetryData,this._configuration=this._register(this._createConfiguration(Q.isSimpleWidget||!1,B,z)),this._register(this._configuration.onDidChange((A)=>{this._onDidChangeConfiguration.fire(A);const D=this._configuration.options;if(A.hasChanged(143)){const R=D.get(143);this._onDidLayoutChange.fire(R)}})),this._contextKeyService=this._register(q.createScoped(this._domElement)),this._notificationService=H,this._codeEditorService=Z,this._commandService=G,this._themeService=U,this._register(new dl(this,this._contextKeyService)),this._register(new sl(this,this._contextKeyService,j)),this._instantiationService=Y.createChild(new y4([v0,this._contextKeyService])),this._modelData=null,this._focusTracker=new al($,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let K;if(Array.isArray(Q.contributions))K=Q.contributions;else K=eQ.getEditorContributions();this._contributions.initialize(this,K,this._instantiationService);for(let A of eQ.getEditorActions()){if(this._actions.has(A.id)){n0(new Error(`Cannot have two actions with the same id ${A.id}`));continue}const D=new az(A.id,A.label,A.alias,A.metadata,(W=A.precondition)!==null&&W!==void 0?W:void 0,(R)=>{return this._instantiationService.invokeFunction((M)=>{return Promise.resolve(A.runEditorCommand(M,this,R))})},this._contextKeyService);this._actions.set(D.id,D)}const P=()=>{return!this._configuration.options.get(90)&&this._configuration.options.get(36).enabled};this._register(new EO(this._domElement,{onDragOver:(A)=>{if(!P())return;const D=this.getTargetAtClientPoint(A.clientX,A.clientY);if(D===null||D===void 0?void 0:D.position)this.showDropIndicatorAt(D.position)},onDrop:async(A)=>{if(!P())return;if(this.removeDropIndicator(),!A.dataTransfer)return;const D=this.getTargetAtClientPoint(A.clientX,A.clientY);if(D===null||D===void 0?void 0:D.position)this._onDropIntoEditor.fire({position:D.position,event:A})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent($){var X;(X=this._modelData)===null||X===void 0||X.view.writeScreenReaderContent($)}_createConfiguration($,X,Q){return new wK($,X,this._domElement,Q)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return UY.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext($){return this._instantiationService.invokeFunction($)}updateOptions($){this._configuration.updateOptions($||{})}getOptions(){return this._configuration.options}getOption($){return this._configuration.options.get($)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition($){if(!this._modelData)return null;return x8.getWordAtPosition(this._modelData.model,this._configuration.options.get(129),$)}getValue($=null){if(!this._modelData)return"";const X=$&&$.preserveBOM?!0:!1;let Q=0;if($&&$.lineEnding&&$.lineEnding==="\n")Q=1;else if($&&$.lineEnding&&$.lineEnding==="\r\n")Q=2;return this._modelData.model.getValue(Q,X)}setValue($){if(!this._modelData)return;this._modelData.model.setValue($)}getModel(){if(!this._modelData)return null;return this._modelData.model}setModel($=null){var X;const Q=$;if(this._modelData===null&&Q===null)return;if(this._modelData&&this._modelData.model===Q)return;const Y={oldModelUrl:((X=this._modelData)===null||X===void 0?void 0:X.model.uri)||null,newModelUrl:(Q===null||Q===void 0?void 0:Q.uri)||null};this._onWillChangeModel.fire(Y);const Z=this.hasTextFocus(),G=this._detachModel();if(this._attachModel(Q),Z&&this.hasModel())this.focus();this._removeDecorationTypes(),this._onDidChangeModel.fire(Y),this._postDetachModelCleanup(G),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let $ in this._decorationTypeSubtypes){const X=this._decorationTypeSubtypes[$];for(let Q in X)this._removeDecorationType($+"-"+Q)}this._decorationTypeSubtypes={}}}getVisibleRanges(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRanges()}getVisibleRangesPlusViewportAboveBelow(){if(!this._modelData)return[];return this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow()}getWhitespaces(){if(!this._modelData)return[];return this._modelData.viewModel.viewLayout.getWhitespaces()}static _getVerticalOffsetAfterPosition($,X,Q,Y){const Z=$.model.validatePosition({lineNumber:X,column:Q}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(G.lineNumber,Y)}getTopForLineNumber($,X=!1){if(!this._modelData)return-1;return iG._getVerticalOffsetForPosition(this._modelData,$,1,X)}getTopForPosition($,X){if(!this._modelData)return-1;return iG._getVerticalOffsetForPosition(this._modelData,$,X,!1)}static _getVerticalOffsetForPosition($,X,Q,Y=!1){const Z=$.model.validatePosition({lineNumber:X,column:Q}),G=$.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return $.viewModel.viewLayout.getVerticalOffsetForLineNumber(G.lineNumber,Y)}getBottomForLineNumber($,X=!1){if(!this._modelData)return-1;return iG._getVerticalOffsetAfterPosition(this._modelData,$,1,X)}setHiddenAreas($,X){var Q;(Q=this._modelData)===null||Q===void 0||Q.viewModel.setHiddenAreas($.map((Y)=>L.lift(Y)),X)}getVisibleColumnFromPosition($){if(!this._modelData)return $.column;const X=this._modelData.model.validatePosition($),Q=this._modelData.model.getOptions().tabSize;return J8.visibleColumnFromColumn(this._modelData.model.getLineContent(X.lineNumber),X.column,Q)+1}getPosition(){if(!this._modelData)return null;return this._modelData.viewModel.getPosition()}setPosition($,X="api"){if(!this._modelData)return;if(!v.isIPosition($))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,[{selectionStartLineNumber:$.lineNumber,selectionStartColumn:$.column,positionLineNumber:$.lineNumber,positionColumn:$.column}])}_sendRevealRange($,X,Q,Y){if(!this._modelData)return;if(!L.isIRange($))throw new Error("Invalid arguments");const Z=this._modelData.model.validateRange($),G=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",Q,G,X,Y)}revealLine($,X=0){this._revealLine($,0,X)}revealLineInCenter($,X=0){this._revealLine($,1,X)}revealLineInCenterIfOutsideViewport($,X=0){this._revealLine($,2,X)}revealLineNearTop($,X=0){this._revealLine($,5,X)}_revealLine($,X,Q){if(typeof $!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,$,1),X,!1,Q)}revealPosition($,X=0){this._revealPosition($,0,!0,X)}revealPositionInCenter($,X=0){this._revealPosition($,1,!0,X)}revealPositionInCenterIfOutsideViewport($,X=0){this._revealPosition($,2,!0,X)}revealPositionNearTop($,X=0){this._revealPosition($,5,!0,X)}_revealPosition($,X,Q,Y){if(!v.isIPosition($))throw new Error("Invalid arguments");this._sendRevealRange(new L($.lineNumber,$.column,$.lineNumber,$.column),X,Q,Y)}getSelection(){if(!this._modelData)return null;return this._modelData.viewModel.getSelection()}getSelections(){if(!this._modelData)return null;return this._modelData.viewModel.getSelections()}setSelection($,X="api"){const Q=b0.isISelection($),Y=L.isIRange($);if(!Q&&!Y)throw new Error("Invalid arguments");if(Q)this._setSelectionImpl($,X);else if(Y){const Z={selectionStartLineNumber:$.startLineNumber,selectionStartColumn:$.startColumn,positionLineNumber:$.endLineNumber,positionColumn:$.endColumn};this._setSelectionImpl(Z,X)}}_setSelectionImpl($,X){if(!this._modelData)return;const Q=new b0($.selectionStartLineNumber,$.selectionStartColumn,$.positionLineNumber,$.positionColumn);this._modelData.viewModel.setSelections(X,[Q])}revealLines($,X,Q=0){this._revealLines($,X,0,Q)}revealLinesInCenter($,X,Q=0){this._revealLines($,X,1,Q)}revealLinesInCenterIfOutsideViewport($,X,Q=0){this._revealLines($,X,2,Q)}revealLinesNearTop($,X,Q=0){this._revealLines($,X,5,Q)}_revealLines($,X,Q,Y){if(typeof $!=="number"||typeof X!=="number")throw new Error("Invalid arguments");this._sendRevealRange(new L($,1,X,1),Q,!1,Y)}revealRange($,X=0,Q=!1,Y=!0){this._revealRange($,Q?1:0,Y,X)}revealRangeInCenter($,X=0){this._revealRange($,1,!0,X)}revealRangeInCenterIfOutsideViewport($,X=0){this._revealRange($,2,!0,X)}revealRangeNearTop($,X=0){this._revealRange($,5,!0,X)}revealRangeNearTopIfOutsideViewport($,X=0){this._revealRange($,6,!0,X)}revealRangeAtTop($,X=0){this._revealRange($,3,!0,X)}_revealRange($,X,Q,Y){if(!L.isIRange($))throw new Error("Invalid arguments");this._sendRevealRange(L.lift($),X,Q,Y)}setSelections($,X="api",Q=0){if(!this._modelData)return;if(!$||$.length===0)throw new Error("Invalid arguments");for(let Y=0,Z=$.length;Y<Z;Y++)if(!b0.isISelection($[Y]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(X,$,Q)}getContentWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentWidth()}getScrollWidth(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollWidth()}getScrollLeft(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollLeft()}getContentHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getContentHeight()}getScrollHeight(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getScrollHeight()}getScrollTop(){if(!this._modelData)return-1;return this._modelData.viewModel.viewLayout.getCurrentScrollTop()}setScrollLeft($,X=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:$},X)}setScrollTop($,X=1){if(!this._modelData)return;if(typeof $!=="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:$},X)}setScrollPosition($,X=1){if(!this._modelData)return;this._modelData.viewModel.viewLayout.setScrollPosition($,X)}hasPendingScrollAnimation(){if(!this._modelData)return!1;return this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const $=this._contributions.saveViewState(),X=this._modelData.viewModel.saveCursorState(),Q=this._modelData.viewModel.saveState();return{cursorState:X,viewState:Q,contributionsState:$}}restoreViewState($){if(!this._modelData||!this._modelData.hasRealView)return;const X=$;if(X&&X.cursorState&&X.viewState){const Q=X.cursorState;if(Array.isArray(Q)){if(Q.length>0)this._modelData.viewModel.restoreCursorState(Q)}else this._modelData.viewModel.restoreCursorState([Q]);this._contributions.restoreViewState(X.contributionsState||{});const Y=this._modelData.viewModel.reduceRestoreState(X.viewState);this._modelData.view.restoreState(Y)}}handleInitialized(){var $;($=this._getViewModel())===null||$===void 0||$.visibleLinesStabilized()}getContribution($){return this._contributions.get($)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let $=this.getActions();return $=$.filter((X)=>X.isSupported()),$}getAction($){return this._actions.get($)||null}trigger($,X,Q){switch(Q=Q||{},X){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition($);return;case"type":{const Z=Q;this._type($,Z.text||"");return}case"replacePreviousChar":{const Z=Q;this._compositionType($,Z.text||"",Z.replaceCharCnt||0,0,0);return}case"compositionType":{const Z=Q;this._compositionType($,Z.text||"",Z.replacePrevCharCnt||0,Z.replaceNextCharCnt||0,Z.positionDelta||0);return}case"paste":{const Z=Q;this._paste($,Z.text||"",Z.pasteOnNewLine||!1,Z.multicursorText||null,Z.mode||null);return}case"cut":this._cut($);return}const Y=this.getAction(X);if(Y){Promise.resolve(Y.run(Q)).then(void 0,n0);return}if(!this._modelData)return;if(this._triggerEditorCommand($,X,Q))return;this._triggerCommand(X,Q)}_triggerCommand($,X){this._commandService.executeCommand($,X)}_startComposition(){if(!this._modelData)return;this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire()}_endComposition($){if(!this._modelData)return;this._modelData.viewModel.endComposition($),this._onDidCompositionEnd.fire()}_type($,X){if(!this._modelData||X.length===0)return;if($==="keyboard")this._onWillType.fire(X);if(this._modelData.viewModel.type(X,$),$==="keyboard")this._onDidType.fire(X)}_compositionType($,X,Q,Y,Z){if(!this._modelData)return;this._modelData.viewModel.compositionType(X,Q,Y,Z,$)}_paste($,X,Q,Y,Z){if(!this._modelData||X.length===0)return;const G=this._modelData.viewModel,q=G.getSelection().getStartPosition();G.paste(X,Q,Y,$);const U=G.getSelection().getStartPosition();if($==="keyboard")this._onDidPaste.fire({range:new L(q.lineNumber,q.column,U.lineNumber,U.column),languageId:Z})}_cut($){if(!this._modelData)return;this._modelData.viewModel.cut($)}_triggerEditorCommand($,X,Q){const Y=eQ.getEditorCommand(X);if(Y)return Q=Q||{},Q.source=$,this._instantiationService.invokeFunction((Z)=>{Promise.resolve(Y.runEditorCommand(Z,this,Q)).then(void 0,n0)}),!0;return!1}_getViewModel(){if(!this._modelData)return null;return this._modelData.viewModel}pushUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.pushStackElement(),!0}popUndoStop(){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;return this._modelData.model.popStackElement(),!0}executeEdits($,X,Q){if(!this._modelData)return!1;if(this._configuration.options.get(90))return!1;let Y;if(!Q)Y=()=>null;else if(Array.isArray(Q))Y=()=>Q;else Y=Q;return this._modelData.viewModel.executeEdits($,X,Y),!0}executeCommand($,X){if(!this._modelData)return;this._modelData.viewModel.executeCommand(X,$)}executeCommands($,X){if(!this._modelData)return;this._modelData.viewModel.executeCommands(X,$)}createDecorationsCollection($){return new rl(this,$)}changeDecorations($){if(!this._modelData)return null;return this._modelData.model.changeDecorations($,this._id)}getLineDecorations($){if(!this._modelData)return null;return this._modelData.model.getLineDecorations($,this._id,EZ(this._configuration.options))}getDecorationsInRange($){if(!this._modelData)return null;return this._modelData.model.getDecorationsInRange($,this._id,EZ(this._configuration.options))}deltaDecorations($,X){if(!this._modelData)return[];if($.length===0&&X.length===0)return $;return this._modelData.model.deltaDecorations($,X,this._id)}removeDecorations($){if(!this._modelData||$.length===0)return;this._modelData.model.changeDecorations((X)=>{X.deltaDecorations($,[])})}removeDecorationsByType($){const X=this._decorationTypeKeysToIds[$];if(X)this.deltaDecorations(X,[]);if(this._decorationTypeKeysToIds.hasOwnProperty($))delete this._decorationTypeKeysToIds[$];if(this._decorationTypeSubtypes.hasOwnProperty($))delete this._decorationTypeSubtypes[$]}getLayoutInfo(){return this._configuration.options.get(143)}createOverviewRuler($){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.createOverviewRuler($)}getContainerDomNode(){return this._domElement}getDomNode(){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateVerticalScrollbarPointerDown($)}delegateScrollFromMouseWheelEvent($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.delegateScrollFromMouseWheelEvent($)}layout($,X=!1){if(this._configuration.observeContainer($),!X)this.render()}focus(){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.focus()}hasTextFocus(){if(!this._modelData||!this._modelData.hasRealView)return!1;return this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget($){const X={widget:$,position:$.getPosition()};if(this._contentWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a content widget with the same id:"+$.getId());if(this._contentWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addContentWidget(X)}layoutContentWidget($){const X=$.getId();if(this._contentWidgets.hasOwnProperty(X)){const Q=this._contentWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutContentWidget(Q)}}removeContentWidget($){const X=$.getId();if(this._contentWidgets.hasOwnProperty(X)){const Q=this._contentWidgets[X];if(delete this._contentWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeContentWidget(Q)}}addOverlayWidget($){const X={widget:$,position:$.getPosition()};if(this._overlayWidgets.hasOwnProperty($.getId()))console.warn("Overwriting an overlay widget with the same id.");if(this._overlayWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addOverlayWidget(X)}layoutOverlayWidget($){const X=$.getId();if(this._overlayWidgets.hasOwnProperty(X)){const Q=this._overlayWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutOverlayWidget(Q)}}removeOverlayWidget($){const X=$.getId();if(this._overlayWidgets.hasOwnProperty(X)){const Q=this._overlayWidgets[X];if(delete this._overlayWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeOverlayWidget(Q)}}addGlyphMarginWidget($){const X={widget:$,position:$.getPosition()};if(this._glyphMarginWidgets.hasOwnProperty($.getId()))console.warn("Overwriting a glyph margin widget with the same id.");if(this._glyphMarginWidgets[$.getId()]=X,this._modelData&&this._modelData.hasRealView)this._modelData.view.addGlyphMarginWidget(X)}layoutGlyphMarginWidget($){const X=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(X)){const Q=this._glyphMarginWidgets[X];if(Q.position=$.getPosition(),this._modelData&&this._modelData.hasRealView)this._modelData.view.layoutGlyphMarginWidget(Q)}}removeGlyphMarginWidget($){const X=$.getId();if(this._glyphMarginWidgets.hasOwnProperty(X)){const Q=this._glyphMarginWidgets[X];if(delete this._glyphMarginWidgets[X],this._modelData&&this._modelData.hasRealView)this._modelData.view.removeGlyphMarginWidget(Q)}}changeViewZones($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.change($)}getTargetAtClientPoint($,X){if(!this._modelData||!this._modelData.hasRealView)return null;return this._modelData.view.getTargetAtClientPoint($,X)}getScrolledVisiblePosition($){if(!this._modelData||!this._modelData.hasRealView)return null;const X=this._modelData.model.validatePosition($),Q=this._configuration.options,Y=Q.get(143),Z=iG._getVerticalOffsetForPosition(this._modelData,X.lineNumber,X.column)-this.getScrollTop(),G=this._modelData.view.getOffsetForColumn(X.lineNumber,X.column)+Y.glyphMarginWidth+Y.lineNumbersWidth+Y.decorationsWidth-this.getScrollLeft();return{top:Z,left:G,height:Q.get(66)}}getOffsetForColumn($,X){if(!this._modelData||!this._modelData.hasRealView)return-1;return this._modelData.view.getOffsetForColumn($,X)}render($=!1){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.render(!0,$)}setAriaOptions($){if(!this._modelData||!this._modelData.hasRealView)return;this._modelData.view.setAriaOptions($)}applyFontInfo($){T8($,this._configuration.options.get(50))}setBanner($,X){if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);if(this._bannerDomNode=$,this._configuration.setReservedHeight($?X:0),this._bannerDomNode)this._domElement.prepend(this._bannerDomNode)}_attachModel($){if(!$){this._modelData=null;return}const X=[];this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._configuration.setIsDominatedByLongLines($.isDominatedByLongLines()),this._configuration.setModelLineCount($.getLineCount());const Q=$.onBeforeAttached(),Y=new vL(this._id,this._configuration,$,$P.create(B0(this._domElement)),JP.create(this._configuration.options),(q)=>R6(B0(this._domElement),q),this.languageConfigurationService,this._themeService,Q);X.push($.onWillDispose(()=>this.setModel(null))),X.push(Y.onEvent((q)=>{switch(q.kind){case 0:this._onDidContentSizeChange.fire(q);break;case 1:this._editorTextFocus.setValue(q.hasFocus);break;case 2:this._onDidScrollChange.fire(q);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(q.reachedMaxCursorCount){const V=this.getOption(79),j=F("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",V);this._notificationService.prompt(bl.Warning,j,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:F("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const U=[];for(let V=0,j=q.selections.length;V<j;V++)U[V]=q.selections[V].getPosition();const H={position:U[0],secondaryPositions:U.slice(1),reason:q.reason,source:q.source};this._onDidChangeCursorPosition.fire(H);const z={selection:q.selections[0],secondarySelections:q.selections.slice(1),modelVersionId:q.modelVersionId,oldSelections:q.oldSelections,oldModelVersionId:q.oldModelVersionId,source:q.source,reason:q.reason};this._onDidChangeCursorSelection.fire(z);break}case 7:this._onDidChangeModelDecorations.fire(q.event);break;case 8:this._domElement.setAttribute("data-mode-id",$.getLanguageId()),this._onDidChangeModelLanguage.fire(q.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(q.event);break;case 10:this._onDidChangeModelContent.fire(q.event);break;case 11:this._onDidChangeModelOptions.fire(q.event);break;case 12:this._onDidChangeModelTokens.fire(q.event);break}}));const[Z,G]=this._createView(Y);if(G){this._domElement.appendChild(Z.domNode.domNode);let q=Object.keys(this._contentWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addContentWidget(this._contentWidgets[z])}q=Object.keys(this._overlayWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addOverlayWidget(this._overlayWidgets[z])}q=Object.keys(this._glyphMarginWidgets);for(let U=0,H=q.length;U<H;U++){const z=q[U];Z.addGlyphMarginWidget(this._glyphMarginWidgets[z])}Z.render(!1,!0),Z.domNode.domNode.setAttribute("data-uri",$.uri.toString())}this._modelData=new ll($,Y,Z,G,X,Q)}_createView($){let X;if(this.isSimpleWidget)X={paste:(Z,G,q,U)=>{this._paste("keyboard",Z,G,q,U)},type:(Z)=>{this._type("keyboard",Z)},compositionType:(Z,G,q,U)=>{this._compositionType("keyboard",Z,G,q,U)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}};else X={paste:(Z,G,q,U)=>{const H={text:Z,pasteOnNewLine:G,multicursorText:q,mode:U};this._commandService.executeCommand("paste",H)},type:(Z)=>{const G={text:Z};this._commandService.executeCommand("type",G)},compositionType:(Z,G,q,U)=>{if(q||U){const H={text:Z,replacePrevCharCnt:G,replaceNextCharCnt:q,positionDelta:U};this._commandService.executeCommand("compositionType",H)}else{const H={text:Z,replaceCharCnt:G};this._commandService.executeCommand("replacePreviousChar",H)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const Q=new q3($.coordinatesConverter);return Q.onKeyDown=(Z)=>this._onKeyDown.fire(Z),Q.onKeyUp=(Z)=>this._onKeyUp.fire(Z),Q.onContextMenu=(Z)=>this._onContextMenu.fire(Z),Q.onMouseMove=(Z)=>this._onMouseMove.fire(Z),Q.onMouseLeave=(Z)=>this._onMouseLeave.fire(Z),Q.onMouseDown=(Z)=>this._onMouseDown.fire(Z),Q.onMouseUp=(Z)=>this._onMouseUp.fire(Z),Q.onMouseDrag=(Z)=>this._onMouseDrag.fire(Z),Q.onMouseDrop=(Z)=>this._onMouseDrop.fire(Z),Q.onMouseDropCanceled=(Z)=>this._onMouseDropCanceled.fire(Z),Q.onMouseWheel=(Z)=>this._onMouseWheel.fire(Z),[new TA(X,this._configuration,this._themeService.getColorTheme(),$,Q,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup($){$===null||$===void 0||$.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const $=this._modelData.model,X=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;if(this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),X&&this._domElement.contains(X))this._domElement.removeChild(X);if(this._bannerDomNode&&this._domElement.contains(this._bannerDomNode))this._domElement.removeChild(this._bannerDomNode);return $}_removeDecorationType($){this._codeEditorService.removeDecorationType($)}hasModel(){return this._modelData!==null}showDropIndicatorAt($){const X=[{range:new L($.lineNumber,$.column,$.lineNumber,$.column),options:iG.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(X),this.revealPosition($,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue($,X){this._contextKeyService.createKey($,X)}};AQ.dropIntoEditorDecorationOptions=E1.register({description:"workbench-dnd-target",className:"dnd-target"});AQ=iG=e50([KQ(3,g0),KQ(4,l1),KQ(5,B6),KQ(6,v0),KQ(7,a8),KQ(8,i6),KQ(9,_7),KQ(10,N8),KQ(11,K1)],AQ);$90=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),X90=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>"),Q90=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Y90=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');c7((J,$)=>{const X=J.getColor(O$);if(X)$.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${aL(X)}") repeat-x bottom left; }`);const Q=J.getColor(w7);if(Q)$.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${aL(Q)}") repeat-x bottom left; }`);const Y=J.getColor(d5);if(Y)$.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${aL(Y)}") repeat-x bottom left; }`);const Z=J.getColor(nh);if(Z)$.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${Z90(Z)}") no-repeat bottom left; }`);const G=J.getColor(dp);if(G)$.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${G.rgba.a}; }`)})});var G90,q90,QP;var il=N(()=>{F0();X0();w9();r8();G90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},q90=function(J,$){return function(X,Q){$(X,Q,J)}},QP=class J extends f{constructor($){super();this._themeService=$,this._onWillCreateCodeEditor=this._register(new y),this._onCodeEditorAdd=this._register(new y),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new y),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new y),this._onDiffEditorAdd=this._register(new y),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new y),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new I8,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor($){this._codeEditors[$.getId()]=$,this._onCodeEditorAdd.fire($)}removeCodeEditor($){if(delete this._codeEditors[$.getId()])this._onCodeEditorRemove.fire($)}listCodeEditors(){return Object.keys(this._codeEditors).map(($)=>this._codeEditors[$])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor($){this._diffEditors[$.getId()]=$,this._onDiffEditorAdd.fire($)}listDiffEditors(){return Object.keys(this._diffEditors).map(($)=>this._diffEditors[$])}getFocusedCodeEditor(){let $=null;const X=this.listCodeEditors();for(let Q of X){if(Q.hasTextFocus())return Q;if(Q.hasWidgetFocus())$=Q}return $}removeDecorationType($){const X=this._decorationOptionProviders.get($);if(X){if(X.refCount--,X.refCount<=0)this._decorationOptionProviders.delete($),X.dispose(),this.listCodeEditors().forEach((Q)=>Q.removeDecorationsByType($))}}setModelProperty($,X,Q){const Y=$.toString();let Z;if(this._modelProperties.has(Y))Z=this._modelProperties.get(Y);else Z=new Map,this._modelProperties.set(Y,Z);Z.set(X,Q)}getModelProperty($,X){const Q=$.toString();if(this._modelProperties.has(Q))return this._modelProperties.get(Q).get(X);return}async openCodeEditor($,X,Q){for(let Y of this._codeEditorOpenHandlers){const Z=await Y($,X,Q);if(Z!==null)return Z}return null}registerCodeEditorOpenHandler($){const X=this._codeEditorOpenHandlers.unshift($);return K0(X)}};QP=G90([q90(0,a8)],QP)});var U90,nl,_V;var iL=N(()=>{D0();z9();il();G9();m1();h9();r8();U90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},nl=function(J,$){return function(X,Q){$(X,Q,J)}},_V=class J extends QP{constructor($,X){super(X);this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=$.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(Q,Y,Z)=>{if(!Y)return null;return this.doOpenEditor(Y,Q)}))}_checkContextKey(){let $=!1;for(let X of this.listCodeEditors())if(!X.isSimpleWidget){$=!0;break}this._editorIsOpen.set($)}setActiveCodeEditor($){this._activeCodeEditor=$}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor($,X){if(!this.findModel($,X.resource)){if(X.resource){const Z=X.resource.scheme;if(Z===J1.http||Z===J1.https)return pF(X.resource.toString()),$}return null}const Y=X.options?X.options.selection:null;if(Y)if(typeof Y.endLineNumber==="number"&&typeof Y.endColumn==="number")$.setSelection(Y),$.revealRangeInCenter(Y,1);else{const Z={lineNumber:Y.startLineNumber,column:Y.startColumn};$.setPosition(Z),$.revealPositionInCenter(Z,1)}return $}findModel($,X){const Q=$.getModel();if(Q&&Q.uri.toString()!==X.toString())return null;return Q}};_V=U90([nl(0,v0),nl(1,a8)],_V);z1(l1,_V,0)});var K9;var vY=N(()=>{m0();K9=M0("layoutService")});var ol,tl,YP,ZP;var nL=N(()=>{D0();X7();H1();F0();G9();h9();vY();ol=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},tl=function(J,$){return function(X,Q){$(X,Q,J)}},YP=class J{get mainContainer(){var $,X;return(X=($=f2(this._codeEditorService.listCodeEditors()))===null||$===void 0?void 0:$.getContainerDomNode())!==null&&X!==void 0?X:B1.document.body}get activeContainer(){var $,X;const Q=($=this._codeEditorService.getFocusedCodeEditor())!==null&&$!==void 0?$:this._codeEditorService.getActiveCodeEditor();return(X=Q===null||Q===void 0?void 0:Q.getContainerDomNode())!==null&&X!==void 0?X:this.mainContainer}get mainContainerDimension(){return j$(this.mainContainer)}get activeContainerDimension(){return j$(this.activeContainer)}get containers(){return CW(this._codeEditorService.listCodeEditors().map(($)=>$.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var $;($=this._codeEditorService.getFocusedCodeEditor())===null||$===void 0||$.focus()}constructor($){this._codeEditorService=$,this.onDidLayoutMainContainer=J0.None,this.onDidLayoutActiveContainer=J0.None,this.onDidLayoutContainer=J0.None,this.onDidChangeActiveContainer=J0.None,this.onDidAddContainer=J0.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};YP=ol([tl(0,l1)],YP);ZP=class J extends YP{get mainContainer(){return this._container}constructor($,X){super(X);this._container=$}};ZP=ol([tl(1,l1)],ZP);z1(K9,YP,1)});var GP;var oL=N(()=>{m0();GP=M0("dialogService")});class wV{constructor(J,$,X,Q,Y,Z,G){this.id=++Jd,this.type=0,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabel=$,this.strResource=X,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Q,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.isValid=!0}setValid(J){this.isValid=J}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class tL{constructor(J,$){this.resourceLabel=J,this.reason=$}}class eL{constructor(){this.elements=new Map}createMessage(){const J=[],$=[];for(let[,Q]of this.elements)(Q.reason===0?J:$).push(Q.resourceLabel);const X=[];if(J.length>0)X.push(F({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",J.join(", ")));if($.length>0)X.push(F({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",$.join(", ")));return X.join("\n")}get size(){return this.elements.size}has(J){return this.elements.has(J)}set(J,$){this.elements.set(J,$)}delete(J){return this.elements.delete(J)}}class $d{constructor(J,$,X,Q,Y,Z,G){this.id=++Jd,this.type=1,this.actual=J,this.label=J.label,this.confirmBeforeUndo=J.confirmBeforeUndo||!1,this.resourceLabels=$,this.strResources=X,this.groupId=Q,this.groupOrder=Y,this.sourceId=Z,this.sourceOrder=G,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split==="function"}removeResource(J,$,X){if(!this.removedResources)this.removedResources=new eL;if(!this.removedResources.has($))this.removedResources.set($,new tL(J,X))}setValid(J,$,X){if(X){if(this.invalidatedResources){if(this.invalidatedResources.delete($),this.invalidatedResources.size===0)this.invalidatedResources=null}}else{if(!this.invalidatedResources)this.invalidatedResources=new eL;if(!this.invalidatedResources.has($))this.invalidatedResources.set($,new tL(J,0))}}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class $E{constructor(J,$){this.resourceLabel=J,this.strResource=$,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(let J of this._past)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);for(let J of this._future)if(J.type===1)J.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const J=[];J.push(`* ${this.strResource}:`);for(let $=0;$<this._past.length;$++)J.push(`   * [UNDO] ${this._past[$]}`);for(let $=this._future.length-1;$>=0;$--)J.push(`   * [REDO] ${this._future[$]}`);return J.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(J,$){if(J.type===1)J.setValid(this.resourceLabel,this.strResource,$);else J.setValid($)}setElementsValidFlag(J,$){for(let X of this._past)if($(X.actual))this._setElementValidFlag(X,J);for(let X of this._future)if($(X.actual))this._setElementValidFlag(X,J)}pushElement(J){for(let $ of this._future)if($.type===1)$.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(J),this.versionId++}createSnapshot(J){const $=[];for(let X=0,Q=this._past.length;X<Q;X++)$.push(this._past[X].id);for(let X=this._future.length-1;X>=0;X--)$.push(this._future[X].id);return new mA(J,$)}restoreSnapshot(J){const $=J.elements.length;let X=!0,Q=0,Y=-1;for(let G=0,q=this._past.length;G<q;G++,Q++){const U=this._past[G];if(X&&(Q>=$||U.id!==J.elements[Q]))X=!1,Y=0;if(!X&&U.type===1)U.removeResource(this.resourceLabel,this.strResource,0)}let Z=-1;for(let G=this._future.length-1;G>=0;G--,Q++){const q=this._future[G];if(X&&(Q>=$||q.id!==J.elements[Q]))X=!1,Z=G;if(!X&&q.type===1)q.removeResource(this.resourceLabel,this.strResource,0)}if(Y!==-1)this._past=this._past.slice(0,Y);if(Z!==-1)this._future=this._future.slice(Z+1);this.versionId++}getElements(){const J=[],$=[];for(let X of this._past)J.push(X.actual);for(let X of this._future)$.push(X.actual);return{past:J,future:$}}getClosestPastElement(){if(this._past.length===0)return null;return this._past[this._past.length-1]}getSecondClosestPastElement(){if(this._past.length<2)return null;return this._past[this._past.length-2]}getClosestFutureElement(){if(this._future.length===0)return null;return this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(J,$){for(let X=this._past.length-1;X>=0;X--)if(this._past[X]===J){if($.has(this.strResource))this._past[X]=$.get(this.strResource);else this._past.splice(X,1);break}this.versionId++}splitFutureWorkspaceElement(J,$){for(let X=this._future.length-1;X>=0;X--)if(this._future[X]===J){if($.has(this.strResource))this._future[X]=$.get(this.strResource);else this._future.splice(X,1);break}this.versionId++}moveBackward(J){this._past.pop(),this._future.push(J),this.versionId++}moveForward(J){this._future.pop(),this._past.push(J),this.versionId++}}class UP{constructor(J){this.editStacks=J,this._versionIds=[];for(let $=0,X=this.editStacks.length;$<X;$++)this._versionIds[$]=this.editStacks[$].versionId}isValid(){for(let J=0,$=this.editStacks.length;J<$;J++)if(this._versionIds[J]!==this.editStacks[J].versionId)return!1;return!0}}class LV{constructor(J){this.returnValue=J}}var qP,H90,el,I3,Jd,Xd,JE;var Qd=N(()=>{D1();X0();z9();xY();h0();oL();h9();FQ();uA();qP=function(J){return J.scheme===J1.file?J.fsPath:J.path},H90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},el=function(J,$){return function(X,Q){$(X,Q,J)}},I3=!1,Jd=0;Xd=new $E("","");Xd.locked=!0;JE=class J{constructor($,X){this._dialogService=$,this._notificationService=X,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey($){for(let X of this._uriComparisonKeyComputers)if(X[0]===$.scheme)return X[1].getComparisonKey($);return $.toString()}_print($){console.log("------------------------------------"),console.log(`AFTER ${$}: `);const X=[];for(let Q of this._editStacks)X.push(Q[1].toString());console.log(X.join("\n"))}pushElement($,X=dG.None,Q=I4.None){if($.type===0){const Y=qP($.resource),Z=this.getUriComparisonKey($.resource);this._pushElement(new wV($,Y,Z,X.id,X.nextOrder(),Q.id,Q.nextOrder()))}else{const Y=new Set,Z=[],G=[];for(let q of $.resources){const U=qP(q),H=this.getUriComparisonKey(q);if(Y.has(H))continue;Y.add(H),Z.push(U),G.push(H)}if(Z.length===1)this._pushElement(new wV($,Z[0],G[0],X.id,X.nextOrder(),Q.id,Q.nextOrder()));else this._pushElement(new $d($,Z,G,X.id,X.nextOrder(),Q.id,Q.nextOrder()))}if(I3)this._print("pushElement")}_pushElement($){for(let X=0,Q=$.strResources.length;X<Q;X++){const Y=$.resourceLabels[X],Z=$.strResources[X];let G;if(this._editStacks.has(Z))G=this._editStacks.get(Z);else G=new $E(Y,Z),this._editStacks.set(Z,G);G.pushElement($)}}getLastElement($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X)){const Q=this._editStacks.get(X);if(Q.hasFutureElements())return null;const Y=Q.getClosestPastElement();return Y?Y.actual:null}return null}_splitPastWorkspaceElement($,X){const Q=$.actual.split(),Y=new Map;for(let Z of Q){const G=qP(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new wV(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(X&&X.has(Z))continue;this._editStacks.get(Z).splitPastWorkspaceElement($,Y)}}_splitFutureWorkspaceElement($,X){const Q=$.actual.split(),Y=new Map;for(let Z of Q){const G=qP(Z.resource),q=this.getUriComparisonKey(Z.resource),U=new wV(Z,G,q,0,0,0,0);Y.set(U.strResource,U)}for(let Z of $.strResources){if(X&&X.has(Z))continue;this._editStacks.get(Z).splitFutureWorkspaceElement($,Y)}}removeElements($){const X=typeof $==="string"?$:this.getUriComparisonKey($);if(this._editStacks.has(X))this._editStacks.get(X).dispose(),this._editStacks.delete(X);if(I3)this._print("removeElements")}setElementsValidFlag($,X,Q){const Y=this.getUriComparisonKey($);if(this._editStacks.has(Y))this._editStacks.get(Y).setElementsValidFlag(X,Q);if(I3)this._print("setElementsValidFlag")}createSnapshot($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).createSnapshot($);return new mA($,[])}restoreSnapshot($){const X=this.getUriComparisonKey($.resource);if(this._editStacks.has(X)){const Q=this._editStacks.get(X);if(Q.restoreSnapshot($),!Q.hasPastElements()&&!Q.hasFutureElements())Q.dispose(),this._editStacks.delete(X)}if(I3)this._print("restoreSnapshot")}getElements($){const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).getElements();return{past:[],future:[]}}_findClosestUndoElementWithSource($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestPastElement();if(!G)continue;if(G.sourceId===$){if(!X||G.sourceOrder>X.sourceOrder)X=G,Q=Y}}return[X,Q]}canUndo($){if($ instanceof I4){const[,Q]=this._findClosestUndoElementWithSource($.id);return Q?!0:!1}const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).hasPastElements();return!1}_onError($,X){n0($);for(let Q of X.strResources)this.removeElements(Q);this._notificationService.error($)}_acquireLocks($){for(let X of $.editStacks)if(X.locked)throw new Error("Cannot acquire edit stack lock");for(let X of $.editStacks)X.locked=!0;return()=>{for(let X of $.editStacks)X.locked=!1}}_safeInvokeWithLocks($,X,Q,Y,Z){const G=this._acquireLocks(Q);let q;try{q=X()}catch(U){return G(),Y.dispose(),this._onError(U,$)}if(q)return q.then(()=>{return G(),Y.dispose(),Z()},(U)=>{return G(),Y.dispose(),this._onError(U,$)});else return G(),Y.dispose(),Z()}async _invokeWorkspacePrepare($){if(typeof $.actual.prepareUndoRedo==="undefined")return f.None;const X=$.actual.prepareUndoRedo();if(typeof X==="undefined")return f.None;return X}_invokeResourcePrepare($,X){if($.actual.type!==1||typeof $.actual.prepareUndoRedo==="undefined")return X(f.None);const Q=$.actual.prepareUndoRedo();if(!Q)return X(f.None);if(sW(Q))return X(Q);return Q.then((Y)=>{return X(Y)})}_getAffectedEditStacks($){const X=[];for(let Q of $.strResources)X.push(this._editStacks.get(Q)||Xd);return new UP(X)}_tryToSplitAndUndo($,X,Q,Y){if(X.canSplit())return this._splitPastWorkspaceElement(X,Q),this._notificationService.warn(Y),new LV(this._undo($,0,!0));else{for(let Z of X.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new LV}}_checkWorkspaceUndo($,X,Q,Y){if(X.removedResources)return this._tryToSplitAndUndo($,X,X.removedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",X.label,X.removedResources.createMessage()));if(Y&&X.invalidatedResources)return this._tryToSplitAndUndo($,X,X.invalidatedResources,F({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",X.label,X.invalidatedResources.createMessage()));const Z=[];for(let q of Q.editStacks)if(q.getClosestPastElement()!==X)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",X.label,Z.join(", ")));const G=[];for(let q of Q.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",X.label,G.join(", ")));if(!Q.isValid())return this._tryToSplitAndUndo($,X,null,F({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",X.label));return null}_workspaceUndo($,X,Q){const Y=this._getAffectedEditStacks(X),Z=this._checkWorkspaceUndo($,X,Y,!1);if(Z)return Z.returnValue;return this._confirmAndExecuteWorkspaceUndo($,X,Y,Q)}_isPartOfUndoGroup($){if(!$.groupId)return!1;for(let[,X]of this._editStacks){const Q=X.getClosestPastElement();if(!Q)continue;if(Q===$){const Y=X.getSecondClosestPastElement();if(Y&&Y.groupId===$.groupId)return!0}if(Q.groupId===$.groupId)return!0}return!1}async _confirmAndExecuteWorkspaceUndo($,X,Q,Y){if(X.canSplit()&&!this._isPartOfUndoGroup(X)){let q;(function(z){z[z.All=0]="All",z[z.This=1]="This",z[z.Cancel=2]="Cancel"})(q||(q={}));const{result:U}=await this._dialogService.prompt({type:D8.Info,message:F("confirmWorkspace","Would you like to undo '{0}' across all files?",X.label),buttons:[{label:F({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",Q.editStacks.length),run:()=>q.All},{label:F({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>q.This}],cancelButton:{run:()=>q.Cancel}});if(U===q.Cancel)return;if(U===q.This)return this._splitPastWorkspaceElement(X,null),this._undo($,0,!0);const H=this._checkWorkspaceUndo($,X,Q,!1);if(H)return H.returnValue;Y=!0}let Z;try{Z=await this._invokeWorkspacePrepare(X)}catch(q){return this._onError(q,X)}const G=this._checkWorkspaceUndo($,X,Q,!0);if(G)return Z.dispose(),G.returnValue;for(let q of Q.editStacks)q.moveBackward(X);return this._safeInvokeWithLocks(X,()=>X.actual.undo(),Q,Z,()=>this._continueUndoInGroup(X.groupId,Y))}_resourceUndo($,X,Q){if(!X.isValid){$.flushAllElements();return}if($.locked){const Y=F({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",X.label);this._notificationService.warn(Y);return}return this._invokeResourcePrepare(X,(Y)=>{return $.moveBackward(X),this._safeInvokeWithLocks(X,()=>X.actual.undo(),new UP([$]),Y,()=>this._continueUndoInGroup(X.groupId,Q))})}_findClosestUndoElementInGroup($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestPastElement();if(!G)continue;if(G.groupId===$){if(!X||G.groupOrder>X.groupOrder)X=G,Q=Y}}return[X,Q]}_continueUndoInGroup($,X){if(!$)return;const[,Q]=this._findClosestUndoElementInGroup($);if(Q)return this._undo(Q,0,X)}undo($){if($ instanceof I4){const[,X]=this._findClosestUndoElementWithSource($.id);return X?this._undo(X,$.id,!1):void 0}if(typeof $==="string")return this._undo($,0,!1);return this._undo(this.getUriComparisonKey($),0,!1)}_undo($,X=0,Q){if(!this._editStacks.has($))return;const Y=this._editStacks.get($),Z=Y.getClosestPastElement();if(!Z)return;if(Z.groupId){const[q,U]=this._findClosestUndoElementInGroup(Z.groupId);if(Z!==q&&U)return this._undo(U,X,Q)}if((Z.sourceId!==X||Z.confirmBeforeUndo)&&!Q)return this._confirmAndContinueUndo($,X,Z);try{if(Z.type===1)return this._workspaceUndo($,Z,Q);else return this._resourceUndo(Y,Z,Q)}finally{if(I3)this._print("undo")}}async _confirmAndContinueUndo($,X,Q){if(!(await this._dialogService.confirm({message:F("confirmDifferentSource","Would you like to undo '{0}'?",Q.label),primaryButton:F({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:F("confirmDifferentSource.no","No")})).confirmed)return;return this._undo($,X,!0)}_findClosestRedoElementWithSource($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestFutureElement();if(!G)continue;if(G.sourceId===$){if(!X||G.sourceOrder<X.sourceOrder)X=G,Q=Y}}return[X,Q]}canRedo($){if($ instanceof I4){const[,Q]=this._findClosestRedoElementWithSource($.id);return Q?!0:!1}const X=this.getUriComparisonKey($);if(this._editStacks.has(X))return this._editStacks.get(X).hasFutureElements();return!1}_tryToSplitAndRedo($,X,Q,Y){if(X.canSplit())return this._splitFutureWorkspaceElement(X,Q),this._notificationService.warn(Y),new LV(this._redo($));else{for(let Z of X.strResources)this.removeElements(Z);return this._notificationService.warn(Y),new LV}}_checkWorkspaceRedo($,X,Q,Y){if(X.removedResources)return this._tryToSplitAndRedo($,X,X.removedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",X.label,X.removedResources.createMessage()));if(Y&&X.invalidatedResources)return this._tryToSplitAndRedo($,X,X.invalidatedResources,F({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",X.label,X.invalidatedResources.createMessage()));const Z=[];for(let q of Q.editStacks)if(q.getClosestFutureElement()!==X)Z.push(q.resourceLabel);if(Z.length>0)return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",X.label,Z.join(", ")));const G=[];for(let q of Q.editStacks)if(q.locked)G.push(q.resourceLabel);if(G.length>0)return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",X.label,G.join(", ")));if(!Q.isValid())return this._tryToSplitAndRedo($,X,null,F({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",X.label));return null}_workspaceRedo($,X){const Q=this._getAffectedEditStacks(X),Y=this._checkWorkspaceRedo($,X,Q,!1);if(Y)return Y.returnValue;return this._executeWorkspaceRedo($,X,Q)}async _executeWorkspaceRedo($,X,Q){let Y;try{Y=await this._invokeWorkspacePrepare(X)}catch(G){return this._onError(G,X)}const Z=this._checkWorkspaceRedo($,X,Q,!0);if(Z)return Y.dispose(),Z.returnValue;for(let G of Q.editStacks)G.moveForward(X);return this._safeInvokeWithLocks(X,()=>X.actual.redo(),Q,Y,()=>this._continueRedoInGroup(X.groupId))}_resourceRedo($,X){if(!X.isValid){$.flushAllElements();return}if($.locked){const Q=F({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",X.label);this._notificationService.warn(Q);return}return this._invokeResourcePrepare(X,(Q)=>{return $.moveForward(X),this._safeInvokeWithLocks(X,()=>X.actual.redo(),new UP([$]),Q,()=>this._continueRedoInGroup(X.groupId))})}_findClosestRedoElementInGroup($){if(!$)return[null,null];let X=null,Q=null;for(let[Y,Z]of this._editStacks){const G=Z.getClosestFutureElement();if(!G)continue;if(G.groupId===$){if(!X||G.groupOrder<X.groupOrder)X=G,Q=Y}}return[X,Q]}_continueRedoInGroup($){if(!$)return;const[,X]=this._findClosestRedoElementInGroup($);if(X)return this._redo(X)}redo($){if($ instanceof I4){const[,X]=this._findClosestRedoElementWithSource($.id);return X?this._redo(X):void 0}if(typeof $==="string")return this._redo($);return this._redo(this.getUriComparisonKey($))}_redo($){if(!this._editStacks.has($))return;const X=this._editStacks.get($),Q=X.getClosestFutureElement();if(!Q)return;if(Q.groupId){const[Y,Z]=this._findClosestRedoElementInGroup(Q.groupId);if(Q!==Y&&Z)return this._redo(Z)}try{if(Q.type===1)return this._workspaceRedo($,Q);else return this._resourceRedo(X,Q)}finally{if(I3)this._print("redo")}}};JE=H90([el(0,GP),el(1,i6)],JE);z1(N3,JE,1)});function n6(J,$,X){return Math.min(Math.max(J,$),X)}class HP{constructor(){this._n=1,this._val=0}update(J){return this._val=this._val+(J-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class XE{constructor(J){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(J),this._values.fill(0,0,J)}update(J){const $=this._values[this._index];if(this._values[this._index]=J,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=J,this._n<this._values.length)this._n+=1;return this._val=this._sum/this._n,this._val}get value(){return this._val}}var y3=N(()=>{});var S3;var zP=N(()=>{m0();S3=M0("environmentService")});class Zd{constructor(J){this._default=J}get(J){return this._default}update(J,$){return this._default}default(){return this._default}}class Gd{constructor(J,$,X,Q,Y,Z){this._logService=J,this._name=$,this._registry=X,this._default=Q,this._min=Y,this._max=Z,this._cache=new mX(50,0.7)}_key(J){return J.id+this._registry.all(J).reduce(($,X)=>xH(VP.of(X),$),0)}get(J){const $=this._key(J),X=this._cache.get($);return X?n6(X.value,this._min,this._max):this.default()}update(J,$){const X=this._key(J);let Q=this._cache.get(X);if(!Q)Q=new XE(6),this._cache.set(X,Q);const Y=n6(Q.update($),this._min,this._max);if(!SH(J.uri,"output"))this._logService.trace(`[DEBOUNCE: ${this._name}] for ${J.uri.toString()} is ${Y}ms`);return Y}_overall(){const J=new HP;for(let[,$]of this._cache)J.update($.value);return J.value}default(){const J=this._overall()|0||this._default;return n6(J,this._min,this._max)}}var z90,Yd,YE,VP,QE;var ZE=N(()=>{tQ();W4();y3();zP();h9();m0();U9();z9();z90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Yd=function(J,$){return function(X,Q){$(X,Q,J)}},YE=M0("ILanguageFeatureDebounceService");(function(J){const $=new WeakMap;let X=0;function Q(Y){let Z=$.get(Y);if(Z===void 0)Z=++X,$.set(Y,Z);return Z}J.of=Q})(VP||(VP={}));QE=class J{constructor($,X){this._logService=$,this._data=new Map,this._isDev=X.isExtensionDevelopment||!X.isBuilt}for($,X,Q){var Y,Z,G;const q=(Y=Q===null||Q===void 0?void 0:Q.min)!==null&&Y!==void 0?Y:50,U=(Z=Q===null||Q===void 0?void 0:Q.max)!==null&&Z!==void 0?Z:q**2,H=(G=Q===null||Q===void 0?void 0:Q.key)!==null&&G!==void 0?G:void 0,z=`${VP.of($)},${q}${H?","+H:""}`;let V=this._data.get(z);if(!V){if(!this._isDev)this._logService.debug(`[DEBOUNCE: ${X}] is disabled in developed mode`),V=new Zd(q*1.5);else V=new Gd(this._logService,X,$,this._overallAverage()|0||q*1.5,q,U);this._data.set(z,V)}return V}_overallAverage(){const $=new HP;for(let X of this._data.values())$.update(X.default());return $.value}};QE=z90([Yd(0,Y6),Yd(1,S3)],QE);z1(YE,QE,1)});var qd=N(()=>{U1();c0();pG()});class Ud{constructor(J,$,X,Q){this.tokenTypeIndex=J,this.tokenModifierSet=$,this.languageId=X,this.metadata=Q,this.next=null}}class PQ{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=PQ._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<PQ._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],PQ._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(J,$){for(let X=0;X<$;X++)J[X]=null}_hash2(J,$){return(J<<5)-J+$|0}_hashFunc(J,$,X){return this._hash2(this._hash2(J,$),X)%this._currentLength}get(J,$,X){const Q=this._hashFunc(J,$,X);let Y=this._elements[Q];while(Y){if(Y.tokenTypeIndex===J&&Y.tokenModifierSet===$&&Y.languageId===X)return Y;Y=Y.next}return null}add(J,$,X,Q){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const Y=this._elements;this._currentLengthIndex++,this._currentLength=PQ._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<PQ._SIZES.length?0.6666666666666666*this._currentLength:0),this._elements=[],PQ._nullOutEntries(this._elements,this._currentLength);for(let Z of Y){let G=Z;while(G){const q=G.next;G.next=null,this._add(G),G=q}}}this._add(new Ud(J,$,X,Q))}_add(J){const $=this._hashFunc(J.tokenTypeIndex,J.tokenModifierSet,J.languageId);J.next=this._elements[$],this._elements[$]=J}}var V90,GE,jP;var Hd=N(()=>{Lq();r8();U9();qd();f9();V90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},GE=function(J,$){return function(X,Q){$(X,Q,J)}},jP=class J{constructor($,X,Q,Y){this._legend=$,this._themeService=X,this._languageService=Q,this._logService=Y,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new PQ}getMetadata($,X,Q){const Y=this._languageService.languageIdCodec.encodeLanguageId(Q),Z=this._hashTable.get($,X,Y);let G;if(Z){if(G=Z.metadata,this._logService.getLevel()===c6.Trace)this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${$} / ${X}: foreground ${d6.getForeground(G)}, fontStyle ${d6.getFontStyle(G).toString(2)}`)}else{let q=this._legend.tokenTypes[$];const U=[];if(q){let H=X;for(let V=0;H>0&&V<this._legend.tokenModifiers.length;V++){if(H&1)U.push(this._legend.tokenModifiers[V]);H=H>>1}if(H>0&&this._logService.getLevel()===c6.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${X.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),U.push("not-in-legend");const z=this._themeService.getColorTheme().getTokenStyleMetadata(q,U,Q);if(typeof z==="undefined")G=2147483647;else{if(G=0,typeof z.italic!=="undefined"){const V=(z.italic?1:0)<<11;G|=V|1}if(typeof z.bold!=="undefined"){const V=(z.bold?2:0)<<11;G|=V|2}if(typeof z.underline!=="undefined"){const V=(z.underline?4:0)<<11;G|=V|4}if(typeof z.strikethrough!=="undefined"){const V=(z.strikethrough?8:0)<<11;G|=V|8}if(z.foreground){const V=z.foreground<<15;G|=V|16}if(G===0)G=2147483647}}else{if(this._logService.getLevel()===c6.Trace)this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${$} for legend: ${JSON.stringify(this._legend.tokenTypes)}`);G=2147483647,q="not-in-legend"}if(this._hashTable.add($,X,Y,G),this._logService.getLevel()===c6.Trace)this._logService.trace(`SemanticTokensProviderStyling ${$} (${q}) / ${X} (${U.join(" ")}): foreground ${d6.getForeground(G)}, fontStyle ${d6.getFontStyle(G).toString(2)}`)}return G}warnOverlappingSemanticTokens($,X){if(!this._hasWarnedOverlappingTokens)this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${$}, column ${X}`)}warnInvalidLengthSemanticTokens($,X){if(!this._hasWarnedInvalidLengthTokens)this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${$}, column ${X}`)}warnInvalidEditStart($,X,Q,Y,Z){if(!this._hasWarnedInvalidEditStart)this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${$}, resultId: ${X}) at edit #${Q}: The provided start offset ${Y} is outside the previous data (length ${Z}).`)}};jP=V90([GE(1,a8),GE(2,e1),GE(3,Y6)],jP);PQ._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]});var zd;var Vd=N(()=>{m0();zd=M0("semanticTokensStylingService")});var j90,qE,UE;var jd=N(()=>{X0();f9();r8();U9();Hd();Vd();h9();j90=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},qE=function(J,$){return function(X,Q){$(X,Q,J)}},UE=class J extends f{constructor($,X,Q){super();this._themeService=$,this._logService=X,this._languageService=Q,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling($){if(!this._caches.has($))this._caches.set($,new jP($.getLegend(),this._themeService,this._languageService,this._logService));return this._caches.get($)}};UE=j90([qE(0,a8),qE(1,Y6),qE(2,e1)],UE);z1(zd,UE,1)});function Fd(J,$){if(!J)return[];const X=[];let Q=!1,Y=!1,Z="";for(let G of J){switch(G){case $:if(!Q&&!Y){X.push(Z),Z="";continue}break;case"{":Q=!0;break;case"}":Q=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Z+=G}if(Z)X.push(Z);return X}function Md(J,$,X){if(!J||typeof $!=="string")return!1;return VE(J)($,void 0,X)}function VE(J,$={}){if(!J)return Ad;if(typeof J==="string"||N90(J)){const X=zE(J,$);if(X===s$)return Ad;const Q=function(Y,Z){return!!X(Y,Z)};if(X.allBasenames)Q.allBasenames=X.allBasenames;if(X.allPaths)Q.allPaths=X.allPaths;return Q}return _90(J,$)}function N90(J){const $=J;if(!$)return!1;return typeof $.base==="string"&&typeof $.pattern==="string"}var Bd,Rd,zE,Pd,HE,R90,M90,O90,Dd,T90,_90,w90,Od,WP,Wd,BP,FP,W90,B90,F90,K90,A90,P90,D90,Kd,Ad,s$;var jE=N(()=>{u1();SA();W4();AX();O1();o0();Bd=function(J,$){switch(J){case 0:return"";case 1:return`${FP}*?`;default:return`(?:${BP}|${FP}+${BP}${$?`|${BP}${FP}+`:""})*?`}};Rd=function(J){if(!J)return"";let $="";const X=Fd(J,Wd);if(X.every((Q)=>Q===WP))$=".*";else{let Q=!1;X.forEach((Y,Z)=>{if(Y===WP){if(Q)return;$+=Bd(2,Z===X.length-1)}else{let G=!1,q="",U=!1,H="";for(let z of Y){if(z!=="}"&&G){q+=z;continue}if(U&&(z!=="]"||!H)){let V;if(z==="-")V=z;else if((z==="^"||z==="!")&&!H)V="^";else if(z===Wd)V="";else V=J5(z);H+=V;continue}switch(z){case"{":G=!0;continue;case"[":U=!0;continue;case"}":{const j=`(?:${Fd(q,",").map((W)=>Rd(W)).join("|")})`;$+=j,G=!1,q="";break}case"]":{$+="["+H+"]",U=!1,H="";break}case"?":$+=FP;continue;case"*":$+=Bd(1);continue;default:$+=J5(z)}}if(Z<X.length-1&&(X[Z+1]!==WP||Z+2<X.length))$+=BP}Q=Y===WP})}return $},zE=function(J,$){if(!J)return s$;let X;if(typeof J!=="string")X=J.pattern;else X=J;X=X.trim();const Q=`${X}_${!!$.trimForExclusions}`;let Y=Kd.get(Q);if(Y)return Pd(Y,J);let Z;if(B90.test(X))Y=R90(X.substr(4),X);else if(Z=F90.exec(HE(X,$)))Y=M90(Z[1],X);else if(($.trimForExclusions?A90:K90).test(X))Y=O90(X,$);else if(Z=P90.exec(HE(X,$)))Y=Dd(Z[1].substr(1),X,!0);else if(Z=D90.exec(HE(X,$)))Y=Dd(Z[1],X,!1);else Y=T90(X);return Kd.set(Q,Y),Pd(Y,J)},Pd=function(J,$){if(typeof $==="string")return J;const X=function(Q,Y){if(!ez(Q,$.base,!B8))return null;return J(rQ(Q.substr($.base.length),X4),Y)};return X.allBasenames=J.allBasenames,X.allPaths=J.allPaths,X.basenames=J.basenames,X.patterns=J.patterns,X},HE=function(J,$){return $.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J},R90=function(J,$){return function(X,Q){return typeof X==="string"&&X.endsWith(J)?$:null}},M90=function(J,$){const X=`/${J}`,Q=`\\${J}`,Y=function(G,q){if(typeof G!=="string")return null;if(q)return q===J?$:null;return G===J||G.endsWith(X)||G.endsWith(Q)?$:null},Z=[J];return Y.basenames=Z,Y.patterns=[$],Y.allBasenames=Z,Y},O90=function(J,$){const X=Od(J.slice(1,-1).split(",").map((q)=>zE(q,$)).filter((q)=>q!==s$),J),Q=X.length;if(!Q)return s$;if(Q===1)return X[0];const Y=function(q,U){for(let H=0,z=X.length;H<z;H++)if(X[H](q,U))return J;return null},Z=X.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;const G=X.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y},Dd=function(J,$,X){const Q=X4===O8.sep,Y=Q?J:J.replace(W90,X4),Z=X4+Y,G=O8.sep+J;let q;if(X)q=function(U,H){return typeof U==="string"&&(U===Y||U.endsWith(Z)||!Q&&(U===J||U.endsWith(G)))?$:null};else q=function(U,H){return typeof U==="string"&&(U===Y||!Q&&U===J)?$:null};return q.allPaths=[(X?"*/":"./")+J],q},T90=function(J){try{const $=new RegExp(`^${Rd(J)}\$`);return function(X){return $.lastIndex=0,typeof X==="string"&&$.test(X)?J:null}}catch($){return s$}};_90=function(J,$){const X=Od(Object.getOwnPropertyNames(J).map((q)=>w90(q,J[q],$)).filter((q)=>q!==s$)),Q=X.length;if(!Q)return s$;if(!X.some((q)=>!!q.requiresSiblings)){if(Q===1)return X[0];const q=function(z,V){let j=void 0;for(let W=0,B=X.length;W<B;W++){const K=X[W](z,V);if(typeof K==="string")return K;if(OF(K)){if(!j)j=[];j.push(K)}}if(j)return(async()=>{for(let W of j){const B=await W;if(typeof B==="string")return B}return null})();return null},U=X.find((z)=>!!z.allBasenames);if(U)q.allBasenames=U.allBasenames;const H=X.reduce((z,V)=>V.allPaths?z.concat(V.allPaths):z,[]);if(H.length)q.allPaths=H;return q}const Y=function(q,U,H){let z=void 0,V=void 0;for(let j=0,W=X.length;j<W;j++){const B=X[j];if(B.requiresSiblings&&H){if(!U)U=WJ(q);if(!z)z=U.substr(0,U.length-Mx(q).length)}const K=B(q,U,z,H);if(typeof K==="string")return K;if(OF(K)){if(!V)V=[];V.push(K)}}if(V)return(async()=>{for(let j of V){const W=await j;if(typeof W==="string")return W}return null})();return null},Z=X.find((q)=>!!q.allBasenames);if(Z)Y.allBasenames=Z.allBasenames;const G=X.reduce((q,U)=>U.allPaths?q.concat(U.allPaths):q,[]);if(G.length)Y.allPaths=G;return Y},w90=function(J,$,X){if($===!1)return s$;const Q=zE(J,X);if(Q===s$)return s$;if(typeof $==="boolean")return Q;if($){const Y=$.when;if(typeof Y==="string"){const Z=(G,q,U,H)=>{if(!H||!Q(G,q))return null;const z=Y.replace("$(basename)",()=>U),V=H(z);return OF(V)?V.then((j)=>j?J:null):V?J:null};return Z.requiresSiblings=!0,Z}}return Q},Od=function(J,$){const X=J.filter((q)=>!!q.basenames);if(X.length<2)return J;const Q=X.reduce((q,U)=>{const H=U.basenames;return H?q.concat(H):q},[]);let Y;if($){Y=[];for(let q=0,U=Q.length;q<U;q++)Y.push($)}else Y=X.reduce((q,U)=>{const H=U.patterns;return H?q.concat(H):q},[]);const Z=function(q,U){if(typeof q!=="string")return null;if(!U){let z;for(z=q.length;z>0;z--){const V=q.charCodeAt(z-1);if(V===47||V===92)break}U=q.substr(z)}const H=Q.indexOf(U);return H!==-1?Y[H]:null};Z.basenames=Q,Z.patterns=Y,Z.allBasenames=Q;const G=J.filter((q)=>!q.basenames);return G.push(Z),G},WP="**",Wd="/",BP="[/\\\\]",FP="[^/\\\\]",W90=/\//g,B90=/^\*\*\/\*\.[\w\.-]+$/,F90=/^\*\*\/([\w\.-]+)\/?$/,K90=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,A90=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,P90=/^\*\*((\/[\w\.-]+)+)\/?$/,D90=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Kd=new mX(1e4),Ad=function(){return!1},s$=function(){return null}});function WE(J,$,X,Q,Y,Z){if(Array.isArray(J)){let G=0;for(let q of J){const U=WE(q,$,X,Q,Y,Z);if(U===10)return U;if(U>G)G=U}return G}else if(typeof J==="string"){if(!Q)return 0;if(J==="*")return 5;else if(J===X)return 10;else return 0}else if(J){const{language:G,pattern:q,scheme:U,hasAccessToAllModels:H,notebookType:z}=J;if(!Q&&!H)return 0;if(z&&Y)$=Y;let V=0;if(U)if(U===$.scheme)V=10;else if(U==="*")V=5;else return 0;if(G)if(G===X)V=10;else if(G==="*")V=Math.max(V,5);else return 0;if(z)if(z===Z)V=10;else if(z==="*"&&Z!==void 0)V=Math.max(V,5);else return 0;if(q){let j;if(typeof q==="string")j=q;else j={...q,base:tW(q.base)};if(j===$.fsPath||Md(j,$.fsPath))V=10;else return 0}return V}else return 0}var Td=N(()=>{jE();AX()});class BE{constructor(J,$,X,Q){this.uri=J,this.languageId=$,this.notebookUri=X,this.notebookType=Q}equals(J){var $,X;return this.notebookType===J.notebookType&&this.languageId===J.languageId&&this.uri.toString()===J.uri.toString()&&(($=this.notebookUri)===null||$===void 0?void 0:$.toString())===((X=J.notebookUri)===null||X===void 0?void 0:X.toString())}}class R8{constructor(J){this._notebookInfoResolver=J,this._clock=0,this._entries=[],this._onDidChange=new y,this.onDidChange=this._onDidChange.event}register(J,$){let X={selector:J,provider:$,_score:-1,_time:this._clock++};return this._entries.push(X),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),K0(()=>{if(X){const Q=this._entries.indexOf(X);if(Q>=0)this._entries.splice(Q,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),X=void 0}})}has(J){return this.all(J).length>0}all(J){if(!J)return[];this._updateScores(J);const $=[];for(let X of this._entries)if(X._score>0)$.push(X.provider);return $}ordered(J){const $=[];return this._orderedForEach(J,(X)=>$.push(X.provider)),$}orderedGroups(J){const $=[];let X,Q;return this._orderedForEach(J,(Y)=>{if(X&&Q===Y._score)X.push(Y.provider);else Q=Y._score,X=[Y.provider],$.push(X)}),$}_orderedForEach(J,$){this._updateScores(J);for(let X of this._entries)if(X._score>0)$(X)}_updateScores(J){var $,X;const Q=($=this._notebookInfoResolver)===null||$===void 0?void 0:$.call(this,J.uri),Y=Q?new BE(J.uri,J.getLanguageId(),Q.uri,Q.type):new BE(J.uri,J.getLanguageId(),void 0,void 0);if((X=this._lastCandidate)===null||X===void 0?void 0:X.equals(Y))return;this._lastCandidate=Y;for(let Z of this._entries)if(Z._score=WE(Z.selector,Y.uri,Y.languageId,dv(J),Y.notebookUri,Y.notebookType),Nd(Z.selector)&&Z._score>0){for(let G of this._entries)G._score=0;Z._score=1000;break}this._entries.sort(R8._compareByScoreAndTime)}static _compareByScoreAndTime(J,$){if(J._score<$._score)return 1;else if(J._score>$._score)return-1;if(EV(J.selector)&&!EV($.selector))return 1;else if(!EV(J.selector)&&EV($.selector))return-1;if(J._time<$._time)return 1;else if(J._time>$._time)return-1;else return 0}}var Nd,EV;var _d=N(()=>{F0();X0();g5();Td();Nd=function(J){if(typeof J==="string")return!1;else if(Array.isArray(J))return J.every(Nd);else return!!J.exclusive},EV=function(J){if(typeof J==="string")return!1;if(Array.isArray(J))return J.some(EV);return Boolean(J.isBuiltin)}});class wd{constructor(){this.referenceProvider=new R8(this._score.bind(this)),this.renameProvider=new R8(this._score.bind(this)),this.codeActionProvider=new R8(this._score.bind(this)),this.definitionProvider=new R8(this._score.bind(this)),this.typeDefinitionProvider=new R8(this._score.bind(this)),this.declarationProvider=new R8(this._score.bind(this)),this.implementationProvider=new R8(this._score.bind(this)),this.documentSymbolProvider=new R8(this._score.bind(this)),this.inlayHintsProvider=new R8(this._score.bind(this)),this.colorProvider=new R8(this._score.bind(this)),this.codeLensProvider=new R8(this._score.bind(this)),this.documentFormattingEditProvider=new R8(this._score.bind(this)),this.documentRangeFormattingEditProvider=new R8(this._score.bind(this)),this.onTypeFormattingEditProvider=new R8(this._score.bind(this)),this.signatureHelpProvider=new R8(this._score.bind(this)),this.hoverProvider=new R8(this._score.bind(this)),this.documentHighlightProvider=new R8(this._score.bind(this)),this.multiDocumentHighlightProvider=new R8(this._score.bind(this)),this.selectionRangeProvider=new R8(this._score.bind(this)),this.foldingRangeProvider=new R8(this._score.bind(this)),this.linkProvider=new R8(this._score.bind(this)),this.inlineCompletionsProvider=new R8(this._score.bind(this)),this.completionProvider=new R8(this._score.bind(this)),this.linkedEditingRangeProvider=new R8(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new R8(this._score.bind(this)),this.documentSemanticTokensProvider=new R8(this._score.bind(this)),this.documentOnDropEditProvider=new R8(this._score.bind(this)),this.documentPasteEditProvider=new R8(this._score.bind(this))}_score(J){var $;return($=this._notebookTypeResolver)===null||$===void 0?void 0:$.call(this,J)}}var Ld=N(()=>{_d();d9();h9();z1(K1,wd,1)});var C3;var KP=N(()=>{m0();C3=M0("hoverService")});var S4,n5;var DQ=N(()=>{m0();S4=M0("contextViewService"),n5=M0("contextMenuService")});var Ed=N(()=>{q1();V0(".monaco-workbench .workbench-hover{z-index:40;background:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border);color:var(--vscode-editorHoverWidget-foreground);box-shadow:0 2px 8px var(--vscode-widget-shadow);border-radius:3px;max-width:700px;font-size:13px;line-height:19px;position:relative;overflow:hidden}.monaco-workbench .workbench-hover hr{border-bottom:none}.monaco-workbench .workbench-hover:not(.skip-fade-in){animation:.1s linear fadein}.monaco-workbench .workbench-hover.compact{font-size:12px}.monaco-workbench .workbench-hover.compact .hover-contents{padding:2px 8px}.monaco-workbench .workbench-hover-container.locked .workbench-hover{outline:1px solid var(--vscode-editorHoverWidget-border)}.monaco-workbench .workbench-hover-container.locked .workbench-hover:focus,.monaco-workbench .workbench-hover-lock:focus{outline:1px solid var(--vscode-focusBorder)}.monaco-workbench .workbench-hover-container.locked .workbench-hover-lock:hover{background:var(--vscode-toolbar-hoverBackground)}.monaco-workbench .workbench-hover-pointer{z-index:41;pointer-events:none;position:absolute}.monaco-workbench .workbench-hover-pointer:after{content:\"\";background-color:var(--vscode-editorHoverWidget-background);border-right:1px solid var(--vscode-editorHoverWidget-border);border-bottom:1px solid var(--vscode-editorHoverWidget-border);width:5px;height:5px;position:absolute}.monaco-workbench .locked .workbench-hover-pointer:after{border-bottom-width:2px;border-right-width:2px;width:4px;height:4px}.monaco-workbench .workbench-hover-pointer.left{left:-3px}.monaco-workbench .workbench-hover-pointer.right{right:3px}.monaco-workbench .workbench-hover-pointer.top{top:-3px}.monaco-workbench .workbench-hover-pointer.bottom{bottom:3px}.monaco-workbench .workbench-hover-pointer.left:after{transform:rotate(135deg)}.monaco-workbench .workbench-hover-pointer.right:after{transform:rotate(315deg)}.monaco-workbench .workbench-hover-pointer.top:after{transform:rotate(225deg)}.monaco-workbench .workbench-hover-pointer.bottom:after{transform:rotate(45deg)}.monaco-workbench .workbench-hover a{color:var(--vscode-textLink-foreground)}.monaco-workbench .workbench-hover a:focus{outline-offset:-1px;outline:1px solid;outline-color:var(--vscode-focusBorder);text-decoration:underline}.monaco-workbench .workbench-hover a:hover,.monaco-workbench .workbench-hover a:active{color:var(--vscode-textLink-activeForeground)}.monaco-workbench .workbench-hover code{background:var(--vscode-textCodeBlock-background)}.monaco-workbench .workbench-hover .hover-row .actions{background:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-workbench .workbench-hover.right-aligned{left:1px}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions{flex-direction:row-reverse}.monaco-workbench .workbench-hover.right-aligned .hover-row.status-bar .actions .action-container{margin-left:16px;margin-right:0}")});var kd=N(()=>{q1();V0(".monaco-hover{cursor:default;-webkit-user-select:text;user-select:text;box-sizing:border-box;white-space:var(--vscode-hover-whiteSpace,normal);line-height:1.5em;animation:.1s linear fadein;position:absolute;overflow:hidden}.monaco-hover.hidden{display:none}.monaco-hover a:hover:not(.disabled){cursor:pointer}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:var(--vscode-hover-maxWidth,500px);word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover p,.monaco-hover .code,.monaco-hover ul,.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{margin:8px 0}.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{line-height:1.1}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;height:1px;margin:4px -8px -4px}.monaco-hover p:first-child,.monaco-hover .code:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover p:last-child,.monaco-hover .code:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ul,.monaco-hover ol{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:var(--vscode-hover-sourceWhiteSpace,pre-wrap)}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .info{padding:0 8px;font-style:italic}.monaco-hover .hover-row.status-bar .actions{padding:0 8px;display:flex}.monaco-hover .hover-row.status-bar .actions .action-container{cursor:pointer;margin-right:16px}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link:hover,.monaco-hover .hover-contents a.code-link{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:\"(\"}.monaco-hover .hover-contents a.code-link:after{content:\")\"}.monaco-hover .hover-contents a.code-link>span{text-underline-position:under;color:var(--vscode-textLink-foreground);border-bottom:1px solid #0000;text-decoration:underline}.monaco-hover .hover-contents a.code-link>span:hover{color:var(--vscode-textLink-activeForeground)}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}")});function Id(J,$){return J&&$?F("acessibleViewHint","Inspect this in the accessible view with {0}.",$):J?F("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class FE extends f{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new JQ(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class PP extends f{static render(J,$,X){return new PP(J,$,X)}constructor(J,$,X){super();if(this.actionContainer=Z0(J,AP("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Z0(this.actionContainer,AP("a.action")),this.action.setAttribute("role","button"),$.iconClass)Z0(this.action,AP(`span.icon.${$.iconClass}`));const Q=Z0(this.action,AP("span"));Q.textContent=X?`${$.label} (${X})`:$.label,this._register(m(this.actionContainer,$0.CLICK,(Y)=>{Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this._register(m(this.actionContainer,$0.KEY_DOWN,(Y)=>{const Z=new A1(Y);if(Z.equals(3)||Z.equals(10))Y.stopPropagation(),Y.preventDefault(),$.run(this.actionContainer)})),this.setEnabled(!0)}setEnabled(J){if(J)this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled");else this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true")}}var AP;var yd=N(()=>{D0();T7();_4();X0();kd();h0();AP=q0});function Sd(J){let $=void 0;const X=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(J.fragment);if(X)$={startLineNumber:parseInt(X[1]),startColumn:X[2]?parseInt(X[2]):1,endLineNumber:X[4]?parseInt(X[4]):void 0,endColumn:X[4]?X[5]?parseInt(X[5]):1:void 0},J=J.with({fragment:""});return{selection:$,uri:J}}var a$;var nG=N(()=>{m0();a$=M0("openerService")});function Cd(J,$={}){const X=DP($);return X.textContent=J,X}function xd(J,$={}){const X=DP($);return vd(X,L90(J,!!$.renderCodeSegments),$.actionHandler,$.renderCodeSegments),X}function DP(J){const $=J.inline?"span":"div",X=document.createElement($);if(J.className)X.className=J.className;return X}class bd{constructor(J){this.source=J,this.index=0}eos(){return this.index>=this.source.length}next(){const J=this.peek();return this.advance(),J}peek(){return this.source[this.index]}advance(){this.index++}}var vd,L90,E90,KE;var AE=N(()=>{D0();vd=function(J,$,X,Q){let Y;if($.type===2)Y=document.createTextNode($.content||"");else if($.type===3)Y=document.createElement("b");else if($.type===4)Y=document.createElement("i");else if($.type===7&&Q)Y=document.createElement("code");else if($.type===5&&X){const Z=document.createElement("a");X.disposables.add(i1(Z,"click",(G)=>{X.callback(String($.index),G)})),Y=Z}else if($.type===8)Y=document.createElement("br");else if($.type===1)Y=J;if(Y&&J!==Y)J.appendChild(Y);if(Y&&Array.isArray($.children))$.children.forEach((Z)=>{vd(Y,Z,X,Q)})},L90=function(J,$){const X={type:1,children:[]};let Q=0,Y=X;const Z=[],G=new bd(J);while(!G.eos()){let q=G.next();const U=q==="\\"&&KE(G.peek(),$)!==0;if(U)q=G.next();if(!U&&E90(q,$)&&q===G.peek()){if(G.advance(),Y.type===2)Y=Z.pop();const H=KE(q,$);if(Y.type===H||Y.type===5&&H===6)Y=Z.pop();else{const z={type:H,children:[]};if(H===5)z.index=Q,Q++;Y.children.push(z),Z.push(Y),Y=z}}else if(q==="\n"){if(Y.type===2)Y=Z.pop();Y.children.push({type:8})}else if(Y.type!==2){const H={type:2,content:q};Y.children.push(H),Z.push(Y),Y=H}else Y.content+=q}if(Y.type===2)Y=Z.pop();if(Z.length);return X},E90=function(J,$){return KE(J,$)!==0},KE=function(J,$){switch(J){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return $?7:0;default:return 0}}});function fJ(J){const $=new Array;let X,Q=0,Y=0;while((X=k90.exec(J))!==null){if(Y=X.index||0,Q<Y)$.push(J.substring(Q,Y));Q=(X.index||0)+X[0].length;const[,Z,G]=X;$.push(Z?`\$(${G})`:x3({id:G}))}if(Q<J.length)$.push(J.substring(Q));return $}function x3(J){const $=q0("span");return $.classList.add(...y0.asClassNameArray(J)),$}var k90;var oG=N(()=>{D0();W6();k90=new RegExp(`(\\\\)?\\\$\\((${y0.iconNameExpression}(?:${y0.iconModifierExpression})?)\\)`,"g")});var rS0,iS0,nS0,oS0,tS0;var fd=N(()=>{rS0=new Uint32Array(10),iS0=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),nS0=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),oS0=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),tS0=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])});function pd(...J){return function($,X){for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q]($,X);if(Z)return Z}return null}}function I90(J,$){const X=$.toLowerCase().indexOf(J.toLowerCase());if(X===-1)return null;return[{start:X,end:X+J.length}]}function y90(J,$){return DE(J.toLowerCase(),$.toLowerCase(),0,0)}function OP(J){return 65<=J&&J<=90}function dd(J,$){if(!$)return null;if($=$.trim(),$.length===0)return null;if(!f90(J))return null;if($.length>60)return null;const X=x90($);if(!v90(X)){if(!b90(X))return null;$=$.toLowerCase()}let Q=null,Y=0;J=J.toLowerCase();while(Y<$.length&&(Q=RE(J,$,0,Y))===null)Y=ld($,Y+1);return Q}function NE(J,$,X=!1){if(typeof J!=="string"||typeof $!=="string")return null;let Q=hd.get(J);if(!Q)Q=new RegExp(hx(J),"i"),hd.set(J,Q);const Y=Q.exec($);if(Y)return[{start:Y.index,end:Y.index+Y[0].length}];return X?g90(J,$):h90(J,$)}function sd(J,$){const X=gY(J,J.toLowerCase(),0,$,$.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return X?_E(X):null}function ad(J,$,X,Q,Y,Z){const G=Math.min(13,J.length);for(;X<G;X++){const q=gY(J,$,X,Q,Y,Z,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return q}return[0,Z]}function _E(J){if(typeof J==="undefined")return[];const $=[],X=J[1];for(let Q=J.length-1;Q>1;Q--){const Y=J[Q]+X,Z=$[$.length-1];if(Z&&Z.end===Y)Z.end=Y+1;else $.push({start:Y,end:Y+1})}return $}function u90(J,$,X,Q,Y,Z,G=!1){while($<X&&Y<Z){if(J[$]===Q[Y]){if(G)id[$]=Y;$+=1}Y+=1}return $===X}function gY(J,$,X,Q,Y,Z,G=tG.default){const q=J.length>hY?hY:J.length,U=Q.length>hY?hY:Q.length;if(X>=q||Z>=U||q-X>U-Z)return;if(!u90($,X,q,Y,Z,U,!0))return;c90(q,U,X,Z,$,Y);let H=1,z=1,V=X,j=Z;const W=[!1];for(H=1,V=X;V<q;H++,V++){const D=id[V],R=ME[V],M=V+1<q?ME[V+1]:U;for(z=D-Z+1,j=D;j<M;z++,j++){let O=Number.MIN_SAFE_INTEGER,_=!1;if(j<=R)O=l90(J,$,V,X,Q,Y,j,U,Z,r$[H-1][z-1]===0,W);let w=0;if(O!==Number.MAX_SAFE_INTEGER)_=!0,w=O+fY[H-1][z-1];const C=j>D,x=C?fY[H][z-1]+(r$[H][z-1]>0?-5:0):0,g=j>D+1&&r$[H][z-1]>0,c=g?fY[H][z-2]+(r$[H][z-2]>0?-5:0):0;if(g&&(!C||c>=x)&&(!_||c>=w))fY[H][z]=c,kV[H][z]=3,r$[H][z]=0;else if(C&&(!_||x>=w))fY[H][z]=x,kV[H][z]=2,r$[H][z]=0;else if(_)fY[H][z]=w,kV[H][z]=1,r$[H][z]=r$[H-1][z-1]+1;else throw new Error("not possible")}}if(p90)m90(J,X,Q,Z);if(!W[0]&&!G.firstMatchCanBeWeak)return;H--,z--;const B=[fY[H][z],Z];let K=0,P=0;while(H>=1){let D=z;do{const R=kV[H][D];if(R===3)D=D-2;else if(R===2)D=D-1;else break}while(D>=1);if(K>1&&$[X+H-1]===Y[Z+z-1]&&!MP(D+Z-1,Q,Y)&&K+1>r$[H][D])D=z;if(D===z)K++;else K=1;if(!P)P=D;H--,z=D-1,B.push(z)}if(U===q&&G.boostFullMatch)B[0]+=2;const A=P-q;return B[0]-=A,B}function nd(J,$,X,Q,Y,Z,G){return d90(J,$,X,Q,Y,Z,!0,G)}class tG{constructor(J,$){this.firstMatchCanBeWeak=J,this.boostFullMatch=$}}var md,DE,OE,TE,S90,ud,cd,ld,RE,x90,b90,v90,f90,wE,rd,PE,m90,RP,gd,MP,c90,l90,d90,s90,QC0,IV,C90,h90,g90,hd,hY,id,ME,r$,fY,kV,p90,hJ;var pY=N(()=>{W4();fd();o0();md=function(J,$,X){if(!X||X.length<$.length)return null;let Q;if(J)Q=t2(X,$);else Q=X.indexOf($)===0;if(!Q)return null;return $.length>0?[{start:0,end:$.length}]:[]};DE=function(J,$,X,Q){if(X===J.length)return[];else if(Q===$.length)return null;else{if(J[X]===$[Q]){let Y=null;if(Y=DE(J,$,X+1,Q+1))return cd({start:Q,end:Q+1},Y);return null}return DE(J,$,X,Q+1)}},OE=function(J){return 97<=J&&J<=122};TE=function(J){return 48<=J&&J<=57},S90=function(J){return J===32||J===9||J===10||J===13},ud=function(J){return OE(J)||OP(J)||TE(J)},cd=function(J,$){if($.length===0)$=[J];else if(J.end===$[0].start)$[0].start=J.start;else $.unshift(J);return $},ld=function(J,$){for(let X=$;X<J.length;X++){const Q=J.charCodeAt(X);if(OP(Q)||TE(Q)||X>0&&!ud(J.charCodeAt(X-1)))return X}return J.length},RE=function(J,$,X,Q){if(X===J.length)return[];else if(Q===$.length)return null;else if(J[X]!==$[Q].toLowerCase())return null;else{let Y=null,Z=Q+1;Y=RE(J,$,X+1,Q+1);while(!Y&&(Z=ld($,Z))<$.length)Y=RE(J,$,X+1,Z),Z++;return Y===null?null:cd({start:Q,end:Q+1},Y)}},x90=function(J){let $=0,X=0,Q=0,Y=0,Z=0;for(let z=0;z<J.length;z++){if(Z=J.charCodeAt(z),OP(Z))$++;if(OE(Z))X++;if(ud(Z))Q++;if(TE(Z))Y++}const G=$/J.length,q=X/J.length,U=Q/J.length,H=Y/J.length;return{upperPercent:G,lowerPercent:q,alphaPercent:U,numericPercent:H}},b90=function(J){const{upperPercent:$,lowerPercent:X}=J;return X===0&&$>0.6},v90=function(J){const{upperPercent:$,lowerPercent:X,alphaPercent:Q,numericPercent:Y}=J;return X>0.2&&$<0.8&&Q>0.6&&Y<0.2},f90=function(J){let $=0,X=0,Q=0,Y=0;for(let Z=0;Z<J.length;Z++){if(Q=J.charCodeAt(Z),OP(Q))$++;if(OE(Q))X++;if(S90(Q))Y++}if(($===0||X===0)&&Y===0)return J.length<=30;else return $<=5};wE=function(){const J=[],$=[];for(let X=0;X<=hY;X++)$[X]=0;for(let X=0;X<=hY;X++)J.push($.slice(0));return J},rd=function(J){const $=[];for(let X=0;X<=J;X++)$[X]=0;return $},PE=function(J,$,X,Q,Y){function Z(q,U,H=" "){while(q.length<U)q=H+q;return q}let G=` |   |${Q.split("").map((q)=>Z(q,3)).join("|")}\n`;for(let q=0;q<=X;q++){if(q===0)G+=" |";else G+=`${$[q-1]}|`;G+=J[q].slice(0,Y+1).map((U)=>Z(U.toString(),3)).join("|")+"\n"}return G},m90=function(J,$,X,Q){J=J.substr($),X=X.substr(Q),console.log(PE(fY,J,J.length,X,X.length)),console.log(PE(kV,J,J.length,X,X.length)),console.log(PE(r$,J,J.length,X,X.length))},RP=function(J,$){if($<0||$>=J.length)return!1;const X=J.codePointAt($);switch(X){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:if(KH(X))return!0;return!1}},gd=function(J,$){if($<0||$>=J.length)return!1;switch(J.charCodeAt($)){case 32:case 9:return!0;default:return!1}},MP=function(J,$,X){return $[J]!==X[J]};c90=function(J,$,X,Q,Y,Z){let G=J-1,q=$-1;while(G>=X&&q>=Q){if(Y[G]===Z[q])ME[G]=q,G--;q--}},l90=function(J,$,X,Q,Y,Z,G,q,U,H,z){if($[X]!==Z[G])return Number.MIN_SAFE_INTEGER;let V=1,j=!1;if(G===X-Q)V=J[X]===Y[G]?7:5;else if(MP(G,Y,Z)&&(G===0||!MP(G-1,Y,Z)))V=J[X]===Y[G]?7:5,j=!0;else if(RP(Z,G)&&(G===0||!RP(Z,G-1)))V=5;else if(RP(Z,G-1)||gd(Z,G-1))V=5,j=!0;if(V>1&&X===Q)z[0]=!0;if(!j)j=MP(G,Y,Z)||RP(Z,G-1)||gd(Z,G-1);if(X===Q){if(G>U)V-=j?3:5}else if(H)V+=j?2:0;else V+=j?0:1;if(G+1===q)V-=j?3:5;return V};d90=function(J,$,X,Q,Y,Z,G,q){let U=gY(J,$,X,Q,Y,Z,q);if(U&&!G)return U;if(J.length>=3){const H=Math.min(7,J.length-1);for(let z=X+1;z<H;z++){const V=s90(J,z);if(V){const j=gY(V,V.toLowerCase(),X,Q,Y,Z,q);if(j){if(j[0]-=3,!U||j[0]>U[0])U=j}}}}return U},s90=function(J,$){if($+1>=J.length)return;const X=J[$],Q=J[$+1];if(X===Q)return;return J.slice(0,$)+Q+X+J.slice($+2)},QC0=md.bind(void 0,!1),IV=md.bind(void 0,!0),C90=new Set;'()[]{}<>`\'"-/;:,.?!'.split("").forEach((J)=>C90.add(J.charCodeAt(0)));h90=pd(IV,dd,I90),g90=pd(IV,dd,y90),hd=new mX(1e4),hY=128,id=rd(2*hY),ME=rd(2*hY),r$=wE(),fY=wE(),kV=wE(),p90=!1;(function(J){J.Default=[-100,0];function $(X){return!X||X.length===2&&X[0]===-100&&X[1]===0}J.isDefault=$})(hJ||(hJ={}));tG.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}});function od(J){return J.replace(r90,($,X)=>X?$:`\\${$}`)}function td(J){return J.replace(i90,($)=>`\\${$}`)}function TP(J){if(J.indexOf(a90)===-1)return J;return J.replace(n90,($,X,Q,Y)=>Q?$:X||Y||"")}function ed(J){if(!J)return"";return J.replace(/\$\((.*?)\)/g,($,X)=>` ${X} `).trim()}function b3(J){LE.lastIndex=0;let $="";const X=[];let Q=0;while(!0){const Y=LE.lastIndex,Z=LE.exec(J),G=J.substring(Y,Z===null||Z===void 0?void 0:Z.index);if(G.length>0){$+=G;for(let q=0;q<G.length;q++)X.push(Q)}if(!Z)break;Q+=Z[0].length}return{text:$,iconOffsets:X}}function NP(J,$,X=!1){const{text:Q,iconOffsets:Y}=$;if(!Y||Y.length===0)return NE(J,Q,X);const Z=rQ(Q," "),G=Q.length-Z.length,q=NE(J,Z,X);if(q)for(let U of q){const H=Y[U.start+G]+G;U.start+=H,U.end+=H}return q}var a90,EE,r90,i90,n90,LE;var v3=N(()=>{pY();o0();W6();a90="$(",EE=new RegExp(`\\\$\\(${y0.iconNameExpression}(?:${y0.iconModifierExpression})?\\)`,"g"),r90=new RegExp(`(\\\\)?${EE.source}`,"g"),i90=new RegExp(`\\\\${EE.source}`,"g"),n90=new RegExp(`(\\s)?(\\\\)?${EE.source}(\\s)?`,"g"),LE=new RegExp(`\\\$\\(${y0.iconNameCharacter}+\\)`,"g")});function RQ(J){if(J instanceof f3)return!0;else if(J&&typeof J==="object")return typeof J.value==="string"&&(typeof J.isTrusted==="boolean"||typeof J.isTrusted==="object"||J.isTrusted===void 0)&&(typeof J.supportThemeIcons==="boolean"||J.supportThemeIcons===void 0);return!1}function Js(J,$){if(J===$)return!0;else if(!J||!$)return!1;else return J.value===$.value&&J.isTrusted===$.isTrusted&&J.supportThemeIcons===$.supportThemeIcons&&J.supportHtml===$.supportHtml&&(J.baseUri===$.baseUri||!!J.baseUri&&!!$.baseUri&&Vc(I0.from(J.baseUri),I0.from($.baseUri)))}function o90(J){return J.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function t90(J,$){var X,Q;const Y=(Q=(X=J.match(/^`+/gm))===null||X===void 0?void 0:X.reduce((G,q)=>G.length>q.length?G:q).length)!==null&&Q!==void 0?Q:0,Z=Y>=3?Y+1:3;return[`${"`".repeat(Z)}${$}`,J,`${"`".repeat(Z)}`].join("\n")}function yV(J){return J.replace(/"/g,"&quot;")}function _P(J){if(!J)return J;return J.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function $s(J){const $=[],X=J.split("|").map((Y)=>Y.trim());J=X[0];const Q=X[1];if(Q){const Y=/height=(\d+)/.exec(Q),Z=/width=(\d+)/.exec(Q),G=Y?Y[1]:"",q=Z?Z[1]:"",U=isFinite(parseInt(q)),H=isFinite(parseInt(G));if(U)$.push(`width="${q}"`);if(H)$.push(`height="${G}"`)}return{href:J,dimensions:$}}class f3{constructor(J="",$=!1){var X,Q,Y;if(this.value=J,typeof this.value!=="string")throw J4("value");if(typeof $==="boolean")this.isTrusted=$,this.supportThemeIcons=!1,this.supportHtml=!1;else this.isTrusted=(X=$.isTrusted)!==null&&X!==void 0?X:void 0,this.supportThemeIcons=(Q=$.supportThemeIcons)!==null&&Q!==void 0?Q:!1,this.supportHtml=(Y=$.supportHtml)!==null&&Y!==void 0?Y:!1}appendText(J,$=0){return this.value+=o90(this.supportThemeIcons?od(J):J).replace(/([ \t]+)/g,(X,Q)=>"&nbsp;".repeat(Q.length)).replace(/\>/gm,"\\>").replace(/\n/g,$===1?"\\\n":"\n\n"),this}appendMarkdown(J){return this.value+=J,this}appendCodeblock(J,$){return this.value+=`\n${t90($,J)}\n`,this}appendLink(J,$,X){if(this.value+="[",this.value+=this._escape($,"]"),this.value+="](",this.value+=this._escape(String(J),")"),X)this.value+=` "${this._escape(this._escape(X,'"'),")")}"`;return this.value+=")",this}_escape(J,$){const X=new RegExp(J5($),"g");return J.replace(X,(Q,Y)=>{if(J.charAt(Y-1)!=="\\")return`\\${Q}`;else return Q})}}var eG=N(()=>{D1();v3();g$();o0();e8()});class wP{constructor(J){this._prefix=J,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}var kE;var IE=N(()=>{kE=new wP("id#")});var yE={};TZ(yE,{walkTokens:()=>{{return WJ0}},use:()=>{{return jJ0}},setOptions:()=>{{return VJ0}},parser:()=>{{return zJ0}},parseInline:()=>{{return HJ0}},parse:()=>{{return UJ0}},options:()=>{{return qJ0}},marked:()=>{{return gJ}},lexer:()=>{{return GJ0}},getDefaults:()=>{{return ZJ0}},Tokenizer:()=>{{return YJ0}},TextRenderer:()=>{{return QJ0}},Slugger:()=>{{return XJ0}},Renderer:()=>{{return $J0}},Parser:()=>{{return JJ0}},Lexer:()=>{{return e90}}});var Xs=N(()=>{var q5={};(function(){function J($,X){X(q5)}J.amd=!0,function($,X){typeof J==="function"&&J.amd?J(["exports"],X):typeof yE==="object"&&typeof BJ0!=="undefined"?X(yE):($=typeof globalThis!=="undefined"?globalThis:$||self,X($.marked={}))}(this,function($){function X(o,s){for(var d=0;d<s.length;d++){var E=s[d];if(E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E)E.writable=!0;Object.defineProperty(o,E.key,E)}}function Q(o,s,d){if(s)X(o.prototype,s);if(d)X(o,d);return Object.defineProperty(o,"prototype",{writable:!1}),o}function Y(o,s){if(!o)return;if(typeof o==="string")return Z(o,s);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor)d=o.constructor.name;if(d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Z(o,s)}function Z(o,s){if(s==null||s>o.length)s=o.length;for(var d=0,E=new Array(s);d<s;d++)E[d]=o[d];return E}function G(o,s){var d=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(d)return(d=d.call(o)).next.bind(d);if(Array.isArray(o)||(d=Y(o))||s&&o&&typeof o.length==="number"){if(d)o=d;var E=0;return function(){if(E>=o.length)return{done:!0};return{done:!1,value:o[E++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}$.defaults=q();function U(o){$.defaults=o}var H=/[&<>"']/,z=/[&<>"']/g,V=/[<>"']|&(?!#?\w+;)/,j=/[<>"']|&(?!#?\w+;)/g,W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B=function o(s){return W[s]};function K(o,s){if(s){if(H.test(o))return o.replace(z,B)}else if(V.test(o))return o.replace(j,B);return o}var P=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function A(o){return o.replace(P,function(s,d){if(d=d.toLowerCase(),d==="colon")return":";if(d.charAt(0)==="#")return d.charAt(1)==="x"?String.fromCharCode(parseInt(d.substring(2),16)):String.fromCharCode(+d.substring(1));return""})}var D=/(^|[^\[])\^/g;function R(o,s){o=typeof o==="string"?o:o.source,s=s||"";var d={replace:function E(S,p){return p=p.source||p,p=p.replace(D,"$1"),o=o.replace(S,p),d},getRegex:function E(){return new RegExp(o,s)}};return d}var M=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(o,s,d){if(o){var E;try{E=decodeURIComponent(A(d)).replace(M,"").toLowerCase()}catch(S){return null}if(E.indexOf("javascript:")===0||E.indexOf("vbscript:")===0||E.indexOf("data:")===0)return null}if(s&&!O.test(d))d=c(s,d);try{d=encodeURI(d).replace(/%25/g,"%")}catch(S){return null}return d}var w={},C=/^[^:]+:\/*[^/]*$/,x=/^([^:]+:)[\s\S]*$/,g=/^([^:]+:\/*[^/]*)[\s\S]*$/;function c(o,s){if(!w[" "+o])if(C.test(o))w[" "+o]=o+"/";else w[" "+o]=Y0(o,"/",!0);o=w[" "+o];var d=o.indexOf(":")===-1;if(s.substring(0,2)==="//"){if(d)return s;return o.replace(x,"$1")+s}else if(s.charAt(0)==="/"){if(d)return s;return o.replace(g,"$1")+s}else return o+s}var b={exec:function o(){}};function u(o){var s=1,d,E;for(;s<arguments.length;s++){d=arguments[s];for(E in d)if(Object.prototype.hasOwnProperty.call(d,E))o[E]=d[E]}return o}function i(o,s){var d=o.replace(/\|/g,function(p,h,t){var W0=!1,E0=h;while(--E0>=0&&t[E0]==="\\")W0=!W0;if(W0)return"|";else return" |"}),E=d.split(/ \|/),S=0;if(!E[0].trim())E.shift();if(E.length>0&&!E[E.length-1].trim())E.pop();if(E.length>s)E.splice(s);else while(E.length<s)E.push("");for(;S<E.length;S++)E[S]=E[S].trim().replace(/\\\|/g,"|");return E}function Y0(o,s,d){var E=o.length;if(E===0)return"";var S=0;while(S<E){var p=o.charAt(E-S-1);if(p===s&&!d)S++;else if(p!==s&&d)S++;else break}return o.slice(0,E-S)}function P0(o,s){if(o.indexOf(s[1])===-1)return-1;var d=o.length,E=0,S=0;for(;S<d;S++)if(o[S]==="\\")S++;else if(o[S]===s[0])E++;else if(o[S]===s[1]){if(E--,E<0)return S}return-1}function R0(o){if(o&&o.sanitize&&!o.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function _0(o,s){if(s<1)return"";var d="";while(s>1){if(s&1)d+=o;s>>=1,o+=o}return d+o}function A0(o,s,d,E){var S=s.href,p=s.title?K(s.title):null,h=o[1].replace(/\\([\[\]])/g,"$1");if(o[0].charAt(0)!=="!"){E.state.inLink=!0;var t={type:"link",raw:d,href:S,title:p,text:h,tokens:E.inlineTokens(h)};return E.state.inLink=!1,t}return{type:"image",raw:d,href:S,title:p,text:K(h)}}function f0(o,s){var d=o.match(/^(\s+)(?:```)/);if(d===null)return s;var E=d[1];return s.split("\n").map(function(S){var p=S.match(/^\s+/);if(p===null)return S;var h=p[0];if(h.length>=E.length)return S.slice(E.length);return S}).join("\n")}var l0=function(){function o(d){this.options=d||$.defaults}var s=o.prototype;return s.space=function d(E){var S=this.rules.block.newline.exec(E);if(S&&S[0].length>0)return{type:"space",raw:S[0]}},s.code=function d(E){var S=this.rules.block.code.exec(E);if(S){var p=S[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:S[0],codeBlockStyle:"indented",text:!this.options.pedantic?Y0(p,"\n"):p}}},s.fences=function d(E){var S=this.rules.block.fences.exec(E);if(S){var p=S[0],h=f0(p,S[3]||"");return{type:"code",raw:p,lang:S[2]?S[2].trim():S[2],text:h}}},s.heading=function d(E){var S=this.rules.block.heading.exec(E);if(S){var p=S[2].trim();if(/#$/.test(p)){var h=Y0(p,"#");if(this.options.pedantic)p=h.trim();else if(!h||/ $/.test(h))p=h.trim()}return{type:"heading",raw:S[0],depth:S[1].length,text:p,tokens:this.lexer.inline(p)}}},s.hr=function d(E){var S=this.rules.block.hr.exec(E);if(S)return{type:"hr",raw:S[0]}},s.blockquote=function d(E){var S=this.rules.block.blockquote.exec(E);if(S){var p=S[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:S[0],tokens:this.lexer.blockTokens(p,[]),text:p}}},s.list=function d(E){var S=this.rules.block.list.exec(E);if(S){var p,h,t,W0,E0,x0,G1,Y1,o1,s1,s0,f8,h8=S[1].trim(),ZJ=h8.length>1,x1={type:"list",raw:"",ordered:ZJ,start:ZJ?+h8.slice(0,-1):"",loose:!1,items:[]};if(h8=ZJ?"\\d{1,9}\\"+h8.slice(-1):"\\"+h8,this.options.pedantic)h8=ZJ?h8:"[*+-]";var Z6=new RegExp("^( {0,3}"+h8+")((?:[\t ][^\\n]*)?(?:\\n|$))");while(E){if(f8=!1,!(S=Z6.exec(E)))break;if(this.rules.block.hr.test(E))break;if(p=S[0],E=E.substring(p.length),Y1=S[2].split("\n",1)[0],o1=E.split("\n",1)[0],this.options.pedantic)W0=2,s0=Y1.trimLeft();else W0=S[2].search(/[^ ]/),W0=W0>4?1:W0,s0=Y1.slice(W0),W0+=S[1].length;if(x0=!1,!Y1&&/^ *$/.test(o1))p+=o1+"\n",E=E.substring(o1.length+1),f8=!0;if(!f8){var PZ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),DZ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),iJ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}(?:```|~~~)"),xQ=new RegExp("^ {0,"+Math.min(3,W0-1)+"}#");while(E){if(s1=E.split("\n",1)[0],Y1=s1,this.options.pedantic)Y1=Y1.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(iJ.test(Y1))break;if(xQ.test(Y1))break;if(PZ.test(Y1))break;if(DZ.test(E))break;if(Y1.search(/[^ ]/)>=W0||!Y1.trim())s0+="\n"+Y1.slice(W0);else if(!x0)s0+="\n"+Y1;else break;if(!x0&&!Y1.trim())x0=!0;p+=s1+"\n",E=E.substring(s1.length+1)}}if(!x1.loose){if(G1)x1.loose=!0;else if(/\n *\n *$/.test(p))G1=!0}if(this.options.gfm){if(h=/^\[[ xX]\] /.exec(s0),h)t=h[0]!=="[ ] ",s0=s0.replace(/^\[[ xX]\] +/,"")}x1.items.push({type:"list_item",raw:p,task:!!h,checked:t,loose:!1,text:s0}),x1.raw+=p}x1.items[x1.items.length-1].raw=p.trimRight(),x1.items[x1.items.length-1].text=s0.trimRight(),x1.raw=x1.raw.trimRight();var RZ=x1.items.length;for(E0=0;E0<RZ;E0++){this.lexer.state.top=!1,x1.items[E0].tokens=this.lexer.blockTokens(x1.items[E0].text,[]);var MZ=x1.items[E0].tokens.filter(function(OZ){return OZ.type==="space"}),b2=MZ.every(function(OZ){var YM=OZ.raw.split(""),r4=0;for(var lU=G(YM),dU;!(dU=lU()).done;){var EW=dU.value;if(EW==="\n")r4+=1;if(r4>1)return!0}return!1});if(!x1.loose&&MZ.length&&b2)x1.loose=!0,x1.items[E0].loose=!0}return x1}},s.html=function d(E){var S=this.rules.block.html.exec(E);if(S){var p={type:"html",raw:S[0],pre:!this.options.sanitizer&&(S[1]==="pre"||S[1]==="script"||S[1]==="style"),text:S[0]};if(this.options.sanitize){var h=this.options.sanitizer?this.options.sanitizer(S[0]):K(S[0]);p.type="paragraph",p.text=h,p.tokens=this.lexer.inline(h)}return p}},s.def=function d(E){var S=this.rules.block.def.exec(E);if(S){if(S[3])S[3]=S[3].substring(1,S[3].length-1);var p=S[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:p,raw:S[0],href:S[2],title:S[3]}}},s.table=function d(E){var S=this.rules.block.table.exec(E);if(S){var p={type:"table",header:i(S[1]).map(function(G1){return{text:G1}}),align:S[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:S[3]&&S[3].trim()?S[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(p.header.length===p.align.length){p.raw=S[0];var h=p.align.length,t,W0,E0,x0;for(t=0;t<h;t++)if(/^ *-+: *$/.test(p.align[t]))p.align[t]="right";else if(/^ *:-+: *$/.test(p.align[t]))p.align[t]="center";else if(/^ *:-+ *$/.test(p.align[t]))p.align[t]="left";else p.align[t]=null;h=p.rows.length;for(t=0;t<h;t++)p.rows[t]=i(p.rows[t],p.header.length).map(function(G1){return{text:G1}});h=p.header.length;for(W0=0;W0<h;W0++)p.header[W0].tokens=this.lexer.inline(p.header[W0].text);h=p.rows.length;for(W0=0;W0<h;W0++){x0=p.rows[W0];for(E0=0;E0<x0.length;E0++)x0[E0].tokens=this.lexer.inline(x0[E0].text)}return p}}},s.lheading=function d(E){var S=this.rules.block.lheading.exec(E);if(S)return{type:"heading",raw:S[0],depth:S[2].charAt(0)==="="?1:2,text:S[1],tokens:this.lexer.inline(S[1])}},s.paragraph=function d(E){var S=this.rules.block.paragraph.exec(E);if(S){var p=S[1].charAt(S[1].length-1)==="\n"?S[1].slice(0,-1):S[1];return{type:"paragraph",raw:S[0],text:p,tokens:this.lexer.inline(p)}}},s.text=function d(E){var S=this.rules.block.text.exec(E);if(S)return{type:"text",raw:S[0],text:S[0],tokens:this.lexer.inline(S[0])}},s.escape=function d(E){var S=this.rules.inline.escape.exec(E);if(S)return{type:"escape",raw:S[0],text:K(S[1])}},s.tag=function d(E){var S=this.rules.inline.tag.exec(E);if(S){if(!this.lexer.state.inLink&&/^<a /i.test(S[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(S[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(S[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(S[0]))this.lexer.state.inRawBlock=!1;return{type:this.options.sanitize?"text":"html",raw:S[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(S[0]):K(S[0]):S[0]}}},s.link=function d(E){var S=this.rules.inline.link.exec(E);if(S){var p=S[2].trim();if(!this.options.pedantic&&/^</.test(p)){if(!/>$/.test(p))return;var h=Y0(p.slice(0,-1),"\\");if((p.length-h.length)%2===0)return}else{var t=P0(S[2],"()");if(t>-1){var W0=S[0].indexOf("!")===0?5:4,E0=W0+S[1].length+t;S[2]=S[2].substring(0,t),S[0]=S[0].substring(0,E0).trim(),S[3]=""}}var x0=S[2],G1="";if(this.options.pedantic){var Y1=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(x0);if(Y1)x0=Y1[1],G1=Y1[3]}else G1=S[3]?S[3].slice(1,-1):"";if(x0=x0.trim(),/^</.test(x0))if(this.options.pedantic&&!/>$/.test(p))x0=x0.slice(1);else x0=x0.slice(1,-1);return A0(S,{href:x0?x0.replace(this.rules.inline._escapes,"$1"):x0,title:G1?G1.replace(this.rules.inline._escapes,"$1"):G1},S[0],this.lexer)}},s.reflink=function d(E,S){var p;if((p=this.rules.inline.reflink.exec(E))||(p=this.rules.inline.nolink.exec(E))){var h=(p[2]||p[1]).replace(/\s+/g," ");if(h=S[h.toLowerCase()],!h||!h.href){var t=p[0].charAt(0);return{type:"text",raw:t,text:t}}return A0(p,h,p[0],this.lexer)}},s.emStrong=function d(E,S,p){if(p===void 0)p="";var h=this.rules.inline.emStrong.lDelim.exec(E);if(!h)return;if(h[3]&&p.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))return;var t=h[1]||h[2]||"";if(!t||t&&(p===""||this.rules.inline.punctuation.exec(p))){var W0=h[0].length-1,E0,x0,G1=W0,Y1=0,o1=h[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;o1.lastIndex=0,S=S.slice(-1*E.length+W0);while((h=o1.exec(S))!=null){if(E0=h[1]||h[2]||h[3]||h[4]||h[5]||h[6],!E0)continue;if(x0=E0.length,h[3]||h[4]){G1+=x0;continue}else if(h[5]||h[6]){if(W0%3&&!((W0+x0)%3)){Y1+=x0;continue}}if(G1-=x0,G1>0)continue;if(x0=Math.min(x0,x0+G1+Y1),Math.min(W0,x0)%2){var s1=E.slice(1,W0+h.index+x0);return{type:"em",raw:E.slice(0,W0+h.index+x0+1),text:s1,tokens:this.lexer.inlineTokens(s1)}}var s0=E.slice(2,W0+h.index+x0-1);return{type:"strong",raw:E.slice(0,W0+h.index+x0+1),text:s0,tokens:this.lexer.inlineTokens(s0)}}}},s.codespan=function d(E){var S=this.rules.inline.code.exec(E);if(S){var p=S[2].replace(/\n/g," "),h=/[^ ]/.test(p),t=/^ /.test(p)&&/ $/.test(p);if(h&&t)p=p.substring(1,p.length-1);return p=K(p,!0),{type:"codespan",raw:S[0],text:p}}},s.br=function d(E){var S=this.rules.inline.br.exec(E);if(S)return{type:"br",raw:S[0]}},s.del=function d(E){var S=this.rules.inline.del.exec(E);if(S)return{type:"del",raw:S[0],text:S[2],tokens:this.lexer.inlineTokens(S[2])}},s.autolink=function d(E,S){var p=this.rules.inline.autolink.exec(E);if(p){var h,t;if(p[2]==="@")h=K(this.options.mangle?S(p[1]):p[1]),t="mailto:"+h;else h=K(p[1]),t=h;return{type:"link",raw:p[0],text:h,href:t,tokens:[{type:"text",raw:h,text:h}]}}},s.url=function d(E,S){var p;if(p=this.rules.inline.url.exec(E)){var h,t;if(p[2]==="@")h=K(this.options.mangle?S(p[0]):p[0]),t="mailto:"+h;else{var W0;do W0=p[0],p[0]=this.rules.inline._backpedal.exec(p[0])[0];while(W0!==p[0]);if(h=K(p[0]),p[1]==="www.")t="http://"+h;else t=h}return{type:"link",raw:p[0],text:h,href:t,tokens:[{type:"text",raw:h,text:h}]}}},s.inlineText=function d(E,S){var p=this.rules.inline.text.exec(E);if(p){var h;if(this.lexer.state.inRawBlock)h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(p[0]):K(p[0]):p[0];else h=K(this.options.smartypants?S(p[0]):p[0]);return{type:"text",raw:p[0],text:h}}},o}(),k0={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:b,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};k0._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,k0._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,k0.def=R(k0.def).replace("label",k0._label).replace("title",k0._title).getRegex(),k0.bullet=/(?:[*+-]|\d{1,9}[.)])/,k0.listItemStart=R(/^( *)(bull) */).replace("bull",k0.bullet).getRegex(),k0.list=R(k0.list).replace(/bull/g,k0.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k0.def.source+")").getRegex(),k0._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k0._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,k0.html=R(k0.html,"i").replace("comment",k0._comment).replace("tag",k0._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k0.paragraph=R(k0._paragraph).replace("hr",k0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k0._tag).getRegex(),k0.blockquote=R(k0.blockquote).replace("paragraph",k0.paragraph).getRegex(),k0.normal=u({},k0),k0.gfm=u({},k0.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),k0.gfm.table=R(k0.gfm.table).replace("hr",k0.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k0._tag).getRegex(),k0.gfm.paragraph=R(k0._paragraph).replace("hr",k0.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",k0.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k0._tag).getRegex(),k0.pedantic=u({},k0.normal,{html:R('^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace("comment",k0._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:b,paragraph:R(k0.normal._paragraph).replace("hr",k0.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",k0.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var H0={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:b,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:b,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};H0._punctuation='!"#$%&\'()+\\-.,/:;<=>?@\\[\\]`^{|}~',H0.punctuation=R(H0.punctuation).replace(/punctuation/g,H0._punctuation).getRegex(),H0.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,H0.escapedEmSt=/\\\*|\\_/g,H0._comment=R(k0._comment).replace("(?:-->|$)","-->").getRegex(),H0.emStrong.lDelim=R(H0.emStrong.lDelim).replace(/punct/g,H0._punctuation).getRegex(),H0.emStrong.rDelimAst=R(H0.emStrong.rDelimAst,"g").replace(/punct/g,H0._punctuation).getRegex(),H0.emStrong.rDelimUnd=R(H0.emStrong.rDelimUnd,"g").replace(/punct/g,H0._punctuation).getRegex(),H0._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,H0._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,H0._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,H0.autolink=R(H0.autolink).replace("scheme",H0._scheme).replace("email",H0._email).getRegex(),H0._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,H0.tag=R(H0.tag).replace("comment",H0._comment).replace("attribute",H0._attribute).getRegex(),H0._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,H0._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,H0._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,H0.link=R(H0.link).replace("label",H0._label).replace("href",H0._href).replace("title",H0._title).getRegex(),H0.reflink=R(H0.reflink).replace("label",H0._label).replace("ref",k0._label).getRegex(),H0.nolink=R(H0.nolink).replace("ref",k0._label).getRegex(),H0.reflinkSearch=R(H0.reflinkSearch,"g").replace("reflink",H0.reflink).replace("nolink",H0.nolink).getRegex(),H0.normal=u({},H0),H0.pedantic=u({},H0.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:R(/^!?\[(label)\]\((.*?)\)/).replace("label",H0._label).getRegex(),reflink:R(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",H0._label).getRegex()}),H0.gfm=u({},H0.normal,{escape:R(H0.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),H0.gfm.url=R(H0.gfm.url,"i").replace("email",H0.gfm._extended_email).getRegex(),H0.breaks=u({},H0.gfm,{br:R(H0.br).replace("{2,}","*").getRegex(),text:R(H0.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function A7(o){return o.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function h6(o){var s="",d,E,S=o.length;for(d=0;d<S;d++){if(E=o.charCodeAt(d),Math.random()>0.5)E="x"+E.toString(16);s+="&#"+E+";"}return s}var P7=function(){function o(d){this.tokens=[],this.tokens.links=Object.create(null),this.options=d||$.defaults,this.options.tokenizer=this.options.tokenizer||new l0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var E={block:k0.normal,inline:H0.normal};if(this.options.pedantic)E.block=k0.pedantic,E.inline=H0.pedantic;else if(this.options.gfm)if(E.block=k0.gfm,this.options.breaks)E.inline=H0.breaks;else E.inline=H0.gfm;this.tokenizer.rules=E}o.lex=function d(E,S){var p=new o(S);return p.lex(E)},o.lexInline=function d(E,S){var p=new o(S);return p.inlineTokens(E)};var s=o.prototype;return s.lex=function d(E){E=E.replace(/\r\n|\r/g,"\n"),this.blockTokens(E,this.tokens);var S;while(S=this.inlineQueue.shift())this.inlineTokens(S.src,S.tokens);return this.tokens},s.blockTokens=function d(E,S){var p=this;if(S===void 0)S=[];if(this.options.pedantic)E=E.replace(/\t/g,"    ").replace(/^ +$/gm,"");else E=E.replace(/^( *)(\t+)/gm,function(G1,Y1,o1){return Y1+"    ".repeat(o1.length)});var h,t,W0,E0;while(E){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(G1){if(h=G1.call({lexer:p},E,S))return E=E.substring(h.raw.length),S.push(h),!0;return!1}))continue;if(h=this.tokenizer.space(E)){if(E=E.substring(h.raw.length),h.raw.length===1&&S.length>0)S[S.length-1].raw+="\n";else S.push(h);continue}if(h=this.tokenizer.code(E)){if(E=E.substring(h.raw.length),t=S[S.length-1],t&&(t.type==="paragraph"||t.type==="text"))t.raw+="\n"+h.raw,t.text+="\n"+h.text,this.inlineQueue[this.inlineQueue.length-1].src=t.text;else S.push(h);continue}if(h=this.tokenizer.fences(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.heading(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.hr(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.blockquote(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.list(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.html(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.def(E)){if(E=E.substring(h.raw.length),t=S[S.length-1],t&&(t.type==="paragraph"||t.type==="text"))t.raw+="\n"+h.raw,t.text+="\n"+h.raw,this.inlineQueue[this.inlineQueue.length-1].src=t.text;else if(!this.tokens.links[h.tag])this.tokens.links[h.tag]={href:h.href,title:h.title};continue}if(h=this.tokenizer.table(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.lheading(E)){E=E.substring(h.raw.length),S.push(h);continue}if(W0=E,this.options.extensions&&this.options.extensions.startBlock)(function(){var G1=Infinity,Y1=E.slice(1),o1=void 0;if(p.options.extensions.startBlock.forEach(function(s1){if(o1=s1.call({lexer:this},Y1),typeof o1==="number"&&o1>=0)G1=Math.min(G1,o1)}),G1<Infinity&&G1>=0)W0=E.substring(0,G1+1)})();if(this.state.top&&(h=this.tokenizer.paragraph(W0))){if(t=S[S.length-1],E0&&t.type==="paragraph")t.raw+="\n"+h.raw,t.text+="\n"+h.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=t.text;else S.push(h);E0=W0.length!==E.length,E=E.substring(h.raw.length);continue}if(h=this.tokenizer.text(E)){if(E=E.substring(h.raw.length),t=S[S.length-1],t&&t.type==="text")t.raw+="\n"+h.raw,t.text+="\n"+h.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=t.text;else S.push(h);continue}if(E){var x0="Infinite loop on byte: "+E.charCodeAt(0);if(this.options.silent){console.error(x0);break}else throw new Error(x0)}}return this.state.top=!0,S},s.inline=function d(E,S){if(S===void 0)S=[];return this.inlineQueue.push({src:E,tokens:S}),S},s.inlineTokens=function d(E,S){var p=this;if(S===void 0)S=[];var h,t,W0,E0=E,x0,G1,Y1;if(this.tokens.links){var o1=Object.keys(this.tokens.links);if(o1.length>0){while((x0=this.tokenizer.rules.inline.reflinkSearch.exec(E0))!=null)if(o1.includes(x0[0].slice(x0[0].lastIndexOf("[")+1,-1)))E0=E0.slice(0,x0.index)+"["+_0("a",x0[0].length-2)+"]"+E0.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((x0=this.tokenizer.rules.inline.blockSkip.exec(E0))!=null)E0=E0.slice(0,x0.index)+"["+_0("a",x0[0].length-2)+"]"+E0.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((x0=this.tokenizer.rules.inline.escapedEmSt.exec(E0))!=null)E0=E0.slice(0,x0.index)+"++"+E0.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);while(E){if(!G1)Y1="";if(G1=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(s0){if(h=s0.call({lexer:p},E,S))return E=E.substring(h.raw.length),S.push(h),!0;return!1}))continue;if(h=this.tokenizer.escape(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.tag(E)){if(E=E.substring(h.raw.length),t=S[S.length-1],t&&h.type==="text"&&t.type==="text")t.raw+=h.raw,t.text+=h.text;else S.push(h);continue}if(h=this.tokenizer.link(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.reflink(E,this.tokens.links)){if(E=E.substring(h.raw.length),t=S[S.length-1],t&&h.type==="text"&&t.type==="text")t.raw+=h.raw,t.text+=h.text;else S.push(h);continue}if(h=this.tokenizer.emStrong(E,E0,Y1)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.codespan(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.br(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.del(E)){E=E.substring(h.raw.length),S.push(h);continue}if(h=this.tokenizer.autolink(E,h6)){E=E.substring(h.raw.length),S.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(E,h6))){E=E.substring(h.raw.length),S.push(h);continue}if(W0=E,this.options.extensions&&this.options.extensions.startInline)(function(){var s0=Infinity,f8=E.slice(1),h8=void 0;if(p.options.extensions.startInline.forEach(function(ZJ){if(h8=ZJ.call({lexer:this},f8),typeof h8==="number"&&h8>=0)s0=Math.min(s0,h8)}),s0<Infinity&&s0>=0)W0=E.substring(0,s0+1)})();if(h=this.tokenizer.inlineText(W0,A7)){if(E=E.substring(h.raw.length),h.raw.slice(-1)!=="_")Y1=h.raw.slice(-1);if(G1=!0,t=S[S.length-1],t&&t.type==="text")t.raw+=h.raw,t.text+=h.text;else S.push(h);continue}if(E){var s1="Infinite loop on byte: "+E.charCodeAt(0);if(this.options.silent){console.error(s1);break}else throw new Error(s1)}}return S},Q(o,null,[{key:"rules",get:function d(){return{block:k0,inline:H0}}}]),o}(),y1=function(){function o(d){this.options=d||$.defaults}var s=o.prototype;return s.code=function d(E,S,p){var h=(S||"").match(/\S*/)[0];if(this.options.highlight){var t=this.options.highlight(E,h);if(t!=null&&t!==E)p=!0,E=t}if(E=E.replace(/\n$/,"")+"\n",!h)return"<pre><code>"+(p?E:K(E,!0))+"</code></pre>\n";return'<pre><code class="'+this.options.langPrefix+K(h,!0)+'">'+(p?E:K(E,!0))+"</code></pre>\n"},s.blockquote=function d(E){return"<blockquote>\n"+E+"</blockquote>\n"},s.html=function d(E){return E},s.heading=function d(E,S,p,h){if(this.options.headerIds){var t=this.options.headerPrefix+h.slug(p);return"<h"+S+" id=\""+t+"\">"+E+"</h"+S+">\n"}return"<h"+S+">"+E+"</h"+S+">\n"},s.hr=function d(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},s.list=function d(E,S,p){var h=S?"ol":"ul",t=S&&p!==1?' start="'+p+'"':"";return"<"+h+t+">\n"+E+"</"+h+">\n"},s.listitem=function d(E){return"<li>"+E+"</li>\n"},s.checkbox=function d(E){return"<input "+(E?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},s.paragraph=function d(E){return"<p>"+E+"</p>\n"},s.table=function d(E,S){if(S)S="<tbody>"+S+"</tbody>";return"<table>\n<thead>\n"+E+"</thead>\n"+S+"</table>\n"},s.tablerow=function d(E){return"<tr>\n"+E+"</tr>\n"},s.tablecell=function d(E,S){var p=S.header?"th":"td",h=S.align?"<"+p+" align=\""+S.align+"\">":"<"+p+">";return h+E+("</"+p+">\n")},s.strong=function d(E){return"<strong>"+E+"</strong>"},s.em=function d(E){return"<em>"+E+"</em>"},s.codespan=function d(E){return"<code>"+E+"</code>"},s.br=function d(){return this.options.xhtml?"<br/>":"<br>"},s.del=function d(E){return"<del>"+E+"</del>"},s.link=function d(E,S,p){if(E=_(this.options.sanitize,this.options.baseUrl,E),E===null)return p;var h='<a href="'+K(E)+'"';if(S)h+=' title="'+S+'"';return h+=">"+p+"</a>",h},s.image=function d(E,S,p){if(E=_(this.options.sanitize,this.options.baseUrl,E),E===null)return p;var h="<img src=\""+E+"\" alt=\""+p+"\"";if(S)h+=" title=\""+S+"\"";return h+=this.options.xhtml?"/>":">",h},s.text=function d(E){return E},o}(),g6=function(){function o(){}var s=o.prototype;return s.strong=function d(E){return E},s.em=function d(E){return E},s.codespan=function d(E){return E},s.del=function d(E){return E},s.html=function d(E){return E},s.text=function d(E){return E},s.link=function d(E,S,p){return""+p},s.image=function d(E,S,p){return""+p},s.br=function d(){return""},o}(),i7=function(){function o(){this.seen={}}var s=o.prototype;return s.serialize=function d(E){return E.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},s.getNextSafeSlug=function d(E,S){var p=E,h=0;if(this.seen.hasOwnProperty(p)){h=this.seen[E];do h++,p=E+"-"+h;while(this.seen.hasOwnProperty(p))}if(!S)this.seen[E]=h,this.seen[p]=0;return p},s.slug=function d(E,S){if(S===void 0)S={};var p=this.serialize(E);return this.getNextSafeSlug(p,S.dryrun)},o}(),p6=function(){function o(d){this.options=d||$.defaults,this.options.renderer=this.options.renderer||new y1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new g6,this.slugger=new i7}o.parse=function d(E,S){var p=new o(S);return p.parse(E)},o.parseInline=function d(E,S){var p=new o(S);return p.parseInline(E)};var s=o.prototype;return s.parse=function d(E,S){if(S===void 0)S=!0;var p="",h,t,W0,E0,x0,G1,Y1,o1,s1,s0,f8,h8,ZJ,x1,Z6,PZ,DZ,iJ,xQ,RZ=E.length;for(h=0;h<RZ;h++){if(s0=E[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s0.type]){if(xQ=this.options.extensions.renderers[s0.type].call({parser:this},s0),xQ!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s0.type)){p+=xQ||"";continue}}switch(s0.type){case"space":continue;case"hr":{p+=this.renderer.hr();continue}case"heading":{p+=this.renderer.heading(this.parseInline(s0.tokens),s0.depth,A(this.parseInline(s0.tokens,this.textRenderer)),this.slugger);continue}case"code":{p+=this.renderer.code(s0.text,s0.lang,s0.escaped);continue}case"table":{o1="",Y1="",E0=s0.header.length;for(t=0;t<E0;t++)Y1+=this.renderer.tablecell(this.parseInline(s0.header[t].tokens),{header:!0,align:s0.align[t]});o1+=this.renderer.tablerow(Y1),s1="",E0=s0.rows.length;for(t=0;t<E0;t++){G1=s0.rows[t],Y1="",x0=G1.length;for(W0=0;W0<x0;W0++)Y1+=this.renderer.tablecell(this.parseInline(G1[W0].tokens),{header:!1,align:s0.align[W0]});s1+=this.renderer.tablerow(Y1)}p+=this.renderer.table(o1,s1);continue}case"blockquote":{s1=this.parse(s0.tokens),p+=this.renderer.blockquote(s1);continue}case"list":{f8=s0.ordered,h8=s0.start,ZJ=s0.loose,E0=s0.items.length,s1="";for(t=0;t<E0;t++){if(Z6=s0.items[t],PZ=Z6.checked,DZ=Z6.task,x1="",Z6.task)if(iJ=this.renderer.checkbox(PZ),ZJ)if(Z6.tokens.length>0&&Z6.tokens[0].type==="paragraph"){if(Z6.tokens[0].text=iJ+" "+Z6.tokens[0].text,Z6.tokens[0].tokens&&Z6.tokens[0].tokens.length>0&&Z6.tokens[0].tokens[0].type==="text")Z6.tokens[0].tokens[0].text=iJ+" "+Z6.tokens[0].tokens[0].text}else Z6.tokens.unshift({type:"text",text:iJ});else x1+=iJ;x1+=this.parse(Z6.tokens,ZJ),s1+=this.renderer.listitem(x1,DZ,PZ)}p+=this.renderer.list(s1,f8,h8);continue}case"html":{p+=this.renderer.html(s0.text);continue}case"paragraph":{p+=this.renderer.paragraph(this.parseInline(s0.tokens));continue}case"text":{s1=s0.tokens?this.parseInline(s0.tokens):s0.text;while(h+1<RZ&&E[h+1].type==="text")s0=E[++h],s1+="\n"+(s0.tokens?this.parseInline(s0.tokens):s0.text);p+=S?this.renderer.paragraph(s1):s1;continue}default:{var MZ='Token with "'+s0.type+'" type was not found.';if(this.options.silent){console.error(MZ);return}else throw new Error(MZ)}}}return p},s.parseInline=function d(E,S){S=S||this.renderer;var p="",h,t,W0,E0=E.length;for(h=0;h<E0;h++){if(t=E[h],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[t.type]){if(W0=this.options.extensions.renderers[t.type].call({parser:this},t),W0!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(t.type)){p+=W0||"";continue}}switch(t.type){case"escape":{p+=S.text(t.text);break}case"html":{p+=S.html(t.text);break}case"link":{p+=S.link(t.href,t.title,this.parseInline(t.tokens,S));break}case"image":{p+=S.image(t.href,t.title,t.text);break}case"strong":{p+=S.strong(this.parseInline(t.tokens,S));break}case"em":{p+=S.em(this.parseInline(t.tokens,S));break}case"codespan":{p+=S.codespan(t.text);break}case"br":{p+=S.br();break}case"del":{p+=S.del(this.parseInline(t.tokens,S));break}case"text":{p+=S.text(t.text);break}default:{var x0='Token with "'+t.type+'" type was not found.';if(this.options.silent){console.error(x0);return}else throw new Error(x0)}}}return p},o}();function X1(o,s,d){if(typeof o==="undefined"||o===null)throw new Error("marked(): input parameter is undefined or null");if(typeof o!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected");if(typeof s==="function")d=s,s=null;if(s=u({},X1.defaults,s||{}),R0(s),d){var E=s.highlight,S;try{S=P7.lex(o,s)}catch(E0){return d(E0)}var p=function E0(x0){var G1;if(!x0)try{if(s.walkTokens)X1.walkTokens(S,s.walkTokens);G1=p6.parse(S,s)}catch(Y1){x0=Y1}return s.highlight=E,x0?d(x0):d(null,G1)};if(!E||E.length<3)return p();if(delete s.highlight,!S.length)return p();var h=0;if(X1.walkTokens(S,function(E0){if(E0.type==="code")h++,setTimeout(function(){E(E0.text,E0.lang,function(x0,G1){if(x0)return p(x0);if(G1!=null&&G1!==E0.text)E0.text=G1,E0.escaped=!0;if(h--,h===0)p()})},0)}),h===0)p();return}function t(E0){if(E0.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+K(E0.message+"",!0)+"</pre>";throw E0}try{var W0=P7.lex(o,s);if(s.walkTokens){if(s.async)return Promise.all(X1.walkTokens(W0,s.walkTokens)).then(function(){return p6.parse(W0,s)}).catch(t);X1.walkTokens(W0,s.walkTokens)}return p6.parse(W0,s)}catch(E0){t(E0)}}X1.options=X1.setOptions=function(o){return u(X1.defaults,o),U(X1.defaults),X1},X1.getDefaults=q,X1.defaults=$.defaults,X1.use=function(){for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];var E=u.apply(void 0,[{}].concat(s)),S=X1.defaults.extensions||{renderers:{},childTokens:{}},p;s.forEach(function(h){if(h.extensions)p=!0,h.extensions.forEach(function(W0){if(!W0.name)throw new Error("extension name required");if(W0.renderer){var E0=S.renderers?S.renderers[W0.name]:null;if(E0)S.renderers[W0.name]=function(){for(var x0=arguments.length,G1=new Array(x0),Y1=0;Y1<x0;Y1++)G1[Y1]=arguments[Y1];var o1=W0.renderer.apply(this,G1);if(o1===!1)o1=E0.apply(this,G1);return o1};else S.renderers[W0.name]=W0.renderer}if(W0.tokenizer){if(!W0.level||W0.level!=="block"&&W0.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");if(S[W0.level])S[W0.level].unshift(W0.tokenizer);else S[W0.level]=[W0.tokenizer];if(W0.start){if(W0.level==="block")if(S.startBlock)S.startBlock.push(W0.start);else S.startBlock=[W0.start];else if(W0.level==="inline")if(S.startInline)S.startInline.push(W0.start);else S.startInline=[W0.start]}}if(W0.childTokens)S.childTokens[W0.name]=W0.childTokens});if(h.renderer)(function(){var W0=X1.defaults.renderer||new y1,E0=function G1(Y1){var o1=W0[Y1];W0[Y1]=function(){for(var s1=arguments.length,s0=new Array(s1),f8=0;f8<s1;f8++)s0[f8]=arguments[f8];var h8=h.renderer[Y1].apply(W0,s0);if(h8===!1)h8=o1.apply(W0,s0);return h8}};for(var x0 in h.renderer)E0(x0);E.renderer=W0})();if(h.tokenizer)(function(){var W0=X1.defaults.tokenizer||new l0,E0=function G1(Y1){var o1=W0[Y1];W0[Y1]=function(){for(var s1=arguments.length,s0=new Array(s1),f8=0;f8<s1;f8++)s0[f8]=arguments[f8];var h8=h.tokenizer[Y1].apply(W0,s0);if(h8===!1)h8=o1.apply(W0,s0);return h8}};for(var x0 in h.tokenizer)E0(x0);E.tokenizer=W0})();if(h.walkTokens){var t=X1.defaults.walkTokens;E.walkTokens=function(W0){var E0=[];if(E0.push(h.walkTokens.call(this,W0)),t)E0=E0.concat(t.call(this,W0));return E0}}if(p)E.extensions=S;X1.setOptions(E)})},X1.walkTokens=function(o,s){var d=[],E=function h(){var t=p.value;switch(d=d.concat(s.call(X1,t)),t.type){case"table":{for(var W0=G(t.header),E0;!(E0=W0()).done;){var x0=E0.value;d=d.concat(X1.walkTokens(x0.tokens,s))}for(var G1=G(t.rows),Y1;!(Y1=G1()).done;){var o1=Y1.value;for(var s1=G(o1),s0;!(s0=s1()).done;){var f8=s0.value;d=d.concat(X1.walkTokens(f8.tokens,s))}}break}case"list":{d=d.concat(X1.walkTokens(t.items,s));break}default:if(X1.defaults.extensions&&X1.defaults.extensions.childTokens&&X1.defaults.extensions.childTokens[t.type])X1.defaults.extensions.childTokens[t.type].forEach(function(h8){d=d.concat(X1.walkTokens(t[h8],s))});else if(t.tokens)d=d.concat(X1.walkTokens(t.tokens,s))}};for(var S=G(o),p;!(p=S()).done;)E();return d},X1.parseInline=function(o,s){if(typeof o==="undefined"||o===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof o!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected");s=u({},X1.defaults,s||{}),R0(s);try{var d=P7.lexInline(o,s);if(s.walkTokens)X1.walkTokens(d,s.walkTokens);return p6.parseInline(d,s)}catch(E){if(E.message+="\nPlease report this to https://github.com/markedjs/marked.",s.silent)return"<p>An error occurred:</p><pre>"+K(E.message+"",!0)+"</pre>";throw E}},X1.Parser=p6,X1.parser=p6.parse,X1.Renderer=y1,X1.TextRenderer=g6,X1.Lexer=P7,X1.lexer=P7.lex,X1.Tokenizer=l0,X1.Slugger=i7,X1.parse=X1;var{options:QJ,setOptions:YJ,use:e5,walkTokens:UX,parseInline:E6}=X1,rJ=X1,LW=p6.parse,QM=P7.lex;$.Lexer=P7,$.Parser=p6,$.Renderer=y1,$.Slugger=i7,$.TextRenderer=g6,$.Tokenizer=l0,$.getDefaults=q,$.lexer=QM,$.marked=X1,$.options=QJ,$.parse=rJ,$.parseInline=E6,$.parser=LW,$.setOptions=YJ,$.use=e5,$.walkTokens=UX,Object.defineProperty($,"__esModule",{value:!0})})})();var e90=q5.Lexer||yE.Lexer,JJ0=q5.Parser||yE.Parser,$J0=q5.Renderer||yE.Renderer,XJ0=q5.Slugger||yE.Slugger,QJ0=q5.TextRenderer||yE.TextRenderer,YJ0=q5.Tokenizer||yE.Tokenizer,ZJ0=q5.getDefaults||yE.getDefaults,GJ0=q5.lexer||yE.lexer,gJ=q5.marked||yE.marked,qJ0=q5.options||yE.options,UJ0=q5.parse||yE.parse,HJ0=q5.parseInline||yE.parseInline,zJ0=q5.parser||yE.parser,VJ0=q5.setOptions||yE.setOptions,jJ0=q5.use||yE.use,WJ0=q5.walkTokens||yE.walkTokens});function Qs(J){return JSON.stringify(J,FJ0)}function SV(J){let $=JSON.parse(J);return $=SE($),$}function SE(J,$=0){if(!J||$>200)return J;if(typeof J==="object"){switch(J.$mid){case 1:return I0.revive(J);case 2:return new RegExp(J.source,J.flags);case 17:return new Date(J.source)}if(J instanceof uF||J instanceof Uint8Array)return J;if(Array.isArray(J))for(let X=0;X<J.length;++X)J[X]=SE(J[X],$+1);else for(let X in J)if(Object.hasOwnProperty.call(J,X))J[X]=SE(J[X],$+1)}return J}var FJ0;var LP=N(()=>{dH();e8();FJ0=function(J,$){if($ instanceof RegExp)return{$mid:2,source:$.source,flags:$.flags};return $}});function h3(J,$={},X={}){var Q,Y;const Z=new r;let G=!1;const q=DP($),U=function(A){let D;try{D=SV(decodeURIComponent(A))}catch(R){}if(!D)return A;return D=hW(D,(R)=>{if(J.uris&&J.uris[R])return I0.revive(J.uris[R]);else return}),encodeURIComponent(JSON.stringify(D))},H=function(A,D){const R=J.uris&&J.uris[A];let M=I0.revive(R);if(D){if(A.startsWith(J1.data+":"))return A;if(!M)M=I0.parse(A);return IF.uriToBrowserUri(M).toString(!0)}if(!M)return A;if(I0.parse(A).toString()===M.toString())return A;if(M.query)M=M.with({query:U(M.query)});return M.toString()},z=new gJ.Renderer;z.image=CE.image,z.link=CE.link,z.paragraph=CE.paragraph;const V=[],j=[];if($.codeBlockRendererSync)z.code=(A,D)=>{const R=kE.nextId(),M=$.codeBlockRendererSync(Ys(D),A);return j.push([R,M]),`<div class="code" data-code="${R}">${gZ(A)}</div>`};else if($.codeBlockRenderer)z.code=(A,D)=>{const R=kE.nextId(),M=$.codeBlockRenderer(Ys(D),A);return V.push(M.then((O)=>[R,O])),`<div class="code" data-code="${R}">${gZ(A)}</div>`};if($.actionHandler){const A=function(M){let O=M.target;if(O.tagName!=="A"){if(O=O.parentElement,!O||O.tagName!=="A")return}try{let _=O.dataset.href;if(_){if(J.baseUri)_=xE(I0.from(J.baseUri),_);$.actionHandler.callback(_,M)}}catch(_){n0(_)}finally{M.preventDefault()}},D=$.actionHandler.disposables.add(new Z1(q,"click")),R=$.actionHandler.disposables.add(new Z1(q,"auxclick"));$.actionHandler.disposables.add(J0.any(D.event,R.event)((M)=>{const O=new Q7(B0(q),M);if(!O.leftButton&&!O.middleButton)return;A(O)})),$.actionHandler.disposables.add(m(q,"keydown",(M)=>{const O=new A1(M);if(!O.equals(10)&&!O.equals(3))return;A(O)}))}if(!J.supportHtml)X.sanitizer=(A)=>{return(J.isTrusted?A.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?A:""},X.sanitize=!0,X.silent=!0;X.renderer=z;let W=(Q=J.value)!==null&&Q!==void 0?Q:"";if(W.length>1e5)W=`${W.substr(0,1e5)}\u2026`;if(J.supportThemeIcons)W=td(W);let B;if($.fillInIncompleteTokens){const A={...gJ.defaults,...X},D=gJ.lexer(W,A),R=OJ0(D);B=gJ.parser(R,A)}else B=gJ.parse(W,X);if(J.supportThemeIcons)B=fJ(B).map((D)=>typeof D==="string"?D:D.outerHTML).join("");const P=new DOMParser().parseFromString(bE(J,B),"text/html");if(P.body.querySelectorAll("img").forEach((A)=>{const D=A.getAttribute("src");if(D){let R=D;try{if(J.baseUri)R=xE(I0.from(J.baseUri),R)}catch(M){}A.src=H(R,!0)}}),P.body.querySelectorAll("a").forEach((A)=>{const D=A.getAttribute("href");if(A.setAttribute("href",""),!D||/^data:|javascript:/i.test(D)||/^command:/i.test(D)&&!J.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(D))A.replaceWith(...A.childNodes);else{let R=H(D,!1);if(J.baseUri)R=xE(I0.from(J.baseUri),D);A.dataset.href=R}}),q.innerHTML=bE(J,P.body.innerHTML),V.length>0)Promise.all(V).then((A)=>{var D,R;if(G)return;const M=new Map(A),O=q.querySelectorAll("div[data-code]");for(let _ of O){const w=M.get((D=_.dataset.code)!==null&&D!==void 0?D:"");if(w)F6(_,w)}(R=$.asyncRenderCallback)===null||R===void 0||R.call($)});else if(j.length>0){const A=new Map(j),D=q.querySelectorAll("div[data-code]");for(let R of D){const M=A.get((Y=R.dataset.code)!==null&&Y!==void 0?Y:"");if(M)F6(R,M)}}if($.asyncRenderCallback)for(let A of q.getElementsByTagName("img")){const D=Z.add(m(A,"load",()=>{D.dispose(),$.asyncRenderCallback()}))}return{element:q,dispose:()=>{G=!0,Z.dispose()}}}function Zs(J){return typeof J==="string"?J:PJ0(J)}function PJ0(J){var $;let X=($=J.value)!==null&&$!==void 0?$:"";if(X.length>1e5)X=`${X.substr(0,1e5)}\u2026`;const Q=gJ.parse(X,{renderer:RJ0.value}).replace(/&(#\d+|[a-zA-Z]+);/g,(Y)=>{var Z;return(Z=DJ0.get(Y))!==null&&Z!==void 0?Z:Y});return bE({isTrusted:!1},Q).toString()}function OJ0(J){let $,X;for($=0;$<J.length;$++){const Q=J[$];if(Q.type==="paragraph"&&Q.raw.match(/(\n|^)```/)){X=TJ0(J.slice($));break}if(Q.type==="paragraph"&&Q.raw.match(/(\n|^)\|/)){X=SJ0(J.slice($));break}if($===J.length-1&&Q.type==="paragraph"){const Y=MJ0(Q);if(Y){X=[Y];break}}}if(X){const Q=[...J.slice(0,$),...X];return Q.links=J.links,Q}return J}var Ys,xE,bE,AJ0,vE,MJ0,TJ0,NJ0,_J0,wJ0,LJ0,EJ0,kJ0,IJ0,yJ0,mY,SJ0,CE,KJ0,DJ0,RJ0;var EP=N(()=>{D0();kF();w4();AE();T7();k9();oG();D1();F0();eG();v3();IE();i2();X0();Xs();LP();z9();B5();g$();o0();e8();Ys=function(J){if(!J)return"";const $=J.split(/[\s+|:|,|\{|\?]/,1);if($.length)return $[0];return J},xE=function(J,$){if(/^\w[\w\d+.-]*:/.test($))return $;if(J.path.endsWith("/"))return Iw(J,$).toString();else return Iw(xA(J),$).toString()},bE=function(J,$){const{config:X,allowedSchemes:Q}=AJ0(J);IH("uponSanitizeAttribute",(Z,G)=>{var q;if(G.attrName==="style"||G.attrName==="class"){if(Z.tagName==="SPAN"){if(G.attrName==="style"){G.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(G.attrValue);return}else if(G.attrName==="class"){G.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(G.attrValue);return}}G.keepAttr=!1;return}else if(Z.tagName==="INPUT"&&((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox"){if(G.attrName==="type"&&G.attrValue==="checkbox"||G.attrName==="disabled"||G.attrName==="checked"){G.keepAttr=!0;return}G.keepAttr=!1}}),IH("uponSanitizeElement",(Z,G)=>{var q,U;if(G.tagName==="input")if(((q=Z.attributes.getNamedItem("type"))===null||q===void 0?void 0:q.value)==="checkbox")Z.setAttribute("disabled","");else(U=Z.parentElement)===null||U===void 0||U.removeChild(Z)});const Y=lb(Q);try{return LF($,{...X,RETURN_TRUSTED_TYPE:!0})}finally{EF("uponSanitizeAttribute"),Y.dispose()}},AJ0=function(J){const $=[J1.http,J1.https,J1.mailto,J1.data,J1.file,J1.vscodeFileResource,J1.vscodeRemote,J1.vscodeRemoteResource];if(J.isTrusted)$.push(J1.command);return{config:{ALLOWED_TAGS:[...db],ALLOWED_ATTR:KJ0,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:$}};vE=function(J){let $="";return J.forEach((X)=>{$+=X.raw}),$},MJ0=function(J){var $,X;for(let Q=0;Q<J.tokens.length;Q++){const Y=J.tokens[Q];if(Y.type==="text"){const Z=Y.raw.split("\n"),G=Z[Z.length-1];if(G.includes("`"))return NJ0(J);else if(G.includes("**"))return IJ0(J);else if(G.match(/\*\w/))return _J0(J);else if(G.match(/(^|\s)__\w/))return yJ0(J);else if(G.match(/(^|\s)_\w/))return wJ0(J);else if(G.match(/(^|\s)\[.*\]\(\w*/)){const q=J.tokens.slice(Q+1);if((($=q[0])===null||$===void 0?void 0:$.type)==="link"&&((X=q[1])===null||X===void 0?void 0:X.type)==="text"&&q[1].raw.match(/^ *"[^"]*$/))return EJ0(J);return LJ0(J)}else if(G.match(/(^|\s)\[\w/))return kJ0(J)}}return};TJ0=function(J){const $=vE(J);return gJ.lexer($+"\n```")},NJ0=function(J){return mY(J,"`")},_J0=function(J){return mY(J,"*")},wJ0=function(J){return mY(J,"_")},LJ0=function(J){return mY(J,")")},EJ0=function(J){return mY(J,'")')},kJ0=function(J){return mY(J,"](about:blank)")},IJ0=function(J){return mY(J,"**")},yJ0=function(J){return mY(J,"__")},mY=function(J,$){const X=vE(Array.isArray(J)?J:[J]);return gJ.lexer(X+$)[0]},SJ0=function(J){const $=vE(J),X=$.split("\n");let Q,Y=!1;for(let Z=0;Z<X.length;Z++){const G=X[Z].trim();if(typeof Q==="undefined"&&G.match(/^\s*\|/)){const q=G.match(/(\|[^\|]+)(?=\||$)/g);if(q)Q=q.length}else if(typeof Q==="number")if(G.match(/^\s*\|/)){if(Z!==X.length-1)return;Y=!0}else return}if(typeof Q==="number"&&Q>0){const Z=Y?X.slice(0,-1).join("\n"):$,G=!!Z.match(/\|\s*$/),q=Z+(G?"":"|")+`\n|${" --- |".repeat(Q)}`;return gJ.lexer(q)}return},CE=Object.freeze({image:(J,$,X)=>{let Q=[],Y=[];if(J)({href:J,dimensions:Q}=$s(J)),Y.push(`src="${yV(J)}"`);if(X)Y.push(`alt="${yV(X)}"`);if($)Y.push(`title="${yV($)}"`);if(Q.length)Y=Y.concat(Q);return"<img "+Y.join(" ")+">"},paragraph:(J)=>{return`<p>${J}</p>`},link:(J,$,X)=>{if(typeof J!=="string")return"";if(J===X)X=_P(X);return $=typeof $==="string"?yV(_P($)):"",J=_P(J),J=J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${J}" title="${$||J}" draggable="false">${X}</a>`}}),KJ0=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"],DJ0=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","\'"],["&lt;","<"],["&gt;",">"]]),RJ0=new Q9(()=>{const J=new gJ.Renderer;return J.code=($)=>{return $},J.blockquote=($)=>{return $},J.html=($)=>{return""},J.heading=($,X,Q)=>{return $+"\n"},J.hr=()=>{return""},J.list=($,X)=>{return $},J.listitem=($)=>{return $+"\n"},J.paragraph=($)=>{return $+"\n"},J.table=($,X)=>{return $+X+"\n"},J.tablerow=($)=>{return $},J.tablecell=($,X)=>{return $+" "},J.strong=($)=>{return $},J.em=($)=>{return $},J.codespan=($)=>{return $},J.br=()=>{return"\n"},J.del=($)=>{return $},J.image=($,X,Q)=>{return""},J.text=($)=>{return $},J.link=($,X,Q)=>{return Q},J})});var Gs=N(()=>{q1();V0(".monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;border-radius:3px;padding:1px 3px}")});async function hE(J,$,X){try{return await J.open($,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:xJ0(X)})}catch(Q){return n0(Q),!1}}var xJ0,CJ0,qs,fE,J2;var gE=N(()=>{EP();JY();D1();F0();X0();Gs();BJ();f9();wJ();wL();nG();xJ0=function(J){if(J===!0)return!0;if(J&&Array.isArray(J.enabledCommands))return J.enabledCommands;return!1},CJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},qs=function(J,$){return function(X,Q){$(X,Q,J)}},J2=fE=class J{constructor($,X,Q){this._options=$,this._languageService=X,this._openerService=Q,this._onDidRenderAsync=new y,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render($,X,Q){if(!$)return{element:document.createElement("span"),dispose:()=>{}};const Y=new r,Z=Y.add(h3($,{...this._getRenderOptions($,Y),...X},Q));return Z.element.classList.add("rendered-markdown"),{element:Z.element,dispose:()=>Y.dispose()}}_getRenderOptions($,X){return{codeBlockRenderer:async(Q,Y)=>{var Z,G,q;let U;if(Q)U=this._languageService.getLanguageIdByLanguageName(Q);else if(this._options.editor)U=(Z=this._options.editor.getModel())===null||Z===void 0?void 0:Z.getLanguageId();if(!U)U=T6;const H=await Fl(this._languageService,Y,U),z=document.createElement("span");if(z.innerHTML=(q=(G=fE._ttpTokenizer)===null||G===void 0?void 0:G.createHTML(H))!==null&&q!==void 0?q:H,this._options.editor){const V=this._options.editor.getOption(50);T8(z,V)}else if(this._options.codeBlockFontFamily)z.style.fontFamily=this._options.codeBlockFontFamily;if(this._options.codeBlockFontSize!==void 0)z.style.fontSize=this._options.codeBlockFontSize;return z},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:(Q)=>hE(this._openerService,Q,$.isTrusted),disposables:X}}}};J2._ttpTokenizer=V9("tokenizeToString",{createHTML(J){return J}});J2=fE=CJ0([qs(1,e1),qs(2,a$)],J2)});class pE extends q7{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(J){super();this._elements=J,this._isMouseIn=!0,this._onMouseOut=this._register(new y),this._elements.forEach(($)=>this.onmouseover($,()=>this._onTargetMouseOver($))),this._elements.forEach(($)=>this.onmouseleave($,()=>this._onTargetMouseLeave($)))}_onTargetMouseOver(J){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(J)}_onTargetMouseLeave(J){this._isMouseIn=!1,this._evaluateMouseState(J)}_evaluateMouseState(J){this._clearEvaluateMouseStateTimeout(J),this._mouseTimeout=B0(J).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(J){if(this._mouseTimeout)B0(J).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0}_fireIfMouseOutside(){if(!this._isMouseIn)this._onMouseOut.fire()}}class Us{constructor(J){this._element=J,this.targetElements=[this._element]}dispose(){}}var bJ0,CV,i$,kP;var Hs=N(()=>{Ed();X0();F0();D0();xJ();h7();J7();yd();k$();nG();m0();gE();eG();h0();O1();K4();VY();bJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},CV=function(J,$){return function(X,Q){$(X,Q,J)}},i$=q0,kP=class J extends q7{get _targetWindow(){return B0(this._target.targetElements[0])}get _targetDocumentElement(){return B0(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked($){if(this._isLocked===$)return;this._isLocked=$,this._hoverContainer.classList.toggle("locked",this._isLocked)}constructor($,X,Q,Y,Z,G){var q,U,H,z,V,j,W,B;super();if(this._keybindingService=X,this._configurationService=Q,this._openerService=Y,this._instantiationService=Z,this._accessibilityService=G,this._messageListeners=new r,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new y),this._onRequestLayout=this._register(new y),this._linkHandler=$.linkHandler||((M)=>{return hE(this._openerService,M,RQ($.content)?$.content.isTrusted:void 0)}),this._target="targetElements"in $.target?$.target:new Us($.target),this._hoverPointer=((q=$.appearance)===null||q===void 0?void 0:q.showPointer)?i$("div.workbench-hover-pointer"):void 0,this._hover=this._register(new FE),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(U=$.appearance)===null||U===void 0?void 0:U.compact)this._hover.containerDomNode.classList.add("workbench-hover","compact");if((H=$.appearance)===null||H===void 0?void 0:H.skipFadeInAnimation)this._hover.containerDomNode.classList.add("skip-fade-in");if($.additionalClasses)this._hover.containerDomNode.classList.add(...$.additionalClasses);if((z=$.position)===null||z===void 0?void 0:z.forcePosition)this._forcePosition=!0;if($.trapFocus)this._enableFocusTraps=!0;this._hoverPosition=(j=(V=$.position)===null||V===void 0?void 0:V.hoverPosition)!==null&&j!==void 0?j:3,this.onmousedown(this._hover.containerDomNode,(M)=>M.stopPropagation()),this.onkeydown(this._hover.containerDomNode,(M)=>{if(M.equals(9))this.dispose()}),this._register(m(this._targetWindow,"blur",()=>this.dispose()));const K=i$("div.hover-row.markdown-hover"),P=i$("div.hover-contents");if(typeof $.content==="string")P.textContent=$.content,P.style.whiteSpace="pre-wrap";else if($.content instanceof HTMLElement)P.appendChild($.content),P.classList.add("html-hover-contents");else{const M=$.content,O=this._instantiationService.createInstance(J2,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||e7.fontFamily}),{element:_}=O.render(M,{actionHandler:{callback:(w)=>this._linkHandler(w),disposables:this._messageListeners},asyncRenderCallback:()=>{P.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});P.appendChild(_)}if(K.appendChild(P),this._hover.contentsDomNode.appendChild(K),$.actions&&$.actions.length>0){const M=i$("div.hover-row.status-bar"),O=i$("div.actions");$.actions.forEach((_)=>{const w=this._keybindingService.lookupKeybinding(_.commandId),C=w?w.getLabel():null;PP.render(O,{label:_.label,commandId:_.commandId,run:(x)=>{_.run(x),this.dispose()},iconClass:_.iconClass},C)}),M.appendChild(O),this._hover.containerDomNode.appendChild(M)}if(this._hoverContainer=i$("div.workbench-hover-container"),this._hoverPointer)this._hoverContainer.appendChild(this._hoverPointer);this._hoverContainer.appendChild(this._hover.containerDomNode);let A;if($.actions&&$.actions.length>0)A=!1;else if(((W=$.persistence)===null||W===void 0?void 0:W.hideOnHover)===void 0)A=typeof $.content==="string"||RQ($.content)&&!$.content.value.includes("](")&&!$.content.value.includes("</a>");else A=$.persistence.hideOnHover;if(A&&((B=$.appearance)===null||B===void 0?void 0:B.showHoverHint)){const M=i$("div.hover-row.status-bar"),O=i$("div.info");O.textContent=F("hoverhint","Hold {0} key to mouse over",a0?"Option":"Alt"),M.appendChild(O),this._hover.containerDomNode.appendChild(M)}const D=[...this._target.targetElements];if(!A)D.push(this._hoverContainer);const R=this._register(new pE(D));if(this._register(R.onMouseOut(()=>{if(!this._isLocked)this.dispose()})),A){const M=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new pE(M)),this._register(this._lockMouseTracker.onMouseOut(()=>{if(!this._isLocked)this.dispose()}))}else this._lockMouseTracker=R}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const $=this._hover.containerDomNode,X=this.findLastFocusableChild(this._hover.containerDomNode);if(X){const Q=Fq(this._hoverContainer,i$("div")),Y=Z0(this._hoverContainer,i$("div"));Q.tabIndex=0,Y.tabIndex=0,this._register(m(Y,"focus",(Z)=>{$.focus(),Z.preventDefault()})),this._register(m(Q,"focus",(Z)=>{X.focus(),Z.preventDefault()}))}}findLastFocusableChild($){if($.hasChildNodes())for(let X=0;X<$.childNodes.length;X++){const Q=$.childNodes.item($.childNodes.length-X-1);if(Q.nodeType===Q.ELEMENT_NODE){const Z=Q;if(typeof Z.tabIndex==="number"&&Z.tabIndex>=0)return Z}const Y=this.findLastFocusableChild(Q);if(Y)return Y}return}render($){var X;$.appendChild(this._hoverContainer);const Y=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&Id(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(X=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||X===void 0?void 0:X.getAriaLabel());if(Y)P$(Y);this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const $=(z)=>{const V=xF(z),j=z.getBoundingClientRect();return{top:j.top*V,bottom:j.bottom*V,right:j.right*V,left:j.left*V}},X=this._target.targetElements.map((z)=>$(z)),Q=Math.min(...X.map((z)=>z.top)),Y=Math.max(...X.map((z)=>z.right)),Z=Math.max(...X.map((z)=>z.bottom)),G=Math.min(...X.map((z)=>z.left)),q=Y-G,U=Z-Q,H={top:Q,right:Y,bottom:Z,left:G,width:q,height:U,center:{x:G+q/2,y:Q+U/2}};if(this.adjustHorizontalHoverPosition(H),this.adjustVerticalHoverPosition(H),this.adjustHoverMaxHeight(H),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:H.left+=3,H.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:H.left-=3,H.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:H.top+=3,H.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:H.top-=3,H.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}H.center.x=H.left+q/2,H.center.y=H.top+U/2}if(this.computeXCordinate(H),this.computeYCordinate(H),this._hoverPointer)this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(H);this._hover.onContentsChanged()}computeXCordinate($){const X=this._hover.containerDomNode.clientWidth+2;if(this._target.x!==void 0)this._x=this._target.x;else if(this._hoverPosition===1)this._x=$.right;else if(this._hoverPosition===0)this._x=$.left-X;else{if(this._hoverPointer)this._x=$.center.x-this._hover.containerDomNode.clientWidth/2;else this._x=$.left;if(this._x+X>=this._targetDocumentElement.clientWidth)this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-X-2,this._targetDocumentElement.clientLeft)}if(this._x<this._targetDocumentElement.clientLeft)this._x=$.left+2}computeYCordinate($){if(this._target.y!==void 0)this._y=this._target.y;else if(this._hoverPosition===3)this._y=$.top;else if(this._hoverPosition===2)this._y=$.bottom-2;else if(this._hoverPointer)this._y=$.center.y+this._hover.containerDomNode.clientHeight/2;else this._y=$.bottom;if(this._y>this._targetWindow.innerHeight)this._y=$.bottom}adjustHorizontalHoverPosition($){if(this._target.x!==void 0)return;if(this._forcePosition){const X=(this._hoverPointer?3:0)+2;if(this._hoverPosition===1)this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-$.right-X}px`;else if(this._hoverPosition===0)this._hover.containerDomNode.style.maxWidth=`${$.left-X}px`;return}if(this._hoverPosition===1){if(this._targetDocumentElement.clientWidth-$.right<this._hover.containerDomNode.clientWidth)if($.left>=this._hover.containerDomNode.clientWidth)this._hoverPosition=0;else this._hoverPosition=2}else if(this._hoverPosition===0){if($.left<this._hover.containerDomNode.clientWidth)if(this._targetDocumentElement.clientWidth-$.right>=this._hover.containerDomNode.clientWidth)this._hoverPosition=1;else this._hoverPosition=2;if($.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft)this._hoverPosition=1}}adjustVerticalHoverPosition($){if(this._target.y!==void 0||this._forcePosition)return;if(this._hoverPosition===3){if($.top-this._hover.containerDomNode.clientHeight<0)this._hoverPosition=2}else if(this._hoverPosition===2){if($.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight)this._hoverPosition=3}}adjustHoverMaxHeight($){let X=this._targetWindow.innerHeight/2;if(this._forcePosition){const Q=(this._hoverPointer?3:0)+2;if(this._hoverPosition===3)X=Math.min(X,$.top-Q);else if(this._hoverPosition===2)X=Math.min(X,this._targetWindow.innerHeight-$.bottom-Q)}if(this._hover.containerDomNode.style.maxHeight=`${X}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const Q=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;if(this._hover.contentsDomNode.style.paddingRight!==Q)this._hover.contentsDomNode.style.paddingRight=Q}}setHoverPointerPosition($){if(!this._hoverPointer)return;switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const X=this._hover.containerDomNode.clientHeight;if(X>$.height)this._hoverPointer.style.top=`${$.center.y-(this._y-X)-3}px`;else this._hoverPointer.style.top=`${Math.round(X/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const X=this._hover.containerDomNode.clientWidth;let Q=Math.round(X/2)-3;const Y=this._x+Q;if(Y<$.left||Y>$.right)Q=$.center.x-this._x-3;this._hoverPointer.style.left=`${Q}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){if(!this._isDisposed)this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose();this._isDisposed=!0}};kP=bJ0([CV(1,l8),CV(2,S1),CV(3,a$),CV(4,g0),CV(5,_7)],kP)});class Vs{get anchorPosition(){return this._hover.anchor}constructor(J,$=!1){this._hover=J,this._focus=$}render(J){if(this._hover.render(J),this._focus)this._hover.focus();return this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}var zs,vJ0,g3,mE;var js=N(()=>{h9();r8();L7();KP();DQ();m0();Hs();X0();D0();xJ();T7();K4();vY();X7();zs=function(J){var $;if(J===void 0)return;return($=J===null||J===void 0?void 0:J.id)!==null&&$!==void 0?$:J},vJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},g3=function(J,$){return function(X,Q){$(X,Q,J)}},mE=class J{constructor($,X,Q,Y,Z,G){this._instantiationService=$,this._contextViewService=X,this._keybindingService=Y,this._layoutService=Z,this._accessibilityService=G,Q.onDidShowContextMenu(()=>this.hideHover())}showHover($,X,Q){var Y,Z,G,q;if(zs(this._currentHoverOptions)===zs($))return;if(this._currentHover&&((Z=(Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.persistence)===null||Z===void 0?void 0:Z.sticky))return;this._currentHoverOptions=$,this._lastHoverOptions=$;const U=$.trapFocus||this._accessibilityService.isScreenReaderOptimized(),H=$6();if(!Q)if(U&&H)this._lastFocusedElementBeforeOpen=H;else this._lastFocusedElementBeforeOpen=void 0;const z=new r,V=this._instantiationService.createInstance(kP,$);if((G=$.persistence)===null||G===void 0?void 0:G.sticky)V.isLocked=!0;if(V.onDispose(()=>{var W,B;if(((W=this._currentHover)===null||W===void 0?void 0:W.domNode)&&fF(this._currentHover.domNode))(B=this._lastFocusedElementBeforeOpen)===null||B===void 0||B.focus();if(this._currentHoverOptions===$)this._currentHoverOptions=void 0;z.dispose()}),!$.container){const W=$.target instanceof HTMLElement?$.target:$.target.targetElements[0];$.container=this._layoutService.getContainer(B0(W))}const j=this._contextViewService;if(j.showContextView(new Vs(V,X),$.container),V.onRequestLayout(()=>j.layout()),(q=$.persistence)===null||q===void 0?void 0:q.sticky)z.add(m(B0($.container).document,$0.MOUSE_DOWN,(W)=>{if(!u8(W.target,V.domNode))this.doHideHover()}));else{if("targetElements"in $.target)for(let B of $.target.targetElements)z.add(m(B,$0.CLICK,()=>this.hideHover()));else z.add(m($.target,$0.CLICK,()=>this.hideHover()));const W=$6();if(W){const B=B0(W).document;z.add(m(W,$0.KEY_DOWN,(K)=>{var P;return this._keyDown(K,V,!!((P=$.persistence)===null||P===void 0?void 0:P.hideOnKeyDown))})),z.add(m(B,$0.KEY_DOWN,(K)=>{var P;return this._keyDown(K,V,!!((P=$.persistence)===null||P===void 0?void 0:P.hideOnKeyDown))})),z.add(m(W,$0.KEY_UP,(K)=>this._keyUp(K,V))),z.add(m(B,$0.KEY_UP,(K)=>this._keyUp(K,V)))}}if("IntersectionObserver"in B1){const W=new IntersectionObserver((K)=>this._intersectionChange(K,V),{threshold:0}),B="targetElements"in $.target?$.target.targetElements[0]:$.target;W.observe(B),z.add(K0(()=>W.disconnect()))}return this._currentHover=V,V}hideHover(){var $;if((($=this._currentHover)===null||$===void 0?void 0:$.isLocked)||!this._currentHoverOptions)return;this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange($,X){if(!$[$.length-1].isIntersecting)X.dispose()}_keyDown($,X,Q){var Y,Z;if($.key==="Alt"){X.isLocked=!0;return}const G=new A1($);if(this._keybindingService.resolveKeyboardEvent(G).getSingleModifierDispatchChords().some((U)=>!!U)||this._keybindingService.softDispatch(G,G.target).kind!==0)return;if(Q&&(!((Y=this._currentHoverOptions)===null||Y===void 0?void 0:Y.trapFocus)||$.key!=="Tab"))this.hideHover(),(Z=this._lastFocusedElementBeforeOpen)===null||Z===void 0||Z.focus()}_keyUp($,X){var Q;if($.key==="Alt"){if(X.isLocked=!1,!X.isMouseIn)this.hideHover(),(Q=this._lastFocusedElementBeforeOpen)===null||Q===void 0||Q.focus()}}};mE=vJ0([g3(0,g0),g3(1,S4),g3(2,n5),g3(3,l8),g3(4,K9),g3(5,_7)],mE);z1(C3,mE,1);c7((J,$)=>{const X=J.getColor(Zg);if(X)$.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${X.transparent(0.5)}; }`),$.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${X.transparent(0.5)}; }`)})});class xV{constructor(J){this.metadata=J}static convert(J){return J.edits.map(($)=>{if(uY.is($))return uY.lift($);if(p3.is($))return p3.lift($);throw new Error("Unsupported edit")})}}class uY extends xV{static is(J){if(J instanceof uY)return!0;return n8(J)&&I0.isUri(J.resource)&&n8(J.textEdit)}static lift(J){if(J instanceof uY)return J;else return new uY(J.resource,J.textEdit,J.versionId,J.metadata)}constructor(J,$,X=void 0,Q){super(Q);this.resource=J,this.textEdit=$,this.versionId=X}}class p3 extends xV{static is(J){if(J instanceof p3)return!0;else return n8(J)&&(Boolean(J.newResource)||Boolean(J.oldResource))}static lift(J){if(J instanceof p3)return J;else return new p3(J.oldResource,J.newResource,J.options,J.metadata)}constructor(J,$,X={},Q){super(Q);this.oldResource=J,this.newResource=$,this.options=X}}var Ws;var Bs=N(()=>{m0();e8();G8();Ws=M0("IWorkspaceEditService")});var j7;var uE=N(()=>{j7={enableSplitViewResizing:!0,splitViewDefaultRatio:0.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5000,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}});function Ks(J){return Fs()[`editor.${J}`]||!1}function As(J){return Fs()[`diffEditor.${J}`]||!1}var hJ0,Fs,fJ0,yP,IP,gJ0;var Ps=N(()=>{uE();J7();eU();h0();UG();Y5();hJ0=function(J){return typeof J.type!=="undefined"||typeof J.anyOf!=="undefined"},Fs=function(){if(IP===null)IP=Object.create(null),Object.keys(yP.properties).forEach((J)=>{IP[J]=!0});return IP};fJ0=Object.freeze({id:"editor",order:5,type:"object",title:F("editorConfigurationTitle","Editor"),scope:5}),yP={...fJ0,properties:{"editor.tabSize":{type:"number",default:P6.tabSize,minimum:1,markdownDescription:F("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:F("indentSize","The number of spaces used for indentation or `\"tabSize\"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:P6.insertSpaces,markdownDescription:F("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:P6.detectIndentation,markdownDescription:F("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:P6.trimAutoWhitespace,description:F("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:P6.largeFileOptimizations,description:F("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[F("wordBasedSuggestions.off","Turn off Word Based Suggestions."),F("wordBasedSuggestions.currentDocument","Only suggest words from the active document."),F("wordBasedSuggestions.matchingDocuments","Suggest words from all open documents of the same language."),F("wordBasedSuggestions.allDocuments","Suggest words from all open documents.")],description:F("wordBasedSuggestions","Controls whether completions should be computed based on words in the document and from which documents they are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[F("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),F("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),F("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme\'s `semanticHighlighting` setting.")],default:"configuredByTheme",description:F("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:F("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:20000,description:F("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:F("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:F("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:F("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:F("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:F("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:j7.maxComputationTime,description:F("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:j7.maxFileSize,description:F("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:j7.renderSideBySide,description:F("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:j7.renderSideBySideInlineBreakpoint,description:F("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:j7.useInlineViewWhenSpaceIsLimited,description:F("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:j7.renderMarginRevertIcon,description:F("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:j7.ignoreTrimWhitespace,description:F("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:j7.renderIndicators,description:F("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:j7.diffCodeLens,description:F("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:j7.diffWordWrap,markdownEnumDescriptions:[F("wordWrap.off","Lines will never wrap."),F("wordWrap.on","Lines will wrap at the viewport width."),F("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:j7.diffAlgorithm,markdownEnumDescriptions:[F("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),F("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:j7.hideUnchangedRegions.enabled,markdownDescription:F("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions.")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:j7.hideUnchangedRegions.revealLineCount,markdownDescription:F("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:j7.hideUnchangedRegions.minimumLineCount,markdownDescription:F("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions."),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:j7.hideUnchangedRegions.contextLineCount,markdownDescription:F("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions."),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:j7.experimental.showMoves,markdownDescription:F("showMoves","Controls whether the diff editor should show detected code moves.")},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:j7.experimental.showEmptyDecorations,description:F("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}};for(let J of pQ){const $=J.schema;if(typeof $!=="undefined"){if(hJ0($))yP.properties[`editor.${J.name}`]=$;else for(let X in $)if(Object.hasOwnProperty.call($,X))yP.properties[X]=$[X]}}IP=null,gJ0=r1.as(p9.Configuration);gJ0.registerConfiguration(yP)});class i9{static insert(J,$){return{range:new L(J.lineNumber,J.column,J.lineNumber,J.column),text:$,forceMoveMarkers:!0}}static delete(J){return{range:J,text:null}}static replace(J,$){return{range:J,text:$}}static replaceMove(J,$){return{range:J,text:$,forceMoveMarkers:!0}}}var bV=N(()=>{c0()});class o6{constructor(J={},$=[],X=[],Q){this._contents=J,this._keys=$,this._overrides=X,this.raw=Q,this.overrideConfigurations=new Map}get rawConfiguration(){var J;if(!this._rawConfiguration)if((J=this.raw)===null||J===void 0?void 0:J.length){const $=this.raw.map((X)=>{if(X instanceof o6)return X;const Q=new Ds("");return Q.parseRaw(X),Q.configurationModel});this._rawConfiguration=$.reduce((X,Q)=>Q===X?Q:X.merge(Q),$[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(J){return J?tO(this.contents,J):this.contents}inspect(J,$){const X=this.rawConfiguration.getValue(J),Q=$?this.rawConfiguration.getOverrideValue(J,$):void 0,Y=$?this.rawConfiguration.override($).getValue(J):X;return{value:X,override:Q,merged:Y}}getOverrideValue(J,$){const X=this.getContentsForOverrideIdentifer($);return X?J?tO(X,J):X:void 0}override(J){let $=this.overrideConfigurations.get(J);if(!$)$=this.createOverrideConfigurationModel(J),this.overrideConfigurations.set(J,$);return $}merge(...J){var $,X;const Q=n4(this.contents),Y=n4(this.overrides),Z=[...this.keys],G=(($=this.raw)===null||$===void 0?void 0:$.length)?[...this.raw]:[this];for(let q of J){if(G.push(...((X=q.raw)===null||X===void 0?void 0:X.length)?q.raw:[q]),q.isEmpty())continue;this.mergeContents(Q,q.contents);for(let U of q.overrides){const[H]=Y.filter((z)=>Q8(z.identifiers,U.identifiers));if(H)this.mergeContents(H.contents,U.contents),H.keys.push(...U.keys),H.keys=UJ(H.keys);else Y.push(n4(U))}for(let U of q.keys)if(Z.indexOf(U)===-1)Z.push(U)}return new o6(Q,Z,Y,G.every((q)=>q instanceof o6)?void 0:G)}createOverrideConfigurationModel(J){const $=this.getContentsForOverrideIdentifer(J);if(!$||typeof $!=="object"||!Object.keys($).length)return this;const X={};for(let Q of UJ([...Object.keys(this.contents),...Object.keys($)])){let Y=this.contents[Q];const Z=$[Q];if(Z)if(typeof Y==="object"&&typeof Z==="object")Y=n4(Y),this.mergeContents(Y,Z);else Y=Z;X[Q]=Y}return new o6(X,this.keys,this.overrides)}mergeContents(J,$){for(let X of Object.keys($)){if(X in J){if(n8(J[X])&&n8($[X])){this.mergeContents(J[X],$[X]);continue}}J[X]=n4($[X])}}getContentsForOverrideIdentifer(J){let $=null,X=null;const Q=(Y)=>{if(Y)if(X)this.mergeContents(X,Y);else X=n4(Y)};for(let Y of this.overrides)if(Y.identifiers.length===1&&Y.identifiers[0]===J)$=Y.contents;else if(Y.identifiers.includes(J))Q(Y.contents);return Q($),X}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(J,$){this.updateValue(J,$,!0)}setValue(J,$){this.updateValue(J,$,!1)}removeValue(J){const $=this.keys.indexOf(J);if($===-1)return;if(this.keys.splice($,1),Kv(this.contents,J),bX.test(J))this.overrides.splice(this.overrides.findIndex((X)=>Q8(X.identifiers,rH(J))),1)}updateValue(J,$,X){if(oO(this.contents,J,$,(Q)=>console.error(Q)),X=X||this.keys.indexOf(J)===-1,X)this.keys.push(J);if(bX.test(J))this.overrides.push({identifiers:rH(J),keys:Object.keys(this.contents[J]),contents:rF(this.contents[J],(Q)=>console.error(Q))})}}class Ds{constructor(J){this._name=J,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new o6}parseRaw(J,$){this._raw=J;const{contents:X,keys:Q,overrides:Y,restricted:Z,hasExcludedProperties:G}=this.doParseRaw(J,$);this._configurationModel=new o6(X,Q,Y,G?[J]:void 0),this._restrictedConfigurations=Z||[]}doParseRaw(J,$){const X=r1.as(p9.Configuration).getConfigurationProperties(),Q=this.filter(J,X,!0,$);J=Q.raw;const Y=rF(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`)),Z=Object.keys(J),G=this.toOverrides(J,(q)=>console.error(`Conflict in settings file ${this._name}: ${q}`));return{contents:Y,keys:Z,overrides:G,restricted:Q.restricted,hasExcludedProperties:Q.hasExcludedProperties}}filter(J,$,X,Q){var Y,Z,G;let q=!1;if(!(Q===null||Q===void 0?void 0:Q.scopes)&&!(Q===null||Q===void 0?void 0:Q.skipRestricted)&&!((Y=Q===null||Q===void 0?void 0:Q.exclude)===null||Y===void 0?void 0:Y.length))return{raw:J,restricted:[],hasExcludedProperties:q};const U={},H=[];for(let z in J)if(bX.test(z)&&X){const V=this.filter(J[z],$,!1,Q);U[z]=V.raw,q=q||V.hasExcludedProperties,H.push(...V.restricted)}else{const V=$[z],j=V?typeof V.scope!=="undefined"?V.scope:3:void 0;if(V===null||V===void 0?void 0:V.restricted)H.push(z);if(!((Z=Q.exclude)===null||Z===void 0?void 0:Z.includes(z))&&(((G=Q.include)===null||G===void 0?void 0:G.includes(z))||(j===void 0||Q.scopes===void 0||Q.scopes.includes(j))&&!(Q.skipRestricted&&(V===null||V===void 0?void 0:V.restricted))))U[z]=J[z];else q=!0}return{raw:U,restricted:H,hasExcludedProperties:q}}toOverrides(J,$){const X=[];for(let Q of Object.keys(J))if(bX.test(Q)){const Y={};for(let Z in J[Q])Y[Z]=J[Q][Z];X.push({identifiers:rH(Q),keys:Object.keys(Y),contents:rF(Y,$)})}return X}}class Rs{constructor(J,$,X,Q,Y,Z,G,q,U,H,z,V,j){this.key=J,this.overrides=$,this._value=X,this.overrideIdentifiers=Q,this.defaultConfiguration=Y,this.policyConfiguration=Z,this.applicationConfiguration=G,this.userConfiguration=q,this.localUserConfiguration=U,this.remoteUserConfiguration=H,this.workspaceConfiguration=z,this.folderConfigurationModel=V,this.memoryConfigurationModel=j}inspect(J,$,X){const Q=J.inspect($,X);return{get value(){return cE(Q.value)},get override(){return cE(Q.override)},get merged(){return cE(Q.merged)}}}get userInspectValue(){if(!this._userInspectValue)this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier);return this._userInspectValue}get user(){return this.userInspectValue.value!==void 0||this.userInspectValue.override!==void 0?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class vV{constructor(J,$,X,Q,Y=new o6,Z=new o6,G=new x6,q=new o6,U=new x6){this._defaultConfiguration=J,this._policyConfiguration=$,this._applicationConfiguration=X,this._localUserConfiguration=Q,this._remoteUserConfiguration=Y,this._workspaceConfiguration=Z,this._folderConfigurations=G,this._memoryConfiguration=q,this._memoryConfigurationByResource=U,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new x6,this._userConfiguration=null}getValue(J,$,X){return this.getConsolidatedConfigurationModel(J,$,X).getValue(J)}updateValue(J,$,X={}){let Q;if(X.resource){if(Q=this._memoryConfigurationByResource.get(X.resource),!Q)Q=new o6,this._memoryConfigurationByResource.set(X.resource,Q)}else Q=this._memoryConfiguration;if($===void 0)Q.removeValue(J);else Q.setValue(J,$);if(!X.resource)this._workspaceConsolidatedConfiguration=null}inspect(J,$,X){const Q=this.getConsolidatedConfigurationModel(J,$,X),Y=this.getFolderConfigurationModelForResource($.resource,X),Z=$.resource?this._memoryConfigurationByResource.get($.resource)||this._memoryConfiguration:this._memoryConfiguration,G=new Set;for(let q of Q.overrides)for(let U of q.identifiers)if(Q.getOverrideValue(J,U)!==void 0)G.add(U);return new Rs(J,$,Q.getValue(J),G.size?[...G]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,X?this._workspaceConfiguration:void 0,Y?Y:void 0,Z)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){if(!this._userConfiguration)this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration);return this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(J,$,X){let Q=this.getConsolidatedConfigurationModelForResource($,X);if($.overrideIdentifier)Q=Q.override($.overrideIdentifier);if(!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(J)!==void 0)Q=Q.merge(this._policyConfiguration);return Q}getConsolidatedConfigurationModelForResource({resource:J},$){let X=this.getWorkspaceConsolidatedConfiguration();if($&&J){const Q=$.getFolder(J);if(Q)X=this.getFolderConsolidatedConfiguration(Q.uri)||X;const Y=this._memoryConfigurationByResource.get(J);if(Y)X=X.merge(Y)}return X}getWorkspaceConsolidatedConfiguration(){if(!this._workspaceConsolidatedConfiguration)this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration);return this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(J){let $=this._foldersConsolidatedConfigurations.get(J);if(!$){const X=this.getWorkspaceConsolidatedConfiguration(),Q=this._folderConfigurations.get(J);if(Q)$=X.merge(Q),this._foldersConsolidatedConfigurations.set(J,$);else $=X}return $}getFolderConfigurationModelForResource(J,$){if($&&J){const X=$.getFolder(J);if(X)return this._folderConfigurations.get(X.uri)}return}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((J,$)=>{const{contents:X,overrides:Q,keys:Y}=this._folderConfigurations.get($);return J.push([$,{contents:X,overrides:Q,keys:Y}]),J},[])}}static parse(J){const $=this.parseConfigurationModel(J.defaults),X=this.parseConfigurationModel(J.policy),Q=this.parseConfigurationModel(J.application),Y=this.parseConfigurationModel(J.user),Z=this.parseConfigurationModel(J.workspace),G=J.folders.reduce((q,U)=>{return q.set(I0.revive(U[0]),this.parseConfigurationModel(U[1])),q},new x6);return new vV($,X,Q,Y,new o6,Z,G,new o6,new x6)}static parseConfigurationModel(J){return new o6(J.contents,J.keys,J.overrides)}}class lE{constructor(J,$,X,Q){this.change=J,this.previous=$,this.currentConfiguraiton=X,this.currentWorkspace=Q,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(let Y of J.keys)this.affectedKeys.add(Y);for(let[,Y]of J.overrides)for(let Z of Y)this.affectedKeys.add(Z);this._affectsConfigStr=this._marker;for(let Y of this.affectedKeys)this._affectsConfigStr+=Y+this._marker}get previousConfiguration(){if(!this._previousConfiguration&&this.previous)this._previousConfiguration=vV.parse(this.previous.data);return this._previousConfiguration}affectsConfiguration(J,$){var X;const Q=this._marker+J,Y=this._affectsConfigStr.indexOf(Q);if(Y<0)return!1;const Z=Y+Q.length;if(Z>=this._affectsConfigStr.length)return!1;const G=this._affectsConfigStr.charCodeAt(Z);if(G!==this._markerCode1&&G!==this._markerCode2)return!1;if($){const q=this.previousConfiguration?this.previousConfiguration.getValue(J,$,(X=this.previous)===null||X===void 0?void 0:X.workspace):void 0,U=this.currentConfiguraiton.getValue(J,$,this.currentWorkspace);return!I6(q,U)}return!0}}var cE;var dE=N(()=>{H1();W4();B5();G8();e8();h7();UG();Y5();cE=function(J){return Object.isFrozen(J)?J:zC(J)}});class m3{constructor(J,$,X){var Q;this._log=X,this._defaultKeybindings=J,this._defaultBoundCommands=new Map;for(let Y of J){const Z=Y.command;if(Z&&Z.charAt(0)!=="-")this._defaultBoundCommands.set(Z,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=m3.handleRemovals([].concat(J).concat($));for(let Y=0,Z=this._keybindings.length;Y<Z;Y++){const G=this._keybindings[Y];if(G.chords.length===0)continue;const q=(Q=G.when)===null||Q===void 0?void 0:Q.substituteConstants();if(q&&q.type===0)continue;this._addKeyPress(G.chords[0],G)}}static _isTargetedForRemoval(J,$,X){if($){for(let Q=0;Q<$.length;Q++)if($[Q]!==J.chords[Q])return!1}if(X&&X.type!==1){if(!J.when)return!1;if(!Xb(X,J.when))return!1}return!0}static handleRemovals(J){const $=new Map;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.command&&Z.command.charAt(0)==="-"){const G=Z.command.substring(1);if(!$.has(G))$.set(G,[Z]);else $.get(G).push(Z)}}if($.size===0)return J;const X=[];for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(!Z.command||Z.command.length===0){X.push(Z);continue}if(Z.command.charAt(0)==="-")continue;const G=$.get(Z.command);if(!G||!Z.isDefault){X.push(Z);continue}let q=!1;for(let U of G){const H=U.when;if(this._isTargetedForRemoval(Z,U.chords,H)){q=!0;break}}if(!q){X.push(Z);continue}}return X}_addKeyPress(J,$){const X=this._map.get(J);if(typeof X==="undefined"){this._map.set(J,[$]),this._addToLookupMap($);return}for(let Q=X.length-1;Q>=0;Q--){const Y=X[Q];if(Y.command===$.command)continue;let Z=!0;for(let G=1;G<Y.chords.length&&G<$.chords.length;G++)if(Y.chords[G]!==$.chords[G]){Z=!1;break}if(!Z)continue;if(m3.whenIsEntirelyIncluded(Y.when,$.when))this._removeFromLookupMap(Y)}X.push($),this._addToLookupMap($)}_addToLookupMap(J){if(!J.command)return;let $=this._lookupMap.get(J.command);if(typeof $==="undefined")$=[J],this._lookupMap.set(J.command,$);else $.push(J)}_removeFromLookupMap(J){if(!J.command)return;const $=this._lookupMap.get(J.command);if(typeof $==="undefined")return;for(let X=0,Q=$.length;X<Q;X++)if($[X]===J){$.splice(X,1);return}}static whenIsEntirelyIncluded(J,$){if(!$||$.type===1)return!0;if(!J||J.type===1)return!1;return YF(J,$)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(J,$){const X=this._lookupMap.get(J);if(typeof X==="undefined"||X.length===0)return null;if(X.length===1)return X[0];for(let Q=X.length-1;Q>=0;Q--){const Y=X[Q];if($.contextMatchesRules(Y.when))return Y}return X[X.length-1]}resolve(J,$,X){const Q=[...$,X];this._log(`| Resolving ${Q}`);const Y=this._map.get(Q[0]);if(Y===void 0)return this._log("\\ No keybinding entries."),fV;let Z=null;if(Q.length<2)Z=Y;else{Z=[];for(let q=0,U=Y.length;q<U;q++){const H=Y[q];if(Q.length>H.chords.length)continue;let z=!0;for(let V=1;V<Q.length;V++)if(H.chords[V]!==Q[V]){z=!1;break}if(z)Z.push(H)}}const G=this._findCommand(J,Z);if(!G)return this._log(`\\ From ${Z.length} keybinding entries, no when clauses matched the context.`),fV;if(Q.length<G.chords.length)return this._log(`\\ From ${Z.length} keybinding entries, awaiting ${G.chords.length-Q.length} more chord(s), when: ${Ms(G.when)}, source: ${Os(G)}.`),pJ0;return this._log(`\\ From ${Z.length} keybinding entries, matched ${G.command}, when: ${Ms(G.when)}, source: ${Os(G)}.`),mJ0(G.command,G.commandArgs,G.bubble)}_findCommand(J,$){for(let X=$.length-1;X>=0;X--){const Q=$[X];if(!m3._contextMatchesRules(J,Q.when))continue;return Q}return null}static _contextMatchesRules(J,$){if(!$)return!0;return $.evaluate(J)}}var mJ0,Ms,Os,fV,pJ0;var sE=N(()=>{m1();mJ0=function(J,$,X){return{kind:2,commandId:J,commandArgs:$,isBubble:X}},Ms=function(J){if(!J)return"no when condition";return`${J.serialize()}`},Os=function(J){return J.extensionId?J.isBuiltinExtension?`built-in extension ${J.extensionId}`:`user extension ${J.extensionId}`:J.isDefault?"built-in":"user"},fV={kind:0},pJ0={kind:1}});class aE extends f{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:J0.None}get inChordMode(){return this._currentChords.length>0}constructor(J,$,X,Q,Y){super();this._contextKeyService=J,this._commandService=$,this._telemetryService=X,this._notificationService=Q,this._logService=Y,this._onDidUpdateKeybindings=this._register(new y),this._currentChords=[],this._currentChordChecker=new nZ,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=$2.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new N7,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(J){if(this._logging)this._logService.info(`[KeybindingService]: ${J}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(J,$){const X=this._getResolver().lookupPrimaryKeybinding(J,$||this._contextKeyService);if(!X)return;return X.resolvedKeybinding}dispatchEvent(J,$){return this._dispatch(J,$)}softDispatch(J,$){this._log("/ Soft dispatching keyboard event");const X=this.resolveKeyboardEvent(J);if(X.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),fV;const[Q]=X.getDispatchChords();if(Q===null)return this._log("\\ Keyboard event cannot be dispatched"),fV;const Y=this._contextKeyService.getContext($),Z=this._currentChords.map(({keypress:G})=>G);return this._getResolver().resolve(Y,Z,Q)}_scheduleLeaveChordMode(){const J=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}if(Date.now()-J>5000)this._leaveChordMode()},500)}_expectAnotherChord(J,$){switch(this._currentChords.push({keypress:J,label:$}),this._currentChords.length){case 0:throw l2("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(F("first.chord","({0}) was pressed. Waiting for second key of chord...",$));break;default:{const X=this._currentChords.map(({label:Q})=>Q).join(", ");this._currentChordStatusMessage=this._notificationService.status(F("next.chord","({0}) was pressed. Waiting for next key of chord...",X))}}if(this._scheduleLeaveChordMode(),vG.enabled)vG.disable()}_leaveChordMode(){if(this._currentChordStatusMessage)this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null;this._currentChordChecker.cancel(),this._currentChords=[],vG.enable()}_dispatch(J,$){return this._doDispatch(this.resolveKeyboardEvent(J),$,!1)}_singleModifierDispatch(J,$){const X=this.resolveKeyboardEvent(J),[Q]=X.getSingleModifierDispatchChords();if(Q){if(this._ignoreSingleModifiers.has(Q))return this._log(`+ Ignoring single modifier ${Q} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=$2.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1;if(this._ignoreSingleModifiers=$2.EMPTY,this._currentSingleModifier===null)return this._log(`+ Storing single modifier for possible chord ${Q}.`),this._currentSingleModifier=Q,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1;if(Q===this._currentSingleModifier)return this._log(`/ Dispatching single modifier chord ${Q} ${Q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(X,$,!0);return this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${Q}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}const[Y]=X.getChords();if(this._ignoreSingleModifiers=new $2(Y),this._currentSingleModifier!==null)this._log("+ Clearing single modifier due to other key up.");return this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(J,$,X=!1){var Q;let Y=!1;if(J.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let Z=null,G=null;if(X){const[z]=J.getSingleModifierDispatchChords();Z=z,G=z?[z]:[]}else[Z]=J.getDispatchChords(),G=this._currentChords.map(({keypress:z})=>z);if(Z===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Y;const q=this._contextKeyService.getContext($),U=J.getLabel(),H=this._getResolver().resolve(q,G,Z);switch(H.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",U,"[ No matching keybinding ]"),this.inChordMode){const z=this._currentChords.map(({label:V})=>V).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${z}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",z,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}return Y}case 1:return this._logService.trace("KeybindingService#dispatch",U,"[ Several keybindings match - more chords needed ]"),Y=!0,this._expectAnotherChord(Z,U),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),Y;case 2:{if(this._logService.trace("KeybindingService#dispatch",U,`[ Will dispatch command ${H.commandId} ]`),H.commandId===null||H.commandId===""){if(this.inChordMode){const z=this._currentChords.map(({label:V})=>V).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${z}, ${U}".`),this._notificationService.status(F("missing.chord","The key combination ({0}, {1}) is not a command.",z,U),{hideAfter:1e4}),this._leaveChordMode(),Y=!0}}else{if(this.inChordMode)this._leaveChordMode();if(!H.isBubble)Y=!0;this._log(`+ Invoking command ${H.commandId}.`),this._currentlyDispatchingCommandId=H.commandId;try{if(typeof H.commandArgs==="undefined")this._commandService.executeCommand(H.commandId).then(void 0,(z)=>this._notificationService.warn(z));else this._commandService.executeCommand(H.commandId,H.commandArgs).then(void 0,(z)=>this._notificationService.warn(z))}finally{this._currentlyDispatchingCommandId=null}if(!uJ0.test(H.commandId))this._telemetryService.publicLog2("workbenchActionExecuted",{id:H.commandId,from:"keybinding",detail:(Q=J.getUserSettingsLabel())!==null&&Q!==void 0?Q:void 0})}return Y}}}mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey)return!1;if(J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30)return!0;return!1}}class $2{constructor(J){this._ctrlKey=J?J.ctrlKey:!1,this._shiftKey=J?J.shiftKey:!1,this._altKey=J?J.altKey:!1,this._metaKey=J?J.metaKey:!1}has(J){switch(J){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}var uJ0;var Ts=N(()=>{u1();D1();F0();aN();X0();h0();sE();uJ0=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;$2.EMPTY=new $2(null)});function SP(J){const $=[];for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y)return[];$.push(Y)}return $}class CP{constructor(J,$,X,Q,Y,Z,G){if(this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=J,this.chords=J?SP(J.getDispatchChords()):[],J&&this.chords.length===0)this.chords=SP(J.getSingleModifierDispatchChords());this.bubble=$?$.charCodeAt(0)===94:!1,this.command=this.bubble?$.substr(1):$,this.commandArgs=X,this.when=Q,this.isDefault=Y,this.extensionId=Z,this.isBuiltinExtension=G}}var rE=N(()=>{});class hV{constructor(J,$,X=$){this.modifierLabels=[null],this.modifierLabels[2]=J,this.modifierLabels[1]=$,this.modifierLabels[3]=X}toLabel(J,$,X){if($.length===0)return null;const Q=[];for(let Y=0,Z=$.length;Y<Z;Y++){const G=$[Y],q=X(G);if(q===null)return null;Q[Y]=cJ0(G,q,this.modifierLabels[J])}return Q.join(" ")}}var cJ0,u3,Ns,_s,ws;var xP=N(()=>{h0();cJ0=function(J,$,X){if($===null)return"";const Q=[];if(J.ctrlKey)Q.push(X.ctrlKey);if(J.shiftKey)Q.push(X.shiftKey);if(J.altKey)Q.push(X.altKey);if(J.metaKey)Q.push(X.metaKey);if($!=="")Q.push($);return Q.join(X.separator)};u3=new hV({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:F({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Ns=new hV({ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:F({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:F({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:F({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:F({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:F({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),_s=new hV({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),ws=new hV({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})});class iE extends YO{constructor(J,$){super();if($.length===0)throw J4("chords");this._os=J,this._chords=$}getLabel(){return u3.toLabel(this._os,this._chords,(J)=>this._getLabel(J))}getAriaLabel(){return Ns.toLabel(this._os,this._chords,(J)=>this._getAriaLabel(J))}getElectronAccelerator(){if(this._chords.length>1)return null;if(this._chords[0].isDuplicateModifierCase())return null;return _s.toLabel(this._os,this._chords,(J)=>this._getElectronAccelerator(J))}getUserSettingsLabel(){return ws.toLabel(this._os,this._chords,(J)=>this._getUserSettingsLabel(J))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map((J)=>this._getChord(J))}_getChord(J){return new QO(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,this._getLabel(J),this._getAriaLabel(J))}getDispatchChords(){return this._chords.map((J)=>this._getChordDispatch(J))}getSingleModifierDispatchChords(){return this._chords.map((J)=>this._getSingleModifierChordDispatch(J))}}var Ls=N(()=>{D1();xP();aZ()});class c3 extends iE{constructor(J,$){super($,J)}_keyCodeToUILabel(J){if(this._os===2)switch(J){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return jJ.toString(J)}_getLabel(J){if(J.isDuplicateModifierCase())return"";return this._keyCodeToUILabel(J.keyCode)}_getAriaLabel(J){if(J.isDuplicateModifierCase())return"";return jJ.toString(J.keyCode)}_getElectronAccelerator(J){return jJ.toElectronAccelerator(J.keyCode)}_getUserSettingsLabel(J){if(J.isDuplicateModifierCase())return"";const $=jJ.toUserSettingsUS(J.keyCode);return $?$.toLowerCase():$}_getChordDispatch(J){return c3.getDispatchStr(J)}static getDispatchStr(J){if(J.isModifierKey())return null;let $="";if(J.ctrlKey)$+="ctrl+";if(J.shiftKey)$+="shift+";if(J.altKey)$+="alt+";if(J.metaKey)$+="meta+";return $+=jJ.toString(J.keyCode),$}_getSingleModifierChordDispatch(J){if(J.keyCode===5&&!J.shiftKey&&!J.altKey&&!J.metaKey)return"ctrl";if(J.keyCode===4&&!J.ctrlKey&&!J.altKey&&!J.metaKey)return"shift";if(J.keyCode===6&&!J.ctrlKey&&!J.shiftKey&&!J.metaKey)return"alt";if(J.keyCode===57&&!J.ctrlKey&&!J.shiftKey&&!J.altKey)return"meta";return null}static _scanCodeToKeyCode(J){const $=nW[J];if($!==-1)return $;switch(J){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(J){if(!J)return null;if(J instanceof E9)return J;const $=this._scanCodeToKeyCode(J.scanCode);if($===0)return null;return new E9(J.ctrlKey,J.shiftKey,J.altKey,J.metaKey,$)}static resolveKeybinding(J,$){const X=SP(J.chords.map((Q)=>this._toKeyCodeChord(Q)));if(X.length>0)return[new c3(X,$)];return[]}}var Es=N(()=>{xZ();aZ();Ls();rE()});var gV;var nE=N(()=>{m0();gV=M0("labelService")});class l3{constructor(J){this.callback=J}report(J){this._value=J,this.callback(this._value)}}var ks,xb0,MQ;var pV=N(()=>{m0();ks=M0("progressService"),xb0=Object.freeze({total(){},worked(){},done(){}});l3.None=Object.freeze({report(){}});MQ=M0("editorProgressService")});class Is{constructor(){this._value="",this._pos=0}reset(J){return this._value=J,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(J){const $=J.charCodeAt(0),X=this._value.charCodeAt(this._pos);return $-X}value(){return this._value[this._pos]}}class ys{constructor(J=!0){this._caseSensitive=J}reset(J){return this._value=J,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let J=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(J)this._from++;else break;else J=!1;return this}cmp(J){return this._caseSensitive?rB(J,this._value,0,J.length,this._from,this._to):o2(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ss{constructor(J=!0,$=!0){this._splitOnBackslash=J,this._caseSensitive=$}reset(J){this._from=0,this._to=0,this._value=J,this._valueLen=J.length;for(let $=J.length-1;$>=0;$--,this._valueLen--){const X=this._value.charCodeAt($);if(!(X===47||this._splitOnBackslash&&X===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let J=!0;for(;this._to<this._valueLen;this._to++){const $=this._value.charCodeAt(this._to);if($===47||this._splitOnBackslash&&$===92)if(J)this._from++;else break;else J=!1}return this}cmp(J){return this._caseSensitive?rB(J,this._value,0,J.length,this._from,this._to):o2(J,this._value,0,J.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Cs{constructor(J,$){this._ignorePathCasing=J,this._ignoreQueryAndFragment=$,this._states=[],this._stateIdx=0}reset(J){if(this._value=J,this._states=[],this._value.scheme)this._states.push(1);if(this._value.authority)this._states.push(2);if(this._value.path){if(this._pathIterator=new Ss(!1,!this._ignorePathCasing(J)),this._pathIterator.reset(J.path),this._pathIterator.value())this._states.push(3)}if(!this._ignoreQueryAndFragment(J)){if(this._value.query)this._states.push(4);if(this._value.fragment)this._states.push(5)}return this._stateIdx=0,this}next(){if(this._states[this._stateIdx]===3&&this._pathIterator.hasNext())this._pathIterator.next();else this._stateIdx+=1;return this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(J){if(this._states[this._stateIdx]===1)return jH(J,this._value.scheme);else if(this._states[this._stateIdx]===2)return jH(J,this._value.authority);else if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(J);else if(this._states[this._stateIdx]===4)return VH(J,this._value.query);else if(this._states[this._stateIdx]===5)return VH(J,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;else if(this._states[this._stateIdx]===2)return this._value.authority;else if(this._states[this._stateIdx]===3)return this._pathIterator.value();else if(this._states[this._stateIdx]===4)return this._value.query;else if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class mV{constructor(){this.height=1}rotateLeft(){const J=this.right;return this.right=J.left,J.left=this,this.updateHeight(),J.updateHeight(),J}rotateRight(){const J=this.left;return this.left=J.right,J.right=this,this.updateHeight(),J.updateHeight(),J}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var J,$;return($=(J=this.left)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}get heightRight(){var J,$;return($=(J=this.right)===null||J===void 0?void 0:J.height)!==null&&$!==void 0?$:0}}class OQ{static forUris(J=()=>!1,$=()=>!1){return new OQ(new Cs(J,$))}static forStrings(){return new OQ(new Is)}static forConfigKeys(){return new OQ(new ys)}constructor(J){this._iter=J}clear(){this._root=void 0}set(J,$){const X=this._iter.reset(J);let Q;if(!this._root)this._root=new mV,this._root.segment=X.value();const Y=[];Q=this._root;while(!0){const G=X.cmp(Q.segment);if(G>0){if(!Q.left)Q.left=new mV,Q.left.segment=X.value();Y.push([-1,Q]),Q=Q.left}else if(G<0){if(!Q.right)Q.right=new mV,Q.right.segment=X.value();Y.push([1,Q]),Q=Q.right}else if(X.hasNext()){if(X.next(),!Q.mid)Q.mid=new mV,Q.mid.segment=X.value();Y.push([0,Q]),Q=Q.mid}else break}const Z=Q.value;Q.value=$,Q.key=J;for(let G=Y.length-1;G>=0;G--){const q=Y[G][1];q.updateHeight();const U=q.balanceFactor();if(U<-1||U>1){const H=Y[G][0],z=Y[G+1][0];if(H===1&&z===1)Y[G][1]=q.rotateLeft();else if(H===-1&&z===-1)Y[G][1]=q.rotateRight();else if(H===1&&z===-1)q.right=Y[G+1][1]=Y[G+1][1].rotateRight(),Y[G][1]=q.rotateLeft();else if(H===-1&&z===1)q.left=Y[G+1][1]=Y[G+1][1].rotateLeft(),Y[G][1]=q.rotateRight();else throw new Error;if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}return Z}get(J){var $;return($=this._getNode(J))===null||$===void 0?void 0:$.value}_getNode(J){const $=this._iter.reset(J);let X=this._root;while(X){const Q=$.cmp(X.segment);if(Q>0)X=X.left;else if(Q<0)X=X.right;else if($.hasNext())$.next(),X=X.mid;else break}return X}has(J){const $=this._getNode(J);return!(($===null||$===void 0?void 0:$.value)===void 0&&($===null||$===void 0?void 0:$.mid)===void 0)}delete(J){return this._delete(J,!1)}deleteSuperstr(J){return this._delete(J,!0)}_delete(J,$){var X;const Q=this._iter.reset(J),Y=[];let Z=this._root;while(Z){const G=Q.cmp(Z.segment);if(G>0)Y.push([-1,Z]),Z=Z.left;else if(G<0)Y.push([1,Z]),Z=Z.right;else if(Q.hasNext())Q.next(),Y.push([0,Z]),Z=Z.mid;else break}if(!Z)return;if($)Z.left=void 0,Z.mid=void 0,Z.right=void 0,Z.height=1;else Z.key=void 0,Z.value=void 0;if(!Z.mid&&!Z.value)if(Z.left&&Z.right){const G=this._min(Z.right);if(G.key){const{key:q,value:U,segment:H}=G;this._delete(G.key,!1),Z.key=q,Z.value=U,Z.segment=H}}else{const G=(X=Z.left)!==null&&X!==void 0?X:Z.right;if(Y.length>0){const[q,U]=Y[Y.length-1];switch(q){case-1:U.left=G;break;case 0:U.mid=G;break;case 1:U.right=G;break}}else this._root=G}for(let G=Y.length-1;G>=0;G--){const q=Y[G][1];q.updateHeight();const U=q.balanceFactor();if(U>1)if(q.right.balanceFactor()>=0)Y[G][1]=q.rotateLeft();else q.right=q.right.rotateRight(),Y[G][1]=q.rotateLeft();else if(U<-1)if(q.left.balanceFactor()<=0)Y[G][1]=q.rotateRight();else q.left=q.left.rotateLeft(),Y[G][1]=q.rotateRight();if(G>0)switch(Y[G-1][0]){case-1:Y[G-1][1].left=Y[G][1];break;case 1:Y[G-1][1].right=Y[G][1];break;case 0:Y[G-1][1].mid=Y[G][1];break}else this._root=Y[0][1]}}_min(J){while(J.left)J=J.left;return J}findSubstr(J){const $=this._iter.reset(J);let X=this._root,Q=void 0;while(X){const Y=$.cmp(X.segment);if(Y>0)X=X.left;else if(Y<0)X=X.right;else if($.hasNext())$.next(),Q=X.value||Q,X=X.mid;else break}return X&&X.value||Q}findSuperstr(J){return this._findSuperstrOrElement(J,!1)}_findSuperstrOrElement(J,$){const X=this._iter.reset(J);let Q=this._root;while(Q){const Y=X.cmp(Q.segment);if(Y>0)Q=Q.left;else if(Y<0)Q=Q.right;else if(X.hasNext())X.next(),Q=Q.mid;else if(!Q.mid)if($)return Q.value;else return;else return this._entries(Q.mid)}return}forEach(J){for(let[$,X]of this)J(X,$)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(J){const $=[];return this._dfsEntries(J,$),$[Symbol.iterator]()}_dfsEntries(J,$){if(!J)return;if(J.left)this._dfsEntries(J.left,$);if(J.value)$.push([J.key,J.value]);if(J.mid)this._dfsEntries(J.mid,$);if(J.right)this._dfsEntries(J.right,$)}}var bP=N(()=>{o0()});function vP(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.uri)}function xs(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&!vP(J)&&!sJ0(J)}function bs(J,$){if(typeof J==="string"||typeof J==="undefined"){if(typeof J==="string")return{id:WJ(J)};if($)return lJ0;return dJ0}const X=J;if(X.configuration)return{id:X.id,configPath:X.configuration};if(X.folders.length===1)return{id:X.id,uri:X.folders[0].uri};return{id:X.id}}function sJ0(J){const $=J;return typeof($===null||$===void 0?void 0:$.id)==="string"&&I0.isUri($.configPath)}class oE{constructor(J,$){this.raw=$,this.uri=J.uri,this.index=J.index,this.name=J.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var uV,lJ0,dJ0,fP,cb0,vs;var hP=N(()=>{h0();AX();bP();e8();m0();uV=M0("contextService"),lJ0={id:"ext-dev"},dJ0={id:"empty-window"};fP="code-workspace",cb0=[{name:F("codeWorkspace","Code Workspace"),extensions:[fP]}],vs="4064f6ec-cb38-4ad0-af64-ee6467e63c82"});var fs,hs,gs,ps,ms,cV,us,gP;var tE=N(()=>{h0();(function(J){J.inspectTokensAction=F("inspectTokens","Developer: Inspect Tokens")})(fs||(fs={}));(function(J){J.gotoLineActionLabel=F("gotoLineActionLabel","Go to Line/Column...")})(hs||(hs={}));(function(J){J.helpQuickAccessActionLabel=F("helpQuickAccess","Show all Quick Access Providers")})(gs||(gs={}));(function(J){J.quickCommandActionLabel=F("quickCommandActionLabel","Command Palette"),J.quickCommandHelp=F("quickCommandActionHelp","Show And Run Commands")})(ps||(ps={}));(function(J){J.quickOutlineActionLabel=F("quickOutlineActionLabel","Go to Symbol..."),J.quickOutlineByCategoryActionLabel=F("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(ms||(ms={}));(function(J){J.editorViewAccessibleLabel=F("editorViewAccessibleLabel","Editor content"),J.accessibilityHelpMessage=F("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(cV||(cV={}));(function(J){J.toggleHighContrast=F("toggleHighContrast","Toggle High Contrast Theme")})(us||(us={}));(function(J){J.bulkEditServiceSummary=F("bulkEditServiceSummary","Made {0} edits in {1} files")})(gP||(gP={}))});var cs;var ls=N(()=>{m0();cs=M0("workspaceTrustManagementService")});var w6;var lV=N(()=>{(function(J){function $(Z,G){if(Z.start>=G.end||G.start>=Z.end)return{start:0,end:0};const q=Math.max(Z.start,G.start),U=Math.min(Z.end,G.end);if(U-q<=0)return{start:0,end:0};return{start:q,end:U}}J.intersect=$;function X(Z){return Z.end-Z.start<=0}J.isEmpty=X;function Q(Z,G){return!X($(Z,G))}J.intersects=Q;function Y(Z,G){const q=[],U={start:Z.start,end:Math.min(G.start,Z.end)},H={start:Math.max(G.end,Z.start),end:Z.end};if(!X(U))q.push(U);if(!X(H))q.push(H);return q}J.relativeComplement=Y})(w6||(w6={}))});var ds=N(()=>{q1();V0(".context-view{position:absolute}.context-view.fixed{all:initial;color:inherit;font-family:inherit;font-size:13px;position:fixed}")});function aJ0(J){const $=J;return!!$&&typeof $.x==="number"&&typeof $.y==="number"}function X2(J,$,X){const Q=X.mode===cY.ALIGN?X.offset:X.offset+X.size,Y=X.mode===cY.ALIGN?X.offset+X.size:X.offset;if(X.position===0){if($<=J-Q)return Q;if($<=Y)return Y-$;return Math.max(J-$,0)}else{if($<=Y)return Y-$;if($<=J-Q)return Q;return 0}}class Q2 extends f{constructor(J,$){super();this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=f.None,this.toDisposeOnSetContainer=f.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=q0(".context-view"),v5(this.view),this.setContainer(J,$),this._register(K0(()=>this.setContainer(null,1)))}setContainer(J,$){var X;this.useFixedPosition=$!==1;const Q=this.useShadowDOM;if(this.useShadowDOM=$===3,J===this.container&&Q===this.useShadowDOM)return;if(this.container){if(this.toDisposeOnSetContainer.dispose(),this.shadowRoot)this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(X=this.shadowRootHostElement)===null||X===void 0||X.remove(),this.shadowRootHostElement=null;else this.container.removeChild(this.view);this.container=null}if(J){if(this.container=J,this.useShadowDOM){this.shadowRootHostElement=q0(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const Z=document.createElement("style");Z.textContent=rJ0,this.shadowRoot.appendChild(Z),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(q0("slot"))}else this.container.appendChild(this.view);const Y=new r;Q2.BUBBLE_UP_EVENTS.forEach((Z)=>{Y.add(i1(this.container,Z,(G)=>{this.onDOMEvent(G,!1)}))}),Q2.BUBBLE_DOWN_EVENTS.forEach((Z)=>{Y.add(i1(this.container,Z,(G)=>{this.onDOMEvent(G,!0)},!0))}),this.toDisposeOnSetContainer=Y}}show(J){var $,X;if(this.isVisible())this.hide();C6(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",b5(this.view),this.toDisposeOnClean=J.render(this.view)||f.None,this.delegate=J,this.doLayout(),(X=($=this.delegate).focus)===null||X===void 0||X.call($)}getViewElement(){return this.view}layout(){if(!this.isVisible())return;if(this.delegate.canRelayout===!1&&!(N9&&_H.pointerEvents)){this.hide();return}if(this.delegate.layout)this.delegate.layout();this.doLayout()}doLayout(){if(!this.isVisible())return;const J=this.delegate.getAnchor();let $;if(J instanceof HTMLElement){const V=M6(J),j=xF(J);$={top:V.top*j,left:V.left*j,width:V.width*j,height:V.height*j}}else if(aJ0(J))$={top:J.y,left:J.x,width:J.width||1,height:J.height||2};else $={top:J.posy,left:J.posx,width:2,height:2};const X=jq(this.view),Q=gH(this.view),Y=this.delegate.anchorPosition||0,Z=this.delegate.anchorAlignment||0,G=this.delegate.anchorAxisAlignment||0;let q,U;const H=vb();if(G===0){const V={offset:$.top-H.pageYOffset,size:$.height,position:Y===0?0:1},j={offset:$.left,size:$.width,position:Z===0?0:1,mode:cY.ALIGN};if(q=X2(H.innerHeight,Q,V)+H.pageYOffset,w6.intersects({start:q,end:q+Q},{start:V.offset,end:V.offset+V.size}))j.mode=cY.AVOID;U=X2(H.innerWidth,X,j)}else{const V={offset:$.left,size:$.width,position:Z===0?0:1},j={offset:$.top,size:$.height,position:Y===0?0:1,mode:cY.ALIGN};if(U=X2(H.innerWidth,X,V),w6.intersects({start:U,end:U+X},{start:V.offset,end:V.offset+V.size}))j.mode=cY.AVOID;q=X2(H.innerHeight,Q,j)+H.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(Y===0?"bottom":"top"),this.view.classList.add(Z===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const z=M6(this.container);this.view.style.top=`${q-(this.useFixedPosition?M6(this.view).top:z.top)}px`,this.view.style.left=`${U-(this.useFixedPosition?M6(this.view).left:z.left)}px`,this.view.style.width="initial"}hide(J){const $=this.delegate;if(this.delegate=null,$===null||$===void 0?void 0:$.onHide)$.onHide(J);this.toDisposeOnClean.dispose(),v5(this.view)}isVisible(){return!!this.delegate}onDOMEvent(J,$){if(this.delegate){if(this.delegate.onDOMEvent)this.delegate.onDOMEvent(J,B0(J).document.activeElement);else if($&&!u8(J.target,this.container))this.hide()}}dispose(){this.hide(),super.dispose()}}var cY,rJ0;var eE=N(()=>{DF();D0();X0();O1();lV();ds();(function(J){J[J.AVOID=0]="AVOID",J[J.ALIGN=1]="ALIGN"})(cY||(cY={}));Q2.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Q2.BUBBLE_DOWN_EVENTS=["click"];rJ0=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`});var iJ0,nJ0,pP;var ss=N(()=>{eE();X0();vY();D0();iJ0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},nJ0=function(J,$){return function(X,Q){$(X,Q,J)}},pP=class J extends f{constructor($){super();this.layoutService=$,this.currentViewDisposable=f.None,this.contextView=this._register(new Q2(this.layoutService.mainContainer,1)),this.layout(),this._register($.onDidLayoutContainer(()=>this.layout()))}showContextView($,X,Q){let Y;if(X)if(X===this.layoutService.getContainer(B0(X)))Y=1;else if(Q)Y=3;else Y=2;else Y=1;this.contextView.setContainer(X!==null&&X!==void 0?X:this.layoutService.activeContainer,Y),this.contextView.show($);const Z=K0(()=>{if(this.currentViewDisposable===Z)this.hideContextView()});return this.currentViewDisposable=Z,Z}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView($){this.contextView.hide($)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=f.None}};pP=iJ0([nJ0(0,K9)],pP)});function dV(J,$=!1){oJ0(J,!1,$)}function is(){d3=d3.filter((J)=>J.userConfigured),Jk=[]}function ns(J,$){return eJ0(J,$).map((X)=>X.id)}var oJ0,tJ0,eJ0,as,J40,d3,Jk,rs;var os=N(()=>{jE();sH();z9();AX();g$();o0();wJ();oJ0=function(J,$,X){const Q=tJ0(J,$);if(d3.push(Q),!Q.userConfigured)Jk.push(Q);else rs.push(Q);if(X&&!Q.userConfigured)d3.forEach((Y)=>{if(Y.mime===Q.mime||Y.userConfigured)return;if(Q.extension&&Y.extension===Q.extension)console.warn(`Overwriting extension <<${Q.extension}>> to now point to mime <<${Q.mime}>>`);if(Q.filename&&Y.filename===Q.filename)console.warn(`Overwriting filename <<${Q.filename}>> to now point to mime <<${Q.mime}>>`);if(Q.filepattern&&Y.filepattern===Q.filepattern)console.warn(`Overwriting filepattern <<${Q.filepattern}>> to now point to mime <<${Q.mime}>>`);if(Q.firstline&&Y.firstline===Q.firstline)console.warn(`Overwriting firstline <<${Q.firstline}>> to now point to mime <<${Q.mime}>>`)})},tJ0=function(J,$){return{id:J.id,mime:J.mime,filename:J.filename,extension:J.extension,filepattern:J.filepattern,firstline:J.firstline,userConfigured:$,filenameLowercase:J.filename?J.filename.toLowerCase():void 0,extensionLowercase:J.extension?J.extension.toLowerCase():void 0,filepatternLowercase:J.filepattern?VE(J.filepattern.toLowerCase()):void 0,filepatternOnPath:J.filepattern?J.filepattern.indexOf(O8.sep)>=0:!1}};eJ0=function(J,$){let X;if(J)switch(J.scheme){case J1.file:X=J.fsPath;break;case J1.data:{X=h$.parseMetaData(J).get(h$.META_DATA_LABEL);break}case J1.vscodeNotebookCell:X=void 0;break;default:X=J.path}if(!X)return[{id:"unknown",mime:g9.unknown}];X=X.toLowerCase();const Q=WJ(X),Y=as(X,Q,rs);if(Y)return[Y,{id:T6,mime:g9.text}];const Z=as(X,Q,Jk);if(Z)return[Z,{id:T6,mime:g9.text}];if($){const G=J40($);if(G)return[G,{id:T6,mime:g9.text}]}return[{id:"unknown",mime:g9.unknown}]},as=function(J,$,X){var Q;let Y=void 0,Z=void 0,G=void 0;for(let q=X.length-1;q>=0;q--){const U=X[q];if($===U.filenameLowercase){Y=U;break}if(U.filepattern){if(!Z||U.filepattern.length>Z.filepattern.length){const H=U.filepatternOnPath?J:$;if((Q=U.filepatternLowercase)===null||Q===void 0?void 0:Q.call(U,H))Z=U}}if(U.extension){if(!G||U.extension.length>G.extension.length){if($.endsWith(U.extensionLowercase))G=U}}}if(Y)return Y;if(Z)return Z;if(G)return G;return},J40=function(J){if(Xq(J))J=J.substr(1);if(J.length>0)for(let $=d3.length-1;$>=0;$--){const X=d3[$];if(!X.firstline)continue;const Q=J.match(X.firstline);if(Q&&Q.length>0)return X}return},d3=[],Jk=[],rs=[]});class es{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(ts,0),this._register(T6,1),this._nextLanguageId=2}_register(J,$){this._languageIdToLanguage[$]=J,this._languageToLanguageId.set(J,$)}register(J){if(this._languageToLanguageId.has(J))return;const $=this._nextLanguageId++;this._register(J,$)}encodeLanguageId(J){return this._languageToLanguageId.get(J)||0}decodeLanguageId(J){return this._languageIdToLanguage[J]||ts}}class s3 extends f{constructor(J=!0,$=!1){super();if(this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,s3.instanceCount++,this._warnOnOverwrite=$,this.languageIdCodec=new es,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},J)this._initializeFromRegistry(),this._register(XY.onDidChangeLanguages((X)=>{this._initializeFromRegistry()}))}dispose(){s3.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},is();const J=[].concat(XY.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(J)}_registerLanguages(J){for(let $ of J)this._registerLanguage($);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(($)=>{const X=this._languages[$];if(X.name)this._nameMap[X.name]=X.identifier;X.aliases.forEach((Q)=>{this._lowercaseNameMap[Q.toLowerCase()]=X.identifier}),X.mimetypes.forEach((Q)=>{this._mimeTypesMap[Q]=X.identifier})}),r1.as(p9.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(J){const $=J.id;let X;if(mP.call(this._languages,$))X=this._languages[$];else this.languageIdCodec.register($),X={identifier:$,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[$]=X;this._mergeLanguage(X,J)}_mergeLanguage(J,$){const X=$.id;let Q=null;if(Array.isArray($.mimetypes)&&$.mimetypes.length>0)J.mimetypes.push(...$.mimetypes),Q=$.mimetypes[0];if(!Q)Q=`text/x-${X}`,J.mimetypes.push(Q);if(Array.isArray($.extensions)){if($.configuration)J.extensions=$.extensions.concat(J.extensions);else J.extensions=J.extensions.concat($.extensions);for(let G of $.extensions)dV({id:X,mime:Q,extension:G},this._warnOnOverwrite)}if(Array.isArray($.filenames))for(let G of $.filenames)dV({id:X,mime:Q,filename:G},this._warnOnOverwrite),J.filenames.push(G);if(Array.isArray($.filenamePatterns))for(let G of $.filenamePatterns)dV({id:X,mime:Q,filepattern:G},this._warnOnOverwrite);if(typeof $.firstLine==="string"&&$.firstLine.length>0){let G=$.firstLine;if(G.charAt(0)!=="^")G="^"+G;try{const q=new RegExp(G);if(!gx(q))dV({id:X,mime:Q,firstline:q},this._warnOnOverwrite)}catch(q){console.warn(`[${$.id}]: Invalid regular expression \`${G}\`: `,q)}}J.aliases.push(X);let Y=null;if(typeof $.aliases!=="undefined"&&Array.isArray($.aliases))if($.aliases.length===0)Y=[null];else Y=$.aliases;if(Y!==null)for(let G of Y){if(!G||G.length===0)continue;J.aliases.push(G)}const Z=Y!==null&&Y.length>0;if(Z&&Y[0]===null);else{const G=(Z?Y[0]:null)||X;if(Z||!J.name)J.name=G}if($.configuration)J.configurationFiles.push($.configuration);if($.icon)J.icons.push($.icon)}isRegisteredLanguageId(J){if(!J)return!1;return mP.call(this._languages,J)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(J){const $=J.toLowerCase();if(!mP.call(this._lowercaseNameMap,$))return null;return this._lowercaseNameMap[$]}getLanguageIdByMimeType(J){if(!J)return null;if(mP.call(this._mimeTypesMap,J))return this._mimeTypesMap[J];return null}guessLanguageIdByFilepathOrFirstLine(J,$){if(!J&&!$)return[];return ns(J,$)}}var mP,ts;var Ja=N(()=>{F0();X0();o0();os();wJ();UG();Y5();mP=Object.prototype.hasOwnProperty,ts="vs.editor.nullLanguage";s3.instanceCount=0});class a3 extends f{constructor(J=!1){super();this._onDidRequestBasicLanguageFeatures=this._register(new y),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new y),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new y({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,a3.instanceCount++,this._registry=this._register(new s3(!0,J)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){a3.instanceCount--,super.dispose()}isRegisteredLanguageId(J){return this._registry.isRegisteredLanguageId(J)}getLanguageIdByLanguageName(J){return this._registry.getLanguageIdByLanguageName(J)}getLanguageIdByMimeType(J){return this._registry.getLanguageIdByMimeType(J)}guessLanguageIdByFilepathOrFirstLine(J,$){const X=this._registry.guessLanguageIdByFilepathOrFirstLine(J,$);return f2(X,null)}createById(J){return new $k(this.onDidChange,()=>{return this._createAndGetLanguageIdentifier(J)})}createByFilepathOrFirstLine(J,$){return new $k(this.onDidChange,()=>{const X=this.guessLanguageIdByFilepathOrFirstLine(J,$);return this._createAndGetLanguageIdentifier(X)})}_createAndGetLanguageIdentifier(J){if(!J||!this.isRegisteredLanguageId(J))J=T6;return J}requestBasicLanguageFeatures(J){if(!this._requestedBasicLanguages.has(J))this._requestedBasicLanguages.add(J),this._onDidRequestBasicLanguageFeatures.fire(J)}requestRichLanguageFeatures(J){if(!this._requestedRichLanguages.has(J))this._requestedRichLanguages.add(J),this.requestBasicLanguageFeatures(J),c1.getOrCreate(J),this._onDidRequestRichLanguageFeatures.fire(J)}}class $k{constructor(J,$){this._onDidChangeLanguages=J,this._selector=$,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){if(this._listener)this._listener.dispose(),this._listener=null;if(this._emitter)this._emitter.dispose(),this._emitter=null}get onDidChange(){if(!this._listener)this._listener=this._onDidChangeLanguages(()=>this._evaluate());if(!this._emitter)this._emitter=new y({onDidRemoveLastListener:()=>{this._dispose()}});return this._emitter.event}_evaluate(){var J;const $=this._selector();if($===this.languageId)return;this.languageId=$,(J=this._emitter)===null||J===void 0||J.fire(this.languageId)}}var $a=N(()=>{F0();X0();Ja();H1();M7();wJ();a3.instanceCount=0});var uP;var Xk=N(()=>{sH();uP={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:g9.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}});function Xa(J,$){if(G6($))J.title=TP($);else if($===null||$===void 0?void 0:$.markdownNotSupportedFallback)J.title=$.markdownNotSupportedFallback;else J.removeAttribute("title")}function cP(J,$,X,Q){let Y,Z;const G=(A,D)=>{var R;const M=Z!==void 0;if(A)Z===null||Z===void 0||Z.dispose(),Z=void 0;if(D)Y===null||Y===void 0||Y.dispose(),Y=void 0;if(M)(R=J.onDidHideHover)===null||R===void 0||R.call(J)},q=(A,D,R)=>{return new N7(async()=>{if(!Z||Z.isDisposed)Z=new Qa(J,R||$,A>0),await Z.update(X,D,Q)},A)};let U=!1;const H=m($,$0.MOUSE_DOWN,()=>{U=!0,G(!0,!0)},!0),z=m($,$0.MOUSE_UP,()=>{U=!1},!0),V=m($,$0.MOUSE_LEAVE,(A)=>{U=!1,G(!1,A.fromElement===$)},!0),j=()=>{if(Y)return;const A=new r,D={targetElements:[$],dispose:()=>{}};if(J.placement===void 0||J.placement==="mouse"){const R=(M)=>{if(D.x=M.x+10,M.target instanceof HTMLElement&&M.target.classList.contains("action-label"))G(!0,!0)};A.add(m($,$0.MOUSE_MOVE,R,!0))}A.add(q(J.delay,!1,D)),Y=A},W=m($,$0.MOUSE_OVER,j,!0),B=()=>{if(U||Y)return;const A={targetElements:[$],dispose:()=>{}},D=new r,R=()=>G(!0,!0);D.add(m($,$0.BLUR,R,!0)),D.add(q(J.delay,!1,A)),Y=D},K=m($,$0.FOCUS,B,!0);return{show:(A)=>{G(!1,!0),q(0,A)},hide:()=>{G(!0,!0)},update:async(A,D)=>{X=A,await(Z===null||Z===void 0?void 0:Z.update(X,void 0,D))},dispose:()=>{W.dispose(),V.dispose(),H.dispose(),z.dispose(),K.dispose(),G(!0,!0)}}}class Qa{constructor(J,$,X){this.hoverDelegate=J,this.target=$,this.fadeInAnimation=X}async update(J,$,X){var Q;if(this._cancellationTokenSource)this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0;if(this.isDisposed)return;let Y;if(J===void 0||G6(J)||J instanceof HTMLElement)Y=J;else if(!h2(J.markdown))Y=(Q=J.markdown)!==null&&Q!==void 0?Q:J.markdownNotSupportedFallback;else{if(!this._hoverWidget)this.show(F("iconLabel.loading","Loading..."),$);this._cancellationTokenSource=new H6;const Z=this._cancellationTokenSource.token;if(Y=await J.markdown(Z),Y===void 0)Y=J.markdownNotSupportedFallback;if(this.isDisposed||Z.isCancellationRequested)return}this.show(Y,$,X)}show(J,$,X){const Q=this._hoverWidget;if(this.hasContent(J)){const Y={content:J,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!Q},position:{hoverPosition:2},...X};this._hoverWidget=this.hoverDelegate.showHover(Y,$)}Q===null||Q===void 0||Q.dispose()}hasContent(J){if(!J)return!1;if(RQ(J))return!!J.value;return!0}get isDisposed(){var J;return(J=this._hoverWidget)===null||J===void 0?void 0:J.isDisposed}dispose(){var J,$;(J=this._hoverWidget)===null||J===void 0||J.dispose(),($=this._cancellationTokenSource)===null||$===void 0||$.dispose(!0),this._cancellationTokenSource=void 0}}var Qk=N(()=>{D0();u1();$7();eG();v3();X0();G8();h0()});class Yk{constructor(J){this.spliceables=J}splice(J,$,X){this.spliceables.forEach((Q)=>Q.splice(J,$,X))}}var Ya=N(()=>{});var Zk=N(()=>{q1();V0(".monaco-list{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-list.mouse-support{-webkit-user-select:none;user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{width:100%;height:100%;position:relative}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{box-sizing:border-box;width:100%;position:absolute;overflow:hidden}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list .monaco-scrollable-element>.scrollbar.vertical,.monaco-pane-view>.monaco-split-view2.vertical>.monaco-scrollable-element>.scrollbar.vertical{z-index:14}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-single,.monaco-list.selection-multiple{outline:0!important}.monaco-drag-image{z-index:1000;border-radius:10px;padding:1px 7px;font-size:12px;display:inline-block;position:absolute}.monaco-list-type-filter-message{box-sizing:border-box;text-align:center;white-space:normal;opacity:.7;pointer-events:none;width:100%;height:100%;padding:40px 1em 1em;position:absolute;top:0;left:0}.monaco-list-type-filter-message:empty{display:none}")});class TQ extends Error{constructor(J,$){super(`ListError [${J}] ${$}`)}}var Za=N(()=>{});function Ga(J,$){const X=[];for(let Q of $){if(J.start>=Q.range.end)continue;if(J.end<Q.range.start)break;const Y=w6.intersect(J,Q.range);if(w6.isEmpty(Y))continue;X.push({range:Y,size:Q.size})}return X}function lP({start:J,end:$},X){return{start:J+X,end:$+X}}function $40(J){const $=[];let X=null;for(let Q of J){const Y=Q.range.start,Z=Q.range.end,G=Q.size;if(X&&G===X.size){X.range.end=Z;continue}X={range:{start:Y,end:Z},size:G},$.push(X)}return $}class dP{get paddingTop(){return this._paddingTop}set paddingTop(J){this._size=this._size+J-this._paddingTop,this._paddingTop=J}constructor(J){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=J!==null&&J!==void 0?J:0,this._size=this._paddingTop}splice(J,$,X=[]){const Q=X.length-$,Y=Ga({start:0,end:J},this.groups),Z=Ga({start:J+$,end:Number.POSITIVE_INFINITY},this.groups).map((q)=>({range:lP(q.range,Q),size:q.size})),G=X.map((q,U)=>({range:{start:J+U,end:J+U+1},size:q.size}));this.groups=X40(Y,G,Z),this._size=this._paddingTop+this.groups.reduce((q,U)=>q+U.size*(U.range.end-U.range.start),0)}get count(){const J=this.groups.length;if(!J)return 0;return this.groups[J-1].range.end}get size(){return this._size}indexAt(J){if(J<0)return-1;if(J<this._paddingTop)return 0;let $=0,X=this._paddingTop;for(let Q of this.groups){const Y=Q.range.end-Q.range.start,Z=X+Y*Q.size;if(J<Z)return $+Math.floor((J-X)/Q.size);$+=Y,X=Z}return $}indexAfter(J){return Math.min(this.indexAt(J)+1,this.count)}positionAt(J){if(J<0)return-1;let $=0,X=0;for(let Q of this.groups){const Y=Q.range.end-Q.range.start,Z=X+Y;if(J<Z)return this._paddingTop+$+(J-X)*Q.size;$+=Y*Q.size,X=Z}return-1}}var X40;var qa=N(()=>{lV();X40=function(...J){return $40(J.reduce(($,X)=>$.concat(X),[]))}});class Gk{constructor(J){this.renderers=J,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(J){let $=this.getTemplateCache(J).pop(),X=!1;if($){if(X=this.transactionNodesPendingRemoval.has($.domNode),X)this.transactionNodesPendingRemoval.delete($.domNode)}else{const Q=q0(".monaco-list-row"),Z=this.getRenderer(J).renderTemplate(Q);$={domNode:Q,templateId:J,templateData:Z}}return{row:$,isReusingConnectedDomNode:X}}release(J){if(!J)return;this.releaseRow(J)}transact(J){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{J()}finally{for(let $ of this.transactionNodesPendingRemoval)this.doRemoveNode($);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(J){const{domNode:$,templateId:X}=J;if($)if(this.inTransaction)this.transactionNodesPendingRemoval.add($);else this.doRemoveNode($);this.getTemplateCache(X).push(J)}doRemoveNode(J){J.classList.remove("scrolling"),Q40(J)}getTemplateCache(J){let $=this.cache.get(J);if(!$)$=[],this.cache.set(J,$);return $}dispose(){this.cache.forEach((J,$)=>{for(let X of J)this.getRenderer($).disposeTemplate(X.templateData),X.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(J){const $=this.renderers.get(J);if(!$)throw new Error(`No renderer found for ${J}`);return $}}var Q40;var Ua=N(()=>{D0();Q40=function(J){var $;try{($=J.parentElement)===null||$===void 0||$.removeChild(J)}catch(X){}}});class lY{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class Ha{constructor(J){this.elements=J}update(){}getData(){return this.elements}}class za{constructor(){this.types=[],this.files=[]}update(J){if(J.types)this.types.splice(0,this.types.length,...J.types);if(J.files){this.files.splice(0,this.files.length);for(let $=0;$<J.files.length;$++){const X=J.files.item($);if(X&&(X.size||X.type))this.files.push(X)}}}getData(){return{types:this.types,files:this.files}}}class Va{constructor(J){if(J===null||J===void 0?void 0:J.getSetSize)this.getSetSize=J.getSetSize.bind(J);else this.getSetSize=($,X,Q)=>Q;if(J===null||J===void 0?void 0:J.getPosInSet)this.getPosInSet=J.getPosInSet.bind(J);else this.getPosInSet=($,X)=>X+1;if(J===null||J===void 0?void 0:J.getRole)this.getRole=J.getRole.bind(J);else this.getRole=($)=>"listitem";if(J===null||J===void 0?void 0:J.isChecked)this.isChecked=J.isChecked.bind(J);else this.isChecked=($)=>{return}}}class A9{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(J){if(J===this._horizontalScrolling)return;if(J&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=J,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(let $ of this.items)this.measureItemWidth($);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:bF(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}constructor(J,$,X,Q=n$){var Y,Z,G,q,U,H,z,V,j,W,B,K,P;if(this.virtualDelegate=$,this.domId=`list_id_${++A9.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new MJ(50),this.splicing=!1,this.dragOverAnimationStopDisposable=f.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=f.None,this.onDragLeaveTimeout=f.None,this.disposables=new r,this._onDidChangeContentHeight=new y,this._onDidChangeContentWidth=new y,this.onDidChangeContentHeight=J0.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,Q.horizontalScrolling&&Q.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new dP((Y=Q.paddingTop)!==null&&Y!==void 0?Y:0);for(let D of X)this.renderers.set(D.templateId,D);if(this.cache=this.disposables.add(new Gk(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof Q.mouseSupport==="boolean"?Q.mouseSupport:!0),this._horizontalScrolling=(Z=Q.horizontalScrolling)!==null&&Z!==void 0?Z:n$.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof Q.paddingBottom==="undefined"?0:Q.paddingBottom,this.accessibilityProvider=new Va(Q.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(G=Q.transformOptimization)!==null&&G!==void 0?G:n$.transformOptimization)this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict";this.disposables.add(w1.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new CJ({forceIntegerValues:!0,smoothScrollDuration:((q=Q.smoothScrolling)!==null&&q!==void 0?q:!1)?125:0,scheduleAtNextAnimationFrame:(D)=>R6(B0(this.domNode),D)})),this.scrollableElement=this.disposables.add(new eX(this.rowsContainer,{alwaysConsumeMouseWheel:(U=Q.alwaysConsumeMouseWheel)!==null&&U!==void 0?U:n$.alwaysConsumeMouseWheel,horizontal:1,vertical:(H=Q.verticalScrollMode)!==null&&H!==void 0?H:n$.verticalScrollMode,useShadows:(z=Q.useShadows)!==null&&z!==void 0?z:n$.useShadows,mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity,fastScrollSensitivity:Q.fastScrollSensitivity,scrollByPage:Q.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),J.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(m(this.rowsContainer,I1.Change,(D)=>this.onTouchChange(D))),this.disposables.add(m(this.scrollableElement.getDomNode(),"scroll",(D)=>D.target.scrollTop=0)),this.disposables.add(m(this.domNode,"dragover",(D)=>this.onDragOver(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"drop",(D)=>this.onDrop(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"dragleave",(D)=>this.onDragLeave(this.toDragEvent(D)))),this.disposables.add(m(this.domNode,"dragend",(D)=>this.onDragEnd(D))),this.setRowLineHeight=(V=Q.setRowLineHeight)!==null&&V!==void 0?V:n$.setRowLineHeight,this.setRowHeight=(j=Q.setRowHeight)!==null&&j!==void 0?j:n$.setRowHeight,this.supportDynamicHeights=(W=Q.supportDynamicHeights)!==null&&W!==void 0?W:n$.supportDynamicHeights,this.dnd=(B=Q.dnd)!==null&&B!==void 0?B:this.disposables.add(n$.dnd),this.layout((K=Q.initialSize)===null||K===void 0?void 0:K.height,(P=Q.initialSize)===null||P===void 0?void 0:P.width)}updateOptions(J){if(J.paddingBottom!==void 0)this.paddingBottom=J.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});if(J.smoothScrolling!==void 0)this.scrollable.setSmoothScrollDuration(J.smoothScrolling?125:0);if(J.horizontalScrolling!==void 0)this.horizontalScrolling=J.horizontalScrolling;let $;if(J.scrollByPage!==void 0)$={...$!==null&&$!==void 0?$:{},scrollByPage:J.scrollByPage};if(J.mouseWheelScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},mouseWheelScrollSensitivity:J.mouseWheelScrollSensitivity};if(J.fastScrollSensitivity!==void 0)$={...$!==null&&$!==void 0?$:{},fastScrollSensitivity:J.fastScrollSensitivity};if($)this.scrollableElement.updateOptions($);if(J.paddingTop!==void 0&&J.paddingTop!==this.rangeMap.paddingTop){const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Q=J.paddingTop-this.rangeMap.paddingTop;if(this.rangeMap.paddingTop=J.paddingTop,this.render(X,Math.max(0,this.lastRenderTop+Q),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(J,$,X=[]){if(this.splicing)throw new Error("Can\'t run recursive splices.");this.splicing=!0;try{return this._splice(J,$,X)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(J,$,X=[]){const Q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Y={start:J,end:J+$},Z=w6.intersect(Q,Y),G=new Map;for(let O=Z.end-1;O>=Z.start;O--){const _=this.items[O];if(_.dragStartDisposable.dispose(),_.checkedDisposable.dispose(),_.row){let w=G.get(_.templateId);if(!w)w=[],G.set(_.templateId,w);const C=this.renderers.get(_.templateId);if(C&&C.disposeElement)C.disposeElement(_.element,O,_.row.templateData,_.size);w.push(_.row)}_.row=null}const q={start:J+$,end:this.items.length},U=w6.intersect(q,Q),H=w6.relativeComplement(q,Q),z=X.map((O)=>({id:String(this.itemId++),element:O,templateId:this.virtualDelegate.getTemplateId(O),size:this.virtualDelegate.getHeight(O),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(O),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:f.None,checkedDisposable:f.None}));let V;if(J===0&&$>=this.items.length)this.rangeMap=new dP(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,z),V=this.items,this.items=z;else this.rangeMap.splice(J,$,z),V=this.items.splice(J,$,...z);const j=X.length-$,W=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),B=lP(U,j),K=w6.intersect(W,B);for(let O=K.start;O<K.end;O++)this.updateItemInDOM(this.items[O],O);const P=w6.relativeComplement(B,W);for(let O of P)for(let _=O.start;_<O.end;_++)this.removeItemFromDOM(_);const A=H.map((O)=>lP(O,j)),R=[{start:J,end:J+X.length},...A].map((O)=>w6.intersect(W,O)),M=this.getNextToLastElement(R);for(let O of R)for(let _=O.start;_<O.end;_++){const w=this.items[_],C=G.get(w.templateId),x=C===null||C===void 0?void 0:C.pop();this.insertItemInDOM(_,M,x)}for(let O of G.values())for(let _ of O)this.cache.release(_);if(this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight);return V.map((O)=>O.element)}eventuallyUpdateScrollDimensions(){if(this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,!this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable=R6(B0(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let J=0;for(let $ of this.items)if(typeof $.width!=="undefined")J=Math.max(J,$.width);this.scrollWidth=J,this.scrollableElement.setScrollDimensions({scrollWidth:J===0?0:J+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(!this.supportDynamicHeights)return;for(let J of this.items)J.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(J){return this.items[J].element}indexOf(J){return this.items.findIndex(($)=>$.element===J)}domElement(J){const $=this.items[J].row;return $&&$.domNode}elementHeight(J){return this.items[J].size}elementTop(J){return this.rangeMap.positionAt(J)}indexAt(J){return this.rangeMap.indexAt(J)}indexAfter(J){return this.rangeMap.indexAfter(J)}layout(J,$){const X={height:typeof J==="number"?J:xb(this.domNode)};if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,X.scrollHeight=this.scrollHeight;if(this.scrollableElement.setScrollDimensions(X),typeof $!=="undefined"){if(this.renderWidth=$,this.supportDynamicHeights)this._rerender(this.scrollTop,this.renderHeight)}if(this.horizontalScrolling)this.scrollableElement.setScrollDimensions({width:typeof $==="number"?$:bF(this.domNode)})}render(J,$,X,Q,Y,Z=!1){const G=this.getRenderRange($,X),q=w6.relativeComplement(G,J),U=w6.relativeComplement(J,G),H=this.getNextToLastElement(q);if(Z){const z=w6.intersect(J,G);for(let V=z.start;V<z.end;V++)this.updateItemInDOM(this.items[V],V)}if(this.cache.transact(()=>{for(let z of U)for(let V=z.start;V<z.end;V++)this.removeItemFromDOM(V);for(let z of q)for(let V=z.start;V<z.end;V++)this.insertItemInDOM(V,H)}),Q!==void 0)this.rowsContainer.style.left=`-${Q}px`;if(this.rowsContainer.style.top=`-${$}px`,this.horizontalScrolling&&Y!==void 0)this.rowsContainer.style.width=`${Math.max(Y,this.renderWidth)}px`;this.lastRenderTop=$,this.lastRenderHeight=X}insertItemInDOM(J,$,X){const Q=this.items[J];let Y=!1;if(!Q.row)if(X)Q.row=X;else{const H=this.cache.alloc(Q.templateId);Q.row=H.row,Y=H.isReusingConnectedDomNode}const Z=this.accessibilityProvider.getRole(Q.element)||"listitem";Q.row.domNode.setAttribute("role",Z);const G=this.accessibilityProvider.isChecked(Q.element);if(typeof G==="boolean")Q.row.domNode.setAttribute("aria-checked",String(!!G));else if(G){const H=(z)=>Q.row.domNode.setAttribute("aria-checked",String(!!z));H(G.value),Q.checkedDisposable=G.onDidChange(H)}if(Y||!Q.row.domNode.parentElement)if($)this.rowsContainer.insertBefore(Q.row.domNode,$);else this.rowsContainer.appendChild(Q.row.domNode);this.updateItemInDOM(Q,J);const q=this.renderers.get(Q.templateId);if(!q)throw new Error(`No renderer found for template id ${Q.templateId}`);q===null||q===void 0||q.renderElement(Q.element,J,Q.row.templateData,Q.size);const U=this.dnd.getDragURI(Q.element);if(Q.dragStartDisposable.dispose(),Q.row.domNode.draggable=!!U,U)Q.dragStartDisposable=m(Q.row.domNode,"dragstart",(H)=>this.onDragStart(Q.element,U,H));if(this.horizontalScrolling)this.measureItemWidth(Q),this.eventuallyUpdateScrollWidth()}measureItemWidth(J){if(!J.row||!J.row.domNode)return;J.row.domNode.style.width="fit-content",J.width=bF(J.row.domNode);const $=B0(J.row.domNode).getComputedStyle(J.row.domNode);if($.paddingLeft)J.width+=parseFloat($.paddingLeft);if($.paddingRight)J.width+=parseFloat($.paddingRight);J.row.domNode.style.width=""}updateItemInDOM(J,$){if(J.row.domNode.style.top=`${this.elementTop($)}px`,this.setRowHeight)J.row.domNode.style.height=`${J.size}px`;if(this.setRowLineHeight)J.row.domNode.style.lineHeight=`${J.size}px`;J.row.domNode.setAttribute("data-index",`${$}`),J.row.domNode.setAttribute("data-last-element",$===this.length-1?"true":"false"),J.row.domNode.setAttribute("data-parity",$%2===0?"even":"odd"),J.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(J.element,$,this.length))),J.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(J.element,$))),J.row.domNode.setAttribute("id",this.getElementDomId($)),J.row.domNode.classList.toggle("drop-target",J.dropTarget)}removeItemFromDOM(J){const $=this.items[J];if($.dragStartDisposable.dispose(),$.checkedDisposable.dispose(),$.row){const X=this.renderers.get($.templateId);if(X&&X.disposeElement)X.disposeElement($.element,J,$.row.templateData,$.size);this.cache.release($.row),$.row=null}if(this.horizontalScrolling)this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(J,$){if(this.scrollableElementUpdateDisposable)this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight});this.scrollableElement.setScrollPosition({scrollTop:J,reuseAnimation:$})}get scrollTop(){return this.getScrollTop()}set scrollTop(J){this.setScrollTop(J)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return J0.map(this.disposables.add(new Z1(this.domNode,"click")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseDblClick(){return J0.map(this.disposables.add(new Z1(this.domNode,"dblclick")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseMiddleClick(){return J0.filter(J0.map(this.disposables.add(new Z1(this.domNode,"auxclick")).event,(J)=>this.toMouseEvent(J),this.disposables),(J)=>J.browserEvent.button===1,this.disposables)}get onMouseDown(){return J0.map(this.disposables.add(new Z1(this.domNode,"mousedown")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOver(){return J0.map(this.disposables.add(new Z1(this.domNode,"mouseover")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onMouseOut(){return J0.map(this.disposables.add(new Z1(this.domNode,"mouseout")).event,(J)=>this.toMouseEvent(J),this.disposables)}get onContextMenu(){return J0.any(J0.map(this.disposables.add(new Z1(this.domNode,"contextmenu")).event,(J)=>this.toMouseEvent(J),this.disposables),J0.map(this.disposables.add(new Z1(this.domNode,I1.Contextmenu)).event,(J)=>this.toGestureEvent(J),this.disposables))}get onTouchStart(){return J0.map(this.disposables.add(new Z1(this.domNode,"touchstart")).event,(J)=>this.toTouchEvent(J),this.disposables)}get onTap(){return J0.map(this.disposables.add(new Z1(this.rowsContainer,I1.Tap)).event,(J)=>this.toGestureEvent(J),this.disposables)}toMouseEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toTouchEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toGestureEvent(J){const $=this.getItemIndexFromEventTarget(J.initialTarget||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element;return{browserEvent:J,index:$,element:Q}}toDragEvent(J){const $=this.getItemIndexFromEventTarget(J.target||null),X=typeof $==="undefined"?void 0:this.items[$],Q=X&&X.element,Y=this.getTargetSector(J,$);return{browserEvent:J,index:$,element:Q,sector:Y}}onScroll(J){try{const $=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);if(this.render($,J.scrollTop,J.height,J.scrollLeft,J.scrollWidth),this.supportDynamicHeights)this._rerender(J.scrollTop,J.height,J.inSmoothScrolling)}catch($){throw console.error("Got bad scroll event:",J),$}}onTouchChange(J){J.preventDefault(),J.stopPropagation(),this.scrollTop-=J.translationY}onDragStart(J,$,X){var Q,Y;if(!X.dataTransfer)return;const Z=this.dnd.getDragElements(J);if(X.dataTransfer.effectAllowed="copyMove",X.dataTransfer.setData(uP.TEXT,$),X.dataTransfer.setDragImage){let G;if(this.dnd.getDragLabel)G=this.dnd.getDragLabel(Z,X);if(typeof G==="undefined")G=String(Z.length);const q=q0(".monaco-drag-image");q.textContent=G;const H=((z)=>{while(z&&!z.classList.contains("monaco-workbench"))z=z.parentElement;return z||this.domNode.ownerDocument})(this.domNode);H.appendChild(q),X.dataTransfer.setDragImage(q,-10,-10),setTimeout(()=>H.removeChild(q),0)}this.domNode.classList.add("dragging"),this.currentDragData=new lY(Z),Y2.CurrentDragAndDropData=new Ha(Z),(Y=(Q=this.dnd).onDragStart)===null||Y===void 0||Y.call(Q,this.currentDragData,X)}onDragOver(J){var $,X;if(J.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Y2.CurrentDragAndDropData&&Y2.CurrentDragAndDropData.getData()==="vscode-ui")return!1;if(this.setupDragAndDropScrollTopAnimation(J.browserEvent),!J.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(Y2.CurrentDragAndDropData)this.currentDragData=Y2.CurrentDragAndDropData;else{if(!J.browserEvent.dataTransfer.types)return!1;this.currentDragData=new za}const Q=this.dnd.onDragOver(this.currentDragData,J.element,J.index,J.sector,J.browserEvent);if(this.canDrop=typeof Q==="boolean"?Q:Q.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;J.browserEvent.dataTransfer.dropEffect=typeof Q!=="boolean"&&(($=Q.effect)===null||$===void 0?void 0:$.type)===0?"copy":"move";let Y;if(typeof Q!=="boolean"&&Q.feedback)Y=Q.feedback;else if(typeof J.index==="undefined")Y=[-1];else Y=[J.index];Y=UJ(Y).filter((G)=>G>=-1&&G<this.length).sort((G,q)=>G-q),Y=Y[0]===-1?[-1]:Y;let Z=typeof Q!=="boolean"&&Q.effect&&Q.effect.position?Q.effect.position:"drop-target";if(Y40(this.currentDragFeedback,Y)&&this.currentDragFeedbackPosition===Z)return!0;if(this.currentDragFeedback=Y,this.currentDragFeedbackPosition=Z,this.currentDragFeedbackDisposable.dispose(),Y[0]===-1)this.domNode.classList.add(Z),this.rowsContainer.classList.add(Z),this.currentDragFeedbackDisposable=K0(()=>{this.domNode.classList.remove(Z),this.rowsContainer.classList.remove(Z)});else{if(Y.length>1&&Z!=="drop-target")throw new Error("Can\'t use multiple feedbacks with position different than \'over\'");if(Z==="drop-target-after"){if(Y[0]<this.length-1)Y[0]+=1,Z="drop-target-before"}for(let G of Y){const q=this.items[G];q.dropTarget=!0,(X=q.row)===null||X===void 0||X.domNode.classList.add(Z)}this.currentDragFeedbackDisposable=K0(()=>{var G;for(let q of Y){const U=this.items[q];U.dropTarget=!1,(G=U.row)===null||G===void 0||G.domNode.classList.remove(Z)}})}return!0}onDragLeave(J){var $,X;if(this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=nQ(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData)(X=($=this.dnd).onDragLeave)===null||X===void 0||X.call($,this.currentDragData,J.element,J.index,J.browserEvent)}onDrop(J){if(!this.canDrop)return;const $=this.currentDragData;if(this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Y2.CurrentDragAndDropData=void 0,!$||!J.browserEvent.dataTransfer)return;J.browserEvent.preventDefault(),$.update(J.browserEvent.dataTransfer),this.dnd.drop($,J.element,J.index,J.sector,J.browserEvent)}onDragEnd(J){var $,X;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Y2.CurrentDragAndDropData=void 0,(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=f.None}setupDragAndDropScrollTopAnimation(J){if(!this.dragOverAnimationDisposable){const $=Sb(this.domNode).top;this.dragOverAnimationDisposable=cb(B0(this.domNode),this.animateDragAndDropScrollTop.bind(this,$))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=nQ(()=>{if(this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0},1000,this.disposables),this.dragOverMouseY=J.pageY}animateDragAndDropScrollTop(J){if(this.dragOverMouseY===void 0)return;const $=this.dragOverMouseY-J,X=this.renderHeight-35;if($<35)this.scrollTop+=Math.max(-14,Math.floor(0.3*($-35)));else if($>X)this.scrollTop+=Math.min(14,Math.floor(0.3*($-X)))}teardownDragAndDropScrollTopAnimation(){if(this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable)this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0}getTargetSector(J,$){if($===void 0)return;const X=J.offsetY/this.items[$].size;return Math.floor(X/0.25)}getItemIndexFromEventTarget(J){const $=this.scrollableElement.getDomNode();let X=J;while(X instanceof HTMLElement&&X!==this.rowsContainer&&$.contains(X)){const Q=X.getAttribute("data-index");if(Q){const Y=Number(Q);if(!isNaN(Y))return Y}X=X.parentElement}return}getRenderRange(J,$){return{start:this.rangeMap.indexAt(J),end:this.rangeMap.indexAfter(J+$-1)}}_rerender(J,$,X){const Q=this.getRenderRange(J,$);let Y,Z;if(J===this.elementTop(Q.start))Y=Q.start,Z=0;else if(Q.end-Q.start>1)Y=Q.start+1,Z=this.elementTop(Y)-J;let G=0;while(!0){const q=this.getRenderRange(J,$);let U=!1;for(let H=q.start;H<q.end;H++){const z=this.probeDynamicHeight(H);if(z!==0)this.rangeMap.splice(H,1,[this.items[H]]);G+=z,U=U||z!==0}if(!U){if(G!==0)this.eventuallyUpdateScrollDimensions();const H=w6.relativeComplement(Q,q);for(let V of H)for(let j=V.start;j<V.end;j++)if(this.items[j].row)this.removeItemFromDOM(j);const z=w6.relativeComplement(q,Q);for(let V of z)for(let j=V.start;j<V.end;j++){const W=j+1,B=W<this.items.length?this.items[W].row:null,K=B?B.domNode:null;this.insertItemInDOM(j,K)}for(let V=q.start;V<q.end;V++)if(this.items[V].row)this.updateItemInDOM(this.items[V],V);if(typeof Y==="number"){const V=this.scrollable.getFutureScrollPosition().scrollTop-J,j=this.elementTop(Y)-Z+V;this.setScrollTop(j,X)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(J){var $,X,Q;const Y=this.items[J];if(this.virtualDelegate.getDynamicHeight){const U=this.virtualDelegate.getDynamicHeight(Y.element);if(U!==null){const H=Y.size;return Y.size=U,Y.lastDynamicHeightWidth=this.renderWidth,U-H}}if(!Y.hasDynamicHeight||Y.lastDynamicHeightWidth===this.renderWidth)return 0;if(!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Y.element))return 0;const Z=Y.size;if(Y.row)return Y.row.domNode.style.height="",Y.size=Y.row.domNode.offsetHeight,Y.lastDynamicHeightWidth=this.renderWidth,Y.size-Z;const{row:G}=this.cache.alloc(Y.templateId);G.domNode.style.height="",this.rowsContainer.appendChild(G.domNode);const q=this.renderers.get(Y.templateId);if(!q)throw new b1("Missing renderer for templateId: "+Y.templateId);return q.renderElement(Y.element,J,G.templateData,void 0),Y.size=G.domNode.offsetHeight,($=q.disposeElement)===null||$===void 0||$.call(q,Y.element,J,G.templateData,void 0),(Q=(X=this.virtualDelegate).setDynamicHeight)===null||Q===void 0||Q.call(X,Y.element,Y.size),Y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(G.domNode),this.cache.release(G),Y.size-Z}getNextToLastElement(J){const $=J[J.length-1];if(!$)return null;const X=this.items[$.end];if(!X)return null;if(!X.row)return null;return X.row.domNode}getElementDomId(J){return`${this.domId}_${J}`}dispose(){var J,$;for(let X of this.items)if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){const Q=this.renderers.get(X.row.templateId);if(Q)(J=Q.disposeElement)===null||J===void 0||J.call(Q,X.element,-1,X.row.templateData,void 0),Q.disposeTemplate(X.row.templateData)}if(this.items=[],this.domNode&&this.domNode.parentNode)this.domNode.parentNode.removeChild(this.domNode);($=this.dragOverAnimationDisposable)===null||$===void 0||$.dispose(),this.disposables.dispose()}}var Y40,NQ,Y2,n$;var sP=N(()=>{Xk();D0();w4();s9();_4();H1();u1();AY();F0();X0();lV();$3();qa();Ua();D1();Y40=function(J,$){if(Array.isArray(J)&&Array.isArray($))return Q8(J,$);return J===$},NQ=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Y2={CurrentDragAndDropData:void 0},n$={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(J){return[J]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};A9.InstanceCount=0;NQ([Y8],A9.prototype,"onMouseClick",null);NQ([Y8],A9.prototype,"onMouseDblClick",null);NQ([Y8],A9.prototype,"onMouseMiddleClick",null);NQ([Y8],A9.prototype,"onMouseDown",null);NQ([Y8],A9.prototype,"onMouseOver",null);NQ([Y8],A9.prototype,"onMouseOut",null);NQ([Y8],A9.prototype,"onContextMenu",null);NQ([Y8],A9.prototype,"onTouchStart",null);NQ([Y8],A9.prototype,"onTap",null)});function _Q(J){return J.tagName==="INPUT"||J.tagName==="TEXTAREA"}function r3(J){return aV(J,"monaco-editor")}function Ka(J){return aV(J,"monaco-custom-toggle")}function Aa(J){return aV(J,"action-item")}function n3(J){return aV(J,"monaco-tree-sticky-row")}function rV(J){return J.classList.contains("monaco-tree-sticky-container")}function Uk(J){if(J.tagName==="A"&&J.classList.contains("monaco-button")||J.tagName==="DIV"&&J.classList.contains("monaco-button-dropdown"))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return Uk(J.parentElement)}function zk(J){return a0?J.browserEvent.metaKey:J.browserEvent.ctrlKey}function Vk(J){return J.browserEvent.shiftKey}class Ba{constructor(J){this.trait=J,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(J){return J}renderElement(J,$,X){const Q=this.renderedElements.findIndex((Y)=>Y.templateData===X);if(Q>=0){const Y=this.renderedElements[Q];this.trait.unrender(X),Y.index=$}else{const Y={index:$,templateData:X};this.renderedElements.push(Y)}this.trait.renderIndex($,X)}splice(J,$,X){const Q=[];for(let Y of this.renderedElements)if(Y.index<J)Q.push(Y);else if(Y.index>=J+$)Q.push({index:Y.index+X-$,templateData:Y.templateData});this.renderedElements=Q}renderIndexes(J){for(let{index:$,templateData:X}of this.renderedElements)if(J.indexOf($)>-1)this.trait.renderIndex($,X)}disposeTemplate(J){const $=this.renderedElements.findIndex((X)=>X.templateData===J);if($<0)return;this.renderedElements.splice($,1)}}class sV{get name(){return this._trait}get renderer(){return new Ba(this)}constructor(J){this._trait=J,this.indexes=[],this.sortedIndexes=[],this._onChange=new y,this.onChange=this._onChange.event}splice(J,$,X){const Q=X.length-$,Y=J+$,Z=[];let G=0;while(G<this.sortedIndexes.length&&this.sortedIndexes[G]<J)Z.push(this.sortedIndexes[G++]);for(let q=0;q<X.length;q++)if(X[q])Z.push(q+J);while(G<this.sortedIndexes.length&&this.sortedIndexes[G]>=Y)Z.push(this.sortedIndexes[G++]+Q);this.renderer.splice(J,$,X.length),this._set(Z,Z)}renderIndex(J,$){$.classList.toggle(this._trait,this.contains(J))}unrender(J){J.classList.remove(this._trait)}set(J,$){return this._set(J,[...J].sort(Wa),$)}_set(J,$,X){const Q=this.indexes,Y=this.sortedIndexes;this.indexes=J,this.sortedIndexes=$;const Z=qk(Y,J);return this.renderer.renderIndexes(Z),this._onChange.fire({indexes:J,browserEvent:X}),Q}get(){return this.indexes}contains(J){return yW(this.sortedIndexes,J,Wa)>=0}dispose(){k1(this._onChange)}}class Fa extends sV{constructor(J){super("selected");this.setAriaSelected=J}renderIndex(J,$){if(super.renderIndex(J,$),this.setAriaSelected)if(this.contains(J))$.setAttribute("aria-selected","true");else $.setAttribute("aria-selected","false")}}class aP{constructor(J,$,X){this.trait=J,this.view=$,this.identityProvider=X}splice(J,$,X){if(!this.identityProvider)return this.trait.splice(J,$,new Array(X.length).fill(!1));const Q=this.trait.get().map((G)=>this.identityProvider.getId(this.view.element(G)).toString());if(Q.length===0)return this.trait.splice(J,$,new Array(X.length).fill(!1));const Y=new Set(Q),Z=X.map((G)=>Y.has(this.identityProvider.getId(G).toString()));this.trait.splice(J,$,Z)}}class Hk{get onKeyDown(){return J0.chain(this.disposables.add(new Z1(this.view.domNode,"keydown")).event,(J)=>J.filter(($)=>!_Q($.target)).map(($)=>new A1($)))}constructor(J,$,X){this.list=J,this.view=$,this.disposables=new r,this.multipleSelectionDisposables=new r,this.multipleSelectionSupport=X.multipleSelectionSupport,this.disposables.add(this.onKeyDown((Q)=>{switch(Q.keyCode){case 3:return this.onEnter(Q);case 16:return this.onUpArrow(Q);case 18:return this.onDownArrow(Q);case 11:return this.onPageUpArrow(Q);case 12:return this.onPageDownArrow(Q);case 9:return this.onEscape(Q);case 31:if(this.multipleSelectionSupport&&(a0?Q.metaKey:Q.ctrlKey))this.onCtrlA(Q)}}))}updateOptions(J){if(J.multipleSelectionSupport!==void 0)this.multipleSelectionSupport=J.multipleSelectionSupport}onEnter(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(this.list.getFocus(),J.browserEvent)}onUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPrevious(1,!1,J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNext(1,!1,J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageUpArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusPreviousPage(J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onPageDownArrow(J){J.preventDefault(),J.stopPropagation(),this.list.focusNextPage(J.browserEvent);const $=this.list.getFocus()[0];this.list.setAnchor($),this.list.reveal($),this.view.domNode.focus()}onCtrlA(J){J.preventDefault(),J.stopPropagation(),this.list.setSelection(k6(this.list.length),J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(J){if(this.list.getSelection().length)J.preventDefault(),J.stopPropagation(),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}class Pa{constructor(J,$,X,Q,Y){this.list=J,this.view=$,this.keyboardNavigationLabelProvider=X,this.keyboardNavigationEventFilter=Q,this.delegate=Y,this.enabled=!1,this.state=i3.Idle,this.mode=C4.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new r,this.disposables=new r,this.updateOptions(J.options)}updateOptions(J){var $,X;if(($=J.typeNavigationEnabled)!==null&&$!==void 0?$:!0)this.enable();else this.disable();this.mode=(X=J.typeNavigationMode)!==null&&X!==void 0?X:C4.Automatic}enable(){if(this.enabled)return;let J=!1;const $=J0.chain(this.enabledDisposables.add(new Z1(this.view.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!_Q(Z.target)).filter(()=>this.mode===C4.Automatic||this.triggered).map((Z)=>new A1(Z)).filter((Z)=>J||this.keyboardNavigationEventFilter(Z)).filter((Z)=>this.delegate.mightProducePrintableCharacter(Z)).forEach((Z)=>u0.stop(Z,!0)).map((Z)=>Z.browserEvent.key)),X=J0.debounce($,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);J0.reduce(J0.any($,X),(Y,Z)=>Z===null?null:(Y||"")+Z,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),X(this.onClear,this,this.enabledDisposables),$(()=>J=!0,void 0,this.enabledDisposables),X(()=>J=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){if(!this.enabled)return;this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1}onClear(){var J;const $=this.list.getFocus();if($.length>0&&$[0]===this.previouslyFocused){const X=(J=this.list.options.accessibilityProvider)===null||J===void 0?void 0:J.getAriaLabel(this.list.element($[0]));if(X)xq(X)}this.previouslyFocused=-1}onInput(J){if(!J){this.state=i3.Idle,this.triggered=!1;return}const $=this.list.getFocus(),X=$.length>0?$[0]:0,Q=this.state===i3.Idle?1:0;this.state=i3.Typing;for(let Y=0;Y<this.list.length;Y++){const Z=(X+Y+Q)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Z)),q=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof q!=="undefined"){if(IV(J,q)){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}const U=sd(J,q);if(U){if(U[0].end-U[0].start>1&&U.length===1){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}}}}else if(typeof q==="undefined"||IV(J,q)){this.previouslyFocused=X,this.list.setFocus([Z]),this.list.reveal(Z);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class Da{constructor(J,$){this.list=J,this.view=$,this.disposables=new r;const X=J0.chain(this.disposables.add(new Z1($.domNode,"keydown")).event,(Y)=>Y.filter((Z)=>!_Q(Z.target)).map((Z)=>new A1(Z)));J0.chain(X,(Y)=>Y.filter((Z)=>Z.keyCode===2&&!Z.ctrlKey&&!Z.metaKey&&!Z.shiftKey&&!Z.altKey))(this.onTab,this,this.disposables)}onTab(J){if(J.target!==this.view.domNode)return;const $=this.list.getFocus();if($.length===0)return;const X=this.view.domElement($[0]);if(!X)return;const Q=X.querySelector("[tabIndex]");if(!Q||!(Q instanceof HTMLElement)||Q.tabIndex===-1)return;const Y=B0(Q).getComputedStyle(Q);if(Y.visibility==="hidden"||Y.display==="none")return;J.preventDefault(),J.stopPropagation(),Q.focus()}dispose(){this.disposables.dispose()}}class rP{constructor(J){if(this.list=J,this.disposables=new r,this._onPointer=new y,this.onPointer=this._onPointer.event,J.options.multipleSelectionSupport!==!1)this.multipleSelectionController=this.list.options.multipleSelectionController||ja;if(this.mouseSupport=typeof J.options.mouseSupport==="undefined"||!!J.options.mouseSupport,this.mouseSupport)J.onMouseDown(this.onMouseDown,this,this.disposables),J.onContextMenu(this.onContextMenu,this,this.disposables),J.onMouseDblClick(this.onDoubleClick,this,this.disposables),J.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(w1.addTarget(J.getHTMLElement()));J0.any(J.onMouseClick,J.onMouseMiddleClick,J.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(J){if(J.multipleSelectionSupport!==void 0){if(this.multipleSelectionController=void 0,J.multipleSelectionSupport)this.multipleSelectionController=this.list.options.multipleSelectionController||ja}}isSelectionSingleChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionSingleChangeEvent(J)}isSelectionRangeChangeEvent(J){if(!this.multipleSelectionController)return!1;return this.multipleSelectionController.isSelectionRangeChangeEvent(J)}isSelectionChangeEvent(J){return this.isSelectionSingleChangeEvent(J)||this.isSelectionRangeChangeEvent(J)}onMouseDown(J){if(r3(J.browserEvent.target))return;if($6()!==J.browserEvent.target)this.list.domFocus()}onContextMenu(J){if(_Q(J.browserEvent.target)||r3(J.browserEvent.target))return;const $=typeof J.index==="undefined"?[]:[J.index];this.list.setFocus($,J.browserEvent)}onViewPointer(J){if(!this.mouseSupport)return;if(_Q(J.browserEvent.target)||r3(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;const $=J.index;if(typeof $==="undefined"){this.list.setFocus([],J.browserEvent),this.list.setSelection([],J.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(J))return this.changeSelection(J);if(this.list.setFocus([$],J.browserEvent),this.list.setAnchor($),!G40(J.browserEvent))this.list.setSelection([$],J.browserEvent);this._onPointer.fire(J)}onDoubleClick(J){if(_Q(J.browserEvent.target)||r3(J.browserEvent.target))return;if(this.isSelectionChangeEvent(J))return;if(J.browserEvent.isHandledByList)return;J.browserEvent.isHandledByList=!0;const $=this.list.getFocus();this.list.setSelection($,J.browserEvent)}changeSelection(J){const $=J.index;let X=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(J)){if(typeof X==="undefined"){const H=this.list.getFocus()[0];X=H!==null&&H!==void 0?H:$,this.list.setAnchor(X)}const Q=Math.min(X,$),Y=Math.max(X,$),Z=k6(Q,Y+1),G=this.list.getSelection(),q=U40(qk(G,[X]),X);if(q.length===0)return;const U=qk(Z,H40(G,q));this.list.setSelection(U,J.browserEvent),this.list.setFocus([$],J.browserEvent)}else if(this.isSelectionSingleChangeEvent(J)){const Q=this.list.getSelection(),Y=Q.filter((Z)=>Z!==$);if(this.list.setFocus([$]),this.list.setAnchor($),Q.length===Y.length)this.list.setSelection([...Y,$],J.browserEvent);else this.list.setSelection(Y,J.browserEvent)}}dispose(){this.disposables.dispose()}}class iP{constructor(J,$){this.styleElement=J,this.selectorSuffix=$}style(J){var $,X;const Q=this.selectorSuffix&&`.${this.selectorSuffix}`,Y=[];if(J.listBackground)Y.push(`.monaco-list${Q} .monaco-list-rows { background: ${J.listBackground}; }`);if(J.listFocusBackground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused { background-color: ${J.listFocusBackground}; }`),Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused:hover { background-color: ${J.listFocusBackground}; }`);if(J.listFocusForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`);if(J.listActiveSelectionBackground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected { background-color: ${J.listActiveSelectionBackground}; }`),Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected:hover { background-color: ${J.listActiveSelectionBackground}; }`);if(J.listActiveSelectionForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected { color: ${J.listActiveSelectionForeground}; }`);if(J.listActiveSelectionIconForeground)Y.push(`.monaco-list${Q}:focus .monaco-list-row.selected .codicon { color: ${J.listActiveSelectionIconForeground}; }`);if(J.listFocusAndSelectionBackground)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { background-color: ${J.listFocusAndSelectionBackground}; }
			`);if(J.listFocusAndSelectionForeground)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.selected.focused { color: ${J.listFocusAndSelectionForeground}; }
			`);if(J.listInactiveFocusForeground)Y.push(`.monaco-list${Q} .monaco-list-row.focused { color:  ${J.listInactiveFocusForeground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.focused:hover { color:  ${J.listInactiveFocusForeground}; }`);if(J.listInactiveSelectionIconForeground)Y.push(`.monaco-list${Q} .monaco-list-row.focused .codicon { color:  ${J.listInactiveSelectionIconForeground}; }`);if(J.listInactiveFocusBackground)Y.push(`.monaco-list${Q} .monaco-list-row.focused { background-color:  ${J.listInactiveFocusBackground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.focused:hover { background-color:  ${J.listInactiveFocusBackground}; }`);if(J.listInactiveSelectionBackground)Y.push(`.monaco-list${Q} .monaco-list-row.selected { background-color:  ${J.listInactiveSelectionBackground}; }`),Y.push(`.monaco-list${Q} .monaco-list-row.selected:hover { background-color:  ${J.listInactiveSelectionBackground}; }`);if(J.listInactiveSelectionForeground)Y.push(`.monaco-list${Q} .monaco-list-row.selected { color: ${J.listInactiveSelectionForeground}; }`);if(J.listHoverBackground)Y.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${J.listHoverBackground}; }`);if(J.listHoverForeground)Y.push(`.monaco-list${Q}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${J.listHoverForeground}; }`);const Z=y9(J.listFocusAndSelectionOutline,y9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Z)Y.push(`.monaco-list${Q}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Z}; outline-offset: -1px;}`);if(J.listFocusOutline)Y.push(`
				.monaco-drag-image,
				.monaco-list${Q}:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${Q}.last-focused .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }
			`);const G=y9(J.listSelectionOutline,(X=J.listInactiveFocusOutline)!==null&&X!==void 0?X:"");if(G)Y.push(`.monaco-list${Q} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`);if(J.listSelectionOutline)Y.push(`.monaco-list${Q} .monaco-list-row.selected { outline: 1px dotted ${J.listSelectionOutline}; outline-offset: -1px; }`);if(J.listInactiveFocusOutline)Y.push(`.monaco-list${Q} .monaco-list-row.focused { outline: 1px dotted ${J.listInactiveFocusOutline}; outline-offset: -1px; }`);if(J.listHoverOutline)Y.push(`.monaco-list${Q} .monaco-list-row:hover { outline: 1px dashed ${J.listHoverOutline}; outline-offset: -1px; }`);if(J.listDropOverBackground)Y.push(`
				.monaco-list${Q}.drop-target,
				.monaco-list${Q} .monaco-list-rows.drop-target,
				.monaco-list${Q} .monaco-list-row.drop-target { background-color: ${J.listDropOverBackground} !important; color: inherit !important; }
			`);if(J.listDropBetweenBackground)Y.push(`
			.monaco-list${Q} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${Q} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${J.listDropBetweenBackground};
			}`),Y.push(`
			.monaco-list${Q} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${Q} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${J.listDropBetweenBackground};
			}`);if(J.tableColumnsBorder)Y.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${J.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`);if(J.tableOddRowsBackgroundColor)Y.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${J.tableOddRowsBackgroundColor};
				}
			`);this.styleElement.textContent=Y.join("\n")}}class Ma{constructor(J,$){this._templateId=J,this.renderers=$}get templateId(){return this._templateId}renderTemplate(J){return this.renderers.map(($)=>$.renderTemplate(J))}renderElement(J,$,X,Q){let Y=0;for(let Z of this.renderers)Z.renderElement(J,$,X[Y++],Q)}disposeElement(J,$,X,Q){var Y;let Z=0;for(let G of this.renderers)(Y=G.disposeElement)===null||Y===void 0||Y.call(G,J,$,X[Z],Q),Z+=1}disposeTemplate(J){let $=0;for(let X of this.renderers)X.disposeTemplate(J[$++])}}class Oa{constructor(J){this.accessibilityProvider=J,this.templateId="a18n"}renderTemplate(J){return J}renderElement(J,$,X){const Q=this.accessibilityProvider.getAriaLabel(J);if(Q)X.setAttribute("aria-label",Q);else X.removeAttribute("aria-label");const Y=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(J);if(typeof Y==="number")X.setAttribute("aria-level",`${Y}`);else X.removeAttribute("aria-level")}disposeTemplate(J){}}class Ta{constructor(J,$){this.list=J,this.dnd=$}getDragElements(J){const $=this.list.getSelectedElements();return $.indexOf(J)>-1?$:[J]}getDragURI(J){return this.dnd.getDragURI(J)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J,$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,J,$)}onDragOver(J,$,X,Q,Y){return this.dnd.onDragOver(J,$,X,Q,Y)}onDragLeave(J,$,X,Q){var Y,Z;(Z=(Y=this.dnd).onDragLeave)===null||Z===void 0||Z.call(Y,J,$,X,Q)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}drop(J,$,X,Q,Y){this.dnd.drop(J,$,X,Q,Y)}dispose(){this.dnd.dispose()}}class d7{get onDidChangeFocus(){return J0.map(this.eventBufferer.wrapEvent(this.focus.onChange),(J)=>this.toListEvent(J),this.disposables)}get onDidChangeSelection(){return J0.map(this.eventBufferer.wrapEvent(this.selection.onChange),(J)=>this.toListEvent(J),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let J=!1;const $=J0.chain(this.disposables.add(new Z1(this.view.domNode,"keydown")).event,(Y)=>Y.map((Z)=>new A1(Z)).filter((Z)=>J=Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>u0.stop(Z,!0)).filter(()=>!1)),X=J0.chain(this.disposables.add(new Z1(this.view.domNode,"keyup")).event,(Y)=>Y.forEach(()=>J=!1).map((Z)=>new A1(Z)).filter((Z)=>Z.keyCode===58||Z.shiftKey&&Z.keyCode===68).map((Z)=>u0.stop(Z,!0)).map(({browserEvent:Z})=>{const G=this.getFocus(),q=G.length?G[0]:void 0,U=typeof q!=="undefined"?this.view.element(q):void 0,H=typeof q!=="undefined"?this.view.domElement(q):this.view.domNode;return{index:q,element:U,anchor:H,browserEvent:Z}})),Q=J0.chain(this.view.onContextMenu,(Y)=>Y.filter((Z)=>!J).map(({element:Z,index:G,browserEvent:q})=>({element:Z,index:G,anchor:new Q7(B0(this.view.domNode),q),browserEvent:q})));return J0.any($,X,Q)}get onKeyDown(){return this.disposables.add(new Z1(this.view.domNode,"keydown")).event}get onDidFocus(){return J0.signal(this.disposables.add(new Z1(this.view.domNode,"focus",!0)).event)}constructor(J,$,X,Q,Y=q40){var Z,G,q,U;this.user=J,this._options=Y,this.focus=new sV("focused"),this.anchor=new sV("anchor"),this.eventBufferer=new CZ,this._ariaLabel="",this.disposables=new r,this._onDidDispose=new y,this.onDidDispose=this._onDidDispose.event;const H=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Z=this._options.accessibilityProvider)===null||Z===void 0?void 0:Z.getWidgetRole():"list";this.selection=new Fa(H!=="listbox");const z=[this.focus.renderer,this.selection.renderer];if(this.accessibilityProvider=Y.accessibilityProvider,this.accessibilityProvider)z.push(new Oa(this.accessibilityProvider)),(q=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||q===void 0||q.call(G,this.onDidChangeActiveDescendant,this,this.disposables);Q=Q.map((j)=>new Ma(j.templateId,[...z,j]));const V={...Y,dnd:Y.dnd&&new Ta(this,Y.dnd)};if(this.view=this.createListView($,X,Q,V),this.view.domNode.setAttribute("role",H),Y.styleController)this.styleController=Y.styleController(this.view.domId);else{const j=O6(this.view.domNode);this.styleController=new iP(j,this.view.domId)}if(this.spliceable=new Yk([new aP(this.focus,this.view,Y.identityProvider),new aP(this.selection,this.view,Y.identityProvider),new aP(this.anchor,this.view,Y.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new Da(this,this.view)),typeof Y.keyboardSupport!=="boolean"||Y.keyboardSupport)this.keyboardController=new Hk(this,this.view,Y),this.disposables.add(this.keyboardController);if(Y.keyboardNavigationLabelProvider){const j=Y.keyboardNavigationDelegate||Z40;this.typeNavigationController=new Pa(this,this.view,Y.keyboardNavigationLabelProvider,(U=Y.keyboardNavigationEventFilter)!==null&&U!==void 0?U:()=>!0,j),this.disposables.add(this.typeNavigationController)}if(this.mouseController=this.createMouseController(Y),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider)this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel();if(this._options.multipleSelectionSupport!==!1)this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(J,$,X,Q){return new A9(J,$,X,Q)}createMouseController(J){return new rP(this)}updateOptions(J={}){var $,X;if(this._options={...this._options,...J},($=this.typeNavigationController)===null||$===void 0||$.updateOptions(this._options),this._options.multipleSelectionController!==void 0)if(this._options.multipleSelectionSupport)this.view.domNode.setAttribute("aria-multiselectable","true");else this.view.domNode.removeAttribute("aria-multiselectable");this.mouseController.updateOptions(J),(X=this.keyboardController)===null||X===void 0||X.updateOptions(J),this.view.updateOptions(J)}get options(){return this._options}splice(J,$,X=[]){if(J<0||J>this.view.length)throw new TQ(this.user,`Invalid start index: ${J}`);if($<0)throw new TQ(this.user,`Invalid delete count: ${$}`);if($===0&&X.length===0)return;this.eventBufferer.bufferEvents(()=>this.spliceable.splice(J,$,X))}rerender(){this.view.rerender()}element(J){return this.view.element(J)}indexOf(J){return this.view.indexOf(J)}indexAt(J){return this.view.indexAt(J)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(J){this.view.setScrollTop(J)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(J){this._ariaLabel=J,this.view.domNode.setAttribute("aria-label",J)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(J,$){this.view.layout(J,$)}setSelection(J,$){for(let X of J)if(X<0||X>=this.length)throw new TQ(this.user,`Invalid index ${X}`);this.selection.set(J,$)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((J)=>this.view.element(J))}setAnchor(J){if(typeof J==="undefined"){this.anchor.set([]);return}if(J<0||J>=this.length)throw new TQ(this.user,`Invalid index ${J}`);this.anchor.set([J])}getAnchor(){return f2(this.anchor.get(),void 0)}getAnchorElement(){const J=this.getAnchor();return typeof J==="undefined"?void 0:this.element(J)}setFocus(J,$){for(let X of J)if(X<0||X>=this.length)throw new TQ(this.user,`Invalid index ${X}`);this.focus.set(J,$)}focusNext(J=1,$=!1,X,Q){if(this.length===0)return;const Y=this.focus.get(),Z=this.findNextIndex(Y.length>0?Y[0]+J:0,$,Q);if(Z>-1)this.setFocus([Z],X)}focusPrevious(J=1,$=!1,X,Q){if(this.length===0)return;const Y=this.focus.get(),Z=this.findPreviousIndex(Y.length>0?Y[0]-J:0,$,Q);if(Z>-1)this.setFocus([Z],X)}async focusNextPage(J,$){let X=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);X=X===0?0:X-1;const Q=this.getFocus()[0];if(Q!==X&&(Q===void 0||X>Q)){const Y=this.findPreviousIndex(X,!1,$);if(Y>-1&&Q!==Y)this.setFocus([Y],J);else this.setFocus([X],J)}else{const Y=this.view.getScrollTop();let Z=Y+this.view.renderHeight;if(X>Q)Z-=this.view.elementHeight(X);if(this.view.setScrollTop(Z),this.view.getScrollTop()!==Y)this.setFocus([]),await IX(0),await this.focusNextPage(J,$)}}async focusPreviousPage(J,$,X=()=>0){let Q;const Y=X(),Z=this.view.getScrollTop()+Y;if(Z===0)Q=this.view.indexAt(Z);else Q=this.view.indexAfter(Z-1);const G=this.getFocus()[0];if(G!==Q&&(G===void 0||G>=Q)){const q=this.findNextIndex(Q,!1,$);if(q>-1&&G!==q)this.setFocus([q],J);else this.setFocus([Q],J)}else{const q=Z;if(this.view.setScrollTop(Z-this.view.renderHeight-Y),this.view.getScrollTop()+X()!==q)this.setFocus([]),await IX(0),await this.focusPreviousPage(J,$,X)}}focusLast(J,$){if(this.length===0)return;const X=this.findPreviousIndex(this.length-1,!1,$);if(X>-1)this.setFocus([X],J)}focusFirst(J,$){this.focusNth(0,J,$)}focusNth(J,$,X){if(this.length===0)return;const Q=this.findNextIndex(J,!1,X);if(Q>-1)this.setFocus([Q],$)}findNextIndex(J,$=!1,X){for(let Q=0;Q<this.length;Q++){if(J>=this.length&&!$)return-1;if(J=J%this.length,!X||X(this.element(J)))return J;J++}return-1}findPreviousIndex(J,$=!1,X){for(let Q=0;Q<this.length;Q++){if(J<0&&!$)return-1;if(J=(this.length+J%this.length)%this.length,!X||X(this.element(J)))return J;J--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((J)=>this.view.element(J))}reveal(J,$,X=0){if(J<0||J>=this.length)throw new TQ(this.user,`Invalid index ${J}`);const Q=this.view.getScrollTop(),Y=this.view.elementTop(J),Z=this.view.elementHeight(J);if($9($)){const G=Z-this.view.renderHeight+X;this.view.setScrollTop(G*n6($,0,1)+Y-X)}else{const G=Y+Z,q=Q+this.view.renderHeight;if(Y<Q+X&&G>=q);else if(Y<Q+X||G>=q&&Z>=this.view.renderHeight)this.view.setScrollTop(Y-X);else if(G>=q)this.view.setScrollTop(G-this.view.renderHeight)}}getRelativeTop(J,$=0){if(J<0||J>=this.length)throw new TQ(this.user,`Invalid index ${J}`);const X=this.view.getScrollTop(),Q=this.view.elementTop(J),Y=this.view.elementHeight(J);if(Q<X+$||Q+Y>X+this.view.renderHeight)return null;const Z=Y-this.view.renderHeight+$;return Math.abs((X+$-Q)/Z)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(J){return this.view.getElementDomId(J)}getElementTop(J){return this.view.elementTop(J)}style(J){this.styleController.style(J)}toListEvent({indexes:J,browserEvent:$}){return{indexes:J,elements:J.map((X)=>this.view.element(X)),browserEvent:$}}_onFocusChange(){const J=this.focus.get();this.view.domNode.classList.toggle("element-focused",J.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var J;const $=this.focus.get();if($.length>0){let X;if((J=this.accessibilityProvider)===null||J===void 0?void 0:J.getActiveDescendantId)X=this.accessibilityProvider.getActiveDescendantId(this.view.element($[0]));this.view.domNode.setAttribute("aria-activedescendant",X||this.view.getElementDomId($[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const J=this.selection.get();this.view.domNode.classList.toggle("selection-none",J.length===0),this.view.domNode.classList.toggle("selection-single",J.length===1),this.view.domNode.classList.toggle("selection-multiple",J.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}var aV,G40,U40,qk,H40,Z2,C4,i3,Z40,ja,Ra,q40,Wa;var G2=N(()=>{D0();w4();T7();s9();VY();Ya();H1();u1();u5();AY();F0();pY();X0();y3();O1();G8();Zk();Za();sP();k9();aV=function(J,$){if(J.classList.contains($))return!0;if(J.classList.contains("monaco-list"))return!1;if(!J.parentElement)return!1;return aV(J.parentElement,$)};G40=function(J){return Wq(J)&&J.button===2},U40=function(J,$){const X=J.indexOf($);if(X===-1)return[];const Q=[];let Y=X-1;while(Y>=0&&J[Y]===$-(X-Y))Q.push(J[Y--]);Q.reverse(),Y=X;while(Y<J.length&&J[Y]===$+(Y-X))Q.push(J[Y++]);return Q},qk=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length||Y<$.length)if(Q>=J.length)X.push($[Y++]);else if(Y>=$.length)X.push(J[Q++]);else if(J[Q]===$[Y]){X.push(J[Q]),Q++,Y++;continue}else if(J[Q]<$[Y])X.push(J[Q++]);else X.push($[Y++]);return X},H40=function(J,$){const X=[];let Q=0,Y=0;while(Q<J.length||Y<$.length)if(Q>=J.length)X.push($[Y++]);else if(Y>=$.length)X.push(J[Q++]);else if(J[Q]===$[Y]){Q++,Y++;continue}else if(J[Q]<$[Y])X.push(J[Q++]);else Y++;return X},Z2=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};Z2([Y8],sV.prototype,"renderer",null);Z2([Y8],Hk.prototype,"onKeyDown",null);(function(J){J[J.Automatic=0]="Automatic",J[J.Trigger=1]="Trigger"})(C4||(C4={}));(function(J){J[J.Idle=0]="Idle",J[J.Typing=1]="Typing"})(i3||(i3={}));Z40=new class{mightProducePrintableCharacter(J){if(J.ctrlKey||J.metaKey||J.altKey)return!1;return J.keyCode>=31&&J.keyCode<=56||J.keyCode>=21&&J.keyCode<=30||J.keyCode>=98&&J.keyCode<=107||J.keyCode>=85&&J.keyCode<=95}};ja={isSelectionSingleChangeEvent:zk,isSelectionRangeChangeEvent:Vk};Ra={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:l.fromHex("#a9a9a9").transparent(0.4).toString(),tableColumnsBorder:l.fromHex("#cccccc").transparent(0.2).toString(),tableOddRowsBackgroundColor:l.fromHex("#cccccc").transparent(0.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},q40={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}},Wa=(J,$)=>J-$;Z2([Y8],d7.prototype,"onDidChangeFocus",null);Z2([Y8],d7.prototype,"onDidChangeSelection",null);Z2([Y8],d7.prototype,"onContextMenu",null);Z2([Y8],d7.prototype,"onKeyDown",null);Z2([Y8],d7.prototype,"onDidFocus",null)});var Na=N(()=>{q1();V0(".monaco-select-box-dropdown-padding{--dropdown-padding-top:1px;--dropdown-padding-bottom:1px}.hc-black .monaco-select-box-dropdown-padding,.hc-light .monaco-select-box-dropdown-padding{--dropdown-padding-top:3px;--dropdown-padding-bottom:4px}.monaco-select-box-dropdown-container{box-sizing:border-box;display:none}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown *{margin:0}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown a:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-select-box-dropdown-container>.select-box-details-pane>.select-box-description-markdown code{line-height:15px;font-family:var(--monaco-monospace-font)}.monaco-select-box-dropdown-container.visible{text-align:left;border-bottom-right-radius:3px;border-bottom-left-radius:3px;flex-direction:column;width:1px;display:flex;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom);box-sizing:border-box;flex:none;align-self:flex-start;width:100%;padding-left:1px;padding-right:1px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-details-pane{padding:5px}.hc-black .monaco-select-box-dropdown-container>.select-box-dropdown-list-container{padding-top:var(--dropdown-padding-top);padding-bottom:var(--dropdown-padding-bottom)}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row{cursor:pointer}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-text{text-overflow:ellipsis;white-space:nowrap;float:left;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-detail{text-overflow:ellipsis;white-space:nowrap;float:left;opacity:.7;padding-left:3.5px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.option-decorator-right{text-overflow:ellipsis;white-space:nowrap;float:right;padding-right:10px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-list-container .monaco-list .monaco-list-row>.visually-hidden{width:1px;height:1px;position:absolute;top:auto;left:-10000px;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control{opacity:0;flex:auto;align-self:flex-start}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div{max-height:0;overflow:hidden}.monaco-select-box-dropdown-container>.select-box-dropdown-container-width-control>.width-control-div>.option-text-width-control{white-space:nowrap;padding-left:4px;padding-right:8px}")});class wa{get templateId(){return _a}renderTemplate(J){const $=Object.create(null);return $.root=J,$.text=Z0(J,q2(".option-text")),$.detail=Z0(J,q2(".option-detail")),$.decoratorRight=Z0(J,q2(".option-decorator-right")),$}renderElement(J,$,X){const Q=X,Y=J.text,Z=J.detail,G=J.decoratorRight,q=J.isDisabled;if(Q.text.textContent=Y,Q.detail.textContent=Z?Z:"",Q.decoratorRight.innerText=G?G:"",q)Q.root.classList.add("option-disabled");else Q.root.classList.remove("option-disabled")}disposeTemplate(J){}}class x4 extends f{constructor(J,$,X,Q,Y){super();if(this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=Q,this.selectBoxOptions=Y||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!=="number")this.selectBoxOptions.minBottomMargin=x4.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;else if(this.selectBoxOptions.minBottomMargin<0)this.selectBoxOptions.minBottomMargin=0;if(this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);if(this._onDidSelect=new y,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(X),this.selected=$||0,J)this.setOptions(J,$);this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return _a}constructSelectDropDown(J){this.contextViewProvider=J,this.selectDropDownContainer=q0(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Z0(this.selectDropDownContainer,q2(".select-box-details-pane"));const $=Z0(this.selectDropDownContainer,q2(".select-box-dropdown-container-width-control")),X=Z0($,q2(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Z0(X,this.widthControlElement),this._dropDownPosition=0,this.styleElement=O6(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(m(this.selectDropDownContainer,$0.DRAG_START,(Q)=>{u0.stop(Q,!0)}))}registerListeners(){this._register(i1(this.selectElement,"change",($)=>{if(this.selected=$.target.selectedIndex,this._onDidSelect.fire({index:$.target.selectedIndex,selected:$.target.value}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text})),this._register(m(this.selectElement,$0.CLICK,($)=>{if(u0.stop($),this._isVisible)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(m(this.selectElement,$0.MOUSE_DOWN,($)=>{u0.stop($)}));let J;this._register(m(this.selectElement,"touchstart",($)=>{J=this._isVisible})),this._register(m(this.selectElement,"touchend",($)=>{if(u0.stop($),J)this.hideSelectDropDown(!0);else this.showSelectDropDown()})),this._register(m(this.selectElement,$0.KEY_DOWN,($)=>{const X=new A1($);let Q=!1;if(a0){if(X.keyCode===18||X.keyCode===16||X.keyCode===10||X.keyCode===3)Q=!0}else if(X.keyCode===18&&X.altKey||X.keyCode===16&&X.altKey||X.keyCode===10||X.keyCode===3)Q=!0;if(Q)this.showSelectDropDown(),u0.stop($,!0)}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!Q8(this.options,J))this.options=J,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((X,Q)=>{if(this.selectElement.add(this.createOption(X.text,Q,X.isDisabled)),typeof X.description==="string")this._hasDetails=!0});if($!==void 0)this.select($),this._currentSelection=this.selected}setOptionsList(){var J;(J=this.selectList)===null||J===void 0||J.splice(0,this.selectList.length,this.options)}select(J){if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){this.container=J,J.classList.add("select-container"),J.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const J=[];if(this.styles.listFocusBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);if(this.styles.listFocusForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);if(this.styles.decoratorRightForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);if(this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground)J.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);else if(this.styles.selectListBorder)J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),J.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);if(this.styles.listHoverForeground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);if(this.styles.listHoverBackground)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);if(this.styles.listFocusOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);if(this.styles.listHoverOutline)J.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),J.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=J.join("\n")}styleSelectElement(){var J,$,X;const Q=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Y=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",Z=(X=this.styles.selectBorder)!==null&&X!==void 0?X:"";this.selectElement.style.backgroundColor=Q,this.selectElement.style.color=Y,this.selectElement.style.borderColor=Z}styleList(){var J,$;const X=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",Q=y9(this.styles.selectListBackground,X);this.selectDropDownListContainer.style.backgroundColor=Q,this.selectionDetailsPane.style.backgroundColor=Q;const Y=($=this.styles.focusBorder)!==null&&$!==void 0?$:"";this.selectDropDownContainer.style.outlineColor=Y,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(J,$,X){const Q=document.createElement("option");return Q.value=J,Q.text=J,Q.disabled=!!X,Q}showSelectDropDown(){if(this.selectionDetailsPane.innerText="",!this.contextViewProvider||this._isVisible)return;this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:(J)=>this.renderSelectDropDown(J),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true")}hideSelectDropDown(J){if(!this.contextViewProvider||!this._isVisible)return;if(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),J)this.selectElement.focus();this.contextViewProvider.hideContextView()}renderSelectDropDown(J,$){return J.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown($),{dispose:()=>{try{J.removeChild(this.selectDropDownContainer)}catch(X){}}}}measureMaxDetailsHeight(){let J=0;return this.options.forEach(($,X)=>{if(this.updateDetail(X),this.selectionDetailsPane.offsetHeight>J)J=this.selectionDetailsPane.offsetHeight}),J}layoutSelectDropDown(J){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const $=B0(this.selectElement),X=M6(this.selectElement),Q=B0(this.selectElement).getComputedStyle(this.selectElement),Y=parseFloat(Q.getPropertyValue("--dropdown-padding-top"))+parseFloat(Q.getPropertyValue("--dropdown-padding-bottom")),Z=$.innerHeight-X.top-X.height-(this.selectBoxOptions.minBottomMargin||0),G=X.top-x4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,q=this.selectElement.offsetWidth,U=this.setWidthControlElement(this.widthControlElement),H=Math.max(U,Math.round(q)).toString()+"px";this.selectDropDownContainer.style.width=H,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let z=this.selectList.contentHeight;if(this._hasDetails&&this._cachedMaxDetailsHeight===void 0)this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight();const V=this._hasDetails?this._cachedMaxDetailsHeight:0,j=z+Y+V,W=Math.floor((Z-Y-V)/this.getHeight()),B=Math.floor((G-Y-V)/this.getHeight());if(J){if(X.top+X.height>$.innerHeight-22||X.top<x4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||W<1&&B<1)return!1;if(W<x4.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&B>W&&this.options.length>W)this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom");else this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top");return!0}if(X.top+X.height>$.innerHeight-22||X.top<x4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&W<1||this._dropDownPosition===1&&B<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&W+B<1)return this.hideSelectDropDown(!0),!1;if(j>Z)z=W*this.getHeight()}else if(j>G)z=B*this.getHeight();if(this.selectList.layout(z),this.selectList.domFocus(),this.selectList.length>0)this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0);if(this._hasDetails)this.selectList.getHTMLElement().style.height=z+Y+"px",this.selectDropDownContainer.style.height="";else this.selectDropDownContainer.style.height=z+Y+"px";return this.updateDetail(this.selected),this.selectDropDownContainer.style.width=H,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(J){let $=0;if(J){let X=0,Q=0;this.options.forEach((Y,Z)=>{const G=Y.detail?Y.detail.length:0,q=Y.decoratorRight?Y.decoratorRight.length:0,U=Y.text.length+G+q;if(U>Q)X=Z,Q=U}),J.textContent=this.options[X].text+(this.options[X].decoratorRight?this.options[X].decoratorRight+" ":""),$=jq(J)}return $}createSelectList(J){if(this.selectList)return;if(this.selectDropDownListContainer=Z0(J,q2(".select-box-dropdown-list-container")),this.listRenderer=new wa,this.selectList=new d7("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:(Q)=>{let Y=Q.text;if(Q.detail)Y+=`. ${Q.detail}`;if(Q.decoratorRight)Y+=`. ${Q.decoratorRight}`;if(Q.description)Y+=`. ${Q.description}`;return Y},getWidgetAriaLabel:()=>F({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>a0?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel)this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel;const $=this._register(new Z1(this.selectDropDownListContainer,"keydown")),X=J0.chain($.event,(Q)=>Q.filter(()=>this.selectList.length>0).map((Y)=>new A1(Y)));this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===3))(this.onEnter,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===2))(this.onEnter,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===9))(this.onEscape,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===16))(this.onUpArrow,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===18))(this.onDownArrow,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===12))(this.onPageDown,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===11))(this.onPageUp,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===14))(this.onHome,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode===13))(this.onEnd,this)),this._register(J0.chain(X,(Q)=>Q.filter((Y)=>Y.keyCode>=21&&Y.keyCode<=56||Y.keyCode>=85&&Y.keyCode<=113))(this.onCharacter,this)),this._register(m(this.selectList.getHTMLElement(),$0.POINTER_UP,(Q)=>this.onPointerUp(Q))),this._register(this.selectList.onMouseOver((Q)=>typeof Q.index!=="undefined"&&this.selectList.setFocus([Q.index]))),this._register(this.selectList.onDidChangeFocus((Q)=>this.onListFocus(Q))),this._register(m(this.selectDropDownContainer,$0.FOCUS_OUT,(Q)=>{if(!this._isVisible||u8(Q.relatedTarget,this.selectDropDownContainer))return;this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(J){if(!this.selectList.length)return;u0.stop(J);const $=J.target;if(!$)return;if($.classList.contains("slider"))return;const X=$.closest(".monaco-list-row");if(!X)return;const Q=Number(X.getAttribute("data-index")),Y=X.classList.contains("option-disabled");if(Q>=0&&Q<this.options.length&&!Y){if(this.selected=Q,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}}onListBlur(){if(this._sticky)return;if(this.selected!==this._currentSelection)this.select(this._currentSelection);this.hideSelectDropDown(!1)}renderDescriptionMarkdown(J,$){const X=(Y)=>{for(let Z=0;Z<Y.childNodes.length;Z++){const G=Y.childNodes.item(Z);if((G.tagName&&G.tagName.toLowerCase())==="img")Y.removeChild(G);else X(G)}},Q=h3({value:J,supportThemeIcons:!0},{actionHandler:$});return Q.element.classList.add("select-box-description-markdown"),X(Q.element),Q.element}onListFocus(J){if(!this._isVisible||!this._hasDetails)return;this.updateDetail(J.indexes[0])}updateDetail(J){var $,X;this.selectionDetailsPane.innerText="";const Q=this.options[J],Y=($=Q===null||Q===void 0?void 0:Q.description)!==null&&$!==void 0?$:"",Z=(X=Q===null||Q===void 0?void 0:Q.descriptionIsMarkdown)!==null&&X!==void 0?X:!1;if(Y){if(Z){const G=Q.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(Y,G))}else this.selectionDetailsPane.innerText=Y;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(J){u0.stop(J),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(J){if(u0.stop(J),this.selected!==this._currentSelection){if(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),!!this.options[this.selected]&&!!this.options[this.selected].text)this.selectElement.title=this.options[this.selected].text}this.hideSelectDropDown(!0)}onDownArrow(J){if(this.selected<this.options.length-1){u0.stop(J,!0);const $=this.options[this.selected+1].isDisabled;if($&&this.options.length>this.selected+2)this.selected+=2;else if($)return;else this.selected++;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(J){if(this.selected>0){if(u0.stop(J,!0),this.options[this.selected-1].isDisabled&&this.selected>1)this.selected-=2;else this.selected--;this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(J){u0.stop(J),this.selectList.focusPreviousPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1)this.selected++,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(J){u0.stop(J),this.selectList.focusNextPage(),setTimeout(()=>{if(this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0)this.selected--,this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(J){if(u0.stop(J),this.options.length<2)return;if(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1)this.selected++;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onEnd(J){if(u0.stop(J),this.options.length<2)return;if(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1)this.selected--;this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected)}onCharacter(J){const $=jJ.toString(J.keyCode);let X=-1;for(let Q=0;Q<this.options.length-1;Q++)if(X=(Q+this.selected+1)%this.options.length,this.options[X].text.charAt(0).toUpperCase()===$&&!this.options[X].isDisabled){this.select(X),this.selectList.setFocus([X]),this.selectList.reveal(this.selectList.getFocus()[0]),u0.stop(J);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}var q2,_a;var La=N(()=>{D0();w4();T7();EP();G2();H1();F0();xZ();X0();O1();Na();h0();q2=q0,_a="selectOption.entry.template";x4.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;x4.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;x4.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3});class jk extends f{constructor(J,$,X,Q){super();if(this.selected=0,this.selectBoxOptions=Q||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel==="string")this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel);if(typeof this.selectBoxOptions.ariaDescription==="string")this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription);this._onDidSelect=this._register(new y),this.styles=X,this.registerListeners(),this.setOptions(J,$)}registerListeners(){this._register(w1.addTarget(this.selectElement)),[I1.Tap].forEach((J)=>{this._register(m(this.selectElement,J,($)=>{this.selectElement.focus()}))}),this._register(i1(this.selectElement,"click",(J)=>{u0.stop(J,!0)})),this._register(i1(this.selectElement,"change",(J)=>{this.selectElement.title=J.target.value,this._onDidSelect.fire({index:J.target.selectedIndex,selected:J.target.value})})),this._register(i1(this.selectElement,"keydown",(J)=>{let $=!1;if(a0){if(J.keyCode===18||J.keyCode===16||J.keyCode===10)$=!0}else if(J.keyCode===18&&J.altKey||J.keyCode===10||J.keyCode===3)$=!0;if($)J.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(J,$){if(!this.options||!Q8(this.options,J))this.options=J,this.selectElement.options.length=0,this.options.forEach((X,Q)=>{this.selectElement.add(this.createOption(X.text,Q,X.isDisabled))});if($!==void 0)this.select($)}select(J){if(this.options.length===0)this.selected=0;else if(J>=0&&J<this.options.length)this.selected=J;else if(J>this.options.length-1)this.select(this.options.length-1);else if(this.selected<0)this.selected=0;if(this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text==="string")this.selectElement.title=this.options[this.selected].text;else this.selectElement.title=""}focus(){if(this.selectElement)this.selectElement.tabIndex=0,this.selectElement.focus()}blur(){if(this.selectElement)this.selectElement.tabIndex=-1,this.selectElement.blur()}setFocusable(J){this.selectElement.tabIndex=J?0:-1}render(J){J.classList.add("select-container"),J.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var J,$,X;if(this.selectElement)this.selectElement.style.backgroundColor=(J=this.styles.selectBackground)!==null&&J!==void 0?J:"",this.selectElement.style.color=($=this.styles.selectForeground)!==null&&$!==void 0?$:"",this.selectElement.style.borderColor=(X=this.styles.selectBorder)!==null&&X!==void 0?X:""}createOption(J,$,X){const Q=document.createElement("option");return Q.value=J,Q.text=J,Q.disabled=!!X,Q}}var Ea=N(()=>{D0();s9();H1();F0();X0();O1()});var ka=N(()=>{q1();V0(".monaco-select-box{cursor:pointer;border-radius:2px;width:100%}.monaco-select-box-dropdown-container{text-transform:none;font-size:13px;font-weight:400}.monaco-action-bar .action-item.select-container{cursor:default}.monaco-action-bar .action-item .monaco-select-box{cursor:pointer;min-width:100px;min-height:18px;padding:2px 23px 2px 8px}.mac .monaco-action-bar .action-item .monaco-select-box{border-radius:5px;font-size:11px}")});class Wk extends q7{constructor(J,$,X,Q,Y){super();if(a0&&!(Y===null||Y===void 0?void 0:Y.useCustomDrawn))this.selectBoxDelegate=new jk(J,$,Q,Y);else this.selectBoxDelegate=new x4(J,$,X,Q,Y);this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(J,$){this.selectBoxDelegate.setOptions(J,$)}select(J){this.selectBoxDelegate.select(J)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(J){this.selectBoxDelegate.setFocusable(J)}render(J){this.selectBoxDelegate.render(J)}}var Ia=N(()=>{La();Ea();k$();O1();ka()});var Bk=N(()=>{q1();V0(".monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{align-items:center;width:100%;height:100%;margin:0 auto;padding:0;display:flex}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{cursor:pointer;justify-content:center;align-items:center;display:block;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .icon,.monaco-action-bar .action-item .codicon{display:block}.monaco-action-bar .action-item .codicon{align-items:center;width:16px;height:16px;display:flex}.monaco-action-bar .action-label{border-radius:5px;padding:3px;font-size:11px;display:flex}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.6}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{border-bottom:1px solid #bbb;margin-left:.8em;margin-right:.8em;padding-top:1px;display:block}.monaco-action-bar .action-item .action-label.separator{cursor:default;background-color:#bbb;width:1px;min-width:1px;height:16px;padding:0;margin:5px 4px!important}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{flex:1;justify-content:center;align-items:center;min-width:60px;max-width:170px;margin-right:10px;display:flex;overflow:hidden}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator{cursor:default;align-items:center;display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-dropdown-item-separator>div{width:1px}")});class T5 extends f{get action(){return this._action}constructor(J,$,X={}){super();if(this.options=X,this._context=J||this,this._action=$,$ instanceof P5)this._register($.onDidChange((Q)=>{if(!this.element)return;this.handleActionChangeEvent(Q)}))}handleActionChangeEvent(J){if(J.enabled!==void 0)this.updateEnabled();if(J.checked!==void 0)this.updateChecked();if(J.class!==void 0)this.updateClass();if(J.label!==void 0)this.updateLabel(),this.updateTooltip();if(J.tooltip!==void 0)this.updateTooltip()}get actionRunner(){if(!this._actionRunner)this._actionRunner=this._register(new q9);return this._actionRunner}set actionRunner(J){this._actionRunner=J}isEnabled(){return this._action.enabled}setActionContext(J){this._context=J}render(J){const $=this.element=J;this._register(w1.addTarget(J));const X=this.options&&this.options.draggable;if(X){if(J.draggable=!0,u6)this._register(m(J,$0.DRAG_START,(Q)=>{var Y;return(Y=Q.dataTransfer)===null||Y===void 0?void 0:Y.setData(uP.TEXT,this._action.label)}))}if(this._register(m($,I1.Tap,(Q)=>this.onClick(Q,!0))),this._register(m($,$0.MOUSE_DOWN,(Q)=>{if(!X)u0.stop(Q,!0);if(this._action.enabled&&Q.button===0)$.classList.add("active")})),a0)this._register(m($,$0.CONTEXT_MENU,(Q)=>{if(Q.button===0&&Q.ctrlKey===!0)this.onClick(Q)}));this._register(m($,$0.CLICK,(Q)=>{if(u0.stop(Q,!0),!(this.options&&this.options.isMenu))this.onClick(Q)})),this._register(m($,$0.DBLCLICK,(Q)=>{u0.stop(Q,!0)})),[$0.MOUSE_UP,$0.MOUSE_OUT].forEach((Q)=>{this._register(m($,Q,(Y)=>{u0.stop(Y),$.classList.remove("active")}))})}onClick(J,$=!1){var X;u0.stop(J,!0);const Q=D7(this._context)?((X=this.options)===null||X===void 0?void 0:X.useEventAsContext)?J:{preserveFocus:$}:this._context;this.actionRunner.run(this._action,Q)}focus(){if(this.element)this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused")}blur(){if(this.element)this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused")}setFocusable(J){if(this.element)this.element.tabIndex=J?0:-1}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var J;if(!this.element)return;const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";if(this.updateAriaLabel(),!this.options.hoverDelegate)this.element.title=$;else if(this.element.title="",!this.customHover)this.customHover=cP(this.options.hoverDelegate,this.element,$),this._store.add(this.customHover);else this.customHover.update($)}updateAriaLabel(){var J;if(this.element){const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.element.setAttribute("aria-label",$)}}updateClass(){}updateChecked(){}dispose(){if(this.element)this.element.remove(),this.element=void 0;this._context=void 0,super.dispose()}}class U2 extends T5{constructor(J,$,X){super(J,$,X);this.options=X,this.options.icon=X.icon!==void 0?X.icon:!1,this.options.label=X.label!==void 0?X.label:!0,this.cssClass=""}render(J){super.render(J),q6(this.element);const $=document.createElement("a");if($.classList.add("action-label"),$.setAttribute("role",this.getDefaultAriaRole()),this.label=$,this.element.appendChild($),this.options.label&&this.options.keybinding){const X=document.createElement("span");X.classList.add("keybinding"),X.textContent=this.options.keybinding,this.element.appendChild(X)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){if(this._action.id===s8.ID)return"presentation";else if(this.options.isMenu)return"menuitem";else return"button"}focus(){if(this.label)this.label.tabIndex=0,this.label.focus()}blur(){if(this.label)this.label.tabIndex=-1}setFocusable(J){if(this.label)this.label.tabIndex=J?0:-1}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this.action.label}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(!this.options.label&&this.action.label&&this.options.icon){if(J=this.action.label,this.options.keybinding)J=F({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",J,this.options.keybinding)}return J!==null&&J!==void 0?J:void 0}updateClass(){var J;if(this.cssClass&&this.label)this.label.classList.remove(...this.cssClass.split(" "));if(this.options.icon){if(this.cssClass=this.getClass(),this.label){if(this.label.classList.add("codicon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "))}this.updateEnabled()}else(J=this.label)===null||J===void 0||J.classList.remove("codicon")}updateEnabled(){var J,$;if(this.action.enabled){if(this.label)this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled");(J=this.element)===null||J===void 0||J.classList.remove("disabled")}else{if(this.label)this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled");($=this.element)===null||$===void 0||$.classList.add("disabled")}}updateAriaLabel(){var J;if(this.label){const $=(J=this.getTooltip())!==null&&J!==void 0?J:"";this.label.setAttribute("aria-label",$)}}updateChecked(){if(this.label)if(this.action.checked!==void 0)this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox");else this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())}}class Fk extends T5{constructor(J,$,X,Q,Y,Z,G){super(J,$);this.selectBox=new Wk(X,Q,Y,Z,G),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(J){this.selectBox.select(J)}registerListeners(){this._register(this.selectBox.onDidSelect((J)=>this.runAction(J.selected,J.index)))}runAction(J,$){this.actionRunner.run(this._action,this.getActionContext(J,$))}getActionContext(J,$){return J}setFocusable(J){this.selectBox.setFocusable(J)}focus(){var J;(J=this.selectBox)===null||J===void 0||J.focus()}blur(){var J;(J=this.selectBox)===null||J===void 0||J.blur()}render(J){this.selectBox.render(J)}}var iV=N(()=>{A5();Xk();D0();s9();Qk();Ia();$5();X0();O1();G8();Bk();h0()});var Kk=N(()=>{q1();V0(".monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;justify-content:center;align-items:center;height:100%;display:flex}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});class ya extends q9{constructor(J,$){super();this._onDidChangeVisibility=this._register(new y),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Z0(J,q0(".monaco-dropdown")),this._label=Z0(this._element,q0(".dropdown-label"));let X=$.labelRenderer;if(!X)X=(Y)=>{return Y.textContent=$.label||"",null};for(let Y of[$0.CLICK,$0.MOUSE_DOWN,I1.Tap])this._register(m(this.element,Y,(Z)=>u0.stop(Z,!0)));for(let Y of[$0.MOUSE_DOWN,I1.Tap])this._register(m(this._label,Y,(Z)=>{if(Wq(Z)&&(Z.detail>1||Z.button!==0))return;if(this.visible)this.hide();else this.show()}));this._register(m(this._label,$0.KEY_UP,(Y)=>{const Z=new A1(Y);if(Z.equals(3)||Z.equals(10))if(u0.stop(Y,!0),this.visible)this.hide();else this.show()}));const Q=X(this._label);if(Q)this._register(Q);this._register(w1.addTarget(this._label))}get element(){return this._element}show(){if(!this.visible)this.visible=!0,this._onDidChangeVisibility.fire(!0)}hide(){if(this.visible)this.visible=!1,this._onDidChangeVisibility.fire(!1)}dispose(){if(super.dispose(),this.hide(),this.boxContainer)this.boxContainer.remove(),this.boxContainer=void 0;if(this.contents)this.contents.remove(),this.contents=void 0;if(this._label)this._label.remove(),this._label=void 0}}class Ak extends ya{constructor(J,$){super(J,$);this._options=$,this._actions=[],this.actions=$.actions||[]}set menuOptions(J){this._menuOptions=J}get menuOptions(){return this._menuOptions}get actions(){if(this._options.actionProvider)return this._options.actionProvider.getActions();return this._actions}set actions(J){this._actions=J}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(J,$)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(J,$):void 0,getKeyBinding:(J)=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(J):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var Sa=N(()=>{D0();T7();s9();$5();F0();Kk()});class H2 extends T5{constructor(J,$,X,Q=Object.create(null)){super(null,J,Q);if(this.actionItem=null,this._onDidChangeVisibility=this._register(new y),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=$,this.contextMenuProvider=X,this.options=Q,this.options.actionRunner)this.actionRunner=this.options.actionRunner}render(J){this.actionItem=J;const $=(Y)=>{this.element=Z0(Y,q0("a.action-label"));let Z=[];if(typeof this.options.classNames==="string")Z=this.options.classNames.split(/\s+/g).filter((G)=>!!G);else if(this.options.classNames)Z=this.options.classNames;if(!Z.find((G)=>G==="icon"))Z.push("codicon");return this.element.classList.add(...Z),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},X=Array.isArray(this.menuActionsOrProvider),Q={contextMenuProvider:this.contextMenuProvider,labelRenderer:$,menuAsChild:this.options.menuAsChild,actions:X?this.menuActionsOrProvider:void 0,actionProvider:X?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new Ak(J,Q)),this._register(this.dropdownMenu.onDidChangeVisibility((Y)=>{var Z;(Z=this.element)===null||Z===void 0||Z.setAttribute("aria-expanded",`${Y}`),this._onDidChangeVisibility.fire(Y)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const Y=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return Y.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let J=null;if(this.action.tooltip)J=this.action.tooltip;else if(this.action.label)J=this.action.label;return J!==null&&J!==void 0?J:void 0}setActionContext(J){if(super.setActionContext(J),this.dropdownMenu)if(this.dropdownMenu.menuOptions)this.dropdownMenu.menuOptions.context=J;else this.dropdownMenu.menuOptions={context:J}}show(){var J;(J=this.dropdownMenu)===null||J===void 0||J.show()}updateEnabled(){var J,$;const X=!this.action.enabled;(J=this.actionItem)===null||J===void 0||J.classList.toggle("disabled",X),($=this.element)===null||$===void 0||$.classList.toggle("disabled",X)}}var Pk=N(()=>{D0();iV();Sa();F0();Kk()});var Ca=N(()=>{q1();V0(".monaco-action-bar .action-item.menu-entry .action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default{border-radius:5px;flex-direction:row;display:flex!important}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{background-position:50%;background-repeat:no-repeat;background-size:16px;width:16px;height:16px}.monaco-dropdown-with-default:hover{background-color:var(--vscode-toolbar-hoverBackground)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{margin-left:-3px;padding-left:0;padding-right:0;font-size:12px;line-height:16px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{background-position:50%;background-repeat:no-repeat;background-size:16px;display:block}")});function xa(J){return J?J.condition!==void 0:!1}var ba=N(()=>{});class V2 extends f{constructor(J,$=Object.create(null)){super();this.database=J,this.options=$,this._onDidChangeStorage=this._register(new VJ),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=o3.None,this.cache=new Map,this.flushDelayer=this._register(new wH(V2.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal((J)=>this.onDidChangeItemsExternal(J)))}onDidChangeItemsExternal(J){var $,X;this._onDidChangeStorage.pause();try{($=J.changed)===null||$===void 0||$.forEach((Q,Y)=>this.acceptExternal(Y,Q)),(X=J.deleted)===null||X===void 0||X.forEach((Q)=>this.acceptExternal(Q,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(J,$){if(this.state===o3.Closed)return;let X=!1;if(D7($))X=this.cache.delete(J);else if(this.cache.get(J)!==$)this.cache.set(J,$),X=!0;if(X)this._onDidChangeStorage.fire({key:J,external:!0})}get(J,$){const X=this.cache.get(J);if(D7(X))return $;return X}getBoolean(J,$){const X=this.get(J);if(D7(X))return $;return X==="true"}getNumber(J,$){const X=this.get(J);if(D7(X))return $;return parseInt(X,10)}async set(J,$,X=!1){if(this.state===o3.Closed)return;if(D7($))return this.delete(J,X);const Q=n8($)||Array.isArray($)?Qs($):String($);if(this.cache.get(J)===Q)return;return this.cache.set(J,Q),this.pendingInserts.set(J,Q),this.pendingDeletes.delete(J),this._onDidChangeStorage.fire({key:J,external:X}),this.doFlush()}async delete(J,$=!1){if(this.state===o3.Closed)return;if(!this.cache.delete(J))return;if(!this.pendingDeletes.has(J))this.pendingDeletes.add(J);return this.pendingInserts.delete(J),this._onDidChangeStorage.fire({key:J,external:$}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const J={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(J).finally(()=>{var $;if(!this.hasPending)while(this.whenFlushedCallbacks.length)($=this.whenFlushedCallbacks.pop())===null||$===void 0||$()})}async doFlush(J){if(this.options.hint===z2.STORAGE_IN_MEMORY)return this.flushPending();return this.flushDelayer.trigger(()=>this.flushPending(),J)}}class nV{constructor(){this.onDidChangeItemsExternal=J0.None,this.items=new Map}async updateItems(J){var $,X;($=J.insert)===null||$===void 0||$.forEach((Q,Y)=>this.items.set(Y,Q)),(X=J.delete)===null||X===void 0||X.forEach((Q)=>this.items.delete(Q))}}var z2,o3;var va=N(()=>{u1();F0();X0();LP();G8();(function(J){J[J.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",J[J.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(z2||(z2={}));(function(J){J[J.None=0]="None",J[J.Initialized=1]="Initialized",J[J.Closed=2]="Closed"})(o3||(o3={}));V2.DEFAULT_FLUSH_DELAY=100});function z40(J){const $=J.get(nP);if($)try{return JSON.parse($)}catch(X){}return Object.create(null)}class tP extends f{constructor(J={flushInterval:tP.DEFAULT_FLUSH_INTERVAL}){super();this.options=J,this._onDidChangeValue=this._register(new VJ),this._onDidChangeTarget=this._register(new VJ),this._onWillSaveState=this._register(new y),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(J,$,X){return J0.filter(this._onDidChangeValue.event,(Q)=>Q.scope===J&&($===void 0||Q.key===$),X)}emitDidChangeValue(J,$){const{key:X,external:Q}=$;if(X===nP){switch(J){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:J})}else this._onDidChangeValue.fire({scope:J,key:X,target:this.getKeyTargets(J)[X],external:Q})}get(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.get(J,X)}getBoolean(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.getBoolean(J,X)}getNumber(J,$,X){var Q;return(Q=this.getStorage($))===null||Q===void 0?void 0:Q.getNumber(J,X)}store(J,$,X,Q,Y=!1){if(D7($)){this.remove(J,X,Y);return}this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(J,X,Q),(Z=this.getStorage(X))===null||Z===void 0||Z.set(J,$,Y)})}remove(J,$,X=!1){this.withPausedEmitters(()=>{var Q;this.updateKeyTarget(J,$,void 0),(Q=this.getStorage($))===null||Q===void 0||Q.delete(J,X)})}withPausedEmitters(J){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{J()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(J,$,X,Q=!1){var Y,Z;const G=this.getKeyTargets($);if(typeof X==="number"){if(G[J]!==X)G[J]=X,(Y=this.getStorage($))===null||Y===void 0||Y.set(nP,JSON.stringify(G),Q)}else if(typeof G[J]==="number")delete G[J],(Z=this.getStorage($))===null||Z===void 0||Z.set(nP,JSON.stringify(G),Q)}get workspaceKeyTargets(){if(!this._workspaceKeyTargets)this._workspaceKeyTargets=this.loadKeyTargets(1);return this._workspaceKeyTargets}get profileKeyTargets(){if(!this._profileKeyTargets)this._profileKeyTargets=this.loadKeyTargets(0);return this._profileKeyTargets}get applicationKeyTargets(){if(!this._applicationKeyTargets)this._applicationKeyTargets=this.loadKeyTargets(-1);return this._applicationKeyTargets}getKeyTargets(J){switch(J){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(J){const $=this.getStorage(J);return $?z40($):Object.create(null)}}class Dk extends tP{constructor(){super();this.applicationStorage=this._register(new V2(new nV,{hint:z2.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new V2(new nV,{hint:z2.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new V2(new nV,{hint:z2.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(1,J))),this._register(this.profileStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(0,J))),this._register(this.applicationStorage.onDidChangeStorage((J)=>this.emitDidChangeValue(-1,J)))}getStorage(J){switch(J){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}var nP,b4,oP;var t3=N(()=>{F0();X0();G8();va();m0();nP="__$__targetStorageMarker",b4=M0("storageService");(function(J){J[J.NONE=0]="NONE",J[J.SHUTDOWN=1]="SHUTDOWN"})(oP||(oP={}));tP.DEFAULT_FLUSH_INTERVAL=60000});function wQ(J){return V40(J,j2)}var V40,fa,ha,ga,Rk,ph0,mh0,Mk,pa,ma,uh0,j2,ua,ca;var e3=N(()=>{L7();u5();V40=function(J,$){const X={...$};for(let Q in J){const Y=J[Q];X[Q]=Y!==void 0?j0(Y):void 0}return X};fa={keybindingLabelBackground:j0(Jg),keybindingLabelForeground:j0($g),keybindingLabelBorder:j0(Xg),keybindingLabelBottomBorder:j0(Qg),keybindingLabelShadow:j0(R$)},ha={buttonForeground:j0(vq),buttonSeparator:j0(ch),buttonBackground:j0(fq),buttonHoverBackground:j0(lh),buttonSecondaryForeground:j0(sh),buttonSecondaryBackground:j0(kK),buttonSecondaryHoverBackground:j0(ah),buttonBorder:j0(dh)},ga={progressBarBackground:j0(ih)},Rk={inputActiveOptionBorder:j0(Ih),inputActiveOptionForeground:j0(Sh),inputActiveOptionBackground:j0(yh)},ph0={checkboxBackground:j0(Eg),checkboxBorder:j0(Ig),checkboxForeground:j0(kg)},mh0={dialogBackground:j0(C8),dialogForeground:j0(T$),dialogShadow:j0(R$),dialogBorder:j0(N1),errorIconForeground:j0(ag),warningIconForeground:j0(rg),infoIconForeground:j0(ig),textLinkForeground:j0(_h)},Mk={inputBackground:j0(Lh),inputForeground:j0(Eh),inputBorder:j0(kh),inputValidationInfoBorder:j0(bh),inputValidationInfoBackground:j0(Ch),inputValidationInfoForeground:j0(xh),inputValidationWarningBorder:j0(hh),inputValidationWarningBackground:j0(vh),inputValidationWarningForeground:j0(fh),inputValidationErrorBorder:j0(mh),inputValidationErrorBackground:j0(gh),inputValidationErrorForeground:j0(ph)},pa={listFilterWidgetBackground:j0(Mg),listFilterWidgetOutline:j0(Og),listFilterWidgetNoMatchesOutline:j0(Tg),listFilterWidgetShadow:j0(Ng),inputBoxStyles:Mk,toggleStyles:Rk},ma={badgeBackground:j0(Tz),badgeForeground:j0(rh),badgeBorder:j0(N1)},uh0={breadcrumbsBackground:j0(gg),breadcrumbsForeground:j0(hg),breadcrumbsHoverForeground:j0(jN),breadcrumbsFocusForeground:j0(jN),breadcrumbsFocusAndSelectionForeground:j0(pg)},j2={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:j0(zg),listFocusForeground:j0(Vg),listFocusOutline:j0(jg),listActiveSelectionBackground:j0(N$),listActiveSelectionForeground:j0(M4),listActiveSelectionIconForeground:j0(cq),listFocusAndSelectionOutline:j0(Wg),listFocusAndSelectionBackground:j0(N$),listFocusAndSelectionForeground:j0(M4),listInactiveSelectionBackground:j0(Bg),listInactiveSelectionIconForeground:j0(Kg),listInactiveSelectionForeground:j0(Fg),listInactiveFocusBackground:j0(Ag),listInactiveFocusOutline:j0(Pg),listHoverBackground:j0(zN),listHoverForeground:j0(VN),listDropOverBackground:j0(Dg),listDropBetweenBackground:j0(Rg),listSelectionOutline:j0(j8),listHoverOutline:j0(j8),treeIndentGuidesStroke:j0(lq),treeInactiveIndentGuidesStroke:j0(_g),tableColumnsBorder:j0(wg),tableOddRowsBackgroundColor:j0(Lg)},ua={selectBackground:j0(D4),selectListBackground:j0(uh),selectForeground:j0(M$),decoratorRightForeground:j0(xK),selectBorder:j0(BY),focusBorder:j0(B9),listFocusBackground:j0(L$),listInactiveSelectionIconForeground:j0(iX),listFocusForeground:j0(w$),listFocusOutline:Th(j8,l.transparent.toString()),listHoverBackground:j0(zN),listHoverForeground:j0(VN),listHoverOutline:j0(j8),selectListBorder:j0(R4),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},ca={shadowColor:j0(R$),borderColor:j0(yg),foregroundColor:j0(Sg),backgroundColor:j0(Cg),selectionForegroundColor:j0(xg),selectionBackgroundColor:j0(bg),selectionBorderColor:j0(vg),separatorColor:j0(fg),scrollbarShadow:j0(hq),scrollbarSliderBackground:j0(gq),scrollbarSliderHoverBackground:j0(pq),scrollbarSliderActiveBackground:j0(mq)}});function aa(J,$,X,Q){const Y=J.getActions($),Z=V$.getInstance(),G=Z.keyStatus.altKey||(k8||B8)&&Z.keyStatus.shiftKey;ia(Y,X,G,Q?(q)=>q===Q:(q)=>q==="navigation")}function ra(J,$,X,Q,Y,Z){const G=J.getActions($);ia(G,X,!1,typeof Q==="string"?(U)=>U===Q:Q,Y,Z)}var ia,eP,N5,JU,la,da,sa;var JD=N(()=>{D0();T7();iV();Pk();$5();xP();X0();O1();Ca();h0();DJ();ba();m1();DQ();m0();xJ();FQ();t3();r8();W6();nX();G8();L7();e3();K4();ia=function(J,$,X,Q=(G)=>G==="navigation",Y=()=>!1,Z=!1){let G,q;if(Array.isArray($))G=$,q=$;else G=$.primary,q=$.secondary;const U=new Set;for(let[H,z]of J){let V;if(Q(H)){if(V=G,V.length>0&&Z)V.push(new s8)}else if(V=q,V.length>0)V.push(new s8);for(let j of z){if(X)j=j instanceof AJ&&j.alt?j.alt:j;const W=V.push(j);if(j instanceof LX)U.add({group:H,action:j,index:W-1})}}for(let{group:H,action:z,index:V}of U){const j=Q(H)?G:q,W=z.actions;if(Y(z,H,j.length))j.splice(V,1,...W)}},eP=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},N5=function(J,$){return function(X,Q){$(X,Q,J)}},JU=class J extends U2{constructor($,X,Q,Y,Z,G,q,U){super(void 0,$,{icon:!!($.class||$.item.icon),label:!$.class&&!$.item.icon,draggable:X===null||X===void 0?void 0:X.draggable,keybinding:X===null||X===void 0?void 0:X.keybinding,hoverDelegate:X===null||X===void 0?void 0:X.hoverDelegate});this._keybindingService=Q,this._notificationService=Y,this._contextKeyService=Z,this._themeService=G,this._contextMenuService=q,this._accessibilityService=U,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new m6),this._altKey=V$.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick($){$.preventDefault(),$.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(X){this._notificationService.error(X)}}render($){if(super.render($),$.classList.add("menu-entry"),this.options.icon)this._updateItemClass(this._menuItemAction.item);if(this._menuItemAction.alt){let X=!1;const Q=()=>{var Y;const Z=!!((Y=this._menuItemAction.alt)===null||Y===void 0?void 0:Y.enabled)&&(!this._accessibilityService.isMotionReduced()||X)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&X);if(Z!==this._wantsAltCommand)this._wantsAltCommand=Z,this.updateLabel(),this.updateTooltip(),this.updateClass()};this._register(this._altKey.event(Q)),this._register(m($,"mouseleave",(Y)=>{X=!1,Q()})),this._register(m($,"mouseenter",(Y)=>{X=!0,Q()})),Q()}}updateLabel(){if(this.options.label&&this.label)this.label.textContent=this._commandAction.label}getTooltip(){var $;const X=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),Q=X&&X.getLabel(),Y=this._commandAction.tooltip||this._commandAction.label;let Z=Q?F("titleAndKb","{0} ({1})",Y,Q):Y;if(!this._wantsAltCommand&&(($=this._menuItemAction.alt)===null||$===void 0?void 0:$.enabled)){const G=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,q=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),U=q&&q.getLabel(),H=U?F("titleAndKb","{0} ({1})",G,U):G;Z=F("titleAndKbAndAlt","{0}\n[{1}] {2}",Z,u3.modifierLabels[C7].altKey,H)}return Z}updateClass(){if(this.options.icon)if(this._commandAction!==this._menuItemAction){if(this._menuItemAction.alt)this._updateItemClass(this._menuItemAction.alt.item)}else this._updateItemClass(this._menuItemAction.item)}_updateItemClass($){this._itemClassDispose.value=void 0;const{element:X,label:Q}=this;if(!X||!Q)return;const Y=this._commandAction.checked&&xa($.toggled)&&$.toggled.icon?$.toggled.icon:$.icon;if(!Y)return;if(y0.isThemeIcon(Y)){const Z=y0.asClassNameArray(Y);Q.classList.add(...Z),this._itemClassDispose.value=K0(()=>{Q.classList.remove(...Z)})}else Q.style.backgroundImage=LG(this._themeService.getColorTheme().type)?TJ(Y.dark):TJ(Y.light),Q.classList.add("icon"),this._itemClassDispose.value=x7(K0(()=>{Q.style.backgroundImage="",Q.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};JU=eP([N5(2,l8),N5(3,i6),N5(4,v0),N5(5,a8),N5(6,n5),N5(7,_7)],JU);la=class J extends H2{constructor($,X,Q,Y,Z){var G,q,U;const H={...X,menuAsChild:(G=X===null||X===void 0?void 0:X.menuAsChild)!==null&&G!==void 0?G:!1,classNames:(q=X===null||X===void 0?void 0:X.classNames)!==null&&q!==void 0?q:y0.isThemeIcon($.item.icon)?y0.asClassName($.item.icon):void 0,keybindingProvider:(U=X===null||X===void 0?void 0:X.keybindingProvider)!==null&&U!==void 0?U:(z)=>Q.lookupKeybinding(z.id)};super($,{getActions:()=>$.actions},Y,H);this._keybindingService=Q,this._contextMenuService=Y,this._themeService=Z}render($){super.render($),q6(this.element),$.classList.add("menu-entry");const X=this._action,{icon:Q}=X.item;if(Q&&!y0.isThemeIcon(Q)){this.element.classList.add("icon");const Y=()=>{if(this.element)this.element.style.backgroundImage=LG(this._themeService.getColorTheme().type)?TJ(Q.dark):TJ(Q.light)};Y(),this._register(this._themeService.onDidColorThemeChange(()=>{Y()}))}}};la=eP([N5(2,l8),N5(3,n5),N5(4,a8)],la);da=class J extends T5{constructor($,X,Q,Y,Z,G,q,U){var H,z,V;super(null,$);this._keybindingService=Q,this._notificationService=Y,this._contextMenuService=Z,this._menuService=G,this._instaService=q,this._storageService=U,this._container=null,this._options=X,this._storageKey=`${$.item.submenu.id}_lastActionId`;let j;const W=(X===null||X===void 0?void 0:X.persistLastActionId)?U.get(this._storageKey,1):void 0;if(W)j=$.actions.find((K)=>W===K.id);if(!j)j=$.actions[0];this._defaultAction=this._instaService.createInstance(JU,j,{keybinding:this._getDefaultActionKeybindingLabel(j)});const B={keybindingProvider:(K)=>this._keybindingService.lookupKeybinding(K.id),...X,menuAsChild:(H=X===null||X===void 0?void 0:X.menuAsChild)!==null&&H!==void 0?H:!0,classNames:(z=X===null||X===void 0?void 0:X.classNames)!==null&&z!==void 0?z:["codicon","codicon-chevron-down"],actionRunner:(V=X===null||X===void 0?void 0:X.actionRunner)!==null&&V!==void 0?V:new q9};this._dropdown=new H2($,$.actions,this._contextMenuService,B),this._register(this._dropdown.actionRunner.onDidRun((K)=>{if(K.action instanceof AJ)this.update(K.action)}))}update($){var X;if((X=this._options)===null||X===void 0?void 0:X.persistLastActionId)this._storageService.store(this._storageKey,$.id,1,1);if(this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(JU,$,{keybinding:this._getDefaultActionKeybindingLabel($)}),this._defaultAction.actionRunner=new class extends q9{async runAction(Q,Y){await Q.run(void 0)}},this._container)this._defaultAction.render(Fq(this._container,q0(".action-container")))}_getDefaultActionKeybindingLabel($){var X;let Q;if((X=this._options)===null||X===void 0?void 0:X.renderKeybindingWithDefaultActionLabel){const Y=this._keybindingService.lookupKeybinding($.id);if(Y)Q=`(${Y.getLabel()})`}return Q}setActionContext($){super.setActionContext($),this._defaultAction.setActionContext($),this._dropdown.setActionContext($)}render($){this._container=$,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const X=q0(".action-container");this._defaultAction.render(Z0(this._container,X)),this._register(m(X,$0.KEY_DOWN,(Y)=>{const Z=new A1(Y);if(Z.equals(17))this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),Z.stopPropagation()}));const Q=q0(".dropdown-action-container");this._dropdown.render(Z0(this._container,Q)),this._register(m(Q,$0.KEY_DOWN,(Y)=>{var Z;const G=new A1(Y);if(G.equals(15))this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(Z=this._defaultAction.element)===null||Z===void 0||Z.focus(),G.stopPropagation()}))}focus($){if($)this._dropdown.focus();else this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus()}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable($){if($)this._defaultAction.element.tabIndex=0;else this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1)}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};da=eP([N5(2,l8),N5(3,i6),N5(4,n5),N5(5,PJ),N5(6,g0),N5(7,b4)],da);sa=class J extends Fk{constructor($,X){super(null,$,$.actions.map((Q)=>({text:Q.id===s8.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":Q.label,isDisabled:!Q.enabled})),0,X,ua,{ariaLabel:$.tooltip,optionsAsChildren:!0});this.select(Math.max(0,$.actions.findIndex((Q)=>Q.checked)))}render($){super.render($),$.style.borderColor=j0(BY)}runAction($,X){const Q=this.action.actions[X];if(Q)this.actionRunner.run(Q)}};sa=eP([N5(1,S4)],sa)});class W7 extends f{constructor(J,$={}){var X,Q,Y,Z,G,q;super();if(this._actionRunnerDisposables=this._register(new r),this.viewItemDisposables=this._register(new SZ),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new y({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new y),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new y),this.onWillRun=this._onWillRun.event,this.options=$,this._context=(X=$.context)!==null&&X!==void 0?X:null,this._orientation=(Q=this.options.orientation)!==null&&Q!==void 0?Q:0,this._triggerKeys={keyDown:(Z=(Y=this.options.triggerKeys)===null||Y===void 0?void 0:Y.keyDown)!==null&&Z!==void 0?Z:!1,keys:(q=(G=this.options.triggerKeys)===null||G===void 0?void 0:G.keys)!==null&&q!==void 0?q:[3,10]},this.options.actionRunner)this._actionRunner=this.options.actionRunner;else this._actionRunner=new q9,this._actionRunnerDisposables.add(this._actionRunner);if(this._actionRunnerDisposables.add(this._actionRunner.onDidRun((z)=>this._onDidRun.fire(z))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun((z)=>this._onWillRun.fire(z))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",$.animated!==!1)this.domNode.classList.add("animated");let U,H;switch(this._orientation){case 0:U=[15],H=[17];break;case 1:U=[16],H=[18],this.domNode.className+=" vertical";break}if(this._register(m(this.domNode,$0.KEY_DOWN,(z)=>{const V=new A1(z);let j=!0;const W=typeof this.focusedItem==="number"?this.viewItems[this.focusedItem]:void 0;if(U&&(V.equals(U[0])||V.equals(U[1])))j=this.focusPrevious();else if(H&&(V.equals(H[0])||V.equals(H[1])))j=this.focusNext();else if(V.equals(9)&&this.cancelHasListener)this._onDidCancel.fire();else if(V.equals(14))j=this.focusFirst();else if(V.equals(13))j=this.focusLast();else if(V.equals(2)&&W instanceof T5&&W.trapsArrowNavigation)j=this.focusNext();else if(this.isTriggerKeyEvent(V))if(this._triggerKeys.keyDown)this.doTrigger(V);else this.triggerKeyDown=!0;else j=!1;if(j)V.preventDefault(),V.stopPropagation()})),this._register(m(this.domNode,$0.KEY_UP,(z)=>{const V=new A1(z);if(this.isTriggerKeyEvent(V)){if(!this._triggerKeys.keyDown&&this.triggerKeyDown)this.triggerKeyDown=!1,this.doTrigger(V);V.preventDefault(),V.stopPropagation()}else if(V.equals(2)||V.equals(1024|2)||V.equals(16)||V.equals(18)||V.equals(15)||V.equals(17))this.updateFocusedItem()})),this.focusTracker=this._register(CX(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{if($6()===this.domNode||!u8($6(),this.domNode))this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems)this.actionsList.classList.add("highlight-toggled");if(this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel)this.actionsList.setAttribute("aria-label",this.options.ariaLabel);this.domNode.appendChild(this.actionsList),J.appendChild(this.domNode)}refreshRole(){if(this.length()>=1)this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar");else this.actionsList.setAttribute("role","presentation")}setFocusable(J){if(this.focusable=J,this.focusable){const $=this.viewItems.find((X)=>X instanceof T5&&X.isEnabled());if($ instanceof T5)$.setFocusable(!0)}else this.viewItems.forEach(($)=>{if($ instanceof T5)$.setFocusable(!1)})}isTriggerKeyEvent(J){let $=!1;return this._triggerKeys.keys.forEach((X)=>{$=$||J.equals(X)}),$}updateFocusedItem(){var J,$;for(let X=0;X<this.actionsList.children.length;X++){const Q=this.actionsList.children[X];if(u8($6(),Q)){this.focusedItem=X,($=(J=this.viewItems[this.focusedItem])===null||J===void 0?void 0:J.showHover)===null||$===void 0||$.call(J);break}}}get context(){return this._context}set context(J){this._context=J,this.viewItems.forEach(($)=>$.setActionContext(J))}get actionRunner(){return this._actionRunner}set actionRunner(J){this._actionRunner=J,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(($)=>this._onDidRun.fire($))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(($)=>this._onWillRun.fire($))),this.viewItems.forEach(($)=>$.actionRunner=J)}getContainer(){return this.domNode}getAction(J){var $;if(typeof J==="number")return($=this.viewItems[J])===null||$===void 0?void 0:$.action;if(J instanceof HTMLElement){while(J.parentElement!==this.actionsList){if(!J.parentElement)return;J=J.parentElement}for(let X=0;X<this.actionsList.childNodes.length;X++)if(this.actionsList.childNodes[X]===J)return this.viewItems[X].action}return}push(J,$={}){const X=Array.isArray(J)?J:[J];let Q=$9($.index)?$.index:null;if(X.forEach((Y)=>{const Z=document.createElement("li");Z.className="action-item",Z.setAttribute("role","presentation");let G;const q={hoverDelegate:this.options.hoverDelegate,...$};if(this.options.actionViewItemProvider)G=this.options.actionViewItemProvider(Y,q);if(!G)G=new U2(this.context,Y,q);if(!this.options.allowContextMenu)this.viewItemDisposables.set(G,m(Z,$0.CONTEXT_MENU,(U)=>{u0.stop(U,!0)}));if(G.actionRunner=this._actionRunner,G.setActionContext(this.context),G.render(Z),this.focusable&&G instanceof T5&&this.viewItems.length===0)G.setFocusable(!0);if(Q===null||Q<0||Q>=this.actionsList.children.length)this.actionsList.appendChild(Z),this.viewItems.push(G);else this.actionsList.insertBefore(Z,this.actionsList.children[Q]),this.viewItems.splice(Q,0,G),Q++}),typeof this.focusedItem==="number")this.focus(this.focusedItem);this.refreshRole()}clear(){if(this.isEmpty())return;this.viewItems=k1(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),C6(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(J){let $=!1,X=void 0;if(J===void 0)$=!0;else if(typeof J==="number")X=J;else if(typeof J==="boolean")$=J;if($&&typeof this.focusedItem==="undefined"){const Q=this.viewItems.findIndex((Y)=>Y.isEnabled());this.focusedItem=Q===-1?void 0:Q,this.updateFocus(void 0,void 0,!0)}else{if(X!==void 0)this.focusedItem=X;this.updateFocus(void 0,void 0,!0)}}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(J){if(typeof this.focusedItem==="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const $=this.focusedItem;let X;do{if(!J&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=$,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,X=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!X.isEnabled()||X.action.id===s8.ID));return this.updateFocus(),!0}focusPrevious(J){if(typeof this.focusedItem==="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const $=this.focusedItem;let X;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!J&&this.options.preventLoopNavigation)return this.focusedItem=$,!1;this.focusedItem=this.viewItems.length-1}X=this.viewItems[this.focusedItem]}while(this.focusedItem!==$&&(this.options.focusOnlyEnabledItems&&!X.isEnabled()||X.action.id===s8.ID));return this.updateFocus(!0),!0}updateFocus(J,$,X=!1){var Q,Y;if(typeof this.focusedItem==="undefined")this.actionsList.focus({preventScroll:$});if(this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem)(Q=this.viewItems[this.previouslyFocusedItem])===null||Q===void 0||Q.blur();const Z=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(Z){let G=!0;if(!h2(Z.focus))G=!1;if(this.options.focusOnlyEnabledItems&&h2(Z.isEnabled)&&!Z.isEnabled())G=!1;if(Z.action.id===s8.ID)G=!1;if(!G)this.actionsList.focus({preventScroll:$}),this.previouslyFocusedItem=void 0;else if(X||this.previouslyFocusedItem!==this.focusedItem)Z.focus(J),this.previouslyFocusedItem=this.focusedItem;if(G)(Y=Z.showHover)===null||Y===void 0||Y.call(Z)}}doTrigger(J){if(typeof this.focusedItem==="undefined")return;const $=this.viewItems[this.focusedItem];if($ instanceof T5){const X=$._context===null||$._context===void 0?J:$._context;this.run($._action,X)}}async run(J,$){await this._actionRunner.run(J,$)}dispose(){this._context=void 0,this.viewItems=k1(this.viewItems),this.getContainer().remove(),super.dispose()}}var o$=N(()=>{D0();T7();iV();$5();F0();X0();G8();Bk()});function j40(J){const $=Tk,X=$.exec(J);if(!X)return J;const Q=!X[1];return J.replace($,Q?"$2$3":"").trim()}function na(J){const $=$B()[J.id];return`.codicon-${J.id}:before { content: '\\${$.toString(16)}'; }`}class W2 extends W7{constructor(J,$,X,Q){J.classList.add("monaco-menu-container"),J.setAttribute("role","presentation");const Y=document.createElement("div");Y.classList.add("monaco-menu"),Y.setAttribute("role","presentation");super(Y,{orientation:1,actionViewItemProvider:(U)=>this.doGetActionViewItem(U,X,Z),context:X.context,actionRunner:X.actionRunner,ariaLabel:X.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...a0||B8?[10]:[]],keyDown:!0}});if(this.menuStyles=Q,this.menuElement=Y,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(J,Q),this._register(w1.addTarget(Y)),this._register(m(Y,$0.KEY_DOWN,(U)=>{if(new A1(U).equals(2))U.preventDefault()})),X.enableMnemonics)this._register(m(Y,$0.KEY_DOWN,(U)=>{const H=U.key.toLocaleLowerCase();if(this.mnemonics.has(H)){u0.stop(U,!0);const z=this.mnemonics.get(H);if(z.length===1){if(z[0]instanceof Nk&&z[0].container)this.focusItemByElement(z[0].container);z[0].onClick(U)}if(z.length>1){const V=z.shift();if(V&&V.container)this.focusItemByElement(V.container),z.push(V);this.mnemonics.set(H,z)}}}));if(B8)this._register(m(Y,$0.KEY_DOWN,(U)=>{const H=new A1(U);if(H.equals(14)||H.equals(11))this.focusedItem=this.viewItems.length-1,this.focusNext(),u0.stop(U,!0);else if(H.equals(13)||H.equals(12))this.focusedItem=0,this.focusPrevious(),u0.stop(U,!0)}));this._register(m(this.domNode,$0.MOUSE_OUT,(U)=>{const H=U.relatedTarget;if(!u8(H,this.domNode))this.focusedItem=void 0,this.updateFocus(),U.stopPropagation()})),this._register(m(this.actionsList,$0.MOUSE_OVER,(U)=>{let H=U.target;if(!H||!u8(H,this.actionsList)||H===this.actionsList)return;while(H.parentElement!==this.actionsList&&H.parentElement!==null)H=H.parentElement;if(H.classList.contains("action-item")){const z=this.focusedItem;if(this.setFocusedItem(H),z!==this.focusedItem)this.updateFocus()}})),this._register(w1.addTarget(this.actionsList)),this._register(m(this.actionsList,I1.Tap,(U)=>{let H=U.initialTarget;if(!H||!u8(H,this.actionsList)||H===this.actionsList)return;while(H.parentElement!==this.actionsList&&H.parentElement!==null)H=H.parentElement;if(H.classList.contains("action-item")){const z=this.focusedItem;if(this.setFocusedItem(H),z!==this.focusedItem)this.updateFocus()}}));const Z={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new JQ(Y,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const G=this.scrollableElement.getDomNode();G.style.position="",this.styleScrollElement(G,Q),this._register(m(Y,I1.Change,(U)=>{u0.stop(U,!0);const H=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:H-U.translationY})})),this._register(m(G,$0.MOUSE_UP,(U)=>{U.preventDefault()}));const q=B0(J);Y.style.maxHeight=`${Math.max(10,q.innerHeight-J.getBoundingClientRect().top-35)}px`,$=$.filter((U,H)=>{var z;if((z=X.submenuIds)===null||z===void 0?void 0:z.has(U.id))return console.warn(`Found submenu cycle: ${U.id}`),!1;if(U instanceof s8){if(H===$.length-1||H===0)return!1;if($[H-1]instanceof s8)return!1}return!0}),this.push($,{icon:!0,label:!0,isMenu:!0}),J.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((U)=>!(U instanceof _k)).forEach((U,H,z)=>{U.updatePositionInSet(H+1,z.length)})}initializeOrUpdateStyleSheet(J,$){if(!this.styleSheet)if(eZ(J))this.styleSheet=O6(J);else{if(!W2.globalStyleSheet)W2.globalStyleSheet=O6();this.styleSheet=W2.globalStyleSheet}this.styleSheet.textContent=W40($,eZ(J))}styleScrollElement(J,$){var X,Q;const Y=(X=$.foregroundColor)!==null&&X!==void 0?X:"",Z=(Q=$.backgroundColor)!==null&&Q!==void 0?Q:"",G=$.borderColor?`1px solid ${$.borderColor}`:"",q="5px",U=$.shadowColor?`0 2px 8px ${$.shadowColor}`:"";J.style.outline=G,J.style.borderRadius="5px",J.style.color=Y,J.style.backgroundColor=Z,J.style.boxShadow=U}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(J){const $=this.focusedItem;if(this.setFocusedItem(J),$!==this.focusedItem)this.updateFocus()}setFocusedItem(J){for(let $=0;$<this.actionsList.children.length;$++){const X=this.actionsList.children[$];if(J===X){this.focusedItem=$;break}}}updateFocus(J){if(super.updateFocus(J,!0,!0),typeof this.focusedItem!=="undefined")this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(J,$,X){if(J instanceof s8)return new _k($.context,J,{icon:!0},this.menuStyles);else if(J instanceof LX){const Q=new Nk(J,J.actions,X,{...$,submenuIds:new Set([...$.submenuIds||[],J.id])},this.menuStyles);if($.enableMnemonics){const Y=Q.getMnemonic();if(Y&&Q.isEnabled()){let Z=[];if(this.mnemonics.has(Y))Z=this.mnemonics.get(Y);Z.push(Q),this.mnemonics.set(Y,Z)}}return Q}else{const Q={enableMnemonics:$.enableMnemonics,useEventAsContext:$.useEventAsContext};if($.getKeyBinding){const Z=$.getKeyBinding(J);if(Z){const G=Z.getLabel();if(G)Q.keybinding=G}}const Y=new wk($.context,J,Q,this.menuStyles);if($.enableMnemonics){const Z=Y.getMnemonic();if(Z&&Y.isEnabled()){let G=[];if(this.mnemonics.has(Z))G=this.mnemonics.get(Z);G.push(Y),this.mnemonics.set(Z,G)}}return Y}}}class wk extends T5{constructor(J,$,X,Q){X.isMenu=!0;super($,$,X);if(this.menuStyle=Q,this.options=X,this.options.icon=X.icon!==void 0?X.icon:!1,this.options.label=X.label!==void 0?X.label:!0,this.cssClass="",this.options.label&&X.enableMnemonics){const Y=this.action.label;if(Y){const Z=Tk.exec(Y);if(Z)this.mnemonic=(Z[1]?Z[1]:Z[3]).toLocaleLowerCase()}}this.runOnceToEnableMouseUp=new t1(()=>{if(!this.element)return;this._register(m(this.element,$0.MOUSE_UP,(Y)=>{if(u0.stop(Y,!0),u6){if(new Q7(B0(this.element),Y).rightButton)return;this.onClick(Y)}else setTimeout(()=>{this.onClick(Y)},0)})),this._register(m(this.element,$0.CONTEXT_MENU,(Y)=>{u0.stop(Y,!0)}))},100),this._register(this.runOnceToEnableMouseUp)}render(J){if(super.render(J),!this.element)return;if(this.container=J,this.item=Z0(this.element,q0("a.action-menu-item")),this._action.id===s8.ID)this.item.setAttribute("role","presentation");else if(this.item.setAttribute("role","menuitem"),this.mnemonic)this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`);if(this.check=Z0(this.item,q0("span.menu-item-check"+y0.asCSSSelector(U0.menuSelection))),this.check.setAttribute("role","none"),this.label=Z0(this.item,q0("span.action-label")),this.options.label&&this.options.keybinding)Z0(this.item,q0("span.keybinding")).textContent=this.options.keybinding;this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle()}blur(){super.blur(),this.applyStyle()}focus(){var J;super.focus(),(J=this.item)===null||J===void 0||J.focus(),this.applyStyle()}updatePositionInSet(J,$){if(this.item)this.item.setAttribute("aria-posinset",`${J}`),this.item.setAttribute("aria-setsize",`${$}`)}updateLabel(){var J;if(!this.label)return;if(this.options.label){C6(this.label);let $=TP(this.action.label);if($){const X=j40($);if(!this.options.enableMnemonics)$=X;this.label.setAttribute("aria-label",X.replace(/&&/g,"&"));const Q=Tk.exec($);if(Q){$=gZ($),Ok.lastIndex=0;let Y=Ok.exec($);while(Y&&Y[1])Y=Ok.exec($);const Z=(G)=>G.replace(/&amp;&amp;/g,"&amp;");if(Y)this.label.append(rQ(Z($.substr(0,Y.index))," "),q0("u",{"aria-hidden":"true"},Y[3]),fx(Z($.substr(Y.index+Y[0].length))," "));else this.label.innerText=Z($).trim();(J=this.item)===null||J===void 0||J.setAttribute("aria-keyshortcuts",(Q[1]?Q[1]:Q[3]).toLocaleLowerCase())}else this.label.innerText=$.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){if(this.cssClass&&this.item)this.item.classList.remove(...this.cssClass.split(" "));if(this.options.icon&&this.label){if(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass)this.label.classList.add(...this.cssClass.split(" "));this.updateEnabled()}else if(this.label)this.label.classList.remove("icon")}updateEnabled(){if(this.action.enabled){if(this.element)this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled");if(this.item)this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0}else{if(this.element)this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true");if(this.item)this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")}}updateChecked(){if(!this.item)return;const J=this.action.checked;if(this.item.classList.toggle("checked",!!J),J!==void 0)this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",J?"true":"false");else this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","")}getMnemonic(){return this.mnemonic}applyStyle(){const J=this.element&&this.element.classList.contains("focused"),$=J&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,X=J&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Q=J&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Y=J&&this.menuStyle.selectionBorderColor?"-1px":"";if(this.item)this.item.style.color=$!==null&&$!==void 0?$:"",this.item.style.backgroundColor=X!==null&&X!==void 0?X:"",this.item.style.outline=Q,this.item.style.outlineOffset=Y;if(this.check)this.check.style.color=$!==null&&$!==void 0?$:""}}class Nk extends wk{constructor(J,$,X,Q,Y){super(J,J,Q,Y);this.submenuActions=$,this.parentData=X,this.submenuOptions=Q,this.mysubmenu=null,this.submenuDisposables=this._register(new r),this.mouseOver=!1,this.expandDirection=Q&&Q.expandDirection!==void 0?Q.expandDirection:$D.Right,this.showScheduler=new t1(()=>{if(this.mouseOver)this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},250),this.hideScheduler=new t1(()=>{if(this.element&&(!u8($6(),this.element)&&this.parentData.submenu===this.mysubmenu))this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)},750)}render(J){if(super.render(J),!this.element)return;if(this.item)this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Z0(this.item,q0("span.submenu-indicator"+y0.asCSSSelector(U0.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true");this._register(m(this.element,$0.KEY_UP,($)=>{const X=new A1($);if(X.equals(17)||X.equals(3))u0.stop($,!0),this.createSubmenu(!0)})),this._register(m(this.element,$0.KEY_DOWN,($)=>{const X=new A1($);if($6()===this.item){if(X.equals(17)||X.equals(3))u0.stop($,!0)}})),this._register(m(this.element,$0.MOUSE_OVER,($)=>{if(!this.mouseOver)this.mouseOver=!0,this.showScheduler.schedule()})),this._register(m(this.element,$0.MOUSE_LEAVE,($)=>{this.mouseOver=!1})),this._register(m(this.element,$0.FOCUS_OUT,($)=>{if(this.element&&!u8($6(),this.element))this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{if(this.parentData.submenu===this.mysubmenu)this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0)}))}updateEnabled(){}onClick(J){u0.stop(J,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(J){if(this.parentData.submenu&&(J||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch($){}if(this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer)this.submenuDisposables.clear(),this.submenuContainer=void 0}}calculateSubmenuMenuLayout(J,$,X,Q){const Y={top:0,left:0};if(Y.left=X2(J.width,$.width,{position:Q===$D.Right?0:1,offset:X.left,size:X.width}),Y.left>=X.left&&Y.left<X.left+X.width){if(X.left+10+$.width<=J.width)Y.left=X.left+10;X.top+=10,X.height=0}if(Y.top=X2(J.height,$.height,{position:0,offset:X.top,size:0}),Y.top+$.height===X.top&&Y.top+X.height+$.height<=J.height)Y.top+=X.height;return Y}createSubmenu(J=!0){if(!this.element)return;if(!this.parentData.submenu){this.updateAriaExpanded("true"),this.submenuContainer=Z0(this.element,q0("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const $=B0(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),X=parseFloat($.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new W2(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new RH],this.submenuOptions,this.menuStyle);const Q=this.element.getBoundingClientRect(),Y={top:Q.top-X,left:Q.left,height:Q.height+2*X,width:Q.width},Z=this.submenuContainer.getBoundingClientRect(),G=B0(this.element),{top:q,left:U}=this.calculateSubmenuMenuLayout(new d1(G.innerWidth,G.innerHeight),d1.lift(Z),Y,this.expandDirection);this.submenuContainer.style.left=`${U-Z.left}px`,this.submenuContainer.style.top=`${q-Z.top}px`,this.submenuDisposables.add(m(this.submenuContainer,$0.KEY_UP,(H)=>{if(new A1(H).equals(15))u0.stop(H,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.submenuDisposables.add(m(this.submenuContainer,$0.KEY_DOWN,(H)=>{if(new A1(H).equals(15))u0.stop(H,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(J),this.mysubmenu=this.parentData.submenu}else this.parentData.submenu.focus(!1)}updateAriaExpanded(J){var $;if(this.item)($=this.item)===null||$===void 0||$.setAttribute("aria-expanded",J)}applyStyle(){super.applyStyle();const $=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;if(this.submenuIndicator)this.submenuIndicator.style.color=$!==null&&$!==void 0?$:""}dispose(){if(super.dispose(),this.hideScheduler.dispose(),this.mysubmenu)this.mysubmenu.dispose(),this.mysubmenu=null;if(this.submenuContainer)this.submenuContainer=void 0}}class _k extends U2{constructor(J,$,X,Q){super(J,$,X);this.menuStyles=Q}render(J){if(super.render(J),this.label)this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:""}}var W40,Tk,Ok,$D;var oa=N(()=>{A5();s9();D0();T7();k9();o$();iV();eE();_4();$5();u1();z6();W6();v3();X0();O1();o0();W40=function(J,$){let X=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${na(U0.menuSelection)}
${na(U0.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if($){X+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const Q=J.scrollbarShadow;if(Q)X+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${Q} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${Q} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${Q} 6px 6px 6px -6px inset;
				}
			`;const Y=J.scrollbarSliderBackground;if(Y)X+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${Y};
				}
			`;const Z=J.scrollbarSliderHoverBackground;if(Z)X+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${Z};
				}
			`;const G=J.scrollbarSliderActiveBackground;if(G)X+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${G};
				}
			`}return X},Tk=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ok=/(&amp;)?(&amp;)([^\s&])/g;(function(J){J[J.Right=0]="Right",J[J.Left=1]="Left"})($D||($D={}))});class Lk{constructor(J,$,X,Q){this.contextViewService=J,this.telemetryService=$,this.notificationService=X,this.keybindingService=Q,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(J){this.options=J}showContextMenu(J){const $=J.getActions();if(!$.length)return;this.focusToReturn=$6();let X;const Q=J.domForShadowRoot instanceof HTMLElement?J.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>J.getAnchor(),canRelayout:!1,anchorAlignment:J.anchorAlignment,anchorAxisAlignment:J.anchorAxisAlignment,render:(Y)=>{var Z;this.lastContainer=Y;const G=J.getMenuClassName?J.getMenuClassName():"";if(G)Y.className+=" "+G;if(this.options.blockMouse)this.block=Y.appendChild(q0(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(Z=this.blockDisposable)===null||Z===void 0||Z.dispose(),this.blockDisposable=m(this.block,$0.MOUSE_DOWN,(z)=>z.stopPropagation());const q=new r,U=J.actionRunner||new q9;U.onWillRun((z)=>this.onActionRun(z,!J.skipTelemetry),this,q),U.onDidRun(this.onDidActionRun,this,q),X=new W2(Y,$,{actionViewItemProvider:J.getActionViewItem,context:J.getActionsContext?J.getActionsContext():null,actionRunner:U,getKeyBinding:J.getKeyBinding?J.getKeyBinding:(z)=>this.keybindingService.lookupKeybinding(z.id)},ca),X.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,q),X.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,q);const H=B0(Y);return q.add(m(H,$0.BLUR,()=>this.contextViewService.hideContextView(!0))),q.add(m(H,$0.MOUSE_DOWN,(z)=>{if(z.defaultPrevented)return;const V=new Q7(H,z);let j=V.target;if(V.rightButton)return;while(j){if(j===Y)return;j=j.parentElement}this.contextViewService.hideContextView(!0)})),x7(q,X)},focus:()=>{X===null||X===void 0||X.focus(!!J.autoSelectFirstItem)},onHide:(Y)=>{var Z,G,q;if((Z=J.onHide)===null||Z===void 0||Z.call(J,!!Y),this.block)this.block.remove(),this.block=null;if((G=this.blockDisposable)===null||G===void 0||G.dispose(),this.blockDisposable=null,!!this.lastContainer&&($6()===this.lastContainer||u8($6(),this.lastContainer)))(q=this.focusToReturn)===null||q===void 0||q.focus();this.lastContainer=null}},Q,!!Q)}onActionRun(J,$){if($)this.telemetryService.publicLog2("workbenchActionExecuted",{id:J.action.id,from:"contextMenu"});this.contextViewService.hideContextView(!1)}onDidActionRun(J){if(J.error&&!$$(J.error))this.notificationService.error(J.error)}}var ta=N(()=>{D0();k9();oa();$5();D1();X0();e3()});var B40,$U,XD,Ek;var ea=N(()=>{D0();$5();F0();X0();JD();DJ();m1();xJ();FQ();iQ();ta();DQ();B40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},$U=function(J,$){return function(X,Q){$(X,Q,J)}},XD=class J extends f{get contextMenuHandler(){if(!this._contextMenuHandler)this._contextMenuHandler=new Lk(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService);return this._contextMenuHandler}constructor($,X,Q,Y,Z,G){super();this.telemetryService=$,this.notificationService=X,this.contextViewService=Q,this.keybindingService=Y,this.menuService=Z,this.contextKeyService=G,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new y)}configure($){this.contextMenuHandler.configure($)}showContextMenu($){$=Ek.transform($,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...$,onHide:(X)=>{var Q;(Q=$.onHide)===null||Q===void 0||Q.call($,X),this._onDidHideContextMenu.fire()}}),V$.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};XD=B40([$U(0,Z5),$U(1,i6),$U(2,S4),$U(3,l8),$U(4,PJ),$U(5,v0)],XD);(function(J){function $(Q){return Q&&Q.menuId instanceof I}function X(Q,Y,Z){if(!$(Q))return Q;const{menuId:G,menuActionOptions:q,contextKeyService:U}=Q;return{...Q,getActions:()=>{const H=[];if(G){const z=Y.createMenu(G,U!==null&&U!==void 0?U:Z);aa(z,q,H),z.dispose()}if(!Q.getActions)return H;else return s8.join(Q.getActions(),H)}}}J.transform=X})(Ek||(Ek={}))});var oV;var Jr=N(()=>{(function(J){J[J.API=0]="API",J[J.USER=1]="USER"})(oV||(oV={}))});var yk,QD,kk,Ik,YD;var $r=N(()=>{D0();X7();$7();w9();W4();LP();z9();g$();e8();G9();X5();Jr();nG();yk=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},QD=function(J,$){return function(X,Q){$(X,Q,J)}},kk=class J{constructor($){this._commandService=$}async open($,X){if(!SH($,J1.command))return!1;if(!(X===null||X===void 0?void 0:X.allowCommands))return!0;if(typeof $==="string")$=I0.parse($);if(Array.isArray(X.allowCommands)){if(!X.allowCommands.includes($.path))return!0}let Q=[];try{Q=SV(decodeURIComponent($.query))}catch(Y){try{Q=SV($.query)}catch(Z){}}if(!Array.isArray(Q))Q=[Q];return await this._commandService.executeCommand($.path,...Q),!0}};kk=yk([QD(0,B6)],kk);Ik=class J{constructor($){this._editorService=$}async open($,X){if(typeof $==="string")$=I0.parse($);const{selection:Q,uri:Y}=Sd($);if($=Y,$.scheme===J1.file)$=Wc($);return await this._editorService.openCodeEditor({resource:$,options:{selection:Q,source:(X===null||X===void 0?void 0:X.fromUserGesture)?oV.USER:oV.API,...X===null||X===void 0?void 0:X.editorOptions}},this._editorService.getFocusedCodeEditor(),X===null||X===void 0?void 0:X.openToSide),!0}};Ik=yk([QD(0,l1)],Ik);YD=class J{constructor($,X){this._openers=new I8,this._validators=new I8,this._resolvers=new I8,this._resolvedUriTargets=new x6((Q)=>Q.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new I8,this._defaultExternalOpener={openExternal:async(Q)=>{if(MO(Q,J1.http,J1.https))pF(Q);else B1.location.href=Q;return!0}},this._openers.push({open:async(Q,Y)=>{if((Y===null||Y===void 0?void 0:Y.openExternal)||MO(Q,J1.mailto,J1.http,J1.https,J1.vsls))return await this._doOpenExternal(Q,Y),!0;return!1}}),this._openers.push(new kk(X)),this._openers.push(new Ik($))}registerOpener($){return{dispose:this._openers.unshift($)}}async open($,X){var Q;const Y=typeof $==="string"?I0.parse($):$,Z=(Q=this._resolvedUriTargets.get(Y))!==null&&Q!==void 0?Q:$;for(let G of this._validators)if(!await G.shouldOpen(Z,X))return!1;for(let G of this._openers)if(await G.open($,X))return!0;return!1}async resolveExternalUri($,X){for(let Q of this._resolvers)try{const Y=await Q.resolveExternalUri($,X);if(Y){if(!this._resolvedUriTargets.has(Y.resolved))this._resolvedUriTargets.set(Y.resolved,$);return Y}}catch(Y){}throw new Error("Could not resolve external URI: "+$.toString())}async _doOpenExternal($,X){const Q=typeof $==="string"?I0.parse($):$;let Y;try{Y=(await this.resolveExternalUri(Q,X)).resolved}catch(G){Y=Q}let Z;if(typeof $==="string"&&Q.toString()===Y.toString())Z=$;else Z=encodeURI(Y.toString(!0));if(X===null||X===void 0?void 0:X.allowContributedOpeners){const G=typeof(X===null||X===void 0?void 0:X.allowContributedOpeners)==="string"?X===null||X===void 0?void 0:X.allowContributedOpeners:void 0;for(let q of this._externalOpeners)if(await q.openExternal(Z,{sourceUri:Q,preferredOpenerId:G},t8.None))return!0}return this._defaultExternalOpener.openExternal(Z,{sourceUri:Q},t8.None)}dispose(){this._validators.clear()}};YD=yk([QD(0,l1),QD(1,B6)],YD)});var P9;var XU=N(()=>{m0();P9=M0("editorWorkerService")});var o5,Xr,v4;var QU=N(()=>{xY();h0();m0();(function(J){J[J.Hint=1]="Hint",J[J.Info=2]="Info",J[J.Warning=4]="Warning",J[J.Error=8]="Error"})(o5||(o5={}));(function(J){function $(G,q){return q-G}J.compare=$;const X=Object.create(null);X[J.Error]=F("sev.error","Error"),X[J.Warning]=F("sev.warning","Warning"),X[J.Info]=F("sev.info","Info");function Q(G){return X[G]||""}J.toString=Q;function Y(G){switch(G){case D8.Error:return J.Error;case D8.Warning:return J.Warning;case D8.Info:return J.Info;case D8.Ignore:return J.Hint}}J.fromSeverity=Y;function Z(G){switch(G){case J.Error:return D8.Error;case J.Warning:return D8.Warning;case J.Info:return D8.Info;case J.Hint:return D8.Ignore}}J.toSeverity=Z})(o5||(o5={}));(function(J){function X(Y){return Q(Y,!0)}J.makeKey=X;function Q(Y,Z){const G=[""];if(Y.source)G.push(Y.source.replace("\xA6","\\\xA6"));else G.push("");if(Y.code)if(typeof Y.code==="string")G.push(Y.code.replace("\xA6","\\\xA6"));else G.push(Y.code.value.replace("\xA6","\\\xA6"));else G.push("");if(Y.severity!==void 0&&Y.severity!==null)G.push(o5.toString(Y.severity));else G.push("");if(Y.message&&Z)G.push(Y.message.replace("\xA6","\\\xA6"));else G.push("");if(Y.startLineNumber!==void 0&&Y.startLineNumber!==null)G.push(Y.startLineNumber.toString());else G.push("");if(Y.startColumn!==void 0&&Y.startColumn!==null)G.push(Y.startColumn.toString());else G.push("");if(Y.endLineNumber!==void 0&&Y.endLineNumber!==null)G.push(Y.endLineNumber.toString());else G.push("");if(Y.endColumn!==void 0&&Y.endColumn!==null)G.push(Y.endColumn.toString());else G.push("");return G.push(""),G.join("\xA6")}J.makeKeyOptionalMessage=Q})(Xr||(Xr={}));v4=M0("markerService")});function Qr(J,$){const X=[],Q=[];for(let Y of J)if(!$.has(Y))X.push(Y);for(let Y of $)if(!J.has(Y))Q.push(Y);return{removed:X,added:Q}}function Yr(J,$){const X=new Set;for(let Q of $)if(J.has(Q))X.add(Q);return X}var Sk=N(()=>{});class Gr extends f{constructor(J){super();this.model=J,this._map=new CT,this._register(K0(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(J){const{added:$,removed:X}=Qr(new Set(this._map.keys()),new Set(J));if($.length===0&&X.length===0)return!1;const Q=X.map((G)=>this._map.get(G)),Y=$.map((G)=>{return{range:this._createDecorationRange(this.model,G),options:this._createDecorationOption(G)}}),Z=this.model.deltaDecorations(Q,Y);for(let G of X)this._map.delete(G);for(let G=0;G<Z.length;G++)this._map.set($[G],Z[G]);return!0}getMarker(J){return this._map.getKey(J.id)}_createDecorationRange(J,$){let X=L.lift($);if($.severity===o5.Hint&&!this._hasMarkerTag($,1)&&!this._hasMarkerTag($,2))X=X.setEndPosition(X.startLineNumber,X.startColumn+2);if(X=J.validateRange(X),X.isEmpty()){const Q=J.getLineLastNonWhitespaceColumn(X.startLineNumber)||J.getLineMaxColumn(X.startLineNumber);if(Q===1||X.endColumn>=Q)return X;const Y=J.getWordAtPosition(X.getStartPosition());if(Y)X=new L(X.startLineNumber,Y.startColumn,X.endLineNumber,Y.endColumn)}else if($.endColumn===Number.MAX_VALUE&&$.startColumn===1&&X.startLineNumber===X.endLineNumber){const Q=J.getLineFirstNonWhitespaceColumn($.startLineNumber);if(Q<X.endColumn)X=new L(X.startLineNumber,Q,X.endLineNumber,X.endColumn),$.startColumn=Q}return X}_createDecorationOption(J){let $,X=void 0,Q,Y=void 0,Z;switch(J.severity){case o5.Hint:if(this._hasMarkerTag(J,2))$=void 0;else if(this._hasMarkerTag(J,1))$="squiggly-unnecessary";else $="squiggly-hint";Q=0;break;case o5.Info:$="squiggly-info",X=$Q(rp),Q=10,Z={color:$Q(ug),position:LJ.Inline};break;case o5.Warning:$="squiggly-warning",X=$Q(ap),Q=20,Z={color:$Q(cg),position:LJ.Inline};break;case o5.Error:default:$="squiggly-error",X=$Q(sp),Q=30,Z={color:$Q(lg),position:LJ.Inline};break}if(J.tags){if(J.tags.indexOf(1)!==-1)Y="squiggly-inline-unnecessary";if(J.tags.indexOf(2)!==-1)Y="squiggly-inline-deprecated"}return{description:"marker-decoration",stickiness:1,className:$,showIfCollapsed:!0,overviewRuler:{color:X,position:Dq.Right},minimap:Z,zIndex:Q,inlineClassName:Y}}_hasMarkerTag(J,$){if(J.tags)return J.tags.indexOf($)>=0;return!1}}var F40,Zr,ZD;var qr=N(()=>{QU();X0();g5();r8();L4();_X();c0();z9();F0();L7();W4();Sk();F40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Zr=function(J,$){return function(X,Q){$(X,Q,J)}},ZD=class J extends f{constructor($,X){super();this._markerService=X,this._onDidChangeMarker=this._register(new y),this._markerDecorations=new x6,$.getModels().forEach((Q)=>this._onModelAdded(Q)),this._register($.onModelAdded(this._onModelAdded,this)),this._register($.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(($)=>$.dispose()),this._markerDecorations.clear()}getMarker($,X){const Q=this._markerDecorations.get($);return Q?Q.getMarker(X)||null:null}_handleMarkerChange($){$.forEach((X)=>{const Q=this._markerDecorations.get(X);if(Q)this._updateDecorations(Q)})}_onModelAdded($){const X=new Gr($);this._markerDecorations.set($.uri,X),this._updateDecorations(X)}_onModelRemoved($){var X;const Q=this._markerDecorations.get($.uri);if(Q)Q.dispose(),this._markerDecorations.delete($.uri);if($.uri.scheme===J1.inMemory||$.uri.scheme===J1.internal||$.uri.scheme===J1.vscode)(X=this._markerService)===null||X===void 0||X.read({resource:$.uri}).map((Y)=>Y.owner).forEach((Y)=>this._markerService.remove(Y,[$.uri]))}_updateDecorations($){const X=this._markerService.read({resource:$.model.uri,take:500});if($.update(X))this._onDidChangeMarker.fire($.model)}};ZD=F40([Zr(0,j6),Zr(1,v4)],ZD)});class Ur{constructor(J,$,X){this.model=J,this._modelEventListeners=new r,this.model=J,this._modelEventListeners.add(J.onWillDispose(()=>$(J))),this._modelEventListeners.add(J.onDidChangeLanguage((Q)=>X(J,Q)))}dispose(){this._modelEventListeners.dispose()}}class Hr{constructor(J,$,X,Q,Y,Z,G,q){this.uri=J,this.initialUndoRedoSnapshot=$,this.time=X,this.sharesUndoRedoStack=Q,this.heapSize=Y,this.sha1=Z,this.versionId=G,this.alternativeVersionId=q}}class GD{canComputeSHA1(J){return J.getValueLength()<=GD.MAX_MODEL_SIZE}computeSHA1(J){const $=new bH,X=J.createSnapshot();let Q;while(Q=X.read())$.update(Q);return $.digest()}}var B2,K40,tV,YU,A40,eV;var zr=N(()=>{F0();X0();O1();CY();eU();wJ();f9();VK();h7();uA();tQ();Cw();z9();B5();g7();B2=function(J){return J.toString()},K40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},tV=function(J,$){return function(X,Q){$(X,Q,J)}};A40=B8||a0?1:2;eV=YU=class J extends f{constructor($,X,Q,Y,Z){super();this._configurationService=$,this._resourcePropertiesService=X,this._undoRedoService=Q,this._languageService=Y,this._languageConfigurationService=Z,this._onModelAdded=this._register(new y),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new y),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new y),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration((G)=>this._updateModelOptions(G))),this._updateModelOptions(void 0)}static _readModelOptions($,X){var Q;let Y=P6.tabSize;if($.editor&&typeof $.editor.tabSize!=="undefined"){const W=parseInt($.editor.tabSize,10);if(!isNaN(W))Y=W;if(Y<1)Y=1}let Z="tabSize";if($.editor&&typeof $.editor.indentSize!=="undefined"&&$.editor.indentSize!=="tabSize"){const W=parseInt($.editor.indentSize,10);if(!isNaN(W))Z=Math.max(W,1)}let G=P6.insertSpaces;if($.editor&&typeof $.editor.insertSpaces!=="undefined")G=$.editor.insertSpaces==="false"?!1:Boolean($.editor.insertSpaces);let q=A40;const U=$.eol;if(U==="\r\n")q=2;else if(U==="\n")q=1;let H=P6.trimAutoWhitespace;if($.editor&&typeof $.editor.trimAutoWhitespace!=="undefined")H=$.editor.trimAutoWhitespace==="false"?!1:Boolean($.editor.trimAutoWhitespace);let z=P6.detectIndentation;if($.editor&&typeof $.editor.detectIndentation!=="undefined")z=$.editor.detectIndentation==="false"?!1:Boolean($.editor.detectIndentation);let V=P6.largeFileOptimizations;if($.editor&&typeof $.editor.largeFileOptimizations!=="undefined")V=$.editor.largeFileOptimizations==="false"?!1:Boolean($.editor.largeFileOptimizations);let j=P6.bracketPairColorizationOptions;if(((Q=$.editor)===null||Q===void 0?void 0:Q.bracketPairColorization)&&typeof $.editor.bracketPairColorization==="object")j={enabled:!!$.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!$.editor.bracketPairColorization.independentColorPoolPerBracketType};return{isForSimpleWidget:X,tabSize:Y,indentSize:Z,insertSpaces:G,detectIndentation:z,defaultEOL:q,trimAutoWhitespace:H,largeFileOptimizations:V,bracketPairColorizationOptions:j}}_getEOL($,X){if($)return this._resourcePropertiesService.getEOL($,X);const Q=this._configurationService.getValue("files.eol",{overrideIdentifier:X});if(Q&&typeof Q==="string"&&Q!=="auto")return Q;return C7===3||C7===2?"\n":"\r\n"}_shouldRestoreUndoStack(){const $=this._configurationService.getValue("files.restoreUndoStack");if(typeof $==="boolean")return $;return!0}getCreationOptions($,X,Q){const Y=typeof $==="string"?$:$.languageId;let Z=this._modelCreationOptionsByLanguageAndResource[Y+X];if(!Z){const G=this._configurationService.getValue("editor",{overrideIdentifier:Y,resource:X}),q=this._getEOL(X,Y);Z=YU._readModelOptions({editor:G,eol:q},Q),this._modelCreationOptionsByLanguageAndResource[Y+X]=Z}return Z}_updateModelOptions($){const X=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Q=Object.keys(this._models);for(let Y=0,Z=Q.length;Y<Z;Y++){const G=Q[Y],q=this._models[G],U=q.model.getLanguageId(),H=q.model.uri;if($&&!$.affectsConfiguration("editor",{overrideIdentifier:U,resource:H})&&!$.affectsConfiguration("files.eol",{overrideIdentifier:U,resource:H}))continue;const z=X[U+H],V=this.getCreationOptions(U,H,q.model.isForSimpleWidget);YU._setModelOptionsForModel(q.model,V,z)}}static _setModelOptionsForModel($,X,Q){if(Q&&Q.defaultEOL!==X.defaultEOL&&$.getLineCount()===1)$.setEOL(X.defaultEOL===1?0:1);if(Q&&Q.detectIndentation===X.detectIndentation&&Q.insertSpaces===X.insertSpaces&&Q.tabSize===X.tabSize&&Q.indentSize===X.indentSize&&Q.trimAutoWhitespace===X.trimAutoWhitespace&&I6(Q.bracketPairColorizationOptions,X.bracketPairColorizationOptions))return;if(X.detectIndentation)$.detectIndentation(X.insertSpaces,X.tabSize),$.updateOptions({trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions});else $.updateOptions({insertSpaces:X.insertSpaces,tabSize:X.tabSize,indentSize:X.indentSize,trimAutoWhitespace:X.trimAutoWhitespace,bracketColorizationOptions:X.bracketPairColorizationOptions})}_insertDisposedModel($){this._disposedModels.set(B2($.uri),$),this._disposedModelsHeapSize+=$.heapSize}_removeDisposedModel($){const X=this._disposedModels.get(B2($));if(X)this._disposedModelsHeapSize-=X.heapSize;return this._disposedModels.delete(B2($)),X}_ensureDisposedModelsHeapSize($){if(this._disposedModelsHeapSize>$){const X=[];this._disposedModels.forEach((Q)=>{if(!Q.sharesUndoRedoStack)X.push(Q)}),X.sort((Q,Y)=>Q.time-Y.time);while(X.length>0&&this._disposedModelsHeapSize>$){const Q=X.shift();if(this._removeDisposedModel(Q.uri),Q.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(Q.initialUndoRedoSnapshot)}}}_createModelData($,X,Q,Y){const Z=this.getCreationOptions(X,Q,Y),G=new WQ($,X,Z,Q,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Q&&this._disposedModels.has(B2(Q))){const H=this._removeDisposedModel(Q),z=this._undoRedoService.getElements(Q),V=this._getSHA1Computer(),j=V.canComputeSHA1(G)?V.computeSHA1(G)===H.sha1:!1;if(j||H.sharesUndoRedoStack){for(let W of z.past)if(p$(W)&&W.matchesResource(Q))W.setModel(G);for(let W of z.future)if(p$(W)&&W.matchesResource(Q))W.setModel(G);if(this._undoRedoService.setElementsValidFlag(Q,!0,(W)=>p$(W)&&W.matchesResource(Q)),j)G._overwriteVersionId(H.versionId),G._overwriteAlternativeVersionId(H.alternativeVersionId),G._overwriteInitialUndoRedoSnapshot(H.initialUndoRedoSnapshot)}else if(H.initialUndoRedoSnapshot!==null)this._undoRedoService.restoreSnapshot(H.initialUndoRedoSnapshot)}const q=B2(G.uri);if(this._models[q])throw new Error("ModelService: Cannot add model because it already exists!");const U=new Ur(G,(H)=>this._onWillDispose(H),(H,z)=>this._onDidChangeLanguage(H,z));return this._models[q]=U,U}createModel($,X,Q,Y=!1){let Z;if(X)Z=this._createModelData($,X,Q,Y);else Z=this._createModelData($,T6,Q,Y);return this._onModelAdded.fire(Z.model),Z.model}getModels(){const $=[],X=Object.keys(this._models);for(let Q=0,Y=X.length;Q<Y;Q++){const Z=X[Q];$.push(this._models[Z].model)}return $}getModel($){const X=B2($),Q=this._models[X];if(!Q)return null;return Q.model}_schemaShouldMaintainUndoRedoElements($){return $.scheme===J1.file||$.scheme===J1.vscodeRemote||$.scheme===J1.vscodeUserData||$.scheme===J1.vscodeNotebookCell||$.scheme==="fake-fs"}_onWillDispose($){const X=B2($.uri),Q=this._models[X],Y=this._undoRedoService.getUriComparisonKey($.uri)!==$.uri.toString();let Z=!1,G=0;if(Y||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements($.uri)){const H=this._undoRedoService.getElements($.uri);if(H.past.length>0||H.future.length>0){for(let z of H.past)if(p$(z)&&z.matchesResource($.uri))Z=!0,G+=z.heapSize($.uri),z.setModel($.uri);for(let z of H.future)if(p$(z)&&z.matchesResource($.uri))Z=!0,G+=z.heapSize($.uri),z.setModel($.uri)}}const q=YU.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,U=this._getSHA1Computer();if(!Z){if(!Y){const H=Q.model.getInitialUndoRedoSnapshot();if(H!==null)this._undoRedoService.restoreSnapshot(H)}}else if(!Y&&(G>q||!U.canComputeSHA1($))){const H=Q.model.getInitialUndoRedoSnapshot();if(H!==null)this._undoRedoService.restoreSnapshot(H)}else this._ensureDisposedModelsHeapSize(q-G),this._undoRedoService.setElementsValidFlag($.uri,!1,(H)=>p$(H)&&H.matchesResource($.uri)),this._insertDisposedModel(new Hr($.uri,Q.model.getInitialUndoRedoSnapshot(),Date.now(),Y,G,U.computeSHA1($),$.getVersionId(),$.getAlternativeVersionId()));delete this._models[X],Q.dispose(),delete this._modelCreationOptionsByLanguageAndResource[$.getLanguageId()+$.uri],this._onModelRemoved.fire($)}_onDidChangeLanguage($,X){const Q=X.oldLanguage,Y=$.getLanguageId(),Z=this.getCreationOptions(Q,$.uri,$.isForSimpleWidget),G=this.getCreationOptions(Y,$.uri,$.isForSimpleWidget);YU._setModelOptionsForModel($,G,Z),this._onModelModeChanged.fire({model:$,oldLanguageId:Q})}_getSHA1Computer(){return new GD}};eV.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520;eV=YU=K40([tV(0,S1),tV(1,zK),tV(2,N3),tV(3,e1),tV(4,N8)],eV);GD.MAX_MODEL_SIZE=10485760});var Vr=N(()=>{q1();V0(".quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight,.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight,.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.hc-light .quick-input-widget .monaco-highlighted-label .highlight,.hc-light .quick-input-widget .monaco-highlighted-label .highlight{color:#0f4a85}.monaco-keybinding>.monaco-keybinding-key{color:#555;background-color:#ddd6;border:1px solid #ccc6;border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6}.hc-black .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#fff;background-color:#0000;border:1px solid #6fc3df}.hc-light .monaco-keybinding>.monaco-keybinding-key{box-shadow:none;color:#292929;background-color:#0000;border:1px solid #0f4a85}.vs-dark .monaco-keybinding>.monaco-keybinding-key{color:#ccc;background-color:#8080802b;border:1px solid #3339;border-bottom-color:#4449;box-shadow:inset 0 -1px #4449}")});class jr{get templateId(){return this.renderer.templateId}constructor(J,$){this.renderer=J,this.modelProvider=$}renderTemplate(J){return{data:this.renderer.renderTemplate(J),disposable:f.None}}renderElement(J,$,X,Q){var Y;if((Y=X.disposable)===null||Y===void 0||Y.dispose(),!X.data)return;const Z=this.modelProvider();if(Z.isResolved(J))return this.renderer.renderElement(Z.get(J),J,X.data,Q);const G=new H6,q=Z.resolve(J,G.token);X.disposable={dispose:()=>G.cancel()},this.renderer.renderPlaceholder(J,X.data),q.then((U)=>this.renderer.renderElement(U,J,X.data,Q))}disposeTemplate(J){if(J.disposable)J.disposable.dispose(),J.disposable=void 0;if(J.data)this.renderer.disposeTemplate(J.data),J.data=void 0}}class Wr{constructor(J,$){this.modelProvider=J,this.accessibilityProvider=$}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(J){const $=this.modelProvider();if(!$.isResolved(J))return null;return this.accessibilityProvider.getAriaLabel($.get(J))}}class Ck{constructor(J,$,X,Q,Y={}){const Z=()=>this.model,G=Q.map((q)=>new jr(q,Z));this.list=new d7(J,$,X,G,P40(Z,Y))}updateOptions(J){this.list.updateOptions(J)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return J0.map(this.list.onMouseDblClick,({element:J,index:$,browserEvent:X})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:X}))}get onPointer(){return J0.map(this.list.onPointer,({element:J,index:$,browserEvent:X})=>({element:J===void 0?void 0:this._model.get(J),index:$,browserEvent:X}))}get onDidChangeSelection(){return J0.map(this.list.onDidChangeSelection,({elements:J,indexes:$,browserEvent:X})=>({elements:J.map((Q)=>this._model.get(Q)),indexes:$,browserEvent:X}))}get model(){return this._model}set model(J){this._model=J,this.list.splice(0,this.list.length,k6(J.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map((J)=>this.model.get(J))}style(J){this.list.style(J)}dispose(){this.list.dispose()}}var P40;var Br=N(()=>{H1();$7();F0();X0();Zk();G2();P40=function(J,$){return{...$,accessibilityProvider:$.accessibilityProvider&&new Wr(J,$.accessibilityProvider)}}});var Fr=N(()=>{q1();V0(":root{--vscode-sash-size:4px;--vscode-sash-hover-size:4px}.monaco-sash{z-index:35;touch-action:none;position:absolute}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;width:var(--vscode-sash-size);height:100%;top:0}.monaco-sash.horizontal{cursor:ns-resize;height:var(--vscode-sash-size);width:100%;left:0}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:\" \";height:calc(var(--vscode-sash-size)*2);width:calc(var(--vscode-sash-size)*2);z-index:100;cursor:all-scroll;display:block;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--vscode-sash-size)*-.5);top:calc(var(--vscode-sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--vscode-sash-size)*-.5);bottom:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--vscode-sash-size)*-.5);left:calc(var(--vscode-sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--vscode-sash-size)*-.5);right:calc(var(--vscode-sash-size)*-1)}.monaco-sash:before{content:\"\";pointer-events:none;background:0 0;width:100%;height:100%;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-sash:before{transition:background-color .1s ease-out}.monaco-sash.hover:before,.monaco-sash.active:before{background:var(--vscode-sash-hoverBorder)}.monaco-sash.vertical:before{width:var(--vscode-sash-hover-size);left:calc(50% - (var(--vscode-sash-hover-size)/2))}.monaco-sash.horizontal:before{height:var(--vscode-sash-hover-size);top:calc(50% - (var(--vscode-sash-hover-size)/2))}.pointer-events-disabled{pointer-events:none!important}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:#0ff3}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}")});class qD{constructor(J){this.el=J,this.disposables=new r}get onPointerMove(){return this.disposables.add(new Z1(B0(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new Z1(B0(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}class UD{get onPointerMove(){return this.disposables.add(new Z1(this.el,I1.Change)).event}get onPointerUp(){return this.disposables.add(new Z1(this.el,I1.End)).event}constructor(J){this.el=J,this.disposables=new r}dispose(){this.disposables.dispose()}}class $j{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(J){this.factory=J}dispose(){}}class B7 extends f{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(J){if(this._state===J)return;this.el.classList.toggle("disabled",J===0),this.el.classList.toggle("minimum",J===1),this.el.classList.toggle("maximum",J===2),this._state=J,this.onDidEnablementChange.fire(J)}set orthogonalStartSash(J){if(this._orthogonalStartSash===J)return;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),J){const $=(X)=>{if(this.orthogonalStartDragHandleDisposables.clear(),X!==0)this._orthogonalStartDragHandle=Z0(this.el,q0(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(K0(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Z1(this._orthogonalStartDragHandle,"mouseenter")).event(()=>B7.onMouseEnter(J),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Z1(this._orthogonalStartDragHandle,"mouseleave")).event(()=>B7.onMouseLeave(J),void 0,this.orthogonalStartDragHandleDisposables)};this.orthogonalStartSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalStartSash=J}set orthogonalEndSash(J){if(this._orthogonalEndSash===J)return;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),J){const $=(X)=>{if(this.orthogonalEndDragHandleDisposables.clear(),X!==0)this._orthogonalEndDragHandle=Z0(this.el,q0(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(K0(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Z1(this._orthogonalEndDragHandle,"mouseenter")).event(()=>B7.onMouseEnter(J),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Z1(this._orthogonalEndDragHandle,"mouseleave")).event(()=>B7.onMouseLeave(J),void 0,this.orthogonalEndDragHandleDisposables)};this.orthogonalEndSashDisposables.add(J.onDidEnablementChange.event($,this)),$(J.state)}this._orthogonalEndSash=J}constructor(J,$,X){super();if(this.hoverDelay=O40,this.hoverDelayer=this._register(new MJ(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new y),this._onDidStart=this._register(new y),this._onDidChange=this._register(new y),this._onDidReset=this._register(new y),this._onDidEnd=this._register(new y),this.orthogonalStartSashDisposables=this._register(new r),this.orthogonalStartDragHandleDisposables=this._register(new r),this.orthogonalEndSashDisposables=this._register(new r),this.orthogonalEndDragHandleDisposables=this._register(new r),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Z0(J,q0(".monaco-sash")),X.orthogonalEdge)this.el.classList.add(`orthogonal-edge-${X.orthogonalEdge}`);if(a0)this.el.classList.add("mac");const Q=this._register(new Z1(this.el,"mousedown")).event;this._register(Q((z)=>this.onPointerStart(z,new qD(J)),this));const Y=this._register(new Z1(this.el,"dblclick")).event;this._register(Y(this.onPointerDoublePress,this));const Z=this._register(new Z1(this.el,"mouseenter")).event;this._register(Z(()=>B7.onMouseEnter(this)));const G=this._register(new Z1(this.el,"mouseleave")).event;this._register(G(()=>B7.onMouseLeave(this))),this._register(w1.addTarget(this.el));const q=this._register(new Z1(this.el,I1.Start)).event;this._register(q((z)=>this.onPointerStart(z,new UD(this.el)),this));const U=this._register(new Z1(this.el,I1.Tap)).event;let H=void 0;if(this._register(U((z)=>{if(H){clearTimeout(H),H=void 0,this.onPointerDoublePress(z);return}clearTimeout(H),H=setTimeout(()=>H=void 0,250)},this)),typeof X.size==="number")if(this.size=X.size,X.orientation===0)this.el.style.width=`${this.size}px`;else this.el.style.height=`${this.size}px`;else this.size=R40,this._register(M40.event((z)=>{this.size=z,this.layout()}));if(this._register(T40.event((z)=>this.hoverDelay=z)),this.layoutProvider=$,this.orthogonalStartSash=X.orthogonalStartSash,this.orthogonalEndSash=X.orthogonalEndSash,this.orientation=X.orientation||0,this.orientation===1)this.el.classList.add("horizontal"),this.el.classList.remove("vertical");else this.el.classList.remove("horizontal"),this.el.classList.add("vertical");this.el.classList.toggle("debug",D40),this.layout()}onPointerStart(J,$){u0.stop(J);let X=!1;if(!J.__orthogonalSashEvent){const W=this.getOrthogonalSash(J);if(W)X=!0,J.__orthogonalSashEvent=!0,W.onPointerStart(J,new $j($))}if(this.linkedSash&&!J.__linkedSashEvent)J.__linkedSashEvent=!0,this.linkedSash.onPointerStart(J,new $j($));if(!this.state)return;const Q=this.el.ownerDocument.getElementsByTagName("iframe");for(let W of Q)W.classList.add(Kr);const{pageX:Y,pageY:Z,altKey:G}=J,q={startX:Y,currentX:Y,startY:Z,currentY:Z,altKey:G};this.el.classList.add("active"),this._onDidStart.fire(q);const U=O6(this.el),H=()=>{let W="";if(X)W="all-scroll";else if(this.orientation===1)if(this.state===1)W="s-resize";else if(this.state===2)W="n-resize";else W=a0?"row-resize":"ns-resize";else if(this.state===1)W="e-resize";else if(this.state===2)W="w-resize";else W=a0?"col-resize":"ew-resize";U.textContent=`* { cursor: ${W} !important; }`},z=new r;if(H(),!X)this.onDidEnablementChange.event(H,null,z);const V=(W)=>{u0.stop(W,!1);const B={startX:Y,currentX:W.pageX,startY:Z,currentY:W.pageY,altKey:G};this._onDidChange.fire(B)},j=(W)=>{u0.stop(W,!1),this.el.removeChild(U),this.el.classList.remove("active"),this._onDidEnd.fire(),z.dispose();for(let B of Q)B.classList.remove(Kr)};$.onPointerMove(V,null,z),$.onPointerUp(j,null,z),z.add($)}onPointerDoublePress(J){const $=this.getOrthogonalSash(J);if($)$._onDidReset.fire();if(this.linkedSash)this.linkedSash._onDidReset.fire();this._onDidReset.fire()}static onMouseEnter(J,$=!1){if(J.el.classList.contains("active"))J.hoverDelayer.cancel(),J.el.classList.add("hover");else J.hoverDelayer.trigger(()=>J.el.classList.add("hover"),J.hoverDelay).then(void 0,()=>{});if(!$&&J.linkedSash)B7.onMouseEnter(J.linkedSash,!0)}static onMouseLeave(J,$=!1){if(J.hoverDelayer.cancel(),J.el.classList.remove("hover"),!$&&J.linkedSash)B7.onMouseLeave(J.linkedSash,!0)}clearSashHoverState(){B7.onMouseLeave(this)}layout(){if(this.orientation===0){const J=this.layoutProvider;if(this.el.style.left=J.getVerticalSashLeft(this)-this.size/2+"px",J.getVerticalSashTop)this.el.style.top=J.getVerticalSashTop(this)+"px";if(J.getVerticalSashHeight)this.el.style.height=J.getVerticalSashHeight(this)+"px"}else{const J=this.layoutProvider;if(this.el.style.top=J.getHorizontalSashTop(this)-this.size/2+"px",J.getHorizontalSashLeft)this.el.style.left=J.getHorizontalSashLeft(this)+"px";if(J.getHorizontalSashWidth)this.el.style.width=J.getHorizontalSashWidth(this)+"px"}}getOrthogonalSash(J){var $;const X=($=J.initialTarget)!==null&&$!==void 0?$:J.target;if(!X||!(X instanceof HTMLElement))return;if(X.classList.contains("orthogonal-drag-handle"))return X.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash;return}dispose(){super.dispose(),this.el.remove()}}var ZU,D40,Jj,R40,M40,O40,T40,Kr;var HD=N(()=>{D0();w4();s9();u1();AY();F0();X0();O1();Fr();ZU=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},D40=!1;(function(J){J.North="north",J.South="south",J.East="east",J.West="west"})(Jj||(Jj={}));R40=4,M40=new y,O40=300,T40=new y;ZU([Y8],qD.prototype,"onPointerMove",null);ZU([Y8],qD.prototype,"onPointerUp",null);ZU([Y8],UD.prototype,"onPointerMove",null);ZU([Y8],UD.prototype,"onPointerUp",null);ZU([Y8],$j.prototype,"onPointerMove",null);ZU([Y8],$j.prototype,"onPointerUp",null);Kr="pointer-events-disabled"});var Ar=N(()=>{q1();V0(".monaco-split-view2{width:100%;height:100%;position:relative}.monaco-split-view2>.sash-container{pointer-events:none;width:100%;height:100%;position:absolute}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:initial}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{white-space:nowrap;width:100%;height:100%;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:initial;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:\" \";z-index:5;pointer-events:none;background-color:var(--separator-border);position:absolute;top:0;left:0}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:1px;height:100%}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{width:100%;height:1px}")});class xk{set size(J){this._size=J}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize==="undefined"}setVisible(J,$){var X,Q;if(J===this.visible)return;if(J)this.size=n6(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0;else this._cachedVisibleSize=typeof $==="number"?$:this.size,this.size=0;this.container.classList.toggle("visible",J);try{(Q=(X=this.view).setVisible)===null||Q===void 0||Q.call(X,J)}catch(Y){console.error("Splitview: Failed to set visible view"),console.error(Y)}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var J;return(J=this.view.proportionalLayout)!==null&&J!==void 0?J:!0}get snap(){return!!this.view.snap}set enabled(J){this.container.style.pointerEvents=J?"":"none"}constructor(J,$,X,Q){if(this.container=J,this.view=$,this.disposable=Q,this._cachedVisibleSize=void 0,typeof X==="number")this._size=X,this._cachedVisibleSize=void 0,J.classList.add("visible");else this._size=0,this._cachedVisibleSize=X.cachedVisibleSize}layout(J,$){this.layoutContainer(J);try{this.view.layout(this.size,J,$)}catch(X){console.error("Splitview: Failed to layout view"),console.error(X)}}dispose(){this.disposable.dispose()}}class Dr extends xk{layoutContainer(J){this.container.style.top=`${J}px`,this.container.style.height=`${this.size}px`}}class Rr extends xk{layoutContainer(J){this.container.style.left=`${J}px`,this.container.style.width=`${this.size}px`}}class bk extends f{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(J){for(let $ of this.sashItems)$.sash.orthogonalStartSash=J;this._orthogonalStartSash=J}set orthogonalEndSash(J){for(let $ of this.sashItems)$.sash.orthogonalEndSash=J;this._orthogonalEndSash=J}set startSnappingEnabled(J){if(this._startSnappingEnabled===J)return;this._startSnappingEnabled=J,this.updateSashEnablement()}set endSnappingEnabled(J){if(this._endSnappingEnabled===J)return;this._endSnappingEnabled=J,this.updateSashEnablement()}constructor(J,$={}){var X,Q,Y,Z,G;super();this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=LQ.Idle,this._onDidSashChange=this._register(new y),this._onDidSashReset=this._register(new y),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(X=$.orientation)!==null&&X!==void 0?X:0,this.inverseAltBehavior=(Q=$.inverseAltBehavior)!==null&&Q!==void 0?Q:!1,this.proportionalLayout=(Y=$.proportionalLayout)!==null&&Y!==void 0?Y:!0,this.getSashOrthogonalSize=$.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),J.appendChild(this.el),this.sashContainer=Z0(this.el,q0(".sash-container")),this.viewContainer=q0(".split-view-container"),this.scrollable=this._register(new CJ({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:(U)=>R6(B0(this.el),U)})),this.scrollableElement=this._register(new eX(this.viewContainer,{vertical:this.orientation===0?(Z=$.scrollbarVisibility)!==null&&Z!==void 0?Z:1:2,horizontal:this.orientation===1?(G=$.scrollbarVisibility)!==null&&G!==void 0?G:1:2},this.scrollable));const q=this._register(new Z1(this.viewContainer,"scroll")).event;if(this._register(q((U)=>{const H=this.scrollableElement.getScrollPosition(),z=Math.abs(this.viewContainer.scrollLeft-H.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,V=Math.abs(this.viewContainer.scrollTop-H.scrollTop)<=1?void 0:this.viewContainer.scrollTop;if(z!==void 0||V!==void 0)this.scrollableElement.setScrollPosition({scrollLeft:z,scrollTop:V})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((U)=>{if(U.scrollTopChanged)this.viewContainer.scrollTop=U.scrollTop;if(U.scrollLeftChanged)this.viewContainer.scrollLeft=U.scrollLeft})),Z0(this.el,this.scrollableElement.getDomNode()),this.style($.styles||N40),$.descriptor)this.size=$.descriptor.size,$.descriptor.views.forEach((U,H)=>{const z=e6(U.visible)||U.visible?U.size:{type:"invisible",cachedVisibleSize:U.size},V=U.view;this.doAddView(V,z,H,!0)}),this._contentSize=this.viewItems.reduce((U,H)=>U+H.size,0),this.saveProportions()}style(J){if(J.separatorBorder.isTransparent())this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border");else this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",J.separatorBorder.toString())}addView(J,$,X=this.viewItems.length,Q){this.doAddView(J,$,X,Q)}layout(J,$){const X=Math.max(this.size,this._contentSize);if(this.size=J,this.layoutContext=$,!this.proportions){const Q=k6(this.viewItems.length),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);this.resize(this.viewItems.length-1,J-X,void 0,Y,Z)}else{let Q=0;for(let Y=0;Y<this.viewItems.length;Y++){const Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number")Q+=G;else J-=Z.size}for(let Y=0;Y<this.viewItems.length;Y++){const Z=this.viewItems[Y],G=this.proportions[Y];if(typeof G==="number"&&Q>0)Z.size=n6(Math.round(G*J/Q),Z.minimumSize,Z.maximumSize)}}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){if(this.proportionalLayout&&this._contentSize>0)this.proportions=this.viewItems.map((J)=>J.proportionalLayout&&J.visible?J.size/this._contentSize:void 0)}onSashStart({sash:J,start:$,alt:X}){for(let G of this.viewItems)G.enabled=!1;const Q=this.sashItems.findIndex((G)=>G.sash===J),Y=x7(m(this.el.ownerDocument.body,"keydown",(G)=>Z(this.sashDragState.current,G.altKey)),m(this.el.ownerDocument.body,"keyup",()=>Z(this.sashDragState.current,!1))),Z=(G,q)=>{const U=this.viewItems.map((W)=>W.size);let{NEGATIVE_INFINITY:H,POSITIVE_INFINITY:z}=Number;if(this.inverseAltBehavior)q=!q;if(q)if(Q===this.sashItems.length-1){const B=this.viewItems[Q];H=(B.minimumSize-B.size)/2,z=(B.maximumSize-B.size)/2}else{const B=this.viewItems[Q+1];H=(B.size-B.maximumSize)/2,z=(B.size-B.minimumSize)/2}let V,j;if(!q){const W=k6(Q,-1),B=k6(Q+1,this.viewItems.length),K=W.reduce((w,C)=>w+(this.viewItems[C].minimumSize-U[C]),0),P=W.reduce((w,C)=>w+(this.viewItems[C].viewMaximumSize-U[C]),0),A=B.length===0?Number.POSITIVE_INFINITY:B.reduce((w,C)=>w+(U[C]-this.viewItems[C].minimumSize),0),D=B.length===0?Number.NEGATIVE_INFINITY:B.reduce((w,C)=>w+(U[C]-this.viewItems[C].viewMaximumSize),0),R=Math.max(K,D),M=Math.min(A,P),O=this.findFirstSnapIndex(W),_=this.findFirstSnapIndex(B);if(typeof O==="number"){const w=this.viewItems[O],C=Math.floor(w.viewMinimumSize/2);V={index:O,limitDelta:w.visible?R-C:R+C,size:w.size}}if(typeof _==="number"){const w=this.viewItems[_],C=Math.floor(w.viewMinimumSize/2);j={index:_,limitDelta:w.visible?M+C:M-C,size:w.size}}}this.sashDragState={start:G,current:G,index:Q,sizes:U,minDelta:H,maxDelta:z,alt:q,snapBefore:V,snapAfter:j,disposable:Y}};Z($,X)}onSashChange({current:J}){const{index:$,start:X,sizes:Q,alt:Y,minDelta:Z,maxDelta:G,snapBefore:q,snapAfter:U}=this.sashDragState;this.sashDragState.current=J;const H=J-X,z=this.resize($,H,Q,void 0,void 0,Z,G,q,U);if(Y){const V=$===this.sashItems.length-1,j=this.viewItems.map((D)=>D.size),W=V?$:$+1,B=this.viewItems[W],K=B.size-B.maximumSize,P=B.size-B.minimumSize,A=V?$-1:$+1;this.resize(A,-z,j,void 0,void 0,K,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(J){this._onDidSashChange.fire(J),this.sashDragState.disposable.dispose(),this.saveProportions();for(let $ of this.viewItems)$.enabled=!0}onViewChange(J,$){const X=this.viewItems.indexOf(J);if(X<0||X>=this.viewItems.length)return;if($=typeof $==="number"?$:J.size,$=n6($,J.minimumSize,J.maximumSize),this.inverseAltBehavior&&X>0)this.resize(X-1,Math.floor((J.size-$)/2)),this.distributeEmptySpace(),this.layoutViews();else J.size=$,this.relayout([X],void 0)}resizeView(J,$){if(J<0||J>=this.viewItems.length)return;if(this.state!==LQ.Idle)throw new Error("Cant modify splitview");this.state=LQ.Busy;try{const X=k6(this.viewItems.length).filter((G)=>G!==J),Q=[...X.filter((G)=>this.viewItems[G].priority===1),J],Y=X.filter((G)=>this.viewItems[G].priority===2),Z=this.viewItems[J];$=Math.round($),$=n6($,Z.minimumSize,Math.min(Z.maximumSize,this.size)),Z.size=$,this.relayout(Q,Y)}finally{this.state=LQ.Idle}}distributeViewSizes(){const J=[];let $=0;for(let G of this.viewItems)if(G.maximumSize-G.minimumSize>0)J.push(G),$+=G.size;const X=Math.floor($/J.length);for(let G of J)G.size=n6(X,G.minimumSize,G.maximumSize);const Q=k6(this.viewItems.length),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);this.relayout(Y,Z)}getViewSize(J){if(J<0||J>=this.viewItems.length)return-1;return this.viewItems[J].size}doAddView(J,$,X=this.viewItems.length,Q){if(this.state!==LQ.Idle)throw new Error("Cant modify splitview");this.state=LQ.Busy;try{const Y=q0(".split-view-view");if(X===this.viewItems.length)this.viewContainer.appendChild(Y);else this.viewContainer.insertBefore(Y,this.viewContainer.children.item(X));const Z=J.onDidChange((V)=>this.onViewChange(H,V)),G=K0(()=>this.viewContainer.removeChild(Y)),q=x7(Z,G);let U;if(typeof $==="number")U=$;else{if($.type==="auto")if(this.areViewsDistributed())$={type:"distribute"};else $={type:"split",index:$.index};if($.type==="split")U=this.getViewSize($.index)/2;else if($.type==="invisible")U={cachedVisibleSize:$.cachedVisibleSize};else U=J.minimumSize}const H=this.orientation===0?new Dr(Y,J,U,q):new Rr(Y,J,U,q);if(this.viewItems.splice(X,0,H),this.viewItems.length>1){const V={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},j=this.orientation===0?new B7(this.sashContainer,{getHorizontalSashTop:(w)=>this.getSashPosition(w),getHorizontalSashWidth:this.getSashOrthogonalSize},{...V,orientation:1}):new B7(this.sashContainer,{getVerticalSashLeft:(w)=>this.getSashPosition(w),getVerticalSashHeight:this.getSashOrthogonalSize},{...V,orientation:0}),W=this.orientation===0?(w)=>({sash:j,start:w.startY,current:w.currentY,alt:w.altKey}):(w)=>({sash:j,start:w.startX,current:w.currentX,alt:w.altKey}),K=J0.map(j.onDidStart,W)(this.onSashStart,this),A=J0.map(j.onDidChange,W)(this.onSashChange,this),R=J0.map(j.onDidEnd,()=>this.sashItems.findIndex((w)=>w.sash===j))(this.onSashEnd,this),M=j.onDidReset(()=>{const w=this.sashItems.findIndex((b)=>b.sash===j),C=k6(w,-1),x=k6(w+1,this.viewItems.length),g=this.findFirstSnapIndex(C),c=this.findFirstSnapIndex(x);if(typeof g==="number"&&!this.viewItems[g].visible)return;if(typeof c==="number"&&!this.viewItems[c].visible)return;this._onDidSashReset.fire(w)}),O=x7(K,A,R,M,j),_={sash:j,disposable:O};this.sashItems.splice(X-1,0,_)}Y.appendChild(J.element);let z;if(typeof $!=="number"&&$.type==="split")z=[$.index];if(!Q)this.relayout([X],z);if(!Q&&typeof $!=="number"&&$.type==="distribute")this.distributeViewSizes()}finally{this.state=LQ.Idle}}relayout(J,$){const X=this.viewItems.reduce((Q,Y)=>Q+Y.size,0);this.resize(this.viewItems.length-1,this.size-X,void 0,J,$),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(J,$,X=this.viewItems.map((H)=>H.size),Q,Y,Z=Number.NEGATIVE_INFINITY,G=Number.POSITIVE_INFINITY,q,U){if(J<0||J>=this.viewItems.length)return 0;const H=k6(J,-1),z=k6(J+1,this.viewItems.length);if(Y)for(let _ of Y)bW(H,_),bW(z,_);if(Q)for(let _ of Q)aU(H,_),aU(z,_);const V=H.map((_)=>this.viewItems[_]),j=H.map((_)=>X[_]),W=z.map((_)=>this.viewItems[_]),B=z.map((_)=>X[_]),K=H.reduce((_,w)=>_+(this.viewItems[w].minimumSize-X[w]),0),P=H.reduce((_,w)=>_+(this.viewItems[w].maximumSize-X[w]),0),A=z.length===0?Number.POSITIVE_INFINITY:z.reduce((_,w)=>_+(X[w]-this.viewItems[w].minimumSize),0),D=z.length===0?Number.NEGATIVE_INFINITY:z.reduce((_,w)=>_+(X[w]-this.viewItems[w].maximumSize),0),R=Math.max(K,D,Z),M=Math.min(A,P,G);let O=!1;if(q){const _=this.viewItems[q.index],w=$>=q.limitDelta;O=w!==_.visible,_.setVisible(w,q.size)}if(!O&&U){const _=this.viewItems[U.index],w=$<U.limitDelta;O=w!==_.visible,_.setVisible(w,U.size)}if(O)return this.resize(J,$,X,Q,Y,Z,G);$=n6($,R,M);for(let _=0,w=$;_<V.length;_++){const C=V[_],x=n6(j[_]+w,C.minimumSize,C.maximumSize),g=x-j[_];w-=g,C.size=x}for(let _=0,w=$;_<W.length;_++){const C=W[_],x=n6(B[_]-w,C.minimumSize,C.maximumSize),g=x-B[_];w+=g,C.size=x}return $}distributeEmptySpace(J){const $=this.viewItems.reduce((G,q)=>G+q.size,0);let X=this.size-$;const Q=k6(this.viewItems.length-1,-1),Y=Q.filter((G)=>this.viewItems[G].priority===1),Z=Q.filter((G)=>this.viewItems[G].priority===2);for(let G of Z)bW(Q,G);for(let G of Y)aU(Q,G);if(typeof J==="number")aU(Q,J);for(let G=0;X!==0&&G<Q.length;G++){const q=this.viewItems[Q[G]],U=n6(q.size+X,q.minimumSize,q.maximumSize),H=U-q.size;X-=H,q.size=U}}layoutViews(){this._contentSize=this.viewItems.reduce(($,X)=>$+X.size,0);let J=0;for(let $ of this.viewItems)$.layout(J,this.layoutContext),J+=$.size;this.sashItems.forEach(($)=>$.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){if(this.orientation===0)this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize});else this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let J=!1;const $=this.viewItems.map((q)=>J=q.size-q.minimumSize>0||J);J=!1;const X=this.viewItems.map((q)=>J=q.maximumSize-q.size>0||J),Q=[...this.viewItems].reverse();J=!1;const Y=Q.map((q)=>J=q.size-q.minimumSize>0||J).reverse();J=!1;const Z=Q.map((q)=>J=q.maximumSize-q.size>0||J).reverse();let G=0;for(let q=0;q<this.sashItems.length;q++){const{sash:U}=this.sashItems[q],H=this.viewItems[q];G+=H.size;const z=!($[q]&&Z[q+1]),V=!(X[q]&&Y[q+1]);if(z&&V){const j=k6(q,-1),W=k6(q+1,this.viewItems.length),B=this.findFirstSnapIndex(j),K=this.findFirstSnapIndex(W),P=typeof B==="number"&&!this.viewItems[B].visible,A=typeof K==="number"&&!this.viewItems[K].visible;if(P&&Y[q]&&(G>0||this.startSnappingEnabled))U.state=1;else if(A&&$[q]&&(G<this._contentSize||this.endSnappingEnabled))U.state=2;else U.state=0}else if(z&&!V)U.state=1;else if(!z&&V)U.state=2;else U.state=3}}getSashPosition(J){let $=0;for(let X=0;X<this.sashItems.length;X++)if($+=this.viewItems[X].size,this.sashItems[X].sash===J)return $;return 0}findFirstSnapIndex(J){for(let $ of J){const X=this.viewItems[$];if(!X.visible)continue;if(X.snap)return $}for(let $ of J){const X=this.viewItems[$];if(X.visible&&X.maximumSize-X.minimumSize>0)return;if(!X.visible&&X.snap)return $}return}areViewsDistributed(){let J=void 0,$=void 0;for(let X of this.viewItems)if(J=J===void 0?X.size:Math.min(J,X.size),$=$===void 0?X.size:Math.max($,X.size),$-J>2)return!1;return!0}dispose(){var J;(J=this.sashDragState)===null||J===void 0||J.disposable.dispose(),k1(this.viewItems),this.viewItems=[],this.sashItems.forEach(($)=>$.disposable.dispose()),this.sashItems=[],super.dispose()}}var N40,LQ,Pr;var Mr=N(()=>{D0();w4();HD();_4();H1();u5();F0();X0();y3();$3();G8();Ar();N40={separatorBorder:l.transparent};(function(J){J[J.Idle=0]="Idle",J[J.Busy=1]="Busy"})(LQ||(LQ={}));(function(J){J.Distribute={type:"distribute"};function $(Y){return{type:"split",index:Y}}J.Split=$;function X(Y){return{type:"auto",index:Y}}J.Auto=X;function Q(Y){return{type:"invisible",cachedVisibleSize:Y}}J.Invisible=Q})(Pr||(Pr={}))});var Or=N(()=>{q1();V0(".monaco-table{white-space:nowrap;flex-direction:column;width:100%;height:100%;display:flex;position:relative;overflow:hidden}.monaco-table>.monaco-split-view2{border-bottom:1px solid #0000}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{height:100%;display:flex}.monaco-table-th{text-overflow:ellipsis;width:100%;height:100%;font-weight:700;overflow:hidden}.monaco-table-th,.monaco-table-td{box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;flex-shrink:0;overflow:hidden}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:\"\";left:calc(var(--vscode-sash-size)/2);border-left:1px solid #0000;width:0;position:absolute}.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2,.monaco-workbench:not(.reduce-motion) .monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}")});class Xj{constructor(J,$,X){this.columns=J,this.getColumnSize=X,this.templateId=Xj.TemplateId,this.renderedTemplates=new Set;const Q=new Map($.map((Y)=>[Y.templateId,Y]));this.renderers=[];for(let Y of J){const Z=Q.get(Y.templateId);if(!Z)throw new Error(`Table cell renderer for template id ${Y.templateId} not found.`);this.renderers.push(Z)}}renderTemplate(J){const $=Z0(J,q0(".monaco-table-tr")),X=[],Q=[];for(let Z=0;Z<this.columns.length;Z++){const G=this.renderers[Z],q=Z0($,q0(".monaco-table-td",{"data-col-index":Z}));q.style.width=`${this.getColumnSize(Z)}px`,X.push(q),Q.push(G.renderTemplate(q))}const Y={container:J,cellContainers:X,cellTemplateData:Q};return this.renderedTemplates.add(Y),Y}renderElement(J,$,X,Q){for(let Y=0;Y<this.columns.length;Y++){const G=this.columns[Y].project(J);this.renderers[Y].renderElement(G,$,X.cellTemplateData[Y],Q)}}disposeElement(J,$,X,Q){for(let Y=0;Y<this.columns.length;Y++){const Z=this.renderers[Y];if(Z.disposeElement){const q=this.columns[Y].project(J);Z.disposeElement(q,$,X.cellTemplateData[Y],Q)}}}disposeTemplate(J){for(let $=0;$<this.columns.length;$++)this.renderers[$].disposeTemplate(J.cellTemplateData[$]);C6(J.container),this.renderedTemplates.delete(J)}layoutColumn(J,$){for(let{cellContainers:X}of this.renderedTemplates)X[J].style.width=`${$}px`}}class Tr{get minimumSize(){var J;return(J=this.column.minimumWidth)!==null&&J!==void 0?J:120}get maximumSize(){var J;return(J=this.column.maximumWidth)!==null&&J!==void 0?J:Number.POSITIVE_INFINITY}get onDidChange(){var J;return(J=this.column.onDidChangeWidthConstraints)!==null&&J!==void 0?J:J0.None}constructor(J,$){this.column=J,this.index=$,this._onDidLayout=new y,this.onDidLayout=this._onDidLayout.event,this.element=q0(".monaco-table-th",{"data-col-index":$,title:J.tooltip},J.label)}layout(J){this._onDidLayout.fire([this.index,J])}}class Qj{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(J,$,X,Q,Y,Z){this.virtualDelegate=X,this.domId=`table_id_${++Qj.InstanceCount}`,this.disposables=new r,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Z0($,q0(`.monaco-table.${this.domId}`));const G=Q.map((H,z)=>new Tr(H,z)),q={size:G.reduce((H,z)=>H+z.column.weight,0),views:G.map((H)=>({size:H.column.weight,view:H}))};this.splitview=this.disposables.add(new bk(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:q})),this.splitview.el.style.height=`${X.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${X.headerRowHeight}px`;const U=new Xj(Q,Y,(H)=>this.splitview.getViewSize(H));this.list=this.disposables.add(new d7(J,this.domNode,_40(X),[U],Z)),J0.any(...G.map((H)=>H.onDidLayout))(([H,z])=>U.layoutColumn(H,z),null,this.disposables),this.splitview.onDidSashReset((H)=>{const z=Q.reduce((j,W)=>j+W.weight,0),V=Q[H].weight/z*this.cachedWidth;this.splitview.resizeView(H,V)},null,this.disposables),this.styleElement=O6(this.domNode),this.style(Ra)}updateOptions(J){this.list.updateOptions(J)}splice(J,$,X=[]){this.list.splice(J,$,X)}getHTMLElement(){return this.domNode}style(J){const $=[];$.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=$.join("\n"),this.list.style(J)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}var _40;var Nr=N(()=>{D0();G2();Mr();F0();X0();Or();_40=function(J){return{getHeight($){return J.getHeight($)},getTemplateId(){return Xj.TemplateId}}};Xj.TemplateId="row";Qj.InstanceCount=0});var _r=N(()=>{q1();V0(".monaco-custom-toggle{float:left;cursor:pointer;box-sizing:border-box;-webkit-user-select:none;user-select:none;border:1px solid #0000;border-radius:3px;width:20px;height:20px;margin-left:2px;padding:1px;overflow:hidden}.monaco-custom-toggle:hover{background-color:var(--vscode-inputOption-hoverBackground)}.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{border:1px dashed var(--vscode-focusBorder)}.hc-black .monaco-custom-toggle,.hc-light .monaco-custom-toggle,.hc-black .monaco-custom-toggle:hover,.hc-light .monaco-custom-toggle:hover{background:0 0}.monaco-custom-toggle.monaco-checkbox{opacity:1;border:1px solid #0000;border-radius:3px;width:18px;height:18px;margin-left:0;margin-right:9px;padding:0;background-size:16px!important}.monaco-action-bar .checkbox-action-item{align-items:center;display:flex}.monaco-action-bar .checkbox-action-item>.monaco-custom-toggle.monaco-checkbox{margin-right:4px}.monaco-action-bar .checkbox-action-item>.checkbox-label{font-size:12px}.monaco-custom-toggle.monaco-checkbox:not(.checked):before{visibility:hidden}")});class t$ extends q7{constructor(J){super();this._onChange=this._register(new y),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._opts=J,this._checked=this._opts.isChecked;const $=["monaco-custom-toggle"];if(this._opts.icon)this._icon=this._opts.icon,$.push(...y0.asClassNameArray(this._icon));if(this._opts.actionClassName)$.push(...this._opts.actionClassName.split(" "));if(this._checked)$.push("checked");if(this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...$),!this._opts.notFocusable)this.domNode.tabIndex=0;this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(X)=>{if(this.enabled)this.checked=!this._checked,this._onChange.fire(!1),X.preventDefault()}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(X)=>{if(X.keyCode===10||X.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),X.preventDefault(),X.stopPropagation();return}this._onKeyDown.fire(X)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(J){this._checked=J,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){if(this.domNode)this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||""}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var Yj=N(()=>{k$();W6();F0();_r()});class vk extends t${constructor(J){super({icon:U0.caseSensitive,title:w40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class fk extends t${constructor(J){super({icon:U0.wholeWord,title:L40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class hk extends t${constructor(J){super({icon:U0.regex,title:E40+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}var w40,L40,E40;var wr=N(()=>{Yj();z6();h0();w40=F("caseDescription","Match Case"),L40=F("wordsDescription","Match Whole Word"),E40=F("regexDescription","Use Regular Expression")});class gk{constructor(J,$=0,X=J.length,Q=$-1){this.items=J,this.start=$,this.end=X,this.index=Q}current(){if(this.index===this.start-1||this.index===this.end)return null;return this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}var Lr=N(()=>{});class pk{constructor(J=[],$=10){this._initialize(J),this._limit=$,this._onChange()}getHistory(){return this._elements}add(J){this._history.delete(J),this._history.add(J),this._onChange()}next(){return this._navigator.next()}previous(){if(this._currentPosition()!==0)return this._navigator.previous();return null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(J){return this._history.has(J)}_onChange(){this._reduceToLimit();const J=this._elements;this._navigator=new gk(J,0,J.length,J.length)}_reduceToLimit(){const J=this._elements;if(J.length>this._limit)this._initialize(J.slice(J.length-this._limit))}_currentPosition(){const J=this._navigator.current();if(!J)return-1;return this._elements.indexOf(J)}_initialize(J){this._history=new Set;for(let $ of J)this._history.add($)}get _elements(){const J=[];return this._history.forEach(($)=>J.push($)),J}}var Er=N(()=>{Lr()});var kr=N(()=>{q1();V0(".monaco-inputbox{box-sizing:border-box;font-size:inherit;border-radius:2px;padding:0;display:block;position:relative}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px 6px}.monaco-inputbox>.ibwrapper{width:100%;height:100%;position:relative}.monaco-inputbox>.ibwrapper>.input{box-sizing:border-box;line-height:inherit;font-family:inherit;font-size:inherit;resize:none;color:inherit;border:none;width:100%;height:100%;display:inline-block}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{scrollbar-width:none;outline:none;display:block}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word;width:100%;display:inline-block;position:absolute;top:0;left:0}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{text-align:left;box-sizing:border-box;word-wrap:break-word;width:100%;margin-top:-1px;padding:.4em;font-size:12px;line-height:17px;display:inline-block;overflow:hidden}.monaco-inputbox .monaco-action-bar{position:absolute;top:4px;right:2px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}")});class Ir extends q7{constructor(J,$,X){var Q;super();if(this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new y),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new y),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=$,this.options=X,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(Q=this.options.tooltip)!==null&&Q!==void 0?Q:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions)this.validation=this.options.validationOptions.validation;this.element=Z0(J,Zj(".monaco-inputbox.idle"));const Y=this.options.flexibleHeight?"textarea":"input",Z=Z0(this.element,Zj(".ibwrapper"));if(this.input=Z0(Z,Zj(Y+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){if(this.maxHeight=typeof this.options.flexibleMaxHeight==="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Z0(Z,Zj("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new vN(this.element,{vertical:1}),this.options.flexibleWidth)this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial";Z0(J,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((U)=>this.input.scrollTop=U.scrollTop));const G=this._register(new Z1(J.ownerDocument,"selectionchange")),q=J0.filter(G.event,()=>{const U=J.ownerDocument.getSelection();return(U===null||U===void 0?void 0:U.anchorNode)===Z});this._register(q(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");if(this.ariaLabel)this.input.setAttribute("aria-label",this.ariaLabel);if(this.placeholder&&!this.options.showPlaceholderOnFocus)this.setPlaceHolder(this.placeholder);if(this.tooltip)this.setTooltip(this.tooltip);if(this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions)this.actionbar=this._register(new W7(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1});this.applyStyles()}onBlur(){if(this._hideMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder","")}onFocus(){if(this._showMessage(),this.options.showPlaceholderOnFocus)this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(J){this.placeholder=J,this.input.setAttribute("placeholder",J)}setTooltip(J){this.tooltip=J,this.input.title=J}get inputElement(){return this.input}get value(){return this.input.value}set value(J){if(this.input.value!==J)this.input.value=J,this.onValueChange()}get height(){return typeof this.cachedHeight==="number"?this.cachedHeight:gH(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return JG(this.input)}select(J=null){if(this.input.select(),J){if(this.input.setSelectionRange(J.start,J.end),J.end===this.input.value.length)this.input.scrollLeft=this.input.scrollWidth}}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(J){if(this.input.style.width=`calc(100% - ${J}px)`,this.mirror)this.mirror.style.paddingRight=J+"px"}updateScrollDimensions(){if(typeof this.cachedContentHeight!=="number"||typeof this.cachedHeight!=="number"||!this.scrollableElement)return;const J=this.cachedContentHeight,$=this.cachedHeight,X=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:J,height:$}),this.scrollableElement.setScrollPosition({scrollTop:X})}showMessage(J,$){if(this.state==="open"&&I6(this.message,J))return;this.message=J,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(J.type));const X=this.stylesForType(this.message.type);if(this.element.style.border=`1px solid ${y9(X.border,"transparent")}`,this.message.content&&(this.hasFocus()||$))this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let J=null;if(this.validation){if(J=this.validation(this.value),J)this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(J);else if(this.inputElement.hasAttribute("aria-invalid"))this.inputElement.removeAttribute("aria-invalid"),this.hideMessage()}return J===null||J===void 0?void 0:J.type}stylesForType(J){const $=this.options.inputBoxStyles;switch(J){case 1:return{border:$.inputValidationInfoBorder,background:$.inputValidationInfoBackground,foreground:$.inputValidationInfoForeground};case 2:return{border:$.inputValidationWarningBorder,background:$.inputValidationWarningBackground,foreground:$.inputValidationWarningForeground};default:return{border:$.inputValidationErrorBorder,background:$.inputValidationErrorBackground,foreground:$.inputValidationErrorForeground}}}classForType(J){switch(J){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let J;const $=()=>J.style.width=jq(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:(Q)=>{var Y,Z;if(!this.message)return null;J=Z0(Q,Zj(".monaco-inputbox-container")),$();const G={inline:!0,className:"monaco-inputbox-message"},q=this.message.formatContent?xd(this.message.content,G):Cd(this.message.content,G);q.classList.add(this.classForType(this.message.type));const U=this.stylesForType(this.message.type);return q.style.backgroundColor=(Y=U.background)!==null&&Y!==void 0?Y:"",q.style.color=(Z=U.foreground)!==null&&Z!==void 0?Z:"",q.style.border=U.border?`1px solid ${U.border}`:"",Z0(J,q),null},onHide:()=>{this.state="closed"},layout:$});let X;if(this.message.type===3)X=F("alertErrorMessage","Error: {0}",this.message.content);else if(this.message.type===2)X=F("alertWarningMessage","Warning: {0}",this.message.content);else X=F("alertInfoMessage","Info: {0}",this.message.content);xq(X),this.state="open"}_hideMessage(){if(!this.contextViewProvider)return;if(this.state==="open")this.contextViewProvider.hideContextView();this.state="idle"}onValueChange(){if(this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider)this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const J=this.value,X=J.charCodeAt(J.length-1)===10?" ":"";if((J+X).replace(/\u000c/g,""))this.mirror.textContent=J+X;else this.mirror.innerText="\xA0";this.layout()}applyStyles(){var J,$,X;const Q=this.options.inputBoxStyles,Y=(J=Q.inputBackground)!==null&&J!==void 0?J:"",Z=($=Q.inputForeground)!==null&&$!==void 0?$:"",G=(X=Q.inputBorder)!==null&&X!==void 0?X:"";this.element.style.backgroundColor=Y,this.element.style.color=Z,this.input.style.backgroundColor="inherit",this.input.style.color=Z,this.element.style.border=`1px solid ${y9(G,"transparent")}`}layout(){if(!this.mirror)return;const J=this.cachedContentHeight;if(this.cachedContentHeight=gH(this.mirror),J!==this.cachedContentHeight)this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight)}insertAtCursor(J){const $=this.inputElement,X=$.selectionStart,Q=$.selectionEnd,Y=$.value;if(X!==null&&Q!==null)this.value=Y.substr(0,X)+J+Y.substr(Q),$.setSelectionRange(X+1,X+1),this.layout()}dispose(){var J;this._hideMessage(),this.message=null,(J=this.actionbar)===null||J===void 0||J.dispose(),super.dispose()}}class Gj extends Ir{constructor(J,$,X){const Q=F({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," or {0} for history","\u21C5"),Y=F({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is \u21C5 to represent the up and down arrow keys.']}," ({0} for history)","\u21C5");super(J,$,X);this._onDidFocus=this._register(new y),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new y),this.onDidBlur=this._onDidBlur.event,this.history=new pk(X.history,100);const Z=()=>{if(X.showHistoryHint&&X.showHistoryHint()&&!this.placeholder.endsWith(Q)&&!this.placeholder.endsWith(Y)&&this.history.getHistory().length){const G=this.placeholder.endsWith(")")?Q:Y,q=this.placeholder+G;if(X.showPlaceholderOnFocus&&!JG(this.input))this.placeholder=q;else this.setPlaceHolder(q)}};this.observer=new MutationObserver((G,q)=>{G.forEach((U)=>{if(!U.target.textContent)Z()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Z()),this.onblur(this.input,()=>{const G=(q)=>{if(!this.placeholder.endsWith(q))return!1;else{const U=this.placeholder.slice(0,this.placeholder.length-q.length);if(X.showPlaceholderOnFocus)this.placeholder=U;else this.setPlaceHolder(U);return!0}};if(!G(Y))G(Q)})}dispose(){if(super.dispose(),this.observer)this.observer.disconnect(),this.observer=void 0}addToHistory(J){if(this.value&&(J||this.value!==this.getCurrentValue()))this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getNextValue();if(J)J=J===this.value?this.getNextValue():J;this.value=J!==null&&J!==void 0?J:"",P$(this.value?this.value:F("clearedInput","Cleared Input"))}showPreviousValue(){if(!this.history.has(this.value))this.addToHistory();let J=this.getPreviousValue();if(J)J=J===this.value?this.getPreviousValue():J;if(J)this.value=J,P$(this.value)}setPlaceHolder(J){super.setPlaceHolder(J),this.setTooltip(J)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let J=this.history.current();if(!J)J=this.history.last(),this.history.next();return J}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}var Zj;var zD=N(()=>{D0();w4();AE();o$();VY();_4();k$();F0();Er();B5();kr();h0();Zj=q0});var mk=N(()=>{q1();V0(".monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{width:100%;font-size:13px}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls,.hc-light .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-0}.monaco-findInput.highlight-1 .controls,.hc-light .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-1}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:.1s linear monaco-findInput-highlight-dark-0}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:.1s linear monaco-findInput-highlight-dark-1}@keyframes monaco-findInput-highlight-0{0%{background:#fdff00cc}to{background:0 0}}@keyframes monaco-findInput-highlight-1{0%{background:#fdff00cc}99%{background:0 0}}@keyframes monaco-findInput-highlight-dark-0{0%{background:#ffffff70}to{background:0 0}}@keyframes monaco-findInput-highlight-dark-1{0%{background:#ffffff70}99%{background:0 0}}")});class GU extends q7{constructor(J,$,X){super();this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new m6),this.additionalToggles=[],this._onDidOptionChange=this._register(new y),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y),this._onKeyUp=this._register(new y),this._onCaseSensitiveKeyDown=this._register(new y),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=X.placeholder||"",this.validation=X.validation,this.label=X.label||k40,this.showCommonFindToggles=!!X.showCommonFindToggles;const Q=X.appendCaseSensitiveLabel||"",Y=X.appendWholeWordsLabel||"",Z=X.appendRegexLabel||"",G=X.history||[],q=!!X.flexibleHeight,U=!!X.flexibleWidth,H=X.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Gj(this.domNode,$,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:G,showHistoryHint:X.showHistoryHint,flexibleHeight:q,flexibleWidth:U,flexibleMaxHeight:H,inputBoxStyles:X.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new hk({appendTitle:Z,isChecked:!1,...X.toggleStyles})),this._register(this.regex.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.regex.onKeyDown((V)=>{this._onRegexKeyDown.fire(V)})),this.wholeWords=this._register(new fk({appendTitle:Y,isChecked:!1,...X.toggleStyles})),this._register(this.wholeWords.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this.caseSensitive=this._register(new vk({appendTitle:Q,isChecked:!1,...X.toggleStyles})),this._register(this.caseSensitive.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.caseSensitive.onKeyDown((V)=>{this._onCaseSensitiveKeyDown.fire(V)}));const z=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(V)=>{if(V.equals(15)||V.equals(17)||V.equals(9)){const j=z.indexOf(this.domNode.ownerDocument.activeElement);if(j>=0){let W=-1;if(V.equals(17))W=(j+1)%z.length;else if(V.equals(15))if(j===0)W=z.length-1;else W=j-1;if(V.equals(9))z[j].blur(),this.inputBox.focus();else if(W>=0)z[W].focus();u0.stop(V,!0)}}})}if(this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive)this.controls.append(this.caseSensitive.domNode);if(this.wholeWords)this.controls.appendChild(this.wholeWords.domNode);if(this.regex)this.controls.appendChild(this.regex.domNode);if(this.setAdditionalToggles(X===null||X===void 0?void 0:X.additionalToggles),this.controls)this.domNode.appendChild(this.controls);J===null||J===void 0||J.appendChild(this.domNode),this._register(m(this.inputBox.inputElement,"compositionstart",(z)=>{this.imeSessionInProgress=!0})),this._register(m(this.inputBox.inputElement,"compositionend",(z)=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,(z)=>this._onKeyDown.fire(z)),this.onkeyup(this.inputBox.inputElement,(z)=>this._onKeyUp.fire(z)),this.oninput(this.inputBox.inputElement,(z)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(z)=>this._onMouseDown.fire(z))}get onDidChange(){return this.inputBox.onDidChange}layout(J){this.inputBox.layout(),this.updateInputBoxPadding(J.collapsedFindWidget)}enable(){var J,$,X;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(J=this.regex)===null||J===void 0||J.enable(),($=this.wholeWords)===null||$===void 0||$.enable(),(X=this.caseSensitive)===null||X===void 0||X.enable();for(let Q of this.additionalToggles)Q.enable()}disable(){var J,$,X;this.domNode.classList.add("disabled"),this.inputBox.disable(),(J=this.regex)===null||J===void 0||J.disable(),($=this.wholeWords)===null||$===void 0||$.disable(),(X=this.caseSensitive)===null||X===void 0||X.disable();for(let Q of this.additionalToggles)Q.disable()}setFocusInputOnOptionClick(J){this.fixFocusOnOptionClickEnabled=J}setEnabled(J){if(J)this.enable();else this.disable()}setAdditionalToggles(J){for(let $ of this.additionalToggles)$.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new r;for(let $ of J!==null&&J!==void 0?J:[])this.additionalTogglesDisposables.value.add($),this.controls.appendChild($.domNode),this.additionalTogglesDisposables.value.add($.onChange((X)=>{if(this._onDidOptionChange.fire(X),!X&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus()})),this.additionalToggles.push($);if(this.additionalToggles.length>0)this.controls.style.display="";this.updateInputBoxPadding()}updateInputBoxPadding(J=!1){var $,X,Q,Y,Z,G;if(J)this.inputBox.paddingRight=0;else this.inputBox.paddingRight=((X=($=this.caseSensitive)===null||$===void 0?void 0:$.width())!==null&&X!==void 0?X:0)+((Y=(Q=this.wholeWords)===null||Q===void 0?void 0:Q.width())!==null&&Y!==void 0?Y:0)+((G=(Z=this.regex)===null||Z===void 0?void 0:Z.width())!==null&&G!==void 0?G:0)+this.additionalToggles.reduce((q,U)=>q+U.width(),0)}getValue(){return this.inputBox.value}setValue(J){if(this.inputBox.value!==J)this.inputBox.value=J}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var J,$;return($=(J=this.caseSensitive)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setCaseSensitive(J){if(this.caseSensitive)this.caseSensitive.checked=J}getWholeWords(){var J,$;return($=(J=this.wholeWords)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setWholeWords(J){if(this.wholeWords)this.wholeWords.checked=J}getRegex(){var J,$;return($=(J=this.regex)===null||J===void 0?void 0:J.checked)!==null&&$!==void 0?$:!1}setRegex(J){if(this.regex)this.regex.checked=J,this.validate()}focusOnCaseSensitive(){var J;(J=this.caseSensitive)===null||J===void 0||J.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(J){this.inputBox.showMessage(J)}clearMessage(){this.inputBox.hideMessage()}}var k40;var VD=N(()=>{D0();wr();zD();k$();F0();mk();h0();X0();k40=F("defaultLabel","input")});class k7 extends Error{constructor(J,$){super(`TreeError [${J}] ${$}`)}}class qU{constructor(J){this.fn=J,this._map=new WeakMap}map(J){let $=this._map.get(J);if(!$)$=this.fn(J),this._map.set(J,$);return $}}var _5,dY;var UU=N(()=>{(function(J){J[J.Expanded=0]="Expanded",J[J.Collapsed=1]="Collapsed",J[J.PreserveOrExpanded=2]="PreserveOrExpanded",J[J.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(_5||(_5={}));(function(J){J[J.Unknown=0]="Unknown",J[J.Twistie=1]="Twistie",J[J.Element=2]="Element",J[J.Filter=3]="Filter"})(dY||(dY={}))});function qj(J){return typeof J==="object"&&"visibility"in J&&"data"in J}function F2(J){switch(J){case!0:return 1;case!1:return 0;default:return J}}class ck{constructor(J,$,X,Q={}){this.user=J,this.list=$,this.rootRef=[],this.eventBufferer=new CZ,this._onDidChangeCollapseState=new y,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new y,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new y,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new MJ(RF),this.collapseByDefault=typeof Q.collapseByDefault==="undefined"?!1:Q.collapseByDefault,this.filter=Q.filter,this.autoExpandSingleChildren=typeof Q.autoExpandSingleChildren==="undefined"?!1:Q.autoExpandSingleChildren,this.root={parent:void 0,element:X,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(J,$,X=W1.empty(),Q={}){if(J.length===0)throw new k7(this.user,"Invalid tree location");if(Q.diffIdentityProvider)this.spliceSmart(Q.diffIdentityProvider,J,$,X,Q);else this.spliceSimple(J,$,X,Q)}spliceSmart(J,$,X,Q,Y,Z){var G;if(Q===void 0)Q=W1.empty();if(Z===void 0)Z=(G=Y.diffDepth)!==null&&G!==void 0?G:0;const{parentNode:q}=this.getParentNodeWithListIndex($);if(!q.lastDiffIds)return this.spliceSimple($,X,Q,Y);const U=[...Q],H=$[$.length-1],z=new z4({getElements:()=>q.lastDiffIds},{getElements:()=>[...q.children.slice(0,H),...U,...q.children.slice(H+X)].map((K)=>J.getId(K.element).toString())}).ComputeDiff(!1);if(z.quitEarly)return q.lastDiffIds=void 0,this.spliceSimple($,X,U,Y);const V=$.slice(0,-1),j=(K,P,A)=>{if(Z>0)for(let D=0;D<A;D++)K--,P--,this.spliceSmart(J,[...V,K,0],Number.MAX_SAFE_INTEGER,U[P].children,Y,Z-1)};let W=Math.min(q.children.length,H+X),B=U.length;for(let K of z.changes.sort((P,A)=>A.originalStart-P.originalStart))j(W,B,W-(K.originalStart+K.originalLength)),W=K.originalStart,B=K.modifiedStart-H,this.spliceSimple([...V,W],K.originalLength,W1.slice(U,B,B+K.modifiedLength),Y);j(W,B,W)}spliceSimple(J,$,X=W1.empty(),{onDidCreateNode:Q,onDidDeleteNode:Y,diffIdentityProvider:Z}){const{parentNode:G,listIndex:q,revealed:U,visible:H}=this.getParentNodeWithListIndex(J),z=[],V=W1.map(X,(M)=>this.createTreeNode(M,G,G.visible?1:0,U,z,Q)),j=J[J.length-1];let W=0;for(let M=j;M>=0&&M<G.children.length;M--){const O=G.children[M];if(O.visible){W=O.visibleChildIndex;break}}const B=[];let K=0,P=0;for(let M of V)if(B.push(M),P+=M.renderNodeCount,M.visible)M.visibleChildIndex=W+K++;const A=UM(G.children,j,$,B);if(!Z)G.lastDiffIds=void 0;else if(G.lastDiffIds)UM(G.lastDiffIds,j,$,B.map((M)=>Z.getId(M.element).toString()));else G.lastDiffIds=G.children.map((M)=>Z.getId(M.element).toString());let D=0;for(let M of A)if(M.visible)D++;if(D!==0)for(let M=j+B.length;M<G.children.length;M++){const O=G.children[M];if(O.visible)O.visibleChildIndex-=D}if(G.visibleChildrenCount+=K-D,U&&H){const M=A.reduce((O,_)=>O+(_.visible?_.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(G,P-M),this.list.splice(q,M,z)}if(A.length>0&&Y){const M=(O)=>{Y(O),O.children.forEach(M)};A.forEach(M)}this._onDidSplice.fire({insertedNodes:B,deletedNodes:A});let R=G;while(R){if(R.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}R=R.parent}}rerender(J){if(J.length===0)throw new k7(this.user,"Invalid tree location");const{node:$,listIndex:X,revealed:Q}=this.getTreeNodeWithListIndex(J);if($.visible&&Q)this.list.splice(X,1,[$])}has(J){return this.hasTreeNode(J)}getListIndex(J){const{listIndex:$,visible:X,revealed:Q}=this.getTreeNodeWithListIndex(J);return X&&Q?$:-1}getListRenderCount(J){return this.getTreeNode(J).renderNodeCount}isCollapsible(J){return this.getTreeNode(J).collapsible}setCollapsible(J,$){const X=this.getTreeNode(J);if(typeof $==="undefined")$=!X.collapsible;const Q={collapsible:$};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Q))}isCollapsed(J){return this.getTreeNode(J).collapsed}setCollapsed(J,$,X){const Q=this.getTreeNode(J);if(typeof $==="undefined")$=!Q.collapsed;const Y={collapsed:$,recursive:X||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(J,Y))}_setCollapseState(J,$){const{node:X,listIndex:Q,revealed:Y}=this.getTreeNodeWithListIndex(J),Z=this._setListNodeCollapseState(X,Q,Y,$);if(X!==this.root&&this.autoExpandSingleChildren&&Z&&!uk($)&&X.collapsible&&!X.collapsed&&!$.recursive){let G=-1;for(let q=0;q<X.children.length;q++)if(X.children[q].visible)if(G>-1){G=-1;break}else G=q;if(G>-1)this._setCollapseState([...J,G],$)}return Z}_setListNodeCollapseState(J,$,X,Q){const Y=this._setNodeCollapseState(J,Q,!1);if(!X||!J.visible||!Y)return Y;const Z=J.renderNodeCount,G=this.updateNodeAfterCollapseChange(J),q=Z-($===-1?0:1);return this.list.splice($+1,q,G.slice(1)),Y}_setNodeCollapseState(J,$,X){let Q;if(J===this.root)Q=!1;else{if(uk($))Q=J.collapsible!==$.collapsible,J.collapsible=$.collapsible;else if(!J.collapsible)Q=!1;else Q=J.collapsed!==$.collapsed,J.collapsed=$.collapsed;if(Q)this._onDidChangeCollapseState.fire({node:J,deep:X})}if(!uk($)&&$.recursive)for(let Y of J.children)Q=this._setNodeCollapseState(Y,$,!0)||Q;return Q}expandTo(J){this.eventBufferer.bufferEvents(()=>{let $=this.getTreeNode(J);while($.parent)if($=$.parent,J=J.slice(0,J.length-1),$.collapsed)this._setCollapseState(J,{collapsed:!1,recursive:!1})})}refilter(){const J=this.root.renderNodeCount,$=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,J,$),this.refilterDelayer.cancel()}createTreeNode(J,$,X,Q,Y,Z){const G={parent:$,element:J.element,children:[],depth:$.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof J.collapsible==="boolean"?J.collapsible:typeof J.collapsed!=="undefined",collapsed:typeof J.collapsed==="undefined"?this.collapseByDefault:J.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},q=this._filterNode(G,X);if(G.visibility=q,Q)Y.push(G);const U=J.children||W1.empty(),H=Q&&q!==0&&!G.collapsed;let z=0,V=1;for(let j of U){const W=this.createTreeNode(j,G,q,H,Y,Z);if(G.children.push(W),V+=W.renderNodeCount,W.visible)W.visibleChildIndex=z++}if(G.collapsible=G.collapsible||G.children.length>0,G.visibleChildrenCount=z,G.visible=q===2?z>0:q===1,!G.visible){if(G.renderNodeCount=0,Q)Y.pop()}else if(!G.collapsed)G.renderNodeCount=V;return Z===null||Z===void 0||Z(G),G}updateNodeAfterCollapseChange(J){const $=J.renderNodeCount,X=[];return this._updateNodeAfterCollapseChange(J,X),this._updateAncestorsRenderNodeCount(J.parent,X.length-$),X}_updateNodeAfterCollapseChange(J,$){if(J.visible===!1)return 0;if($.push(J),J.renderNodeCount=1,!J.collapsed)for(let X of J.children)J.renderNodeCount+=this._updateNodeAfterCollapseChange(X,$);return this._onDidChangeRenderNodeCount.fire(J),J.renderNodeCount}updateNodeAfterFilterChange(J){const $=J.renderNodeCount,X=[];return this._updateNodeAfterFilterChange(J,J.visible?1:0,X),this._updateAncestorsRenderNodeCount(J.parent,X.length-$),X}_updateNodeAfterFilterChange(J,$,X,Q=!0){let Y;if(J!==this.root){if(Y=this._filterNode(J,$),Y===0)return J.visible=!1,J.renderNodeCount=0,!1;if(Q)X.push(J)}const Z=X.length;J.renderNodeCount=J===this.root?0:1;let G=!1;if(!J.collapsed||Y!==0){let q=0;for(let U of J.children)if(G=this._updateNodeAfterFilterChange(U,Y,X,Q&&!J.collapsed)||G,U.visible)U.visibleChildIndex=q++;J.visibleChildrenCount=q}else J.visibleChildrenCount=0;if(J!==this.root)J.visible=Y===2?G:Y===1,J.visibility=Y;if(!J.visible){if(J.renderNodeCount=0,Q)X.pop()}else if(!J.collapsed)J.renderNodeCount+=X.length-Z;return this._onDidChangeRenderNodeCount.fire(J),J.visible}_updateAncestorsRenderNodeCount(J,$){if($===0)return;while(J)J.renderNodeCount+=$,this._onDidChangeRenderNodeCount.fire(J),J=J.parent}_filterNode(J,$){const X=this.filter?this.filter.filter(J.element,$):1;if(typeof X==="boolean")return J.filterData=void 0,X?1:0;else if(qj(X))return J.filterData=X.data,F2(X.visibility);else return J.filterData=void 0,F2(X)}hasTreeNode(J,$=this.root){if(!J||J.length===0)return!0;const[X,...Q]=J;if(X<0||X>$.children.length)return!1;return this.hasTreeNode(Q,$.children[X])}getTreeNode(J,$=this.root){if(!J||J.length===0)return $;const[X,...Q]=J;if(X<0||X>$.children.length)throw new k7(this.user,"Invalid tree location");return this.getTreeNode(Q,$.children[X])}getTreeNodeWithListIndex(J){if(J.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:$,listIndex:X,revealed:Q,visible:Y}=this.getParentNodeWithListIndex(J),Z=J[J.length-1];if(Z<0||Z>$.children.length)throw new k7(this.user,"Invalid tree location");const G=$.children[Z];return{node:G,listIndex:X,revealed:Q,visible:Y&&G.visible}}getParentNodeWithListIndex(J,$=this.root,X=0,Q=!0,Y=!0){const[Z,...G]=J;if(Z<0||Z>$.children.length)throw new k7(this.user,"Invalid tree location");for(let q=0;q<Z;q++)X+=$.children[q].renderNodeCount;if(Q=Q&&!$.collapsed,Y=Y&&$.visible,G.length===0)return{parentNode:$,listIndex:X,revealed:Q,visible:Y};return this.getParentNodeWithListIndex(G,$.children[Z],X+1,Q,Y)}getNode(J=[]){return this.getTreeNode(J)}getNodeLocation(J){const $=[];let X=J;while(X.parent)$.push(X.parent.children.indexOf(X)),X=X.parent;return $.reverse()}getParentNodeLocation(J){if(J.length===0)return;else if(J.length===1)return[];else return JC(J)[0]}getFirstElementChild(J){const $=this.getTreeNode(J);if($.children.length===0)return;return $.children[0].element}}var uk;var jD=N(()=>{UU();H1();u1();VO();$K();F0();_9();uk=function(J){return typeof J.collapsible==="boolean"}});var yr=N(()=>{q1();V0(".monaco-tl-row{align-items:center;height:100%;display:flex;position:relative}.monaco-tl-row.disabled{cursor:default}.monaco-tl-indent{pointer-events:none;height:100%;position:absolute;top:0;left:16px}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{box-sizing:border-box;border-left:1px solid #0000;height:100%;display:inline-block}.monaco-workbench:not(.reduce-motion) .monaco-tl-indent>.indent-guide{transition:border-color .1s linear}.monaco-tl-twistie,.monaco-tl-contents{height:100%}.monaco-tl-twistie{text-align:right;flex-shrink:0;justify-content:center;align-items:center;width:16px;padding-right:6px;font-size:10px;transform:translate(3px);display:flex!important}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:1.25s steps(30,end) infinite codicon-spin}.monaco-tree-type-filter{z-index:100;border:1px solid var(--vscode-widget-border);border-bottom-right-radius:4px;border-bottom-left-radius:4px;max-width:200px;margin:0 6px;padding:3px;display:flex;position:absolute;top:0}.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter{transition:top .3s}.monaco-tree-type-filter.disabled{top:-40px!important}.monaco-tree-type-filter-grab{cursor:grab;justify-content:center;align-items:center;margin-right:2px;display:flex!important}.monaco-tree-type-filter-grab.grabbing{cursor:grabbing}.monaco-tree-type-filter-input{flex:1}.monaco-tree-type-filter-input .monaco-inputbox{height:23px}.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.input,.monaco-tree-type-filter-input .monaco-inputbox>.ibwrapper>.mirror{padding:2px 4px}.monaco-tree-type-filter-input .monaco-findInput>.controls{top:2px}.monaco-tree-type-filter-actionbar{margin-left:4px}.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label{padding:2px}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container{z-index:13;background-color:var(--vscode-sideBar-background);width:100%;height:0;position:absolute;top:0;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row.monaco-list-row{background-color:var(--vscode-sideBar-background);width:100%;position:absolute;overflow:hidden;opacity:1!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row:hover{cursor:pointer;background-color:var(--vscode-list-hoverBackground)!important}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty,.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container.empty .monaco-tree-sticky-container-shadow{display:none}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 6px 6px -6px inset;width:100%;height:3px;position:absolute;bottom:-3px;left:0}.monaco-list .monaco-scrollable-element .monaco-tree-sticky-container[tabindex=\"0\"]:focus{outline:none}")});class Cr extends lY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}}class xr{constructor(J,$){this.modelProvider=J,this.dnd=$,this.autoExpandDisposable=f.None,this.disposables=new r}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((X)=>X.element),$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,lk(J),$)}onDragOver(J,$,X,Q,Y,Z=!0){const G=this.dnd.onDragOver(lk(J),$&&$.element,X,Q,Y),q=this.autoExpandNode!==$;if(q)this.autoExpandDisposable.dispose(),this.autoExpandNode=$;if(typeof $==="undefined")return G;if(q&&typeof G!=="boolean"&&G.autoExpand)this.autoExpandDisposable=nQ(()=>{const j=this.modelProvider(),W=j.getNodeLocation($);if(j.isCollapsed(W))j.setCollapsed(W,!1);this.autoExpandNode=void 0},500,this.disposables);if(typeof G==="boolean"||!G.accept||typeof G.bubble==="undefined"||G.feedback){if(!Z){const j=typeof G==="boolean"?G:G.accept,W=typeof G==="boolean"?void 0:G.effect;return{accept:j,effect:W,feedback:[X]}}return G}if(G.bubble===1){const j=this.modelProvider(),W=j.getNodeLocation($),B=j.getParentNodeLocation(W),K=j.getNode(B),P=B&&j.getListIndex(B);return this.onDragOver(J,K,P,Q,Y,!1)}const U=this.modelProvider(),H=U.getNodeLocation($),z=U.getListIndex(H),V=U.getListRenderCount(H);return{...G,feedback:k6(z,z+V)}}drop(J,$,X,Q,Y){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(lk(J),$&&$.element,X,Q,Y)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}class zj{constructor(J){this.delegate=J}getHeight(J){return this.delegate.getHeight(J.element)}getTemplateId(J){return this.delegate.getTemplateId(J.element)}hasDynamicHeight(J){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(J.element)}setDynamicHeight(J,$){var X,Q;(Q=(X=this.delegate).setDynamicHeight)===null||Q===void 0||Q.call(X,J.element,$)}}class br{get elements(){return this._elements}constructor(J,$=[]){this._elements=$,this.disposables=new r,this.onDidChange=J0.forEach(J,(X)=>this._elements=X,this.disposables)}dispose(){this.disposables.dispose()}}class Hj{constructor(J,$,X,Q,Y,Z={}){var G;this.renderer=J,this.modelProvider=$,this.activeNodes=Q,this.renderedIndentGuides=Y,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Hj.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=f.None,this.disposables=new r,this.templateId=J.templateId,this.updateOptions(Z),J0.map(X,(q)=>q.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(G=J.onDidChangeTwistieState)===null||G===void 0||G.call(J,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(J={}){if(typeof J.indent!=="undefined"){const $=n6(J.indent,0,40);if($!==this.indent){this.indent=$;for(let[X,Q]of this.renderedNodes)this.renderTreeElement(X,Q)}}if(typeof J.renderIndentGuides!=="undefined"){const $=J.renderIndentGuides!==Uj.None;if($!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=$;for(let[X,Q]of this.renderedNodes)this._renderIndentGuides(X,Q);if(this.indentGuidesDisposable.dispose(),$){const X=new r;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,X),this.indentGuidesDisposable=X,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}if(typeof J.hideTwistiesOfChildlessElements!=="undefined")this.hideTwistiesOfChildlessElements=J.hideTwistiesOfChildlessElements}renderTemplate(J){const $=Z0(J,q0(".monaco-tl-row")),X=Z0($,q0(".monaco-tl-indent")),Q=Z0($,q0(".monaco-tl-twistie")),Y=Z0($,q0(".monaco-tl-contents")),Z=this.renderer.renderTemplate(Y);return{container:J,indent:X,twistie:Q,indentGuidesDisposable:f.None,templateData:Z}}renderElement(J,$,X,Q){this.renderedNodes.set(J,X),this.renderedElements.set(J.element,J),this.renderTreeElement(J,X),this.renderer.renderElement(J,$,X.templateData,Q)}disposeElement(J,$,X,Q){var Y,Z;if(X.indentGuidesDisposable.dispose(),(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,J,$,X.templateData,Q),typeof Q==="number")this.renderedNodes.delete(J),this.renderedElements.delete(J.element)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}onDidChangeTwistieState(J){const $=this.renderedElements.get(J);if(!$)return;this.onDidChangeNodeTwistieState($)}onDidChangeNodeTwistieState(J){const $=this.renderedNodes.get(J);if(!$)return;this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(J,$)}renderTreeElement(J,$){const X=Hj.DefaultIndent+(J.depth-1)*this.indent;if($.twistie.style.paddingLeft=`${X}px`,$.indent.style.width=`${X+this.indent-16}px`,J.collapsible)$.container.setAttribute("aria-expanded",String(!J.collapsed));else $.container.removeAttribute("aria-expanded");$.twistie.classList.remove(...y0.asClassNameArray(U0.treeItemExpanded));let Q=!1;if(this.renderer.renderTwistie)Q=this.renderer.renderTwistie(J.element,$.twistie);if(J.collapsible&&(!this.hideTwistiesOfChildlessElements||J.visibleChildrenCount>0)){if(!Q)$.twistie.classList.add(...y0.asClassNameArray(U0.treeItemExpanded));$.twistie.classList.add("collapsible"),$.twistie.classList.toggle("collapsed",J.collapsed)}else $.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(J,$)}_renderIndentGuides(J,$){if(C6($.indent),$.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const X=new r,Q=this.modelProvider();while(!0){const Y=Q.getNodeLocation(J),Z=Q.getParentNodeLocation(Y);if(!Z)break;const G=Q.getNode(Z),q=q0(".indent-guide",{style:`width: ${this.indent}px`});if(this.activeIndentNodes.has(G))q.classList.add("active");if($.indent.childElementCount===0)$.indent.appendChild(q);else $.indent.insertBefore(q,$.indent.firstElementChild);this.renderedIndentGuides.add(G,q),X.add(K0(()=>this.renderedIndentGuides.delete(G,q))),J=G}$.indentGuidesDisposable=X}_onDidChangeActiveNodes(J){if(!this.shouldRenderIndentGuides)return;const $=new Set,X=this.modelProvider();J.forEach((Q)=>{const Y=X.getNodeLocation(Q);try{const Z=X.getParentNodeLocation(Y);if(Q.collapsible&&Q.children.length>0&&!Q.collapsed)$.add(Q);else if(Z)$.add(X.getNode(Z))}catch(Z){}}),this.activeIndentNodes.forEach((Q)=>{if(!$.has(Q))this.renderedIndentGuides.forEach(Q,(Y)=>Y.classList.remove("active"))}),$.forEach((Q)=>{if(!this.activeIndentNodes.has(Q))this.renderedIndentGuides.forEach(Q,(Y)=>Y.classList.add("active"))}),this.activeIndentNodes=$}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),k1(this.disposables)}}class vr{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(J,$,X){this.tree=J,this.keyboardNavigationLabelProvider=$,this._filter=X,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new r,J.onWillRefilter(this.reset,this,this.disposables)}filter(J,$){let X=1;if(this._filter){const Z=this._filter.filter(J,$);if(typeof Z==="boolean")X=Z?1:0;else if(qj(Z))X=F2(Z.visibility);else X=Z;if(X===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:hJ.Default,visibility:X};const Q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(J),Y=Array.isArray(Q)?Q:[Q];for(let Z of Y){const G=Z&&Z.toString();if(typeof G==="undefined")return{data:hJ.Default,visibility:X};let q;if(this.tree.findMatchType===sY.Contiguous){const U=G.toLowerCase().indexOf(this._lowercasePattern);if(U>-1){q=[Number.MAX_SAFE_INTEGER,0];for(let H=this._lowercasePattern.length;H>0;H--)q.push(U+H-1)}}else q=gY(this._pattern,this._lowercasePattern,0,G,G.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(q)return this._matchCount++,Y.length===1?{data:q,visibility:X}:{data:{label:G,score:q},visibility:X}}if(this.tree.findMode===e$.Filter)if(typeof this.tree.options.defaultFindVisibility==="number")return this.tree.options.defaultFindVisibility;else if(this.tree.options.defaultFindVisibility)return this.tree.options.defaultFindVisibility(J);else return 2;else return{data:hJ.Default,visibility:X}}reset(){this._totalCount=0,this._matchCount=0}dispose(){k1(this.disposables)}}class fr{get pattern(){return this._pattern}get mode(){return this._mode}set mode(J){if(J===this._mode)return;if(this._mode=J,this.widget)this.widget.mode=this._mode;this.tree.refilter(),this.render(),this._onDidChangeMode.fire(J)}get matchType(){return this._matchType}set matchType(J){if(J===this._matchType)return;if(this._matchType=J,this.widget)this.widget.matchType=this._matchType;this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(J)}constructor(J,$,X,Q,Y,Z={}){var G,q;this.tree=J,this.view=X,this.filter=Q,this.contextViewProvider=Y,this.options=Z,this._pattern="",this.width=0,this._onDidChangeMode=new y,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new y,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new y,this._onDidChangeOpenState=new y,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new r,this.disposables=new r,this._mode=(G=J.options.defaultFindMode)!==null&&G!==void 0?G:e$.Highlight,this._matchType=(q=J.options.defaultFindMatchType)!==null&&q!==void 0?q:sY.Fuzzy,$.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(J={}){if(J.defaultFindMode!==void 0)this.mode=J.defaultFindMode;if(J.defaultFindMatchType!==void 0)this.matchType=J.defaultFindMatchType}onDidSpliceModel(){if(!this.widget||this.pattern.length===0)return;this.tree.refilter(),this.render()}render(){var J,$,X,Q;const Y=this.filter.totalCount>0&&this.filter.matchCount===0;if(this.pattern&&Y)if((J=this.tree.options.showNotFoundMessage)!==null&&J!==void 0?J:!0)($=this.widget)===null||$===void 0||$.showMessage({type:2,content:F("not found","No elements found.")});else(X=this.widget)===null||X===void 0||X.showMessage({type:2});else(Q=this.widget)===null||Q===void 0||Q.clearMessage()}shouldAllowFocus(J){if(!this.widget||!this.pattern)return!0;if(this.filter.totalCount>0&&this.filter.matchCount<=1)return!0;return!hJ.isDefault(J.filterData)}layout(J){var $;this.width=J,($=this.widget)===null||$===void 0||$.layout(J)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class gr{constructor(J=[]){this.stickyNodes=J}get count(){return this.stickyNodes.length}equal(J){return Q8(this.stickyNodes,J.stickyNodes,y40)}lastNodePartiallyVisible(){if(this.count===0)return!1;const J=this.stickyNodes[this.count-1];if(this.count===1)return J.position!==0;const $=this.stickyNodes[this.count-2];return $.position+$.height!==J.position}animationStateChanged(J){if(!Q8(this.stickyNodes,J.stickyNodes,hr))return!1;if(this.count===0)return!1;const $=this.stickyNodes[this.count-1],X=J.stickyNodes[J.count-1];return $.position!==X.position}}class pr{constrainStickyScrollNodes(J,$,X){for(let Q=0;Q<J.length;Q++){const Y=J[Q];if(Y.position+Y.height>X||Q>=$)return J.slice(0,Q)}return J}}class dk extends f{constructor(J,$,X,Q,Y,Z={}){var G;super();this.tree=J,this.model=$,this.view=X,this.treeDelegate=Y,this.maxWidgetViewRatio=0.4;const q=this.validateStickySettings(Z);this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.stickyScrollDelegate=(G=Z.stickyScrollDelegate)!==null&&G!==void 0?G:new pr,this._widget=this._register(new mr(X.getScrollableElement(),X,J,Q,Y,Z.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(X.onDidScroll(()=>this.update())),this._register(X.onDidChangeContentHeight(()=>this.update())),this._register(J.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(J){let $;if(J===0)$=this.view.firstVisibleIndex;else $=this.view.indexAt(J+this.view.scrollTop);if($<0||$>=this.view.length)return;return this.view.element($)}update(){const J=this.getNodeAtHeight(0);if(!J||this.tree.scrollTop===0){this._widget.setState(void 0);return}const $=this.findStickyState(J);this._widget.setState($)}findStickyState(J){const $=[];let X=J,Q=0,Y=this.getNextStickyNode(X,void 0,Q);while(Y){if($.push(Y),Q+=Y.height,$.length<=this.stickyScrollMaxItemCount){if(X=this.getNextVisibleNode(Y),!X)break}Y=this.getNextStickyNode(X,Y.node,Q)}const Z=this.constrainStickyNodes($);return Z.length?new gr(Z):void 0}getNextVisibleNode(J){return this.getNodeAtHeight(J.position+J.height)}getNextStickyNode(J,$,X){const Q=this.getAncestorUnderPrevious(J,$);if(!Q)return;if(Q===J){if(!this.nodeIsUncollapsedParent(J))return;if(this.nodeTopAlignsWithStickyNodesBottom(J,X))return}return this.createStickyScrollNode(Q,X)}nodeTopAlignsWithStickyNodesBottom(J,$){const X=this.getNodeIndex(J),Q=this.view.getElementTop(X),Y=$;return this.view.scrollTop===Q-Y}createStickyScrollNode(J,$){const X=this.treeDelegate.getHeight(J),{startIndex:Q,endIndex:Y}=this.getNodeRange(J),Z=this.calculateStickyNodePosition(Y,$,X);return{node:J,position:Z,height:X,startIndex:Q,endIndex:Y}}getAncestorUnderPrevious(J,$=void 0){let X=J,Q=this.getParentNode(X);while(Q){if(Q===$)return X;X=Q,Q=this.getParentNode(X)}if($===void 0)return X;return}calculateStickyNodePosition(J,$,X){let Q=this.view.getRelativeTop(J);if(Q===null&&this.view.firstVisibleIndex===J&&J+1<this.view.length){const U=this.treeDelegate.getHeight(this.view.element(J)),H=this.view.getRelativeTop(J+1);Q=H?H-U/this.view.renderHeight:null}if(Q===null)return $;const Y=this.view.element(J),Z=this.treeDelegate.getHeight(Y),q=Q*this.view.renderHeight+Z;if($+X>q&&$<=q)return q-X;return $}constrainStickyNodes(J){if(J.length===0)return[];const $=this.view.renderHeight*this.maxWidgetViewRatio,X=J[J.length-1];if(J.length<=this.stickyScrollMaxItemCount&&X.position+X.height<=$)return J;const Q=this.stickyScrollDelegate.constrainStickyScrollNodes(J,this.stickyScrollMaxItemCount,$);if(!Q.length)return[];const Y=Q[Q.length-1];if(Q.length>this.stickyScrollMaxItemCount||Y.position+Y.height>$)throw new Error("stickyScrollDelegate violates constraints");return Q}getParentNode(J){const $=this.model.getNodeLocation(J),X=this.model.getParentNodeLocation($);return X?this.model.getNode(X):void 0}nodeIsUncollapsedParent(J){const $=this.model.getNodeLocation(J);return this.model.getListRenderCount($)>1}getNodeIndex(J){const $=this.model.getNodeLocation(J);return this.model.getListIndex($)}getNodeRange(J){const $=this.model.getNodeLocation(J),X=this.model.getListIndex($);if(X<0)throw new Error("Node not found in tree");const Q=this.model.getListRenderCount($),Y=X+Q-1;return{startIndex:X,endIndex:Y}}nodePositionTopBelowWidget(J){const $=[];let X=this.getParentNode(J);while(X)$.push(X),X=this.getParentNode(X);let Q=0;for(let Y=0;Y<$.length&&Y<this.stickyScrollMaxItemCount;Y++)Q+=this.treeDelegate.getHeight($[Y]);return Q}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(J={}){if(!J.stickyScrollMaxItemCount)return;const $=this.validateStickySettings(J);if(this.stickyScrollMaxItemCount!==$.stickyScrollMaxItemCount)this.stickyScrollMaxItemCount=$.stickyScrollMaxItemCount,this.update()}validateStickySettings(J){let $=7;if(typeof J.stickyScrollMaxItemCount==="number")$=Math.max(J.stickyScrollMaxItemCount,1);return{stickyScrollMaxItemCount:$}}}class mr{constructor(J,$,X,Q,Y,Z){this.view=$,this.tree=X,this.treeRenderers=Q,this.treeDelegate=Y,this.accessibilityProvider=Z,this._previousElements=[],this._previousStateDisposables=new r,this._rootDomNode=q0(".monaco-tree-sticky-container.empty"),J.appendChild(this._rootDomNode);const G=q0(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(G),this.stickyScrollFocus=new ur(this._rootDomNode,$),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(J){const $=!!this._previousState&&this._previousState.count>0,X=!!J&&J.count>0;if(!$&&!X||$&&X&&this._previousState.equal(J))return;if($!==X)this.setVisible(X);if(!X){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const Q=J.stickyNodes[J.count-1];if(this._previousState&&J.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${Q.position}px`;else{this._previousStateDisposables.clear();const Y=Array(J.count);for(let Z=J.count-1;Z>=0;Z--){const G=J.stickyNodes[Z],{element:q,disposable:U}=this.createElement(G,Z,J.count);Y[Z]=q,this._rootDomNode.appendChild(q),this._previousStateDisposables.add(U)}this.stickyScrollFocus.updateElements(Y,J),this._previousElements=Y}this._previousState=J,this._rootDomNode.style.height=`${Q.position+Q.height}px`}createElement(J,$,X){const Q=J.startIndex,Y=document.createElement("div");Y.style.top=`${J.position}px`,Y.style.height=`${J.height}px`,Y.style.lineHeight=`${J.height}px`,Y.classList.add("monaco-tree-sticky-row"),Y.classList.add("monaco-list-row"),Y.setAttribute("data-index",`${Q}`),Y.setAttribute("data-parity",Q%2===0?"even":"odd"),Y.setAttribute("id",this.view.getElementID(Q)),this.setAccessibilityAttributes(Y,J.node.element,$,X);const Z=this.treeDelegate.getTemplateId(J.node),G=this.treeRenderers.find((z)=>z.templateId===Z);if(!G)throw new Error(`No renderer found for template id ${Z}`);let q=J.node;if(q===this.tree.getNode(this.tree.getNodeLocation(J.node)))q=new Proxy(J.node,{});const U=G.renderTemplate(Y);G.renderElement(q,J.startIndex,U,J.height);const H=K0(()=>{G.disposeElement(q,J.startIndex,U,J.height),G.disposeTemplate(U),Y.remove()});return{element:Y,disposable:H}}setAccessibilityAttributes(J,$,X,Q){var Y;if(!this.accessibilityProvider)return;if(this.accessibilityProvider.getSetSize)J.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize($,X,Q)));if(this.accessibilityProvider.getPosInSet)J.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet($,X)));if(this.accessibilityProvider.getRole)J.setAttribute("role",(Y=this.accessibilityProvider.getRole($))!==null&&Y!==void 0?Y:"treeitem");const Z=this.accessibilityProvider.getAriaLabel($);if(Z)J.setAttribute("aria-label",Z);const G=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel($);if(typeof G==="number")J.setAttribute("aria-level",`${G}`);J.setAttribute("aria-selected",String(!1))}setVisible(J){if(this._rootDomNode.classList.toggle("empty",!J),!J)this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class ur extends f{get domHasFocus(){return this._domHasFocus}set domHasFocus(J){if(J!==this._domHasFocus)this._onDidChangeHasFocus.fire(J),this._domHasFocus=J}constructor(J,$){super();this.container=J,this.view=$,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new y,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new y,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown((X)=>this.onKeyDown(X))),this._register(this.view.onMouseDown((X)=>this.onMouseDown(X))),this._register(this.view.onContextMenu((X)=>this.handleContextMenu(X)))}handleContextMenu(J){const $=J.browserEvent.target;if(!rV($)&&!n3($)){if(this.focusedLast())this.view.domFocus();return}if(!Bq(J.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const Z=this.state.stickyNodes.findIndex((G)=>{var q;return G.node.element===((q=J.element)===null||q===void 0?void 0:q.element)});if(Z===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(Z);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const Q=this.state.stickyNodes[this.focusedIndex].node.element,Y=this.elements[this.focusedIndex];this._onContextMenu.fire({element:Q,anchor:Y,browserEvent:J.browserEvent,isStickyScroll:!0})}onKeyDown(J){if(this.domHasFocus&&this.state){if(J.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),J.preventDefault(),J.stopPropagation();else if(J.key==="ArrowDown"||J.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const $=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([$]),this.scrollNodeUnderWidget($,this.state)}else this.setFocusedElement(this.focusedIndex+1);J.preventDefault(),J.stopPropagation()}}}onMouseDown(J){const $=J.browserEvent.target;if(!rV($)&&!n3($))return;J.browserEvent.preventDefault(),J.browserEvent.stopPropagation()}updateElements(J,$){if($&&$.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if($&&$.count!==J.length)throw new Error("Sticky scroll focus received illigel state");const X=this.focusedIndex;if(this.removeFocus(),this.elements=J,this.state=$,$){const Q=n6(X,0,$.count-1);this.setFocus(Q)}else if(this.domHasFocus)this.view.domFocus();this.container.tabIndex=$?0:-1}setFocusedElement(J){const $=this.state;if(!$)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(J),J<$.count-1)return;if($.lastNodePartiallyVisible()){const X=$.stickyNodes[J];this.scrollNodeUnderWidget(X.endIndex+1,$)}}scrollNodeUnderWidget(J,$){const X=$.stickyNodes[$.count-1],Q=$.count>1?$.stickyNodes[$.count-2]:void 0,Y=this.view.getElementTop(J),Z=Q?Q.position+Q.height+X.height:X.height;this.view.scrollTop=Y-Z}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){if(!this.state)return!1;return this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){if(this.focusedIndex===-1)return;this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1}setFocus(J){if(0>J)throw new Error("addFocus() can not remove focus");if(!this.state&&J>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&J>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const $=this.focusedIndex;if($>=0)this.toggleElementFocus(this.elements[$],!1);if(J>=0)this.toggleElementFocus(this.elements[J],!0);this.focusedIndex=J}toggleElementFocus(J,$){J.classList.toggle("focused",$)}toggleStickyScrollFocused(J){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",J)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");if(this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1)this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}class BD{get nodeSet(){if(!this._nodeSet)this._nodeSet=this.createNodeSet();return this._nodeSet}constructor(J,$){this.getFirstViewElementWithTrait=J,this.identityProvider=$,this.nodes=[],this._onDidChange=new y,this.onDidChange=this._onDidChange.event}set(J,$){if(!($===null||$===void 0?void 0:$.__forceEvent)&&Q8(this.nodes,J))return;this._set(J,!1,$)}_set(J,$,X){if(this.nodes=[...J],this.elements=void 0,this._nodeSet=void 0,!$){const Q=this;this._onDidChange.fire({get elements(){return Q.get()},browserEvent:X})}}get(){if(!this.elements)this.elements=this.nodes.map((J)=>J.element);return[...this.elements]}getNodes(){return this.nodes}has(J){return this.nodeSet.has(J)}onDidModelSplice({insertedNodes:J,deletedNodes:$}){if(!this.identityProvider){const q=this.createNodeSet(),U=(H)=>q.delete(H);$.forEach((H)=>WD(H,U)),this.set([...q.values()]);return}const X=new Set,Q=(q)=>X.add(this.identityProvider.getId(q.element).toString());$.forEach((q)=>WD(q,Q));const Y=new Map,Z=(q)=>Y.set(this.identityProvider.getId(q.element).toString(),q);J.forEach((q)=>WD(q,Z));const G=[];for(let q of this.nodes){const U=this.identityProvider.getId(q.element).toString();if(!X.has(U))G.push(q);else{const z=Y.get(U);if(z&&z.visible)G.push(z)}}if(this.nodes.length>0&&G.length===0){const q=this.getFirstViewElementWithTrait();if(q)G.push(q)}this._set(G,!0)}createNodeSet(){const J=new Set;for(let $ of this.nodes)J.add($);return J}}class cr extends rP{constructor(J,$,X){super(J);this.tree=$,this.stickyScrollProvider=X}onViewPointer(J){if(Uk(J.browserEvent.target)||_Q(J.browserEvent.target)||r3(J.browserEvent.target))return;if(J.browserEvent.isHandledByList)return;const $=J.element;if(!$)return super.onViewPointer(J);if(this.isSelectionRangeChangeEvent(J)||this.isSelectionSingleChangeEvent(J))return super.onViewPointer(J);const X=J.browserEvent.target,Q=X.classList.contains("monaco-tl-twistie")||X.classList.contains("monaco-icon-label")&&X.classList.contains("folder-icon")&&J.browserEvent.offsetX<16,Y=n3(J.browserEvent.target);let Z=!1;if(Y)Z=!0;else if(typeof this.tree.expandOnlyOnTwistieClick==="function")Z=this.tree.expandOnlyOnTwistieClick($.element);else Z=!!this.tree.expandOnlyOnTwistieClick;if(!Y){if(Z&&!Q&&J.browserEvent.detail!==2)return super.onViewPointer(J);if(!this.tree.expandOnDoubleClick&&J.browserEvent.detail===2)return super.onViewPointer(J)}else this.handleStickyScrollMouseEvent(J,$);if($.collapsible&&(!Y||Q)){const G=this.tree.getNodeLocation($),q=J.browserEvent.altKey;if(this.tree.setFocus([G]),this.tree.toggleCollapsed(G,q),Z&&Q){J.browserEvent.isHandledByList=!0;return}}if(!Y)super.onViewPointer(J)}handleStickyScrollMouseEvent(J,$){if(Ka(J.browserEvent.target)||Aa(J.browserEvent.target))return;const X=this.stickyScrollProvider();if(!X)throw new Error("Sticky scroll controller not found");const Q=this.list.indexOf($),Y=this.list.getElementTop(Q),Z=X.nodePositionTopBelowWidget($);this.tree.scrollTop=Y-Z,this.list.domFocus(),this.list.setFocus([Q]),this.list.setSelection([Q])}onDoubleClick(J){if(J.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick)return;if(J.browserEvent.isHandledByList)return;super.onDoubleClick(J)}onMouseDown(J){const $=J.browserEvent.target;if(!rV($)&&!n3($)){super.onMouseDown(J);return}}onContextMenu(J){const $=J.browserEvent.target;if(!rV($)&&!n3($)){super.onContextMenu(J);return}}}class lr extends d7{constructor(J,$,X,Q,Y,Z,G,q){super(J,$,X,Q,q);this.focusTrait=Y,this.selectionTrait=Z,this.anchorTrait=G}createMouseController(J){return new cr(this,J.tree,J.stickyScrollProvider)}splice(J,$,X=[]){if(super.splice(J,$,X),X.length===0)return;const Q=[],Y=[];let Z;if(X.forEach((G,q)=>{if(this.focusTrait.has(G))Q.push(J+q);if(this.selectionTrait.has(G))Y.push(J+q);if(this.anchorTrait.has(G))Z=J+q}),Q.length>0)super.setFocus(UJ([...super.getFocus(),...Q]));if(Y.length>0)super.setSelection(UJ([...super.getSelection(),...Y]));if(typeof Z==="number")super.setAnchor(Z)}setFocus(J,$,X=!1){if(super.setFocus(J,$),!X)this.focusTrait.set(J.map((Q)=>this.element(Q)),$)}setSelection(J,$,X=!1){if(super.setSelection(J,$),!X)this.selectionTrait.set(J.map((Q)=>this.element(Q)),$)}setAnchor(J,$=!1){if(super.setAnchor(J),!$)if(typeof J==="undefined")this.anchorTrait.set([]);else this.anchorTrait.set([this.element(J)])}}class Vj{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return J0.filter(J0.map(this.view.onMouseDblClick,Sr),(J)=>J.target!==dY.Filter)}get onPointer(){return J0.map(this.view.onPointer,Sr)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return J0.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.mode)!==null&&$!==void 0?$:e$.Highlight}set findMode(J){if(this.findController)this.findController.mode=J}get findMatchType(){var J,$;return($=(J=this.findController)===null||J===void 0?void 0:J.matchType)!==null&&$!==void 0?$:sY.Fuzzy}set findMatchType(J){if(this.findController)this.findController.matchType=J}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick==="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick==="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(J,$,X,Q,Y={}){var Z;this._user=J,this._options=Y,this.eventBufferer=new CZ,this.onDidChangeFindOpenState=J0.None,this.onDidChangeStickyScrollFocused=J0.None,this.disposables=new r,this._onWillRefilter=new y,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new y,this.treeDelegate=new zj(X);const G=new aW,q=new aW,U=this.disposables.add(new br(q.event)),H=new Gz;this.renderers=Q.map((B)=>new Hj(B,()=>this.model,G.event,U,H,Y));for(let B of this.renderers)this.disposables.add(B);let z;if(Y.keyboardNavigationLabelProvider)z=new vr(this,Y.keyboardNavigationLabelProvider,Y.filter),Y={...Y,filter:z},this.disposables.add(z);this.focus=new BD(()=>this.view.getFocusedElements()[0],Y.identityProvider),this.selection=new BD(()=>this.view.getSelectedElements()[0],Y.identityProvider),this.anchor=new BD(()=>this.view.getAnchorElement(),Y.identityProvider),this.view=new lr(J,$,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...I40(()=>this.model,Y),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(J,this.view,Y),G.input=this.model.onDidChangeCollapseState;const V=J0.forEach(this.model.onDidSplice,(B)=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(B),this.selection.onDidModelSplice(B)})},this.disposables);V(()=>null,null,this.disposables);const j=this.disposables.add(new y),W=this.disposables.add(new MJ(0));if(this.disposables.add(J0.any(V,this.focus.onDidChange,this.selection.onDidChange)(()=>{W.trigger(()=>{const B=new Set;for(let K of this.focus.getNodes())B.add(K);for(let K of this.selection.getNodes())B.add(K);j.fire([...B.values()])})})),q.input=j.event,Y.keyboardSupport!==!1){const B=J0.chain(this.view.onKeyDown,(K)=>K.filter((P)=>!_Q(P.target)).map((P)=>new A1(P)));J0.chain(B,(K)=>K.filter((P)=>P.keyCode===15))(this.onLeftArrow,this,this.disposables),J0.chain(B,(K)=>K.filter((P)=>P.keyCode===17))(this.onRightArrow,this,this.disposables),J0.chain(B,(K)=>K.filter((P)=>P.keyCode===10))(this.onSpace,this,this.disposables)}if(((Z=Y.findWidgetEnabled)!==null&&Z!==void 0?Z:!0)&&Y.keyboardNavigationLabelProvider&&Y.contextViewProvider){const B=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new fr(this,this.model,this.view,z,Y.contextViewProvider,B),this.focusNavigationFilter=(K)=>this.findController.shouldAllowFocus(K),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=J0.None,this.onDidChangeFindMatchType=J0.None;if(Y.enableStickyScroll)this.stickyScrollController=new dk(this,this.model,this.view,this.renderers,this.treeDelegate,Y),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;this.styleElement=O6(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Uj.Always)}updateOptions(J={}){var $;this._options={...this._options,...J};for(let X of this.renderers)X.updateOptions(J);this.view.updateOptions(this._options),($=this.findController)===null||$===void 0||$.updateOptions(J),this.updateStickyScroll(J),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Uj.Always)}get options(){return this._options}updateStickyScroll(J){var $;if(!this.stickyScrollController&&this._options.enableStickyScroll)this.stickyScrollController=new dk(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus;else if(this.stickyScrollController&&!this._options.enableStickyScroll)this.onDidChangeStickyScrollFocused=J0.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0;($=this.stickyScrollController)===null||$===void 0||$.updateOptions(J)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(J){this.view.scrollTop=J}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var J;if((J=this.stickyScrollController)===null||J===void 0?void 0:J.focusedLast())this.stickyScrollController.domFocus();else this.view.domFocus()}layout(J,$){var X;if(this.view.layout(J,$),$9($))(X=this.findController)===null||X===void 0||X.layout($)}style(J){var $;const X=`.${this.view.domId}`,Q=[];if(J.treeIndentGuidesStroke)Q.push(`.monaco-list${X}:hover .monaco-tl-indent > .indent-guide, .monaco-list${X}.always .monaco-tl-indent > .indent-guide  { border-color: ${J.treeInactiveIndentGuidesStroke}; }`),Q.push(`.monaco-list${X} .monaco-tl-indent > .indent-guide.active { border-color: ${J.treeIndentGuidesStroke}; }`);if(J.listBackground)Q.push(`.monaco-list${X} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${J.listBackground}; }`),Q.push(`.monaco-list${X} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${J.listBackground}; }`);if(J.listFocusForeground)Q.push(`.monaco-list${X}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${J.listFocusForeground}; }`),Q.push(`.monaco-list${X}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`);const Y=y9(J.listFocusAndSelectionOutline,y9(J.listSelectionOutline,($=J.listFocusOutline)!==null&&$!==void 0?$:""));if(Y)Q.push(`.monaco-list${X}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${Y}; outline-offset: -1px;}`),Q.push(`.monaco-list${X}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`);if(J.listFocusOutline)Q.push(`.monaco-list${X}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${J.listFocusOutline}; outline-offset: -1px; }`),Q.push(`.monaco-list${X}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),Q.push(`.monaco-workbench.context-menu-visible .monaco-list${X}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),Q.push(`.monaco-workbench.context-menu-visible .monaco-list${X}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`);this.styleElement.textContent=Q.join("\n"),this.view.style(J)}getParentElement(J){const $=this.model.getParentNodeLocation(J);return this.model.getNode($).element}getFirstElementChild(J){return this.model.getFirstElementChild(J)}getNode(J){return this.model.getNode(J)}getNodeLocation(J){return this.model.getNodeLocation(J)}collapse(J,$=!1){return this.model.setCollapsed(J,!0,$)}expand(J,$=!1){return this.model.setCollapsed(J,!1,$)}toggleCollapsed(J,$=!1){return this.model.setCollapsed(J,void 0,$)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(J,$){this.eventBufferer.bufferEvents(()=>{const X=J.map((Y)=>this.model.getNode(Y));this.selection.set(X,$);const Q=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setSelection(Q,$,!0)})}getSelection(){return this.selection.get()}setFocus(J,$){this.eventBufferer.bufferEvents(()=>{const X=J.map((Y)=>this.model.getNode(Y));this.focus.set(X,$);const Q=J.map((Y)=>this.model.getListIndex(Y)).filter((Y)=>Y>-1);this.view.setFocus(Q,$,!0)})}getFocus(){return this.focus.get()}reveal(J,$){this.model.expandTo(J);const X=this.model.getListIndex(J);if(X===-1)return;if(!this.stickyScrollController)this.view.reveal(X,$);else{const Q=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(J));this.view.reveal(X,$,Q)}}onLeftArrow(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X);if(!this.model.setCollapsed(Q,!0)){const Z=this.model.getParentNodeLocation(Q);if(!Z)return;const G=this.model.getListIndex(Z);this.view.reveal(G),this.view.setFocus([G])}}onRightArrow(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X);if(!this.model.setCollapsed(Q,!1)){if(!X.children.some((q)=>q.visible))return;const[Z]=this.view.getFocus(),G=Z+1;this.view.reveal(G),this.view.setFocus([G])}}onSpace(J){J.preventDefault(),J.stopPropagation();const $=this.view.getFocusedElements();if($.length===0)return;const X=$[0],Q=this.model.getNodeLocation(X),Y=J.browserEvent.altKey;this.model.setCollapsed(Q,void 0,Y)}dispose(){var J;k1(this.disposables),(J=this.stickyScrollController)===null||J===void 0||J.dispose(),this.view.dispose()}}var lk,I40,y40,hr,Sr,WD,Uj,e$,sY;var jj=N(()=>{D0();w4();T7();o$();VD();zD();sP();G2();Yj();jD();UU();$5();H1();u1();z6();W6();W4();F0();pY();X0();y3();G8();yr();h0();lk=function(J){if(J instanceof lY)return new Cr(J);return J},I40=function(J,$){return $&&{...$,identityProvider:$.identityProvider&&{getId(X){return $.identityProvider.getId(X.element)}},dnd:$.dnd&&new xr(J,$.dnd),multipleSelectionController:$.multipleSelectionController&&{isSelectionSingleChangeEvent(X){return $.multipleSelectionController.isSelectionSingleChangeEvent({...X,element:X.element})},isSelectionRangeChangeEvent(X){return $.multipleSelectionController.isSelectionRangeChangeEvent({...X,element:X.element})}},accessibilityProvider:$.accessibilityProvider&&{...$.accessibilityProvider,getSetSize(X){const Q=J(),Y=Q.getNodeLocation(X),Z=Q.getParentNodeLocation(Y);return Q.getNode(Z).visibleChildrenCount},getPosInSet(X){return X.visibleChildIndex+1},isChecked:$.accessibilityProvider&&$.accessibilityProvider.isChecked?(X)=>{return $.accessibilityProvider.isChecked(X.element)}:void 0,getRole:$.accessibilityProvider&&$.accessibilityProvider.getRole?(X)=>{return $.accessibilityProvider.getRole(X.element)}:()=>"treeitem",getAriaLabel(X){return $.accessibilityProvider.getAriaLabel(X.element)},getWidgetAriaLabel(){return $.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:$.accessibilityProvider&&$.accessibilityProvider.getWidgetRole?()=>$.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:$.accessibilityProvider&&$.accessibilityProvider.getAriaLevel?(X)=>$.accessibilityProvider.getAriaLevel(X.element):(X)=>{return X.depth},getActiveDescendantId:$.accessibilityProvider.getActiveDescendantId&&((X)=>{return $.accessibilityProvider.getActiveDescendantId(X.element)})},keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(X){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X.element)}}}},y40=function(J,$){return J.position===$.position&&hr(J,$)},hr=function(J,$){return J.node.element===$.node.element&&J.startIndex===$.startIndex&&J.height===$.height&&J.endIndex===$.endIndex},Sr=function(J){let $=dY.Unknown;if(vF(J.browserEvent.target,"monaco-tl-twistie","monaco-tl-row"))$=dY.Twistie;else if(vF(J.browserEvent.target,"monaco-tl-contents","monaco-tl-row"))$=dY.Element;else if(vF(J.browserEvent.target,"monaco-tree-type-filter","monaco-list"))$=dY.Filter;return{browserEvent:J.browserEvent,element:J.element?J.element.element:null,target:$}},WD=function(J,$){$(J),J.children.forEach((X)=>WD(X,$))};(function(J){J.None="none",J.OnHover="onHover",J.Always="always"})(Uj||(Uj={}));Hj.DefaultIndent=8;(function(J){J[J.Highlight=0]="Highlight",J[J.Filter=1]="Filter"})(e$||(e$={}));(function(J){J[J.Fuzzy=0]="Fuzzy",J[J.Contiguous=1]="Contiguous"})(sY||(sY={}))});class K2{constructor(J,$,X={}){if(this.user=J,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ck(J,$,null,X),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,X.sorter)this.sorter={compare(Q,Y){return X.sorter.compare(Q.element,Y.element)}};this.identityProvider=X.identityProvider}setChildren(J,$=W1.empty(),X={}){const Q=this.getElementLocation(J);this._setChildren(Q,this.preserveCollapseState($),X)}_setChildren(J,$=W1.empty(),X){const Q=new Set,Y=new Set,Z=(q)=>{var U;if(q.element===null)return;const H=q;if(Q.add(H.element),this.nodes.set(H.element,H),this.identityProvider){const z=this.identityProvider.getId(H.element).toString();Y.add(z),this.nodesByIdentity.set(z,H)}(U=X.onDidCreateNode)===null||U===void 0||U.call(X,H)},G=(q)=>{var U;if(q.element===null)return;const H=q;if(!Q.has(H.element))this.nodes.delete(H.element);if(this.identityProvider){const z=this.identityProvider.getId(H.element).toString();if(!Y.has(z))this.nodesByIdentity.delete(z)}(U=X.onDidDeleteNode)===null||U===void 0||U.call(X,H)};this.model.splice([...J,0],Number.MAX_VALUE,$,{...X,onDidCreateNode:Z,onDidDeleteNode:G})}preserveCollapseState(J=W1.empty()){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return W1.map(J,($)=>{let X=this.nodes.get($.element);if(!X&&this.identityProvider){const Z=this.identityProvider.getId($.element).toString();X=this.nodesByIdentity.get(Z)}if(!X){let Z;if(typeof $.collapsed==="undefined")Z=void 0;else if($.collapsed===_5.Collapsed||$.collapsed===_5.PreserveOrCollapsed)Z=!0;else if($.collapsed===_5.Expanded||$.collapsed===_5.PreserveOrExpanded)Z=!1;else Z=Boolean($.collapsed);return{...$,children:this.preserveCollapseState($.children),collapsed:Z}}const Q=typeof $.collapsible==="boolean"?$.collapsible:X.collapsible;let Y;if(typeof $.collapsed==="undefined"||$.collapsed===_5.PreserveOrCollapsed||$.collapsed===_5.PreserveOrExpanded)Y=X.collapsed;else if($.collapsed===_5.Collapsed)Y=!0;else if($.collapsed===_5.Expanded)Y=!1;else Y=Boolean($.collapsed);return{...$,collapsible:Q,collapsed:Y,children:this.preserveCollapseState($.children)}})}rerender(J){const $=this.getElementLocation(J);this.model.rerender($)}getFirstElementChild(J=null){const $=this.getElementLocation(J);return this.model.getFirstElementChild($)}has(J){return this.nodes.has(J)}getListIndex(J){const $=this.getElementLocation(J);return this.model.getListIndex($)}getListRenderCount(J){const $=this.getElementLocation(J);return this.model.getListRenderCount($)}isCollapsible(J){const $=this.getElementLocation(J);return this.model.isCollapsible($)}setCollapsible(J,$){const X=this.getElementLocation(J);return this.model.setCollapsible(X,$)}isCollapsed(J){const $=this.getElementLocation(J);return this.model.isCollapsed($)}setCollapsed(J,$,X){const Q=this.getElementLocation(J);return this.model.setCollapsed(Q,$,X)}expandTo(J){const $=this.getElementLocation(J);this.model.expandTo($)}refilter(){this.model.refilter()}getNode(J=null){if(J===null)return this.model.getNode(this.model.rootRef);const $=this.nodes.get(J);if(!$)throw new k7(this.user,`Tree element not found: ${J}`);return $}getNodeLocation(J){return J.element}getParentNodeLocation(J){if(J===null)throw new k7(this.user,"Invalid getParentNodeLocation call");const $=this.nodes.get(J);if(!$)throw new k7(this.user,`Tree element not found: ${J}`);const X=this.model.getNodeLocation($),Q=this.model.getParentNodeLocation(X);return this.model.getNode(Q).element}getElementLocation(J){if(J===null)return[];const $=this.nodes.get(J);if(!$)throw new k7(this.user,`Tree element not found: ${J}`);return this.model.getNodeLocation($)}}var FD=N(()=>{jD();UU();_9()});function AD(J){const $=[J.element],X=J.incompressible||!1;let Q,Y;while(!0){if([Y,Q]=W1.consume(W1.from(J.children),2),Y.length!==1)break;if(Y[0].incompressible)break;J=Y[0],$.push(J.element)}return{element:{elements:$,incompressible:X},children:W1.map(W1.concat(Y,Q),AD),collapsible:J.collapsible,collapsed:J.collapsed}}function dr(J){return sk(J,0)}class ar{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(J,$,X={}){this.user=J,this.rootRef=null,this.nodes=new Map,this.model=new K2(J,$,X),this.enabled=typeof X.compressionEnabled==="undefined"?!0:X.compressionEnabled,this.identityProvider=X.identityProvider}setChildren(J,$=W1.empty(),X){const Q=X.diffIdentityProvider&&S40(X.diffIdentityProvider);if(J===null){const W=W1.map($,this.enabled?AD:KD);this._setChildren(null,W,{diffIdentityProvider:Q,diffDepth:Infinity});return}const Y=this.nodes.get(J);if(!Y)throw new k7(this.user,"Unknown compressed tree node");const Z=this.model.getNode(Y),G=this.model.getParentNodeLocation(Y),q=this.model.getNode(G),U=dr(Z),H=sr(U,J,$),z=(this.enabled?AD:KD)(H),V=X.diffIdentityProvider?(W,B)=>X.diffIdentityProvider.getId(W)===X.diffIdentityProvider.getId(B):void 0;if(Q8(z.element.elements,Z.element.elements,V)){this._setChildren(Y,z.children||W1.empty(),{diffIdentityProvider:Q,diffDepth:1});return}const j=q.children.map((W)=>W===Z?z:W);this._setChildren(q.element,j,{diffIdentityProvider:Q,diffDepth:Z.depth-q.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(J){if(J===this.enabled)return;this.enabled=J;const X=this.model.getNode().children,Q=W1.map(X,dr),Y=W1.map(Q,J?AD:KD);this._setChildren(null,Y,{diffIdentityProvider:this.identityProvider,diffDepth:Infinity})}_setChildren(J,$,X){const Q=new Set,Y=(G)=>{for(let q of G.element.elements)Q.add(q),this.nodes.set(q,G.element)},Z=(G)=>{for(let q of G.element.elements)if(!Q.has(q))this.nodes.delete(q)};this.model.setChildren(J,$,{...X,onDidCreateNode:Y,onDidDeleteNode:Z})}has(J){return this.nodes.has(J)}getListIndex(J){const $=this.getCompressedNode(J);return this.model.getListIndex($)}getListRenderCount(J){const $=this.getCompressedNode(J);return this.model.getListRenderCount($)}getNode(J){if(typeof J==="undefined")return this.model.getNode();const $=this.getCompressedNode(J);return this.model.getNode($)}getNodeLocation(J){const $=this.model.getNodeLocation(J);if($===null)return null;return $.elements[$.elements.length-1]}getParentNodeLocation(J){const $=this.getCompressedNode(J),X=this.model.getParentNodeLocation($);if(X===null)return null;return X.elements[X.elements.length-1]}getFirstElementChild(J){const $=this.getCompressedNode(J);return this.model.getFirstElementChild($)}isCollapsible(J){const $=this.getCompressedNode(J);return this.model.isCollapsible($)}setCollapsible(J,$){const X=this.getCompressedNode(J);return this.model.setCollapsible(X,$)}isCollapsed(J){const $=this.getCompressedNode(J);return this.model.isCollapsed($)}setCollapsed(J,$,X){const Q=this.getCompressedNode(J);return this.model.setCollapsed(Q,$,X)}expandTo(J){const $=this.getCompressedNode(J);this.model.expandTo($)}rerender(J){const $=this.getCompressedNode(J);this.model.rerender($)}refilter(){this.model.refilter()}getCompressedNode(J){if(J===null)return null;const $=this.nodes.get(J);if(!$)throw new k7(this.user,`Tree element not found: ${J}`);return $}}class ak{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((J)=>new ak(this.unwrapper,J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J,$){this.unwrapper=J,this.node=$}}class rk{get onDidSplice(){return J0.map(this.model.onDidSplice,({insertedNodes:J,deletedNodes:$})=>({insertedNodes:J.map((X)=>this.nodeMapper.map(X)),deletedNodes:$.map((X)=>this.nodeMapper.map(X))}))}get onDidChangeCollapseState(){return J0.map(this.model.onDidChangeCollapseState,({node:J,deep:$})=>({node:this.nodeMapper.map(J),deep:$}))}get onDidChangeRenderNodeCount(){return J0.map(this.model.onDidChangeRenderNodeCount,(J)=>this.nodeMapper.map(J))}constructor(J,$,X={}){this.rootRef=null,this.elementMapper=X.elementMapper||C40;const Q=(Y)=>this.elementMapper(Y.elements);this.nodeMapper=new qU((Y)=>new ak(Q,Y)),this.model=new ar(J,x40(this.nodeMapper,$),b40(Q,X))}setChildren(J,$=W1.empty(),X={}){this.model.setChildren(J,$,X)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(J){this.model.setCompressionEnabled(J)}has(J){return this.model.has(J)}getListIndex(J){return this.model.getListIndex(J)}getListRenderCount(J){return this.model.getListRenderCount(J)}getNode(J){return this.nodeMapper.map(this.model.getNode(J))}getNodeLocation(J){return J.element}getParentNodeLocation(J){return this.model.getParentNodeLocation(J)}getFirstElementChild(J){const $=this.model.getFirstElementChild(J);if($===null||typeof $==="undefined")return $;return this.elementMapper($.elements)}isCollapsible(J){return this.model.isCollapsible(J)}setCollapsible(J,$){return this.model.setCollapsible(J,$)}isCollapsed(J){return this.model.isCollapsed(J)}setCollapsed(J,$,X){return this.model.setCollapsed(J,$,X)}expandTo(J){return this.model.expandTo(J)}rerender(J){return this.model.rerender(J)}refilter(){return this.model.refilter()}getCompressedTreeNode(J=null){return this.model.getNode(J)}}var KD,sk,sr,x40,b40,S40,C40;var rr=N(()=>{FD();UU();H1();F0();_9();KD=function(J){const $=[J.element],X=J.incompressible||!1;return{element:{elements:$,incompressible:X},children:W1.map(W1.from(J.children),KD),collapsible:J.collapsible,collapsed:J.collapsed}};sk=function(J,$=0){let X;if($<J.element.elements.length-1)X=[sk(J,$+1)];else X=W1.map(W1.from(J.children),(Q)=>sk(Q,0));if($===0&&J.element.incompressible)return{element:J.element.elements[$],children:X,incompressible:!0,collapsible:J.collapsible,collapsed:J.collapsed};return{element:J.element.elements[$],children:X,collapsible:J.collapsible,collapsed:J.collapsed}};sr=function(J,$,X){if(J.element===$)return{...J,children:X};return{...J,children:W1.map(W1.from(J.children),(Q)=>sr(Q,$,X))}},x40=function(J,$){return{splice(X,Q,Y){$.splice(X,Q,Y.map((Z)=>J.map(Z)))},updateElementHeight(X,Q){$.updateElementHeight(X,Q)}}},b40=function(J,$){return{...$,identityProvider:$.identityProvider&&{getId(X){return $.identityProvider.getId(J(X))}},sorter:$.sorter&&{compare(X,Q){return $.sorter.compare(X.elements[0],Q.elements[0])}},filter:$.filter&&{filter(X,Q){return $.filter.filter(J(X),Q)}}}},S40=(J)=>({getId($){return $.elements.map((X)=>J.getId(X).toString()).join("\0")}});C40=(J)=>J[J.length-1]});class HU extends Vj{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(J,$,X,Q,Y={}){super(J,$,X,Q,Y);this.user=J}setChildren(J,$=W1.empty(),X){this.model.setChildren(J,$,X)}rerender(J){if(J===void 0){this.view.rerender();return}this.model.rerender(J)}hasElement(J){return this.model.has(J)}createModel(J,$,X){return new K2(J,$,X)}}class ik{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(J,$,X){if(this._compressedTreeNodeProvider=J,this.stickyScrollDelegate=$,this.renderer=X,this.templateId=X.templateId,X.onDidChangeTwistieState)this.onDidChangeTwistieState=X.onDidChangeTwistieState}renderTemplate(J){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){let Y=this.stickyScrollDelegate.getCompressedNode(J);if(!Y)Y=this.compressedTreeNodeProvider.getCompressedTreeNode(J.element);if(Y.element.elements.length===1)X.compressedTreeNode=void 0,this.renderer.renderElement(J,$,X.data,Q);else X.compressedTreeNode=Y,this.renderer.renderCompressedElements(Y,$,X.data,Q)}disposeElement(J,$,X,Q){var Y,Z,G,q;if(X.compressedTreeNode)(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,X.compressedTreeNode,$,X.data,Q);else(q=(G=this.renderer).disposeElement)===null||q===void 0||q.call(G,J,$,X.data,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.data)}renderTwistie(J,$){if(this.renderer.renderTwistie)return this.renderer.renderTwistie(J,$);return!1}}class ir{constructor(J){this.modelProvider=J,this.compressedStickyNodes=new Map}getCompressedNode(J){return this.compressedStickyNodes.get(J)}constrainStickyScrollNodes(J,$,X){if(this.compressedStickyNodes.clear(),J.length===0)return[];for(let Q=0;Q<J.length;Q++){const Y=J[Q],Z=Y.position+Y.height;if(Q+1<J.length&&Z+J[Q+1].height>X||Q>=$-1&&$<J.length){const q=J.slice(0,Q),U=J.slice(Q),H=this.compressStickyNodes(U);return[...q,H]}}return J}compressStickyNodes(J){if(J.length===0)throw new Error("Can\'t compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return J[0];const $=[];for(let q of J){const U=this.modelProvider().getCompressedTreeNode(q.node.element);if(U.element){if(U.element.incompressible)break;$.push(...U.element.elements)}}if($.length<2)return J[0];const X=J[J.length-1],Q={elements:$,incompressible:!1},Y={...X.node,children:[],element:Q},Z=new Proxy(J[0].node,{}),G={node:Z,startIndex:J[0].startIndex,endIndex:X.endIndex,position:J[0].position,height:J[0].height};return this.compressedStickyNodes.set(Z,Y),G}}class Wj extends HU{constructor(J,$,X,Q,Y={}){const Z=()=>this,G=new ir(()=>this.model),q=Q.map((U)=>new ik(Z,G,U));super(J,$,X,q,{...f40(Z,Y),stickyScrollDelegate:G})}setChildren(J,$=W1.empty(),X){this.model.setChildren(J,$,X)}createModel(J,$,X){return new rk(J,$,X)}updateOptions(J={}){if(super.updateOptions(J),typeof J.compressionEnabled!=="undefined")this.model.setCompressionEnabled(J.compressionEnabled)}getCompressedTreeNode(J=null){return this.model.getCompressedTreeNode(J)}}var f40,v40;var nk=N(()=>{jj();rr();FD();AY();_9();f40=function(J,$){return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(X){let Q;try{Q=J().getCompressedTreeNode(X)}catch(Y){return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X)}if(Q.element.elements.length===1)return $.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(X);else return $.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Q.element.elements)}}}},v40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};v40([Y8],ik.prototype,"compressedTreeNodeProvider",null)});class $I{get element(){return this.node.element.element}get children(){return this.node.children.map((J)=>new $I(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class tr{constructor(J,$,X){this.renderer=J,this.nodeMapper=$,this.onDidChangeTwistieState=X,this.renderedNodes=new Map,this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){this.renderer.renderElement(this.nodeMapper.map(J),$,X.templateData,Q)}renderTwistie(J,$){if(J.slow)return $.classList.add(...y0.asClassNameArray(U0.treeItemLoading)),!0;else return $.classList.remove(...y0.asClassNameArray(U0.treeItemLoading)),!1}disposeElement(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,X.templateData,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear()}}class er extends lY{constructor(J){super(J.elements.map(($)=>$.element));this.data=J}}class Ji{constructor(J){this.dnd=J}getDragURI(J){return this.dnd.getDragURI(J.element)}getDragLabel(J,$){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(J.map((X)=>X.element),$);return}onDragStart(J,$){var X,Q;(Q=(X=this.dnd).onDragStart)===null||Q===void 0||Q.call(X,tk(J),$)}onDragOver(J,$,X,Q,Y,Z=!0){return this.dnd.onDragOver(tk(J),$&&$.element,X,Q,Y)}drop(J,$,X,Q,Y){this.dnd.drop(tk(J),$&&$.element,X,Q,Y)}onDragEnd(J){var $,X;(X=($=this.dnd).onDragEnd)===null||X===void 0||X.call($,J)}dispose(){this.dnd.dispose()}}class PD{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return J0.map(this.tree.onDidChangeFocus,nr)}get onDidChangeSelection(){return J0.map(this.tree.onDidChangeSelection,nr)}get onMouseDblClick(){return J0.map(this.tree.onMouseDblClick,or)}get onPointer(){return J0.map(this.tree.onPointer,or)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(J,$,X,Q,Y,Z={}){if(this.user=J,this.dataSource=Y,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new y,this._onDidChangeNodeSlowState=new y,this.nodeMapper=new qU((G)=>new $I(G)),this.disposables=new r,this.identityProvider=Z.identityProvider,this.autoExpandSingleChildren=typeof Z.autoExpandSingleChildren==="undefined"?!1:Z.autoExpandSingleChildren,this.sorter=Z.sorter,this.getDefaultCollapseState=(G)=>Z.collapseByDefault?Z.collapseByDefault(G)?_5.PreserveOrCollapsed:_5.PreserveOrExpanded:void 0,this.tree=this.createTree(J,$,X,Q,Z),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=ok({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider)this.root={...this.root,id:null};this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(J,$,X,Q,Y){const Z=new zj(X),G=Q.map((U)=>new tr(U,this.nodeMapper,this._onDidChangeNodeSlowState.event)),q=$i(Y)||{};return new HU(J,$,Z,G,q)}updateOptions(J={}){this.tree.updateOptions(J)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(J){this.tree.scrollTop=J}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(J,$){this.tree.layout(J,$)}style(J){this.tree.style(J)}getInput(){return this.root.element}async setInput(J,$){this.refreshPromises.forEach((Q)=>Q.cancel()),this.refreshPromises.clear(),this.root.element=J;const X=$&&{viewState:$,focus:[],selection:[]};if(await this._updateChildren(J,!0,!1,X),X)this.tree.setFocus(X.focus),this.tree.setSelection(X.selection);if($&&typeof $.scrollTop==="number")this.scrollTop=$.scrollTop}async _updateChildren(J=this.root.element,$=!0,X=!1,Q,Y){if(typeof this.root.element==="undefined")throw new k7(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);const Z=this.getDataNode(J);if(await this.refreshAndRenderNode(Z,$,Q,Y),X)try{this.tree.rerender(Z)}catch(G){}}rerender(J){if(J===void 0||J===this.root.element){this.tree.rerender();return}const $=this.getDataNode(J);this.tree.rerender($)}getNode(J=this.root.element){const $=this.getDataNode(J),X=this.tree.getNode($===this.root?null:$);return this.nodeMapper.map(X)}collapse(J,$=!1){const X=this.getDataNode(J);return this.tree.collapse(X===this.root?null:X,$)}async expand(J,$=!1){if(typeof this.root.element==="undefined")throw new k7(this.user,"Tree input not set");if(this.root.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);const X=this.getDataNode(J);if(this.tree.hasElement(X)&&!this.tree.isCollapsible(X))return!1;if(X.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);if(X!==this.root&&!X.refreshPromise&&!this.tree.isCollapsed(X))return!1;const Q=this.tree.expand(X===this.root?null:X,$);if(X.refreshPromise)await this.root.refreshPromise,await J0.toPromise(this._onDidRender.event);return Q}setSelection(J,$){const X=J.map((Q)=>this.getDataNode(Q));this.tree.setSelection(X,$)}getSelection(){return this.tree.getSelection().map(($)=>$.element)}setFocus(J,$){const X=J.map((Q)=>this.getDataNode(Q));this.tree.setFocus(X,$)}getFocus(){return this.tree.getFocus().map(($)=>$.element)}reveal(J,$){this.tree.reveal(this.getDataNode(J),$)}getParentElement(J){const $=this.tree.getParentElement(this.getDataNode(J));return $&&$.element}getFirstElementChild(J=this.root.element){const $=this.getDataNode(J),X=this.tree.getFirstElementChild($===this.root?null:$);return X&&X.element}getDataNode(J){const $=this.nodes.get(J===this.root.element?null:J);if(!$)throw new k7(this.user,`Data tree node not found: ${J}`);return $}async refreshAndRenderNode(J,$,X,Q){if(await this.refreshNode(J,$,X),this.disposables.isDisposed)return;this.render(J,X,Q)}async refreshNode(J,$,X){let Q;if(this.subTreeRefreshPromises.forEach((Y,Z)=>{if(!Q&&h40(Z,J))Q=Y.then(()=>this.refreshNode(J,$,X))}),Q)return Q;if(J!==this.root){if(this.tree.getNode(J).collapsed){J.hasChildren=!!this.dataSource.hasChildren(J.element),J.stale=!0;return}}return this.doRefreshSubTree(J,$,X)}async doRefreshSubTree(J,$,X){let Q;J.refreshPromise=new Promise((Y)=>Q=Y),this.subTreeRefreshPromises.set(J,J.refreshPromise),J.refreshPromise.finally(()=>{J.refreshPromise=void 0,this.subTreeRefreshPromises.delete(J)});try{const Y=await this.doRefreshNode(J,$,X);J.stale=!1,await MF.settled(Y.map((Z)=>this.doRefreshSubTree(Z,$,X)))}finally{Q()}}async doRefreshNode(J,$,X){J.hasChildren=!!this.dataSource.hasChildren(J.element);let Q;if(!J.hasChildren)Q=Promise.resolve(W1.empty());else{const Y=this.doGetChildren(J);if(HM(Y))Q=Promise.resolve(Y);else{const Z=IX(800);Z.then(()=>{J.slow=!0,this._onDidChangeNodeSlowState.fire(J)},(G)=>null),Q=Y.finally(()=>Z.cancel())}}try{const Y=await Q;return this.setChildren(J,Y,$,X)}catch(Y){if(J!==this.root&&this.tree.hasElement(J))this.tree.collapse(J);if($$(Y))return[];throw Y}finally{if(J.slow)J.slow=!1,this._onDidChangeNodeSlowState.fire(J)}}doGetChildren(J){let $=this.refreshPromises.get(J);if($)return $;const X=this.dataSource.getChildren(J.element);if(HM(X))return this.processChildren(X);else return $=iZ(async()=>this.processChildren(await X)),this.refreshPromises.set(J,$),$.finally(()=>{this.refreshPromises.delete(J)})}_onDidChangeCollapseState({node:J,deep:$}){if(J.element===null)return;if(!J.collapsed&&J.element.stale)if($)this.collapse(J.element.element);else this.refreshAndRenderNode(J.element,!1).catch(n0)}setChildren(J,$,X,Q){const Y=[...$];if(J.children.length===0&&Y.length===0)return[];const Z=new Map,G=new Map;for(let H of J.children)if(Z.set(H.element,H),this.identityProvider)G.set(H.id,{node:H,collapsed:this.tree.hasElement(H)&&this.tree.isCollapsed(H)});const q=[],U=Y.map((H)=>{const z=!!this.dataSource.hasChildren(H);if(!this.identityProvider){const B=ok({element:H,parent:J,hasChildren:z,defaultCollapseState:this.getDefaultCollapseState(H)});if(z&&B.defaultCollapseState===_5.PreserveOrExpanded)q.push(B);return B}const V=this.identityProvider.getId(H).toString(),j=G.get(V);if(j){const B=j.node;if(Z.delete(B.element),this.nodes.delete(B.element),this.nodes.set(H,B),B.element=H,B.hasChildren=z,X)if(j.collapsed)B.children.forEach((K)=>JI(K,(P)=>this.nodes.delete(P.element))),B.children.splice(0,B.children.length),B.stale=!0;else q.push(B);else if(z&&!j.collapsed)q.push(B);return B}const W=ok({element:H,parent:J,id:V,hasChildren:z,defaultCollapseState:this.getDefaultCollapseState(H)});if(Q&&Q.viewState.focus&&Q.viewState.focus.indexOf(V)>-1)Q.focus.push(W);if(Q&&Q.viewState.selection&&Q.viewState.selection.indexOf(V)>-1)Q.selection.push(W);if(Q&&Q.viewState.expanded&&Q.viewState.expanded.indexOf(V)>-1)q.push(W);else if(z&&W.defaultCollapseState===_5.PreserveOrExpanded)q.push(W);return W});for(let H of Z.values())JI(H,(z)=>this.nodes.delete(z.element));for(let H of U)this.nodes.set(H.element,H);if(J.children.splice(0,J.children.length,...U),J!==this.root&&this.autoExpandSingleChildren&&U.length===1&&q.length===0)U[0].forceExpanded=!0,q.push(U[0]);return q}render(J,$,X){const Q=J.children.map((Z)=>this.asTreeElement(Z,$)),Y=X&&{...X,diffIdentityProvider:X.diffIdentityProvider&&{getId(Z){return X.diffIdentityProvider.getId(Z.element)}}};if(this.tree.setChildren(J===this.root?null:J,Q,Y),J!==this.root)this.tree.setCollapsible(J,J.hasChildren);this._onDidRender.fire()}asTreeElement(J,$){if(J.stale)return{element:J,collapsible:J.hasChildren,collapsed:!0};let X;if($&&$.viewState.expanded&&J.id&&$.viewState.expanded.indexOf(J.id)>-1)X=!1;else if(J.forceExpanded)X=!1,J.forceExpanded=!1;else X=J.defaultCollapseState;return{element:J,children:J.hasChildren?W1.map(J.children,(Q)=>this.asTreeElement(Q,$)):[],collapsible:J.hasChildren,collapsed:X}}processChildren(J){if(this.sorter)J=[...J].sort(this.sorter.compare.bind(this.sorter));return J}dispose(){this.disposables.dispose(),this.tree.dispose()}}class XI{get element(){return{elements:this.node.element.elements.map((J)=>J.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((J)=>new XI(J))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(J){this.node=J}}class Xi{constructor(J,$,X,Q){this.renderer=J,this.nodeMapper=$,this.compressibleNodeMapperProvider=X,this.onDidChangeTwistieState=Q,this.renderedNodes=new Map,this.disposables=[],this.templateId=J.templateId}renderTemplate(J){return{templateData:this.renderer.renderTemplate(J)}}renderElement(J,$,X,Q){this.renderer.renderElement(this.nodeMapper.map(J),$,X.templateData,Q)}renderCompressedElements(J,$,X,Q){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(J),$,X.templateData,Q)}renderTwistie(J,$){if(J.slow)return $.classList.add(...y0.asClassNameArray(U0.treeItemLoading)),!0;else return $.classList.remove(...y0.asClassNameArray(U0.treeItemLoading)),!1}disposeElement(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeElement)===null||Z===void 0||Z.call(Y,this.nodeMapper.map(J),$,X.templateData,Q)}disposeCompressedElements(J,$,X,Q){var Y,Z;(Z=(Y=this.renderer).disposeCompressedElements)===null||Z===void 0||Z.call(Y,this.compressibleNodeMapperProvider().map(J),$,X.templateData,Q)}disposeTemplate(J){this.renderer.disposeTemplate(J.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=k1(this.disposables)}}class QI extends PD{constructor(J,$,X,Q,Y,Z,G={}){super(J,$,X,Y,Z,G);this.compressionDelegate=Q,this.compressibleNodeMapper=new qU((q)=>new XI(q)),this.filter=G.filter}createTree(J,$,X,Q,Y){const Z=new zj(X),G=Q.map((U)=>new Xi(U,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),q=g40(Y)||{};return new Wj(J,$,Z,G,q)}asTreeElement(J,$){return{incompressible:this.compressionDelegate.isIncompressible(J.element),...super.asTreeElement(J,$)}}updateOptions(J={}){this.tree.updateOptions(J)}render(J,$,X){if(!this.identityProvider)return super.render(J,$);const Q=(j)=>this.identityProvider.getId(j).toString(),Y=(j)=>{const W=new Set;for(let B of j){const K=this.tree.getCompressedTreeNode(B===this.root?null:B);if(!K.element)continue;for(let P of K.element.elements)W.add(Q(P.element))}return W},Z=Y(this.tree.getSelection()),G=Y(this.tree.getFocus());super.render(J,$,X);const q=this.getSelection();let U=!1;const H=this.getFocus();let z=!1;const V=(j)=>{const W=j.element;if(W)for(let B=0;B<W.elements.length;B++){const K=Q(W.elements[B].element),P=W.elements[W.elements.length-1].element;if(Z.has(K)&&q.indexOf(P)===-1)q.push(P),U=!0;if(G.has(K)&&H.indexOf(P)===-1)H.push(P),z=!0}j.children.forEach(V)};if(V(this.tree.getCompressedTreeNode(J===this.root?null:J)),U)this.setSelection(q);if(z)this.setFocus(H)}processChildren(J){if(this.filter)J=W1.filter(J,($)=>{const X=this.filter.filter($,1),Q=p40(X);if(Q===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return Q===1});return super.processChildren(J)}}var ok,ek,h40,nr,or,tk,$i,JI,g40,p40;var Qi=N(()=>{sP();jj();jD();nk();UU();u1();z6();W6();D1();F0();_9();X0();G8();ok=function(J){return{...J,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}},ek=function(J,$){if(!$.parent)return!1;else if($.parent===J)return!0;else return ek(J,$.parent)},h40=function(J,$){return J===$||ek(J,$)||ek($,J)},nr=function(J){return{browserEvent:J.browserEvent,elements:J.elements.map(($)=>$.element)}},or=function(J){return{browserEvent:J.browserEvent,element:J.element&&J.element.element,target:J.target}},tk=function(J){if(J instanceof lY)return new er(J);return J},$i=function(J){return J&&{...J,collapseByDefault:!0,identityProvider:J.identityProvider&&{getId($){return J.identityProvider.getId($.element)}},dnd:J.dnd&&new Ji(J.dnd),multipleSelectionController:J.multipleSelectionController&&{isSelectionSingleChangeEvent($){return J.multipleSelectionController.isSelectionSingleChangeEvent({...$,element:$.element})},isSelectionRangeChangeEvent($){return J.multipleSelectionController.isSelectionRangeChangeEvent({...$,element:$.element})}},accessibilityProvider:J.accessibilityProvider&&{...J.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:J.accessibilityProvider.getRole?($)=>{return J.accessibilityProvider.getRole($.element)}:()=>"treeitem",isChecked:J.accessibilityProvider.isChecked?($)=>{var X;return!!((X=J.accessibilityProvider)===null||X===void 0?void 0:X.isChecked($.element))}:void 0,getAriaLabel($){return J.accessibilityProvider.getAriaLabel($.element)},getWidgetAriaLabel(){return J.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:J.accessibilityProvider.getWidgetRole?()=>J.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:J.accessibilityProvider.getAriaLevel&&(($)=>{return J.accessibilityProvider.getAriaLevel($.element)}),getActiveDescendantId:J.accessibilityProvider.getActiveDescendantId&&(($)=>{return J.accessibilityProvider.getActiveDescendantId($.element)})},filter:J.filter&&{filter($,X){return J.filter.filter($.element,X)}},keyboardNavigationLabelProvider:J.keyboardNavigationLabelProvider&&{...J.keyboardNavigationLabelProvider,getKeyboardNavigationLabel($){return J.keyboardNavigationLabelProvider.getKeyboardNavigationLabel($.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof J.expandOnlyOnTwistieClick==="undefined"?void 0:typeof J.expandOnlyOnTwistieClick!=="function"?J.expandOnlyOnTwistieClick:($)=>J.expandOnlyOnTwistieClick($.element),defaultFindVisibility:($)=>{if($.hasChildren&&$.stale)return 1;else if(typeof J.defaultFindVisibility==="number")return J.defaultFindVisibility;else if(typeof J.defaultFindVisibility==="undefined")return 2;else return J.defaultFindVisibility($.element)}}},JI=function(J,$){$(J),J.children.forEach((X)=>JI(X,$))},g40=function(J){const $=J&&$i(J);return $&&{...$,keyboardNavigationLabelProvider:$.keyboardNavigationLabelProvider&&{...$.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(X){return J.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(X.map((Q)=>Q.element))}}}},p40=function(J){if(typeof J==="boolean")return J?1:0;else if(qj(J))return F2(J.visibility);else return F2(J)}});class YI extends Vj{constructor(J,$,X,Q,Y,Z={}){super(J,$,X,Q,Z);this.user=J,this.dataSource=Y,this.identityProvider=Z.identityProvider}createModel(J,$,X){return new K2(J,$,X)}}var Yi=N(()=>{jj();FD()});var gc0,pc0,mc0,uc0,cc0,lc0,dc0,sc0,ac0,ZI,rc0;var Zi=N(()=>{O1();h0();m1();gc0=new z0("isMac",a0,F("isMac","Whether the operating system is macOS")),pc0=new z0("isLinux",B8,F("isLinux","Whether the operating system is Linux")),mc0=new z0("isWindows",k8,F("isWindows","Whether the operating system is Windows")),uc0=new z0("isWeb",t4,F("isWeb","Whether the platform is a web browser")),cc0=new z0("isMacNative",a0&&!t4,F("isMacNative","Whether the operating system is macOS on a non-browser platform")),lc0=new z0("isIOS",N9,F("isIOS","Whether the operating system is iOS")),dc0=new z0("isMobile",pW,F("isMobile","Whether the platform is a mobile web browser")),sc0=new z0("isDevelopment",!1,!0),ac0=new z0("productQualityType","",F("productQualityType","Quality type of VS Code")),ZI="inputFocus",rc0=new z0(ZI,!1,F("inputFocus","Whether keyboard focus is inside an input box"))});class GI{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new r,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(J){var $,X;if(J===this._lastFocusedWidget)return;($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=J,(X=this._lastFocusedWidget)===null||X===void 0||X.getHTMLElement().classList.add("last-focused")}register(J,$){if(!this._hasCreatedStyleController)this._hasCreatedStyleController=!0,new iP(O6(),"").style(j2);if(this.lists.some((Q)=>Q.widget===J))throw new Error("Cannot register the same widget multiple times");const X={widget:J,extraContextKeys:$};if(this.lists.push(X),JG(J.getHTMLElement()))this.setLastFocusedList(J);return x7(J.onDidFocus(()=>this.setLastFocusedList(J)),K0(()=>this.lists.splice(this.lists.indexOf(X),1)),J.onDidDispose(()=>{if(this.lists=this.lists.filter((Q)=>Q!==X),this._lastFocusedWidget===J)this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}class Ai extends f{constructor(J){super();this.configurationService=J,this.useAltAsMultipleSelectionModifier=XX(J),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((J)=>{if(J.affectsConfiguration(P2))this.useAltAsMultipleSelectionModifier=XX(this.configurationService)}))}isSelectionSingleChangeEvent(J){if(this.useAltAsMultipleSelectionModifier)return J.browserEvent.altKey;return zk(J)}isSelectionRangeChangeEvent(J){return Vk(J)}}class yD extends f{constructor(J,$){var X;super();if(this.widget=J,this._onDidOpen=this._register(new y),this.onDidOpen=this._onDidOpen.event,this._register(J0.filter(this.widget.onDidChangeSelection,(Q)=>Bq(Q.browserEvent))((Q)=>this.onSelectionFromKeyboard(Q))),this._register(this.widget.onPointer((Q)=>this.onPointer(Q.element,Q.browserEvent))),this._register(this.widget.onMouseDblClick((Q)=>this.onMouseDblClick(Q.element,Q.browserEvent))),typeof($===null||$===void 0?void 0:$.openOnSingleClick)!=="boolean"&&($===null||$===void 0?void 0:$.configurationService))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(DD))!=="doubleClick",this._register($===null||$===void 0?void 0:$.configurationService.onDidChangeConfiguration((Q)=>{if(Q.affectsConfiguration(DD))this.openOnSingleClick=($===null||$===void 0?void 0:$.configurationService.getValue(DD))!=="doubleClick"}));else this.openOnSingleClick=(X=$===null||$===void 0?void 0:$.openOnSingleClick)!==null&&X!==void 0?X:!0}onSelectionFromKeyboard(J){if(J.elements.length!==1)return;const $=J.browserEvent,X=typeof $.preserveFocus==="boolean"?$.preserveFocus:!0,Q=typeof $.pinned==="boolean"?$.pinned:!X,Y=!1;this._open(this.getSelectedElement(),X,Q,Y,J.browserEvent)}onPointer(J,$){if(!this.openOnSingleClick)return;if($.detail===2)return;const Q=$.button===1,Y=!0,Z=Q,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}onMouseDblClick(J,$){if(!$)return;const X=$.target;if(X.classList.contains("monaco-tl-twistie")||X.classList.contains("monaco-icon-label")&&X.classList.contains("folder-icon")&&$.offsetX<16)return;const Y=!1,Z=!0,G=$.ctrlKey||$.metaKey||$.altKey;this._open(J,Y,Z,G,$)}_open(J,$,X,Q,Y){if(!J)return;this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:X,revealIfVisible:!0},sideBySide:Q,element:J,browserEvent:Y})}}class WI extends yD{constructor(J,$){super(J,$);this.widget=J}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Pi extends yD{constructor(J,$){super(J,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Di extends yD{constructor(J,$){super(J,$)}getSelectedElement(){var J;return(J=this.widget.getSelection()[0])!==null&&J!==void 0?J:void 0}}var ED,kD,XX,ID,a40,Ri,Mi,Kj,EQ,X8,g4,Bj,Kl0,Al0,Wi,Bi,wD,Pl0,qI,UI,HI,LD,m40,u40,c40,l40,d40,s40,Fi,Ki,P2,DD,n9,zI,VI,RD,f4,jI,Fj,MD,h4,JX,$X,OD,TD,ND,_D,Gi,qi,Ui,Hi,zi,Vi,ji,A2,r40;var BI=N(()=>{D0();Br();G2();Nr();jj();Qi();Yi();nk();F0();X0();h0();h7();UG();m1();Zi();DQ();m0();xJ();Y5();e3();ED=function(J,$){const X=J.createScoped($.getHTMLElement());return Wi.bindTo(X),X},kD=function(J,$){const X=Bj.bindTo(J),Q=()=>{const Y=$.scrollTop===0,Z=$.scrollHeight-$.renderHeight-$.scrollTop<1;if(Y&&Z)X.set("both");else if(Y)X.set("top");else if(Z)X.set("bottom");else X.set("none")};return Q(),$.onDidScroll(Q)},XX=function(J){return J.getValue(P2)==="alt"},ID=function(J,$){var X;const Q=J.get(S1),Y=J.get(l8),Z=new r;return[{...$,keyboardNavigationDelegate:{mightProducePrintableCharacter(q){return Y.mightProducePrintableCharacter(q)}},smoothScrolling:Boolean(Q.getValue(h4)),mouseWheelScrollSensitivity:Q.getValue(JX),fastScrollSensitivity:Q.getValue($X),multipleSelectionController:(X=$.multipleSelectionController)!==null&&X!==void 0?X:Z.add(new Ai(Q)),keyboardNavigationEventFilter:a40(Y),scrollByPage:Boolean(Q.getValue(f4))},Z]},a40=function(J){let $=!1;return(X)=>{if(X.toKeyCodeChord().isModifierKey())return!1;if($)return $=!1,!1;const Q=J.softDispatch(X,X.target);if(Q.kind===1)return $=!0,!1;return $=!1,Q.kind===0}},Ri=function(J){const $=J.getValue(zI);if($==="highlight")return e$.Highlight;else if($==="filter")return e$.Filter;const X=J.getValue(RD);if(X==="simple"||X==="highlight")return e$.Highlight;else if(X==="filter")return e$.Filter;return},Mi=function(J){const $=J.getValue(jI);if($==="fuzzy")return sY.Fuzzy;else if($==="contiguous")return sY.Contiguous;return},Kj=function(J,$){var X;const Q=J.get(S1),Y=J.get(S4),Z=J.get(v0),G=J.get(g0),q=()=>{const W=Z.getContextKeyValue(Fi);if(W==="automatic")return C4.Automatic;else if(W==="trigger")return C4.Trigger;if(Z.getContextKeyValue(Ki)===!1)return C4.Trigger;const K=Q.getValue(VI);if(K==="automatic")return C4.Automatic;else if(K==="trigger")return C4.Trigger;return},U=$.horizontalScrolling!==void 0?$.horizontalScrolling:Boolean(Q.getValue(n9)),[H,z]=G.invokeFunction(ID,$),V=$.paddingBottom,j=$.renderIndentGuides!==void 0?$.renderIndentGuides:Q.getValue(MD);return{getTypeNavigationMode:q,disposable:z,options:{keyboardSupport:!1,...H,indent:typeof Q.getValue(Fj)==="number"?Q.getValue(Fj):void 0,renderIndentGuides:j,smoothScrolling:Boolean(Q.getValue(h4)),defaultFindMode:Ri(Q),defaultFindMatchType:Mi(Q),horizontalScrolling:U,scrollByPage:Boolean(Q.getValue(f4)),paddingBottom:V,hideTwistiesOfChildlessElements:$.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(X=$.expandOnlyOnTwistieClick)!==null&&X!==void 0?X:Q.getValue(OD)==="doubleClick",contextViewProvider:Y,findWidgetStyles:pa,enableStickyScroll:Boolean(Q.getValue(TD)),stickyScrollMaxItemCount:Number(Q.getValue(ND))}}},EQ=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},X8=function(J,$){return function(X,Q){$(X,Q,J)}},g4=M0("listService");Bj=new z0("listScrollAtBoundary","none"),Kl0=N0.or(Bj.isEqualTo("top"),Bj.isEqualTo("both")),Al0=N0.or(Bj.isEqualTo("bottom"),Bj.isEqualTo("both")),Wi=new z0("listFocus",!0),Bi=new z0("treestickyScrollFocused",!1),wD=new z0("listSupportsMultiselect",!0),Pl0=N0.and(Wi,N0.not(ZI),Bi.negate()),qI=new z0("listHasSelectionOrFocus",!1),UI=new z0("listDoubleSelection",!1),HI=new z0("listMultiSelection",!1),LD=new z0("listSelectionNavigation",!1),m40=new z0("listSupportsFind",!0),u40=new z0("treeElementCanCollapse",!1),c40=new z0("treeElementHasParent",!1),l40=new z0("treeElementCanExpand",!1),d40=new z0("treeElementHasChild",!1),s40=new z0("treeFindOpen",!1),Fi="listTypeNavigationMode",Ki="listAutomaticKeyboardNavigation",P2="workbench.list.multiSelectModifier",DD="workbench.list.openMode",n9="workbench.list.horizontalScrolling",zI="workbench.list.defaultFindMode",VI="workbench.list.typeNavigationMode",RD="workbench.list.keyboardNavigation",f4="workbench.list.scrollByPage",jI="workbench.list.defaultFindMatchType",Fj="workbench.tree.indent",MD="workbench.tree.renderIndentGuides",h4="workbench.list.smoothScrolling",JX="workbench.list.mouseWheelScrollSensitivity",$X="workbench.list.fastScrollSensitivity",OD="workbench.tree.expandMode",TD="workbench.tree.enableStickyScroll",ND="workbench.tree.stickyScrollMaxItemCount";_D=class J extends d7{constructor($,X,Q,Y,Z,G,q,U,H){const z=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(n9)),[V,j]=H.invokeFunction(ID,Z);super($,X,Q,Y,{keyboardSupport:!1,...V,horizontalScrolling:z});this.disposables.add(j),this.contextKeyService=ED(G,this),this.disposables.add(kD(this.contextKeyService,this)),this.listSupportsMultiSelect=wD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),LD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this.listHasSelectionOrFocus=qI.bindTo(this.contextKeyService),this.listDoubleSelection=UI.bindTo(this.contextKeyService),this.listMultiSelection=HI.bindTo(this.contextKeyService),this.horizontalScrolling=Z.horizontalScrolling,this._useAltAsMultipleSelectionModifier=XX(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const B=this.getSelection(),K=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(B.length>0||K.length>0),this.listMultiSelection.set(B.length>1),this.listDoubleSelection.set(B.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const B=this.getSelection(),K=this.getFocus();this.listHasSelectionOrFocus.set(B.length>0||K.length>0)})),this.disposables.add(U.onDidChangeConfiguration((B)=>{if(B.affectsConfiguration(P2))this._useAltAsMultipleSelectionModifier=XX(U);let K={};if(B.affectsConfiguration(n9)&&this.horizontalScrolling===void 0){const P=Boolean(U.getValue(n9));K={...K,horizontalScrolling:P}}if(B.affectsConfiguration(f4)){const P=Boolean(U.getValue(f4));K={...K,scrollByPage:P}}if(B.affectsConfiguration(h4)){const P=Boolean(U.getValue(h4));K={...K,smoothScrolling:P}}if(B.affectsConfiguration(JX)){const P=U.getValue(JX);K={...K,mouseWheelScrollSensitivity:P}}if(B.affectsConfiguration($X)){const P=U.getValue($X);K={...K,fastScrollSensitivity:P}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new WI(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?wQ($):j2)}};_D=EQ([X8(5,v0),X8(6,g4),X8(7,S1),X8(8,g0)],_D);Gi=class J extends Ck{constructor($,X,Q,Y,Z,G,q,U,H){const z=typeof Z.horizontalScrolling!=="undefined"?Z.horizontalScrolling:Boolean(U.getValue(n9)),[V,j]=H.invokeFunction(ID,Z);super($,X,Q,Y,{keyboardSupport:!1,...V,horizontalScrolling:z});this.disposables=new r,this.disposables.add(j),this.contextKeyService=ED(G,this),this.disposables.add(kD(this.contextKeyService,this.widget)),this.horizontalScrolling=Z.horizontalScrolling,this.listSupportsMultiSelect=wD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Z.multipleSelectionSupport!==!1),LD.bindTo(this.contextKeyService).set(Boolean(Z.selectionNavigation)),this._useAltAsMultipleSelectionModifier=XX(U),this.disposables.add(this.contextKeyService),this.disposables.add(q.register(this)),this.updateStyles(Z.overrideStyles),this.disposables.add(U.onDidChangeConfiguration((B)=>{if(B.affectsConfiguration(P2))this._useAltAsMultipleSelectionModifier=XX(U);let K={};if(B.affectsConfiguration(n9)&&this.horizontalScrolling===void 0){const P=Boolean(U.getValue(n9));K={...K,horizontalScrolling:P}}if(B.affectsConfiguration(f4)){const P=Boolean(U.getValue(f4));K={...K,scrollByPage:P}}if(B.affectsConfiguration(h4)){const P=Boolean(U.getValue(h4));K={...K,smoothScrolling:P}}if(B.affectsConfiguration(JX)){const P=U.getValue(JX);K={...K,mouseWheelScrollSensitivity:P}}if(B.affectsConfiguration($X)){const P=U.getValue($X);K={...K,fastScrollSensitivity:P}}if(Object.keys(K).length>0)this.updateOptions(K)})),this.navigator=new WI(this,{configurationService:U,...Z}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?wQ($):j2)}dispose(){this.disposables.dispose(),super.dispose()}};Gi=EQ([X8(5,v0),X8(6,g4),X8(7,S1),X8(8,g0)],Gi);qi=class J extends Qj{constructor($,X,Q,Y,Z,G,q,U,H,z){const V=typeof G.horizontalScrolling!=="undefined"?G.horizontalScrolling:Boolean(H.getValue(n9)),[j,W]=z.invokeFunction(ID,G);super($,X,Q,Y,Z,{keyboardSupport:!1,...j,horizontalScrolling:V});this.disposables.add(W),this.contextKeyService=ED(q,this),this.disposables.add(kD(this.contextKeyService,this)),this.listSupportsMultiSelect=wD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(G.multipleSelectionSupport!==!1),LD.bindTo(this.contextKeyService).set(Boolean(G.selectionNavigation)),this.listHasSelectionOrFocus=qI.bindTo(this.contextKeyService),this.listDoubleSelection=UI.bindTo(this.contextKeyService),this.listMultiSelection=HI.bindTo(this.contextKeyService),this.horizontalScrolling=G.horizontalScrolling,this._useAltAsMultipleSelectionModifier=XX(H),this.disposables.add(this.contextKeyService),this.disposables.add(U.register(this)),this.updateStyles(G.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const K=this.getSelection(),P=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(K.length>0||P.length>0),this.listMultiSelection.set(K.length>1),this.listDoubleSelection.set(K.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const K=this.getSelection(),P=this.getFocus();this.listHasSelectionOrFocus.set(K.length>0||P.length>0)})),this.disposables.add(H.onDidChangeConfiguration((K)=>{if(K.affectsConfiguration(P2))this._useAltAsMultipleSelectionModifier=XX(H);let P={};if(K.affectsConfiguration(n9)&&this.horizontalScrolling===void 0){const A=Boolean(H.getValue(n9));P={...P,horizontalScrolling:A}}if(K.affectsConfiguration(f4)){const A=Boolean(H.getValue(f4));P={...P,scrollByPage:A}}if(K.affectsConfiguration(h4)){const A=Boolean(H.getValue(h4));P={...P,smoothScrolling:A}}if(K.affectsConfiguration(JX)){const A=H.getValue(JX);P={...P,mouseWheelScrollSensitivity:A}}if(K.affectsConfiguration($X)){const A=H.getValue($X);P={...P,fastScrollSensitivity:A}}if(Object.keys(P).length>0)this.updateOptions(P)})),this.navigator=new Pi(this,{configurationService:H,...G}),this.disposables.add(this.navigator)}updateOptions($){if(super.updateOptions($),$.overrideStyles!==void 0)this.updateStyles($.overrideStyles);if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyles($){this.style($?wQ($):j2)}dispose(){this.disposables.dispose(),super.dispose()}};qi=EQ([X8(6,v0),X8(7,g4),X8(8,S1),X8(9,g0)],qi);Ui=class J extends HU{constructor($,X,Q,Y,Z,G,q,U,H){const{options:z,getTypeNavigationMode:V,disposable:j}=G.invokeFunction(Kj,Z);super($,X,Q,Y,z);this.disposables.add(j),this.internals=new A2(this,Z,V,Z.overrideStyles,q,U,H),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};Ui=EQ([X8(5,g0),X8(6,v0),X8(7,g4),X8(8,S1)],Ui);Hi=class J extends Wj{constructor($,X,Q,Y,Z,G,q,U,H){const{options:z,getTypeNavigationMode:V,disposable:j}=G.invokeFunction(Kj,Z);super($,X,Q,Y,z);this.disposables.add(j),this.internals=new A2(this,Z,V,Z.overrideStyles,q,U,H),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};Hi=EQ([X8(5,g0),X8(6,v0),X8(7,g4),X8(8,S1)],Hi);zi=class J extends YI{constructor($,X,Q,Y,Z,G,q,U,H,z){const{options:V,getTypeNavigationMode:j,disposable:W}=q.invokeFunction(Kj,G);super($,X,Q,Y,Z,V);this.disposables.add(W),this.internals=new A2(this,G,j,G.overrideStyles,U,H,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles!==void 0)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};zi=EQ([X8(6,g0),X8(7,v0),X8(8,g4),X8(9,S1)],zi);Vi=class J extends PD{get onDidOpen(){return this.internals.onDidOpen}constructor($,X,Q,Y,Z,G,q,U,H,z){const{options:V,getTypeNavigationMode:j,disposable:W}=q.invokeFunction(Kj,G);super($,X,Q,Y,Z,V);this.disposables.add(W),this.internals=new A2(this,G,j,G.overrideStyles,U,H,z),this.disposables.add(this.internals)}updateOptions($={}){if(super.updateOptions($),$.overrideStyles)this.internals.updateStyleOverrides($.overrideStyles);this.internals.updateOptions($)}};Vi=EQ([X8(6,g0),X8(7,v0),X8(8,g4),X8(9,S1)],Vi);ji=class J extends QI{constructor($,X,Q,Y,Z,G,q,U,H,z,V){const{options:j,getTypeNavigationMode:W,disposable:B}=U.invokeFunction(Kj,q);super($,X,Q,Y,Z,G,j);this.disposables.add(B),this.internals=new A2(this,q,W,q.overrideStyles,H,z,V),this.disposables.add(this.internals)}updateOptions($){super.updateOptions($),this.internals.updateOptions($)}};ji=EQ([X8(7,g0),X8(8,v0),X8(9,g4),X8(10,S1)],ji);A2=class J{get onDidOpen(){return this.navigator.onDidOpen}constructor($,X,Q,Y,Z,G,q){var U;this.tree=$,this.disposables=[],this.contextKeyService=ED(Z,$),this.disposables.push(kD(this.contextKeyService,$)),this.listSupportsMultiSelect=wD.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(X.multipleSelectionSupport!==!1),LD.bindTo(this.contextKeyService).set(Boolean(X.selectionNavigation)),this.listSupportFindWidget=m40.bindTo(this.contextKeyService),this.listSupportFindWidget.set((U=X.findWidgetEnabled)!==null&&U!==void 0?U:!0),this.hasSelectionOrFocus=qI.bindTo(this.contextKeyService),this.hasDoubleSelection=UI.bindTo(this.contextKeyService),this.hasMultiSelection=HI.bindTo(this.contextKeyService),this.treeElementCanCollapse=u40.bindTo(this.contextKeyService),this.treeElementHasParent=c40.bindTo(this.contextKeyService),this.treeElementCanExpand=l40.bindTo(this.contextKeyService),this.treeElementHasChild=d40.bindTo(this.contextKeyService),this.treeFindOpen=s40.bindTo(this.contextKeyService),this.treeStickyScrollFocused=Bi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=XX(q),this.updateStyleOverrides(Y);const z=()=>{const j=$.getFocus()[0];if(!j)return;const W=$.getNode(j);this.treeElementCanCollapse.set(W.collapsible&&!W.collapsed),this.treeElementHasParent.set(!!$.getParentElement(j)),this.treeElementCanExpand.set(W.collapsible&&W.collapsed),this.treeElementHasChild.set(!!$.getFirstElementChild(j))},V=new Set;V.add(Fi),V.add(Ki),this.disposables.push(this.contextKeyService,G.register($),$.onDidChangeSelection(()=>{const j=$.getSelection(),W=$.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(j.length>0||W.length>0),this.hasMultiSelection.set(j.length>1),this.hasDoubleSelection.set(j.length===2)})}),$.onDidChangeFocus(()=>{const j=$.getSelection(),W=$.getFocus();this.hasSelectionOrFocus.set(j.length>0||W.length>0),z()}),$.onDidChangeCollapseState(z),$.onDidChangeModel(z),$.onDidChangeFindOpenState((j)=>this.treeFindOpen.set(j)),$.onDidChangeStickyScrollFocused((j)=>this.treeStickyScrollFocused.set(j)),q.onDidChangeConfiguration((j)=>{let W={};if(j.affectsConfiguration(P2))this._useAltAsMultipleSelectionModifier=XX(q);if(j.affectsConfiguration(Fj)){const B=q.getValue(Fj);W={...W,indent:B}}if(j.affectsConfiguration(MD)&&X.renderIndentGuides===void 0){const B=q.getValue(MD);W={...W,renderIndentGuides:B}}if(j.affectsConfiguration(h4)){const B=Boolean(q.getValue(h4));W={...W,smoothScrolling:B}}if(j.affectsConfiguration(zI)||j.affectsConfiguration(RD)){const B=Ri(q);W={...W,defaultFindMode:B}}if(j.affectsConfiguration(VI)||j.affectsConfiguration(RD)){const B=Q();W={...W,typeNavigationMode:B}}if(j.affectsConfiguration(jI)){const B=Mi(q);W={...W,defaultFindMatchType:B}}if(j.affectsConfiguration(n9)&&X.horizontalScrolling===void 0){const B=Boolean(q.getValue(n9));W={...W,horizontalScrolling:B}}if(j.affectsConfiguration(f4)){const B=Boolean(q.getValue(f4));W={...W,scrollByPage:B}}if(j.affectsConfiguration(OD)&&X.expandOnlyOnTwistieClick===void 0)W={...W,expandOnlyOnTwistieClick:q.getValue(OD)==="doubleClick"};if(j.affectsConfiguration(TD)){const B=q.getValue(TD);W={...W,enableStickyScroll:B}}if(j.affectsConfiguration(ND)){const B=Math.max(1,q.getValue(ND));W={...W,stickyScrollMaxItemCount:B}}if(j.affectsConfiguration(JX)){const B=q.getValue(JX);W={...W,mouseWheelScrollSensitivity:B}}if(j.affectsConfiguration($X)){const B=q.getValue($X);W={...W,fastScrollSensitivity:B}}if(Object.keys(W).length>0)$.updateOptions(W)}),this.contextKeyService.onDidChangeContext((j)=>{if(j.affectsSome(V))$.updateOptions({typeNavigationMode:Q()})})),this.navigator=new Di($,{configurationService:q,...X}),this.disposables.push(this.navigator)}updateOptions($){if($.multipleSelectionSupport!==void 0)this.listSupportsMultiSelect.set(!!$.multipleSelectionSupport)}updateStyleOverrides($){this.tree.style($?wQ($):j2)}dispose(){this.disposables=k1(this.disposables)}};A2=EQ([X8(4,v0),X8(5,g4),X8(6,S1)],A2);r40=r1.as(p9.Configuration);r40.registerConfiguration({id:"workbench",order:7,title:F("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[P2]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[F("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),F("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:F({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[DD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[n9]:{type:"boolean",default:!1,description:F("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[f4]:{type:"boolean",default:!1,description:F("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Fj]:{type:"number",default:8,minimum:4,maximum:40,description:F("tree indent setting","Controls tree indentation in pixels.")},[MD]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:F("render tree indent guides","Controls whether the tree should render indent guides.")},[h4]:{type:"boolean",default:!1,description:F("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[JX]:{type:"number",default:1,markdownDescription:F("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[$X]:{type:"number",default:5,markdownDescription:F("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[zI]:{type:"string",enum:["highlight","filter"],enumDescriptions:[F("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),F("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:F("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[RD]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[F("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),F("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),F("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:F("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:F("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[jI]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[F("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),F("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:F("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[OD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:F("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[TD]:{type:"boolean",default:!0,description:F("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[ND]:{type:"number",minimum:1,default:7,markdownDescription:F("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.")},[VI]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:F("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}})});class Oi{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(J){if(J.prefix.length===0)this.defaultProvider=J;else this.providers.push(J);return this.providers.sort(($,X)=>X.prefix.length-$.prefix.length),K0(()=>{if(this.providers.splice(this.providers.indexOf(J),1),this.defaultProvider===J)this.defaultProvider=void 0})}getQuickAccessProviders(){return CW([this.defaultProvider,...this.providers])}getQuickAccessProvider(J){return(J?this.providers.find((X)=>J.startsWith(X.prefix))||void 0:void 0)||this.defaultProvider}}var SD,FI;var Ti=N(()=>{H1();X0();Y5();(function(J){J[J.PRESERVE=0]="PRESERVE",J[J.LAST=1]="LAST"})(SD||(SD={}));FI={Quickaccess:"workbench.contributions.quickaccess"};r1.add(FI.Quickaccess,new Oi)});class _i{constructor(J){this.options=J}}var Ni,D2,pJ,_l0,CD;var Aj=N(()=>{m0();Ni={ctrlCmd:!1,alt:!1};(function(J){J[J.Blur=1]="Blur",J[J.Gesture=2]="Gesture",J[J.Other=3]="Other"})(D2||(D2={}));(function(J){J[J.NONE=0]="NONE",J[J.FIRST=1]="FIRST",J[J.SECOND=2]="SECOND",J[J.LAST=3]="LAST"})(pJ||(pJ={}));_l0=new _i,CD=M0("quickInputService")});var i40,wi,xD;var Li=N(()=>{u1();$7();F0();X0();m0();Ti();Aj();Y5();i40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},wi=function(J,$){return function(X,Q){$(X,Q,J)}},xD=class J extends f{constructor($,X){super();this.quickInputService=$,this.instantiationService=X,this.registry=r1.as(FI.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show($="",X){this.doShowOrPick($,!1,X)}doShowOrPick($,X,Q){var Y;const[Z,G]=this.getOrInstantiateProvider($),q=this.visibleQuickAccess,U=q===null||q===void 0?void 0:q.descriptor;if(q&&G&&U===G){if($!==G.prefix&&!(Q===null||Q===void 0?void 0:Q.preserveValue))q.picker.value=$;this.adjustValueSelection(q.picker,G,Q);return}if(G&&!(Q===null||Q===void 0?void 0:Q.preserveValue)){let W=void 0;if(q&&U&&U!==G){const B=q.value.substr(U.prefix.length);if(B)W=`${G.prefix}${B}`}if(!W){const B=Z===null||Z===void 0?void 0:Z.defaultFilterValue;if(B===SD.LAST)W=this.lastAcceptedPickerValues.get(G);else if(typeof B==="string")W=`${G.prefix}${B}`}if(typeof W==="string")$=W}const H=new r,z=H.add(this.quickInputService.createQuickPick());if(z.value=$,this.adjustValueSelection(z,G,Q),z.placeholder=G===null||G===void 0?void 0:G.placeholder,z.quickNavigate=Q===null||Q===void 0?void 0:Q.quickNavigateConfiguration,z.hideInput=!!z.quickNavigate&&!q,typeof(Q===null||Q===void 0?void 0:Q.itemActivation)==="number"||(Q===null||Q===void 0?void 0:Q.quickNavigateConfiguration))z.itemActivation=(Y=Q===null||Q===void 0?void 0:Q.itemActivation)!==null&&Y!==void 0?Y:pJ.SECOND;z.contextKey=G===null||G===void 0?void 0:G.contextKey,z.filterValue=(W)=>W.substring(G?G.prefix.length:0);let V=void 0;if(X)V=new LH,H.add(J0.once(z.onWillAccept)((W)=>{W.veto(),z.hide()}));H.add(this.registerPickerListeners(z,Z,G,$,Q===null||Q===void 0?void 0:Q.providerOptions));const j=H.add(new H6);if(Z)H.add(Z.provide(z,j.token,Q===null||Q===void 0?void 0:Q.providerOptions));if(J0.once(z.onDidHide)(()=>{if(z.selectedItems.length===0)j.cancel();H.dispose(),V===null||V===void 0||V.complete(z.selectedItems.slice(0))}),z.show(),X)return V===null||V===void 0?void 0:V.p}adjustValueSelection($,X,Q){var Y;let Z;if(Q===null||Q===void 0?void 0:Q.preserveValue)Z=[$.value.length,$.value.length];else Z=[(Y=X===null||X===void 0?void 0:X.prefix.length)!==null&&Y!==void 0?Y:0,$.value.length];$.valueSelection=Z}registerPickerListeners($,X,Q,Y,Z){const G=new r,q=this.visibleQuickAccess={picker:$,descriptor:Q,value:Y};if(G.add(K0(()=>{if(q===this.visibleQuickAccess)this.visibleQuickAccess=void 0})),G.add($.onDidChangeValue((U)=>{const[H]=this.getOrInstantiateProvider(U);if(H!==X)this.show(U,{preserveValue:!0,providerOptions:Z});else q.value=U})),Q)G.add($.onDidAccept(()=>{this.lastAcceptedPickerValues.set(Q,$.value)}));return G}getOrInstantiateProvider($){const X=this.registry.getQuickAccessProvider($);if(!X)return[void 0,void 0];let Q=this.mapProviderToDescriptor.get(X);if(!Q)Q=this.instantiationService.createInstance(X.ctor),this.mapProviderToDescriptor.set(X,Q);return[Q,X]}};xD=i40([wi(0,CD),wi(1,g0)],xD)});var Pj=N(()=>{q1();V0(".quick-input-widget{z-index:2550;-webkit-app-region:no-drag;border-radius:6px;width:600px;margin-left:-300px;position:absolute;left:50%}.quick-input-titlebar{border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;display:flex}.quick-input-left-action-bar{flex:1;margin-left:4px;display:flex}.quick-input-title{text-align:center;text-overflow:ellipsis;padding:3px 0;overflow:hidden}.quick-input-right-action-bar{flex:1;margin-right:4px;display:flex}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px 6px 6px 11px}.quick-input-header .quick-input-description{flex:1;margin:4px 2px}.quick-input-header{padding:8px 6px 6px;display:flex}.quick-input-widget.hidden-input .quick-input-header{margin-bottom:0;padding:0}.quick-input-and-message{flex-direction:column;flex-grow:1;min-width:0;display:flex;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;align-items:center;display:flex;position:absolute;right:4px}.quick-input-count .monaco-count-badge{vertical-align:middle;border-radius:2px;min-height:auto;padding:2px 4px;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{align-items:center;height:25px;padding:0 6px;font-size:11px;display:flex}.quick-input-message{overflow-wrap:break-word;margin-top:-1px;padding:5px}.quick-input-message>.codicon{vertical-align:text-bottom;margin:0 .2em}.quick-input-message a{color:inherit}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-list{line-height:22px}.quick-input-widget.hidden-input .quick-input-list{margin-top:4px;padding-bottom:4px}.quick-input-list .monaco-list{max-height:440px;padding-bottom:5px;overflow:hidden}.quick-input-list .monaco-scrollable-element{padding:0 5px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;height:100%;padding:0 6px;display:flex;overflow:hidden}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-style:solid;border-top-width:1px}.quick-input-list .monaco-list-row{border-radius:3px}.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{flex:1;height:100%;display:flex;overflow:hidden}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-icon{background-position:0;background-repeat:no-repeat;background-size:16px;justify-content:center;align-items:center;width:16px;height:22px;padding-right:6px;display:flex}.quick-input-list .quick-input-list-rows{text-overflow:ellipsis;flex-direction:column;flex:1;height:100%;margin-left:5px;display:flex;overflow:hidden}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{align-items:center;display:flex}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label>span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;text-overflow:ellipsis;line-height:normal;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:4px}.quick-input-list .quick-input-list-entry-action-bar{flex:0;display:flex;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:0 0}.quick-input-list .quick-input-list-separator-as-item{font-size:12px;font-weight:600}")});var Ei=N(()=>{q1();V0(".monaco-icon-label{text-overflow:ellipsis;display:flex;overflow:hidden}.monaco-icon-label:before{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;background-position:0;background-repeat:no-repeat;background-size:16px;flex-shrink:0;width:16px;height:22px;padding-right:6px;display:inline-block;line-height:inherit!important}.monaco-icon-label-container.disabled{color:var(--vscode-disabledForeground)}.monaco-icon-label>.monaco-icon-label-container{text-overflow:ellipsis;flex:1;min-width:0;overflow:hidden}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{opacity:.5;margin:0 2px}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-suffix-container>.label-suffix{opacity:.7;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;white-space:pre;margin-left:.5em;font-size:.9em}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{font-style:italic}.monaco-icon-label.deprecated{opacity:.66;text-decoration:line-through}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;text-align:center;margin:auto 16px 0 5px;font-size:90%;font-weight:600}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}")});class aY{constructor(J,$){var X;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(X=$===null||$===void 0?void 0:$.supportIcons)!==null&&X!==void 0?X:!1,this.domNode=Z0(J,q0("span.monaco-highlighted-label"))}get element(){return this.domNode}set(J,$=[],X="",Q){if(!J)J="";if(Q)J=aY.escapeNewLines(J,$);if(this.didEverRender&&this.text===J&&this.title===X&&I6(this.highlights,$))return;this.text=J,this.title=X,this.highlights=$,this.render()}render(){const J=[];let $=0;for(let X of this.highlights){if(X.end===X.start)continue;if($<X.start){const Z=this.text.substring($,X.start);if(this.supportIcons)J.push(...fJ(Z));else J.push(Z);$=X.start}const Q=this.text.substring($,X.end),Y=q0("span.highlight",void 0,...this.supportIcons?fJ(Q):[Q]);if(X.extraClasses)Y.classList.add(...X.extraClasses);J.push(Y),$=X.end}if($<this.text.length){const X=this.text.substring($);if(this.supportIcons)J.push(...fJ(X));else J.push(X)}if(F6(this.domNode,...J),this.title)this.domNode.title=this.title;else this.domNode.removeAttribute("title");this.didEverRender=!0}static escapeNewLines(J,$){let X=0,Q=0;return J.replace(/\r\n|\r|\n/g,(Y,Z)=>{Q=Y==="\r\n"?-1:0,Z+=X;for(let G of $){if(G.end<=Z)continue;if(G.start>=Z)G.start+=Q;if(G.end>=Z)G.end+=Q}return X+=Q,"\u23CE"})}}var ki=N(()=>{D0();oG();B5()});class zU{constructor(J){this._element=J}get element(){return this._element}set textContent(J){if(this.disposed||J===this._textContent)return;this._textContent=J,this._element.textContent=J}set className(J){if(this.disposed||J===this._className)return;this._className=J,this._element.className=J}set empty(J){if(this.disposed||J===this._empty)return;this._empty=J,this._element.style.marginLeft=J?"0":""}dispose(){this.disposed=!0}}class VU extends f{constructor(J,$){super();if(this.customHovers=new Map,this.creationOptions=$,this.domNode=this._register(new zU(Z0(J,q0(".monaco-icon-label")))),this.labelContainer=Z0(this.domNode.element,q0(".monaco-icon-label-container")),this.nameContainer=Z0(this.labelContainer,q0("span.monaco-icon-name-container")),($===null||$===void 0?void 0:$.supportHighlights)||($===null||$===void 0?void 0:$.supportIcons))this.nameNode=new yi(this.nameContainer,!!$.supportIcons);else this.nameNode=new Ii(this.nameContainer);this.hoverDelegate=$===null||$===void 0?void 0:$.hoverDelegate}get element(){return this.domNode.element}setLabel(J,$,X){var Q;const Y=["monaco-icon-label"],Z=["monaco-icon-label-container"];let G="";if(X){if(X.extraClasses)Y.push(...X.extraClasses);if(X.italic)Y.push("italic");if(X.strikethrough)Y.push("strikethrough");if(X.disabledCommand)Z.push("disabled");if(X.title)if(typeof X.title==="string")G+=X.title;else G+=J}if(this.domNode.className=Y.join(" "),this.domNode.element.setAttribute("aria-label",G),this.labelContainer.className=Z.join(" "),this.setupHover((X===null||X===void 0?void 0:X.descriptionTitle)?this.labelContainer:this.element,X===null||X===void 0?void 0:X.title),this.nameNode.setLabel(J,X),$||this.descriptionNode){const q=this.getOrCreateDescriptionNode();if(q instanceof aY)q.set($||"",X?X.descriptionMatches:void 0,void 0,X===null||X===void 0?void 0:X.labelEscapeNewLines),this.setupHover(q.element,X===null||X===void 0?void 0:X.descriptionTitle);else q.textContent=$&&(X===null||X===void 0?void 0:X.labelEscapeNewLines)?aY.escapeNewLines($,[]):$||"",this.setupHover(q.element,(X===null||X===void 0?void 0:X.descriptionTitle)||""),q.empty=!$}if((X===null||X===void 0?void 0:X.suffix)||this.suffixNode){const q=this.getOrCreateSuffixNode();q.textContent=(Q=X===null||X===void 0?void 0:X.suffix)!==null&&Q!==void 0?Q:""}}setupHover(J,$){const X=this.customHovers.get(J);if(X)X.dispose(),this.customHovers.delete(J);if(!$){J.removeAttribute("title");return}if(!this.hoverDelegate)Xa(J,$);else{const Q=cP(this.hoverDelegate,J,$);if(Q)this.customHovers.set(J,Q)}}dispose(){super.dispose();for(let J of this.customHovers.values())J.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const J=this._register(new zU(mb(this.nameContainer,q0("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new zU(Z0(J.element,q0("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var J;if(!this.descriptionNode){const $=this._register(new zU(Z0(this.labelContainer,q0("span.monaco-icon-description-container"))));if((J=this.creationOptions)===null||J===void 0?void 0:J.supportDescriptionHighlights)this.descriptionNode=new aY(Z0($.element,q0("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons});else this.descriptionNode=this._register(new zU(Z0($.element,q0("span.label-description"))))}return this.descriptionNode}}class Ii{constructor(J){this.container=J,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&I6(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Z0(this.container,q0("a.label-name",{id:$===null||$===void 0?void 0:$.domId}));this.singleLabel.textContent=J}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let X=0;X<J.length;X++){const Q=J[X],Y=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${X}`;if(Z0(this.container,q0("a.label-name",{id:Y,"data-icon-label-count":J.length,"data-icon-label-index":X,role:"treeitem"},Q)),X<J.length-1)Z0(this.container,q0("span.label-separator",void 0,($===null||$===void 0?void 0:$.separator)||"/"))}}}}class yi{constructor(J,$){this.container=J,this.supportIcons=$,this.label=void 0,this.singleLabel=void 0}setLabel(J,$){if(this.label===J&&I6(this.options,$))return;if(this.label=J,this.options=$,typeof J==="string"){if(!this.singleLabel)this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new aY(Z0(this.container,q0("a.label-name",{id:$===null||$===void 0?void 0:$.domId})),{supportIcons:this.supportIcons});this.singleLabel.set(J,$===null||$===void 0?void 0:$.matches,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines)}else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const X=($===null||$===void 0?void 0:$.separator)||"/",Q=n40(J,X,$===null||$===void 0?void 0:$.matches);for(let Y=0;Y<J.length;Y++){const Z=J[Y],G=Q?Q[Y]:void 0,q=($===null||$===void 0?void 0:$.domId)&&`${$===null||$===void 0?void 0:$.domId}_${Y}`,U=q0("a.label-name",{id:q,"data-icon-label-count":J.length,"data-icon-label-index":Y,role:"treeitem"});if(new aY(Z0(this.container,U),{supportIcons:this.supportIcons}).set(Z,G,void 0,$===null||$===void 0?void 0:$.labelEscapeNewLines),Y<J.length-1)Z0(U,q0("span.label-separator",void 0,X))}}}}var n40;var KI=N(()=>{Ei();D0();ki();Qk();X0();B5();lV();n40=function(J,$,X){if(!X)return;let Q=0;return J.map((Y)=>{const Z={start:Q,end:Q+Y.length},G=X.map((q)=>w6.intersect(Z,q)).filter((q)=>!w6.isEmpty(q)).map(({start:q,end:U})=>({start:q-Q,end:U-Q}));return Q=Z.end+$.length,G})}});var Si=N(()=>{q1();V0(".monaco-keybinding{align-items:center;line-height:10px;display:flex}.monaco-keybinding>.monaco-keybinding-key{vertical-align:middle;border-style:solid;border-width:1px;border-radius:3px;margin:0 2px;padding:3px 5px;font-size:11px;display:inline-block}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}")});class vD{constructor(J,$,X){this.os=$,this.keyElements=new Set,this.options=X||Object.create(null);const Q=this.options.keybindingLabelForeground;if(this.domNode=Z0(J,bD(".monaco-keybinding")),Q)this.domNode.style.color=Q;this.didEverRender=!1,J.appendChild(this.domNode)}get element(){return this.domNode}set(J,$){if(this.didEverRender&&this.keybinding===J&&vD.areSame(this.matches,$))return;this.keybinding=J,this.matches=$,this.render()}render(){var J;if(this.clear(),this.keybinding){const $=this.keybinding.getChords();if($[0])this.renderChord(this.domNode,$[0],this.matches?this.matches.firstPart:null);for(let Q=1;Q<$.length;Q++)Z0(this.domNode,bD("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,$[Q],this.matches?this.matches.chordPart:null);const X=((J=this.options.disableTitle)!==null&&J!==void 0?J:!1)?void 0:this.keybinding.getAriaLabel()||void 0;if(X!==void 0)this.domNode.title=X;else this.domNode.removeAttribute("title")}else if(this.options&&this.options.renderUnboundKeybindings)this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){C6(this.domNode),this.keyElements.clear()}renderChord(J,$,X){const Q=u3.modifierLabels[this.os];if($.ctrlKey)this.renderKey(J,Q.ctrlKey,Boolean(X===null||X===void 0?void 0:X.ctrlKey),Q.separator);if($.shiftKey)this.renderKey(J,Q.shiftKey,Boolean(X===null||X===void 0?void 0:X.shiftKey),Q.separator);if($.altKey)this.renderKey(J,Q.altKey,Boolean(X===null||X===void 0?void 0:X.altKey),Q.separator);if($.metaKey)this.renderKey(J,Q.metaKey,Boolean(X===null||X===void 0?void 0:X.metaKey),Q.separator);const Y=$.keyLabel;if(Y)this.renderKey(J,Y,Boolean(X===null||X===void 0?void 0:X.keyCode),"")}renderKey(J,$,X,Q){if(Z0(J,this.createKeyElement($,X?".highlight":"")),Q)Z0(J,bD("span.monaco-keybinding-key-separator",void 0,Q))}renderUnbound(J){Z0(J,this.createKeyElement(F("unbound","Unbound")))}createKeyElement(J,$=""){const X=bD("span.monaco-keybinding-key"+$,void 0,J);if(this.keyElements.add(X),this.options.keybindingLabelBackground)X.style.backgroundColor=this.options.keybindingLabelBackground;if(this.options.keybindingLabelBorder)X.style.borderColor=this.options.keybindingLabelBorder;if(this.options.keybindingLabelBottomBorder)X.style.borderBottomColor=this.options.keybindingLabelBottomBorder;if(this.options.keybindingLabelShadow)X.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;return X}static areSame(J,$){if(J===$||!J&&!$)return!0;return!!J&&!!$&&I6(J.firstPart,$.firstPart)&&I6(J.chordPart,$.chordPart)}}var bD;var Ci=N(()=>{D0();xP();B5();Si();h0();bD=q0});function o40(J,$,X=!1){const Q=J||"",Y=$||"",Z=xi.value.collator.compare(Q,Y);if(xi.value.collatorIsNumeric&&Z===0&&Q!==Y)return Q<Y?-1:1;return Z}function bi(J,$,X){const Q=J.toLowerCase(),Y=$.toLowerCase(),Z=t40(J,$,X);if(Z)return Z;const G=Q.endsWith(X),q=Y.endsWith(X);if(G!==q)return G?-1:1;const U=o40(Q,Y);if(U!==0)return U;return Q.localeCompare(Y)}function t40(J,$,X){const Q=J.toLowerCase(),Y=$.toLowerCase(),Z=Q.startsWith(X),G=Y.startsWith(X);if(Z!==G)return Z?-1:1;else if(Z&&G){if(Q.length<Y.length)return-1;if(Q.length>Y.length)return 1}return 0}var xi,Jd0,$d0;var vi=N(()=>{i2();xi=new Q9(()=>{const J=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:J,collatorIsNumeric:J.resolvedOptions().numeric}}),Jd0=new Q9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0})}}),$d0=new Q9(()=>{return{collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}})});function fi(J){const $=[];let X=0,Q;while(Q=J$0.exec(J)){if(Q.index-X>0)$.push(J.substring(X,Q.index));const[,Y,Z,,G]=Q;if(G)$.push({label:Y,href:Z,title:G});else $.push({label:Y,href:Z});X=Q.index+Q[0].length}if(X<J.length)$.push(J.substring(X));return new AI($)}class AI{constructor(J){this.nodes=J}toString(){return this.nodes.map((J)=>typeof J==="string"?J:J.label).join("")}}var e40,J$0;var hi=N(()=>{AY();e40=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z};e40([Y8],AI.prototype,"toString",null);J$0=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi});function Dj(J,$,X){let Q=J.iconClass||X$0(J.iconPath);if(J.alwaysVisible)Q=Q?`${Q} always-visible`:"always-visible";return{id:$,label:"",tooltip:J.tooltip||"",class:Q,enabled:!0,run:X}}function gi(J,$,X){F6($);const Q=fi(J);let Y=0;for(let Z of Q.nodes)if(typeof Z==="string")$.append(...fJ(Z));else{let G=Z.title;if(!G&&Z.href.startsWith("command:"))G=F("executeCommand","Click to execute command '{0}'",Z.href.substring("command:".length));else if(!G)G=Z.href;const q=q0("a",{href:Z.href,title:G,tabIndex:Y++},Z.label);q.style.textDecoration="underline";const U=(W)=>{if(hb(W))u0.stop(W,!0);X.callback(Z.href)},H=X.disposables.add(new Z1(q,$0.CLICK)).event,z=X.disposables.add(new Z1(q,$0.KEY_DOWN)).event,V=J0.chain(z,(W)=>W.filter((B)=>{const K=new A1(B);return K.equals(10)||K.equals(3)}));X.disposables.add(w1.addTarget(q));const j=X.disposables.add(new Z1(q,I1.Tap)).event;J0.any(H,j,V)(U,null,X.disposables),$.appendChild(q)}}var X$0,PI,$$0;var DI=N(()=>{D0();w4();F0();T7();s9();oG();IE();hi();Pj();h0();X$0=function(J){if(!J)return;let $;const X=J.dark.toString();if(PI[X])$=PI[X];else $=$$0.nextId(),gF(`.${$}, .hc-light .${$}`,`background-image: ${TJ(J.light||J.dark)}`),gF(`.vs-dark .${$}, .hc-black .${$}`,`background-image: ${TJ(J.dark)}`),PI[X]=$;return $};PI={},$$0=new wP("quick-input-button-icon-")});class ui{constructor(J,$,X,Q,Y,Z,G){var q,U,H;if(this._checked=!1,this._hidden=!1,this.hasCheckbox=Q,this.index=X,this.fireButtonTriggered=Y,this.fireSeparatorButtonTriggered=Z,this._onChecked=G,this.onChecked=Q?J0.map(J0.filter(this._onChecked.event,(z)=>z.listElement===this),(z)=>z.checked):J0.None,J.type==="separator")this._separator=J;else{if(this.item=J,$&&$.type==="separator"&&!$.buttons)this._separator=$;this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(q=this.item.highlights)===null||q===void 0?void 0:q.label,this._descriptionHighlights=(U=this.item.highlights)===null||U===void 0?void 0:U.description,this._detailHighlights=(H=this.item.highlights)===null||H===void 0?void 0:H.detail,this.saneTooltip=this.item.tooltip}this._init=new Q9(()=>{var z;const V=(z=J.label)!==null&&z!==void 0?z:"",j=b3(V).text.trim(),W=J.ariaLabel||[V,this.saneDescription,this.saneDetail].map((B)=>ed(B)).filter((B)=>!!B).join(", ");return{saneLabel:V,saneSortLabel:j,saneAriaLabel:W}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(J){this._element=J}get hidden(){return this._hidden}set hidden(J){this._hidden=J}get checked(){return this._checked}set checked(J){if(J!==this._checked)this._checked=J,this._onChecked.fire({listElement:this,checked:J})}get separator(){return this._separator}set separator(J){this._separator=J}get labelHighlights(){return this._labelHighlights}set labelHighlights(J){this._labelHighlights=J}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(J){this._descriptionHighlights=J}get detailHighlights(){return this._detailHighlights}set detailHighlights(J){this._detailHighlights=J}}class Rj{constructor(J,$){this.themeService=J,this.hoverDelegate=$}get templateId(){return Rj.ID}renderTemplate(J){const $=Object.create(null);$.toDisposeElement=[],$.toDisposeTemplate=[],$.entry=Z0(J,p4(".quick-input-list-entry"));const X=Z0($.entry,p4("label.quick-input-list-label"));$.toDisposeTemplate.push(i1(X,$0.CLICK,(U)=>{if(!$.checkbox.offsetParent)U.preventDefault()})),$.checkbox=Z0(X,p4("input.quick-input-list-checkbox")),$.checkbox.type="checkbox",$.toDisposeTemplate.push(i1($.checkbox,$0.CHANGE,(U)=>{$.element.checked=$.checkbox.checked}));const Q=Z0(X,p4(".quick-input-list-rows")),Y=Z0(Q,p4(".quick-input-list-row")),Z=Z0(Q,p4(".quick-input-list-row"));$.label=new VU(Y,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.label),$.icon=Fq($.label.element,p4(".quick-input-list-icon"));const G=Z0(Y,p4(".quick-input-list-entry-keybinding"));$.keybinding=new vD(G,C7);const q=Z0(Z,p4(".quick-input-list-label-meta"));return $.detail=new VU(q,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),$.toDisposeTemplate.push($.detail),$.separator=Z0($.entry,p4(".quick-input-list-separator")),$.actionBar=new W7($.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),$.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),$.toDisposeTemplate.push($.actionBar),$}renderElement(J,$,X){var Q,Y,Z,G;X.element=J,J.element=(Q=X.entry)!==null&&Q!==void 0?Q:void 0;const q=J.item?J.item:J.separator;X.checkbox.checked=J.checked,X.toDisposeElement.push(J.onChecked((W)=>X.checkbox.checked=W));const{labelHighlights:U,descriptionHighlights:H,detailHighlights:z}=J;if((Y=J.item)===null||Y===void 0?void 0:Y.iconPath){const W=LG(this.themeService.getColorTheme().type)?J.item.iconPath.dark:(Z=J.item.iconPath.light)!==null&&Z!==void 0?Z:J.item.iconPath.dark,B=I0.revive(W);X.icon.className="quick-input-list-icon",X.icon.style.backgroundImage=TJ(B)}else X.icon.style.backgroundImage="",X.icon.className=((G=J.item)===null||G===void 0?void 0:G.iconClass)?`quick-input-list-icon ${J.item.iconClass}`:"";const V={matches:U||[],descriptionTitle:J.saneTooltip?void 0:J.saneDescription,descriptionMatches:H||[],labelEscapeNewLines:!0};if(q.type!=="separator")V.extraClasses=q.iconClasses,V.italic=q.italic,V.strikethrough=q.strikethrough,X.entry.classList.remove("quick-input-list-separator-as-item");else X.entry.classList.add("quick-input-list-separator-as-item");if(X.label.setLabel(J.saneLabel,J.saneDescription,V),X.keybinding.set(q.type==="separator"?void 0:q.keybinding),J.saneDetail)X.detail.element.style.display="",X.detail.setLabel(J.saneDetail,void 0,{matches:z,title:J.saneTooltip?void 0:J.saneDetail,labelEscapeNewLines:!0});else X.detail.element.style.display="none";if(J.item&&J.separator&&J.separator.label)X.separator.textContent=J.separator.label,X.separator.style.display="";else X.separator.style.display="none";X.entry.classList.toggle("quick-input-list-separator-border",!!J.separator);const j=q.buttons;if(j&&j.length)X.actionBar.push(j.map((W,B)=>Dj(W,`id-${B}`,()=>q.type!=="separator"?J.fireButtonTriggered({button:W,item:q}):J.fireSeparatorButtonTriggered({button:W,separator:q}))),{icon:!0,label:!1}),X.entry.classList.add("has-actions");else X.entry.classList.remove("has-actions")}disposeElement(J,$,X){X.toDisposeElement=k1(X.toDisposeElement),X.actionBar.clear()}disposeTemplate(J){J.toDisposeElement=k1(J.toDisposeElement),J.toDisposeTemplate=k1(J.toDisposeTemplate)}}class ci{getHeight(J){if(!J.item)return 24;return J.saneDetail?44:22}getTemplateId(J){return Rj.ID}}class Mj{constructor(J,$,X,Q){this.parent=J,this.options=X,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new y,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new y,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new y,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new y,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new y,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new y,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new y,this.onKeyDown=this._onKeyDown.event,this._onLeave=new y,this.onLeave=this._onLeave.event,this._listElementChecked=new y,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=$,this.container=Z0(this.parent,p4(".quick-input-list"));const Y=new ci,Z=new li;this.list=X.createList("QuickInput",this.container,Y,[new Rj(Q,X.hoverDelegate)],{identityProvider:{getId:(q)=>{var U,H,z,V,j,W,B,K;return(K=(W=(V=(H=(U=q.item)===null||U===void 0?void 0:U.id)!==null&&H!==void 0?H:(z=q.item)===null||z===void 0?void 0:z.label)!==null&&V!==void 0?V:(j=q.separator)===null||j===void 0?void 0:j.id)!==null&&W!==void 0?W:(B=q.separator)===null||B===void 0?void 0:B.label)!==null&&K!==void 0?K:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:Z}),this.list.getHTMLElement().id=$,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((q)=>{const U=new A1(q);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:if(a0?q.metaKey:q.ctrlKey)this.list.setFocus(k6(this.list.length));break;case 16:{const H=this.list.getFocus();if(H.length===1&&H[0]===0)this._onLeave.fire();break}case 18:{const H=this.list.getFocus();if(H.length===1&&H[0]===this.list.length-1)this._onLeave.fire();break}}this._onKeyDown.fire(U)})),this.disposables.push(this.list.onMouseDown((q)=>{if(q.browserEvent.button!==2)q.browserEvent.preventDefault()})),this.disposables.push(m(this.container,$0.CLICK,(q)=>{if(q.x||q.y)this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick((q)=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu((q)=>{if(typeof q.index==="number")q.browserEvent.preventDefault(),this.list.setSelection([q.index])}));const G=new wH(X.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async(q)=>{var U;if(q.browserEvent.target instanceof HTMLAnchorElement){G.cancel();return}if(!(q.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&u8(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;try{await G.trigger(async()=>{if(q.element)this.showHover(q.element)})}catch(H){if(!$$(H))throw H}})),this.disposables.push(this.list.onMouseOut((q)=>{var U;if(u8(q.browserEvent.relatedTarget,(U=q.element)===null||U===void 0?void 0:U.element))return;G.cancel()})),this.disposables.push(G),this.disposables.push(this._listElementChecked.event((q)=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return J0.map(this.list.onDidChangeFocus,(J)=>J.elements.map(($)=>$.item))}get onDidChangeSelection(){return J0.map(this.list.onDidChangeSelection,(J)=>({items:J.elements.map(($)=>$.item),event:J.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(J){this.list.scrollTop=J}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(J){this.list.getHTMLElement().ariaLabel=J}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(J,$=!0){for(let X=0,Q=J.length;X<Q;X++){const Y=J[X];if(!Y.hidden)if(!Y.checked)return!1;else $=!0}return $}getCheckedCount(){let J=0;const $=this.elements;for(let X=0,Q=$.length;X<Q;X++)if($[X].checked)J++;return J}getVisibleCount(){let J=0;const $=this.elements;for(let X=0,Q=$.length;X<Q;X++)if(!$[X].hidden)J++;return J}setAllVisibleChecked(J){try{this._fireCheckedEvents=!1,this.elements.forEach(($)=>{if(!$.hidden)$.checked=J})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(J){this.elementDisposables=k1(this.elementDisposables);const $=(Z)=>this.fireButtonTriggered(Z),X=(Z)=>this.fireSeparatorButtonTriggered(Z);this.inputElements=J;const Q=new Map,Y=this.parent.classList.contains("show-checkboxes");this.elements=J.reduce((Z,G,q)=>{var U;const H=q>0?J[q-1]:void 0;if(G.type==="separator"){if(!G.buttons)return Z}const z=new ui(G,H,q,Y,$,X,this._listElementChecked),V=Z.length;return Z.push(z),Q.set((U=z.item)!==null&&U!==void 0?U:z.separator,V),Z},[]),this.elementsToIndexes=Q,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((J)=>J.item)}setFocusedElements(J){if(this.list.setFocus(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($))),J.length>0){const $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(J){this.list.setSelection(J.filter(($)=>this.elementsToIndexes.has($)).map(($)=>this.elementsToIndexes.get($)))}getCheckedElements(){return this.elements.filter((J)=>J.checked).map((J)=>J.item).filter((J)=>!!J)}setCheckedElements(J){try{this._fireCheckedEvents=!1;const $=new Set;for(let X of J)$.add(X);for(let X of this.elements)X.checked=$.has(X.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(J){this.list.getHTMLElement().style.pointerEvents=J?"":"none"}focus(J){if(!this.list.length)return;if(J===L6.Second&&this.list.length<2)J=L6.First;switch(J){case L6.First:this.list.scrollTop=0,this.list.focusFirst(void 0,(X)=>!!X.item);break;case L6.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,(X)=>!!X.item);break;case L6.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,(X)=>!!X.item);break;case L6.Next:{this.list.focusNext(void 0,!0,void 0,(Q)=>!!Q.item);const X=this.list.getFocus()[0];if(X!==0&&!this.elements[X-1].item&&this.list.firstVisibleIndex>X-1)this.list.reveal(X-1);break}case L6.Previous:{this.list.focusPrevious(void 0,!0,void 0,(Q)=>!!Q.item);const X=this.list.getFocus()[0];if(X!==0&&!this.elements[X-1].item&&this.list.firstVisibleIndex>X-1)this.list.reveal(X-1);break}case L6.NextPage:this.list.focusNextPage(void 0,(X)=>!!X.item);break;case L6.PreviousPage:this.list.focusPreviousPage(void 0,(X)=>!!X.item);break}const $=this.list.getFocus()[0];if(typeof $==="number")this.list.reveal($)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(J){var $,X,Q;if(this._lastHover&&!this._lastHover.isDisposed)(X=($=this.options.hoverDelegate).onDidHideHover)===null||X===void 0||X.call($),(Q=this._lastHover)===null||Q===void 0||Q.dispose();if(!J.element||!J.saneTooltip)return;this._lastHover=this.options.hoverDelegate.showHover({content:J.saneTooltip,target:J.element,linkHandler:(Y)=>{this.options.linkOpenerDelegate(Y)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1)}layout(J){this.list.getHTMLElement().style.maxHeight=J?`${Math.floor(J/44)*44+6}px`:"",this.list.layout()}filter(J){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const $=J;if(J=J.trim(),!J||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach((Q)=>{Q.labelHighlights=void 0,Q.descriptionHighlights=void 0,Q.detailHighlights=void 0,Q.hidden=!1;const Y=Q.index&&this.inputElements[Q.index-1];if(Q.item)Q.separator=Y&&Y.type==="separator"&&!Y.buttons?Y:void 0});else{let Q;this.elements.forEach((Y)=>{var Z,G,q,U;let H;if(this.matchOnLabelMode==="fuzzy")H=this.matchOnLabel?(Z=NP(J,b3(Y.saneLabel)))!==null&&Z!==void 0?Z:void 0:void 0;else H=this.matchOnLabel?(G=Q$0($,b3(Y.saneLabel)))!==null&&G!==void 0?G:void 0:void 0;const z=this.matchOnDescription?(q=NP(J,b3(Y.saneDescription||"")))!==null&&q!==void 0?q:void 0:void 0,V=this.matchOnDetail?(U=NP(J,b3(Y.saneDetail||"")))!==null&&U!==void 0?U:void 0:void 0;if(H||z||V)Y.labelHighlights=H,Y.descriptionHighlights=z,Y.detailHighlights=V,Y.hidden=!1;else Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=Y.item?!Y.item.alwaysShow:!0;if(Y.item)Y.separator=void 0;else if(Y.separator)Y.hidden=!0;if(!this.sortByLabel){const j=Y.index&&this.inputElements[Y.index-1];if(Q=j&&j.type==="separator"?j:Q,Q&&!Y.hidden)Y.separator=Q,Q=void 0}})}const X=this.elements.filter((Q)=>!Q.hidden);if(this.sortByLabel&&J){const Q=J.toLowerCase();X.sort((Y,Z)=>{return Y$0(Y,Z,Q)})}return this.elementsToIndexes=X.reduce((Q,Y,Z)=>{var G;return Q.set((G=Y.item)!==null&&G!==void 0?G:Y.separator,Z),Q},new Map),this.list.splice(0,this.list.length,X),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(X.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const J=this.list.getFocusedElements(),$=this.allVisibleChecked(J);for(let X of J)X.checked=!$}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(J){this.container.style.display=J?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=k1(this.elementDisposables),this.disposables=k1(this.disposables)}fireCheckedEvents(){if(this._fireCheckedEvents)this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements())}fireButtonTriggered(J){this._onButtonTriggered.fire(J)}fireSeparatorButtonTriggered(J){this._onSeparatorButtonTriggered.fire(J)}style(J){this.list.style(J)}toggleHover(){const J=this.list.getFocusedElements()[0];if(!(J===null||J===void 0?void 0:J.saneTooltip))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const $=this.list.getFocusedElements()[0];if(!$)return;this.showHover($);const X=new r;if(X.add(this.list.onDidChangeFocus((Q)=>{if(Q.indexes.length)this.showHover(Q.elements[0])})),this._lastHover)X.add(this._lastHover);this._toggleHover=X,this.elementDisposables.push(this._toggleHover)}}class li{getWidgetAriaLabel(){return F("quickInput","Quick Input")}getAriaLabel(J){var $;return(($=J.separator)===null||$===void 0?void 0:$.label)?`${J.saneAriaLabel}, ${J.separator.label}`:J.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(J){return J.hasCheckbox?"checkbox":"option"}isChecked(J){if(!J.hasCheckbox)return;return{value:J.checked,onDidChange:J.onChecked}}}var Q$0,pi,Y$0,mi,p4,L6;var RI=N(()=>{D0();T7();o$();KI();Ci();H1();u1();vi();AY();D1();F0();v3();X0();O1();o0();Pj();h0();DI();i2();e8();nX();Q$0=function(J,$){const{text:X,iconOffsets:Q}=$;if(!Q||Q.length===0)return pi(J,X);const Y=rQ(X," "),Z=X.length-Y.length,G=pi(J,Y);if(G)for(let q of G){const U=Q[q.start+Z]+Z;q.start+=U,q.end+=U}return G},pi=function(J,$){const X=$.toLowerCase().indexOf(J.toLowerCase());if(X!==-1)return[{start:X,end:X+J.length}];return null},Y$0=function(J,$,X){const Q=J.labelHighlights||[],Y=$.labelHighlights||[];if(Q.length&&!Y.length)return-1;if(!Q.length&&Y.length)return 1;if(Q.length===0&&Y.length===0)return 0;return bi(J.saneSortLabel,$.saneSortLabel,X)},mi=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},p4=q0;Rj.ID="listelement";(function(J){J[J.First=1]="First",J[J.Second=2]="Second",J[J.Last=3]="Last",J[J.Next=4]="Next",J[J.Previous=5]="Previous",J[J.NextPage=6]="NextPage",J[J.PreviousPage=7]="PreviousPage"})(L6||(L6={}));mi([Y8],Mj.prototype,"onDidChangeFocus",null);mi([Y8],Mj.prototype,"onDidChangeSelection",null)});class Oj extends f{constructor(J){super();this.ui=J,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Oj.noPromptMessage,this._severity=D8.Ignore,this.onDidTriggerButtonEmitter=this._register(new y),this.onDidHideEmitter=this._register(new y),this.onDisposeEmitter=this._register(new y),this.visibleDisposables=this._register(new r),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(J){this._title=J,this.update()}get description(){return this._description}set description(J){this._description=J,this.update()}get step(){return this._steps}set step(J){this._steps=J,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(J){this._totalSteps=J,this.update()}get enabled(){return this._enabled}set enabled(J){this._enabled=J,this.update()}get contextKey(){return this._contextKey}set contextKey(J){this._contextKey=J,this.update()}get busy(){return this._busy}set busy(J){this._busy=J,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(J){const $=this._ignoreFocusOut!==J&&!N9;if(this._ignoreFocusOut=J&&!N9,$)this.update()}get buttons(){return this._buttons}set buttons(J){this._buttons=J,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(J){this._toggles=J!==null&&J!==void 0?J:[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(J){this._validationMessage=J,this.update()}get severity(){return this._severity}set severity(J){this._severity=J,this.update()}show(){if(this.visible)return;if(this.visibleDisposables.add(this.ui.onDidTriggerButton((J)=>{if(this.buttons.indexOf(J)!==-1)this.onDidTriggerButtonEmitter.fire(J)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length)this.buttonsUpdated=!0;if(this.toggles.length)this.togglesUpdated=!0;this.update()}hide(){if(!this.visible)return;this.ui.hide()}didHide(J=D2.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:J})}update(){var J,$;if(!this.visible)return;const X=this.getTitle();if(X&&this.ui.title.textContent!==X)this.ui.title.textContent=X;else if(!X&&this.ui.title.innerHTML!=="&nbsp;")this.ui.title.innerText="\xA0";const Q=this.getDescription();if(this.ui.description1.textContent!==Q)this.ui.description1.textContent=Q;if(this.ui.description2.textContent!==Q)this.ui.description2.textContent=Q;if(this._widgetUpdated)if(this._widgetUpdated=!1,this._widget)F6(this.ui.widget,this._widget);else F6(this.ui.widget);if(this.busy&&!this.busyDelay)this.busyDelay=new N7,this.busyDelay.setIfNotSet(()=>{if(this.visible)this.ui.progressBar.infinite()},800);if(!this.busy&&this.busyDelay)this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0;if(this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Z=this.buttons.filter((q)=>q===fD).map((q,U)=>Dj(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.leftActionBar.push(Z,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const G=this.buttons.filter((q)=>q!==fD).map((q,U)=>Dj(q,`id-${U}`,async()=>this.onDidTriggerButtonEmitter.fire(q)));this.ui.rightActionBar.push(G,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const Z=($=(J=this.toggles)===null||J===void 0?void 0:J.filter((G)=>G instanceof t$))!==null&&$!==void 0?$:[];this.ui.inputBox.toggles=Z}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const Y=this.validationMessage||this.noValidationMessage;if(this._lastValidationMessage!==Y)this._lastValidationMessage=Y,F6(this.ui.message),gi(Y,this.ui.message,{callback:(Z)=>{this.ui.linkOpenerDelegate(Z)},disposables:this.visibleDisposables});if(this._lastSeverity!==this.severity)this._lastSeverity=this.severity,this.showMessageDecoration(this.severity)}getTitle(){if(this.title&&this.step)return`${this.title} (${this.getSteps()})`;if(this.title)return this.title;if(this.step)return this.getSteps();return""}getDescription(){return this.description||""}getSteps(){if(this.step&&this.totalSteps)return F("quickInput.steps","{0}/{1}",this.step,this.totalSteps);if(this.step)return String(this.step);return""}showMessageDecoration(J){if(this.ui.inputBox.showDecoration(J),J!==D8.Ignore){const $=this.ui.inputBox.stylesForType(J);this.ui.message.style.color=$.foreground?`${$.foreground}`:"",this.ui.message.style.backgroundColor=$.background?`${$.background}`:"",this.ui.message.style.border=$.border?`1px solid ${$.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class jU extends Oj{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new y),this.onWillAcceptEmitter=this._register(new y),this.onDidAcceptEmitter=this._register(new y),this.onDidCustomEmitter=this._register(new y),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=pJ.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new y),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new y),this.onDidTriggerItemButtonEmitter=this._register(new y),this.onDidTriggerSeparatorButtonEmitter=this._register(new y),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=(J)=>J,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(J){this._quickNavigate=J,this.update()}get value(){return this._value}set value(J){this.doSetValue(J)}doSetValue(J,$){if(this._value!==J){if(this._value=J,!$)this.update();if(this.visible){if(this.ui.list.filter(this.filterValue(this._value)))this.trySelectFirst()}this.onDidChangeValueEmitter.fire(this._value)}}set ariaLabel(J){this._ariaLabel=J,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(J){this.ui.list.scrollTop=J}set items(J){this._items=J,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(J){this._canSelectMany=J,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(J){this._canAcceptInBackground=J}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(J){this._matchOnDescription=J,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(J){this._matchOnDetail=J,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(J){this._matchOnLabel=J,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(J){this._matchOnLabelMode=J,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(J){this._sortByLabel=J,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(J){this._keepScrollPosition=J}get itemActivation(){return this._itemActivation}set itemActivation(J){this._itemActivation=J}get activeItems(){return this._activeItems}set activeItems(J){this._activeItems=J,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(J){this._selectedItems=J,this.selectedItemsUpdated=!0,this.update()}get keyMods(){if(this._quickNavigate)return Ni;return this.ui.keyMods}set valueSelection(J){this._valueSelection=J,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(J){this._customButton=J,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(J){this._customButtonLabel=J,this.update()}get customHover(){return this._customButtonHover}set customHover(J){this._customButtonHover=J,this.update()}get ok(){return this._ok}set ok(J){this._ok=J,this.update()}get hideInput(){return!!this._hideInput}set hideInput(J){this._hideInput=J,this.update()}trySelectFirst(){if(!this.canSelectMany)this.ui.list.focus(L6.First)}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{this.doSetValue(J,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((J)=>{switch(J.keyCode){case 18:if(this.ui.list.focus(L6.Next),this.canSelectMany)this.ui.list.domFocus();u0.stop(J,!0);break;case 16:if(this.ui.list.getFocusedElements().length)this.ui.list.focus(L6.Previous);else this.ui.list.focus(L6.Last);if(this.canSelectMany)this.ui.list.domFocus();u0.stop(J,!0);break;case 12:if(this.ui.list.focus(L6.NextPage),this.canSelectMany)this.ui.list.domFocus();u0.stop(J,!0);break;case 11:if(this.ui.list.focus(L6.PreviousPage),this.canSelectMany)this.ui.list.domFocus();u0.stop(J,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0);break;case 14:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(L6.First),u0.stop(J,!0);break;case 13:if((J.ctrlKey||J.metaKey)&&!J.shiftKey&&!J.altKey)this.ui.list.focus(L6.Last),u0.stop(J,!0);break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{if(this.canSelectMany){if(!this.ui.list.getCheckedElements().length)this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)}else if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems);this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((J)=>{if(this.activeItemsUpdated)return;if(this.activeItemsToConfirm!==this._activeItems&&Q8(J,this._activeItems,($,X)=>$===X))return;this._activeItems=J,this.onDidChangeActiveEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:J,event:$})=>{if(this.canSelectMany){if(J.length)this.ui.list.setSelectedElements([]);return}if(this.selectedItemsToConfirm!==this._selectedItems&&Q8(J,this._selectedItems,(X,Q)=>X===Q))return;if(this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J),J.length)this.handleAccept(Wq($)&&$.button===1)})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((J)=>{if(!this.canSelectMany)return;if(this.selectedItemsToConfirm!==this._selectedItems&&Q8(J,this._selectedItems,($,X)=>$===X))return;this._selectedItems=J,this.onDidChangeSelectionEmitter.fire(J)})),this.visibleDisposables.add(this.ui.list.onButtonTriggered((J)=>this.onDidTriggerItemButtonEmitter.fire(J))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered((J)=>this.onDidTriggerSeparatorButtonEmitter.fire(J))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0;super.show()}handleAccept(J){let $=!1;if(this.onWillAcceptEmitter.fire({veto:()=>$=!0}),!$)this.onDidAcceptEmitter.fire({inBackground:J})}registerQuickNavigation(){return m(this.ui.container,$0.KEY_UP,(J)=>{if(this.canSelectMany||!this._quickNavigate)return;const $=new A1(J),X=$.keyCode;if(this._quickNavigate.keybindings.some((Z)=>{const G=Z.getChords();if(G.length>1)return!1;if(G[0].shiftKey&&X===4){if($.ctrlKey||$.altKey||$.metaKey)return!1;return!0}if(G[0].altKey&&X===6)return!0;if(G[0].ctrlKey&&X===5)return!0;if(G[0].metaKey&&X===57)return!0;return!1})){if(this.activeItems[0])this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1);this._quickNavigate=void 0}})}update(){if(!this.visible)return;const J=this.keepScrollPosition?this.scrollTop:0,$=!!this.description,X={title:!!this.title||!!this.step||!!this.buttons.length,description:$,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||$,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(X),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";let Q=this.ariaLabel;if(!Q&&X.inputBox){if(Q=this.placeholder||jU.DEFAULT_ARIA_LABEL,this.title)Q+=` - ${this.title}`}if(this.ui.list.ariaLabel!==Q)this.ui.list.ariaLabel=Q!==null&&Q!==void 0?Q:null;if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case pJ.NONE:this._itemActivation=pJ.FIRST;break;case pJ.SECOND:this.ui.list.focus(L6.Second),this._itemActivation=pJ.FIRST;break;case pJ.LAST:this.ui.list.focus(L6.Last),this._itemActivation=pJ.FIRST;break;default:this.trySelectFirst();break}if(this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany)if(this.canSelectMany)this.ui.list.clearFocus();else this.trySelectFirst();if(this.activeItemsUpdated){if(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems)this.activeItemsToConfirm=null}if(this.selectedItemsUpdated){if(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany)this.ui.list.setCheckedElements(this.selectedItems);else this.ui.list.setSelectedElements(this.selectedItems);if(this.selectedItemsToConfirm===this._selectedItems)this.selectedItemsToConfirm=null}if(this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",!X.inputBox){if(this.ui.list.domFocus(),this.canSelectMany)this.ui.list.focus(L6.First)}if(this.keepScrollPosition)this.scrollTop=J}}class MI extends Oj{constructor(){super(...arguments);this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new y),this.onDidAcceptEmitter=this._register(new y),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(J){this._value=J||"",this.update()}get placeholder(){return this._placeholder}set placeholder(J){this._placeholder=J,this.update()}get password(){return this._password}set password(J){this._password=J,this.update()}show(){if(!this.visible)this.visibleDisposables.add(this.ui.inputBox.onDidChange((J)=>{if(J===this.value)return;this._value=J,this.onDidValueChangeEmitter.fire(J)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0;super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const J={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};if(this.ui.setVisibilities(J),super.update(),this.ui.inputBox.value!==this.value)this.ui.inputBox.value=this.value;if(this.valueSelectionUpdated)this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]});if(this.ui.inputBox.placeholder!==(this.placeholder||""))this.ui.inputBox.placeholder=this.placeholder||"";if(this.ui.inputBox.password!==this.password)this.ui.inputBox.password=this.password}}class OI{get delay(){if(Date.now()-this.lastHoverHideTime<200)return 0;return this.configurationService.getValue("workbench.hover.delay")}constructor(J,$){this.configurationService=J,this.hoverService=$,this.lastHoverHideTime=0,this.placement="element"}showHover(J,$){var X;const Q=(J.content instanceof HTMLElement?(X=J.content.textContent)!==null&&X!==void 0?X:"":typeof J.content==="string"?J.content:J.content.value).length>20;return this.hoverService.showHover({...J,persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:Q,skipFadeInAnimation:!0}},$)}onDidHideHover(){this.lastHoverHideTime=Date.now()}}var fD;var TI=N(()=>{D0();T7();Yj();H1();u1();z6();F0();X0();O1();xY();W6();Pj();h0();Aj();RI();DI();fD={iconClass:y0.asClassName(U0.quickInputBack),tooltip:F("quickInput.back","Back"),handle:-1};Oj.noPromptMessage=F("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");jU.DEFAULT_ARIA_LABEL=F("quickInputBox.ariaLabel","Type to narrow down results.")});var di=N(()=>{q1();V0(".monaco-text-button{box-sizing:border-box;text-align:center;cursor:pointer;border:1px solid var(--vscode-button-border,transparent);border-radius:2px;justify-content:center;align-items:center;width:100%;padding:4px;line-height:18px;display:flex}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled:focus,.monaco-button.disabled{cursor:default;opacity:.4!important}.monaco-text-button .codicon{margin:0 .2em;color:inherit!important}.monaco-text-button.monaco-text-button-with-short-label{flex-flow:wrap;height:28px;padding:0 4px;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label{flex-basis:100%}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{flex-grow:1;width:0;overflow:hidden}.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label,.monaco-text-button.monaco-text-button-with-short-label>.monaco-button-label-short{font-weight:400;font-style:inherit;justify-content:center;align-items:center;padding:4px 0;display:flex}.monaco-button-dropdown{cursor:pointer;display:flex}.monaco-button-dropdown.disabled{cursor:default}.monaco-button-dropdown>.monaco-button:focus{outline-offset:-1px!important}.monaco-button-dropdown.disabled>.monaco-button.disabled,.monaco-button-dropdown.disabled>.monaco-button.disabled:focus,.monaco-button-dropdown.disabled>.monaco-button-dropdown-separator{opacity:.4!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-right-width:0!important}.monaco-button-dropdown .monaco-button-dropdown-separator{cursor:default;padding:4px 0}.monaco-button-dropdown .monaco-button-dropdown-separator>div{width:1px;height:100%}.monaco-button-dropdown>.monaco-button.monaco-dropdown-button{border:1px solid var(--vscode-button-border,transparent);border-radius:0 2px 2px 0;align-items:center;display:flex;border-left-width:0!important}.monaco-button-dropdown>.monaco-button.monaco-text-button{border-radius:2px 0 0 2px}.monaco-description-button{flex-direction:column;align-items:center;margin:4px 5px;display:flex}.monaco-description-button .monaco-button-description{padding:4px 20px;font-size:11px;font-style:italic}.monaco-description-button .monaco-button-label,.monaco-description-button .monaco-button-description{justify-content:center;align-items:center;display:flex}.monaco-description-button .monaco-button-label>.codicon,.monaco-description-button .monaco-button-description>.codicon{margin:0 .2em;color:inherit!important}.monaco-button.default-colors,.monaco-button-dropdown.default-colors>.monaco-button{color:var(--vscode-button-foreground);background-color:var(--vscode-button-background)}.monaco-button.default-colors:hover,.monaco-button-dropdown.default-colors>.monaco-button:hover{background-color:var(--vscode-button-hoverBackground)}.monaco-button.default-colors.secondary,.monaco-button-dropdown.default-colors>.monaco-button.secondary{color:var(--vscode-button-secondaryForeground);background-color:var(--vscode-button-secondaryBackground)}.monaco-button.default-colors.secondary:hover,.monaco-button-dropdown.default-colors>.monaco-button.secondary:hover{background-color:var(--vscode-button-secondaryHoverBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator{background-color:var(--vscode-button-background);border-top:1px solid var(--vscode-button-border);border-bottom:1px solid var(--vscode-button-border)}.monaco-button-dropdown.default-colors .monaco-button.secondary+.monaco-button-dropdown-separator{background-color:var(--vscode-button-secondaryBackground)}.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator>div{background-color:var(--vscode-button-separator)}")});class WU extends f{get onDidClick(){return this._onDidClick.event}constructor(J,$){super();this._label="",this._onDidClick=this._register(new y),this.options=$,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!$.secondary);const X=$.secondary?$.buttonSecondaryBackground:$.buttonBackground,Q=$.secondary?$.buttonSecondaryForeground:$.buttonForeground;if(this._element.style.color=Q||"",this._element.style.backgroundColor=X||"",$.supportShortLabel)this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label");if(typeof $.ariaLabel==="string")this._element.setAttribute("aria-label",$.ariaLabel);J.appendChild(this._element),this._register(w1.addTarget(this._element)),[$0.CLICK,I1.Tap].forEach((Y)=>{this._register(m(this._element,Y,(Z)=>{if(!this.enabled){u0.stop(Z);return}this._onDidClick.fire(Z)}))}),this._register(m(this._element,$0.KEY_DOWN,(Y)=>{const Z=new A1(Y);let G=!1;if(this.enabled&&(Z.equals(3)||Z.equals(10)))this._onDidClick.fire(Y),G=!0;else if(Z.equals(9))this._element.blur(),G=!0;if(G)u0.stop(Z,!0)})),this._register(m(this._element,$0.MOUSE_OVER,(Y)=>{if(!this._element.classList.contains("disabled"))this.updateBackground(!0)})),this._register(m(this._element,$0.MOUSE_OUT,(Y)=>{this.updateBackground(!1)})),this.focusTracker=this._register(CX(this._element)),this._register(this.focusTracker.onDidFocus(()=>{if(this.enabled)this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{if(this.enabled)this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(J){const $=[];for(let X of fJ(J))if(typeof X==="string"){if(X=X.trim(),X==="")continue;const Q=document.createElement("span");Q.textContent=X,$.push(Q)}else $.push(X);return $}updateBackground(J){let $;if(this.options.secondary)$=J?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground;else $=J?this.options.buttonHoverBackground:this.options.buttonBackground;if($)this._element.style.backgroundColor=$}get element(){return this._element}set label(J){var $;if(this._label===J)return;if(RQ(this._label)&&RQ(J)&&Js(this._label,J))return;this._element.classList.add("monaco-text-button");const X=this.options.supportShortLabel?this._labelElement:this._element;if(RQ(J)){const Q=h3(J,{inline:!0});Q.dispose();const Y=($=Q.element.querySelector("p"))===null||$===void 0?void 0:$.innerHTML;if(Y){const Z=LF(Y,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});X.innerHTML=Z}else F6(X)}else if(this.options.supportIcons)F6(X,...this.getContentElements(J));else X.textContent=J;if(typeof this.options.title==="string")this._element.title=this.options.title;else if(this.options.title)this._element.title=Zs(J);if(typeof this.options.ariaLabel==="string")this._element.setAttribute("aria-label",this.options.ariaLabel);else if(this.options.ariaLabel)this._element.setAttribute("aria-label",this._element.title);this._label=J}get label(){return this._label}set icon(J){this._element.classList.add(...y0.asClassNameArray(J))}set enabled(J){if(J)this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0;else this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0))}get enabled(){return!this._element.classList.contains("disabled")}}var zs0;var NI=N(()=>{D0();kF();T7();EP();s9();oG();u5();F0();eG();X0();W6();di();zs0={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:l.white.toString(),buttonForeground:l.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0}});var si=N(()=>{q1();V0(".monaco-count-badge{text-align:center;box-sizing:border-box;border-radius:11px;min-width:18px;min-height:18px;padding:3px 6px;font-size:11px;font-weight:400;line-height:11px;display:inline-block}.monaco-count-badge.long{border-radius:2px;min-height:auto;padding:2px 3px;line-height:normal}")});class hD{constructor(J,$,X){this.options=$,this.styles=X,this.count=0,this.element=Z0(J,q0(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(J){this.count=J,this.render()}setTitleFormat(J){this.titleFormat=J,this.render()}render(){var J,$;if(this.element.textContent=aQ(this.countFormat,this.count),this.element.title=aQ(this.titleFormat,this.count),this.element.style.backgroundColor=(J=this.styles.badgeBackground)!==null&&J!==void 0?J:"",this.element.style.color=($=this.styles.badgeForeground)!==null&&$!==void 0?$:"",this.styles.badgeBorder)this.element.style.border=`1px solid ${this.styles.badgeBorder}`}}var ai=N(()=>{D0();o0();si()});var ri=N(()=>{q1();V0(".monaco-progress-container{width:100%;height:2px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:2px;display:none;position:absolute;left:0}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{transition:width .1s linear;left:0}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-timing-function:linear;animation-iteration-count:infinite;transform:translate(0,0)}.monaco-progress-container.infinite.infinite-long-running .progress-bit{animation-timing-function:steps(100,end)}@keyframes progress{0%{transform:translate(0%)scaleX(1)}50%{transform:translate(2500%)scaleX(3)}to{transform:translate(4900%)scaleX(1)}}")});class Tj extends f{constructor(J,$){super();this.workedVal=0,this.showDelayedScheduler=this._register(new t1(()=>b5(this.element),0)),this.longRunningScheduler=this._register(new t1(()=>this.infiniteLongRunning(),Tj.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(J,$)}create(J,$){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),J.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=($===null||$===void 0?void 0:$.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(ni,_I,wI,oi),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(J){if(this.element.classList.add(ii),!this.element.classList.contains(_I))if(this.bit.style.width="inherit",J)setTimeout(()=>this.off(),200);else this.off();else if(this.bit.style.opacity="0",J)setTimeout(()=>this.off(),200);else this.off();return this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(oi,ii,wI),this.element.classList.add(ni,_I),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(wI)}getContainer(){return this.element}}var ii,ni,_I,wI,oi;var ti=N(()=>{D0();u1();X0();ri();ii="done",ni="active",_I="infinite",wI="infinite-long-running",oi="discrete";Tj.LONG_RUNNING_INFINITE_THRESHOLD=1e4});class LI extends f{constructor(J,$,X){super();this.parent=J,this.onKeyDown=(Y)=>{return i1(this.findInput.inputBox.inputElement,$0.KEY_DOWN,Y)},this.onDidChange=(Y)=>{return this.findInput.onDidChange(Y)},this.container=Z0(this.parent,Z$0(".quick-input-box")),this.findInput=this._register(new GU(this.container,void 0,{label:"",inputBoxStyles:$,toggleStyles:X}));const Q=this.findInput.inputBox.inputElement;Q.role="combobox",Q.ariaHasPopup="menu",Q.ariaAutoComplete="list",Q.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(J){this.findInput.setValue(J)}select(J=null){this.findInput.inputBox.select(J)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(J){this.findInput.inputBox.setPlaceHolder(J)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(J){this.findInput.inputBox.inputElement.type=J?"password":"text"}set enabled(J){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!J)}set toggles(J){this.findInput.setAdditionalToggles(J)}setAttribute(J,$){this.findInput.inputBox.inputElement.setAttribute(J,$)}showDecoration(J){if(J===D8.Ignore)this.findInput.clearMessage();else this.findInput.showMessage({type:J===D8.Info?1:J===D8.Warning?2:3,content:""})}stylesForType(J){return this.findInput.inputBox.stylesForType(J===D8.Info?1:J===D8.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var Z$0;var ei=N(()=>{D0();VD();X0();xY();Pj();Z$0=q0});class Nj extends f{constructor(J,$,X){super();this.options=J,this.themeService=$,this.layoutService=X,this.enabled=!0,this.onDidAcceptEmitter=this._register(new y),this.onDidCustomEmitter=this._register(new y),this.onDidTriggerButtonEmitter=this._register(new y),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new y),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new y),this.onHide=this.onHideEmitter.event,this.idPrefix=J.idPrefix,this.parentElement=J.container,this.styles=J.styles,this._register(J0.runAndSubscribe(oZ,({window:Q,disposables:Y})=>this.registerKeyModsListeners(Q,Y),{window:B1,disposables:this._store})),this._register(Ib((Q)=>{if(this.ui&&B0(this.ui.container)===Q)this.reparentUI(this.layoutService.mainContainer)}))}registerKeyModsListeners(J,$){const X=(Q)=>{this.keyMods.ctrlCmd=Q.ctrlKey||Q.metaKey,this.keyMods.alt=Q.altKey};for(let Q of[$0.KEY_DOWN,$0.KEY_UP,$0.MOUSE_DOWN])$.add(m(J,Q,X,!0))}getUI(J){if(this.ui){if(J){if(this.parentElement.ownerDocument!==this.layoutService.activeContainer.ownerDocument)this.reparentUI(this.layoutService.activeContainer)}return this.ui}const $=Z0(this.parentElement,t5(".quick-input-widget.show-file-icons"));$.tabIndex=-1,$.style.display="none";const X=O6($),Q=Z0($,t5(".quick-input-titlebar")),Y=this._register(new W7(Q,{hoverDelegate:this.options.hoverDelegate}));Y.domNode.classList.add("quick-input-left-action-bar");const Z=Z0(Q,t5(".quick-input-title")),G=this._register(new W7(Q,{hoverDelegate:this.options.hoverDelegate}));G.domNode.classList.add("quick-input-right-action-bar");const q=Z0($,t5(".quick-input-header")),U=Z0(q,t5("input.quick-input-check-all"));U.type="checkbox",U.setAttribute("aria-label",F("quickInput.checkAll","Toggle all checkboxes")),this._register(i1(U,$0.CHANGE,(b)=>{const u=U.checked;g.setAllVisibleChecked(u)})),this._register(m(U,$0.CLICK,(b)=>{if(b.x||b.y)j.setFocus()}));const H=Z0(q,t5(".quick-input-description")),z=Z0(q,t5(".quick-input-and-message")),V=Z0(z,t5(".quick-input-filter")),j=this._register(new LI(V,this.styles.inputBox,this.styles.toggle));j.setAttribute("aria-describedby",`${this.idPrefix}message`);const W=Z0(V,t5(".quick-input-visible-count"));W.setAttribute("aria-live","polite"),W.setAttribute("aria-atomic","true");const B=new hD(W,{countFormat:F({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),K=Z0(V,t5(".quick-input-count"));K.setAttribute("aria-live","polite");const P=new hD(K,{countFormat:F({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),A=Z0(q,t5(".quick-input-action")),D=this._register(new WU(A,this.styles.button));D.label=F("ok","OK"),this._register(D.onDidClick((b)=>{this.onDidAcceptEmitter.fire()}));const R=Z0(q,t5(".quick-input-action")),M=this._register(new WU(R,{...this.styles.button,supportIcons:!0}));M.label=F("custom","Custom"),this._register(M.onDidClick((b)=>{this.onDidCustomEmitter.fire()}));const O=Z0(z,t5(`#${this.idPrefix}message.quick-input-message`)),_=this._register(new Tj($,this.styles.progressBar));_.getContainer().classList.add("quick-input-progress");const w=Z0($,t5(".quick-input-html-widget"));w.tabIndex=-1;const C=Z0($,t5(".quick-input-description")),x=this.idPrefix+"list",g=this._register(new Mj($,x,this.options,this.themeService));j.setAttribute("aria-controls",x),this._register(g.onDidChangeFocus(()=>{var b;j.setAttribute("aria-activedescendant",(b=g.getActiveDescendant())!==null&&b!==void 0?b:"")})),this._register(g.onChangedAllVisibleChecked((b)=>{U.checked=b})),this._register(g.onChangedVisibleCount((b)=>{B.setCount(b)})),this._register(g.onChangedCheckedCount((b)=>{P.setCount(b)})),this._register(g.onLeave(()=>{setTimeout(()=>{if(j.setFocus(),this.controller instanceof jU&&this.controller.canSelectMany)g.clearFocus()},0)}));const c=CX($);return this._register(c),this._register(m($,$0.FOCUS,(b)=>{if(u8(b.relatedTarget,$))return;this.previousFocusElement=b.relatedTarget instanceof HTMLElement?b.relatedTarget:void 0},!0)),this._register(c.onDidBlur(()=>{if(!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut())this.hide(D2.Blur);this.previousFocusElement=void 0})),this._register(m($,$0.FOCUS,(b)=>{j.setFocus()})),this._register(i1($,$0.KEY_DOWN,(b)=>{if(u8(b.target,w))return;switch(b.keyCode){case 3:if(u0.stop(b,!0),this.enabled)this.onDidAcceptEmitter.fire();break;case 9:u0.stop(b,!0),this.hide(D2.Gesture);break;case 2:if(!b.altKey&&!b.ctrlKey&&!b.metaKey){const u=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if($.classList.contains("show-checkboxes"))u.push("input");else u.push("input[type=text]");if(this.getUI().list.isDisplayed())u.push(".monaco-list");if(this.getUI().message)u.push(".quick-input-message a");if(this.getUI().widget){if(u8(b.target,this.getUI().widget))break;u.push(".quick-input-html-widget")}const i=$.querySelectorAll(u.join(", "));if(b.shiftKey&&b.target===i[0])u0.stop(b,!0),g.clearFocus();else if(!b.shiftKey&&u8(b.target,i[i.length-1]))u0.stop(b,!0),i[0].focus()}break;case 10:if(b.ctrlKey)u0.stop(b,!0),this.getUI().list.toggleHover();break}})),this.ui={container:$,styleSheet:X,leftActionBar:Y,titleBar:Q,title:Z,description1:C,description2:H,widget:w,rightActionBar:G,checkAll:U,inputContainer:z,filterContainer:V,inputBox:j,visibleCountContainer:W,visibleCount:B,countContainer:K,count:P,okContainer:A,ok:D,message:O,customButtonContainer:R,customButton:M,list:g,progressBar:_,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:(b)=>this.show(b),hide:()=>this.hide(),setVisibilities:(b)=>this.setVisibilities(b),setEnabled:(b)=>this.setEnabled(b),setContextKey:(b)=>this.options.setContextKey(b),linkOpenerDelegate:(b)=>this.options.linkOpenerDelegate(b)},this.updateStyles(),this.ui}reparentUI(J){if(this.ui)this.parentElement=J,Z0(this.parentElement,this.ui.container)}pick(J,$={},X=t8.None){return new Promise((Q,Y)=>{let Z=(H)=>{var z;Z=Q,(z=$.onKeyMods)===null||z===void 0||z.call($,G.keyMods),Q(H)};if(X.isCancellationRequested){Z(void 0);return}const G=this.createQuickPick();let q;const U=[G,G.onDidAccept(()=>{if(G.canSelectMany)Z(G.selectedItems.slice()),G.hide();else{const H=G.activeItems[0];if(H)Z(H),G.hide()}}),G.onDidChangeActive((H)=>{const z=H[0];if(z&&$.onDidFocus)$.onDidFocus(z)}),G.onDidChangeSelection((H)=>{if(!G.canSelectMany){const z=H[0];if(z)Z(z),G.hide()}}),G.onDidTriggerItemButton((H)=>$.onDidTriggerItemButton&&$.onDidTriggerItemButton({...H,removeItem:()=>{const z=G.items.indexOf(H.item);if(z!==-1){const V=G.items.slice(),j=V.splice(z,1),W=G.activeItems.filter((K)=>K!==j[0]),B=G.keepScrollPosition;if(G.keepScrollPosition=!0,G.items=V,W)G.activeItems=W;G.keepScrollPosition=B}}})),G.onDidTriggerSeparatorButton((H)=>{var z;return(z=$.onDidTriggerSeparatorButton)===null||z===void 0?void 0:z.call($,H)}),G.onDidChangeValue((H)=>{if(q&&!H&&(G.activeItems.length!==1||G.activeItems[0]!==q))G.activeItems=[q]}),X.onCancellationRequested(()=>{G.hide()}),G.onDidHide(()=>{k1(U),Z(void 0)})];G.title=$.title,G.canSelectMany=!!$.canPickMany,G.placeholder=$.placeHolder,G.ignoreFocusOut=!!$.ignoreFocusLost,G.matchOnDescription=!!$.matchOnDescription,G.matchOnDetail=!!$.matchOnDetail,G.matchOnLabel=$.matchOnLabel===void 0||$.matchOnLabel,G.quickNavigate=$.quickNavigate,G.hideInput=!!$.hideInput,G.contextKey=$.contextKey,G.busy=!0,Promise.all([J,$.activeItem]).then(([H,z])=>{if(q=z,G.busy=!1,G.items=H,G.canSelectMany)G.selectedItems=H.filter((V)=>V.type!=="separator"&&V.picked);if(q)G.activeItems=[q]}),G.show(),Promise.resolve(J).then(void 0,(H)=>{Y(H),G.hide()})})}createQuickPick(){const J=this.getUI(!0);return new jU(J)}createInputBox(){const J=this.getUI(!0);return new MI(J)}show(J){const $=this.getUI(!0);this.onShowEmitter.fire();const X=this.controller;this.controller=J,X===null||X===void 0||X.didHide(),this.setEnabled(!0),$.leftActionBar.clear(),$.title.textContent="",$.description1.textContent="",$.description2.textContent="",F6($.widget),$.rightActionBar.clear(),$.checkAll.checked=!1,$.inputBox.placeholder="",$.inputBox.password=!1,$.inputBox.showDecoration(D8.Ignore),$.visibleCount.setCount(0),$.count.setCount(0),F6($.message),$.progressBar.stop(),$.list.setElements([]),$.list.matchOnDescription=!1,$.list.matchOnDetail=!1,$.list.matchOnLabel=!0,$.list.sortByLabel=!0,$.ignoreFocusOut=!1,$.inputBox.toggles=void 0;const Q=this.options.backKeybindingLabel();fD.tooltip=Q?F("quickInput.backWithKeybinding","Back ({0})",Q):F("quickInput.back","Back"),$.container.style.display="",this.updateLayout(),$.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(J){const $=this.getUI();$.title.style.display=J.title?"":"none",$.description1.style.display=J.description&&(J.inputBox||J.checkAll)?"":"none",$.description2.style.display=J.description&&!(J.inputBox||J.checkAll)?"":"none",$.checkAll.style.display=J.checkAll?"":"none",$.inputContainer.style.display=J.inputBox?"":"none",$.filterContainer.style.display=J.inputBox?"":"none",$.visibleCountContainer.style.display=J.visibleCount?"":"none",$.countContainer.style.display=J.count?"":"none",$.okContainer.style.display=J.ok?"":"none",$.customButtonContainer.style.display=J.customButton?"":"none",$.message.style.display=J.message?"":"none",$.progressBar.getContainer().style.display=J.progressBar?"":"none",$.list.display(!!J.list),$.container.classList.toggle("show-checkboxes",!!J.checkBox),$.container.classList.toggle("hidden-input",!J.inputBox&&!J.description),this.updateLayout()}setEnabled(J){if(J!==this.enabled){this.enabled=J;for(let $ of this.getUI().leftActionBar.viewItems)$.action.enabled=J;for(let $ of this.getUI().rightActionBar.viewItems)$.action.enabled=J;this.getUI().checkAll.disabled=!J,this.getUI().inputBox.enabled=J,this.getUI().ok.enabled=J,this.getUI().list.enabled=J}}hide(J){var $,X;const Q=this.controller;if(!Q)return;const Y=($=this.ui)===null||$===void 0?void 0:$.container,Z=Y&&!fF(Y);if(this.controller=null,this.onHideEmitter.fire(),Y)Y.style.display="none";if(!Z){let G=this.previousFocusElement;while(G&&!G.offsetParent)G=(X=G.parentElement)!==null&&X!==void 0?X:void 0;if(G===null||G===void 0?void 0:G.offsetParent)G.focus(),this.previousFocusElement=void 0;else this.options.returnFocus()}Q.didHide(J)}layout(J,$){this.dimension=J,this.titleBarOffset=$,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const J=this.ui.container.style,$=Math.min(this.dimension.width*0.62,Nj.MAX_WIDTH);J.width=$+"px",J.marginLeft="-"+$/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*0.4)}}applyStyles(J){this.styles=J,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:J,quickInputBackground:$,quickInputForeground:X,widgetBorder:Q,widgetShadow:Y}=this.styles.widget;this.ui.titleBar.style.backgroundColor=J!==null&&J!==void 0?J:"",this.ui.container.style.backgroundColor=$!==null&&$!==void 0?$:"",this.ui.container.style.color=X!==null&&X!==void 0?X:"",this.ui.container.style.border=Q?`1px solid ${Q}`:"",this.ui.container.style.boxShadow=Y?`0 0 8px 2px ${Y}`:"",this.ui.list.style(this.styles.list);const Z=[];if(this.styles.pickerGroup.pickerGroupBorder)Z.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);if(this.styles.pickerGroup.pickerGroupForeground)Z.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }");if(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground){if(Z.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground)Z.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);if(this.styles.keybindingLabel.keybindingLabelBorder)Z.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);if(this.styles.keybindingLabel.keybindingLabelBottomBorder)Z.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);if(this.styles.keybindingLabel.keybindingLabelShadow)Z.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);if(this.styles.keybindingLabel.keybindingLabelForeground)Z.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);Z.push("}")}const G=Z.join("\n");if(G!==this.ui.styleSheet.textContent)this.ui.styleSheet.textContent=G}}}var t5;var Jn=N(()=>{D0();o$();NI();ai();ti();$7();F0();X0();xY();h0();Aj();ei();RI();TI();X7();t5=q0;Nj.MAX_WIDTH=600});var G$0,BU,gD;var $n=N(()=>{$7();F0();m1();m0();vY();BI();nG();Li();e3();L7();r8();TI();Jn();h7();KP();G$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},BU=function(J,$){return function(X,Q){$(X,Q,J)}},gD=class J extends uN{get controller(){if(!this._controller)this._controller=this._register(this.createController());return this._controller}get hasController(){return!!this._controller}get quickAccess(){if(!this._quickAccess)this._quickAccess=this._register(this.instantiationService.createInstance(xD));return this._quickAccess}constructor($,X,Q,Y,Z,G){super(Q);this.instantiationService=$,this.contextKeyService=X,this.layoutService=Y,this.configurationService=Z,this.hoverService=G,this._onShow=this._register(new y),this._onHide=this._register(new y),this.contexts=new Map}createController($=this.layoutService,X){const Q={idPrefix:"quickInput_",container:$.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{return},setContextKey:(Z)=>this.setContextKey(Z),linkOpenerDelegate:(Z)=>{this.instantiationService.invokeFunction((G)=>{G.get(a$).open(Z,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>$.focus(),createList:(Z,G,q,U,H)=>this.instantiationService.createInstance(_D,Z,G,q,U,H),styles:this.computeStyles(),hoverDelegate:new OI(this.configurationService,this.hoverService)},Y=this._register(new Nj({...Q,...X},this.themeService,this.layoutService));return Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop),this._register($.onDidLayoutActiveContainer((Z)=>Y.layout(Z,$.activeContainerOffset.quickPickTop))),this._register($.onDidChangeActiveContainer(()=>{if(Y.isVisible())return;Y.layout($.activeContainerDimension,$.activeContainerOffset.quickPickTop)})),this._register(Y.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(Y.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),Y}setContextKey($){let X;if($){if(X=this.contexts.get($),!X)X=new z0($,!1).bindTo(this.contextKeyService),this.contexts.set($,X)}if(X&&X.get())return;this.resetContextKeys(),X===null||X===void 0||X.set(!0)}resetContextKeys(){this.contexts.forEach(($)=>{if($.get())$.reset()})}pick($,X={},Q=t8.None){return this.controller.pick($,X,Q)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){if(this.hasController)this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:j0(qN),quickInputForeground:j0(oh),quickInputTitleBackground:j0(th),widgetBorder:j0(wh),widgetShadow:j0(R$)},inputBox:Mk,toggle:Rk,countBadge:ma,button:ha,progressBar:ga,keybindingLabel:fa,list:wQ({listBackground:qN,listFocusBackground:L$,listFocusForeground:w$,listInactiveFocusForeground:w$,listInactiveSelectionIconForeground:iX,listInactiveFocusBackground:L$,listFocusOutline:j8,listInactiveFocusOutline:j8}),pickerGroup:{pickerGroupBorder:j0(eh),pickerGroupForeground:j0(xK)}}}};gD=G$0([BU(0,g0),BU(1,v0),BU(2,a8),BU(3,K9),BU(4,S1),BU(5,C3)],gD)});class FU{static get(J){return J.getContribution(FU.ID)}constructor(J){this.editor=J,this.widget=new mD(this.editor)}dispose(){this.widget.dispose()}}class mD{constructor(J){this.codeEditor=J,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return mD.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var Xn,rY,EI,pD;var Qn=N(()=>{Vr();F0();x9();r8();$7();m0();m1();nL();G9();$n();d2();h7();KP();Xn=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},rY=function(J,$){return function(X,Q){$(X,Q,J)}},EI=class J extends gD{constructor($,X,Q,Y,Z,G,q){super(X,Q,Y,new ZP($.getContainerDomNode(),Z),G,q);this.host=void 0;const U=FU.get($);if(U){const H=U.widget;this.host={_serviceBrand:void 0,get mainContainer(){return H.getDomNode()},getContainer(){return H.getDomNode()},get containers(){return[H.getDomNode()]},get activeContainer(){return H.getDomNode()},get mainContainerDimension(){return $.getLayoutInfo()},get activeContainerDimension(){return $.getLayoutInfo()},get onDidLayoutMainContainer(){return $.onDidLayoutChange},get onDidLayoutActiveContainer(){return $.onDidLayoutChange},get onDidLayoutContainer(){return J0.map($.onDidLayoutChange,(z)=>({container:H.getDomNode(),dimension:z}))},get onDidChangeActiveContainer(){return J0.None},get onDidAddContainer(){return J0.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>$.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};EI=Xn([rY(1,g0),rY(2,v0),rY(3,a8),rY(4,l1),rY(5,S1),rY(6,C3)],EI);pD=class J{get activeService(){const $=this.codeEditorService.getFocusedCodeEditor();if(!$)throw new Error("Quick input service needs a focused editor to work.");let X=this.mapEditorToService.get($);if(!X){const Q=X=this.instantiationService.createInstance(EI,$);this.mapEditorToService.set($,X),$4($.onDidDispose)(()=>{Q.dispose(),this.mapEditorToService.delete($)})}return X}get quickAccess(){return this.activeService.quickAccess}constructor($,X){this.instantiationService=$,this.codeEditorService=X,this.mapEditorToService=new Map}pick($,X={},Q=t8.None){return this.activeService.pick($,X,Q)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};pD=Xn([rY(0,g0),rY(1,l1)],pD);FU.ID="editor.controller.quickInput";mD.ID="editor.contrib.quickInputWidget";C9(FU.ID,FU,4)});function q$0(J){if(!J||!Array.isArray(J))return[];const $=[];let X=0;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];let G=-1;if(typeof Z.fontStyle==="string"){G=0;const H=Z.fontStyle.split(" ");for(let z=0,V=H.length;z<V;z++)switch(H[z]){case"italic":G=G|1;break;case"bold":G=G|2;break;case"underline":G=G|4;break;case"strikethrough":G=G|8;break}}let q=null;if(typeof Z.foreground==="string")q=Z.foreground;let U=null;if(typeof Z.background==="string")U=Z.background;$[X++]=new Yn(Z.token||"",Q,G,q,U)}return $}function V$0(J){const $=J.match(z$0);if(!$)return 0;switch($[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function j$0(J,$){if(J<$)return-1;if(J>$)return 1;return 0}function Gn(J){const $=[];for(let X=1,Q=J.length;X<Q;X++){const Y=J[X];$[X]=`.mtk${X} { color: ${Y}; }`}return $.push(".mtki { font-style: italic; }"),$.push(".mtkb { font-weight: bold; }"),$.push(".mtku { text-decoration: underline; text-underline-position: under; }"),$.push(".mtks { text-decoration: line-through; }"),$.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),$.join("\n")}class Yn{constructor(J,$,X,Q,Y){this._parsedThemeRuleBrand=void 0,this.token=J,this.index=$,this.fontStyle=X,this.foreground=Q,this.background=Y}}class Zn{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(J){if(J===null)return 0;const $=J.match(H$0);if(!$)throw new Error("Illegal value for token color: "+J);J=$[1].toUpperCase();let X=this._color2id.get(J);if(X)return X;return X=++this._lastColorId,this._color2id.set(J,X),this._id2color[X]=l.fromHex("#"+J),X}getColorMap(){return this._id2color.slice(0)}}class uD{static createFromRawTokenTheme(J,$){return this.createFromParsedTokenTheme(q$0(J),$)}static createFromParsedTokenTheme(J,$){return U$0(J,$)}constructor(J,$){this._colorMap=J,this._root=$,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(J){return this._root.match(J)}match(J,$){let X=this._cache.get($);if(typeof X==="undefined"){const Q=this._match($),Y=V$0($);X=(Q.metadata|Y<<8)>>>0,this._cache.set($,X)}return(X|J<<0)>>>0}}class kI{constructor(J,$,X){this._themeTrieElementRuleBrand=void 0,this._fontStyle=J,this._foreground=$,this._background=X,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new kI(this._fontStyle,this._foreground,this._background)}acceptOverwrite(J,$,X){if(J!==-1)this._fontStyle=J;if($!==0)this._foreground=$;if(X!==0)this._background=X;this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class II{constructor(J){this._themeTrieElementBrand=void 0,this._mainRule=J,this._children=new Map}match(J){if(J==="")return this._mainRule;const $=J.indexOf(".");let X,Q;if($===-1)X=J,Q="";else X=J.substring(0,$),Q=J.substring($+1);const Y=this._children.get(X);if(typeof Y!=="undefined")return Y.match(Q);return this._mainRule}insert(J,$,X,Q){if(J===""){this._mainRule.acceptOverwrite($,X,Q);return}const Y=J.indexOf(".");let Z,G;if(Y===-1)Z=J,G="";else Z=J.substring(0,Y),G=J.substring(Y+1);let q=this._children.get(Z);if(typeof q==="undefined")q=new II(this._mainRule.clone()),this._children.set(Z,q);q.insert(G,$,X,Q)}}var U$0,H$0,z$0;var qn=N(()=>{u5();U$0=function(J,$){J.sort((z,V)=>{const j=j$0(z.token,V.token);if(j!==0)return j;return z.index-V.index});let X=0,Q="000000",Y="ffffff";while(J.length>=1&&J[0].token===""){const z=J.shift();if(z.fontStyle!==-1)X=z.fontStyle;if(z.foreground!==null)Q=z.foreground;if(z.background!==null)Y=z.background}const Z=new Zn;for(let z of $)Z.getId(z);const G=Z.getId(Q),q=Z.getId(Y),U=new kI(X,G,q),H=new II(U);for(let z=0,V=J.length;z<V;z++){const j=J[z];H.insert(j.token,j.fontStyle,Z.getId(j.foreground),Z.getId(j.background))}return new uD(Z,H)};H$0=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;z$0=/\b(comment|string|regex|regexp)\b/});var Un,Hn,zn,Vn;var jn=N(()=>{L4();L7();Un={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[s6]:"#FFFFFE",[_$]:"#000000",[UN]:"#E5EBF1",[CG]:"#D3D3D3",[xG]:"#939393",[HN]:"#ADD6FF4D"}},Hn={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[s6]:"#1E1E1E",[_$]:"#D4D4D4",[UN]:"#3A3D41",[CG]:"#404040",[xG]:"#707070",[HN]:"#ADD6FF26"}},zn={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[s6]:"#000000",[_$]:"#FFFFFF",[CG]:"#FFFFFF",[xG]:"#FFFFFF"}},Vn={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[s6]:"#FFFFFF",[_$]:"#292929",[CG]:"#292929",[xG]:"#292929"}}});function U5(J,$,X,Q){return R2.registerIcon(J,$,X,Q)}function yI(){return R2}class Kn{constructor(){this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:F("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:F("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y0.iconNameExpression}\$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(J,$,X,Q){const Y=this.iconsById[J];if(Y){if(X&&!Y.description){Y.description=X,this.iconSchema.properties[J].markdownDescription=`${X} \$(${J})`;const q=this.iconReferenceSchema.enum.indexOf(J);if(q!==-1)this.iconReferenceSchema.enumDescriptions[q]=X;this._onDidChange.fire()}return Y}const Z={id:J,description:X,defaults:$,deprecationMessage:Q};this.iconsById[J]=Z;const G={$ref:"#/definitions/icons"};if(Q)G.deprecationMessage=Q;if(X)G.markdownDescription=`${X}: \$(${J})`;return this.iconSchema.properties[J]=G,this.iconReferenceSchema.enum.push(J),this.iconReferenceSchema.enumDescriptions.push(X||""),this._onDidChange.fire(),{id:J}}getIcons(){return Object.keys(this.iconsById).map((J)=>this.iconsById[J])}getIcon(J){return this.iconsById[J]}getIconSchema(){return this.iconSchema}toString(){const J=(Y,Z)=>{return Y.id.localeCompare(Z.id)},$=(Y)=>{while(y0.isThemeIcon(Y.defaults))Y=this.iconsById[Y.defaults.id];return`codicon codicon-${Y?Y.id:""}`},X=[];X.push("| preview     | identifier                        | default codicon ID                | description"),X.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const Q=Object.keys(this.iconsById).map((Y)=>this.iconsById[Y]);for(let Y of Q.filter((Z)=>!!Z.description).sort(J))X.push(`|<i class="${$(Y)}"></i>|${Y.id}|${y0.isThemeIcon(Y.defaults)?Y.defaults.id:Y.id}|${Y.description||""}|`);X.push("| preview     | identifier                        "),X.push("| ----------- | --------------------------------- |");for(let Y of Q.filter((Z)=>!y0.isThemeIcon(Z.defaults)).sort(J))X.push(`|<i class="${$(Y)}"></i>|${Y.id}|`);return X.join("\n")}}var B$0,W$0,Wn,Bn,R2,An,Pn,Fn,Sa0,Ca0,xa0,ba0,va0;var KU=N(()=>{u1();z6();W6();F0();G8();e8();h0();nF();Y5();B$0=function(){const J=$B();for(let $ in J){const X="\\"+J[$].toString(16);R2.registerIcon($,{fontCharacter:X})}},W$0={IconContribution:"base.contributions.icons"};(function(J){function $(X,Q){let Y=X.defaults;while(y0.isThemeIcon(Y)){const Z=R2.getIcon(Y.id);if(!Z)return;Y=Z.defaults}return Y}J.getDefinition=$})(Wn||(Wn={}));(function(J){function $(Q){return{weight:Q.weight,style:Q.style,src:Q.src.map((Y)=>({format:Y.format,location:Y.location.toString()}))}}J.toJSONObject=$;function X(Q){const Y=(Z)=>G6(Z)?Z:void 0;if(Q&&Array.isArray(Q.src)&&Q.src.every((Z)=>G6(Z.format)&&G6(Z.location)))return{weight:Y(Q.weight),style:Y(Q.style),src:Q.src.map((Z)=>({format:Z.format,location:I0.parse(Z.location)}))};return}J.fromJSONObject=X})(Bn||(Bn={}));R2=new Kn;r1.add(W$0.IconContribution,R2);B$0();An="vscode://schemas/icons",Pn=r1.as(GG.JSONContribution);Pn.registerSchema(An,R2.getIconSchema());Fn=new t1(()=>Pn.notifySchemaChanged(An),200);R2.onDidChange(()=>{if(!Fn.isScheduled())Fn.schedule()});Sa0=U5("widget-close",U0.close,F("widgetClose","Icon for the close action in widgets.")),Ca0=U5("goto-previous-location",U0.arrowUp,F("previousChangeIcon","Icon for goto previous editor location.")),xa0=U5("goto-next-location",U0.arrowDown,F("nextChangeIcon","Icon for goto next editor location.")),ba0=y0.modify(U0.sync,"spin"),va0=y0.modify(U0.loading,"spin")});function Dn(J){const $=new r,X=$.add(new y),Q=yI();if($.add(Q.onDidChange(()=>X.fire())),J)$.add(J.onDidProductIconThemeChange(()=>X.fire()));return{dispose:()=>$.dispose(),onDidChange:X.event,getCSS(){const Y=J?J.getProductIconTheme():new cD,Z={},G=(U)=>{const H=Y.getIcon(U);if(!H)return;const z=H.font;if(z)return Z[z.id]=z.definition,`.codicon-${U.id}:before { content: '${H.fontCharacter}'; font-family: ${LO(z.id)}; }`;return`.codicon-${U.id}:before { content: '${H.fontCharacter}'; }`},q=[];for(let U of Q.getIcons()){const H=G(U);if(H)q.push(H)}for(let U in Z){const H=Z[U],z=H.weight?`font-weight: ${H.weight};`:"",V=H.style?`font-style: ${H.style};`:"",j=H.src.map((W)=>`${TJ(W.location)} format('${W.format}')`).join(", ");q.push(`@font-face { src: ${j}; font-family: ${LO(U)};${z}${V} font-display: block; }`)}return q.join("\n")}}}class cD{getIcon(J){const $=yI();let X=J.defaults;while(y0.isThemeIcon(X)){const Q=$.getIcon(X.id);if(!Q)return;X=Q.defaults}return X}}var Rn=N(()=>{D0();F0();X0();W6();KU()});class CI{constructor(J,$){this.semanticHighlighting=!1,this.themeData=$;const X=$.base;if(J.length>0){if(dD(J))this.id=J;else this.id=X+" "+J;this.themeName=J}else this.id=X,this.themeName=X;this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){if(this.themeData.inherit)this.colors=null,this._tokenTheme=null}getColors(){if(!this.colors){const J=new Map;for(let $ in this.themeData.colors)J.set($,l.fromHex(this.themeData.colors[$]));if(this.themeData.inherit){const $=SI(this.themeData.base);for(let X in $.colors)if(!J.has(X))J.set(X,l.fromHex($.colors[X]))}this.colors=J}return this.colors}getColor(J,$){const X=this.getColors().get(J);if(X)return X;if($!==!1)return this.getDefault(J);return}getDefault(J){let $=this.defaultColors[J];if($)return $;return $=Mn.resolveDefaultColor(J,this),this.defaultColors[J]=$,$}defines(J){return this.getColors().has(J)}get type(){switch(this.base){case iY:return s5.LIGHT;case AU:return s5.HIGH_CONTRAST_DARK;case PU:return s5.HIGH_CONTRAST_LIGHT;default:return s5.DARK}}get tokenTheme(){if(!this._tokenTheme){let J=[],$=[];if(this.themeData.inherit){const Y=SI(this.themeData.base);if(J=Y.rules,Y.encodedTokensColors)$=Y.encodedTokensColors}const X=this.themeData.colors["editor.foreground"],Q=this.themeData.colors["editor.background"];if(X||Q){const Y={token:""};if(X)Y.foreground=X;if(Q)Y.background=Q;J.push(Y)}if(J=J.concat(this.themeData.rules),this.themeData.encodedTokensColors)$=this.themeData.encodedTokensColors;this._tokenTheme=uD.createFromRawTokenTheme(J,$)}return this._tokenTheme}getTokenStyleMetadata(J,$,X){const Y=this.tokenTheme._match([J].concat($).join(".")).metadata,Z=d6.getForeground(Y),G=d6.getFontStyle(Y);return{foreground:Z,italic:Boolean(G&1),bold:Boolean(G&2),underline:Boolean(G&4),strikethrough:Boolean(G&8)}}}class xI extends f{constructor(){super();this._onColorThemeChange=this._register(new y),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new y),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new cD,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(iY,lD(iY)),this._knownThemes.set(_j,lD(_j)),this._knownThemes.set(AU,lD(AU)),this._knownThemes.set(PU,lD(PU));const J=this._register(Dn(this));this._codiconCSS=J.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(iY),this._onOSSchemeChanged(),this._register(J.onDidChange(()=>{this._codiconCSS=J.getCSS(),this._updateCSS()})),aM(B1,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(J){if(eZ(J))return this._registerShadowDomContainer(J);return this._registerRegularEditorContainer()}_registerRegularEditorContainer(){if(!this._globalStyleElement)this._globalStyleElement=O6(void 0,(J)=>{J.className="monaco-colors",J.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement);return f.None}_registerShadowDomContainer(J){const $=O6(J,(X)=>{X.className="monaco-colors",X.textContent=this._allCSS});return this._styleElements.push($),{dispose:()=>{for(let X=0;X<this._styleElements.length;X++)if(this._styleElements[X]===$){this._styleElements.splice(X,1);return}}}}defineTheme(J,$){if(!/^[a-z0-9\-]+$/i.test(J))throw new Error("Illegal theme name!");if(!dD($.base)&&!dD(J))throw new Error("Illegal theme base!");if(this._knownThemes.set(J,new CI(J,$)),dD(J))this._knownThemes.forEach((X)=>{if(X.base===J)X.notifyBaseUpdated()});if(this._theme.themeName===J)this.setTheme(J)}getColorTheme(){return this._theme}setColorMapOverride(J){this._colorMapOverride=J,this._updateThemeOrColorMap()}setTheme(J){let $;if(this._knownThemes.has(J))$=this._knownThemes.get(J);else $=this._knownThemes.get(iY);this._updateActualTheme($)}_updateActualTheme(J){if(!J||this._theme===J)return;this._theme=J,this._updateThemeOrColorMap()}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const J=B1.matchMedia("(forced-colors: active)").matches;if(J!==IJ(this._theme.type)){let $;if(LG(this._theme.type))$=J?AU:_j;else $=J?PU:iY;this._updateActualTheme(this._knownThemes.get($))}}}setAutoDetectHighContrast(J){this._autoDetectHighContrast=J,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const J=[],$={},X={addRule:(Z)=>{if(!$[Z])J.push(Z),$[Z]=!0}};F$0.getThemingParticipants().forEach((Z)=>Z(this._theme,X,this._environment));const Q=[];for(let Z of Mn.getColors()){const G=this._theme.getColor(Z.id,!0);if(G)Q.push(`${SK(Z.id)}: ${G.toString()};`)}X.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${Q.join("\n")} }`);const Y=this._colorMapOverride||this._theme.tokenTheme.getColorMap();X.addRule(Gn(Y)),this._themeCSS=J.join("\n"),this._updateCSS(),c1.setColorMap(Y),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((J)=>J.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}var dD,SI,lD,iY,_j,AU,PU,Mn,F$0;var On=N(()=>{D0();A5();u5();F0();M7();Lq();qn();jn();Y5();L7();r8();X0();nX();Rn();X7();dD=function(J){return J===iY||J===_j||J===AU||J===PU},SI=function(J){switch(J){case iY:return Un;case _j:return Hn;case AU:return zn;case PU:return Vn}},lD=function(J){const $=SI(J);return new CI(J,$)},iY="vs",_j="vs-dark",AU="hc-black",PU="hc-light",Mn=r1.as(GN.ColorContribution),F$0=r1.as(mN.ThemingContribution)});var w5;var wj=N(()=>{m0();w5=M0("themeService")});var K$0,bI,sD;var Tn=N(()=>{D0();X7();F0();X0();K4();h7();m1();vY();K$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},bI=function(J,$){return function(X,Q){$(X,Q,J)}},sD=class J extends f{constructor($,X,Q){super();this._contextKeyService=$,this._layoutService=X,this._configurationService=Q,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y,this._onDidChangeReducedMotion=new y,this._accessibilityModeEnabledContext=Hh.bindTo(this._contextKeyService);const Y=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((G)=>{if(G.affectsConfiguration("editor.accessibilitySupport"))Y(),this._onDidChangeScreenReaderOptimized.fire();if(G.affectsConfiguration("workbench.reduceMotion"))this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire()})),Y(),this._register(this.onDidChangeScreenReaderOptimized(()=>Y()));const Z=B1.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Z.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Z)}initReducedMotionListeners($){this._register(m($,"change",()=>{if(this._systemMotionReduced=$.matches,this._configMotionReduced==="auto")this._onDidChangeReducedMotion.fire()}));const X=()=>{const Q=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",Q),this._layoutService.mainContainer.classList.toggle("enable-motion",!Q)};X(),this._register(this.onDidChangeReducedMotion(()=>X()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const $=this._configurationService.getValue("editor.accessibilitySupport");return $==="on"||$==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const $=this._configMotionReduced;return $==="on"||$==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};sD=K$0([bI(0,v0),bI(1,K9),bI(2,S1)],sD)});var A$0,iD,M2,DU,nY,aD,rD,vI,fI;var Nn=N(()=>{u1();F0();X0();DJ();X5();m1();$5();t3();H1();h0();A$0=function(J,$,X){const Q=qb($)?$.submenu.id:$.id,Y=typeof $.title==="string"?$.title:$.title.value,Z=mZ({id:`hide/${J.id}/${Q}`,label:F("hide.label","Hide \'{0}\'",Y),run(){X.updateHidden(J,Q,!0)}}),G=mZ({id:`toggle/${J.id}/${Q}`,label:Y,get checked(){return!X.isHidden(J,Q)},run(){X.updateHidden(J,Q,!!this.checked)}});return{hide:Z,toggle:G,get isHidden(){return!G.checked}}},iD=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},M2=function(J,$){return function(X,Q){$(X,Q,J)}},aD=class J{constructor($,X){this._commandService=$,this._hiddenStates=new rD(X)}createMenu($,X,Q){return new fI($,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...Q},this._commandService,X)}resetHiddenStates($){this._hiddenStates.reset($)}};aD=iD([M2(0,B6),M2(1,b4)],aD);rD=DU=class J{constructor($){this._storageService=$,this._disposables=new r,this._onDidChange=new y,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const X=$.get(DU._key,0,"{}");this._data=JSON.parse(X)}catch(X){this._data=Object.create(null)}this._disposables.add($.onDidChangeValue(0,DU._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const X=$.get(DU._key,0,"{}");this._data=JSON.parse(X)}catch(X){console.log("FAILED to read storage after UPDATE",X)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault($,X){var Q;return(Q=this._hiddenByDefaultCache.get(`${$.id}/${X}`))!==null&&Q!==void 0?Q:!1}setDefaultState($,X,Q){this._hiddenByDefaultCache.set(`${$.id}/${X}`,Q)}isHidden($,X){var Q,Y;const Z=this._isHiddenByDefault($,X),G=(Y=(Q=this._data[$.id])===null||Q===void 0?void 0:Q.includes(X))!==null&&Y!==void 0?Y:!1;return Z?!G:G}updateHidden($,X,Q){if(this._isHiddenByDefault($,X))Q=!Q;const Z=this._data[$.id];if(!Q){if(Z){const G=Z.indexOf(X);if(G>=0)$C(Z,G);if(Z.length===0)delete this._data[$.id]}}else if(!Z)this._data[$.id]=[X];else if(Z.indexOf(X)<0)Z.push(X);this._persist()}reset($){if($===void 0)this._data=Object.create(null),this._persist();else{for(let{id:X}of $)if(this._data[X])delete this._data[X];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const $=JSON.stringify(this._data);this._storageService.store(DU._key,$,0,0)}finally{this._ignoreChangeEvent=!1}}};rD._key="menu.hiddenCommands";rD=DU=iD([M2(0,b4)],rD);vI=nY=class J{constructor($,X,Q,Y,Z){this._id=$,this._hiddenStates=X,this._collectContextKeysForSubmenus=Q,this._commandService=Y,this._contextKeyService=Z,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const $=H$.getMenuItems(this._id);let X;$.sort(nY._compareMenuItems);for(let Q of $){const Y=Q.group||"";if(!X||X[0]!==Y)X=[Y,[]],this._menuGroups.push(X);X[1].push(Q),this._collectContextKeys(Q)}}_collectContextKeys($){if(nY._fillInKbExprKeys($.when,this._structureContextKeys),Uq($)){if($.command.precondition)nY._fillInKbExprKeys($.command.precondition,this._preconditionContextKeys);if($.command.toggled){const X=$.command.toggled.condition||$.command.toggled;nY._fillInKbExprKeys(X,this._toggledContextKeys)}}else if(this._collectContextKeysForSubmenus)H$.getMenuItems($.submenu).forEach(this._collectContextKeys,this)}createActionGroups($){const X=[];for(let Q of this._menuGroups){const[Y,Z]=Q,G=[];for(let q of Z)if(this._contextKeyService.contextMatchesRules(q.when)){const U=Uq(q);if(U)this._hiddenStates.setDefaultState(this._id,q.command.id,!!q.isHiddenByDefault);const H=A$0(this._id,U?q.command:q,this._hiddenStates);if(U)G.push(new AJ(q.command,q.alt,$,H,this._contextKeyService,this._commandService));else{const z=new nY(q.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups($),V=s8.join(...z.map((j)=>j[1]));if(V.length>0)G.push(new rZ(q,H,V))}}if(G.length>0)X.push([Y,G])}return X}static _fillInKbExprKeys($,X){if($)for(let Q of $.keys())X.add(Q)}static _compareMenuItems($,X){const Q=$.group,Y=X.group;if(Q!==Y){if(!Q)return 1;else if(!Y)return-1;if(Q==="navigation")return-1;else if(Y==="navigation")return 1;const q=Q.localeCompare(Y);if(q!==0)return q}const Z=$.order||0,G=X.order||0;if(Z<G)return-1;else if(Z>G)return 1;return nY._compareTitles(Uq($)?$.command.title:$.title,Uq(X)?X.command.title:X.title)}static _compareTitles($,X){const Q=typeof $==="string"?$:$.original,Y=typeof X==="string"?X:X.original;return Q.localeCompare(Y)}};vI=nY=iD([M2(3,B6),M2(4,v0)],vI);fI=class J{constructor($,X,Q,Y,Z){this._disposables=new r,this._menuInfo=new vI($,X,Q.emitEventsForSubmenuChanges,Y,Z);const G=new t1(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},Q.eventDebounceDelay);this._disposables.add(G),this._disposables.add(H$.onDidChangeMenu((z)=>{if(z.has($))G.schedule()}));const q=this._disposables.add(new r),U=(z)=>{let V=!1,j=!1,W=!1;for(let B of z)if(V=V||B.isStructuralChange,j=j||B.isEnablementChange,W=W||B.isToggleChange,V&&j&&W)break;return{menu:this,isStructuralChange:V,isEnablementChange:j,isToggleChange:W}},H=()=>{q.add(Z.onDidChangeContext((z)=>{const V=z.affectsSome(this._menuInfo.structureContextKeys),j=z.affectsSome(this._menuInfo.preconditionContextKeys),W=z.affectsSome(this._menuInfo.toggledContextKeys);if(V||j||W)this._onDidChange.fire({menu:this,isStructuralChange:V,isEnablementChange:j,isToggleChange:W})})),q.add(X.onDidChange((z)=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new GH({onWillAddFirstListener:H,onDidRemoveLastListener:q.clear.bind(q),delay:Q.eventDebounceDelay,merge:U}),this.onDidChange=this._onDidChange.event}getActions($){return this._menuInfo.createActionGroups($)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};fI=iD([M2(3,B6),M2(4,v0)],fI)});var P$0,_n,hI,Lj;var wn=N(()=>{A5();D0();X7();u1();F0();tQ();X0();vY();U9();P$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},_n=function(J,$){return function(X,Q){$(X,Q,J)}},Lj=hI=class J extends f{constructor($,X){super();if(this.layoutService=$,this.logService=X,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,C5||$F)this.installWebKitWriteTextWorkaround();this._register(J0.runAndSubscribe(oZ,({window:Q,disposables:Y})=>{Y.add(m(Q.document,"copy",()=>this.clearResources()))},{window:B1,disposables:this._store}))}installWebKitWriteTextWorkaround(){const $=()=>{const X=new LH;if(this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled)this.webKitPendingClipboardWritePromise.cancel();this.webKitPendingClipboardWritePromise=X,navigator.clipboard.write([new ClipboardItem({"text/plain":X.p})]).catch(async(Q)=>{if(!(Q instanceof Error)||Q.name!=="NotAllowedError"||!X.isRejected)this.logService.error(Q)})};this._register(J0.runAndSubscribe(this.layoutService.onDidAddContainer,({container:X,disposables:Q})=>{Q.add(m(X,"click",$)),Q.add(m(X,"keydown",$))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText($,X){if(this.writeResources([]),X){this.mapTextToType.set(X,$);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete($);try{return await navigator.clipboard.writeText($)}catch(Q){console.error(Q)}this.fallbackWriteText($)}fallbackWriteText($){const X=hF(),Q=X.activeElement,Y=X.body.appendChild(q0("textarea",{"aria-hidden":!0}));if(Y.style.height="1px",Y.style.width="1px",Y.style.position="absolute",Y.value=$,Y.focus(),Y.select(),X.execCommand("copy"),Q instanceof HTMLElement)Q.focus();X.body.removeChild(Y)}async readText($){if($)return this.mapTextToType.get($)||"";try{return await navigator.clipboard.readText()}catch(X){console.error(X)}return""}async readFindText(){return this.findText}async writeFindText($){this.findText=$}async writeResources($){if($.length===0)this.clearResources();else this.resources=$,this.resourcesStateHash=await this.computeResourcesStateHash()}async readResources(){const $=await this.computeResourcesStateHash();if(this.resourcesStateHash!==$)this.clearResources();return this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const $=await this.readText();return oQ($.substring(0,hI.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};Lj.MAX_RESOURCE_STATE_SOURCE_LENGTH=1000;Lj=hI=P$0([_n(0,K9),_n(1,Y6)],Lj)});var oY;var Ej=N(()=>{m0();oY=M0("clipboardService")});function T$0(J,$,X){J.get(v0).createKey(String($),N$0(X))}class oD{constructor(J,$){this._id=J,this._parent=$,this._value=Object.create(null),this._value._contextId=J}get value(){return{...this._value}}setValue(J,$){if(this._value[J]!==$)return this._value[J]=$,!0;return!1}removeValue(J){if(J in this._value)return delete this._value[J],!0;return!1}getValue(J){const $=this._value[J];if(typeof $==="undefined"&&this._parent)return this._parent.getValue(J);return $}}class O2 extends oD{constructor(){super(-1,null)}setValue(J,$){return!1}removeValue(J){return!1}getValue(J){return}}class Ij extends oD{constructor(J,$,X){super(J,null);this._configurationService=$,this._values=OQ.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((Q)=>{if(Q.source===7){const Y=Array.from(this._values,([Z])=>Z);this._values.clear(),X.fire(new pI(Y))}else{const Y=[];for(let Z of Q.affectedKeys){const G=`config.${Z}`,q=this._values.findSuperstr(G);if(q!==void 0)Y.push(...W1.map(q,([U])=>U)),this._values.deleteSuperstr(G);if(this._values.has(G))Y.push(G),this._values.delete(G)}X.fire(new pI(Y))}})}dispose(){this._listener.dispose()}getValue(J){if(J.indexOf(Ij._keyPrefix)!==0)return super.getValue(J);if(this._values.has(J))return this._values.get(J);const $=J.substr(Ij._keyPrefix.length),X=this._configurationService.getValue($);let Q=void 0;switch(typeof X){case"number":case"boolean":case"string":Q=X;break;default:if(Array.isArray(X))Q=JSON.stringify(X);else Q=X}return this._values.set(J,Q),Q}setValue(J,$){return super.setValue(J,$)}removeValue(J){return super.removeValue(J)}}class Ln{constructor(J,$,X){this._service=J,this._key=$,this._defaultValue=X,this.reset()}set(J){this._service.setContext(this._key,J)}reset(){if(typeof this._defaultValue==="undefined")this._service.removeContext(this._key);else this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class gI{constructor(J){this.key=J}affectsSome(J){return J.has(this.key)}allKeysContainedIn(J){return this.affectsSome(J)}}class pI{constructor(J){this.keys=J}affectsSome(J){for(let $ of this.keys)if(J.has($))return!0;return!1}allKeysContainedIn(J){return this.keys.every(($)=>J.has($))}}class En{constructor(J){this.events=J}affectsSome(J){for(let $ of this.events)if($.affectsSome(J))return!0;return!1}allKeysContainedIn(J){return this.events.every(($)=>$.allKeysContainedIn(J))}}class mI extends f{constructor(J){super();this._onDidChangeContext=this._register(new VJ({merge:($)=>new En($)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=J}createKey(J,$){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ln(this,J,$)}bufferChangeEvents(J){this._onDidChangeContext.pause();try{J()}finally{this._onDidChangeContext.resume()}}createScoped(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new kn(this,J)}contextMatchesRules(J){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const $=this.getContextValuesContainer(this._myContextId);return J?J.evaluate($):!0}getContextKeyValue(J){if(this._isDisposed)return;return this.getContextValuesContainer(this._myContextId).getValue(J)}setContext(J,$){if(this._isDisposed)return;const X=this.getContextValuesContainer(this._myContextId);if(!X)return;if(X.setValue(J,$))this._onDidChangeContext.fire(new gI(J))}removeContext(J){if(this._isDisposed)return;if(this.getContextValuesContainer(this._myContextId).removeValue(J))this._onDidChangeContext.fire(new gI(J))}getContext(J){if(this._isDisposed)return O2.INSTANCE;return this.getContextValuesContainer(O$0(J))}dispose(){super.dispose(),this._isDisposed=!0}}class kn extends mI{constructor(J,$){super(J.createChildContext());if(this._parentChangeListener=this._register(new m6),this._parent=J,this._updateParentChangeListener(),this._domNode=$,this._domNode.hasAttribute(kj)){let X="";if(this._domNode.classList)X=Array.from(this._domNode.classList.values()).join(", ");console.error(`Element already has context attribute${X?": "+X:""}`)}this._domNode.setAttribute(kj,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((J)=>{const X=this._parent.getContextValuesContainer(this._myContextId).value;if(!M$0(J,X))this._onDidChangeContext.fire(J)})}dispose(){if(this._isDisposed)return;this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(kj),super.dispose()}getContextValuesContainer(J){if(this._isDisposed)return O2.INSTANCE;return this._parent.getContextValuesContainer(J)}createChildContext(J=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(J)}disposeContext(J){if(this._isDisposed)return;this._parent.disposeContext(J)}}var M$0,O$0,N$0,D$0,R$0,kj,nD;var In=N(()=>{F0();_9();X0();B5();bP();e8();h0();X5();h7();m1();M$0=function(J,$){return J.allKeysContainedIn(new Set(Object.keys($)))},O$0=function(J){while(J){if(J.hasAttribute(kj)){const $=J.getAttribute(kj);if($)return parseInt($,10);return NaN}J=J.parentElement}return 0};N$0=function(J){return hW(J,($)=>{if(typeof $==="object"&&$.$mid===1)return I0.revive($).toString();if($ instanceof I0)return $.toString();return})},D$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},R$0=function(J,$){return function(X,Q){$(X,Q,J)}},kj="data-keybinding-context";O2.INSTANCE=new O2;Ij._keyPrefix="config.";nD=class J extends mI{constructor($){super(0);this._contexts=new Map,this._lastContextId=0;const X=this._register(new Ij(this._myContextId,$,this._onDidChangeContext));this._contexts.set(this._myContextId,X)}getContextValuesContainer($){if(this._isDisposed)return O2.INSTANCE;return this._contexts.get($)||O2.INSTANCE}createChildContext($=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const X=++this._lastContextId;return this._contexts.set(X,new oD(X,this.getContextValuesContainer($))),X}disposeContext($){if(!this._isDisposed)this._contexts.delete($)}};nD=D$0([R$0(0,S1)],nD);V8.registerCommand("_setContext",T$0);V8.registerCommand({id:"getContextKeyInfo",handler(){return[...z0.all()].sort((J,$)=>J.key.localeCompare($.key))},metadata:{description:F("getContextKeyInfo","A command that returns information about context keys"),args:[]}});V8.registerCommand("_generateContextKeyInfo",function(){const J=[],$=new Set;for(let X of z0.all())if(!$.has(X.key))$.add(X.key),J.push(X);J.sort((X,Q)=>X.key.localeCompare(Q.key)),console.log(JSON.stringify(J,void 0,2))})});class yn{constructor(J,$){this.key=J,this.data=$,this.incoming=new Map,this.outgoing=new Map}}class tD{constructor(J){this._hashFn=J,this._nodes=new Map}roots(){const J=[];for(let $ of this._nodes.values())if($.outgoing.size===0)J.push($);return J}insertEdge(J,$){const X=this.lookupOrInsertNode(J),Q=this.lookupOrInsertNode($);X.outgoing.set(Q.key,Q),Q.incoming.set(X.key,X)}removeNode(J){const $=this._hashFn(J);this._nodes.delete($);for(let X of this._nodes.values())X.outgoing.delete($),X.incoming.delete($)}lookupOrInsertNode(J){const $=this._hashFn(J);let X=this._nodes.get($);if(!X)X=new yn($,J),this._nodes.set($,X);return X}isEmpty(){return this._nodes.size===0}toString(){const J=[];for(let[$,X]of this._nodes)J.push(`${$}\n\t(-> incoming)[${[...X.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...X.outgoing.keys()].join(",")}]\n`);return J.join("\n")}findCycleSlow(){for(let[J,$]of this._nodes){const X=new Set([J]),Q=this._findCycle($,X);if(Q)return Q}return}_findCycle(J,$){for(let[X,Q]of J.outgoing){if($.has(X))return[...$,X].join(" -> ");$.add(X);const Y=this._findCycle(Q,$);if(Y)return Y;$.delete(X)}return}}var Sn=N(()=>{});class uI extends Error{constructor(J){var $;super("cyclic dependency between services");this.message=($=J.findCycleSlow())!==null&&$!==void 0?$:`UNABLE to detect cycle, dumping graph: \n${J.toString()}`}}class yj{constructor(J=new y4,$=!1,X,Q=_$0){var Y;this._services=J,this._strict=$,this._parent=X,this._enableTracing=Q,this._activeInstantiations=new Set,this._services.set(g0,this),this._globalGraph=Q?(Y=X===null||X===void 0?void 0:X._globalGraph)!==null&&Y!==void 0?Y:new tD((Z)=>Z):void 0}createChild(J){return new yj(J,this._strict,this,this._enableTracing)}invokeFunction(J,...$){const X=L5.traceInvocation(this._enableTracing,J);let Q=!1;try{return J({get:(Z)=>{if(Q)throw l2("service accessor is only valid during the invocation of its target method");const G=this._getOrCreateServiceInstance(Z,X);if(!G)throw new Error(`[invokeFunction] unknown service '${Z}'`);return G}},...$)}finally{Q=!0,X.stop()}}createInstance(J,...$){let X,Q;if(J instanceof j9)X=L5.traceCreation(this._enableTracing,J.ctor),Q=this._createInstance(J.ctor,J.staticArguments.concat($),X);else X=L5.traceCreation(this._enableTracing,J),Q=this._createInstance(J,$,X);return X.stop(),Q}_createInstance(J,$=[],X){const Q=KJ.getServiceDependencies(J).sort((G,q)=>G.index-q.index),Y=[];for(let G of Q){const q=this._getOrCreateServiceInstance(G.id,X);if(!q)this._throwIfStrict(`[createInstance] ${J.name} depends on UNKNOWN service ${G.id}.`,!1);Y.push(q)}const Z=Q.length>0?Q[0].index:$.length;if($.length!==Z){console.trace(`[createInstance] First service dependency of ${J.name} at position ${Z+1} conflicts with ${$.length} static arguments`);const G=Z-$.length;if(G>0)$=$.concat(new Array(G));else $=$.slice(0,Z)}return Reflect.construct(J,$.concat(Y))}_setServiceInstance(J,$){if(this._services.get(J)instanceof j9)this._services.set(J,$);else if(this._parent)this._parent._setServiceInstance(J,$);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(J){const $=this._services.get(J);if(!$&&this._parent)return this._parent._getServiceInstanceOrDescriptor(J);else return $}_getOrCreateServiceInstance(J,$){if(this._globalGraph&&this._globalGraphImplicitDependency)this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(J));const X=this._getServiceInstanceOrDescriptor(J);if(X instanceof j9)return this._safeCreateAndCacheServiceInstance(J,X,$.branch(J,!0));else return $.branch(J,!1),X}_safeCreateAndCacheServiceInstance(J,$,X){if(this._activeInstantiations.has(J))throw new Error(`illegal state - RECURSIVELY instantiating service '${J}'`);this._activeInstantiations.add(J);try{return this._createAndCacheServiceInstance(J,$,X)}finally{this._activeInstantiations.delete(J)}}_createAndCacheServiceInstance(J,$,X){var Q;const Y=new tD((q)=>q.id.toString());let Z=0;const G=[{id:J,desc:$,_trace:X}];while(G.length){const q=G.pop();if(Y.lookupOrInsertNode(q),Z++>1000)throw new uI(Y);for(let U of KJ.getServiceDependencies(q.desc.ctor)){const H=this._getServiceInstanceOrDescriptor(U.id);if(!H)this._throwIfStrict(`[createInstance] ${J} depends on ${U.id} which is NOT registered.`,!0);if((Q=this._globalGraph)===null||Q===void 0||Q.insertEdge(String(q.id),String(U.id)),H instanceof j9){const z={id:U.id,desc:H,_trace:q._trace.branch(U.id,!0)};Y.insertEdge(q,z),G.push(z)}}}while(!0){const q=Y.roots();if(q.length===0){if(!Y.isEmpty())throw new uI(Y);break}for(let{data:U}of q){if(this._getServiceInstanceOrDescriptor(U.id)instanceof j9){const z=this._createServiceInstanceWithOwner(U.id,U.desc.ctor,U.desc.staticArguments,U.desc.supportsDelayedInstantiation,U._trace);this._setServiceInstance(U.id,z)}Y.removeNode(U)}}return this._getServiceInstanceOrDescriptor(J)}_createServiceInstanceWithOwner(J,$,X=[],Q,Y){if(this._services.get(J)instanceof j9)return this._createServiceInstance(J,$,X,Q,Y);else if(this._parent)return this._parent._createServiceInstanceWithOwner(J,$,X,Q,Y);else throw new Error(`illegalState - creating UNKNOWN service instance ${$.name}`)}_createServiceInstance(J,$,X=[],Q,Y){if(!Q)return this._createInstance($,X,Y);else{const Z=new yj(void 0,this._strict,this,this._enableTracing);Z._globalGraphImplicitDependency=String(J);const G=new Map,q=new WO(()=>{const U=Z._createInstance($,X,Y);for(let[H,z]of G){const V=U[H];if(typeof V==="function")for(let j of z)j.disposable=V.apply(U,j.listener)}return G.clear(),U});return new Proxy(Object.create(null),{get(U,H){if(!q.isInitialized){if(typeof H==="string"&&(H.startsWith("onDid")||H.startsWith("onWill"))){let j=G.get(H);if(!j)j=new I8,G.set(H,j);return(B,K,P)=>{if(q.isInitialized)return q.value[H](B,K,P);else{const A={listener:[B,K,P],disposable:void 0},D=j.push(A);return K0(()=>{var M;D(),(M=A.disposable)===null||M===void 0||M.dispose()})}}}}if(H in U)return U[H];const z=q.value;let V=z[H];if(typeof V!=="function")return V;return V=V.bind(z),U[H]=V,V},set(U,H,z){return q.value[H]=z,!0},getPrototypeOf(U){return $.prototype}})}}_throwIfStrict(J,$){if($)console.warn(J);if(this._strict)throw new Error(J)}}class L5{static traceInvocation(J,$){return!J?L5._None:new L5(2,$.name||new Error().stack.split("\n").slice(3,4).join("\n"))}static traceCreation(J,$){return!J?L5._None:new L5(1,$.name)}constructor(J,$){this.type=J,this.name=$,this._start=Date.now(),this._dep=[]}branch(J,$){const X=new L5(3,J.toString());return this._dep.push([J,$,X]),X}stop(){const J=Date.now()-this._start;L5._totals+=J;let $=!1;function X(Y,Z){const G=[],q=new Array(Y+1).join("\t");for(let[U,H,z]of Z._dep)if(H&&z){$=!0,G.push(`${q}CREATES -> ${U}`);const V=X(Y+1,z);if(V)G.push(V)}else G.push(`${q}uses -> ${U}`);return G.join("\n")}const Q=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${X(1,this)}`,`DONE, took ${J.toFixed(2)}ms (grand total ${L5._totals.toFixed(2)}ms)`];if(J>2||$)L5.all.add(Q.join("\n"))}}var _$0;var Cn=N(()=>{u1();D1();X0();iF();Sn();m0();k3();w9();_$0=!1;L5.all=new Set;L5._None=new class extends L5{constructor(){super(0,null)}stop(){}branch(){return this}};L5._totals=0});class xn{constructor(){this._byResource=new x6,this._byOwner=new Map}set(J,$,X){let Q=this._byResource.get(J);if(!Q)Q=new Map,this._byResource.set(J,Q);Q.set($,X);let Y=this._byOwner.get($);if(!Y)Y=new x6,this._byOwner.set($,Y);Y.set(J,X)}get(J,$){const X=this._byResource.get(J);return X===null||X===void 0?void 0:X.get($)}delete(J,$){let X=!1,Q=!1;const Y=this._byResource.get(J);if(Y)X=Y.delete($);const Z=this._byOwner.get($);if(Z)Q=Z.delete(J);if(X!==Q)throw new Error("illegal state");return X&&Q}values(J){var $,X,Q,Y;if(typeof J==="string")return(X=($=this._byOwner.get(J))===null||$===void 0?void 0:$.values())!==null&&X!==void 0?X:W1.empty();if(I0.isUri(J))return(Y=(Q=this._byResource.get(J))===null||Q===void 0?void 0:Q.values())!==null&&Y!==void 0?Y:W1.empty();return W1.map(W1.concat(...this._byOwner.values()),(Z)=>Z[1])}}class bn{constructor(J){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new x6,this._service=J,this._subscription=J.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(J){for(let $ of J){const X=this._data.get($);if(X)this._substract(X);const Q=this._resourceStats($);this._add(Q),this._data.set($,Q)}}_resourceStats(J){const $={errors:0,warnings:0,infos:0,unknowns:0};if(w$0.has(J.scheme))return $;for(let{severity:X}of this._service.read({resource:J}))if(X===o5.Error)$.errors+=1;else if(X===o5.Warning)$.warnings+=1;else if(X===o5.Info)$.infos+=1;else $.unknowns+=1;return $}_substract(J){this.errors-=J.errors,this.warnings-=J.warnings,this.infos-=J.infos,this.unknowns-=J.unknowns}_add(J){this.errors+=J.errors,this.warnings+=J.warnings,this.infos+=J.infos,this.unknowns+=J.unknowns}}class kQ{constructor(){this._onMarkerChanged=new GH({delay:0,merge:kQ._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new xn,this._stats=new bn(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(J,$){for(let X of $||[])this.changeOne(J,X,[])}changeOne(J,$,X){if(xW(X)){if(this._data.delete($,J))this._onMarkerChanged.fire([$])}else{const Q=[];for(let Y of X){const Z=kQ._toMarker(J,$,Y);if(Z)Q.push(Z)}this._data.set($,J,Q),this._onMarkerChanged.fire([$])}}static _toMarker(J,$,X){let{code:Q,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:H,endColumn:z,relatedInformation:V,tags:j}=X;if(!Z)return;return q=q>0?q:1,U=U>0?U:1,H=H>=q?H:q,z=z>0?z:U,{resource:$,owner:J,code:Q,severity:Y,message:Z,source:G,startLineNumber:q,startColumn:U,endLineNumber:H,endColumn:z,relatedInformation:V,tags:j}}changeAll(J,$){const X=[],Q=this._data.values(J);if(Q)for(let Y of Q){const Z=W1.first(Y);if(Z)X.push(Z.resource),this._data.delete(Z.resource,J)}if(T9($)){const Y=new x6;for(let{resource:Z,marker:G}of $){const q=kQ._toMarker(J,Z,G);if(!q)continue;const U=Y.get(Z);if(!U)Y.set(Z,[q]),X.push(Z);else U.push(q)}for(let[Z,G]of Y)this._data.set(Z,J,G)}if(X.length>0)this._onMarkerChanged.fire(X)}read(J=Object.create(null)){let{owner:$,resource:X,severities:Q,take:Y}=J;if(!Y||Y<0)Y=-1;if($&&X){const Z=this._data.get(X,$);if(!Z)return[];else{const G=[];for(let q of Z)if(kQ._accept(q,Q)){const U=G.push(q);if(Y>0&&U===Y)break}return G}}else if(!$&&!X){const Z=[];for(let G of this._data.values())for(let q of G)if(kQ._accept(q,Q)){const U=Z.push(q);if(Y>0&&U===Y)return Z}return Z}else{const Z=this._data.values(X!==null&&X!==void 0?X:$),G=[];for(let q of Z)for(let U of q)if(kQ._accept(U,Q)){const H=G.push(U);if(Y>0&&H===Y)return G}return G}}static _accept(J,$){return $===void 0||($&J.severity)===J.severity}static _merge(J){const $=new x6;for(let X of J)for(let Q of X)$.set(Q,!0);return Array.from($.keys())}}var w$0;var vn=N(()=>{H1();F0();_9();W4();z9();e8();QU();w$0=new Set([J1.inMemory,J1.vscodeSourceControl,J1.walkThrough,J1.walkThroughSnippet])});class cI extends f{constructor(){super(...arguments);this._configurationModel=new o6}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new o6;const J=r1.as(p9.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(J),J)}updateConfigurationModel(J,$){const X=this.getConfigurationDefaultOverrides();for(let Q of J){const Y=X[Q],Z=$[Q];if(Y!==void 0)this._configurationModel.addValue(Q,Y);else if(Z)this._configurationModel.addValue(Q,Z.default);else this._configurationModel.removeValue(Q)}}}var fn=N(()=>{X0();dE();UG();Y5()});class r0{static register(J){return new r0(J.fileName)}constructor(J){this.fileName=J}}class hn{constructor(J){this.randomOneOf=J}}class $1{static register(J){const $=new hn("randomOneOf"in J.sound?J.sound.randomOneOf:[J.sound]),X=new $1($,J.name,J.settingsKey,J.alertSettingsKey,J.alertMessage);return $1._audioCues.add(X),X}constructor(J,$,X,Q,Y){this.sound=J,this.name=$,this.settingsKey=X,this.alertSettingsKey=Q,this.alertMessage=Y}}var o9;var T2=N(()=>{m0();h0();o9=M0("audioCue");r0.error=r0.register({fileName:"error.mp3"});r0.warning=r0.register({fileName:"warning.mp3"});r0.foldedArea=r0.register({fileName:"foldedAreas.mp3"});r0.break=r0.register({fileName:"break.mp3"});r0.quickFixes=r0.register({fileName:"quickFixes.mp3"});r0.taskCompleted=r0.register({fileName:"taskCompleted.mp3"});r0.taskFailed=r0.register({fileName:"taskFailed.mp3"});r0.terminalBell=r0.register({fileName:"terminalBell.mp3"});r0.diffLineInserted=r0.register({fileName:"diffLineInserted.mp3"});r0.diffLineDeleted=r0.register({fileName:"diffLineDeleted.mp3"});r0.diffLineModified=r0.register({fileName:"diffLineModified.mp3"});r0.chatRequestSent=r0.register({fileName:"chatRequestSent.mp3"});r0.chatResponsePending=r0.register({fileName:"chatResponsePending.mp3"});r0.chatResponseReceived1=r0.register({fileName:"chatResponseReceived1.mp3"});r0.chatResponseReceived2=r0.register({fileName:"chatResponseReceived2.mp3"});r0.chatResponseReceived3=r0.register({fileName:"chatResponseReceived3.mp3"});r0.chatResponseReceived4=r0.register({fileName:"chatResponseReceived4.mp3"});r0.clear=r0.register({fileName:"clear.mp3"});r0.save=r0.register({fileName:"save.mp3"});r0.format=r0.register({fileName:"format.mp3"});$1._audioCues=new Set;$1.error=$1.register({name:F("audioCues.lineHasError.name","Error on Line"),sound:r0.error,settingsKey:"audioCues.lineHasError",alertSettingsKey:"accessibility.alert.error",alertMessage:F("audioCues.lineHasError.alertMessage","Error")});$1.warning=$1.register({name:F("audioCues.lineHasWarning.name","Warning on Line"),sound:r0.warning,settingsKey:"audioCues.lineHasWarning",alertSettingsKey:"accessibility.alert.warning",alertMessage:F("audioCues.lineHasWarning.alertMessage","Warning")});$1.foldedArea=$1.register({name:F("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:r0.foldedArea,settingsKey:"audioCues.lineHasFoldedArea",alertSettingsKey:"accessibility.alert.foldedArea",alertMessage:F("audioCues.lineHasFoldedArea.alertMessage","Folded")});$1.break=$1.register({name:F("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:r0.break,settingsKey:"audioCues.lineHasBreakpoint",alertSettingsKey:"accessibility.alert.breakpoint",alertMessage:F("audioCues.lineHasBreakpoint.alertMessage","Breakpoint")});$1.inlineSuggestion=$1.register({name:F("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:r0.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"});$1.terminalQuickFix=$1.register({name:F("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:r0.quickFixes,settingsKey:"audioCues.terminalQuickFix",alertSettingsKey:"accessibility.alert.terminalQuickFix",alertMessage:F("audioCues.terminalQuickFix.alertMessage","Quick Fix")});$1.onDebugBreak=$1.register({name:F("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:r0.break,settingsKey:"audioCues.onDebugBreak",alertSettingsKey:"accessibility.alert.onDebugBreak",alertMessage:F("audioCues.onDebugBreak.alertMessage","Breakpoint")});$1.noInlayHints=$1.register({name:F("audioCues.noInlayHints","No Inlay Hints on Line"),sound:r0.error,settingsKey:"audioCues.noInlayHints",alertSettingsKey:"accessibility.alert.noInlayHints",alertMessage:F("audioCues.noInlayHints.alertMessage","No Inlay Hints")});$1.taskCompleted=$1.register({name:F("audioCues.taskCompleted","Task Completed"),sound:r0.taskCompleted,settingsKey:"audioCues.taskCompleted",alertSettingsKey:"accessibility.alert.taskCompleted",alertMessage:F("audioCues.taskCompleted.alertMessage","Task Completed")});$1.taskFailed=$1.register({name:F("audioCues.taskFailed","Task Failed"),sound:r0.taskFailed,settingsKey:"audioCues.taskFailed",alertSettingsKey:"accessibility.alert.taskFailed",alertMessage:F("audioCues.taskFailed.alertMessage","Task Failed")});$1.terminalCommandFailed=$1.register({name:F("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:r0.error,settingsKey:"audioCues.terminalCommandFailed",alertSettingsKey:"accessibility.alert.terminalCommandFailed",alertMessage:F("audioCues.terminalCommandFailed.alertMessage","Command Failed")});$1.terminalBell=$1.register({name:F("audioCues.terminalBell","Terminal Bell"),sound:r0.terminalBell,settingsKey:"audioCues.terminalBell",alertSettingsKey:"accessibility.alert.terminalBell",alertMessage:F("audioCues.terminalBell.alertMessage","Terminal Bell")});$1.notebookCellCompleted=$1.register({name:F("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:r0.taskCompleted,settingsKey:"audioCues.notebookCellCompleted",alertSettingsKey:"accessibility.alert.notebookCellCompleted",alertMessage:F("audioCues.notebookCellCompleted.alertMessage","Notebook Cell Completed")});$1.notebookCellFailed=$1.register({name:F("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:r0.taskFailed,settingsKey:"audioCues.notebookCellFailed",alertSettingsKey:"accessibility.alert.notebookCellFailed",alertMessage:F("audioCues.notebookCellFailed.alertMessage","Notebook Cell Failed")});$1.diffLineInserted=$1.register({name:F("audioCues.diffLineInserted","Diff Line Inserted"),sound:r0.diffLineInserted,settingsKey:"audioCues.diffLineInserted"});$1.diffLineDeleted=$1.register({name:F("audioCues.diffLineDeleted","Diff Line Deleted"),sound:r0.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"});$1.diffLineModified=$1.register({name:F("audioCues.diffLineModified","Diff Line Modified"),sound:r0.diffLineModified,settingsKey:"audioCues.diffLineModified"});$1.chatRequestSent=$1.register({name:F("audioCues.chatRequestSent","Chat Request Sent"),sound:r0.chatRequestSent,settingsKey:"audioCues.chatRequestSent",alertSettingsKey:"accessibility.alert.chatRequestSent",alertMessage:F("audioCues.chatRequestSent.alertMessage","Chat Request Sent")});$1.chatResponseReceived=$1.register({name:F("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[r0.chatResponseReceived1,r0.chatResponseReceived2,r0.chatResponseReceived3,r0.chatResponseReceived4]}});$1.chatResponsePending=$1.register({name:F("audioCues.chatResponsePending","Chat Response Pending"),sound:r0.chatResponsePending,settingsKey:"audioCues.chatResponsePending",alertSettingsKey:"accessibility.alert.chatResponsePending",alertMessage:F("audioCues.chatResponsePending.alertMessage","Chat Response Pending")});$1.clear=$1.register({name:F("audioCues.clear","Clear"),sound:r0.clear,settingsKey:"audioCues.clear",alertSettingsKey:"accessibility.alert.clear",alertMessage:F("audioCues.clear.alertMessage","Clear")});$1.save=$1.register({name:F("audioCues.save","Save"),sound:r0.save,settingsKey:"audioCues.save",alertSettingsKey:"accessibility.alert.save",alertMessage:F("audioCues.save.alertMessage","Save")});$1.format=$1.register({name:F("audioCues.format","Format"),sound:r0.format,settingsKey:"audioCues.format",alertSettingsKey:"accessibility.alert.format",alertMessage:F("audioCues.format.alertMessage","Format")})});class lI extends f{constructor(J,$=[]){super();this.logger=new HO([J,...$]),this._register(J.onDidChangeLogLevel((X)=>this.setLevel(X)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(J){this.logger.setLevel(J)}getLevel(){return this.logger.getLevel()}trace(J,...$){this.logger.trace(J,...$)}debug(J,...$){this.logger.debug(J,...$)}info(J,...$){this.logger.info(J,...$)}warn(J,...$){this.logger.warn(J,...$)}error(J,...$){this.logger.error(J,...$)}}var gn=N(()=>{X0();U9()});function pn(){return L$0.slice(0)}var L$0;var mn=N(()=>{L$0=[]});function xj(J,$,X){if(!$)return;if(!(J instanceof tI))return;const Q=[];if(Object.keys($).forEach((Y)=>{if(Ks(Y))Q.push([`editor.${Y}`,$[Y]]);if(X&&As(Y))Q.push([`diffEditor.${Y}`,$[Y]])}),Q.length>0)J.updateValues(Q)}class cn{constructor(J){this.disposed=!1,this.model=J,this._onWillDispose=new y}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}class eD{show(){return eD.NULL_PROGRESS_RUNNER}async showWhile(J,$){await J}}class ln{withProgress(J,$,X){return $({report:()=>{}})}}class dn{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class sn{async confirm(J){return{confirmed:this.doConfirm(J.message,J.detail),checkboxChecked:!1}}doConfirm(J,$){let X=J;if($)X=X+"\n\n"+$;return B1.confirm(X)}async prompt(J){var $,X;let Q=void 0;if(this.doConfirm(J.message,J.detail)){const Z=[...($=J.buttons)!==null&&$!==void 0?$:[]];if(J.cancelButton&&typeof J.cancelButton!=="string"&&typeof J.cancelButton!=="boolean")Z.push(J.cancelButton);Q=await((X=Z[0])===null||X===void 0?void 0:X.run({checkboxChecked:!1}))}return{result:Q}}async error(J,$){await this.prompt({type:D8.Error,message:J,detail:$})}}class Sj{info(J){return this.notify({severity:D8.Info,message:J})}warn(J){return this.notify({severity:D8.Warning,message:J})}error(J){return this.notify({severity:D8.Error,message:J})}notify(J){switch(J.severity){case D8.Error:console.error(J.message);break;case D8.Warning:console.warn(J.message);break;default:console.log(J.message);break}return Sj.NO_OP}prompt(J,$,X,Q){return Sj.NO_OP}status(J,$){return f.None}}class an extends f{constructor(J,$){super();this.domNode=J,this._register($)}}class tI{constructor(){this._onDidChangeConfiguration=new y,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const J=new cI;this._configuration=new vV(J.reload(),new o6,new o6,new o6),J.dispose()}getValue(J,$){const X=typeof J==="string"?J:void 0,Q=un(J)?J:un($)?$:{};return this._configuration.getValue(X,Q,void 0)}updateValues(J){const $={data:this._configuration.toData()},X=[];for(let Q of J){const[Y,Z]=Q;if(this.getValue(Y)===Z)continue;this._configuration.updateValue(Y,Z),X.push(Y)}if(X.length>0){const Q=new lE({keys:X,overrides:[]},$,this._configuration);Q.source=8,this._onDidChangeConfiguration.fire(Q)}return Promise.resolve()}updateValue(J,$,X,Q){return this.updateValues([[J,$]])}inspect(J,$={}){return this._configuration.inspect(J,$,void 0)}}class rn{publicLog2(){}}class Cj{constructor(){const J=I0.from({scheme:Cj.SCHEME,authority:"model",path:"/"});this.workspace={id:vs,folders:[new oE({uri:J,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(J){return J&&J.scheme===Cj.SCHEME?this.workspace.folders[0]:null}}class nn{getUriLabel(J,$){if(J.scheme==="file")return J.fsPath;return J.path}getUriBasenameLabel(J){return cG(J)}}class on{constructor(){this._neverEmitter=new y,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class tn extends a3{constructor(){super()}}class en extends lI{constructor(){super(new UO)}}class Jo{async playAudioCue(J,$){}}var un,eY,t6,dI,sI,tY,aI,rI,iI,nI,oI,C0;var JR=N(()=>{g7();iL();nL();Qd();ZE();jd();Ld();js();o0();D0();T7();F0();aZ();X0();O1();xY();e8();Bs();Ps();bV();U1();c0();_X();DH();VK();X5();h7();dE();m1();oL();m0();Ts();xJ();sE();qq();rE();Es();nE();FQ();pV();iQ();hP();vY();tE();g$();G9();U9();ls();DQ();ss();$a();ea();h9();$r();XU();mT();f9();qr();XN();zr();Qn();On();wj();Tn();K4();DJ();Nn();wn();Ej();In();iF();Cn();k3();BI();QU();vn();nG();Aj();t3();fn();T2();gn();mn();D1();zP();X7();un=function(J){return J&&typeof J==="object"&&(!J.overrideIdentifier||typeof J.overrideIdentifier==="string")&&(!J.resource||J.resource instanceof I0)};eY=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},t6=function(J,$){return function(X,Q){$(X,Q,J)}};dI=class J{constructor($){this.modelService=$}createModelReference($){const X=this.modelService.getModel($);if(!X)return Promise.reject(new Error("Model not found"));return Promise.resolve(new MM(new cn(X)))}};dI=eY([t6(0,j6)],dI);eD.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};Sj.NO_OP=new hL;sI=class J{constructor($){this._onWillExecuteCommand=new y,this._onDidExecuteCommand=new y,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=$}executeCommand($,...X){const Q=V8.getCommand($);if(!Q)return Promise.reject(new Error(`command '${$}' not found`));try{this._onWillExecuteCommand.fire({commandId:$,args:X});const Y=this._instantiationService.invokeFunction.apply(this._instantiationService,[Q.handler,...X]);return this._onDidExecuteCommand.fire({commandId:$,args:X}),Promise.resolve(Y)}catch(Y){return Promise.reject(Y)}}};sI=eY([t6(0,g0)],sI);tY=class J extends aE{constructor($,X,Q,Y,Z,G){super($,X,Q,Y,Z);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const q=(W)=>{const B=new r;B.add(m(W,$0.KEY_DOWN,(K)=>{const P=new A1(K);if(this._dispatch(P,P.target))P.preventDefault(),P.stopPropagation()})),B.add(m(W,$0.KEY_UP,(K)=>{const P=new A1(K);if(this._singleModifierDispatch(P,P.target))P.preventDefault()})),this._domNodeListeners.push(new an(W,B))},U=(W)=>{for(let B=0;B<this._domNodeListeners.length;B++){const K=this._domNodeListeners[B];if(K.domNode===W)this._domNodeListeners.splice(B,1),K.dispose()}},H=(W)=>{if(W.getOption(61))return;q(W.getContainerDomNode())},z=(W)=>{if(W.getOption(61))return;U(W.getContainerDomNode())};this._register(G.onCodeEditorAdd(H)),this._register(G.onCodeEditorRemove(z)),G.listCodeEditors().forEach(H);const V=(W)=>{q(W.getContainerDomNode())},j=(W)=>{U(W.getContainerDomNode())};this._register(G.onDiffEditorAdd(V)),this._register(G.onDiffEditorRemove(j)),G.listDiffEditors().forEach(V)}addDynamicKeybinding($,X,Q,Y){return x7(V8.registerCommand($,Q),this.addDynamicKeybindings([{keybinding:X,command:$,when:Y}]))}addDynamicKeybindings($){const X=$.map((Q)=>{var Y;return{keybinding:NH(Q.keybinding,C7),command:(Y=Q.command)!==null&&Y!==void 0?Y:null,commandArgs:Q.commandArgs,when:Q.when,weight1:1000,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(X),this.updateResolver(),K0(()=>{for(let Q=0;Q<this._dynamicKeybindings.length;Q++)if(this._dynamicKeybindings[Q]===X[0]){this._dynamicKeybindings.splice(Q,X.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const $=this._toNormalizedKeybindingItems(q4.getDefaultKeybindings(),!0),X=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new m3($,X,(Q)=>this._log(Q))}return this._cachedResolver}_documentHasFocus(){return B1.document.hasFocus()}_toNormalizedKeybindingItems($,X){const Q=[];let Y=0;for(let Z of $){const G=Z.when||void 0,q=Z.keybinding;if(!q)Q[Y++]=new CP(void 0,Z.command,Z.commandArgs,G,X,null,!1);else{const U=c3.resolveKeybinding(q,C7);for(let H of U)Q[Y++]=new CP(H,Z.command,Z.commandArgs,G,X,null,!1)}}return Q}resolveKeyboardEvent($){const X=new E9($.ctrlKey,$.shiftKey,$.altKey,$.metaKey,$.keyCode);return new c3([X],C7)}};tY=eY([t6(0,v0),t6(1,B6),t6(2,Z5),t6(3,i6),t6(4,Y6),t6(5,l1)],tY);aI=class J{constructor($,X,Q){this.configurationService=$,this.modelService=X,this.languageService=Q,this._onDidChangeConfiguration=new y,this.configurationService.onDidChangeConfiguration((Y)=>{this._onDidChangeConfiguration.fire({affectedKeys:Y.affectedKeys,affectsConfiguration:(Z,G)=>Y.affectsConfiguration(G)})})}getValue($,X,Q){const Y=v.isIPosition(X)?X:null,Z=Y?typeof Q==="string"?Q:void 0:typeof X==="string"?X:void 0,G=$?this.getLanguage($,Y):void 0;if(typeof Z==="undefined")return this.configurationService.getValue({resource:$,overrideIdentifier:G});return this.configurationService.getValue(Z,{resource:$,overrideIdentifier:G})}getLanguage($,X){const Q=this.modelService.getModel($);if(Q)return X?Q.getLanguageIdAtPosition(X.lineNumber,X.column):Q.getLanguageId();return this.languageService.guessLanguageIdByFilepathOrFirstLine($)}};aI=eY([t6(0,S1),t6(1,j6),t6(2,e1)],aI);rI=class J{constructor($){this.configurationService=$}getEOL($,X){const Q=this.configurationService.getValue("files.eol",{overrideIdentifier:X,resource:$});if(Q&&typeof Q==="string"&&Q!=="auto")return Q;return B8||a0?"\n":"\r\n"}};rI=eY([t6(0,S1)],rI);Cj.SCHEME="inmemory";iI=class J{constructor($){this._modelService=$}hasPreviewHandler(){return!1}async apply($,X){const Q=Array.isArray($)?$:xV.convert($),Y=new Map;for(let q of Q){if(!(q instanceof uY))throw new Error("bad edit - only text edits are supported");const U=this._modelService.getModel(q.resource);if(!U)throw new Error("bad edit - model not found");if(typeof q.versionId==="number"&&U.getVersionId()!==q.versionId)throw new Error("bad state - model changed in the meantime");let H=Y.get(U);if(!H)H=[],Y.set(U,H);H.push(i9.replaceMove(L.lift(q.textEdit.range),q.textEdit.text))}let Z=0,G=0;for(let[q,U]of Y)q.pushStackElement(),q.pushEditOperations([],U,()=>[]),q.pushStackElement(),G+=1,Z+=U.length;return{ariaSummary:aQ(gP.bulkEditServiceSummary,Z,G),isApplied:Z>0}}};iI=eY([t6(0,j6)],iI);nI=class J extends pP{constructor($,X){super($);this._codeEditorService=X}showContextView($,X,Q){if(!X){const Y=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();if(Y)X=Y.getContainerDomNode()}return super.showContextView($,X,Q)}};nI=eY([t6(0,K9),t6(1,l1)],nI);oI=class J extends XD{constructor($,X,Q,Y,Z,G){super($,X,Q,Y,Z,G);this.configure({blockMouse:!1})}};oI=eY([t6(0,Z5),t6(1,i6),t6(2,S4),t6(3,l8),t6(4,PJ),t6(5,v0)],oI);z1(S1,tI,0);z1(HK,aI,0);z1(zK,rI,0);z1(uV,Cj,0);z1(gV,nn,0);z1(Z5,rn,0);z1(GP,sn,0);z1(S3,dn,0);z1(i6,Sj,0);z1(v4,kQ,0);z1(e1,tn,0);z1(w5,xI,0);z1(Y6,en,0);z1(j6,eV,0);z1(_K,ZD,0);z1(v0,nD,0);z1(ks,ln,0);z1(MQ,eD,0);z1(b4,Dk,0);z1(P9,WK,0);z1(Ws,iI,0);z1(cs,on,0);z1(wX,dI,0);z1(_7,sD,0);z1(g4,GI,0);z1(B6,sI,0);z1(l8,tY,0);z1(CD,pD,0);z1(S4,nI,0);z1(a$,YD,0);z1(oY,Lj,0);z1(n5,oI,0);z1(PJ,aD,0);z1(o9,Jo,0);(function(J){const $=new y4;for(let[U,H]of eO())$.set(U,H);const X=new yj($,!0);$.set(g0,X);function Q(U){if(!Y)G({});const H=$.get(U);if(!H)throw new Error("Missing service "+U);if(H instanceof j9)return X.invokeFunction((z)=>z.get(U));else return H}J.get=Q;let Y=!1;const Z=new y;function G(U){if(Y)return X;Y=!0;for(let[z,V]of eO())if(!$.get(z))$.set(z,V);for(let z in U)if(U.hasOwnProperty(z)){const V=M0(z);if($.get(V)instanceof j9)$.set(V,U[z])}const H=pn();for(let z of H)try{X.createInstance(z)}catch(V){n0(V)}return Z.fire(),X}J.initialize=G;function q(U){if(Y)return U();const H=new r,z=H.add(Z.event(()=>{z.dispose(),H.add(U())}));return H}J.withServices=q})(C0||(C0={}))});function Xo(J){$o=J}function D9(){return $o}class eI{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(J){return E$0([RU(y$0("|  ",this.indentation)),J])}formatInfo(J){if(!J.hadValue)return[RU(" "),m4(vj(J.newValue,60),{color:"green"}),RU(" (initial)")];return J.didChange?[RU(" "),m4(vj(J.oldValue,70),{color:"red",strikeThrough:!0}),RU(" "),m4(vj(J.newValue,60),{color:"green"})]:[RU(" (unchanged)")]}handleObservableChanged(J,$){console.log(...this.textToConsoleArgs([bj("observable value changed"),m4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($)]))}formatChanges(J){if(J.size===0)return;return m4(" (changed deps: "+[...J].map(($)=>$.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(J){const $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(X,Q)=>{return this.changedObservablesSets.get(J).add(X),$.apply(J,[X,Q])}}handleDerivedRecomputed(J,$){const X=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([bj("derived recomputed"),m4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),this.formatChanges(X),{data:[{fn:J._computeFn}]}])),X.clear()}handleFromEventObservableTriggered(J,$){console.log(...this.textToConsoleArgs([bj("observable from event triggered"),m4(J.debugName,{color:"BlueViolet"}),...this.formatInfo($),{data:[{fn:J._getValue}]}]))}handleAutorunCreated(J){const $=J.handleChange;this.changedObservablesSets.set(J,new Set),J.handleChange=(X,Q)=>{return this.changedObservablesSets.get(J).add(X),$.apply(J,[X,Q])}}handleAutorunTriggered(J){const $=this.changedObservablesSets.get(J);console.log(...this.textToConsoleArgs([bj("autorun"),m4(J.debugName,{color:"BlueViolet"}),this.formatChanges($),{data:[{fn:J._runFn}]}])),$.clear(),this.indentation++}handleAutorunFinished(J){this.indentation--}handleBeginTransaction(J){let $=J.getDebugName();if($===void 0)$="";console.log(...this.textToConsoleArgs([bj("transaction"),m4($,{color:"BlueViolet"}),{data:[{fn:J._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}var E$0,RU,bj,m4,vj,k$0,I$0,y$0,S$0,$o;var MU=N(()=>{E$0=function(J){const $=new Array,X=[];let Q="";function Y(G){if("length"in G){for(let q of G)if(q)Y(q)}else if("text"in G){if(Q+=`%c${G.text}`,$.push(G.style),G.data)X.push(...G.data)}else if("data"in G)X.push(...G.data)}Y(J);const Z=[Q,...$];return Z.push(...X),Z},RU=function(J){return m4(J,{color:"black"})},bj=function(J){return m4(S$0(`${J}: `,10),{color:"black",bold:!0})},m4=function(J,$={color:"black"}){function X(Y){return Object.entries(Y).reduce((Z,[G,q])=>{return`${Z}${G}:${q};`},"")}const Q={color:$.color};if($.strikeThrough)Q["text-decoration"]="line-through";if($.bold)Q["font-weight"]="bold";return{text:J,style:X(Q)}},vj=function(J,$){switch(typeof J){case"number":return""+J;case"string":if(J.length+2<=$)return`"${J}"`;return`"${J.substr(0,$-7)}"+...`;case"boolean":return J?"true":"false";case"undefined":return"undefined";case"object":if(J===null)return"null";if(Array.isArray(J))return k$0(J,$);return I$0(J,$);case"symbol":return J.toString();case"function":return`[[Function${J.name?" "+J.name:""}]]`;default:return""+J}},k$0=function(J,$){let X="[ ",Q=!0;for(let Y of J){if(!Q)X+=", ";if(X.length-5>$){X+="...";break}Q=!1,X+=`${vj(Y,$-X.length)}`}return X+=" ]",X},I$0=function(J,$){let X="{ ",Q=!0;for(let[Y,Z]of Object.entries(J)){if(!Q)X+=", ";if(X.length-5>$){X+="...";break}Q=!1,X+=`${Y}: ${vj(Z,$-X.length)}`}return X+=" }",X},y$0=function(J,$){let X="";for(let Q=1;Q<=$;Q++)X+=J;return X},S$0=function(J,$){while(J.length<$)J+=" ";return J}});function qo(J){Go=J}function Uo(J){C$0=J}function zo(J){Ho=J}function M8(J,$){const X=new YR(J,$);try{J(X)}finally{X.finish()}}function OU(J){if($R)J($R);else{const $=new YR(J,void 0);$R=$;try{J($)}finally{$.finish(),$R=void 0}}}function N2(J,$,X){if(!J)M8($,X);else $(J)}function fj(J,$,X,Q){var Y;const Z=Jy.get(J);if(Z)return Z;const G=x$0(J,$,X,Q);if(G){let q=(Y=Qo.get(G))!==null&&Y!==void 0?Y:0;q++,Qo.set(G,q);const U=q===1?G:`${G}#${q}`;return Jy.set(J,U),U}return}function u4(J){const $=J.toString(),Q=/\/\*\*\s*@description\s*([^*]*)\*\//.exec($),Y=Q?Q[1]:void 0;return Y===null||Y===void 0?void 0:Y.trim()}function P1(J,$){if(typeof J==="string")return new XR(void 0,J,$);else return new XR(J,void 0,$)}function Xy(J,$){if(typeof J==="string")return new $y(void 0,J,$);else return new $y(J,void 0,$)}class QR{get TChange(){return null}reportChanges(){this.get()}read(J){if(J)return J.readObservable(this);else return this.get()}map(J,$){const X=$===void 0?void 0:J,Q=$===void 0?J:$;return Ho({owner:X,debugName:()=>{const Y=u4(Q);if(Y!==void 0)return Y;const G=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(Q.toString());if(G)return`${this.debugName}.${G[2]}`;if(!X)return`${this.debugName} (mapped)`;return}},(Y)=>Q(this.read(Y),Y))}recomputeInitiallyAndOnChange(J,$){return J.add(Go(this,$)),this}}class JZ extends QR{constructor(){super(...arguments);this.observers=new Set}addObserver(J){const $=this.observers.size;if(this.observers.add(J),$===0)this.onFirstObserverAdded()}removeObserver(J){if(this.observers.delete(J)&&this.observers.size===0)this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}class YR{constructor(J,$){var X;this._fn=J,this._getDebugName=$,this.updatingObservers=[],(X=D9())===null||X===void 0||X.handleBeginTransaction(this)}getDebugName(){if(this._getDebugName)return this._getDebugName();return u4(this._fn)}updateObserver(J,$){this.updatingObservers.push({observer:J,observable:$}),J.beginUpdate($)}finish(){var J;const $=this.updatingObservers;for(let X=0;X<$.length;X++){const{observer:Q,observable:Y}=$[X];Q.endUpdate(Y)}this.updatingObservers=null,(J=D9())===null||J===void 0||J.handleEndTransaction()}}class XR extends JZ{get debugName(){var J;return(J=fj(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"ObservableValue"}constructor(J,$,X){super();this._owner=J,this._debugName=$,this._value=X}get(){return this._value}set(J,$,X){var Q;if(this._value===J)return;let Y;if(!$)$=Y=new YR(()=>{},()=>`Setting ${this.debugName}`);try{const Z=this._value;this._setValue(J),(Q=D9())===null||Q===void 0||Q.handleObservableChanged(this,{oldValue:Z,newValue:J,change:X,didChange:!0,hadValue:!0});for(let G of this.observers)$.updateObserver(G,this),G.handleChange(this,X)}finally{if(Y)Y.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(J){this._value=J}}class $y extends XR{_setValue(J){if(this._value===J)return;if(this._value)this._value.dispose();this._value=J}dispose(){var J;(J=this._value)===null||J===void 0||J.dispose()}}var x$0,b$0,v$0,Go,C$0,Ho,$R,Qo,Jy,Yo,Zo;var _2=N(()=>{MU();x$0=function(J,$,X,Q){const Y=Jy.get(J);if(Y)return Y;const Z=Q?b$0(Q)+".":"";let G;if($!==void 0)if(typeof $==="function"){if(G=$(),G!==void 0)return Z+G}else return Z+$;if(X!==void 0){if(G=u4(X),G!==void 0)return Z+G}if(Q!==void 0){for(let q in Q)if(Q[q]===J)return Z+q}return},b$0=function(J){var $;const X=Zo.get(J);if(X)return X;const Q=v$0(J);let Y=($=Yo.get(Q))!==null&&$!==void 0?$:0;Y++,Yo.set(Q,Y);const Z=Y===1?Q:`${Q}#${Y}`;return Zo.set(J,Z),Z},v$0=function(J){const $=J.constructor;if($)return $.name;return"Object"};$R=void 0;Qo=new Map,Jy=new WeakMap,Yo=new Map,Zo=new WeakMap});function i0(J,$){if($!==void 0)return new TU(J,void 0,$,void 0,void 0,void 0,hj);return new TU(void 0,void 0,J,void 0,void 0,void 0,hj)}function Qy(J,$){var X;return new TU(J.owner,J.debugName,$,void 0,void 0,J.onLastObserverRemoved,(X=J.equalityComparer)!==null&&X!==void 0?X:hj)}function t9(J,$){let X,Q;if($===void 0)X=J,Q=void 0;else Q=J,X=$;const Y=new r;return new TU(Q,()=>{var Z;return(Z=u4(X))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{return Y.clear(),X(Z,Y)},void 0,void 0,()=>Y.dispose(),hj)}function QX(J,$){let X,Q;if($===void 0)X=J,Q=void 0;else Q=J,X=$;const Y=new r;return new TU(Q,()=>{var Z;return(Z=u4(X))!==null&&Z!==void 0?Z:"(anonymous)"},(Z)=>{Y.clear();const G=X(Z);if(G)Y.add(G);return G},void 0,void 0,()=>Y.dispose(),hj)}class TU extends JZ{get debugName(){var J;return(J=fj(this,this._debugName,this._computeFn,this._owner))!==null&&J!==void 0?J:"(anonymous)"}constructor(J,$,X,Q,Y,Z=void 0,G){var q,U;super();this._owner=J,this._debugName=$,this._computeFn=X,this.createChangeSummary=Q,this._handleChange=Y,this._handleLastObserverRemoved=Z,this._equalityComparator=G,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(q=this.createChangeSummary)===null||q===void 0?void 0:q.call(this),(U=D9())===null||U===void 0||U.handleDerivedCreated(this)}onLastObserverRemoved(){var J;this.state=0,this.value=void 0;for(let $ of this.dependencies)$.removeObserver(this);this.dependencies.clear(),(J=this._handleLastObserverRemoved)===null||J===void 0||J.call(this)}get(){var J;if(this.observers.size===0){const $=this._computeFn(this,(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this));return this.onLastObserverRemoved(),$}else{do{if(this.state===1){for(let $ of this.dependencies)if($.reportChanges(),this.state===2)break}if(this.state===1)this.state=3;this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var J,$;if(this.state===3)return;const X=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=X;const Q=this.state!==0,Y=this.value;this.state=3;const Z=this.changeSummary;this.changeSummary=(J=this.createChangeSummary)===null||J===void 0?void 0:J.call(this);try{this.value=this._computeFn(this,Z)}finally{for(let q of this.dependenciesToBeRemoved)q.removeObserver(this);this.dependenciesToBeRemoved.clear()}const G=Q&&!this._equalityComparator(Y,this.value);if(($=D9())===null||$===void 0||$.handleDerivedRecomputed(this,{oldValue:Y,newValue:this.value,change:void 0,didChange:G,hadValue:Q}),G)for(let q of this.observers)q.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(J){this.updateCount++;const $=this.updateCount===1;if(this.state===3){if(this.state=1,!$)for(let X of this.observers)X.handlePossibleChange(this)}if($)for(let X of this.observers)X.beginUpdate(this)}endUpdate(J){if(this.updateCount--,this.updateCount===0){const $=[...this.observers];for(let X of $)X.endUpdate(this)}q$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){this.state=1;for(let $ of this.observers)$.handlePossibleChange(this)}}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){const X=this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Y)=>Y===J},this.changeSummary):!0,Q=this.state===3;if(X&&(this.state===1||Q)){if(this.state=2,Q)for(let Y of this.observers)Y.handlePossibleChange(this)}}}readObservable(J){J.addObserver(this);const $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}addObserver(J){const $=!this.observers.has(J)&&this.updateCount>0;if(super.addObserver(J),$)J.beginUpdate(this)}removeObserver(J){const $=this.observers.has(J)&&this.updateCount>0;if(super.removeObserver(J),$)J.endUpdate(this)}}var hj;var gj=N(()=>{U$();X0();_2();MU();hj=(J,$)=>J===$;zo(Qy)});function M1(J){return new mj(void 0,J,void 0,void 0)}function pj(J,$){return new mj(J.debugName,$,void 0,void 0)}function $Z(J,$){return new mj(J.debugName,$,J.createEmptyChangeSummary,J.handleChange)}function H5(J){const $=new r,X=pj({debugName:()=>u4(J)||"(anonymous)"},(Q)=>{$.clear(),J(Q,$)});return K0(()=>{X.dispose(),$.dispose()})}class mj{get debugName(){if(typeof this._debugName==="string")return this._debugName;if(typeof this._debugName==="function"){const $=this._debugName();if($!==void 0)return $}const J=u4(this._runFn);if(J!==void 0)return J;return"(anonymous)"}constructor(J,$,X,Q){var Y,Z;this._debugName=J,this._runFn=$,this.createChangeSummary=X,this._handleChange=Q,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Y=this.createChangeSummary)===null||Y===void 0?void 0:Y.call(this),(Z=D9())===null||Z===void 0||Z.handleAutorunCreated(this),this._runIfNeeded(),kZ(this)}dispose(){this.disposed=!0;for(let J of this.dependencies)J.removeObserver(this);this.dependencies.clear(),IZ(this)}_runIfNeeded(){var J,$,X;if(this.state===3)return;const Q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Q,this.state=3;const Y=this.disposed;try{if(!Y){(J=D9())===null||J===void 0||J.handleAutorunTriggered(this);const Z=this.changeSummary;this.changeSummary=($=this.createChangeSummary)===null||$===void 0?void 0:$.call(this),this._runFn(this,Z)}}finally{if(!Y)(X=D9())===null||X===void 0||X.handleAutorunFinished(this);for(let Z of this.dependenciesToBeRemoved)Z.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){if(this.state===3)this.state=1;this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(let J of this.dependencies)if(J.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,q$(()=>this.updateCount>=0)}handlePossibleChange(J){if(this.state===3&&this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J))this.state=1}handleChange(J,$){if(this.dependencies.has(J)&&!this.dependenciesToBeRemoved.has(J)){if(this._handleChange?this._handleChange({changedObservable:J,change:$,didChange:(Q)=>Q===J},this.changeSummary):!0)this.state=2}}readObservable(J){if(this.disposed)return J.get();J.addObserver(this);const $=J.get();return this.dependencies.add(J),this.dependenciesToBeRemoved.delete(J),$}}var Yy=N(()=>{U$();X0();_2();MU();(function(J){J.Observer=mj})(M1||(M1={}))});function ZR(J){return new Vo(J)}function Gy(J,$){return new Promise((X)=>{let Q=!1,Y=!1;const Z=J.map((q)=>({isFinished:$(q),state:q})),G=M1((q)=>{const{isFinished:U,state:H}=Z.read(q);if(U){if(!Q)Y=!0;else G.dispose();X(H)}});if(Q=!0,Y)G.dispose()})}function E8(J,$){return new w2(J,$)}function E5(J,$){return new jo(J,$)}function qy(J){if(typeof J==="string")return new Zy(J);else return new Zy(void 0,J)}function Wo(J){const $=new Uy(!1,void 0);return J.addObserver($),K0(()=>{J.removeObserver($)})}function XZ(J,$){const X=new Uy(!0,$);if(J.addObserver(X),$)$(J.get());else J.reportChanges();return K0(()=>{J.removeObserver(X)})}function Hy(J){let $=void 0;return i0((Q)=>{return $=J(Q,$),$})}class Vo extends QR{constructor(J){super();this.value=J}get debugName(){return this.toString()}get(){return this.value}addObserver(J){}removeObserver(J){}toString(){return`Const: ${this.value}`}}class w2 extends JZ{constructor(J,$){super();this.event=J,this._getValue=$,this.hasValue=!1,this.handleEvent=(X)=>{var Q;const Y=this._getValue(X),Z=this.value,G=!this.hasValue||Z!==Y;let q=!1;if(G){if(this.value=Y,this.hasValue)q=!0,N2(w2.globalTransaction,(U)=>{var H;(H=D9())===null||H===void 0||H.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue});for(let z of this.observers)U.updateObserver(z,this),z.handleChange(this,void 0)},()=>{const U=this.getDebugName();return"Event fired"+(U?`: ${U}`:"")});this.hasValue=!0}if(!q)(Q=D9())===null||Q===void 0||Q.handleFromEventObservableTriggered(this,{oldValue:Z,newValue:Y,change:void 0,didChange:G,hadValue:this.hasValue})}}getDebugName(){return u4(this._getValue)}get debugName(){const J=this.getDebugName();return"From Event"+(J?`: ${J}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){if(this.subscription){if(!this.hasValue)this.handleEvent(void 0);return this.value}else return this._getValue(void 0)}}class jo extends JZ{constructor(J,$){super();this.debugName=J,this.event=$,this.handleEvent=()=>{M8((X)=>{for(let Q of this.observers)X.updateObserver(Q,this),Q.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}class Zy extends JZ{get debugName(){var J;return(J=fj(this,this._debugName,void 0,this._owner))!==null&&J!==void 0?J:"Observable Signal"}constructor(J,$){super();this._debugName=J,this._owner=$}trigger(J,$){if(!J){M8((X)=>{this.trigger(X,$)},()=>`Trigger signal ${this.debugName}`);return}for(let X of this.observers)J.updateObserver(X,this),X.handleChange(this,$)}get(){}}class Uy{constructor(J,$){this._forceRecompute=J,this._handleValue=$,this._counter=0}beginUpdate(J){this._counter++}endUpdate(J){if(this._counter--,this._counter===0&&this._forceRecompute)if(this._handleValue)this._handleValue(J.get());else J.reportChanges()}handlePossibleChange(J){}handleChange(J,$){}}var Bo=N(()=>{X0();Yy();_2();gj();MU();(function(J){J.Observer=w2;function $(X,Q){let Y=!1;if(w2.globalTransaction===void 0)w2.globalTransaction=X,Y=!0;try{Q()}finally{if(Y)w2.globalTransaction=void 0}}J.batchEventsGlobally=$})(E8||(E8={}));Uo(Wo);qo(XZ)});var f$0;var s7=N(()=>{_2();gj();Yy();Bo();MU();f$0=!1;if(f$0)Xo(new eI)});var Fo=N(()=>{q1();V0(".monaco-editor .diff-hidden-lines-widget{width:100%}.monaco-editor .diff-hidden-lines{height:0;font-size:13px;line-height:14px;transform:translateY(-10px)}.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,.monaco-editor .diff-hidden-lines .top.dragging,.monaco-editor .diff-hidden-lines .bottom.dragging{background-color:var(--vscode-focusBorder)}.monaco-editor .diff-hidden-lines .top,.monaco-editor .diff-hidden-lines .bottom{background-color:#0000;background-clip:padding-box;border-top:4px solid #0000;border-bottom:2px solid #0000;height:4px;transition:background-color .1s ease-out}.monaco-editor.draggingUnchangedRegion.canMoveTop:not(.canMoveBottom) *,.monaco-editor .diff-hidden-lines .top.canMoveTop:not(.canMoveBottom),.monaco-editor .diff-hidden-lines .bottom.canMoveTop:not(.canMoveBottom){cursor:n-resize!important}.monaco-editor.draggingUnchangedRegion:not(.canMoveTop).canMoveBottom *,.monaco-editor .diff-hidden-lines .top:not(.canMoveTop).canMoveBottom,.monaco-editor .diff-hidden-lines .bottom:not(.canMoveTop).canMoveBottom{cursor:s-resize!important}.monaco-editor.draggingUnchangedRegion.canMoveTop.canMoveBottom *,.monaco-editor .diff-hidden-lines .top.canMoveTop.canMoveBottom,.monaco-editor .diff-hidden-lines .bottom.canMoveTop.canMoveBottom{cursor:ns-resize!important}.monaco-editor .diff-hidden-lines .top{transform:translateY(4px)}.monaco-editor .diff-hidden-lines .bottom{transform:translateY(-6px)}.monaco-editor .diff-unchanged-lines{background:var(--vscode-diffEditor-unchangedCodeBackground)}.monaco-editor .noModificationsOverlay{z-index:1;background:var(--vscode-editor-background);justify-content:center;align-items:center;display:flex}.monaco-editor .diff-hidden-lines .center{background:var(--vscode-diffEditor-unchangedRegionBackground);color:var(--vscode-diffEditor-unchangedRegionForeground);text-overflow:ellipsis;white-space:nowrap;box-shadow:inset 0 -5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow),inset 0 5px 5px -7px var(--vscode-diffEditor-unchangedRegionShadow);height:24px;display:block;overflow:hidden}.monaco-editor .diff-hidden-lines .center span.codicon{vertical-align:middle}.monaco-editor .diff-hidden-lines .center a:hover .codicon{cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .diff-hidden-lines div.breadcrumb-item{cursor:pointer}.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover{color:var(--vscode-editorLink-activeForeground)}.monaco-editor .movedOriginal,.monaco-editor .movedModified{border:2px solid var(--vscode-diffEditor-move-border)}.monaco-editor .movedOriginal.currentMove,.monaco-editor .movedModified.currentMove{border:2px solid var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path.currentMove{stroke:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines path{pointer-events:visiblestroke}.monaco-diff-editor .moved-blocks-lines .arrow{fill:var(--vscode-diffEditor-move-border)}.monaco-diff-editor .moved-blocks-lines .arrow.currentMove{fill:var(--vscode-diffEditor-moveActive-border)}.monaco-diff-editor .moved-blocks-lines .arrow-rectangle{fill:var(--vscode-editor-background)}.monaco-diff-editor .moved-blocks-lines{pointer-events:none;position:absolute}.monaco-diff-editor .moved-blocks-lines path{fill:none;stroke:var(--vscode-diffEditor-move-border);stroke-width:2px}.monaco-editor .char-delete.diff-range-empty{border-left:solid var(--vscode-diffEditor-removedTextBackground)3px;margin-left:-1px}.monaco-editor .char-insert.diff-range-empty{border-left:solid var(--vscode-diffEditor-insertedTextBackground)3px}.monaco-editor .fold-unchanged{cursor:pointer}.monaco-diff-editor .diff-moved-code-block{justify-content:flex-end;margin-top:-4px;display:flex}.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon{width:12px;height:12px;font-size:12px}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:#00000008}.monaco-diff-editor.vs-dark .diffOverview{background:#ffffff03}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light .scrollbar{background:0 0}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:#ababab66}.modified-in-monaco-diff-editor.hc-black .slider.active,.modified-in-monaco-diff-editor.hc-light .slider.active{background:0 0}.monaco-editor .insert-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-diff-editor .delete-sign{align-items:center;opacity:.7!important;font-size:11px!important;display:flex!important}.monaco-editor.hc-black .insert-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .delete-sign,.monaco-editor.hc-light .insert-sign,.monaco-diff-editor.hc-light .insert-sign,.monaco-editor.hc-light .delete-sign,.monaco-diff-editor.hc-light .delete-sign{opacity:1}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .inline-added-margin-view-zone{text-align:right}.monaco-editor .arrow-revert-change{z-index:10;position:absolute}.monaco-editor .arrow-revert-change:hover{cursor:pointer}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-editor .char-insert,.monaco-diff-editor .char-insert{background-color:var(--vscode-diffEditor-insertedTextBackground)}.monaco-editor .line-insert,.monaco-diff-editor .line-insert{background-color:var(--vscode-diffEditor-insertedLineBackground,var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .line-insert,.monaco-editor .char-insert{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-insertedTextBorder)}.monaco-editor.hc-black .line-insert,.monaco-editor.hc-light .line-insert,.monaco-editor.hc-black .char-insert,.monaco-editor.hc-light .char-insert{border-style:dashed}.monaco-editor .line-delete,.monaco-editor .char-delete{box-sizing:border-box;border:1px solid var(--vscode-diffEditor-removedTextBorder)}.monaco-editor.hc-black .line-delete,.monaco-editor.hc-light .line-delete,.monaco-editor.hc-black .char-delete,.monaco-editor.hc-light .char-delete{border-style:dashed}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .gutter-insert,.monaco-diff-editor .gutter-insert{background-color:var(--vscode-diffEditorGutter-insertedLineBackground,var(--vscode-diffEditor-insertedLineBackground),var(--vscode-diffEditor-insertedTextBackground))}.monaco-editor .char-delete,.monaco-diff-editor .char-delete{background-color:var(--vscode-diffEditor-removedTextBackground)}.monaco-editor .line-delete,.monaco-diff-editor .line-delete{background-color:var(--vscode-diffEditor-removedLineBackground,var(--vscode-diffEditor-removedTextBackground))}.monaco-editor .inline-deleted-margin-view-zone,.monaco-editor .gutter-delete,.monaco-diff-editor .gutter-delete{background-color:var(--vscode-diffEditorGutter-removedLineBackground,var(--vscode-diffEditor-removedLineBackground),var(--vscode-diffEditor-removedTextBackground))}.monaco-diff-editor.side-by-side .editor.modified{box-shadow:-6px 0 5px -5px var(--vscode-scrollbar-shadow);border-left:1px solid var(--vscode-diffEditor-border)}.monaco-diff-editor .diffViewport{background:var(--vscode-scrollbarSlider-background)}.monaco-diff-editor .diffViewport:hover{background:var(--vscode-scrollbarSlider-hoverBackground)}.monaco-diff-editor .diffViewport:active{background:var(--vscode-scrollbarSlider-activeBackground)}.monaco-editor .diagonal-fill{background-image:linear-gradient(-45deg,var(--vscode-diffEditor-diagonalFill)12.5%,#0000 12.5%,#0000 50%,var(--vscode-diffEditor-diagonalFill)50%,var(--vscode-diffEditor-diagonalFill)62.5%,#0000 62.5%,#0000 100%);background-size:8px 8px}")});class mJ{static capture(J){if(J.getScrollTop()===0||J.hasPendingScrollAnimation())return new mJ(J.getScrollTop(),J.getContentHeight(),null,0,null);let $=null,X=0;const Q=J.getVisibleRanges();if(Q.length>0){$=Q[0].getStartPosition();const Y=J.getTopForPosition($.lineNumber,$.column);X=J.getScrollTop()-Y}return new mJ(J.getScrollTop(),J.getContentHeight(),$,X,J.getPosition())}constructor(J,$,X,Q,Y){this._initialScrollTop=J,this._initialContentHeight=$,this._visiblePosition=X,this._visiblePositionScrollDelta=Q,this._cursorPosition=Y}restore(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;if(this._visiblePosition){const $=J.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);J.setScrollTop($+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(J){if(this._initialContentHeight===J.getContentHeight()&&this._initialScrollTop===J.getScrollTop())return;const $=J.getPosition();if(!this._cursorPosition||!$)return;const X=J.getTopForLineNumber($.lineNumber)-J.getTopForLineNumber(this._cursorPosition.lineNumber);J.setScrollTop(J.getScrollTop()+X)}}var uj=N(()=>{});function qR(){return HH&&!!HH.VSCODE_DEV}function zy(J){if(!qR())return{dispose(){}};else{const $=h$0();return $.add(J),{dispose(){$.delete(J)}}}}var h$0,GR;var Ko=N(()=>{IM();h$0=function(){if(!GR)GR=new Set;const J=globalThis;if(!J.$hotReload_applyNewExports)J.$hotReload_applyNewExports=($)=>{for(let X of GR){const Q=X($);if(Q)return Q}return};return GR},GR=void 0;if(qR())zy(({oldExports:J,newSrc:$})=>{if($.indexOf("/* hot-reload:patch-prototype-methods */")===-1)return;return(X)=>{var Q,Y;for(let Z in X){const G=X[Z];if(console.log(`[hot-reload] Patching prototype methods of '${Z}'`,{exportedItem:G}),typeof G==="function"&&G.prototype){const q=J[Z];if(q){for(let U of Object.getOwnPropertyNames(G.prototype)){const H=Object.getOwnPropertyDescriptor(G.prototype,U),z=Object.getOwnPropertyDescriptor(q.prototype,U);if(((Q=H===null||H===void 0?void 0:H.value)===null||Q===void 0?void 0:Q.toString())!==((Y=z===null||z===void 0?void 0:z.value)===null||Y===void 0?void 0:Y.toString()))console.log(`[hot-reload] Patching prototype method '${Z}.${U}'`);Object.defineProperty(q.prototype,U,H)}X[Z]=q}}}return!0}})});function Ao(J,$,X,Q){if(J.length===0)return $;if($.length===0)return J;const Y=[];let Z=0,G=0;while(Z<J.length&&G<$.length){const q=J[Z],U=$[G],H=X(q),z=X(U);if(H<z)Y.push(q),Z++;else if(H>z)Y.push(U),G++;else Y.push(Q(q,U)),Z++,G++}while(Z<J.length)Y.push(J[Z]),Z++;while(G<$.length)Y.push($[G]),G++;return Y}function NU(J,$){const X=new r,Q=J.createDecorationsCollection();return X.add(pj({debugName:()=>`Apply decorations from ${$.debugName}`},(Y)=>{const Z=$.read(Y);Q.set(Z)})),X.add({dispose:()=>{Q.clear()}}),X}function cj(J,$){return J.appendChild($),K0(()=>{J.removeChild($)})}function Vy(J,$,X){let Q=$.get(),Y=Q,Z=Q;const G=P1("animatedValue",Q);let q=-1;const U=300;let H=void 0;X.add($Z({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(V,j)=>{if(V.didChange($))j.animate=j.animate||V.change;return!0}},(V,j)=>{if(H!==void 0)J.cancelAnimationFrame(H),H=void 0;Y=Z,Q=$.read(V),q=Date.now()-(j.animate?0:U),z()}));function z(){const V=Date.now()-q;if(Z=Math.floor(g$0(V,Y,Q-Y,U)),V<U)H=J.requestAnimationFrame(z);else Z=Q;G.set(Z,void 0)}return G}function uJ(J,$){return M1((X)=>{for(let[Q,Y]of Object.entries($)){if(Y&&typeof Y==="object"&&"read"in Y)Y=Y.read(X);if(typeof Y==="number")Y=`${Y}px`;Q=Q.replace(/[A-Z]/g,(Z)=>"-"+Z.toLowerCase()),J.style[Q]=Y}})}function e9(J,$){return p$0([J],$),J}function p$0(J,$){if(qR())E5("reload",(Q)=>zy(({oldExports:Y})=>{if(![...Object.values(Y)].some((Z)=>J.includes(Z)))return;return(Z)=>{return Q(void 0),!0}})).read($)}function _U(J,$,X,Q){const Y=new r,Z=[];return Y.add(H5((G,q)=>{const U=$.read(G),H=new Map,z=new Map;if(X)X(!0);if(J.changeViewZones((V)=>{for(let j of Z)V.removeZone(j),Q===null||Q===void 0||Q.delete(j);Z.length=0;for(let j of U){const W=V.addZone(j);if(j.setZoneId)j.setZoneId(W);Z.push(W),Q===null||Q===void 0||Q.add(W),H.set(j,W)}}),X)X(!1);q.add($Z({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(V,j){const W=z.get(V.changedObservable);if(W!==void 0)j.zoneIds.push(W);return!0}},(V,j)=>{for(let W of U)if(W.onChange)z.set(W.onChange,H.get(W)),W.onChange.read(V);if(X)X(!0);if(J.changeViewZones((W)=>{for(let B of j.zoneIds)W.layoutZone(B)}),X)X(!1)}))})),Y.add({dispose(){if(X)X(!0);if(J.changeViewZones((G)=>{for(let q of Z)G.removeZone(q)}),Q===null||Q===void 0||Q.clear(),X)X(!1)}}),Y}function jy(J,$){const X=KG($,(Y)=>Y.original.startLineNumber<=J.lineNumber);if(!X)return L.fromPositions(J);if(X.original.endLineNumberExclusive<=J.lineNumber){const Y=J.lineNumber-X.original.endLineNumberExclusive+X.modified.endLineNumberExclusive;return L.fromPositions(new v(Y,J.column))}if(!X.innerChanges)return L.fromPositions(new v(X.modified.startLineNumber,1));const Q=KG(X.innerChanges,(Y)=>Y.originalRange.getStartPosition().isBeforeOrEqual(J));if(!Q){const Y=J.lineNumber-X.original.startLineNumber+X.modified.startLineNumber;return L.fromPositions(new v(Y,J.column))}if(Q.originalRange.containsPosition(J))return Q.modifiedRange;else{const Y=m$0(Q.originalRange.getEndPosition(),J);return L.fromPositions(u$0(Q.modifiedRange.getEndPosition(),Y))}}function sj(J,$,X){const Q=J.bindTo($);return pj({debugName:()=>`Update ${J.key}`},(Y)=>{Q.set(X(Y))})}function Po(J,$){let X;return J.filter((Q)=>{const Y=$(Q,X);return X=Q,Y})}class lj extends f{get width(){return this._width}get height(){return this._height}constructor(J,$){super();this.elementSizeObserver=this._register(new Mz(J,$)),this._width=P1(this,this.elementSizeObserver.getWidth()),this._height=P1(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange((X)=>M8((Q)=>{this._width.set(this.elementSizeObserver.getWidth(),Q),this._height.set(this.elementSizeObserver.getHeight(),Q)})))}observe(J){this.elementSizeObserver.observe(J)}setAutomaticLayout(J){if(J)this.elementSizeObserver.startObserving();else this.elementSizeObserver.stopObserving()}}class dj extends f{constructor(J,$,X){super();this._register(new UR(J,X)),this._register(uJ(X,{height:$.actualHeight,top:$.actualTop}))}}class L2{get afterLineNumber(){return this._afterLineNumber.get()}constructor(J,$){this._afterLineNumber=J,this.heightInPx=$,this.domNode=document.createElement("div"),this._actualTop=P1(this,void 0),this._actualHeight=P1(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=(X)=>{this._actualTop.set(X,void 0)},this.onComputedHeight=(X)=>{this._actualHeight.set(X,void 0)}}}class UR{constructor(J,$){this._editor=J,this._domElement=$,this._overlayWidgetId=`managedOverlayWidget-${UR._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}var g$0,m$0,u$0;var c4=N(()=>{V4();$7();Ko();X0();s7();QN();U1();c0();C$();g$0=function(J,$,X,Q){return J===Q?$+X:X*(-Math.pow(2,-10*J/Q)+1)+$};m$0=function(J,$){if(J.lineNumber===$.lineNumber)return new mG(0,$.column-J.column);else return new mG($.lineNumber-J.lineNumber,$.column-1)},u$0=function(J,$){if($.lineCount===0)return new v(J.lineNumber,J.column+$.columnCount);else return new v(J.lineNumber+$.lineCount,$.columnCount+1)};UR._counter=0});var Do=N(()=>{q1();V0(".monaco-diff-editor .diff-review-line-number{text-align:right;color:var(--vscode-editorLineNumber-foreground);display:inline-block}.monaco-diff-editor .diff-review{-webkit-user-select:none;user-select:none;z-index:99;position:absolute}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{box-shadow:var(--vscode-scrollbar-shadow)0 -6px 6px -6px inset;position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{min-width:100%;display:table}.monaco-diff-editor .diff-review-row{width:100%;display:table-row}.monaco-diff-editor .diff-review-spacer{vertical-align:middle;width:10px;display:inline-block}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{z-index:100;display:inline-block;position:absolute;top:2px;right:10px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}.monaco-diff-editor .revertButton{cursor:pointer}")});class Ro{constructor(J,$){this.range=J,this.lines=$}}class Mo{constructor(){this.type=z5.Header}}class Oo{constructor(J,$){this.diff=J,this.originalLineNumber=$,this.type=z5.Deleted,this.modifiedLineNumber=void 0}}class To{constructor(J,$){this.diff=J,this.modifiedLineNumber=$,this.type=z5.Added,this.originalLineNumber=void 0}}class No{constructor(J,$){this.originalLineNumber=J,this.modifiedLineNumber=$,this.type=z5.Unchanged}}var s$0,Fy,Ky,c$0,l$0,d$0,IQ,Wy,aj,z5,By;var _o=N(()=>{D0();JY();o$();_4();$5();H1();z6();X0();s7();W6();BJ();c4();J7();m5();u9();U1();c0();GY();f9();cX();kq();EJ();h0();T2();m0();KU();Do();s$0=function(J,$,X){const Q=[];for(let Y of v2(J,(Z,G)=>G.modified.startLineNumber-Z.modified.endLineNumberExclusive<2*aj)){const Z=[];Z.push(new Mo);const G=new S0(Math.max(1,Y[0].original.startLineNumber-aj),Math.min(Y[Y.length-1].original.endLineNumberExclusive+aj,$+1)),q=new S0(Math.max(1,Y[0].modified.startLineNumber-aj),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+aj,X+1));SW(Y,(z,V)=>{const j=new S0(z?z.original.endLineNumberExclusive:G.startLineNumber,V?V.original.startLineNumber:G.endLineNumberExclusive),W=new S0(z?z.modified.endLineNumberExclusive:q.startLineNumber,V?V.modified.startLineNumber:q.endLineNumberExclusive);if(j.forEach((B)=>{Z.push(new No(B,W.startLineNumber+(B-j.startLineNumber)))}),V)V.original.forEach((B)=>{Z.push(new Oo(V,B))}),V.modified.forEach((B)=>{Z.push(new To(V,B))})});const U=Y[0].modified.join(Y[Y.length-1].modified),H=Y[0].original.join(Y[Y.length-1].original);Q.push(new Ro(new Y7(U,H),Z))}return Q},Fy=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Ky=function(J,$){return function(X,Q){$(X,Q,J)}},c$0=U5("diff-review-insert",U0.add,F("accessibleDiffViewerInsertIcon","Icon for \'Insert\' in accessible diff viewer.")),l$0=U5("diff-review-remove",U0.remove,F("accessibleDiffViewerRemoveIcon","Icon for \'Remove\' in accessible diff viewer.")),d$0=U5("diff-review-close",U0.close,F("accessibleDiffViewerCloseIcon","Icon for \'Close\' in accessible diff viewer.")),IQ=class J extends f{constructor($,X,Q,Y,Z,G,q,U,H){super();this._parentNode=$,this._visible=X,this._setVisible=Q,this._canClose=Y,this._width=Z,this._height=G,this._diffs=q,this._editors=U,this._instantiationService=H,this._state=t9(this,(z,V)=>{const j=this._visible.read(z);if(this._parentNode.style.visibility=j?"visible":"hidden",!j)return null;const W=V.add(this._instantiationService.createInstance(Wy,this._diffs,this._editors,this._setVisible,this._canClose)),B=V.add(this._instantiationService.createInstance(By,this._parentNode,W,this._width,this._height,this._editors));return{model:W,view:B}}).recomputeInitiallyAndOnChange(this._store)}next(){M8(($)=>{const X=this._visible.get();if(this._setVisible(!0,$),X)this._state.get().model.nextGroup($)})}prev(){M8(($)=>{this._setVisible(!0,$),this._state.get().model.previousGroup($)})}close(){M8(($)=>{this._setVisible(!1,$)})}};IQ._ttPolicy=V9("diffReview",{createHTML:(J)=>J});IQ=Fy([Ky(8,g0)],IQ);Wy=class J extends f{constructor($,X,Q,Y,Z){super();this._diffs=$,this._editors=X,this._setVisible=Q,this.canClose=Y,this._audioCueService=Z,this._groups=P1(this,[]),this._currentGroupIdx=P1(this,0),this._currentElementIdx=P1(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((G,q)=>this._groups.read(q)[G]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((G,q)=>{var U;return(U=this.currentGroup.read(q))===null||U===void 0?void 0:U.lines[G]}),this._register(M1((G)=>{const q=this._diffs.read(G);if(!q){this._groups.set([],void 0);return}const U=s$0(q,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());M8((H)=>{const z=this._editors.modified.getPosition();if(z){const V=U.findIndex((j)=>(z===null||z===void 0?void 0:z.lineNumber)<j.range.modified.endLineNumberExclusive);if(V!==-1)this._currentGroupIdx.set(V,H)}this._groups.set(U,H)})})),this._register(M1((G)=>{const q=this.currentElement.read(G);if((q===null||q===void 0?void 0:q.type)===z5.Deleted)this._audioCueService.playAudioCue($1.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"});else if((q===null||q===void 0?void 0:q.type)===z5.Added)this._audioCueService.playAudioCue($1.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register(M1((G)=>{var q;const U=this.currentElement.read(G);if(U&&U.type!==z5.Header){const H=(q=U.modifiedLineNumber)!==null&&q!==void 0?q:U.diff.modified.startLineNumber;this._editors.modified.setSelection(L.fromPositions(new v(H,1)))}}))}_goToGroupDelta($,X){const Q=this.groups.get();if(!Q||Q.length<=1)return;N2(X,(Y)=>{this._currentGroupIdx.set(d0.ofLength(Q.length).clipCyclic(this._currentGroupIdx.get()+$),Y),this._currentElementIdx.set(0,Y)})}nextGroup($){this._goToGroupDelta(1,$)}previousGroup($){this._goToGroupDelta(-1,$)}_goToLineDelta($){const X=this.currentGroup.get();if(!X||X.lines.length<=1)return;M8((Q)=>{this._currentElementIdx.set(d0.ofLength(X.lines.length).clip(this._currentElementIdx.get()+$),Q)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine($){const X=this.currentGroup.get();if(!X)return;const Q=X.lines.indexOf($);if(Q===-1)return;M8((Y)=>{this._currentElementIdx.set(Q,Y)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const $=this.currentElement.get();if($)if($.type===z5.Deleted)this._editors.original.setSelection(L.fromPositions(new v($.originalLineNumber,1))),this._editors.original.revealLine($.originalLineNumber),this._editors.original.focus();else{if($.type!==z5.Header)this._editors.modified.setSelection(L.fromPositions(new v($.modifiedLineNumber,1))),this._editors.modified.revealLine($.modifiedLineNumber);this._editors.modified.focus()}}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};Wy=Fy([Ky(4,o9)],Wy);aj=3;(function(J){J[J.Header=0]="Header",J[J.Unchanged=1]="Unchanged",J[J.Deleted=2]="Deleted",J[J.Added=3]="Added"})(z5||(z5={}));By=class J extends f{constructor($,X,Q,Y,Z,G){super();this._element=$,this._model=X,this._width=Q,this._height=Y,this._editors=Z,this._languageService=G,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const q=document.createElement("div");q.className="diff-review-actions",this._actionBar=this._register(new W7(q)),this._register(M1((U)=>{if(this._actionBar.clear(),this._model.canClose.read(U))this._actionBar.push(new P5("diffreview.close",F("label.close","Close"),"close-diff-review "+y0.asClassName(d$0),!0,async()=>X.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new JQ(this._content,{})),F6(this.domNode,this._scrollbar.getDomNode(),q),this._register(K0(()=>{F6(this.domNode)})),this._register(uJ(this.domNode,{width:this._width,height:this._height})),this._register(uJ(this._content,{width:this._width,height:this._height})),this._register(H5((U,H)=>{this._model.currentGroup.read(U),this._render(H)})),this._register(i1(this.domNode,"keydown",(U)=>{if(U.equals(18)||U.equals(2048|18)||U.equals(512|18))U.preventDefault(),this._model.goToNextLine();if(U.equals(16)||U.equals(2048|16)||U.equals(512|16))U.preventDefault(),this._model.goToPreviousLine();if(U.equals(9)||U.equals(2048|9)||U.equals(512|9)||U.equals(1024|9))U.preventDefault(),this._model.close();if(U.equals(10)||U.equals(3))U.preventDefault(),this._model.revealCurrentElementInEditor()}))}_render($){const X=this._editors.original.getOptions(),Q=this._editors.modified.getOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",F("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),T8(Y,Q.get(50)),F6(this._content,Y);const Z=this._editors.original.getModel(),G=this._editors.modified.getModel();if(!Z||!G)return;const q=Z.getOptions(),U=G.getOptions(),H=Q.get(66),z=this._model.currentGroup.get();for(let V of(z===null||z===void 0?void 0:z.lines)||[]){if(!z)break;let j;if(V.type===z5.Header){const B=document.createElement("div");B.className="diff-review-row",B.setAttribute("role","listitem");const K=z.range,P=this._model.currentGroupIndex.get(),A=this._model.groups.get().length,D=(_)=>_===0?F("no_lines_changed","no lines changed"):_===1?F("one_line_changed","1 line changed"):F("more_lines_changed","{0} lines changed",_),R=D(K.original.length),M=D(K.modified.length);B.setAttribute("aria-label",F({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",P+1,A,K.original.startLineNumber,R,K.modified.startLineNumber,M));const O=document.createElement("div");O.className="diff-review-cell diff-review-summary",O.appendChild(document.createTextNode(`${P+1}/${A}: @@ -${K.original.startLineNumber},${K.original.length} +${K.modified.startLineNumber},${K.modified.length} @@`)),B.appendChild(O),j=B}else j=this._createRow(V,H,this._width.get(),X,Z,q,Q,G,U);Y.appendChild(j);const W=i0((B)=>this._model.currentElement.read(B)===V);$.add(M1((B)=>{const K=W.read(B);if(j.tabIndex=K?0:-1,K)j.focus()})),$.add(m(j,"focus",()=>{this._model.goToLine(V)}))}this._scrollbar.scanDomNode()}_createRow($,X,Q,Y,Z,G,q,U,H){const z=Y.get(143),V=z.glyphMarginWidth+z.lineNumbersWidth,j=q.get(143),W=10+j.glyphMarginWidth+j.lineNumbersWidth;let B="diff-review-row",K="";const P="diff-review-spacer";let A=null;switch($.type){case z5.Added:B="diff-review-row line-insert",K=" char-insert",A=c$0;break;case z5.Deleted:B="diff-review-row line-delete",K=" char-delete",A=l$0;break}const D=document.createElement("div");D.style.minWidth=Q+"px",D.className=B,D.setAttribute("role","listitem"),D.ariaLevel="";const R=document.createElement("div");R.className="diff-review-cell",R.style.height=`${X}px`,D.appendChild(R);const M=document.createElement("span");if(M.style.width=V+"px",M.style.minWidth=V+"px",M.className="diff-review-line-number"+K,$.originalLineNumber!==void 0)M.appendChild(document.createTextNode(String($.originalLineNumber)));else M.innerText="\xA0";R.appendChild(M);const O=document.createElement("span");if(O.style.width=W+"px",O.style.minWidth=W+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+K,$.modifiedLineNumber!==void 0)O.appendChild(document.createTextNode(String($.modifiedLineNumber)));else O.innerText="\xA0";R.appendChild(O);const _=document.createElement("span");if(_.className=P,A){const x=document.createElement("span");x.className=y0.asClassName(A),x.innerText="\xA0\xA0",_.appendChild(x)}else _.innerText="\xA0\xA0";R.appendChild(_);let w;if($.modifiedLineNumber!==void 0){let x=this._getLineHtml(U,q,H.tabSize,$.modifiedLineNumber,this._languageService.languageIdCodec);if(IQ._ttPolicy)x=IQ._ttPolicy.createHTML(x);R.insertAdjacentHTML("beforeend",x),w=U.getLineContent($.modifiedLineNumber)}else{let x=this._getLineHtml(Z,Y,G.tabSize,$.originalLineNumber,this._languageService.languageIdCodec);if(IQ._ttPolicy)x=IQ._ttPolicy.createHTML(x);R.insertAdjacentHTML("beforeend",x),w=Z.getLineContent($.originalLineNumber)}if(w.length===0)w=F("blankLine","blank");let C="";switch($.type){case z5.Unchanged:if($.originalLineNumber===$.modifiedLineNumber)C=F({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",w,$.originalLineNumber);else C=F("equalLine","{0} original line {1} modified line {2}",w,$.originalLineNumber,$.modifiedLineNumber);break;case z5.Added:C=F("insertLine","+ {0} modified line {1}",w,$.modifiedLineNumber);break;case z5.Deleted:C=F("deleteLine","- {0} original line {1}",w,$.originalLineNumber);break}return D.setAttribute("aria-label",C),D}_getLineHtml($,X,Q,Y,Z){const G=$.getLineContent(Y),q=X.get(50),U=_8.createEmpty(G,Z),H=p7.isBasicASCII(G,$.mightContainNonBasicASCII()),z=p7.containsRTL(G,H,$.mightContainRTL());return Eq(new B4(q.isMonospace&&!X.get(33),q.canUseHalfwidthRightwardsArrow,G,!1,H,z,0,U,[],Q,0,q.spaceWidth,q.middotWidth,q.wsmiddotWidth,X.get(116),X.get(98),X.get(93),X.get(51)!==t7.OFF,null)).html}};By=Fy([Ky(5,e1)],By)});class YX extends f{constructor(J,$,X,Q,Y){super();this._rootElement=J,this._diffModel=$,this._originalEditorLayoutInfo=X,this._modifiedEditorLayoutInfo=Q,this._editors=Y,this._originalScrollTop=E8(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=E8(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=E5("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=P1(this,0),this._modifiedViewZonesChangedSignal=E5("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=E5("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=t9(this,(V,j)=>{var W;this._element.replaceChildren();const B=this._diffModel.read(V),K=(W=B===null||B===void 0?void 0:B.diff.read(V))===null||W===void 0?void 0:W.movedTexts;if(!K||K.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(V);const P=this._originalEditorLayoutInfo.read(V),A=this._modifiedEditorLayoutInfo.read(V);if(!P||!A){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(V),this._originalViewZonesChangedSignal.read(V);const D=K.map((x)=>{function g(A0,f0){const l0=f0.getTopForLineNumber(A0.startLineNumber,!0),k0=f0.getTopForLineNumber(A0.endLineNumberExclusive,!0);return(l0+k0)/2}const c=g(x.lineRangeMapping.original,this._editors.original),b=this._originalScrollTop.read(V),u=g(x.lineRangeMapping.modified,this._editors.modified),i=this._modifiedScrollTop.read(V),Y0=c-b,P0=u-i,R0=Math.min(c,u),_0=Math.max(c,u);return{range:new d0(R0,_0),from:Y0,to:P0,fromWithoutScroll:c,toWithoutScroll:u,move:x}});D.sort(ZC(y5((x)=>x.fromWithoutScroll>x.toWithoutScroll,GC),y5((x)=>x.fromWithoutScroll>x.toWithoutScroll?x.fromWithoutScroll:-x.toWithoutScroll,zX)));const R=Py.compute(D.map((x)=>x.range)),M=10,O=P.verticalScrollbarWidth,_=(R.getTrackCount()-1)*10+M*2,w=O+_+(A.contentLeft-YX.movedCodeBlockPadding);let C=0;for(let x of D){const g=R.getTrack(C),c=O+M+g*10,i=w,Y0=A.glyphMarginWidth+A.lineNumbersWidth,R0=document.createElementNS("http://www.w3.org/2000/svg","rect");R0.classList.add("arrow-rectangle"),R0.setAttribute("x",`${i-Y0}`),R0.setAttribute("y",`${x.to-9}`),R0.setAttribute("width",`${Y0}`),R0.setAttribute("height","18"),this._element.appendChild(R0);const _0=document.createElementNS("http://www.w3.org/2000/svg","g"),A0=document.createElementNS("http://www.w3.org/2000/svg","path");A0.setAttribute("d",`M 0 ${x.from} L ${c} ${x.from} L ${c} ${x.to} L ${i-15} ${x.to}`),A0.setAttribute("fill","none"),_0.appendChild(A0);const f0=document.createElementNS("http://www.w3.org/2000/svg","polygon");f0.classList.add("arrow"),j.add(M1((l0)=>{A0.classList.toggle("currentMove",x.move===B.activeMovedText.read(l0)),f0.classList.toggle("currentMove",x.move===B.activeMovedText.read(l0))})),f0.setAttribute("points",`${i-15},${x.to-7.5} ${i},${x.to} ${i-15},${x.to+7.5}`),_0.appendChild(f0),this._element.appendChild(_0),C++}this.width.set(_,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register(K0(()=>this._element.remove())),this._register(M1((V)=>{const j=this._originalEditorLayoutInfo.read(V),W=this._modifiedEditorLayoutInfo.read(V);if(!j||!W)return;this._element.style.left=`${j.width-j.verticalScrollbarWidth}px`,this._element.style.height=`${j.height}px`,this._element.style.width=`${j.verticalScrollbarWidth+j.contentLeft-YX.movedCodeBlockPadding+this.width.read(V)}px`})),this._register(XZ(this._state));const Z=i0((V)=>{const j=this._diffModel.read(V),W=j===null||j===void 0?void 0:j.diff.read(V);if(!W)return[];return W.movedTexts.map((B)=>({move:B,original:new L2(ZR(B.lineRangeMapping.original.startLineNumber-1),18),modified:new L2(ZR(B.lineRangeMapping.modified.startLineNumber-1),18)}))});this._register(_U(this._editors.original,Z.map((V)=>V.map((j)=>j.original)))),this._register(_U(this._editors.modified,Z.map((V)=>V.map((j)=>j.modified)))),this._register(H5((V,j)=>{const W=Z.read(V);for(let B of W)j.add(new Ay(this._editors.original,B.original,B.move,"original",this._diffModel.get())),j.add(new Ay(this._editors.modified,B.modified,B.move,"modified",this._diffModel.get()))}));const G=E8(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),q=E8(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),U=E5("original.onDidFocusEditorWidget",(V)=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>V(void 0),0))),H=E5("modified.onDidFocusEditorWidget",(V)=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>V(void 0),0)));let z="modified";this._register($Z({createEmptyChangeSummary:()=>{return},handleChange:(V,j)=>{if(V.didChange(U))z="original";if(V.didChange(H))z="modified";return!0}},(V)=>{U.read(V),H.read(V);const j=this._diffModel.read(V);if(!j)return;const W=j.diff.read(V);let B=void 0;if(W&&z==="original"){const K=G.read(V);if(K)B=W.movedTexts.find((P)=>P.lineRangeMapping.original.contains(K.lineNumber))}if(W&&z==="modified"){const K=q.read(V);if(K)B=W.movedTexts.find((P)=>P.lineRangeMapping.modified.contains(K.lineNumber))}if(B!==j.movedTextToCompare.get())j.movedTextToCompare.set(void 0,void 0);j.setActiveMovedText(B)}))}}class Py{static compute(J){const $=[],X=[];for(let Q of J){let Y=$.findIndex((Z)=>!Z.intersectsStrict(Q));if(Y===-1)if($.length>=6)Y=ov($,y5((G)=>G.intersectWithRangeLength(Q),zX));else Y=$.length,$.push(new GK);$[Y].addRange(Q),X.push(Y)}return new Py($.length,X)}constructor(J,$){this._trackCount=J,this.trackPerLineIdx=$}getTrack(J){return this.trackPerLineIdx[J]}getTrackCount(){return this._trackCount}}class Ay extends dj{constructor(J,$,X,Q,Y){const Z=p1("div.diff-hidden-lines-widget");super(J,$,Z.root);this._editor=J,this._move=X,this._kind=Q,this._diffModel=Y,this._nodes=p1("div.diff-moved-code-block",{style:{marginRight:"4px"}},[p1("div.text-content@textContent"),p1("div.action-bar@actionBar")]),Z.root.appendChild(this._nodes.root);const G=E8(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register(uJ(this._nodes.root,{paddingRight:G.map((V)=>V.verticalScrollbarWidth)}));let q;if(X.changes.length>0)q=this._kind==="original"?F("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);else q=this._kind==="original"?F("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):F("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const U=this._register(new W7(this._nodes.actionBar,{highlightToggledItems:!0})),H=new P5("",q,"",!1);U.push(H,{icon:!1,label:!0});const z=new P5("","Compare",y0.asClassName(U0.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===X?void 0:this._move,void 0)});this._register(M1((V)=>{const j=this._diffModel.movedTextToCompare.read(V)===X;z.checked=j})),U.push(z,{icon:!1,label:!0})}}var Dy=N(()=>{D0();o$();$5();H1();V4();z6();X0();s7();W6();c4();u9();h0();YX.movedCodeBlockPadding=4});var ht0,gt0,pt0,a$0,Ry,My,Oy,Ty,Ny,_y,wo,Lo,rj,Eo,ko;var wy=N(()=>{z6();W6();CY();h0();L7();KU();ht0=k("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},F("diffEditor.move.border","The border color for text that got moved in the diff editor.")),gt0=k("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},F("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor.")),pt0=k("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},F("diffEditor.unchangedRegionShadow","The color of the shadow around unchanged region widgets.")),a$0=U5("diff-insert",U0.add,F("diffInsertIcon","Line decoration for inserts in the diff editor.")),Ry=U5("diff-remove",U0.remove,F("diffRemoveIcon","Line decoration for removals in the diff editor.")),My=E1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+y0.asClassName(a$0),marginClassName:"gutter-insert"}),Oy=E1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+y0.asClassName(Ry),marginClassName:"gutter-delete"}),Ty=E1.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Ny=E1.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),_y=E1.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),wo=E1.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),Lo=E1.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),rj=E1.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),Eo=E1.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),ko=E1.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})});class Ly extends f{constructor(J,$,X,Q){super();this._editors=J,this._diffModel=$,this._options=X,this._decorations=i0(this,(Y)=>{var Z;const G=(Z=this._diffModel.read(Y))===null||Z===void 0?void 0:Z.diff.read(Y);if(!G)return null;const q=this._diffModel.read(Y).movedTextToCompare.read(Y),U=this._options.renderIndicators.read(Y),H=this._options.showEmptyDecorations.read(Y),z=[],V=[];if(!q)for(let W of G.mappings){if(!W.lineRangeMapping.original.isEmpty)z.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:U?Oy:Ny});if(!W.lineRangeMapping.modified.isEmpty)V.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:U?My:Ty});if(W.lineRangeMapping.modified.isEmpty||W.lineRangeMapping.original.isEmpty){if(!W.lineRangeMapping.original.isEmpty)z.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:Eo});if(!W.lineRangeMapping.modified.isEmpty)V.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:wo})}else for(let B of W.lineRangeMapping.innerChanges||[]){if(W.lineRangeMapping.original.contains(B.originalRange.startLineNumber))z.push({range:B.originalRange,options:B.originalRange.isEmpty()&&H?ko:rj});if(W.lineRangeMapping.modified.contains(B.modifiedRange.startLineNumber))V.push({range:B.modifiedRange,options:B.modifiedRange.isEmpty()&&H?Lo:_y})}}if(q)for(let W of q.changes){const B=W.original.toInclusiveRange();if(B)z.push({range:B,options:U?Oy:Ny});const K=W.modified.toInclusiveRange();if(K)V.push({range:K,options:U?My:Ty});for(let P of W.innerChanges||[])z.push({range:P.originalRange,options:rj}),V.push({range:P.modifiedRange,options:_y})}const j=this._diffModel.read(Y).activeMovedText.read(Y);for(let W of G.movedTexts)z.push({range:W.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(W===j?" currentMove":""),blockPadding:[YX.movedCodeBlockPadding,0,YX.movedCodeBlockPadding,YX.movedCodeBlockPadding]}}),V.push({range:W.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(W===j?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:z,modifiedDecorations:V}}),this._register(NU(this._editors.original,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.originalDecorations)||[]))),this._register(NU(this._editors.modified,this._decorations.map((Y)=>(Y===null||Y===void 0?void 0:Y.modifiedDecorations)||[])))}}var Io=N(()=>{X0();s7();Dy();wy();c4()});class Ey extends f{constructor(J,$,X,Q){super();this._options=J,this._domNode=$,this._dimensions=X,this._sashes=Q,this._sashRatio=P1(this,void 0),this.sashLeft=i0(this,(Y)=>{var Z;const G=(Z=this._sashRatio.read(Y))!==null&&Z!==void 0?Z:this._options.splitViewDefaultRatio.read(Y);return this._computeSashLeft(G,Y)}),this._sash=this._register(new B7(this._domNode,{getVerticalSashTop:(Y)=>0,getVerticalSashLeft:(Y)=>this.sashLeft.get(),getVerticalSashHeight:(Y)=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange((Y)=>{const Z=this._dimensions.width.get(),G=this._computeSashLeft((this._startSashPosition+(Y.currentX-Y.startX))/Z,void 0);this._sashRatio.set(G/Z,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register(M1((Y)=>{const Z=this._sashes.read(Y);if(Z)this._sash.orthogonalEndSash=Z.bottom})),this._register(M1((Y)=>{const Z=this._options.enableSplitViewResizing.read(Y);this._sash.state=Z?3:0,this.sashLeft.read(Y),this._dimensions.height.read(Y),this._sash.layout()}))}_computeSashLeft(J,$){const X=this._dimensions.width.read($),Q=Math.floor(this._options.splitViewDefaultRatio.read($)*X),Y=this._options.enableSplitViewResizing.read($)?Math.floor(J*X):Q;if(X<=200)return Q;if(Y<100)return 100;if(Y>X-100)return X-100;return Y}}var yo=N(()=>{HD();X0();s7()});class Iy extends dj{constructor(J,$,X,Q,Y,Z,G,q){const U=p1("div.diff-hidden-lines-widget");super(J,$,U.root);this._editor=J,this._unchangedRegion=X,this._unchangedRegionRange=Q,this._hide=Y,this._modifiedOutlineSource=Z,this._revealModifiedHiddenLine=G,this._options=q,this._nodes=p1("div.diff-hidden-lines",[p1("div.top@top",{title:F("diff.hiddenLines.top","Click or drag to show more above")}),p1("div.center@content",{style:{display:"flex"}},[p1("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[q0("a",{title:F("showUnchangedRegion","Show Unchanged Region"),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...fJ("$(unfold)"))]),p1("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),p1("div.bottom@bottom",{title:F("diff.bottom","Click or drag to show more below"),role:"button"})]),U.root.appendChild(this._nodes.root);const H=E8(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());if(!this._hide)this._register(uJ(this._nodes.first,{width:H.map((V)=>V.contentLeft)}));else F6(this._nodes.first);this._register(M1((V)=>{const j=this._unchangedRegion.visibleLineCountTop.read(V)+this._unchangedRegion.visibleLineCountBottom.read(V)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!j),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(V)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(V)>0),this._nodes.top.classList.toggle("canMoveBottom",!j);const W=this._unchangedRegion.isDragged.read(V),B=this._editor.getDomNode();if(B)if(B.classList.toggle("draggingUnchangedRegion",!!W),W==="top")B.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(V)>0),B.classList.toggle("canMoveBottom",!j);else if(W==="bottom")B.classList.toggle("canMoveTop",!j),B.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(V)>0);else B.classList.toggle("canMoveTop",!1),B.classList.toggle("canMoveBottom",!1)}));const z=this._editor;this._register(m(this._nodes.top,"mousedown",(V)=>{if(V.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),V.preventDefault();const j=V.clientY;let W=!1;const B=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const K=B0(this._nodes.top),P=m(K,"mousemove",(D)=>{const M=D.clientY-j;W=W||Math.abs(M)>2;const O=Math.round(M/z.getOption(66)),_=Math.max(0,Math.min(B+O,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(_,void 0)}),A=m(K,"mouseup",(D)=>{if(!W)this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),P.dispose(),A.dispose()})})),this._register(m(this._nodes.bottom,"mousedown",(V)=>{if(V.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),V.preventDefault();const j=V.clientY;let W=!1;const B=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const K=B0(this._nodes.bottom),P=m(K,"mousemove",(D)=>{const M=D.clientY-j;W=W||Math.abs(M)>2;const O=Math.round(M/z.getOption(66)),_=Math.max(0,Math.min(B-O,this._unchangedRegion.getMaxVisibleLineCountBottom())),w=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(_,void 0);const C=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);z.setScrollTop(z.getScrollTop()+(C-w))}),A=m(K,"mouseup",(D)=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!W){const R=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const M=z.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);z.setScrollTop(z.getScrollTop()+(M-R))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),P.dispose(),A.dispose()})})),this._register(M1((V)=>{const j=[];if(!this._hide){const W=X.getHiddenModifiedRange(V).length,B=F("hiddenLines","{0} hidden lines",W),K=q0("span",{title:F("diff.hiddenLines.expandAll","Double click to unfold")},B);K.addEventListener("dblclick",(D)=>{if(D.button!==0)return;D.preventDefault(),this._unchangedRegion.showAll(void 0)}),j.push(K);const P=this._unchangedRegion.getHiddenModifiedRange(V),A=this._modifiedOutlineSource.getBreadcrumbItems(P,V);if(A.length>0){j.push(q0("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let D=0;D<A.length;D++){const R=A[D],M=XB.toIcon(R.kind),O=p1("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[x3(M),"\xA0",R.name,...D===A.length-1?[]:[x3(U0.chevronRight)]]).root;j.push(O),O.onclick=()=>{this._revealModifiedHiddenLine(R.startLineNumber)}}}}F6(this._nodes.others,...j)}))}}var r$0,i$0,ky,ij;var So=N(()=>{D0();oG();z6();eG();X0();s7();gj();W6();G8();c4();m5();U1();c0();M7();h0();m0();r$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},i$0=function(J,$){return function(X,Q){$(X,Q,J)}},ij=ky=class J extends f{static setBreadcrumbsSourceFactory($){this._breadcrumbsSourceFactory.set($,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor($,X,Q,Y){super();this._editors=$,this._diffModel=X,this._options=Q,this._instantiationService=Y,this._modifiedOutlineSource=QX(this,(U)=>{const H=this._editors.modifiedModel.read(U),z=ky._breadcrumbsSourceFactory.read(U);return!H||!z?void 0:z(H,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition((U)=>{if(U.reason===3){const H=this._diffModel.get();M8((z)=>{for(let V of this._editors.original.getSelections()||[])H===null||H===void 0||H.ensureOriginalLineIsVisible(V.getStartPosition().lineNumber,0,z),H===null||H===void 0||H.ensureOriginalLineIsVisible(V.getEndPosition().lineNumber,0,z)})}})),this._register(this._editors.modified.onDidChangeCursorPosition((U)=>{if(U.reason===3){const H=this._diffModel.get();M8((z)=>{for(let V of this._editors.modified.getSelections()||[])H===null||H===void 0||H.ensureModifiedLineIsVisible(V.getStartPosition().lineNumber,0,z),H===null||H===void 0||H.ensureModifiedLineIsVisible(V.getEndPosition().lineNumber,0,z)})}}));const Z=this._diffModel.map((U,H)=>{var z,V;const j=(z=U===null||U===void 0?void 0:U.unchangedRegions.read(H))!==null&&z!==void 0?z:[];if(j.length===1&&j[0].modifiedLineNumber===1&&j[0].lineCount===((V=this._editors.modifiedModel.read(H))===null||V===void 0?void 0:V.getLineCount()))return[];return j});this.viewZones=t9(this,(U,H)=>{const z=this._modifiedOutlineSource.read(U);if(!z)return{origViewZones:[],modViewZones:[]};const V=[],j=[],W=this._options.renderSideBySide.read(U),B=Z.read(U);for(let K of B){if(K.shouldHideControls(U))continue;{const P=i0(this,(D)=>K.getHiddenOriginalRange(D).startLineNumber-1),A=new L2(P,24);V.push(A),H.add(new Iy(this._editors.original,A,K,K.originalUnchangedRange,!W,z,(D)=>this._diffModel.get().ensureModifiedLineIsVisible(D,2,void 0),this._options))}{const P=i0(this,(D)=>K.getHiddenModifiedRange(D).startLineNumber-1),A=new L2(P,24);j.push(A),H.add(new Iy(this._editors.modified,A,K,K.modifiedUnchangedRange,!1,z,(D)=>this._diffModel.get().ensureModifiedLineIsVisible(D,2,void 0),this._options))}}return{origViewZones:V,modViewZones:j}});const G={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},q={description:"Fold Unchanged",glyphMarginHoverMessage:new f3(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(F("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+y0.asClassName(U0.fold),zIndex:10001};this._register(NU(this._editors.original,i0(this,(U)=>{const H=Z.read(U),z=H.map((V)=>({range:V.originalUnchangedRange.toInclusiveRange(),options:G}));for(let V of H)if(V.shouldHideControls(U))z.push({range:L.fromPositions(new v(V.originalLineNumber,1)),options:q});return z}))),this._register(NU(this._editors.modified,i0(this,(U)=>{const H=Z.read(U),z=H.map((V)=>({range:V.modifiedUnchangedRange.toInclusiveRange(),options:G}));for(let V of H)if(V.shouldHideControls(U))z.push({range:S0.ofLength(V.modifiedLineNumber,1).toInclusiveRange(),options:q});return z}))),this._register(M1((U)=>{const H=Z.read(U);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(H.map((z)=>z.getHiddenOriginalRange(U).toInclusiveRange()).filter(VX)),this._editors.modified.setHiddenAreas(H.map((z)=>z.getHiddenModifiedRange(U).toInclusiveRange()).filter(VX))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp((U)=>{var H;if(!U.event.rightButton&&U.target.position&&((H=U.target.element)===null||H===void 0?void 0:H.className.includes("fold-unchanged"))){const z=U.target.position.lineNumber,V=this._diffModel.get();if(!V)return;const j=V.unchangedRegions.get().find((W)=>W.modifiedUnchangedRange.includes(z));if(!j)return;j.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}})),this._register(this._editors.original.onMouseUp((U)=>{var H;if(!U.event.rightButton&&U.target.position&&((H=U.target.element)===null||H===void 0?void 0:H.className.includes("fold-unchanged"))){const z=U.target.position.lineNumber,V=this._diffModel.get();if(!V)return;const j=V.unchangedRegions.get().find((W)=>W.originalUnchangedRange.includes(z));if(!j)return;j.collapseAll(void 0),U.event.stopPropagation(),U.event.preventDefault()}}))}};ij._breadcrumbsSourceFactory=P1("breadcrumbsSourceFactory",void 0);ij=ky=r$0([i$0(3,g0)],ij)});var Co,yy,E2,Cy,Sy,HR;var xo=N(()=>{h9();m0();F0();X$();m5();GY();XU();iQ();Co=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},yy=function(J,$){return function(X,Q){$(X,Q,J)}},Cy=M0("diffProviderFactoryService"),Sy=class J{constructor($){this.instantiationService=$}createDiffProvider($){return this.instantiationService.createInstance(HR,$)}};Sy=Co([yy(0,g0)],Sy);z1(Cy,Sy,1);HR=E2=class J{constructor($,X,Q){this.editorWorkerService=X,this.telemetryService=Q,this.onDidChangeEventEmitter=new y,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions($)}dispose(){var $;($=this.diffAlgorithmOnDidChangeSubscription)===null||$===void 0||$.dispose()}async computeDiff($,X,Q,Y){var Z,G;if(typeof this.diffAlgorithm!=="string")return this.diffAlgorithm.computeDiff($,X,Q,Y);if($.getLineCount()===1&&$.getLineMaxColumn(1)===1){if(X.getLineCount()===1&&X.getLineMaxColumn(1)===1)return{changes:[],identical:!0,quitEarly:!1,moves:[]};return{changes:[new D5(new S0(1,2),new S0(1,X.getLineCount()+1),[new c9($.getFullModelRange(),X.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]}}const q=JSON.stringify([$.uri.toString(),X.uri.toString()]),U=JSON.stringify([$.id,X.id,$.getAlternativeVersionId(),X.getAlternativeVersionId(),JSON.stringify(Q)]),H=E2.diffCache.get(q);if(H&&H.context===U)return H.result;const z=U6.create(),V=await this.editorWorkerService.computeDiff($.uri,X.uri,Q,this.diffAlgorithm),j=z.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:j,timedOut:(Z=V===null||V===void 0?void 0:V.quitEarly)!==null&&Z!==void 0?Z:!0,detectedMoves:Q.computeMoves?(G=V===null||V===void 0?void 0:V.moves.length)!==null&&G!==void 0?G:0:-1}),Y.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!V)throw new Error("no diff result available");if(E2.diffCache.size>10)E2.diffCache.delete(E2.diffCache.keys().next().value);return E2.diffCache.set(q,{result:V,context:U}),V}setOptions($){var X;let Q=!1;if($.diffAlgorithm){if(this.diffAlgorithm!==$.diffAlgorithm){if((X=this.diffAlgorithmOnDidChangeSubscription)===null||X===void 0||X.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=$.diffAlgorithm,typeof $.diffAlgorithm!=="string")this.diffAlgorithmOnDidChangeSubscription=$.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire());Q=!0}}if(Q)this.onDidChangeEventEmitter.fire()}};HR.diffCache=new Map;HR=E2=Co([yy(1,P9),yy(2,Z5)],HR)});class nj{static fromDiffResult(J){return new nj(J.changes.map(($)=>new VR($)),J.moves||[],J.identical,J.quitEarly)}constructor(J,$,X,Q){this.mappings=J,this.movedTexts=$,this.identical=X,this.quitEarly=Q}}class VR{constructor(J){this.lineRangeMapping=J}}class QZ{static fromDiffs(J,$,X,Q,Y){const Z=D5.inverse(J,$,X),G=[];for(let q of Z){let U=q.original.startLineNumber,H=q.modified.startLineNumber,z=q.original.length;const V=U===1&&H===1,j=U+z===$+1&&H+z===X+1;if((V||j)&&z>=Y+Q){if(V&&!j)z-=Y;if(j&&!V)U+=Y,H+=Y,z-=Y;G.push(new QZ(U,H,z,0,0))}else if(z>=Y*2+Q)U+=Y,H+=Y,z-=Y*2,G.push(new QZ(U,H,z,0,0))}return G}get originalUnchangedRange(){return S0.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return S0.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(J,$,X,Q,Y){this.originalLineNumber=J,this.modifiedLineNumber=$,this.lineCount=X,this._visibleLineCountTop=P1(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=P1(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=i0(this,(q)=>this.visibleLineCountTop.read(q)+this.visibleLineCountBottom.read(q)===this.lineCount&&!this.isDragged.read(q)),this.isDragged=P1(this,void 0);const Z=Math.max(Math.min(Q,this.lineCount),0),G=Math.max(Math.min(Y,this.lineCount-Q),0);ZO(Q===Z),ZO(Y===G),this._visibleLineCountTop.set(Z,void 0),this._visibleLineCountBottom.set(G,void 0)}setVisibleRanges(J,$){const X=[],Q=new p5(J.map((q)=>q.modified)).subtractFrom(this.modifiedUnchangedRange);let Y=this.originalLineNumber,Z=this.modifiedLineNumber;const G=this.modifiedLineNumber+this.lineCount;if(Q.ranges.length===0)this.showAll($),X.push(this);else{let q=0;for(let U of Q.ranges){const H=q===Q.ranges.length-1;q++;const z=(H?G:U.endLineNumberExclusive)-Z,V=new QZ(Y,Z,z,0,0);V.setHiddenModifiedRange(U,$),X.push(V),Y=V.originalUnchangedRange.endLineNumberExclusive,Z=V.modifiedUnchangedRange.endLineNumberExclusive}}return X}shouldHideControls(J){return this._shouldHideControls.read(J)}getHiddenOriginalRange(J){return S0.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}getHiddenModifiedRange(J){return S0.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(J),this.lineCount-this._visibleLineCountTop.read(J)-this._visibleLineCountBottom.read(J))}setHiddenModifiedRange(J,$){const X=J.startLineNumber-this.modifiedLineNumber,Q=this.modifiedLineNumber+this.lineCount-J.endLineNumberExclusive;this.setState(X,Q,$)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(J=10,$){const X=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+J,X),$)}showMoreBelow(J=10,$){const X=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+J,X),$)}showAll(J){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),J)}showModifiedLine(J,$,X){const Q=J+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),Y=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-J;if($===0&&Q<Y||$===1)this._visibleLineCountTop.set(this._visibleLineCountTop.get()+Q,X);else this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+Y,X)}showOriginalLine(J,$,X){const Q=J-this.originalLineNumber,Y=this.originalLineNumber+this.lineCount-J;if($===0&&Q<Y||$===1)this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+Y-Q,this.getMaxVisibleLineCountTop()),X);else this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+Q-Y,this.getMaxVisibleLineCountBottom()),X)}collapseAll(J){this._visibleLineCountTop.set(0,J),this._visibleLineCountBottom.set(0,J)}setState(J,$,X){J=Math.max(Math.min(J,this.lineCount),0),$=Math.max(Math.min($,this.lineCount-J),0),this._visibleLineCountTop.set(J,X),this._visibleLineCountBottom.set($,X)}}var t$0,e$0,bo,vo,n$0,o$0,zR;var xy=N(()=>{u1();$7();X0();s7();xo();c4();m5();fT();GY();rz();Dw();vT();G8();H1();U$();t$0=function(J,$,X){return{changes:J.changes.map((Q)=>new D5(Q.original,Q.modified,Q.innerChanges?Q.innerChanges.map((Y)=>e$0(Y,$,X)):void 0)),moves:J.moves,identical:J.identical,quitEarly:J.quitEarly}},e$0=function(J,$,X){let{originalRange:Q,modifiedRange:Y}=J;if((Q.endColumn!==1||Y.endColumn!==1)&&Q.endColumn===$.getLineMaxColumn(Q.endLineNumber)&&Y.endColumn===X.getLineMaxColumn(Y.endLineNumber)&&Q.endLineNumber<$.getLineCount()&&Y.endLineNumber<X.getLineCount())Q=Q.setEndPosition(Q.endLineNumber+1,1),Y=Y.setEndPosition(Y.endLineNumber+1,1);return new c9(Q,Y)},bo=function(J,$,X,Q){return},vo=function(J,$,X,Q){return},n$0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},o$0=function(J,$){return function(X,Q){$(X,Q,J)}},zR=class J extends f{setActiveMovedText($){this._activeMovedText.set($,void 0)}constructor($,X,Q){super();this.model=$,this._options=X,this._diffProviderFactoryService=Q,this._isDiffUpToDate=P1(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=P1(this,void 0),this.diff=this._diff,this._unchangedRegions=P1(this,void 0),this.unchangedRegions=i0(this,(q)=>{var U,H;if(this._options.hideUnchangedRegions.read(q))return(H=(U=this._unchangedRegions.read(q))===null||U===void 0?void 0:U.regions)!==null&&H!==void 0?H:[];else return M8((z)=>{var V;for(let j of((V=this._unchangedRegions.get())===null||V===void 0?void 0:V.regions)||[])j.collapseAll(z)}),[]}),this.movedTextToCompare=P1(this,void 0),this._activeMovedText=P1(this,void 0),this._hoveredMovedText=P1(this,void 0),this.activeMovedText=i0(this,(q)=>{var U,H;return(H=(U=this.movedTextToCompare.read(q))!==null&&U!==void 0?U:this._hoveredMovedText.read(q))!==null&&H!==void 0?H:this._activeMovedText.read(q)}),this._cancellationTokenSource=new H6,this._diffProvider=i0(this,(q)=>{const U=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(q)}),H=E5("onDidChange",U.onDidChange);return{diffProvider:U,onChangeSignal:H}}),this._register(K0(()=>this._cancellationTokenSource.cancel()));const Y=qy("contentChangedSignal"),Z=this._register(new t1(()=>Y.trigger(void 0),200));this._register(M1((q)=>{const U=this._unchangedRegions.read(q);if(!U||U.regions.some((B)=>B.isDragged.read(q)))return;const H=U.originalDecorationIds.map((B)=>$.original.getDecorationRange(B)).map((B)=>B?S0.fromRangeInclusive(B):void 0),z=U.modifiedDecorationIds.map((B)=>$.modified.getDecorationRange(B)).map((B)=>B?S0.fromRangeInclusive(B):void 0),V=U.regions.map((B,K)=>!H[K]||!z[K]?void 0:new QZ(H[K].startLineNumber,z[K].startLineNumber,H[K].length,B.visibleLineCountTop.read(q),B.visibleLineCountBottom.read(q))).filter(VX),j=[];let W=!1;for(let B of v2(V,(K,P)=>K.getHiddenModifiedRange(q).endLineNumberExclusive===P.getHiddenModifiedRange(q).startLineNumber))if(B.length>1){W=!0;const K=B.reduce((A,D)=>A+D.lineCount,0),P=new QZ(B[0].originalLineNumber,B[0].modifiedLineNumber,K,B[0].visibleLineCountTop.get(),B[B.length-1].visibleLineCountBottom.get());j.push(P)}else j.push(B[0]);if(W){const B=$.original.deltaDecorations(U.originalDecorationIds,j.map((P)=>({range:P.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations(U.modifiedDecorationIds,j.map((P)=>({range:P.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));M8((P)=>{this._unchangedRegions.set({regions:j,originalDecorationIds:B,modifiedDecorationIds:K},P)})}}));const G=(q,U,H)=>{const z=QZ.fromDiffs(q.changes,$.original.getLineCount(),$.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(H),this._options.hideUnchangedRegionsContextLineCount.read(H));let V=void 0;const j=this._unchangedRegions.get();if(j){const P=j.originalDecorationIds.map((M)=>$.original.getDecorationRange(M)).map((M)=>M?S0.fromRangeInclusive(M):void 0),A=j.modifiedDecorationIds.map((M)=>$.modified.getDecorationRange(M)).map((M)=>M?S0.fromRangeInclusive(M):void 0);let R=Po(j.regions.map((M,O)=>{if(!P[O]||!A[O])return;const _=P[O].length;return new QZ(P[O].startLineNumber,A[O].startLineNumber,_,Math.min(M.visibleLineCountTop.get(),_),Math.min(M.visibleLineCountBottom.get(),_-M.visibleLineCountTop.get()))}).filter(VX),(M,O)=>!O||M.modifiedLineNumber>=O.modifiedLineNumber+O.lineCount&&M.originalLineNumber>=O.originalLineNumber+O.lineCount).map((M)=>new Y7(M.getHiddenOriginalRange(H),M.getHiddenModifiedRange(H)));R=Y7.clip(R,S0.ofLength(1,$.original.getLineCount()),S0.ofLength(1,$.modified.getLineCount())),V=Y7.inverse(R,$.original.getLineCount(),$.modified.getLineCount())}const W=[];if(V)for(let P of z){const A=V.filter((D)=>D.original.intersectsStrict(P.originalUnchangedRange)&&D.modified.intersectsStrict(P.modifiedUnchangedRange));W.push(...P.setVisibleRanges(A,U))}else W.push(...z);const B=$.original.deltaDecorations((j===null||j===void 0?void 0:j.originalDecorationIds)||[],W.map((P)=>({range:P.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),K=$.modified.deltaDecorations((j===null||j===void 0?void 0:j.modifiedDecorationIds)||[],W.map((P)=>({range:P.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:W,originalDecorationIds:B,modifiedDecorationIds:K},U)};this._register($.modified.onDidChangeContent((q)=>{if(this._diff.get()){const H=vJ.fromModelContentChanges(q.changes),z=vo(this._lastDiff,H,$.original,$.modified);if(z)this._lastDiff=z,M8((V)=>{this._diff.set(nj.fromDiffResult(this._lastDiff),V),G(z,V);const j=this.movedTextToCompare.get();this.movedTextToCompare.set(j?this._lastDiff.moves.find((W)=>W.lineRangeMapping.modified.intersect(j.lineRangeMapping.modified)):void 0,V)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register($.original.onDidChangeContent((q)=>{if(this._diff.get()){const H=vJ.fromModelContentChanges(q.changes),z=bo(this._lastDiff,H,$.original,$.modified);if(z)this._lastDiff=z,M8((V)=>{this._diff.set(nj.fromDiffResult(this._lastDiff),V),G(z,V);const j=this.movedTextToCompare.get();this.movedTextToCompare.set(j?this._lastDiff.moves.find((W)=>W.lineRangeMapping.modified.intersect(j.lineRangeMapping.modified)):void 0,V)})}this._isDiffUpToDate.set(!1,void 0),Z.schedule()})),this._register(H5(async(q,U)=>{var H,z;this._options.hideUnchangedRegionsMinimumLineCount.read(q),this._options.hideUnchangedRegionsContextLineCount.read(q),Z.cancel(),Y.read(q);const V=this._diffProvider.read(q);V.onChangeSignal.read(q),e9(Uz,q),e9(qz,q),this._isDiffUpToDate.set(!1,void 0);let j=[];U.add($.original.onDidChangeContent((K)=>{const P=vJ.fromModelContentChanges(K.changes);j=D3(j,P)}));let W=[];U.add($.modified.onDidChangeContent((K)=>{const P=vJ.fromModelContentChanges(K.changes);W=D3(W,P)}));let B=await V.diffProvider.computeDiff($.original,$.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(q),maxComputationTimeMs:this._options.maxComputationTimeMs.read(q),computeMoves:this._options.showMoves.read(q)},this._cancellationTokenSource.token);if(this._cancellationTokenSource.token.isCancellationRequested)return;B=t$0(B,$.original,$.modified),B=(H=bo(B,j,$.original,$.modified))!==null&&H!==void 0?H:B,B=(z=vo(B,W,$.original,$.modified))!==null&&z!==void 0?z:B,M8((K)=>{G(B,K),this._lastDiff=B;const P=nj.fromDiffResult(B);this._diff.set(P,K),this._isDiffUpToDate.set(!0,K);const A=this.movedTextToCompare.get();this.movedTextToCompare.set(A?this._lastDiff.moves.find((D)=>D.lineRangeMapping.modified.intersect(A.lineRangeMapping.modified)):void 0,K)})}))}ensureModifiedLineIsVisible($,X,Q){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;const G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenModifiedRange(void 0).contains($)){q.showModifiedLine($,X,Q);return}}ensureOriginalLineIsVisible($,X,Q){var Y,Z;if(((Y=this.diff.get())===null||Y===void 0?void 0:Y.mappings.length)===0)return;const G=((Z=this._unchangedRegions.get())===null||Z===void 0?void 0:Z.regions)||[];for(let q of G)if(q.getHiddenOriginalRange(void 0).contains($)){q.showOriginalLine($,X,Q);return}}async waitForDiff(){await Gy(this.isDiffUpToDate,($)=>$)}serializeState(){const $=this._unchangedRegions.get();return{collapsedRegions:$===null||$===void 0?void 0:$.regions.map((X)=>({range:X.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState($){var X;const Q=(X=$.collapsedRegions)===null||X===void 0?void 0:X.map((Z)=>S0.deserialize(Z.range)),Y=this._unchangedRegions.get();if(!Y||!Q)return;M8((Z)=>{for(let G of Y.regions)for(let q of Q)if(G.modifiedUnchangedRange.intersect(q)){G.setHiddenModifiedRange(q,Z);break}})}};zR=n$0([o$0(2,Cy)],zR)});class by extends f{get visibility(){return this._visibility}set visibility(J){if(this._visibility!==J)this._visibility=J,this._diffActions.style.visibility=J?"visible":"hidden"}constructor(J,$,X,Q,Y,Z,G,q,U){super();this._getViewZoneId=J,this._marginDomNode=$,this._modifiedEditor=X,this._diff=Q,this._editor=Y,this._viewLineCounts=Z,this._originalTextModel=G,this._contextMenuService=q,this._clipboardService=U,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=y0.asClassName(U0.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const H=this._modifiedEditor.getOption(66);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${H}px`,this._diffActions.style.lineHeight=`${H}px`,this._marginDomNode.appendChild(this._diffActions);let z=0;const V=X.getOption(126)&&!N9,j=(W,B)=>{var K;this._contextMenuService.showContextMenu({domForShadowRoot:V?(K=X.getDomNode())!==null&&K!==void 0?K:void 0:void 0,getAnchor:()=>({x:W,y:B}),getActions:()=>{const P=[],A=Q.modified.isEmpty;if(P.push(new P5("diff.clipboard.copyDeletedContent",A?Q.original.length>1?F("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):F("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Q.original.length>1?F("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):F("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,async()=>{const R=this._originalTextModel.getValueInRange(Q.original.toExclusiveRange());await this._clipboardService.writeText(R)})),Q.original.length>1)P.push(new P5("diff.clipboard.copyDeletedLineContent",A?F("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Q.original.startLineNumber+z):F("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Q.original.startLineNumber+z),void 0,!0,async()=>{let R=this._originalTextModel.getLineContent(Q.original.startLineNumber+z);if(R==="")R=this._originalTextModel.getEndOfLineSequence()===0?"\n":"\r\n";await this._clipboardService.writeText(R)}));if(!X.getOption(90))P.push(new P5("diff.inline.revertChange",F("diff.inline.revertChange.label","Revert this change"),void 0,!0,async()=>{this._editor.revert(this._diff)}));return P},autoSelectFirstItem:!0})};this._register(i1(this._diffActions,"mousedown",(W)=>{if(!W.leftButton)return;const{top:B,height:K}=M6(this._diffActions),P=Math.floor(H/3);W.preventDefault(),j(W.posx,B+K+P)})),this._register(X.onMouseMove((W)=>{if((W.target.type===8||W.target.type===5)&&W.target.detail.viewZoneId===this._getViewZoneId())z=this._updateLightBulbPosition(this._marginDomNode,W.event.browserEvent.y,H),this.visibility=!0;else this.visibility=!1})),this._register(X.onMouseDown((W)=>{if(!W.event.leftButton)return;if(W.target.type===8||W.target.type===5){if(W.target.detail.viewZoneId===this._getViewZoneId())W.event.preventDefault(),z=this._updateLightBulbPosition(this._marginDomNode,W.event.browserEvent.y,H),j(W.event.posx,W.event.posy+H)}}))}_updateLightBulbPosition(J,$,X){const{top:Q}=M6(J),Y=$-Q,Z=Math.floor(Y/X),G=Z*X;if(this._diffActions.style.top=`${G}px`,this._viewLineCounts){let q=0;for(let U=0;U<this._viewLineCounts.length;U++)if(q+=this._viewLineCounts[U],Z<q)return U}return Z}}var fo=N(()=>{D0();$5();z6();X0();O1();W6();h0()});function po(J,$,X,Q){T8(Q,$.fontInfo);const Y=X.length>0,Z=new xX(1e4);let G=0,q=0;const U=[];for(let j=0;j<J.lineTokens.length;j++){const W=j+1,B=J.lineTokens[j],K=J.lineBreakData[j],P=c5.filter(X,W,1,Number.MAX_SAFE_INTEGER);if(K){let A=0;for(let D of K.breakOffsets){const R=B.sliceAndInflate(A,D,0);G=Math.max(G,go(q,R,c5.extractWrapped(P,A,D),Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++,A=D}U.push(K.breakOffsets.length)}else U.push(1),G=Math.max(G,go(q,B,P,Y,J.mightContainNonBasicASCII,J.mightContainRTL,$,Z)),q++}G+=$.scrollBeyondLastColumn;const H=Z.build(),z=ho?ho.createHTML(H):H;Q.innerHTML=z;const V=G*$.typicalHalfwidthCharacterWidth;return{heightInLines:q,minWidthInPx:V,viewLineCounts:U}}class vy{constructor(J,$,X,Q){this.lineTokens=J,this.lineBreakData=$,this.mightContainNonBasicASCII=X,this.mightContainRTL=Q}}class jR{static fromEditor(J){var $;const X=J.getOptions(),Q=X.get(50),Y=X.get(143);return new jR((($=J.getModel())===null||$===void 0?void 0:$.getOptions().tabSize)||0,Q,X.get(33),Q.typicalHalfwidthCharacterWidth,X.get(103),X.get(66),Y.decorationsWidth,X.get(116),X.get(98),X.get(93),X.get(51))}constructor(J,$,X,Q,Y,Z,G,q,U,H,z){this.tabSize=J,this.fontInfo=$,this.disableMonospaceOptimizations=X,this.typicalHalfwidthCharacterWidth=Q,this.scrollBeyondLastColumn=Y,this.lineHeight=Z,this.lineDecorationsWidth=G,this.stopRenderingLineAfter=q,this.renderWhitespace=U,this.renderControlCharacters=H,this.fontLigatures=z}}var go,ho;var mo=N(()=>{JY();BJ();J7();YG();AK();kq();EJ();go=function(J,$,X,Q,Y,Z,G,q){if(q.appendString('<div class="view-line'),!Q)q.appendString(" char-delete");q.appendString('" style="top:'),q.appendString(String(J*G.lineHeight)),q.appendString('px;width:1000000px;">');const U=$.getLineContent(),H=p7.isBasicASCII(U,Y),z=p7.containsRTL(U,H,Z),V=Fz(new B4(G.fontInfo.isMonospace&&!G.disableMonospaceOptimizations,G.fontInfo.canUseHalfwidthRightwardsArrow,U,!1,H,z,0,$,X,G.tabSize,0,G.fontInfo.spaceWidth,G.fontInfo.middotWidth,G.fontInfo.wsmiddotWidth,G.stopRenderingLineAfter,G.renderWhitespace,G.renderControlCharacters,G.fontLigatures!==t7.OFF,null),q);return q.appendString("</div>"),V.characterMapping.getHorizontalOffset(V.characterMapping.length)},ho=V9("diffEditorWidget",{createHTML:(J)=>J})});var co,lo,JX0,uo,WR;var so=N(()=>{D0();H1();u1();z6();X0();s7();W6();G8();BJ();wy();xy();fo();mo();c4();m5();U1();EJ();Ej();DQ();co=function(J,$,X,Q,Y,Z){const G=new n7(lo(J,Q)),q=new n7(lo($,Y)),U=J.getOption(66),H=$.getOption(66),z=[];let V=0,j=0;function W(B,K){while(!0){let P=G.peek(),A=q.peek();if(P&&P.lineNumber>=B)P=void 0;if(A&&A.lineNumber>=K)A=void 0;if(!P&&!A)break;const D=P?P.lineNumber-V:Number.MAX_VALUE,R=A?A.lineNumber-j:Number.MAX_VALUE;if(D<R)G.dequeue(),A={lineNumber:P.lineNumber-V+j,heightInPx:0};else if(D>R)q.dequeue(),P={lineNumber:A.lineNumber-j+V,heightInPx:0};else G.dequeue(),q.dequeue();z.push({originalRange:S0.ofLength(P.lineNumber,1),modifiedRange:S0.ofLength(A.lineNumber,1),originalHeightInPx:U+P.heightInPx,modifiedHeightInPx:H+A.heightInPx,diff:void 0})}}for(let B of X){let R=function(M,O){var _,w,C,x;if(M<D||O<A)return;if(P)P=!1;else if(M===D||O===A)return;const g=new S0(D,M),c=new S0(A,O);if(g.isEmpty&&c.isEmpty)return;const b=(w=(_=G.takeWhile((i)=>i.lineNumber<M))===null||_===void 0?void 0:_.reduce((i,Y0)=>i+Y0.heightInPx,0))!==null&&w!==void 0?w:0,u=(x=(C=q.takeWhile((i)=>i.lineNumber<O))===null||C===void 0?void 0:C.reduce((i,Y0)=>i+Y0.heightInPx,0))!==null&&x!==void 0?x:0;z.push({originalRange:g,modifiedRange:c,originalHeightInPx:g.length*U+b,modifiedHeightInPx:c.length*H+u,diff:B.lineRangeMapping}),D=M,A=O};const K=B.lineRangeMapping;W(K.original.startLineNumber,K.modified.startLineNumber);let P=!0,A=K.modified.startLineNumber,D=K.original.startLineNumber;if(Z)for(let M of K.innerChanges||[]){if(M.originalRange.startColumn>1&&M.modifiedRange.startColumn>1)R(M.originalRange.startLineNumber,M.modifiedRange.startLineNumber);const O=J.getModel(),_=M.originalRange.endLineNumber<=O.getLineCount()?O.getLineMaxColumn(M.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;if(M.originalRange.endColumn<_)R(M.originalRange.endLineNumber,M.modifiedRange.endLineNumber)}R(K.original.endLineNumberExclusive,K.modified.endLineNumberExclusive),V=K.original.endLineNumberExclusive,j=K.modified.endLineNumberExclusive}return W(Number.MAX_VALUE,Number.MAX_VALUE),z},lo=function(J,$){const X=[],Q=[],Y=J.getOption(144).wrappingColumn!==-1,Z=J._getViewModel().coordinatesConverter,G=J.getOption(66);if(Y)for(let U=1;U<=J.getModel().getLineCount();U++){const H=Z.getModelLineViewLineCount(U);if(H>1)Q.push({lineNumber:U,heightInPx:G*(H-1)})}for(let U of J.getWhitespaces()){if($.has(U.id))continue;const H=U.afterLineNumber===0?0:Z.convertViewPositionToModelPosition(new v(U.afterLineNumber,1)).lineNumber;X.push({lineNumber:H,heightInPx:U.height})}return Ao(X,Q,(U)=>U.lineNumber,(U,H)=>({lineNumber:U.lineNumber,heightInPx:U.heightInPx+H.heightInPx}))},JX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},uo=function(J,$){return function(X,Q){$(X,Q,J)}},WR=class J extends f{constructor($,X,Q,Y,Z,G,q,U,H,z){super();this._targetWindow=$,this._editors=X,this._diffModel=Q,this._options=Y,this._diffEditorWidget=Z,this._canIgnoreViewZoneUpdateEvent=G,this._origViewZonesToIgnore=q,this._modViewZonesToIgnore=U,this._clipboardService=H,this._contextMenuService=z,this._originalTopPadding=P1(this,0),this._originalScrollOffset=P1(this,0),this._originalScrollOffsetAnimated=Vy(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=P1(this,0),this._modifiedScrollOffset=P1(this,0),this._modifiedScrollOffsetAnimated=Vy(this._targetWindow,this._modifiedScrollOffset,this._store);const V=P1("invalidateAlignmentsState",0),j=this._register(new t1(()=>{V.set(V.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())j.schedule()})),this._register(this._editors.modified.onDidChangeViewZones((R)=>{if(!this._canIgnoreViewZoneUpdateEvent())j.schedule()})),this._register(this._editors.original.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))j.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration((R)=>{if(R.hasChanged(144)||R.hasChanged(66))j.schedule()}));const W=this._diffModel.map((R)=>R?E8(R.model.original.onDidChangeTokens,()=>R.model.original.tokenization.backgroundTokenizationState===2):void 0).map((R,M)=>R===null||R===void 0?void 0:R.read(M)),B=i0((R)=>{const M=this._diffModel.read(R),O=M===null||M===void 0?void 0:M.diff.read(R);if(!M||!O)return null;V.read(R);const w=this._options.renderSideBySide.read(R);return co(this._editors.original,this._editors.modified,O.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,w)}),K=i0((R)=>{var M;const O=(M=this._diffModel.read(R))===null||M===void 0?void 0:M.movedTextToCompare.read(R);if(!O)return null;V.read(R);const _=O.changes.map((w)=>new VR(w));return co(this._editors.original,this._editors.modified,_,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function P(){const R=document.createElement("div");return R.className="diagonal-fill",R}const A=this._register(new r);this.viewZones=t9(this,(R,M)=>{var O,_,w,C,x,g,c,b;A.clear();const u=B.read(R)||[],i=[],Y0=[],P0=this._modifiedTopPadding.read(R);if(P0>0)Y0.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:P0,showInHiddenAreas:!0,suppressMouseDown:!0});const R0=this._originalTopPadding.read(R);if(R0>0)i.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:R0,showInHiddenAreas:!0,suppressMouseDown:!0});const _0=this._options.renderSideBySide.read(R),A0=!_0?(O=this._editors.modified._getViewModel())===null||O===void 0?void 0:O.createLineBreaksComputer():void 0;if(A0){const y1=this._editors.original.getModel();for(let g6 of u)if(g6.diff)for(let i7=g6.originalRange.startLineNumber;i7<g6.originalRange.endLineNumberExclusive;i7++){if(i7>y1.getLineCount())return{orig:i,mod:Y0};A0===null||A0===void 0||A0.addRequest(y1.getLineContent(i7),null,null)}}const f0=(_=A0===null||A0===void 0?void 0:A0.finalize())!==null&&_!==void 0?_:[];let l0=0;const k0=this._editors.modified.getOption(66),H0=(w=this._diffModel.read(R))===null||w===void 0?void 0:w.movedTextToCompare.read(R),A7=(x=(C=this._editors.original.getModel())===null||C===void 0?void 0:C.mightContainNonBasicASCII())!==null&&x!==void 0?x:!1,h6=(c=(g=this._editors.original.getModel())===null||g===void 0?void 0:g.mightContainRTL())!==null&&c!==void 0?c:!1,P7=jR.fromEditor(this._editors.modified);for(let y1 of u)if(y1.diff&&!_0){if(!y1.originalRange.isEmpty){W.read(R);const i7=document.createElement("div");i7.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const p6=this._editors.original.getModel();if(y1.originalRange.endLineNumberExclusive-1>p6.getLineCount())return{orig:i,mod:Y0};const X1=new vy(y1.originalRange.mapToLineArray((E6)=>p6.tokenization.getLineTokens(E6)),y1.originalRange.mapToLineArray((E6)=>f0[l0++]),A7,h6),QJ=[];for(let E6 of y1.diff.innerChanges||[])QJ.push(new zY(E6.originalRange.delta(-(y1.diff.original.startLineNumber-1)),rj.className,0));const YJ=po(X1,P7,QJ,i7),e5=document.createElement("div");if(e5.className="inline-deleted-margin-view-zone",T8(e5,P7.fontInfo),this._options.renderIndicators.read(R))for(let E6=0;E6<YJ.heightInLines;E6++){const rJ=document.createElement("div");rJ.className=`delete-sign ${y0.asClassName(Ry)}`,rJ.setAttribute("style",`position:absolute;top:${E6*k0}px;width:${P7.lineDecorationsWidth}px;height:${k0}px;right:0;`),e5.appendChild(rJ)}let UX=void 0;A.add(new by(()=>fW(UX),e5,this._editors.modified,y1.diff,this._diffEditorWidget,YJ.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let E6=0;E6<YJ.viewLineCounts.length;E6++){const rJ=YJ.viewLineCounts[E6];if(rJ>1)i.push({afterLineNumber:y1.originalRange.startLineNumber+E6,domNode:P(),heightInPx:(rJ-1)*k0,showInHiddenAreas:!0,suppressMouseDown:!0})}Y0.push({afterLineNumber:y1.modifiedRange.startLineNumber-1,domNode:i7,heightInPx:YJ.heightInLines*k0,minWidthInPx:YJ.minWidthInPx,marginDomNode:e5,setZoneId(E6){UX=E6},showInHiddenAreas:!0,suppressMouseDown:!0})}const g6=document.createElement("div");g6.className="gutter-delete",i.push({afterLineNumber:y1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:y1.modifiedHeightInPx,marginDomNode:g6,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const g6=y1.modifiedHeightInPx-y1.originalHeightInPx;if(g6>0){if(H0===null||H0===void 0?void 0:H0.lineRangeMapping.original.delta(-1).deltaLength(2).contains(y1.originalRange.endLineNumberExclusive-1))continue;i.push({afterLineNumber:y1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:g6,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let i7=function(){const X1=document.createElement("div");return X1.className="arrow-revert-change "+y0.asClassName(U0.arrowRight),M.add(m(X1,"mousedown",(QJ)=>QJ.stopPropagation())),M.add(m(X1,"click",(QJ)=>{QJ.stopPropagation(),Z.revert(y1.diff)})),q0("div",{},X1)};if(H0===null||H0===void 0?void 0:H0.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(y1.modifiedRange.endLineNumberExclusive-1))continue;let p6=void 0;if(y1.diff&&y1.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(R))p6=i7();Y0.push({afterLineNumber:y1.modifiedRange.endLineNumberExclusive-1,domNode:P(),heightInPx:-g6,marginDomNode:p6,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(let y1 of(b=K.read(R))!==null&&b!==void 0?b:[]){if(!(H0===null||H0===void 0?void 0:H0.lineRangeMapping.original.intersect(y1.originalRange))||!(H0===null||H0===void 0?void 0:H0.lineRangeMapping.modified.intersect(y1.modifiedRange)))continue;const g6=y1.modifiedHeightInPx-y1.originalHeightInPx;if(g6>0)i.push({afterLineNumber:y1.originalRange.endLineNumberExclusive-1,domNode:P(),heightInPx:g6,showInHiddenAreas:!0,suppressMouseDown:!0});else Y0.push({afterLineNumber:y1.modifiedRange.endLineNumberExclusive-1,domNode:P(),heightInPx:-g6,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:i,mod:Y0}});let D=!1;this._register(this._editors.original.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!D)D=!0,this._editors.modified.setScrollLeft(R.scrollLeft),D=!1})),this._register(this._editors.modified.onDidScrollChange((R)=>{if(R.scrollLeftChanged&&!D)D=!0,this._editors.original.setScrollLeft(R.scrollLeft),D=!1})),this._originalScrollTop=E8(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=E8(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register(M1((R)=>{const M=this._originalScrollTop.read(R)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(R))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(R));if(M!==this._editors.modified.getScrollTop())this._editors.modified.setScrollTop(M,1)})),this._register(M1((R)=>{const M=this._modifiedScrollTop.read(R)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(R))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(R));if(M!==this._editors.original.getScrollTop())this._editors.original.setScrollTop(M,1)})),this._register(M1((R)=>{var M;const O=(M=this._diffModel.read(R))===null||M===void 0?void 0:M.movedTextToCompare.read(R);let _=0;if(O){const w=this._editors.original.getTopForLineNumber(O.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();_=this._editors.modified.getTopForLineNumber(O.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-w}if(_>0)this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(_,void 0);else if(_<0)this._modifiedTopPadding.set(-_,void 0),this._originalTopPadding.set(0,void 0);else setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400);if(this._editors.modified.hasTextFocus())this._originalScrollOffset.set(this._modifiedScrollOffset.get()-_,void 0,!0);else this._modifiedScrollOffset.set(this._originalScrollOffset.get()+_,void 0,!0)}))}};WR=JX0([uo(8,oY),uo(9,n5)],WR)});var $X0,XX0,cJ,yQ;var fy=N(()=>{D0();V6();uK();X0();s7();c4();U1();u_();L7();r8();$X0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},XX0=function(J,$){return function(X,Q){$(X,Q,J)}},yQ=cJ=class J extends f{constructor($,X,Q,Y,Z,G,q){super();this._editors=$,this._rootElement=X,this._diffModel=Q,this._rootWidth=Y,this._rootHeight=Z,this._modifiedEditorLayoutInfo=G,this._themeService=q,this.width=cJ.ENTIRE_DIFF_OVERVIEW_WIDTH;const U=E8(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),H=i0((j)=>{const W=U.read(j),B=W.getColor(Ug)||(W.getColor(Gg)||IK).transparent(2),K=W.getColor(Hg)||(W.getColor(qg)||yK).transparent(2);return{insertColor:B,removeColor:K}}),z=t0(document.createElement("div"));z.setClassName("diffViewport"),z.setPosition("absolute");const V=p1("div.diffOverview",{style:{position:"absolute",top:"0px",width:cJ.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register(cj(V,z.domNode)),this._register(i1(V,$0.POINTER_DOWN,(j)=>{this._editors.modified.delegateVerticalScrollbarPointerDown(j)})),this._register(m(V,$0.MOUSE_WHEEL,(j)=>{this._editors.modified.delegateScrollFromMouseWheelEvent(j)},{passive:!1})),this._register(cj(this._rootElement,V)),this._register(H5((j,W)=>{const B=this._diffModel.read(j),K=this._editors.original.createOverviewRuler("original diffOverviewRuler");if(K)W.add(K),W.add(cj(V,K.getDomNode()));const P=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(P)W.add(P),W.add(cj(V,P.getDomNode()));if(!K||!P)return;const A=E5("viewZoneChanged",this._editors.original.onDidChangeViewZones),D=E5("viewZoneChanged",this._editors.modified.onDidChangeViewZones),R=E5("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=E5("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);W.add(M1((O)=>{var _;A.read(O),D.read(O),R.read(O),M.read(O);const w=H.read(O),C=(_=B===null||B===void 0?void 0:B.diff.read(O))===null||_===void 0?void 0:_.mappings;function x(b,u,i){const Y0=i._getViewModel();if(!Y0)return[];return b.filter((P0)=>P0.length>0).map((P0)=>{const R0=Y0.coordinatesConverter.convertModelPositionToViewPosition(new v(P0.startLineNumber,1)),_0=Y0.coordinatesConverter.convertModelPositionToViewPosition(new v(P0.endLineNumberExclusive,1)),A0=_0.lineNumber-R0.lineNumber;return new RA(R0.lineNumber,_0.lineNumber,A0,u.toString())})}const g=x((C||[]).map((b)=>b.lineRangeMapping.original),w.removeColor,this._editors.original),c=x((C||[]).map((b)=>b.lineRangeMapping.modified),w.insertColor,this._editors.modified);K===null||K===void 0||K.setZones(g),P===null||P===void 0||P.setZones(c)})),W.add(M1((O)=>{const _=this._rootHeight.read(O),w=this._rootWidth.read(O),C=this._modifiedEditorLayoutInfo.read(O);if(C){const x=cJ.ENTIRE_DIFF_OVERVIEW_WIDTH-2*cJ.ONE_OVERVIEW_WIDTH;K.setLayout({top:0,height:_,right:x+cJ.ONE_OVERVIEW_WIDTH,width:cJ.ONE_OVERVIEW_WIDTH}),P.setLayout({top:0,height:_,right:0,width:cJ.ONE_OVERVIEW_WIDTH});const g=this._editors.modifiedScrollTop.read(O),c=this._editors.modifiedScrollHeight.read(O),b=this._editors.modified.getOption(102),u=new tX(b.verticalHasArrows?b.arrowSize:0,b.verticalScrollbarSize,0,C.height,c,g);z.setTop(u.getSliderPosition()),z.setHeight(u.getSliderSize())}else z.setTop(0),z.setHeight(0);V.style.height=_+"px",V.style.left=w-cJ.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",z.setWidth(cJ.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};yQ.ONE_OVERVIEW_WIDTH=15;yQ.ENTIRE_DIFF_OVERVIEW_WIDTH=cJ.ONE_OVERVIEW_WIDTH*2;yQ=cJ=$X0([XX0(6,a8)],yQ)});class oj extends f{constructor(){super(...arguments);this._id=++oj.idCounter,this._onDidDispose=this._register(new y),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(J){return this._targetEditor.getVisibleColumnFromPosition(J)}getPosition(){return this._targetEditor.getPosition()}setPosition(J,$="api"){this._targetEditor.setPosition(J,$)}revealLine(J,$=0){this._targetEditor.revealLine(J,$)}revealLineInCenter(J,$=0){this._targetEditor.revealLineInCenter(J,$)}revealLineInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealLineInCenterIfOutsideViewport(J,$)}revealLineNearTop(J,$=0){this._targetEditor.revealLineNearTop(J,$)}revealPosition(J,$=0){this._targetEditor.revealPosition(J,$)}revealPositionInCenter(J,$=0){this._targetEditor.revealPositionInCenter(J,$)}revealPositionInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(J,$)}revealPositionNearTop(J,$=0){this._targetEditor.revealPositionNearTop(J,$)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(J,$="api"){this._targetEditor.setSelection(J,$)}setSelections(J,$="api"){this._targetEditor.setSelections(J,$)}revealLines(J,$,X=0){this._targetEditor.revealLines(J,$,X)}revealLinesInCenter(J,$,X=0){this._targetEditor.revealLinesInCenter(J,$,X)}revealLinesInCenterIfOutsideViewport(J,$,X=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(J,$,X)}revealLinesNearTop(J,$,X=0){this._targetEditor.revealLinesNearTop(J,$,X)}revealRange(J,$=0,X=!1,Q=!0){this._targetEditor.revealRange(J,$,X,Q)}revealRangeInCenter(J,$=0){this._targetEditor.revealRangeInCenter(J,$)}revealRangeInCenterIfOutsideViewport(J,$=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(J,$)}revealRangeNearTop(J,$=0){this._targetEditor.revealRangeNearTop(J,$)}revealRangeNearTopIfOutsideViewport(J,$=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(J,$)}revealRangeAtTop(J,$=0){this._targetEditor.revealRangeAtTop(J,$)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(J,$,X){this._targetEditor.trigger(J,$,X)}createDecorationsCollection(J){return this._targetEditor.createDecorationsCollection(J)}changeDecorations(J){return this._targetEditor.changeDecorations(J)}}var ao=N(()=>{F0();X0();oj.idCounter=0});var QX0,ro,BR;var io=N(()=>{F0();X0();s7();fy();J7();h0();m0();xJ();U1();QX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},ro=function(J,$){return function(X,Q){$(X,Q,J)}},BR=class J extends f{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor($,X,Q,Y,Z,G,q){super();this.originalEditorElement=$,this.modifiedEditorElement=X,this._options=Q,this._createInnerEditor=Z,this._instantiationService=G,this._keybindingService=q,this._onDidContentSizeChange=this._register(new y),this.original=this._register(this._createLeftHandSideEditor(Q.editorOptions.get(),Y.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(Q.editorOptions.get(),Y.modifiedEditor||{})),this.modifiedModel=E8(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=E8(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=E8(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=E8(this.modified.onDidChangeCursorSelection,()=>{var U;return(U=this.modified.getSelections())!==null&&U!==void 0?U:[]}),this.modifiedCursor=E8(this.modified.onDidChangeCursorPosition,()=>{var U;return(U=this.modified.getPosition())!==null&&U!==void 0?U:new v(1,1)}),this._register($Z({createEmptyChangeSummary:()=>({}),handleChange:(U,H)=>{if(U.didChange(Q.editorOptions))Object.assign(H,U.change.changedOptions);return!0}},(U,H)=>{Q.editorOptions.read(U),this._options.renderSideBySide.read(U),this.modified.updateOptions(this._adjustOptionsForRightHandSide(U,H)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(U,H))}))}_createLeftHandSideEditor($,X){const Q=this._adjustOptionsForLeftHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,Q,X);return Y.setContextValue("isInDiffLeftEditor",!0),Y}_createRightHandSideEditor($,X){const Q=this._adjustOptionsForRightHandSide(void 0,$),Y=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,Q,X);return Y.setContextValue("isInDiffRightEditor",!0),Y}_constructInnerEditor($,X,Q,Y){const Z=this._createInnerEditor($,X,Q,Y);return this._register(Z.onDidContentSizeChange((G)=>{const q=this.original.getContentWidth()+this.modified.getContentWidth()+yQ.ENTIRE_DIFF_OVERVIEW_WIDTH,U=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:U,contentWidth:q,contentHeightChanged:G.contentHeightChanged,contentWidthChanged:G.contentWidthChanged})})),Z}_adjustOptionsForLeftHandSide($,X){const Q=this._adjustOptionsForSubEditor(X);if(!this._options.renderSideBySide.get())Q.wordWrapOverride1="off",Q.wordWrapOverride2="off",Q.stickyScroll={enabled:!1},Q.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1};else Q.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},Q.wordWrapOverride1=this._options.diffWordWrap.get();if(Q.glyphMargin=this._options.renderSideBySide.get(),X.originalAriaLabel)Q.ariaLabel=X.originalAriaLabel;return Q.ariaLabel=this._updateAriaLabel(Q.ariaLabel),Q.readOnly=!this._options.originalEditable.get(),Q.dropIntoEditor={enabled:!Q.readOnly},Q.extraEditorClassName="original-in-monaco-diff-editor",Q}_adjustOptionsForRightHandSide($,X){const Q=this._adjustOptionsForSubEditor(X);if(X.modifiedAriaLabel)Q.ariaLabel=X.modifiedAriaLabel;return Q.ariaLabel=this._updateAriaLabel(Q.ariaLabel),Q.wordWrapOverride1=this._options.diffWordWrap.get(),Q.revealHorizontalRightPadding=eJ.revealHorizontalRightPadding.defaultValue+yQ.ENTIRE_DIFF_OVERVIEW_WIDTH,Q.scrollbar.verticalHasArrows=!1,Q.extraEditorClassName="modified-in-monaco-diff-editor",Q}_adjustOptionsForSubEditor($){const X={...$,dimension:{height:0,width:0}};if(X.inDiffEditor=!0,X.automaticLayout=!1,X.scrollbar={...X.scrollbar||{}},X.folding=!1,X.codeLens=this._options.diffCodeLens.get(),X.fixedOverflowWidgets=!0,X.minimap={...X.minimap||{}},X.minimap.enabled=!1,this._options.hideUnchangedRegions.get())X.stickyScroll={enabled:!1};else X.stickyScroll=this._options.editorOptions.get().stickyScroll;return X}_updateAriaLabel($){var X;if(!$)$="";const Q=F("diff-aria-navigation-tip"," use {0} to open the accessibility help.",(X=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||X===void 0?void 0:X.getAriaLabel());if(this._options.accessibilityVerbose.get())return $+Q;else if($)return $.replaceAll(Q,"");return""}};BR=QX0([ro(5,g0),ro(6,l8)],BR)});class hy{get editorOptions(){return this._options}constructor(J){this._diffEditorWidth=P1(this,0),this.couldShowInlineViewBecauseOfSize=i0(this,(X)=>this._options.read(X).renderSideBySide&&this._diffEditorWidth.read(X)<=this._options.read(X).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=i0(this,(X)=>this._options.read(X).renderOverviewRuler),this.renderSideBySide=i0(this,(X)=>this._options.read(X).renderSideBySide&&!(this._options.read(X).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(X))),this.readOnly=i0(this,(X)=>this._options.read(X).readOnly),this.shouldRenderRevertArrows=i0(this,(X)=>{if(!this._options.read(X).renderMarginRevertIcon)return!1;if(!this.renderSideBySide.read(X))return!1;if(this.readOnly.read(X))return!1;return!0}),this.renderIndicators=i0(this,(X)=>this._options.read(X).renderIndicators),this.enableSplitViewResizing=i0(this,(X)=>this._options.read(X).enableSplitViewResizing),this.splitViewDefaultRatio=i0(this,(X)=>this._options.read(X).splitViewDefaultRatio),this.ignoreTrimWhitespace=i0(this,(X)=>this._options.read(X).ignoreTrimWhitespace),this.maxComputationTimeMs=i0(this,(X)=>this._options.read(X).maxComputationTime),this.showMoves=i0(this,(X)=>this._options.read(X).experimental.showMoves&&this.renderSideBySide.read(X)),this.isInEmbeddedEditor=i0(this,(X)=>this._options.read(X).isInEmbeddedEditor),this.diffWordWrap=i0(this,(X)=>this._options.read(X).diffWordWrap),this.originalEditable=i0(this,(X)=>this._options.read(X).originalEditable),this.diffCodeLens=i0(this,(X)=>this._options.read(X).diffCodeLens),this.accessibilityVerbose=i0(this,(X)=>this._options.read(X).accessibilityVerbose),this.diffAlgorithm=i0(this,(X)=>this._options.read(X).diffAlgorithm),this.showEmptyDecorations=i0(this,(X)=>this._options.read(X).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=i0(this,(X)=>this._options.read(X).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=i0(this,(X)=>this._options.read(X).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=i0(this,(X)=>this._options.read(X).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=i0(this,(X)=>this._options.read(X).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=i0(this,(X)=>this._options.read(X).hideUnchangedRegions.minimumLineCount);const $={...J,...no(J,j7)};this._options=P1(this,$)}updateOptions(J){const $=no(J,this._options.get()),X={...this._options.get(),...J,...$};this._options.set(X,void 0,{changedOptions:J})}setWidth(J){this._diffEditorWidth.set(J,void 0)}}var no;var oo=N(()=>{s7();uE();J7();no=function(J,$){var X,Q,Y,Z,G,q,U,H;return{enableSplitViewResizing:T0(J.enableSplitViewResizing,$.enableSplitViewResizing),splitViewDefaultRatio:EC(J.splitViewDefaultRatio,0.5,0.1,0.9),renderSideBySide:T0(J.renderSideBySide,$.renderSideBySide),renderMarginRevertIcon:T0(J.renderMarginRevertIcon,$.renderMarginRevertIcon),maxComputationTime:gQ(J.maxComputationTime,$.maxComputationTime,0,1073741824),maxFileSize:gQ(J.maxFileSize,$.maxFileSize,0,1073741824),ignoreTrimWhitespace:T0(J.ignoreTrimWhitespace,$.ignoreTrimWhitespace),renderIndicators:T0(J.renderIndicators,$.renderIndicators),originalEditable:T0(J.originalEditable,$.originalEditable),diffCodeLens:T0(J.diffCodeLens,$.diffCodeLens),renderOverviewRuler:T0(J.renderOverviewRuler,$.renderOverviewRuler),diffWordWrap:y8(J.diffWordWrap,$.diffWordWrap,["off","on","inherit"]),diffAlgorithm:y8(J.diffAlgorithm,$.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:T0(J.accessibilityVerbose,$.accessibilityVerbose),experimental:{showMoves:T0((X=J.experimental)===null||X===void 0?void 0:X.showMoves,$.experimental.showMoves),showEmptyDecorations:T0((Q=J.experimental)===null||Q===void 0?void 0:Q.showEmptyDecorations,$.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:T0((Z=(Y=J.hideUnchangedRegions)===null||Y===void 0?void 0:Y.enabled)!==null&&Z!==void 0?Z:(G=J.experimental)===null||G===void 0?void 0:G.collapseUnchangedRegions,$.hideUnchangedRegions.enabled),contextLineCount:gQ((q=J.hideUnchangedRegions)===null||q===void 0?void 0:q.contextLineCount,$.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:gQ((U=J.hideUnchangedRegions)===null||U===void 0?void 0:U.minimumLineCount,$.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:gQ((H=J.hideUnchangedRegions)===null||H===void 0?void 0:H.revealLineCount,$.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:T0(J.isInEmbeddedEditor,$.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:T0(J.onlyShowAccessibleDiffViewer,$.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:gQ(J.renderSideBySideInlineBreakpoint,$.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:T0(J.useInlineViewWhenSpaceIsLimited,$.useInlineViewWhenSpaceIsLimited)}}});class gy extends f{constructor(J,$,X,Q){super();this._editors=J,this._diffModel=$,this._options=X,this._widget=Q;const Y=[],Z=i0(this,(G)=>{const q=this._diffModel.read(G),U=q===null||q===void 0?void 0:q.diff.read(G);if(!U)return Y;const H=this._editors.modifiedSelections.read(G);if(H.every((W)=>W.isEmpty()))return Y;const z=new p5(H.map((W)=>S0.fromRangeInclusive(W))),j=U.mappings.filter((W)=>W.lineRangeMapping.innerChanges&&z.intersects(W.lineRangeMapping.modified)).map((W)=>({mapping:W,rangeMappings:W.lineRangeMapping.innerChanges.filter((B)=>H.some((K)=>L.areIntersecting(B.modifiedRange,K)))}));if(j.length===0||j.every((W)=>W.rangeMappings.length===0))return Y;return j});this._register(H5((G,q)=>{const U=this._diffModel.read(G),H=U===null||U===void 0?void 0:U.diff.read(G);if(!U||!H)return;if(this._diffModel.read(G).movedTextToCompare.read(G))return;if(!this._options.shouldRenderRevertArrows.read(G))return;const V=[],j=Z.read(G),W=new Set(j.map((B)=>B.mapping));if(j.length>0){const B=this._editors.modifiedSelections.read(G),K=q.add(new tj(B[B.length-1].positionLineNumber,this._widget,j.flatMap((P)=>P.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(K),V.push(K)}for(let B of H.mappings){if(W.has(B))continue;if(!B.lineRangeMapping.modified.isEmpty&&B.lineRangeMapping.innerChanges){const K=q.add(new tj(B.lineRangeMapping.modified.startLineNumber,this._widget,B.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(K),V.push(K)}}q.add(K0(()=>{for(let B of V)this._editors.modified.removeGlyphMarginWidget(B)}))}))}}class tj extends f{getId(){return this._id}constructor(J,$,X,Q){super();this._lineNumber=J,this._widget=$,this._diffs=X,this._selection=Q,this._id=`revertButton${tj.counter++}`,this._domNode=p1("div.revertButton",{title:this._selection?F("revertSelectedChanges","Revert Selected Changes"):F("revertChange","Revert Change")},[x3(U0.arrowRight)]).root,this._register(m(this._domNode,$0.MOUSE_DOWN,(Y)=>{if(Y.button!==2)Y.stopPropagation(),Y.preventDefault()})),this._register(m(this._domNode,$0.MOUSE_UP,(Y)=>{Y.stopPropagation(),Y.preventDefault()})),this._register(m(this._domNode,$0.CLICK,(Y)=>{this._widget.revertRangeMappings(this._diffs),Y.stopPropagation(),Y.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:m9.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}var to=N(()=>{D0();oG();z6();X0();s7();m5();c0();g5();h0();tj.counter=0});var ZX0,YX0,ej,wU;var py=N(()=>{D0();V4();D1();F0();X0();s7();gj();Fo();x9();G9();uj();XP();_o();Io();yo();So();so();Dy();fy();c4();U1();c0();jz();YQ();T2();m1();m0();k3();pV();ao();io();oo();xy();to();ZX0=function(J){return J.mappings.map(($)=>{const X=$.lineRangeMapping;let Q,Y,Z,G,q=X.innerChanges;if(X.original.isEmpty)Q=X.original.startLineNumber-1,Y=0,q=void 0;else Q=X.original.startLineNumber,Y=X.original.endLineNumberExclusive-1;if(X.modified.isEmpty)Z=X.modified.startLineNumber-1,G=0,q=void 0;else Z=X.modified.startLineNumber,G=X.modified.endLineNumberExclusive-1;return{originalStartLineNumber:Q,originalEndLineNumber:Y,modifiedStartLineNumber:Z,modifiedEndLineNumber:G,charChanges:q===null||q===void 0?void 0:q.map((U)=>({originalStartLineNumber:U.originalRange.startLineNumber,originalStartColumn:U.originalRange.startColumn,originalEndLineNumber:U.originalRange.endLineNumber,originalEndColumn:U.originalRange.endColumn,modifiedStartLineNumber:U.modifiedRange.startLineNumber,modifiedStartColumn:U.modifiedRange.startColumn,modifiedEndLineNumber:U.modifiedRange.endLineNumber,modifiedEndColumn:U.modifiedRange.endColumn}))}})},YX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},ej=function(J,$){return function(X,Q){$(X,Q,J)}},wU=class J extends oj{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor($,X,Q,Y,Z,G,q,U){var H;super();this._domElement=$,this._parentContextKeyService=Y,this._parentInstantiationService=Z,this._audioCueService=q,this._editorProgressService=U,this.elements=p1("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[p1("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[q0("span",{},"No Changes")]),p1("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),p1("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),p1("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=P1(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=J0.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new y4([v0,this._contextKeyService])),this._boundarySashes=P1(this,void 0),this._accessibleDiffViewerShouldBeVisible=P1(this,!1),this._accessibleDiffViewerVisible=i0(this,(M)=>this._options.onlyShowAccessibleDiffViewer.read(M)?!0:this._accessibleDiffViewerShouldBeVisible.read(M)),this._movedBlocksLinesPart=P1(this,void 0),this._layoutInfo=i0(this,(M)=>{var O,_,w,C,x;const g=this._rootSizeObserver.width.read(M),c=this._rootSizeObserver.height.read(M),b=(O=this._sash.read(M))===null||O===void 0?void 0:O.sashLeft.read(M),u=b!==null&&b!==void 0?b:Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),i=g-u-((w=(_=this._overviewRulerPart.read(M))===null||_===void 0?void 0:_.width)!==null&&w!==void 0?w:0),Y0=(x=(C=this._movedBlocksLinesPart.read(M))===null||C===void 0?void 0:C.width.read(M))!==null&&x!==void 0?x:0,P0=u-Y0;return this.elements.original.style.width=P0+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=i+"px",this.elements.modified.style.left=u+"px",this._editors.original.layout({width:P0,height:c},!0),this._editors.modified.layout({width:i,height:c},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((M,O)=>M===null||M===void 0?void 0:M.diff.read(O)),this.onDidUpdateDiff=J0.fromObservableLight(this._diffValue),G.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register(K0(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new lj(this.elements.root,X.dimension)),this._rootSizeObserver.setAutomaticLayout((H=X.automaticLayout)!==null&&H!==void 0?H:!1),this._options=new hy(X),this._register(M1((M)=>{this._options.setWidth(this._rootSizeObserver.width.read(M))})),this._contextKeyService.createKey(n.isEmbeddedDiffEditor.key,!1),this._register(sj(n.isEmbeddedDiffEditor,this._contextKeyService,(M)=>this._options.isInEmbeddedEditor.read(M))),this._register(sj(n.comparingMovedCode,this._contextKeyService,(M)=>{var O;return!!((O=this._diffModel.read(M))===null||O===void 0?void 0:O.movedTextToCompare.read(M))})),this._register(sj(n.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,(M)=>this._options.couldShowInlineViewBecauseOfSize.read(M))),this._register(sj(n.hasChanges,this._contextKeyService,(M)=>{var O,_,w;return((w=(_=(O=this._diffModel.read(M))===null||O===void 0?void 0:O.diff.read(M))===null||_===void 0?void 0:_.mappings.length)!==null&&w!==void 0?w:0)>0})),this._editors=this._register(this._instantiationService.createInstance(BR,this.elements.original,this.elements.modified,this._options,Q,(M,O,_,w)=>this._createInnerEditor(M,O,_,w))),this._overviewRulerPart=QX(this,(M)=>!this._options.renderOverviewRuler.read(M)?void 0:this._instantiationService.createInstance(e9(yQ,M),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map((O)=>O.modifiedEditor))).recomputeInitiallyAndOnChange(this._store),this._sash=QX(this,(M)=>{const O=this._options.renderSideBySide.read(M);return this.elements.root.classList.toggle("side-by-side",O),!O?void 0:new Ey(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((_,w)=>{var C,x;return _-((x=(C=this._overviewRulerPart.read(w))===null||C===void 0?void 0:C.width)!==null&&x!==void 0?x:0)})},this._boundarySashes)}).recomputeInitiallyAndOnChange(this._store);const z=QX(this,(M)=>this._instantiationService.createInstance(e9(ij,M),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);QX(this,(M)=>this._instantiationService.createInstance(e9(Ly,M),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const V=new Set,j=new Set;let W=!1;const B=QX(this,(M)=>this._instantiationService.createInstance(e9(WR,M),B0(this._domElement),this._editors,this._diffModel,this._options,this,()=>W||z.get().isUpdatingHiddenAreas,V,j)).recomputeInitiallyAndOnChange(this._store),K=i0(this,(M)=>{const O=B.read(M).viewZones.read(M).orig,_=z.read(M).viewZones.read(M).origViewZones;return O.concat(_)}),P=i0(this,(M)=>{const O=B.read(M).viewZones.read(M).mod,_=z.read(M).viewZones.read(M).modViewZones;return O.concat(_)});this._register(_U(this._editors.original,K,(M)=>{W=M},V));let A;this._register(_U(this._editors.modified,P,(M)=>{if(W=M,W)A=mJ.capture(this._editors.modified);else A===null||A===void 0||A.restore(this._editors.modified),A=void 0},j)),this._accessibleDiffViewer=QX(this,(M)=>this._instantiationService.createInstance(e9(IQ,M),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(O,_)=>this._accessibleDiffViewerShouldBeVisible.set(O,_),this._options.onlyShowAccessibleDiffViewer.map((O)=>!O),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((O,_)=>{var w;return(w=O===null||O===void 0?void 0:O.diff.read(_))===null||w===void 0?void 0:w.mappings.map((C)=>C.lineRangeMapping)}),this._editors)).recomputeInitiallyAndOnChange(this._store);const D=this._accessibleDiffViewerVisible.map((M)=>M?"hidden":"visible");this._register(uJ(this.elements.modified,{visibility:D})),this._register(uJ(this.elements.original,{visibility:D})),this._createDiffEditorContributions(),G.addDiffEditor(this),this._register(XZ(this._layoutInfo)),QX(this,(M)=>new(e9(YX,M))(this.elements.root,this._diffModel,this._layoutInfo.map((O)=>O.originalEditor),this._layoutInfo.map((O)=>O.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,(M)=>{this._movedBlocksLinesPart.set(M,void 0)}),this._register(uJ(this.elements.overlay,{width:this._layoutInfo.map((M,O)=>M.originalEditor.width+(this._options.renderSideBySide.read(O)?0:M.modifiedEditor.width)),visibility:i0((M)=>{var O,_;return this._options.hideUnchangedRegions.read(M)&&((_=(O=this._diffModel.read(M))===null||O===void 0?void 0:O.diff.read(M))===null||_===void 0?void 0:_.mappings.length)===0?"visible":"hidden"})})),this._register(J0.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,(M)=>{var O,_;if((M===null||M===void 0?void 0:M.reason)===3){const w=(_=(O=this._diffModel.get())===null||O===void 0?void 0:O.diff.get())===null||_===void 0?void 0:_.mappings.find((C)=>C.lineRangeMapping.modified.contains(M.position.lineNumber));if(w===null||w===void 0?void 0:w.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue($1.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"});else if(w===null||w===void 0?void 0:w.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue($1.diffLineInserted,{source:"diffEditor.cursorPositionChanged"});else if(w)this._audioCueService.playAudioCue($1.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const R=this._diffModel.map(this,(M,O)=>{if(!M)return;return M.diff.read(O)===void 0&&!M.isDiffUpToDate.read(O)});this._register(H5((M,O)=>{if(R.read(M)===!0){const _=this._editorProgressService.show(!0,1000);O.add(K0(()=>_.done()))}})),this._register(K0(()=>{var M;if(this._shouldDisposeDiffModel)(M=this._diffModel.get())===null||M===void 0||M.dispose()})),this._register(new gy(this._editors,this._diffModel,this._options,this))}_createInnerEditor($,X,Q,Y){return $.createInstance(AQ,X,Q,Y)}_createDiffEditorContributions(){const $=eQ.getDiffEditorContributions();for(let X of $)try{this._register(this._instantiationService.createInstance(X.ctor,this))}catch(Q){n0(Q)}}get _targetEditor(){return this._editors.modified}getEditorType(){return UY.IDiffEditor}layout($){this._rootSizeObserver.observe($)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var $;const X=this._editors.original.saveViewState(),Q=this._editors.modified.saveViewState();return{original:X,modified:Q,modelState:($=this._diffModel.get())===null||$===void 0?void 0:$.serializeState()}}restoreViewState($){var X;if($&&$.original&&$.modified){const Q=$;if(this._editors.original.restoreViewState(Q.original),this._editors.modified.restoreViewState(Q.modified),Q.modelState)(X=this._diffModel.get())===null||X===void 0||X.restoreSerializedState(Q.modelState)}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel($){return this._instantiationService.createInstance(zR,$,this._options)}getModel(){var $,X;return(X=($=this._diffModel.get())===null||$===void 0?void 0:$.model)!==null&&X!==void 0?X:null}setModel($,X){if(!$&&this._diffModel.get())this._accessibleDiffViewer.get().close();const Q=$?"model"in $?{model:$,shouldDispose:!1}:{model:this.createViewModel($),shouldDispose:!0}:void 0;if(this._diffModel.get()!==(Q===null||Q===void 0?void 0:Q.model))N2(X,(Y)=>{var Z;E8.batchEventsGlobally(Y,()=>{this._editors.original.setModel(Q?Q.model.model.original:null),this._editors.modified.setModel(Q?Q.model.model.modified:null)});const G=this._diffModel.get(),q=this._shouldDisposeDiffModel;if(this._shouldDisposeDiffModel=(Z=Q===null||Q===void 0?void 0:Q.shouldDispose)!==null&&Z!==void 0?Z:!1,this._diffModel.set(Q===null||Q===void 0?void 0:Q.model,Y),q)G===null||G===void 0||G.dispose()})}updateOptions($){this._options.updateOptions($)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get();if(!X)return null;return ZX0(X)}revert($){if($.innerChanges){this.revertRangeMappings($.innerChanges);return}const X=this._diffModel.get();if(!X||!X.isDiffUpToDate.get())return;this._editors.modified.executeEdits("diffEditor",[{range:$.modified.toExclusiveRange(),text:X.model.original.getValueInRange($.original.toExclusiveRange())}])}revertRangeMappings($){const X=this._diffModel.get();if(!X||!X.isDiffUpToDate.get())return;const Q=$.map((Y)=>({range:Y.modifiedRange,text:X.model.original.getValueInRange(Y.originalRange)}));this._editors.modified.executeEdits("diffEditor",Q)}_goTo($){this._editors.modified.setPosition(new v($.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter($.lineRangeMapping.modified.toExclusiveRange())}goToDiff($){var X,Q,Y,Z;const G=(Q=(X=this._diffModel.get())===null||X===void 0?void 0:X.diff.get())===null||Q===void 0?void 0:Q.mappings;if(!G||G.length===0)return;const q=this._editors.modified.getPosition().lineNumber;let U;if($==="next")U=(Y=G.find((H)=>H.lineRangeMapping.modified.startLineNumber>q))!==null&&Y!==void 0?Y:G[0];else U=(Z=KG(G,(H)=>H.lineRangeMapping.modified.startLineNumber<q))!==null&&Z!==void 0?Z:G[G.length-1];if(this._goTo(U),U.lineRangeMapping.modified.isEmpty)this._audioCueService.playAudioCue($1.diffLineDeleted,{source:"diffEditor.goToDiff"});else if(U.lineRangeMapping.original.isEmpty)this._audioCueService.playAudioCue($1.diffLineInserted,{source:"diffEditor.goToDiff"});else if(U)this._audioCueService.playAudioCue($1.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const $=this._diffModel.get();if(!$)return;this.waitForDiff().then(()=>{var X;const Q=(X=$.diff.get())===null||X===void 0?void 0:X.mappings;if(!Q||Q.length===0)return;this._goTo(Q[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const $=this._diffModel.get();if(!$)return;await $.waitForDiff()}mapToOtherSide(){var $,X;const Q=this._editors.modified.hasWidgetFocus(),Y=Q?this._editors.modified:this._editors.original,Z=Q?this._editors.original:this._editors.modified;let G;const q=Y.getSelection();if(q){const U=(X=($=this._diffModel.get())===null||$===void 0?void 0:$.diff.get())===null||X===void 0?void 0:X.mappings.map((H)=>Q?H.lineRangeMapping.flip():H.lineRangeMapping);if(U){const H=jy(q.getStartPosition(),U),z=jy(q.getEndPosition(),U);G=L.plusRange(H,z)}}return{destination:Z,destinationSelection:G}}switchSide(){const{destination:$,destinationSelection:X}=this.mapToOtherSide();if($.focus(),X)$.setSelection(X)}exitCompareMove(){const $=this._diffModel.get();if(!$)return;$.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!X)return;M8((Q)=>{for(let Y of X)Y.collapseAll(Q)})}showAllUnchangedRegions(){var $;const X=($=this._diffModel.get())===null||$===void 0?void 0:$.unchangedRegions.get();if(!X)return;M8((Q)=>{for(let Y of X)Y.showAll(Q)})}};wU=YX0([ej(3,v0),ej(4,g0),ej(5,l1),ej(6,o9),ej(7,MQ)],wU)});function uy(J,$,X,Q,Y){if(X=X||"",!Q){const Z=X.indexOf("\n");let G=X;if(Z!==-1)G=X.substring(0,Z);return Jt(J,X,$.createByFilepathOrFirstLine(Y||null,G),Y)}return Jt(J,X,$.createById(Q),Y)}var qX0,Jt,my,H8,GX0,eo,FR,KR,AR;var $t=N(()=>{VY();X0();G9();XP();Jw();JR();wj();DJ();X5();h7();m1();DQ();m0();xJ();FQ();r8();K4();tE();Ej();pV();_X();f9();iL();wJ();g7();d9();py();T2();X7();qX0=function(J){if(!J){if(eo)return;eo=!0}Xh(J||B1.document.body)};Jt=function(J,$,X,Q){return J.createModel($,X,Q)},my=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},H8=function(J,$){return function(X,Q){$(X,Q,J)}},GX0=0,eo=!1,FR=class J extends AQ{constructor($,X,Q,Y,Z,G,q,U,H,z,V,j){const W={...X};W.ariaLabel=W.ariaLabel||cV.editorViewAccessibleLabel,W.ariaLabel=W.ariaLabel+";"+cV.accessibilityHelpMessage;super($,W,{},Q,Y,Z,G,U,H,z,V,j);if(q instanceof tY)this._standaloneKeybindingService=q;else this._standaloneKeybindingService=null;qX0(W.ariaContainerElement)}addCommand($,X,Q){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Y="DYNAMIC_"+ ++GX0,Z=N0.deserialize(Q);return this._standaloneKeybindingService.addDynamicKeybinding(Y,$,X,Z),Y}createContextKey($,X){return this._contextKeyService.createKey($,X)}addAction($){if(typeof $.id!=="string"||typeof $.label!=="string"||typeof $.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.None;const{id:X,label:Q}=$,Y=N0.and(N0.equals("editorId",this.getId()),N0.deserialize($.precondition)),Z=$.keybindings,G=N0.and(Y,N0.deserialize($.keybindingContext)),q=$.contextMenuGroupId||null,U=$.contextMenuOrder||0,H=(W,...B)=>{return Promise.resolve($.run(this,...B))},z=new r,V=this.getId()+":"+X;if(z.add(V8.registerCommand(V,H)),q){const W={command:{id:V,title:Q},when:Y,group:q,order:U};z.add(H$.appendMenuItem(I.EditorContext,W))}if(Array.isArray(Z))for(let W of Z)z.add(this._standaloneKeybindingService.addDynamicKeybinding(V,W,H,G));const j=new az(V,Q,Q,void 0,Y,(...W)=>Promise.resolve($.run(this,...W)),this._contextKeyService);return this._actions.set(X,j),z.add(K0(()=>{this._actions.delete(X)})),z}_triggerCommand($,X){if(this._codeEditorService instanceof _V)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand($,X)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand($,X)}};FR=my([H8(2,g0),H8(3,l1),H8(4,B6),H8(5,v0),H8(6,l8),H8(7,a8),H8(8,i6),H8(9,_7),H8(10,N8),H8(11,K1)],FR);KR=class J extends FR{constructor($,X,Q,Y,Z,G,q,U,H,z,V,j,W,B,K){const P={...X};xj(z,P,!1);const A=U.registerEditorContainer($);if(typeof P.theme==="string")U.setTheme(P.theme);if(typeof P.autoDetectHighContrast!=="undefined")U.setAutoDetectHighContrast(Boolean(P.autoDetectHighContrast));const D=P.model;delete P.model;super($,P,Q,Y,Z,G,q,U,H,V,B,K);this._configurationService=z,this._standaloneThemeService=U,this._register(A);let R;if(typeof D==="undefined"){const M=W.getLanguageIdByMimeType(P.language)||P.language||T6;R=uy(j,W,P.value||"",M,void 0),this._ownsModel=!0}else R=D,this._ownsModel=!1;if(this._attachModel(R),R){const M={oldModelUrl:null,newModelUrl:R.uri};this._onDidChangeModel.fire(M)}}dispose(){super.dispose()}updateOptions($){if(xj(this._configurationService,$,!1),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_postDetachModelCleanup($){if(super._postDetachModelCleanup($),$&&this._ownsModel)$.dispose(),this._ownsModel=!1}};KR=my([H8(2,g0),H8(3,l1),H8(4,B6),H8(5,v0),H8(6,l8),H8(7,w5),H8(8,i6),H8(9,S1),H8(10,_7),H8(11,j6),H8(12,e1),H8(13,N8),H8(14,K1)],KR);AR=class J extends wU{constructor($,X,Q,Y,Z,G,q,U,H,z,V,j){const W={...X};xj(U,W,!0);const B=G.registerEditorContainer($);if(typeof W.theme==="string")G.setTheme(W.theme);if(typeof W.autoDetectHighContrast!=="undefined")G.setAutoDetectHighContrast(Boolean(W.autoDetectHighContrast));super($,W,{},Y,Q,Z,j,z);this._configurationService=U,this._standaloneThemeService=G,this._register(B)}dispose(){super.dispose()}updateOptions($){if(xj(this._configurationService,$,!0),typeof $.theme==="string")this._standaloneThemeService.setTheme($.theme);if(typeof $.autoDetectHighContrast!=="undefined")this._standaloneThemeService.setAutoDetectHighContrast(Boolean($.autoDetectHighContrast));super.updateOptions($)}_createInnerEditor($,X,Q){return $.createInstance(FR,X,Q)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand($,X,Q){return this.getModifiedEditor().addCommand($,X,Q)}createContextKey($,X){return this.getModifiedEditor().createContextKey($,X)}addAction($){return this.getModifiedEditor().addAction($)}};AR=my([H8(2,g0),H8(3,v0),H8(4,l1),H8(5,w5),H8(6,i6),H8(7,S1),H8(8,n5),H8(9,MQ),H8(10,oY),H8(11,o9)],AR)});var Xt=N(()=>{q1();V0(".monaco-component.multiDiffEditor{background:var(--vscode-multiDiffEditor-background);overflow-y:hidden}.monaco-component .multiDiffEntry{border-bottom:1px solid var(--vscode-multiDiffEditor-border);flex-direction:column;flex:1;display:flex;overflow:hidden}.monaco-component .multiDiffEntry .collapse-button{cursor:pointer;margin:0 5px}.monaco-component .multiDiffEntry .collapse-button a{display:block}.monaco-component .multiDiffEntry .header{color:var(--vscode-foreground);background:var(--vscode-editor-background);z-index:1000;border-top:1px solid var(--vscode-multiDiffEditor-border);border-bottom:1px solid var(--vscode-sideBarSectionHeader-border);align-items:center;padding:8px 5px;display:flex}.monaco-component .multiDiffEntry .header.shadow{box-shadow:var(--vscode-scrollbar-shadow)0px 6px 6px -6px}.monaco-component .multiDiffEntry .header .file-path{flex:1;min-width:0;display:flex}.monaco-component .multiDiffEntry .header .file-path .title{font-size:14px;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .status{opacity:.75;margin:0 10px;font-weight:600;line-height:22px}.monaco-component .multiDiffEntry .header .file-path .title.original{text-overflow:ellipsis;flex:1;min-width:0}.monaco-component .multiDiffEntry .header .actions{padding:0 8px}.monaco-component .multiDiffEntry .editorParent{flex-direction:column;flex:1;display:flex}.monaco-component .multiDiffEntry .editorContainer{flex:1}")});var Qt=N(()=>{q1();V0(".monaco-toolbar{height:100%}.monaco-toolbar .toolbar-toggle-more{padding:0;display:inline-block}")});class cy extends f{constructor(J,$,X={orientation:0}){super();this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new NM),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new r),this.options=X,this.lookupKeybindings=typeof this.options.getKeyBinding==="function",this.toggleMenuAction=this._register(new JW(()=>{var Q;return(Q=this.toggleMenuActionViewItem)===null||Q===void 0?void 0:Q.show()},X.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",J.appendChild(this.element),this.actionBar=this._register(new W7(this.element,{orientation:X.orientation,ariaLabel:X.ariaLabel,actionRunner:X.actionRunner,allowContextMenu:X.allowContextMenu,highlightToggledItems:X.highlightToggledItems,actionViewItemProvider:(Q,Y)=>{var Z;if(Q.id===JW.ID)return this.toggleMenuActionViewItem=new H2(Q,Q.menuActions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y0.asClassNameArray((Z=X.moreIcon)!==null&&Z!==void 0?Z:U0.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(X.actionViewItemProvider){const G=X.actionViewItemProvider(Q,Y);if(G)return G}if(Q instanceof LX){const G=new H2(Q,Q.actions,$,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Q.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return G.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(G),this.disposables.add(this._onDidChangeDropdownVisibility.add(G.onDidChangeVisibility)),G}return}}))}set actionRunner(J){this.actionBar.actionRunner=J}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(J){return this.actionBar.getAction(J)}setActions(J,$){this.clear();const X=J?J.slice(0):[];if(this.hasSecondaryActions=!!($&&$.length>0),this.hasSecondaryActions&&$)this.toggleMenuAction.menuActions=$.slice(0),X.push(this.toggleMenuAction);X.forEach((Q)=>{this.actionBar.push(Q,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(Q)})})}getKeybindingLabel(J){var $,X,Q;const Y=this.lookupKeybindings?(X=($=this.options).getKeyBinding)===null||X===void 0?void 0:X.call($,J):void 0;return(Q=Y===null||Y===void 0?void 0:Y.getLabel())!==null&&Q!==void 0?Q:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class JW extends P5{constructor(J,$){$=$||F("moreActions","More Actions...");super(JW.ID,$,void 0,!0);this._menuActions=[],this.toggleDropdownMenu=J}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(J){this._menuActions=J}}var Yt=N(()=>{o$();Pk();$5();z6();W6();F0();X0();Qt();h0();JW.ID="toolbar.toggle.more"});var Zt,ZX,ly,PR;var Gt=N(()=>{D0();k9();Yt();$5();H1();Sk();D1();F0();_9();X0();h0();JD();DJ();m1();DQ();xJ();iQ();Zt=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},ZX=function(J,$){return function(X,Q){$(X,Q,J)}},ly=class J extends cy{constructor($,X,Q,Y,Z,G,q){super($,Z,{getKeyBinding:(H)=>{var z;return(z=G.lookupKeybinding(H.id))!==null&&z!==void 0?z:void 0},...X,allowContextMenu:!0,skipTelemetry:typeof(X===null||X===void 0?void 0:X.telemetrySource)==="string"});this._options=X,this._menuService=Q,this._contextKeyService=Y,this._contextMenuService=Z,this._sessionDisposables=this._store.add(new r);const U=X===null||X===void 0?void 0:X.telemetrySource;if(U)this._store.add(this.actionBar.onDidRun((H)=>q.publicLog2("workbenchActionExecuted",{id:H.action.id,from:U})))}setActions($,X=[],Q){var Y,Z,G;this._sessionDisposables.clear();const q=$.slice(),U=X.slice(),H=[];let z=0;const V=[];let j=!1;if(((Y=this._options)===null||Y===void 0?void 0:Y.hiddenItemStrategy)!==-1)for(let W=0;W<q.length;W++){const B=q[W];if(!(B instanceof AJ)&&!(B instanceof rZ))continue;if(!B.hideActions)continue;if(H.push(B.hideActions.toggle),B.hideActions.toggle.checked)z++;if(B.hideActions.isHidden){if(j=!0,q[W]=void 0,((Z=this._options)===null||Z===void 0?void 0:Z.hiddenItemStrategy)!==0)V[W]=B}}if(((G=this._options)===null||G===void 0?void 0:G.overflowBehavior)!==void 0){const W=Yr(new Set(this._options.overflowBehavior.exempted),W1.map(q,(P)=>P===null||P===void 0?void 0:P.id)),B=this._options.overflowBehavior.maxItems-W.size;let K=0;for(let P=0;P<q.length;P++){const A=q[P];if(!A)continue;if(K++,W.has(A.id))continue;if(K>=B)q[P]=void 0,V[P]=A}}if(qM(q),qM(V),super.setActions(q,s8.join(V,U)),H.length>0)this._sessionDisposables.add(m(this.getElement(),"contextmenu",(W)=>{var B,K,P,A,D;const R=new Q7(B0(this.getElement()),W),M=this.getItemAction(R.target);if(!M)return;R.preventDefault(),R.stopPropagation();let O=!1;if(z===1&&((B=this._options)===null||B===void 0?void 0:B.hiddenItemStrategy)===0){O=!0;for(let C=0;C<H.length;C++)if(H[C].checked){H[C]=mZ({id:M.id,label:M.label,checked:!0,enabled:!1,run(){}});break}}let _;if(!O&&(M instanceof AJ||M instanceof rZ)){if(!M.hideActions)return;_=M.hideActions.hide}else _=mZ({id:"label",label:F("hide","Hide"),enabled:!1,run(){}});const w=s8.join([_],H);if(((K=this._options)===null||K===void 0?void 0:K.resetMenu)&&!Q)Q=[this._options.resetMenu];if(j&&Q)w.push(new s8),w.push(mZ({id:"resetThisMenu",label:F("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(Q)}));this._contextMenuService.showContextMenu({getAnchor:()=>R,getActions:()=>w,menuId:(P=this._options)===null||P===void 0?void 0:P.contextMenu,menuActionOptions:{renderShortTitle:!0,...(A=this._options)===null||A===void 0?void 0:A.menuOptions},skipTelemetry:typeof((D=this._options)===null||D===void 0?void 0:D.telemetrySource)==="string",contextKeyService:this._contextKeyService})}))}};ly=Zt([ZX(2,PJ),ZX(3,v0),ZX(4,n5),ZX(5,l8),ZX(6,Z5)],ly);PR=class J extends ly{constructor($,X,Q,Y,Z,G,q,U){super($,{resetMenu:X,...Q},Y,Z,G,q,U);this._onDidChangeMenuItems=this._store.add(new y);const H=this._store.add(Y.createMenu(X,Z,{emitEventsForSubmenuChanges:!0})),z=()=>{var V,j,W;const B=[],K=[];ra(H,Q===null||Q===void 0?void 0:Q.menuOptions,{primary:B,secondary:K},(V=Q===null||Q===void 0?void 0:Q.toolbarOptions)===null||V===void 0?void 0:V.primaryGroup,(j=Q===null||Q===void 0?void 0:Q.toolbarOptions)===null||j===void 0?void 0:j.shouldInlineSubmenu,(W=Q===null||Q===void 0?void 0:Q.toolbarOptions)===null||W===void 0?void 0:W.useSeparatorsInPrimaryActions),$.classList.toggle("has-no-actions",B.length===0&&K.length===0),super.setActions(B,K)};this._store.add(H.onDidChange(()=>{z(),this._onDidChangeMenuItems.fire(this)})),z()}setActions(){throw new b1("This toolbar is populated from a menu.")}};PR=Zt([ZX(3,PJ),ZX(4,v0),ZX(5,n5),ZX(6,l8),ZX(7,Z5)],PR)});class dy extends q9{constructor(J){super();this._getContext=J}runAction(J,$){return super.runAction(J,this._getContext())}}var qt=N(()=>{$5()});class sy{constructor(J){this.viewModel=J}getId(){return this.viewModel}}var Ut,UX0,HX0,LU;var ay=N(()=>{D0();NI();z6();X0();s7();_2();py();Gt();DJ();m0();qt();Ut=function(J){return E8(($)=>{const X=new r;return X.add(J.onDidFocusEditorWidget(()=>$(!0))),X.add(J.onDidBlurEditorWidget(()=>$(!1))),X},()=>J.hasWidgetFocus())},UX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},HX0=function(J,$){return function(X,Q){$(X,Q,J)}};LU=class J extends f{constructor($,X,Q,Y){super();this._container=$,this._overflowWidgetsDomNode=X,this._workbenchUIElementFactory=Q,this._instantiationService=Y,this._viewModel=P1(this,void 0),this._collapsed=i0(this,(G)=>{var q;return(q=this._viewModel.read(G))===null||q===void 0?void 0:q.collapsed.read(G)}),this._editorContentHeight=P1(this,500),this.contentHeight=i0(this,(G)=>{return(this._collapsed.read(G)?0:this._editorContentHeight.read(G))+this._outerEditorHeight}),this._modifiedContentWidth=P1(this,0),this._modifiedWidth=P1(this,0),this._originalContentWidth=P1(this,0),this._originalWidth=P1(this,0),this.maxScroll=i0(this,(G)=>{const q=this._modifiedContentWidth.read(G)-this._modifiedWidth.read(G),U=this._originalContentWidth.read(G)-this._originalWidth.read(G);if(q>U)return{maxScroll:q,width:this._modifiedWidth.read(G)};else return{maxScroll:U,width:this._originalWidth.read(G)}}),this._elements=p1("div.multiDiffEntry",[p1("div.header@header",[p1("div.collapse-button@collapseButton"),p1("div.file-path",[p1("div.title.modified.show-file-icons@primaryPath",[]),p1("div.status.deleted@status",["R"]),p1("div.title.original.show-file-icons@secondaryPath",[])]),p1("div.actions@actions")]),p1("div.editorParent",[p1("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(wU,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=Ut(this.editor.getModifiedEditor()),this.isOriginalFocused=Ut(this.editor.getOriginalEditor()),this.isFocused=i0(this,(G)=>this.isModifedFocused.read(G)||this.isOriginalFocused.read(G)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new r,this._headerHeight=38;const Z=new WU(this._elements.collapseButton,{});this._register(M1((G)=>{Z.element.className="",Z.icon=this._collapsed.read(G)?U0.chevronRight:U0.chevronDown})),this._register(Z.onDidClick(()=>{var G;(G=this._viewModel.get())===null||G===void 0||G.collapsed.set(!this._collapsed.get(),void 0)})),this._register(M1((G)=>{this._elements.editor.style.display=this._collapsed.read(G)?"none":"block"})),this.editor.getModifiedEditor().onDidLayoutChange((G)=>{const q=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(q,void 0)}),this.editor.getOriginalEditor().onDidLayoutChange((G)=>{const q=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(q,void 0)}),this._register(this.editor.onDidContentSizeChange((G)=>{OU((q)=>{this._editorContentHeight.set(G.contentHeight,q),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),q),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),q)})})),this._register(M1((G)=>{const q=this.isFocused.read(G);this._elements.root.classList.toggle("focused",q)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=38,this._register(this._instantiationService.createInstance(PR,this._elements.actions,I.MultiDiffEditorFileToolbar,{actionRunner:this._register(new dy(()=>{var G;return(G=this._viewModel.get())===null||G===void 0?void 0:G.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:(G)=>G.startsWith("navigation")}}))}setScrollLeft($){if(this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get())this.editor.getModifiedEditor().setScrollLeft($);else this.editor.getOriginalEditor().setScrollLeft($)}setData($){function X(Y){return{...Y,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const Q=$.viewModel.entry.value;if(Q.onOptionsDidChange)this._dataStore.add(Q.onOptionsDidChange(()=>{var Y;this.editor.updateOptions(X((Y=Q.options)!==null&&Y!==void 0?Y:{}))}));OU((Y)=>{var Z,G,q,U;(Z=this._resourceLabel)===null||Z===void 0||Z.setUri((G=$.viewModel.modifiedUri)!==null&&G!==void 0?G:$.viewModel.originalUri,{strikethrough:$.viewModel.modifiedUri===void 0});let H=!1,z=!1,V=!1,j="";if($.viewModel.modifiedUri&&$.viewModel.originalUri&&$.viewModel.modifiedUri.path!==$.viewModel.originalUri.path)j="R",H=!0;else if(!$.viewModel.modifiedUri)j="D",z=!0;else if(!$.viewModel.originalUri)j="A",V=!0;this._elements.status.classList.toggle("renamed",H),this._elements.status.classList.toggle("deleted",z),this._elements.status.classList.toggle("added",V),this._elements.status.innerText=j,(q=this._resourceLabel2)===null||q===void 0||q.setUri(H?$.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set($.viewModel,Y),this.editor.setModel($.viewModel.diffEditorViewModel,Y),this.editor.updateOptions(X((U=Q.options)!==null&&U!==void 0?U:{}))})}render($,X,Q,Y){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${$.start}px`,this._elements.root.style.height=`${$.length}px`,this._elements.root.style.width=`${X}px`,this._elements.root.style.position="absolute";const Z=Math.max(0,Math.min($.length-this._headerHeight,Y.start-$.start));this._elements.header.style.transform=`translateY(${Z}px)`,OU((G)=>{this.editor.layout({width:X,height:$.length-this._outerEditorHeight})}),this.editor.getOriginalEditor().setScrollTop(Q),this._elements.header.classList.toggle("shadow",Z>0||Q>0)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};LU=UX0([HX0(3,g0)],LU)});class ry{constructor(J){this._create=J,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(J){var $;let X;if(this._unused.size===0)X=this._create(J),this._itemData.set(X,J);else{const Q=[...this._unused.values()];X=($=Q.find((Y)=>this._itemData.get(Y).getId()===J.getId()))!==null&&$!==void 0?$:Q[0],this._unused.delete(X),this._itemData.set(X,J),X.setData(J)}return this._used.add(X),{object:X,dispose:()=>{if(this._used.delete(X),this._unused.size>5)X.dispose();else this._unused.add(X)}}}dispose(){for(let J of this._used)J.dispose();for(let J of this._unused)J.dispose();this._used.clear(),this._unused.clear()}}var Ht=N(()=>{});class Vt extends f{constructor(J,$,X){super();this.viewModel=J,this._objectPool=$,this._scrollLeft=X,this._templateRef=this._register(Xy(this,void 0)),this.contentHeight=i0(this,(Q)=>{var Y,Z,G;return(G=(Z=(Y=this._templateRef.read(Q))===null||Y===void 0?void 0:Y.object.contentHeight)===null||Z===void 0?void 0:Z.read(Q))!==null&&G!==void 0?G:this.viewModel.lastTemplateData.read(Q).contentHeight}),this.maxScroll=i0(this,(Q)=>{var Y,Z;return(Z=(Y=this._templateRef.read(Q))===null||Y===void 0?void 0:Y.object.maxScroll.read(Q))!==null&&Z!==void 0?Z:{maxScroll:0,scrollWidth:0}}),this.template=i0(this,(Q)=>{var Y;return(Y=this._templateRef.read(Q))===null||Y===void 0?void 0:Y.object}),this._isHidden=P1(this,!1),this._register(M1((Q)=>{var Y;const Z=this._scrollLeft.read(Q);(Y=this._templateRef.read(Q))===null||Y===void 0||Y.object.setScrollLeft(Z)})),this._register(M1((Q)=>{const Y=this._templateRef.read(Q);if(!Y)return;if(!this._isHidden.read(Q))return;if(Y.object.isFocused.read(Q))return;this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var J;return`VirtualViewItem(${(J=this.viewModel.entry.value.modified)===null||J===void 0?void 0:J.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(J,$){var X;this.viewModel.collapsed.set(J.collapsed,$),this._updateTemplateData($);const Q=this.viewModel.lastTemplateData.get(),Y=(X=J.selections)===null||X===void 0?void 0:X.map(b0.liftSelection);this.viewModel.lastTemplateData.set({...Q,selections:Y},$);const Z=this._templateRef.get();if(Z){if(Y)Z.object.editor.setSelections(Y)}}_updateTemplateData(J){var $;const X=this._templateRef.get();if(!X)return;this.viewModel.lastTemplateData.set({contentHeight:X.object.contentHeight.get(),selections:($=X.object.editor.getSelections())!==null&&$!==void 0?$:void 0},J)}_clear(){const J=this._templateRef.get();if(!J)return;M8(($)=>{this._updateTemplateData($),J.object.hide(),this._templateRef.set(void 0,$)})}hide(){this._isHidden.set(!0,void 0)}render(J,$,X,Q){this._isHidden.set(!1,void 0);let Y=this._templateRef.get();if(!Y){Y=this._objectPool.getUnusedObj(new sy(this.viewModel)),this._templateRef.set(Y,void 0);const Z=this.viewModel.lastTemplateData.get().selections;if(Z)Y.object.editor.setSelections(Z)}Y.object.render(J,X,$,Q)}}var zX0,zt,DR;var jt=N(()=>{D0();_4();V4();X0();s7();_2();$3();Xt();c4();u9();m0();ay();Ht();m1();k3();YQ();S6();zX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},zt=function(J,$){return function(X,Q){$(X,Q,J)}},DR=class J extends f{constructor($,X,Q,Y,Z,G){super();this._element=$,this._dimension=X,this._viewModel=Q,this._workbenchUIElementFactory=Y,this._parentContextKeyService=Z,this._parentInstantiationService=G,this._elements=p1("div.monaco-component.multiDiffEditor",[p1("div@content",{style:{overflow:"hidden"}}),p1("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new lj(this._element,void 0)),this._objectPool=this._register(new ry((U)=>{const H=this._instantiationService.createInstance(LU,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return H.setData(U),H})),this._scrollable=this._register(new CJ({forceIntegerValues:!1,scheduleAtNextAnimationFrame:(U)=>R6(B0(this._element),U),smoothScrollDuration:100})),this._scrollableElement=this._register(new eX(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=E8(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=E8(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=t9(this,(U,H)=>{const z=this._viewModel.read(U);if(!z)return[];return z.items.read(U).map((j)=>{var W;const B=H.add(new Vt(j,this._objectPool,this.scrollLeft)),K=(W=this._lastDocStates)===null||W===void 0?void 0:W[B.getKey()];if(K)M8((P)=>{B.setViewState(K,P)});return B})}),this._spaceBetweenPx=10,this._totalHeight=this._viewItems.map(this,(U,H)=>U.reduce((z,V)=>z+V.contentHeight.read(H)+this._spaceBetweenPx,0)),this.activeDiffItem=i0(this,(U)=>this._viewItems.read(U).find((H)=>{var z;return(z=H.template.read(U))===null||z===void 0?void 0:z.isFocused.read(U)})),this.lastActiveDiffItem=Hy((U,H)=>{var z;return(z=this.activeDiffItem.read(U))!==null&&z!==void 0?z:H}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new y4([v0,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(n.inMultiDiffEditor.key,!0),this._register(H5((U,H)=>{const z=this._viewModel.read(U);if(z&&z.contextKeys)for(let[V,j]of Object.entries(z.contextKeys)){const W=this._contextKeyService.createKey(V,void 0);W.set(j),H.add(K0(()=>W.reset()))}}));const q=this._parentContextKeyService.createKey(n.multiDiffEditorAllCollapsed.key,!1);this._register(M1((U)=>{const H=this._viewModel.read(U);if(H){const z=H.items.read(U).every((V)=>V.collapsed.read(U));q.set(z)}})),this._register(M1((U)=>{const H=this.lastActiveDiffItem.read(U);M8((z)=>{var V;(V=this._viewModel.read(U))===null||V===void 0||V.activeDiffItem.set(H===null||H===void 0?void 0:H.viewModel,z)})})),this._register(M1((U)=>{const H=this._dimension.read(U);this._sizeObserver.observe(H)})),this._elements.content.style.position="relative",this._register(M1((U)=>{const H=this._sizeObserver.height.read(U);this._elements.root.style.height=`${H}px`;const z=this._totalHeight.read(U);this._elements.content.style.height=`${z}px`;const V=this._sizeObserver.width.read(U);let j=V;const W=this._viewItems.read(U),B=NT(W,(K)=>K.maxScroll.read(U).maxScroll);if(B){const K=B.maxScroll.read(U);j=V+K.maxScroll}this._scrollableElement.setScrollDimensions({width:V,height:H,scrollHeight:z,scrollWidth:j})})),$.replaceChildren(this._scrollableElement.getDomNode()),this._register(K0(()=>{$.replaceChildren()})),this._register(this._register(M1((U)=>{OU((H)=>{this.render(U)})})))}render($){const X=this.scrollTop.read($);let Q=0,Y=0,Z=0;const G=this._sizeObserver.height.read($),q=d0.ofStartAndLength(X,G),U=this._sizeObserver.width.read($);for(let H of this._viewItems.read($)){const z=H.contentHeight.read($),V=Math.min(z,G),j=d0.ofStartAndLength(Y,V),W=d0.ofStartAndLength(Z,z);if(W.isBefore(q))Q-=z-V,H.hide();else if(W.isAfter(q))H.hide();else{const B=Math.max(0,Math.min(q.start-W.start,z-V));Q-=B;const K=d0.ofStartAndLength(X+Q,G);H.render(j,B,U,K)}Y+=V+this._spaceBetweenPx,Z+=z+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(X+Q)}px)`}};DR=zX0([zt(4,v0),zt(5,g0)],DR)});var w61,L61,E61;var Wt=N(()=>{h0();L7();w61=k("multiDiffEditor.headerBackground",{dark:"#808080",light:"#b4b4b4",hcDark:"#808080",hcLight:"#b4b4b4"},F("multiDiffEditor.headerBackground","The background color of the diff editor\'s header")),L61=k("multiDiffEditor.background",{dark:"#000000",light:"#e5e5e5",hcDark:"#000000",hcLight:"#e5e5e5"},F("multiDiffEditor.background","The background color of the multi file diff editor")),E61=k("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},F("multiDiffEditor.border","The border color of the multi file diff editor"))});var VX0,jX0,RR;var Bt=N(()=>{X0();s7();c4();jt();m0();Wt();ay();VX0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},jX0=function(J,$){return function(X,Q){$(X,Q,J)}},RR=class J extends f{constructor($,X,Q){super();this._element=$,this._workbenchUIElementFactory=X,this._instantiationService=Q,this._dimension=P1(this,void 0),this._viewModel=P1(this,void 0),this._widgetImpl=t9(this,(Y,Z)=>{return e9(LU,Y),Z.add(this._instantiationService.createInstance(e9(DR,Y),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory))}),this._register(XZ(this._widgetImpl))}};RR=VX0([jX0(2,g0)],RR)});function WX0(J,$,X){return C0.initialize(X||{}).createInstance(KR,J,$)}function BX0(J){return C0.get(l1).onCodeEditorAdd((X)=>{J(X)})}function FX0(J){return C0.get(l1).onDiffEditorAdd((X)=>{J(X)})}function KX0(){return C0.get(l1).listCodeEditors()}function AX0(){return C0.get(l1).listDiffEditors()}function PX0(J,$,X){return C0.initialize(X||{}).createInstance(AR,J,$)}function DX0(J,$){const X=C0.initialize($||{});return new RR(J,{},X)}function RX0(J){if(typeof J.id!=="string"||typeof J.run!=="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return V8.registerCommand(J.id,J.run)}function MX0(J){if(typeof J.id!=="string"||typeof J.label!=="string"||typeof J.run!=="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const $=N0.deserialize(J.precondition),X=(Y,...Z)=>{return f5.runEditorCommand(Y,Z,$,(G,q,U)=>Promise.resolve(J.run(q,...U)))},Q=new r;if(Q.add(V8.registerCommand(J.id,X)),J.contextMenuGroupId){const Y={command:{id:J.id,title:J.label},when:$,group:J.contextMenuGroupId,order:J.contextMenuOrder||0};Q.add(H$.appendMenuItem(I.EditorContext,Y))}if(Array.isArray(J.keybindings)){const Y=C0.get(l8);if(!(Y instanceof tY))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Z=N0.and($,N0.deserialize(J.keybindingContext));Q.add(Y.addDynamicKeybindings(J.keybindings.map((G)=>{return{keybinding:G,command:J.id,when:Z}})))}}return Q}function OX0(J){return Ft([J])}function Ft(J){const $=C0.get(l8);if(!($ instanceof tY))return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.None;return $.addDynamicKeybindings(J.map((X)=>{return{keybinding:X.keybinding,command:X.command,commandArgs:X.commandArgs,when:N0.deserialize(X.when)}}))}function TX0(J,$,X){const Q=C0.get(e1),Y=Q.getLanguageIdByMimeType($)||$;return uy(C0.get(j6),Q,J,Y,X)}function NX0(J,$){const X=C0.get(e1),Q=X.getLanguageIdByMimeType($)||$||T6;J.setLanguage(X.createById(Q))}function _X0(J,$,X){if(J)C0.get(v4).changeOne($,J.uri,X)}function wX0(J){C0.get(v4).changeAll(J,[])}function LX0(J){return C0.get(v4).read(J)}function EX0(J){return C0.get(v4).onMarkerChanged(J)}function kX0(J){return C0.get(j6).getModel(J)}function IX0(){return C0.get(j6).getModels()}function yX0(J){return C0.get(j6).onModelAdded(J)}function SX0(J){return C0.get(j6).onModelRemoved(J)}function CX0(J){return C0.get(j6).onModelLanguageChanged((X)=>{J({model:X.model,oldLanguage:X.oldLanguageId})})}function xX0(J){return ff(C0.get(j6),C0.get(N8),J)}function bX0(J,$){const X=C0.get(e1),Q=C0.get(w5);return Dz.colorizeElement(Q,X,J,$).then(()=>{Q.registerEditorContainer(J)})}function vX0(J,$,X){const Q=C0.get(e1);return C0.get(w5).registerEditorContainer(B1.document.body),Dz.colorize(Q,J,$,X)}function fX0(J,$,X=4){return C0.get(w5).registerEditorContainer(B1.document.body),Dz.colorizeModelLine(J,$,X)}function gX0(J,$){c1.getOrCreate($);const X=hX0($),Q=Y9(J),Y=[];let Z=X.getInitialState();for(let G=0,q=Q.length;G<q;G++){const U=Q[G],H=X.tokenize(U,!0,Z);Y[G]=H.tokens,Z=H.endState}return Y}function pX0(J,$){C0.get(w5).defineTheme(J,$)}function mX0(J){C0.get(w5).setTheme(J)}function uX0(){PH.clearAllFontInfos()}function cX0(J,$){return V8.registerCommand({id:J,handler:$})}function lX0(J){return C0.get(a$).registerOpener({async open(X){if(typeof X==="string")X=I0.parse(X);return J.open(X)}})}function dX0(J){return C0.get(l1).registerCodeEditorOpenHandler(async(X,Q,Y)=>{var Z;if(!Q)return null;const G=(Z=X.options)===null||Z===void 0?void 0:Z.selection;let q;if(G&&typeof G.endLineNumber==="number"&&typeof G.endColumn==="number")q=G;else if(G)q={lineNumber:G.startLineNumber,column:G.startColumn};if(await J.openCodeEditor(Q,X.resource,q))return Q;return null})}function Kt(){return{create:WX0,getEditors:KX0,getDiffEditors:AX0,onDidCreateEditor:BX0,onDidCreateDiffEditor:FX0,createDiffEditor:PX0,addCommand:RX0,addEditorAction:MX0,addKeybindingRule:OX0,addKeybindingRules:Ft,createModel:TX0,setModelLanguage:NX0,setModelMarkers:_X0,getModelMarkers:LX0,removeAllMarkers:wX0,onDidChangeMarkers:EX0,getModels:IX0,getModel:kX0,onDidCreateModel:yX0,onWillDisposeModel:SX0,onDidChangeModelLanguage:CX0,createWebWorker:xX0,colorizeElement:bX0,colorize:vX0,colorizeModelLine:fX0,tokenize:gX0,defineTheme:pX0,setTheme:mX0,remeasureFonts:uX0,registerCommand:cX0,registerLinkOpener:lX0,registerEditorOpener:dX0,AccessibilitySupport:QB,ContentWidgetPositionPreference:HB,CursorChangeReason:zB,DefaultEndOfLine:VB,EditorAutoIndentStrategy:WB,EditorOption:BB,EndOfLinePreference:FB,EndOfLineSequence:KB,MinimapPosition:_B,MouseTargetType:wB,OverlayWidgetPositionPreference:LB,OverviewRulerLane:EB,GlyphMarginLane:AB,RenderLineNumbersType:IB,RenderMinimap:yB,ScrollbarVisibility:CB,ScrollType:SB,TextEditorCursorBlinkingStyle:gB,TextEditorCursorStyle:pB,TrackedRangeStickiness:mB,WrappingIndent:uB,InjectedTextCursorStops:DB,PositionAffinity:kB,ShowLightbulbIconMode:bB,ConfigurationChangedEvent:QH,BareFontInfo:NX,FontInfo:Zq,TextModelResolvedOptions:BG,FindMatch:fX,ApplyUpdateResult:_Z,EditorZoom:FJ,createMultiFileDiffEditor:DX0,EditorType:UY,EditorOptions:eJ}}var hX0;var At=N(()=>{X7();X0();o0();e8();cx();eM();x9();G9();gf();J7();AH();QF();jz();M7();f9();g7();wJ();Wz();g5();_X();cB();ef();$t();JR();wj();DJ();X5();m1();xJ();QU();nG();Bt();hX0=function(J){const $=c1.get(J);if($)return $;return{getInitialState:()=>HY,tokenize:(X,Q,Y)=>FK(J,Y)}}});function oy(J,$){if(!$||typeof $!=="object")throw new Error("Monarch: expecting a language definition object");const X={};X.languageId=J,X.includeLF=MR($.includeLF,!1),X.noThrow=!1,X.maxStack=100,X.start=typeof $.start==="string"?$.start:null,X.ignoreCase=MR($.ignoreCase,!1),X.unicode=MR($.unicode,!1),X.tokenPostfix=Pt($.tokenPostfix,"."+X.languageId),X.defaultToken=Pt($.defaultToken,"source"),X.usesEmbedded=!1;const Q=$;Q.languageId=J,Q.includeLF=X.includeLF,Q.ignoreCase=X.ignoreCase,Q.unicode=X.unicode,Q.noThrow=X.noThrow,Q.usesEmbedded=X.usesEmbedded,Q.stateNames=$.tokenizer,Q.defaultToken=X.defaultToken;function Y(G,q,U){for(let H of U){let z=H.include;if(z){if(typeof z!=="string")throw n1(X,"an \'include\' attribute must be a string at: "+G);if(z[0]==="@")z=z.substr(1);if(!$.tokenizer[z])throw n1(X,"include target \'"+z+"\' is not defined at: "+G);Y(G+"."+z,q,$.tokenizer[z])}else{const V=new Rt(G);if(Array.isArray(H)&&H.length>=1&&H.length<=3)if(V.setRegex(Q,H[0]),H.length>=3)if(typeof H[1]==="string")V.setAction(Q,{token:H[1],next:H[2]});else if(typeof H[1]==="object"){const j=H[1];j.next=H[2],V.setAction(Q,j)}else throw n1(X,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+G);else V.setAction(Q,H[1]);else{if(!H.regex)throw n1(X,"a rule must either be an array, or an object with a \'regex\' or \'include\' field at: "+G);if(H.name){if(typeof H.name==="string")V.name=H.name}if(H.matchOnlyAtStart)V.matchOnlyAtLineStart=MR(H.matchOnlyAtLineStart,!1);V.setRegex(Q,H.regex),V.setAction(Q,H.action)}q.push(V)}}}if(!$.tokenizer||typeof $.tokenizer!=="object")throw n1(X,"a language definition must define the \'tokenizer\' attribute as an object");X.tokenizer=[];for(let G in $.tokenizer)if($.tokenizer.hasOwnProperty(G)){if(!X.start)X.start=G;const q=$.tokenizer[G];X.tokenizer[G]=new Array,Y("tokenizer."+G,X.tokenizer[G],q)}if(X.usesEmbedded=Q.usesEmbedded,$.brackets){if(!Array.isArray($.brackets))throw n1(X,"the \'brackets\' attribute must be defined as an array")}else $.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const Z=[];for(let G of $.brackets){let q=G;if(q&&Array.isArray(q)&&q.length===3)q={token:q[2],open:q[0],close:q[1]};if(q.open===q.close)throw n1(X,"open and close brackets in a \'brackets\' attribute must be different: "+q.open+"\n hint: use the \'bracket\' attribute if matching on equal brackets is required.");if(typeof q.open==="string"&&typeof q.token==="string"&&typeof q.close==="string")Z.push({token:q.token+X.tokenPostfix,open:K$(X,q.open),close:K$(X,q.close)});else throw n1(X,"every element in the \'brackets\' array must be a \'{open,close,token}\' object or array")}return X.brackets=Z,X.noThrow=!0,X}class Rt{constructor(J){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=J}setRegex(J,$){let X;if(typeof $==="string")X=$;else if($ instanceof RegExp)X=$.source;else throw n1(J,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=X.length>0&&X[0]==="^",this.name=this.name+": "+X,this.regex=iy(J,"^(?:"+(this.matchOnlyAtLineStart?X.substr(1):X)+")")}setAction(J,$){this.action=ny(J,this.name,$)}}var sX0,MR,Pt,aX0,Dt,iy,rX0,iX0,ny;var Mt=N(()=>{nT();sX0=function(J,$){if(!$)return!1;if(!Array.isArray($))return!1;for(let X of $)if(!J(X))return!1;return!0},MR=function(J,$){if(typeof J==="boolean")return J;return $},Pt=function(J,$){if(typeof J==="string")return J;return $},aX0=function(J){const $={};for(let X of J)$[X]=!0;return $},Dt=function(J,$=!1){if($)J=J.map(function(Q){return Q.toLowerCase()});const X=aX0(J);if($)return function(Q){return X[Q.toLowerCase()]!==void 0&&X.hasOwnProperty(Q.toLowerCase())};else return function(Q){return X[Q]!==void 0&&X.hasOwnProperty(Q)}},iy=function(J,$){$=$.replace(/@@/g,"\x01");let X=0,Q;do Q=!1,$=$.replace(/@(\w+)/g,function(Z,G){Q=!0;let q="";if(typeof J[G]==="string")q=J[G];else if(J[G]&&J[G]instanceof RegExp)q=J[G].source;else if(J[G]===void 0)throw n1(J,"language definition does not contain attribute \'"+G+"\', used at: "+$);else throw n1(J,"attribute reference \'"+G+"\' must be a string, used at: "+$);return OG(q)?"":"(?:"+q+")"}),X++;while(Q&&X<5);$=$.replace(/\x01/g,"@");const Y=(J.ignoreCase?"i":"")+(J.unicode?"u":"");return new RegExp($,Y)},rX0=function(J,$,X,Q){if(Q<0)return J;if(Q<$.length)return $[Q];if(Q>=100){Q=Q-100;const Y=X.split(".");if(Y.unshift(X),Q<Y.length)return Y[Q]}return null},iX0=function(J,$,X,Q){let Y=-1,Z=X,G=X.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);if(G){if(G[3]){if(Y=parseInt(G[3]),G[2])Y=Y+100}Z=G[4]}let q="~",U=Z;if(!Z||Z.length===0)q="!=",U="";else if(/^\w*$/.test(U))q="==";else if(G=Z.match(/^(@|!@|~|!~|==|!=)(.*)$/),G)q=G[1],U=G[2];let H;if((q==="~"||q==="!~")&&/^(\w|\|)*$/.test(U)){const z=Dt(U.split("|"),J.ignoreCase);H=function(V){return q==="~"?z(V):!z(V)}}else if(q==="@"||q==="!@"){const z=J[U];if(!z)throw n1(J,"the @ match target \'"+U+"\' is not defined, in rule: "+$);if(!sX0(function(j){return typeof j==="string"},z))throw n1(J,"the @ match target \'"+U+"\' must be an array of strings, in rule: "+$);const V=Dt(z,J.ignoreCase);H=function(j){return q==="@"?V(j):!V(j)}}else if(q==="~"||q==="!~")if(U.indexOf("$")<0){const z=iy(J,"^"+U+"$");H=function(V){return q==="~"?z.test(V):!z.test(V)}}else H=function(z,V,j,W){return iy(J,"^"+A$(J,U,V,j,W)+"$").test(z)};else if(U.indexOf("$")<0){const z=K$(J,U);H=function(V){return q==="=="?V===z:V!==z}}else{const z=K$(J,U);H=function(V,j,W,B,K){const P=A$(J,z,j,W,B);return q==="=="?V===P:V!==P}}if(Y===-1)return{name:X,value:Q,test:function(z,V,j,W){return H(z,z,V,j,W)}};else return{name:X,value:Q,test:function(z,V,j,W){const B=rX0(z,V,j,Y);return H(!B?"":B,z,V,j,W)}}},ny=function(J,$,X){if(!X)return{token:""};else if(typeof X==="string")return X;else if(X.token||X.token==="")if(typeof X.token!=="string")throw n1(J,"a \'token\' attribute must be of type string, in rule: "+$);else{const Q={token:X.token};if(X.token.indexOf("$")>=0)Q.tokenSubst=!0;if(typeof X.bracket==="string")if(X.bracket==="@open")Q.bracket=1;else if(X.bracket==="@close")Q.bracket=-1;else throw n1(J,"a \'bracket\' attribute must be either \'@open\' or \'@close\', in rule: "+$);if(X.next)if(typeof X.next!=="string")throw n1(J,"the next state must be a string value in rule: "+$);else{let Y=X.next;if(!/^(@pop|@push|@popall)$/.test(Y)){if(Y[0]==="@")Y=Y.substr(1);if(Y.indexOf("$")<0){if(!af(J,A$(J,Y,"",[],"")))throw n1(J,"the next state \'"+X.next+"\' is not defined in rule: "+$)}}Q.next=Y}if(typeof X.goBack==="number")Q.goBack=X.goBack;if(typeof X.switchTo==="string")Q.switchTo=X.switchTo;if(typeof X.log==="string")Q.log=X.log;if(typeof X.nextEmbedded==="string")Q.nextEmbedded=X.nextEmbedded,J.usesEmbedded=!0;return Q}else if(Array.isArray(X)){const Q=[];for(let Y=0,Z=X.length;Y<Z;Y++)Q[Y]=ny(J,$,X[Y]);return{group:Q}}else if(X.cases){const Q=[];for(let Z in X.cases)if(X.cases.hasOwnProperty(Z)){const G=ny(J,$,X.cases[Z]);if(Z==="@default"||Z==="@"||Z==="")Q.push({test:void 0,value:G,name:Z});else if(Z==="@eos")Q.push({test:function(q,U,H,z){return z},value:G,name:Z});else Q.push(iX0(J,$,Z,G))}const Y=J.defaultToken;return{test:function(Z,G,q,U){for(let H of Q)if(!H.test||H.test(Z,G,q,U))return H.value;return Y}}}else throw n1(J,"an action must be a string, an object with a \'token\' or \'cases\' attribute, or an array of actions; in rule: "+$)}});function nX0(J){XY.registerLanguage(J)}function oX0(){let J=[];return J=J.concat(XY.getLanguages()),J}function tX0(J){return C0.get(e1).languageIdCodec.encodeLanguageId(J)}function eX0(J,$){return C0.withServices(()=>{const Q=C0.get(e1).onDidRequestRichLanguageFeatures((Y)=>{if(Y===J)Q.dispose(),$()});return Q})}function JQ0(J,$){return C0.withServices(()=>{const Q=C0.get(e1).onDidRequestBasicLanguageFeatures((Y)=>{if(Y===J)Q.dispose(),$()});return Q})}function $Q0(J,$){if(!C0.get(e1).isRegisteredLanguageId(J))throw new Error(`Cannot set configuration for unknown language ${J}`);return C0.get(N8).register(J,$,100)}function YQ0(J){const $=C0.get(w5);if(J){const X=[null];for(let Q=1,Y=J.length;Q<Y;Q++)X[Q]=l.fromHex(J[Q]);$.setColorMapOverride(X)}else $.setColorMapOverride(null)}function ty(J,$){const X=new hM(async()=>{const Q=await Promise.resolve($.create());if(!Q)return null;if(XQ0(Q))return Nt(J,Q);return new TG(C0.get(e1),C0.get(w5),J,oy(J,Q),C0.get(S1))});return c1.registerFactory(J,X)}function ZQ0(J,$){if(!C0.get(e1).isRegisteredLanguageId(J))throw new Error(`Cannot set tokens provider for unknown language ${J}`);if(Tt($))return ty(J,{create:()=>$});return c1.register(J,Nt(J,$))}function GQ0(J,$){const X=(Q)=>{return new TG(C0.get(e1),C0.get(w5),J,oy(J,Q),C0.get(S1))};if(Tt($))return ty(J,{create:()=>$});return c1.register(J,X($))}function qQ0(J,$){return C0.get(K1).referenceProvider.register(J,$)}function UQ0(J,$){return C0.get(K1).renameProvider.register(J,$)}function HQ0(J,$){return C0.get(K1).signatureHelpProvider.register(J,$)}function zQ0(J,$){return C0.get(K1).hoverProvider.register(J,{provideHover:(Q,Y,Z)=>{const G=Q.getWordAtPosition(Y);return Promise.resolve($.provideHover(Q,Y,Z)).then((q)=>{if(!q)return;if(!q.range&&G)q.range=new L(Y.lineNumber,G.startColumn,Y.lineNumber,G.endColumn);if(!q.range)q.range=new L(Y.lineNumber,Y.column,Y.lineNumber,Y.column);return q})}})}function VQ0(J,$){return C0.get(K1).documentSymbolProvider.register(J,$)}function jQ0(J,$){return C0.get(K1).documentHighlightProvider.register(J,$)}function WQ0(J,$){return C0.get(K1).linkedEditingRangeProvider.register(J,$)}function BQ0(J,$){return C0.get(K1).definitionProvider.register(J,$)}function FQ0(J,$){return C0.get(K1).implementationProvider.register(J,$)}function KQ0(J,$){return C0.get(K1).typeDefinitionProvider.register(J,$)}function AQ0(J,$){return C0.get(K1).codeLensProvider.register(J,$)}function PQ0(J,$,X){return C0.get(K1).codeActionProvider.register(J,{providedCodeActionKinds:X===null||X===void 0?void 0:X.providedCodeActionKinds,documentation:X===null||X===void 0?void 0:X.documentation,provideCodeActions:(Y,Z,G,q)=>{const H=C0.get(v4).read({resource:Y.uri}).filter((z)=>{return L.areIntersectingOrTouching(z,Z)});return $.provideCodeActions(Y,Z,{markers:H,only:G.only,trigger:G.trigger},q)},resolveCodeAction:$.resolveCodeAction})}function DQ0(J,$){return C0.get(K1).documentFormattingEditProvider.register(J,$)}function RQ0(J,$){return C0.get(K1).documentRangeFormattingEditProvider.register(J,$)}function MQ0(J,$){return C0.get(K1).onTypeFormattingEditProvider.register(J,$)}function OQ0(J,$){return C0.get(K1).linkProvider.register(J,$)}function TQ0(J,$){return C0.get(K1).completionProvider.register(J,$)}function NQ0(J,$){return C0.get(K1).colorProvider.register(J,$)}function _Q0(J,$){return C0.get(K1).foldingRangeProvider.register(J,$)}function wQ0(J,$){return C0.get(K1).declarationProvider.register(J,$)}function LQ0(J,$){return C0.get(K1).selectionRangeProvider.register(J,$)}function EQ0(J,$){return C0.get(K1).documentSemanticTokensProvider.register(J,$)}function kQ0(J,$){return C0.get(K1).documentRangeSemanticTokensProvider.register(J,$)}function IQ0(J,$){return C0.get(K1).inlineCompletionsProvider.register(J,$)}function yQ0(J,$){return C0.get(K1).inlayHintsProvider.register(J,$)}function _t(){return{register:nX0,getLanguages:oX0,onLanguage:eX0,onLanguageEncountered:JQ0,getEncodedLanguageId:tX0,setLanguageConfiguration:$Q0,setColorMap:YQ0,registerTokensProviderFactory:ty,setTokensProvider:ZQ0,setMonarchTokensProvider:GQ0,registerReferenceProvider:qQ0,registerRenameProvider:UQ0,registerCompletionItemProvider:TQ0,registerSignatureHelpProvider:HQ0,registerHoverProvider:zQ0,registerDocumentSymbolProvider:VQ0,registerDocumentHighlightProvider:jQ0,registerLinkedEditingRangeProvider:WQ0,registerDefinitionProvider:BQ0,registerImplementationProvider:FQ0,registerTypeDefinitionProvider:KQ0,registerCodeLensProvider:AQ0,registerCodeActionProvider:PQ0,registerDocumentFormattingEditProvider:DQ0,registerDocumentRangeFormattingEditProvider:RQ0,registerOnTypeFormattingEditProvider:MQ0,registerLinkProvider:OQ0,registerColorProvider:NQ0,registerFoldingRangeProvider:_Q0,registerDeclarationProvider:wQ0,registerSelectionRangeProvider:LQ0,registerDocumentSemanticTokensProvider:EQ0,registerDocumentRangeSemanticTokensProvider:kQ0,registerInlineCompletionsProvider:IQ0,registerInlayHintsProvider:yQ0,DocumentHighlightKind:jB,CompletionItemKind:GB,CompletionItemTag:qB,CompletionItemInsertTextRule:ZB,SymbolKind:fB,SymbolTag:hB,IndentAction:PB,CompletionTriggerKind:UB,SignatureHelpTriggerKind:vB,InlayHintKind:RB,InlineCompletionTriggerKind:MB,CodeActionTriggerType:YB,FoldingRangeKind:R7,SelectedSuggestionInfo:fM}}class Ot{constructor(J,$){this._languageId=J,this._actual=$}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(J,$,X){if(typeof this._actual.tokenize==="function")return $W.adaptTokenize(this._languageId,this._actual,J,X);throw new Error("Not supported!")}tokenizeEncoded(J,$,X){const Q=this._actual.tokenizeEncoded(J,X);return new dQ(Q.tokens,Q.endState)}}class $W{constructor(J,$,X,Q){this._languageId=J,this._actual=$,this._languageService=X,this._standaloneThemeService=Q}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(J,$){const X=[];let Q=0;for(let Y=0,Z=J.length;Y<Z;Y++){const G=J[Y];let q=G.startIndex;if(Y===0)q=0;else if(q<Q)q=Q;X[Y]=new Q$(q,G.scopes,$),Q=q}return X}static adaptTokenize(J,$,X,Q){const Y=$.tokenize(X,Q),Z=$W._toClassicTokens(Y.tokens,J);let G;if(Y.endState.equals(Q))G=Q;else G=Y.endState;return new fZ(Z,G)}tokenize(J,$,X){return $W.adaptTokenize(this._languageId,this._actual,J,X)}_toBinaryTokens(J,$){const X=J.encodeLanguageId(this._languageId),Q=this._standaloneThemeService.getColorTheme().tokenTheme,Y=[];let Z=0,G=0;for(let U=0,H=$.length;U<H;U++){const z=$[U],V=Q.match(X,z.scopes)|1024;if(Z>0&&Y[Z-1]===V)continue;let j=z.startIndex;if(U===0)j=0;else if(j<G)j=G;Y[Z++]=j,Y[Z++]=V,G=j}const q=new Uint32Array(Z);for(let U=0;U<Z;U++)q[U]=Y[U];return q}tokenizeEncoded(J,$,X){const Q=this._actual.tokenize(J,X),Y=this._toBinaryTokens(this._languageService.languageIdCodec,Q.tokens);let Z;if(Q.endState.equals(X))Z=X;else Z=Q.endState;return new dQ(Y,Z)}}var XQ0,QQ0,Tt,Nt;var wt=N(()=>{u5();c0();M7();g7();wJ();f9();cB();JR();Mt();tT();wj();QU();d9();h7();XQ0=function(J){return typeof J.getInitialState==="function"},QQ0=function(J){return"tokenizeEncoded"in J},Tt=function(J){return J&&typeof J.then==="function"};Nt=function(J,$){if(QQ0($))return new Ot(J,$);else return new $W(J,$,C0.get(e1),C0.get(w5))}});class JS extends H6{constructor(J,$){super($);this.editor=J,this._unregister=J.invokeWithinContext((X)=>X.get(ey).add(J,this))}dispose(){this._unregister(),super.dispose()}}var ey,Lt;var Et=N(()=>{x9();m1();$7();w9();m0();h9();h0();ey=M0("IEditorCancelService"),Lt=new z0("cancellableOperation",!1,F("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like \'Peek References\'"));z1(ey,class{constructor(){this._tokens=new WeakMap}add(J,$){let X=this._tokens.get(J);if(!X)X=J.invokeWithinContext((Y)=>{const Z=Lt.bindTo(Y.get(v0)),G=new I8;return{key:Z,tokens:G}}),this._tokens.set(J,X);let Q;return X.key.set(!0),Q=X.tokens.push($),()=>{if(Q)Q(),X.key.set(!X.tokens.isEmpty()),Q=void 0}}cancel(J){const $=this._tokens.get(J);if(!$)return;const X=$.tokens.pop();if(X)X.cancel(),$.key.set(!$.tokens.isEmpty())}},1);w0(new class extends f5{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:Lt})}runEditorCommand(J,$){J.get(ey).cancel($)}})});class OR extends JS{constructor(J,$,X,Q){super(J,Q);if(this._listener=new r,$&4)this._listener.add(J.onDidChangeCursorPosition((Y)=>{if(!X||!L.containsPosition(X,Y.position))this.cancel()}));if($&2)this._listener.add(J.onDidChangeCursorSelection((Y)=>{if(!X||!L.containsRange(X,Y.selection))this.cancel()}));if($&8)this._listener.add(J.onDidScrollChange((Y)=>this.cancel()));if($&1)this._listener.add(J.onDidChangeModel((Y)=>this.cancel())),this._listener.add(J.onDidChangeModelContent((Y)=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class TR extends H6{constructor(J,$){super($);this._listener=J.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}var kt=N(()=>{o0();c0();$7();X0();Et()});function k2(J){if(J&&typeof J.getEditorType==="function")return J.getEditorType()===UY.ICodeEditor;else return!1}var It=N(()=>{jz()});class YZ{static _handleEolEdits(J,$){let X=void 0;const Q=[];for(let Y of $){if(typeof Y.eol==="number")X=Y.eol;if(Y.range&&typeof Y.text==="string")Q.push(Y)}if(typeof X==="number"){if(J.hasModel())J.getModel().pushEOL(X)}return Q}static _isFullModelReplaceEdit(J,$){if(!J.hasModel())return!1;const X=J.getModel(),Q=X.validateRange($.range);return X.getFullModelRange().equalsRange(Q)}static execute(J,$,X){if(X)J.pushUndoStop();const Q=mJ.capture(J),Y=YZ._handleEolEdits(J,$);if(Y.length===1&&YZ._isFullModelReplaceEdit(J,Y[0]))J.executeEdits("formatEditsCommand",Y.map((Z)=>i9.replace(L.lift(Z.range),Z.text)));else J.executeEdits("formatEditsCommand",Y.map((Z)=>i9.replaceMove(L.lift(Z.range),Z.text)));if(X)J.pushUndoStop();Q.restoreRelativeVerticalPositionOfCursor(J)}}var $S=N(()=>{bV();c0();uj()});class XS{constructor(J){this.value=J,this._lower=J.toLowerCase()}static toKey(J){if(typeof J==="string")return J.toLowerCase();return J._lower}}class QS{constructor(J){if(this._set=new Set,J)for(let $ of J)this.add($)}add(J){this._set.add(XS.toKey(J))}has(J){return this._set.has(XS.toKey(J))}}var yt=N(()=>{});function St(J,$,X){const Q=[],Y=new QS,Z=J.ordered(X);for(let q of Z)if(Q.push(q),q.extensionId)Y.add(q.extensionId);const G=$.ordered(X);for(let q of G){if(q.extensionId){if(Y.has(q.extensionId))continue;Y.add(q.extensionId)}Q.push({displayName:q.displayName,extensionId:q.extensionId,provideDocumentFormattingEdits(U,H,z){return q.provideDocumentRangeFormattingEdits(U,U.getFullModelRange(),H,z)}})}return Q}async function YS(J,$,X,Q,Y,Z,G){const q=J.get(g0),{documentRangeFormattingEditProvider:U}=J.get(K1),H=k2($)?$.getModel():$,z=U.ordered(H),V=await ZZ.select(z,H,Q,2);if(V)Y.report(V),await q.invokeFunction(SQ0,V,$,X,Z,G)}async function SQ0(J,$,X,Q,Y,Z){var G,q;const U=J.get(P9),H=J.get(Y6),z=J.get(o9);let V,j;if(k2(X))V=X.getModel(),j=new OR(X,1|4,void 0,Y);else V=X,j=new TR(X,Y);const W=[];let B=0;for(let R of QC(Q).sort(L.compareRangesUsingStarts))if(B>0&&L.areIntersectingOrTouching(W[B-1],R))W[B-1]=L.fromPositions(W[B-1].getStartPosition(),R.getEndPosition());else B=W.push(R);const K=async(R)=>{var M,O;H.trace("[format][provideDocumentRangeFormattingEdits] (request)",(M=$.extensionId)===null||M===void 0?void 0:M.value,R);const _=await $.provideDocumentRangeFormattingEdits(V,R,V.getFormattingOptions(),j.token)||[];return H.trace("[format][provideDocumentRangeFormattingEdits] (response)",(O=$.extensionId)===null||O===void 0?void 0:O.value,_),_},P=(R,M)=>{if(!R.length||!M.length)return!1;const O=R.reduce((_,w)=>{return L.plusRange(_,w.range)},R[0].range);if(!M.some((_)=>{return L.intersectRanges(O,_.range)}))return!1;for(let _ of R)for(let w of M)if(L.intersectRanges(_.range,w.range))return!0;return!1},A=[],D=[];try{if(typeof $.provideDocumentRangesFormattingEdits==="function"){H.trace("[format][provideDocumentRangeFormattingEdits] (request)",(G=$.extensionId)===null||G===void 0?void 0:G.value,W);const R=await $.provideDocumentRangesFormattingEdits(V,W,V.getFormattingOptions(),j.token)||[];H.trace("[format][provideDocumentRangeFormattingEdits] (response)",(q=$.extensionId)===null||q===void 0?void 0:q.value,R),D.push(R)}else{for(let R of W){if(j.token.isCancellationRequested)return!0;D.push(await K(R))}for(let R=0;R<W.length;++R)for(let M=R+1;M<W.length;++M){if(j.token.isCancellationRequested)return!0;if(P(D[R],D[M])){const O=L.plusRange(W[R],W[M]),_=await K(O);W.splice(M,1),W.splice(R,1),W.push(O),D.splice(M,1),D.splice(R,1),D.push(_),R=0,M=0}}}for(let R of D){if(j.token.isCancellationRequested)return!0;const M=await U.computeMoreMinimalEdits(V.uri,R);if(M)A.push(...M)}}finally{j.dispose()}if(A.length===0)return!1;if(k2(X))YZ.execute(X,A,!0),X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1);else{const[{range:R}]=A,M=new b0(R.startLineNumber,R.startColumn,R.endLineNumber,R.endColumn);V.pushEditOperations([M],A.map((O)=>{return{text:O.text,range:L.lift(O.range),forceMoveMarkers:!0}}),(O)=>{for(let{range:_}of O)if(L.areIntersectingOrTouching(_,M))return[new b0(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)];return null})}return z.playAudioCue($1.format,{userGesture:Z}),!0}async function Ct(J,$,X,Q,Y,Z){const G=J.get(g0),q=J.get(K1),U=k2($)?$.getModel():$,H=St(q.documentFormattingEditProvider,q.documentRangeFormattingEditProvider,U),z=await ZZ.select(H,U,X,1);if(z)Q.report(z),await G.invokeFunction(CQ0,z,$,X,Y,Z)}async function CQ0(J,$,X,Q,Y,Z){const G=J.get(P9),q=J.get(o9);let U,H;if(k2(X))U=X.getModel(),H=new OR(X,1|4,void 0,Y);else U=X,H=new TR(X,Y);let z;try{const V=await $.provideDocumentFormattingEdits(U,U.getFormattingOptions(),H.token);if(z=await G.computeMoreMinimalEdits(U.uri,V),H.token.isCancellationRequested)return!0}finally{H.dispose()}if(!z||z.length===0)return!1;if(k2(X)){if(YZ.execute(X,z,Q!==2),Q!==2)X.revealPositionInCenterIfOutsideViewport(X.getPosition(),1)}else{const[{range:V}]=z,j=new b0(V.startLineNumber,V.startColumn,V.endLineNumber,V.endColumn);U.pushEditOperations([j],z.map((W)=>{return{text:W.text,range:L.lift(W.range),forceMoveMarkers:!0}}),(W)=>{for(let{range:B}of W)if(L.areIntersectingOrTouching(B,j))return[new b0(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn)];return null})}return q.playAudioCue($1.format,{userGesture:Z}),!0}async function xQ0(J,$,X,Q,Y,Z){const G=$.documentRangeFormattingEditProvider.ordered(X);for(let q of G){const U=await Promise.resolve(q.provideDocumentRangeFormattingEdits(X,Q,Y,Z)).catch(J$);if(T9(U))return await J.computeMoreMinimalEdits(X.uri,U)}return}async function bQ0(J,$,X,Q,Y){const Z=St($.documentFormattingEditProvider,$.documentRangeFormattingEditProvider,X);for(let G of Z){const q=await Promise.resolve(G.provideDocumentFormattingEdits(X,Q,Y)).catch(J$);if(T9(q))return await J.computeMoreMinimalEdits(X.uri,q)}return}function ZS(J,$,X,Q,Y,Z,G){const q=$.onTypeFormattingEditProvider.ordered(X);if(q.length===0)return Promise.resolve(void 0);if(q[0].autoFormatTriggerCharacters.indexOf(Y)<0)return Promise.resolve(void 0);return Promise.resolve(q[0].provideOnTypeFormattingEdits(X,Q,Y,Z,G)).catch(J$).then((U)=>{return J.computeMoreMinimalEdits(X.uri,U)})}class ZZ{static setFormatterSelector(J){return{dispose:ZZ._selectors.unshift(J)}}static async select(J,$,X,Q){if(J.length===0)return;const Y=W1.first(ZZ._selectors);if(Y)return await Y(J,$,X,Q);return}}var GS=N(()=>{H1();$7();D1();_9();w9();G8();e8();kt();It();U1();c0();S6();XU();DH();$S();X5();yt();m0();d9();U9();T2();ZZ._selectors=new I8;V8.registerCommand("_executeFormatRangeProvider",async function(J,...$){const[X,Q,Y]=$;q6(I0.isUri(X)),q6(L.isIRange(Q));const Z=J.get(wX),G=J.get(P9),q=J.get(K1),U=await Z.createModelReference(X);try{return xQ0(G,q,U.object.textEditorModel,L.lift(Q),Y,t8.None)}finally{U.dispose()}});V8.registerCommand("_executeFormatDocumentProvider",async function(J,...$){const[X,Q]=$;q6(I0.isUri(X));const Y=J.get(wX),Z=J.get(P9),G=J.get(K1),q=await Y.createModelReference(X);try{return bQ0(Z,G,q.object.textEditorModel,Q,t8.None)}finally{q.dispose()}});V8.registerCommand("_executeFormatOnTypeProvider",async function(J,...$){const[X,Q,Y,Z]=$;q6(I0.isUri(X)),q6(v.isIPosition(Q)),q6(typeof Y==="string");const G=J.get(wX),q=J.get(P9),U=J.get(K1),H=await G.createModelReference(X);try{return ZS(q,U,H.object.textEditorModel,v.lift(Q),Y,Z,t8.None)}finally{H.dispose()}})});var JJ={};TZ(JJ,{languages:()=>{{return XW}},editor:()=>{{return GZ}},Uri:()=>{{return HS}},Token:()=>{{return dQ0}},SelectionDirection:()=>{{return uQ0}},Selection:()=>{{return mQ0}},Range:()=>{{return pQ0}},Position:()=>{{return gQ0}},MarkerTag:()=>{{return lQ0}},MarkerSeverity:()=>{{return cQ0}},KeyMod:()=>{{return hQ0}},KeyCode:()=>{{return fQ0}},Emitter:()=>{{return US}},CancellationTokenSource:()=>{{return vQ0}}});var V5,vQ0,US,fQ0,hQ0,gQ0,pQ0,mQ0,uQ0,cQ0,lQ0,HS,dQ0,GZ,XW,qS;var l4=N(()=>{J7();mM();At();wt();GS();eJ.wrappingIndent.defaultValue=0;eJ.glyphMargin.defaultValue=!1;eJ.autoIndent.defaultValue=3;eJ.overviewRulerLanes.defaultValue=2;ZZ.setFormatterSelector((J,$,X)=>Promise.resolve(J[0]));V5=lB();V5.editor=Kt();V5.languages=_t();vQ0=V5.CancellationTokenSource,US=V5.Emitter,fQ0=V5.KeyCode,hQ0=V5.KeyMod,gQ0=V5.Position,pQ0=V5.Range,mQ0=V5.Selection,uQ0=V5.SelectionDirection,cQ0=V5.MarkerSeverity,lQ0=V5.MarkerTag,HS=V5.Uri,dQ0=V5.Token,GZ=V5.editor,XW=V5.languages,qS=globalThis.MonacoEnvironment;if((qS===null||qS===void 0?void 0:qS.globalAPI)||typeof define==="function"&&define.amd)globalThis.monaco=V5;if(typeof globalThis.require!=="undefined"&&typeof globalThis.require.config==="function")globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var f00={};TZ(f00,{toTextEdit:()=>{{return cU}},toRange:()=>{{return I5}},setupMode:()=>{{return DZ0}},getWorker:()=>{{return AZ0}},fromRange:()=>{{return cS}},fromPosition:()=>{{return KZ}},WorkerManager:()=>{{return M00}},SelectionRangeAdapter:()=>{{return x00}},RenameAdapter:()=>{{return eY0}},ReferenceAdapter:()=>{{return tY0}},HoverAdapter:()=>{{return N00}},FoldingRangeAdapter:()=>{{return C00}},DocumentSymbolAdapter:()=>{{return w00}},DocumentRangeFormattingEditProvider:()=>{{return I00}},DocumentLinkAdapter:()=>{{return XZ0}},DocumentHighlightAdapter:()=>{{return iY0}},DocumentFormattingEditProvider:()=>{{return k00}},DocumentColorAdapter:()=>{{return S00}},DiagnosticsAdapter:()=>{{return O00}},DefinitionAdapter:()=>{{return oY0}},CompletionAdapter:()=>{{return T00}}});var uY0,cY0,KZ,cS,I5,lY0,dY0,cU,sY0,aY0,K00,rY0,nY0,_00,JZ0,$Z0,L00,E00,y00,QZ0,YZ0,vS,AW,pU,GZ0,KZ0,AZ0,DZ0,R00,v00,bY0,vY0,fY0,hY0,he,gY0,f1,pY0,M00,ge,tR,qX,W5,fS,pe,hS,me,ue,DW,ce,gS,mU,le,de,eR,MW,FZ,uU,k5,BZ,JM,OW,TW,NW,pS,oR,se,DY1,ae,re,$M,ie,_W,mS,F7,uS,ne,oe,te,ee,J00,XM,$00,X00,Q00,RW,Y00,K7,Z00,G00,q00,U00,H00,z00,V00,j00,W00,B00,F00,mY0,G0,O00,T00,N00,iY0,oY0,tY0,eY0,w00,XZ0,k00,I00,S00,C00,x00,A00,ZZ0,P00,D00,qZ0,UZ0,HZ0,zZ0,VZ0,jZ0,WZ0,BZ0,FZ0,PW,b00,aJ,PZ0,RZ0;var h00=N(()=>{l4();uY0=function(J){switch(J){case mU.Error:return f1.MarkerSeverity.Error;case mU.Warning:return f1.MarkerSeverity.Warning;case mU.Information:return f1.MarkerSeverity.Info;case mU.Hint:return f1.MarkerSeverity.Hint;default:return f1.MarkerSeverity.Info}},cY0=function(J,$){let X=typeof $.code==="number"?String($.code):$.code;return{severity:uY0($.severity),startLineNumber:$.range.start.line+1,startColumn:$.range.start.character+1,endLineNumber:$.range.end.line+1,endColumn:$.range.end.character+1,message:$.message,code:X,source:$.source}},KZ=function(J){if(!J)return;return{character:J.column-1,line:J.lineNumber-1}},cS=function(J){if(!J)return;return{start:{line:J.startLineNumber-1,character:J.startColumn-1},end:{line:J.endLineNumber-1,character:J.endColumn-1}}},I5=function(J){if(!J)return;return new f1.Range(J.start.line+1,J.start.character+1,J.end.line+1,J.end.character+1)},lY0=function(J){return typeof J.insert!=="undefined"&&typeof J.replace!=="undefined"},dY0=function(J){const $=f1.languages.CompletionItemKind;switch(J){case F7.Text:return $.Text;case F7.Method:return $.Method;case F7.Function:return $.Function;case F7.Constructor:return $.Constructor;case F7.Field:return $.Field;case F7.Variable:return $.Variable;case F7.Class:return $.Class;case F7.Interface:return $.Interface;case F7.Module:return $.Module;case F7.Property:return $.Property;case F7.Unit:return $.Unit;case F7.Value:return $.Value;case F7.Enum:return $.Enum;case F7.Keyword:return $.Keyword;case F7.Snippet:return $.Snippet;case F7.Color:return $.Color;case F7.File:return $.File;case F7.Reference:return $.Reference}return $.Property},cU=function(J){if(!J)return;return{range:I5(J.range),text:J.newText}},sY0=function(J){return J&&J.command==="editor.action.triggerSuggest"?{id:J.command,title:J.title,arguments:J.arguments}:void 0},aY0=function(J){return J&&typeof J==="object"&&typeof J.kind==="string"},K00=function(J){if(typeof J==="string")return{value:J};if(aY0(J)){if(J.kind==="plaintext")return{value:J.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")};return{value:J.value}}return{value:"```"+J.language+"\n"+J.value+"\n```\n"}},rY0=function(J){if(!J)return;if(Array.isArray(J))return J.map(K00);return[K00(J)]},nY0=function(J){switch(J){case RW.Read:return f1.languages.DocumentHighlightKind.Read;case RW.Write:return f1.languages.DocumentHighlightKind.Write;case RW.Text:return f1.languages.DocumentHighlightKind.Text}return f1.languages.DocumentHighlightKind.Text},_00=function(J){return{uri:f1.Uri.parse(J.uri),range:I5(J.range)}},JZ0=function(J){if(!J||!J.changes)return;let $=[];for(let X in J.changes){const Q=f1.Uri.parse(X);for(let Y of J.changes[X])$.push({resource:Q,versionId:void 0,textEdit:{range:I5(Y.range),text:Y.newText}})}return{edits:$}},$Z0=function(J){return"children"in J},L00=function(J){return{name:J.name,detail:J.detail??"",kind:E00(J.kind),range:I5(J.range),selectionRange:I5(J.selectionRange),tags:J.tags??[],children:(J.children??[]).map(($)=>L00($))}},E00=function(J){let $=f1.languages.SymbolKind;switch(J){case K7.File:return $.File;case K7.Module:return $.Module;case K7.Namespace:return $.Namespace;case K7.Package:return $.Package;case K7.Class:return $.Class;case K7.Method:return $.Method;case K7.Property:return $.Property;case K7.Field:return $.Field;case K7.Constructor:return $.Constructor;case K7.Enum:return $.Enum;case K7.Interface:return $.Interface;case K7.Function:return $.Function;case K7.Variable:return $.Variable;case K7.Constant:return $.Constant;case K7.String:return $.String;case K7.Number:return $.Number;case K7.Boolean:return $.Boolean;case K7.Array:return $.Array}return $.Function},y00=function(J){return{tabSize:J.tabSize,insertSpaces:J.insertSpaces}},QZ0=function(J){switch(J){case DW.Comment:return f1.languages.FoldingRangeKind.Comment;case DW.Imports:return f1.languages.FoldingRangeKind.Imports;case DW.Region:return f1.languages.FoldingRangeKind.Region}return},YZ0=function(J,$){if($===void 0)$=!1;var X=J.length,Q=0,Y="",Z=0,G=16,q=0,U=0,H=0,z=0,V=0;function j(R,M){var O=0,_=0;while(O<R||!M){var w=J.charCodeAt(Q);if(w>=48&&w<=57)_=_*16+w-48;else if(w>=65&&w<=70)_=_*16+w-65+10;else if(w>=97&&w<=102)_=_*16+w-97+10;else break;Q++,O++}if(O<R)_=-1;return _}function W(R){Q=R,Y="",Z=0,G=16,V=0}function B(){var R=Q;if(J.charCodeAt(Q)===48)Q++;else{Q++;while(Q<J.length&&pU(J.charCodeAt(Q)))Q++}if(Q<J.length&&J.charCodeAt(Q)===46)if(Q++,Q<J.length&&pU(J.charCodeAt(Q))){Q++;while(Q<J.length&&pU(J.charCodeAt(Q)))Q++}else return V=3,J.substring(R,Q);var M=Q;if(Q<J.length&&(J.charCodeAt(Q)===69||J.charCodeAt(Q)===101)){if(Q++,Q<J.length&&J.charCodeAt(Q)===43||J.charCodeAt(Q)===45)Q++;if(Q<J.length&&pU(J.charCodeAt(Q))){Q++;while(Q<J.length&&pU(J.charCodeAt(Q)))Q++;M=Q}else V=3}return J.substring(R,M)}function K(){var R="",M=Q;while(!0){if(Q>=X){R+=J.substring(M,Q),V=2;break}var O=J.charCodeAt(Q);if(O===34){R+=J.substring(M,Q),Q++;break}if(O===92){if(R+=J.substring(M,Q),Q++,Q>=X){V=2;break}var _=J.charCodeAt(Q++);switch(_){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+="\n";break;case 114:R+="\r";break;case 116:R+="	";break;case 117:var w=j(4,!0);if(w>=0)R+=String.fromCharCode(w);else V=4;break;default:V=5}M=Q;continue}if(O>=0&&O<=31)if(AW(O)){R+=J.substring(M,Q),V=2;break}else V=6;Q++}return R}function P(){if(Y="",V=0,Z=Q,U=q,z=H,Q>=X)return Z=X,G=17;var R=J.charCodeAt(Q);if(vS(R)){do Q++,Y+=String.fromCharCode(R),R=J.charCodeAt(Q);while(vS(R));return G=15}if(AW(R)){if(Q++,Y+=String.fromCharCode(R),R===13&&J.charCodeAt(Q)===10)Q++,Y+="\n";return q++,H=Q,G=14}switch(R){case 123:return Q++,G=1;case 125:return Q++,G=2;case 91:return Q++,G=3;case 93:return Q++,G=4;case 58:return Q++,G=6;case 44:return Q++,G=5;case 34:return Q++,Y=K(),G=10;case 47:var M=Q-1;if(J.charCodeAt(Q+1)===47){Q+=2;while(Q<X){if(AW(J.charCodeAt(Q)))break;Q++}return Y=J.substring(M,Q),G=12}if(J.charCodeAt(Q+1)===42){Q+=2;var O=X-1,_=!1;while(Q<O){var w=J.charCodeAt(Q);if(w===42&&J.charCodeAt(Q+1)===47){Q+=2,_=!0;break}if(Q++,AW(w)){if(w===13&&J.charCodeAt(Q)===10)Q++;q++,H=Q}}if(!_)Q++,V=1;return Y=J.substring(M,Q),G=13}return Y+=String.fromCharCode(R),Q++,G=16;case 45:if(Y+=String.fromCharCode(R),Q++,Q===X||!pU(J.charCodeAt(Q)))return G=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Y+=B(),G=11;default:while(Q<X&&A(R))Q++,R=J.charCodeAt(Q);if(Z!==Q){switch(Y=J.substring(Z,Q),Y){case"true":return G=8;case"false":return G=9;case"null":return G=7}return G=16}return Y+=String.fromCharCode(R),Q++,G=16}}function A(R){if(vS(R)||AW(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function D(){var R;do R=P();while(R>=12&&R<=15);return R}return{setPosition:W,getPosition:function(){return Q},scan:$?D:P,getToken:function(){return G},getTokenValue:function(){return Y},getTokenOffset:function(){return Z},getTokenLength:function(){return Q-Z},getTokenStartLine:function(){return U},getTokenStartCharacter:function(){return Z-z},getTokenError:function(){return V}}},vS=function(J){return J===32||J===9||J===11||J===12||J===160||J===5760||J>=8192&&J<=8203||J===8239||J===8287||J===12288||J===65279},AW=function(J){return J===10||J===13||J===8232||J===8233},pU=function(J){return J>=48&&J<=57},GZ0=function(J){return{getInitialState:()=>new b00(null,null,!1,null),tokenize:($,X)=>KZ0(J,$,X)}},KZ0=function(J,$,X,Q=0){let Y=0,Z=!1;switch(X.scanError){case 2:$='"'+$,Y=1;break;case 1:$="/*"+$,Y=2;break}const G=ZZ0($);let{lastWasColon:q,parents:U}=X;const H={tokens:[],endState:X.clone()};while(!0){let z=Q+G.getPosition(),V="";const j=G.scan();if(j===17)break;if(z===Q+G.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+$.substr(G.getPosition(),3));if(Z)z-=Y;switch(Z=Y>0,j){case 1:U=PW.push(U,0),V=P00,q=!1;break;case 2:U=PW.pop(U),V=P00,q=!1;break;case 3:U=PW.push(U,1),V=D00,q=!1;break;case 4:U=PW.pop(U),V=D00,q=!1;break;case 6:V=qZ0,q=!0;break;case 5:V=UZ0,q=!1;break;case 8:case 9:V=HZ0,q=!1;break;case 7:V=zZ0,q=!1;break;case 10:const B=(U?U.type:0)===1;V=q||B?VZ0:WZ0,q=!1;break;case 11:V=jZ0,q=!1;break}if(J)switch(j){case 12:V=FZ0;break;case 13:V=BZ0;break}H.endState=new b00(X.getStateData(),G.getTokenError(),q,U),H.tokens.push({startIndex:z,scopes:V})}return H},AZ0=function(){return new Promise((J,$)=>{if(!aJ)return $("JSON not registered!");J(aJ)})},DZ0=function(J){const $=[],X=[],Q=new M00(J);$.push(Q),aJ=(...G)=>{return Q.getLanguageServiceWorker(...G)};function Y(){const{languageId:G,modeConfiguration:q}=J;if(v00(X),q.documentFormattingEdits)X.push(f1.languages.registerDocumentFormattingEditProvider(G,new k00(aJ)));if(q.documentRangeFormattingEdits)X.push(f1.languages.registerDocumentRangeFormattingEditProvider(G,new I00(aJ)));if(q.completionItems)X.push(f1.languages.registerCompletionItemProvider(G,new T00(aJ,[" ",":",'"'])));if(q.hovers)X.push(f1.languages.registerHoverProvider(G,new N00(aJ)));if(q.documentSymbols)X.push(f1.languages.registerDocumentSymbolProvider(G,new w00(aJ)));if(q.tokens)X.push(f1.languages.setTokensProvider(G,GZ0(!0)));if(q.colors)X.push(f1.languages.registerColorProvider(G,new S00(aJ)));if(q.foldingRanges)X.push(f1.languages.registerFoldingRangeProvider(G,new C00(aJ)));if(q.diagnostics)X.push(new PZ0(G,aJ,J));if(q.selectionRanges)X.push(f1.languages.registerSelectionRangeProvider(G,new x00(aJ)))}Y(),$.push(f1.languages.setLanguageConfiguration(J.languageId,RZ0));let Z=J.modeConfiguration;return J.onDidChange((G)=>{if(G.modeConfiguration!==Z)Z=G.modeConfiguration,Y()}),$.push(R00(X)),R00($)},R00=function(J){return{dispose:()=>v00(J)}},v00=function(J){while(J.length)J.pop().dispose()};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/bY0=Object.defineProperty,vY0=Object.getOwnPropertyDescriptor,fY0=Object.getOwnPropertyNames,hY0=Object.prototype.hasOwnProperty,he=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of fY0($))if(!hY0.call(J,Y)&&Y!==X)bY0(J,Y,{get:()=>$[Y],enumerable:!(Q=vY0($,Y))||Q.enumerable})}return J},gY0=(J,$,X)=>(he(J,$,"default"),X&&he(X,$,"default")),f1={};gY0(f1,JJ);pY0=120000,M00=class{constructor(J){this._defaults=J,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),30000),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){if(this._worker)this._worker.dispose(),this._worker=null;this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;if(Date.now()-this._lastUsedTime>pY0)this._stopWorker()}_getClient(){if(this._lastUsedTime=Date.now(),!this._client)this._worker=f1.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy();return this._client}getLanguageServiceWorker(...J){let $;return this._getClient().then((X)=>{$=X}).then((X)=>{if(this._worker)return this._worker.withSyncedResources(J)}).then((X)=>$)}};(function(J){J.MIN_VALUE=-2147483648,J.MAX_VALUE=2147483647})(ge||(ge={}));(function(J){J.MIN_VALUE=0,J.MAX_VALUE=2147483647})(tR||(tR={}));(function(J){function $(Q,Y){if(Q===Number.MAX_VALUE)Q=tR.MAX_VALUE;if(Y===Number.MAX_VALUE)Y=tR.MAX_VALUE;return{line:Q,character:Y}}J.create=$;function X(Q){var Y=Q;return G0.objectLiteral(Y)&&G0.uinteger(Y.line)&&G0.uinteger(Y.character)}J.is=X})(qX||(qX={}));(function(J){function $(Q,Y,Z,G){if(G0.uinteger(Q)&&G0.uinteger(Y)&&G0.uinteger(Z)&&G0.uinteger(G))return{start:qX.create(Q,Y),end:qX.create(Z,G)};else if(qX.is(Q)&&qX.is(Y))return{start:Q,end:Y};else throw new Error("Range#create called with invalid arguments["+Q+", "+Y+", "+Z+", "+G+"]")}J.create=$;function X(Q){var Y=Q;return G0.objectLiteral(Y)&&qX.is(Y.start)&&qX.is(Y.end)}J.is=X})(W5||(W5={}));(function(J){function $(Q,Y){return{uri:Q,range:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&W5.is(Y.range)&&(G0.string(Y.uri)||G0.undefined(Y.uri))}J.is=X})(fS||(fS={}));(function(J){function $(Q,Y,Z,G){return{targetUri:Q,targetRange:Y,targetSelectionRange:Z,originSelectionRange:G}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&W5.is(Y.targetRange)&&G0.string(Y.targetUri)&&(W5.is(Y.targetSelectionRange)||G0.undefined(Y.targetSelectionRange))&&(W5.is(Y.originSelectionRange)||G0.undefined(Y.originSelectionRange))}J.is=X})(pe||(pe={}));(function(J){function $(Q,Y,Z,G){return{red:Q,green:Y,blue:Z,alpha:G}}J.create=$;function X(Q){var Y=Q;return G0.numberRange(Y.red,0,1)&&G0.numberRange(Y.green,0,1)&&G0.numberRange(Y.blue,0,1)&&G0.numberRange(Y.alpha,0,1)}J.is=X})(hS||(hS={}));(function(J){function $(Q,Y){return{range:Q,color:Y}}J.create=$;function X(Q){var Y=Q;return W5.is(Y.range)&&hS.is(Y.color)}J.is=X})(me||(me={}));(function(J){function $(Q,Y,Z){return{label:Q,textEdit:Y,additionalTextEdits:Z}}J.create=$;function X(Q){var Y=Q;return G0.string(Y.label)&&(G0.undefined(Y.textEdit)||FZ.is(Y))&&(G0.undefined(Y.additionalTextEdits)||G0.typedArray(Y.additionalTextEdits,FZ.is))}J.is=X})(ue||(ue={}));(function(J){J.Comment="comment",J.Imports="imports",J.Region="region"})(DW||(DW={}));(function(J){function $(Q,Y,Z,G,q){var U={startLine:Q,endLine:Y};if(G0.defined(Z))U.startCharacter=Z;if(G0.defined(G))U.endCharacter=G;if(G0.defined(q))U.kind=q;return U}J.create=$;function X(Q){var Y=Q;return G0.uinteger(Y.startLine)&&G0.uinteger(Y.startLine)&&(G0.undefined(Y.startCharacter)||G0.uinteger(Y.startCharacter))&&(G0.undefined(Y.endCharacter)||G0.uinteger(Y.endCharacter))&&(G0.undefined(Y.kind)||G0.string(Y.kind))}J.is=X})(ce||(ce={}));(function(J){function $(Q,Y){return{location:Q,message:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&fS.is(Y.location)&&G0.string(Y.message)}J.is=X})(gS||(gS={}));(function(J){J.Error=1,J.Warning=2,J.Information=3,J.Hint=4})(mU||(mU={}));(function(J){J.Unnecessary=1,J.Deprecated=2})(le||(le={}));(function(J){function $(X){var Q=X;return Q!==void 0&&Q!==null&&G0.string(Q.href)}J.is=$})(de||(de={}));(function(J){function $(Q,Y,Z,G,q,U){var H={range:Q,message:Y};if(G0.defined(Z))H.severity=Z;if(G0.defined(G))H.code=G;if(G0.defined(q))H.source=q;if(G0.defined(U))H.relatedInformation=U;return H}J.create=$;function X(Q){var Y,Z=Q;return G0.defined(Z)&&W5.is(Z.range)&&G0.string(Z.message)&&(G0.number(Z.severity)||G0.undefined(Z.severity))&&(G0.integer(Z.code)||G0.string(Z.code)||G0.undefined(Z.code))&&(G0.undefined(Z.codeDescription)||G0.string((Y=Z.codeDescription)===null||Y===void 0?void 0:Y.href))&&(G0.string(Z.source)||G0.undefined(Z.source))&&(G0.undefined(Z.relatedInformation)||G0.typedArray(Z.relatedInformation,gS.is))}J.is=X})(eR||(eR={}));(function(J){function $(Q,Y){var Z=[];for(var G=2;G<arguments.length;G++)Z[G-2]=arguments[G];var q={title:Q,command:Y};if(G0.defined(Z)&&Z.length>0)q.arguments=Z;return q}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.string(Y.title)&&G0.string(Y.command)}J.is=X})(MW||(MW={}));(function(J){function $(Z,G){return{range:Z,newText:G}}J.replace=$;function X(Z,G){return{range:{start:Z,end:Z},newText:G}}J.insert=X;function Q(Z){return{range:Z,newText:""}}J.del=Q;function Y(Z){var G=Z;return G0.objectLiteral(G)&&G0.string(G.newText)&&W5.is(G.range)}J.is=Y})(FZ||(FZ={}));(function(J){function $(Q,Y,Z){var G={label:Q};if(Y!==void 0)G.needsConfirmation=Y;if(Z!==void 0)G.description=Z;return G}J.create=$;function X(Q){var Y=Q;return Y!==void 0&&G0.objectLiteral(Y)&&G0.string(Y.label)&&(G0.boolean(Y.needsConfirmation)||Y.needsConfirmation===void 0)&&(G0.string(Y.description)||Y.description===void 0)}J.is=X})(uU||(uU={}));(function(J){function $(X){var Q=X;return typeof Q==="string"}J.is=$})(k5||(k5={}));(function(J){function $(Z,G,q){return{range:Z,newText:G,annotationId:q}}J.replace=$;function X(Z,G,q){return{range:{start:Z,end:Z},newText:G,annotationId:q}}J.insert=X;function Q(Z,G){return{range:Z,newText:"",annotationId:G}}J.del=Q;function Y(Z){var G=Z;return FZ.is(G)&&(uU.is(G.annotationId)||k5.is(G.annotationId))}J.is=Y})(BZ||(BZ={}));(function(J){function $(Q,Y){return{textDocument:Q,edits:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&$M.is(Y.textDocument)&&Array.isArray(Y.edits)}J.is=X})(JM||(JM={}));(function(J){function $(Q,Y,Z){var G={kind:"create",uri:Q};if(Y!==void 0&&(Y.overwrite!==void 0||Y.ignoreIfExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="create"&&G0.string(Y.uri)&&(Y.options===void 0||(Y.options.overwrite===void 0||G0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||G0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||k5.is(Y.annotationId))}J.is=X})(OW||(OW={}));(function(J){function $(Q,Y,Z,G){var q={kind:"rename",oldUri:Q,newUri:Y};if(Z!==void 0&&(Z.overwrite!==void 0||Z.ignoreIfExists!==void 0))q.options=Z;if(G!==void 0)q.annotationId=G;return q}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="rename"&&G0.string(Y.oldUri)&&G0.string(Y.newUri)&&(Y.options===void 0||(Y.options.overwrite===void 0||G0.boolean(Y.options.overwrite))&&(Y.options.ignoreIfExists===void 0||G0.boolean(Y.options.ignoreIfExists)))&&(Y.annotationId===void 0||k5.is(Y.annotationId))}J.is=X})(TW||(TW={}));(function(J){function $(Q,Y,Z){var G={kind:"delete",uri:Q};if(Y!==void 0&&(Y.recursive!==void 0||Y.ignoreIfNotExists!==void 0))G.options=Y;if(Z!==void 0)G.annotationId=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&Y.kind==="delete"&&G0.string(Y.uri)&&(Y.options===void 0||(Y.options.recursive===void 0||G0.boolean(Y.options.recursive))&&(Y.options.ignoreIfNotExists===void 0||G0.boolean(Y.options.ignoreIfNotExists)))&&(Y.annotationId===void 0||k5.is(Y.annotationId))}J.is=X})(NW||(NW={}));(function(J){function $(X){var Q=X;return Q&&(Q.changes!==void 0||Q.documentChanges!==void 0)&&(Q.documentChanges===void 0||Q.documentChanges.every(function(Y){if(G0.string(Y.kind))return OW.is(Y)||TW.is(Y)||NW.is(Y);else return JM.is(Y)}))}J.is=$})(pS||(pS={}));oR=function(){function J($,X){this.edits=$,this.changeAnnotations=X}return J.prototype.insert=function($,X,Q){var Y,Z;if(Q===void 0)Y=FZ.insert($,X);else if(k5.is(Q))Z=Q,Y=BZ.insert($,X,Q);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(Q),Y=BZ.insert($,X,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.replace=function($,X,Q){var Y,Z;if(Q===void 0)Y=FZ.replace($,X);else if(k5.is(Q))Z=Q,Y=BZ.replace($,X,Q);else this.assertChangeAnnotations(this.changeAnnotations),Z=this.changeAnnotations.manage(Q),Y=BZ.replace($,X,Z);if(this.edits.push(Y),Z!==void 0)return Z},J.prototype.delete=function($,X){var Q,Y;if(X===void 0)Q=FZ.del($);else if(k5.is(X))Y=X,Q=BZ.del($,X);else this.assertChangeAnnotations(this.changeAnnotations),Y=this.changeAnnotations.manage(X),Q=BZ.del($,Y);if(this.edits.push(Q),Y!==void 0)return Y},J.prototype.add=function($){this.edits.push($)},J.prototype.all=function(){return this.edits},J.prototype.clear=function(){this.edits.splice(0,this.edits.length)},J.prototype.assertChangeAnnotations=function($){if($===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},J}(),se=function(){function J($){this._annotations=$===void 0?Object.create(null):$,this._counter=0,this._size=0}return J.prototype.all=function(){return this._annotations},Object.defineProperty(J.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),J.prototype.manage=function($,X){var Q;if(k5.is($))Q=$;else Q=this.nextId(),X=$;if(this._annotations[Q]!==void 0)throw new Error("Id "+Q+" is already in use.");if(X===void 0)throw new Error("No annotation provided for id "+Q);return this._annotations[Q]=X,this._size++,Q},J.prototype.nextId=function(){return this._counter++,this._counter.toString()},J}(),DY1=function(){function J($){var X=this;if(this._textEditChanges=Object.create(null),$!==void 0){if(this._workspaceEdit=$,$.documentChanges)this._changeAnnotations=new se($.changeAnnotations),$.changeAnnotations=this._changeAnnotations.all(),$.documentChanges.forEach(function(Q){if(JM.is(Q)){var Y=new oR(Q.edits,X._changeAnnotations);X._textEditChanges[Q.textDocument.uri]=Y}});else if($.changes)Object.keys($.changes).forEach(function(Q){var Y=new oR($.changes[Q]);X._textEditChanges[Q]=Y})}else this._workspaceEdit={}}return Object.defineProperty(J.prototype,"edit",{get:function(){if(this.initDocumentChanges(),this._changeAnnotations!==void 0)if(this._changeAnnotations.size===0)this._workspaceEdit.changeAnnotations=void 0;else this._workspaceEdit.changeAnnotations=this._changeAnnotations.all();return this._workspaceEdit},enumerable:!1,configurable:!0}),J.prototype.getTextEditChange=function($){if($M.is($)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var X={uri:$.uri,version:$.version},Q=this._textEditChanges[X.uri];if(!Q){var Y=[],Z={textDocument:X,edits:Y};this._workspaceEdit.documentChanges.push(Z),Q=new oR(Y,this._changeAnnotations),this._textEditChanges[X.uri]=Q}return Q}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var Q=this._textEditChanges[$];if(!Q){var Y=[];this._workspaceEdit.changes[$]=Y,Q=new oR(Y),this._textEditChanges[$]=Q}return Q}},J.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._changeAnnotations=new se,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()},J.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0)this._workspaceEdit.changes=Object.create(null)},J.prototype.createFile=function($,X,Q){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(uU.is(X)||k5.is(X))Y=X;else Q=X;var Z,G;if(Y===void 0)Z=OW.create($,Q);else G=k5.is(Y)?Y:this._changeAnnotations.manage(Y),Z=OW.create($,Q,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J.prototype.renameFile=function($,X,Q,Y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Z;if(uU.is(Q)||k5.is(Q))Z=Q;else Y=Q;var G,q;if(Z===void 0)G=TW.create($,X,Y);else q=k5.is(Z)?Z:this._changeAnnotations.manage(Z),G=TW.create($,X,Y,q);if(this._workspaceEdit.documentChanges.push(G),q!==void 0)return q},J.prototype.deleteFile=function($,X,Q){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Y;if(uU.is(X)||k5.is(X))Y=X;else Q=X;var Z,G;if(Y===void 0)Z=NW.create($,Q);else G=k5.is(Y)?Y:this._changeAnnotations.manage(Y),Z=NW.create($,Q,G);if(this._workspaceEdit.documentChanges.push(Z),G!==void 0)return G},J}();(function(J){function $(Q){return{uri:Q}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.string(Y.uri)}J.is=X})(ae||(ae={}));(function(J){function $(Q,Y){return{uri:Q,version:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.string(Y.uri)&&G0.integer(Y.version)}J.is=X})(re||(re={}));(function(J){function $(Q,Y){return{uri:Q,version:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.string(Y.uri)&&(Y.version===null||G0.integer(Y.version))}J.is=X})($M||($M={}));(function(J){function $(Q,Y,Z,G){return{uri:Q,languageId:Y,version:Z,text:G}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.string(Y.uri)&&G0.string(Y.languageId)&&G0.integer(Y.version)&&G0.string(Y.text)}J.is=X})(ie||(ie={}));(function(J){J.PlainText="plaintext",J.Markdown="markdown"})(_W||(_W={}));(function(J){function $(X){var Q=X;return Q===J.PlainText||Q===J.Markdown}J.is=$})(_W||(_W={}));(function(J){function $(X){var Q=X;return G0.objectLiteral(X)&&_W.is(Q.kind)&&G0.string(Q.value)}J.is=$})(mS||(mS={}));(function(J){J.Text=1,J.Method=2,J.Function=3,J.Constructor=4,J.Field=5,J.Variable=6,J.Class=7,J.Interface=8,J.Module=9,J.Property=10,J.Unit=11,J.Value=12,J.Enum=13,J.Keyword=14,J.Snippet=15,J.Color=16,J.File=17,J.Reference=18,J.Folder=19,J.EnumMember=20,J.Constant=21,J.Struct=22,J.Event=23,J.Operator=24,J.TypeParameter=25})(F7||(F7={}));(function(J){J.PlainText=1,J.Snippet=2})(uS||(uS={}));(function(J){J.Deprecated=1})(ne||(ne={}));(function(J){function $(Q,Y,Z){return{newText:Q,insert:Y,replace:Z}}J.create=$;function X(Q){var Y=Q;return Y&&G0.string(Y.newText)&&W5.is(Y.insert)&&W5.is(Y.replace)}J.is=X})(oe||(oe={}));(function(J){J.asIs=1,J.adjustIndentation=2})(te||(te={}));(function(J){function $(X){return{label:X}}J.create=$})(ee||(ee={}));(function(J){function $(X,Q){return{items:X?X:[],isIncomplete:!!Q}}J.create=$})(J00||(J00={}));(function(J){function $(Q){return Q.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}J.fromPlainText=$;function X(Q){var Y=Q;return G0.string(Y)||G0.objectLiteral(Y)&&G0.string(Y.language)&&G0.string(Y.value)}J.is=X})(XM||(XM={}));(function(J){function $(X){var Q=X;return!!Q&&G0.objectLiteral(Q)&&(mS.is(Q.contents)||XM.is(Q.contents)||G0.typedArray(Q.contents,XM.is))&&(X.range===void 0||W5.is(X.range))}J.is=$})($00||($00={}));(function(J){function $(X,Q){return Q?{label:X,documentation:Q}:{label:X}}J.create=$})(X00||(X00={}));(function(J){function $(X,Q){var Y=[];for(var Z=2;Z<arguments.length;Z++)Y[Z-2]=arguments[Z];var G={label:X};if(G0.defined(Q))G.documentation=Q;if(G0.defined(Y))G.parameters=Y;else G.parameters=[];return G}J.create=$})(Q00||(Q00={}));(function(J){J.Text=1,J.Read=2,J.Write=3})(RW||(RW={}));(function(J){function $(X,Q){var Y={range:X};if(G0.number(Q))Y.kind=Q;return Y}J.create=$})(Y00||(Y00={}));(function(J){J.File=1,J.Module=2,J.Namespace=3,J.Package=4,J.Class=5,J.Method=6,J.Property=7,J.Field=8,J.Constructor=9,J.Enum=10,J.Interface=11,J.Function=12,J.Variable=13,J.Constant=14,J.String=15,J.Number=16,J.Boolean=17,J.Array=18,J.Object=19,J.Key=20,J.Null=21,J.EnumMember=22,J.Struct=23,J.Event=24,J.Operator=25,J.TypeParameter=26})(K7||(K7={}));(function(J){J.Deprecated=1})(Z00||(Z00={}));(function(J){function $(X,Q,Y,Z,G){var q={name:X,kind:Q,location:{uri:Z,range:Y}};if(G)q.containerName=G;return q}J.create=$})(G00||(G00={}));(function(J){function $(Q,Y,Z,G,q,U){var H={name:Q,detail:Y,kind:Z,range:G,selectionRange:q};if(U!==void 0)H.children=U;return H}J.create=$;function X(Q){var Y=Q;return Y&&G0.string(Y.name)&&G0.number(Y.kind)&&W5.is(Y.range)&&W5.is(Y.selectionRange)&&(Y.detail===void 0||G0.string(Y.detail))&&(Y.deprecated===void 0||G0.boolean(Y.deprecated))&&(Y.children===void 0||Array.isArray(Y.children))&&(Y.tags===void 0||Array.isArray(Y.tags))}J.is=X})(q00||(q00={}));(function(J){J.Empty="",J.QuickFix="quickfix",J.Refactor="refactor",J.RefactorExtract="refactor.extract",J.RefactorInline="refactor.inline",J.RefactorRewrite="refactor.rewrite",J.Source="source",J.SourceOrganizeImports="source.organizeImports",J.SourceFixAll="source.fixAll"})(U00||(U00={}));(function(J){function $(Q,Y){var Z={diagnostics:Q};if(Y!==void 0&&Y!==null)Z.only=Y;return Z}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.typedArray(Y.diagnostics,eR.is)&&(Y.only===void 0||G0.typedArray(Y.only,G0.string))}J.is=X})(H00||(H00={}));(function(J){function $(Q,Y,Z){var G={title:Q},q=!0;if(typeof Y==="string")q=!1,G.kind=Y;else if(MW.is(Y))G.command=Y;else G.edit=Y;if(q&&Z!==void 0)G.kind=Z;return G}J.create=$;function X(Q){var Y=Q;return Y&&G0.string(Y.title)&&(Y.diagnostics===void 0||G0.typedArray(Y.diagnostics,eR.is))&&(Y.kind===void 0||G0.string(Y.kind))&&(Y.edit!==void 0||Y.command!==void 0)&&(Y.command===void 0||MW.is(Y.command))&&(Y.isPreferred===void 0||G0.boolean(Y.isPreferred))&&(Y.edit===void 0||pS.is(Y.edit))}J.is=X})(z00||(z00={}));(function(J){function $(Q,Y){var Z={range:Q};if(G0.defined(Y))Z.data=Y;return Z}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&W5.is(Y.range)&&(G0.undefined(Y.command)||MW.is(Y.command))}J.is=X})(V00||(V00={}));(function(J){function $(Q,Y){return{tabSize:Q,insertSpaces:Y}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&G0.uinteger(Y.tabSize)&&G0.boolean(Y.insertSpaces)}J.is=X})(j00||(j00={}));(function(J){function $(Q,Y,Z){return{range:Q,target:Y,data:Z}}J.create=$;function X(Q){var Y=Q;return G0.defined(Y)&&W5.is(Y.range)&&(G0.undefined(Y.target)||G0.string(Y.target))}J.is=X})(W00||(W00={}));(function(J){function $(Q,Y){return{range:Q,parent:Y}}J.create=$;function X(Q){var Y=Q;return Y!==void 0&&W5.is(Y.range)&&(Y.parent===void 0||J.is(Y.parent))}J.is=X})(B00||(B00={}));(function(J){function $(Z,G,q,U){return new mY0(Z,G,q,U)}J.create=$;function X(Z){var G=Z;return G0.defined(G)&&G0.string(G.uri)&&(G0.undefined(G.languageId)||G0.string(G.languageId))&&G0.uinteger(G.lineCount)&&G0.func(G.getText)&&G0.func(G.positionAt)&&G0.func(G.offsetAt)?!0:!1}J.is=X;function Q(Z,G){var q=Z.getText(),U=Y(G,function(B,K){var P=B.range.start.line-K.range.start.line;if(P===0)return B.range.start.character-K.range.start.character;return P}),H=q.length;for(var z=U.length-1;z>=0;z--){var V=U[z],j=Z.offsetAt(V.range.start),W=Z.offsetAt(V.range.end);if(W<=H)q=q.substring(0,j)+V.newText+q.substring(W,q.length);else throw new Error("Overlapping edit");H=j}return q}J.applyEdits=Q;function Y(Z,G){if(Z.length<=1)return Z;var q=Z.length/2|0,U=Z.slice(0,q),H=Z.slice(q);Y(U,G),Y(H,G);var z=0,V=0,j=0;while(z<U.length&&V<H.length){var W=G(U[z],H[V]);if(W<=0)Z[j++]=U[z++];else Z[j++]=H[V++]}while(z<U.length)Z[j++]=U[z++];while(V<H.length)Z[j++]=H[V++];return Z}})(F00||(F00={}));mY0=function(){function J($,X,Q,Y){this._uri=$,this._languageId=X,this._version=Q,this._content=Y,this._lineOffsets=void 0}return Object.defineProperty(J.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),J.prototype.getText=function($){if($){var X=this.offsetAt($.start),Q=this.offsetAt($.end);return this._content.substring(X,Q)}return this._content},J.prototype.update=function($,X){this._content=$.text,this._version=X,this._lineOffsets=void 0},J.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var $=[],X=this._content,Q=!0;for(var Y=0;Y<X.length;Y++){if(Q)$.push(Y),Q=!1;var Z=X.charAt(Y);if(Q=Z==="\r"||Z==="\n",Z==="\r"&&Y+1<X.length&&X.charAt(Y+1)==="\n")Y++}if(Q&&X.length>0)$.push(X.length);this._lineOffsets=$}return this._lineOffsets},J.prototype.positionAt=function($){$=Math.max(Math.min($,this._content.length),0);var X=this.getLineOffsets(),Q=0,Y=X.length;if(Y===0)return qX.create(0,$);while(Q<Y){var Z=Math.floor((Q+Y)/2);if(X[Z]>$)Y=Z;else Q=Z+1}var G=Q-1;return qX.create(G,$-X[G])},J.prototype.offsetAt=function($){var X=this.getLineOffsets();if($.line>=X.length)return this._content.length;else if($.line<0)return 0;var Q=X[$.line],Y=$.line+1<X.length?X[$.line+1]:this._content.length;return Math.max(Math.min(Q+$.character,Y),Q)},Object.defineProperty(J.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),J}();(function(J){var $=Object.prototype.toString;function X(W){return typeof W!=="undefined"}J.defined=X;function Q(W){return typeof W==="undefined"}J.undefined=Q;function Y(W){return W===!0||W===!1}J.boolean=Y;function Z(W){return $.call(W)==="[object String]"}J.string=Z;function G(W){return $.call(W)==="[object Number]"}J.number=G;function q(W,B,K){return $.call(W)==="[object Number]"&&B<=W&&W<=K}J.numberRange=q;function U(W){return $.call(W)==="[object Number]"&&-2147483648<=W&&W<=2147483647}J.integer=U;function H(W){return $.call(W)==="[object Number]"&&0<=W&&W<=2147483647}J.uinteger=H;function z(W){return $.call(W)==="[object Function]"}J.func=z;function V(W){return W!==null&&typeof W==="object"}J.objectLiteral=V;function j(W,B){return Array.isArray(W)&&W.every(B)}J.typedArray=j})(G0||(G0={}));O00=class{constructor(J,$,X){this._languageId=J,this._worker=$,this._disposables=[],this._listener=Object.create(null);const Q=(Z)=>{let G=Z.getLanguageId();if(G!==this._languageId)return;let q;this._listener[Z.uri.toString()]=Z.onDidChangeContent(()=>{window.clearTimeout(q),q=window.setTimeout(()=>this._doValidate(Z.uri,G),500)}),this._doValidate(Z.uri,G)},Y=(Z)=>{f1.editor.setModelMarkers(Z,this._languageId,[]);let G=Z.uri.toString(),q=this._listener[G];if(q)q.dispose(),delete this._listener[G]};this._disposables.push(f1.editor.onDidCreateModel(Q)),this._disposables.push(f1.editor.onWillDisposeModel(Y)),this._disposables.push(f1.editor.onDidChangeModelLanguage((Z)=>{Y(Z.model),Q(Z.model)})),this._disposables.push(X((Z)=>{f1.editor.getModels().forEach((G)=>{if(G.getLanguageId()===this._languageId)Y(G),Q(G)})})),this._disposables.push({dispose:()=>{f1.editor.getModels().forEach(Y);for(let Z in this._listener)this._listener[Z].dispose()}}),f1.editor.getModels().forEach(Q)}dispose(){this._disposables.forEach((J)=>J&&J.dispose()),this._disposables.length=0}_doValidate(J,$){this._worker(J).then((X)=>{return X.doValidation(J.toString())}).then((X)=>{const Q=X.map((Z)=>cY0(J,Z));let Y=f1.editor.getModel(J);if(Y&&Y.getLanguageId()===$)f1.editor.setModelMarkers(Y,$,Q)}).then(void 0,(X)=>{console.error(X)})}},T00=class{constructor(J,$){this._worker=J,this._triggerCharacters=$}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doComplete(Y.toString(),KZ($))}).then((Z)=>{if(!Z)return;const G=J.getWordUntilPosition($),q=new f1.Range($.lineNumber,G.startColumn,$.lineNumber,G.endColumn),U=Z.items.map((H)=>{const z={label:H.label,insertText:H.insertText||H.label,sortText:H.sortText,filterText:H.filterText,documentation:H.documentation,detail:H.detail,command:sY0(H.command),range:q,kind:dY0(H.kind)};if(H.textEdit){if(lY0(H.textEdit))z.range={insert:I5(H.textEdit.insert),replace:I5(H.textEdit.replace)};else z.range=I5(H.textEdit.range);z.insertText=H.textEdit.newText}if(H.additionalTextEdits)z.additionalTextEdits=H.additionalTextEdits.map(cU);if(H.insertTextFormat===uS.Snippet)z.insertTextRules=f1.languages.CompletionItemInsertTextRule.InsertAsSnippet;return z});return{isIncomplete:Z.isIncomplete,suggestions:U}})}},N00=class{constructor(J){this._worker=J}provideHover(J,$,X){let Q=J.uri;return this._worker(Q).then((Y)=>{return Y.doHover(Q.toString(),KZ($))}).then((Y)=>{if(!Y)return;return{range:I5(Y.range),contents:rY0(Y.contents)}})}},iY0=class{constructor(J){this._worker=J}provideDocumentHighlights(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.findDocumentHighlights(Q.toString(),KZ($))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{return{range:I5(Z.range),kind:nY0(Z.kind)}})})}},oY0=class{constructor(J){this._worker=J}provideDefinition(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>{return Y.findDefinition(Q.toString(),KZ($))}).then((Y)=>{if(!Y)return;return[_00(Y)]})}},tY0=class{constructor(J){this._worker=J}provideReferences(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.findReferences(Y.toString(),KZ($))}).then((Z)=>{if(!Z)return;return Z.map(_00)})}},eY0=class{constructor(J){this._worker=J}provideRenameEdits(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.doRename(Y.toString(),KZ($),X)}).then((Z)=>{return JZ0(Z)})}},w00=class{constructor(J){this._worker=J}provideDocumentSymbols(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentSymbols(X.toString())).then((Q)=>{if(!Q)return;return Q.map((Y)=>{if($Z0(Y))return L00(Y);return{name:Y.name,detail:"",containerName:Y.containerName,kind:E00(Y.kind),range:I5(Y.location.range),selectionRange:I5(Y.location.range),tags:[]}})})}},XZ0=class{constructor(J){this._worker=J}provideLinks(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentLinks(X.toString())).then((Q)=>{if(!Q)return;return{links:Q.map((Y)=>({range:I5(Y.range),url:Y.target}))}})}},k00=class{constructor(J){this._worker=J}provideDocumentFormattingEdits(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>{return Y.format(Q.toString(),null,y00($)).then((Z)=>{if(!Z||Z.length===0)return;return Z.map(cU)})})}},I00=class{constructor(J){this._worker=J,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(J,$,X,Q){const Y=J.uri;return this._worker(Y).then((Z)=>{return Z.format(Y.toString(),cS($),y00(X)).then((G)=>{if(!G||G.length===0)return;return G.map(cU)})})}},S00=class{constructor(J){this._worker=J}provideDocumentColors(J,$){const X=J.uri;return this._worker(X).then((Q)=>Q.findDocumentColors(X.toString())).then((Q)=>{if(!Q)return;return Q.map((Y)=>({color:Y.color,range:I5(Y.range)}))})}provideColorPresentations(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getColorPresentations(Q.toString(),$.color,cS($.range))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{let G={label:Z.label};if(Z.textEdit)G.textEdit=cU(Z.textEdit);if(Z.additionalTextEdits)G.additionalTextEdits=Z.additionalTextEdits.map(cU);return G})})}},C00=class{constructor(J){this._worker=J}provideFoldingRanges(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getFoldingRanges(Q.toString(),$)).then((Y)=>{if(!Y)return;return Y.map((Z)=>{const G={start:Z.startLine+1,end:Z.endLine+1};if(typeof Z.kind!=="undefined")G.kind=QZ0(Z.kind);return G})})}},x00=class{constructor(J){this._worker=J}provideSelectionRanges(J,$,X){const Q=J.uri;return this._worker(Q).then((Y)=>Y.getSelectionRanges(Q.toString(),$.map(KZ))).then((Y)=>{if(!Y)return;return Y.map((Z)=>{const G=[];while(Z)G.push({range:I5(Z.range)}),Z=Z.parent;return G})})}};(function(J){J.DEFAULT={allowTrailingComma:!1}})(A00||(A00={}));ZZ0=YZ0,P00="delimiter.bracket.json",D00="delimiter.array.json",qZ0="delimiter.colon.json",UZ0="delimiter.comma.json",HZ0="keyword.json",zZ0="keyword.json",VZ0="string.value.json",jZ0="number.json",WZ0="string.key.json",BZ0="comment.block.json",FZ0="comment.line.json",PW=class J{constructor($,X){this.parent=$,this.type=X}static pop($){if($)return $.parent;return null}static push($,X){return new J($,X)}static equals($,X){if(!$&&!X)return!0;if(!$||!X)return!1;while($&&X){if($===X)return!0;if($.type!==X.type)return!1;$=$.parent,X=X.parent}return!0}},b00=class J{constructor($,X,Q,Y){this._state=$,this.scanError=X,this.lastWasColon=Q,this.parents=Y}clone(){return new J(this._state,this.scanError,this.lastWasColon,this.parents)}equals($){if($===this)return!0;if(!$||!($ instanceof J))return!1;return this.scanError===$.scanError&&this.lastWasColon===$.lastWasColon&&PW.equals(this.parents,$.parents)}getStateData(){return this._state}setStateData($){this._state=$}},PZ0=class extends O00{constructor(J,$,X){super(J,$,X.onDidChange);this._disposables.push(f1.editor.onWillDisposeModel((Q)=>{this._resetSchema(Q.uri)})),this._disposables.push(f1.editor.onDidChangeModelLanguage((Q)=>{this._resetSchema(Q.model.uri)}))}_resetSchema(J){this._worker().then(($)=>{$.resetSchema(J.toString())})}},RZ0={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]}});var c00={};TZ(c00,{language:()=>{{return SZ0}},conf:()=>{{return yZ0}}});var yZ0,SZ0;var l00=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/yZ0={comments:{lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},SZ0={defaultToken:"",tokenPostfix:".ini",escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^\[[^\]]*\]/,"metatag"],[/(^\w+)(\s*)(\=)/,["key","","delimiter"]],{include:"@whitespace"},[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],whitespace:[[/[ \t\r\n]+/,""],[/^\s*[#;].*$/,"comment"]],string:[[/[^\\"']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}]]}}});var d00={};TZ(d00,{language:()=>{{return xZ0}},conf:()=>{{return CZ0}}});var CZ0,xZ0;var s00=N(()=>{/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/CZ0={comments:{blockComment:["<!--","-->"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">",notIn:["string"]}],surroundingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"`",close:"`"}],folding:{markers:{start:new RegExp("^\\s*<!--\\s*#?region\\b.*-->"),end:new RegExp("^\\s*<!--\\s*#?endregion\\b.*-->")}}},xZ0={defaultToken:"",tokenPostfix:".md",control:/[\\`*_\[\]{}()#+\-\.!]/,noncontrol:/[^\\`*_\[\]{}()#+\-\.!]/,escapes:/\\(?:@control)/,jsescapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,empty:["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param"],tokenizer:{root:[[/^\s*\|/,"@rematch","@table_header"],[/^(\s{0,3})(#+)((?:[^\\#]|@escapes)+)((?:#+)?)/,["white","keyword","keyword","keyword"]],[/^\s*(=+|\-+)\s*$/,"keyword"],[/^\s*((\*[ ]?)+)\s*$/,"meta.separator"],[/^\s*>+/,"comment"],[/^\s*([\*\-+:]|\d+\.)\s/,"keyword"],[/^(\t|[ ]{4})[^ ].*$/,"string"],[/^\s*~~~\s*((?:\w|[\/\-#])+)?\s*$/,{token:"string",next:"@codeblock"}],[/^\s*```\s*((?:\w|[\/\-#])+).*$/,{token:"string",next:"@codeblockgh",nextEmbedded:"$1"}],[/^\s*```\s*$/,{token:"string",next:"@codeblock"}],{include:"@linecontent"}],table_header:[{include:"@table_common"},[/[^\|]+/,"keyword.table.header"]],table_body:[{include:"@table_common"},{include:"@linecontent"}],table_common:[[/\s*[\-:]+\s*/,{token:"keyword",switchTo:"table_body"}],[/^\s*\|/,"keyword.table.left"],[/^\s*[^\|]/,"@rematch","@pop"],[/^\s*$/,"@rematch","@pop"],[/\|/,{cases:{"@eos":"keyword.table.right","@default":"keyword.table.middle"}}]],codeblock:[[/^\s*~~~\s*$/,{token:"string",next:"@pop"}],[/^\s*```\s*$/,{token:"string",next:"@pop"}],[/.*$/,"variable.source"]],codeblockgh:[[/```\s*$/,{token:"string",next:"@pop",nextEmbedded:"@pop"}],[/[^`]+/,"variable.source"]],linecontent:[[/&\w+;/,"string.escape"],[/@escapes/,"escape"],[/\b__([^\\_]|@escapes|_(?!_))+__\b/,"strong"],[/\*\*([^\\*]|@escapes|\*(?!\*))+\*\*/,"strong"],[/\b_[^_]+_\b/,"emphasis"],[/\*([^\\*]|@escapes)+\*/,"emphasis"],[/`([^\\`]|@escapes)+`/,"variable"],[/\{+[^}]+\}+/,"string.target"],[/(!?\[)((?:[^\]\\]|@escapes)*)(\]\([^\)]+\))/,["string.link","","string.link"]],[/(!?\[)((?:[^\]\\]|@escapes)*)(\])/,"string.link"],{include:"html"}],html:[[/<(\w+)\/>/,"tag"],[/<(\w+)(\-|\w)*/,{cases:{"@empty":{token:"tag",next:"@tag.$1"},"@default":{token:"tag",next:"@tag.$1"}}}],[/<\/(\w+)(\-|\w)*\s*>/,{token:"tag"}],[/<!--/,"comment","@comment"]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,"comment","@pop"],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],tag:[[/[ \t\r\n]+/,"white"],[/(type)(\s*=\s*)(")([^"]+)(")/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(type)(\s*=\s*)(')([^']+)(')/,["attribute.name.html","delimiter.html","string.html",{token:"string.html",switchTo:"@tag.$S2.$4"},"string.html"]],[/(\w+)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name.html","delimiter.html","string.html"]],[/\w+/,"attribute.name.html"],[/\/>/,"tag","@pop"],[/>/,{cases:{"$S2==style":{token:"tag",switchTo:"embeddedStyle",nextEmbedded:"text/css"},"$S2==script":{cases:{$S3:{token:"tag",switchTo:"embeddedScript",nextEmbedded:"$S3"},"@default":{token:"tag",switchTo:"embeddedScript",nextEmbedded:"text/javascript"}}},"@default":{token:"tag",next:"@pop"}}}]],embeddedStyle:[[/[^<]+/,""],[/<\/style\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]],embeddedScript:[[/[^<]+/,""],[/<\/script\s*>/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/</,""]]}}});var i00={};TZ(i00,{language:()=>{{return mZ0}},conf:()=>{{return pZ0}}});var bZ0,vZ0,fZ0,hZ0,a00,gZ0,r00,pZ0,mZ0;var n00=N(()=>{l4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/bZ0=Object.defineProperty,vZ0=Object.getOwnPropertyDescriptor,fZ0=Object.getOwnPropertyNames,hZ0=Object.prototype.hasOwnProperty,a00=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of fZ0($))if(!hZ0.call(J,Y)&&Y!==X)bZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=vZ0($,Y))||Q.enumerable})}return J},gZ0=(J,$,X)=>(a00(J,$,"default"),X&&a00(X,$,"default")),r00={};gZ0(r00,JJ);pZ0={comments:{lineComment:"#",blockComment:["'''","'''"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("^\\s*(?:def|class|for|if|elif|else|while|try|with|finally|except|async|match|case).*?:\\s*$"),action:{indentAction:r00.languages.IndentAction.Indent}}],folding:{offSide:!0,markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},mZ0={defaultToken:"",tokenPostfix:".python",keywords:["False","None","True","_","and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","exec","finally","for","from","global","if","import","in","is","lambda","match","nonlocal","not","or","pass","print","raise","return","try","type","while","with","yield","int","float","long","complex","hex","abs","all","any","apply","basestring","bin","bool","buffer","bytearray","callable","chr","classmethod","cmp","coerce","compile","complex","delattr","dict","dir","divmod","enumerate","eval","execfile","file","filter","format","frozenset","getattr","globals","hasattr","hash","help","id","input","intern","isinstance","issubclass","iter","len","locals","list","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","reversed","range","raw_input","reduce","reload","repr","reversed","round","self","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","unichr","unicode","vars","xrange","zip","__dict__","__methods__","__members__","__class__","__bases__","__name__","__mro__","__subclasses__","__init__","__import__"],brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"}],tokenizer:{root:[{include:"@whitespace"},{include:"@numbers"},{include:"@strings"},[/[,:;]/,"delimiter"],[/[{}\[\]()]/,"@brackets"],[/@[a-zA-Z_]\w*/,"tag"],[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}]],whitespace:[[/\s+/,"white"],[/(^#.*$)/,"comment"],[/'''/,"string","@endDocString"],[/"""/,"string","@endDblDocString"]],endDocString:[[/[^']+/,"string"],[/\\'/,"string"],[/'''/,"string","@popall"],[/'/,"string"]],endDblDocString:[[/[^"]+/,"string"],[/\\"/,"string"],[/"""/,"string","@popall"],[/"/,"string"]],numbers:[[/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/,"number.hex"],[/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/,"number"]],strings:[[/'$/,"string.escape","@popall"],[/'/,"string.escape","@stringBody"],[/"$/,"string.escape","@popall"],[/"/,"string.escape","@dblStringBody"]],stringBody:[[/[^\\']+$/,"string","@popall"],[/[^\\']+/,"string"],[/\\./,"string"],[/'/,"string.escape","@popall"],[/\\$/,"string"]],dblStringBody:[[/[^\\"]+$/,"string","@popall"],[/[^\\"]+/,"string"],[/\\./,"string"],[/"/,"string.escape","@popall"],[/\\$/,"string"]]}}});var t00={};TZ(t00,{language:()=>{{return rZ0}},conf:()=>{{return aZ0}}});var uZ0,cZ0,lZ0,dZ0,o00,sZ0,dS,aZ0,rZ0;var e00=N(()=>{l4();/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/uZ0=Object.defineProperty,cZ0=Object.getOwnPropertyDescriptor,lZ0=Object.getOwnPropertyNames,dZ0=Object.prototype.hasOwnProperty,o00=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of lZ0($))if(!dZ0.call(J,Y)&&Y!==X)uZ0(J,Y,{get:()=>$[Y],enumerable:!(Q=cZ0($,Y))||Q.enumerable})}return J},sZ0=(J,$,X)=>(o00(J,$,"default"),X&&o00(X,$,"default")),dS={};sZ0(dS,JJ);aZ0={comments:{blockComment:["<!--","-->"]},brackets:[["<",">"]],autoClosingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],surroundingPairs:[{open:"<",close:">"},{open:"'",close:"'"},{open:'"',close:'"'}],onEnterRules:[{beforeText:new RegExp("<([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:dS.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:dS.languages.IndentAction.Indent}}]},rZ0={defaultToken:"",tokenPostfix:".xml",ignoreCase:!0,qualifiedName:/(?:[\w\.\-]+:)?[\w\.\-]+/,tokenizer:{root:[[/[^<&]+/,""],{include:"@whitespace"},[/(<)(@qualifiedName)/,[{token:"delimiter"},{token:"tag",next:"@tag"}]],[/(<\/)(@qualifiedName)(\s*)(>)/,[{token:"delimiter"},{token:"tag"},"",{token:"delimiter"}]],[/(<\?)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/(<\!)(@qualifiedName)/,[{token:"delimiter"},{token:"metatag",next:"@tag"}]],[/<\!\[CDATA\[/,{token:"delimiter.cdata",next:"@cdata"}],[/&\w+;/,"string.escape"]],cdata:[[/[^\]]+/,""],[/\]\]>/,{token:"delimiter.cdata",next:"@pop"}],[/\]/,""]],tag:[[/[ \t\r\n]+/,""],[/(@qualifiedName)(\s*=\s*)("[^"]*"|'[^']*')/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">?\/]*|'[^'>?\/]*)(?=[\?\/]\>)/,["attribute.name","","attribute.value"]],[/(@qualifiedName)(\s*=\s*)("[^">]*|'[^'>]*)/,["attribute.name","","attribute.value"]],[/@qualifiedName/,"attribute.name"],[/\?>/,{token:"delimiter",next:"@pop"}],[/(\/)(>)/,[{token:"tag"},{token:"delimiter",next:"@pop"}]],[/>/,{token:"delimiter",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]]}}});q1();V0("@font-face{font-family:codicon;font-display:block;src:url(./codicon.ttf)format(\"truetype\")}.codicon[class*=codicon-]{text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-user-select:none;user-select:none;font:16px/1 codicon;text-decoration:none;display:inline-block}");q1();V0(".codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(360deg)}}.codicon-sync.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-gear.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin{animation:1.5s steps(30,end) infinite codicon-spin}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}");l4();l4();import{useRef as iZ0,useEffect as nZ0,useState as aS} from"preact/hooks";import{useEditor as oZ0} from"@blockcode/core";l4();u1();$7();D1();xZ();X0();o0();G8();q1();V0('.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-collapsed{cursor:pointer;opacity:0;justify-content:center;align-items:center;margin-left:2px;font-size:140%;transition:opacity .5s;display:flex}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed{transition:initial}.monaco-editor .margin-view-overlays:hover .codicon,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons{opacity:1}.monaco-editor .inline-folded:after{color:gray;content:"\u22EF";cursor:pointer;margin:.1em .2em 0;line-height:1em;display:inline}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed{color:var(--vscode-editorGutter-foldingControlForeground)!important}');uj();x9();YQ();M7();g7();F0();var sQ0={[0]:" ",[1]:"u",[2]:"r"};var EU=16777215;class NR{constructor(J){const $=Math.ceil(J/32);this._states=new Uint32Array($)}get(J){const $=J/32|0,X=J%32;return(this._states[$]&1<<X)!==0}set(J,$){const X=J/32|0,Q=J%32,Y=this._states[X];if($)this._states[X]=Y|1<<Q;else this._states[X]=Y&~(1<<Q)}}class a7{constructor(J,$,X){if(J.length!==$.length||J.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=J,this._endIndexes=$,this._collapseStates=new NR(J.length),this._userDefinedStates=new NR(J.length),this._recoveredStates=new NR(J.length),this._types=X,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const J=[],$=(X,Q)=>{const Y=J[J.length-1];return this.getStartLineNumber(Y)<=X&&this.getEndLineNumber(Y)>=Q};for(let X=0,Q=this._startIndexes.length;X<Q;X++){const Y=this._startIndexes[X],Z=this._endIndexes[X];if(Y>16777215||Z>16777215)throw new Error("startLineNumber or endLineNumber must not exceed "+16777215);while(J.length>0&&!$(Y,Z))J.pop();const G=J.length>0?J[J.length-1]:-1;J.push(X),this._startIndexes[X]=Y+((G&255)<<24),this._endIndexes[X]=Z+((G&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(J){return this._startIndexes[J]&16777215}getEndLineNumber(J){return this._endIndexes[J]&16777215}getType(J){return this._types?this._types[J]:void 0}hasTypes(){return!!this._types}isCollapsed(J){return this._collapseStates.get(J)}setCollapsed(J,$){this._collapseStates.set(J,$)}isUserDefined(J){return this._userDefinedStates.get(J)}setUserDefined(J,$){return this._userDefinedStates.set(J,$)}isRecovered(J){return this._recoveredStates.get(J)}setRecovered(J,$){return this._recoveredStates.set(J,$)}getSource(J){if(this.isUserDefined(J))return 1;else if(this.isRecovered(J))return 2;return 0}setSource(J,$){if($===1)this.setUserDefined(J,!0),this.setRecovered(J,!1);else if($===2)this.setUserDefined(J,!1),this.setRecovered(J,!0);else this.setUserDefined(J,!1),this.setRecovered(J,!1)}setCollapsedAllOfType(J,$){let X=!1;if(this._types){for(let Q=0;Q<this._types.length;Q++)if(this._types[Q]===J)this.setCollapsed(Q,$),X=!0}return X}toRegion(J){return new xt(this,J)}getParentIndex(J){this.ensureParentIndices();const $=((this._startIndexes[J]&4278190080)>>>24)+((this._endIndexes[J]&4278190080)>>>16);if($===65535)return-1;return $}contains(J,$){return this.getStartLineNumber(J)<=$&&this.getEndLineNumber(J)>=$}findIndex(J){let $=0,X=this._startIndexes.length;if(X===0)return-1;while($<X){const Q=Math.floor(($+X)/2);if(J<this.getStartLineNumber(Q))X=Q;else $=Q+1}return $-1}findRange(J){let $=this.findIndex(J);if($>=0){if(this.getEndLineNumber($)>=J)return $;$=this.getParentIndex($);while($!==-1){if(this.contains($,J))return $;$=this.getParentIndex($)}}return-1}toString(){const J=[];for(let $=0;$<this.length;$++)J[$]=`[${sQ0[this.getSource($)]}${this.isCollapsed($)?"+":"-"}] ${this.getStartLineNumber($)}/${this.getEndLineNumber($)}`;return J.join(", ")}toFoldRange(J){return{startLineNumber:this._startIndexes[J]&16777215,endLineNumber:this._endIndexes[J]&16777215,type:this._types?this._types[J]:void 0,isCollapsed:this.isCollapsed(J),source:this.getSource(J)}}static fromFoldRanges(J){const $=J.length,X=new Uint32Array($),Q=new Uint32Array($);let Y=[],Z=!1;for(let q=0;q<$;q++){const U=J[q];if(X[q]=U.startLineNumber,Q[q]=U.endLineNumber,Y.push(U.type),U.type)Z=!0}if(!Z)Y=void 0;const G=new a7(X,Q,Y);for(let q=0;q<$;q++){if(J[q].isCollapsed)G.setCollapsed(q,!0);G.setSource(q,J[q].source)}return G}static sanitizeAndMerge(J,$,X){X=X!==null&&X!==void 0?X:Number.MAX_VALUE;const Q=(B,K)=>{return Array.isArray(B)?(P)=>{return P<K?B[P]:void 0}:(P)=>{return P<K?B.toFoldRange(P):void 0}},Y=Q(J,J.length),Z=Q($,$.length);let G=0,q=0,U=Y(0),H=Z(0);const z=[];let V,j=0;const W=[];while(U||H){let B=void 0;if(H&&(!U||U.startLineNumber>=H.startLineNumber)){if(U&&U.startLineNumber===H.startLineNumber){if(H.source===1)B=H;else B=U,B.isCollapsed=H.isCollapsed&&U.endLineNumber===H.endLineNumber,B.source=0;U=Y(++G)}else if(B=H,H.isCollapsed&&H.source===0)B.source=2;H=Z(++q)}else{let K=q,P=H;while(!0){if(!P||P.startLineNumber>U.endLineNumber){B=U;break}if(P.source===1&&P.endLineNumber>U.endLineNumber)break;P=Z(++K)}U=Y(++G)}if(B){while(V&&V.endLineNumber<B.startLineNumber)V=z.pop();if(B.endLineNumber>B.startLineNumber&&B.startLineNumber>j&&B.endLineNumber<=X&&(!V||V.endLineNumber>=B.endLineNumber)){if(W.push(B),j=B.startLineNumber,V)z.push(V);V=B}}}return W}}class xt{constructor(J,$){this.ranges=J,this.index=$}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(J){return J.startLineNumber<=this.startLineNumber&&J.endLineNumber>=this.endLineNumber}containsLine(J){return this.startLineNumber<=J&&J<=this.endLineNumber}}tQ();function bt(J,$,X){const Q=[];for(let Y of X){const Z=J.getRegionAtLine(Y);if(Z){const G=!Z.isCollapsed;if(Q.push(Z),$>1){const q=J.getRegionsInside(Z,(U,H)=>U.isCollapsed!==G&&H<$);Q.push(...q)}}}J.toggleCollapseState(Q)}function I2(J,$,X=Number.MAX_VALUE,Q){const Y=[];if(Q&&Q.length>0)for(let Z of Q){const G=J.getRegionAtLine(Z);if(G){if(G.isCollapsed!==$)Y.push(G);if(X>1){const q=J.getRegionsInside(G,(U,H)=>U.isCollapsed!==$&&H<X);Y.push(...q)}}}else{const Z=J.getRegionsInside(null,(G,q)=>G.isCollapsed!==$&&q<X);Y.push(...Z)}J.toggleCollapseState(Y)}function VS(J,$,X,Q){const Y=[];for(let Z of Q){const G=J.getAllRegionsAtLine(Z,(q,U)=>q.isCollapsed!==$&&U<=X);Y.push(...G)}J.toggleCollapseState(Y)}function vt(J,$,X){const Q=[];for(let Y of X){const Z=J.getAllRegionsAtLine(Y,(G)=>G.isCollapsed!==$);if(Z.length>0)Q.push(Z[0])}J.toggleCollapseState(Q)}function ft(J,$,X,Q){const Y=(G,q)=>q===$&&G.isCollapsed!==X&&!Q.some((U)=>G.containsLine(U)),Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function jS(J,$,X){const Q=[];for(let G of X){const q=J.getAllRegionsAtLine(G,void 0);if(q.length>0)Q.push(q[0])}const Y=(G)=>Q.every((q)=>!q.containedBy(G)&&!G.containedBy(q))&&G.isCollapsed!==$,Z=J.getRegionsInside(null,Y);J.toggleCollapseState(Z)}function _R(J,$,X){const{textModel:Q,regions:Y}=J,Z=[];for(let G=Y.length-1;G>=0;G--)if(X!==Y.isCollapsed(G)){const q=Y.getStartLineNumber(G);if($.test(Q.getLineContent(q)))Z.push(Y.toRegion(G))}J.toggleCollapseState(Z)}function wR(J,$,X){const Q=J.regions,Y=[];for(let Z=Q.length-1;Z>=0;Z--)if(X!==Q.isCollapsed(Z)&&$===Q.getType(Z))Y.push(Q.toRegion(Z));J.toggleCollapseState(Y)}function ht(J,$){let X=null;const Q=$.getRegionAtLine(J);if(Q!==null){if(X=Q.startLineNumber,J===X){const Y=Q.parentIndex;if(Y!==-1)X=$.regions.getStartLineNumber(Y);else X=null}}return X}function gt(J,$){let X=$.getRegionAtLine(J);if(X!==null&&X.startLineNumber===J)if(J!==X.startLineNumber)return X.startLineNumber;else{const Q=X.parentIndex;let Y=0;if(Q!==-1)Y=$.regions.getStartLineNumber(X.parentIndex);while(X!==null)if(X.regionIndex>0){if(X=$.regions.toRegion(X.regionIndex-1),X.startLineNumber<=Y)return null;else if(X.parentIndex===Q)return X.startLineNumber}else return null}else if($.regions.length>0){X=$.regions.toRegion($.regions.length-1);while(X!==null){if(X.startLineNumber<J)return X.startLineNumber;if(X.regionIndex>0)X=$.regions.toRegion(X.regionIndex-1);else X=null}}return null}function pt(J,$){let X=$.getRegionAtLine(J);if(X!==null&&X.startLineNumber===J){const Q=X.parentIndex;let Y=0;if(Q!==-1)Y=$.regions.getEndLineNumber(X.parentIndex);else if($.regions.length===0)return null;else Y=$.regions.getEndLineNumber($.regions.length-1);while(X!==null)if(X.regionIndex<$.regions.length){if(X=$.regions.toRegion(X.regionIndex+1),X.startLineNumber>=Y)return null;else if(X.parentIndex===Q)return X.startLineNumber}else return null}else if($.regions.length>0){X=$.regions.toRegion(0);while(X!==null){if(X.startLineNumber>J)return X.startLineNumber;if(X.regionIndex<$.regions.length)X=$.regions.toRegion(X.regionIndex+1);else X=null}}return null}class zS{get regions(){return this._regions}get textModel(){return this._textModel}constructor(J,$){this._updateEventEmitter=new y,this.onDidChange=this._updateEventEmitter.event,this._textModel=J,this._decorationProvider=$,this._regions=new a7(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(J){if(!J.length)return;J=J.sort((X,Q)=>X.regionIndex-Q.regionIndex);const $={};this._decorationProvider.changeDecorations((X)=>{let Q=0,Y=-1,Z=-1;const G=(q)=>{while(Q<q){const U=this._regions.getEndLineNumber(Q),H=this._regions.isCollapsed(Q);if(U<=Y){const z=this.regions.getSource(Q)!==0;X.changeDecorationOptions(this._editorDecorationIds[Q],this._decorationProvider.getDecorationOption(H,U<=Z,z))}if(H&&U>Z)Z=U;Q++}};for(let q of J){const U=q.regionIndex,H=this._editorDecorationIds[U];if(H&&!$[H]){$[H]=!0,G(U);const z=!this._regions.isCollapsed(U);this._regions.setCollapsed(U,z),Y=Math.max(Y,this._regions.getEndLineNumber(U))}}G(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:J})}removeManualRanges(J){const $=new Array,X=(Q)=>{for(let Y of J)if(!(Y.startLineNumber>Q.endLineNumber||Q.startLineNumber>Y.endLineNumber))return!0;return!1};for(let Q=0;Q<this._regions.length;Q++){const Y=this._regions.toFoldRange(Q);if(Y.source===0||!X(Y))$.push(Y)}this.updatePost(a7.fromFoldRanges($))}update(J,$=[]){const X=this._currentFoldedOrManualRanges($),Q=a7.sanitizeAndMerge(J,X,this._textModel.getLineCount());this.updatePost(a7.fromFoldRanges(Q))}updatePost(J){const $=[];let X=-1;for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J.getStartLineNumber(Q),G=J.getEndLineNumber(Q),q=J.isCollapsed(Q),U=J.getSource(Q)!==0,H={startLineNumber:Z,startColumn:this._textModel.getLineMaxColumn(Z),endLineNumber:G,endColumn:this._textModel.getLineMaxColumn(G)+1};if($.push({range:H,options:this._decorationProvider.getDecorationOption(q,G<=X,U)}),q&&G>X)X=G}this._decorationProvider.changeDecorations((Q)=>this._editorDecorationIds=Q.deltaDecorations(this._editorDecorationIds,$)),this._regions=J,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(J=[]){const $=(Q,Y)=>{for(let Z of J)if(Q<Z&&Z<=Y)return!0;return!1},X=[];for(let Q=0,Y=this._regions.length;Q<Y;Q++){let Z=this.regions.isCollapsed(Q);const G=this.regions.getSource(Q);if(Z||G!==0){const q=this._regions.toFoldRange(Q),U=this._textModel.getDecorationRange(this._editorDecorationIds[Q]);if(U){if(Z&&$(U.startLineNumber,U.endLineNumber))Z=!1;X.push({startLineNumber:U.startLineNumber,endLineNumber:U.endLineNumber,type:q.type,isCollapsed:Z,source:G})}}}return X}getMemento(){const J=this._currentFoldedOrManualRanges(),$=[],X=this._textModel.getLineCount();for(let Q=0,Y=J.length;Q<Y;Q++){const Z=J[Q];if(Z.startLineNumber>=Z.endLineNumber||Z.startLineNumber<1||Z.endLineNumber>X)continue;const G=this._getLinesChecksum(Z.startLineNumber+1,Z.endLineNumber);$.push({startLineNumber:Z.startLineNumber,endLineNumber:Z.endLineNumber,isCollapsed:Z.isCollapsed,source:Z.source,checksum:G})}return $.length>0?$:void 0}applyMemento(J){var $,X;if(!Array.isArray(J))return;const Q=[],Y=this._textModel.getLineCount();for(let G of J){if(G.startLineNumber>=G.endLineNumber||G.startLineNumber<1||G.endLineNumber>Y)continue;const q=this._getLinesChecksum(G.startLineNumber+1,G.endLineNumber);if(!G.checksum||q===G.checksum)Q.push({startLineNumber:G.startLineNumber,endLineNumber:G.endLineNumber,type:void 0,isCollapsed:($=G.isCollapsed)!==null&&$!==void 0?$:!0,source:(X=G.source)!==null&&X!==void 0?X:0})}const Z=a7.sanitizeAndMerge(this._regions,Q,Y);this.updatePost(a7.fromFoldRanges(Z))}_getLinesChecksum(J,$){return oQ(this._textModel.getLineContent(J)+this._textModel.getLineContent($))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(J,$){const X=[];if(this._regions){let Q=this._regions.findRange(J),Y=1;while(Q>=0){const Z=this._regions.toRegion(Q);if(!$||$(Z,Y))X.push(Z);Y++,Q=Z.parentIndex}}return X}getRegionAtLine(J){if(this._regions){const $=this._regions.findRange(J);if($>=0)return this._regions.toRegion($)}return null}getRegionsInside(J,$){const X=[],Q=J?J.regionIndex+1:0,Y=J?J.endLineNumber:Number.MAX_VALUE;if($&&$.length===2){const Z=[];for(let G=Q,q=this._regions.length;G<q;G++){const U=this._regions.toRegion(G);if(this._regions.getStartLineNumber(G)<Y){while(Z.length>0&&!U.containedBy(Z[Z.length-1]))Z.pop();if(Z.push(U),$(U,Z.length))X.push(U)}else break}}else for(let Z=Q,G=this._regions.length;Z<G;Z++){const q=this._regions.toRegion(Z);if(this._regions.getStartLineNumber(Z)<Y){if(!$||$(q))X.push(q)}else break}return X}}V4();F0();c0();pG();var aQ0=function(J,$){return J>=$.startLineNumber&&J<=$.endLineNumber},mt=function(J,$){const X=Mq(J,(Q)=>$<Q.startLineNumber)-1;if(X>=0&&J[X].endLineNumber>=$)return J[X];return null};class WS{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(J){if(this._updateEventEmitter=new y,this._hasLineChanges=!1,this._foldingModel=J,this._foldingModelListener=J.onDidChange(($)=>this.updateHiddenRanges()),this._hiddenRanges=[],J.regions.length)this.updateHiddenRanges()}notifyChangeModelContent(J){if(this._hiddenRanges.length&&!this._hasLineChanges)this._hasLineChanges=J.changes.some(($)=>{return $.range.endLineNumber!==$.range.startLineNumber||a9($.text)[0]!==0})}updateHiddenRanges(){let J=!1;const $=[];let X=0,Q=0,Y=Number.MAX_VALUE,Z=-1;const G=this._foldingModel.regions;for(;X<G.length;X++){if(!G.isCollapsed(X))continue;const q=G.getStartLineNumber(X)+1,U=G.getEndLineNumber(X);if(Y<=q&&U<=Z)continue;if(!J&&Q<this._hiddenRanges.length&&this._hiddenRanges[Q].startLineNumber===q&&this._hiddenRanges[Q].endLineNumber===U)$.push(this._hiddenRanges[Q]),Q++;else J=!0,$.push(new L(q,1,U,1));Y=q,Z=U}if(this._hasLineChanges||J||Q<this._hiddenRanges.length)this.applyHiddenRanges($)}applyHiddenRanges(J){this._hiddenRanges=J,this._hasLineChanges=!1,this._updateEventEmitter.fire(J)}hasRanges(){return this._hiddenRanges.length>0}isHidden(J){return mt(this._hiddenRanges,J)!==null}adjustSelections(J){let $=!1;const X=this._foldingModel.textModel;let Q=null;const Y=(Z)=>{if(!Q||!aQ0(Z,Q))Q=mt(this._hiddenRanges,Z);if(Q)return Q.startLineNumber-1;return null};for(let Z=0,G=J.length;Z<G;Z++){let q=J[Z];const U=Y(q.startLineNumber);if(U)q=q.setStartPosition(U,X.getLineMaxColumn(U)),$=!0;const H=Y(q.endLineNumber);if(H)q=q.setEndPosition(H,X.getLineMaxColumn(H)),$=!0;J[Z]=q}return $}dispose(){if(this.hiddenRanges.length>0)this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges);if(this._foldingModelListener)this._foldingModelListener.dispose(),this._foldingModelListener=null}}N_();function oQ0(J,$,X,Q=nQ0){const Y=J.getOptions().tabSize,Z=new ut(Q);let G=void 0;if(X)G=new RegExp(`(${X.start.source})|(?:${X.end.source})`);const q=[],U=J.getLineCount()+1;q.push({indent:-1,endAbove:U,line:U});for(let H=J.getLineCount();H>0;H--){const z=J.getLineContent(H),V=pz(z,Y);let j=q[q.length-1];if(V===-1){if($)j.endAbove=H;continue}let W;if(G&&(W=z.match(G)))if(W[1]){let B=q.length-1;while(B>0&&q[B].indent!==-2)B--;if(B>0){q.length=B+1,j=q[B],Z.insertFirst(H,j.line,V),j.line=H,j.indent=V,j.endAbove=H;continue}}else{q.push({indent:-2,endAbove:H,line:H});continue}if(j.indent>V){do q.pop(),j=q[q.length-1];while(j.indent>V);const B=j.endAbove-1;if(B-H>=1)Z.insertFirst(H,B,V)}if(j.indent===V)j.endAbove=H;else q.push({indent:V,endAbove:H,line:H})}return Z.toIndentRanges(J)}var rQ0=5000,iQ0="indent";class LR{constructor(J,$,X){this.editorModel=J,this.languageConfigurationService=$,this.foldingRangesLimit=X,this.id=iQ0}dispose(){}compute(J){const $=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,X=$&&!!$.offSide,Q=$&&$.markers;return Promise.resolve(oQ0(this.editorModel,X,Q,this.foldingRangesLimit))}}class ut{constructor(J){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=J}insertFirst(J,$,X){if(J>EU||$>EU)return;const Q=this._length;if(this._startIndexes[Q]=J,this._endIndexes[Q]=$,this._length++,X<1000)this._indentOccurrences[X]=(this._indentOccurrences[X]||0)+1}toIndentRanges(J){const $=this._foldingRangesLimit.limit;if(this._length<=$){this._foldingRangesLimit.update(this._length,!1);const X=new Uint32Array(this._length),Q=new Uint32Array(this._length);for(let Y=this._length-1,Z=0;Y>=0;Y--,Z++)X[Z]=this._startIndexes[Y],Q[Z]=this._endIndexes[Y];return new a7(X,Q)}else{this._foldingRangesLimit.update(this._length,$);let X=0,Q=this._indentOccurrences.length;for(let q=0;q<this._indentOccurrences.length;q++){const U=this._indentOccurrences[q];if(U){if(U+X>$){Q=q;break}X+=U}}const Y=J.getOptions().tabSize,Z=new Uint32Array($),G=new Uint32Array($);for(let q=this._length-1,U=0;q>=0;q--){const H=this._startIndexes[q],z=J.getLineContent(H),V=pz(z,Y);if(V<Q||V===Q&&X++<$)Z[U]=H,G[U]=this._endIndexes[q],U++}return new a7(Z,G)}}}var nQ0={limit:rQ0,update:()=>{}};h0();m1();z6();g5();CY();h0();L7();KU();r8();W6();var tQ0=k("editor.foldBackground",{light:L0(sX,0.3),dark:L0(sX,0.3),hcDark:null,hcLight:null},F("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);k("editorGutter.foldingControlForeground",{dark:P4,light:P4,hcDark:P4,hcLight:P4},F("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));var BS=U5("folding-expanded",U0.chevronDown,F("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),FS=U5("folding-collapsed",U0.chevronRight,F("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),ct=U5("folding-manual-collapsed",FS,F("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),lt=U5("folding-manual-expanded",BS,F("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),KS={color:$Q(tQ0),position:LJ.Inline},kU=F("linesCollapsed","Click to expand the range."),ER=F("linesExpanded","Click to collapse the range.");class i8{constructor(J){this.editor=J,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(J,$,X){if($)return i8.HIDDEN_RANGE_DECORATION;if(this.showFoldingControls==="never"){if(J)return this.showFoldingHighlights?i8.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i8.NO_CONTROLS_COLLAPSED_RANGE_DECORATION;return i8.NO_CONTROLS_EXPANDED_RANGE_DECORATION}if(J)return X?this.showFoldingHighlights?i8.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i8.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i8.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i8.COLLAPSED_VISUAL_DECORATION;else if(this.showFoldingControls==="mouseover")return X?i8.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i8.EXPANDED_AUTO_HIDE_VISUAL_DECORATION;else return X?i8.MANUALLY_EXPANDED_VISUAL_DECORATION:i8.EXPANDED_VISUAL_DECORATION}changeDecorations(J){return this.editor.changeDecorations(J)}removeDecorations(J){this.editor.removeDecorations(J)}}i8.COLLAPSED_VISUAL_DECORATION=E1.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:kU,firstLineDecorationClassName:y0.asClassName(FS)});i8.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=E1.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:KS,isWholeLine:!0,linesDecorationsTooltip:kU,firstLineDecorationClassName:y0.asClassName(FS)});i8.MANUALLY_COLLAPSED_VISUAL_DECORATION=E1.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:kU,firstLineDecorationClassName:y0.asClassName(ct)});i8.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=E1.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:KS,isWholeLine:!0,linesDecorationsTooltip:kU,firstLineDecorationClassName:y0.asClassName(ct)});i8.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=E1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:kU});i8.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=E1.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:KS,isWholeLine:!0,linesDecorationsTooltip:kU});i8.EXPANDED_VISUAL_DECORATION=E1.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+y0.asClassName(BS),linesDecorationsTooltip:ER});i8.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=E1.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:y0.asClassName(BS),linesDecorationsTooltip:ER});i8.MANUALLY_EXPANDED_VISUAL_DECORATION=E1.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+y0.asClassName(lt),linesDecorationsTooltip:ER});i8.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=E1.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:y0.asClassName(lt),linesDecorationsTooltip:ER});i8.NO_CONTROLS_EXPANDED_RANGE_DECORATION=E1.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0});i8.HIDDEN_RANGE_DECORATION=E1.register({description:"folding-hidden-range-decoration",stickiness:1});D1();X0();var $Y0=function(J,$,X){let Q=null;const Y=J.map((Z,G)=>{return Promise.resolve(Z.provideFoldingRanges($,eQ0,X)).then((q)=>{if(X.isCancellationRequested)return;if(Array.isArray(q)){if(!Array.isArray(Q))Q=[];const U=$.getLineCount();for(let H of q)if(H.start>0&&H.end>H.start&&H.end<=U)Q.push({start:H.start,end:H.end,rank:G,kind:H.kind})}},J$)});return Promise.all(Y).then((Z)=>{return Q})};function XY0(J,$){const X=J.sort((G,q)=>{let U=G.start-q.start;if(U===0)U=G.rank-q.rank;return U}),Q=new dt($);let Y=void 0;const Z=[];for(let G of X)if(!Y)Y=G,Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else if(G.start>Y.start)if(G.end<=Y.end)Z.push(Y),Y=G,Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length);else{if(G.start>Y.end){do Y=Z.pop();while(Y&&G.start>Y.end);if(Y)Z.push(Y);Y=G}Q.add(G.start,G.end,G.kind&&G.kind.value,Z.length)}return Q.toIndentRanges()}var eQ0={},JY0="syntax";class kR{constructor(J,$,X,Q,Y){if(this.editorModel=J,this.providers=$,this.handleFoldingRangesChange=X,this.foldingRangesLimit=Q,this.fallbackRangeProvider=Y,this.id=JY0,this.disposables=new r,Y)this.disposables.add(Y);for(let Z of $)if(typeof Z.onDidChange==="function")this.disposables.add(Z.onDidChange(X))}compute(J){return $Y0(this.providers,this.editorModel,J).then(($)=>{var X,Q;if($)return XY0($,this.foldingRangesLimit);return(Q=(X=this.fallbackRangeProvider)===null||X===void 0?void 0:X.compute(J))!==null&&Q!==void 0?Q:null})}dispose(){this.disposables.dispose()}}class dt{constructor(J){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=J}add(J,$,X,Q){if(J>EU||$>EU)return;const Y=this._length;if(this._startIndexes[Y]=J,this._endIndexes[Y]=$,this._nestingLevels[Y]=Q,this._types[Y]=X,this._length++,Q<30)this._nestingLevelCounts[Q]=(this._nestingLevelCounts[Q]||0)+1}toIndentRanges(){const J=this._foldingRangesLimit.limit;if(this._length<=J){this._foldingRangesLimit.update(this._length,!1);const $=new Uint32Array(this._length),X=new Uint32Array(this._length);for(let Q=0;Q<this._length;Q++)$[Q]=this._startIndexes[Q],X[Q]=this._endIndexes[Q];return new a7($,X,this._types)}else{this._foldingRangesLimit.update(this._length,J);let $=0,X=this._nestingLevelCounts.length;for(let G=0;G<this._nestingLevelCounts.length;G++){const q=this._nestingLevelCounts[G];if(q){if(q+$>J){X=G;break}$+=q}}const Q=new Uint32Array(J),Y=new Uint32Array(J),Z=[];for(let G=0,q=0;G<this._length;G++){const U=this._nestingLevels[G];if(U<X||U===X&&$++<J)Q[q]=this._startIndexes[G],Y[q]=this._endIndexes[G],Z[q]=this._types[G],q++}return new a7(Q,Y,Z)}}}FQ();ZE();X$();d9();F0();X5();e8();_X();h7();var at=function(J){if(!e6(J)){if(!n8(J))return!1;const $=J;if(!e6($.levels)&&!$9($.levels))return!1;if(!e6($.direction)&&!G6($.direction))return!1;if(!e6($.selectionLines)&&(!Array.isArray($.selectionLines)||!$.selectionLines.every($9)))return!1}return!0},QY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},QW=function(J,$){return function(X,Q){$(X,Q,J)}},IU,I7=new z0("foldingEnabled",!1),y2=IU=class J extends f{static get($){return $.getContribution(IU.ID)}static getFoldingRangeProviders($,X){var Q,Y;const Z=$.foldingRangeProvider.ordered(X);return(Y=(Q=IU._foldingRangeSelector)===null||Q===void 0?void 0:Q.call(IU,Z,X))!==null&&Y!==void 0?Y:Z}constructor($,X,Q,Y,Z,G){super();this.contextKeyService=X,this.languageConfigurationService=Q,this.languageFeaturesService=G,this.localToDispose=this._register(new r),this.editor=$,this._foldingLimitReporter=new st($);const q=this.editor.getOptions();this._isEnabled=q.get(43),this._useFoldingProviders=q.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=q.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=q.get(46),this.updateDebounceInfo=Z.for(G.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new i8($),this.foldingDecorationProvider.showFoldingControls=q.get(109),this.foldingDecorationProvider.showFoldingHighlights=q.get(45),this.foldingEnabled=I7.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration((U)=>{if(U.hasChanged(43))this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged();if(U.hasChanged(47))this.onModelChanged();if(U.hasChanged(109)||U.hasChanged(45)){const H=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=H.get(109),this.foldingDecorationProvider.showFoldingHighlights=H.get(45),this.triggerFoldingModelChanged()}if(U.hasChanged(44))this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged();if(U.hasChanged(48))this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48);if(U.hasChanged(46))this._foldingImportsByDefault=this.editor.getOptions().get(46)})),this.onModelChanged()}saveViewState(){const $=this.editor.getModel();if(!$||!this._isEnabled||$.isTooLargeForTokenization())return{};if(this.foldingModel){const X=this.foldingModel.getMemento(),Q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:X,lineCount:$.getLineCount(),provider:Q,foldedImports:this._currentModelHasFoldedImports}}return}restoreViewState($){const X=this.editor.getModel();if(!X||!this._isEnabled||X.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!$)return;if(this._currentModelHasFoldedImports=!!$.foldedImports,$.collapsedRegions&&$.collapsedRegions.length>0&&this.foldingModel){this._restoringViewState=!0;try{this.foldingModel.applyMemento($.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const $=this.editor.getModel();if(!this._isEnabled||!$||$.isTooLargeForTokenization())return;this._currentModelHasFoldedImports=!1,this.foldingModel=new zS($,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new WS(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((X)=>this.onHiddenRangesChanges(X))),this.updateScheduler=new MJ(this.updateDebounceInfo.get($)),this.cursorChangedScheduler=new t1(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent((X)=>this.onDidChangeModelContent(X))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown((X)=>this.onEditorMouseDown(X))),this.localToDispose.add(this.editor.onMouseUp((X)=>this.onEditorMouseUp(X))),this.localToDispose.add({dispose:()=>{var X,Q;if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;(X=this.updateScheduler)===null||X===void 0||X.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(Q=this.rangeProvider)===null||Q===void 0||Q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged()}onFoldingStrategyChanged(){var $;($=this.rangeProvider)===null||$===void 0||$.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider($){if(this.rangeProvider)return this.rangeProvider;const X=new LR($,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=X,this._useFoldingProviders&&this.foldingModel){const Q=IU.getFoldingRangeProviders(this.languageFeaturesService,$);if(Q.length>0)this.rangeProvider=new kR($,Q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,X)}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent($){var X;(X=this.hiddenRangeModel)===null||X===void 0||X.notifyChangeModelContent($),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){if(this.updateScheduler){if(this.foldingRegionPromise)this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null;this.foldingModelPromise=this.updateScheduler.trigger(()=>{const $=this.foldingModel;if(!$)return null;const X=new U6,Q=this.getRangeProvider($.textModel),Y=this.foldingRegionPromise=iZ((Z)=>Q.compute(Z));return Y.then((Z)=>{if(Z&&Y===this.foldingRegionPromise){let G;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const z=Z.setCollapsedAllOfType(R7.Imports.value,!0);if(z)G=mJ.capture(this.editor),this._currentModelHasFoldedImports=z}const q=this.editor.getSelections(),U=q?q.map((z)=>z.startLineNumber):[];$.update(Z,U),G===null||G===void 0||G.restore(this.editor);const H=this.updateDebounceInfo.update($.textModel,X.elapsed());if(this.updateScheduler)this.updateScheduler.defaultDelay=H}return $})}).then(void 0,($)=>{return n0($),null})}}onHiddenRangesChanges($){if(this.hiddenRangeModel&&$.length&&!this._restoringViewState){const X=this.editor.getSelections();if(X){if(this.hiddenRangeModel.adjustSelections(X))this.editor.setSelections(X)}}this.editor.setHiddenAreas($,this)}onCursorPositionChanged(){if(this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges())this.cursorChangedScheduler.schedule()}revealCursor(){const $=this.getFoldingModel();if(!$)return;$.then((X)=>{if(X){const Q=this.editor.getSelections();if(Q&&Q.length>0){const Y=[];for(let Z of Q){const G=Z.selectionStartLineNumber;if(this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(G))Y.push(...X.getAllRegionsAtLine(G,(q)=>q.isCollapsed&&G>q.startLineNumber))}if(Y.length)X.toggleCollapseState(Y),this.reveal(Q[0].getPosition())}}}).then(void 0,n0)}onEditorMouseDown($){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!$.target||!$.target.range)return;if(!$.event.leftButton&&!$.event.middleButton)return;const X=$.target.range;let Q=!1;switch($.target.type){case 4:{const Y=$.target.detail,Z=$.target.element.offsetLeft;if(Y.offsetX-Z<4)return;Q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!$.target.detail.isAfterLines)break}return}case 6:{if(this.hiddenRangeModel.hasRanges()){const Y=this.editor.getModel();if(Y&&X.startColumn===Y.getLineMaxColumn(X.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:X.startLineNumber,iconClicked:Q}}onEditorMouseUp($){const X=this.foldingModel;if(!X||!this.mouseDownInfo||!$.target)return;const Q=this.mouseDownInfo.lineNumber,Y=this.mouseDownInfo.iconClicked,Z=$.target.range;if(!Z||Z.startLineNumber!==Q)return;if(Y){if($.target.type!==4)return}else{const q=this.editor.getModel();if(!q||Z.startColumn!==q.getLineMaxColumn(Q))return}const G=X.getRegionAtLine(Q);if(G&&G.startLineNumber===Q){const q=G.isCollapsed;if(Y||q){const U=$.event.altKey;let H=[];if(U){const z=(j)=>!j.containedBy(G)&&!G.containedBy(j),V=X.getRegionsInside(null,z);for(let j of V)if(j.isCollapsed)H.push(j);if(H.length===0)H=V}else{const z=$.event.middleButton||$.event.shiftKey;if(z){for(let V of X.getRegionsInside(G))if(V.isCollapsed===q)H.push(V)}if(q||!z||H.length===0)H.push(G)}X.toggleCollapseState(H),this.reveal({lineNumber:Q,column:1})}}}reveal($){this.editor.revealPositionInCenterIfOutsideViewport($,0)}};y2.ID="editor.contrib.folding";y2=IU=QY0([QW(1,v0),QW(2,N8),QW(3,i6),QW(4,YE),QW(5,K1)],y2);class st{constructor(J){this.editor=J,this._onDidChange=new y,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(J,$){if(J!==this._computed||$!==this._limited)this._computed=J,this._limited=$,this._onDidChange.fire()}}class y7 extends NJ{runEditorCommand(J,$,X){const Q=J.get(N8),Y=y2.get($);if(!Y)return;const Z=Y.getFoldingModel();if(Z)return this.reportTelemetry(J,$),Z.then((G)=>{if(G){this.invoke(Y,G,$,X,Q);const q=$.getSelection();if(q)Y.reveal(q.getStartPosition())}})}getSelectedLines(J){const $=J.getSelections();return $?$.map((X)=>X.startLineNumber):[]}getLineNumbers(J,$){if(J&&J.selectionLines)return J.selectionLines.map((X)=>X+1);return this.getSelectedLines($)}run(J,$){}}class rt extends y7{constructor(){super({id:"editor.unfold",label:F("unfoldAction.label","Unfold"),alias:"Unfold",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:2048|1024|94,mac:{primary:2048|512|94},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:at,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,X,Q){const Y=Q&&Q.levels||1,Z=this.getLineNumbers(Q,X);if(Q&&Q.direction==="up")VS($,!1,Y,Z);else I2($,!1,Y,Z)}}class it extends y7{constructor(){super({id:"editor.unfoldRecursively",label:F("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|94),weight:100}})}invoke(J,$,X,Q){I2($,!1,Number.MAX_VALUE,this.getSelectedLines(X))}}class nt extends y7{constructor(){super({id:"editor.fold",label:F("foldAction.label","Fold"),alias:"Fold",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:2048|1024|92,mac:{primary:2048|512|92},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:at,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(J,$,X,Q){const Y=this.getLineNumbers(Q,X),Z=Q&&Q.levels,G=Q&&Q.direction;if(typeof Z!=="number"&&typeof G!=="string")vt($,!0,Y);else if(G==="up")VS($,!0,Z||1,Y);else I2($,!0,Z||1,Y)}}class ot extends y7{constructor(){super({id:"editor.toggleFold",label:F("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|42),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);bt($,1,Q)}}class tt extends y7{constructor(){super({id:"editor.foldRecursively",label:F("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|92),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);I2($,!0,Number.MAX_VALUE,Q)}}class et extends y7{constructor(){super({id:"editor.foldAllBlockComments",label:F("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|90),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())wR($,R7.Comment.value,!0);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).comments;if(G&&G.blockCommentStartToken){const q=new RegExp("^\\s*"+J5(G.blockCommentStartToken));_R($,q,!0)}}}}class Je extends y7{constructor(){super({id:"editor.foldAllMarkerRegions",label:F("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|29),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())wR($,R7.Region.value,!0);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const q=new RegExp(G.markers.start);_R($,q,!0)}}}}class $e extends y7{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:F("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|30),weight:100}})}invoke(J,$,X,Q,Y){if($.regions.hasTypes())wR($,R7.Region.value,!1);else{const Z=X.getModel();if(!Z)return;const G=Y.getLanguageConfiguration(Z.getLanguageId()).foldingRules;if(G&&G.markers&&G.markers.start){const q=new RegExp(G.markers.start);_R($,q,!1)}}}}class Xe extends y7{constructor(){super({id:"editor.foldAllExcept",label:F("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|88),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);jS($,!0,Q)}}class Qe extends y7{constructor(){super({id:"editor.unfoldAllExcept",label:F("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|86),weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);jS($,!1,Q)}}class Ye extends y7{constructor(){super({id:"editor.foldAll",label:F("foldAllAction.label","Fold All"),alias:"Fold All",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|21),weight:100}})}invoke(J,$,X){I2($,!0)}}class Ze extends y7{constructor(){super({id:"editor.unfoldAll",label:F("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|40),weight:100}})}invoke(J,$,X){I2($,!1)}}class S2 extends y7{getFoldingLevel(){return parseInt(this.id.substr(S2.ID_PREFIX.length))}invoke(J,$,X){ft($,this.getFoldingLevel(),!0,this.getSelectedLines(X))}}S2.ID_PREFIX="editor.foldLevel";S2.ID=(J)=>S2.ID_PREFIX+J;class Ge extends y7{constructor(){super({id:"editor.gotoParentFold",label:F("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=ht(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class qe extends y7{constructor(){super({id:"editor.gotoPreviousFold",label:F("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=gt(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class Ue extends y7{constructor(){super({id:"editor.gotoNextFold",label:F("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,weight:100}})}invoke(J,$,X){const Q=this.getSelectedLines(X);if(Q.length>0){const Y=pt(Q[0],$);if(Y!==null)X.setSelection({startLineNumber:Y,startColumn:1,endLineNumber:Y,endColumn:1})}}}class He extends y7{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:F("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|87),weight:100}})}invoke(J,$,X){var Q;const Y=[],Z=X.getSelections();if(Z){for(let G of Z){let q=G.endLineNumber;if(G.endColumn===1)--q;if(q>G.startLineNumber)Y.push({startLineNumber:G.startLineNumber,endLineNumber:q,type:void 0,isCollapsed:!0,source:1}),X.setSelection({startLineNumber:G.startLineNumber,startColumn:1,endLineNumber:G.startLineNumber,endColumn:1})}if(Y.length>0){Y.sort((q,U)=>{return q.startLineNumber-U.startLineNumber});const G=a7.sanitizeAndMerge($.regions,Y,(Q=X.getModel())===null||Q===void 0?void 0:Q.getLineCount());$.updatePost(a7.fromFoldRanges(G))}}}}class ze extends y7{constructor(){super({id:"editor.removeManualFoldingRanges",label:F("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|89),weight:100}})}invoke(J,$,X){const Q=X.getSelections();if(Q){const Y=[];for(let Z of Q){const{startLineNumber:G,endLineNumber:q}=Z;Y.push(q>=G?{startLineNumber:G,endLineNumber:q}:{endLineNumber:q,startLineNumber:G})}$.removeManualRanges(Y),J.triggerFoldingModelChanged()}}}C9(y2.ID,y2,0);X6(rt);X6(it);X6(nt);X6(tt);X6(Ye);X6(Ze);X6(et);X6(Je);X6($e);X6(Xe);X6(Qe);X6(ot);X6(Ge);X6(qe);X6(Ue);X6(He);X6(ze);for(let J=1;J<=7;J++)sb(new S2({id:S2.ID(J),label:F("foldLevelAction.label","Fold Level {0}",J),alias:`Fold Level ${J}`,precondition:I7,kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|21+J),weight:100}}));V8.registerCommand("_executeFoldingRangeProvider",async function(J,...$){const[X]=$;if(!(X instanceof I0))throw J4();const Q=J.get(K1),Y=J.get(j6).getModel(X);if(!Y)throw J4();const Z=J.get(S1);if(!Z.getValue("editor.folding",{resource:X}))return[];const G=J.get(N8),q=Z.getValue("editor.foldingStrategy",{resource:X}),U={get limit(){return Z.getValue("editor.foldingMaximumRegions",{resource:X})},update:(W,B)=>{}},H=new LR(Y,G,U);let z=H;if(q!=="indentation"){const W=y2.getFoldingRangeProviders(Q,Y);if(W.length)z=new kR(Y,W,()=>{},U,H)}const V=await z.compute(t8.None),j=[];try{if(V)for(let W=0;W<V.length;W++){const B=V.getType(W);j.push({start:V.getStartLineNumber(W),end:V.getEndLineNumber(W),kind:B?R7.fromValue(B):void 0})}return j}finally{z.dispose()}});H1();$7();D1();xZ();X0();x9();G9();Pq();c0();YQ();XU();d9();GS();$S();h0();T2();X5();m1();m0();pV();var Ve=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},YW=function(J,$){return function(X,Q){$(X,Q,J)}},ZW=class J{constructor($,X,Q,Y){this._editor=$,this._languageFeaturesService=X,this._workerService=Q,this._audioCueService=Y,this._disposables=new r,this._sessionDisposables=new r,this._disposables.add(X.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add($.onDidChangeModel(()=>this._update())),this._disposables.add($.onDidChangeModelLanguage(()=>this._update())),this._disposables.add($.onDidChangeConfiguration((Z)=>{if(Z.hasChanged(56))this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56))return;if(!this._editor.hasModel())return;const $=this._editor.getModel(),[X]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered($);if(!X||!X.autoFormatTriggerCharacters)return;const Q=new nH;for(let Y of X.autoFormatTriggerCharacters)Q.add(Y.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((Y)=>{const Z=Y.charCodeAt(Y.length-1);if(Q.has(Z))this._trigger(String.fromCharCode(Z))}))}_trigger($){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const X=this._editor.getModel(),Q=this._editor.getPosition(),Y=new H6,Z=this._editor.onDidChangeModelContent((G)=>{if(G.isFlush){Y.cancel(),Z.dispose();return}for(let q=0,U=G.changes.length;q<U;q++)if(G.changes[q].range.endLineNumber<=Q.lineNumber){Y.cancel(),Z.dispose();return}});ZS(this._workerService,this._languageFeaturesService,X,Q,$,X.getFormattingOptions(),Y.token).then((G)=>{if(Y.token.isCancellationRequested)return;if(T9(G))this._audioCueService.playAudioCue($1.format,{userGesture:!1}),YZ.execute(this._editor,G,!0)}).finally(()=>{Z.dispose()})}};ZW.ID="editor.contrib.autoFormat";ZW=Ve([YW(1,K1),YW(2,P9),YW(3,o9)],ZW);var GW=class J{constructor($,X,Q){this.editor=$,this._languageFeaturesService=X,this._instantiationService=Q,this._callOnDispose=new r,this._callOnModel=new r,this._callOnDispose.add($.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add($.onDidChangeModel(()=>this._update())),this._callOnDispose.add($.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(X.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this.editor.getOption(55))return;if(!this.editor.hasModel())return;if(!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel()))return;this._callOnModel.add(this.editor.onDidPaste(({range:$})=>this._trigger($)))}_trigger($){if(!this.editor.hasModel())return;if(this.editor.getSelections().length>1)return;this._instantiationService.invokeFunction(YS,this.editor,$,2,l3.None,t8.None,!1).catch(n0)}};GW.ID="editor.contrib.formatOnPaste";GW=Ve([YW(1,K1),YW(2,g0)],GW);class je extends NJ{constructor(){super({id:"editor.action.formatDocument",label:F("formatDocument.label","Format Document"),alias:"Format Document",precondition:N0.and(n.notInCompositeEditor,n.writable,n.hasDocumentFormattingProvider),kbOpts:{kbExpr:n.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(J,$){if($.hasModel()){const X=J.get(g0);await J.get(MQ).showWhile(X.invokeFunction(Ct,$,1,l3.None,t8.None,!0),250)}}}class We extends NJ{constructor(){super({id:"editor.action.formatSelection",label:F("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:N0.and(n.writable,n.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:n.editorTextFocus,primary:b7(2048|41,2048|36),weight:100},contextMenuOpts:{when:n.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(J,$){if(!$.hasModel())return;const X=J.get(g0),Q=$.getModel(),Y=$.getSelections().map((G)=>{return G.isEmpty()?new L(G.startLineNumber,1,G.startLineNumber,Q.getLineMaxColumn(G.startLineNumber)):G});await J.get(MQ).showWhile(X.invokeFunction(YS,$,Y,1,l3.None,t8.None,!0),250)}}C9(ZW.ID,ZW,2);C9(GW.ID,GW,2);X6(je);X6(We);V8.registerCommand("editor.action.format",async(J)=>{const $=J.get(l1).getFocusedCodeEditor();if(!$||!$.hasModel())return;const X=J.get(B6);if($.getSelection().isEmpty())await X.executeCommand("editor.action.formatDocument");else await X.executeCommand("editor.action.formatSelection")});VY();H1();$7();D1();F0();aZ();X0();O1();X$();G8();uj();x9();bV();U1();c0();YQ();X0();G8();x9();U1();YQ();g7();d9();$7();D1();pY();X0();X$();G8();e8();U1();c0();DH();var Be=function(J,$){const X=[...J];while(X.length>0){const Q=X.shift();if(!$(Q))break;X.unshift(...Q.children)}};class lJ{constructor(){this.value="",this.pos=0}static isDigitCharacter(J){return J>=48&&J<=57}static isVariableCharacter(J){return J===95||J>=97&&J<=122||J>=65&&J<=90}text(J){this.value=J,this.pos=0}tokenText(J){return this.value.substr(J.pos,J.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const J=this.pos;let $=0,X=this.value.charCodeAt(J),Q;if(Q=lJ._table[X],typeof Q==="number")return this.pos+=1,{type:Q,pos:J,len:1};if(lJ.isDigitCharacter(X)){Q=8;do $+=1,X=this.value.charCodeAt(J+$);while(lJ.isDigitCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}if(lJ.isVariableCharacter(X)){Q=9;do X=this.value.charCodeAt(J+ ++$);while(lJ.isVariableCharacter(X)||lJ.isDigitCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}Q=10;do $+=1,X=this.value.charCodeAt(J+$);while(!isNaN(X)&&typeof lJ._table[X]==="undefined"&&!lJ.isDigitCharacter(X)&&!lJ.isVariableCharacter(X));return this.pos+=$,{type:Q,pos:J,len:$}}}lJ._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class C2{constructor(){this._children=[]}appendChild(J){if(J instanceof r7&&this._children[this._children.length-1]instanceof r7)this._children[this._children.length-1].value+=J.value;else J.parent=this,this._children.push(J);return this}replace(J,$){const{parent:X}=J,Q=X.children.indexOf(J),Y=X.children.slice(0);Y.splice(Q,1,...$),X._children=Y,function Z(G,q){for(let U of G)U.parent=q,Z(U.children,U)}($,X)}get children(){return this._children}get rightMostDescendant(){if(this._children.length>0)return this._children[this._children.length-1].rightMostDescendant;return this}get snippet(){let J=this;while(!0){if(!J)return;if(J instanceof yU)return J;J=J.parent}}toString(){return this.children.reduce((J,$)=>J+$.toString(),"")}len(){return 0}}class r7 extends C2{constructor(J){super();this.value=J}toString(){return this.value}len(){return this.value.length}clone(){return new r7(this.value)}}class AS extends C2{}class R9 extends AS{static compareByIndex(J,$){if(J.index===$.index)return 0;else if(J.isFinalTabstop)return 1;else if($.isFinalTabstop)return-1;else if(J.index<$.index)return-1;else if(J.index>$.index)return 1;else return 0}constructor(J){super();this.index=J}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof x2?this._children[0]:void 0}clone(){const J=new R9(this.index);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class x2 extends C2{constructor(){super(...arguments);this.options=[]}appendChild(J){if(J instanceof r7)J.parent=this,this.options.push(J);return this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const J=new x2;return this.options.forEach(J.appendChild,J),J}}class PS extends C2{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(J){const $=this;let X=!1,Q=J.replace(this.regexp,function(){return X=!0,$._replace(Array.prototype.slice.call(arguments,0,-2))});if(!X&&this._children.some((Y)=>Y instanceof d4&&Boolean(Y.elseValue)))Q=this._replace([]);return Q}_replace(J){let $="";for(let X of this._children)if(X instanceof d4){let Q=J[X.index]||"";Q=X.resolve(Q),$+=Q}else $+=X.toString();return $}toString(){return""}clone(){const J=new PS;return J.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),J._children=this.children.map(($)=>$.clone()),J}}class d4 extends C2{constructor(J,$,X,Q){super();this.index=J,this.shorthandName=$,this.ifValue=X,this.elseValue=Q}resolve(J){if(this.shorthandName==="upcase")return!J?"":J.toLocaleUpperCase();else if(this.shorthandName==="downcase")return!J?"":J.toLocaleLowerCase();else if(this.shorthandName==="capitalize")return!J?"":J[0].toLocaleUpperCase()+J.substr(1);else if(this.shorthandName==="pascalcase")return!J?"":this._toPascalCase(J);else if(this.shorthandName==="camelcase")return!J?"":this._toCamelCase(J);else if(Boolean(J)&&typeof this.ifValue==="string")return this.ifValue;else if(!Boolean(J)&&typeof this.elseValue==="string")return this.elseValue;else return J||""}_toPascalCase(J){const $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((X)=>{return X.charAt(0).toUpperCase()+X.substr(1)}).join("")}_toCamelCase(J){const $=J.match(/[a-z0-9]+/gi);if(!$)return J;return $.map((X,Q)=>{if(Q===0)return X.charAt(0).toLowerCase()+X.substr(1);return X.charAt(0).toUpperCase()+X.substr(1)}).join("")}clone(){return new d4(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class qW extends AS{constructor(J){super();this.name=J}resolve(J){let $=J.resolve(this);if(this.transform)$=this.transform.resolve($||"");if($!==void 0)return this._children=[new r7($)],!0;return!1}clone(){const J=new qW(this.name);if(this.transform)J.transform=this.transform.clone();return J._children=this.children.map(($)=>$.clone()),J}}class yU extends C2{get placeholderInfo(){if(!this._placeholders){const J=[];let $;this.walk(function(X){if(X instanceof R9)J.push(X),$=!$||$.index<X.index?X:$;return!0}),this._placeholders={all:J,last:$}}return this._placeholders}get placeholders(){const{all:J}=this.placeholderInfo;return J}offset(J){let $=0,X=!1;if(this.walk((Q)=>{if(Q===J)return X=!0,!1;return $+=Q.len(),!0}),!X)return-1;return $}fullLen(J){let $=0;return Be([J],(X)=>{return $+=X.len(),!0}),$}enclosingPlaceholders(J){const $=[];let{parent:X}=J;while(X){if(X instanceof R9)$.push(X);X=X.parent}return $}resolveVariables(J){return this.walk(($)=>{if($ instanceof qW){if($.resolve(J))this._placeholders=void 0}return!0}),this}appendChild(J){return this._placeholders=void 0,super.appendChild(J)}replace(J,$){return this._placeholders=void 0,super.replace(J,$)}clone(){const J=new yU;return this._children=this.children.map(($)=>$.clone()),J}walk(J){Be(this.children,J)}}class qZ{constructor(){this._scanner=new lJ,this._token={type:14,pos:0,len:0}}static escape(J){return J.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(J){return/\${?CLIPBOARD/.test(J)}parse(J,$,X){const Q=new yU;return this.parseFragment(J,Q),this.ensureFinalTabstop(Q,X!==null&&X!==void 0?X:!1,$!==null&&$!==void 0?$:!1),Q}parseFragment(J,$){const X=$.children.length;this._scanner.text(J),this._token=this._scanner.next();while(this._parse($));const Q=new Map,Y=[];$.walk((q)=>{if(q instanceof R9)if(q.isFinalTabstop)Q.set(0,void 0);else if(!Q.has(q.index)&&q.children.length>0)Q.set(q.index,q.children);else Y.push(q);return!0});const Z=(q,U)=>{const H=Q.get(q.index);if(!H)return;const z=new R9(q.index);z.transform=q.transform;for(let V of H){const j=V.clone();if(z.appendChild(j),j instanceof R9&&Q.has(j.index)&&!U.has(j.index))U.add(j.index),Z(j,U),U.delete(j.index)}$.replace(q,[z])},G=new Set;for(let q of Y)Z(q,G);return $.children.slice(X)}ensureFinalTabstop(J,$,X){if($||X&&J.placeholders.length>0){if(!J.placeholders.find((Y)=>Y.index===0))J.appendChild(new R9(0))}}_accept(J,$){if(J===void 0||this._token.type===J){const X=!$?!0:this._scanner.tokenText(this._token);return this._token=this._scanner.next(),X}return!1}_backTo(J){return this._scanner.pos=J.pos+J.len,this._token=J,!1}_until(J){const $=this._token;while(this._token.type!==J){if(this._token.type===14)return!1;else if(this._token.type===5){const Q=this._scanner.next();if(Q.type!==0&&Q.type!==4&&Q.type!==5)return!1}this._token=this._scanner.next()}const X=this._scanner.value.substring($.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),X}_parse(J){return this._parseEscaped(J)||this._parseTabstopOrVariableName(J)||this._parseComplexPlaceholder(J)||this._parseComplexVariable(J)||this._parseAnything(J)}_parseEscaped(J){let $;if($=this._accept(5,!0))return $=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||$,J.appendChild(new r7($)),!0;return!1}_parseTabstopOrVariableName(J){let $;const X=this._token;if(!(this._accept(0)&&($=this._accept(9,!0)||this._accept(8,!0))))return this._backTo(X);return J.appendChild(/^\d+$/.test($)?new R9(Number($)):new qW($)),!0}_parseComplexPlaceholder(J){let $;const X=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(8,!0))))return this._backTo(X);const Y=new R9(Number($));if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new r7("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(Y.index>0&&this._accept(7)){const Z=new x2;while(!0){if(this._parseChoiceElement(Z)){if(this._accept(2))continue;if(this._accept(7)){if(Y.appendChild(Z),this._accept(4))return J.appendChild(Y),!0}}return this._backTo(X),!1}}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(X),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(X)}_parseChoiceElement(J){const $=this._token,X=[];while(!0){if(this._token.type===2||this._token.type===7)break;let Q;if(Q=this._accept(5,!0))Q=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||Q;else Q=this._accept(void 0,!0);if(!Q)return this._backTo($),!1;X.push(Q)}if(X.length===0)return this._backTo($),!1;return J.appendChild(new r7(X.join(""))),!0}_parseComplexVariable(J){let $;const X=this._token;if(!(this._accept(0)&&this._accept(3)&&($=this._accept(9,!0))))return this._backTo(X);const Y=new qW($);if(this._accept(1))while(!0){if(this._accept(4))return J.appendChild(Y),!0;if(this._parse(Y))continue;return J.appendChild(new r7("${"+$+":")),Y.children.forEach(J.appendChild,J),!0}else if(this._accept(6)){if(this._parseTransform(Y))return J.appendChild(Y),!0;return this._backTo(X),!1}else if(this._accept(4))return J.appendChild(Y),!0;else return this._backTo(X)}_parseTransform(J){const $=new PS;let X="",Q="";while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(6,!0)||Y,X+=Y;continue}if(this._token.type!==14){X+=this._accept(void 0,!0);continue}return!1}while(!0){if(this._accept(6))break;let Y;if(Y=this._accept(5,!0)){Y=this._accept(5,!0)||this._accept(6,!0)||Y,$.appendChild(new r7(Y));continue}if(this._parseFormatString($)||this._parseAnything($))continue;return!1}while(!0){if(this._accept(4))break;if(this._token.type!==14){Q+=this._accept(void 0,!0);continue}return!1}try{$.regexp=new RegExp(X,Q)}catch(Y){return!1}return J.transform=$,!0}_parseFormatString(J){const $=this._token;if(!this._accept(0))return!1;let X=!1;if(this._accept(3))X=!0;const Q=this._accept(8,!0);if(!Q)return this._backTo($),!1;else if(!X)return J.appendChild(new d4(Number(Q))),!0;else if(this._accept(4))return J.appendChild(new d4(Number(Q))),!0;else if(!this._accept(1))return this._backTo($),!1;if(this._accept(6)){const Y=this._accept(9,!0);if(!Y||!this._accept(4))return this._backTo($),!1;else return J.appendChild(new d4(Number(Q),Y)),!0}else if(this._accept(11)){const Y=this._until(4);if(Y)return J.appendChild(new d4(Number(Q),void 0,Y,void 0)),!0}else if(this._accept(12)){const Y=this._until(4);if(Y)return J.appendChild(new d4(Number(Q),void 0,void 0,Y)),!0}else if(this._accept(13)){const Y=this._until(1);if(Y){const Z=this._until(4);if(Z)return J.appendChild(new d4(Number(Q),void 0,Y,Z)),!0}}else{const Y=this._until(4);if(Y)return J.appendChild(new d4(Number(Q),void 0,void 0,Y)),!0}return this._backTo($),!1}_parseAnything(J){if(this._token.type!==14)return J.appendChild(new r7(this._scanner.tokenText(this._token))),this._accept(void 0),!0;return!1}}h0();DJ();X5();m1();d9();VD();D0();Yj();zD();k$();z6();F0();mk();h0();var YY0=F("defaultLabel","input"),ZY0=F("label.preserveCaseToggle","Preserve Case");class Fe extends t${constructor(J){super({icon:U0.preserveCase,title:ZY0+J.appendTitle,isChecked:J.isChecked,inputActiveOptionBorder:J.inputActiveOptionBorder,inputActiveOptionForeground:J.inputActiveOptionForeground,inputActiveOptionBackground:J.inputActiveOptionBackground})}}class DS extends q7{constructor(J,$,X,Q){super();this._showOptionButtons=X,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new y),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y),this._onInput=this._register(new y),this._onKeyUp=this._register(new y),this._onPreserveCaseKeyDown=this._register(new y),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=$,this.placeholder=Q.placeholder||"",this.validation=Q.validation,this.label=Q.label||YY0;const Y=Q.appendPreserveCaseLabel||"",Z=Q.history||[],G=!!Q.flexibleHeight,q=!!Q.flexibleWidth,U=Q.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Gj(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:Z,showHistoryHint:Q.showHistoryHint,flexibleHeight:G,flexibleWidth:q,flexibleMaxHeight:U,inputBoxStyles:Q.inputBoxStyles})),this.preserveCase=this._register(new Fe({appendTitle:Y,isChecked:!1,...Q.toggleStyles})),this._register(this.preserveCase.onChange((V)=>{if(this._onDidOptionChange.fire(V),!V&&this.fixFocusOnOptionClickEnabled)this.inputBox.focus();this.validate()})),this._register(this.preserveCase.onKeyDown((V)=>{this._onPreserveCaseKeyDown.fire(V)})),this._showOptionButtons)this.cachedOptionsWidth=this.preserveCase.width();else this.cachedOptionsWidth=0;const H=[this.preserveCase.domNode];this.onkeydown(this.domNode,(V)=>{if(V.equals(15)||V.equals(17)||V.equals(9)){const j=H.indexOf(this.domNode.ownerDocument.activeElement);if(j>=0){let W=-1;if(V.equals(17))W=(j+1)%H.length;else if(V.equals(15))if(j===0)W=H.length-1;else W=j-1;if(V.equals(9))H[j].blur(),this.inputBox.focus();else if(W>=0)H[W].focus();u0.stop(V,!0)}}});const z=document.createElement("div");z.className="controls",z.style.display=this._showOptionButtons?"block":"none",z.appendChild(this.preserveCase.domNode),this.domNode.appendChild(z),J===null||J===void 0||J.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(V)=>this._onKeyDown.fire(V)),this.onkeyup(this.inputBox.inputElement,(V)=>this._onKeyUp.fire(V)),this.oninput(this.inputBox.inputElement,(V)=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,(V)=>this._onMouseDown.fire(V))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(J){if(J)this.enable();else this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(J){this.preserveCase.checked=J}focusOnPreserve(){this.preserveCase.focus()}validate(){var J;(J=this.inputBox)===null||J===void 0||J.validate()}set width(J){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=J+"px"}dispose(){super.dispose()}}m1();qq();h0();X0();D0();function Oe(J,$){if(IR.includes($))throw new Error("Cannot register the same widget multiple times");IR.push($);const X=new r,Q=new z0(RS,!1).bindTo(J),Y=new z0(Re,!0).bindTo(J),Z=new z0(Me,!0).bindTo(J),G=()=>{Q.set(!0),SQ=$},q=()=>{if(Q.set(!1),SQ===$)SQ=void 0};if(JG($.element))G();return X.add($.onDidFocus(()=>G())),X.add($.onDidBlur(()=>q())),X.add(K0(()=>{IR.splice(IR.indexOf($),1),q()})),{historyNavigationForwardsEnablement:Y,historyNavigationBackwardsEnablement:Z,dispose(){X.dispose()}}}var Pe=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},De=function(J,$){return function(X,Q){$(X,Q,J)}},yR=new z0("suggestWidgetVisible",!1,F("suggestWidgetVisible","Whether suggestion are visible")),RS="historyNavigationWidgetFocus",Re="historyNavigationForwardsEnabled",Me="historyNavigationBackwardsEnabled",SQ=void 0,IR=[],Ke=class J extends GU{constructor($,X,Q,Y){super($,X,Q);const Z=this._register(Y.createScoped(this.inputBox.element));this._register(Oe(Z,this.inputBox))}};Ke=Pe([De(3,v0)],Ke);var Ae=class J extends DS{constructor($,X,Q,Y,Z=!1){super($,X,Z,Q);const G=this._register(Y.createScoped(this.inputBox.element));this._register(Oe(G,this.inputBox))}};Ae=Pe([De(3,v0)],Ae);q4.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:N0.and(N0.has(RS),N0.equals(Me,!0),N0.not("isComposing"),yR.isEqualTo(!1)),primary:16,secondary:[512|16],handler:(J)=>{SQ===null||SQ===void 0||SQ.showPreviousValue()}});q4.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:N0.and(N0.has(RS),N0.equals(Re,!0),N0.not("isComposing"),yR.isEqualTo(!1)),primary:18,secondary:[512|18],handler:(J)=>{SQ===null||SQ===void 0||SQ.showNextValue()}});function Ne(){return SU}async function MS(J,$,X,Q=CU.default,Y={triggerKind:0},Z=t8.None){const G=new U6;X=X.clone();const q=$.getWordAtPosition(X),U=q?new L(X.lineNumber,q.startColumn,X.lineNumber,q.endColumn):L.fromPositions(X),H={replace:U,insert:U.setEndPosition(X.lineNumber,X.column)},z=[],V=new r,j=[];let W=!1;const B=(P,A,D)=>{var R,M,O;let _=!1;if(!A)return _;for(let w of A.suggestions)if(!Q.kindFilter.has(w.kind)){if(!Q.showDeprecated&&((R=w===null||w===void 0?void 0:w.tags)===null||R===void 0?void 0:R.includes(1)))continue;if(!w.range)w.range=H;if(!w.sortText)w.sortText=typeof w.label==="string"?w.label:w.label.label;if(!W&&w.insertTextRules&&w.insertTextRules&4)W=qZ.guessNeedsClipboard(w.insertText);z.push(new Te(X,w,A,P)),_=!0}if(sW(A))V.add(A);return j.push({providerName:(M=P._debugDisplayName)!==null&&M!==void 0?M:"unknown_provider",elapsedProvider:(O=A.duration)!==null&&O!==void 0?O:-1,elapsedOverall:D.elapsed()}),_},K=(async()=>{if(!SU||Q.kindFilter.has(27))return;const P=Q.providerItemsToReuse.get(SU);if(P){P.forEach((R)=>z.push(R));return}if(Q.providerFilter.size>0&&!Q.providerFilter.has(SU))return;const A=new U6,D=await SU.provideCompletionItems($,X,Y,Z);B(SU,D,A)})();for(let P of J.orderedGroups($)){let A=!1;if(await Promise.all(P.map(async(D)=>{if(Q.providerItemsToReuse.has(D)){const R=Q.providerItemsToReuse.get(D);R.forEach((M)=>z.push(M)),A=A||R.length>0;return}if(Q.providerFilter.size>0&&!Q.providerFilter.has(D))return;try{const R=new U6,M=await D.provideCompletionItems($,X,Y,Z);A=B(D,M,R)||A}catch(R){J$(R)}})),A||Z.isCancellationRequested)break}if(await K,Z.isCancellationRequested)return V.dispose(),Promise.reject(new KX);return new _e(z.sort(UY0(Q.snippetSortOrder)),W,{entries:j,elapsed:G.elapsed()},V)}var OS=function(J,$){if(J.sortTextLow&&$.sortTextLow){if(J.sortTextLow<$.sortTextLow)return-1;else if(J.sortTextLow>$.sortTextLow)return 1}if(J.textLabel<$.textLabel)return-1;else if(J.textLabel>$.textLabel)return 1;return J.completion.kind-$.completion.kind},GY0=function(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return OS(J,$)},qY0=function(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return OS(J,$)};function UY0(J){return SR.get(J)}function we(J,$){var X;(X=J.getContribution("editor.contrib.suggestController"))===null||X===void 0||X.triggerSuggest((new Set()).add($),void 0,!0)}var Q1={Visible:yR,HasFocusedSuggestion:new z0("suggestWidgetHasFocusedSuggestion",!1,F("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new z0("suggestWidgetDetailsVisible",!1,F("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new z0("suggestWidgetMultipleSuggestions",!1,F("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new z0("suggestionMakesTextEdit",!0,F("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new z0("acceptSuggestionOnEnter",!0,F("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new z0("suggestionHasInsertAndReplaceRange",!1,F("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new z0("suggestionInsertMode",void 0,{type:"string",description:F("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new z0("suggestionCanResolve",!1,F("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},GX=new I("suggestWidgetStatusBar");class Te{constructor(J,$,X,Q){var Y;if(this.position=J,this.completion=$,this.container=X,this.provider=Q,this.isInvalid=!1,this.score=hJ.Default,this.distance=0,this.textLabel=typeof $.label==="string"?$.label:(Y=$.label)===null||Y===void 0?void 0:Y.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=$.sortText&&$.sortText.toLowerCase(),this.filterTextLow=$.filterText&&$.filterText.toLowerCase(),this.extensionId=$.extensionId,L.isIRange($.range))this.editStart=new v($.range.startLineNumber,$.range.startColumn),this.editInsertEnd=new v($.range.endLineNumber,$.range.endColumn),this.editReplaceEnd=new v($.range.endLineNumber,$.range.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range)||$.range.startLineNumber!==J.lineNumber;else this.editStart=new v($.range.insert.startLineNumber,$.range.insert.startColumn),this.editInsertEnd=new v($.range.insert.endLineNumber,$.range.insert.endColumn),this.editReplaceEnd=new v($.range.replace.endLineNumber,$.range.replace.endColumn),this.isInvalid=this.isInvalid||L.spansMultipleLines($.range.insert)||L.spansMultipleLines($.range.replace)||$.range.insert.startLineNumber!==J.lineNumber||$.range.replace.startLineNumber!==J.lineNumber||$.range.insert.startColumn!==$.range.replace.startColumn;if(typeof Q.resolveCompletionItem!=="function")this._resolveCache=Promise.resolve(),this._resolveDuration=0}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(J){if(!this._resolveCache){const $=J.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),X=new U6(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,J)).then((Q)=>{Object.assign(this.completion,Q),this._resolveDuration=X.elapsed()},(Q)=>{if($$(Q))this._resolveCache=void 0,this._resolveDuration=void 0}).finally(()=>{$.dispose()})}return this._resolveCache}}class CU{constructor(J=2,$=new Set,X=new Set,Q=new Map,Y=!0){this.snippetSortOrder=J,this.kindFilter=$,this.providerFilter=X,this.providerItemsToReuse=Q,this.showDeprecated=Y}}CU.default=new CU;var SU;class _e{constructor(J,$,X,Q){this.items=J,this.needsClipboard=$,this.durations=X,this.disposable=Q}}var SR=new Map;SR.set(0,GY0);SR.set(2,qY0);SR.set(1,OS);V8.registerCommand("_executeCompletionItemProvider",async(J,...$)=>{const[X,Q,Y,Z]=$;q6(I0.isUri(X)),q6(v.isIPosition(Q)),q6(typeof Y==="string"||!Y),q6(typeof Z==="number"||!Z);const{completionProvider:G}=J.get(K1),q=await J.get(wX).createModelReference(X);try{const U={incomplete:!1,suggestions:[]},H=[],z=q.object.textEditorModel.validatePosition(Q),V=await MS(G,q.object.textEditorModel,z,void 0,{triggerCharacter:Y!==null&&Y!==void 0?Y:void 0,triggerKind:Y?1:0});for(let j of V.items){if(H.length<(Z!==null&&Z!==void 0?Z:0))H.push(j.resolve(t8.None));U.incomplete=U.incomplete||j.container.incomplete,U.suggestions.push(j.completion)}try{return await Promise.all(H),U}finally{setTimeout(()=>V.disposable.dispose(),100)}}finally{q.dispose()}});class xU{static isAllOff(J){return J.other==="off"&&J.comments==="off"&&J.strings==="off"}static isAllOn(J){return J.other==="on"&&J.comments==="on"&&J.strings==="on"}static valueFor(J,$){switch($){case 1:return J.comments;case 2:return J.strings;default:return J.other}}}h0();m1();U9();H1();X0();o0();q1();V0(".monaco-editor .snippet-placeholder{background-color:var(--vscode-editor-snippetTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetTabstopHighlightBorder,transparent);min-width:2px}.monaco-editor .finish-snippet-placeholder{background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground,transparent);outline-width:1px;outline-style:solid;outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder,transparent)}");bV();c0();S6();g7();CY();nE();hP();SA();O1();function TS(J,$=k8){if(Uc(J,$))return J.charAt(0).toUpperCase()+J.slice(1);return J}var EJ1=Object.create(null);AX();g$();o0();var Le=function(){if(typeof crypto==="object"&&typeof crypto.randomUUID==="function")return crypto.randomUUID.bind(crypto);let J;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function")J=crypto.getRandomValues.bind(crypto);else J=function(Q){for(let Y=0;Y<Q.length;Y++)Q[Y]=Math.floor(Math.random()*256);return Q};const $=new Uint8Array(16),X=[];for(let Q=0;Q<256;Q++)X.push(Q.toString(16).padStart(2,"0"));return function Q(){J($),$[6]=$[6]&15|64,$[8]=$[8]&63|128;let Y=0,Z="";return Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+="-",Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z+=X[$[Y++]],Z}}();g7();h0();hP();var HY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},zY0=function(J,$){return function(X,Q){$(X,Q,J)}},hJ1=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class CR{constructor(J){this._delegates=J}resolve(J){for(let $ of this._delegates){const X=$.resolve(J);if(X!==void 0)return X}return}}class xR{constructor(J,$,X,Q){this._model=J,this._selection=$,this._selectionIdx=X,this._overtypingCapturer=Q}resolve(J){const{name:$}=J;if($==="SELECTION"||$==="TM_SELECTED_TEXT"){let X=this._model.getValueInRange(this._selection)||void 0,Q=this._selection.startLineNumber!==this._selection.endLineNumber;if(!X&&this._overtypingCapturer){const Y=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);if(Y)X=Y.value,Q=Y.multiline}if(X&&Q&&J.snippet){const Y=this._model.getLineContent(this._selection.startLineNumber),Z=J6(Y,0,this._selection.startColumn-1);let G=Z;J.snippet.walk((U)=>{if(U===J)return!1;if(U instanceof r7)G=J6(Y9(U.value).pop());return!0});const q=pZ(G,Z);X=X.replace(/(\r\n|\r|\n)(.*)/g,(U,H,z)=>`${H}${G.substr(q)}${z}`)}return X}else if($==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);else if($==="TM_CURRENT_WORD"){const X=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return X&&X.word||void 0}else if($==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);else if($==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);else if($==="CURSOR_INDEX")return String(this._selectionIdx);else if($==="CURSOR_NUMBER")return String(this._selectionIdx+1);return}}class bR{constructor(J,$){this._labelService=J,this._model=$}resolve(J){const{name:$}=J;if($==="TM_FILENAME")return WJ(this._model.uri.fsPath);else if($==="TM_FILENAME_BASE"){const X=WJ(this._model.uri.fsPath),Q=X.lastIndexOf(".");if(Q<=0)return X;else return X.slice(0,Q)}else if($==="TM_DIRECTORY"){if(eW(this._model.uri.fsPath)===".")return"";return this._labelService.getUriLabel(xA(this._model.uri))}else if($==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);else if($==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0});return}}class vR{constructor(J,$,X,Q){this._readClipboardText=J,this._selectionIdx=$,this._selectionCount=X,this._spread=Q}resolve(J){if(J.name!=="CLIPBOARD")return;const $=this._readClipboardText();if(!$)return;if(this._spread){const X=$.split(/\r\n|\n|\r/).filter((Q)=>!sB(Q));if(X.length===this._selectionCount)return X[this._selectionIdx]}return $}}var UW=class J{constructor($,X,Q){this._model=$,this._selection=X,this._languageConfigurationService=Q}resolve($){const{name:X}=$,Q=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Y=this._languageConfigurationService.getLanguageConfiguration(Q).comments;if(!Y)return;if(X==="LINE_COMMENT")return Y.lineCommentToken||void 0;else if(X==="BLOCK_COMMENT_START")return Y.blockCommentStartToken||void 0;else if(X==="BLOCK_COMMENT_END")return Y.blockCommentEndToken||void 0;return}};UW=HY0([zY0(2,N8)],UW);class dJ{constructor(){this._date=new Date}resolve(J){const{name:$}=J;if($==="CURRENT_YEAR")return String(this._date.getFullYear());else if($==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);else if($==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");else if($==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");else if($==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");else if($==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");else if($==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");else if($==="CURRENT_DAY_NAME")return dJ.dayNames[this._date.getDay()];else if($==="CURRENT_DAY_NAME_SHORT")return dJ.dayNamesShort[this._date.getDay()];else if($==="CURRENT_MONTH_NAME")return dJ.monthNames[this._date.getMonth()];else if($==="CURRENT_MONTH_NAME_SHORT")return dJ.monthNamesShort[this._date.getMonth()];else if($==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1000));else if($==="CURRENT_TIMEZONE_OFFSET"){const X=this._date.getTimezoneOffset(),Q=X>0?"-":"+",Y=Math.trunc(Math.abs(X/60)),Z=Y<10?"0"+Y:Y,G=Math.abs(X)-Y*60,q=G<10?"0"+G:G;return Q+Z+":"+q}return}}dJ.dayNames=[F("Sunday","Sunday"),F("Monday","Monday"),F("Tuesday","Tuesday"),F("Wednesday","Wednesday"),F("Thursday","Thursday"),F("Friday","Friday"),F("Saturday","Saturday")];dJ.dayNamesShort=[F("SundayShort","Sun"),F("MondayShort","Mon"),F("TuesdayShort","Tue"),F("WednesdayShort","Wed"),F("ThursdayShort","Thu"),F("FridayShort","Fri"),F("SaturdayShort","Sat")];dJ.monthNames=[F("January","January"),F("February","February"),F("March","March"),F("April","April"),F("May","May"),F("June","June"),F("July","July"),F("August","August"),F("September","September"),F("October","October"),F("November","November"),F("December","December")];dJ.monthNamesShort=[F("JanuaryShort","Jan"),F("FebruaryShort","Feb"),F("MarchShort","Mar"),F("AprilShort","Apr"),F("MayShort","May"),F("JuneShort","Jun"),F("JulyShort","Jul"),F("AugustShort","Aug"),F("SeptemberShort","Sep"),F("OctoberShort","Oct"),F("NovemberShort","Nov"),F("DecemberShort","Dec")];class fR{constructor(J){this._workspaceService=J}resolve(J){if(!this._workspaceService)return;const $=bs(this._workspaceService.getWorkspace());if(xs($))return;if(J.name==="WORKSPACE_NAME")return this._resolveWorkspaceName($);else if(J.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath($);return}_resolveWorkspaceName(J){if(vP(J))return WJ(J.uri.path);let $=WJ(J.configPath.path);if($.endsWith(fP))$=$.substr(0,$.length-fP.length-1);return $}_resoveWorkspacePath(J){if(vP(J))return TS(J.uri.fsPath);const $=WJ(J.configPath.path);let X=J.configPath.fsPath;if(X.endsWith($))X=X.substr(0,X.length-$.length-1);return X?TS(X):"/"}}class hR{resolve(J){const{name:$}=J;if($==="RANDOM")return Math.random().toString().slice(-6);else if($==="RANDOM_HEX")return Math.random().toString(16).slice(-6);else if($==="UUID")return Le();return}}var VY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},jY0=function(J,$){return function(X,Q){$(X,Q,J)}},s4;class $J{constructor(J,$,X){this._editor=J,this._snippet=$,this._snippetLineLeadingWhitespace=X,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=GM($.placeholders,R9.compareByIndex),this._placeholderGroupsIdx=-1}initialize(J){this._offset=J.newPosition}dispose(){if(this._placeholderDecorations)this._editor.removeDecorations([...this._placeholderDecorations.values()]);this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const J=this._editor.getModel();this._editor.changeDecorations(($)=>{for(let X of this._snippet.placeholders){const Q=this._snippet.offset(X),Y=this._snippet.fullLen(X),Z=L.fromPositions(J.getPositionAt(this._offset+Q),J.getPositionAt(this._offset+Q+Y)),G=X.isFinalTabstop?$J._decor.inactiveFinal:$J._decor.inactive,q=$.addDecoration(Z,G);this._placeholderDecorations.set(X,q)}})}move(J){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const Q=[];for(let Y of this._placeholderGroups[this._placeholderGroupsIdx])if(Y.transform){const Z=this._placeholderDecorations.get(Y),G=this._editor.getModel().getDecorationRange(Z),q=this._editor.getModel().getValueInRange(G),U=Y.transform.resolve(q).split(/\r\n|\r|\n/);for(let H=1;H<U.length;H++)U[H]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+U[H]);Q.push(i9.replace(G,U.join(this._editor.getModel().getEOL())))}if(Q.length>0)this._editor.executeEdits("snippet.placeholderTransform",Q)}let $=!1;if(J===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1)this._placeholderGroupsIdx+=1,$=!0;else if(J===!1&&this._placeholderGroupsIdx>0)this._placeholderGroupsIdx-=1,$=!0;const X=this._editor.getModel().changeDecorations((Q)=>{const Y=new Set,Z=[];for(let G of this._placeholderGroups[this._placeholderGroupsIdx]){const q=this._placeholderDecorations.get(G),U=this._editor.getModel().getDecorationRange(q);Z.push(new b0(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)),$=$&&this._hasPlaceholderBeenCollapsed(G),Q.changeDecorationOptions(q,G.isFinalTabstop?$J._decor.activeFinal:$J._decor.active),Y.add(G);for(let H of this._snippet.enclosingPlaceholders(G)){const z=this._placeholderDecorations.get(H);Q.changeDecorationOptions(z,H.isFinalTabstop?$J._decor.activeFinal:$J._decor.active),Y.add(H)}}for(let[G,q]of this._placeholderDecorations)if(!Y.has(G))Q.changeDecorationOptions(q,G.isFinalTabstop?$J._decor.inactiveFinal:$J._decor.inactive);return Z});return!$?X!==null&&X!==void 0?X:[]:this.move(J)}_hasPlaceholderBeenCollapsed(J){let $=J;while($){if($ instanceof R9){const X=this._placeholderDecorations.get($);if(this._editor.getModel().getDecorationRange(X).isEmpty()&&$.toString().length>0)return!0}$=$.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[J]=this._snippet.placeholders;if(J.isFinalTabstop){if(this._snippet.rightMostDescendant===J)return!0}}return!1}computePossibleSelections(){const J=new Map;for(let $ of this._placeholderGroups){let X;for(let Q of $){if(Q.isFinalTabstop)break;if(!X)X=[],J.set(Q.index,X);const Y=this._placeholderDecorations.get(Q),Z=this._editor.getModel().getDecorationRange(Y);if(!Z){J.delete(Q.index);break}X.push(Z)}}return J}get activeChoice(){if(!this._placeholderDecorations)return;const J=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(J===null||J===void 0?void 0:J.choice))return;const $=this._placeholderDecorations.get(J);if(!$)return;const X=this._editor.getModel().getDecorationRange($);if(!X)return;return{range:X,choice:J.choice}}get hasChoice(){let J=!1;return this._snippet.walk(($)=>{return J=$ instanceof x2,!J}),J}merge(J){const $=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((X)=>{for(let Q of this._placeholderGroups[this._placeholderGroupsIdx]){const Y=J.shift();console.assert(Y._offset!==-1),console.assert(!Y._placeholderDecorations);const Z=Y._snippet.placeholderInfo.last.index;for(let q of Y._snippet.placeholderInfo.all)if(q.isFinalTabstop)q.index=Q.index+(Z+1)/this._nestingLevel;else q.index=Q.index+q.index/this._nestingLevel;this._snippet.replace(Q,Y._snippet.children);const G=this._placeholderDecorations.get(Q);X.removeDecoration(G),this._placeholderDecorations.delete(Q);for(let q of Y._snippet.placeholders){const U=Y._snippet.offset(q),H=Y._snippet.fullLen(q),z=L.fromPositions($.getPositionAt(Y._offset+U),$.getPositionAt(Y._offset+U+H)),V=X.addDecoration(z,$J._decor.inactive);this._placeholderDecorations.set(q,V)}}this._placeholderGroups=GM(this._snippet.placeholders,R9.compareByIndex)})}}$J._decor={active:E1.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:E1.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:E1.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:E1.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};var Ee={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},gR=s4=class J{static adjustWhitespace($,X,Q,Y,Z){const G=$.getLineContent(X.lineNumber),q=J6(G,0,X.column-1);let U;return Y.walk((H)=>{if(!(H instanceof r7)||H.parent instanceof x2)return!0;if(Z&&!Z.has(H))return!0;const z=H.value.split(/\r\n|\r|\n/);if(Q){const j=Y.offset(H);if(j===0)z[0]=$.normalizeIndentation(z[0]);else{U=U!==null&&U!==void 0?U:Y.toString();const W=U.charCodeAt(j-1);if(W===10||W===13)z[0]=$.normalizeIndentation(q+z[0])}for(let W=1;W<z.length;W++)z[W]=$.normalizeIndentation(q+z[W])}const V=z.join($.getEOL());if(V!==H.value)H.parent.replace(H,[new r7(V)]),U=void 0;return!0}),q}static adjustSelection($,X,Q,Y){if(Q!==0||Y!==0){const{positionLineNumber:Z,positionColumn:G}=X,q=G-Q,U=G+Y,H=$.validateRange({startLineNumber:Z,startColumn:q,endLineNumber:Z,endColumn:U});X=b0.createWithDirection(H.startLineNumber,H.startColumn,H.endLineNumber,H.endColumn,X.getDirection())}return X}static createEditsAndSnippetsFromSelections($,X,Q,Y,Z,G,q,U,H){const z=[],V=[];if(!$.hasModel())return{edits:z,snippets:V};const j=$.getModel(),W=$.invokeWithinContext((M)=>M.get(uV)),B=$.invokeWithinContext((M)=>new bR(M.get(gV),j)),K=()=>q,P=j.getValueInRange(s4.adjustSelection(j,$.getSelection(),Q,0)),A=j.getValueInRange(s4.adjustSelection(j,$.getSelection(),0,Y)),D=j.getLineFirstNonWhitespaceColumn($.getSelection().positionLineNumber),R=$.getSelections().map((M,O)=>({selection:M,idx:O})).sort((M,O)=>L.compareRangesUsingStarts(M.selection,O.selection));for(let{selection:M,idx:O}of R){let _=s4.adjustSelection(j,M,Q,0),w=s4.adjustSelection(j,M,0,Y);if(P!==j.getValueInRange(_))_=M;if(A!==j.getValueInRange(w))w=M;const C=M.setStartPosition(_.startLineNumber,_.startColumn).setEndPosition(w.endLineNumber,w.endColumn),x=new qZ().parse(X,!0,Z),g=C.getStartPosition(),c=s4.adjustWhitespace(j,g,G||O>0&&D!==j.getLineFirstNonWhitespaceColumn(M.positionLineNumber),x);x.resolveVariables(new CR([B,new vR(K,O,R.length,$.getOption(78)==="spread"),new xR(j,M,O,U),new UW(j,M,H),new dJ,new fR(W),new hR])),z[O]=i9.replace(C,x.toString()),z[O].identifier={major:O,minor:0},z[O]._isTracked=!0,V[O]=new $J($,x,c)}return{edits:z,snippets:V}}static createEditsAndSnippetsFromEdits($,X,Q,Y,Z,G,q){if(!$.hasModel()||X.length===0)return{edits:[],snippets:[]};const U=[],H=$.getModel(),z=new qZ,V=new yU,j=new CR([$.invokeWithinContext((B)=>new bR(B.get(gV),H)),new vR(()=>Z,0,$.getSelections().length,$.getOption(78)==="spread"),new xR(H,$.getSelection(),0,G),new UW(H,$.getSelection(),q),new dJ,new fR($.invokeWithinContext((B)=>B.get(uV))),new hR]);X=X.sort((B,K)=>L.compareRangesUsingStarts(B.range,K.range));let W=0;for(let B=0;B<X.length;B++){const{range:K,template:P}=X[B];if(B>0){const O=X[B-1].range,_=L.fromPositions(O.getEndPosition(),K.getStartPosition()),w=new r7(H.getValueInRange(_));V.appendChild(w),W+=w.value.length}const A=z.parseFragment(P,V);s4.adjustWhitespace(H,K.getStartPosition(),!0,V,new Set(A)),V.resolveVariables(j);const D=V.toString(),R=D.slice(W);W=D.length;const M=i9.replace(K,R);M.identifier={major:B,minor:0},M._isTracked=!0,U.push(M)}return z.ensureFinalTabstop(V,Q,!0),{edits:U,snippets:[new $J($,V,"")]}}constructor($,X,Q=Ee,Y){this._editor=$,this._template=X,this._options=Q,this._languageConfigurationService=Y,this._templateMerges=[],this._snippets=[]}dispose(){k1(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:$,snippets:X}=typeof this._template==="string"?s4.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):s4.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=X,this._editor.executeEdits("snippet",$,(Q)=>{const Y=Q.filter((Z)=>!!Z.identifier);for(let Z=0;Z<X.length;Z++)X[Z].initialize(Y[Z].textChange);if(this._snippets[0].hasPlaceholder)return this._move(!0);else return Y.map((Z)=>b0.fromPositions(Z.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge($,X=Ee){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,$]);const{edits:Q,snippets:Y}=s4.createEditsAndSnippetsFromSelections(this._editor,$,X.overwriteBefore,X.overwriteAfter,!0,X.adjustWhitespace,X.clipboardText,X.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",Q,(Z)=>{const G=Z.filter((U)=>!!U.identifier);for(let U=0;U<Y.length;U++)Y[U].initialize(G[U].textChange);const q=Y[0].isTrivialSnippet;if(!q){for(let U of this._snippets)U.merge(Y);console.assert(Y.length===0)}if(this._snippets[0].hasPlaceholder&&!q)return this._move(void 0);else return G.map((U)=>b0.fromPositions(U.range.getEndPosition()))})}next(){const $=this._move(!0);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}prev(){const $=this._move(!1);this._editor.setSelections($),this._editor.revealPositionInCenterIfOutsideViewport($[0].getPosition())}_move($){const X=[];for(let Q of this._snippets){const Y=Q.move($);X.push(...Y)}return X}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const $=this._editor.getSelections();if($.length<this._snippets.length)return!1;const X=new Map;for(let Q of this._snippets){const Y=Q.computePossibleSelections();if(X.size===0)for(let[Z,G]of Y){G.sort(L.compareRangesUsingStarts);for(let q of $)if(G[0].containsRange(q)){X.set(Z,[]);break}}if(X.size===0)return!1;X.forEach((Z,G)=>{Z.push(...Y.get(G))})}$.sort(L.compareRangesUsingStarts);for(let[Q,Y]of X){if(Y.length!==$.length){X.delete(Q);continue}Y.sort(L.compareRangesUsingStarts);for(let Z=0;Z<Y.length;Z++)if(!Y[Z].containsRange($[Z])){X.delete(Q);continue}}return X.size>0}};gR=s4=VY0([jY0(3,N8)],gR);var WY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},pR=function(J,$){return function(X,Q){$(X,Q,J)}},bU,ke={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0},f6=bU=class J{static get($){return $.getContribution(bU.ID)}constructor($,X,Q,Y,Z){this._editor=$,this._logService=X,this._languageFeaturesService=Q,this._languageConfigurationService=Z,this._snippetListener=new r,this._modelVersionId=-1,this._inSnippet=bU.InSnippetMode.bindTo(Y),this._hasNextTabstop=bU.HasNextTabstop.bindTo(Y),this._hasPrevTabstop=bU.HasPrevTabstop.bindTo(Y)}dispose(){var $;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),($=this._session)===null||$===void 0||$.dispose(),this._snippetListener.dispose()}insert($,X){try{this._doInsert($,typeof X==="undefined"?ke:{...ke,...X})}catch(Q){this.cancel(),this._logService.error(Q),this._logService.error("snippet_error"),this._logService.error("insert_template=",$),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert($,X){var Q;if(!this._editor.hasModel())return;if(this._snippetListener.clear(),X.undoStopBefore)this._editor.getModel().pushStackElement();if(this._session&&typeof $!=="string")this.cancel();if(!this._session)this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new gR(this._editor,$,X,this._languageConfigurationService),this._session.insert();else q6(typeof $==="string"),this._session.merge($,X);if(X.undoStopAfter)this._editor.getModel().pushStackElement();if((Q=this._session)===null||Q===void 0?void 0:Q.hasChoice){const Y={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(z,V)=>{if(!this._session||z!==this._editor.getModel()||!v.equals(this._editor.getPosition(),V))return;const{activeChoice:j}=this._session;if(!j||j.choice.options.length===0)return;const W=z.getValueInRange(j.range),B=Boolean(j.choice.options.find((P)=>P.value===W)),K=[];for(let P=0;P<j.choice.options.length;P++){const A=j.choice.options[P];K.push({kind:13,label:A.value,insertText:A.value,sortText:"a".repeat(P+1),range:j.range,filterText:B?`${W}_${A.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:F("next","Go to next placeholder...")}})}return{suggestions:K}}},Z=this._editor.getModel();let G,q=!1;const U=()=>{G===null||G===void 0||G.dispose(),q=!1},H=()=>{if(!q)G=this._languageFeaturesService.completionProvider.register({language:Z.getLanguageId(),pattern:Z.uri.fsPath,scheme:Z.uri.scheme,exclusive:!0},Y),this._snippetListener.add(G),q=!0};this._choiceCompletions={provider:Y,enable:H,disable:U}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((Y)=>Y.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}_updateState(){if(!this._session||!this._editor.hasModel())return;if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}_handleChoice(){var $;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:X}=this._session;if(!X||!this._choiceCompletions){($=this._choiceCompletions)===null||$===void 0||$.disable(),this._currentChoice=void 0;return}if(this._currentChoice!==X.choice)this._currentChoice=X.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{we(this._editor,this._choiceCompletions.provider)})}finish(){while(this._inSnippet.get())this.next()}cancel($=!1){var X;if(this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(X=this._session)===null||X===void 0||X.dispose(),this._session=void 0,this._modelVersionId=-1,$)this._editor.setSelections([this._editor.getSelection()])}prev(){var $;($=this._session)===null||$===void 0||$.prev(),this._updateState()}next(){var $;($=this._session)===null||$===void 0||$.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};f6.ID="snippetController2";f6.InSnippetMode=new z0("inSnippetMode",!1,F("inSnippetMode","Whether the editor in current in snippet mode"));f6.HasNextTabstop=new z0("hasNextTabstop",!1,F("hasNextTabstop","Whether there is a next tab stop when in snippet mode"));f6.HasPrevTabstop=new z0("hasPrevTabstop",!1,F("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode"));f6=bU=WY0([pR(1,Y6),pR(2,K1),pR(3,v0),pR(4,N8)],f6);C9(f6.ID,f6,4);var mR=f5.bindToContribution(f6.get);w0(new mR({id:"jumpToNextSnippetPlaceholder",precondition:N0.and(f6.InSnippetMode,f6.HasNextTabstop),handler:(J)=>J.next(),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:2}}));w0(new mR({id:"jumpToPrevSnippetPlaceholder",precondition:N0.and(f6.InSnippetMode,f6.HasPrevTabstop),handler:(J)=>J.prev(),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:1024|2}}));w0(new mR({id:"leaveSnippet",precondition:f6.InSnippetMode,handler:(J)=>J.cancel(!0),kbOpts:{weight:130,kbExpr:n.editorTextFocus,primary:9,secondary:[1024|9]}}));w0(new mR({id:"acceptSnippet",precondition:f6.InSnippetMode,handler:(J)=>J.finish()}));u1();X0();W4();bP();M7();h7();h9();m0();t3();var BY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},Ie=function(J,$){return function(X,Q){$(X,Q,J)}},HW;class uR{constructor(J){this.name=J}select(J,$,X){if(X.length===0)return 0;const Q=X[0].score[0];for(let Y=0;Y<X.length;Y++){const{score:Z,completion:G}=X[Y];if(Z[0]!==Q)break;if(G.preselect)return Y}return 0}}class NS extends uR{constructor(){super("first")}memorize(J,$,X){}toJSON(){return}fromJSON(){}}class ye extends uR{constructor(){super("recentlyUsed");this._cache=new mX(300,0.66),this._seq=0}memorize(J,$,X){const Q=`${J.getLanguageId()}/${X.textLabel}`;this._cache.set(Q,{touch:this._seq++,type:X.completion.kind,insertText:X.completion.insertText})}select(J,$,X){if(X.length===0)return 0;const Q=J.getLineContent($.lineNumber).substr($.column-10,$.column-1);if(/\s$/.test(Q))return super.select(J,$,X);const Y=X[0].score[0];let Z=-1,G=-1,q=-1;for(let U=0;U<X.length;U++){if(X[U].score[0]!==Y)break;const H=`${J.getLanguageId()}/${X[U].textLabel}`,z=this._cache.peek(H);if(z&&z.touch>q&&z.type===X[U].completion.kind&&z.insertText===X[U].completion.insertText)q=z.touch,G=U;if(X[U].completion.preselect&&Z===-1)return Z=U}if(G!==-1)return G;else if(Z!==-1)return Z;else return 0}toJSON(){return this._cache.toJSON()}fromJSON(J){this._cache.clear();const $=0;for(let[X,Q]of J)Q.touch=$,Q.type=typeof Q.type==="number"?Q.type:vZ.fromString(Q.type),this._cache.set(X,Q);this._seq=this._cache.size}}class Se extends uR{constructor(){super("recentlyUsedByPrefix");this._trie=OQ.forStrings(),this._seq=0}memorize(J,$,X){const{word:Q}=J.getWordUntilPosition($),Y=`${J.getLanguageId()}/${Q}`;this._trie.set(Y,{type:X.completion.kind,insertText:X.completion.insertText,touch:this._seq++})}select(J,$,X){const{word:Q}=J.getWordUntilPosition($);if(!Q)return super.select(J,$,X);const Y=`${J.getLanguageId()}/${Q}`;let Z=this._trie.get(Y);if(!Z)Z=this._trie.findSubstr(Y);if(Z)for(let G=0;G<X.length;G++){const{kind:q,insertText:U}=X[G].completion;if(q===Z.type&&U===Z.insertText)return G}return super.select(J,$,X)}toJSON(){const J=[];return this._trie.forEach(($,X)=>J.push([X,$])),J.sort(($,X)=>-($[1].touch-X[1].touch)).forEach(($,X)=>$[1].touch=X),J.slice(0,200)}fromJSON(J){if(this._trie.clear(),J.length>0){this._seq=J[0][1].touch+1;for(let[$,X]of J)X.type=typeof X.type==="number"?X.type:vZ.fromString(X.type),this._trie.set($,X)}}}var zW=HW=class J{constructor($,X){this._storageService=$,this._configService=X,this._disposables=new r,this._persistSoon=new t1(()=>this._saveState(),500),this._disposables.add($.onWillSaveState((Q)=>{if(Q.reason===oP.SHUTDOWN)this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize($,X,Q){this._withStrategy($,X).memorize($,X,Q),this._persistSoon.schedule()}select($,X,Q){return this._withStrategy($,X).select($,X,Q)}_withStrategy($,X){var Q;const Y=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:$.getLanguageIdAtPosition(X.lineNumber,X.column),resource:$.uri});if(((Q=this._strategy)===null||Q===void 0?void 0:Q.name)!==Y){this._saveState();const Z=HW._strategyCtors.get(Y)||NS;this._strategy=new Z;try{const q=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,U=this._storageService.get(`${HW._storagePrefix}/${Y}`,q);if(U)this._strategy.fromJSON(JSON.parse(U))}catch(G){}}return this._strategy}_saveState(){if(this._strategy){const X=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,Q=JSON.stringify(this._strategy);this._storageService.store(`${HW._storagePrefix}/${this._strategy.name}`,Q,X,1)}}};zW._strategyCtors=new Map([["recentlyUsedByPrefix",Se],["recentlyUsed",ye],["first",NS]]);zW._storagePrefix="suggest/memories";zW=HW=BY0([Ie(0,b4),Ie(1,S1)],zW);var _S=M0("ISuggestMemories");z1(_S,zW,1);m1();var FY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},KY0=function(J,$){return function(X,Q){$(X,Q,J)}},wS,vU=wS=class J{constructor($,X){this._editor=$,this._enabled=!1,this._ckAtEnd=wS.AtEnd.bindTo(X),this._configListener=this._editor.onDidChangeConfiguration((Q)=>Q.hasChanged(122)&&this._update()),this._update()}dispose(){var $;this._configListener.dispose(),($=this._selectionListener)===null||$===void 0||$.dispose(),this._ckAtEnd.reset()}_update(){const $=this._editor.getOption(122)==="on";if(this._enabled===$)return;if(this._enabled=$,this._enabled){const X=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const Q=this._editor.getModel(),Y=this._editor.getSelection(),Z=Q.getWordAtPosition(Y.getStartPosition());if(!Z){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(Z.endColumn===Y.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(X),X()}else if(this._selectionListener)this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0}};vU.AtEnd=new z0("atEndOfWord",!1);vU=wS=FY0([KY0(1,v0)],vU);h0();X5();m1();m0();U9();m1();var AY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},PY0=function(J,$){return function(X,Q){$(X,Q,J)}},VW,UZ=VW=class J{constructor($,X){this._editor=$,this._index=0,this._ckOtherSuggestions=VW.OtherSuggestions.bindTo(X)}dispose(){this.reset()}reset(){var $;this._ckOtherSuggestions.reset(),($=this._listener)===null||$===void 0||$.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:$,index:X},Q){if($.items.length===0){this.reset();return}if(VW._moveIndex(!0,$,X)===X){this.reset();return}this._acceptNext=Q,this._model=$,this._index=X,this._listener=this._editor.onDidChangeCursorPosition(()=>{if(!this._ignore)this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex($,X,Q){let Y=Q;for(let Z=X.items.length;Z>0;Z--){if(Y=(Y+X.items.length+($?1:-1))%X.items.length,Y===Q)break;if(!X.items[Y].completion.additionalTextEdits)break}return Y}next(){this._move(!0)}prev(){this._move(!1)}_move($){if(!this._model)return;try{this._ignore=!0,this._index=VW._moveIndex($,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};UZ.OtherSuggestions=new z0("hasOtherSuggestions",!1);UZ=VW=AY0([PY0(1,v0)],UZ);H1();X0();Pq();class LS{constructor(J,$,X,Q){this._disposables=new r,this._disposables.add(X.onDidSuggest((Y)=>{if(Y.completionModel.items.length===0)this.reset()})),this._disposables.add(X.onDidCancel((Y)=>{this.reset()})),this._disposables.add($.onDidShow(()=>this._onItem($.getFocusedItem()))),this._disposables.add($.onDidFocus(this._onItem,this)),this._disposables.add($.onDidHide(this.reset,this)),this._disposables.add(J.onWillType((Y)=>{if(this._active&&!$.isFrozen()&&X.state!==0){const Z=Y.charCodeAt(Y.length-1);if(this._active.acceptCharacters.has(Z)&&J.getOption(0))Q(this._active.item)}}))}_onItem(J){if(!J||!T9(J.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===J.item)return;const $=new nH;for(let X of J.item.completion.commitCharacters)if(X.length>0)$.add(X.charCodeAt(0));this._active={acceptCharacters:$,item:J}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}u1();$7();D1();F0();X0();o0();S6();XU();H1();c0();w9();U1();c0();class M9{async provideSelectionRanges(J,$){const X=[];for(let Q of $){const Y=[];X.push(Y);const Z=new Map;await new Promise((G)=>M9._bracketsRightYield(G,0,J,Q,Z)),await new Promise((G)=>M9._bracketsLeftYield(G,0,J,Q,Z,Y))}return X}static _bracketsRightYield(J,$,X,Q,Y){const Z=new Map,G=Date.now();while(!0){if($>=M9._maxRounds){J();break}if(!Q){J();break}const q=X.bracketPairs.findNextBracket(Q);if(!q){J();break}if(Date.now()-G>M9._maxDuration){setTimeout(()=>M9._bracketsRightYield(J,$+1,X,Q,Y));break}if(q.bracketInfo.isOpeningBracket){const H=q.bracketInfo.bracketText,z=Z.has(H)?Z.get(H):0;Z.set(H,z+1)}else{const H=q.bracketInfo.getOpeningBrackets()[0].bracketText;let z=Z.has(H)?Z.get(H):0;if(z-=1,Z.set(H,Math.max(0,z)),z<0){let V=Y.get(H);if(!V)V=new I8,Y.set(H,V);V.push(q.range)}}Q=q.range.getEndPosition()}}static _bracketsLeftYield(J,$,X,Q,Y,Z){const G=new Map,q=Date.now();while(!0){if($>=M9._maxRounds&&Y.size===0){J();break}if(!Q){J();break}const U=X.bracketPairs.findPrevBracket(Q);if(!U){J();break}if(Date.now()-q>M9._maxDuration){setTimeout(()=>M9._bracketsLeftYield(J,$+1,X,Q,Y,Z));break}if(!U.bracketInfo.isOpeningBracket){const z=U.bracketInfo.getOpeningBrackets()[0].bracketText,V=G.has(z)?G.get(z):0;G.set(z,V+1)}else{const z=U.bracketInfo.bracketText;let V=G.has(z)?G.get(z):0;if(V-=1,G.set(z,Math.max(0,V)),V<0){const j=Y.get(z);if(j){const W=j.shift();if(j.size===0)Y.delete(z);const B=L.fromPositions(U.range.getEndPosition(),W.getStartPosition()),K=L.fromPositions(U.range.getStartPosition(),W.getEndPosition());Z.push({range:B}),Z.push({range:K}),M9._addBracketLeading(X,K,Z)}}}Q=U.range.getStartPosition()}}static _addBracketLeading(J,$,X){if($.startLineNumber===$.endLineNumber)return;const Q=$.startLineNumber,Y=J.getLineFirstNonWhitespaceColumn(Q);if(Y!==0&&Y!==$.startColumn)X.push({range:L.fromPositions(new v(Q,Y),$.getEndPosition())}),X.push({range:L.fromPositions(new v(Q,1),$.getEndPosition())});const Z=Q-1;if(Z>0){const G=J.getLineFirstNonWhitespaceColumn(Z);if(G===$.startColumn&&G!==J.getLineLastNonWhitespaceColumn(Z))X.push({range:L.fromPositions(new v(Z,G),$.getEndPosition())}),X.push({range:L.fromPositions(new v(Z,1),$.getEndPosition())})}}}M9._maxDuration=30;M9._maxRounds=2;class a4{static async create(J,$){if(!$.getOption(117).localityBonus)return a4.None;if(!$.hasModel())return a4.None;const X=$.getModel(),Q=$.getPosition();if(!J.canComputeWordRanges(X.uri))return a4.None;const[Y]=await new M9().provideSelectionRanges(X,[Q]);if(Y.length===0)return a4.None;const Z=await J.computeWordRanges(X.uri,Y[0].range);if(!Z)return a4.None;const G=X.getWordUntilPosition(Q);return delete Z[G.word],new class extends a4{distance(q,U){if(!Q.equals($.getPosition()))return 0;if(U.kind===17)return 2<<20;const H=typeof U.label==="string"?U.label:U.label.label,z=Z[H];if(xW(z))return 2<<20;const V=yW(z,L.fromPositions(q),L.compareRangesUsingStarts),j=V>=0?z[V]:z[Math.max(0,~V-1)];let W=Y.length;for(let B of Y){if(!L.containsRange(B.range,j))break;W-=1}return W}}}}a4.None=new class extends a4{distance(){return 0}};Ej();h7();m1();U9();iQ();H1();pY();o0();class HZ{constructor(J,$,X,Q,Y,Z,G=tG.default,q=void 0){if(this.clipboardText=q,this._snippetCompareFn=HZ._compareCompletionItems,this._items=J,this._column=$,this._wordDistance=Q,this._options=Y,this._refilterKind=1,this._lineContext=X,this._fuzzyScoreOptions=G,Z==="top")this._snippetCompareFn=HZ._compareCompletionItemsSnippetsUp;else if(Z==="bottom")this._snippetCompareFn=HZ._compareCompletionItemsSnippetsDown}get lineContext(){return this._lineContext}set lineContext(J){if(this._lineContext.leadingLineContent!==J.leadingLineContent||this._lineContext.characterCountDelta!==J.characterCountDelta)this._refilterKind=this._lineContext.characterCountDelta<J.characterCountDelta&&this._filteredItems?2:1,this._lineContext=J}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const J=new Set;for(let[$,X]of this.getItemsByProvider())if(X.length>0&&X[0].container.incomplete)J.add($);return J}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){if(this._refilterKind!==0)this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const J=[],{leadingLineContent:$,characterCountDelta:X}=this._lineContext;let Q="",Y="";const Z=this._refilterKind===1?this._items:this._filteredItems,G=[],q=!this._options.filterGraceful||Z.length>2000?gY:nd;for(let U=0;U<Z.length;U++){const H=Z[U];if(H.isInvalid)continue;const z=this._itemsByProvider.get(H.provider);if(z)z.push(H);else this._itemsByProvider.set(H.provider,[H]);const V=H.position.column-H.editStart.column,j=V+X-(H.position.column-this._column);if(Q.length!==j)Q=j===0?"":$.slice(-j),Y=Q.toLowerCase();if(H.word=Q,j===0)H.score=hJ.Default;else{let W=0;while(W<V){const B=Q.charCodeAt(W);if(B===32||B===9)W+=1;else break}if(W>=j)H.score=hJ.Default;else if(typeof H.completion.filterText==="string"){const B=q(Q,Y,W,H.completion.filterText,H.filterTextLow,0,this._fuzzyScoreOptions);if(!B)continue;if(jH(H.completion.filterText,H.textLabel)===0)H.score=B;else H.score=ad(Q,Y,W,H.textLabel,H.labelLow,0),H.score[0]=B[0]}else{const B=q(Q,Y,W,H.textLabel,H.labelLow,0,this._fuzzyScoreOptions);if(!B)continue;H.score=B}}H.idx=U,H.distance=this._wordDistance.distance(H.position,H.completion),G.push(H),J.push(H.textLabel.length)}this._filteredItems=G.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:J.length?IW(J.length-0.85,J,(U,H)=>U-H):0}}static _compareCompletionItems(J,$){if(J.score[0]>$.score[0])return-1;else if(J.score[0]<$.score[0])return 1;else if(J.distance<$.distance)return-1;else if(J.distance>$.distance)return 1;else if(J.idx<$.idx)return-1;else if(J.idx>$.idx)return 1;else return 0}static _compareCompletionItemsSnippetsDown(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return 1;else if($.completion.kind===27)return-1}return HZ._compareCompletionItems(J,$)}static _compareCompletionItemsSnippetsUp(J,$){if(J.completion.kind!==$.completion.kind){if(J.completion.kind===27)return-1;else if($.completion.kind===27)return 1}return HZ._compareCompletionItems(J,$)}}d9();pY();G8();s7();o0();SJ();m1();X0();h0();class XJ extends f{constructor(J,$){super();this.contextKeyService=J,this.model=$,this.inlineCompletionVisible=XJ.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=XJ.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=XJ.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=XJ.suppressSuggestions.bindTo(this.contextKeyService),this._register(M1((X)=>{const Q=this.model.read(X),Y=Q===null||Q===void 0?void 0:Q.state.read(X),Z=!!(Y===null||Y===void 0?void 0:Y.inlineCompletion)&&(Y===null||Y===void 0?void 0:Y.ghostText)!==void 0&&!(Y===null||Y===void 0?void 0:Y.ghostText.isEmpty());if(this.inlineCompletionVisible.set(Z),(Y===null||Y===void 0?void 0:Y.ghostText)&&(Y===null||Y===void 0?void 0:Y.inlineCompletion))this.suppressSuggestions.set(Y.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(M1((X)=>{const Q=this.model.read(X);let Y=!1,Z=!0;const G=Q===null||Q===void 0?void 0:Q.ghostText.read(X);if(!!(Q===null||Q===void 0?void 0:Q.selectedSuggestItem)&&G&&G.parts.length>0){const{column:q,lines:U}=G.parts[0],H=U[0],z=Q.textModel.getLineIndentColumn(G.lineNumber);if(q<=z){let j=S8(H);if(j===-1)j=H.length-1;Y=j>0;const W=Q.textModel.getOptions().tabSize;Z=J8.visibleColumnFromColumn(H,j+1,W)<W}}this.inlineCompletionSuggestsIndentation.set(Y),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(Z)}))}}XJ.inlineSuggestionVisible=new z0("inlineSuggestionVisible",!1,F("inlineSuggestionVisible","Whether an inline suggestion is visible"));XJ.inlineSuggestionHasIndentation=new z0("inlineSuggestionHasIndentation",!1,F("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace"));XJ.inlineSuggestionHasIndentationLessThanTabSize=new z0("inlineSuggestionHasIndentationLessThanTabSize",!0,F("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab"));XJ.suppressSuggestions=new z0("inlineSuggestionSuppressSuggestions",void 0,F("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));zP();var RY0=function(J,$,X){if(!Boolean($.getContextKeyValue(XJ.inlineSuggestionVisible.key)))return!0;const Q=$.getContextKeyValue(XJ.suppressSuggestions.key);if(Q!==void 0)return!Q;return!J.getOption(62).suppressSuggestions},MY0=function(J,$,X){if(!Boolean($.getContextKeyValue("inlineSuggestionVisible")))return!0;const Q=$.getContextKeyValue(XJ.suppressSuggestions.key);if(Q!==void 0)return!Q;return!J.getOption(62).suppressSuggestions},DY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},zZ=function(J,$){return function(X,Q){$(X,Q,J)}},ES;class VZ{static shouldAutoTrigger(J){if(!J.hasModel())return!1;const $=J.getModel(),X=J.getPosition();$.tokenization.tokenizeIfCheap(X.lineNumber);const Q=$.getWordAtPosition(X);if(!Q)return!1;if(Q.endColumn!==X.column&&Q.startColumn+1!==X.column)return!1;if(!isNaN(Number(Q.word)))return!1;return!0}constructor(J,$,X){this.leadingLineContent=J.getLineContent($.lineNumber).substr(0,$.column-1),this.leadingWord=J.getWordUntilPosition($),this.lineNumber=$.lineNumber,this.column=$.column,this.triggerOptions=X}}var cR=ES=class J{constructor($,X,Q,Y,Z,G,q,U,H){this._editor=$,this._editorWorkerService=X,this._clipboardService=Q,this._telemetryService=Y,this._logService=Z,this._contextKeyService=G,this._configurationService=q,this._languageFeaturesService=U,this._envService=H,this._toDispose=new r,this._triggerCharacterListener=new r,this._triggerQuickSuggest=new N7,this._triggerState=void 0,this._completionDisposables=new r,this._onDidCancel=new y,this._onDidTrigger=new y,this._onDidSuggest=new y,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new b0(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let z=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{z=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{z=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection((V)=>{if(!z)this._onCursorChange(V)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{if(!z&&this._triggerState!==void 0)this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){k1(this._triggerCharacterListener),k1([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(90)||!this._editor.hasModel()||!this._editor.getOption(120))return;const $=new Map;for(let Q of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(let Y of Q.triggerCharacters||[]){let Z=$.get(Y);if(!Z)Z=new Set,Z.add(Ne()),$.set(Y,Z);Z.add(Q)}const X=(Q)=>{var Y;if(!MY0(this._editor,this._contextKeyService,this._configurationService))return;if(VZ.shouldAutoTrigger(this._editor))return;if(!Q){const q=this._editor.getPosition();Q=this._editor.getModel().getLineContent(q.lineNumber).substr(0,q.column-1)}let Z="";if(Z$(Q.charCodeAt(Q.length-1))){if(U8(Q.charCodeAt(Q.length-2)))Z=Q.substr(Q.length-2)}else Z=Q.charAt(Q.length-1);const G=$.get(Z);if(G){const q=new Map;if(this._completionModel){for(let[U,H]of this._completionModel.getItemsByProvider())if(!G.has(U))q.set(U,H)}this.trigger({auto:!0,triggerKind:1,triggerCharacter:Z,retrigger:Boolean(this._completionModel),clipboardText:(Y=this._completionModel)===null||Y===void 0?void 0:Y.clipboardText,completionOptions:{providerFilter:G,providerItemsToReuse:q}})}};this._triggerCharacterListener.add(this._editor.onDidType(X)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>X()))}get state(){if(!this._triggerState)return 0;else if(!this._triggerState.auto)return 1;else return 2}cancel($=!1){var X;if(this._triggerState!==void 0)this._triggerQuickSuggest.cancel(),(X=this._requestToken)===null||X===void 0||X.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:$})}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){if(this._triggerState!==void 0)if(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel()))this.cancel();else this.trigger({auto:this._triggerState.auto,retrigger:!0})}_onCursorChange($){if(!this._editor.hasModel())return;const X=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!$.selection.isEmpty()||$.reason!==0&&$.reason!==3||$.source!=="keyboard"&&$.source!=="deleteLeft"){this.cancel();return}if(this._triggerState===void 0&&$.reason===0){if(X.containsRange(this._currentSelection)||X.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))this._doTriggerQuickSuggest()}else if(this._triggerState!==void 0&&$.reason===3)this._refilterCompletionItems()}_onCompositionEnd(){if(this._triggerState===void 0)this._doTriggerQuickSuggest();else this._refilterCompletionItems()}_doTriggerQuickSuggest(){var $;if(xU.isAllOff(this._editor.getOption(88)))return;if(this._editor.getOption(117).snippetsPreventQuickSuggestions&&(($=f6.get(this._editor))===null||$===void 0?void 0:$.isInSnippet()))return;this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0)return;if(!VZ.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const X=this._editor.getModel(),Q=this._editor.getPosition(),Y=this._editor.getOption(88);if(xU.isAllOff(Y))return;if(!xU.isAllOn(Y)){X.tokenization.tokenizeIfCheap(Q.lineNumber);const Z=X.tokenization.getLineTokens(Q.lineNumber),G=Z.getStandardTokenType(Z.findTokenIndexAtOffset(Math.max(Q.column-1-1,0)));if(xU.valueFor(Y,G)!=="on")return}if(!RY0(this._editor,this._contextKeyService,this._configurationService))return;if(!this._languageFeaturesService.completionProvider.has(X))return;this.trigger({auto:!0})},this._editor.getOption(89))}_refilterCompletionItems(){q6(this._editor.hasModel()),q6(this._triggerState!==void 0);const $=this._editor.getModel(),X=this._editor.getPosition(),Q=new VZ($,X,{...this._triggerState,refilter:!0});this._onNewContext(Q)}trigger($){var X,Q,Y,Z,G,q;if(!this._editor.hasModel())return;const U=this._editor.getModel(),H=new VZ(U,this._editor.getPosition(),$);this.cancel($.retrigger),this._triggerState=$,this._onDidTrigger.fire({auto:$.auto,shy:(X=$.shy)!==null&&X!==void 0?X:!1,position:this._editor.getPosition()}),this._context=H;let z={triggerKind:(Q=$.triggerKind)!==null&&Q!==void 0?Q:0};if($.triggerCharacter)z={triggerKind:1,triggerCharacter:$.triggerCharacter};this._requestToken=new H6;const V=this._editor.getOption(111);let j=1;switch(V){case"top":j=0;break;case"bottom":j=2;break}const{itemKind:W,showDeprecated:B}=ES.createSuggestFilter(this._editor),K=new CU(j,(Z=(Y=$.completionOptions)===null||Y===void 0?void 0:Y.kindFilter)!==null&&Z!==void 0?Z:W,(G=$.completionOptions)===null||G===void 0?void 0:G.providerFilter,(q=$.completionOptions)===null||q===void 0?void 0:q.providerItemsToReuse,B),P=a4.create(this._editorWorkerService,this._editor),A=MS(this._languageFeaturesService.completionProvider,U,this._editor.getPosition(),K,z,this._requestToken.token);Promise.all([A,P]).then(async([D,R])=>{var M;if((M=this._requestToken)===null||M===void 0||M.dispose(),!this._editor.hasModel())return;let O=$===null||$===void 0?void 0:$.clipboardText;if(!O&&D.needsClipboard)O=await this._clipboardService.readText();if(this._triggerState===void 0)return;const _=this._editor.getModel(),w=new VZ(_,this._editor.getPosition(),$),C={...tG.default,firstMatchCanBeWeak:!this._editor.getOption(117).matchOnWordStartOnly};if(this._completionModel=new HZ(D.items,this._context.column,{leadingLineContent:w.leadingLineContent,characterCountDelta:w.column-this._context.column},R,this._editor.getOption(117),this._editor.getOption(111),C,O),this._completionDisposables.add(D.disposable),this._onNewContext(w),this._reportDurationsTelemetry(D.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment){for(let x of D.items)if(x.isInvalid)this._logService.warn(`[suggest] did IGNORE invalid completion item from ${x.provider._debugDisplayName}`,x.completion)}}).catch(n0)}_reportDurationsTelemetry($){if(this._telemetryGate++%230!==0)return;setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify($)}),this._logService.debug("suggest.durations.json",$)})}static createSuggestFilter($){const X=new Set;if($.getOption(111)==="none")X.add(27);const Y=$.getOption(117);if(!Y.showMethods)X.add(0);if(!Y.showFunctions)X.add(1);if(!Y.showConstructors)X.add(2);if(!Y.showFields)X.add(3);if(!Y.showVariables)X.add(4);if(!Y.showClasses)X.add(5);if(!Y.showStructs)X.add(6);if(!Y.showInterfaces)X.add(7);if(!Y.showModules)X.add(8);if(!Y.showProperties)X.add(9);if(!Y.showEvents)X.add(10);if(!Y.showOperators)X.add(11);if(!Y.showUnits)X.add(12);if(!Y.showValues)X.add(13);if(!Y.showConstants)X.add(14);if(!Y.showEnums)X.add(15);if(!Y.showEnumMembers)X.add(16);if(!Y.showKeywords)X.add(17);if(!Y.showWords)X.add(18);if(!Y.showColors)X.add(19);if(!Y.showFiles)X.add(20);if(!Y.showReferences)X.add(21);if(!Y.showColors)X.add(22);if(!Y.showFolders)X.add(23);if(!Y.showTypeParameters)X.add(24);if(!Y.showSnippets)X.add(27);if(!Y.showUsers)X.add(25);if(!Y.showIssues)X.add(26);return{itemKind:X,showDeprecated:Y.showDeprecated}}_onNewContext($){if(!this._context)return;if($.lineNumber!==this._context.lineNumber){this.cancel();return}if(J6($.leadingLineContent)!==J6(this._context.leadingLineContent)){this.cancel();return}if($.column<this._context.column){if($.leadingWord.word)this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});else this.cancel();return}if(!this._completionModel)return;if($.leadingWord.word.length!==0&&$.leadingWord.startColumn>this._context.leadingWord.startColumn){if(VZ.shouldAutoTrigger(this._editor)&&this._context){const Q=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:Q}})}return}if($.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&$.leadingWord.word.length!==0){const X=new Map,Q=new Set;for(let[Y,Z]of this._completionModel.getItemsByProvider())if(Z.length>0&&Z[0].container.incomplete)Q.add(Y);else X.set(Y,Z);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:Q,providerItemsToReuse:X}})}else{const X=this._completionModel.lineContext;let Q=!1;if(this._completionModel.lineContext={leadingLineContent:$.leadingLineContent,characterCountDelta:$.column-this._context.column},this._completionModel.items.length===0){const Y=VZ.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(Y&&this._context.leadingWord.endColumn<$.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(!this._context.triggerOptions.auto){if(this._completionModel.lineContext=X,Q=this._completionModel.items.length>0,Q&&$.leadingWord.word.length===0){this.cancel();return}}else{this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:$.triggerOptions,isFrozen:Q})}}};cR=ES=DY0([zZ(1,P9),zZ(2,oY),zZ(3,Z5),zZ(4,Y6),zZ(5,v0),zZ(6,S1),zZ(7,K1),zZ(8,S3)],cR);X0();class jW{constructor(J,$){this._disposables=new r,this._lastOvertyped=[],this._locked=!1,this._disposables.add(J.onWillType(()=>{if(this._locked||!J.hasModel())return;const X=J.getSelections(),Q=X.length;let Y=!1;for(let G=0;G<Q;G++)if(!X[G].isEmpty()){Y=!0;break}if(!Y){if(this._lastOvertyped.length!==0)this._lastOvertyped.length=0;return}this._lastOvertyped=[];const Z=J.getModel();for(let G=0;G<Q;G++){const q=X[G];if(Z.getValueLengthInRange(q)>jW._maxSelectionLength)return;this._lastOvertyped[G]={value:Z.getValueInRange(q),multiline:q.startLineNumber!==q.endLineNumber}}})),this._disposables.add($.onDidTrigger((X)=>{this._locked=!0})),this._disposables.add($.onDidCancel((X)=>{this._locked=!1}))}getLastOvertypedInfo(J){if(J>=0&&J<this._lastOvertyped.length)return this._lastOvertyped[J];return}dispose(){this._disposables.dispose()}}jW._maxSelectionLength=51200;D0();G2();u1();D1();F0();X0();y3();o0();q1();V0(".monaco-editor .suggest-widget{z-index:40;border-radius:3px;flex-direction:column;width:430px;display:flex}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-widget,.monaco-editor .suggest-details{border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background);flex:0 auto;width:100%}.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-light .suggest-widget,.monaco-editor.hc-light .suggest-details{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;border-top:1px solid var(--vscode-editorSuggestWidget-border);flex-flow:row;justify-content:space-between;width:100%;padding:0 4px;font-size:80%;display:none;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:\", \";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{width:100%;height:100%}.monaco-editor .suggest-widget .monaco-list{-webkit-user-select:none;user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{-mox-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;cursor:pointer;touch-action:none;background-position:2px 2px;background-repeat:no-repeat;padding-right:10px;display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;padding-left:2px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{text-overflow:ellipsis;white-space:pre;justify-content:space-between;display:flex;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;cursor:pointer;font-size:14px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{text-overflow:ellipsis;opacity:.6;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{opacity:.4;font-size:85%;line-height:initial;text-overflow:ellipsis;align-self:center;margin-left:12px;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{text-overflow:ellipsis;white-space:nowrap;margin-left:1.1em;font-size:85%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-grow:1;flex-shrink:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{flex-shrink:4;max-width:70%;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{visibility:hidden;width:18px;height:18px;display:inline-block;position:absolute;right:10px}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{background-position:50%;background-repeat:no-repeat;background-size:80%;width:16px;height:16px;margin-left:2px;display:block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{align-items:center;margin-right:4px;display:flex}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{border:.1em solid #000;width:.7em;height:.7em;margin:0 0 0 .3em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{cursor:default;color:var(--vscode-editorSuggestWidget-foreground);flex-direction:column;display:flex}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;width:100%;height:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{text-overflow:ellipsis;opacity:.7;white-space:pre;flex:2;margin:0 24px 0 0;padding:4px 0 12px 5px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{white-space:pre-wrap;margin:0;padding:4px 5px}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{white-space:initial;min-height:calc(1rem + 8px);padding:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ul,.monaco-editor .suggest-details ol{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}");B5();G9();XP();g7();d9();K4();X5();m1();m0();FQ();r8();var OY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},CQ=function(J,$){return function(X,Q){$(X,Q,J)}},lR=class J extends AQ{constructor($,X,Q,Y,Z,G,q,U,H,z,V,j,W){super($,{...Y.getRawOptions(),overflowWidgetsDomNode:Y.getOverflowWidgetsDomNode()},Q,Z,G,q,U,H,z,V,j,W);this._parentEditor=Y,this._overwriteOptions=X,super.updateOptions(this._overwriteOptions),this._register(Y.onDidChangeConfiguration((B)=>this._onParentConfigurationChanged(B)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged($){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions($){VM(this._overwriteOptions,$,!0),super.updateOptions(this._overwriteOptions)}};lR=OY0([CQ(4,g0),CQ(5,l1),CQ(6,B6),CQ(7,v0),CQ(8,a8),CQ(9,i6),CQ(10,_7),CQ(11,N8),CQ(12,K1)],lR);D0();o$();X0();h0();JD();DJ();m1();m0();var TY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},kS=function(J,$){return function(X,Q){$(X,Q,J)}};class IS extends JU{updateLabel(){const J=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!J)return super.updateLabel();if(this.label)this.label.textContent=F({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,IS.symbolPrintEnter(J))}static symbolPrintEnter(J){var $;return($=J.getLabel())===null||$===void 0?void 0:$.replace(/\benter\b/gi,"\u23CE")}}var dR=class J{constructor($,X,Q,Y,Z){this._menuId=X,this._menuService=Y,this._contextKeyService=Z,this._menuDisposables=new r,this.element=Z0($,q0(".suggest-status-bar"));const G=(q)=>{return q instanceof AJ?Q.createInstance(IS,q,void 0):void 0};this._leftActions=new W7(this.element,{actionViewItemProvider:G}),this._rightActions=new W7(this.element,{actionViewItemProvider:G}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const $=this._menuService.createMenu(this._menuId,this._contextKeyService),X=()=>{const Q=[],Y=[];for(let[Z,G]of $.getActions())if(Z==="left")Q.push(...G);else Y.push(...G);this._leftActions.clear(),this._leftActions.push(Q),this._rightActions.clear(),this._rightActions.push(Y)};this._menuDisposables.add($.onDidChange(()=>X())),this._menuDisposables.add($)}hide(){this._menuDisposables.clear()}};dR=TY0([kS(2,g0),kS(3,PJ),kS(4,v0)],dR);q1();V0(".monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-value,.monaco-editor .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-enum{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}");h0();L7();var a$1=k("symbolIcon.arrayForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r$1=k("symbolIcon.booleanForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i$1=k("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n$1=k("symbolIcon.colorForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o$1=k("symbolIcon.constantForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t$1=k("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e$1=k("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JX1=k("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$X1=k("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},F("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XX1=k("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QX1=k("symbolIcon.fileForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YX1=k("symbolIcon.folderForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZX1=k("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GX1=k("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qX1=k("symbolIcon.keyForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UX1=k("symbolIcon.keywordForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HX1=k("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},F("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zX1=k("symbolIcon.moduleForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VX1=k("symbolIcon.namespaceForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jX1=k("symbolIcon.nullForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),WX1=k("symbolIcon.numberForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BX1=k("symbolIcon.objectForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FX1=k("symbolIcon.operatorForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KX1=k("symbolIcon.packageForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AX1=k("symbolIcon.propertyForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),PX1=k("symbolIcon.referenceForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),DX1=k("symbolIcon.snippetForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RX1=k("symbolIcon.stringForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),MX1=k("symbolIcon.structForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),OX1=k("symbolIcon.textForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),TX1=k("symbolIcon.typeParameterForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),NX1=k("symbolIcon.unitForeground",{dark:Q0,light:Q0,hcDark:Q0,hcLight:Q0},F("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_X1=k("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},F("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));h0();m1();m0();t3();L7();nX();r8();D0();HD();F0();X0();class WW{constructor(){this._onDidWillResize=new y,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y,this.onDidResize=this._onDidResize.event,this._sashListener=new r,this._size=new d1(0,0),this._minSize=new d1(0,0),this._maxSize=new d1(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new B7(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new B7(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new B7(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Jj.North}),this._southSash=new B7(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Jj.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let J,$=0,X=0;this._sashListener.add(J0.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{if(J===void 0)this._onDidWillResize.fire(),J=this._size,$=0,X=0})),this._sashListener.add(J0.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{if(J!==void 0)J=void 0,$=0,X=0,this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(this._eastSash.onDidChange((Q)=>{if(J)X=Q.currentX-Q.startX,this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,east:!0})})),this._sashListener.add(this._westSash.onDidChange((Q)=>{if(J)X=-(Q.currentX-Q.startX),this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,west:!0})})),this._sashListener.add(this._northSash.onDidChange((Q)=>{if(J)$=-(Q.currentY-Q.startY),this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,north:!0})})),this._sashListener.add(this._southSash.onDidChange((Q)=>{if(J)$=Q.currentY-Q.startY,this.layout(J.height+$,J.width+X),this._onDidResize.fire({dimension:this._size,done:!1,south:!0})})),this._sashListener.add(J0.any(this._eastSash.onDidReset,this._westSash.onDidReset)((Q)=>{if(this._preferredSize)this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0})})),this._sashListener.add(J0.any(this._northSash.onDidReset,this._southSash.onDidReset)((Q)=>{if(this._preferredSize)this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0})}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(J,$,X,Q){this._northSash.state=J?3:0,this._eastSash.state=$?3:0,this._southSash.state=X?3:0,this._westSash.state=Q?3:0}layout(J=this.size.height,$=this.size.width){const{height:X,width:Q}=this._minSize,{height:Y,width:Z}=this._maxSize;J=Math.max(X,Math.min(Y,J)),$=Math.max(Q,Math.min(Z,$));const G=new d1($,J);if(!d1.equals(G,this._size))this.domNode.style.height=J+"px",this.domNode.style.width=$+"px",this._size=G,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout()}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(J){this._maxSize=J}get maxSize(){return this._maxSize}set minSize(J){this._minSize=J}get minSize(){return this._minSize}set preferredSize(J){this._preferredSize=J}get preferredSize(){return this._preferredSize}}D0();_4();z6();W6();F0();eG();X0();gE();h0();m0();function BW(J){return!!J&&Boolean(J.completion.documentation||J.completion.detail&&J.completion.detail!==J.completion.label)}var NY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},_Y0=function(J,$){return function(X,Q){$(X,Q,J)}},sR=class J{constructor($,X){this._editor=$,this._onDidClose=new y,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new r,this._renderDisposeable=new r,this._borderWidth=1,this._size=new d1(330,0),this.domNode=q0(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=X.createInstance(J2,{editor:$}),this._body=q0(".body"),this._scrollbar=new JQ(this._body,{alwaysConsumeMouseWheel:!0}),Z0(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Z0(this._body,q0(".header")),this._close=Z0(this._header,q0("span"+y0.asCSSSelector(U0.close))),this._close.title=F("details.close","Close"),this._type=Z0(this._header,q0("p.type")),this._docs=Z0(this._body,q0("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((Q)=>{if(Q.hasChanged(50))this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const $=this._editor.getOptions(),X=$.get(50),Q=X.getMassagedFontFamily(),Y=$.get(118)||X.fontSize,Z=$.get(119)||X.lineHeight,G=X.fontWeight,q=`${Y}px`,U=`${Z}px`;this.domNode.style.fontSize=q,this.domNode.style.lineHeight=`${Z/Y}`,this.domNode.style.fontWeight=G,this.domNode.style.fontFeatureSettings=X.fontFeatureSettings,this._type.style.fontFamily=Q,this._close.style.height=U,this._close.style.width=U}getLayoutInfo(){const $=this._editor.getOption(119)||this._editor.getOption(50).lineHeight,X=this._borderWidth,Q=X*2;return{lineHeight:$,borderWidth:X,borderHeight:Q,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=F("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem($,X){var Q,Y;this._renderDisposeable.clear();let{detail:Z,documentation:G}=$.completion;if(X){let q="";q+=`score: ${$.score[0]}\n`,q+=`prefix: ${(Q=$.word)!==null&&Q!==void 0?Q:"(no prefix)"}\n`,q+=`word: ${$.completion.filterText?$.completion.filterText+" (filterText)":$.textLabel}\n`,q+=`distance: ${$.distance} (localityBonus-setting)\n`,q+=`index: ${$.idx}, based on ${$.completion.sortText&&`sortText: "${$.completion.sortText}"`||"label"}\n`,q+=`commit_chars: ${(Y=$.completion.commitCharacters)===null||Y===void 0?void 0:Y.join("")}\n`,G=new f3().appendCodeblock("empty",q),Z=`Provider: ${$.provider._debugDisplayName}`}if(!X&&!BW($)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),Z){const q=Z.length>1e5?`${Z.substr(0,1e5)}\u2026`:Z;this._type.textContent=q,this._type.title=q,b5(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(q))}else C6(this._type),this._type.title="",v5(this._type),this.domNode.classList.add("no-type");if(C6(this._docs),typeof G==="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=G;else if(G){this._docs.classList.add("markdown-docs"),C6(this._docs);const q=this._markdownRenderer.render(G);this._docs.appendChild(q.element),this._renderDisposeable.add(q),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=(q)=>{q.preventDefault(),q.stopPropagation()},this._close.onclick=(q)=>{q.preventDefault(),q.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout($,X){const Q=new d1($,X);if(!d1.equals(Q,this._size))this._size=Q,Cb(this.domNode,$,X);this._scrollbar.scanDomNode()}scrollDown($=8){this._body.scrollTop+=$}scrollUp($=8){this._body.scrollTop-=$}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth($){this._borderWidth=$}get borderWidth(){return this._borderWidth}};sR=NY0([_Y0(1,g0)],sR);class yS{constructor(J,$){this.widget=J,this._editor=$,this.allowEditorOverflow=!0,this._disposables=new r,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new WW,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(J.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let X,Q,Y=0,Z=0;this._disposables.add(this._resizable.onDidWillResize(()=>{X=this._topLeft,Q=this._resizable.size})),this._disposables.add(this._resizable.onDidResize((G)=>{if(X&&Q){this.widget.layout(G.dimension.width,G.dimension.height);let q=!1;if(G.west)Z=Q.width-G.dimension.width,q=!0;if(G.north)Y=Q.height-G.dimension.height,q=!0;if(q)this._applyTopLeft({top:X.top+Y,left:X.left+Z})}if(G.done)X=void 0,Q=void 0,Y=0,Z=0,this._userSize=G.dimension})),this._disposables.add(this.widget.onDidChangeContents(()=>{var G;if(this._anchorBox)this._placeAtAnchor(this._anchorBox,(G=this._userSize)!==null&&G!==void 0?G:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){if(!this._added)this._editor.addOverlayWidget(this),this._added=!0}hide(J=!1){if(this._resizable.clearSashHoverState(),this._added)this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0;if(J)this._userSize=void 0,this.widget.clearContents()}placeAtAnchor(J,$){var X;const Q=J.getBoundingClientRect();this._anchorBox=Q,this._preferAlignAtTop=$,this._placeAtAnchor(this._anchorBox,(X=this._userSize)!==null&&X!==void 0?X:this.widget.size,$)}_placeAtAnchor(J,$,X){var Q;const Y=j$(this.getDomNode().ownerDocument.body),Z=this.widget.getLayoutInfo(),G=new d1(220,2*Z.lineHeight),q=J.top,U=function(){const O=Y.width-(J.left+J.width+Z.borderWidth+Z.horizontalPadding),_=-Z.borderWidth+J.left+J.width,w=new d1(O,Y.height-J.top-Z.borderHeight-Z.verticalPadding),C=w.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:_,fit:O-$.width,maxSizeTop:w,maxSizeBottom:C,minSize:G.with(Math.min(O,G.width))}}(),H=function(){const O=J.left-Z.borderWidth-Z.horizontalPadding,_=Math.max(Z.horizontalPadding,J.left-$.width-Z.borderWidth),w=new d1(O,Y.height-J.top-Z.borderHeight-Z.verticalPadding),C=w.with(void 0,J.top+J.height-Z.borderHeight-Z.verticalPadding);return{top:q,left:_,fit:O-$.width,maxSizeTop:w,maxSizeBottom:C,minSize:G.with(Math.min(O,G.width))}}(),z=function(){const O=J.left,_=-Z.borderWidth+J.top+J.height,w=new d1(J.width-Z.borderHeight,Y.height-J.top-J.height-Z.verticalPadding);return{top:_,left:O,fit:w.height-$.height,maxSizeBottom:w,maxSizeTop:w,minSize:G.with(w.width)}}(),V=[U,H,z],j=(Q=V.find((O)=>O.fit>=0))!==null&&Q!==void 0?Q:V.sort((O,_)=>_.fit-O.fit)[0],W=J.top+J.height-Z.borderHeight;let B,K=$.height;const P=Math.max(j.maxSizeTop.height,j.maxSizeBottom.height);if(K>P)K=P;let A;if(X)if(K<=j.maxSizeTop.height)B=!0,A=j.maxSizeTop;else B=!1,A=j.maxSizeBottom;else if(K<=j.maxSizeBottom.height)B=!1,A=j.maxSizeBottom;else B=!0,A=j.maxSizeTop;let{top:D,left:R}=j;if(!B&&K>J.height)D=W-K;const M=this._editor.getDomNode();if(M){const O=M.getBoundingClientRect();D-=O.top,R-=O.left}this._applyTopLeft({left:R,top:D}),this._resizable.enableSashes(!B,j===U,B,j!==U),this._resizable.minSize=j.minSize,this._resizable.maxSize=A,this._resizable.layout(K,Math.min(A.width,$.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(J){this._topLeft=J,this._editor.layoutOverlayWidget(this)}}D0();KI();z6();W6();F0();pY();X0();e8();M7();z9();g$();wJ();var sJ;(function(J){J[J.FILE=0]="FILE",J[J.FOLDER=1]="FOLDER",J[J.ROOT_FOLDER=2]="ROOT_FOLDER"})(sJ||(sJ={}));function FW(J,$,X,Q,Y){if(Y)return[`codicon-${Y.id}`,"predefined-file-icon"];const Z=Q===sJ.ROOT_FOLDER?["rootfolder-icon"]:Q===sJ.FOLDER?["folder-icon"]:["file-icon"];if(X){let G;if(X.scheme===J1.data)G=h$.parseMetaData(X).get(h$.META_DATA_LABEL);else{const q=X.path.match(wY0);if(q){if(G=aR(q[2].toLowerCase()),q[1])Z.push(`${aR(q[1].toLowerCase())}-name-dir-icon`)}else G=aR(X.authority.toLowerCase())}if(Q===sJ.ROOT_FOLDER)Z.push(`${G}-root-name-folder-icon`);else if(Q===sJ.FOLDER)Z.push(`${G}-name-folder-icon`);else{if(G){if(Z.push(`${G}-name-file-icon`),Z.push("name-file-icon"),G.length<=255){const U=G.split(".");for(let H=1;H<U.length;H++)Z.push(`${U.slice(H).join(".")}-ext-file-icon`)}Z.push("ext-file-icon")}const q=LY0(J,$,X);if(q)Z.push(`${aR(q)}-lang-file-icon`)}}return Z}var LY0=function(J,$,X){if(!X)return null;let Q=null;if(X.scheme===J1.data){const Z=h$.parseMetaData(X).get(h$.META_DATA_MIME);if(Z)Q=$.getLanguageIdByMimeType(Z)}else{const Y=J.getModel(X);if(Y)Q=Y.getLanguageId()}if(Q&&Q!==T6)return Q;return $.guessLanguageIdByFilepathOrFirstLine(X)},aR=function(J){return J.replace(/[\11\12\14\15\40]/g,"/")},wY0=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;_X();f9();h0();KU();r8();function xS(J){return`suggest-aria-id:${J}`}var CS=function(J){return J.replace(/\r\n|\r|\n/g,"")},EY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},SS=function(J,$){return function(X,Q){$(X,Q,J)}},jZ,kY0=U5("suggest-more-info",U0.chevronRight,F("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),IY0=new(jZ=class J{extract($,X){if($.textLabel.match(jZ._regexStrict))return X[0]=$.textLabel,!0;if($.completion.detail&&$.completion.detail.match(jZ._regexStrict))return X[0]=$.completion.detail,!0;if($.completion.documentation){const Q=typeof $.completion.documentation==="string"?$.completion.documentation:$.completion.documentation.value,Y=jZ._regexRelaxed.exec(Q);if(Y&&(Y.index===0||Y.index+Y[0].length===Q.length))return X[0]=Y[0],!0}return!1}},jZ._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,jZ._regexStrict=new RegExp(`^${jZ._regexRelaxed.source}\$`,"i"),jZ),rR=class J{constructor($,X,Q,Y){this._editor=$,this._modelService=X,this._languageService=Q,this._themeService=Y,this._onDidToggleDetails=new y,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate($){const X=new r,Q=$;Q.classList.add("show-file-icons");const Y=Z0($,q0(".icon")),Z=Z0(Y,q0("span.colorspan")),G=Z0($,q0(".contents")),q=Z0(G,q0(".main")),U=Z0(q,q0(".icon-label.codicon")),H=Z0(q,q0("span.left")),z=Z0(q,q0("span.right")),V=new VU(H,{supportHighlights:!0,supportIcons:!0});X.add(V);const j=Z0(H,q0("span.signature-label")),W=Z0(H,q0("span.qualifier-label")),B=Z0(z,q0("span.details-label")),K=Z0(z,q0("span.readMore"+y0.asCSSSelector(kY0)));return K.title=F("readMore","Read More"),{root:Q,left:H,right:z,icon:Y,colorspan:Z,iconLabel:V,iconContainer:U,parametersLabel:j,qualifierLabel:W,detailsLabel:B,readMore:K,disposables:X,configureFont:()=>{const A=this._editor.getOptions(),D=A.get(50),R=D.getMassagedFontFamily(),M=D.fontFeatureSettings,O=A.get(118)||D.fontSize,_=A.get(119)||D.lineHeight,w=D.fontWeight,C=D.letterSpacing,x=`${O}px`,g=`${_}px`,c=`${C}px`;Q.style.fontSize=x,Q.style.fontWeight=w,Q.style.letterSpacing=c,q.style.fontFamily=R,q.style.fontFeatureSettings=M,q.style.lineHeight=g,Y.style.height=g,Y.style.width=g,K.style.height=g,K.style.width=g}}}renderElement($,X,Q){Q.configureFont();const{completion:Y}=$;Q.root.id=xS(X),Q.colorspan.style.backgroundColor="";const Z={labelEscapeNewLines:!0,matches:_E($.score)},G=[];if(Y.kind===19&&IY0.extract($,G))Q.icon.className="icon customcolor",Q.iconContainer.className="icon hide",Q.colorspan.style.backgroundColor=G[0];else if(Y.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){Q.icon.className="icon hide",Q.iconContainer.className="icon hide";const q=FW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),sJ.FILE),U=FW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),sJ.FILE);Z.extraClasses=q.length>U.length?q:U}else if(Y.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons)Q.icon.className="icon hide",Q.iconContainer.className="icon hide",Z.extraClasses=[FW(this._modelService,this._languageService,I0.from({scheme:"fake",path:$.textLabel}),sJ.FOLDER),FW(this._modelService,this._languageService,I0.from({scheme:"fake",path:Y.detail}),sJ.FOLDER)].flat();else Q.icon.className="icon hide",Q.iconContainer.className="",Q.iconContainer.classList.add("suggest-icon",...y0.asClassNameArray(vZ.toIcon(Y.kind)));if(Y.tags&&Y.tags.indexOf(1)>=0)Z.extraClasses=(Z.extraClasses||[]).concat(["deprecated"]),Z.matches=[];if(Q.iconLabel.setLabel($.textLabel,void 0,Z),typeof Y.label==="string")Q.parametersLabel.textContent="",Q.detailsLabel.textContent=CS(Y.detail||""),Q.root.classList.add("string-label");else Q.parametersLabel.textContent=CS(Y.label.detail||""),Q.detailsLabel.textContent=CS(Y.label.description||""),Q.root.classList.remove("string-label");if(this._editor.getOption(117).showInlineDetails)b5(Q.detailsLabel);else v5(Q.detailsLabel);if(BW($))Q.right.classList.add("can-expand-details"),b5(Q.readMore),Q.readMore.onmousedown=(q)=>{q.stopPropagation(),q.preventDefault()},Q.readMore.onclick=(q)=>{q.stopPropagation(),q.preventDefault(),this._onDidToggleDetails.fire()};else Q.right.classList.remove("can-expand-details"),v5(Q.readMore),Q.readMore.onmousedown=null,Q.readMore.onclick=null}disposeTemplate($){$.disposables.dispose()}};rR=EY0([SS(1,j6),SS(2,e1),SS(3,a8)],rR);e3();VY();var yY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},iR=function(J,$){return function(X,Q){$(X,Q,J)}},fU;k("editorSuggestWidget.background",{dark:C8,light:C8,hcDark:C8,hcLight:C8},F("editorSuggestWidgetBackground","Background color of the suggest widget."));k("editorSuggestWidget.border",{dark:R4,light:R4,hcDark:R4,hcLight:R4},F("editorSuggestWidgetBorder","Border color of the suggest widget."));var nR=k("editorSuggestWidget.foreground",{dark:_$,light:_$,hcDark:_$,hcLight:_$},F("editorSuggestWidgetForeground","Foreground color of the suggest widget."));k("editorSuggestWidget.selectedForeground",{dark:w$,light:w$,hcDark:w$,hcLight:w$},F("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));k("editorSuggestWidget.selectedIconForeground",{dark:iX,light:iX,hcDark:iX,hcLight:iX},F("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));var SY0=k("editorSuggestWidget.selectedBackground",{dark:L$,light:L$,hcDark:L$,hcLight:L$},F("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));k("editorSuggestWidget.highlightForeground",{dark:rX,light:rX,hcDark:rX,hcLight:rX},F("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));k("editorSuggestWidget.focusHighlightForeground",{dark:Lz,light:Lz,hcDark:Lz,hcLight:Lz},F("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));k("editorSuggestWidgetStatus.foreground",{dark:L0(nR,0.5),light:L0(nR,0.5),hcDark:L0(nR,0.5),hcLight:L0(nR,0.5)},F("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Ce{constructor(J,$){this._service=J,this._key=`suggestWidget.size/${$.getEditorType()}/${$ instanceof lR}`}restore(){var J;const $=(J=this._service.get(this._key,0))!==null&&J!==void 0?J:"";try{const X=JSON.parse($);if(d1.is(X))return d1.lift(X)}catch(X){}return}store(J){this._service.store(this._key,JSON.stringify(J),0,1)}reset(){this._service.remove(this._key,0)}}var hU=fU=class J{constructor($,X,Q,Y,Z){this.editor=$,this._storageService=X,this._state=0,this._isAuto=!1,this._pendingLayout=new m6,this._pendingShowDetails=new m6,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new N7,this._disposables=new r,this._onDidSelect=new VJ,this._onDidFocus=new VJ,this._onDidHide=new y,this._onDidShow=new y,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new WW,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new xe(this,$),this._persistedSize=new Ce(X,$);class G{constructor(j,W,B=!1,K=!1){this.persistedSize=j,this.currentSize=W,this.persistHeight=B,this.persistWidth=K}}let q;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),q=new G(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize((j)=>{var W,B,K,P;if(this._resize(j.dimension.width,j.dimension.height),q)q.persistHeight=q.persistHeight||!!j.north||!!j.south,q.persistWidth=q.persistWidth||!!j.east||!!j.west;if(!j.done)return;if(q){const{itemHeight:A,defaultSize:D}=this.getLayoutInfo(),R=Math.round(A/2);let{width:M,height:O}=this.element.size;if(!q.persistHeight||Math.abs(q.currentSize.height-O)<=R)O=(B=(W=q.persistedSize)===null||W===void 0?void 0:W.height)!==null&&B!==void 0?B:D.height;if(!q.persistWidth||Math.abs(q.currentSize.width-M)<=R)M=(P=(K=q.persistedSize)===null||K===void 0?void 0:K.width)!==null&&P!==void 0?P:D.width;this._persistedSize.store(new d1(M,O))}this._contentWidget.unlockPreference(),q=void 0})),this._messageElement=Z0(this.element.domNode,q0(".message")),this._listElement=Z0(this.element.domNode,q0(".tree"));const U=this._disposables.add(Z.createInstance(sR,this.editor));U.onDidClose(this.toggleDetails,this,this._disposables),this._details=new yS(U,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(117).showIcons);H();const z=Z.createInstance(rR,this.editor);this._disposables.add(z),this._disposables.add(z.onDidToggleDetails(()=>this.toggleDetails())),this._list=new d7("SuggestWidget",this._listElement,{getHeight:(j)=>this.getLayoutInfo().itemHeight,getTemplateId:(j)=>"suggestion"},[z],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>F("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:(j)=>{let W=j.textLabel;if(typeof j.completion.label!=="string"){const{detail:A,description:D}=j.completion.label;if(A&&D)W=F("label.full","{0} {1}, {2}",W,A,D);else if(A)W=F("label.detail","{0} {1}",W,A);else if(D)W=F("label.desc","{0}, {1}",W,D)}if(!j.isResolved||!this._isDetailsVisible())return W;const{documentation:B,detail:K}=j.completion,P=aQ("{0}{1}",K||"",B?typeof B==="string"?B:B.value:"");return F("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",W,P)}}}),this._list.style(wQ({listInactiveFocusBackground:SY0,listInactiveFocusOutline:j8})),this._status=Z.createInstance(dR,this.element.domNode,GX);const V=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(117).showStatusBar);V(),this._disposables.add(Y.onDidColorThemeChange((j)=>this._onThemeChange(j))),this._onThemeChange(Y.getColorTheme()),this._disposables.add(this._list.onMouseDown((j)=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onTap((j)=>this._onListMouseDownOrTap(j))),this._disposables.add(this._list.onDidChangeSelection((j)=>this._onListSelection(j))),this._disposables.add(this._list.onDidChangeFocus((j)=>this._onListFocus(j))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration((j)=>{if(j.hasChanged(117))V(),H();if(this._completionModel&&(j.hasChanged(50)||j.hasChanged(118)||j.hasChanged(119)))this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Q1.Visible.bindTo(Q),this._ctxSuggestWidgetDetailsVisible=Q1.DetailsVisible.bindTo(Q),this._ctxSuggestWidgetMultipleSuggestions=Q1.MultipleSuggestions.bindTo(Q),this._ctxSuggestWidgetHasFocusedSuggestion=Q1.HasFocusedSuggestion.bindTo(Q),this._disposables.add(i1(this._details.widget.domNode,"keydown",(j)=>{this._onDetailsKeydown.fire(j)})),this._disposables.add(this.editor.onMouseDown((j)=>this._onEditorMouseDown(j)))}dispose(){var $;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown($){if(this._details.widget.domNode.contains($.target.element))this._details.widget.domNode.focus();else if(this.element.domNode.contains($.target.element))this.editor.focus()}_onCursorSelectionChanged(){if(this._state!==0)this._contentWidget.layout()}_onListMouseDownOrTap($){if(typeof $.element==="undefined"||typeof $.index==="undefined")return;$.browserEvent.preventDefault(),$.browserEvent.stopPropagation(),this._select($.element,$.index)}_onListSelection($){if($.elements.length)this._select($.elements[0],$.indexes[0])}_select($,X){const Q=this._completionModel;if(Q)this._onDidSelect.fire({item:$,index:X,model:Q}),this.editor.focus()}_onThemeChange($){this._details.widget.borderWidth=IJ($.type)?2:1}_onListFocus($){var X;if(this._ignoreFocusEvents)return;if(!$.elements.length){if(this._currentSuggestionDetails)this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0;this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Q=$.elements[0],Y=$.indexes[0];if(Q!==this._focusedItem)(X=this._currentSuggestionDetails)===null||X===void 0||X.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Q,this._list.reveal(Y),this._currentSuggestionDetails=iZ(async(Z)=>{const G=nQ(()=>{if(this._isDetailsVisible())this.showDetails(!0)},250),q=Z.onCancellationRequested(()=>G.dispose());try{return await Q.resolve(Z)}finally{G.dispose(),q.dispose()}}),this._currentSuggestionDetails.then(()=>{if(Y>=this._list.length||Q!==this._list.element(Y))return;if(this._ignoreFocusEvents=!0,this._list.splice(Y,1,[Q]),this._list.setFocus([Y]),this._ignoreFocusEvents=!1,this._isDetailsVisible())this.showDetails(!1);else this.element.domNode.classList.remove("docs-side");this.editor.setAriaOptions({activeDescendant:xS(Y)})}).catch(n0);this._onDidFocus.fire({item:Q,index:Y,model:this._completionModel})}_setState($){if(this._state===$)return;switch(this._state=$,this.element.domNode.classList.toggle("frozen",$===4),this.element.domNode.classList.remove("message"),$){case 0:v5(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=fU.LOADING_MESSAGE,v5(this._listElement,this._status.element),b5(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,P$(fU.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=fU.NO_SUGGESTIONS_MESSAGE,v5(this._listElement,this._status.element),b5(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,P$(fU.NO_SUGGESTIONS_MESSAGE);break;case 3:v5(this._messageElement),b5(this._listElement,this._status.element),this._show();break;case 4:v5(this._messageElement),b5(this._listElement,this._status.element),this._show();break;case 5:v5(this._messageElement),b5(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered($,X){if(this._state!==0)return;if(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!$,!this._isAuto)this._loadingTimeout=nQ(()=>this._setState(1),X)}showSuggestions($,X,Q,Y,Z){var G,q;if(this._contentWidget.setPosition(this.editor.getPosition()),(G=this._loadingTimeout)===null||G===void 0||G.dispose(),(q=this._currentSuggestionDetails)===null||q===void 0||q.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==$)this._completionModel=$;if(Q&&this._state!==2&&this._state!==0){this._setState(4);return}const U=this._completionModel.items.length,H=U===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(U>1),H){this._setState(Y?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Q?4:3),this._list.reveal(X,0),this._list.setFocus(Z?[]:[X])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Vq(B0(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){if(this._list.length>0)this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel};return}toggleDetailsFocus(){if(this._state===5)this._setState(3),this._details.widget.domNode.classList.remove("focused");else if(this._state===3&&this._isDetailsVisible())this._setState(5),this._details.widget.domNode.classList.add("focused")}toggleDetails(){if(this._isDetailsVisible())this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details");else if((BW(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4))this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1)}showDetails($){this._pendingShowDetails.value=Vq(B0(this.element.domNode),()=>{if(this._pendingShowDetails.clear(),this._details.show(),$)this._details.widget.renderLoading();else this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode);if(!this._details.widget.isEmpty)this._positionDetails(),this.element.domNode.classList.add("shows-details");else this._details.hide();this.editor.focus()})}toggleExplainMode(){if(this._list.getFocusedElements()[0])if(this._explainMode=!this._explainMode,!this._isDetailsVisible())this.toggleDetails();else this.showDetails(!1)}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var $;this._pendingLayout.clear(),this._pendingShowDetails.clear(),($=this._loadingTimeout)===null||$===void 0||$.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const X=this._persistedSize.restore(),Q=Math.ceil(this.getLayoutInfo().itemHeight*4.3);if(X&&X.height<Q)this._persistedSize.store(X.with(void 0,Q))}isFrozen(){return this._state===4}_afterRender($){if($===null){if(this._isDetailsVisible())this._details.hide();return}if(this._state===2||this._state===1)return;if(this._isDetailsVisible()&&!this._details.widget.isEmpty)this._details.show();this._positionDetails()}_layout($){var X,Q,Y;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const Z=j$(this.element.domNode.ownerDocument.body),G=this.getLayoutInfo();if(!$)$=G.defaultSize;let{height:q,width:U}=$;if(this._status.element.style.height=`${G.itemHeight}px`,this._state===2||this._state===1)q=G.itemHeight+G.borderHeight,U=G.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new d1(U,q),this._contentWidget.setPreference(2);else{const H=Z.width-G.borderHeight-2*G.horizontalPadding;if(U>H)U=H;const z=this._completionModel?this._completionModel.stats.pLabelLen*G.typicalHalfwidthCharacterWidth:U,V=G.statusBarHeight+this._list.contentHeight+G.borderHeight,j=G.itemHeight+G.statusBarHeight,W=M6(this.editor.getDomNode()),B=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),K=W.top+B.top+B.height,P=Math.min(Z.height-K-G.verticalPadding,V),A=W.top+B.top-G.verticalPadding,D=Math.min(A,V);let R=Math.min(Math.max(D,P)+G.borderHeight,V);if(q===((X=this._cappedHeight)===null||X===void 0?void 0:X.capped))q=this._cappedHeight.wanted;if(q<j)q=j;if(q>R)q=R;const M=150;if(q>P||this._forceRenderingAbove&&A>M)this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),R=D;else this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),R=P;this.element.preferredSize=new d1(z,G.defaultSize.height),this.element.maxSize=new d1(H,R),this.element.minSize=new d1(220,j),this._cappedHeight=q===V?{wanted:(Y=(Q=this._cappedHeight)===null||Q===void 0?void 0:Q.wanted)!==null&&Y!==void 0?Y:$.height,capped:q}:void 0}this._resize(U,q)}_resize($,X){const{width:Q,height:Y}=this.element.maxSize;$=Math.min(Q,$),X=Math.min(Y,X);const{statusBarHeight:Z}=this.getLayoutInfo();this._list.layout(X-Z,$),this._listElement.style.height=`${X-Z}px`,this.element.layout(X,$),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var $;if(this._isDetailsVisible())this._details.placeAtAnchor(this.element.domNode,(($=this._contentWidget.getPosition())===null||$===void 0?void 0:$.preference[0])===2)}getLayoutInfo(){const $=this.editor.getOption(50),X=n6(this.editor.getOption(119)||$.lineHeight,8,1000),Q=!this.editor.getOption(117).showStatusBar||this._state===2||this._state===1?0:X,Y=this._details.widget.borderWidth,Z=2*Y;return{itemHeight:X,statusBarHeight:Q,borderWidth:Y,borderHeight:Z,typicalHalfwidthCharacterWidth:$.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new d1(430,Q+12*X+Z)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible($){this._storageService.store("expandSuggestionDocs",$,0,0)}forceRenderingAbove(){if(!this._forceRenderingAbove)this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore())}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};hU.LOADING_MESSAGE=F("suggestWidget.loading","Loading...");hU.NO_SUGGESTIONS_MESSAGE=F("suggestWidget.noSuggestions","No suggestions.");hU=fU=yY0([iR(1,b4),iR(2,v0),iR(3,a8),iR(4,g0)],hU);class xe{constructor(J,$){this._widget=J,this._editor=$,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){if(this._added)this._added=!1,this._editor.removeContentWidget(this)}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){if(this._hidden=!1,!this._added)this._added=!0,this._editor.addContentWidget(this)}hide(){if(!this._hidden)this._hidden=!0,this.layout()}layout(){this._editor.layoutContentWidget(this)}getPosition(){if(this._hidden||!this._position||!this._preference)return null;return{position:this._position,preference:[this._preference]}}beforeRender(){const{height:J,width:$}=this._widget.element.size,{borderWidth:X,horizontalPadding:Q}=this._widget.getLayoutInfo();return new d1($+2*X+Q,J+2*X)}afterRender(J){this._widget._afterRender(J)}setPreference(J){if(!this._preferenceLocked)this._preference=J}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(J){this._position=J}}iQ();g$();tQ();D0();CY();var CY0=function(J,$,X,Q){var Y=arguments.length,Z=Y<3?$:Q===null?Q=Object.getOwnPropertyDescriptor($,X):Q,G;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")Z=Reflect.decorate(J,$,X,Q);else for(var q=J.length-1;q>=0;q--)if(G=J[q])Z=(Y<3?G(Z):Y>3?G($,X,Z):G($,X))||Z;return Y>3&&Z&&Object.defineProperty($,X,Z),Z},gU=function(J,$){return function(X,Q){$(X,Q,J)}},bS,xY0=!1;class be{constructor(J,$){if(this._model=J,this._position=$,this._decorationOptions=E1.register({description:"suggest-line-suffix",stickiness:1}),J.getLineMaxColumn($.lineNumber)!==$.column){const Q=J.getOffsetAt($),Y=J.getPositionAt(Q+1);J.changeDecorations((Z)=>{if(this._marker)Z.removeDecoration(this._marker);this._marker=Z.addDecoration(L.fromPositions($,Y),this._decorationOptions)})}}dispose(){if(this._marker&&!this._model.isDisposed())this._model.changeDecorations((J)=>{J.removeDecoration(this._marker),this._marker=void 0})}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const $=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt($.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}var WZ=bS=class J{static get($){return $.getContribution(bS.ID)}constructor($,X,Q,Y,Z,G,q){this._memoryService=X,this._commandService=Q,this._contextKeyService=Y,this._instantiationService=Z,this._logService=G,this._telemetryService=q,this._lineSuffix=new m6,this._toDispose=new r,this._selectors=new ve((V)=>V.priority),this._onWillInsertSuggestItem=new y,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=$,this.model=Z.createInstance(cR,this.editor),this._selectors.register({priority:0,select:(V,j,W)=>this._memoryService.select(V,j,W)});const U=Q1.InsertMode.bindTo(Y);U.set($.getOption(117).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>U.set($.getOption(117).insertMode))),this.widget=this._toDispose.add(new hH(B0($.getDomNode()),()=>{const V=this._instantiationService.createInstance(hU,this.editor);this._toDispose.add(V),this._toDispose.add(V.onDidSelect((P)=>this._insertSuggestion(P,0),this));const j=new LS(this.editor,V,this.model,(P)=>this._insertSuggestion(P,2));this._toDispose.add(j);const W=Q1.MakesTextEdit.bindTo(this._contextKeyService),B=Q1.HasInsertAndReplaceRange.bindTo(this._contextKeyService),K=Q1.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(K0(()=>{W.reset(),B.reset(),K.reset()})),this._toDispose.add(V.onDidFocus(({item:P})=>{const A=this.editor.getPosition(),D=P.editStart.column,R=A.column;let M=!0;if(this.editor.getOption(1)==="smart"&&this.model.state===2&&!P.completion.additionalTextEdits&&!(P.completion.insertTextRules&4)&&R-D===P.completion.insertText.length)M=this.editor.getModel().getValueInRange({startLineNumber:A.lineNumber,startColumn:D,endLineNumber:A.lineNumber,endColumn:R})!==P.completion.insertText;W.set(M),B.set(!v.equals(P.editInsertEnd,P.editReplaceEnd)),K.set(Boolean(P.provider.resolveCompletionItem)||Boolean(P.completion.documentation)||P.completion.detail!==P.completion.label)})),this._toDispose.add(V.onDetailsKeyDown((P)=>{if(P.toKeyCodeChord().equals(new E9(!0,!1,!1,!1,33))||a0&&P.toKeyCodeChord().equals(new E9(!1,!1,!1,!0,33))){P.stopPropagation();return}if(!P.toKeyCodeChord().isModifierKey())this.editor.focus()})),V})),this._overtypingCapturer=this._toDispose.add(new hH(B0($.getDomNode()),()=>{return this._toDispose.add(new jW(this.editor,this.model))})),this._alternatives=this._toDispose.add(new hH(B0($.getDomNode()),()=>{return this._toDispose.add(new UZ(this.editor,this._contextKeyService))})),this._toDispose.add(Z.createInstance(vU,$)),this._toDispose.add(this.model.onDidTrigger((V)=>{this.widget.value.showTriggered(V.auto,V.shy?250:50),this._lineSuffix.value=new be(this.editor.getModel(),V.position)})),this._toDispose.add(this.model.onDidSuggest((V)=>{if(V.triggerOptions.shy)return;let j=-1;for(let B of this._selectors.itemsOrderedByPriorityDesc)if(j=B.select(this.editor.getModel(),this.editor.getPosition(),V.completionModel.items),j!==-1)break;if(j===-1)j=0;if(this.model.state===0)return;let W=!1;if(V.triggerOptions.auto){const B=this.editor.getOption(117);if(B.selectionMode==="never"||B.selectionMode==="always")W=B.selectionMode==="never";else if(B.selectionMode==="whenTriggerCharacter")W=V.triggerOptions.triggerKind!==1;else if(B.selectionMode==="whenQuickSuggestion")W=V.triggerOptions.triggerKind===1&&!V.triggerOptions.refilter}this.widget.value.showSuggestions(V.completionModel,j,V.isFrozen,V.triggerOptions.auto,W)})),this._toDispose.add(this.model.onDidCancel((V)=>{if(!V.retrigger)this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{if(!xY0)this.model.cancel(),this.model.clear()}));const H=Q1.AcceptSuggestionsOnEnter.bindTo(Y),z=()=>{const V=this.editor.getOption(1);H.set(V==="on"||V==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion($,X){if(!$||!$.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Q=f6.get(this.editor);if(!Q)return;this._onWillInsertSuggestItem.fire({item:$.item});const Y=this.editor.getModel(),Z=Y.getAlternativeVersionId(),{item:G}=$,q=[],U=new H6;if(!(X&1))this.editor.pushUndoStop();const H=this.getOverwriteInfo(G,Boolean(X&8));this._memoryService.memorize(Y,this.editor.getPosition(),G);const z=G.isResolved;let V=-1,j=-1;if(Array.isArray(G.completion.additionalTextEdits)){this.model.cancel();const B=mJ.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",G.completion.additionalTextEdits.map((K)=>{let P=L.lift(K.range);if(P.startLineNumber===G.position.lineNumber&&P.startColumn>G.position.column){const A=this.editor.getPosition().column-G.position.column,D=A,R=L.spansMultipleLines(P)?0:A;P=new L(P.startLineNumber,P.startColumn+D,P.endLineNumber,P.endColumn+R)}return i9.replaceMove(P,K.text)})),B.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!z){const B=new U6;let K;const P=Y.onDidChangeContent((M)=>{if(M.isFlush){U.cancel(),P.dispose();return}for(let O of M.changes){const _=L.getEndPosition(O.range);if(!K||v.isBefore(_,K))K=_}}),A=X;X|=2;let D=!1;const R=this.editor.onWillType(()=>{if(R.dispose(),D=!0,!(A&2))this.editor.pushUndoStop()});q.push(G.resolve(U.token).then(()=>{if(!G.completion.additionalTextEdits||U.token.isCancellationRequested)return;if(K&&G.completion.additionalTextEdits.some((O)=>v.isBefore(K,L.getStartPosition(O.range))))return!1;if(D)this.editor.pushUndoStop();const M=mJ.capture(this.editor);if(this.editor.executeEdits("suggestController.additionalTextEdits.async",G.completion.additionalTextEdits.map((O)=>i9.replaceMove(L.lift(O.range),O.text))),M.restoreRelativeVerticalPositionOfCursor(this.editor),D||!(A&2))this.editor.pushUndoStop();return!0}).then((M)=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",B.elapsed(),M),j=M===!0?1:M===!1?0:-2}).finally(()=>{P.dispose(),R.dispose()}))}let{insertText:W}=G.completion;if(!(G.completion.insertTextRules&4))W=qZ.escape(W);if(this.model.cancel(),Q.insert(W,{overwriteBefore:H.overwriteBefore,overwriteAfter:H.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(G.completion.insertTextRules&1),clipboardText:$.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),!(X&2))this.editor.pushUndoStop();if(G.completion.command)if(G.completion.command.id===KW.id)this.model.trigger({auto:!0,retrigger:!0});else{const B=new U6;q.push(this._commandService.executeCommand(G.completion.command.id,...G.completion.command.arguments?[...G.completion.command.arguments]:[]).catch((K)=>{if(G.completion.extensionId)J$(K);else n0(K)}).finally(()=>{V=B.elapsed()}))}if(X&4)this._alternatives.value.set($,(B)=>{U.cancel();while(Y.canUndo()){if(Z!==Y.getAlternativeVersionId())Y.undo();this._insertSuggestion(B,1|2|(X&8?8:0));break}});this._alertCompletionItem(G),Promise.all(q).finally(()=>{this._reportSuggestionAcceptedTelemetry(G,Y,z,V,j),this.model.clear(),U.dispose()})}_reportSuggestionAcceptedTelemetry($,X,Q,Y,Z){var G,q,U;if(Math.floor(Math.random()*100)===0)return;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(q=(G=$.extensionId)===null||G===void 0?void 0:G.value)!==null&&q!==void 0?q:"unknown",providerId:(U=$.provider._debugDisplayName)!==null&&U!==void 0?U:"unknown",kind:$.completion.kind,basenameHash:oQ(cG(X.uri)).toString(16),languageId:X.getLanguageId(),fileExtension:jc(X.uri),resolveInfo:!$.provider.resolveCompletionItem?-1:Q?1:0,resolveDuration:$.resolveDuration,commandDuration:Y,additionalEditsAsync:Z})}getOverwriteInfo($,X){q6(this.editor.hasModel());let Q=this.editor.getOption(117).insertMode==="replace";if(X)Q=!Q;const Y=$.position.column-$.editStart.column,Z=(Q?$.editReplaceEnd.column:$.editInsertEnd.column)-$.position.column,G=this.editor.getPosition().column-$.position.column,q=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:Y+G,overwriteAfter:Z+q}}_alertCompletionItem($){if(T9($.completion.additionalTextEdits)){const X=F("aria.alert.snippet","Accepting '{0}' made {1} additional edits",$.textLabel,$.completion.additionalTextEdits.length);xq(X)}}triggerSuggest($,X,Q){if(this.editor.hasModel())this.model.trigger({auto:X!==null&&X!==void 0?X:!1,completionOptions:{providerFilter:$,kindFilter:Q?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus()}triggerSuggestAndAcceptBest($){if(!this.editor.hasModel())return;const X=this.editor.getPosition(),Q=()=>{if(X.equals(this.editor.getPosition()))this._commandService.executeCommand($.fallback)},Y=(Z)=>{if(Z.completion.insertTextRules&4||Z.completion.additionalTextEdits)return!0;const G=this.editor.getPosition(),q=Z.editStart.column,U=G.column;if(U-q!==Z.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:G.lineNumber,startColumn:q,endLineNumber:G.lineNumber,endColumn:U})!==Z.completion.insertText};J0.once(this.model.onDidTrigger)((Z)=>{const G=[];J0.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{k1(G),Q()},void 0,G),this.model.onDidSuggest(({completionModel:q})=>{if(k1(G),q.items.length===0){Q();return}const U=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.items),H=q.items[U];if(!Y(H)){Q();return}this.editor.pushUndoStop(),this._insertSuggestion({index:U,item:H,model:q},4|1|2)},void 0,G)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(X,0),this.editor.focus()}acceptSelectedSuggestion($,X){const Q=this.widget.value.getFocusedItem();let Y=0;if($)Y|=4;if(X)Y|=8;this._insertSuggestion(Q,Y)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){if(!this.widget.isInitialized)return;this.widget.value.stopForceRenderingAbove()}registerSelector($){return this._selectors.register($)}};WZ.ID="editor.contrib.suggestController";WZ=bS=CY0([gU(1,_S),gU(2,B6),gU(3,v0),gU(4,g0),gU(5,Y6),gU(6,Z5)],WZ);class ve{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort(($,X)=>this.prioritySelector(X)-this.prioritySelector($)),{dispose:()=>{const $=this._items.indexOf(J);if($>=0)this._items.splice($,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class KW extends NJ{constructor(){super({id:KW.id,label:F("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:N0.and(n.writable,n.hasCompletionItemProvider,Q1.Visible.toNegated()),kbOpts:{kbExpr:n.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(J,$,X){const Q=WZ.get($);if(!Q)return;let Y;if(X&&typeof X==="object"){if(X.auto===!0)Y=!0}Q.triggerSuggest(void 0,Y,void 0)}}KW.id="editor.action.triggerSuggest";C9(WZ.ID,WZ,2);X6(KW);var O9=190,j5=f5.bindToContribution(WZ.get);w0(new j5({id:"acceptSelectedSuggestion",precondition:N0.and(Q1.Visible,Q1.HasFocusedSuggestion),handler(J){J.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:N0.and(Q1.Visible,n.textInputFocus),weight:O9},{primary:3,kbExpr:N0.and(Q1.Visible,n.textInputFocus,Q1.AcceptSuggestionsOnEnter,Q1.MakesTextEdit),weight:O9}],menuOpts:[{menuId:GX,title:F("accept.insert","Insert"),group:"left",order:1,when:Q1.HasInsertAndReplaceRange.toNegated()},{menuId:GX,title:F("accept.insert","Insert"),group:"left",order:1,when:N0.and(Q1.HasInsertAndReplaceRange,Q1.InsertMode.isEqualTo("insert"))},{menuId:GX,title:F("accept.replace","Replace"),group:"left",order:1,when:N0.and(Q1.HasInsertAndReplaceRange,Q1.InsertMode.isEqualTo("replace"))}]}));w0(new j5({id:"acceptAlternativeSelectedSuggestion",precondition:N0.and(Q1.Visible,n.textInputFocus,Q1.HasFocusedSuggestion),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(J){J.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:GX,group:"left",order:2,when:N0.and(Q1.HasInsertAndReplaceRange,Q1.InsertMode.isEqualTo("insert")),title:F("accept.replace","Replace")},{menuId:GX,group:"left",order:2,when:N0.and(Q1.HasInsertAndReplaceRange,Q1.InsertMode.isEqualTo("replace")),title:F("accept.insert","Insert")}]}));V8.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");w0(new j5({id:"hideSuggestWidget",precondition:Q1.Visible,handler:(J)=>J.cancelSuggestWidget(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:9,secondary:[1024|9]}}));w0(new j5({id:"selectNextSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}}));w0(new j5({id:"selectNextPageSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectNextPageSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:12,secondary:[2048|12]}}));w0(new j5({id:"selectLastSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectLastSuggestion()}));w0(new j5({id:"selectPrevSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}}));w0(new j5({id:"selectPrevPageSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectPrevPageSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:11,secondary:[2048|11]}}));w0(new j5({id:"selectFirstSuggestion",precondition:N0.and(Q1.Visible,N0.or(Q1.MultipleSuggestions,Q1.HasFocusedSuggestion.negate())),handler:(J)=>J.selectFirstSuggestion()}));w0(new j5({id:"focusSuggestion",precondition:N0.and(Q1.Visible,Q1.HasFocusedSuggestion.negate()),handler:(J)=>J.focusSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}}}));w0(new j5({id:"focusAndAcceptSuggestion",precondition:N0.and(Q1.Visible,Q1.HasFocusedSuggestion.negate()),handler:(J)=>{J.focusSuggestion(),J.acceptSelectedSuggestion(!0,!1)}}));w0(new j5({id:"toggleSuggestionDetails",precondition:N0.and(Q1.Visible,Q1.HasFocusedSuggestion),handler:(J)=>J.toggleSuggestionDetails(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:GX,group:"right",order:1,when:N0.and(Q1.DetailsVisible,Q1.CanResolve),title:F("detail.more","show less")},{menuId:GX,group:"right",order:1,when:N0.and(Q1.DetailsVisible.toNegated(),Q1.CanResolve),title:F("detail.less","show more")}]}));w0(new j5({id:"toggleExplainMode",precondition:Q1.Visible,handler:(J)=>J.toggleExplainMode(),kbOpts:{weight:100,primary:2048|90}}));w0(new j5({id:"toggleSuggestionFocus",precondition:Q1.Visible,handler:(J)=>J.toggleSuggestionFocus(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}}));w0(new j5({id:"insertBestCompletion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),vU.AtEnd,Q1.Visible.toNegated(),UZ.OtherSuggestions.toNegated(),f6.InSnippetMode.toNegated()),handler:(J,$)=>{J.triggerSuggestAndAcceptBest(n8($)?{fallback:"tab",...$}:{fallback:"tab"})},kbOpts:{weight:O9,primary:2}}));w0(new j5({id:"insertNextSuggestion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),UZ.OtherSuggestions,Q1.Visible.toNegated(),f6.InSnippetMode.toNegated()),handler:(J)=>J.acceptNextSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:2}}));w0(new j5({id:"insertPrevSuggestion",precondition:N0.and(n.textInputFocus,N0.equals("config.editor.tabCompletion","on"),UZ.OtherSuggestions,Q1.Visible.toNegated(),f6.InSnippetMode.toNegated()),handler:(J)=>J.acceptPrevSuggestion(),kbOpts:{weight:O9,kbExpr:n.textInputFocus,primary:1024|2}}));X6(class extends NJ{constructor(){super({id:"editor.action.resetSuggestSize",label:F("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(J,$){var X;(X=WZ.get($))===null||X===void 0||X.resetWidgetSize()}});X$();x9();h0();class fe extends NJ{constructor(){super({id:"editor.action.forceRetokenize",label:F("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(J,$){if(!$.hasModel())return;const X=$.getModel();X.tokenization.resetTokenization();const Q=new U6;X.tokenization.forceTokenization(X.getLineCount()),Q.stop(),console.log(`tokenization took ${Q.elapsed()}`)}}X6(fe);l4();l4();var p00=function(){return Promise.resolve().then(() => (h00(),f00))};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var MZ0=class{constructor(J,$,X){this._onDidChange=new US,this._languageId=J,this.setDiagnosticsOptions($),this.setModeConfiguration(X)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(J){this._diagnosticsOptions=J||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(J){this._modeConfiguration=J||Object.create(null),this._onDidChange.fire(this)}},OZ0={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},TZ0={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},g00=new MZ0("json",OZ0,TZ0),NZ0=()=>p00().then((J)=>J.getWorker());XW.json={jsonDefaults:g00,getWorker:NZ0};XW.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});XW.onLanguage("json",()=>{p00().then((J)=>J.setupMode(g00))});l4();var AZ=function(J){const $=J.id;u00[$]=J,wW.languages.register(J);const X=IZ0.getOrCreate($);wW.languages.registerTokensProviderFactory($,{create:async()=>{return(await X.load()).language}}),wW.languages.onLanguageEncountered($,async()=>{const Q=await X.load();wW.languages.setLanguageConfiguration($,Q.conf)})};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var{defineProperty:_Z0,getOwnPropertyDescriptor:wZ0,getOwnPropertyNames:LZ0}=Object,EZ0=Object.prototype.hasOwnProperty,m00=(J,$,X,Q)=>{if($&&typeof $==="object"||typeof $==="function"){for(let Y of LZ0($))if(!EZ0.call(J,Y)&&Y!==X)_Z0(J,Y,{get:()=>$[Y],enumerable:!(Q=wZ0($,Y))||Q.enumerable})}return J},kZ0=(J,$,X)=>(m00(J,$,"default"),X&&m00(X,$,"default")),wW={};kZ0(wW,JJ);var u00={},lS={},IZ0=class J{static getOrCreate($){if(!lS[$])lS[$]=new J($);return lS[$]}constructor($){this._languageId=$,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((X,Q)=>{this._lazyLoadPromiseResolve=X,this._lazyLoadPromiseReject=Q})}load(){if(!this._loadingTriggered)this._loadingTriggered=!0,u00[this._languageId].loader().then(($)=>this._lazyLoadPromiseResolve($),($)=>this._lazyLoadPromiseReject($));return this._lazyLoadPromise}};/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/AZ({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>{return Promise.resolve().then(() => (l00(),c00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/AZ({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>{return Promise.resolve().then(() => (s00(),d00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/AZ({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>{return Promise.resolve().then(() => (n00(),i00))}});/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.46.0(21007360cad28648bdf46282a2592cb47c3a7a6f)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/AZ({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>{return Promise.resolve().then(() => (e00(),t00))}});l4();GZ.defineTheme("bc",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#F9F9F9","editor.foreground":"#575E75","editor.lineHighlightBackground":"#E5F0FF","editor.lineHighlightBorder":"#E5F0FF","scrollbarSlider.background":"#CECDCE","scrollbarSlider.hoverBackground":"#CECDCE","scrollbarSlider.activeBackground":"#CECDCE"}});window.MonacoEnvironment={getWorker:(J,$)=>{switch($){case"json":return new Worker("/assets/workers/json-worker.js",{type:"module"});default:return new Worker("/assets/workers/editor-worker.js",{type:"module"})}}};async function sS(J,$){return GZ.create(J,{theme:"bc",autoClosingBrackets:"languageDefined",autoClosingDelete:"auto",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",automaticLayout:!0,bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},contextmenu:!1,copyWithSyntaxHighlighting:!0,fontSize:16,formatOnPaste:!0,inlineSuggest:{enabled:!0},minimap:{enabled:!1},hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{horizontal:"visible",horizontalScrollbarSize:6,vertical:"visible",verticalScrollbarSize:6},showDeprecated:!0,smoothScrolling:!0,...$})}q1();V0("._63dnCW_editor-wrapper{width:100%;height:100%;position:relative}._63dnCW_editor-wrapper .scrollbar.horizontal{bottom:1px!important}._63dnCW_editor-wrapper .scrollbar.vertical{right:1px!important}._63dnCW_editor-wrapper .slider{border-radius:3px;overflow:hidden}");var J10={editorWrapper:"_63dnCW_editor-wrapper"};function tZ0({onSetup:J}){const $=iZ0(null),[X,Q]=aS(0),[Y,Z]=aS(-1),[G,q]=aS(""),{fileList:U,selectedIndex:H,modifyFile:z}=oZ0(),V=H>=0&&U[H];if($.editor&&V){if(rS(V.name)!==G)q(rS(V.name)),$10($.editor,z,V);if(Y!==H||U.length!==X)Q(U.length),Z(H),$.editor.getModel().setValue(V.content),$.editor.updateOptions({readOnly:V.readOnly})}return nZ0(async()=>{if($.current){if($.editor=await sS($.current),V)Q(U.length),Z(H),q(rS(V.name)),$.editor.updateOptions({readOnly:V.readOnly});if($10($.editor,z,V),J)J($.editor)}return()=>{if($.editor)$.editor.dispose(),$.editor=null}},[$]),eZ0("div",{ref:$,className:J10.editorWrapper})}import{jsx as eZ0} from"preact/jsx-runtime";var rS=(J)=>J.split(".").at(-1),$10=(J,$,X={content:"",name:""})=>{const Q=HS.file(X.name),Y=Q.toString();let Z=GZ.getModel(Y);if(!Z)Z=GZ.createModel(X.content,void 0,Q),Z.onDidChangeContent(()=>$({content:Z.getValue()}));const G=J.getModel();J.setModel(Z),G.dispose()};export{JJ as monaco,tZ0 as CodeEditor};
